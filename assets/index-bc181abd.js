function _mergeNamespaces(_e,tt){for(var et=0;et<tt.length;et++){const nt=tt[et];if(typeof nt!="string"&&!Array.isArray(nt)){for(const rt in nt)if(rt!=="default"&&!(rt in _e)){const it=Object.getOwnPropertyDescriptor(nt,rt);it&&Object.defineProperty(_e,rt,it.get?it:{enumerable:!0,get:()=>nt[rt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const tt=document.createElement("link").relList;if(tt&&tt.supports&&tt.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))nt(rt);new MutationObserver(rt=>{for(const it of rt)if(it.type==="childList")for(const ot of it.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&nt(ot)}).observe(document,{childList:!0,subtree:!0});function et(rt){const it={};return rt.integrity&&(it.integrity=rt.integrity),rt.referrerPolicy&&(it.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?it.credentials="include":rt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(rt){if(rt.ep)return;rt.ep=!0;const it=et(rt);fetch(rt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var tt=_e.default;if(typeof tt=="function"){var et=function nt(){if(this instanceof nt){var rt=[null];rt.push.apply(rt,arguments);var it=Function.bind.apply(tt,rt);return new it}return tt.apply(this,arguments)};et.prototype=tt.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(_e).forEach(function(nt){var rt=Object.getOwnPropertyDescriptor(_e,nt);Object.defineProperty(et,nt,rt.get?rt:{enumerable:!0,get:function(){return _e[nt]}})}),et}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(_e){jsxRuntimeExports=_e}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(_e){reactExports=_e}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$7=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(_e){return _e===null||typeof _e!="object"?null:(_e=z$3&&_e[z$3]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$1={};function E$2(_e,tt,et){this.props=_e,this.context=tt,this.refs=D$1,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,tt){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,tt,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(_e,tt,et){this.props=_e,this.context=tt,this.refs=D$1,this.updater=et||B$2}var H$2=G$1.prototype=new F;H$2.constructor=G$1;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(_e,tt,et){var nt,rt={},it=null,ot=null;if(tt!=null)for(nt in tt.ref!==void 0&&(ot=tt.ref),tt.key!==void 0&&(it=""+tt.key),tt)J.call(tt,nt)&&!L$2.hasOwnProperty(nt)&&(rt[nt]=tt[nt]);var st=arguments.length-2;if(st===1)rt.children=et;else if(1<st){for(var at=Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct+2];rt.children=at}if(_e&&_e.defaultProps)for(nt in st=_e.defaultProps,st)rt[nt]===void 0&&(rt[nt]=st[nt]);return{$$typeof:l$6,type:_e,key:it,ref:ot,props:rt,_owner:K$1.current}}function N$2(_e,tt){return{$$typeof:l$6,type:_e.type,key:tt,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$1(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$6}function escape$1(_e){var tt={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(et){return tt[et]})}var P$2=/\/+/g;function Q$1(_e,tt){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):tt.toString(36)}function R$2(_e,tt,et,nt,rt){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var ot=!1;if(_e===null)ot=!0;else switch(it){case"string":case"number":ot=!0;break;case"object":switch(_e.$$typeof){case l$6:case n$7:ot=!0}}if(ot)return ot=_e,rt=rt(ot),_e=nt===""?"."+Q$1(ot,0):nt,I$2(rt)?(et="",_e!=null&&(et=_e.replace(P$2,"$&/")+"/"),R$2(rt,tt,et,"",function(ct){return ct})):rt!=null&&(O$1(rt)&&(rt=N$2(rt,et+(!rt.key||ot&&ot.key===rt.key?"":(""+rt.key).replace(P$2,"$&/")+"/")+_e)),tt.push(rt)),1;if(ot=0,nt=nt===""?".":nt+":",I$2(_e))for(var st=0;st<_e.length;st++){it=_e[st];var at=nt+Q$1(it,st);ot+=R$2(it,tt,et,at,rt)}else if(at=A$3(_e),typeof at=="function")for(_e=at.call(_e),st=0;!(it=_e.next()).done;)it=it.value,at=nt+Q$1(it,st++),ot+=R$2(it,tt,et,at,rt);else if(it==="object")throw tt=String(_e),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$3(_e,tt,et){if(_e==null)return _e;var nt=[],rt=0;return R$2(_e,nt,"","",function(it){return tt.call(et,it,rt++)}),nt}function T$2(_e){if(_e._status===-1){var tt=_e._result;tt=tt(),tt.then(function(et){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=et)},function(et){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=et)}),_e._status===-1&&(_e._status=0,_e._result=tt)}if(_e._status===1)return _e._result.default;throw _e._result}var U$1={current:null},V$2={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};react_production_min.Children={map:S$3,forEach:function(_e,tt,et){S$3(_e,function(){tt.apply(this,arguments)},et)},count:function(_e){var tt=0;return S$3(_e,function(){tt++}),tt},toArray:function(_e){return S$3(_e,function(tt){return tt})||[]},only:function(_e){if(!O$1(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$5;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(_e,tt,et){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var nt=C$2({},_e.props),rt=_e.key,it=_e.ref,ot=_e._owner;if(tt!=null){if(tt.ref!==void 0&&(it=tt.ref,ot=K$1.current),tt.key!==void 0&&(rt=""+tt.key),_e.type&&_e.type.defaultProps)var st=_e.type.defaultProps;for(at in tt)J.call(tt,at)&&!L$2.hasOwnProperty(at)&&(nt[at]=tt[at]===void 0&&st!==void 0?st[at]:tt[at])}var at=arguments.length-2;if(at===1)nt.children=et;else if(1<at){st=Array(at);for(var ct=0;ct<at;ct++)st[ct]=arguments[ct+2];nt.children=st}return{$$typeof:l$6,type:_e.type,key:rt,ref:it,props:nt,_owner:ot}};react_production_min.createContext=function(_e){return _e={$$typeof:u$2,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$4,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$2;react_production_min.createFactory=function(_e){var tt=M$2.bind(null,_e);return tt.type=_e,tt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$4,render:_e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(_e){return{$$typeof:y$2,_payload:{_status:-1,_result:_e},_init:T$2}};react_production_min.memo=function(_e,tt){return{$$typeof:x$2,type:_e,compare:tt===void 0?null:tt}};react_production_min.startTransition=function(_e){var tt=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=tt}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,tt){return U$1.current.useCallback(_e,tt)};react_production_min.useContext=function(_e){return U$1.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$1.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,tt){return U$1.current.useEffect(_e,tt)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(_e,tt,et){return U$1.current.useImperativeHandle(_e,tt,et)};react_production_min.useInsertionEffect=function(_e,tt){return U$1.current.useInsertionEffect(_e,tt)};react_production_min.useLayoutEffect=function(_e,tt){return U$1.current.useLayoutEffect(_e,tt)};react_production_min.useMemo=function(_e,tt){return U$1.current.useMemo(_e,tt)};react_production_min.useReducer=function(_e,tt,et){return U$1.current.useReducer(_e,tt,et)};react_production_min.useRef=function(_e){return U$1.current.useRef(_e)};react_production_min.useState=function(_e){return U$1.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,tt,et){return U$1.current.useSyncExternalStore(_e,tt,et)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(_e){_e.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$3=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$6=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$2(_e,tt,et){var nt,rt={},it=null,ot=null;et!==void 0&&(it=""+et),tt.key!==void 0&&(it=""+tt.key),tt.ref!==void 0&&(ot=tt.ref);for(nt in tt)m$4.call(tt,nt)&&!p$4.hasOwnProperty(nt)&&(rt[nt]=tt[nt]);if(_e&&_e.defaultProps)for(nt in tt=_e.defaultProps,tt)rt[nt]===void 0&&(rt[nt]=tt[nt]);return{$$typeof:k$3,type:_e,key:it,ref:ot,props:rt,_owner:n$6.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;(function(_e){_e.exports=reactJsxRuntime_production_min})(jsxRuntime);var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(_e){reactDomExports=_e}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(_e){schedulerExports=_e}},scheduler_production_min={};(function(_e){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function tt(on,yn){var hn=on.length;on.push(yn);e:for(;0<hn;){var un=hn-1>>>1,dn=on[un];if(0<rt(dn,yn))on[un]=yn,on[hn]=dn,hn=un;else break e}}function et(on){return on.length===0?null:on[0]}function nt(on){if(on.length===0)return null;var yn=on[0],hn=on.pop();if(hn!==yn){on[0]=hn;e:for(var un=0,dn=on.length,Nn=dn>>>1;un<Nn;){var Wn=2*(un+1)-1,pn=on[Wn],Rn=Wn+1,xn=on[Rn];if(0>rt(pn,hn))Rn<dn&&0>rt(xn,pn)?(on[un]=xn,on[Rn]=hn,un=Rn):(on[un]=pn,on[Wn]=hn,un=Wn);else if(Rn<dn&&0>rt(xn,hn))on[un]=xn,on[Rn]=hn,un=Rn;else break e}}return yn}function rt(on,yn){var hn=on.sortIndex-yn.sortIndex;return hn!==0?hn:on.id-yn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var ot=Date,st=ot.now();_e.unstable_now=function(){return ot.now()-st}}var at=[],ct=[],lt=1,dt=null,ut=3,ft=!1,pt=!1,bt=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vt(on){for(var yn=et(ct);yn!==null;){if(yn.callback===null)nt(ct);else if(yn.startTime<=on)nt(ct),yn.sortIndex=yn.expirationTime,tt(at,yn);else break;yn=et(ct)}}function Ct(on){if(bt=!1,vt(on),!pt)if(et(at)!==null)pt=!0,ln(It);else{var yn=et(ct);yn!==null&&mn(Ct,yn.startTime-on)}}function It(on,yn){pt=!1,bt&&(bt=!1,ht(kt),kt=-1),ft=!0;var hn=ut;try{for(vt(yn),dt=et(at);dt!==null&&(!(dt.expirationTime>yn)||on&&!Mt());){var un=dt.callback;if(typeof un=="function"){dt.callback=null,ut=dt.priorityLevel;var dn=un(dt.expirationTime<=yn);yn=_e.unstable_now(),typeof dn=="function"?dt.callback=dn:dt===et(at)&&nt(at),vt(yn)}else nt(at);dt=et(at)}if(dt!==null)var Nn=!0;else{var Wn=et(ct);Wn!==null&&mn(Ct,Wn.startTime-yn),Nn=!1}return Nn}finally{dt=null,ut=hn,ft=!1}}var Zt=!1,Wt=null,kt=-1,Nt=5,Lt=-1;function Mt(){return!(_e.unstable_now()-Lt<Nt)}function tn(){if(Wt!==null){var on=_e.unstable_now();Lt=on;var yn=!0;try{yn=Wt(!0,on)}finally{yn?$t():(Zt=!1,Wt=null)}}else Zt=!1}var $t;if(typeof gt=="function")$t=function(){gt(tn)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,rn=Ht.port2;Ht.port1.onmessage=tn,$t=function(){rn.postMessage(null)}}else $t=function(){Tt(tn,0)};function ln(on){Wt=on,Zt||(Zt=!0,$t())}function mn(on,yn){kt=Tt(function(){on(_e.unstable_now())},yn)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(on){on.callback=null},_e.unstable_continueExecution=function(){pt||ft||(pt=!0,ln(It))},_e.unstable_forceFrameRate=function(on){0>on||125<on?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Nt=0<on?Math.floor(1e3/on):5},_e.unstable_getCurrentPriorityLevel=function(){return ut},_e.unstable_getFirstCallbackNode=function(){return et(at)},_e.unstable_next=function(on){switch(ut){case 1:case 2:case 3:var yn=3;break;default:yn=ut}var hn=ut;ut=yn;try{return on()}finally{ut=hn}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(on,yn){switch(on){case 1:case 2:case 3:case 4:case 5:break;default:on=3}var hn=ut;ut=on;try{return yn()}finally{ut=hn}},_e.unstable_scheduleCallback=function(on,yn,hn){var un=_e.unstable_now();switch(typeof hn=="object"&&hn!==null?(hn=hn.delay,hn=typeof hn=="number"&&0<hn?un+hn:un):hn=un,on){case 1:var dn=-1;break;case 2:dn=250;break;case 5:dn=1073741823;break;case 4:dn=1e4;break;default:dn=5e3}return dn=hn+dn,on={id:lt++,callback:yn,priorityLevel:on,startTime:hn,expirationTime:dn,sortIndex:-1},hn>un?(on.sortIndex=hn,tt(ct,on),et(at)===null&&on===et(ct)&&(bt?(ht(kt),kt=-1):bt=!0,mn(Ct,hn-un))):(on.sortIndex=dn,tt(at,on),pt||ft||(pt=!0,ln(It))),on},_e.unstable_shouldYield=Mt,_e.unstable_wrapCallback=function(on){var yn=ut;return function(){var hn=ut;ut=yn;try{return on.apply(this,arguments)}finally{ut=hn}}}})(scheduler_production_min);(function(_e){_e.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(_e){for(var tt="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)tt+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+tt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,tt){ha(_e,tt),ha(_e+"Capture",tt)}function ha(_e,tt){for(ea[_e]=tt,_e=0;_e<tt.length;_e++)da.add(tt[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,tt,et,nt){if(et!==null&&et.type===0)return!1;switch(typeof tt){case"function":case"symbol":return!0;case"boolean":return nt?!1:et!==null?!et.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,tt,et,nt){if(tt===null||typeof tt>"u"||pa(_e,tt,et,nt))return!0;if(nt)return!1;if(et!==null)switch(et.type){case 3:return!tt;case 4:return tt===!1;case 5:return isNaN(tt);case 6:return isNaN(tt)||1>tt}return!1}function v$3(_e,tt,et,nt,rt,it,ot){this.acceptsBooleans=tt===2||tt===3||tt===4,this.attributeName=nt,this.attributeNamespace=rt,this.mustUseProperty=et,this.propertyName=_e,this.type=tt,this.sanitizeURL=it,this.removeEmptyString=ot}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$2[_e]=new v$3(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var tt=_e[0];z$2[tt]=new v$3(tt,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$2[_e]=new v$3(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$2[_e]=new v$3(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$2[_e]=new v$3(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$2[_e]=new v$3(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$2[_e]=new v$3(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$2[_e]=new v$3(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$2[_e]=new v$3(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var tt=_e.replace(ra,sa);z$2[tt]=new v$3(tt,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var tt=_e.replace(ra,sa);z$2[tt]=new v$3(tt,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var tt=_e.replace(ra,sa);z$2[tt]=new v$3(tt,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$2[_e]=new v$3(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$2[_e]=new v$3(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,tt,et,nt){var rt=z$2.hasOwnProperty(tt)?z$2[tt]:null;(rt!==null?rt.type!==0:nt||!(2<tt.length)||tt[0]!=="o"&&tt[0]!=="O"||tt[1]!=="n"&&tt[1]!=="N")&&(qa(tt,et,rt,nt)&&(et=null),nt||rt===null?oa(tt)&&(et===null?_e.removeAttribute(tt):_e.setAttribute(tt,""+et)):rt.mustUseProperty?_e[rt.propertyName]=et===null?rt.type===3?!1:"":et:(tt=rt.attributeName,nt=rt.attributeNamespace,et===null?_e.removeAttribute(tt):(rt=rt.type,et=rt===3||rt===4&&et===!0?"":""+et,nt?_e.setAttributeNS(nt,tt,et):_e.setAttribute(tt,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$2=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(et){var tt=et.stack.trim().match(/\n( *(at )?)/);La=tt&&tt[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,tt){if(!_e||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(tt)if(tt=function(){throw Error()},Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(ct){var nt=ct}Reflect.construct(_e,[],tt)}else{try{tt.call()}catch(ct){nt=ct}_e.call(tt.prototype)}else{try{throw Error()}catch(ct){nt=ct}_e()}}catch(ct){if(ct&&nt&&typeof ct.stack=="string"){for(var rt=ct.stack.split(`
`),it=nt.stack.split(`
`),ot=rt.length-1,st=it.length-1;1<=ot&&0<=st&&rt[ot]!==it[st];)st--;for(;1<=ot&&0<=st;ot--,st--)if(rt[ot]!==it[st]){if(ot!==1||st!==1)do if(ot--,st--,0>st||rt[ot]!==it[st]){var at=`
`+rt[ot].replace(" at new "," at ");return _e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",_e.displayName)),at}while(1<=ot&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var tt=_e.render;return _e=_e.displayName,_e||(_e=tt.displayName||tt.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return tt=_e.displayName||null,tt!==null?tt:Qa(_e.type)||"Memo";case Ha:tt=_e._payload,_e=_e._init;try{return Qa(_e(tt))}catch{}}return null}function Ra(_e){var tt=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(tt.displayName||"Context")+".Consumer";case 10:return(tt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=tt.render,_e=_e.displayName||_e.name||"",tt.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return tt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(tt);case 8:return tt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var tt=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(tt==="checkbox"||tt==="radio")}function Ua(_e){var tt=Ta(_e)?"checked":"value",et=Object.getOwnPropertyDescriptor(_e.constructor.prototype,tt),nt=""+_e[tt];if(!_e.hasOwnProperty(tt)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var rt=et.get,it=et.set;return Object.defineProperty(_e,tt,{configurable:!0,get:function(){return rt.call(this)},set:function(ot){nt=""+ot,it.call(this,ot)}}),Object.defineProperty(_e,tt,{enumerable:et.enumerable}),{getValue:function(){return nt},setValue:function(ot){nt=""+ot},stopTracking:function(){_e._valueTracker=null,delete _e[tt]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var tt=_e._valueTracker;if(!tt)return!0;var et=tt.getValue(),nt="";return _e&&(nt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=nt,_e!==et?(tt.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,tt){var et=tt.checked;return A$2({},tt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??_e._wrapperState.initialChecked})}function Za(_e,tt){var et=tt.defaultValue==null?"":tt.defaultValue,nt=tt.checked!=null?tt.checked:tt.defaultChecked;et=Sa(tt.value!=null?tt.value:et),_e._wrapperState={initialChecked:nt,initialValue:et,controlled:tt.type==="checkbox"||tt.type==="radio"?tt.checked!=null:tt.value!=null}}function ab(_e,tt){tt=tt.checked,tt!=null&&ta(_e,"checked",tt,!1)}function bb(_e,tt){ab(_e,tt);var et=Sa(tt.value),nt=tt.type;if(et!=null)nt==="number"?(et===0&&_e.value===""||_e.value!=et)&&(_e.value=""+et):_e.value!==""+et&&(_e.value=""+et);else if(nt==="submit"||nt==="reset"){_e.removeAttribute("value");return}tt.hasOwnProperty("value")?cb(_e,tt.type,et):tt.hasOwnProperty("defaultValue")&&cb(_e,tt.type,Sa(tt.defaultValue)),tt.checked==null&&tt.defaultChecked!=null&&(_e.defaultChecked=!!tt.defaultChecked)}function db(_e,tt,et){if(tt.hasOwnProperty("value")||tt.hasOwnProperty("defaultValue")){var nt=tt.type;if(!(nt!=="submit"&&nt!=="reset"||tt.value!==void 0&&tt.value!==null))return;tt=""+_e._wrapperState.initialValue,et||tt===_e.value||(_e.value=tt),_e.defaultValue=tt}et=_e.name,et!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,et!==""&&(_e.name=et)}function cb(_e,tt,et){(tt!=="number"||Xa(_e.ownerDocument)!==_e)&&(et==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+et&&(_e.defaultValue=""+et))}var eb=Array.isArray;function fb(_e,tt,et,nt){if(_e=_e.options,tt){tt={};for(var rt=0;rt<et.length;rt++)tt["$"+et[rt]]=!0;for(et=0;et<_e.length;et++)rt=tt.hasOwnProperty("$"+_e[et].value),_e[et].selected!==rt&&(_e[et].selected=rt),rt&&nt&&(_e[et].defaultSelected=!0)}else{for(et=""+Sa(et),tt=null,rt=0;rt<_e.length;rt++){if(_e[rt].value===et){_e[rt].selected=!0,nt&&(_e[rt].defaultSelected=!0);return}tt!==null||_e[rt].disabled||(tt=_e[rt])}tt!==null&&(tt.selected=!0)}}function gb(_e,tt){if(tt.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},tt,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,tt){var et=tt.value;if(et==null){if(et=tt.children,tt=tt.defaultValue,et!=null){if(tt!=null)throw Error(p$3(92));if(eb(et)){if(1<et.length)throw Error(p$3(93));et=et[0]}tt=et}tt==null&&(tt=""),et=tt}_e._wrapperState={initialValue:Sa(et)}}function ib(_e,tt){var et=Sa(tt.value),nt=Sa(tt.defaultValue);et!=null&&(et=""+et,et!==_e.value&&(_e.value=et),tt.defaultValue==null&&_e.defaultValue!==et&&(_e.defaultValue=et)),nt!=null&&(_e.defaultValue=""+nt)}function jb(_e){var tt=_e.textContent;tt===_e._wrapperState.initialValue&&tt!==""&&tt!==null&&(_e.value=tt)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,tt){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(tt):_e==="http://www.w3.org/2000/svg"&&tt==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(tt,et,nt,rt){MSApp.execUnsafeLocalFunction(function(){return _e(tt,et,nt,rt)})}:_e}(function(_e,tt){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=tt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+tt.valueOf().toString()+"</svg>",tt=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;tt.firstChild;)_e.appendChild(tt.firstChild)}});function ob(_e,tt){if(tt){var et=_e.firstChild;if(et&&et===_e.lastChild&&et.nodeType===3){et.nodeValue=tt;return}}_e.textContent=tt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(tt){tt=tt+_e.charAt(0).toUpperCase()+_e.substring(1),pb[tt]=pb[_e]})});function rb(_e,tt,et){return tt==null||typeof tt=="boolean"||tt===""?"":et||typeof tt!="number"||tt===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+tt).trim():tt+"px"}function sb(_e,tt){_e=_e.style;for(var et in tt)if(tt.hasOwnProperty(et)){var nt=et.indexOf("--")===0,rt=rb(et,tt[et],nt);et==="float"&&(et="cssFloat"),nt?_e.setProperty(et,rt):_e[et]=rt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,tt){if(tt){if(tb[_e]&&(tt.children!=null||tt.dangerouslySetInnerHTML!=null))throw Error(p$3(137,_e));if(tt.dangerouslySetInnerHTML!=null){if(tt.children!=null)throw Error(p$3(60));if(typeof tt.dangerouslySetInnerHTML!="object"||!("__html"in tt.dangerouslySetInnerHTML))throw Error(p$3(61))}if(tt.style!=null&&typeof tt.style!="object")throw Error(p$3(62))}}function vb(_e,tt){if(_e.indexOf("-")===-1)return typeof tt.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$3(280));var tt=_e.stateNode;tt&&(tt=Db(tt),yb(_e.stateNode,_e.type,tt))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,tt=Ab;if(Ab=zb=null,Bb(_e),tt)for(_e=0;_e<tt.length;_e++)Bb(tt[_e])}}function Gb(_e,tt){return _e(tt)}function Hb(){}var Ib=!1;function Jb(_e,tt,et){if(Ib)return _e(tt,et);Ib=!0;try{return Gb(_e,tt,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,tt){var et=_e.stateNode;if(et===null)return null;var nt=Db(et);if(nt===null)return null;et=nt[tt];e:switch(tt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(_e=_e.type,nt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!nt;break e;default:_e=!1}if(_e)return null;if(et&&typeof et!="function")throw Error(p$3(231,tt,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,tt,et,nt,rt,it,ot,st,at){var ct=Array.prototype.slice.call(arguments,3);try{tt.apply(et,ct)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,tt,et,nt,rt,it,ot,st,at){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,tt,et,nt,rt,it,ot,st,at){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=ct)}}function Vb(_e){var tt=_e,et=_e;if(_e.alternate)for(;tt.return;)tt=tt.return;else{_e=tt;do tt=_e,tt.flags&4098&&(et=tt.return),_e=tt.return;while(_e)}return tt.tag===3?et:null}function Wb(_e){if(_e.tag===13){var tt=_e.memoizedState;if(tt===null&&(_e=_e.alternate,_e!==null&&(tt=_e.memoizedState)),tt!==null)return tt.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$3(188))}function Yb(_e){var tt=_e.alternate;if(!tt){if(tt=Vb(_e),tt===null)throw Error(p$3(188));return tt!==_e?null:_e}for(var et=_e,nt=tt;;){var rt=et.return;if(rt===null)break;var it=rt.alternate;if(it===null){if(nt=rt.return,nt!==null){et=nt;continue}break}if(rt.child===it.child){for(it=rt.child;it;){if(it===et)return Xb(rt),_e;if(it===nt)return Xb(rt),tt;it=it.sibling}throw Error(p$3(188))}if(et.return!==nt.return)et=rt,nt=it;else{for(var ot=!1,st=rt.child;st;){if(st===et){ot=!0,et=rt,nt=it;break}if(st===nt){ot=!0,nt=rt,et=it;break}st=st.sibling}if(!ot){for(st=it.child;st;){if(st===et){ot=!0,et=it,nt=rt;break}if(st===nt){ot=!0,nt=it,et=rt;break}st=st.sibling}if(!ot)throw Error(p$3(189))}}if(et.alternate!==nt)throw Error(p$3(190))}if(et.tag!==3)throw Error(p$3(188));return et.stateNode.current===et?_e:tt}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var tt=$b(_e);if(tt!==null)return tt;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,tt){var et=_e.pendingLanes;if(et===0)return 0;var nt=0,rt=_e.suspendedLanes,it=_e.pingedLanes,ot=et&268435455;if(ot!==0){var st=ot&~rt;st!==0?nt=tc(st):(it&=ot,it!==0&&(nt=tc(it)))}else ot=et&~rt,ot!==0?nt=tc(ot):it!==0&&(nt=tc(it));if(nt===0)return 0;if(tt!==0&&tt!==nt&&!(tt&rt)&&(rt=nt&-nt,it=tt&-tt,rt>=it||rt===16&&(it&4194240)!==0))return tt;if(nt&4&&(nt|=et&16),tt=_e.entangledLanes,tt!==0)for(_e=_e.entanglements,tt&=nt;0<tt;)et=31-oc(tt),rt=1<<et,nt|=_e[et],tt&=~rt;return nt}function vc(_e,tt){switch(_e){case 1:case 2:case 4:return tt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,tt){for(var et=_e.suspendedLanes,nt=_e.pingedLanes,rt=_e.expirationTimes,it=_e.pendingLanes;0<it;){var ot=31-oc(it),st=1<<ot,at=rt[ot];at===-1?(!(st&et)||st&nt)&&(rt[ot]=vc(st,tt)):at<=tt&&(_e.expiredLanes|=st),it&=~st}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var tt=[],et=0;31>et;et++)tt.push(_e);return tt}function Ac(_e,tt,et){_e.pendingLanes|=tt,tt!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,tt=31-oc(tt),_e[tt]=et}function Bc(_e,tt){var et=_e.pendingLanes&~tt;_e.pendingLanes=tt,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=tt,_e.mutableReadLanes&=tt,_e.entangledLanes&=tt,tt=_e.entanglements;var nt=_e.eventTimes;for(_e=_e.expirationTimes;0<et;){var rt=31-oc(et),it=1<<rt;tt[rt]=0,nt[rt]=-1,_e[rt]=-1,et&=~it}}function Cc(_e,tt){var et=_e.entangledLanes|=tt;for(_e=_e.entanglements;et;){var nt=31-oc(et),rt=1<<nt;rt&tt|_e[nt]&tt&&(_e[nt]|=tt),et&=~rt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,tt){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(tt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(tt.pointerId)}}function Tc(_e,tt,et,nt,rt,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:tt,domEventName:et,eventSystemFlags:nt,nativeEvent:it,targetContainers:[rt]},tt!==null&&(tt=Cb(tt),tt!==null&&Fc(tt)),_e):(_e.eventSystemFlags|=nt,tt=_e.targetContainers,rt!==null&&tt.indexOf(rt)===-1&&tt.push(rt),_e)}function Uc(_e,tt,et,nt,rt){switch(tt){case"focusin":return Lc=Tc(Lc,_e,tt,et,nt,rt),!0;case"dragenter":return Mc=Tc(Mc,_e,tt,et,nt,rt),!0;case"mouseover":return Nc=Tc(Nc,_e,tt,et,nt,rt),!0;case"pointerover":var it=rt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,tt,et,nt,rt)),!0;case"gotpointercapture":return it=rt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,tt,et,nt,rt)),!0}return!1}function Vc(_e){var tt=Wc(_e.target);if(tt!==null){var et=Vb(tt);if(et!==null){if(tt=et.tag,tt===13){if(tt=Wb(et),tt!==null){_e.blockedOn=tt,Ic(_e.priority,function(){Gc(et)});return}}else if(tt===3&&et.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var tt=_e.targetContainers;0<tt.length;){var et=Yc(_e.domEventName,_e.eventSystemFlags,tt[0],_e.nativeEvent);if(et===null){et=_e.nativeEvent;var nt=new et.constructor(et.type,et);wb=nt,et.target.dispatchEvent(nt),wb=null}else return tt=Cb(et),tt!==null&&Fc(tt),_e.blockedOn=et,!1;tt.shift()}return!0}function Zc(_e,tt,et){Xc(_e)&&et.delete(tt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,tt){_e.blockedOn===tt&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function tt(rt){return ad(rt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var et=1;et<Kc.length;et++){var nt=Kc[et];nt.blockedOn===_e&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(tt),Pc.forEach(tt),et=0;et<Qc.length;et++)nt=Qc[et],nt.blockedOn===_e&&(nt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,tt,et,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(_e,tt,et,nt)}finally{C$1=rt,cd.transition=it}}function gd(_e,tt,et,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(_e,tt,et,nt)}finally{C$1=rt,cd.transition=it}}function fd(_e,tt,et,nt){if(dd){var rt=Yc(_e,tt,et,nt);if(rt===null)hd(_e,tt,nt,id,et),Sc(_e,nt);else if(Uc(rt,_e,tt,et,nt))nt.stopPropagation();else if(Sc(_e,nt),tt&4&&-1<Rc.indexOf(_e)){for(;rt!==null;){var it=Cb(rt);if(it!==null&&Ec(it),it=Yc(_e,tt,et,nt),it===null&&hd(_e,tt,nt,id,et),it===rt)break;rt=it}rt!==null&&nt.stopPropagation()}else hd(_e,tt,nt,null,et)}}var id=null;function Yc(_e,tt,et,nt){if(id=null,_e=xb(nt),_e=Wc(_e),_e!==null)if(tt=Vb(_e),tt===null)_e=null;else if(et=tt.tag,et===13){if(_e=Wb(tt),_e!==null)return _e;_e=null}else if(et===3){if(tt.stateNode.current.memoizedState.isDehydrated)return tt.tag===3?tt.stateNode.containerInfo:null;_e=null}else tt!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,tt=ld,et=tt.length,nt,rt="value"in kd?kd.value:kd.textContent,it=rt.length;for(_e=0;_e<et&&tt[_e]===rt[_e];_e++);var ot=et-_e;for(nt=1;nt<=ot&&tt[et-nt]===rt[it-nt];nt++);return md=rt.slice(_e,1<nt?1-nt:void 0)}function od(_e){var tt=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&tt===13&&(_e=13)):_e=tt,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function tt(et,nt,rt,it,ot){this._reactName=et,this._targetInst=rt,this.type=nt,this.nativeEvent=it,this.target=ot,this.currentTarget=null;for(var st in _e)_e.hasOwnProperty(st)&&(et=_e[st],this[st]=et?et(it):it[st]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(tt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),tt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var tt=this.nativeEvent;return tt.getModifierState?tt.getModifierState(_e):(_e=Od[_e])?!!tt[_e]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(_e){if(_e.key){var tt=Md[_e.key]||_e.key;if(tt!=="Unidentified")return tt}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(_e,tt){switch(_e){case"keyup":return $d.indexOf(tt.keyCode)!==-1;case"keydown":return tt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,tt){switch(_e){case"compositionend":return he(tt);case"keypress":return tt.which!==32?null:(fe=!0,ee);case"textInput":return _e=tt.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,tt){if(ie)return _e==="compositionend"||!ae&&ge(_e,tt)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(tt.ctrlKey||tt.altKey||tt.metaKey)||tt.ctrlKey&&tt.altKey){if(tt.char&&1<tt.char.length)return tt.char;if(tt.which)return String.fromCharCode(tt.which)}return null;case"compositionend":return de&&tt.locale!=="ko"?null:tt.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var tt=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return tt==="input"?!!le[_e.type]:tt==="textarea"}function ne(_e,tt,et,nt){Eb(nt),tt=oe(tt,"onChange"),0<tt.length&&(et=new td("onChange","change",null,et,nt),_e.push({event:et,listeners:tt}))}var pe=null,qe=null;function re(_e){se(_e,0)}function te(_e){var tt=ue(_e);if(Wa(tt))return _e}function ve(_e,tt){if(_e==="change")return tt}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var tt=[];ne(tt,qe,_e,xb(_e)),Jb(re,tt)}}function Ce(_e,tt,et){_e==="focusin"?(Ae(),pe=tt,qe=et,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,tt){if(_e==="click")return te(tt)}function Fe(_e,tt){if(_e==="input"||_e==="change")return te(tt)}function Ge(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,tt){if(He(_e,tt))return!0;if(typeof _e!="object"||_e===null||typeof tt!="object"||tt===null)return!1;var et=Object.keys(_e),nt=Object.keys(tt);if(et.length!==nt.length)return!1;for(nt=0;nt<et.length;nt++){var rt=et[nt];if(!ja.call(tt,rt)||!He(_e[rt],tt[rt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,tt){var et=Je(_e);_e=0;for(var nt;et;){if(et.nodeType===3){if(nt=_e+et.textContent.length,_e<=tt&&nt>=tt)return{node:et,offset:tt-_e};_e=nt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(_e,tt){return _e&&tt?_e===tt?!0:_e&&_e.nodeType===3?!1:tt&&tt.nodeType===3?Le(_e,tt.parentNode):"contains"in _e?_e.contains(tt):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(tt)&16):!1:!1}function Me(){for(var _e=window,tt=Xa();tt instanceof _e.HTMLIFrameElement;){try{var et=typeof tt.contentWindow.location.href=="string"}catch{et=!1}if(et)_e=tt.contentWindow;else break;tt=Xa(_e.document)}return tt}function Ne(_e){var tt=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return tt&&(tt==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||tt==="textarea"||_e.contentEditable==="true")}function Oe(_e){var tt=Me(),et=_e.focusedElem,nt=_e.selectionRange;if(tt!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(nt!==null&&Ne(et)){if(tt=nt.start,_e=nt.end,_e===void 0&&(_e=tt),"selectionStart"in et)et.selectionStart=tt,et.selectionEnd=Math.min(_e,et.value.length);else if(_e=(tt=et.ownerDocument||document)&&tt.defaultView||window,_e.getSelection){_e=_e.getSelection();var rt=et.textContent.length,it=Math.min(nt.start,rt);nt=nt.end===void 0?it:Math.min(nt.end,rt),!_e.extend&&it>nt&&(rt=nt,nt=it,it=rt),rt=Ke(et,it);var ot=Ke(et,nt);rt&&ot&&(_e.rangeCount!==1||_e.anchorNode!==rt.node||_e.anchorOffset!==rt.offset||_e.focusNode!==ot.node||_e.focusOffset!==ot.offset)&&(tt=tt.createRange(),tt.setStart(rt.node,rt.offset),_e.removeAllRanges(),it>nt?(_e.addRange(tt),_e.extend(ot.node,ot.offset)):(tt.setEnd(ot.node,ot.offset),_e.addRange(tt)))}}for(tt=[],_e=et;_e=_e.parentNode;)_e.nodeType===1&&tt.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<tt.length;et++)_e=tt[et],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,tt,et){var nt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se&&Ie(Se,nt)||(Se=nt,nt=oe(Re,"onSelect"),0<nt.length&&(tt=new td("onSelect","select",null,tt,et),_e.push({event:tt,listeners:nt}),tt.target=Qe)))}function Ve(_e,tt){var et={};return et[_e.toLowerCase()]=tt.toLowerCase(),et["Webkit"+_e]="webkit"+tt,et["Moz"+_e]="moz"+tt,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var tt=We[_e],et;for(et in tt)if(tt.hasOwnProperty(et)&&et in Ye)return Xe[_e]=tt[et];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,tt){df.set(_e,tt),fa(tt,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,tt,et){var nt=_e.type||"unknown-event";_e.currentTarget=et,Ub(nt,tt,void 0,_e),_e.currentTarget=null}function se(_e,tt){tt=(tt&4)!==0;for(var et=0;et<_e.length;et++){var nt=_e[et],rt=nt.event;nt=nt.listeners;e:{var it=void 0;if(tt)for(var ot=nt.length-1;0<=ot;ot--){var st=nt[ot],at=st.instance,ct=st.currentTarget;if(st=st.listener,at!==it&&rt.isPropagationStopped())break e;nf(rt,st,ct),it=at}else for(ot=0;ot<nt.length;ot++){if(st=nt[ot],at=st.instance,ct=st.currentTarget,st=st.listener,at!==it&&rt.isPropagationStopped())break e;nf(rt,st,ct),it=at}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D(_e,tt){var et=tt[of];et===void 0&&(et=tt[of]=new Set);var nt=_e+"__bubble";et.has(nt)||(pf(tt,_e,2,!1),et.add(nt))}function qf(_e,tt,et){var nt=0;tt&&(nt|=4),pf(et,_e,nt,tt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,_e),qf(et,!0,_e))});var tt=_e.nodeType===9?_e:_e.ownerDocument;tt===null||tt[rf]||(tt[rf]=!0,qf("selectionchange",!1,tt))}}function pf(_e,tt,et,nt){switch(jd(tt)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}et=rt.bind(null,tt,et,_e),rt=void 0,!Lb||tt!=="touchstart"&&tt!=="touchmove"&&tt!=="wheel"||(rt=!0),nt?rt!==void 0?_e.addEventListener(tt,et,{capture:!0,passive:rt}):_e.addEventListener(tt,et,!0):rt!==void 0?_e.addEventListener(tt,et,{passive:rt}):_e.addEventListener(tt,et,!1)}function hd(_e,tt,et,nt,rt){var it=nt;if(!(tt&1)&&!(tt&2)&&nt!==null)e:for(;;){if(nt===null)return;var ot=nt.tag;if(ot===3||ot===4){var st=nt.stateNode.containerInfo;if(st===rt||st.nodeType===8&&st.parentNode===rt)break;if(ot===4)for(ot=nt.return;ot!==null;){var at=ot.tag;if((at===3||at===4)&&(at=ot.stateNode.containerInfo,at===rt||at.nodeType===8&&at.parentNode===rt))return;ot=ot.return}for(;st!==null;){if(ot=Wc(st),ot===null)return;if(at=ot.tag,at===5||at===6){nt=it=ot;continue e}st=st.parentNode}}nt=nt.return}Jb(function(){var ct=it,lt=xb(et),dt=[];e:{var ut=df.get(_e);if(ut!==void 0){var ft=td,pt=_e;switch(_e){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":pt="focus",ft=Fd;break;case"focusout":pt="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var bt=(tt&4)!==0,Tt=!bt&&_e==="scroll",ht=bt?ut!==null?ut+"Capture":null:ut;bt=[];for(var gt=ct,vt;gt!==null;){vt=gt;var Ct=vt.stateNode;if(vt.tag===5&&Ct!==null&&(vt=Ct,ht!==null&&(Ct=Kb(gt,ht),Ct!=null&&bt.push(tf(gt,Ct,vt)))),Tt)break;gt=gt.return}0<bt.length&&(ut=new ft(ut,pt,null,et,lt),dt.push({event:ut,listeners:bt}))}}if(!(tt&7)){e:{if(ut=_e==="mouseover"||_e==="pointerover",ft=_e==="mouseout"||_e==="pointerout",ut&&et!==wb&&(pt=et.relatedTarget||et.fromElement)&&(Wc(pt)||pt[uf]))break e;if((ft||ut)&&(ut=lt.window===lt?lt:(ut=lt.ownerDocument)?ut.defaultView||ut.parentWindow:window,ft?(pt=et.relatedTarget||et.toElement,ft=ct,pt=pt?Wc(pt):null,pt!==null&&(Tt=Vb(pt),pt!==Tt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(ft=null,pt=ct),ft!==pt)){if(bt=Bd,Ct="onMouseLeave",ht="onMouseEnter",gt="mouse",(_e==="pointerout"||_e==="pointerover")&&(bt=Td,Ct="onPointerLeave",ht="onPointerEnter",gt="pointer"),Tt=ft==null?ut:ue(ft),vt=pt==null?ut:ue(pt),ut=new bt(Ct,gt+"leave",ft,et,lt),ut.target=Tt,ut.relatedTarget=vt,Ct=null,Wc(lt)===ct&&(bt=new bt(ht,gt+"enter",pt,et,lt),bt.target=vt,bt.relatedTarget=Tt,Ct=bt),Tt=Ct,ft&&pt)t:{for(bt=ft,ht=pt,gt=0,vt=bt;vt;vt=vf(vt))gt++;for(vt=0,Ct=ht;Ct;Ct=vf(Ct))vt++;for(;0<gt-vt;)bt=vf(bt),gt--;for(;0<vt-gt;)ht=vf(ht),vt--;for(;gt--;){if(bt===ht||ht!==null&&bt===ht.alternate)break t;bt=vf(bt),ht=vf(ht)}bt=null}else bt=null;ft!==null&&wf(dt,ut,ft,bt,!1),pt!==null&&Tt!==null&&wf(dt,Tt,pt,bt,!0)}}e:{if(ut=ct?ue(ct):window,ft=ut.nodeName&&ut.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ut.type==="file")var It=ve;else if(me(ut))if(we)It=Fe;else{It=De;var Zt=Ce}else(ft=ut.nodeName)&&ft.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(It=Ee);if(It&&(It=It(_e,ct))){ne(dt,It,et,lt);break e}Zt&&Zt(_e,ut,ct),_e==="focusout"&&(Zt=ut._wrapperState)&&Zt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(Zt=ct?ue(ct):window,_e){case"focusin":(me(Zt)||Zt.contentEditable==="true")&&(Qe=Zt,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(dt,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,et,lt)}var Wt;if(ae)e:{switch(_e){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else ie?ge(_e,et)&&(kt="onCompositionEnd"):_e==="keydown"&&et.keyCode===229&&(kt="onCompositionStart");kt&&(de&&et.locale!=="ko"&&(ie||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ie&&(Wt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Zt=oe(ct,kt),0<Zt.length&&(kt=new Ld(kt,_e,null,et,lt),dt.push({event:kt,listeners:Zt}),Wt?kt.data=Wt:(Wt=he(et),Wt!==null&&(kt.data=Wt)))),(Wt=ce?je(_e,et):ke(_e,et))&&(ct=oe(ct,"onBeforeInput"),0<ct.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),dt.push({event:lt,listeners:ct}),lt.data=Wt))}se(dt,tt)})}function tf(_e,tt,et){return{instance:_e,listener:tt,currentTarget:et}}function oe(_e,tt){for(var et=tt+"Capture",nt=[];_e!==null;){var rt=_e,it=rt.stateNode;rt.tag===5&&it!==null&&(rt=it,it=Kb(_e,et),it!=null&&nt.unshift(tf(_e,it,rt)),it=Kb(_e,tt),it!=null&&nt.push(tf(_e,it,rt))),_e=_e.return}return nt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,tt,et,nt,rt){for(var it=tt._reactName,ot=[];et!==null&&et!==nt;){var st=et,at=st.alternate,ct=st.stateNode;if(at!==null&&at===nt)break;st.tag===5&&ct!==null&&(st=ct,rt?(at=Kb(et,it),at!=null&&ot.unshift(tf(et,at,st))):rt||(at=Kb(et,it),at!=null&&ot.push(tf(et,at,st)))),et=et.return}ot.length!==0&&_e.push({event:tt,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,tt,et){if(tt=zf(tt),zf(_e)!==tt&&et)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,tt){return _e==="textarea"||_e==="noscript"||typeof tt.children=="string"||typeof tt.children=="number"||typeof tt.dangerouslySetInnerHTML=="object"&&tt.dangerouslySetInnerHTML!==null&&tt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,tt){var et=tt,nt=0;do{var rt=et.nextSibling;if(_e.removeChild(et),rt&&rt.nodeType===8)if(et=rt.data,et==="/$"){if(nt===0){_e.removeChild(rt),bd(tt);return}nt--}else et!=="$"&&et!=="$?"&&et!=="$!"||nt++;et=rt}while(et);bd(tt)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var tt=_e.nodeType;if(tt===1||tt===3)break;if(tt===8){if(tt=_e.data,tt==="$"||tt==="$!"||tt==="$?")break;if(tt==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var tt=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="$"||et==="$!"||et==="$?"){if(tt===0)return _e;tt--}else et==="/$"&&tt++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var tt=_e[Of];if(tt)return tt;for(var et=_e.parentNode;et;){if(tt=et[uf]||et[Of]){if(et=tt.alternate,tt.child!==null||et!==null&&et.child!==null)for(_e=Mf(_e);_e!==null;){if(et=_e[Of])return et;_e=Mf(_e)}return tt}_e=et,et=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$3(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(_e,tt){Tf++,Sf[Tf]=_e.current,_e.current=tt}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,tt){var et=_e.type.contextTypes;if(!et)return Vf;var nt=_e.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===tt)return nt.__reactInternalMemoizedMaskedChildContext;var rt={},it;for(it in et)rt[it]=tt[it];return nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=tt,_e.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(_e,tt,et){if(H$1.current!==Vf)throw Error(p$3(168));G(H$1,tt),G(Wf,et)}function bg(_e,tt,et){var nt=_e.stateNode;if(tt=tt.childContextTypes,typeof nt.getChildContext!="function")return et;nt=nt.getChildContext();for(var rt in nt)if(!(rt in tt))throw Error(p$3(108,Ra(_e)||"Unknown",rt));return A$2({},et,nt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,_e),G(Wf,Wf.current),!0}function dg(_e,tt,et){var nt=_e.stateNode;if(!nt)throw Error(p$3(169));et?(_e=bg(_e,tt,Xf),nt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$1),G(H$1,_e)):E$1(Wf),G(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,tt=C$1;try{var et=eg;for(C$1=1;_e<et.length;_e++){var nt=et[_e];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),rt}finally{C$1=tt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,tt){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=tt}function ug(_e,tt,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var nt=rg;_e=sg;var rt=32-oc(nt)-1;nt&=~(1<<rt),et+=1;var it=32-oc(tt)+rt;if(30<it){var ot=rt-rt%5;it=(nt&(1<<ot)-1).toString(32),nt>>=ot,rt-=ot,rg=1<<32-oc(tt)+rt|et<<rt|nt,sg=it+_e}else rg=1<<it|et<<rt|nt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(_e,tt){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=tt,et.return=_e,tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)}function Cg(_e,tt){switch(_e.tag){case 5:var et=_e.type;return tt=tt.nodeType!==1||et.toLowerCase()!==tt.nodeName.toLowerCase()?null:tt,tt!==null?(_e.stateNode=tt,xg=_e,yg=Lf(tt.firstChild),!0):!1;case 6:return tt=_e.pendingProps===""||tt.nodeType!==3?null:tt,tt!==null?(_e.stateNode=tt,xg=_e,yg=null,!0):!1;case 13:return tt=tt.nodeType!==8?null:tt,tt!==null?(et=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:tt,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=tt,et.return=_e,_e.child=et,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$1){var tt=yg;if(tt){var et=tt;if(!Cg(_e,tt)){if(Dg(_e))throw Error(p$3(418));tt=Lf(et.nextSibling);var nt=xg;tt&&Cg(_e,tt)?Ag(nt,et):(_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$3(418));_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$1)return Fg(_e),I$1=!0,!1;var tt;if((tt=_e.tag!==3)&&!(tt=_e.tag!==5)&&(tt=_e.type,tt=tt!=="head"&&tt!=="body"&&!Ef(_e.type,_e.memoizedProps)),tt&&(tt=yg)){if(Dg(_e))throw Hg(),Error(p$3(418));for(;tt;)Ag(_e,tt),tt=Lf(tt.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$3(317));e:{for(_e=_e.nextSibling,tt=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="/$"){if(tt===0){yg=Lf(_e.nextSibling);break e}tt--}else et!=="$"&&et!=="$!"&&et!=="$?"||tt++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,tt){if(_e&&_e.defaultProps){tt=A$2({},tt),_e=_e.defaultProps;for(var et in _e)tt[et]===void 0&&(tt[et]=_e[et]);return tt}return tt}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var tt=Mg.current;E$1(Mg),_e._currentValue=tt}function Sg(_e,tt,et){for(;_e!==null;){var nt=_e.alternate;if((_e.childLanes&tt)!==tt?(_e.childLanes|=tt,nt!==null&&(nt.childLanes|=tt)):nt!==null&&(nt.childLanes&tt)!==tt&&(nt.childLanes|=tt),_e===et)break;_e=_e.return}}function Tg(_e,tt){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&tt&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var tt=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:tt,next:null},Og===null){if(Ng===null)throw Error(p$3(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return tt}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,tt,et,nt){var rt=tt.interleaved;return rt===null?(et.next=et,Xg(tt)):(et.next=rt.next,rt.next=et),tt.interleaved=et,Zg(_e,nt)}function Zg(_e,tt){_e.lanes|=tt;var et=_e.alternate;for(et!==null&&(et.lanes|=tt),et=_e,_e=_e.return;_e!==null;)_e.childLanes|=tt,et=_e.alternate,et!==null&&(et.childLanes|=tt),et=_e,_e=_e.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,tt){_e=_e.updateQueue,tt.updateQueue===_e&&(tt.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,tt){return{eventTime:_e,lane:tt,tag:0,payload:null,callback:null,next:null}}function dh(_e,tt,et){var nt=_e.updateQueue;if(nt===null)return null;if(nt=nt.shared,K&2){var rt=nt.pending;return rt===null?tt.next=tt:(tt.next=rt.next,rt.next=tt),nt.pending=tt,Zg(_e,et)}return rt=nt.interleaved,rt===null?(tt.next=tt,Xg(nt)):(tt.next=rt.next,rt.next=tt),nt.interleaved=tt,Zg(_e,et)}function eh(_e,tt,et){if(tt=tt.updateQueue,tt!==null&&(tt=tt.shared,(et&4194240)!==0)){var nt=tt.lanes;nt&=_e.pendingLanes,et|=nt,tt.lanes=et,Cc(_e,et)}}function fh(_e,tt){var et=_e.updateQueue,nt=_e.alternate;if(nt!==null&&(nt=nt.updateQueue,et===nt)){var rt=null,it=null;if(et=et.firstBaseUpdate,et!==null){do{var ot={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};it===null?rt=it=ot:it=it.next=ot,et=et.next}while(et!==null);it===null?rt=it=tt:it=it.next=tt}else rt=it=tt;et={baseState:nt.baseState,firstBaseUpdate:rt,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},_e.updateQueue=et;return}_e=et.lastBaseUpdate,_e===null?et.firstBaseUpdate=tt:_e.next=tt,et.lastBaseUpdate=tt}function gh(_e,tt,et,nt){var rt=_e.updateQueue;$g=!1;var it=rt.firstBaseUpdate,ot=rt.lastBaseUpdate,st=rt.shared.pending;if(st!==null){rt.shared.pending=null;var at=st,ct=at.next;at.next=null,ot===null?it=ct:ot.next=ct,ot=at;var lt=_e.alternate;lt!==null&&(lt=lt.updateQueue,st=lt.lastBaseUpdate,st!==ot&&(st===null?lt.firstBaseUpdate=ct:st.next=ct,lt.lastBaseUpdate=at))}if(it!==null){var dt=rt.baseState;ot=0,lt=ct=at=null,st=it;do{var ut=st.lane,ft=st.eventTime;if((nt&ut)===ut){lt!==null&&(lt=lt.next={eventTime:ft,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var pt=_e,bt=st;switch(ut=tt,ft=et,bt.tag){case 1:if(pt=bt.payload,typeof pt=="function"){dt=pt.call(ft,dt,ut);break e}dt=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=bt.payload,ut=typeof pt=="function"?pt.call(ft,dt,ut):pt,ut==null)break e;dt=A$2({},dt,ut);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(_e.flags|=64,ut=rt.effects,ut===null?rt.effects=[st]:ut.push(st))}else ft={eventTime:ft,lane:ut,tag:st.tag,payload:st.payload,callback:st.callback,next:null},lt===null?(ct=lt=ft,at=dt):lt=lt.next=ft,ot|=ut;if(st=st.next,st===null){if(st=rt.shared.pending,st===null)break;ut=st,st=ut.next,ut.next=null,rt.lastBaseUpdate=ut,rt.shared.pending=null}}while(1);if(lt===null&&(at=dt),rt.baseState=at,rt.firstBaseUpdate=ct,rt.lastBaseUpdate=lt,tt=rt.shared.interleaved,tt!==null){rt=tt;do ot|=rt.lane,rt=rt.next;while(rt!==tt)}else it===null&&(rt.shared.lanes=0);hh|=ot,_e.lanes=ot,_e.memoizedState=dt}}function ih(_e,tt,et){if(_e=tt.effects,tt.effects=null,_e!==null)for(tt=0;tt<_e.length;tt++){var nt=_e[tt],rt=nt.callback;if(rt!==null){if(nt.callback=null,nt=et,typeof rt!="function")throw Error(p$3(191,rt));rt.call(nt)}}}var jh=new aa.Component().refs;function kh(_e,tt,et,nt){tt=_e.memoizedState,et=et(nt,tt),et=et==null?tt:A$2({},tt,et),_e.memoizedState=et,_e.lanes===0&&(_e.updateQueue.baseState=et)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,tt,et){_e=_e._reactInternals;var nt=L$1(),rt=lh(_e),it=ch(nt,rt);it.payload=tt,et!=null&&(it.callback=et),tt=dh(_e,it,rt),tt!==null&&(mh(tt,_e,rt,nt),eh(tt,_e,rt))},enqueueReplaceState:function(_e,tt,et){_e=_e._reactInternals;var nt=L$1(),rt=lh(_e),it=ch(nt,rt);it.tag=1,it.payload=tt,et!=null&&(it.callback=et),tt=dh(_e,it,rt),tt!==null&&(mh(tt,_e,rt,nt),eh(tt,_e,rt))},enqueueForceUpdate:function(_e,tt){_e=_e._reactInternals;var et=L$1(),nt=lh(_e),rt=ch(et,nt);rt.tag=2,tt!=null&&(rt.callback=tt),tt=dh(_e,rt,nt),tt!==null&&(mh(tt,_e,nt,et),eh(tt,_e,nt))}};function oh(_e,tt,et,nt,rt,it,ot){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(nt,it,ot):tt.prototype&&tt.prototype.isPureReactComponent?!Ie(et,nt)||!Ie(rt,it):!0}function ph(_e,tt,et){var nt=!1,rt=Vf,it=tt.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(rt=Zf(tt)?Xf:H$1.current,nt=tt.contextTypes,it=(nt=nt!=null)?Yf(_e,rt):Vf),tt=new tt(et,it),_e.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,tt.updater=nh,_e.stateNode=tt,tt._reactInternals=_e,nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=rt,_e.__reactInternalMemoizedMaskedChildContext=it),tt}function qh(_e,tt,et,nt){_e=tt.state,typeof tt.componentWillReceiveProps=="function"&&tt.componentWillReceiveProps(et,nt),typeof tt.UNSAFE_componentWillReceiveProps=="function"&&tt.UNSAFE_componentWillReceiveProps(et,nt),tt.state!==_e&&nh.enqueueReplaceState(tt,tt.state,null)}function rh(_e,tt,et,nt){var rt=_e.stateNode;rt.props=et,rt.state=_e.memoizedState,rt.refs=jh,ah(_e);var it=tt.contextType;typeof it=="object"&&it!==null?rt.context=Vg(it):(it=Zf(tt)?Xf:H$1.current,rt.context=Yf(_e,it)),rt.state=_e.memoizedState,it=tt.getDerivedStateFromProps,typeof it=="function"&&(kh(_e,tt,it,et),rt.state=_e.memoizedState),typeof tt.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(tt=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),tt!==rt.state&&nh.enqueueReplaceState(rt,rt.state,null),gh(_e,et,rt,nt),rt.state=_e.memoizedState),typeof rt.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,tt,et){if(_e=et.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$3(309));var nt=et.stateNode}if(!nt)throw Error(p$3(147,_e));var rt=nt,it=""+_e;return tt!==null&&tt.ref!==null&&typeof tt.ref=="function"&&tt.ref._stringRef===it?tt.ref:(tt=function(ot){var st=rt.refs;st===jh&&(st=rt.refs={}),ot===null?delete st[it]:st[it]=ot},tt._stringRef=it,tt)}if(typeof _e!="string")throw Error(p$3(284));if(!et._owner)throw Error(p$3(290,_e))}return _e}function th(_e,tt){throw _e=Object.prototype.toString.call(tt),Error(p$3(31,_e==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":_e))}function uh(_e){var tt=_e._init;return tt(_e._payload)}function vh(_e){function tt(ht,gt){if(_e){var vt=ht.deletions;vt===null?(ht.deletions=[gt],ht.flags|=16):vt.push(gt)}}function et(ht,gt){if(!_e)return null;for(;gt!==null;)tt(ht,gt),gt=gt.sibling;return null}function nt(ht,gt){for(ht=new Map;gt!==null;)gt.key!==null?ht.set(gt.key,gt):ht.set(gt.index,gt),gt=gt.sibling;return ht}function rt(ht,gt){return ht=wh(ht,gt),ht.index=0,ht.sibling=null,ht}function it(ht,gt,vt){return ht.index=vt,_e?(vt=ht.alternate,vt!==null?(vt=vt.index,vt<gt?(ht.flags|=2,gt):vt):(ht.flags|=2,gt)):(ht.flags|=1048576,gt)}function ot(ht){return _e&&ht.alternate===null&&(ht.flags|=2),ht}function st(ht,gt,vt,Ct){return gt===null||gt.tag!==6?(gt=xh(vt,ht.mode,Ct),gt.return=ht,gt):(gt=rt(gt,vt),gt.return=ht,gt)}function at(ht,gt,vt,Ct){var It=vt.type;return It===ya?lt(ht,gt,vt.props.children,Ct,vt.key):gt!==null&&(gt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&uh(It)===gt.type)?(Ct=rt(gt,vt.props),Ct.ref=sh(ht,gt,vt),Ct.return=ht,Ct):(Ct=yh(vt.type,vt.key,vt.props,null,ht.mode,Ct),Ct.ref=sh(ht,gt,vt),Ct.return=ht,Ct)}function ct(ht,gt,vt,Ct){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==vt.containerInfo||gt.stateNode.implementation!==vt.implementation?(gt=zh(vt,ht.mode,Ct),gt.return=ht,gt):(gt=rt(gt,vt.children||[]),gt.return=ht,gt)}function lt(ht,gt,vt,Ct,It){return gt===null||gt.tag!==7?(gt=Ah(vt,ht.mode,Ct,It),gt.return=ht,gt):(gt=rt(gt,vt),gt.return=ht,gt)}function dt(ht,gt,vt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=xh(""+gt,ht.mode,vt),gt.return=ht,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return vt=yh(gt.type,gt.key,gt.props,null,ht.mode,vt),vt.ref=sh(ht,null,gt),vt.return=ht,vt;case wa:return gt=zh(gt,ht.mode,vt),gt.return=ht,gt;case Ha:var Ct=gt._init;return dt(ht,Ct(gt._payload),vt)}if(eb(gt)||Ka(gt))return gt=Ah(gt,ht.mode,vt,null),gt.return=ht,gt;th(ht,gt)}return null}function ut(ht,gt,vt,Ct){var It=gt!==null?gt.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return It!==null?null:st(ht,gt,""+vt,Ct);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return vt.key===It?at(ht,gt,vt,Ct):null;case wa:return vt.key===It?ct(ht,gt,vt,Ct):null;case Ha:return It=vt._init,ut(ht,gt,It(vt._payload),Ct)}if(eb(vt)||Ka(vt))return It!==null?null:lt(ht,gt,vt,Ct,null);th(ht,vt)}return null}function ft(ht,gt,vt,Ct,It){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return ht=ht.get(vt)||null,st(gt,ht,""+Ct,It);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case va:return ht=ht.get(Ct.key===null?vt:Ct.key)||null,at(gt,ht,Ct,It);case wa:return ht=ht.get(Ct.key===null?vt:Ct.key)||null,ct(gt,ht,Ct,It);case Ha:var Zt=Ct._init;return ft(ht,gt,vt,Zt(Ct._payload),It)}if(eb(Ct)||Ka(Ct))return ht=ht.get(vt)||null,lt(gt,ht,Ct,It,null);th(gt,Ct)}return null}function pt(ht,gt,vt,Ct){for(var It=null,Zt=null,Wt=gt,kt=gt=0,Nt=null;Wt!==null&&kt<vt.length;kt++){Wt.index>kt?(Nt=Wt,Wt=null):Nt=Wt.sibling;var Lt=ut(ht,Wt,vt[kt],Ct);if(Lt===null){Wt===null&&(Wt=Nt);break}_e&&Wt&&Lt.alternate===null&&tt(ht,Wt),gt=it(Lt,gt,kt),Zt===null?It=Lt:Zt.sibling=Lt,Zt=Lt,Wt=Nt}if(kt===vt.length)return et(ht,Wt),I$1&&tg(ht,kt),It;if(Wt===null){for(;kt<vt.length;kt++)Wt=dt(ht,vt[kt],Ct),Wt!==null&&(gt=it(Wt,gt,kt),Zt===null?It=Wt:Zt.sibling=Wt,Zt=Wt);return I$1&&tg(ht,kt),It}for(Wt=nt(ht,Wt);kt<vt.length;kt++)Nt=ft(Wt,ht,kt,vt[kt],Ct),Nt!==null&&(_e&&Nt.alternate!==null&&Wt.delete(Nt.key===null?kt:Nt.key),gt=it(Nt,gt,kt),Zt===null?It=Nt:Zt.sibling=Nt,Zt=Nt);return _e&&Wt.forEach(function(Mt){return tt(ht,Mt)}),I$1&&tg(ht,kt),It}function bt(ht,gt,vt,Ct){var It=Ka(vt);if(typeof It!="function")throw Error(p$3(150));if(vt=It.call(vt),vt==null)throw Error(p$3(151));for(var Zt=It=null,Wt=gt,kt=gt=0,Nt=null,Lt=vt.next();Wt!==null&&!Lt.done;kt++,Lt=vt.next()){Wt.index>kt?(Nt=Wt,Wt=null):Nt=Wt.sibling;var Mt=ut(ht,Wt,Lt.value,Ct);if(Mt===null){Wt===null&&(Wt=Nt);break}_e&&Wt&&Mt.alternate===null&&tt(ht,Wt),gt=it(Mt,gt,kt),Zt===null?It=Mt:Zt.sibling=Mt,Zt=Mt,Wt=Nt}if(Lt.done)return et(ht,Wt),I$1&&tg(ht,kt),It;if(Wt===null){for(;!Lt.done;kt++,Lt=vt.next())Lt=dt(ht,Lt.value,Ct),Lt!==null&&(gt=it(Lt,gt,kt),Zt===null?It=Lt:Zt.sibling=Lt,Zt=Lt);return I$1&&tg(ht,kt),It}for(Wt=nt(ht,Wt);!Lt.done;kt++,Lt=vt.next())Lt=ft(Wt,ht,kt,Lt.value,Ct),Lt!==null&&(_e&&Lt.alternate!==null&&Wt.delete(Lt.key===null?kt:Lt.key),gt=it(Lt,gt,kt),Zt===null?It=Lt:Zt.sibling=Lt,Zt=Lt);return _e&&Wt.forEach(function(tn){return tt(ht,tn)}),I$1&&tg(ht,kt),It}function Tt(ht,gt,vt,Ct){if(typeof vt=="object"&&vt!==null&&vt.type===ya&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:e:{for(var It=vt.key,Zt=gt;Zt!==null;){if(Zt.key===It){if(It=vt.type,It===ya){if(Zt.tag===7){et(ht,Zt.sibling),gt=rt(Zt,vt.props.children),gt.return=ht,ht=gt;break e}}else if(Zt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&uh(It)===Zt.type){et(ht,Zt.sibling),gt=rt(Zt,vt.props),gt.ref=sh(ht,Zt,vt),gt.return=ht,ht=gt;break e}et(ht,Zt);break}else tt(ht,Zt);Zt=Zt.sibling}vt.type===ya?(gt=Ah(vt.props.children,ht.mode,Ct,vt.key),gt.return=ht,ht=gt):(Ct=yh(vt.type,vt.key,vt.props,null,ht.mode,Ct),Ct.ref=sh(ht,gt,vt),Ct.return=ht,ht=Ct)}return ot(ht);case wa:e:{for(Zt=vt.key;gt!==null;){if(gt.key===Zt)if(gt.tag===4&&gt.stateNode.containerInfo===vt.containerInfo&&gt.stateNode.implementation===vt.implementation){et(ht,gt.sibling),gt=rt(gt,vt.children||[]),gt.return=ht,ht=gt;break e}else{et(ht,gt);break}else tt(ht,gt);gt=gt.sibling}gt=zh(vt,ht.mode,Ct),gt.return=ht,ht=gt}return ot(ht);case Ha:return Zt=vt._init,Tt(ht,gt,Zt(vt._payload),Ct)}if(eb(vt))return pt(ht,gt,vt,Ct);if(Ka(vt))return bt(ht,gt,vt,Ct);th(ht,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,gt!==null&&gt.tag===6?(et(ht,gt.sibling),gt=rt(gt,vt),gt.return=ht,ht=gt):(et(ht,gt),gt=xh(vt,ht.mode,Ct),gt.return=ht,ht=gt),ot(ht)):et(ht,gt)}return Tt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$3(174));return _e}function Ih(_e,tt){switch(G(Gh,tt),G(Fh,_e),G(Eh,Dh),_e=tt.nodeType,_e){case 9:case 11:tt=(tt=tt.documentElement)?tt.namespaceURI:lb(null,"");break;default:_e=_e===8?tt.parentNode:tt,tt=_e.namespaceURI||null,_e=_e.tagName,tt=lb(tt,_e)}E$1(Eh),G(Eh,tt)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(_e){Hh(Gh.current);var tt=Hh(Eh.current),et=lb(tt,_e.type);tt!==et&&(G(Fh,_e),G(Eh,et))}function Lh(_e){Fh.current===_e&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(_e){for(var tt=_e;tt!==null;){if(tt.tag===13){var et=tt.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return tt}else if(tt.tag===19&&tt.memoizedProps.revealOrder!==void 0){if(tt.flags&128)return tt}else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return null;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$3(321))}function Wh(_e,tt){if(tt===null)return!1;for(var et=0;et<tt.length&&et<_e.length;et++)if(!He(_e[et],tt[et]))return!1;return!0}function Xh(_e,tt,et,nt,rt,it){if(Rh=it,N$1=tt,tt.memoizedState=null,tt.updateQueue=null,tt.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=et(nt,rt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$3(301));it+=1,P$1=O=null,tt.updateQueue=null,Ph.current=$h,_e=et(nt,rt)}while(Th)}if(Ph.current=ai,tt=O!==null&&O.next!==null,Rh=0,P$1=O=N$1=null,Sh=!1,tt)throw Error(p$3(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=_e:P$1=P$1.next=_e,P$1}function di(){if(O===null){var _e=N$1.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O.next;var tt=P$1===null?N$1.memoizedState:P$1.next;if(tt!==null)P$1=tt,O=_e;else{if(_e===null)throw Error(p$3(310));O=_e,_e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P$1===null?N$1.memoizedState=P$1=_e:P$1=P$1.next=_e}return P$1}function ei(_e,tt){return typeof tt=="function"?tt(_e):tt}function fi(_e){var tt=di(),et=tt.queue;if(et===null)throw Error(p$3(311));et.lastRenderedReducer=_e;var nt=O,rt=nt.baseQueue,it=et.pending;if(it!==null){if(rt!==null){var ot=rt.next;rt.next=it.next,it.next=ot}nt.baseQueue=rt=it,et.pending=null}if(rt!==null){it=rt.next,nt=nt.baseState;var st=ot=null,at=null,ct=it;do{var lt=ct.lane;if((Rh&lt)===lt)at!==null&&(at=at.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),nt=ct.hasEagerState?ct.eagerState:_e(nt,ct.action);else{var dt={lane:lt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};at===null?(st=at=dt,ot=nt):at=at.next=dt,N$1.lanes|=lt,hh|=lt}ct=ct.next}while(ct!==null&&ct!==it);at===null?ot=nt:at.next=st,He(nt,tt.memoizedState)||(Ug=!0),tt.memoizedState=nt,tt.baseState=ot,tt.baseQueue=at,et.lastRenderedState=nt}if(_e=et.interleaved,_e!==null){rt=_e;do it=rt.lane,N$1.lanes|=it,hh|=it,rt=rt.next;while(rt!==_e)}else rt===null&&(et.lanes=0);return[tt.memoizedState,et.dispatch]}function gi(_e){var tt=di(),et=tt.queue;if(et===null)throw Error(p$3(311));et.lastRenderedReducer=_e;var nt=et.dispatch,rt=et.pending,it=tt.memoizedState;if(rt!==null){et.pending=null;var ot=rt=rt.next;do it=_e(it,ot.action),ot=ot.next;while(ot!==rt);He(it,tt.memoizedState)||(Ug=!0),tt.memoizedState=it,tt.baseQueue===null&&(tt.baseState=it),et.lastRenderedState=it}return[it,nt]}function hi(){}function ii(_e,tt){var et=N$1,nt=di(),rt=tt(),it=!He(nt.memoizedState,rt);if(it&&(nt.memoizedState=rt,Ug=!0),nt=nt.queue,ji(ki.bind(null,et,nt,_e),[_e]),nt.getSnapshot!==tt||it||P$1!==null&&P$1.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,nt,rt,tt),void 0,null),R$1===null)throw Error(p$3(349));Rh&30||ni(et,tt,rt)}return rt}function ni(_e,tt,et){_e.flags|=16384,_e={getSnapshot:tt,value:et},tt=N$1.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$1.updateQueue=tt,tt.stores=[_e]):(et=tt.stores,et===null?tt.stores=[_e]:et.push(_e))}function mi(_e,tt,et,nt){tt.value=et,tt.getSnapshot=nt,oi(tt)&&pi(_e)}function ki(_e,tt,et){return et(function(){oi(tt)&&pi(_e)})}function oi(_e){var tt=_e.getSnapshot;_e=_e.value;try{var et=tt();return!He(_e,et)}catch{return!0}}function pi(_e){var tt=Zg(_e,1);tt!==null&&mh(tt,_e,1,-1)}function qi(_e){var tt=ci();return typeof _e=="function"&&(_e=_e()),tt.memoizedState=tt.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},tt.queue=_e,_e=_e.dispatch=ri.bind(null,N$1,_e),[tt.memoizedState,_e]}function li(_e,tt,et,nt){return _e={tag:_e,create:tt,destroy:et,deps:nt,next:null},tt=N$1.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$1.updateQueue=tt,tt.lastEffect=_e.next=_e):(et=tt.lastEffect,et===null?tt.lastEffect=_e.next=_e:(nt=et.next,et.next=_e,_e.next=nt,tt.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,tt,et,nt){var rt=ci();N$1.flags|=_e,rt.memoizedState=li(1|tt,et,void 0,nt===void 0?null:nt)}function ui(_e,tt,et,nt){var rt=di();nt=nt===void 0?null:nt;var it=void 0;if(O!==null){var ot=O.memoizedState;if(it=ot.destroy,nt!==null&&Wh(nt,ot.deps)){rt.memoizedState=li(tt,et,it,nt);return}}N$1.flags|=_e,rt.memoizedState=li(1|tt,et,it,nt)}function vi(_e,tt){return ti(8390656,8,_e,tt)}function ji(_e,tt){return ui(2048,8,_e,tt)}function wi(_e,tt){return ui(4,2,_e,tt)}function xi(_e,tt){return ui(4,4,_e,tt)}function yi(_e,tt){if(typeof tt=="function")return _e=_e(),tt(_e),function(){tt(null)};if(tt!=null)return _e=_e(),tt.current=_e,function(){tt.current=null}}function zi(_e,tt,et){return et=et!=null?et.concat([_e]):null,ui(4,4,yi.bind(null,tt,_e),et)}function Ai(){}function Bi(_e,tt){var et=di();tt=tt===void 0?null:tt;var nt=et.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(et.memoizedState=[_e,tt],_e)}function Ci(_e,tt){var et=di();tt=tt===void 0?null:tt;var nt=et.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(_e=_e(),et.memoizedState=[_e,tt],_e)}function Di(_e,tt,et){return Rh&21?(He(et,tt)||(et=yc(),N$1.lanes|=et,hh|=et,_e.baseState=!0),tt):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=et)}function Ei(_e,tt){var et=C$1;C$1=et!==0&&4>et?et:4,_e(!0);var nt=Qh.transition;Qh.transition={};try{_e(!1),tt()}finally{C$1=et,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(_e,tt,et){var nt=lh(_e);if(et={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(tt,et);else if(et=Yg(_e,tt,et,nt),et!==null){var rt=L$1();mh(et,_e,nt,rt),Ji(et,tt,nt)}}function ri(_e,tt,et){var nt=lh(_e),rt={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(tt,rt);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=tt.lastRenderedReducer,it!==null))try{var ot=tt.lastRenderedState,st=it(ot,et);if(rt.hasEagerState=!0,rt.eagerState=st,He(st,ot)){var at=tt.interleaved;at===null?(rt.next=rt,Xg(tt)):(rt.next=at.next,at.next=rt),tt.interleaved=rt;return}}catch{}finally{}et=Yg(_e,tt,rt,nt),et!==null&&(rt=L$1(),mh(et,_e,nt,rt),Ji(et,tt,nt))}}function Hi(_e){var tt=_e.alternate;return _e===N$1||tt!==null&&tt===N$1}function Ii(_e,tt){Th=Sh=!0;var et=_e.pending;et===null?tt.next=tt:(tt.next=et.next,et.next=tt),_e.pending=tt}function Ji(_e,tt,et){if(et&4194240){var nt=tt.lanes;nt&=_e.pendingLanes,et|=nt,tt.lanes=et,Cc(_e,et)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,tt){return ci().memoizedState=[_e,tt===void 0?null:tt],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,tt,et){return et=et!=null?et.concat([_e]):null,ti(4194308,4,yi.bind(null,tt,_e),et)},useLayoutEffect:function(_e,tt){return ti(4194308,4,_e,tt)},useInsertionEffect:function(_e,tt){return ti(4,2,_e,tt)},useMemo:function(_e,tt){var et=ci();return tt=tt===void 0?null:tt,_e=_e(),et.memoizedState=[_e,tt],_e},useReducer:function(_e,tt,et){var nt=ci();return tt=et!==void 0?et(tt):tt,nt.memoizedState=nt.baseState=tt,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:tt},nt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$1,_e),[nt.memoizedState,_e]},useRef:function(_e){var tt=ci();return _e={current:_e},tt.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),tt=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[tt,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,tt,et){var nt=N$1,rt=ci();if(I$1){if(et===void 0)throw Error(p$3(407));et=et()}else{if(et=tt(),R$1===null)throw Error(p$3(349));Rh&30||ni(nt,tt,et)}rt.memoizedState=et;var it={value:et,getSnapshot:tt};return rt.queue=it,vi(ki.bind(null,nt,it,_e),[_e]),nt.flags|=2048,li(9,mi.bind(null,nt,it,et,tt),void 0,null),et},useId:function(){var _e=ci(),tt=R$1.identifierPrefix;if(I$1){var et=sg,nt=rg;et=(nt&~(1<<32-oc(nt)-1)).toString(32)+et,tt=":"+tt+"R"+et,et=Uh++,0<et&&(tt+="H"+et.toString(32)),tt+=":"}else et=Vh++,tt=":"+tt+"r"+et.toString(32)+":";return _e.memoizedState=tt},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var tt=di();return Di(tt,O.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],tt=di().memoizedState;return[_e,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var tt=di();return O===null?tt.memoizedState=_e:Di(tt,O.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],tt=di().memoizedState;return[_e,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,tt){try{var et="",nt=tt;do et+=Pa(nt),nt=nt.return;while(nt);var rt=et}catch(it){rt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:tt,stack:rt,digest:null}}function Li(_e,tt,et){return{value:_e,source:null,stack:et??null,digest:tt??null}}function Mi(_e,tt){try{console.error(tt.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,tt,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var nt=tt.value;return et.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(_e,tt)},et}function Ri(_e,tt,et){et=ch(-1,et),et.tag=3;var nt=_e.type.getDerivedStateFromError;if(typeof nt=="function"){var rt=tt.value;et.payload=function(){return nt(rt)},et.callback=function(){Mi(_e,tt)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(et.callback=function(){Mi(_e,tt),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=tt.stack;this.componentDidCatch(tt.value,{componentStack:ot!==null?ot:""})}),et}function Ti(_e,tt,et){var nt=_e.pingCache;if(nt===null){nt=_e.pingCache=new Ni;var rt=new Set;nt.set(tt,rt)}else rt=nt.get(tt),rt===void 0&&(rt=new Set,nt.set(tt,rt));rt.has(et)||(rt.add(et),_e=Ui.bind(null,_e,tt,et),tt.then(_e,_e))}function Vi(_e){do{var tt;if((tt=_e.tag===13)&&(tt=_e.memoizedState,tt=tt!==null?tt.dehydrated!==null:!0),tt)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,tt,et,nt,rt){return _e.mode&1?(_e.flags|=65536,_e.lanes=rt,_e):(_e===tt?_e.flags|=65536:(_e.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(tt=ch(-1,1),tt.tag=2,dh(et,tt,1))),et.lanes|=1),_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,tt,et,nt){tt.child=_e===null?Ch(tt,null,et,nt):Bh(tt,_e.child,et,nt)}function Zi(_e,tt,et,nt,rt){et=et.render;var it=tt.ref;return Tg(tt,rt),nt=Xh(_e,tt,et,nt,it,rt),et=bi(),_e!==null&&!Ug?(tt.updateQueue=_e.updateQueue,tt.flags&=-2053,_e.lanes&=~rt,$i(_e,tt,rt)):(I$1&&et&&vg(tt),tt.flags|=1,Yi(_e,tt,nt,rt),tt.child)}function aj(_e,tt,et,nt,rt){if(_e===null){var it=et.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(tt.tag=15,tt.type=it,cj(_e,tt,it,nt,rt)):(_e=yh(et.type,null,nt,tt,tt.mode,rt),_e.ref=tt.ref,_e.return=tt,tt.child=_e)}if(it=_e.child,!(_e.lanes&rt)){var ot=it.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(ot,nt)&&_e.ref===tt.ref)return $i(_e,tt,rt)}return tt.flags|=1,_e=wh(it,nt),_e.ref=tt.ref,_e.return=tt,tt.child=_e}function cj(_e,tt,et,nt,rt){if(_e!==null){var it=_e.memoizedProps;if(Ie(it,nt)&&_e.ref===tt.ref)if(Ug=!1,tt.pendingProps=nt=it,(_e.lanes&rt)!==0)_e.flags&131072&&(Ug=!0);else return tt.lanes=_e.lanes,$i(_e,tt,rt)}return dj(_e,tt,et,nt,rt)}function ej(_e,tt,et){var nt=tt.pendingProps,rt=nt.children,it=_e!==null?_e.memoizedState:null;if(nt.mode==="hidden")if(!(tt.mode&1))tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=et;else{if(!(et&1073741824))return _e=it!==null?it.baseLanes|et:et,tt.lanes=tt.childLanes=1073741824,tt.memoizedState={baseLanes:_e,cachePool:null,transitions:null},tt.updateQueue=null,G(fj,gj),gj|=_e,null;tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:et,G(fj,gj),gj|=nt}else it!==null?(nt=it.baseLanes|et,tt.memoizedState=null):nt=et,G(fj,gj),gj|=nt;return Yi(_e,tt,rt,et),tt.child}function hj(_e,tt){var et=tt.ref;(_e===null&&et!==null||_e!==null&&_e.ref!==et)&&(tt.flags|=512,tt.flags|=2097152)}function dj(_e,tt,et,nt,rt){var it=Zf(et)?Xf:H$1.current;return it=Yf(tt,it),Tg(tt,rt),et=Xh(_e,tt,et,nt,it,rt),nt=bi(),_e!==null&&!Ug?(tt.updateQueue=_e.updateQueue,tt.flags&=-2053,_e.lanes&=~rt,$i(_e,tt,rt)):(I$1&&nt&&vg(tt),tt.flags|=1,Yi(_e,tt,et,rt),tt.child)}function ij(_e,tt,et,nt,rt){if(Zf(et)){var it=!0;cg(tt)}else it=!1;if(Tg(tt,rt),tt.stateNode===null)jj(_e,tt),ph(tt,et,nt),rh(tt,et,nt,rt),nt=!0;else if(_e===null){var ot=tt.stateNode,st=tt.memoizedProps;ot.props=st;var at=ot.context,ct=et.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(et)?Xf:H$1.current,ct=Yf(tt,ct));var lt=et.getDerivedStateFromProps,dt=typeof lt=="function"||typeof ot.getSnapshotBeforeUpdate=="function";dt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==nt||at!==ct)&&qh(tt,ot,nt,ct),$g=!1;var ut=tt.memoizedState;ot.state=ut,gh(tt,nt,ot,rt),at=tt.memoizedState,st!==nt||ut!==at||Wf.current||$g?(typeof lt=="function"&&(kh(tt,et,lt,nt),at=tt.memoizedState),(st=$g||oh(tt,et,st,nt,ut,at,ct))?(dt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(tt.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(tt.flags|=4194308),tt.memoizedProps=nt,tt.memoizedState=at),ot.props=nt,ot.state=at,ot.context=ct,nt=st):(typeof ot.componentDidMount=="function"&&(tt.flags|=4194308),nt=!1)}else{ot=tt.stateNode,bh(_e,tt),st=tt.memoizedProps,ct=tt.type===tt.elementType?st:Lg(tt.type,st),ot.props=ct,dt=tt.pendingProps,ut=ot.context,at=et.contextType,typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(et)?Xf:H$1.current,at=Yf(tt,at));var ft=et.getDerivedStateFromProps;(lt=typeof ft=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==dt||ut!==at)&&qh(tt,ot,nt,at),$g=!1,ut=tt.memoizedState,ot.state=ut,gh(tt,nt,ot,rt);var pt=tt.memoizedState;st!==dt||ut!==pt||Wf.current||$g?(typeof ft=="function"&&(kh(tt,et,ft,nt),pt=tt.memoizedState),(ct=$g||oh(tt,et,ct,nt,ut,pt,at)||!1)?(lt||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(nt,pt,at),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(nt,pt,at)),typeof ot.componentDidUpdate=="function"&&(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(tt.flags|=1024)):(typeof ot.componentDidUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=1024),tt.memoizedProps=nt,tt.memoizedState=pt),ot.props=nt,ot.state=pt,ot.context=at,nt=ct):(typeof ot.componentDidUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=1024),nt=!1)}return kj(_e,tt,et,nt,it,rt)}function kj(_e,tt,et,nt,rt,it){hj(_e,tt);var ot=(tt.flags&128)!==0;if(!nt&&!ot)return rt&&dg(tt,et,!1),$i(_e,tt,it);nt=tt.stateNode,Xi.current=tt;var st=ot&&typeof et.getDerivedStateFromError!="function"?null:nt.render();return tt.flags|=1,_e!==null&&ot?(tt.child=Bh(tt,_e.child,null,it),tt.child=Bh(tt,null,st,it)):Yi(_e,tt,st,it),tt.memoizedState=nt.state,rt&&dg(tt,et,!0),tt.child}function lj(_e){var tt=_e.stateNode;tt.pendingContext?ag(_e,tt.pendingContext,tt.pendingContext!==tt.context):tt.context&&ag(_e,tt.context,!1),Ih(_e,tt.containerInfo)}function mj(_e,tt,et,nt,rt){return Ig(),Jg(rt),tt.flags|=256,Yi(_e,tt,et,nt),tt.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,tt,et){var nt=tt.pendingProps,rt=M$1.current,it=!1,ot=(tt.flags&128)!==0,st;if((st=ot)||(st=_e!==null&&_e.memoizedState===null?!1:(rt&2)!==0),st?(it=!0,tt.flags&=-129):(_e===null||_e.memoizedState!==null)&&(rt|=1),G(M$1,rt&1),_e===null)return Eg(tt),_e=tt.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(tt.mode&1?_e.data==="$!"?tt.lanes=8:tt.lanes=1073741824:tt.lanes=1,null):(ot=nt.children,_e=nt.fallback,it?(nt=tt.mode,it=tt.child,ot={mode:"hidden",children:ot},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=ot):it=qj(ot,nt,0,null),_e=Ah(_e,nt,et,null),it.return=tt,_e.return=tt,it.sibling=_e,tt.child=it,tt.child.memoizedState=oj(et),tt.memoizedState=nj,_e):rj(tt,ot));if(rt=_e.memoizedState,rt!==null&&(st=rt.dehydrated,st!==null))return sj(_e,tt,ot,nt,st,rt,et);if(it){it=nt.fallback,ot=tt.mode,rt=_e.child,st=rt.sibling;var at={mode:"hidden",children:nt.children};return!(ot&1)&&tt.child!==rt?(nt=tt.child,nt.childLanes=0,nt.pendingProps=at,tt.deletions=null):(nt=wh(rt,at),nt.subtreeFlags=rt.subtreeFlags&14680064),st!==null?it=wh(st,it):(it=Ah(it,ot,et,null),it.flags|=2),it.return=tt,nt.return=tt,nt.sibling=it,tt.child=nt,nt=it,it=tt.child,ot=_e.child.memoizedState,ot=ot===null?oj(et):{baseLanes:ot.baseLanes|et,cachePool:null,transitions:ot.transitions},it.memoizedState=ot,it.childLanes=_e.childLanes&~et,tt.memoizedState=nj,nt}return it=_e.child,_e=it.sibling,nt=wh(it,{mode:"visible",children:nt.children}),!(tt.mode&1)&&(nt.lanes=et),nt.return=tt,nt.sibling=null,_e!==null&&(et=tt.deletions,et===null?(tt.deletions=[_e],tt.flags|=16):et.push(_e)),tt.child=nt,tt.memoizedState=null,nt}function rj(_e,tt){return tt=qj({mode:"visible",children:tt},_e.mode,0,null),tt.return=_e,_e.child=tt}function tj(_e,tt,et,nt){return nt!==null&&Jg(nt),Bh(tt,_e.child,null,et),_e=rj(tt,tt.pendingProps.children),_e.flags|=2,tt.memoizedState=null,_e}function sj(_e,tt,et,nt,rt,it,ot){if(et)return tt.flags&256?(tt.flags&=-257,nt=Li(Error(p$3(422))),tj(_e,tt,ot,nt)):tt.memoizedState!==null?(tt.child=_e.child,tt.flags|=128,null):(it=nt.fallback,rt=tt.mode,nt=qj({mode:"visible",children:nt.children},rt,0,null),it=Ah(it,rt,ot,null),it.flags|=2,nt.return=tt,it.return=tt,nt.sibling=it,tt.child=nt,tt.mode&1&&Bh(tt,_e.child,null,ot),tt.child.memoizedState=oj(ot),tt.memoizedState=nj,it);if(!(tt.mode&1))return tj(_e,tt,ot,null);if(rt.data==="$!"){if(nt=rt.nextSibling&&rt.nextSibling.dataset,nt)var st=nt.dgst;return nt=st,it=Error(p$3(419)),nt=Li(it,nt,void 0),tj(_e,tt,ot,nt)}if(st=(ot&_e.childLanes)!==0,Ug||st){if(nt=R$1,nt!==null){switch(ot&-ot){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(nt.suspendedLanes|ot)?0:rt,rt!==0&&rt!==it.retryLane&&(it.retryLane=rt,Zg(_e,rt),mh(nt,_e,rt,-1))}return uj(),nt=Li(Error(p$3(421))),tj(_e,tt,ot,nt)}return rt.data==="$?"?(tt.flags|=128,tt.child=_e.child,tt=vj.bind(null,_e),rt._reactRetry=tt,null):(_e=it.treeContext,yg=Lf(rt.nextSibling),xg=tt,I$1=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=tt),tt=rj(tt,nt.children),tt.flags|=4096,tt)}function wj(_e,tt,et){_e.lanes|=tt;var nt=_e.alternate;nt!==null&&(nt.lanes|=tt),Sg(_e.return,tt,et)}function xj(_e,tt,et,nt,rt){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:tt,rendering:null,renderingStartTime:0,last:nt,tail:et,tailMode:rt}:(it.isBackwards=tt,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=et,it.tailMode=rt)}function yj(_e,tt,et){var nt=tt.pendingProps,rt=nt.revealOrder,it=nt.tail;if(Yi(_e,tt,nt.children,et),nt=M$1.current,nt&2)nt=nt&1|2,tt.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=tt.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,et,tt);else if(_e.tag===19)wj(_e,et,tt);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===tt)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===tt)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}nt&=1}if(G(M$1,nt),!(tt.mode&1))tt.memoizedState=null;else switch(rt){case"forwards":for(et=tt.child,rt=null;et!==null;)_e=et.alternate,_e!==null&&Mh(_e)===null&&(rt=et),et=et.sibling;et=rt,et===null?(rt=tt.child,tt.child=null):(rt=et.sibling,et.sibling=null),xj(tt,!1,rt,et,it);break;case"backwards":for(et=null,rt=tt.child,tt.child=null;rt!==null;){if(_e=rt.alternate,_e!==null&&Mh(_e)===null){tt.child=rt;break}_e=rt.sibling,rt.sibling=et,et=rt,rt=_e}xj(tt,!0,et,null,it);break;case"together":xj(tt,!1,null,null,void 0);break;default:tt.memoizedState=null}return tt.child}function jj(_e,tt){!(tt.mode&1)&&_e!==null&&(_e.alternate=null,tt.alternate=null,tt.flags|=2)}function $i(_e,tt,et){if(_e!==null&&(tt.dependencies=_e.dependencies),hh|=tt.lanes,!(et&tt.childLanes))return null;if(_e!==null&&tt.child!==_e.child)throw Error(p$3(153));if(tt.child!==null){for(_e=tt.child,et=wh(_e,_e.pendingProps),tt.child=et,et.return=tt;_e.sibling!==null;)_e=_e.sibling,et=et.sibling=wh(_e,_e.pendingProps),et.return=tt;et.sibling=null}return tt.child}function zj(_e,tt,et){switch(tt.tag){case 3:lj(tt),Ig();break;case 5:Kh(tt);break;case 1:Zf(tt.type)&&cg(tt);break;case 4:Ih(tt,tt.stateNode.containerInfo);break;case 10:var nt=tt.type._context,rt=tt.memoizedProps.value;G(Mg,nt._currentValue),nt._currentValue=rt;break;case 13:if(nt=tt.memoizedState,nt!==null)return nt.dehydrated!==null?(G(M$1,M$1.current&1),tt.flags|=128,null):et&tt.child.childLanes?pj(_e,tt,et):(G(M$1,M$1.current&1),_e=$i(_e,tt,et),_e!==null?_e.sibling:null);G(M$1,M$1.current&1);break;case 19:if(nt=(et&tt.childLanes)!==0,_e.flags&128){if(nt)return yj(_e,tt,et);tt.flags|=128}if(rt=tt.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G(M$1,M$1.current),nt)break;return null;case 22:case 23:return tt.lanes=0,ej(_e,tt,et)}return $i(_e,tt,et)}var Aj,Bj,Cj,Dj;Aj=function(_e,tt){for(var et=tt.child;et!==null;){if(et.tag===5||et.tag===6)_e.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function(_e,tt,et,nt){var rt=_e.memoizedProps;if(rt!==nt){_e=tt.stateNode,Hh(Eh.current);var it=null;switch(et){case"input":rt=Ya(_e,rt),nt=Ya(_e,nt),it=[];break;case"select":rt=A$2({},rt,{value:void 0}),nt=A$2({},nt,{value:void 0}),it=[];break;case"textarea":rt=gb(_e,rt),nt=gb(_e,nt),it=[];break;default:typeof rt.onClick!="function"&&typeof nt.onClick=="function"&&(_e.onclick=Bf)}ub(et,nt);var ot;et=null;for(ct in rt)if(!nt.hasOwnProperty(ct)&&rt.hasOwnProperty(ct)&&rt[ct]!=null)if(ct==="style"){var st=rt[ct];for(ot in st)st.hasOwnProperty(ot)&&(et||(et={}),et[ot]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?it||(it=[]):(it=it||[]).push(ct,null));for(ct in nt){var at=nt[ct];if(st=rt!=null?rt[ct]:void 0,nt.hasOwnProperty(ct)&&at!==st&&(at!=null||st!=null))if(ct==="style")if(st){for(ot in st)!st.hasOwnProperty(ot)||at&&at.hasOwnProperty(ot)||(et||(et={}),et[ot]="");for(ot in at)at.hasOwnProperty(ot)&&st[ot]!==at[ot]&&(et||(et={}),et[ot]=at[ot])}else et||(it||(it=[]),it.push(ct,et)),et=at;else ct==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,st=st?st.__html:void 0,at!=null&&st!==at&&(it=it||[]).push(ct,at)):ct==="children"?typeof at!="string"&&typeof at!="number"||(it=it||[]).push(ct,""+at):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(at!=null&&ct==="onScroll"&&D("scroll",_e),it||st===at||(it=[])):(it=it||[]).push(ct,at))}et&&(it=it||[]).push("style",et);var ct=it;(tt.updateQueue=ct)&&(tt.flags|=4)}};Dj=function(_e,tt,et,nt){et!==nt&&(tt.flags|=4)};function Ej(_e,tt){if(!I$1)switch(_e.tailMode){case"hidden":tt=_e.tail;for(var et=null;tt!==null;)tt.alternate!==null&&(et=tt),tt=tt.sibling;et===null?_e.tail=null:et.sibling=null;break;case"collapsed":et=_e.tail;for(var nt=null;et!==null;)et.alternate!==null&&(nt=et),et=et.sibling;nt===null?tt||_e.tail===null?_e.tail=null:_e.tail.sibling=null:nt.sibling=null}}function S$2(_e){var tt=_e.alternate!==null&&_e.alternate.child===_e.child,et=0,nt=0;if(tt)for(var rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags&14680064,nt|=rt.flags&14680064,rt.return=_e,rt=rt.sibling;else for(rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags,nt|=rt.flags,rt.return=_e,rt=rt.sibling;return _e.subtreeFlags|=nt,_e.childLanes=et,tt}function Fj(_e,tt,et){var nt=tt.pendingProps;switch(wg(tt),tt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(tt),null;case 1:return Zf(tt.type)&&$f(),S$2(tt),null;case 3:return nt=tt.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(tt)?tt.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(tt.flags&256)||(tt.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,tt),S$2(tt),null;case 5:Lh(tt);var rt=Hh(Gh.current);if(et=tt.type,_e!==null&&tt.stateNode!=null)Cj(_e,tt,et,nt,rt),_e.ref!==tt.ref&&(tt.flags|=512,tt.flags|=2097152);else{if(!nt){if(tt.stateNode===null)throw Error(p$3(166));return S$2(tt),null}if(_e=Hh(Eh.current),Gg(tt)){nt=tt.stateNode,et=tt.type;var it=tt.memoizedProps;switch(nt[Of]=tt,nt[Pf]=it,_e=(tt.mode&1)!==0,et){case"dialog":D("cancel",nt),D("close",nt);break;case"iframe":case"object":case"embed":D("load",nt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],nt);break;case"source":D("error",nt);break;case"img":case"image":case"link":D("error",nt),D("load",nt);break;case"details":D("toggle",nt);break;case"input":Za(nt,it),D("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D("invalid",nt);break;case"textarea":hb(nt,it),D("invalid",nt)}ub(et,it),rt=null;for(var ot in it)if(it.hasOwnProperty(ot)){var st=it[ot];ot==="children"?typeof st=="string"?nt.textContent!==st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,_e),rt=["children",st]):typeof st=="number"&&nt.textContent!==""+st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,_e),rt=["children",""+st]):ea.hasOwnProperty(ot)&&st!=null&&ot==="onScroll"&&D("scroll",nt)}switch(et){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=rt,tt.updateQueue=nt,nt!==null&&(tt.flags|=4)}else{ot=rt.nodeType===9?rt:rt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(et)),_e==="http://www.w3.org/1999/xhtml"?et==="script"?(_e=ot.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof nt.is=="string"?_e=ot.createElement(et,{is:nt.is}):(_e=ot.createElement(et),et==="select"&&(ot=_e,nt.multiple?ot.multiple=!0:nt.size&&(ot.size=nt.size))):_e=ot.createElementNS(_e,et),_e[Of]=tt,_e[Pf]=nt,Aj(_e,tt,!1,!1),tt.stateNode=_e;e:{switch(ot=vb(et,nt),et){case"dialog":D("cancel",_e),D("close",_e),rt=nt;break;case"iframe":case"object":case"embed":D("load",_e),rt=nt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],_e);rt=nt;break;case"source":D("error",_e),rt=nt;break;case"img":case"image":case"link":D("error",_e),D("load",_e),rt=nt;break;case"details":D("toggle",_e),rt=nt;break;case"input":Za(_e,nt),rt=Ya(_e,nt),D("invalid",_e);break;case"option":rt=nt;break;case"select":_e._wrapperState={wasMultiple:!!nt.multiple},rt=A$2({},nt,{value:void 0}),D("invalid",_e);break;case"textarea":hb(_e,nt),rt=gb(_e,nt),D("invalid",_e);break;default:rt=nt}ub(et,rt),st=rt;for(it in st)if(st.hasOwnProperty(it)){var at=st[it];it==="style"?sb(_e,at):it==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&nb(_e,at)):it==="children"?typeof at=="string"?(et!=="textarea"||at!=="")&&ob(_e,at):typeof at=="number"&&ob(_e,""+at):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?at!=null&&it==="onScroll"&&D("scroll",_e):at!=null&&ta(_e,it,at,ot))}switch(et){case"input":Va(_e),db(_e,nt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":nt.value!=null&&_e.setAttribute("value",""+Sa(nt.value));break;case"select":_e.multiple=!!nt.multiple,it=nt.value,it!=null?fb(_e,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(_e,!!nt.multiple,nt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(_e.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(tt.flags|=4)}tt.ref!==null&&(tt.flags|=512,tt.flags|=2097152)}return S$2(tt),null;case 6:if(_e&&tt.stateNode!=null)Dj(_e,tt,_e.memoizedProps,nt);else{if(typeof nt!="string"&&tt.stateNode===null)throw Error(p$3(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(tt)){if(nt=tt.stateNode,et=tt.memoizedProps,nt[Of]=tt,(it=nt.nodeValue!==et)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(nt.nodeValue,et,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,et,(_e.mode&1)!==0)}it&&(tt.flags|=4)}else nt=(et.nodeType===9?et:et.ownerDocument).createTextNode(nt),nt[Of]=tt,tt.stateNode=nt}return S$2(tt),null;case 13:if(E$1(M$1),nt=tt.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&tt.mode&1&&!(tt.flags&128))Hg(),Ig(),tt.flags|=98560,it=!1;else if(it=Gg(tt),nt!==null&&nt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$3(318));if(it=tt.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$3(317));it[Of]=tt}else Ig(),!(tt.flags&128)&&(tt.memoizedState=null),tt.flags|=4;S$2(tt),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return tt.flags&65536?tt:null}return tt.flags&128?(tt.lanes=et,tt):(nt=nt!==null,nt!==(_e!==null&&_e.memoizedState!==null)&&nt&&(tt.child.flags|=8192,tt.mode&1&&(_e===null||M$1.current&1?T$1===0&&(T$1=3):uj())),tt.updateQueue!==null&&(tt.flags|=4),S$2(tt),null);case 4:return Jh(),Bj(_e,tt),_e===null&&sf(tt.stateNode.containerInfo),S$2(tt),null;case 10:return Rg(tt.type._context),S$2(tt),null;case 17:return Zf(tt.type)&&$f(),S$2(tt),null;case 19:if(E$1(M$1),it=tt.memoizedState,it===null)return S$2(tt),null;if(nt=(tt.flags&128)!==0,ot=it.rendering,ot===null)if(nt)Ej(it,!1);else{if(T$1!==0||_e!==null&&_e.flags&128)for(_e=tt.child;_e!==null;){if(ot=Mh(_e),ot!==null){for(tt.flags|=128,Ej(it,!1),nt=ot.updateQueue,nt!==null&&(tt.updateQueue=nt,tt.flags|=4),tt.subtreeFlags=0,nt=et,et=tt.child;et!==null;)it=et,_e=nt,it.flags&=14680066,ot=it.alternate,ot===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=ot.childLanes,it.lanes=ot.lanes,it.child=ot.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=ot.memoizedProps,it.memoizedState=ot.memoizedState,it.updateQueue=ot.updateQueue,it.type=ot.type,_e=ot.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),et=et.sibling;return G(M$1,M$1.current&1|2),tt.child}_e=_e.sibling}it.tail!==null&&B$1()>Hj&&(tt.flags|=128,nt=!0,Ej(it,!1),tt.lanes=4194304)}else{if(!nt)if(_e=Mh(ot),_e!==null){if(tt.flags|=128,nt=!0,et=_e.updateQueue,et!==null&&(tt.updateQueue=et,tt.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!ot.alternate&&!I$1)return S$2(tt),null}else 2*B$1()-it.renderingStartTime>Hj&&et!==1073741824&&(tt.flags|=128,nt=!0,Ej(it,!1),tt.lanes=4194304);it.isBackwards?(ot.sibling=tt.child,tt.child=ot):(et=it.last,et!==null?et.sibling=ot:tt.child=ot,it.last=ot)}return it.tail!==null?(tt=it.tail,it.rendering=tt,it.tail=tt.sibling,it.renderingStartTime=B$1(),tt.sibling=null,et=M$1.current,G(M$1,nt?et&1|2:et&1),tt):(S$2(tt),null);case 22:case 23:return Ij(),nt=tt.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==nt&&(tt.flags|=8192),nt&&tt.mode&1?gj&1073741824&&(S$2(tt),tt.subtreeFlags&6&&(tt.flags|=8192)):S$2(tt),null;case 24:return null;case 25:return null}throw Error(p$3(156,tt.tag))}function Jj(_e,tt){switch(wg(tt),tt.tag){case 1:return Zf(tt.type)&&$f(),_e=tt.flags,_e&65536?(tt.flags=_e&-65537|128,tt):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),_e=tt.flags,_e&65536&&!(_e&128)?(tt.flags=_e&-65537|128,tt):null;case 5:return Lh(tt),null;case 13:if(E$1(M$1),_e=tt.memoizedState,_e!==null&&_e.dehydrated!==null){if(tt.alternate===null)throw Error(p$3(340));Ig()}return _e=tt.flags,_e&65536?(tt.flags=_e&-65537|128,tt):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(tt.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(_e,tt){var et=_e.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(nt){W(_e,tt,nt)}else et.current=null}function Nj(_e,tt,et){try{et()}catch(nt){W(_e,tt,nt)}}var Oj=!1;function Pj(_e,tt){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var et={start:_e.selectionStart,end:_e.selectionEnd};else e:{et=(et=_e.ownerDocument)&&et.defaultView||window;var nt=et.getSelection&&et.getSelection();if(nt&&nt.rangeCount!==0){et=nt.anchorNode;var rt=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{et.nodeType,it.nodeType}catch{et=null;break e}var ot=0,st=-1,at=-1,ct=0,lt=0,dt=_e,ut=null;t:for(;;){for(var ft;dt!==et||rt!==0&&dt.nodeType!==3||(st=ot+rt),dt!==it||nt!==0&&dt.nodeType!==3||(at=ot+nt),dt.nodeType===3&&(ot+=dt.nodeValue.length),(ft=dt.firstChild)!==null;)ut=dt,dt=ft;for(;;){if(dt===_e)break t;if(ut===et&&++ct===rt&&(st=ot),ut===it&&++lt===nt&&(at=ot),(ft=dt.nextSibling)!==null)break;dt=ut,ut=dt.parentNode}dt=ft}et=st===-1||at===-1?null:{start:st,end:at}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:_e,selectionRange:et},dd=!1,V$1=tt;V$1!==null;)if(tt=V$1,_e=tt.child,(tt.subtreeFlags&1028)!==0&&_e!==null)_e.return=tt,V$1=_e;else for(;V$1!==null;){tt=V$1;try{var pt=tt.alternate;if(tt.flags&1024)switch(tt.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var bt=pt.memoizedProps,Tt=pt.memoizedState,ht=tt.stateNode,gt=ht.getSnapshotBeforeUpdate(tt.elementType===tt.type?bt:Lg(tt.type,bt),Tt);ht.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var vt=tt.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(Ct){W(tt,tt.return,Ct)}if(_e=tt.sibling,_e!==null){_e.return=tt.return,V$1=_e;break}V$1=tt.return}return pt=Oj,Oj=!1,pt}function Qj(_e,tt,et){var nt=tt.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var rt=nt=nt.next;do{if((rt.tag&_e)===_e){var it=rt.destroy;rt.destroy=void 0,it!==void 0&&Nj(tt,et,it)}rt=rt.next}while(rt!==nt)}}function Rj(_e,tt){if(tt=tt.updateQueue,tt=tt!==null?tt.lastEffect:null,tt!==null){var et=tt=tt.next;do{if((et.tag&_e)===_e){var nt=et.create;et.destroy=nt()}et=et.next}while(et!==tt)}}function Sj(_e){var tt=_e.ref;if(tt!==null){var et=_e.stateNode;switch(_e.tag){case 5:_e=et;break;default:_e=et}typeof tt=="function"?tt(_e):tt.current=_e}}function Tj(_e){var tt=_e.alternate;tt!==null&&(_e.alternate=null,Tj(tt)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(tt=_e.stateNode,tt!==null&&(delete tt[Of],delete tt[Pf],delete tt[of],delete tt[Qf],delete tt[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,tt,et){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,tt?et.nodeType===8?et.parentNode.insertBefore(_e,tt):et.insertBefore(_e,tt):(et.nodeType===8?(tt=et.parentNode,tt.insertBefore(_e,et)):(tt=et,tt.appendChild(_e)),et=et._reactRootContainer,et!=null||tt.onclick!==null||(tt.onclick=Bf));else if(nt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,tt,et),_e=_e.sibling;_e!==null;)Wj(_e,tt,et),_e=_e.sibling}function Xj(_e,tt,et){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,tt?et.insertBefore(_e,tt):et.appendChild(_e);else if(nt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,tt,et),_e=_e.sibling;_e!==null;)Xj(_e,tt,et),_e=_e.sibling}var X=null,Yj=!1;function Zj(_e,tt,et){for(et=et.child;et!==null;)ak(_e,tt,et),et=et.sibling}function ak(_e,tt,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U||Mj(et,tt);case 6:var nt=X,rt=Yj;X=null,Zj(_e,tt,et),X=nt,Yj=rt,X!==null&&(Yj?(_e=X,et=et.stateNode,_e.nodeType===8?_e.parentNode.removeChild(et):_e.removeChild(et)):X.removeChild(et.stateNode));break;case 18:X!==null&&(Yj?(_e=X,et=et.stateNode,_e.nodeType===8?Kf(_e.parentNode,et):_e.nodeType===1&&Kf(_e,et),bd(_e)):Kf(X,et.stateNode));break;case 4:nt=X,rt=Yj,X=et.stateNode.containerInfo,Yj=!0,Zj(_e,tt,et),X=nt,Yj=rt;break;case 0:case 11:case 14:case 15:if(!U&&(nt=et.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){rt=nt=nt.next;do{var it=rt,ot=it.destroy;it=it.tag,ot!==void 0&&(it&2||it&4)&&Nj(et,tt,ot),rt=rt.next}while(rt!==nt)}Zj(_e,tt,et);break;case 1:if(!U&&(Mj(et,tt),nt=et.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=et.memoizedProps,nt.state=et.memoizedState,nt.componentWillUnmount()}catch(st){W(et,tt,st)}Zj(_e,tt,et);break;case 21:Zj(_e,tt,et);break;case 22:et.mode&1?(U=(nt=U)||et.memoizedState!==null,Zj(_e,tt,et),U=nt):Zj(_e,tt,et);break;default:Zj(_e,tt,et)}}function bk(_e){var tt=_e.updateQueue;if(tt!==null){_e.updateQueue=null;var et=_e.stateNode;et===null&&(et=_e.stateNode=new Lj),tt.forEach(function(nt){var rt=ck.bind(null,_e,nt);et.has(nt)||(et.add(nt),nt.then(rt,rt))})}}function dk(_e,tt){var et=tt.deletions;if(et!==null)for(var nt=0;nt<et.length;nt++){var rt=et[nt];try{var it=_e,ot=tt,st=ot;e:for(;st!==null;){switch(st.tag){case 5:X=st.stateNode,Yj=!1;break e;case 3:X=st.stateNode.containerInfo,Yj=!0;break e;case 4:X=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X===null)throw Error(p$3(160));ak(it,ot,rt),X=null,Yj=!1;var at=rt.alternate;at!==null&&(at.return=null),rt.return=null}catch(ct){W(rt,tt,ct)}}if(tt.subtreeFlags&12854)for(tt=tt.child;tt!==null;)ek(tt,_e),tt=tt.sibling}function ek(_e,tt){var et=_e.alternate,nt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(tt,_e),fk(_e),nt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(bt){W(_e,_e.return,bt)}try{Qj(5,_e,_e.return)}catch(bt){W(_e,_e.return,bt)}}break;case 1:dk(tt,_e),fk(_e),nt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(tt,_e),fk(_e),nt&512&&et!==null&&Mj(et,et.return),_e.flags&32){var rt=_e.stateNode;try{ob(rt,"")}catch(bt){W(_e,_e.return,bt)}}if(nt&4&&(rt=_e.stateNode,rt!=null)){var it=_e.memoizedProps,ot=et!==null?et.memoizedProps:it,st=_e.type,at=_e.updateQueue;if(_e.updateQueue=null,at!==null)try{st==="input"&&it.type==="radio"&&it.name!=null&&ab(rt,it),vb(st,ot);var ct=vb(st,it);for(ot=0;ot<at.length;ot+=2){var lt=at[ot],dt=at[ot+1];lt==="style"?sb(rt,dt):lt==="dangerouslySetInnerHTML"?nb(rt,dt):lt==="children"?ob(rt,dt):ta(rt,lt,dt,ct)}switch(st){case"input":bb(rt,it);break;case"textarea":ib(rt,it);break;case"select":var ut=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!it.multiple;var ft=it.value;ft!=null?fb(rt,!!it.multiple,ft,!1):ut!==!!it.multiple&&(it.defaultValue!=null?fb(rt,!!it.multiple,it.defaultValue,!0):fb(rt,!!it.multiple,it.multiple?[]:"",!1))}rt[Pf]=it}catch(bt){W(_e,_e.return,bt)}}break;case 6:if(dk(tt,_e),fk(_e),nt&4){if(_e.stateNode===null)throw Error(p$3(162));rt=_e.stateNode,it=_e.memoizedProps;try{rt.nodeValue=it}catch(bt){W(_e,_e.return,bt)}}break;case 3:if(dk(tt,_e),fk(_e),nt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(tt.containerInfo)}catch(bt){W(_e,_e.return,bt)}break;case 4:dk(tt,_e),fk(_e);break;case 13:dk(tt,_e),fk(_e),rt=_e.child,rt.flags&8192&&(it=rt.memoizedState!==null,rt.stateNode.isHidden=it,!it||rt.alternate!==null&&rt.alternate.memoizedState!==null||(gk=B$1())),nt&4&&bk(_e);break;case 22:if(lt=et!==null&&et.memoizedState!==null,_e.mode&1?(U=(ct=U)||lt,dk(tt,_e),U=ct):dk(tt,_e),fk(_e),nt&8192){if(ct=_e.memoizedState!==null,(_e.stateNode.isHidden=ct)&&!lt&&_e.mode&1)for(V$1=_e,lt=_e.child;lt!==null;){for(dt=V$1=lt;V$1!==null;){switch(ut=V$1,ft=ut.child,ut.tag){case 0:case 11:case 14:case 15:Qj(4,ut,ut.return);break;case 1:Mj(ut,ut.return);var pt=ut.stateNode;if(typeof pt.componentWillUnmount=="function"){nt=ut,et=ut.return;try{tt=nt,pt.props=tt.memoizedProps,pt.state=tt.memoizedState,pt.componentWillUnmount()}catch(bt){W(nt,et,bt)}}break;case 5:Mj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){hk(dt);continue}}ft!==null?(ft.return=ut,V$1=ft):hk(dt)}lt=lt.sibling}e:for(lt=null,dt=_e;;){if(dt.tag===5){if(lt===null){lt=dt;try{rt=dt.stateNode,ct?(it=rt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(st=dt.stateNode,at=dt.memoizedProps.style,ot=at!=null&&at.hasOwnProperty("display")?at.display:null,st.style.display=rb("display",ot))}catch(bt){W(_e,_e.return,bt)}}}else if(dt.tag===6){if(lt===null)try{dt.stateNode.nodeValue=ct?"":dt.memoizedProps}catch(bt){W(_e,_e.return,bt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===_e)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===_e)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===_e)break e;lt===dt&&(lt=null),dt=dt.return}lt===dt&&(lt=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk(tt,_e),fk(_e),nt&4&&bk(_e);break;case 21:break;default:dk(tt,_e),fk(_e)}}function fk(_e){var tt=_e.flags;if(tt&2){try{e:{for(var et=_e.return;et!==null;){if(Uj(et)){var nt=et;break e}et=et.return}throw Error(p$3(160))}switch(nt.tag){case 5:var rt=nt.stateNode;nt.flags&32&&(ob(rt,""),nt.flags&=-33);var it=Vj(_e);Xj(_e,it,rt);break;case 3:case 4:var ot=nt.stateNode.containerInfo,st=Vj(_e);Wj(_e,st,ot);break;default:throw Error(p$3(161))}}catch(at){W(_e,_e.return,at)}_e.flags&=-3}tt&4096&&(_e.flags&=-4097)}function ik(_e,tt,et){V$1=_e,jk(_e)}function jk(_e,tt,et){for(var nt=(_e.mode&1)!==0;V$1!==null;){var rt=V$1,it=rt.child;if(rt.tag===22&&nt){var ot=rt.memoizedState!==null||Kj;if(!ot){var st=rt.alternate,at=st!==null&&st.memoizedState!==null||U;st=Kj;var ct=U;if(Kj=ot,(U=at)&&!ct)for(V$1=rt;V$1!==null;)ot=V$1,at=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(rt):at!==null?(at.return=ot,V$1=at):kk(rt);for(;it!==null;)V$1=it,jk(it),it=it.sibling;V$1=rt,Kj=st,U=ct}lk(_e)}else rt.subtreeFlags&8772&&it!==null?(it.return=rt,V$1=it):lk(_e)}}function lk(_e){for(;V$1!==null;){var tt=V$1;if(tt.flags&8772){var et=tt.alternate;try{if(tt.flags&8772)switch(tt.tag){case 0:case 11:case 15:U||Rj(5,tt);break;case 1:var nt=tt.stateNode;if(tt.flags&4&&!U)if(et===null)nt.componentDidMount();else{var rt=tt.elementType===tt.type?et.memoizedProps:Lg(tt.type,et.memoizedProps);nt.componentDidUpdate(rt,et.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=tt.updateQueue;it!==null&&ih(tt,it,nt);break;case 3:var ot=tt.updateQueue;if(ot!==null){if(et=null,tt.child!==null)switch(tt.child.tag){case 5:et=tt.child.stateNode;break;case 1:et=tt.child.stateNode}ih(tt,ot,et)}break;case 5:var st=tt.stateNode;if(et===null&&tt.flags&4){et=st;var at=tt.memoizedProps;switch(tt.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&et.focus();break;case"img":at.src&&(et.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(tt.memoizedState===null){var ct=tt.alternate;if(ct!==null){var lt=ct.memoizedState;if(lt!==null){var dt=lt.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U||tt.flags&512&&Sj(tt)}catch(ut){W(tt,tt.return,ut)}}if(tt===_e){V$1=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,V$1=et;break}V$1=tt.return}}function hk(_e){for(;V$1!==null;){var tt=V$1;if(tt===_e){V$1=null;break}var et=tt.sibling;if(et!==null){et.return=tt.return,V$1=et;break}V$1=tt.return}}function kk(_e){for(;V$1!==null;){var tt=V$1;try{switch(tt.tag){case 0:case 11:case 15:var et=tt.return;try{Rj(4,tt)}catch(at){W(tt,et,at)}break;case 1:var nt=tt.stateNode;if(typeof nt.componentDidMount=="function"){var rt=tt.return;try{nt.componentDidMount()}catch(at){W(tt,rt,at)}}var it=tt.return;try{Sj(tt)}catch(at){W(tt,it,at)}break;case 5:var ot=tt.return;try{Sj(tt)}catch(at){W(tt,ot,at)}}}catch(at){W(tt,tt.return,at)}if(tt===_e){V$1=null;break}var st=tt.sibling;if(st!==null){st.return=tt.return,V$1=st;break}V$1=tt.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y=null,Z=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function mh(_e,tt,et,nt){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac(_e,et,nt),(!(K&2)||_e!==R$1)&&(_e===R$1&&(!(K&2)&&(rk|=et),T$1===4&&Dk(_e,Z)),Ek(_e,nt),et===1&&K===0&&!(tt.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(_e,tt){var et=_e.callbackNode;wc(_e,tt);var nt=uc(_e,_e===R$1?Z:0);if(nt===0)et!==null&&bc(et),_e.callbackNode=null,_e.callbackPriority=0;else if(tt=nt&-nt,_e.callbackPriority!==tt){if(et!=null&&bc(et),tt===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(nt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,_e))}_e.callbackPriority=tt,_e.callbackNode=et}}function Hk(_e,tt){if(Bk=-1,Ck=0,K&6)throw Error(p$3(327));var et=_e.callbackNode;if(Ik()&&_e.callbackNode!==et)return null;var nt=uc(_e,_e===R$1?Z:0);if(nt===0)return null;if(nt&30||nt&_e.expiredLanes||tt)tt=Jk(_e,nt);else{tt=nt;var rt=K;K|=2;var it=Kk();(R$1!==_e||Z!==tt)&&(vk=null,Hj=B$1()+500,Lk(_e,tt));do try{Mk();break}catch(st){Nk(_e,st)}while(1);Qg(),nk.current=it,K=rt,Y!==null?tt=0:(R$1=null,Z=0,tt=T$1)}if(tt!==0){if(tt===2&&(rt=xc(_e),rt!==0&&(nt=rt,tt=Ok(_e,rt))),tt===1)throw et=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$1()),et;if(tt===6)Dk(_e,nt);else{if(rt=_e.current.alternate,!(nt&30)&&!Pk(rt)&&(tt=Jk(_e,nt),tt===2&&(it=xc(_e),it!==0&&(nt=it,tt=Ok(_e,it))),tt===1))throw et=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$1()),et;switch(_e.finishedWork=rt,_e.finishedLanes=nt,tt){case 0:case 1:throw Error(p$3(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,nt),(nt&130023424)===nt&&(tt=gk+500-B$1(),10<tt)){if(uc(_e,0)!==0)break;if(rt=_e.suspendedLanes,(rt&nt)!==nt){L$1(),_e.pingedLanes|=_e.suspendedLanes&rt;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),tt);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,nt),(nt&4194240)===nt)break;for(tt=_e.eventTimes,rt=-1;0<nt;){var ot=31-oc(nt);it=1<<ot,ot=tt[ot],ot>rt&&(rt=ot),nt&=~it}if(nt=rt,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),nt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$3(329))}}}return Ek(_e,B$1()),_e.callbackNode===et?Hk.bind(null,_e):null}function Ok(_e,tt){var et=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,tt).flags|=256),_e=Jk(_e,tt),_e!==2&&(tt=uk,uk=et,tt!==null&&Gj(tt)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var tt=_e;;){if(tt.flags&16384){var et=tt.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var nt=0;nt<et.length;nt++){var rt=et[nt],it=rt.getSnapshot;rt=rt.value;try{if(!He(it(),rt))return!1}catch{return!1}}}if(et=tt.child,tt.subtreeFlags&16384&&et!==null)et.return=tt,tt=et;else{if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return!0;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}}return!0}function Dk(_e,tt){for(tt&=~sk,tt&=~rk,_e.suspendedLanes|=tt,_e.pingedLanes&=~tt,_e=_e.expirationTimes;0<tt;){var et=31-oc(tt),nt=1<<et;_e[et]=-1,tt&=~nt}}function Fk(_e){if(K&6)throw Error(p$3(327));Ik();var tt=uc(_e,0);if(!(tt&1))return Ek(_e,B$1()),null;var et=Jk(_e,tt);if(_e.tag!==0&&et===2){var nt=xc(_e);nt!==0&&(tt=nt,et=Ok(_e,nt))}if(et===1)throw et=qk,Lk(_e,0),Dk(_e,tt),Ek(_e,B$1()),et;if(et===6)throw Error(p$3(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=tt,Qk(_e,uk,vk),Ek(_e,B$1()),null}function Rk(_e,tt){var et=K;K|=1;try{return _e(tt)}finally{K=et,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var tt=K;K|=1;var et=pk.transition,nt=C$1;try{if(pk.transition=null,C$1=1,_e)return _e()}finally{C$1=nt,pk.transition=et,K=tt,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(_e,tt){_e.finishedWork=null,_e.finishedLanes=0;var et=_e.timeoutHandle;if(et!==-1&&(_e.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var nt=et;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$1=_e,Y=_e=wh(_e.current,null),Z=gj=tt,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(tt=0;tt<Wg.length;tt++)if(et=Wg[tt],nt=et.interleaved,nt!==null){et.interleaved=null;var rt=nt.next,it=et.pending;if(it!==null){var ot=it.next;it.next=rt,nt.next=ot}et.pending=nt}Wg=null}return _e}function Nk(_e,tt){do{var et=Y;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$1.memoizedState;nt!==null;){var rt=nt.queue;rt!==null&&(rt.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$1=O=N$1=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T$1=1,qk=tt,Y=null;break}e:{var it=_e,ot=et.return,st=et,at=tt;if(tt=Z,st.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var ct=at,lt=st,dt=lt.tag;if(!(lt.mode&1)&&(dt===0||dt===11||dt===15)){var ut=lt.alternate;ut?(lt.updateQueue=ut.updateQueue,lt.memoizedState=ut.memoizedState,lt.lanes=ut.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var ft=Vi(ot);if(ft!==null){ft.flags&=-257,Wi(ft,ot,st,it,tt),ft.mode&1&&Ti(it,ct,tt),tt=ft,at=ct;var pt=tt.updateQueue;if(pt===null){var bt=new Set;bt.add(at),tt.updateQueue=bt}else pt.add(at);break e}else{if(!(tt&1)){Ti(it,ct,tt),uj();break e}at=Error(p$3(426))}}else if(I$1&&st.mode&1){var Tt=Vi(ot);if(Tt!==null){!(Tt.flags&65536)&&(Tt.flags|=256),Wi(Tt,ot,st,it,tt),Jg(Ki(at,st));break e}}it=at=Ki(at,st),T$1!==4&&(T$1=2),tk===null?tk=[it]:tk.push(it),it=ot;do{switch(it.tag){case 3:it.flags|=65536,tt&=-tt,it.lanes|=tt;var ht=Oi(it,at,tt);fh(it,ht);break e;case 1:st=at;var gt=it.type,vt=it.stateNode;if(!(it.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(Si===null||!Si.has(vt)))){it.flags|=65536,tt&=-tt,it.lanes|=tt;var Ct=Ri(it,st,tt);fh(it,Ct);break e}}it=it.return}while(it!==null)}Tk(et)}catch(It){tt=It,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(1)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z)}function Jk(_e,tt){var et=K;K|=2;var nt=Kk();(R$1!==_e||Z!==tt)&&(vk=null,Lk(_e,tt));do try{Uk();break}catch(rt){Nk(_e,rt)}while(1);if(Qg(),K=et,nk.current=nt,Y!==null)throw Error(p$3(261));return R$1=null,Z=0,T$1}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(_e){var tt=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,tt===null?Tk(_e):Y=tt,ok.current=null}function Tk(_e){var tt=_e;do{var et=tt.alternate;if(_e=tt.return,tt.flags&32768){if(et=Jj(et,tt),et!==null){et.flags&=32767,Y=et;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$1=6,Y=null;return}}else if(et=Fj(et,tt,gj),et!==null){Y=et;return}if(tt=tt.sibling,tt!==null){Y=tt;return}Y=tt=_e}while(tt!==null);T$1===0&&(T$1=5)}function Qk(_e,tt,et){var nt=C$1,rt=pk.transition;try{pk.transition=null,C$1=1,Xk(_e,tt,et,nt)}finally{pk.transition=rt,C$1=nt}return null}function Xk(_e,tt,et,nt){do Ik();while(xk!==null);if(K&6)throw Error(p$3(327));et=_e.finishedWork;var rt=_e.finishedLanes;if(et===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,et===_e.current)throw Error(p$3(177));_e.callbackNode=null,_e.callbackPriority=0;var it=et.lanes|et.childLanes;if(Bc(_e,it),_e===R$1&&(Y=R$1=null,Z=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(et.flags&15990)!==0,et.subtreeFlags&15990||it){it=pk.transition,pk.transition=null;var ot=C$1;C$1=1;var st=K;K|=4,ok.current=null,Pj(_e,et),ek(et,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=et,ik(et),dc(),K=st,C$1=ot,pk.transition=it}else _e.current=et;if(wk&&(wk=!1,xk=_e,yk=rt),it=_e.pendingLanes,it===0&&(Si=null),mc(et.stateNode),Ek(_e,B$1()),tt!==null)for(nt=_e.onRecoverableError,et=0;et<tt.length;et++)rt=tt[et],nt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),it=_e.pendingLanes,it&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),tt=pk.transition,et=C$1;try{if(pk.transition=null,C$1=16>_e?16:_e,xk===null)var nt=!1;else{if(_e=xk,xk=null,yk=0,K&6)throw Error(p$3(331));var rt=K;for(K|=4,V$1=_e.current;V$1!==null;){var it=V$1,ot=it.child;if(V$1.flags&16){var st=it.deletions;if(st!==null){for(var at=0;at<st.length;at++){var ct=st[at];for(V$1=ct;V$1!==null;){var lt=V$1;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,it)}var dt=lt.child;if(dt!==null)dt.return=lt,V$1=dt;else for(;V$1!==null;){lt=V$1;var ut=lt.sibling,ft=lt.return;if(Tj(lt),lt===ct){V$1=null;break}if(ut!==null){ut.return=ft,V$1=ut;break}V$1=ft}}}var pt=it.alternate;if(pt!==null){var bt=pt.child;if(bt!==null){pt.child=null;do{var Tt=bt.sibling;bt.sibling=null,bt=Tt}while(bt!==null)}}V$1=it}}if(it.subtreeFlags&2064&&ot!==null)ot.return=it,V$1=ot;else e:for(;V$1!==null;){if(it=V$1,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var ht=it.sibling;if(ht!==null){ht.return=it.return,V$1=ht;break e}V$1=it.return}}var gt=_e.current;for(V$1=gt;V$1!==null;){ot=V$1;var vt=ot.child;if(ot.subtreeFlags&2064&&vt!==null)vt.return=ot,V$1=vt;else e:for(ot=gt;V$1!==null;){if(st=V$1,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(It){W(st,st.return,It)}if(st===ot){V$1=null;break e}var Ct=st.sibling;if(Ct!==null){Ct.return=st.return,V$1=Ct;break e}V$1=st.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}nt=!0}return nt}finally{C$1=et,pk.transition=tt}}return!1}function Yk(_e,tt,et){tt=Ki(et,tt),tt=Oi(_e,tt,1),_e=dh(_e,tt,1),tt=L$1(),_e!==null&&(Ac(_e,1,tt),Ek(_e,tt))}function W(_e,tt,et){if(_e.tag===3)Yk(_e,_e,et);else for(;tt!==null;){if(tt.tag===3){Yk(tt,_e,et);break}else if(tt.tag===1){var nt=tt.stateNode;if(typeof tt.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){_e=Ki(et,_e),_e=Ri(tt,_e,1),tt=dh(tt,_e,1),_e=L$1(),tt!==null&&(Ac(tt,1,_e),Ek(tt,_e));break}}tt=tt.return}}function Ui(_e,tt,et){var nt=_e.pingCache;nt!==null&&nt.delete(tt),tt=L$1(),_e.pingedLanes|=_e.suspendedLanes&et,R$1===_e&&(Z&et)===et&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B$1()-gk?Lk(_e,0):sk|=et),Ek(_e,tt)}function Zk(_e,tt){tt===0&&(_e.mode&1?(tt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):tt=1);var et=L$1();_e=Zg(_e,tt),_e!==null&&(Ac(_e,tt,et),Ek(_e,et))}function vj(_e){var tt=_e.memoizedState,et=0;tt!==null&&(et=tt.retryLane),Zk(_e,et)}function ck(_e,tt){var et=0;switch(_e.tag){case 13:var nt=_e.stateNode,rt=_e.memoizedState;rt!==null&&(et=rt.retryLane);break;case 19:nt=_e.stateNode;break;default:throw Error(p$3(314))}nt!==null&&nt.delete(tt),Zk(_e,et)}var Wk;Wk=function(_e,tt,et){if(_e!==null)if(_e.memoizedProps!==tt.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&et)&&!(tt.flags&128))return Ug=!1,zj(_e,tt,et);Ug=!!(_e.flags&131072)}else Ug=!1,I$1&&tt.flags&1048576&&ug(tt,ng,tt.index);switch(tt.lanes=0,tt.tag){case 2:var nt=tt.type;jj(_e,tt),_e=tt.pendingProps;var rt=Yf(tt,H$1.current);Tg(tt,et),rt=Xh(null,tt,nt,_e,rt,et);var it=bi();return tt.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(tt.tag=1,tt.memoizedState=null,tt.updateQueue=null,Zf(nt)?(it=!0,cg(tt)):it=!1,tt.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,ah(tt),rt.updater=nh,tt.stateNode=rt,rt._reactInternals=tt,rh(tt,nt,_e,et),tt=kj(null,tt,nt,!0,it,et)):(tt.tag=0,I$1&&it&&vg(tt),Yi(null,tt,rt,et),tt=tt.child),tt;case 16:nt=tt.elementType;e:{switch(jj(_e,tt),_e=tt.pendingProps,rt=nt._init,nt=rt(nt._payload),tt.type=nt,rt=tt.tag=$k(nt),_e=Lg(nt,_e),rt){case 0:tt=dj(null,tt,nt,_e,et);break e;case 1:tt=ij(null,tt,nt,_e,et);break e;case 11:tt=Zi(null,tt,nt,_e,et);break e;case 14:tt=aj(null,tt,nt,Lg(nt.type,_e),et);break e}throw Error(p$3(306,nt,""))}return tt;case 0:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),dj(_e,tt,nt,rt,et);case 1:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),ij(_e,tt,nt,rt,et);case 3:e:{if(lj(tt),_e===null)throw Error(p$3(387));nt=tt.pendingProps,it=tt.memoizedState,rt=it.element,bh(_e,tt),gh(tt,nt,null,et);var ot=tt.memoizedState;if(nt=ot.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},tt.updateQueue.baseState=it,tt.memoizedState=it,tt.flags&256){rt=Ki(Error(p$3(423)),tt),tt=mj(_e,tt,nt,et,rt);break e}else if(nt!==rt){rt=Ki(Error(p$3(424)),tt),tt=mj(_e,tt,nt,et,rt);break e}else for(yg=Lf(tt.stateNode.containerInfo.firstChild),xg=tt,I$1=!0,zg=null,et=Ch(tt,null,nt,et),tt.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),nt===rt){tt=$i(_e,tt,et);break e}Yi(_e,tt,nt,et)}tt=tt.child}return tt;case 5:return Kh(tt),_e===null&&Eg(tt),nt=tt.type,rt=tt.pendingProps,it=_e!==null?_e.memoizedProps:null,ot=rt.children,Ef(nt,rt)?ot=null:it!==null&&Ef(nt,it)&&(tt.flags|=32),hj(_e,tt),Yi(_e,tt,ot,et),tt.child;case 6:return _e===null&&Eg(tt),null;case 13:return pj(_e,tt,et);case 4:return Ih(tt,tt.stateNode.containerInfo),nt=tt.pendingProps,_e===null?tt.child=Bh(tt,null,nt,et):Yi(_e,tt,nt,et),tt.child;case 11:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),Zi(_e,tt,nt,rt,et);case 7:return Yi(_e,tt,tt.pendingProps,et),tt.child;case 8:return Yi(_e,tt,tt.pendingProps.children,et),tt.child;case 12:return Yi(_e,tt,tt.pendingProps.children,et),tt.child;case 10:e:{if(nt=tt.type._context,rt=tt.pendingProps,it=tt.memoizedProps,ot=rt.value,G(Mg,nt._currentValue),nt._currentValue=ot,it!==null)if(He(it.value,ot)){if(it.children===rt.children&&!Wf.current){tt=$i(_e,tt,et);break e}}else for(it=tt.child,it!==null&&(it.return=tt);it!==null;){var st=it.dependencies;if(st!==null){ot=it.child;for(var at=st.firstContext;at!==null;){if(at.context===nt){if(it.tag===1){at=ch(-1,et&-et),at.tag=2;var ct=it.updateQueue;if(ct!==null){ct=ct.shared;var lt=ct.pending;lt===null?at.next=at:(at.next=lt.next,lt.next=at),ct.pending=at}}it.lanes|=et,at=it.alternate,at!==null&&(at.lanes|=et),Sg(it.return,et,tt),st.lanes|=et;break}at=at.next}}else if(it.tag===10)ot=it.type===tt.type?null:it.child;else if(it.tag===18){if(ot=it.return,ot===null)throw Error(p$3(341));ot.lanes|=et,st=ot.alternate,st!==null&&(st.lanes|=et),Sg(ot,et,tt),ot=it.sibling}else ot=it.child;if(ot!==null)ot.return=it;else for(ot=it;ot!==null;){if(ot===tt){ot=null;break}if(it=ot.sibling,it!==null){it.return=ot.return,ot=it;break}ot=ot.return}it=ot}Yi(_e,tt,rt.children,et),tt=tt.child}return tt;case 9:return rt=tt.type,nt=tt.pendingProps.children,Tg(tt,et),rt=Vg(rt),nt=nt(rt),tt.flags|=1,Yi(_e,tt,nt,et),tt.child;case 14:return nt=tt.type,rt=Lg(nt,tt.pendingProps),rt=Lg(nt.type,rt),aj(_e,tt,nt,rt,et);case 15:return cj(_e,tt,tt.type,tt.pendingProps,et);case 17:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),jj(_e,tt),tt.tag=1,Zf(nt)?(_e=!0,cg(tt)):_e=!1,Tg(tt,et),ph(tt,nt,rt),rh(tt,nt,rt,et),kj(null,tt,nt,!0,_e,et);case 19:return yj(_e,tt,et);case 22:return ej(_e,tt,et)}throw Error(p$3(156,tt.tag))};function Gk(_e,tt){return ac(_e,tt)}function al(_e,tt,et,nt){this.tag=_e,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=tt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,tt,et,nt){return new al(_e,tt,et,nt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,tt){var et=_e.alternate;return et===null?(et=Bg(_e.tag,tt,_e.key,_e.mode),et.elementType=_e.elementType,et.type=_e.type,et.stateNode=_e.stateNode,et.alternate=_e,_e.alternate=et):(et.pendingProps=tt,et.type=_e.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=_e.flags&14680064,et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,tt=_e.dependencies,et.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext},et.sibling=_e.sibling,et.index=_e.index,et.ref=_e.ref,et}function yh(_e,tt,et,nt,rt,it){var ot=2;if(nt=_e,typeof _e=="function")bj(_e)&&(ot=1);else if(typeof _e=="string")ot=5;else e:switch(_e){case ya:return Ah(et.children,rt,it,tt);case za:ot=8,rt|=8;break;case Aa:return _e=Bg(12,et,tt,rt|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,et,tt,rt),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,et,tt,rt),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return qj(et,rt,it,tt);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,nt=null;break e}throw Error(p$3(130,_e==null?_e:typeof _e,""))}return tt=Bg(ot,et,tt,rt),tt.elementType=_e,tt.type=nt,tt.lanes=it,tt}function Ah(_e,tt,et,nt){return _e=Bg(7,_e,nt,tt),_e.lanes=et,_e}function qj(_e,tt,et,nt){return _e=Bg(22,_e,nt,tt),_e.elementType=Ia,_e.lanes=et,_e.stateNode={isHidden:!1},_e}function xh(_e,tt,et){return _e=Bg(6,_e,null,tt),_e.lanes=et,_e}function zh(_e,tt,et){return tt=Bg(4,_e.children!==null?_e.children:[],_e.key,tt),tt.lanes=et,tt.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},tt}function bl(_e,tt,et,nt,rt){this.tag=tt,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function cl(_e,tt,et,nt,rt,it,ot,st,at){return _e=new bl(_e,tt,et,st,at),tt===1?(tt=1,it===!0&&(tt|=8)):tt=0,it=Bg(3,null,null,tt),_e.current=it,it.stateNode=_e,it.memoizedState={element:nt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),_e}function dl(_e,tt,et){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:_e,containerInfo:tt,implementation:et}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$3(170));var tt=_e;do{switch(tt.tag){case 3:tt=tt.stateNode.context;break e;case 1:if(Zf(tt.type)){tt=tt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}tt=tt.return}while(tt!==null);throw Error(p$3(171))}if(_e.tag===1){var et=_e.type;if(Zf(et))return bg(_e,et,tt)}return tt}function fl(_e,tt,et,nt,rt,it,ot,st,at){return _e=cl(et,nt,!0,_e,rt,it,ot,st,at),_e.context=el(null),et=_e.current,nt=L$1(),rt=lh(et),it=ch(nt,rt),it.callback=tt??null,dh(et,it,rt),_e.current.lanes=rt,Ac(_e,rt,nt),Ek(_e,nt),_e}function gl(_e,tt,et,nt){var rt=tt.current,it=L$1(),ot=lh(rt);return et=el(et),tt.context===null?tt.context=et:tt.pendingContext=et,tt=ch(it,ot),tt.payload={element:_e},nt=nt===void 0?null:nt,nt!==null&&(tt.callback=nt),_e=dh(rt,tt,ot),_e!==null&&(mh(_e,rt,ot,it),eh(_e,rt,ot)),ot}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,tt){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var et=_e.retryLane;_e.retryLane=et!==0&&et<tt?et:tt}}function jl(_e,tt){il(_e,tt),(_e=_e.alternate)&&il(_e,tt)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var tt=this._internalRoot;if(tt===null)throw Error(p$3(409));gl(_e,tt,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var tt=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),tt[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var tt=Hc();_e={blockedOn:null,target:_e,priority:tt};for(var et=0;et<Qc.length&&tt!==0&&tt<Qc[et].priority;et++);Qc.splice(et,0,_e),et===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,tt,et,nt,rt){if(rt){if(typeof nt=="function"){var it=nt;nt=function(){var ct=hl(ot);it.call(ct)}}var ot=fl(tt,nt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=ot,_e[uf]=ot.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),ot}for(;rt=_e.lastChild;)_e.removeChild(rt);if(typeof nt=="function"){var st=nt;nt=function(){var ct=hl(at);st.call(ct)}}var at=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=at,_e[uf]=at.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(tt,at,et,nt)}),at}function sl(_e,tt,et,nt,rt){var it=et._reactRootContainer;if(it){var ot=it;if(typeof rt=="function"){var st=rt;rt=function(){var at=hl(ot);st.call(at)}}gl(tt,ot,_e,rt)}else ot=rl(et,tt,_e,rt,nt);return hl(ot)}Ec=function(_e){switch(_e.tag){case 3:var tt=_e.stateNode;if(tt.current.memoizedState.isDehydrated){var et=tc(tt.pendingLanes);et!==0&&(Cc(tt,et|1),Ek(tt,B$1()),!(K&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(_e,1);if(nt!==null){var rt=L$1();mh(nt,_e,1,rt)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var tt=Zg(_e,134217728);if(tt!==null){var et=L$1();mh(tt,_e,134217728,et)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var tt=lh(_e),et=Zg(_e,tt);if(et!==null){var nt=L$1();mh(et,_e,tt,nt)}jl(_e,tt)}};Hc=function(){return C$1};Ic=function(_e,tt){var et=C$1;try{return C$1=_e,tt()}finally{C$1=et}};yb=function(_e,tt,et){switch(tt){case"input":if(bb(_e,et),tt=et.name,et.type==="radio"&&tt!=null){for(et=_e;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+tt)+'][type="radio"]'),tt=0;tt<et.length;tt++){var nt=et[tt];if(nt!==_e&&nt.form===_e.form){var rt=Db(nt);if(!rt)throw Error(p$3(90));Wa(nt),bb(nt,rt)}}}break;case"textarea":ib(_e,et);break;case"select":tt=et.value,tt!=null&&fb(_e,!!et.multiple,tt,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,tt){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(tt))throw Error(p$3(200));return dl(_e,tt,null,et)};reactDom_production_min.createRoot=function(_e,tt){if(!ol(_e))throw Error(p$3(299));var et=!1,nt="",rt=ll;return tt!=null&&(tt.unstable_strictMode===!0&&(et=!0),tt.identifierPrefix!==void 0&&(nt=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(rt=tt.onRecoverableError)),tt=cl(_e,1,!1,null,null,et,!1,nt,rt),_e[uf]=tt.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(tt)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var tt=_e._reactInternals;if(tt===void 0)throw typeof _e.render=="function"?Error(p$3(188)):(_e=Object.keys(_e).join(","),Error(p$3(268,_e)));return _e=Zb(tt),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,tt,et){if(!pl(tt))throw Error(p$3(200));return sl(null,_e,tt,!0,et)};reactDom_production_min.hydrateRoot=function(_e,tt,et){if(!ol(_e))throw Error(p$3(405));var nt=et!=null&&et.hydratedSources||null,rt=!1,it="",ot=ll;if(et!=null&&(et.unstable_strictMode===!0&&(rt=!0),et.identifierPrefix!==void 0&&(it=et.identifierPrefix),et.onRecoverableError!==void 0&&(ot=et.onRecoverableError)),tt=fl(tt,null,_e,1,et??null,rt,!1,it,ot),_e[uf]=tt.current,sf(_e),nt)for(_e=0;_e<nt.length;_e++)et=nt[_e],rt=et._getVersion,rt=rt(et._source),tt.mutableSourceEagerHydrationData==null?tt.mutableSourceEagerHydrationData=[et,rt]:tt.mutableSourceEagerHydrationData.push(et,rt);return new nl(tt)};reactDom_production_min.render=function(_e,tt,et){if(!pl(tt))throw Error(p$3(200));return sl(null,_e,tt,!1,et)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$3(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,tt,et,nt){if(!pl(et))throw Error(p$3(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$3(38));return sl(_e,tt,et,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(_e){function tt(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tt)}catch(et){console.error(et)}}tt(),_e.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$3.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function tt(nt,rt){let{pathname:it,search:ot,hash:st}=nt.location;return createLocation("",{pathname:it,search:ot,hash:st},rt.state&&rt.state.usr||null,rt.state&&rt.state.key||"default")}function et(nt,rt){return typeof rt=="string"?rt:createPath(rt)}return getUrlBasedHistory(tt,et,null,_e)}function invariant(_e,tt){if(_e===!1||_e===null||typeof _e>"u")throw new Error(tt)}function warning(_e,tt){if(!_e){typeof console<"u"&&console.warn(tt);try{throw new Error(tt)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,tt){return{usr:_e.state,key:_e.key,idx:tt}}function createLocation(_e,tt,et,nt){return et===void 0&&(et=null),_extends$3({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof tt=="string"?parsePath(tt):tt,{state:et,key:tt&&tt.key||nt||createKey()})}function createPath(_e){let{pathname:tt="/",search:et="",hash:nt=""}=_e;return et&&et!=="?"&&(tt+=et.charAt(0)==="?"?et:"?"+et),nt&&nt!=="#"&&(tt+=nt.charAt(0)==="#"?nt:"#"+nt),tt}function parsePath(_e){let tt={};if(_e){let et=_e.indexOf("#");et>=0&&(tt.hash=_e.substr(et),_e=_e.substr(0,et));let nt=_e.indexOf("?");nt>=0&&(tt.search=_e.substr(nt),_e=_e.substr(0,nt)),_e&&(tt.pathname=_e)}return tt}function getUrlBasedHistory(_e,tt,et,nt){nt===void 0&&(nt={});let{window:rt=document.defaultView,v5Compat:it=!1}=nt,ot=rt.history,st=Action.Pop,at=null,ct=lt();ct==null&&(ct=0,ot.replaceState(_extends$3({},ot.state,{idx:ct}),""));function lt(){return(ot.state||{idx:null}).idx}function dt(){st=Action.Pop;let Tt=lt(),ht=Tt==null?null:Tt-ct;ct=Tt,at&&at({action:st,location:bt.location,delta:ht})}function ut(Tt,ht){st=Action.Push;let gt=createLocation(bt.location,Tt,ht);et&&et(gt,Tt),ct=lt()+1;let vt=getHistoryState(gt,ct),Ct=bt.createHref(gt);try{ot.pushState(vt,"",Ct)}catch{rt.location.assign(Ct)}it&&at&&at({action:st,location:bt.location,delta:1})}function ft(Tt,ht){st=Action.Replace;let gt=createLocation(bt.location,Tt,ht);et&&et(gt,Tt),ct=lt();let vt=getHistoryState(gt,ct),Ct=bt.createHref(gt);ot.replaceState(vt,"",Ct),it&&at&&at({action:st,location:bt.location,delta:0})}function pt(Tt){let ht=rt.location.origin!=="null"?rt.location.origin:rt.location.href,gt=typeof Tt=="string"?Tt:createPath(Tt);return invariant(ht,"No window.location.(origin|href) available to create URL for href: "+gt),new URL(gt,ht)}let bt={get action(){return st},get location(){return _e(rt,ot)},listen(Tt){if(at)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,dt),at=Tt,()=>{rt.removeEventListener(PopStateEventType,dt),at=null}},createHref(Tt){return tt(rt,Tt)},createURL:pt,encodeLocation(Tt){let ht=pt(Tt);return{pathname:ht.pathname,search:ht.search,hash:ht.hash}},push:ut,replace:ft,go(Tt){return ot.go(Tt)}};return bt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,tt,et){et===void 0&&(et="/");let nt=typeof tt=="string"?parsePath(tt):tt,rt=stripBasename(nt.pathname||"/",et);if(rt==null)return null;let it=flattenRoutes(_e);rankRouteBranches(it);let ot=null;for(let st=0;ot==null&&st<it.length;++st)ot=matchRouteBranch(it[st],safelyDecodeURI(rt));return ot}function flattenRoutes(_e,tt,et,nt){tt===void 0&&(tt=[]),et===void 0&&(et=[]),nt===void 0&&(nt="");let rt=(it,ot,st)=>{let at={relativePath:st===void 0?it.path||"":st,caseSensitive:it.caseSensitive===!0,childrenIndex:ot,route:it};at.relativePath.startsWith("/")&&(invariant(at.relativePath.startsWith(nt),'Absolute route path "'+at.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),at.relativePath=at.relativePath.slice(nt.length));let ct=joinPaths([nt,at.relativePath]),lt=et.concat(at);it.children&&it.children.length>0&&(invariant(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(it.children,tt,lt,ct)),!(it.path==null&&!it.index)&&tt.push({path:ct,score:computeScore(ct,it.index),routesMeta:lt})};return _e.forEach((it,ot)=>{var st;if(it.path===""||!((st=it.path)!=null&&st.includes("?")))rt(it,ot);else for(let at of explodeOptionalSegments(it.path))rt(it,ot,at)}),tt}function explodeOptionalSegments(_e){let tt=_e.split("/");if(tt.length===0)return[];let[et,...nt]=tt,rt=et.endsWith("?"),it=et.replace(/\?$/,"");if(nt.length===0)return rt?[it,""]:[it];let ot=explodeOptionalSegments(nt.join("/")),st=[];return st.push(...ot.map(at=>at===""?it:[it,at].join("/"))),rt&&st.push(...ot),st.map(at=>_e.startsWith("/")&&at===""?"/":at)}function rankRouteBranches(_e){_e.sort((tt,et)=>tt.score!==et.score?et.score-tt.score:compareIndexes(tt.routesMeta.map(nt=>nt.childrenIndex),et.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,tt){let et=_e.split("/"),nt=et.length;return et.some(isSplat)&&(nt+=splatPenalty),tt&&(nt+=indexRouteValue),et.filter(rt=>!isSplat(rt)).reduce((rt,it)=>rt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(_e,tt){return _e.length===tt.length&&_e.slice(0,-1).every((nt,rt)=>nt===tt[rt])?_e[_e.length-1]-tt[tt.length-1]:0}function matchRouteBranch(_e,tt){let{routesMeta:et}=_e,nt={},rt="/",it=[];for(let ot=0;ot<et.length;++ot){let st=et[ot],at=ot===et.length-1,ct=rt==="/"?tt:tt.slice(rt.length)||"/",lt=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:at},ct);if(!lt)return null;Object.assign(nt,lt.params);let dt=st.route;it.push({params:nt,pathname:joinPaths([rt,lt.pathname]),pathnameBase:normalizePathname(joinPaths([rt,lt.pathnameBase])),route:dt}),lt.pathnameBase!=="/"&&(rt=joinPaths([rt,lt.pathnameBase]))}return it}function matchPath(_e,tt){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[et,nt]=compilePath(_e.path,_e.caseSensitive,_e.end),rt=tt.match(et);if(!rt)return null;let it=rt[0],ot=it.replace(/(.)\/+$/,"$1"),st=rt.slice(1);return{params:nt.reduce((ct,lt,dt)=>{if(lt==="*"){let ut=st[dt]||"";ot=it.slice(0,it.length-ut.length).replace(/(.)\/+$/,"$1")}return ct[lt]=safelyDecodeURIComponent(st[dt]||"",lt),ct},{}),pathname:it,pathnameBase:ot,pattern:_e}}function compilePath(_e,tt,et){tt===void 0&&(tt=!1),et===void 0&&(et=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let nt=[],rt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(ot,st)=>(nt.push(st),"/([^\\/]+)"));return _e.endsWith("*")?(nt.push("*"),rt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?rt+="\\/*$":_e!==""&&_e!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,tt?void 0:"i"),nt]}function safelyDecodeURI(_e){try{return decodeURI(_e)}catch(tt){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+tt+").")),_e}}function safelyDecodeURIComponent(_e,tt){try{return decodeURIComponent(_e)}catch(et){return warning(!1,'The value for the URL param "'+tt+'" will not be decoded because'+(' the string "'+_e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+et+").")),_e}}function stripBasename(_e,tt){if(tt==="/")return _e;if(!_e.toLowerCase().startsWith(tt.toLowerCase()))return null;let et=tt.endsWith("/")?tt.length-1:tt.length,nt=_e.charAt(et);return nt&&nt!=="/"?null:_e.slice(et)||"/"}function resolvePath(_e,tt){tt===void 0&&(tt="/");let{pathname:et,search:nt="",hash:rt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,tt):tt,search:normalizeSearch(nt),hash:normalizeHash(rt)}}function resolvePathname(_e,tt){let et=tt.replace(/\/+$/,"").split("/");return _e.split("/").forEach(rt=>{rt===".."?et.length>1&&et.pop():rt!=="."&&et.push(rt)}),et.length>1?et.join("/"):"/"}function getInvalidPathError(_e,tt,et,nt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+tt+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter((tt,et)=>et===0||tt.route.path&&tt.route.path.length>0)}function resolveTo(_e,tt,et,nt){nt===void 0&&(nt=!1);let rt;typeof _e=="string"?rt=parsePath(_e):(rt=_extends$3({},_e),invariant(!rt.pathname||!rt.pathname.includes("?"),getInvalidPathError("?","pathname","search",rt)),invariant(!rt.pathname||!rt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rt)),invariant(!rt.search||!rt.search.includes("#"),getInvalidPathError("#","search","hash",rt)));let it=_e===""||rt.pathname==="",ot=it?"/":rt.pathname,st;if(nt||ot==null)st=et;else{let dt=tt.length-1;if(ot.startsWith("..")){let ut=ot.split("/");for(;ut[0]==="..";)ut.shift(),dt-=1;rt.pathname=ut.join("/")}st=dt>=0?tt[dt]:"/"}let at=resolvePath(rt,st),ct=ot&&ot!=="/"&&ot.endsWith("/"),lt=(it||ot===".")&&et.endsWith("/");return!at.pathname.endsWith("/")&&(ct||lt)&&(at.pathname+="/"),at}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function isPolyfill(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2(_e,tt,et){const nt=tt(),[{inst:rt},it]=useState({inst:{value:nt,getSnapshot:tt}});return useLayoutEffect(()=>{rt.value=nt,rt.getSnapshot=tt,checkIfSnapshotChanged(rt)&&it({inst:rt})},[_e,nt,tt]),useEffect(()=>(checkIfSnapshotChanged(rt)&&it({inst:rt}),_e(()=>{checkIfSnapshotChanged(rt)&&it({inst:rt})})),[_e]),useDebugValue(nt),nt}function checkIfSnapshotChanged(_e){const tt=_e.getSnapshot,et=_e.value;try{const nt=tt();return!is(et,nt)}catch{return!0}}function useSyncExternalStore$1(_e,tt,et){return tt()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&(_e=>_e.useSyncExternalStore)(React$1);const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]}),RouteErrorContext=reactExports.createContext(null);function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$2.apply(this,arguments)}function useHref(_e,tt){let{relative:et}=tt===void 0?{}:tt;useInRouterContext()||invariant(!1);let{basename:nt,navigator:rt}=reactExports.useContext(NavigationContext),{hash:it,pathname:ot,search:st}=useResolvedPath(_e,{relative:et}),at=ot;return nt!=="/"&&(at=ot==="/"?nt:joinPaths([nt,ot])),rt.createHref({pathname:at,search:st,hash:it})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:_e,navigator:tt}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getPathContributingMatches(et).map(st=>st.pathnameBase)),it=reactExports.useRef(!1);return reactExports.useEffect(()=>{it.current=!0}),reactExports.useCallback(function(st,at){if(at===void 0&&(at={}),!it.current)return;if(typeof st=="number"){tt.go(st);return}let ct=resolveTo(st,JSON.parse(rt),nt,at.relative==="path");_e!=="/"&&(ct.pathname=ct.pathname==="/"?_e:joinPaths([_e,ct.pathname])),(at.replace?tt.replace:tt.push)(ct,at.state,at)},[_e,tt,rt,nt])}function useResolvedPath(_e,tt){let{relative:et}=tt===void 0?{}:tt,{matches:nt}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),it=JSON.stringify(getPathContributingMatches(nt).map(ot=>ot.pathnameBase));return reactExports.useMemo(()=>resolveTo(_e,JSON.parse(it),rt,et==="path"),[_e,it,rt,et])}function useRoutes(_e,tt){useInRouterContext()||invariant(!1);let{navigator:et}=reactExports.useContext(NavigationContext),nt=reactExports.useContext(DataRouterStateContext),{matches:rt}=reactExports.useContext(RouteContext),it=rt[rt.length-1],ot=it?it.params:{};it&&it.pathname;let st=it?it.pathnameBase:"/";it&&it.route;let at=useLocation(),ct;if(tt){var lt;let bt=typeof tt=="string"?parsePath(tt):tt;st==="/"||(lt=bt.pathname)!=null&&lt.startsWith(st)||invariant(!1),ct=bt}else ct=at;let dt=ct.pathname||"/",ut=st==="/"?dt:dt.slice(st.length)||"/",ft=matchRoutes(_e,{pathname:ut}),pt=_renderMatches(ft&&ft.map(bt=>Object.assign({},bt,{params:Object.assign({},ot,bt.params),pathname:joinPaths([st,et.encodeLocation?et.encodeLocation(bt.pathname).pathname:bt.pathname]),pathnameBase:bt.pathnameBase==="/"?st:joinPaths([st,et.encodeLocation?et.encodeLocation(bt.pathnameBase).pathname:bt.pathnameBase])})),rt,nt||void 0);return tt&&pt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},ct),navigationType:Action.Pop}},pt):pt}function DefaultErrorComponent(){let _e=useRouteError(),tt=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),et=_e instanceof Error?_e.stack:null,rt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},it=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},tt),et?reactExports.createElement("pre",{style:rt},et):null,it)}class RenderErrorBoundary extends reactExports.Component{constructor(tt){super(tt),this.state={location:tt.location,error:tt.error}}static getDerivedStateFromError(tt){return{error:tt}}static getDerivedStateFromProps(tt,et){return et.location!==tt.location?{error:tt.error,location:tt.location}:{error:tt.error||et.error,location:et.location}}componentDidCatch(tt,et){console.error("React Router caught the following error during render",tt,et)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:tt,match:et,children:nt}=_e,rt=reactExports.useContext(DataRouterContext);return rt&&rt.static&&rt.staticContext&&(et.route.errorElement||et.route.ErrorBoundary)&&(rt.staticContext._deepestRenderedBoundaryId=et.route.id),reactExports.createElement(RouteContext.Provider,{value:tt},nt)}function _renderMatches(_e,tt,et){if(tt===void 0&&(tt=[]),_e==null)if(et!=null&&et.errors)_e=et.matches;else return null;let nt=_e,rt=et==null?void 0:et.errors;if(rt!=null){let it=nt.findIndex(ot=>ot.route.id&&(rt==null?void 0:rt[ot.route.id]));it>=0||invariant(!1),nt=nt.slice(0,Math.min(nt.length,it+1))}return nt.reduceRight((it,ot,st)=>{let at=ot.route.id?rt==null?void 0:rt[ot.route.id]:null,ct=null;et&&(ot.route.ErrorBoundary?ct=reactExports.createElement(ot.route.ErrorBoundary,null):ot.route.errorElement?ct=ot.route.errorElement:ct=reactExports.createElement(DefaultErrorComponent,null));let lt=tt.concat(nt.slice(0,st+1)),dt=()=>{let ut=it;return at?ut=ct:ot.route.Component?ut=reactExports.createElement(ot.route.Component,null):ot.route.element&&(ut=ot.route.element),reactExports.createElement(RenderedRoute,{match:ot,routeContext:{outlet:it,matches:lt},children:ut})};return et&&(ot.route.ErrorBoundary||ot.route.errorElement||st===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,component:ct,error:at,children:dt(),routeContext:{outlet:null,matches:lt}}):dt()},null)}var DataRouterHook$1;(function(_e){_e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(_e){_e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(_e){let tt=reactExports.useContext(DataRouterStateContext);return tt||invariant(!1),tt}function useRouteContext(_e){let tt=reactExports.useContext(RouteContext);return tt||invariant(!1),tt}function useCurrentRouteId(_e){let tt=useRouteContext(),et=tt.matches[tt.matches.length-1];return et.route.id||invariant(!1),et.route.id}function useRouteError(){var _e;let tt=reactExports.useContext(RouteErrorContext),et=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return tt||((_e=et.errors)==null?void 0:_e[nt])}function Route(_e){invariant(!1)}function Router(_e){let{basename:tt="/",children:et=null,location:nt,navigationType:rt=Action.Pop,navigator:it,static:ot=!1}=_e;useInRouterContext()&&invariant(!1);let st=tt.replace(/^\/*/,"/"),at=reactExports.useMemo(()=>({basename:st,navigator:it,static:ot}),[st,it,ot]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:ct="/",search:lt="",hash:dt="",state:ut=null,key:ft="default"}=nt,pt=reactExports.useMemo(()=>{let bt=stripBasename(ct,st);return bt==null?null:{location:{pathname:bt,search:lt,hash:dt,state:ut,key:ft},navigationType:rt}},[st,ct,lt,dt,ut,ft,rt]);return pt==null?null:reactExports.createElement(NavigationContext.Provider,{value:at},reactExports.createElement(LocationContext.Provider,{children:et,value:pt}))}function Routes(_e){let{children:tt,location:et}=_e,nt=reactExports.useContext(DataRouterContext),rt=nt&&!tt?nt.router.routes:createRoutesFromChildren(tt);return useRoutes(rt,et)}var AwaitRenderStatus;(function(_e){_e[_e.pending=0]="pending",_e[_e.success=1]="success",_e[_e.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(_e,tt){tt===void 0&&(tt=[]);let et=[];return reactExports.Children.forEach(_e,(nt,rt)=>{if(!reactExports.isValidElement(nt))return;let it=[...tt,rt];if(nt.type===reactExports.Fragment){et.push.apply(et,createRoutesFromChildren(nt.props.children,it));return}nt.type!==Route&&invariant(!1),!nt.props.index||!nt.props.children||invariant(!1);let ot={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(ot.children=createRoutesFromChildren(nt.props.children,it)),et.push(ot)}),et}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(_e,tt){if(_e==null)return{};var et={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(tt.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}function shouldProcessLinkClick(_e,tt){return _e.button===0&&(!tt||tt==="_self")&&!isModifiedEvent(_e)}const _excluded$q=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter(_e){let{basename:tt,children:et,window:nt}=_e,rt=reactExports.useRef();rt.current==null&&(rt.current=createBrowserHistory({window:nt,v5Compat:!0}));let it=rt.current,[ot,st]=reactExports.useState({action:it.action,location:it.location});return reactExports.useLayoutEffect(()=>it.listen(st),[it]),reactExports.createElement(Router,{basename:tt,children:et,location:ot.location,navigationType:ot.action,navigator:it})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$2=reactExports.forwardRef(function(tt,et){let{onClick:nt,relative:rt,reloadDocument:it,replace:ot,state:st,target:at,to:ct,preventScrollReset:lt}=tt,dt=_objectWithoutPropertiesLoose$1(tt,_excluded$q),{basename:ut}=reactExports.useContext(NavigationContext),ft,pt=!1;if(typeof ct=="string"&&ABSOLUTE_URL_REGEX.test(ct)&&(ft=ct,isBrowser$1)){let gt=new URL(window.location.href),vt=ct.startsWith("//")?new URL(gt.protocol+ct):new URL(ct),Ct=stripBasename(vt.pathname,ut);vt.origin===gt.origin&&Ct!=null?ct=Ct+vt.search+vt.hash:pt=!0}let bt=useHref(ct,{relative:rt}),Tt=useLinkClickHandler(ct,{replace:ot,state:st,target:at,preventScrollReset:lt,relative:rt});function ht(gt){nt&&nt(gt),gt.defaultPrevented||Tt(gt)}return reactExports.createElement("a",_extends$1({},dt,{href:ft||bt,onClick:pt||it?nt:ht,ref:et,target:at}))});var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmitImpl="useSubmitImpl",_e.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(_e,tt){let{target:et,replace:nt,state:rt,preventScrollReset:it,relative:ot}=tt===void 0?{}:tt,st=useNavigate(),at=useLocation(),ct=useResolvedPath(_e,{relative:ot});return reactExports.useCallback(lt=>{if(shouldProcessLinkClick(lt,et)){lt.preventDefault();let dt=nt!==void 0?nt:createPath(at)===createPath(ct);st(_e,{replace:dt,state:rt,preventScrollReset:it,relative:ot})}},[at,st,ct,nt,rt,et,_e,it,ot])}const Home=()=>jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/lobby/member",children:"Member Lobby"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/lobby/therapist",children:"Therapist Lobby"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/onboarding",children:"Onboarding test"})})]}),baseURL="https://opentok-node.onrender.com",addMember=async _e=>{try{if(!(await fetch(`${baseURL}/add-member`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({member:_e})})).ok)throw Error("error while adding a member")}catch(tt){throw tt}},getOpentokCredentials=async(_e,tt)=>{try{const et=await fetch(`${baseURL}/call-v2/room/${_e}`,{headers:{"Content-Type":"application/json"},signal:tt});if(!et.ok)throw Error("error while retrieving opentok credentials");return et.json()}catch(et){throw et}};function handleError(_e){_e&&alert(_e.message)}function createPublisherListernerMap(){return createMapFor(["accessAllowed","accessDenied","accessDialogClosed","accessDialogOpened","destroyed","mediaStopped","muteForced","streamCreated","streamDestroyed","videoDimensionsChanged","videoElementCreated"],"publisher")}function createSubscriberListenerMap(){return createMapFor(["connected","captionReceived","destroyed","disconnected","encryptionSecretMismatch","encryptionSecretMatch","videoDisabled","videoDimensionsChanged","videoDisabled","videoDisableWarning","videoDisableWarningLifted","videoElementCreated","videoEnabled"],"subscriber")}function createSessionListenersMap(){return createMapFor(["archiveStarted","archiveStopped","connectionCreated","connectionDestroyed","sessionDisconnected","sessionConnected","sessionReconnected","sessionReconnecting","signal","streamCreated","streamDestroyed","streamPropertyChanged","muteForced"],"session")}function createMapFor(_e,tt){return _e.reduce((et,nt)=>({...et,[nt]:()=>console.log(`triggered from ${tt}: ${nt}`)}),{})}const callProperties={insertMode:"append",width:"100%",height:"100%"},publisherProperties={insertMode:"append",width:"100%",height:"100%",showControls:!0};function displayDevices(){window.navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(_e=>{console.log("mediaStream stop tracks",_e.getAudioTracks())})}function createPublisher(_e,tt){let et={...publisherProperties,videoSource:tt};const nt=OT.initPublisher("publisher",et,it=>{it&&alert("error while initializing the publisher "+(it==null?void 0:it.message))}),rt=createPublisherListernerMap();return nt.on({...rt,streamDestroyed:it=>{console.log("streamDestroyed @ Publisher"),it.preventDefault()}}),nt}function setVideoSource(_e,tt){_e.setVideoSource(tt).then(()=>console.log("video source set")).catch(et=>console.error(et.name))}const Publisher=({session:_e,audioSource:tt,videoSource:et,publishToSession:nt,style:rt={}})=>{const[it,ot]=React.useState();return reactExports.useEffect(()=>{if(_e)return _e.on({sessionConnected:()=>{console.log("on session connected");const st=createPublisher(tt,et);ot(st),nt&&_e.publish(st,handleError)}}),()=>{console.log("I am unmounting the publisher",it),it&&(displayDevices(),it.stream&&_e.unpublish(it),it.off(),it.destroy(),console.log("session unpublished the publisher, publisher destroyed"))}},[_e]),reactExports.useEffect(()=>{console.log("publisher from useEffect",it),!(!it||!et)&&setVideoSource(it,et)},[et]),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{id:"publisher",style:rt})})},subscribeToSession=(_e,tt)=>_e.subscribe(tt,"subscriber",callProperties,handleError),Subscriber=({session:_e})=>{let tt;return reactExports.useEffect(()=>{if(_e)return _e.on({streamCreated:et=>{if(console.log("streamCreated",et),tt=subscribeToSession(_e,et.stream),!tt)return;const nt=createSubscriberListenerMap();tt.on({...nt})}}),()=>{tt&&(tt.stream&&_e.unsubscribe(tt),tt.off(),console.log("subscriber unsubscribed from session"))}},[]),jsxRuntimeExports.jsx("div",{id:"subscriber"})};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$3=window,e$4=t$3.ShadowRoot&&(t$3.ShadyCSS===void 0||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$3=Symbol(),n$5=new WeakMap;let o$3=class{constructor(tt,et,nt){if(this._$cssResult$=!0,nt!==s$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=tt,this.t=et}get styleSheet(){let tt=this.o;const et=this.t;if(e$4&&tt===void 0){const nt=et!==void 0&&et.length===1;nt&&(tt=n$5.get(et)),tt===void 0&&((this.o=tt=new CSSStyleSheet).replaceSync(this.cssText),nt&&n$5.set(et,tt))}return tt}toString(){return this.cssText}};const r$4=_e=>new o$3(typeof _e=="string"?_e:_e+"",void 0,s$3),i$1=(_e,...tt)=>{const et=_e.length===1?_e[0]:tt.reduce((nt,rt,it)=>nt+(ot=>{if(ot._$cssResult$===!0)return ot.cssText;if(typeof ot=="number")return ot;throw Error("Value passed to 'css' function must be a 'css' function result: "+ot+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(rt)+_e[it+1],_e[0]);return new o$3(et,_e,s$3)},S$1=(_e,tt)=>{e$4?_e.adoptedStyleSheets=tt.map(et=>et instanceof CSSStyleSheet?et:et.styleSheet):tt.forEach(et=>{const nt=document.createElement("style"),rt=t$3.litNonce;rt!==void 0&&nt.setAttribute("nonce",rt),nt.textContent=et.cssText,_e.appendChild(nt)})},c$3=e$4?_e=>_e:_e=>_e instanceof CSSStyleSheet?(tt=>{let et="";for(const nt of tt.cssRules)et+=nt.cssText;return r$4(et)})(_e):_e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var s$2;const e$3=window,r$3=e$3.trustedTypes,h$3=r$3?r$3.emptyScript:"",o$2=e$3.reactiveElementPolyfillSupport,n$4={toAttribute(_e,tt){switch(tt){case Boolean:_e=_e?h$3:null;break;case Object:case Array:_e=_e==null?_e:JSON.stringify(_e)}return _e},fromAttribute(_e,tt){let et=_e;switch(tt){case Boolean:et=_e!==null;break;case Number:et=_e===null?null:Number(_e);break;case Object:case Array:try{et=JSON.parse(_e)}catch{et=null}}return et}},a$1=(_e,tt)=>tt!==_e&&(tt==tt||_e==_e),l$4={attribute:!0,type:String,converter:n$4,reflect:!1,hasChanged:a$1};let d$3=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(tt){var et;this.finalize(),((et=this.h)!==null&&et!==void 0?et:this.h=[]).push(tt)}static get observedAttributes(){this.finalize();const tt=[];return this.elementProperties.forEach((et,nt)=>{const rt=this._$Ep(nt,et);rt!==void 0&&(this._$Ev.set(rt,nt),tt.push(rt))}),tt}static createProperty(tt,et=l$4){if(et.state&&(et.attribute=!1),this.finalize(),this.elementProperties.set(tt,et),!et.noAccessor&&!this.prototype.hasOwnProperty(tt)){const nt=typeof tt=="symbol"?Symbol():"__"+tt,rt=this.getPropertyDescriptor(tt,nt,et);rt!==void 0&&Object.defineProperty(this.prototype,tt,rt)}}static getPropertyDescriptor(tt,et,nt){return{get(){return this[et]},set(rt){const it=this[tt];this[et]=rt,this.requestUpdate(tt,it,nt)},configurable:!0,enumerable:!0}}static getPropertyOptions(tt){return this.elementProperties.get(tt)||l$4}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const tt=Object.getPrototypeOf(this);if(tt.finalize(),tt.h!==void 0&&(this.h=[...tt.h]),this.elementProperties=new Map(tt.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const et=this.properties,nt=[...Object.getOwnPropertyNames(et),...Object.getOwnPropertySymbols(et)];for(const rt of nt)this.createProperty(rt,et[rt])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(tt){const et=[];if(Array.isArray(tt)){const nt=new Set(tt.flat(1/0).reverse());for(const rt of nt)et.unshift(c$3(rt))}else tt!==void 0&&et.push(c$3(tt));return et}static _$Ep(tt,et){const nt=et.attribute;return nt===!1?void 0:typeof nt=="string"?nt:typeof tt=="string"?tt.toLowerCase():void 0}u(){var tt;this._$E_=new Promise(et=>this.enableUpdating=et),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(tt=this.constructor.h)===null||tt===void 0||tt.forEach(et=>et(this))}addController(tt){var et,nt;((et=this._$ES)!==null&&et!==void 0?et:this._$ES=[]).push(tt),this.renderRoot!==void 0&&this.isConnected&&((nt=tt.hostConnected)===null||nt===void 0||nt.call(tt))}removeController(tt){var et;(et=this._$ES)===null||et===void 0||et.splice(this._$ES.indexOf(tt)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((tt,et)=>{this.hasOwnProperty(et)&&(this._$Ei.set(et,this[et]),delete this[et])})}createRenderRoot(){var tt;const et=(tt=this.shadowRoot)!==null&&tt!==void 0?tt:this.attachShadow(this.constructor.shadowRootOptions);return S$1(et,this.constructor.elementStyles),et}connectedCallback(){var tt;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(tt=this._$ES)===null||tt===void 0||tt.forEach(et=>{var nt;return(nt=et.hostConnected)===null||nt===void 0?void 0:nt.call(et)})}enableUpdating(tt){}disconnectedCallback(){var tt;(tt=this._$ES)===null||tt===void 0||tt.forEach(et=>{var nt;return(nt=et.hostDisconnected)===null||nt===void 0?void 0:nt.call(et)})}attributeChangedCallback(tt,et,nt){this._$AK(tt,nt)}_$EO(tt,et,nt=l$4){var rt;const it=this.constructor._$Ep(tt,nt);if(it!==void 0&&nt.reflect===!0){const ot=(((rt=nt.converter)===null||rt===void 0?void 0:rt.toAttribute)!==void 0?nt.converter:n$4).toAttribute(et,nt.type);this._$El=tt,ot==null?this.removeAttribute(it):this.setAttribute(it,ot),this._$El=null}}_$AK(tt,et){var nt;const rt=this.constructor,it=rt._$Ev.get(tt);if(it!==void 0&&this._$El!==it){const ot=rt.getPropertyOptions(it),st=typeof ot.converter=="function"?{fromAttribute:ot.converter}:((nt=ot.converter)===null||nt===void 0?void 0:nt.fromAttribute)!==void 0?ot.converter:n$4;this._$El=it,this[it]=st.fromAttribute(et,ot.type),this._$El=null}}requestUpdate(tt,et,nt){let rt=!0;tt!==void 0&&(((nt=nt||this.constructor.getPropertyOptions(tt)).hasChanged||a$1)(this[tt],et)?(this._$AL.has(tt)||this._$AL.set(tt,et),nt.reflect===!0&&this._$El!==tt&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(tt,nt))):rt=!1),!this.isUpdatePending&&rt&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(et){Promise.reject(et)}const tt=this.scheduleUpdate();return tt!=null&&await tt,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var tt;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((rt,it)=>this[it]=rt),this._$Ei=void 0);let et=!1;const nt=this._$AL;try{et=this.shouldUpdate(nt),et?(this.willUpdate(nt),(tt=this._$ES)===null||tt===void 0||tt.forEach(rt=>{var it;return(it=rt.hostUpdate)===null||it===void 0?void 0:it.call(rt)}),this.update(nt)):this._$Ek()}catch(rt){throw et=!1,this._$Ek(),rt}et&&this._$AE(nt)}willUpdate(tt){}_$AE(tt){var et;(et=this._$ES)===null||et===void 0||et.forEach(nt=>{var rt;return(rt=nt.hostUpdated)===null||rt===void 0?void 0:rt.call(nt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(tt)),this.updated(tt)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(tt){return!0}update(tt){this._$EC!==void 0&&(this._$EC.forEach((et,nt)=>this._$EO(nt,this[nt],et)),this._$EC=void 0),this._$Ek()}updated(tt){}firstUpdated(tt){}};d$3.finalized=!0,d$3.elementProperties=new Map,d$3.elementStyles=[],d$3.shadowRootOptions={mode:"open"},o$2==null||o$2({ReactiveElement:d$3}),((s$2=e$3.reactiveElementVersions)!==null&&s$2!==void 0?s$2:e$3.reactiveElementVersions=[]).push("1.6.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$2;const i=window,s$1=i.trustedTypes,e$2=s$1?s$1.createPolicy("lit-html",{createHTML:_e=>_e}):void 0,o$1="$lit$",n$3=`lit$${(Math.random()+"").slice(9)}$`,l$3="?"+n$3,h$2=`<${l$3}>`,r$2=document,d$2=()=>r$2.createComment(""),u$1=_e=>_e===null||typeof _e!="object"&&typeof _e!="function",c$2=Array.isArray,v$2=_e=>c$2(_e)||typeof(_e==null?void 0:_e[Symbol.iterator])=="function",a=`[ 	
\f\r]`,f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_$1=/-->/g,m$2=/>/g,p$2=RegExp(`>|${a}(?:([^\\s"'>=/]+)(${a}*=${a}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g$2=/'/g,$=/"/g,y$1=/^(?:script|style|textarea|title)$/i,w$1=_e=>(tt,...et)=>({_$litType$:_e,strings:tt,values:et}),x$1=w$1(1),T=Symbol.for("lit-noChange"),A$1=Symbol.for("lit-nothing"),E=new WeakMap,C=r$2.createTreeWalker(r$2,129,null,!1),P=(_e,tt)=>{const et=_e.length-1,nt=[];let rt,it=tt===2?"<svg>":"",ot=f$2;for(let at=0;at<et;at++){const ct=_e[at];let lt,dt,ut=-1,ft=0;for(;ft<ct.length&&(ot.lastIndex=ft,dt=ot.exec(ct),dt!==null);)ft=ot.lastIndex,ot===f$2?dt[1]==="!--"?ot=_$1:dt[1]!==void 0?ot=m$2:dt[2]!==void 0?(y$1.test(dt[2])&&(rt=RegExp("</"+dt[2],"g")),ot=p$2):dt[3]!==void 0&&(ot=p$2):ot===p$2?dt[0]===">"?(ot=rt??f$2,ut=-1):dt[1]===void 0?ut=-2:(ut=ot.lastIndex-dt[2].length,lt=dt[1],ot=dt[3]===void 0?p$2:dt[3]==='"'?$:g$2):ot===$||ot===g$2?ot=p$2:ot===_$1||ot===m$2?ot=f$2:(ot=p$2,rt=void 0);const pt=ot===p$2&&_e[at+1].startsWith("/>")?" ":"";it+=ot===f$2?ct+h$2:ut>=0?(nt.push(lt),ct.slice(0,ut)+o$1+ct.slice(ut)+n$3+pt):ct+n$3+(ut===-2?(nt.push(void 0),at):pt)}const st=it+(_e[et]||"<?>")+(tt===2?"</svg>":"");if(!Array.isArray(_e)||!_e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e$2!==void 0?e$2.createHTML(st):st,nt]};class V{constructor({strings:tt,_$litType$:et},nt){let rt;this.parts=[];let it=0,ot=0;const st=tt.length-1,at=this.parts,[ct,lt]=P(tt,et);if(this.el=V.createElement(ct,nt),C.currentNode=this.el.content,et===2){const dt=this.el.content,ut=dt.firstChild;ut.remove(),dt.append(...ut.childNodes)}for(;(rt=C.nextNode())!==null&&at.length<st;){if(rt.nodeType===1){if(rt.hasAttributes()){const dt=[];for(const ut of rt.getAttributeNames())if(ut.endsWith(o$1)||ut.startsWith(n$3)){const ft=lt[ot++];if(dt.push(ut),ft!==void 0){const pt=rt.getAttribute(ft.toLowerCase()+o$1).split(n$3),bt=/([.?@])?(.*)/.exec(ft);at.push({type:1,index:it,name:bt[2],strings:pt,ctor:bt[1]==="."?k$2:bt[1]==="?"?I:bt[1]==="@"?L:R})}else at.push({type:6,index:it})}for(const ut of dt)rt.removeAttribute(ut)}if(y$1.test(rt.tagName)){const dt=rt.textContent.split(n$3),ut=dt.length-1;if(ut>0){rt.textContent=s$1?s$1.emptyScript:"";for(let ft=0;ft<ut;ft++)rt.append(dt[ft],d$2()),C.nextNode(),at.push({type:2,index:++it});rt.append(dt[ut],d$2())}}}else if(rt.nodeType===8)if(rt.data===l$3)at.push({type:2,index:it});else{let dt=-1;for(;(dt=rt.data.indexOf(n$3,dt+1))!==-1;)at.push({type:7,index:it}),dt+=n$3.length-1}it++}}static createElement(tt,et){const nt=r$2.createElement("template");return nt.innerHTML=tt,nt}}function N(_e,tt,et=_e,nt){var rt,it,ot,st;if(tt===T)return tt;let at=nt!==void 0?(rt=et._$Co)===null||rt===void 0?void 0:rt[nt]:et._$Cl;const ct=u$1(tt)?void 0:tt._$litDirective$;return(at==null?void 0:at.constructor)!==ct&&((it=at==null?void 0:at._$AO)===null||it===void 0||it.call(at,!1),ct===void 0?at=void 0:(at=new ct(_e),at._$AT(_e,et,nt)),nt!==void 0?((ot=(st=et)._$Co)!==null&&ot!==void 0?ot:st._$Co=[])[nt]=at:et._$Cl=at),at!==void 0&&(tt=N(_e,at._$AS(_e,tt.values),at,nt)),tt}class S{constructor(tt,et){this._$AV=[],this._$AN=void 0,this._$AD=tt,this._$AM=et}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(tt){var et;const{el:{content:nt},parts:rt}=this._$AD,it=((et=tt==null?void 0:tt.creationScope)!==null&&et!==void 0?et:r$2).importNode(nt,!0);C.currentNode=it;let ot=C.nextNode(),st=0,at=0,ct=rt[0];for(;ct!==void 0;){if(st===ct.index){let lt;ct.type===2?lt=new M(ot,ot.nextSibling,this,tt):ct.type===1?lt=new ct.ctor(ot,ct.name,ct.strings,this,tt):ct.type===6&&(lt=new z$1(ot,this,tt)),this._$AV.push(lt),ct=rt[++at]}st!==(ct==null?void 0:ct.index)&&(ot=C.nextNode(),st++)}return it}v(tt){let et=0;for(const nt of this._$AV)nt!==void 0&&(nt.strings!==void 0?(nt._$AI(tt,nt,et),et+=nt.strings.length-2):nt._$AI(tt[et])),et++}}class M{constructor(tt,et,nt,rt){var it;this.type=2,this._$AH=A$1,this._$AN=void 0,this._$AA=tt,this._$AB=et,this._$AM=nt,this.options=rt,this._$Cp=(it=rt==null?void 0:rt.isConnected)===null||it===void 0||it}get _$AU(){var tt,et;return(et=(tt=this._$AM)===null||tt===void 0?void 0:tt._$AU)!==null&&et!==void 0?et:this._$Cp}get parentNode(){let tt=this._$AA.parentNode;const et=this._$AM;return et!==void 0&&(tt==null?void 0:tt.nodeType)===11&&(tt=et.parentNode),tt}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(tt,et=this){tt=N(this,tt,et),u$1(tt)?tt===A$1||tt==null||tt===""?(this._$AH!==A$1&&this._$AR(),this._$AH=A$1):tt!==this._$AH&&tt!==T&&this._(tt):tt._$litType$!==void 0?this.g(tt):tt.nodeType!==void 0?this.$(tt):v$2(tt)?this.T(tt):this._(tt)}k(tt){return this._$AA.parentNode.insertBefore(tt,this._$AB)}$(tt){this._$AH!==tt&&(this._$AR(),this._$AH=this.k(tt))}_(tt){this._$AH!==A$1&&u$1(this._$AH)?this._$AA.nextSibling.data=tt:this.$(r$2.createTextNode(tt)),this._$AH=tt}g(tt){var et;const{values:nt,_$litType$:rt}=tt,it=typeof rt=="number"?this._$AC(tt):(rt.el===void 0&&(rt.el=V.createElement(rt.h,this.options)),rt);if(((et=this._$AH)===null||et===void 0?void 0:et._$AD)===it)this._$AH.v(nt);else{const ot=new S(it,this),st=ot.u(this.options);ot.v(nt),this.$(st),this._$AH=ot}}_$AC(tt){let et=E.get(tt.strings);return et===void 0&&E.set(tt.strings,et=new V(tt)),et}T(tt){c$2(this._$AH)||(this._$AH=[],this._$AR());const et=this._$AH;let nt,rt=0;for(const it of tt)rt===et.length?et.push(nt=new M(this.k(d$2()),this.k(d$2()),this,this.options)):nt=et[rt],nt._$AI(it),rt++;rt<et.length&&(this._$AR(nt&&nt._$AB.nextSibling,rt),et.length=rt)}_$AR(tt=this._$AA.nextSibling,et){var nt;for((nt=this._$AP)===null||nt===void 0||nt.call(this,!1,!0,et);tt&&tt!==this._$AB;){const rt=tt.nextSibling;tt.remove(),tt=rt}}setConnected(tt){var et;this._$AM===void 0&&(this._$Cp=tt,(et=this._$AP)===null||et===void 0||et.call(this,tt))}}class R{constructor(tt,et,nt,rt,it){this.type=1,this._$AH=A$1,this._$AN=void 0,this.element=tt,this.name=et,this._$AM=rt,this.options=it,nt.length>2||nt[0]!==""||nt[1]!==""?(this._$AH=Array(nt.length-1).fill(new String),this.strings=nt):this._$AH=A$1}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(tt,et=this,nt,rt){const it=this.strings;let ot=!1;if(it===void 0)tt=N(this,tt,et,0),ot=!u$1(tt)||tt!==this._$AH&&tt!==T,ot&&(this._$AH=tt);else{const st=tt;let at,ct;for(tt=it[0],at=0;at<it.length-1;at++)ct=N(this,st[nt+at],et,at),ct===T&&(ct=this._$AH[at]),ot||(ot=!u$1(ct)||ct!==this._$AH[at]),ct===A$1?tt=A$1:tt!==A$1&&(tt+=(ct??"")+it[at+1]),this._$AH[at]=ct}ot&&!rt&&this.j(tt)}j(tt){tt===A$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,tt??"")}}let k$2=class extends R{constructor(){super(...arguments),this.type=3}j(tt){this.element[this.name]=tt===A$1?void 0:tt}};const H=s$1?s$1.emptyScript:"";class I extends R{constructor(){super(...arguments),this.type=4}j(tt){tt&&tt!==A$1?this.element.setAttribute(this.name,H):this.element.removeAttribute(this.name)}}class L extends R{constructor(tt,et,nt,rt,it){super(tt,et,nt,rt,it),this.type=5}_$AI(tt,et=this){var nt;if((tt=(nt=N(this,tt,et,0))!==null&&nt!==void 0?nt:A$1)===T)return;const rt=this._$AH,it=tt===A$1&&rt!==A$1||tt.capture!==rt.capture||tt.once!==rt.once||tt.passive!==rt.passive,ot=tt!==A$1&&(rt===A$1||it);it&&this.element.removeEventListener(this.name,this,rt),ot&&this.element.addEventListener(this.name,this,tt),this._$AH=tt}handleEvent(tt){var et,nt;typeof this._$AH=="function"?this._$AH.call((nt=(et=this.options)===null||et===void 0?void 0:et.host)!==null&&nt!==void 0?nt:this.element,tt):this._$AH.handleEvent(tt)}}let z$1=class{constructor(tt,et,nt){this.element=tt,this.type=6,this._$AN=void 0,this._$AM=et,this.options=nt}get _$AU(){return this._$AM._$AU}_$AI(tt){N(this,tt)}};const j=i.litHtmlPolyfillSupport;j==null||j(V,M),((t$2=i.litHtmlVersions)!==null&&t$2!==void 0?t$2:i.litHtmlVersions=[]).push("2.7.3");const B=(_e,tt,et)=>{var nt,rt;const it=(nt=et==null?void 0:et.renderBefore)!==null&&nt!==void 0?nt:tt;let ot=it._$litPart$;if(ot===void 0){const st=(rt=et==null?void 0:et.renderBefore)!==null&&rt!==void 0?rt:null;it._$litPart$=ot=new M(tt.insertBefore(d$2(),st),st,void 0,et??{})}return ot._$AI(_e),ot};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var l$2,o;class s extends d$3{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var tt,et;const nt=super.createRenderRoot();return(tt=(et=this.renderOptions).renderBefore)!==null&&tt!==void 0||(et.renderBefore=nt.firstChild),nt}update(tt){const et=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(tt),this._$Do=B(et,this.renderRoot,this.renderOptions)}connectedCallback(){var tt;super.connectedCallback(),(tt=this._$Do)===null||tt===void 0||tt.setConnected(!0)}disconnectedCallback(){var tt;super.disconnectedCallback(),(tt=this._$Do)===null||tt===void 0||tt.setConnected(!1)}render(){return T}}s.finalized=!0,s._$litElement$=!0,(l$2=globalThis.litElementHydrateSupport)===null||l$2===void 0||l$2.call(globalThis,{LitElement:s});const n$2=globalThis.litElementPolyfillSupport;n$2==null||n$2({LitElement:s});((o=globalThis.litElementVersions)!==null&&o!==void 0?o:globalThis.litElementVersions=[]).push("3.3.2");class ScreenShare extends s{static get styles(){return i$1`
      :host {
        display: block;
        padding: 25px;
        color: var(--screen-share-text-color, #000);
      }
    `}static get properties(){return{publisher:{},session:{},token:{},properties:{type:Object},buttonStartText:{type:String,attribute:"start-text"},buttonStopText:{type:String,attribute:"stop-text"},isSharing:{type:Boolean}}}constructor(){super(),this.session={},this.token="",this.properties={},this.buttonStartText="start screenshare",this.buttonStopText="stop screenshare",this.isSharing=!1}updated(tt){tt.get("session")&&this.session.connect(this.token)}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.publisher.destroy()}async __handleStartScreenshare(){this.properties={...this.properties,videoSource:"screen",insertMode:"append"},window.OT?this.publisher=OT.initPublisher(document.querySelector("screen-share"),this.properties,tt=>{tt?console.error("error: ",tt):this.session.publish(this.publisher,et=>{et?console.error("session error: ",et.message):this.isSharing=!0})}):console.error("Please load Vonage Video library.")}async __handleStopScreenshare(){this.publisher.destroy(),this.isSharing=!1}displayButton(){return this.isSharing?x$1`<button part="button" @click=${this.__handleStopScreenshare}>${this.buttonStopText}</button>`:x$1`<button part="button" @click=${this.__handleStartScreenshare}>${this.buttonStartText}</button>`}render(){return x$1`
      ${this.displayButton()}
      <br/>
      <slot></slot>
    `}}window.customElements.define("screen-share",ScreenShare);var opentokExports={},opentok={get exports(){return opentokExports},set exports(_e){opentokExports=_e}};/**
 * @license OpenTok.js 2.25.1 8d76a4b67
 *
 * Copyright (c) 2010-2023 TokBox, Inc.
 * Subject to the applicable Software Development Kit (SDK) License Agreement:
 * https://www.vonage.com/legal/communications-apis/terms-of-use/
 *
 * Date: Fri, 14 Apr 2023 14:30:20 GMT
 */(function(module,exports){(function(tt,et){module.exports=et()})(window,function(){return function(_e){var tt={};function et(nt){if(tt[nt])return tt[nt].exports;var rt=tt[nt]={i:nt,l:!1,exports:{}};return _e[nt].call(rt.exports,rt,rt.exports,et),rt.l=!0,rt.exports}return et.m=_e,et.c=tt,et.d=function(nt,rt,it){et.o(nt,rt)||Object.defineProperty(nt,rt,{enumerable:!0,get:it})},et.r=function(nt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(nt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(nt,"__esModule",{value:!0})},et.t=function(nt,rt){if(rt&1&&(nt=et(nt)),rt&8||rt&4&&typeof nt=="object"&&nt&&nt.__esModule)return nt;var it=Object.create(null);if(et.r(it),Object.defineProperty(it,"default",{enumerable:!0,value:nt}),rt&2&&typeof nt!="string")for(var ot in nt)et.d(it,ot,function(st){return nt[st]}.bind(null,ot));return it},et.n=function(nt){var rt=nt&&nt.__esModule?function(){return nt.default}:function(){return nt};return et.d(rt,"a",rt),rt},et.o=function(nt,rt){return Object.prototype.hasOwnProperty.call(nt,rt)},et.p="",et(et.s=335)}([function(_e,tt,et){(function(nt){/*!
* @overview es6-promise - a tiny implementation of Promises/A+.
* @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
* @license   Licensed under MIT license
*            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
* @version   v4.2.8+1e68dce6
*/(function(rt,it){_e.exports=it()})(this,function(){function rt(Yn){var yr=typeof Yn;return Yn!==null&&(yr==="object"||yr==="function")}function it(Yn){return typeof Yn=="function"}var ot=void 0;Array.isArray?ot=Array.isArray:ot=function(Yn){return Object.prototype.toString.call(Yn)==="[object Array]"};var st=ot,at=0,ct=void 0,lt=void 0,dt=function(yr,Ar){kt[at]=yr,kt[at+1]=Ar,at+=2,at===2&&(lt?lt(Nt):Mt())};function ut(Yn){lt=Yn}function ft(Yn){dt=Yn}var pt=typeof window<"u"?window:void 0,bt=pt||{},Tt=bt.MutationObserver||bt.WebKitMutationObserver,ht=typeof self>"u"&&typeof nt<"u"&&{}.toString.call(nt)==="[object process]",gt=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function vt(){return function(){return nt.nextTick(Nt)}}function Ct(){return typeof ct<"u"?function(){ct(Nt)}:Wt()}function It(){var Yn=0,yr=new Tt(Nt),Ar=document.createTextNode("");return yr.observe(Ar,{characterData:!0}),function(){Ar.data=Yn=++Yn%2}}function Zt(){var Yn=new MessageChannel;return Yn.port1.onmessage=Nt,function(){return Yn.port2.postMessage(0)}}function Wt(){var Yn=setTimeout;return function(){return Yn(Nt,1)}}var kt=new Array(1e3);function Nt(){for(var Yn=0;Yn<at;Yn+=2){var yr=kt[Yn],Ar=kt[Yn+1];yr(Ar),kt[Yn]=void 0,kt[Yn+1]=void 0}at=0}function Lt(){try{var Yn=Function("return this")().require("vertx");return ct=Yn.runOnLoop||Yn.runOnContext,Ct()}catch{return Wt()}}var Mt=void 0;ht?Mt=vt():Tt?Mt=It():gt?Mt=Zt():pt===void 0?Mt=Lt():Mt=Wt();function tn(Yn,yr){var Ar=this,so=new this.constructor(rn);so[Ht]===void 0&&Lr(so);var jr=Ar._state;if(jr){var mo=arguments[jr-1];dt(function(){return _n(jr,so,mo,Ar._result)})}else cr(Ar,so,Yn,yr);return so}function $t(Yn){var yr=this;if(Yn&&typeof Yn=="object"&&Yn.constructor===yr)return Yn;var Ar=new yr(rn);return pn(Ar,Yn),Ar}var Ht=Math.random().toString(36).substring(2);function rn(){}var ln=void 0,mn=1,on=2;function yn(){return new TypeError("You cannot resolve a promise with itself")}function hn(){return new TypeError("A promises callback cannot return that same promise.")}function un(Yn,yr,Ar,so){try{Yn.call(yr,Ar,so)}catch(jr){return jr}}function dn(Yn,yr,Ar){dt(function(so){var jr=!1,mo=un(Ar,yr,function(bo){jr||(jr=!0,yr!==bo?pn(so,bo):xn(so,bo))},function(bo){jr||(jr=!0,Jn(so,bo))},"Settle: "+(so._label||" unknown promise"));!jr&&mo&&(jr=!0,Jn(so,mo))},Yn)}function Nn(Yn,yr){yr._state===mn?xn(Yn,yr._result):yr._state===on?Jn(Yn,yr._result):cr(yr,void 0,function(Ar){return pn(Yn,Ar)},function(Ar){return Jn(Yn,Ar)})}function Wn(Yn,yr,Ar){yr.constructor===Yn.constructor&&Ar===tn&&yr.constructor.resolve===$t?Nn(Yn,yr):Ar===void 0?xn(Yn,yr):it(Ar)?dn(Yn,yr,Ar):xn(Yn,yr)}function pn(Yn,yr){if(Yn===yr)Jn(Yn,yn());else if(rt(yr)){var Ar=void 0;try{Ar=yr.then}catch(so){Jn(Yn,so);return}Wn(Yn,yr,Ar)}else xn(Yn,yr)}function Rn(Yn){Yn._onerror&&Yn._onerror(Yn._result),er(Yn)}function xn(Yn,yr){Yn._state===ln&&(Yn._result=yr,Yn._state=mn,Yn._subscribers.length!==0&&dt(er,Yn))}function Jn(Yn,yr){Yn._state===ln&&(Yn._state=on,Yn._result=yr,dt(Rn,Yn))}function cr(Yn,yr,Ar,so){var jr=Yn._subscribers,mo=jr.length;Yn._onerror=null,jr[mo]=yr,jr[mo+mn]=Ar,jr[mo+on]=so,mo===0&&Yn._state&&dt(er,Yn)}function er(Yn){var yr=Yn._subscribers,Ar=Yn._state;if(yr.length!==0){for(var so=void 0,jr=void 0,mo=Yn._result,bo=0;bo<yr.length;bo+=3)so=yr[bo],jr=yr[bo+Ar],so?_n(Ar,so,jr,mo):jr(mo);Yn._subscribers.length=0}}function _n(Yn,yr,Ar,so){var jr=it(Ar),mo=void 0,bo=void 0,go=!0;if(jr){try{mo=Ar(so)}catch($r){go=!1,bo=$r}if(yr===mo){Jn(yr,hn());return}}else mo=so;yr._state!==ln||(jr&&go?pn(yr,mo):go===!1?Jn(yr,bo):Yn===mn?xn(yr,mo):Yn===on&&Jn(yr,mo))}function Sr(Yn,yr){try{yr(function(so){pn(Yn,so)},function(so){Jn(Yn,so)})}catch(Ar){Jn(Yn,Ar)}}var vr=0;function Gr(){return vr++}function Lr(Yn){Yn[Ht]=vr++,Yn._state=void 0,Yn._result=void 0,Yn._subscribers=[]}function Ur(){return new Error("Array Methods must be provided an Array")}var co=function(){function Yn(yr,Ar){this._instanceConstructor=yr,this.promise=new yr(rn),this.promise[Ht]||Lr(this.promise),st(Ar)?(this.length=Ar.length,this._remaining=Ar.length,this._result=new Array(this.length),this.length===0?xn(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ar),this._remaining===0&&xn(this.promise,this._result))):Jn(this.promise,Ur())}return Yn.prototype._enumerate=function(Ar){for(var so=0;this._state===ln&&so<Ar.length;so++)this._eachEntry(Ar[so],so)},Yn.prototype._eachEntry=function(Ar,so){var jr=this._instanceConstructor,mo=jr.resolve;if(mo===$t){var bo=void 0,go=void 0,$r=!1;try{bo=Ar.then}catch(So){$r=!0,go=So}if(bo===tn&&Ar._state!==ln)this._settledAt(Ar._state,so,Ar._result);else if(typeof bo!="function")this._remaining--,this._result[so]=Ar;else if(jr===Vr){var Wo=new jr(rn);$r?Jn(Wo,go):Wn(Wo,Ar,bo),this._willSettleAt(Wo,so)}else this._willSettleAt(new jr(function(So){return So(Ar)}),so)}else this._willSettleAt(mo(Ar),so)},Yn.prototype._settledAt=function(Ar,so,jr){var mo=this.promise;mo._state===ln&&(this._remaining--,Ar===on?Jn(mo,jr):this._result[so]=jr),this._remaining===0&&xn(mo,this._result)},Yn.prototype._willSettleAt=function(Ar,so){var jr=this;cr(Ar,void 0,function(mo){return jr._settledAt(mn,so,mo)},function(mo){return jr._settledAt(on,so,mo)})},Yn}();function Tr(Yn){return new co(this,Yn).promise}function wr(Yn){var yr=this;return st(Yn)?new yr(function(Ar,so){for(var jr=Yn.length,mo=0;mo<jr;mo++)yr.resolve(Yn[mo]).then(Ar,so)}):new yr(function(Ar,so){return so(new TypeError("You must pass an array to race."))})}function Bn(Yn){var yr=this,Ar=new yr(rn);return Jn(Ar,Yn),Ar}function Gn(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lr(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Vr=function(){function Yn(yr){this[Ht]=Gr(),this._result=this._state=void 0,this._subscribers=[],rn!==yr&&(typeof yr!="function"&&Gn(),this instanceof Yn?Sr(this,yr):lr())}return Yn.prototype.catch=function(Ar){return this.then(null,Ar)},Yn.prototype.finally=function(Ar){var so=this,jr=so.constructor;return it(Ar)?so.then(function(mo){return jr.resolve(Ar()).then(function(){return mo})},function(mo){return jr.resolve(Ar()).then(function(){throw mo})}):so.then(Ar,Ar)},Yn}();Vr.prototype.then=tn,Vr.all=Tr,Vr.race=wr,Vr.resolve=$t,Vr.reject=Bn,Vr._setScheduler=ut,Vr._setAsap=ft,Vr._asap=dt;function oo(){var Yn=void 0;if(typeof(typeof window!==void 0?window:commonjsGlobal)<"u")Yn=typeof window!==void 0?window:commonjsGlobal;else if(typeof self<"u")Yn=self;else try{Yn=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var yr=Yn.Promise;if(yr){var Ar=null;try{Ar=Object.prototype.toString.call(yr.resolve())}catch{}if(Ar==="[object Promise]"&&!yr.cast)return}Yn.Promise=Vr}return Vr.polyfill=oo,Vr.Promise=Vr,Vr})}).call(this,et(42))},function(_e,tt,et){const nt=et(403),rt=et(190),it=et(121),ot=rt(st=>{const at={};return(()=>{Object.keys(it).forEach(lt=>{const dt=it[lt].method,ut=nt(`OpenTok:${st}:${lt.toLowerCase()}`);ut.log=console[dt].bind(console),at[lt.toLowerCase()]=ut})})(),at});ot.setLogLevel=st=>{let at;try{at=(typeof window!==void 0?window:commonjsGlobal).localStorage.debug}catch{at=""}const lt=[...Object.keys(it).map(dt=>`${st>=it[dt].priority?"":"-"}(autogen)?OpenTok:*:${dt.toLowerCase()}`),...(at||"").split(/[\s,]/).filter(dt=>dt.indexOf("(autogen)?")===-1)].filter(dt=>dt).join(",");nt.enable(lt)},_e.exports=ot},function(_e,tt,et){const rt=et(546).parse();_e.exports=rt},function(_e,tt){function et(nt){return nt&&nt.__esModule?nt:{default:nt}}_e.exports=et},function(_e,tt,et){_e.exports=et(538)},function(_e,tt,et){(function(nt){function rt(ot,st,at,ct,lt,dt,ut){try{var ft=ot[dt](ut),pt=ft.value}catch(bt){at(bt);return}ft.done?st(pt):nt.resolve(pt).then(ct,lt)}function it(ot){return function(){var st=this,at=arguments;return new nt(function(ct,lt){var dt=ot.apply(st,at);function ut(pt){rt(dt,ct,lt,ut,ft,"next",pt)}function ft(pt){rt(dt,ct,lt,ut,ft,"throw",pt)}ut(void 0)})}}_e.exports=it}).call(this,et(0))},function(_e,tt,et){const nt=et(18),rt=et(16),it=et(1)("Events"),ot=et(9),st=et(408);_e.exports=function(ct){const lt=new nt;return lt.on("newListener",ut=>{lt.emit(`${ut}:added`)}),lt.on("removeListener",ut=>{lt.emit(`${ut}:removed`)}),ot(ct,{eventsDispatched:{},on(ut,ft,pt){return typeof ut=="string"&&ft?ut.split(" ").forEach(bt=>{lt.on(bt,st(ft,pt))}):Object.keys(ut).forEach(bt=>{lt.on(bt,st(ut[bt],ft))}),this},off(ut,ft,pt){return typeof ut=="string"?this.off(ut.split(" "),ft,pt):Array.isArray(ut)?ut.forEach(bt=>{ft&&rt(ft)?lt.removeListener(bt,st(ft,pt)):lt.removeAllListeners(bt)}):ut?Object.keys(ut).forEach(bt=>{lt.removeListener(bt,st(ut[bt],ft))}):lt.removeAllListeners(),this},once(ut,ft,pt){return typeof ut=="string"&&ft?ut.split(" ").forEach(bt=>{lt.once(bt,st(ft,pt))}):Object.keys(ut).forEach(bt=>{lt.once(bt,st(ut[bt],ft))}),this},dispatchEvent(ut){if(!ut.type)throw new Error("dispatchEvent: Event has no type");return ut.target||(ut.target=this),this.trigger(ut.type,ut),this},dispatchEventOnce(ut,ft){this.isEventDispatched(ut.type,ft)||(this.dispatchEvent(ut),this.eventsDispatched[ut.type]?this.eventsDispatched[ut.type].push(ft):this.eventsDispatched[ut.type]=[ft])},isEventDispatched(ut,ft){var pt;return(pt=this.eventsDispatched[ut])==null?void 0:pt.includes(ft)},trigger(ut){try{for(var ft=arguments.length,pt=new Array(ft>1?ft-1:0),bt=1;bt<ft;bt++)pt[bt-1]=arguments[bt];lt.emit(ut,...pt)}catch(Tt){it.error("An error occurred in an event handler",Tt)}return this},emit(){return ct.trigger(...arguments)},addEventListener(ut,ft,pt){return it.warn("The addEventListener() method is deprecated. Use on() or once() instead."),ct.on(ut,ft,pt)},removeEventListener(ut,ft,pt){return it.warn("The removeEventListener() method is deprecated. Use off() instead."),ct.off(ut,ft,pt)},listenerCount(ut){return lt.listenerCount(ut)}})}},function(_e,tt,et){_e.exports={AUTHENTICATION_ERROR:"OT_AUTHENTICATION_ERROR",BADLY_FORMED_RESPONSE:"OT_BADLY_FORMED_RESPONSE",CHROME_MICROPHONE_ACQUISITION_ERROR:"OT_CHROME_MICROPHONE_ACQUISITION_ERROR",CONNECT_FAILED:"OT_CONNECT_FAILED",CONNECTION_LIMIT_EXCEEDED:"OT_CONNECTION_LIMIT_EXCEEDED",CONSTRAINTS_NOT_SATISFIED:"OT_CONSTRAINTS_NOT_SATISFIED",CREATE_PEER_CONNECTION_FAILED:"OT_CREATE_PEER_CONNECTION_FAILED",DISCONNECTED:"OT_DISCONNECTED",EMPTY_RESPONSE_BODY:"OT_EMPTY_RESPONSE_BODY",GET_RTC_STATS_REPORT_NOT_SUPPORTED:"OT_GET_RTC_STATS_REPORT_NOT_SUPPORTED",HARDWARE_UNAVAILABLE:"OT_HARDWARE_UNAVAILABLE",ICE_WORKFLOW_FAILED:"OT_ICE_WORKFLOW_FAILED",INVALID_HTTP_STATUS:"OT_INVALID_HTTP_STATUS",INVALID_PARAMETER:"OT_INVALID_PARAMETER",INVALID_SESSION_ID:"OT_INVALID_SESSION_ID",MEDIA_ERR_ABORTED:"OT_MEDIA_ERR_ABORTED",MEDIA_ERR_DECODE:"OT_MEDIA_ERR_DECODE",MEDIA_ERR_NETWORK:"OT_MEDIA_ERR_NETWORK",MEDIA_ERR_SRC_NOT_SUPPORTED:"OT_MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ENDED:"OT_MEDIA_ENDED",NO_DEVICES_FOUND:"OT_NO_DEVICES_FOUND",NO_VALID_CONSTRAINTS:"OT_NO_VALID_CONSTRAINTS",NOT_CONNECTED:"OT_NOT_CONNECTED",NOT_FOUND:"OT_NOT_FOUND",NOT_SUPPORTED:"OT_NOT_SUPPORTED",PEER_CONNECTION_NOT_CONNECTED:"OT_PEER_CONNECTION_NOT_CONNECTED",PERMISSION_DENIED:"OT_PERMISSION_DENIED",RATE_LIMIT_EXCEEDED:"OT_RATE_LIMIT_EXCEEDED",REPORT_ISSUE_FAILED:"OT_REPORT_ISSUE_FAILED",SCREEN_SHARING_EXTENSION_NOT_INSTALLED:"OT_SCREEN_SHARING_EXTENSION_NOT_INSTALLED",SCREEN_SHARING_EXTENSION_NOT_REGISTERED:"OT_SCREEN_SHARING_EXTENSION_NOT_REGISTERED",SCREEN_SHARING_NOT_SUPPORTED:"OT_SCREEN_SHARING_NOT_SUPPORTED",SET_REMOTE_DESCRIPTION_FAILED:"OT_SET_REMOTE_DESCRIPTION_FAILED",FAILED_SET_CONFIGURATION:"OT_FAILED_SET_CONFIGURATION",SOCKET_ALREADY_CONNECTED_CONNECTING:"OT_SOCKET_ALREADY_CONNECTED_CONNECTING",SOCKET_CLOSE_ABNORMAL:"OT_SOCKET_CLOSE_ABNORMAL",SOCKET_CLOSE_CONNECT_EXCEPTION:"OT_SOCKET_CLOSE_CONNECT_EXCEPTION",SOCKET_CLOSE_CONNECTIVITY_LOSS:"OT_SOCKET_CLOSE_CONNECTIVITY_LOSS",SOCKET_CLOSE_FALLBACK_CODE:"OT_SOCKET_CLOSE_FALLBACK_CODE",SOCKET_CLOSE_INCONSISTENT_DATA:"OT_SOCKET_CLOSE_INCONSISTENT_DATA",SOCKET_CLOSE_NO_STATUS:"OT_SOCKET_CLOSE_NO_STATUS",SOCKET_CLOSE_POLICY_VIOLATION:"OT_SOCKET_CLOSE_POLICY_VIOLATION",SOCKET_CLOSE_GOING_AWAY:"OT_SOCKET_CLOSE_GOING_AWAY",SOCKET_CLOSE_PROTOCOL_ERROR:"OT_SOCKET_CLOSE_PROTOCOL_ERROR",SOCKET_CLOSE_TIMEOUT:"OT_SOCKET_CLOSE_TIMEOUT",SOCKET_CLOSE_TOO_LARGE:"OT_SOCKET_CLOSE_TOO_LARGE",SOCKET_CLOSE_UNEXPECTED_CONDITION:"OT_SOCKET_CLOSE_UNEXPECTED_CONDITION",SOCKET_CLOSE_UNSUPPORTED:"OT_SOCKET_CLOSE_UNSUPPORTED",STREAM_CREATE_FAILED:"OT_STREAM_CREATE_FAILED",STREAM_DESTROYED:"OT_STREAM_DESTROYED",STREAM_LIMIT_EXCEEDED:"OT_STREAM_LIMIT_EXCEEDED",STREAM_NOT_FOUND:"OT_STREAM_NOT_FOUND",UNABLE_TO_SUBSCRIBE:"OT_UNABLE_TO_SUBSCRIBE",TERMS_OF_SERVICE_FAILURE:"OT_TERMS_OF_SERVICE_FAILURE",TIMEOUT:"OT_TIMEOUT",CANCEL:"OT_CANCEL",UNABLE_TO_CAPTURE_MEDIA:"OT_UNABLE_TO_CAPTURE_MEDIA",UNABLE_TO_CAPTURE_SCREEN:"OT_UNABLE_TO_CAPTURE_SCREEN",UNEXPECTED_ERROR_CODE:"OT_UNEXPECTED_ERROR_CODE",UNEXPECTED_HTTP_STATUS:"OT_UNEXPECTED_HTTP_STATUS",UNEXPECTED_SERVER_RESPONSE:"OT_UNEXPECTED_SERVER_RESPONSE",UNKNOWN_HTTP_ERROR:"OT_UNKNOWN_HTTP_ERROR",UNSUPPORTED_BROWSER:"OT_UNSUPPORTED_BROWSER",USER_MEDIA_ACCESS_DENIED:"OT_USER_MEDIA_ACCESS_DENIED",XDOMAIN_OR_PARSING_ERROR:"OT_XDOMAIN_OR_PARSING_ERROR",API_KEY_DISABLED:"OT_API_KEY_DISABLED",UNABLE_TO_ACCESS_MEDIA_ENGINE:"OT_UNABLE_TO_ACCESS_MEDIA_ENGINE",SET_PROXY_URL_TIMING_ERROR:"OT_SET_PROXY_URL_TIMING_ERROR",PROXY_URL_ALREADY_SET_ERROR:"OT_PROXY_URL_ALREADY_SET_ERROR",SET_VIDEO_SOURCE_FAILURE:"OT_SET_VIDEO_SOURCE_FAILURE",INVALID_VIDEO_SOURCE:"OT_INVALID_VIDEO_SOURCE",REQUESTED_DEVICE_PERMISSION_DENIED:"OT_REQUESTED_DEVICE_PERMISSION_DENIED",INVALID_AUDIO_OUTPUT_SOURCE:"OT_INVALID_AUDIO_OUTPUT_SOURCE",INVALID_ENCRYPTION_SECRET:"OT_INVALID_ENCRYPTION_SECRET"}},function(_e,tt,et){const nt=et(244),rt=et(248),it=et(6),ot=et(1);nt.logging=ot("OT.$"),nt.ElementCollection=et(245),nt.env=et(2),nt.ajax=et(243),nt.statable=et(555),nt.Analytics=et(20),nt.Collection=et(247),nt.domExtras=et(556),nt.Error=et(249),rt(nt,"useLogHelpers",{value(st){const at=ot("useLogHelpersDeprecatedMixin");return Object.keys(at).forEach(ct=>{st[ct]=at[ct]}),st},name:"OT.useLogHelpers",getWarning:"Please use an external library for your debugging needs"}),nt.defaults=et(141),rt(nt,"eventing",{value:it,name:"OT.$.eventing",getWarning:"Please use an external library to create an event emitter."}),Object.keys(nt).forEach(st=>{const ct=nt[st]._attachToOTHelpers||{};Object.keys(ct).forEach(lt=>{Object.hasOwnProperty.call(nt,lt)&&!(st==="util"&&lt==="bind")&&console.warn(`More than one module is trying to define ${lt} on OTHelpers.`),nt[lt]=ct[lt]})}),_e.exports=nt},function(_e,tt,et){var nt=et(83),rt=et(40),it=et(191),ot=et(25),st=et(67),at=et(30),ct=Object.prototype,lt=ct.hasOwnProperty,dt=it(function(ut,ft){if(st(ft)||ot(ft)){rt(ft,at(ft),ut);return}for(var pt in ft)lt.call(ft,pt)&&nt(ut,pt,ft[pt])});_e.exports=dt},function(_e,tt,et){_e.exports={JS_EXCEPTION:2e3,AUTHENTICATION_ERROR:1004,INVALID_SESSION_ID:1005,CONNECT_FAILED:1006,CONNECT_REJECTED:1007,CONNECTION_TIMEOUT:1008,NOT_CONNECTED:1010,INVALID_PARAMETER:1011,P2P_CONNECTION_FAILED:1013,API_RESPONSE_FAILURE:1014,PEER_CONNECTION_NOT_CONNECTED:1015,TERMS_OF_SERVICE_FAILURE:1026,CONNECTION_LIMIT_EXCEEDED:1027,UNABLE_TO_PUBLISH:1500,UNABLE_TO_SUBSCRIBE:1501,UNSUPPORTED_VIDEO_CODEC:1502,UNABLE_TO_FORCE_DISCONNECT:1520,UNABLE_TO_FORCE_UNPUBLISH:1530,UNABLE_TO_FORCE_MUTE:1540,PUBLISHER_ICE_WORKFLOW_FAILED:1553,SUBSCRIBER_ICE_WORKFLOW_FAILED:1554,STREAM_LIMIT_EXCEEDED:1605,UNEXPECTED_SERVER_RESPONSE:2001,REPORT_ISSUE_ERROR:2011,SET_PROXY_URL_TIMING_ERROR:2021,PROXY_URL_ALREADY_SET_ERROR:2022,GET_RTC_STATS_REPORT_NOT_SUPPORTED:2031,ANVIL_BADLY_FORMED_RESPONSE:3001,ANVIL_INVALID_HTTP_STATUS:3002,ANVIL_XDOMAIN_OR_PARSING_ERROR:3003,ANVIL_UNKNOWN_HTTP_ERROR:3004,ANVIL_UNEXPECTED_ERROR_CODE:3005,ANVIL_EMPTY_RESPONSE_BODY:3006,ANVIL_CONNECT_FAILED:3007,UNABLE_TO_ACCESS_MEDIA_ENGINE:5001}},function(_e,tt){function et(nt){var rt=typeof nt;return nt!=null&&(rt=="object"||rt=="function")}_e.exports=et},function(_e,tt){var et=Array.isArray;_e.exports=et},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.OTErrorClass||et(22),st=Object.keys(it).map(at=>it[at]);return function(ct,lt,dt){if(st.indexOf(ct)===-1)return new Error(`Attempt to use invalid error name (${ct}). Original message: ${lt.message}`);if(!(lt instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(lt))))return new Error(`Did not pass Error as second argument: ${lt}`);const ut=new ot(void 0,lt.message);if(ut.name=ct,!lt.stack)try{throw lt}catch{}return ut.stack=lt.stack,dt&&(ut.code=dt),ut}}},function(_e,tt,et){var nt=et(173),rt=typeof self=="object"&&self&&self.Object===Object&&self,it=nt||rt||Function("return this")();_e.exports=it},function(_e,tt,et){var nt=et(540),rt=et(541),it=rt;it.v1=nt,it.v4=rt,_e.exports=it},function(_e,tt,et){var nt=et(29),rt=et(11),it="[object AsyncFunction]",ot="[object Function]",st="[object GeneratorFunction]",at="[object Proxy]";function ct(lt){if(!rt(lt))return!1;var dt=nt(lt);return dt==ot||dt==st||dt==it||dt==at}_e.exports=ct},function(_e,tt){function et(nt){return nt!=null&&typeof nt=="object"}_e.exports=et},function(_e,tt,et){(function(nt){var rt=typeof Reflect=="object"?Reflect:null,it=rt&&typeof rt.apply=="function"?rt.apply:function(Nt,Lt,Mt){return Function.prototype.apply.call(Nt,Lt,Mt)},ot;rt&&typeof rt.ownKeys=="function"?ot=rt.ownKeys:Object.getOwnPropertySymbols?ot=function(Nt){return Object.getOwnPropertyNames(Nt).concat(Object.getOwnPropertySymbols(Nt))}:ot=function(Nt){return Object.getOwnPropertyNames(Nt)};function st(kt){console&&console.warn&&console.warn(kt)}var at=Number.isNaN||function(Nt){return Nt!==Nt};function ct(){ct.init.call(this)}_e.exports=ct,_e.exports.once=It,ct.EventEmitter=ct,ct.prototype._events=void 0,ct.prototype._eventsCount=0,ct.prototype._maxListeners=void 0;var lt=10;function dt(kt){if(typeof kt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof kt)}Object.defineProperty(ct,"defaultMaxListeners",{enumerable:!0,get:function(){return lt},set:function(kt){if(typeof kt!="number"||kt<0||at(kt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+kt+".");lt=kt}}),ct.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ct.prototype.setMaxListeners=function(Nt){if(typeof Nt!="number"||Nt<0||at(Nt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Nt+".");return this._maxListeners=Nt,this};function ut(kt){return kt._maxListeners===void 0?ct.defaultMaxListeners:kt._maxListeners}ct.prototype.getMaxListeners=function(){return ut(this)},ct.prototype.emit=function(Nt){for(var Lt=[],Mt=1;Mt<arguments.length;Mt++)Lt.push(arguments[Mt]);var tn=Nt==="error",$t=this._events;if($t!==void 0)tn=tn&&$t.error===void 0;else if(!tn)return!1;if(tn){var Ht;if(Lt.length>0&&(Ht=Lt[0]),Ht instanceof Error)throw Ht;var rn=new Error("Unhandled error."+(Ht?" ("+Ht.message+")":""));throw rn.context=Ht,rn}var ln=$t[Nt];if(ln===void 0)return!1;if(typeof ln=="function")it(ln,this,Lt);else for(var mn=ln.length,on=gt(ln,mn),Mt=0;Mt<mn;++Mt)it(on[Mt],this,Lt);return!0};function ft(kt,Nt,Lt,Mt){var tn,$t,Ht;if(dt(Lt),$t=kt._events,$t===void 0?($t=kt._events=Object.create(null),kt._eventsCount=0):($t.newListener!==void 0&&(kt.emit("newListener",Nt,Lt.listener?Lt.listener:Lt),$t=kt._events),Ht=$t[Nt]),Ht===void 0)Ht=$t[Nt]=Lt,++kt._eventsCount;else if(typeof Ht=="function"?Ht=$t[Nt]=Mt?[Lt,Ht]:[Ht,Lt]:Mt?Ht.unshift(Lt):Ht.push(Lt),tn=ut(kt),tn>0&&Ht.length>tn&&!Ht.warned){Ht.warned=!0;var rn=new Error("Possible EventEmitter memory leak detected. "+Ht.length+" "+String(Nt)+" listeners added. Use emitter.setMaxListeners() to increase limit");rn.name="MaxListenersExceededWarning",rn.emitter=kt,rn.type=Nt,rn.count=Ht.length,st(rn)}return kt}ct.prototype.addListener=function(Nt,Lt){return ft(this,Nt,Lt,!1)},ct.prototype.on=ct.prototype.addListener,ct.prototype.prependListener=function(Nt,Lt){return ft(this,Nt,Lt,!0)};function pt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function bt(kt,Nt,Lt){var Mt={fired:!1,wrapFn:void 0,target:kt,type:Nt,listener:Lt},tn=pt.bind(Mt);return tn.listener=Lt,Mt.wrapFn=tn,tn}ct.prototype.once=function(Nt,Lt){return dt(Lt),this.on(Nt,bt(this,Nt,Lt)),this},ct.prototype.prependOnceListener=function(Nt,Lt){return dt(Lt),this.prependListener(Nt,bt(this,Nt,Lt)),this},ct.prototype.removeListener=function(Nt,Lt){var Mt,tn,$t,Ht,rn;if(dt(Lt),tn=this._events,tn===void 0)return this;if(Mt=tn[Nt],Mt===void 0)return this;if(Mt===Lt||Mt.listener===Lt)--this._eventsCount===0?this._events=Object.create(null):(delete tn[Nt],tn.removeListener&&this.emit("removeListener",Nt,Mt.listener||Lt));else if(typeof Mt!="function"){for($t=-1,Ht=Mt.length-1;Ht>=0;Ht--)if(Mt[Ht]===Lt||Mt[Ht].listener===Lt){rn=Mt[Ht].listener,$t=Ht;break}if($t<0)return this;$t===0?Mt.shift():vt(Mt,$t),Mt.length===1&&(tn[Nt]=Mt[0]),tn.removeListener!==void 0&&this.emit("removeListener",Nt,rn||Lt)}return this},ct.prototype.off=ct.prototype.removeListener,ct.prototype.removeAllListeners=function(Nt){var Lt,Mt,tn;if(Mt=this._events,Mt===void 0)return this;if(Mt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Mt[Nt]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Mt[Nt]),this;if(arguments.length===0){var $t=Object.keys(Mt),Ht;for(tn=0;tn<$t.length;++tn)Ht=$t[tn],Ht!=="removeListener"&&this.removeAllListeners(Ht);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Lt=Mt[Nt],typeof Lt=="function")this.removeListener(Nt,Lt);else if(Lt!==void 0)for(tn=Lt.length-1;tn>=0;tn--)this.removeListener(Nt,Lt[tn]);return this};function Tt(kt,Nt,Lt){var Mt=kt._events;if(Mt===void 0)return[];var tn=Mt[Nt];return tn===void 0?[]:typeof tn=="function"?Lt?[tn.listener||tn]:[tn]:Lt?Ct(tn):gt(tn,tn.length)}ct.prototype.listeners=function(Nt){return Tt(this,Nt,!0)},ct.prototype.rawListeners=function(Nt){return Tt(this,Nt,!1)},ct.listenerCount=function(kt,Nt){return typeof kt.listenerCount=="function"?kt.listenerCount(Nt):ht.call(kt,Nt)},ct.prototype.listenerCount=ht;function ht(kt){var Nt=this._events;if(Nt!==void 0){var Lt=Nt[kt];if(typeof Lt=="function")return 1;if(Lt!==void 0)return Lt.length}return 0}ct.prototype.eventNames=function(){return this._eventsCount>0?ot(this._events):[]};function gt(kt,Nt){for(var Lt=new Array(Nt),Mt=0;Mt<Nt;++Mt)Lt[Mt]=kt[Mt];return Lt}function vt(kt,Nt){for(;Nt+1<kt.length;Nt++)kt[Nt]=kt[Nt+1];kt.pop()}function Ct(kt){for(var Nt=new Array(kt.length),Lt=0;Lt<Nt.length;++Lt)Nt[Lt]=kt[Lt].listener||kt[Lt];return Nt}function It(kt,Nt){return new nt(function(Lt,Mt){function tn(Ht){kt.removeListener(Nt,$t),Mt(Ht)}function $t(){typeof kt.removeListener=="function"&&kt.removeListener("error",tn),Lt([].slice.call(arguments))}Wt(kt,Nt,$t,{once:!0}),Nt!=="error"&&Zt(kt,tn,{once:!0})})}function Zt(kt,Nt,Lt){typeof kt.on=="function"&&Wt(kt,"error",Nt,Lt)}function Wt(kt,Nt,Lt,Mt){if(typeof kt.on=="function")Mt.once?kt.once(Nt,Lt):kt.on(Nt,Lt);else if(typeof kt.addEventListener=="function")kt.addEventListener(Nt,function tn($t){Mt.once&&kt.removeEventListener(Nt,tn),Lt($t)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof kt)}}).call(this,et(0))},function(_e,tt,et){var nt=et(207),rt=Object.prototype.toString;function it(Mt){return rt.call(Mt)==="[object Array]"}function ot(Mt){return typeof Mt>"u"}function st(Mt){return Mt!==null&&!ot(Mt)&&Mt.constructor!==null&&!ot(Mt.constructor)&&typeof Mt.constructor.isBuffer=="function"&&Mt.constructor.isBuffer(Mt)}function at(Mt){return rt.call(Mt)==="[object ArrayBuffer]"}function ct(Mt){return typeof FormData<"u"&&Mt instanceof FormData}function lt(Mt){var tn;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?tn=ArrayBuffer.isView(Mt):tn=Mt&&Mt.buffer&&Mt.buffer instanceof ArrayBuffer,tn}function dt(Mt){return typeof Mt=="string"}function ut(Mt){return typeof Mt=="number"}function ft(Mt){return Mt!==null&&typeof Mt=="object"}function pt(Mt){if(rt.call(Mt)!=="[object Object]")return!1;var tn=Object.getPrototypeOf(Mt);return tn===null||tn===Object.prototype}function bt(Mt){return rt.call(Mt)==="[object Date]"}function Tt(Mt){return rt.call(Mt)==="[object File]"}function ht(Mt){return rt.call(Mt)==="[object Blob]"}function gt(Mt){return rt.call(Mt)==="[object Function]"}function vt(Mt){return ft(Mt)&&gt(Mt.pipe)}function Ct(Mt){return typeof URLSearchParams<"u"&&Mt instanceof URLSearchParams}function It(Mt){return Mt.trim?Mt.trim():Mt.replace(/^\s+|\s+$/g,"")}function Zt(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Wt(Mt,tn){if(!(Mt===null||typeof Mt>"u"))if(typeof Mt!="object"&&(Mt=[Mt]),it(Mt))for(var $t=0,Ht=Mt.length;$t<Ht;$t++)tn.call(null,Mt[$t],$t,Mt);else for(var rn in Mt)Object.prototype.hasOwnProperty.call(Mt,rn)&&tn.call(null,Mt[rn],rn,Mt)}function kt(){var Mt={};function tn(rn,ln){pt(Mt[ln])&&pt(rn)?Mt[ln]=kt(Mt[ln],rn):pt(rn)?Mt[ln]=kt({},rn):it(rn)?Mt[ln]=rn.slice():Mt[ln]=rn}for(var $t=0,Ht=arguments.length;$t<Ht;$t++)Wt(arguments[$t],tn);return Mt}function Nt(Mt,tn,$t){return Wt(tn,function(rn,ln){$t&&typeof rn=="function"?Mt[ln]=nt(rn,$t):Mt[ln]=rn}),Mt}function Lt(Mt){return Mt.charCodeAt(0)===65279&&(Mt=Mt.slice(1)),Mt}_e.exports={isArray:it,isArrayBuffer:at,isBuffer:st,isFormData:ct,isArrayBufferView:lt,isString:dt,isNumber:ut,isObject:ft,isPlainObject:pt,isUndefined:ot,isDate:bt,isFile:Tt,isBlob:ht,isFunction:gt,isStream:vt,isURLSearchParams:Ct,isStandardBrowserEnv:Zt,forEach:Wt,merge:kt,extend:Nt,trim:It,stripBOM:Lt}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(45));const st=et(240),at=et(542),ct=et(142),lt=et(34)(),dt=et(557),ut=et(6),ft=et(559),pt=et(562),bt="2";let Tt=function(){function ht(vt){let Ct=vt===void 0?{}:vt,It=Ct.staticConfig,Zt=It===void 0?lt.onlyLocal():It,Wt=Ct.sessionInfo,kt=Wt===void 0?new ct:Wt,Nt=Ct.ajax,Lt=Ct.queue,Mt=Ct.getUserAgentClientHintData,tn=Mt===void 0?pt:Mt,$t=Ct.userAgentData,Ht=$t===void 0?typeof navigator<"u"&&navigator.userAgentData:$t;this.getTurnServerName=rn=>{let ln,mn;return!rn||typeof rn!="object"?ln:((Array.isArray(rn)?rn:[rn]).forEach(yn=>{const hn=yn.urls||yn.url;(Array.isArray(hn)?hn:[hn]).forEach(dn=>{const Nn=dn.indexOf(":")+1,Wn=dn.lastIndexOf(":");dn.includes("turns")?mn=dn.substring(Nn,Wn):ln=dn.substring(Nn,Wn)})}),mn||ln)},this.ajax=Nt,this.queue=Lt,this.sessionInfo=kt,this.getUserAgentClientHintData=tn,this.userAgentData=Ht,this.staticConfig=Zt}var gt=ht.prototype;return gt._getCachedUserAgentData=function(){var vt=(0,it.default)(rt.default.mark(function It(){return rt.default.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:if(this.cachedUserAgentData){Wt.next=4;break}return Wt.next=3,this.getUserAgentClientHintData(this.userAgentData);case 3:this.cachedUserAgentData=Wt.sent;case 4:return Wt.abrupt("return",this.cachedUserAgentData);case 5:case"end":return Wt.stop()}},It,this)}));function Ct(){return vt.apply(this,arguments)}return Ct}(),gt.commonQoSFields=function(){const Ct=this._analytics.proxyUrl,It=this.sessionInfo.messagingURL;return{clientVersion:this.staticConfig.clientVersion,buildHash:this.staticConfig.buildHash,source:(typeof window!==void 0?window:commonjsGlobal).location&&(typeof window!==void 0?window:commonjsGlobal).location.href,logVersion:bt,apiServer:this.staticConfig.apiUrl,clientSystemTime:new Date().getTime(),sessionId:this.sessionInfo.sessionId,mediaServerName:this.sessionInfo.mediaServerName,relayServer:this.getTurnServerName(this.sessionInfo.iceServers),p2p:this.sessionInfo.p2pEnabled,messagingServer:this.sessionInfo.messagingServer,messagingUrl:dt(Ct,It),version:this.staticConfig.version,partnerId:this.sessionInfo.partnerId}},gt._getCommonDataFields=function(){var vt=(0,it.default)(rt.default.mark(function It(){var Zt,Wt;return rt.default.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.next=2,st.getAsync();case 2:return Zt=Nt.sent,Nt.next=5,this._getCachedUserAgentData();case 5:return Wt=Nt.sent,Nt.abrupt("return",Object.assign({guid:Zt},this.commonQoSFields(),Wt));case 7:case"end":return Nt.stop()}},It,this)}));function Ct(){return vt.apply(this,arguments)}return Ct}(),gt.logError=function(Ct,It,Zt,Wt,kt){kt===void 0&&(kt={}),this._getCommonDataFields().then(Nt=>{const Lt=[Ct,It,Zt,Wt,Object.assign({},Nt,kt)];ht.emit("logError",...Lt),this._analytics.logError(...Lt)})},gt.logEvent=function(Ct,It,Zt){Ct===void 0&&(Ct={}),this._getCommonDataFields().then(Wt=>{const kt=Object.assign({},Wt,Ct);ht.emit("logEvent",kt),this._analytics.logEvent(kt,!1,It,Zt)})},gt.logQOS=function(Ct){Ct===void 0&&(Ct={}),this._getCommonDataFields().then(It=>{const Zt=Object.assign({duration:0},It,Ct);ft(Zt),ht.emit("logQOS",Zt),this._analytics.logQOS(Zt)})},(0,ot.default)(ht,[{key:"staticConfig",get:function(){return this._staticConfig},set:function(Ct){this._staticConfig=Ct,this._analytics=new at({loggingUrl:this.staticConfig.loggingUrl,ajax:this.ajax,queue:this.queue})}}]),ht}();ut(Tt),_e.exports=Tt},function(_e,tt,et){const nt=et(247),rt={publishers:new nt("guid"),subscribers:new nt("widgetId"),sessions:new nt};_e.exports=rt},function(_e,tt,et){const nt=et(1)("GlobalExceptionHandler"),rt=et(6),it=et(26),ot=et(554),st=et(23)(),at=function(lt,dt){Error.call(this),this.code=lt,this.message=dt};at.prototype=Object.create(Error.prototype),at.prototype.constructor=at,_e.exports=at,rt(at),at.getTitleByCode=function(ct){return ot[+ct]},at.handleJsException=ct=>{let lt=ct.error,dt=ct.errorMsg,ut=ct.code,ft=ct.target,pt=ct.analytics;if(!ft)throw new Error("handleJsException requires target");const bt=()=>ut!==void 0?ut:lt&&lt.code,Tt=()=>dt!==void 0?dt:lt&&lt.message,ht=at.getTitleByCode(bt());nt.error(`OT.exception :: title: ${ht} (${bt()}) msg: ${Tt()}`);try{const gt={partnerId:ft.session?ft.session.apiKey:ft.apiKey,sessionId:ft.session?ft.session.sessionId:ft.sessionId};pt.logError(bt(),"tb.exception",ht,{details:Tt()},gt);const vt=new st.ExceptionEvent(it.EXCEPTION,Tt(),ht,bt(),ft,ft,lt);if(lt)vt.stack=lt.stack;else try{throw new Error}catch(Ct){vt.stack=Ct.stack}at.dispatchEvent(vt)}catch(gt){nt.error(`OT.exception :: Failed to dispatch exception - ${gt.toString()}`)}}},function(_e,tt,et){var nt=et(3),rt=nt(et(45)),it=nt(et(48));const ot=et(128),st=et(26);_e.exports=function(ct){ct===void 0&&(ct={});const lt=ct.logging||et(1)("Events"),dt={};dt.ExceptionEvent=function(gt,vt,Ct,It,Zt,Wt,kt){return new ot(gt,!1,{error:kt,message:vt,title:Ct,code:It,component:Zt,target:Wt})},dt.IssueReportedEvent=function(gt,vt){return new ot(gt,!1,{issueId:vt})},dt.EnvLoadedEvent=function(gt){return new ot(gt,!1)};let ut=!1;dt.ConnectionEvent=function(ht){(0,it.default)(gt,ht);function gt(vt,Ct,It){return ht.call(this,vt,!1,{connection:Ct,reason:It})||this}return(0,rt.default)(gt,[{key:"connections",get:function(){return ut||(lt.warn("OT.ConnectionEvent connections property is deprecated, use connection instead."),ut=!0),[this.connection]}}]),gt}(ot);let ft=!1;dt.StreamEvent=function(ht){(0,it.default)(gt,ht);function gt(vt,Ct,It,Zt){return ht.call(this,vt,Zt,{stream:Ct,reason:It})||this}return(0,rt.default)(gt,[{key:"streams",get:function(){return ft||(lt.warn("OT.StreamEvent streams property is deprecated, use stream instead."),ft=!0),[this.stream]}}]),gt}(ot);let pt=!1,bt=!1,Tt=!1;return dt.SessionConnectEvent=function(ht){(0,it.default)(gt,ht);function gt(vt){return ht.call(this,vt,!1)||this}return(0,rt.default)(gt,[{key:"connections",get:function(){return pt||(lt.warn("OT.SessionConnectedEvent no longer includes connections. Listen for connectionCreated events instead."),pt=!0),[]}},{key:"streams",get:function(){return bt||(lt.warn("OT.SessionConnectedEvent no longer includes streams. Listen for streamCreated events instead."),bt=!0),[]}},{key:"archives",get:function(){return Tt||(lt.warn("OT.SessionConnectedEvent no longer includes archives. Listen for archiveStarted events instead."),Tt=!0),[]}}]),gt}(ot),dt.SessionReconnectingEvent=function(){return new ot(st.SESSION_RECONNECTING,!1)},dt.SessionReconnectedEvent=function(){return new ot(st.SESSION_RECONNECTED)},dt.SessionDisconnectEvent=function(gt,vt,Ct){return new ot(gt,Ct,{reason:vt})},dt.StreamPropertyChangedEvent=function(gt,vt,Ct,It,Zt){return new ot(gt,!1,{stream:vt,changedProperty:Ct,oldValue:It,newValue:Zt})},dt.VideoDimensionsChangedEvent=function(gt,vt,Ct){return new ot("videoDimensionsChanged",!1,{target:gt,oldValue:vt,newValue:Ct})},dt.ArchiveEvent=function(gt,vt){return new ot(gt,!1,{id:vt.id,name:vt.name,status:vt.status,archive:vt})},dt.ArchiveUpdatedEvent=function(gt,vt,Ct,It){return new ot("updated",!1,{target:gt,changedProperty:vt,oldValue:Ct,newValue:It})},dt.SignalEvent=function(gt,vt,Ct){return new ot(gt?`signal:${gt}`:st.SIGNAL,!1,{data:vt,from:Ct})},dt.CaptionReceivedEvent=function(gt,vt,Ct){return new ot("caption",!1,{caption:gt,streamId:vt,isFinal:Ct})},dt.PublisherCaptionsEnabled=function(gt){return new ot("publisherCaptionsEnabled",!1,{captionsEnabled:gt})},dt.StreamUpdatedEvent=function(gt,vt,Ct,It){return new ot("updated",!1,{target:gt,changedProperty:vt,oldValue:Ct,newValue:It})},dt.DestroyedEvent=function(gt,vt,Ct){return new ot(gt,!1,{target:vt,reason:Ct})},dt.ConnectionStateChangedEvent=function(gt,vt){return new ot(gt,!1,{target:vt})},dt.VideoEnabledChangedEvent=function(gt,vt){return new ot(gt,!1,{reason:vt.reason})},dt.VideoDisableWarningEvent=function(gt){return new ot(gt,!1)},dt.AudioLevelUpdatedEvent=function(gt){return new ot(st.AUDIO_LEVEL_UPDATED,!1,{audioLevel:gt})},dt.MediaStoppedEvent=function(gt,vt){return new ot(st.MEDIA_STOPPED,!0,{target:gt,track:vt})},dt.MuteForcedEvent=function(gt){return new ot(st.MUTE_FORCED,!1,gt)},dt.VideoElementCreatedEvent=function(gt){return new ot(st.VIDEO_ELEMENT_CREATED,!1,{element:gt})},dt}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));_e.exports=function(st){st===void 0&&(st={});const at=st.getNativeEnumerateDevices||et(287)(),ct=st.getNativeMediaDevices||et(646)(),lt=st.currentAudioOutputDevice||et(106),dt=lt.getCurrentAudioOutputDeviceId,ut=st.env||et(2),ft=st.global||(typeof window!==void 0?window:commonjsGlobal),pt={},bt={audio:"audioInput",video:"videoInput",audioinput:"audioInput",videoinput:"videoInput",audiooutput:"audioOutput",audioInput:"audioInput",videoInput:"videoInput",audioOutput:"audioOutput"},Tt=()=>at()();return pt.getNativeMediaDevices=()=>ct(),pt.hasEnumerateDevicesCapability=()=>typeof at()=="function",pt.hasDeviceChangeCapability=()=>{const ht=ct();return!!(ht&&"ondevicechange"in ht)},pt.hasSetSinkIdCapability=()=>"setSinkId"in(ft==null?void 0:ft.HTMLMediaElement.prototype),pt.hasAudioOutputApiSupport=()=>pt.hasSetSinkIdCapability()&&pt.hasDeviceChangeCapability(),pt.hasEnumerateDevicesBug=()=>ut.isSafari&&ut.version===13.1,pt.getMediaDevices=()=>pt.hasEnumerateDevicesCapability()?Tt().then(ht=>ht.map(gt=>({deviceId:gt.deviceId||gt.id,label:gt.label,kind:bt[gt.kind]}))):nt.reject(new Error("This browser does not support enumerateDevices APIs")),pt.getInputMediaDevices=()=>pt.getMediaDevices().then(ht=>ht.filter(gt=>/^(audio|video)Input$/.test(gt.kind))),pt.getAudioOutputMediaDevices=()=>pt.getMediaDevices().then(ht=>ht.filter(gt=>gt.kind==="audioOutput").map(gt=>{let vt=gt.deviceId,Ct=gt.label;return{deviceId:vt,label:Ct}})),pt.shouldAskForDevices=()=>pt.hasEnumerateDevicesCapability()?pt.getInputMediaDevices().then(ht=>{if(ht.length===0)return{video:!0,audio:!0};const gt=ht.filter(Ct=>Ct.kind==="audioInput"),vt=ht.filter(Ct=>Ct.kind==="videoInput");return pt.hasEnumerateDevicesBug()&&vt.length===0?{audio:!0,video:!0}:{video:vt.length>0,audio:gt.length>0,videoDevices:vt,audioDevices:gt}}).catch(()=>({video:!0,audio:!0})):nt.resolve({video:!0,audio:!0}),pt.getDefaultAudioOutputDeviceId=ht=>!Array.isArray(ht)||ht.length===0?"":(ht.find(Ct=>Ct.deviceId==="default")||ht[0]).deviceId,pt.hasDevice=(ht,gt)=>{let vt=ht;return Array.isArray(vt)||(vt=[]),vt.some(Ct=>Ct.deviceId===gt)},pt.getActiveAudioOutputDevice=(0,ot.default)(it.default.mark(function ht(){var gt,vt,Ct;return it.default.wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return Zt.prev=0,Zt.next=3,pt.getAudioOutputMediaDevices();case 3:gt=Zt.sent,Zt.next=9;break;case 6:throw Zt.prev=6,Zt.t0=Zt.catch(0),Zt.t0;case 9:if(gt.length!==0){Zt.next=11;break}return Zt.abrupt("return",{deviceId:null,label:null});case 11:return vt=gt.find(Wt=>Wt.deviceId===dt()),vt||(Ct=pt.getDefaultAudioOutputDeviceId(gt),vt=gt.find(Wt=>Wt.deviceId===Ct)),Zt.abrupt("return",vt);case 14:case"end":return Zt.stop()}},ht,null,[[0,6]])})),pt}}).call(this,et(0))},function(_e,tt,et){var nt=et(16),rt=et(114);function it(ot){return ot!=null&&rt(ot.length)&&!nt(ot)}_e.exports=it},function(_e,tt,et){_e.exports={ACTIVE:"active",INACTIVE:"inactive",UNKNOWN:"unknown",PER_SESSION:"perSession",PER_STREAM:"perStream",EXCEPTION:"exception",ISSUE_REPORTED:"issueReported",SESSION_CONNECTED:"sessionConnected",SESSION_RECONNECTING:"sessionReconnecting",SESSION_RECONNECTED:"sessionReconnected",SESSION_DISCONNECTED:"sessionDisconnected",STREAM_CREATED:"streamCreated",STREAM_DESTROYED:"streamDestroyed",CONNECTION_CREATED:"connectionCreated",CONNECTION_DESTROYED:"connectionDestroyed",SIGNAL:"signal",STREAM_PROPERTY_CHANGED:"streamPropertyChanged",MICROPHONE_LEVEL_CHANGED:"microphoneLevelChanged",RESIZE:"resize",SETTINGS_BUTTON_CLICK:"settingsButtonClick",DEVICE_INACTIVE:"deviceInactive",INVALID_DEVICE_NAME:"invalidDeviceName",ACCESS_ALLOWED:"accessAllowed",ACCESS_DENIED:"accessDenied",ACCESS_DIALOG_OPENED:"accessDialogOpened",ACCESS_DIALOG_CLOSED:"accessDialogClosed",ECHO_CANCELLATION_MODE_CHANGED:"echoCancellationModeChanged",MEDIA_STOPPED:"mediaStopped",PUBLISHER_DESTROYED:"destroyed",MUTE_FORCED:"muteForced",SUBSCRIBER_DESTROYED:"destroyed",SUBSCRIBER_CONNECTED:"connected",SUBSCRIBER_DISCONNECTED:"disconnected",SUBSCRIBER_CAPTION_RECEIVED:"captionReceived",DEVICES_DETECTED:"devicesDetected",DEVICES_SELECTED:"devicesSelected",CLOSE_BUTTON_CLICK:"closeButtonClick",MICLEVEL:"microphoneActivityLevel",MICGAINCHANGED:"microphoneGainChanged",ENV_LOADED:"envLoaded",ENV_UNLOADED:"envUnloaded",AUDIO_LEVEL_UPDATED:"audioLevelUpdated",VIDEO_ELEMENT_CREATED:"videoElementCreated"}},function(_e,tt,et){var nt=!0,rt=!0;function it(st,at,ct){var lt=st.match(at);return lt&&lt.length>=ct&&parseInt(lt[ct],10)}function ot(st,at,ct){if(st.RTCPeerConnection){var lt=st.RTCPeerConnection.prototype,dt=lt.addEventListener;lt.addEventListener=function(ft,pt){if(ft!==at)return dt.apply(this,arguments);var bt=function(Tt){var ht=ct(Tt);ht&&pt(ht)};return this._eventMap=this._eventMap||{},this._eventMap[pt]=bt,dt.apply(this,[ft,bt])};var ut=lt.removeEventListener;lt.removeEventListener=function(ft,pt){if(ft!==at||!this._eventMap||!this._eventMap[pt])return ut.apply(this,arguments);var bt=this._eventMap[pt];return delete this._eventMap[pt],ut.apply(this,[ft,bt])},Object.defineProperty(lt,"on"+at,{get:function(){return this["_on"+at]},set:function(ft){this["_on"+at]&&(this.removeEventListener(at,this["_on"+at]),delete this["_on"+at]),ft&&this.addEventListener(at,this["_on"+at]=ft)},enumerable:!0,configurable:!0})}}_e.exports={extractVersion:it,wrapPeerConnectionEvent:ot,disableLog:function(st){return typeof st!="boolean"?new Error("Argument type: "+typeof st+". Please use a boolean."):(nt=st,st?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(st){return typeof st!="boolean"?new Error("Argument type: "+typeof st+". Please use a boolean."):(rt=!st,"adapter.js deprecation warnings "+(st?"disabled":"enabled"))},log:function(){if(typeof window=="object"){if(nt)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}},deprecated:function(st,at){rt&&console.warn(st+" is deprecated, please use "+at+" instead.")},detectBrowser:function(st){var at=st&&st.navigator,ct={};if(ct.browser=null,ct.version=null,typeof st>"u"||!st.navigator)return ct.browser="Not a browser.",ct;if(at.mozGetUserMedia)ct.browser="firefox",ct.version=it(at.userAgent,/Firefox\/(\d+)\./,1);else if(at.webkitGetUserMedia)ct.browser="chrome",ct.version=it(at.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(at.mediaDevices&&at.userAgent.match(/Edge\/(\d+).(\d+)$/))ct.browser="edge",ct.version=it(at.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(st.RTCPeerConnection&&at.userAgent.match(/AppleWebKit\/(\d+)\./))ct.browser="safari",ct.version=it(at.userAgent,/AppleWebKit\/(\d+)\./,1);else return ct.browser="Not a supported browser.",ct;return ct}}},function(_e,tt,et){function nt(ht,gt){var vt=typeof Symbol<"u"&&ht[Symbol.iterator]||ht["@@iterator"];if(vt)return(vt=vt.call(ht)).next.bind(vt);if(Array.isArray(ht)||(vt=rt(ht))||gt&&ht&&typeof ht.length=="number"){vt&&(ht=vt);var Ct=0;return function(){return Ct>=ht.length?{done:!0}:{done:!1,value:ht[Ct++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(ht,gt){if(ht){if(typeof ht=="string")return it(ht,gt);var vt=Object.prototype.toString.call(ht).slice(8,-1);if(vt==="Object"&&ht.constructor&&(vt=ht.constructor.name),vt==="Map"||vt==="Set")return Array.from(ht);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return it(ht,gt)}}function it(ht,gt){(gt==null||gt>ht.length)&&(gt=ht.length);for(var vt=0,Ct=new Array(gt);vt<gt;vt++)Ct[vt]=ht[vt];return Ct}const ot=et(9),st=et(60),at=et(272),ct=et(129),lt=et(273),dt=et(1)("SDPHelpers"),ut=1e4,ft=2e4,pt={getSections(ht){return ht.split(/\r\n|\r|\n/).reduce((gt,vt)=>{const Ct=vt.match(/^m=(\w+) \d+/);return Ct&&(gt.sections[gt.section=Ct[1]]=[]),gt.sections[gt.section].push(vt),gt},{sections:{header:[]},section:"header"}).sections},getCodecsFromSection(ht){const gt=ht[0].match(/m=\w+ \d+ [A-Z/]+ ([\d ]+)$/)[1].split(" "),vt=ot(...ht.filter(Ct=>Ct.match(/^a=rtpmap:\d+/)).map(Ct=>Ct.match(/^a=rtpmap:(\d+) ([\w-]+)/).splice(1)).map(Ct=>{let It=Ct[0],Zt=Ct[1];return{[It]:Zt}}));return{codecs:gt,codecMap:vt}},getCodecsAndCodecMap(ht,gt){const vt=pt.getSections(ht)[gt];if(!vt)throw new Error(`no mediaType ${gt}`);return pt.getCodecsFromSection(vt)},getCodecs(ht,gt){const vt=pt.getCodecsAndCodecMap(ht,gt);return vt.codecs.map(Ct=>vt.codecMap[Ct]||"Unknown codec")},mediaDirections:{INACTIVE:"inactive",RECVONLY:"recvonly",SENDONLY:"sendonly",SENDRECV:"sendrecv"}};_e.exports=pt,pt.getMLineIndex=function(gt,vt){const Ct=`m=${vt}`;return at(gt,It=>It.indexOf(Ct)!==-1)},pt.getMLine=function(gt,vt){const Ct=pt.getMLineIndex(gt,vt);return Ct>-1?gt[Ct]:void 0},pt.hasMediaType=(ht,gt)=>{const vt=new RegExp(`^m=${gt}`),Ct=ht.split(`\r
`);return at(Ct,It=>vt.test(It))>=0},pt.hasMLinePayloadType=function(gt,vt,Ct){const It=pt.getMLine(gt,vt);return pt.getMLinePayloadTypes(It,vt).indexOf(Ct)>-1},pt.getMLinePayloadTypes=function(gt,vt){const Ct=new RegExp(`^m=${vt} \\d+(/\\d+)? [a-zA-Z0-9/]+(( [a-zA-Z0-9/]+)+)$`,"i"),It=gt.match(Ct);return!It||It.length<2?[]:It[2].trim().split(" ")},pt.splitSections=function(gt){return gt.split(`
m=`).map((Ct,It)=>(It>0?"m="+Ct:Ct).trim()+`\r
`)},pt.changeMediaDirection=function(gt,vt){const Ct=kt=>{const Nt=vt===pt.mediaDirections.RECVONLY?"a=inactive":"a=recvonly",Lt=new RegExp(Nt,"g");return kt.replace(Lt,`a=${vt}`)},It=pt.splitSections(gt);let Wt=It.shift();return It.forEach(kt=>{const Nt=kt.includes("m=video")?Ct(kt):kt;Wt+=Nt}),Wt},pt.removeTypesFromMLine=function(gt,vt){const Ct=/[0-9 ]*$/.exec(gt)[0],It=Ct.split(" ").filter(Zt=>Zt!==""&&vt.indexOf(Zt)===-1);return gt.replace(Ct,` ${It.join(" ")}`)},pt.removeMediaEncoding=function(gt,vt,Ct){let It,Zt,Wt,kt,Nt=gt.split(`\r
`);const Lt=pt.getMLineIndex(Nt,vt),Mt=Lt>-1?Nt[Lt]:void 0,tn=[];if(Lt===-1||(It=pt.getMLinePayloadTypes(Mt,vt),It.length===0))return Nt.join(`\r
`);for(Zt=Lt;Zt<Nt.length;Zt++){const $t=new RegExp(Ct,"i");Nt[Zt].indexOf("a=rtpmap:")===0&&(kt=Nt[Zt].split(" "),kt.length===2&&$t.test(kt[1])&&tn.push(kt[0].substr(9)))}if(!tn.length)return Nt.join(`\r
`);for(Zt=Lt;Zt<Nt.length;Zt++)if(Nt[Zt].indexOf("a=fmtp:")===0)for(kt=Nt[Zt].split(" "),Wt=0;Wt<tn.length;Wt++)kt.length===2&&kt[1]===`apt=${tn[Wt]}`&&tn.push(kt[0].substr(7));return Nt=Nt.filter($t=>{for(let Ht=0;Ht<tn.length;Ht++)if($t.indexOf(`a=rtpmap:${tn[Ht]} `)===0||$t.indexOf(`a=fmtp:${tn[Ht]} `)===0||$t.indexOf(`a=rtcp-fb:${tn[Ht]} `)===0)return!1;return!0}),tn.length>0&&Lt>-1&&(Nt[Lt]=pt.removeTypesFromMLine(Mt,tn)),Nt.join(`\r
`)},pt.disableMediaType=function(gt,vt){const Ct=gt.split(`\r
`),It=[];let Zt;Ct.forEach(Nt=>{let Lt=Nt;/^m=/.test(Lt)&&(Zt=void 0),Zt||(Zt=[],It.push(Zt)),Zt.push(Lt)});const Wt=new RegExp(`^m=${vt} \\d+ ([^ ]+) [0-9 ]+$`),kt=It.map(Nt=>{const Lt=Nt[0].match(Wt);return Lt?[`m=${vt} 0 ${Lt[1]} 0`,"a=inactive",...Nt.filter(Mt=>/^c=/.test(Mt)||/^a=mid:/.test(Mt)||Mt==="")]:Nt});return[].concat(...kt).join(`\r
`)},pt.removeVideoCodec=function(gt,vt){return pt.removeMediaEncoding(gt,"video",vt)};const bt=function(gt,vt){let Ct=vt.filterByName("ssrc-group:FID");switch(Ct.length===0?Ct=[]:Ct=Ct[0].value.split(" "),Ct.length){case 0:case 1:var Zt=vt.find(kt=>kt.name.indexOf("rtpmap:")===0&&kt.value.indexOf("rtx/90000")>-1);if(!Zt)return!1;var Wt=Zt.name.split(":")[1];return Wt.indexOf("/")>-1&&(Wt=Wt.split("/")[0]),pt.hasMLinePayloadType(gt,"video",Wt);default:return dt.debug("SDP Helpers: There are more than two FIDs, RTX is definitely enabled"),!0}};pt.getAttributesForMediaType=function(gt,vt){let Ct,It,Zt,Wt,kt,Nt,Lt,Mt,tn,$t;const Ht=pt.getMLineIndex(gt,vt),rn=new RegExp(`m=(?!${vt}).+ `,"i"),ln=new RegExp("a=ssrc:\\d+ .*","i"),mn=new RegExp("a=ssrc-group:(SIM|FID) (\\d+).*?","i"),on=new RegExp("a=([a-z0-9:/-]+) (.*)","i"),yn=[];for(let hn=Ht+1;hn<gt.length;hn++){if(rn.test(gt[hn])){Ct!==void 0&&(It=hn-1);break}kt=gt[hn].match(mn),Nt=gt[hn].match(ln),Ct===void 0&&(kt||Nt)&&(Ct=hn,kt&&(Wt=/^(FID|SIM)$/.test(kt[1])?kt[2]:kt[1])),Lt=gt[hn].match(`a=ssrc:${Wt} msid:(.+)`),Lt&&(Mt=Lt[1]);const un=ln.test(gt[hn]),dn=mn.test(gt[hn]);Ct!==void 0&&(It===void 0&&!un&&!dn?It=hn-1:hn===gt.length-1&&(It=hn));const Nn=gt[hn].match(/a=mid:(.+)/);Nn&&(tn=Nn[1],$t=hn),Zt=on.exec(gt[hn]),Zt&&Zt.length===3&&yn.push({lineIndex:hn,name:Zt[1],value:Zt[2]})}return yn.ssrcStartIndex=Ct,yn.ssrcEndIndex=It,yn.msid=Mt,yn.mid=tn,yn.midIndex=$t,yn.isUsingRTX=bt.bind(null,gt,yn),yn.filterByName=function(un){return this.filter(dn=>dn.name===un)},yn.getRtpNumber=hn=>{const un=new RegExp("rtpmap:(.+)");return st(yn.map(dn=>{const Nn=dn.name.match(un);return Nn&&dn.value.indexOf(hn)>=0?Nn[1]:null}),dn=>dn!==null)},yn},pt.modifyDtx=(ht,gt)=>{const vt=ht.split(`\r
`);if(!pt.getMLine(vt,"audio"))return dt.debug("No audio m-line, not enabling dtx."),ht;const Ct=pt.getAttributesForMediaType(vt,"audio"),It=Ct.getRtpNumber("opus");if(!It)return dt.debug("Could not find rtp number for opus, not enabling dtx."),ht;const Zt=Ct.find(Nt=>Nt.name===`fmtp:${It}`);if(!Zt)return dt.debug("Could not find a=fmtp line for opus, not enabling dtx."),ht;let Wt=vt[Zt.lineIndex];const kt=/usedtx=\d+([\s;]*)/;return kt.test(Zt.value)?Wt=Wt.replace(kt,gt?"usedtx=1$1":""):gt&&(Wt+="; usedtx=1"),Wt=Wt.replace(/[;\s]*$/,""),vt[Zt.lineIndex]=Wt,vt.join(`\r
`)};const Tt=(ht,gt,vt)=>{const Ct=gt.split(`\r
`);if(!pt.getMLine(Ct,"audio"))return dt.debug("No audio m-line, not enabling stereo."),gt;const It=pt.getAttributesForMediaType(Ct,"audio"),Zt=It.getRtpNumber("opus");if(!Zt)return dt.debug("Could not find rtp number for opus, not enabling stereo."),gt;const Wt=It.find(Lt=>Lt.name===`fmtp:${Zt}`);if(!Wt)return dt.debug("Could not find a=fmtp line for opus, not enabling stereo."),gt;let kt=Ct[Wt.lineIndex],Nt;switch(ht){case"send":Nt=/sprop-stereo=\d+([\s;]*)/,Nt.test(Wt.value)?kt=kt.replace(Nt,vt?"sprop-stereo=1$1":""):vt&&(kt+="; sprop-stereo=1");break;case"receive":Nt=/([^-])stereo=\d+([\s;]*)/,Nt.test(Wt.value)?kt=kt.replace(Nt,vt?"$1stereo=1$2":"$1"):vt&&(kt+="; stereo=1");break;default:throw new Error(`Invalid type ${ht} passed into enableStereo`)}return kt=kt.replace(/[;\s]*$/,""),Ct[Wt.lineIndex]=kt,Ct.join(`\r
`)};pt.modifySendStereo=Tt.bind(null,"send"),pt.modifyReceiveStereo=Tt.bind(null,"receive"),pt.setAudioBitrate=(ht,gt)=>{const vt=pt.getAudioBitrate(ht);if(vt!==void 0)return dt.debug(`Audio bitrate already set to ${vt}, not setting audio bitrate`),ht;const Ct=ht.split(`\r
`);if(!pt.getMLine(Ct,"audio"))return dt.debug("No audio m-line, not setting audio bitrate"),ht;const It=pt.getAttributesForMediaType(Ct,"audio"),Zt=It.getRtpNumber("opus");if(!Zt)return dt.debug("Could not find rtp number for opus, not setting audio bitrate."),ht;const Wt=It.find(Nt=>Nt.name===`fmtp:${Zt}`);if(!Wt)return dt.debug("Could not find a=fmtp line for opus, not setting audio bitrate."),ht;let kt=Ct[Wt.lineIndex];return kt+=`; maxaveragebitrate=${gt}`,kt=kt.replace(/[;\s]*$/,""),Ct[Wt.lineIndex]=kt,Ct.join(`\r
`)},pt.removeVideoOrientation=ht=>{let gt=ht.split(`\r
`);return gt=gt.filter(vt=>!vt.includes("urn:3gpp:video-orientation")),gt.join(`\r
`)},pt.hasSendStereo=ht=>/[\s;]sprop-stereo=1/.test(ht),pt.hasSendDtx=ht=>/[\s;]usedtx=1/.test(ht),pt.getAudioBitrate=ht=>{const gt=ht.match(/[\s;]maxaveragebitrate=(\d+)/);if(gt)return Number(gt[1])},pt.MAX_SSRCS=10,pt.getSSRCGroupType=ht=>["SIM","FID"].find(vt=>ht.filterByName(`ssrc-group:${vt}`)[0]),pt.getSSRCGroup=ht=>{const gt=pt.getSSRCGroupType(ht);return ht.filterByName(`ssrc-group:${gt}`)[0]},pt.getSSRCGroupSSRCs=ht=>{const gt=pt.getSSRCGroup(ht);return gt?gt.value.split(" ").slice(0,pt.MAX_SSRCS):[]},pt.getAllowedSSRCs=(ht,gt)=>{const vt=gt.slice();return ht.filterByName("ssrc-group:FID").forEach(Ct=>{const It=Ct.value.split(" ");ct(vt,It).length&&Array.prototype.push.apply(vt,It)}),lt(vt)},pt.filterExcessSSRCs=ht=>{const gt=ht.split(`\r
`),vt=pt.getAttributesForMediaType(gt,"video"),Ct=pt.getSSRCGroupType(vt),It=vt.ssrcStartIndex;if(It===void 0)return ht;let Zt;const Wt=Nt=>{let Lt=null;return Nt.match(/^a=ssrc:(\d+)/)&&(Lt=RegExp.$1),Lt};if(Ct){const Nt=pt.getSSRCGroupSSRCs(vt),Lt=[`a=ssrc-group:${Ct}`,...Nt].join(" "),Mt=vt.find(tn=>tn.name.startsWith("ssrc-group:")).lineIndex;gt[Mt]=Lt,Zt=pt.getAllowedSSRCs(vt,Nt)}else Zt=[],vt.ssrcStartIndex&&Zt.push(Wt(gt[vt.ssrcStartIndex]));return gt.filter((Nt,Lt)=>{if(Lt<It||Lt>vt.ssrcEndIndex)return!0;if(Lt===It){if(!Ct){const tn=Wt(Nt);return tn?Zt.includes(tn):!/^a=ssrc:(\d+)/.test(Nt)}return!0}const Mt=Wt(Nt);if(Mt)return Zt.includes(Mt);if(Nt.match(/^a=ssrc-group:FID (\d+)/)){const tn=RegExp.$1;return Zt.includes(tn)}return!Nt.match(/^a=ssrc-group:SIM /)}).join(`\r
`)},pt.enableSimulcast=function(gt,vt){let Ct,It;const Zt=gt.split(`\r
`);if(!pt.getMLine(Zt,"video"))return dt.debug("No video m-line, not enabling simulcast."),gt;const Wt=pt.getAttributesForMediaType(Zt,"video");if(Wt.filterByName("ssrc-group:SIM").length>0)return dt.debug("Simulcast is already enabled in this SDP, not attempting to enable again."),pt.filterExcessSSRCs(gt);if(!Wt.msid)return dt.debug("No local stream attached, not enabling simulcast."),gt;const kt=Wt.isUsingRTX(),Nt=[],Lt=[];for(It=0;It<vt;++It)Nt.push(ut+It),kt&&Lt.push(ft+It);if(Ct=[`a=ssrc-group:SIM ${Nt.join(" ")}`],kt)for(It=0;It<vt;++It)Ct.push(`a=ssrc-group:FID ${Nt[It]} ${Lt[It]}`);for(It=0;It<vt;++It)Ct.push(`a=ssrc:${Nt[It]} cname:localCname`,`a=ssrc:${Nt[It]} msid:${Wt.msid}`);if(kt)for(It=0;It<vt;++It)Ct.push(`a=ssrc:${Lt[It]} cname:localCname`,`a=ssrc:${Lt[It]} msid:${Wt.msid}`);return Ct.unshift(Wt.ssrcStartIndex,Wt.ssrcEndIndex-Wt.ssrcStartIndex+1),Zt.splice(...Ct),Zt.join(`\r
`)},pt.reprioritizeVideoCodec=function(gt,vt,Ct){const It=gt.split(`\r
`),Zt=pt.getMLineIndex(It,"video");if(Zt===-1)return gt;const Wt=pt.getMLinePayloadTypes(It[Zt],"video"),kt=new RegExp(`^a=rtpmap:(\\d+).* ${vt}`,"i"),Nt=It.map($t=>$t.match(kt)).filter($t=>$t!==null);if(Nt.length===0)return gt;const Lt=Nt.map($t=>$t[1]);let Mt=Wt.filter($t=>Lt.indexOf($t)===-1);Ct==="top"?Mt.unshift(...Lt):Ct==="bottom"?Mt.push(...Lt):(dt.error(`Unexpected location param: ${Ct}; not changing ${vt} priority`),Mt=Wt);const tn=It[Zt].replace(Wt.join(" "),Mt.join(" "));return It[Zt]=tn,It.join(`\r
`)},pt.getSetupRole=ht=>{for(var gt=nt(ht.split(/\r\n|\r|\n/)),vt;!(vt=gt()).done;){const It=vt.value.match(/^a=setup:(\w+)/);if(It)return It[1]}return""},pt.setSetupRole=(ht,gt)=>ht.split(/\r\n|\r|\n/).map(vt=>vt.match(/^a=setup:(\w+)/)?`a=setup:${gt}`:vt).join(`\r
`),pt.changeSetupRole=(ht,gt,vt)=>ht.map(Ct=>Ct.includes(`a=setup:${gt}`)?`a=setup:${vt}`:Ct),pt.patterns={bundle:"a=group:BUNDLE",address:"c=IN IP4",rtcp:"a=rtcp:",direction:["a=inactive","a=sendonly","a=recvonly","a=sendrecv"],rsize:"a=rtcp-rsize",ssrc:"a=ssrc:",msid:"a=msid:"},pt.getIndexStartingWith=(ht,gt,vt)=>{const Ct=ht.slice(vt),It=gt.map(Zt=>Ct.findIndex(Wt=>Wt.includes(Zt))).filter(Zt=>Zt>-1);return It.length?vt+Math.min(...It):ht.length},pt.getLastIndexPriorTo=(ht,gt,vt)=>ht.slice(0,vt).findLastIndex(It=>It.includes(gt)),pt.includesAny=(ht,gt)=>{for(let vt=0;vt<gt.length;vt++)if(ht.includes(gt[vt]))return!0;return!1},pt.isVersionLine=ht=>/^o=/.test(ht),pt.getVersionLine=ht=>ht.find(pt.isVersionLine),pt.getVersion=ht=>{const gt=pt.getVersionLine(ht);if(gt===void 0)return;const vt=Number(gt.match(/ (\d+) IN /)[1]);return Number.isInteger(vt)?vt:void 0},pt.updateVersion=(ht,gt,vt)=>{const Ct=[...ht],It=Ct.findIndex(Zt=>pt.isVersionLine(Zt));return Ct[It]=Ct[It].replace(` ${gt} `,` ${vt} `),Ct},pt.isBundleLine=ht=>ht.includes(pt.patterns.bundle),pt.getBundleLine=ht=>ht.find(pt.isBundleLine),pt.createBundleLine=ht=>`${pt.patterns.bundle} ${ht.join(" ")}`,pt.updateBundleLine=(ht,gt)=>{const vt=[...ht],Ct=pt.createBundleLine(gt),It=vt.findIndex(Zt=>pt.isBundleLine(Zt));return vt[It]=Ct,vt},pt.parseMLine=ht=>{const gt=ht.match(/^(m=(?:audio|video)) (\d+) (.+)/),vt=gt[1],Ct=gt[2],It=gt[3];return{port:Ct,transport:It,mediaType:vt}},pt.disableTrack=ht=>{const gt=pt.parseMLine(ht),vt=gt.mediaType,Ct=gt.transport;return`${vt} 0 ${Ct}`},pt.setMediaDirection=(ht,gt)=>{if(!Object.values(pt.mediaDirections).includes(gt))return ht;const Ct=ht.slice(),It=Ct.findIndex(Zt=>pt.includesAny(Zt,pt.patterns.direction));return It===-1||(Ct[It]=`a=${gt}`),Ct},pt.disableTrackSection=ht=>{const gt=ht.mid,vt=ht.sdp;let Ct=vt.filter(It=>{const Zt=pt.patterns,Wt=Zt.address,kt=Zt.rtcp,Nt=Zt.rsize,Lt=Zt.ssrc,Mt=Zt.msid;return!pt.includesAny(It,[Wt,kt,Nt,Lt,Mt])});return Ct[0]=pt.disableTrack(vt[0]),Ct=pt.setMediaDirection(Ct,pt.mediaDirections.INACTIVE),{mid:gt,sdp:Ct}},pt.getEnabledTracks=ht=>pt.getBundleLine(ht).match(new RegExp(`^${pt.patterns.bundle} (.+)$`))[1].split(" "),pt.getDisabledTracks=(ht,gt)=>ht.filter(vt=>!gt.includes(vt)),pt.getTrackSection=(ht,gt)=>{const vt=ht.findIndex(kt=>kt.includes(`a=mid:${gt}`)),Ct=gt.includes("a")?"audio":"video",It=pt.getLastIndexPriorTo(ht,`m=${Ct}`,vt),Zt=pt.getIndexStartingWith(ht,["m=audio","m=video"],vt),Wt=ht.slice(It,Zt);return{mid:gt,sdp:Wt}},pt.getHeaders=ht=>{const gt=ht.findIndex(vt=>vt.includes("m=audio")||vt.includes("m=video"));return ht.slice(0,gt)},pt.disableTracks=(ht,gt)=>ht.map(vt=>gt.includes(vt.mid)?pt.disableTrackSection(vt):vt),pt.getSDPLines=ht=>ht.split(`\r
`).filter(gt=>gt),pt.parseSDP=ht=>{const gt=pt.getSDPLines(ht),vt=pt.changeSetupRole(gt,"actpass","passive"),Ct={bundle:pt.getBundleLine(vt),headers:pt.getHeaders(vt),version:pt.getVersion(vt),tracks:pt.getEnabledTracks(vt)};return Ct.trackSections=Ct.tracks.map(It=>pt.getTrackSection(vt,It)),Ct},pt.createSDP=(ht,gt)=>{const vt=ht;return gt.forEach(Ct=>vt.push(...Ct.sdp)),vt.push(""),vt.join(`\r
`)},pt.removePayloadTypeFromSection=(ht,gt)=>ht.filter(vt=>!vt.includes(`a=rtpmap:${gt} `)&&!vt.includes(`a=fmtp:${gt} `)&&!vt.includes(`a=rtcp-fb:${gt} `)),pt.getRtxPayloadType=(ht,gt)=>{const vt=ht.filter(It=>It.includes(`apt=${gt}`))[0];return vt==null?void 0:vt.match(/^a=fmtp:(\d+) /)[1]},pt.removeRtxPayloadTypeFromSection=(ht,gt)=>{let vt=[...ht];const Ct=pt.getRtxPayloadType(vt,gt);return Ct&&(vt=pt.removePayloadTypeFromSection(vt,Ct)),vt},pt.trimUnusedCodecs=(ht,gt)=>{const vt=ht[0].split(" "),Ct=vt.slice(3),It=vt.slice(0,3),Zt=pt.getCodecsFromSection(ht);let Wt=[...ht];return Ct.forEach(kt=>{const Nt=Zt.codecMap[kt];if(!gt.includes(Nt))Wt=pt.removePayloadTypeFromSection(Wt,kt),Wt=pt.removeRtxPayloadTypeFromSection(Wt,kt);else{It.push(kt);const Lt=pt.getRtxPayloadType(Wt,kt);Lt&&It.push(Lt)}}),Wt[0]=It.join(" "),Wt},pt.removeUnusedCodecs=(ht,gt)=>{if(!gt)return ht;const vt=pt.getSDPLines(ht),Ct=pt.getSDPLines(gt),It={header:pt.getHeaders(vt)};pt.getEnabledTracks(Ct).forEach(kt=>{const Nt=pt.getTrackSection(vt,kt).sdp,Lt=pt.getTrackSection(Ct,kt).sdp,Mt=Object.values(pt.getCodecsFromSection(Lt).codecMap);It[kt]=pt.trimUnusedCodecs(Nt,Mt)});const Wt=[];return Object.values(It).forEach(kt=>Wt.push(...kt)),Wt.push(""),Wt.join(`\r
`)},pt.updateSDPWithNewOffer=(ht,gt)=>{const vt=ht.headers,Ct=ht.version,It=ht.tracks,Zt=ht.trackSections,Wt=pt.getSDPLines(gt),kt={};kt.version=pt.getVersion(Wt),kt.headers=pt.updateVersion(vt,Ct,kt.version),kt.tracks=pt.getEnabledTracks(Wt);const Nt=pt.getDisabledTracks(It,kt.tracks);return kt.headers=pt.updateBundleLine(kt.headers,kt.tracks),kt.trackSections=pt.disableTracks(Zt,Nt),kt}},function(_e,tt,et){var nt=et(39),rt=et(364),it=et(365),ot="[object Null]",st="[object Undefined]",at=nt?nt.toStringTag:void 0;function ct(lt){return lt==null?lt===void 0?st:ot:at&&at in Object(lt)?rt(lt):it(lt)}_e.exports=ct},function(_e,tt,et){var nt=et(177),rt=et(116),it=et(25);function ot(st){return it(st)?nt(st):rt(st)}_e.exports=ot},function(_e,tt,et){var nt=et(43);_e.exports=function(rt){if(!nt(rt))throw new TypeError("Cannot use null or undefined");return rt}},function(_e,tt,et){var nt=et(55),rt=et(198),it=et(127),ot=et(199),st=et(200),at=_e.exports=function(ct,lt){var dt,ut,ft,pt,bt;return arguments.length<2||typeof ct!="string"?(pt=lt,lt=ct,ct=null):pt=arguments[2],nt(ct)?(dt=st.call(ct,"c"),ut=st.call(ct,"e"),ft=st.call(ct,"w")):(dt=ft=!0,ut=!1),bt={value:lt,configurable:dt,enumerable:ut,writable:ft},pt?it(ot(pt),bt):bt};at.gs=function(ct,lt,dt){var ut,ft,pt,bt;return typeof ct!="string"?(pt=dt,dt=lt,lt=ct,ct=null):pt=arguments[3],nt(lt)?rt(lt)?nt(dt)?rt(dt)||(pt=dt,dt=void 0):dt=void 0:(pt=lt,lt=dt=void 0):lt=void 0,nt(ct)?(ut=st.call(ct,"c"),ft=st.call(ct,"e")):(ut=!0,ft=!1),bt={get:lt,set:dt,configurable:ut,enumerable:ft},pt?it(ot(pt),bt):bt}},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length,st=Array(ot);++it<ot;)st[it]=rt(nt[it],it,nt);return st}_e.exports=et},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(45));const ot=et(206),st=et(56),at=et(483),ct=et(530),lt=et(1)("StaticConfig"),dt=et(100),ut=dt.prependProxyToUrlIfNeeded,ft=st({version:"v2.25.1",buildHash:"8d76a4b67",minimumVersion:{firefox:52,chrome:49},debug:!1,websiteURL:"http://www.tokbox.com",configURL:"https://config.opentok.com",ipWhitelistConfigURL:"",cdnURL:"https://static.opentok.com",loggingURL:"https://hlg.tokbox.com/prod",apiURL:"https://anvil.opentok.com"}),pt=at(["apiURL","assetURL","cdnURL","sessionInfoOverrides","loggingURL"]),bt={apiUrl:"apiURL",loggingUrl:"loggingURL"},Tt=ct(gt=>bt[gt]);function ht(gt){let vt=gt===void 0?{}:gt,Ct=vt.axios,It=Ct===void 0?ot:Ct;return function(){Wt.onlyLocal=function(){const Nt=st((typeof window!==void 0?window:commonjsGlobal).OTProperties);return new Wt(Object.assign({},ft,pt(Nt)))},Wt.get=function(Nt){let Lt=Nt.partnerId,Mt=Nt.token,tn=Nt.useIpWhitelistConfigUrl,$t=Nt.proxyUrl;return(()=>{const rn=this.onlyLocal();if(!rn.configUrl)return nt.resolve({});if(tn===!0&&!rn.ipWhitelistConfigUrl)return nt.resolve({});let ln=tn===!0?rn.ipWhitelistConfigUrl:rn.configUrl;return ln=ut(ln,$t),It.get(`${ln}/project/${Lt}/config.json`,{headers:{"X-TB-TOKEN-AUTH":Mt}}).then(mn=>mn.data)})().catch(rn=>(lt.error("could not reach live config service",rn),{})).then(rn=>{const ln=st((typeof window!==void 0?window:commonjsGlobal).OTProperties),mn=Object.assign({},ft,pt(ln),Tt(rn));return new Wt(mn)})};function Wt(kt){Object.defineProperty(this,"config",{value:Object.freeze(st(kt))})}return(0,it.default)(Wt,[{key:"configUrl",get:function(){return this.config.configURL}},{key:"ipWhitelistConfigUrl",get:function(){return this.config.ipWhitelistConfigURL}},{key:"apiUrl",get:function(){return this.config.apiURL}},{key:"loggingUrl",get:function(){return this.config.loggingURL}},{key:"apiEnabled",get:function(){return typeof this.config.apiEnabled<"u"?this.config.apiEnabled:!0}},{key:"version",get:function(){return this.config.version}},{key:"clientVersion",get:function(){return`js-${(this.version||"unknown").replace("v","")}`}},{key:"buildHash",get:function(){return this.config.buildHash}},{key:"minimumVersion",get:function(){return this.config.minimumVersion}},{key:"websiteUrl",get:function(){return this.config.websiteURL}},{key:"debug",get:function(){return this.config.debug==="true"||this.config.debug===!0}},{key:"sessionInfoOverrides",get:function(){return this.config.sessionInfoOverrides}},{key:"cdnUrl",get:function(){return this.config.cdnURL||`${(typeof window!==void 0?window:commonjsGlobal).location.protocol}//${(typeof window!==void 0?window:commonjsGlobal).location.host}`}},{key:"assetUrl",get:function(){return this.config.assetURL||`${this.cdnUrl}/webrtc/${this.version}`}}]),Wt}()}_e.exports=ht}).call(this,et(0))},function(_e,tt,et){var nt=et(509),rt=et(515),it=et(88),ot=et(12),st=et(520);function at(ct){return typeof ct=="function"?ct:ct==null?it:typeof ct=="object"?ot(ct)?rt(ct[0],ct[1]):nt(ct):st(ct)}_e.exports=at},function(_e,tt,et){const nt=et(8);_e.exports=function(it,ot){let st;const at=ot||{};it.setDisplayMode=function(ct){const lt=ct||"auto";st!==lt&&(nt.removeClass(this.domElement,`OT_mode-${st}`),nt.addClass(this.domElement,`OT_mode-${lt}`),st=lt)},it.getDisplayMode=function(){return st},it.showAfterLoading=function(){nt.removeClass(this.domElement,"OT_hide-forced")},it.hideWhileLoading=function(){nt.addClass(this.domElement,"OT_hide-forced")},it.destroy=function(){return at.onDestroy&&at.onDestroy(this.domElement),this.domElement&&nt.removeElement(this.domElement),it},it.appendTo=function(ct){return this.domElement=nt.createElement(at.nodeName||"div",at.htmlAttributes,at.htmlContent),at.onCreate&&at.onCreate(this.domElement),it.setDisplayMode(at.mode),at.mode==="auto"&&(nt.addClass(it.domElement,"OT_mode-on-hold"),setTimeout(()=>{nt.removeClass(it.domElement,"OT_mode-on-hold")},2e3)),ct.appendChild(this.domElement),it}}},function(_e,tt,et){var nt=et(77),rt=4;function it(ot){return nt(ot,rt)}_e.exports=it},function(_e,tt,et){var nt=et(363),rt=et(368);function it(ot,st){var at=rt(ot,st);return nt(at)?at:void 0}_e.exports=it},function(_e,tt,et){var nt=et(14),rt=nt.Symbol;_e.exports=rt},function(_e,tt,et){var nt=et(83),rt=et(62);function it(ot,st,at,ct){var lt=!at;at||(at={});for(var dt=-1,ut=st.length;++dt<ut;){var ft=st[dt],pt=ct?ct(at[ft],ot[ft],ft,at,ot):void 0;pt===void 0&&(pt=ot[ft]),lt?rt(at,ft,pt):nt(at,ft,pt)}return at}_e.exports=it},function(_e,tt,et){var nt=et(392),rt=et(111),it=et(393),ot=et(185),st=et(186),at=et(29),ct=et(174),lt="[object Map]",dt="[object Object]",ut="[object Promise]",ft="[object Set]",pt="[object WeakMap]",bt="[object DataView]",Tt=ct(nt),ht=ct(rt),gt=ct(it),vt=ct(ot),Ct=ct(st),It=at;(nt&&It(new nt(new ArrayBuffer(1)))!=bt||rt&&It(new rt)!=lt||it&&It(it.resolve())!=ut||ot&&It(new ot)!=ft||st&&It(new st)!=pt)&&(It=function(Zt){var Wt=at(Zt),kt=Wt==dt?Zt.constructor:void 0,Nt=kt?ct(kt):"";if(Nt)switch(Nt){case Tt:return bt;case ht:return lt;case gt:return ut;case vt:return ft;case Ct:return pt}return Wt}),_e.exports=It},function(_e,tt){var et=_e.exports={},nt,rt;function it(){throw new Error("setTimeout has not been defined")}function ot(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?nt=setTimeout:nt=it}catch{nt=it}try{typeof clearTimeout=="function"?rt=clearTimeout:rt=ot}catch{rt=ot}})();function st(ht){if(nt===setTimeout)return setTimeout(ht,0);if((nt===it||!nt)&&setTimeout)return nt=setTimeout,setTimeout(ht,0);try{return nt(ht,0)}catch{try{return nt.call(null,ht,0)}catch{return nt.call(this,ht,0)}}}function at(ht){if(rt===clearTimeout)return clearTimeout(ht);if((rt===ot||!rt)&&clearTimeout)return rt=clearTimeout,clearTimeout(ht);try{return rt(ht)}catch{try{return rt.call(null,ht)}catch{return rt.call(this,ht)}}}var ct=[],lt=!1,dt,ut=-1;function ft(){!lt||!dt||(lt=!1,dt.length?ct=dt.concat(ct):ut=-1,ct.length&&pt())}function pt(){if(!lt){var ht=st(ft);lt=!0;for(var gt=ct.length;gt;){for(dt=ct,ct=[];++ut<gt;)dt&&dt[ut].run();ut=-1,gt=ct.length}dt=null,lt=!1,at(ht)}}et.nextTick=function(ht){var gt=new Array(arguments.length-1);if(arguments.length>1)for(var vt=1;vt<arguments.length;vt++)gt[vt-1]=arguments[vt];ct.push(new bt(ht,gt)),ct.length===1&&!lt&&st(pt)};function bt(ht,gt){this.fun=ht,this.array=gt}bt.prototype.run=function(){this.fun.apply(null,this.array)},et.title="browser",et.browser=!0,et.env={},et.argv=[],et.version="",et.versions={};function Tt(){}et.on=Tt,et.addListener=Tt,et.once=Tt,et.off=Tt,et.removeListener=Tt,et.removeAllListeners=Tt,et.emit=Tt,et.prependListener=Tt,et.prependOnceListener=Tt,et.listeners=function(ht){return[]},et.binding=function(ht){throw new Error("process.binding is not supported")},et.cwd=function(){return"/"},et.chdir=function(ht){throw new Error("process.chdir is not supported")},et.umask=function(){return 0}},function(_e,tt,et){var nt=et(411)();_e.exports=function(rt){return rt!==nt&&rt!==null}},function(_e,tt,et){_e.exports=et(425)()?et(91).Symbol:et(428)},function(_e,tt){function et(rt,it){for(var ot=0;ot<it.length;ot++){var st=it[ot];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(rt,st.key,st)}}function nt(rt,it,ot){return it&&et(rt.prototype,it),ot&&et(rt,ot),rt}_e.exports=nt},function(_e,tt,et){var nt=et(69),rt=1/0;function it(ot){if(typeof ot=="string"||nt(ot))return ot;var st=ot+"";return st=="0"&&1/ot==-rt?"-0":st}_e.exports=it},function(_e,tt,et){var nt=et(527),rt=et(140),it=rt(function(ot,st){return ot==null?{}:nt(ot,st)});_e.exports=it},function(_e,tt){function et(nt,rt){nt.prototype=Object.create(rt.prototype),nt.prototype.constructor=nt,nt.__proto__=rt}_e.exports=et},function(_e,tt,et){const nt=(typeof window!==void 0?window:commonjsGlobal).performance||{};_e.exports=function(){return nt.now?nt.timing.navigationStart+nt.now():Date.now()}},function(_e,tt,et){var nt=et(593);function rt(it){return nt(2,it)}_e.exports=rt},function(_e,tt,et){const nt=et(50),rt=et(34)();tt.check=function(it){it===void 0&&(it={});const ot=it.env||et(2),st=it.hasGetUserMediaCapability||et(601),at=it.hasPeerConnectionCapability||et(602),ct=it.logging||et(1)("hasOpenTokSupport"),ut=((it.staticConfig||rt.onlyLocal()).minimumVersion||{})[ot.name.toLowerCase()];return ut&&ut>ot.version?(ct.debug("Support for",ot.name,"is disabled because we require",ut,"but this is",ot.version),!1):ot.name==="Node"?!0:st()&&at()},tt.once=nt(()=>tt.check())},function(_e,tt){function et(nt,rt){return nt===rt||nt!==nt&&rt!==rt}_e.exports=et},function(_e,tt,et){var nt=et(177),rt=et(387),it=et(25);function ot(st){return it(st)?nt(st,!0):rt(st)}_e.exports=ot},function(_e,tt){function et(nt,rt){var it=-1,ot=nt.length;for(rt||(rt=Array(ot));++it<ot;)rt[it]=nt[it];return rt}_e.exports=et},function(_e,tt,et){var nt=void 0;_e.exports=function(rt){return rt!==nt&&rt!==null}},function(_e,tt,et){var nt=et(77),rt=1,it=4;function ot(st){return nt(st,rt|it)}_e.exports=ot},function(_e,tt,et){var nt=et(98);function rt(it,ot,st){var at=it==null?void 0:nt(it,ot);return at===void 0?st:at}_e.exports=rt},function(_e,tt,et){var nt=et(12),rt=et(139),it=et(235),ot=et(59);function st(at,ct){return nt(at)?at:rt(at,ct)?[at]:it(ot(at))}_e.exports=st},function(_e,tt,et){var nt=et(517);function rt(it){return it==null?"":nt(it)}_e.exports=rt},function(_e,tt,et){var nt=et(616),rt=et(272),it=nt(rt);_e.exports=it},function(_e,tt,et){_e.exports=function(rt){const it=[];return{on(ot,st){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];if(it.push({eventName:ot,handler:st,args:ct}),rt.on)rt.on(ot,st);else if(rt.addEventListener)rt.addEventListener(ot,st,...ct);else throw new Error("Object does not support events",rt)},off(ot,st){if(rt.off)rt.off(ot,st);else if(rt.removeEventListener){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];rt.removeEventListener(ot,st,...ct)}else throw new Error("Object does not support events",rt)},once(ot,st){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];it.push({eventName:ot,handler:st,args:ct}),rt.once(ot,st)},removeAll(){it.forEach(ot=>{let st=ot.eventName,at=ot.handler,ct=ot.args;this.off(st,at,...ct)}),it.splice(0,it.length)}}}},function(_e,tt,et){var nt=et(175);function rt(it,ot,st){ot=="__proto__"&&nt?nt(it,ot,{configurable:!0,enumerable:!0,value:st,writable:!0}):it[ot]=st}_e.exports=rt},function(_e,tt,et){var nt=et(382),rt=et(17),it=Object.prototype,ot=it.hasOwnProperty,st=it.propertyIsEnumerable,at=nt(function(){return arguments}())?nt:function(ct){return rt(ct)&&ot.call(ct,"callee")&&!st.call(ct,"callee")};_e.exports=at},function(_e,tt,et){(function(nt){var rt=et(14),it=et(383),ot=tt&&!tt.nodeType&&tt,st=ot&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,at=st&&st.exports===ot,ct=at?rt.Buffer:void 0,lt=ct?ct.isBuffer:void 0,dt=lt||it;nt.exports=dt}).call(this,et(84)(_e))},function(_e,tt){var et=9007199254740991,nt=/^(?:0|[1-9]\d*)$/;function rt(it,ot){var st=typeof it;return ot=ot??et,!!ot&&(st=="number"||st!="symbol"&&nt.test(it))&&it>-1&&it%1==0&&it<ot}_e.exports=rt},function(_e,tt){function et(nt){return function(rt){return nt(rt)}}_e.exports=et},function(_e,tt){var et=Object.prototype;function nt(rt){var it=rt&&rt.constructor,ot=typeof it=="function"&&it.prototype||et;return rt===ot}_e.exports=nt},function(_e,tt,et){_e.exports=function(nt){if(typeof nt!="function")throw new TypeError(nt+" is not a function");return nt}},function(_e,tt,et){var nt=et(29),rt=et(17),it="[object Symbol]";function ot(st){return typeof st=="symbol"||rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){if(et(8).env.name==="Node")_e.exports={value:""};else{var rt,it;const ot=(rt=Array.prototype.slice.call(document.getElementsByTagName("script")))==null||(it=rt.pop())==null?void 0:it.getAttribute("src"),st=ot&&ot.match(/[?&]apikey=([^&]+)/i)||[],at=st[1];_e.exports={value:at||""}}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(154),at=et(49),ct=et(9),lt=et(56),dt=et(129),ut=et(271),ft=et(15),pt=et(6),bt=et(249),Tt=et(155),ht=et(28),gt=et(72),vt=et(619);_e.exports=function(It){It===void 0&&(It={});const Zt=It.hasValidPeerConnection||et(620),Wt=It.applySdpTransform||et(156),kt=It.createPeerConnection||et(621),Nt=It.env||et(2),Lt=It.sdpTransformDefaults||et(623),Mt=It.getStatsAdapter||et(274),tn=It.getRtcStatsReportAdapter||et(277),$t=It.getSynchronizationSources||et(627),Ht=It.IceCandidateProcessor||et(628),rn=It.logging||et(1),ln=It.offerProcessor||et(630),mn=It.PeerConnectionChannels||et(632),on=It.subscribeProcessor||et(634),yn=et(635),hn=It.changeMediaDirection||et(637),un=hn.changeMediaDirectionToInactive,dn=hn.changeMediaDirectionToRecvOnly,Nn=It.Qos||et(278).default,Wn=It.global||(typeof window!==void 0?window:commonjsGlobal),pn=It.debounce||et(641),Rn=It.needsToSwapH264Profiles||et(643).once,xn=()=>Zt(Wn.RTCPeerConnection),Jn=It.NativeRTCIceCandidate||Wn.RTCIceCandidate,cr=It.NativeRTCSessionDescription||Wn.RTCSessionDescription,er=It.Errors||et(7),_n=It.OTErrorClass||et(22),Sr=It.ExceptionCodes||et(10),vr=It.hasPictureInPictureBug||et(644),Gr=1e4,Lr=co=>{let Tr=co.sendMessage,wr=co.logging;const Bn={};return Gn=>{Gn.candidate?(Bn[Gn.candidate.sdpMid]=Gn.candidate.sdpMLineIndex,Tr("candidate",{candidate:Gn.candidate.candidate,sdpMid:Gn.candidate.sdpMid||"",sdpMLineIndex:Gn.candidate.sdpMLineIndex||0})):wr.debug("IceCandidateForwarder: No more ICE candidates.")}},Ur=()=>{};return function(Tr){Tr===void 0&&(Tr={});let wr=!1;const Bn=Tr,Gn=Bn.iceConfig,lr=Gn===void 0?{servers:[]}:Gn,Vr=Bn.sendMessage,oo=Bn.isPublisher,Yn=Bn.offerOverrides,yr=Bn.answerOverrides,Ar=Bn.p2p,so=Bn.codecFlags,jr=Bn.sourceStreamId,mo=Bn.keyStore,bo=Bn.sFrameClientStore,go=Bn.isE2ee,$r=Bn.removeUnusedCodecs;let Wo=Tr,So=Wo.logAnalyticsEvent,Vo=So===void 0?Ur:So,qr=Wo.remoteConnectionId,Iu=!1,Ho;const Co=Rn();let es=0,Hs=!1,eu,Is,_a,wu;const Wu=new yn(Vo),Bp=Tt();function _u(An,Pn){wr||["candidate","offer","answer","pranswer"].indexOf(An)>-1&&(wr=(An==="candidate"?Pn.candidate:Pn.sdp).indexOf("typ relay")!==-1),Vr(An,Pn)}const qu=at();Vo("createPeerConnection","Attempt");const _r={};_r.id=ft();const qs=rn(`PeerConnection:${_r.id}`);qs.debug("construct",{id:_r.id,options:Tr});const lu=Lt,Gs=An=>lr.transportPolicy==="relay"&&An!=null&&An.candidate.indexOf("typ relay")===-1,El=ut(Tr,["isPublisher","logAnalyticsEvent","offerOverrides","answerOverrides","sendMessage"]);let Hr,Qs,Yp,uu,du,ts=[];const Wl=(()=>{let An=El.overrideSimulcastEnabled||!1;return{get(){return An},set(Pn){const nr=!!Pn&&El.capableSimulcastStreams>1;nr!==An&&El.overrideSimulcastEnabled===void 0&&(An=nr,_r.generateOfferAndSend())}}})(),ns=()=>{_r.iceConnectionStateIsConnected()?qs.debug("iceRestart is going to wait until we disconnect or negotiationNeeded and then restart ice"):_r.generateOfferAndSend()},Hu=(()=>{let An=!1;return{get(){return An},set(Pn){const nr=!!Pn;nr!==An&&(An=nr,An&&ns())}}})(),fp={clean(){delete this.promise,delete this.resolve,delete this.reject}};fp.promise=new nt((An,Pn)=>{fp.resolve=An,fp.reject=Pn});let _c=new Ht,rp="new";Object.defineProperty(_r,"signalingState",{get(){return Hr.signalingState},set(An){return Hr.signalingState=An,An}}),pt(_r),_r.addOptions=An=>{qr=An.remoteConnectionId,Vo=An.logAnalyticsEvent},_r.startEncryption=function(){var An=(0,ot.default)(it.default.mark(function Pn(nr){var Ir;return it.default.wrap(function(ko){for(;;)switch(ko.prev=ko.next){case 0:if(go){ko.next=2;break}return ko.abrupt("return");case 2:return _a=vt(nr),ko.next=5,bo.createSender(_a);case 5:return Is=ko.sent,ko.next=8,mo.get();case 8:return Ir=ko.sent,ko.next=11,Is.setSenderEncryptionKey(Ir);case 11:wu=Go=>{Is.setSenderEncryptionKey(Go)},mo.on("keyChanged",wu),Hr.getTransceivers().forEach(Go=>Is.encrypt(Go.mid,Go.sender));case 14:case"end":return ko.stop()}},Pn)}));return function(Pn){return An.apply(this,arguments)}}(),_r.once("iceConnected",(0,ot.default)(it.default.mark(function An(){var Pn,nr;return it.default.wrap(function(Zr){for(;;)switch(Zr.prev=Zr.next){case 0:Pn="",nr={pcc:parseInt(at()-qu,10),hasRelayCandidates:wr,proxyInfo:Pn},Hr&&Hr.proxyInfo&&(nr.proxyInfo=Hr.proxyInfo),Vo("createPeerConnection","Success",nr);case 4:case"end":return Zr.stop()}},An)}))),fp.resolve();const _d=function(){var An=(0,ot.default)(it.default.mark(function Pn(){var nr;return it.default.wrap(function(Zr){for(;;)switch(Zr.prev=Zr.next){case 0:return Zr.next=2,mo.get();case 2:if(nr=Zr.sent,_a=vt(qr),eu=bo.getReceiver(_a),eu){Zr.next=14;break}return Zr.next=8,bo.createReceiver(_a);case 8:eu=Zr.sent,eu.addReceiver(_a),eu.setReceiverEncryptionKey(_a,nr),mo.on("keyChanged",ko=>{eu.setReceiverEncryptionKey(_a,ko)}),eu.addEventListener("decryptFailed",()=>{_r.trigger("decryptFailed")}),eu.addEventListener("decryptionRestored",()=>{_r.trigger("decryptRestored")});case 14:case"end":return Zr.stop()}},Pn)}));return function(){return An.apply(this,arguments)}}(),ba=An=>{if(qs.debug("internalCreatePeerConnection: called"),Hr){qs.debug("internalCreatePeerConnection: resolving synchronously"),An.call(null,null,Hr);return}if(ts.push(An),!(ts.length>1)){if(qs.debug(`Creating peer connection config "${JSON.stringify(El)}".`),lr.servers.length===0&&(qs.error("No ice servers present"),Vo("Error","noIceServers")),lr.transportPolicy==="relay"){const Pn=nr=>nr&&nr.indexOf("turn")===0;lr.servers=lr.servers.map(nr=>{const Ir=lt(nr);return Array.isArray(Ir.urls)||(Ir.urls=[Ir.urls]),Ir.urls=Ir.urls.filter(Pn),Ir.urls.length===0?void 0:Ir}).filter(nr=>nr!==void 0)}El.iceTransportPolicy=lr.transportPolicy,El.iceServers=lr.servers,go&&(El.forceEncodedVideoInsertableStreams=!0,El.forceEncodedAudioInsertableStreams=!0,El.encodedInsertableStreams=!0),xn().then(Pn=>{if(!Pn)throw qs.error("createPeerConnection: Invalid RTCPeerConnection object"),new Error("Failed to create valid RTCPeerConnection object");return kt({window:Wn,config:El})}).then(function(){var Pn=(0,ot.default)(it.default.mark(function nr(Ir){return it.default.wrap(function(ko){for(;;)switch(ko.prev=ko.next){case 0:if(!(!oo&&go)){ko.next=3;break}return ko.next=3,_d();case 3:zo(null,Ir);case 4:case"end":return ko.stop()}},nr)}));return function(nr){return Pn.apply(this,arguments)}}(),Pn=>zo(Pn))}},zo=(An,Pn)=>{if(An){op({reason:`Failed to create PeerConnection, exception: ${An}`,prefix:"NewPeerConnection"}),ts=[];return}qs.debug("OT attachEventsToPeerConnection"),Hr=Pn,_c&&_c.setPeerConnection(Pn),Qs=new mn(Hr),El.channels&&Qs.addMany(El.channels);const nr=Lr({sendMessage:_u,logging:qs}),Ir=os=>{if(fp.resolve(),Gs(os.candidate)){qs.debug("Ignore candidate",os.candidate.candidate);return}nr(os)},Zr=function(){var os=(0,ot.default)(it.default.mark(function ps(Vs){return it.default.wrap(function(Vp){for(;;)switch(Vp.prev=Vp.next){case 0:bs(Vs),!oo&&eu&&eu.decrypt(Vs.transceiver.mid,Vs.receiver);case 2:case"end":return Vp.stop()}},ps)}));return function(Vs){return os.apply(this,arguments)}}();let ko=Hr.iceConnectionState;const Go=os=>{Hr?(qs.debug("iceconnectionstatechange",Hr.iceConnectionState),Hr.iceConnectionState==="connected"?(ko==="disconnected"&&_r.clearFailedTimeout(),_r.emit("iceConnected"),Hu.set(!1)):Hr.iceConnectionState==="completed"&&Nt.isLegacyEdge&&setTimeout(()=>Qn.startCollecting(Hr),1e3)):qs.debug("iceconnectionstatechange on peerConnection that no longer exists",_r);const ps=os.target.iceConnectionState;_r.trigger("iceConnectionStateChange",ps),Vo("attachEventsToPeerConnection","iceconnectionstatechange",ps),ps==="disconnected"&&(Hu.get()?(qs.debug("Restarting ice!"),_r.generateOfferAndSend()):gt()||(du=setTimeout(()=>{const Vs="failed";Vo("attachEventsToPeerConnection","iceconnectionstatechange",Vs),ko=Vs,_r.trigger("iceConnectionStateChange",Vs)},Gr))),ko!=="disconnected"&&ps==="failed"&&op({reason:"The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",prefix:"ICEWorkflow"}),ko=ps},As=()=>{Vo("peerConnection:negotiationNeeded","Event"),oo&&_r.generateOfferAndSend(),_r.trigger("negotiationNeeded")};Hr.addEventListener("track",Zr),Hr.addEventListener("icecandidate",Ir),Hr.addEventListener("signalingstatechange",ip),Hr.addEventListener("negotiationneeded",As),Hr.addEventListener("iceconnectionstatechange",Go),Bp.add(()=>{Hr&&(Hr.removeEventListener("track",Zr),Hr.removeEventListener("icecandidate",Ir),Hr.removeEventListener("signalingstatechange",ip),Hr.removeEventListener("negotiationneeded",As),Hr.removeEventListener("iceconnectionstatechange",Go))}),tu()},tu=()=>{for(;ts.length;)ts.shift().call(null)},vo=()=>{_c&&(_c.destroy(),_c=null),ts=[],Qn.stopCollecting(),Bp.releaseAll(),fp.clean(),Hr!==null&&(Hr.destroy&&Hr.destroy(),Hr=null,_r.trigger("close")),_r.off()},ip=An=>{const Pn=An.target.signalingState;if(_r.emit("signalingStateChange",Pn),Pn==="stable"&&_r.emit("signalingStateStable"),Pn&&Pn!==rp)switch(rp=Pn,qs.debug(`stateChange: ${rp}`),rp){case"closed":vo();break}},Ou=An=>{An.dataChannels=Qs.sampleQos(),_r.trigger("qos",{parsedStats:An,simulcastEnabled:Wl.get()})},Ap=()=>{let An;if(Hr.getRemoteStreams)An=Hr.getRemoteStreams();else if(Hr.remoteStreams)An=Hr.remoteStreams;else throw new Error("Invalid Peer Connection object implements no method for retrieving remote streams");return Array.prototype.slice.call(An)},bs=An=>{var Pn;const nr=An.track,Ir=An.transceiver,Zr=An.stream||((Pn=An.streams)==null?void 0:Pn[0]);Vo("createPeerConnection","TrackAdded"),_r.trigger("trackAdded",{stream:Zr,track:nr,transceiver:Ir})},kp=(An,Pn,nr)=>{Iu=!1,op({reason:`PeerConnection.offerProcessor ${An}: ${Pn}`,prefix:nr})},_p=An=>{if(Iu){Ho=An;return}Iu=!0,Vo("peerConnection:processOffer","Event");const Pn=new cr({type:"offer",sdp:An.content.sdp}),nr=Zr=>{Iu=!1,_c&&_c.process(),_u("answer",Zr),Nt.isLegacyEdge||Qn.startCollecting(Hr,oo),Ho&&(_p(Ho),Ho=null)},Ir=Zr=>_r.trigger("remoteVideoSupported",Zr);ba(()=>{ln(Hr,Wn.RTCPeerConnection,Wn.RTCSessionDescription,cr,lu,Pn,so,Ar,nr,kp,Ir,Co,jr)})},Lp=An=>{Vo("peerConnection:processAnswer","Event");const Pn="Failed to parse SessionDescription. a=extmap-allow-mixed Expects at least 2 fields.",nr=Ir=>{Ir.includes(Pn)&&(Ir="SessionDescription issue has been fixed in Chrome 71 and above. Please update your browser."),op({reason:`Error while setting RemoteDescription ${Ir}`,prefix:"SetRemoteDescription"})};if(!An.content.sdp){nr("Weird answer message, no SDP.");return}uu=new cr({type:"answer",sdp:Wt(lu,"remote","answer",ct({replaceBaselineProfile:Co},yr),An.content.sdp).local}),(()=>{const Ir=()=>{qs.debug("processAnswer: setRemoteDescription Success"),_c&&_c.process()};Hr.setRemoteDescription(uu).then(Ir).catch(nr),Wu.setResolved()})(),Nt.isLegacyEdge||Qn.startCollecting(Hr,oo)},Sp=An=>{var Pn,nr;if(((Pn=Hr)==null||(nr=Pn.signalingState)==null?void 0:nr.toLowerCase())==="closed")return;Vo("peerConnection:processSubscribe","Event"),qs.debug("processSubscribe: Sending offer to subscriber.");let Ir=Wl.get()?El.capableSimulcastStreams:1;jr==="P2P"&&!Ar&&(Ir=1),ba(()=>{on({peerConnection:Hr,NativeRTCSessionDescription:cr,sdpTransforms:lu,numSimulcastStreams:Ir,removeVideoOrientation:vr(),offerOverrides:Yn,offerConstraints:{iceRestart:Hu.get()},replaceBaselineProfile:Co,removeUnusedCodecs:$r}).then(ko=>{qs.debug("processSubscribe: got offer, waiting for _readyToCompleteOffer"),Yp=ko,fp.promise.then(()=>An(Yp))},ko=>{op({reason:`subscribeProcessor ${ko.message}: ${ko.reason}`,prefix:ko.prefix})}),Hu.set(!1)})},zp=()=>{typeof wu=="function"&&mo.off("keyChanged",wu),Is=null,_a=null};_r.generateOfferAndSend=()=>{const An=Pn=>{qs.debug("processSubscribe: sending offer"),_u("offer",Pn)};_r.generateOffer(An)},_r.generateOfferAndAnswer=An=>{const Pn=nr=>{An(nr)};_r.generateOffer(Pn)},_r.generateOffer=pn(function(An){An===void 0&&(An=()=>{}),Wu.enqueueOfferAnswer(()=>Sp(An))},100);const op=An=>{let Pn=An.reason,nr=An.prefix;qs.error(Pn,"in state",Hr?{connectionState:Hr.connectionState,iceConnectionState:Hr.iceConnectionState,iceGatheringState:Hr.iceGatheringState,signalingState:Hr.signalingState}:"(none)"),_r.trigger("error",{reason:Pn,prefix:nr})};_r.addTrack=(An,Pn)=>{const nr=new nt((Ir,Zr)=>{ba(ko=>{if(ko)return Zr(ko);Ir()})}).then(()=>{if(Hr.addTrack)return Hr.addTrack(An,Pn);const Ir=Hr.getLocalStreams()[0];if(Ir===void 0)throw new Error("PeerConnection has no existing streams, cannot addTrack");Ir.addTrack(An),_r.generateOfferAndSend()}).then(()=>new nt(Ir=>{_r.once("signalingStateStable",()=>{Ir()})}));return st(nr,15e3,"Renegotiation timed out")};function fu(An){this.track=An}_r.setIceConfig=An=>{try{Nt.isFirefox&&(An.certificates=Hr.getConfiguration().certificates),Hr.setConfiguration(An)}catch(Pn){throw new bt(`A peer connection failed to set configuration with ${Pn.message}`,er.FAILED_SET_CONFIGURATION)}return Hu.set(!0),Hr},_r.removeTrack=An=>{const Pn=nt.resolve().then(()=>{if(An instanceof fu){Hr.getLocalStreams()[0].removeTrack(An.track),_r.generateOfferAndSend();return}return Hr.removeTrack(An)}).then(()=>new nt(nr=>{_r.once("signalingStateStable",()=>{nr()})}));return st(Pn,15e3,"Renegotiation timed out")},_r.addLocalStream=An=>new nt((Pn,nr)=>{ba(Ir=>{if(Ir){nr(Ir);return}try{An.getTracks&&An.getTracks().forEach(Zr=>Hr.addTrack(Zr,An))}catch(Zr){nr(Zr);return}Pn()})}),_r.getLocalStreams=()=>Hr.getLocalStreams(),_r.getSenders=()=>Hr.getSenders?Hr.getSenders():Hr.getLocalStreams()[0].getTracks().map(An=>new fu(An)),_r.disconnect=()=>{var An;_c&&(_c.destroy(),_c=null),(An=Hr)!=null&&An.signalingState&&Hr.signalingState.toLowerCase()!=="closed"&&(Hr.close(),zp(),setTimeout(vo))},_r.iceRestart=()=>Hu.set(!0),_r.clearFailedTimeout=()=>clearTimeout(du);const Gu=An=>{const Pn=An?un:dn;return new nt(Ir=>{Wu.enqueueOfferAnswer((0,ot.default)(it.default.mark(function Zr(){return it.default.wrap(function(Go){for(;;)switch(Go.prev=Go.next){case 0:return Go.next=2,Pn(Hr);case 2:Wu.setResolved(),Ir();case 4:case"end":return Go.stop()}},Zr)})))})};_r.changeMediaDirectionToRecvOnly=()=>Gu(!1),_r.changeMediaDirectionToInactive=()=>Gu(!0),_r.processMessage=(An,Pn)=>{switch(qs.debug(`processMessage: Received ${An} from ${Pn.fromAddress}`,Pn),qs.debug(Pn),An){case"generateoffer":Pn.content&&Pn.content.simulcastEnabled!==void 0&&Wl.set(Pn.content.simulcastEnabled),_r.generateOfferAndSend(),Ir();break;case"offer":_p(Pn),Ir();break;case"answer":case"pranswer":Lp(Pn);break;case"candidate":var nr=new Jn(Pn.content);if(Gs(nr))return qs.debug("Ignore candidate",nr.candidate),_r;_c&&_c.addIceCandidate(nr).catch(Zr=>{qs.warn(`Error while adding ICE candidate: ${JSON.stringify(nr)}: ${Zr.toString()}`)});break;default:qs.debug(`processMessage: Received an unexpected message of type ${An} from ${Pn.fromAddress}: ${JSON.stringify(Pn)}`)}function Ir(){es+=1,Qn.handleOfferMessageReceived(),es>1&&(Vo("Renegotiation","Attempt"),Hs=!0)}return _r};const Ul=An=>{const Pn=(nr,Ir)=>nr.mid<Ir.mid?1:nr.mid>Ir.mid?-1:0;return An.sort(Pn)};_r.stopTransceivers=An=>{const Pn=Hr.getTransceivers().filter(nr=>An.includes(nr.mid));Ul(Pn).forEach(nr=>nr.stop())},_r.remoteStreams=()=>Hr?Ap():[],_r.remoteTracks=()=>Hr?Hr.getReceivers?Array.prototype.slice.apply(Hr.getReceivers()).map(An=>An.track):Array.prototype.concat.apply([],Ap().map(An=>An.getTracks())):[],_r.remoteDescription=()=>Hr.remoteDescription,_r.getStats=An=>{if(!Hr){const Pn=Sr.PEER_CONNECTION_NOT_CONNECTED;An(new bt(_n.getTitleByCode(Pn),er.PEER_CONNECTION_NOT_CONNECTED,{code:Pn}));return}Mt(Hr,An)},_r.getRtcStatsReport=An=>{if(!Hr){const Pn=Sr.PEER_CONNECTION_NOT_CONNECTED;An(new bt(_n.getTitleByCode(Pn),er.PEER_CONNECTION_NOT_CONNECTED,{code:Pn}));return}tn(Hr,An)},_r.getSynchronizationSources=An=>{if(!oo){if(!Hr){const Pn=Sr.PEER_CONNECTION_NOT_CONNECTED;An(new bt(_n.getTitleByCode(Pn),er.PEER_CONNECTION_NOT_CONNECTED,{code:Pn}));return}$t(Hr,An)}};const Wp=function An(Pn,nr,Ir,Zr){let ko;const Go=Qs.get(nr,Ir);if(!Go){if(Pn>0){setTimeout(An.bind(null,Pn-1,nr,Ir,Zr),200);return}ko=new bt(`A channel with that label and options could not be found. Label:${nr}. Options: ${JSON.stringify(Ir)}`)}Zr(ko,Go)};_r.getDataChannel=(An,Pn,nr)=>{if(!Hr){nr(new bt("Cannot create a DataChannel before there is a connection."));return}Wp(100,An,Pn,nr)},_r.getSourceStreamId=()=>jr,_r.iceConnectionStateIsConnected=()=>Hr&&["connected","completed"].indexOf(Hr.iceConnectionState)>-1,_r.findAndReplaceTrack=(An,Pn)=>nt.resolve().then(()=>{const nr=Hr.getSenders().filter(Ir=>Ir.track===An)[0];if(!nr)return nt.resolve();if(typeof nr.replaceTrack!="function")throw new Error("Sender does not support replaceTrack");return nr.replaceTrack(Pn)}),_r.hasRelayCandidates=()=>wr,_r.getNegotiatedCodecs=()=>{if(!Hr.localDescription||!Hr.remoteDescription)return null;const An=Pn=>dt(ht.getCodecs(Hr.localDescription.sdp,Pn),ht.getCodecs(Hr.remoteDescription.sdp,Pn));return{audio:An("audio"),video:An("video")}},_r.on("signalingStateStable",()=>{Hs&&(Hs=!1,Vo("Renegotiation","Success",_r.getNegotiatedCodecs()))}),_r.on("error",An=>{let Pn=An.prefix;Hs&&["CreateOffer","SetRemoteDescription"].indexOf(Pn)!==-1&&(Hs=!1,Vo("Renegotiation","Failure"))}),_r.on("close",()=>{Hs&&(Hs=!1,Vo("Renegotiation","Cancel"))});const Qn=new Nn;return Qn.on("stats",Ou),_r}}}).call(this,et(0))},function(_e,tt,et){const nt=et(2),rt=()=>(nt.isChrome||nt.isElectron)&&nt.version>=90||nt.isOpera&&nt.version>=76;_e.exports=()=>!rt()&&(nt.isChrome&&nt.version>71||nt.isChromiumEdge&&nt.version<90||nt.isOpera&&nt.version>58)},function(_e,tt,et){function nt(rt,it,ot){ot===void 0&&(ot=1/0);let st=null,at=!1,ct=1;const lt=1e3/it,dt=()=>{!at||ct>ot||(ct+=1,rt(),st=setTimeout(dt,lt))};this.start=()=>{at||(at=!0,setTimeout(dt,lt))},this.stop=()=>{(typeof window!==void 0?window:commonjsGlobal).clearTimeout(st),at=!1}}_e.exports=nt},function(_e,tt,et){tt.__esModule=!0,tt.MEDIUM=tt.LOW=tt.CongestionLevels=tt.CRITICAL=void 0;const nt=2;tt.CRITICAL=nt;const rt=1;tt.MEDIUM=rt;const it=0;tt.LOW=it;const ot={CRITICAL:nt,MEDIUM:rt,LOW:it};tt.CongestionLevels=ot},function(_e,tt,et){const nt=et(47),rt=et(671),it=et(11),ot=et(157),st={};function at(pt){return Number(pt.framerateMean||pt.googFrameRateSent||pt.googFrameRateReceived||pt.googFrameRateInput||pt.googFrameRateOutput||0)}function ct(pt){return Number(pt.framesEncoded||pt.framesDecoded)}function lt(pt,bt){if(at(pt))return at(pt);if(!ct(pt))return;let Tt=0;const ht=st[pt.id]?st[pt.id].frames:0,gt=st[pt.id]?st[pt.id].timestamp:bt;return Tt=ot({currentStatFrames:ct(pt),currentTimestamp:pt.timestamp,prevStatFrames:ht,prevTimestamp:gt}),st[pt.id]={frames:ct(pt),timestamp:pt.timestamp},Tt}function dt(pt,bt){if(!bt)return{};const Tt=bt.filter(ht=>ht.id===pt.mediaTrackId);return Tt.length?Tt[0]:{}}function ut(pt,bt){return"packetsLost"in bt?pt+bt.packetsLost:pt}const ft={isVideoStat(pt,bt){const Tt=dt(pt,bt);return pt.kind==="video"&&["outbound-rtp","inbound-rtp"].includes(pt.type)||pt.mediaType==="video"||"googFrameWidthReceived"in pt||"googFrameWidthInput"in pt||pt.type==="inbound-rtp"&&pt.id.indexOf("Video")!==-1||pt.type==="inboundrtp"&&Tt.frameWidth!==0},isAudioStat(pt,bt){const Tt=dt(pt,bt);return pt.kind==="audio"&&["outbound-rtp","inbound-rtp"].includes(pt.type)||pt.mediaType==="audio"||"audioInputLevel"in pt||"audioOutputLevel"in pt||pt.type==="inbound-rtp"&&pt.id.indexOf("Audio")!==-1||pt.type==="inboundrtp"&&Tt.frameWidth===0},isInboundStat(pt){return"bytesReceived"in pt||"packetsReceived"in pt},isOutboundStat(pt){return"bytesSent"in pt||"packetsSent"in pt},isVideoTrackStat(pt){return pt.type==="track"&&(pt.frameHeight>0||pt.frameWidth>0||pt.framesCorrupted>0||pt.framesDecoded>0||pt.framesPerSecond>0||pt.framesSent>0||pt.framesReceived>0)},isVideoRemoteInboundRtpStat(pt){return pt.type==="remote-inbound-rtp"&&pt.kind==="video"},isAudioRemoteInboundRtpStat(pt){return pt.type==="remote-inbound-rtp"&&pt.kind==="audio"},isVideoInboundRtpStat(pt){return pt.type==="inbound-rtp"&&pt.kind==="video"},parseStatCategory(pt){const bt={packetsLost:0,packetsReceived:0,bytesReceived:0};return"packetsReceived"in pt&&(bt.packetsReceived=parseInt(pt.packetsReceived,10)),"packetsLost"in pt&&(bt.packetsLost=parseInt(pt.packetsLost,10)),"bytesReceived"in pt&&(bt.bytesReceived=parseInt(pt.bytesReceived,10)),this.isVideoStat(pt)&&("framerateMean"in pt?bt.frameRate=Number(pt.framerateMean):"googFrameRateOutput"in pt?bt.frameRate=Number(pt.googFrameRateOutput):"googFrameRateInput"in pt&&(bt.frameRate=Number(pt.googFrameRateInput))),bt},getVideoPacketsLost(pt){return pt.filter(bt=>this.isVideoRemoteInboundRtpStat(bt,pt)).reduce(ut,0)},getAudioPacketsLost(pt){return pt.filter(bt=>this.isAudioRemoteInboundRtpStat(bt,pt)).reduce(ut,0)},normalizeTimestamp(pt,bt){return bt===void 0&&(bt=Date.now()),it(pt)&&"getTime"in pt?pt.getTime():Math.abs(pt/(1e3*bt)-1)<.05?pt/1e3:pt},normalizeStats(pt,bt,Tt){bt===void 0&&(bt=!0);const ht=pt.filter(Mt=>ft.isVideoStat(Mt,pt)).filter(Mt=>ft.isInboundStat(Mt)===bt),gt=pt.filter(Mt=>this.isAudioStat(Mt,pt)).filter(Mt=>this.isInboundStat(Mt)===bt)[0],vt=ht[0];if(!gt&&!vt)throw new Error("could not find stats for either audio or video");const Ct=ft.normalizeTimestamp(vt?vt.timestamp:gt.timestamp),It={timestamp:Ct};vt&&!bt&&vt.packetsLost===void 0&&(vt.packetsLost=this.getVideoPacketsLost(pt)),gt&&!bt&&gt.packetsLost===void 0&&(gt.packetsLost=this.getAudioPacketsLost(pt));const Zt=["packetsSent","packetsLost","bytesSent"],Nt=bt?Mt=>nt(Mt,["packetsReceived","packetsLost","bytesReceived"]):Mt=>nt(Mt,Zt),Lt=Mt=>{const tn=["framerateMean","googFrameRateSent","googFrameRateReceived","googFrameRateInput","googFrameRateOutput","framesEncoded","framesDecoded"],$t=Zt.concat(tn),Ht={timestamp:Ct,id:vt.id};return $t.forEach(rn=>{Ht[rn]=Mt.map(ln=>Number(ln[rn]||0)).reduce((ln,mn)=>ln+mn,0)}),Ht};if(ht&&ht.length>0){const Mt=Lt(ht);It.video=Object.assign({frameRate:lt(Mt,Tt)},rt(Nt(Mt),Number))}return gt&&(It.audio=rt(Nt(gt),Number)),It}};_e.exports=ft},function(_e,tt,et){tt.__esModule=!0,tt.messages=tt.codes=void 0;const nt={1e3:"The connection successfully completed the purpose for which it was created.",1001:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.",1002:"The endpoint is terminating the connection due to a protocol error. (CLOSE_PROTOCOL_ERROR)",1003:"The connection is being terminated because the endpoint has indicated that reconnections are not available. (CLOSE_UNSUPPORTED)",1005:"Indicates that no status code was provided even though one was expected. (CLOSE_NO_STATUS)",1006:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected. (CLOSE_ABNORMAL)",1007:"Indicates that an endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [RFC3629] data within a text message)",1008:"Indicates that an endpoint is terminating the connection because it has received a message that violates its policy.  This is a generic status code that can be returned when there is no other more suitable status code (e.g., 1003 or 1009) or if there is a need to hide specific details about the policy",1009:"Indicates that an endpoint is terminating the connection because it has received a message that is too big for it to process (CLOSE_TOO_LARGE)",1011:"Indicates that a server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request",4001:"Connectivity loss was detected as it was too long since the socket received the last PONG message",4010:"Timed out while waiting for the Rumor socket to connect.",4020:"Error code unavailable.",4030:"Exception was thrown during Rumor connection, possibly because of a blocked port."};tt.messages=nt;const rt={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006,CLOSE_INCONSISTENT_DATA:1007,CLOSE_POLICY_VIOLATION:1008,CLOSE_TOO_LARGE:1009,CLOSE_UNEXPECTED_CONDITION:1011,CLOSE_CONNECTIVITY_LOSS:4001,CLOSE_TIMEOUT:4010,CLOSE_FALLBACK_CODE:4020,CLOSE_CONNECT_EXCEPTION:4030,ALREADY_CONNECTED_CONNECTING:null};tt.codes=rt},function(_e,tt,et){var nt=et(78),rt=et(113),it=et(83),ot=et(176),st=et(386),at=et(179),ct=et(54),lt=et(389),dt=et(391),ut=et(182),ft=et(184),pt=et(41),bt=et(394),Tt=et(395),ht=et(189),gt=et(12),vt=et(64),Ct=et(399),It=et(11),Zt=et(401),Wt=et(30),kt=et(53),Nt=1,Lt=2,Mt=4,tn="[object Arguments]",$t="[object Array]",Ht="[object Boolean]",rn="[object Date]",ln="[object Error]",mn="[object Function]",on="[object GeneratorFunction]",yn="[object Map]",hn="[object Number]",un="[object Object]",dn="[object RegExp]",Nn="[object Set]",Wn="[object String]",pn="[object Symbol]",Rn="[object WeakMap]",xn="[object ArrayBuffer]",Jn="[object DataView]",cr="[object Float32Array]",er="[object Float64Array]",_n="[object Int8Array]",Sr="[object Int16Array]",vr="[object Int32Array]",Gr="[object Uint8Array]",Lr="[object Uint8ClampedArray]",Ur="[object Uint16Array]",co="[object Uint32Array]",Tr={};Tr[tn]=Tr[$t]=Tr[xn]=Tr[Jn]=Tr[Ht]=Tr[rn]=Tr[cr]=Tr[er]=Tr[_n]=Tr[Sr]=Tr[vr]=Tr[yn]=Tr[hn]=Tr[un]=Tr[dn]=Tr[Nn]=Tr[Wn]=Tr[pn]=Tr[Gr]=Tr[Lr]=Tr[Ur]=Tr[co]=!0,Tr[ln]=Tr[mn]=Tr[Rn]=!1;function wr(Bn,Gn,lr,Vr,oo,Yn){var yr,Ar=Gn&Nt,so=Gn&Lt,jr=Gn&Mt;if(lr&&(yr=oo?lr(Bn,Vr,oo,Yn):lr(Bn)),yr!==void 0)return yr;if(!It(Bn))return Bn;var mo=gt(Bn);if(mo){if(yr=bt(Bn),!Ar)return ct(Bn,yr)}else{var bo=pt(Bn),go=bo==mn||bo==on;if(vt(Bn))return at(Bn,Ar);if(bo==un||bo==tn||go&&!oo){if(yr=so||go?{}:ht(Bn),!Ar)return so?dt(Bn,st(yr,Bn)):lt(Bn,ot(yr,Bn))}else{if(!Tr[bo])return oo?Bn:{};yr=Tt(Bn,bo,Ar)}}Yn||(Yn=new nt);var $r=Yn.get(Bn);if($r)return $r;Yn.set(Bn,yr),Zt(Bn)?Bn.forEach(function(Vo){yr.add(wr(Vo,Gn,lr,Vo,Bn,Yn))}):Ct(Bn)&&Bn.forEach(function(Vo,qr){yr.set(qr,wr(Vo,Gn,lr,qr,Bn,Yn))});var Wo=jr?so?ft:ut:so?kt:Wt,So=mo?void 0:Wo(Bn);return rt(So||Bn,function(Vo,qr){So&&(qr=Vo,Vo=Bn[qr]),it(yr,qr,wr(Vo,Gn,lr,qr,Bn,Yn))}),yr}_e.exports=wr},function(_e,tt,et){var nt=et(79),rt=et(358),it=et(359),ot=et(360),st=et(361),at=et(362);function ct(lt){var dt=this.__data__=new nt(lt);this.size=dt.size}ct.prototype.clear=rt,ct.prototype.delete=it,ct.prototype.get=ot,ct.prototype.has=st,ct.prototype.set=at,_e.exports=ct},function(_e,tt,et){var nt=et(353),rt=et(354),it=et(355),ot=et(356),st=et(357);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt,et){var nt=et(52);function rt(it,ot){for(var st=it.length;st--;)if(nt(it[st][0],ot))return st;return-1}_e.exports=rt},function(_e,tt,et){var nt=et(38),rt=nt(Object,"create");_e.exports=rt},function(_e,tt,et){var nt=et(377);function rt(it,ot){var st=it.__data__;return nt(ot)?st[typeof ot=="string"?"string":"hash"]:st.map}_e.exports=rt},function(_e,tt,et){var nt=et(62),rt=et(52),it=Object.prototype,ot=it.hasOwnProperty;function st(at,ct,lt){var dt=at[ct];(!(ot.call(at,ct)&&rt(dt,lt))||lt===void 0&&!(ct in at))&&nt(at,ct,lt)}_e.exports=st},function(_e,tt){_e.exports=function(et){return et.webpackPolyfill||(et.deprecate=function(){},et.paths=[],et.children||(et.children=[]),Object.defineProperty(et,"loaded",{enumerable:!0,get:function(){return et.l}}),Object.defineProperty(et,"id",{enumerable:!0,get:function(){return et.i}}),et.webpackPolyfill=1),et}},function(_e,tt,et){var nt=et(384),rt=et(66),it=et(115),ot=it&&it.isTypedArray,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(11),rt=Object.create,it=function(){function ot(){}return function(st){if(!nt(st))return{};if(rt)return rt(st);ot.prototype=st;var at=new ot;return ot.prototype=void 0,at}}();_e.exports=it},function(_e,tt,et){var nt=et(88),rt=et(192),it=et(123);function ot(st,at){return it(rt(st,at,nt),st+"")}_e.exports=ot},function(_e,tt){function et(nt){return nt}_e.exports=et},function(_e,tt,et){var nt=Object.prototype.toString,rt=nt.call(function(){return arguments}());_e.exports=function(it){return nt.call(it)===rt}},function(_e,tt,et){var nt=Object.prototype.toString,rt=nt.call("");_e.exports=function(it){return typeof it=="string"||it&&typeof it=="object"&&(it instanceof String||nt.call(it)===rt)||!1}},function(_e,tt,et){_e.exports=et(426)()?globalThis:et(427)},function(_e,tt,et){var nt=et(112),rt=et(459),it=et(460);function ot(st){var at=-1,ct=st==null?0:st.length;for(this.__data__=new nt;++at<ct;)this.add(st[at])}ot.prototype.add=ot.prototype.push=rt,ot.prototype.has=it,_e.exports=ot},function(_e,tt,et){var nt=et(461);function rt(it,ot){var st=it==null?0:it.length;return!!st&&nt(it,ot,0)>-1}_e.exports=rt},function(_e,tt){function et(nt,rt){return nt.has(rt)}_e.exports=et},function(_e,tt,et){var nt=et(86),rt=et(11);function it(ot){return function(){var st=arguments;switch(st.length){case 0:return new ot;case 1:return new ot(st[0]);case 2:return new ot(st[0],st[1]);case 3:return new ot(st[0],st[1],st[2]);case 4:return new ot(st[0],st[1],st[2],st[3]);case 5:return new ot(st[0],st[1],st[2],st[3],st[4]);case 6:return new ot(st[0],st[1],st[2],st[3],st[4],st[5]);case 7:return new ot(st[0],st[1],st[2],st[3],st[4],st[5],st[6])}var at=nt(ot.prototype),ct=ot.apply(at,st);return rt(ct)?ct:at}}_e.exports=it},function(_e,tt,et){var nt=et(502);function rt(it){var ot=nt(it),st=ot%1;return ot===ot?st?ot-st:ot:0}_e.exports=rt},function(_e,tt){function et(nt){var rt=-1,it=Array(nt.size);return nt.forEach(function(ot){it[++rt]=ot}),it}_e.exports=et},function(_e,tt,et){var nt=et(58),rt=et(46);function it(ot,st){st=nt(st,ot);for(var at=0,ct=st.length;ot!=null&&at<ct;)ot=ot[rt(st[at++])];return at&&at==ct?ot:void 0}_e.exports=it},function(_e,tt,et){var nt=et(238),rt=et(30);function it(ot,st){return ot&&nt(ot,st,rt)}_e.exports=it},function(_e,tt,et){const nt=et(239),rt=ot=>ot.replace(/\/$/,""),it=(ot,st)=>{if(!st)return ot;const at=nt.parse(st),ct=nt.parse(ot);if(!at.protocol||!ct.protocol)return ot;const lt=at.protocol.match(/^https/),ut=(ct.protocol.match(/^ws/i)?"ws":"http")+(lt?"s":""),ft=rt(`${ut}://${at.host}${at.pathname}`),pt=rt(`${ct.host}${ct.pathname}${ct.search||""}`);return`${ft}/${pt}`};_e.exports={prependProxyToUrlIfNeeded:it}},function(_e,tt,et){const nt=et(21),rt=et(13),it=et(7),ot=et(10),st=et(22);let at;const ct={SET_PROXY_URL_TIMING_ERROR:"The proxyUrl was set after a session or publisher was created.",PROXY_URL_ALREADY_SET_ERROR:"The proxyUrl has already been set. Setting it again will not have any effect."};_e.exports={errorMessages:ct,setProxyUrl:lt=>{const dt=et(20),ut=et(70),ft=new dt,pt=nt.sessions.length()>0,bt=nt.publishers.length()>0;let Tt;if(pt){const gt=nt.sessions.find(vt=>vt.currentState==="connected");Tt=gt?gt.sessionId:nt.sessions.find().sessionId}else Tt="";const ht={sessionId:Tt,apiKey:ut.value};if(bt||pt){const gt=rt()(it.SET_PROXY_URL_TIMING_ERROR,new Error(ct.SET_PROXY_URL_TIMING_ERROR),ot.SET_PROXY_URL_TIMING_ERROR);st.handleJsException({error:gt,target:ht,analytics:ft})}else if(at){const gt=rt()(it.PROXY_URL_ALREADY_SET_ERROR,new Error(ct.PROXY_URL_ALREADY_SET_ERROR),ot.PROXY_URL_ALREADY_SET_ERROR);st.handleJsException({error:gt,target:ht,analytics:ft})}else at=lt},getProxyUrl:()=>at,clearProxyUrl:()=>{at=null}}},function(_e,tt,et){tt.adaptIceServers=function(rt){return rt.map(it=>({url:it.url,urls:it.urls||[it.url],username:it.username,credential:it.credential}))},tt.parseIceServers=function(rt){let it;try{it=JSON.parse(rt.data).content.iceServers}catch{return[]}return tt.adaptIceServers(it)}},function(_e,tt,et){const nt=et(2);_e.exports=()=>nt.name==="Chrome"&&nt.version>=58||["Firefox","Edge","Safari","Opera"].indexOf(nt.name)!==-1},function(_e,tt,et){_e.exports=function(rt){let it=null,ot=!1;const st=()=>{ot&&(rt(),it=window.requestAnimationFrame(st))};this.start=()=>{ot||(ot=!0,window.requestAnimationFrame(st))},this.stop=()=>{window.cancelAnimationFrame(it),ot=!1}}},function(_e,tt,et){const nt=et(9),rt=(it,ot,st)=>ot&&!st?()=>ot.call(it):ot&&st?at=>(at!==void 0&&st.call(it,at),ot.call(it)):at=>{at!==void 0&&st.call(it,at)};_e.exports=(it,ot)=>{const st={};Object.keys(ot).forEach(at=>{st[at]=rt(it,ot[at].get,ot[at].set)}),nt(it,st)}},function(_e,tt,et){let nt="";const rt=ot=>{nt=ot},it=()=>nt;_e.exports={getCurrentAudioOutputDeviceId:it,setCurrentAudioOutputDeviceId:rt}},function(_e,tt,et){(function(nt){_e.exports=function(it){return new nt(ot=>setTimeout(ot,it))}}).call(this,et(0))},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt={ACTIVE_VIDEO:0,ACTIVE_VIDEO_WITH_WARNING:1,SUSPENDED_VIDEO:2};tt.default=rt},function(_e,tt,et){const nt=et(294);function rt(it){let ot=it===void 0?{}:it,st=ot.NativeVideoElementWrapper;const ct=st===void 0?nt():st,lt=50;function dt(ut){let ft=ut===void 0?{}:ut,pt=ft.fallbackText,bt=pt===void 0?"Sorry, Web RTC is not available in your browser":pt,Tt=ft.fitMode,ht=ft.muted,gt=ft._inject,vt=ft.widgetType;return new ct({fallbackText:bt,fitMode:Tt,muted:ht,defaultAudioVolume:lt,_inject:gt,widgetType:vt})}return dt}_e.exports=rt},function(_e,tt,et){const nt=!!window.crypto,rt=!!window.RTCRtpSender.prototype.createEncodedStreams||!!window.RTCRtpSender.prototype.createdEncodedVideoStreams,it=!!window.Worker,ot=()=>nt&&rt&&it;_e.exports=function(st){st===void 0&&(st={});const at=st.hasOpenTokSupport||et(51).once,ct=st.isE2eeSupported||ot;return at()&&ct()}},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"Map");_e.exports=it},function(_e,tt,et){var nt=et(369),rt=et(376),it=et(378),ot=et(379),st=et(380);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length;++it<ot&&rt(nt[it],it,nt)!==!1;);return nt}_e.exports=et},function(_e,tt){var et=9007199254740991;function nt(rt){return typeof rt=="number"&&rt>-1&&rt%1==0&&rt<=et}_e.exports=nt},function(_e,tt,et){(function(nt){var rt=et(173),it=tt&&!tt.nodeType&&tt,ot=it&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,st=ot&&ot.exports===it,at=st&&rt.process,ct=function(){try{var lt=ot&&ot.require&&ot.require("util").types;return lt||at&&at.binding&&at.binding("util")}catch{}}();nt.exports=ct}).call(this,et(84)(_e))},function(_e,tt,et){var nt=et(67),rt=et(385),it=Object.prototype,ot=it.hasOwnProperty;function st(at){if(!nt(at))return rt(at);var ct=[];for(var lt in Object(at))ot.call(at,lt)&&lt!="constructor"&&ct.push(lt);return ct}_e.exports=st},function(_e,tt,et){var nt=et(390),rt=et(180),it=Object.prototype,ot=it.propertyIsEnumerable,st=Object.getOwnPropertySymbols,at=st?function(ct){return ct==null?[]:(ct=Object(ct),nt(st(ct),function(lt){return ot.call(ct,lt)}))}:rt;_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=rt.length,st=nt.length;++it<ot;)nt[st+it]=rt[it];return nt}_e.exports=et},function(_e,tt,et){var nt=et(178),rt=nt(Object.getPrototypeOf,Object);_e.exports=rt},function(_e,tt,et){var nt=et(187);function rt(it){var ot=new it.constructor(it.byteLength);return new nt(ot).set(new nt(it)),ot}_e.exports=rt},function(_e,tt,et){_e.exports={error:{priority:1,method:"error"},warn:{priority:2,method:"warn"},info:{priority:3,method:"info"},log:{priority:4,method:"log"},debug:{priority:5,method:"debug"},spam:{priority:6,method:"log"}}},function(_e,tt){function et(nt,rt,it){switch(it.length){case 0:return nt.call(rt);case 1:return nt.call(rt,it[0]);case 2:return nt.call(rt,it[0],it[1]);case 3:return nt.call(rt,it[0],it[1],it[2])}return nt.apply(rt,it)}_e.exports=et},function(_e,tt,et){var nt=et(406),rt=et(193),it=rt(nt);_e.exports=it},function(_e,tt,et){var nt=et(52),rt=et(25),it=et(65),ot=et(11);function st(at,ct,lt){if(!ot(lt))return!1;var dt=typeof ct;return(dt=="number"?rt(lt)&&it(ct,lt.length):dt=="string"&&ct in lt)?nt(lt[ct],at):!1}_e.exports=st},function(_e,tt,et){_e.exports=et(195)()?Object.setPrototypeOf:et(196)},function(_e,tt,et){var nt=et(55),rt={object:!0,function:!0,undefined:!0};_e.exports=function(it){return nt(it)?hasOwnProperty.call(rt,typeof it):!1}},function(_e,tt,et){_e.exports=et(417)()?Object.assign:et(418)},function(_e,tt,et){const nt=et(1)("Event"),rt=et(9),it=et(129);_e.exports=function(){function ot(at,ct,lt){ct===void 0&&(ct=!0),lt===void 0&&(lt={}),this.type=at,this.cancelable=ct,this._defaultPrevented=!1;const dt=it(Object.keys(this),Object.keys(lt));if(dt.length>0)throw new Error(`Cannot used reserved property names: ${dt.join(",")}`);rt(this,lt)}var st=ot.prototype;return st.preventDefault=function(){this.cancelable?this._defaultPrevented=!0:nt.warn("Event.preventDefault :: Trying to preventDefault on an event that isn't cancelable")},st.isDefaultPrevented=function(){return this._defaultPrevented},ot}()},function(_e,tt,et){var nt=et(33),rt=et(458),it=et(87),ot=et(464),st=it(function(at){var ct=nt(at,ot);return ct.length&&ct[0]===at[0]?rt(ct):[]});_e.exports=st},function(_e,tt){function et(nt,rt,it){for(var ot=-1,st=nt==null?0:nt.length;++ot<st;)if(it(rt,nt[ot]))return!0;return!1}_e.exports=et},function(_e,tt,et){var nt=et(25),rt=et(17);function it(ot){return rt(ot)&&nt(ot)}_e.exports=it},function(_e,tt,et){(function(nt){var rt=et(19),it=et(470),ot=et(209),st={"Content-Type":"application/x-www-form-urlencoded"};function at(ut,ft){!rt.isUndefined(ut)&&rt.isUndefined(ut["Content-Type"])&&(ut["Content-Type"]=ft)}function ct(){var ut;return(typeof XMLHttpRequest<"u"||typeof nt<"u"&&Object.prototype.toString.call(nt)==="[object process]")&&(ut=et(210)),ut}function lt(ut,ft,pt){if(rt.isString(ut))try{return(ft||JSON.parse)(ut),rt.trim(ut)}catch(bt){if(bt.name!=="SyntaxError")throw bt}return(pt||JSON.stringify)(ut)}var dt={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:ct(),transformRequest:[function(ft,pt){return it(pt,"Accept"),it(pt,"Content-Type"),rt.isFormData(ft)||rt.isArrayBuffer(ft)||rt.isBuffer(ft)||rt.isStream(ft)||rt.isFile(ft)||rt.isBlob(ft)?ft:rt.isArrayBufferView(ft)?ft.buffer:rt.isURLSearchParams(ft)?(at(pt,"application/x-www-form-urlencoded;charset=utf-8"),ft.toString()):rt.isObject(ft)||pt&&pt["Content-Type"]==="application/json"?(at(pt,"application/json"),lt(ft)):ft}],transformResponse:[function(ft){var pt=this.transitional,bt=pt&&pt.silentJSONParsing,Tt=pt&&pt.forcedJSONParsing,ht=!bt&&this.responseType==="json";if(ht||Tt&&rt.isString(ft)&&ft.length)try{return JSON.parse(ft)}catch(gt){if(ht)throw gt.name==="SyntaxError"?ot(gt,this,"E_JSON_PARSE"):gt}return ft}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(ft){return ft>=200&&ft<300}};dt.headers={common:{Accept:"application/json, text/plain, */*"}},rt.forEach(["delete","get","head"],function(ft){dt.headers[ft]={}}),rt.forEach(["post","put","patch"],function(ft){dt.headers[ft]=rt.merge(st)}),_e.exports=dt}).call(this,et(42))},function(_e,tt){_e.exports={}},function(_e,tt,et){var nt=et(216),rt=et(488),it=et(489),ot=et(218),st=et(500),at=et(222),ct=et(501),lt=et(225),dt=et(226),ut=et(96),ft="Expected a function",pt=1,bt=2,Tt=8,ht=16,gt=32,vt=64,Ct=Math.max;function It(Zt,Wt,kt,Nt,Lt,Mt,tn,$t){var Ht=Wt&bt;if(!Ht&&typeof Zt!="function")throw new TypeError(ft);var rn=Nt?Nt.length:0;if(rn||(Wt&=~(gt|vt),Nt=Lt=void 0),tn=tn===void 0?tn:Ct(ut(tn),0),$t=$t===void 0?$t:ut($t),rn-=Lt?Lt.length:0,Wt&vt){var ln=Nt,mn=Lt;Nt=Lt=void 0}var on=Ht?void 0:at(Zt),yn=[Zt,Wt,kt,Nt,Lt,ln,mn,Mt,tn,$t];if(on&&ct(yn,on),Zt=yn[0],Wt=yn[1],kt=yn[2],Nt=yn[3],Lt=yn[4],$t=yn[9]=yn[9]===void 0?Ht?0:Zt.length:Ct(yn[9]-rn,0),!$t&&Wt&(Tt|ht)&&(Wt&=~(Tt|ht)),!Wt||Wt==pt)var hn=rt(Zt,Wt,kt);else Wt==Tt||Wt==ht?hn=it(Zt,Wt,$t):(Wt==gt||Wt==(pt|gt))&&!Lt.length?hn=st(Zt,Wt,kt,Nt):hn=ot.apply(void 0,yn);var un=on?nt:lt;return dt(un(hn,yn),Zt,Wt)}_e.exports=It},function(_e,tt,et){var nt=et(86),rt=et(136),it=4294967295;function ot(st){this.__wrapped__=st,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}ot.prototype=nt(rt.prototype),ot.prototype.constructor=ot,_e.exports=ot},function(_e,tt){function et(){}_e.exports=et},function(_e,tt){var et="__lodash_placeholder__";function nt(rt,it){for(var ot=-1,st=rt.length,at=0,ct=[];++ot<st;){var lt=rt[ot];(lt===it||lt===et)&&(rt[ot]=et,ct[at++]=ot)}return ct}_e.exports=nt},function(_e,tt,et){var nt=et(29),rt=et(119),it=et(17),ot="[object Object]",st=Function.prototype,at=Object.prototype,ct=st.toString,lt=at.hasOwnProperty,dt=ct.call(Object);function ut(ft){if(!it(ft)||nt(ft)!=ot)return!1;var pt=rt(ft);if(pt===null)return!0;var bt=lt.call(pt,"constructor")&&pt.constructor;return typeof bt=="function"&&bt instanceof bt&&ct.call(bt)==dt}_e.exports=ut},function(_e,tt,et){var nt=et(12),rt=et(69),it=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ot=/^\w*$/;function st(at,ct){if(nt(at))return!1;var lt=typeof at;return lt=="number"||lt=="symbol"||lt=="boolean"||at==null||rt(at)?!0:ot.test(at)||!it.test(at)||ct!=null&&at in Object(ct)}_e.exports=st},function(_e,tt,et){var nt=et(524),rt=et(192),it=et(123);function ot(st){return it(rt(st,void 0,nt),st+"")}_e.exports=ot},function(_e,tt,et){var nt=et(87),rt=et(52),it=et(124),ot=et(53),st=Object.prototype,at=st.hasOwnProperty,ct=nt(function(lt,dt){lt=Object(lt);var ut=-1,ft=dt.length,pt=ft>2?dt[2]:void 0;for(pt&&it(dt[0],dt[1],pt)&&(ft=1);++ut<ft;)for(var bt=dt[ut],Tt=ot(bt),ht=-1,gt=Tt.length;++ht<gt;){var vt=Tt[ht],Ct=lt[vt];(Ct===void 0||rt(Ct,st[vt])&&!at.call(lt,vt))&&(lt[vt]=bt[vt])}return lt});_e.exports=ct},function(_e,tt,et){var nt=et(3),rt=nt(et(45));const it=et(57),ot=et(56);let st=function(){function at(ct){ct===void 0&&(ct={}),Object.defineProperty(this,"_rawSessionInfo",{value:ot(ct)})}return(0,rt.default)(at,[{key:"sessionId",get:function(){return this._rawSessionInfo.session_id}},{key:"partnerId",get:function(){return this._rawSessionInfo.partner_id}},{key:"messagingServer",get:function(){return this._rawSessionInfo.messaging_server_url}},{key:"mediaServerName",get:function(){return this._rawSessionInfo.media_server_hostname}},{key:"messagingURL",get:function(){return this._rawSessionInfo.messaging_url}},{key:"symphonyAddress",get:function(){return this._rawSessionInfo.symphony_address}},{key:"iceServers",get:function(){return this._rawSessionInfo.ice_servers}},{key:"simulcast",get:function(){return it(this._rawSessionInfo,"properties.simulcast")}},{key:"e2ee",get:function(){return it(this._rawSessionInfo,"properties.e2ee",!1)}},{key:"reconnection",get:function(){return it(this._rawSessionInfo,"properties.reconnection",!1)}},{key:"renegotiation",get:function(){return it(this._rawSessionInfo,"properties.renegotiation",!1)}},{key:"p2pEnabled",get:function(){return it(this._rawSessionInfo,"properties.p2p.preference.value")==="enabled"}},{key:"hybridSession",get:function(){return it(this._rawSessionInfo,"properties.hybridSession",!1)}},{key:"isAdaptiveEnabled",get:function(){return it(this._rawSessionInfo,"properties.p2p.preference.value")==="adaptive"}},{key:"priorityVideoCodec",get:function(){return it(this._rawSessionInfo,"properties.priorityVideoCodec","")}},{key:"h264",get:function(){return it(this._rawSessionInfo,"properties.h264",!0)}},{key:"vp8",get:function(){return it(this._rawSessionInfo,"properties.vp8",!0)}},{key:"vp9",get:function(){return it(this._rawSessionInfo,"properties.vp9",!0)}},{key:"clientCandidates",get:function(){const lt=it(this._rawSessionInfo,"properties.clientCandidates");return lt==="relayed"?"relay":lt}}]),at}();_e.exports=st},function(module,exports,__webpack_require__){const extendES5Native=__webpack_require__(566),webrtcAdapter=__webpack_require__(567),logging=__webpack_require__(1)("createWindowMock"),env=__webpack_require__(2),windowKeys=[{key:"location",type:"object"},{key:"setTimeout",type:"function"},{key:"requestAnimationFrame",type:"function"},{key:"URL",type:"function"},{key:"MediaStream",type:"class"},{key:"webkitMediaStream",type:"class"},{key:"RTCIceCandidate",type:"class"},{key:"mozRTCIceCandidate",type:"class"},{key:"RTCSessionDescription",type:"class"},{key:"mozRTCSessionDescription",type:"class"},{key:"RTCIceGatherer",type:"class"},{key:"RTCIceTransport",type:"class"},{key:"RTCDtlsTransport",type:"class"},{key:"RTCSctpTransport",type:"class"},{key:"RTCRtpReceiver",type:"class"},{key:"HTMLMediaElement",type:"class"},{key:"RTCPeerConnection",type:"class"},{key:"webkitRTCPeerConnection",type:"class"},{key:"mozRTCPeerConnection",type:"class"},{key:"MediaStreamTrack",type:"class"},{key:"RTCRtpSender",type:"class"},{key:"RTCTrackEvent",type:"class"},{key:"RTCTransceiver",type:"class"},{key:"RTCDtmfSender",type:"class"},{key:"RTCDTMFSender",type:"class"},{key:"MediaStreamTrackEvent",type:"class"}],navigatorKeys=[{key:"userAgent",type:"string"},{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"webkitGetUserMedia",type:"function"},{key:"mozGetUserMedia",type:"function"}],mediaDevicesKeys=[{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"enumerateDevices",type:"function"},{key:"getSupportedConstraints",type:"function"},{key:"addEventListener",type:"function"},{key:"removeEventListener",type:"function"}],bindWithStaticProperties=(_e,tt)=>{if(typeof tt!="function")return logging.warn("Non-function passed into bindWithStaticProperties()"),tt;const et=tt.bind(_e);return Object.keys(tt).forEach(nt=>{et[nt]=tt[nt]}),et},extendParentClass=ParentClass=>{try{const ChildClass=eval(`
      "use strict"; // Chrome<49 requires strict mode

      const getOwnProperties = (target) => {
        const properties = {};
        Object.getOwnPropertyNames(target).forEach((key) => {
          properties[key] = Object.getOwnPropertyDescriptor(target, key);
        });
        return properties;
      };

      class ChildClass extends ParentClass {
        constructor(...args) {
          super(...args);
          try {
            this.__proto__ = ChildClass.prototype;
          } catch (e) {}
        }
      };

      Object.defineProperties(ChildClass.prototype, getOwnProperties(ParentClass.prototype));
      Object.keys(ParentClass)
        .forEach((staticKey) => {
          ChildClass[staticKey] = ParentClass[staticKey];
        });

      ChildClass; // Ensure the final statement is returned in FF
    `);if(ChildClass&&ChildClass.prototype instanceof ParentClass)return ChildClass}catch(_e){}return null},canUseES6Class=_e=>{const tt=_e.RTCPeerConnection||_e.webkitRTCPeerConnection||_e.mozRTCPeerConnection,et=extendParentClass(tt);if(et)try{et.prototype.foo="bar";const nt=new et({iceServers:[]}),rt=nt.foo==="bar";try{nt.close()}catch{}return rt}catch{}return!1},extendClass=(_e,tt,et)=>{if(typeof _e!="function")return logging.warn("Non-function passed into extendClass()"),_e;let nt=et&&extendParentClass(_e);return nt||(nt=extendES5Native(_e)),nt},getCopyProperties=_e=>(tt,et,nt)=>{nt.forEach(rt=>{let it=rt.key,ot=rt.type,st=et[it];if(st!==void 0){switch(ot){case"function":st=bindWithStaticProperties(et,st);break;case"class":st=extendClass(st,it,_e);break;case"string":case"object":break;default:throw new Error(`Invalid type of window key: ${ot}`)}tt[it]=st}})},cloneWindow=_e=>{const tt={},et=getCopyProperties(canUseES6Class(_e));return et(tt,_e,windowKeys),_e.navigator!==void 0&&(tt.navigator={},et(tt.navigator,_e.navigator,navigatorKeys),_e.navigator.mediaDevices!==void 0&&(tt.navigator.mediaDevices={},et(tt.navigator.mediaDevices,_e.navigator.mediaDevices,mediaDevicesKeys))),tt};module.exports=function _e(tt){if(tt.adapter!==void 0||env.isLegacyEdge)return tt;const et=cloneWindow(tt);return webrtcAdapter({window:et}),et}},function(_e,tt,et){_e.exports=function(){let rt=null;this.transform=it=>{rt===null||it>=rt?rt=it:rt=it*.3+rt*.7;const ot=Math.log(rt)/Math.LN10/1.5+1;return Math.min(Math.max(ot,0),1)}}},function(_e,tt,et){const nt=et(6),rt=ot=>Object.keys(ot).map(st=>ot[st]),it=et(9);_e.exports=function(st){const at={},ct=(lt,dt)=>{it(dt,{parent:this}),dt.appendTo(st.parent),at[lt]=dt,this[lt]=dt};st.parent&&(nt(this),this.destroy=()=>{this.off(),this.hideWhileLoading(),rt(at).forEach(lt=>lt.destroy())},this.showAfterLoading=()=>{rt(at).forEach(lt=>lt.showAfterLoading())},this.hideWhileLoading=()=>{rt(at).forEach(lt=>lt.hideWhileLoading())},this.set=(lt,dt)=>(typeof lt=="string"&&dt?ct(lt,dt):Object.keys(lt).forEach(ut=>{ct(ut,lt[ut])}),this))}},function(_e,tt,et){_e.exports=function(){function nt(it){this._analyser=null,this._timeDomainData=null,this._sourceNode=null,this._audioContext=it}var rt=nt.prototype;return rt._initAudioAnalyser=function(ot){this._analyser=this._audioContext.createAnalyser(),this._sourceNode=this._audioContext.createMediaStreamSource(ot),this._sourceNode.connect(this._analyser),this._timeDomainData=new Uint8Array(this._analyser.frequencyBinCount)},rt.webRTCStream=function(ot){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._audioContext.state==="suspended"&&this._audioContext.resume(),this._initAudioAnalyser(ot)},rt.destroy=function(){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._timeDomainData=null},rt.sample=function(ot){if(typeof ot=="function")throw new Error("sample no longer takes a callback");if(this._analyser&&this._timeDomainData){this._analyser.getByteTimeDomainData(this._timeDomainData);let st=0;for(let at=this._timeDomainData.length-1;at>=0;at-=1)st=Math.max(st,Math.abs(this._timeDomainData[at]-128));return st/128}return null},nt}()},function(_e,tt,et){const nt=et(578),rt=et(26),it=et(6),ot=et(23)();function st(){const at=this;it(at);function ct(){return nt.isDomLoaded()&&!nt.isDomUnloaded()}function lt(){ct()&&at.dispatchEvent(new ot.EnvLoadedEvent(rt.ENV_LOADED))}function dt(){nt.whenUnloaded.then(ut),lt()}function ut(){at.dispatchEvent(new ot.EnvLoadedEvent(rt.ENV_UNLOADED))}nt.whenLoaded.then(dt),this.onLoad=function(ft,pt){if(ct()){ft.call(pt);return}at.on(rt.ENV_LOADED,ft,pt)},this.onUnload=function(ft,pt){if(this.isUnloaded()){ft.call(pt);return}at.on(rt.ENV_UNLOADED,ft,pt)},this.isUnloaded=function(){return nt.isDomUnloaded()}}_e.exports=new st},function(_e,tt,et){var nt=et(583);/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function rt($t,Ht){if($t===Ht)return 0;for(var rn=$t.length,ln=Ht.length,mn=0,on=Math.min(rn,ln);mn<on;++mn)if($t[mn]!==Ht[mn]){rn=$t[mn],ln=Ht[mn];break}return rn<ln?-1:ln<rn?1:0}function it($t){return(typeof window!==void 0?window:commonjsGlobal).Buffer&&typeof(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer=="function"?(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer($t):!!($t!=null&&$t._isBuffer)}var ot=et(584),st=Object.prototype.hasOwnProperty,at=Array.prototype.slice,ct=function(){return function(){}.name==="foo"}();function lt($t){return Object.prototype.toString.call($t)}function dt($t){return it($t)||typeof(typeof window!==void 0?window:commonjsGlobal).ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView($t):$t?!!($t instanceof DataView||$t.buffer&&$t.buffer instanceof ArrayBuffer):!1}var ut=_e.exports=vt,ft=/\s*function\s+([^\(\s]*)\s*/;function pt($t){if(ot.isFunction($t)){if(ct)return $t.name;var Ht=$t.toString(),rn=Ht.match(ft);return rn&&rn[1]}}ut.AssertionError=function(Ht){this.name="AssertionError",this.actual=Ht.actual,this.expected=Ht.expected,this.operator=Ht.operator,Ht.message?(this.message=Ht.message,this.generatedMessage=!1):(this.message=ht(this),this.generatedMessage=!0);var rn=Ht.stackStartFunction||gt;if(Error.captureStackTrace)Error.captureStackTrace(this,rn);else{var ln=new Error;if(ln.stack){var mn=ln.stack,on=pt(rn),yn=mn.indexOf(`
`+on);if(yn>=0){var hn=mn.indexOf(`
`,yn+1);mn=mn.substring(hn+1)}this.stack=mn}}},ot.inherits(ut.AssertionError,Error);function bt($t,Ht){return typeof $t=="string"?$t.length<Ht?$t:$t.slice(0,Ht):$t}function Tt($t){if(ct||!ot.isFunction($t))return ot.inspect($t);var Ht=pt($t),rn=Ht?": "+Ht:"";return"[Function"+rn+"]"}function ht($t){return bt(Tt($t.actual),128)+" "+$t.operator+" "+bt(Tt($t.expected),128)}function gt($t,Ht,rn,ln,mn){throw new ut.AssertionError({message:rn,actual:$t,expected:Ht,operator:ln,stackStartFunction:mn})}ut.fail=gt;function vt($t,Ht){$t||gt($t,!0,Ht,"==",ut.ok)}ut.ok=vt,ut.equal=function(Ht,rn,ln){Ht!=rn&&gt(Ht,rn,ln,"==",ut.equal)},ut.notEqual=function(Ht,rn,ln){Ht==rn&&gt(Ht,rn,ln,"!=",ut.notEqual)},ut.deepEqual=function(Ht,rn,ln){Ct(Ht,rn,!1)||gt(Ht,rn,ln,"deepEqual",ut.deepEqual)},ut.deepStrictEqual=function(Ht,rn,ln){Ct(Ht,rn,!0)||gt(Ht,rn,ln,"deepStrictEqual",ut.deepStrictEqual)};function Ct($t,Ht,rn,ln){if($t===Ht)return!0;if(it($t)&&it(Ht))return rt($t,Ht)===0;if(ot.isDate($t)&&ot.isDate(Ht))return $t.getTime()===Ht.getTime();if(ot.isRegExp($t)&&ot.isRegExp(Ht))return $t.source===Ht.source&&$t.global===Ht.global&&$t.multiline===Ht.multiline&&$t.lastIndex===Ht.lastIndex&&$t.ignoreCase===Ht.ignoreCase;if(($t===null||typeof $t!="object")&&(Ht===null||typeof Ht!="object"))return rn?$t===Ht:$t==Ht;if(dt($t)&&dt(Ht)&&lt($t)===lt(Ht)&&!($t instanceof Float32Array||$t instanceof Float64Array))return rt(new Uint8Array($t.buffer),new Uint8Array(Ht.buffer))===0;if(it($t)!==it(Ht))return!1;ln=ln||{actual:[],expected:[]};var mn=ln.actual.indexOf($t);return mn!==-1&&mn===ln.expected.indexOf(Ht)?!0:(ln.actual.push($t),ln.expected.push(Ht),Zt($t,Ht,rn,ln))}function It($t){return Object.prototype.toString.call($t)=="[object Arguments]"}function Zt($t,Ht,rn,ln){if($t==null||Ht===null||Ht===void 0)return!1;if(ot.isPrimitive($t)||ot.isPrimitive(Ht))return $t===Ht;if(rn&&Object.getPrototypeOf($t)!==Object.getPrototypeOf(Ht))return!1;var mn=It($t),on=It(Ht);if(mn&&!on||!mn&&on)return!1;if(mn)return $t=at.call($t),Ht=at.call(Ht),Ct($t,Ht,rn);var yn=tn($t),hn=tn(Ht),un,dn;if(yn.length!==hn.length)return!1;for(yn.sort(),hn.sort(),dn=yn.length-1;dn>=0;dn--)if(yn[dn]!==hn[dn])return!1;for(dn=yn.length-1;dn>=0;dn--)if(un=yn[dn],!Ct($t[un],Ht[un],rn,ln))return!1;return!0}ut.notDeepEqual=function(Ht,rn,ln){Ct(Ht,rn,!1)&&gt(Ht,rn,ln,"notDeepEqual",ut.notDeepEqual)},ut.notDeepStrictEqual=Wt;function Wt($t,Ht,rn){Ct($t,Ht,!0)&&gt($t,Ht,rn,"notDeepStrictEqual",Wt)}ut.strictEqual=function(Ht,rn,ln){Ht!==rn&&gt(Ht,rn,ln,"===",ut.strictEqual)},ut.notStrictEqual=function(Ht,rn,ln){Ht===rn&&gt(Ht,rn,ln,"!==",ut.notStrictEqual)};function kt($t,Ht){if(!$t||!Ht)return!1;if(Object.prototype.toString.call(Ht)=="[object RegExp]")return Ht.test($t);try{if($t instanceof Ht)return!0}catch{}return Error.isPrototypeOf(Ht)?!1:Ht.call({},$t)===!0}function Nt($t){var Ht;try{$t()}catch(rn){Ht=rn}return Ht}function Lt($t,Ht,rn,ln){var mn;if(typeof Ht!="function")throw new TypeError('"block" argument must be a function');typeof rn=="string"&&(ln=rn,rn=null),mn=Nt(Ht),ln=(rn&&rn.name?" ("+rn.name+").":".")+(ln?" "+ln:"."),$t&&!mn&&gt(mn,rn,"Missing expected exception"+ln);var on=typeof ln=="string",yn=!$t&&ot.isError(mn),hn=!$t&&mn&&!rn;if((yn&&on&&kt(mn,rn)||hn)&&gt(mn,rn,"Got unwanted exception"+ln),$t&&mn&&rn&&!kt(mn,rn)||!$t&&mn)throw mn}ut.throws=function($t,Ht,rn){Lt(!0,$t,Ht,rn)},ut.doesNotThrow=function($t,Ht,rn){Lt(!1,$t,Ht,rn)},ut.ifError=function($t){if($t)throw $t};function Mt($t,Ht){$t||gt($t,!0,Ht,"==",Mt)}ut.strict=nt(Mt,ut,{equal:ut.strictEqual,deepEqual:ut.deepStrictEqual,notEqual:ut.notStrictEqual,notDeepEqual:ut.notDeepStrictEqual}),ut.strict.strict=ut.strict;var tn=Object.keys||function($t){var Ht=[];for(var rn in $t)st.call($t,rn)&&Ht.push(rn);return Ht}},function(_e,tt,et){const nt=et(591),rt=et(264),it=et(2);_e.exports=ot=>it.isElectron?ot==="screen"?!0:rt(ot):nt.indexOf(ot)>-1},function(_e,tt,et){const nt=et(267),rt=et(6),it=et(1)("StreamChannel"),ot=et(151)();_e.exports=function(at){this.id=at.id,this.type=at.type,this.active=nt(at.active),this.orientation=at.orientation||ot.ROTATED_NORMAL,at.frameRate&&(this.frameRate=parseFloat(at.frameRate)),at.preferredFrameRate&&(this.preferredFrameRate=parseFloat(at.preferredFrameRate)),at.preferredWidth&&(this.preferredWidth=parseInt(at.preferredWidth,10)),at.preferredHeight&&(this.preferredHeight=parseInt(at.preferredHeight,10)),this.width=parseInt(at.width,10),this.height=parseInt(at.height,10),this.source=at.source||"camera",this.fitMode=at.fitMode||"cover",rt(this),this.update=function(ct){const lt={},dt={};for(const ut in ct){if(!ct.hasOwnProperty(ut))continue;const ft=this[ut];switch(ut){case"active":this.active=nt(ct[ut]);break;case"disableWarning":this.disableWarning=nt(ct[ut]);break;case"frameRate":this.frameRate=parseFloat(ct[ut],10);break;case"width":case"height":this[ut]=parseInt(ct[ut],10),lt[ut]=this[ut],dt[ut]=ft;break;case"orientation":this[ut]=ct[ut],lt[ut]=this[ut],dt[ut]=ft;break;case"fitMode":this[ut]=ct[ut];break;case"source":this[ut]=ct[ut];break;default:return it.warn(`Tried to update unknown key ${ut} on ${this.type} channel ${this.id}`),!1}this.trigger("update",this,ut,ft,this[ut])}return Object.keys(lt).length&&this.trigger("update",this,"videoDimensions",dt,lt),!0}}},function(_e,tt,et){_e.exports=function(){return{ROTATED_NORMAL:0,ROTATED_LEFT:270,ROTATED_RIGHT:90,ROTATED_UPSIDE_DOWN:180}}},function(_e,tt,et){const nt=et(599),rt=et(1)("StylableComponent"),it=et(600),ot=et(268);_e.exports=function(at,ct,lt,dt){if(!at.trigger)throw new Error("OT.StylableComponent is dependent on the eventing mixin. Ensure that this is included in the object before StylableComponent.");dt=dt||function(){};let ut=!1;const ft=function(Tt,ht,gt){gt?at.trigger("styleValueChanged",Tt,ht,gt):at.trigger("styleValueChanged",Tt,ht)};lt===!1&&(ct={buttonDisplayMode:"off",nameDisplayMode:"off",audioLevelDisplayMode:"off",videoDisabledDisplayMode:"off",audioBlockedDisplayMode:"off"},ut=!0,dt({showControls:!1}));const pt=new it(ct,ft);at.getStyle=function(bt){return pt.get(bt)},at.setStyle=function(bt,Tt,ht){if(ut)return rt.warn("Calling setStyle() has no effect because theshowControls option was set to false"),this;let gt;return typeof bt!="string"?gt=bt:(gt={},gt[bt]=Tt),gt.backgroundImageURI&&(gt.backgroundImageURI=nt(gt.backgroundImageURI)),pt.setAll(gt,ht),dt(ot(gt)),this}}},function(_e,tt,et){const nt=et(50),rt=et(34)(),it=et(20),ot=et(70),st=et(147),at=et(51).once,ct=et(603),lt=et(8),dt=et(1)("systemRequirements"),ut=et(604),ft=et(605),pt=rt.onlyLocal(),bt=new it,Tt=nt(()=>{bt.logEvent({action:"checkSystemRequirements",variation:"notHasRequirements",partnerId:ot.value,payload:{userAgent:lt.env.userAgent}})}),ht=nt(()=>{et(606)()});let gt=!1;_e.exports={check(){dt.debug("OT.checkSystemRequirements()");const vt=Number(ct&&at());return ht(),vt||Tt(),vt},upgrade(vt){let Ct=vt===void 0?{}:vt,It=Ct.isSupportedButOld,Zt=It===void 0?lt.env.name.toLowerCase()in pt.minimumVersion:It,Wt=Ct.userAgent,kt=Wt===void 0?navigator.userAgent:Wt;st.onLoad(()=>{if(gt)return;const Nt=new ft(ut);gt=!0,Nt.on("close",()=>{gt=!1}),Nt.open();let Lt;kt.match(/(iPad|iPhone|iPod|android|webOS)/i)?Lt=`${Zt?"supported-":""}mobile-browser`:Lt=`${Zt?"upgrade":"normal"}-install`,Nt.el(`#section-${Lt}`).style.display="block"})}}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(48)),ot=rt(et(607));const st=et(611);let at=function(ct){(0,it.default)(lt,ct);function lt(dt){var ut;return ut=ct.call(this,dt)||this,ut.name="TimeoutError",ut}return lt}((0,ot.default)(Error));_e.exports=(ct,lt,dt)=>new nt((ut,ft)=>{if(typeof lt!="number"||lt<0)throw new TypeError("Expected `ms` to be a positive number");const pt=setTimeout(()=>{if(typeof dt=="function"){try{ut(dt())}catch(ht){ft(ht)}return}const bt=typeof dt=="string"?dt:`Promise timed out after ${lt} milliseconds`,Tt=dt instanceof Error?dt:new at(bt);typeof ct.cancel=="function"&&ct.cancel(),ft(Tt)},lt);st(ct.then(ut,ft),()=>{clearTimeout(pt)})}),_e.exports.TimeoutError=at}).call(this,et(0))},function(_e,tt,et){function nt(){const rt=[];return{add(it){rt.push(it)},remove(it){const ot=rt.indexOf(it);ot>=0&&rt.splice(ot,1)},releaseAll(){const it=[];for(;rt.length>0;){const st=rt.pop();try{st()}catch(at){it.push(at)}}const ot=it.length;if(ot>0)throw new Error(`Failed to complete ${ot} cleanup job${ot===1?"":"s"}: ${it.map(st=>`<${st}>`).join(", ")}`)}}}_e.exports=nt},function(_e,tt,et){const nt=et(1)("applySdpTransform");_e.exports=(rt,it,ot,st,at)=>{const ct=rt[it][ot],lt=`${it} ${ot}`,ut=`sdpTransforms (${lt==="local offer"||lt==="remote answer"?"publisher":"subscriber"}): ${it} ${ot}`,ft=it==="local"?"created":"received";nt.debug(`${ut}: ${ft}:
${at}`);const pt=ct(st,at);return pt.local===at?nt.debug(`${ut}: not modified`):nt.debug(`${ut}: modified to:
${pt.local}`),pt}},function(_e,tt,et){const nt=function(it){if(it===void 0&&(it={}),!it)return 0;const ot=it,st=ot.currentStatFrames,at=st===void 0?0:st,ct=ot.prevStatFrames,lt=ct===void 0?0:ct,dt=ot.currentTimestamp,ut=dt===void 0?0:dt,ft=ot.prevTimestamp,pt=ft===void 0?0:ft;if(at>=lt&&ut>pt){const bt=(at-lt)/((ut-pt)/1e3);return Math.round(bt*100)/100}return 0};_e.exports=nt},function(_e,tt,et){let nt;_e.exports=function(it){it===void 0&&(it={});const ot=it.AudioContext||(typeof window!==void 0?window:commonjsGlobal).AudioContext||(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext;return function(){if(nt=nt||ot&&new ot,nt==null)throw new Error("AudioContext could not be created, hardware limit reached.");return nt}}},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(57)),ot=typeof(0,rt.default)(typeof window!==void 0?window:commonjsGlobal,"navigator.getDisplayMedia",(0,rt.default)(typeof window!==void 0?window:commonjsGlobal,"navigator.mediaDevices.getDisplayMedia"))=="function";tt.default=ot},function(_e,tt,et){const nt=et(37);_e.exports=function(){return function(ot,st,at){const ct=st.slice(),lt=nt(at),dt=function(pt){return ct.indexOf(pt)!==-1},ut=function(pt,bt){return lt[pt]&&lt[pt].indexOf(bt)!==-1};return function(ft){let pt=ot,bt=null;this.current=pt;function Tt(gt,vt){ft({message:gt,newState:vt,currentState:pt,previousState:bt})}function ht(gt){return dt(gt)?ut(pt,gt)?!0:(Tt(`'${pt}' cannot transition to '${gt}'`,gt),!1):(Tt(`'${gt}' is not a valid state`,gt),!1)}this.set=function(gt){ht(gt)&&(bt=pt,this.current=gt,pt=gt)}}}}},function(_e,tt,et){(function(nt){const rt=et(60);_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.chromeExtensionHelper||et(280)(),at=ot.electronExtensionHelper||et(649)(),ct=ot.Errors||et(7),lt=ot.firefoxExtensionHelper||et(651),dt=ot.getDisplayMediaExtensionHelper||et(288),ut=ot.otError||et(13)(),ft=ot.OTHelpers||et(8),pt={};pt.extensionByKind={},pt.extensionClasses={},pt.registerExtensionHelper=(ht,gt)=>{pt.extensionClasses[ht]=gt,gt.autoRegisters&&gt.isSupportedInThisBrowser&&pt.registerExtension(ht)},pt.registerExtension=function(ht){if(pt.extensionClasses[ht]==null)throw new Error("Unsupported kind passed to OT.registerScreenSharingExtension");for(var gt=arguments.length,vt=new Array(gt>1?gt-1:0),Ct=1;Ct<gt;Ct++)vt[Ct-1]=arguments[Ct];const It=pt.extensionClasses[ht].register(...vt);pt.extensionByKind[ht]=It};const bt=()=>{const ht=rt(Object.keys(pt.extensionClasses).sort(gt=>gt==="electron"?-1:1),gt=>pt.extensionClasses[gt].isSupportedInThisBrowser);return ht===void 0?{}:{name:ht,proto:pt.extensionClasses[ht],instance:pt.extensionByKind[ht]}};pt.pickHelper=()=>bt(),pt.checkCapability=ht=>{const gt={supported:!1,extensionRequired:void 0,extensionRegistered:void 0,extensionInstalled:void 0,supportedSources:{}},vt=bt();if(vt.name===void 0){setTimeout(ht.bind(null,gt));return}if(gt.supported=!0,gt.extensionRequired=vt.proto.extensionRequired?vt.name:void 0,gt.supportedSources={screen:vt.proto.sources.screen,application:vt.proto.sources.application,window:vt.proto.sources.window,browser:vt.proto.sources.browser},!vt.instance){gt.extensionRegistered=!1,gt.extensionRequired&&(gt.extensionInstalled=!1),setTimeout(ht.bind(null,gt));return}gt.extensionRegistered=gt.extensionRequired?!0:void 0,vt.instance.isInstalled(Ct=>{gt.extensionInstalled=gt.extensionRequired||ft.env.name==="Firefox"?Ct:void 0,ht(gt)})},pt.registerExtensionHelper("electron",at),pt.registerExtensionHelper("getDisplayMedia",dt),pt.registerExtensionHelper("chrome",st),pt.registerExtensionHelper("firefox",lt);const Tt=()=>{};return pt.getConstraints=ht=>{const gt=ht.onAccessDialogOpened,vt=gt===void 0?Tt:gt,Ct=ht.onAccessDialogClosed,It=Ct===void 0?Tt:Ct,Zt=ht.videoSource,Wt=ht.constraints;return new nt((kt,Nt)=>{pt.checkCapability(Lt=>{if(Lt.supported)if(Lt.extensionRegistered===!1)Nt(ut(ct.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,new Error("Screen Sharing support in this browser requires an extension, but one has not been registered.")));else if(Lt.extensionRequired&&Lt.extensionInstalled===!1)Nt(ut(ct.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Screen Sharing support in this browser requires an extension, but the extension is not installed.")));else{const Mt=pt.pickHelper();Mt.proto.getConstraintsShowsPermissionUI&&vt(),Mt.instance.getConstraints(Zt,Wt,(tn,$t)=>{Mt.proto.getConstraintsShowsPermissionUI&&It(),tn?Nt(tn):kt($t)})}else{let Mt="Screen Sharing is not supported in this browser";ft.env.isElectron?Mt="Set the webPreferences.contextIsolation option of the Electron BrowserWindow to false or use a preload script to access the desktop capturer. For more information, see https://tokbox.com/developer/guides/screen-sharing/js/.":ft.env.name==="Chrome"&&ft.env.version>73&&(typeof window!==void 0?window:commonjsGlobal).location.protocol!=="https:"&&(Mt="https:// is required for screen sharing"),Nt(ut(ct.SCREEN_SHARING_NOT_SUPPORTED,new Error(Mt)))}})})},pt}}).call(this,et(0))},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.ExceptionCodes||et(10),st=rt.otError||et(13)(),at={ICEWorkflow:it.ICE_WORKFLOW_FAILED,NewPeerConnection:it.CREATE_PEER_CONNECTION_FAILED,SetRemoteDescription:it.SET_REMOTE_DESCRIPTION_FAILED,Subscribe:{404:it.STREAM_NOT_FOUND,[ot.STREAM_LIMIT_EXCEEDED]:it.STREAM_LIMIT_EXCEEDED}};return function(lt,dt,ut,ft,pt){const bt=`${(ut?`${ut}: `:"")+pt} PeerConnection with connection ${ft} failed: ${dt}`,Tt=at[ut]||{},ht=typeof Tt=="string"?Tt:Tt[lt],gt=pt==="Publisher"?ot.UNABLE_TO_PUBLISH:ot.UNABLE_TO_SUBSCRIBE;if(!ht){const Ct=new Error(bt);return Ct.code=gt,Ct}const vt=(()=>ut==="ICEWorkflow"?pt==="Publisher"?ot.PUBLISHER_ICE_WORKFLOW_FAILED:ot.SUBSCRIBER_ICE_WORKFLOW_FAILED:ht===it.STREAM_LIMIT_EXCEEDED?ot.STREAM_LIMIT_EXCEEDED:gt)();return st(ht,new Error(bt),vt)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.OTHelpers||et(8),st=(rt.global||(typeof window!==void 0?window:commonjsGlobal)).RTCPeerConnection;return function(ct,lt){it.env.name==="Firefox"&&st&&st.generateCertificate?st.generateCertificate({name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])}).catch(dt=>{lt(dt)}).then(dt=>{ct.certificates=[dt],lt(void 0,ct)}):setTimeout(()=>{lt(void 0,ct)})}}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(45));const st=et(6),at=et(676),ct=et(1)("WidgetView"),lt=et(8),dt=et(2),ut=et(165),ft=ut.default,pt=ut.CancellationError,bt=et(166),Tt=et(678),ht=et(679),gt=et(680),vt=et(681),Ct=et(682),It=et(61),Zt=et(683),Wt=et(109);Wt();function kt(Nt){let Lt=Nt===void 0?{}:Nt,Mt=Lt.logging,tn=Mt===void 0?ct:Mt,$t=Lt.OTHelpers,Ht=$t===void 0?lt:$t,rn=Lt.waitForVideoToBePlaying,ln=rn===void 0?ht:rn,mn=Lt.VideoElementFacade,on=mn===void 0?Wt():mn,yn=Lt.env,hn=yn===void 0?dt:yn;const un=at({window:typeof window!==void 0?window:commonjsGlobal}),dn=Wn=>{if(Wn.isCanceled())throw tn.debug("bindVideo bailing due to cancellation"),new pt("CANCEL")};return function(){function Wn(Rn,xn){let Jn=xn===void 0?{}:xn,cr=Jn.insertDefaultUI,er=cr===void 0?!0:cr,_n=Jn.width,Sr=_n===void 0?264:_n,vr=Jn.height,Gr=vr===void 0?198:vr,Lr=Jn.fitMode,Ur=Lr===void 0?"cover":Lr,co=Jn.mirror,Tr=co===void 0?!1:co,wr=Jn.insertMode,Bn=Jn.classNames,Gn=Jn.style,lr=Jn.widgetType,Vr=Jn.initials;this._videoElementFacade=void 0,this._container=void 0,this._posterContainer=document.createElement("div"),this._widgetContainer=document.createElement("div"),this._loading=!0,this._audioOnly=!1,this._showPoster=void 0,this._poster=void 0,this._cancelBind=void 0,this.MAX_VIDEO_LOADED=5*1e3,st(this),/^(contain|cover)$/.test(Ur)===!1&&tn.warn(`Invalid fit value "${Ur}" passed. Only "contain" and "cover" can be used.`),this._widgetType=lr,this._fitMode=Ur,this._insertDefaultUI=er;const oo=It(this._widgetContainer);if(oo.on("click",this.userGesture.bind(this)),oo.on("touchstart",this.userGesture.bind(this),un?{passive:!0}:!1),this.once("destroy",()=>oo.removeAll()),this._widgetContainer.classList.add("OT_widget-container"),this._widgetContainer.style.width="100%",this._widgetContainer.style.height="100%",er!==!1){this._container=vt(Rn,wr),hn.isSafari&&hn.isiOS&&hn.iOSVersion&&hn.iOSVersion<11.2&&this._container.classList.add("OT_ForceContain"),this._container.style.width=Ct(Sr),this._container.style.height=Ct(Gr),this._container.style.overflow="hidden",gt(this._container),Tr&&Ht.addClass(this._container,"OT_mirrored"),Bn&&Bn.trim().split(/\s+/).forEach(bo=>this._container.classList.add(bo)),this._container.classList.add("OT_loading"),this._container.classList.add(`OT_fit-mode-${Ur}`),this._container.appendChild(this._widgetContainer);const so=Ht(this._container).observeSize(()=>gt(this._container)),jr=so[0],mo=Ht.observeNodeOrChildNodeRemoval(this._container,bo=>{if(!this._videoElementFacade)return;bo.some($r=>$r===this._widgetContainer||$r===this._videoElementFacade.domElement())&&this.destroyVideo()});this.once("destroy",()=>{tn.debug("disconnecting observers"),jr.disconnect(),mo.disconnect()})}this._posterContainer.classList.add("OT_video-poster"),this._widgetContainer.appendChild(this._posterContainer);const Yn=document.createElement("div");Yn.classList.add("OT_video-loading");const yr=document.createElement("div");yr.classList.add("OT_video-loading-spinner"),Yn.appendChild(yr),this._widgetContainer.appendChild(Yn),Gn&&Gn.backgroundImageURI?this.setBackgroundImageURI(Gn.backgroundImageURI):Vr&&this.setInitials(Vr)}var pn=Wn.prototype;return pn.addError=function(xn,Jn,cr){this._container&&(this._container.innerHTML=`<p>${xn}${Jn?` <span class="ot-help-message">${Jn}</span>`:""}</p>`,Ht.addClass(this._container,cr||"OT_subscriber_error"),this._container.querySelector("p").offsetHeight>this._container.offsetHeight&&(this._container.querySelector("span").style.display="none"))},pn.destroy=function(){this.emit("destroy"),this.destroyVideo(),this._container&&(Ht.removeElement(this._container),this._container=null)},pn.setBackgroundImageURI=function(xn){Ht.css(this._posterContainer,"backgroundImage",`url(${xn})`),Ht.css(this._posterContainer,"backgroundSize","contain"),Ht.css(this._posterContainer,"opacity","1.0")},pn.setInitials=function(xn){const Jn=Zt(xn),cr=new XMLSerializer().serializeToString(Jn);Ht.css(this._posterContainer,"backgroundImage",`url('data:image/svg+xml,${cr}')`),Ht.css(this._posterContainer,"backgroundSize","auto 55%"),Ht.css(this._posterContainer,"opacity","1.0")},pn.isAudioBlocked=function(){return!!(this._videoElementFacade&&this._videoElementFacade.isAudioBlocked())},pn.unblockAudio=function(){return this._videoElementFacade.unblockAudio()},pn.userGesture=function(){this.isAudioBlocked()&&bt().then(()=>tn.debug("Successfully unblocked audio"),xn=>tn.error("Error retrying audio on user interaction:",xn))},pn.setAudioBlockedUi=function(xn){this._container&&(xn?this._container.classList.add("OT_container-audio-blocked"):this._container.classList.remove("OT_container-audio-blocked"))},pn.rebindSrcObject=function(){this._videoElementFacade&&this._videoElementFacade._rebindSrcObject()},pn.pauseAndPlayVideoElement=function(){this._videoElementFacade&&this._videoElementFacade._pauseAndPlay()},pn._createBufferVideoElement=function(){var Rn=(0,it.default)(rt.default.mark(function Jn(cr,er){var _n,Sr,vr;return rt.default.wrap(function(Lr){for(;;)switch(Lr.prev=Lr.next){case 0:return er===void 0&&(er={}),_n=er.createElement?er:document,Sr=!1,vr=_n.createElement("video"),vr.srcObject=cr,Lr.prev=5,vr.play(),Lr.next=9,ln(vr,this.MAX_VIDEO_LOADED);case 9:return Sr=Lr.sent,Lr.abrupt("return",Sr?vr:null);case 13:return Lr.prev=13,Lr.t0=Lr.catch(5),Lr.abrupt("return",null);case 16:case"end":return Lr.stop()}},Jn,this,[[5,13]])}));function xn(Jn,cr){return Rn.apply(this,arguments)}return xn}(),pn._emitAMREvent=function(xn,Jn,cr){this.emit("amrLogEvent",xn,Jn,cr)},pn._createVideoElementFacade=function(xn){let Jn=xn._inject,cr=xn.audioVolume,er=xn.fallbackText,_n=xn.muted;this._videoElementFacade=new on({defaultAudioVolume:parseFloat(cr),fallbackText:er,fitMode:this._fitMode,_inject:Jn,muted:_n,widgetType:this._widgetType});const Sr=It(this._videoElementFacade);if(this._videoFacadeEvents=Sr,Sr.on("error",()=>{this.trigger("error")}),Sr.on("videoDimensionsChanged",(vr,Gr)=>{this.trigger("videoDimensionsChanged",vr,Gr)}),Sr.on("mediaStopped",vr=>{this.trigger("mediaStopped",vr)}),Sr.on("audioBlocked",()=>this.trigger("audioBlocked")),Sr.on("audioUnblocked",()=>this.trigger("audioUnblocked")),this._videoElementFacade.audioChannelType("telephony"),tn.debug("Appending the video facade"),this._videoElementFacade.appendTo(this._widgetContainer),typeof cr<"u")try{this._videoElementFacade.setAudioVolume(cr)}catch(vr){tn.warn(`bindVideo ${vr}`)}},pn._bindToStream=function(){var Rn=(0,it.default)(rt.default.mark(function Jn(cr,er){return rt.default.wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:return Sr.prev=0,Sr.next=3,this._videoElementFacade.bindToStream(cr);case 3:Sr.next=14;break;case 5:if(Sr.prev=5,Sr.t0=Sr.catch(0),!er.isCanceled()){Sr.next=12;break}throw tn.debug("Refusing to destroyVideo as bindVideo was cancelled"),new pt("CANCEL");case 12:throw this.destroyVideo(),Sr.t0;case 14:case"end":return Sr.stop()}},Jn,this,[[0,5]])}));function xn(Jn,cr){return Rn.apply(this,arguments)}return xn}(),pn._getNewBindCancellation=function(){this._cancelBind&&(tn.debug("Cancelling last bindVideo request"),this._cancelBind.cancel());const xn=new ft;return this._cancelBind=xn,this.once("destroy",()=>xn.cancel()),xn},pn._triggerVideoElementCreated=function(){const xn=Jn=>{this.trigger("videoElementCreated",Jn),this._insertDefaultUI&&Ht.addClass(Jn,"OT_video-element")};this._videoElementFacade.domElement()?xn(this._videoElementFacade.domElement()):this._videoFacadeEvents.on("videoElementCreated",Jn=>{xn(Jn)})},pn._waitForVideoResolution=function(){var Rn=(0,it.default)(rt.default.mark(function Jn(cr){return rt.default.wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:if(!(!this.audioOnly()&&cr.getVideoTracks().length>0)){_n.next=5;break}return tn.debug("Waiting for correct resolution"),_n.next=4,Tt(this._videoElementFacade,5e3);case 4:tn.debug(`Resolution: ${this._videoElementFacade.videoWidth()}x${this._videoElementFacade.videoHeight()}`);case 5:case"end":return _n.stop()}},Jn,this)}));function xn(Jn){return Rn.apply(this,arguments)}return xn}(),pn.bindVideo=function(){var Rn=(0,it.default)(rt.default.mark(function Jn(cr,er,_n){var Sr,vr,Gr,Lr,Ur,co,Tr,wr;return rt.default.wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:if(Sr=er.audioVolume,vr=er.muted,Gr=er.fallbackText,Lr=er._inject,_n===void 0&&(_n=!1),tn.debug("bindVideo ",{webRTCStream:cr}),Ur=!!this._videoElementFacade,Tr=this._getNewBindCancellation(),Ur){Gn.next=9;break}this._createVideoElementFacade({_inject:Lr,audioVolume:Sr,fallbackText:Gr,muted:vr}),Gn.next=22;break;case 9:if(!(cr instanceof MediaStream)){Gn.next=22;break}return this._emitAMREvent("AMRLoadVideoBuffer","Attempt"),Gn.next=13,this._createBufferVideoElement(cr);case 13:if(co=Gn.sent,co){Gn.next=20;break}if(this._emitAMREvent("AMRLoadVideoBuffer","Failure"),!_n){Gn.next=18;break}throw new Error("bufferFailed: videoBuffer failed to load or timeout");case 18:Gn.next=21;break;case 20:this._emitAMREvent("AMRLoadVideoBuffer","Success");case 21:this._videoFacadeEvents.on("amrLogEvent",(lr,Vr,oo)=>{this._emitAMREvent(lr,Vr,oo)});case 22:return Gn.next=24,this._bindToStream(cr,Tr);case 24:return Ur||this._triggerVideoElementCreated(),dn(Tr),wr=ln(this._videoElementFacade,5e3),Gn.next=29,this._waitForVideoResolution(cr);case 29:return tn.debug("Waiting for video to be playing"),Gn.next=32,wr;case 32:tn.debug("Video is playing"),dn(Tr),co&&(co.remove&&co.remove(),co=null);case 35:case"end":return Gn.stop()}},Jn,this)}));function xn(Jn,cr,er){return Rn.apply(this,arguments)}return xn}(),pn.bindAudioTrackOnly=function(){this._videoElementFacade&&this._videoElementFacade.bindAudioTrackOnly()},pn.destroyVideo=function(){this._videoElementFacade&&(this._videoElementFacade.destroy(),this._videoElementFacade=null)},pn.video=function(){return this._videoElementFacade},pn.showPoster=function(xn){return xn===void 0?!Ht.isDisplayNone(this._posterContainer):(this._showPoster=xn,Ht[xn?"show":"hide"](this._posterContainer),this.showPoster())},pn.poster=function(xn){return xn===void 0?Ht.css(this._posterContainer,"backgroundImage"):(this._poster=xn,Ht.css(this._posterContainer,"backgroundImage",`url(${xn})`),this.poster())},pn.loading=function(xn){return xn===void 0?this._loading:(this._loading=!!xn,this._container&&this._container.classList[xn?"add":"remove"]("OT_loading"),this.loading())},pn.audioOnly=function(xn){return xn===void 0?this._audioOnly:(this._audioOnly=xn,this._container&&this._container.classList[xn?"add":"remove"]("OT_audio-only"),this.audioOnly())},pn.domId=function(){return this._container&&this._container.getAttribute("id")},pn.setSinkId=function(xn){if(this._videoElementFacade)return this._videoElementFacade.setSinkId(xn)},(0,ot.default)(Wn,[{key:"domElement",get:function(){return this._container}},{key:"videoElement",get:function(){return this._videoElementFacade&&this._videoElementFacade.domElement()||void 0}},{key:"width",get:function(){return this.videoElement&&this.videoElement.offsetWidth}},{key:"height",get:function(){return this.videoElement&&this.videoElement.offsetHeight}}]),Wn}()}_e.exports=kt},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0}),tt.CancellationError=tt.default=void 0;var nt=et(677),rt=st(nt),it=et(303),ot=st(it);function st(at){return at&&at.__esModule?at:{default:at}}tt.default=rt.default,tt.CancellationError=ot.default},function(_e,tt,et){(function(nt){const rt=et(21);_e.exports=()=>nt.all(rt.subscribers.where().map(it=>{if(it.isAudioBlocked())return it._.unblockAudio()}))}).call(this,et(0))},function(_e,tt,et){_e.exports=nt=>nt==="P2P"?"RELAYED":"ROUTED"},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5)),st=rt(et(696)),at=rt(et(697)),ct=rt(et(108)),lt=et(74),dt=rt(et(698));const ut=et(57),ft=et(148),pt=et(9),bt=et(56),Tt=et(60),ht=et(275),gt=et(47),vt=et(50),Ct=et(700),It=et(15),Zt=et(258),Wt=et(194),kt=et(165),Nt=kt.CancellationError,Lt=kt.default,Mt=et(2),tn=et(313),$t=et(314),Ht=et(75),rn=et(26),ln=et(6),mn=et(107),on=et(128),yn=et(20),hn=et(73),un=et(155),dn=et(710),Nn=et(164)(),Wn=et(711),pn=et(712),Rn=et(166),xn=et(24)(),Jn=xn.getInputMediaDevices,cr=et(713),er=et(269),_n=et(311),Sr=et(714),vr=et(715),Gr=et(291),Lr=Gr.setVideoContentHint,Ur=Gr.getVideoContentHint,co=et(167),Tr=et(312),wr=5*1e3,Bn=3*1e3,Gn=30*1e3;_e.exports=function(Vr){Vr===void 0&&(Vr={});let oo=Vr,Yn=(0,at.default)({},((0,st.default)(oo),oo));["processPubOptions"].forEach(uu=>{ft(Yn[uu],`${uu} dependency must be injected into Publisher`)});const yr=Yn.AnalyticsHelper||yn,Ar=Yn.createAudioFallbackCoordinator||dt.default,so=Yn.calculateCapableSimulcastStreams||et(251),jr=Yn.createChromeMixin||et(281)(),mo=Yn.deviceHelpers||et(24)(),bo=Yn.EnvironmentLoader||et(147),go=Yn.Errors||et(7),$r=Yn.Events||et(23)(),Wo=Yn.ExceptionCodes||et(10),So=Yn.interpretPeerConnectionError||et(162)(),Vo=Yn.IntervalRunner||hn,qr=Yn.logging||et(1)("Publisher"),Iu=Yn.Microphone||et(292)(),Ho=Yn.otError||et(13)(),Co=Yn.OTErrorClass||et(22),es=Yn.OTHelpers||et(8),Hs=Yn.parseIceServers||et(102).parseIceServers,eu=Yn.PUBLISH_MAX_DELAY||et(266),Is=Yn.PublisherPeerConnection||et(296)(),_a=Yn.PublishingState||et(302)(),wu=Yn.StreamChannel||et(150),Wu=Yn.systemRequirements||et(153),Bp=Yn.VideoOrientation||et(151)(),_u=Yn.WidgetView||Nn,qu=Yn.global||(typeof window!==void 0?window:commonjsGlobal),_r=Yn.createSendMethod||et(309),qs=Yn.setEncodersActiveState||tn,lu=Yn.MediaProcessor||et(716),Gs=et(721),El=Yn.shouldLogMediaProcessorEvents||et(722),Hr=et(315),Qs=Yn.processPubOptions;return function(du){var ts=this;du===void 0&&(du={});let Wl=ln({});const ns=new Wt,Hu=new Tr;let fp=!1;const _c=wn=>ns.get(wn),rp=(wn,En)=>ns.set(wn,En);ln(this);const _d=un();let ba=new yr;Wu.check()||Wu.upgrade();let zo,tu,vo;const ip={};let Ou,Ap,bs,kp,_p,Lp,Sp,zp,op,fu,Gu=!1,Ul,Wp,Qn,An,Pn;const nr={},Ir={};let Zr;const ko=5e3;let Go=!1,As,os;const ps=()=>this.session||os||{isConnected(){return!1}},Vs=[],_s=new lu;this.once("publishComplete",wn=>{if(!wn){var En;Gu=!0,Ul=(En=this.session)!=null&&En.sessionInfo.p2pEnabled?"P2P":"MANTIS"}}),this.on("sourceStreamIdChanged",wn=>{Ul=wn,Hu.finishTransitionTo(Ul)}),this.on("audioAcquisitionProblem",wn=>{let En=wn.method;Zo("publisher:audioAcquisitionProblem","Event",{didPublishComplete:Gu,method:En})});function Vp(){return{connectionId:ps().isConnected()?ps().connection.connectionId:null,streamId:tu,widgetType:"Publisher"}}const Fs=wn=>{const En=Object.keys(go).map(gn=>go[gn]),Vn=Ho(En.indexOf(wn.name)>-1?wn.name:go.MEDIA_ERR_ABORTED,wn,Wo.UNABLE_TO_PUBLISH);qr.error(`onStreamAvailableError ${Vn.name}: ${Vn.message}`),bs.set("Failed"),zo&&(zo.destroy(),zo=null);const qt={failureReason:"GetUserMedia",failureCode:Wo.UNABLE_TO_PUBLISH,failureMessage:`OT.Publisher failed to access camera/mic: ${Vn.message}`};_f("Failure",{},qt),Co.handleJsException({error:Vn,errorMsg:qt.failureReason,code:qt.failureCode,target:this,analytics:ba}),this.trigger("publishComplete",Vn)},Gl=wn=>{const En=bt(wn);En.code=Wo.UNABLE_TO_PUBLISH,qr.error(`OT.Publisher.onScreenSharingError ${En.message}`),bs.set("Failed"),En.message=`Screensharing: ${En.message}`,this.trigger("publishComplete",En),_f("Failure",{},{failureReason:"ScreenSharing",failureMessage:En.message}),zo&&(zo.destroy(),zo=null)},Bs=wn=>{const En=bt(wn);let Vn;try{Vn=window.self!==window.top}catch{}(typeof window!==void 0?window:commonjsGlobal).location.protocol!=="https:"&&(Fl?En.message+=" Note: https:// is required for screen sharing.":er()&&es.env.hostName!=="localhost"&&(En.message+=` Note: ${es.env.name} requires HTTPS for camera and microphone access.`)),Vn&&!Fl&&(En.message+=" Note: Check that the iframe has the allow attribute for camera and microphone"),qr.error(En.message),bs.set("Failed"),En.message=`OT.Publisher Access Denied: Permission Denied: ${En.message}`,En.code=Wo.UNABLE_TO_PUBLISH,zo&&(zo.destroy(),zo=null),_f("Cancel",{reason:"AccessDenied"}),this.trigger("publishComplete",En),this.dispatchEvent(new on(rn.ACCESS_DENIED))},nu=wn=>{throw wn instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(wn))||(wn=new Error("Unknown error has occurred. Stream is not available.")),wn.name===go.USER_MEDIA_ACCESS_DENIED||wn.name===go.NOT_SUPPORTED&&wn.originalMessage.match(/Only secure origins/)?Bs(wn):Qs.isScreenSharing?Gl(wn):Fs(wn),wn},Tp=()=>{Zo("accessDialog","Opened"),this.dispatchEvent(new on(rn.ACCESS_DIALOG_OPENED,!0))},sp=()=>{Zo("accessDialog","Closed"),this.dispatchEvent(new on(rn.ACCESS_DIALOG_CLOSED,!1))},tm=It(),na={};let Bu=!1,ap={},Zp=!1,Su=Qs(du,"OT.Publisher",()=>bs&&bs.isDestroyed());Su.on({accessDialogOpened:Tp,accessDialogClosed:sp});const pp=Su,Fl=pp.isScreenSharing,fo=pp.isCustomAudioTrack,qo=pp.isCustomVideoTrack,hp=pp.shouldAllowAudio,to=pp.properties,qp=pp.getUserMedia;Object.defineProperty(this,"loudness",{writable:!1,value:void 0,configurable:!0});function Js(wn){wn.forEach(En=>En())}const mp=(wn,En,Vn)=>wn.addEventListener?(wn.addEventListener(En,Vn),()=>wn.removeEventListener(En,Vn)):()=>{};(function(){const En=[];Wl.on("streamDestroy",()=>Js(En)),Wl.on("streamChange",()=>{Js(En);const Vn=vo.getAudioTracks().map(qt=>mp(qt,"ended",()=>{Zp=!0,this.trigger("audioAcquisitionProblem",{method:"trackEndedEvent"})}));En.splice(0,En.length,...Vn)})}).call(this),function(){const En=[];Wl.on("streamDestroy",()=>Js(En)),Wl.on("streamChange",()=>{Js(En),Np()||vo.getTracks().forEach(Vn=>{Vn.addEventListener&&(En.push(mp(Vn,"mute",()=>{Zs()})),En.push(mp(Vn,"unmute",()=>{Zs()})))})})}();const Np=()=>{if(Fl)return!0;const En=["text","detail"].includes(to.videoContentHint);return qo&&En},Zo=du.logAnalyticsEvent||((wn,En,Vn,qt,gn)=>{let Sn=pt({action:wn,variation:En,payload:Vn},Vp(),qt);En==="Failure"&&(Sn=pt(ap,Sn)),ap=gt(Sn,"sessionId","connectionId","partnerId"),ba.logEvent(Sn,gn)}),Gp=()=>{if(!El(this.session)){_s.disableLogging();return}const En=this.session.apiKey;_s.enableLogging(En)},_f=function(En,Vn,qt){Vn===void 0&&(Vn={}),qt===void 0&&(qt={}),qt.failureReason!=="Non-fatal"&&(En==="Attempt"&&(_p=new Date().getTime(),As&&(As.stop(),qr.error("_connectivityAttemptPinger should have been cleaned up")),As=new Vo(()=>{Zo("Publish","Attempting",Vn,Object.assign({},Vp(),qt))},1/5,6)),En==="Failure"||En==="Success"||En==="Cancel"?(As?(As.stop(),As=void 0):qr.warn(`Received connectivity event: "${En}" without "Attempt"`),Zo("Publish",En,Object.assign({videoInputDevices:Sp,audioInputDevices:Lp,videoInputDeviceCount:Sp?Sp.length:void 0,audioInputDeviceCount:Lp?Lp.length:void 0,selectedVideoInputDeviceId:zp,selectedAudioInputDeviceId:op},Vn),Object.assign({attemptDuration:new Date().getTime()-_p},qt))):Zo("Publish",En,Vn,qt))},nm=(wn,En)=>{Zo("ICERestart",wn,En)},am=(wn,En,Vn)=>{En==="Attempt"?(nr[wn]=new Date().getTime(),Zo(wn,En,Vn)):(En==="Failure"||En==="Success")&&Zo(wn,En,Vn,{attemptDuration:new Date().getTime()-nr[wn]})},Mp=function(En,Vn){Vn===void 0&&(Vn={}),am("RoutedToRelayedTransition",En,Vn)},Kp=function(En,Vn){Vn===void 0&&(Vn={}),am("RelayedToRoutedTransition",En,Vn)},rm=vt(()=>{Zo("GetStats","Called")}),ss=vt(()=>{Zo("GetRtcStatsReport","Called")}),Io=wn=>{let En=wn.parsedStats,Vn=wn.simulcastEnabled,qt=wn.remoteConnectionId,gn=wn.peerId,Sn=wn.sourceStreamId;const Dn={peerId:gn,widgetType:"Publisher",connectionId:this.session&&this.session.isConnected()?this.session.connection.connectionId:null,streamId:tu,width:zo.width,height:zo.height,audioTrack:vo&&vo.getAudioTracks().length>0,hasAudio:Ip(),publishAudio:to.publishAudio,videoTrack:vo&&vo.getVideoTracks().length>0,hasVideo:cm(),publishVideo:to.publishVideo,audioSource:fo?"Custom":void 0,duration:Ou?Math.round((new Date().getTime()-Ou.getTime())/1e3):0,remoteConnectionId:qt,scalableVideo:Vn,sourceStreamId:co(Sn)};let Un=Fl&&qo&&"Screen"||Fl&&du.videoSource||qo&&"Custom"||to.constraints.video&&"Camera"||null;ht(Un)&&(Un=Ct(Un)),Dn.videoSource=Un;const sr={videoWidth:this.videoWidth(),videoHeight:this.videoHeight()},ur=pt({},Dn,En,sr);ba.logQOS(ur),this.trigger("qos",ur)},fm=()=>{var wn,En;let Vn=((wn=to.videoDimensions)==null?void 0:wn.width)||640,qt=((En=to.videoDimensions)==null?void 0:En.height)||480;if(to.publishVideo){var gn;const Sn=(gn=zo)==null?void 0:gn.video();Vn=(Sn==null?void 0:Sn.videoWidth())||Vn,qt=(Sn==null?void 0:Sn.videoHeight())||qt}return{width:Vn,height:qt}},Sm=wn=>{qr.error("OT.Publisher State Change Failed: ",wn.message),qr.debug(wn)},pm=()=>{if(bs.isDestroyed()){zo&&zo.destroyVideo();return}qr.debug("OT.Publisher.onLoaded; resolution:",`${this.videoWidth()}x${this.videoHeight()}`),bs.set("MediaBound"),Rn().catch(qr.error),zo.loading(this.session?!this.stream:!1),Bu=!0},xp=wn=>{const En=Ho(go.CONNECT_FAILED,wn,Wo.P2P_CONNECTION_FAILED);En.message=`OT.Publisher PeerConnection Error: ${En.message}`,_f("Failure",{},{failureReason:"PeerConnectionError",failureCode:En.code,failureMessage:En.message}),bs.set("Failed"),this.trigger("publishComplete",En),Co.handleJsException({error:En,target:this,analytics:ba})},Yu=()=>{vo&&(Wl.emit("streamDestroy"),qu.MediaStreamTrack&&qu.MediaStreamTrack.prototype.stop?vo.getTracks().forEach(wn=>wn.stop()):vo.stop())},Fn=()=>{const wn=Mt.isiOS&&Mt.iOSVersion>=15&&Mt.iOSVersion<15.2,En=vo.getVideoTracks()[0];if(!wn||!En)return;const Vn=()=>{!document.hidden&&zo&&zo.rebindSrcObject()};document.addEventListener("visibilitychange",Vn)},en=()=>{const wn=Mt.isiOS&&Mt.iOSVersion>=13.3,En=vo.getAudioTracks()[0];wn&&En&&(En.onmute=()=>Xm(En),En.onunmute=()=>jm(En))},Zn=function(){var wn=(0,ot.default)(it.default.mark(function En(){var Vn;return it.default.wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:if(Vn={muted:!0},zo){gn.next=3;break}throw new Error("Cannot bind video after widget view has been destroyed");case 3:return gn.abrupt("return",zo.bindVideo(vo,Vn));case 4:case"end":return gn.stop()}},En)}));return function(){return wn.apply(this,arguments)}}(),rr=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt;return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:if(qr.debug("OT.Publisher.onStreamAvailable"),bs.set("BindingMedia"),to.videoContentHint!==void 0&&Lr(Vn,to.videoContentHint),Yu(),vo=Vn,!to.videoFilter){Sn.next=14;break}return Sn.prev=6,Sn.next=9,ts.applyVideoFilter(to.videoFilter);case 9:Sn.next=14;break;case 11:Sn.prev=11,Sn.t0=Sn.catch(6),qr.error(`Error applying video filter: ${Sn.t0}`);case 14:Wl.emit("streamChange"),en(),Fn(),qt=(Dn,Un)=>{let sr;return Dn.forEach(ur=>{if(ur.deviceId)sr=ur.deviceId.toString();else if(ur.label&&Un){const or=Tt(Un,Do=>Do.label===ur.label);or&&(sr=or.deviceId)}}),sr},zp=qt(vo.getVideoTracks(),Sp),op=qt(vo.getAudioTracks(),Lp),Ap=new Iu(vo,!to.publishAudio),Vm(),Tm(),ts.accessAllowed=!0,ts.dispatchEvent(new on(rn.ACCESS_ALLOWED,!1));case 25:case"end":return Sn.stop()}},En,null,[[6,11]])}));return function(Vn){return wn.apply(this,arguments)}}(),ir=wn=>{qr.error("OT.Publisher.onPublishingTimeout");let En,Vn;Zp?(En=go.CHROME_MICROPHONE_ACQUISITION_ERROR,Vn="Unable to publish because your browser failed to get access to your microphone. You may need to fully quit and restart your browser to get it to work. See https://bugs.chromium.org/p/webrtc/issues/detail?id=4799 for more details."):(En=go.TIMEOUT,Vn="Could not publish in a reasonable amount of time");const qt={failureReason:"ICEWorkflow",failureCode:Wo.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to publish in a reasonable amount of time (timeout)"};_f("Failure",{},qt),Co.handleJsException({errorMsg:qt.failureReason,code:qt.failureCode,target:this,analytics:ba}),wn.isConnected()&&this.streamId&&wn._.streamDestroy(this.streamId),this.disconnect(),this.session=null,bs.isDestroyed()||bs.set("MediaBound"),this.trigger("publishComplete",Ho(En,new Error(Vn),Wo.UNABLE_TO_PUBLISH))},eo=wn=>{const En=Ho(go.MEDIA_ERR_DECODE,wn,Wo.UNABLE_TO_PUBLISH);En.message=`OT.Publisher while playing stream: ${En.message}`,qr.error("OT.Publisher.onVideoError:",En),Zo("stream",null,{reason:En.message});const Vn=bs.isAttemptingToPublish();bs.set("Failed"),Vn?this.trigger("publishComplete",En):this.trigger("error",En.message),Co.handleJsException({error:En,target:this,analytics:ba})};this._setWebRTCStream=wn=>{vo=wn},this._setCurrentVideoFilter=wn=>{Du=wn},this._getCurrentVideoFilter=()=>Du,this._getMediaProcessor=()=>_s,this._removePeerConnection=wn=>{var En;if(!wn)return;const Vn=_c(wn),qt=Vn.peerConnectionId;delete na[qt],wn.destroy(),(En=xm)==null||En.onPeerConnectionDisconnected()},this._removeSubscriber=wn=>{this.session.sessionInfo.isAdaptiveEnabled&&Ul==="P2P"&&this._.startRelayedToRoutedTransition(),ku(wn).then(Vn=>{Vn.forEach(qt=>this._removePeerConnection(qt))})};const no=wn=>{const En=_c(wn),Vn=En.remoteSubscriberId,qt=En.peerConnectionId;qr.debug("Subscriber has been disconnected from the Publisher's PeerConnection"),Zo("disconnect","PeerConnection",{subscriberConnection:qt}),this._removeSubscriber(Vn)},po=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn,qt){var gn,Sn,Dn,Un,sr,ur,or,Do,ro,Yr,Ds;return it.default.wrap(function(To){for(;;)switch(To.prev=To.next){case 0:if(gn=qt.reason,Sn=qt.prefix,Dn=ts.session&&ts.session.sessionInfo,!(Sn==="ICEWorkflow"&&Dn&&Dn.reconnection&&Bu)){To.next=5;break}return qr.debug("Ignoring peer connection failure due to possibility of reconnection."),To.abrupt("return");case 5:return Un=_c(Vn)||{},sr=Un.remoteConnectionId,ur=sr===void 0?"(not found)":sr,or=Un.peerConnectionId,Do=So(void 0,gn,Sn,ur,"Publisher"),ro={hasRelayCandidates:Vn&&Vn.hasRelayCandidates()},Yr={failureReason:Sn||"PeerConnectionError",failureCode:Do.code,failureMessage:Do.message},bs.isPublishing()?Yr.reason="Non-fatal":ts.trigger("publishComplete",Do),_f("Failure",ro,Yr),Co.handleJsException({errorMsg:`OT.Publisher PeerConnection Error: ${gn}`,code:Do.code,target:ts,analytics:ba}),To.next=14,na[or];case 14:Ds=To.sent,Ds.destroy(),delete na[or];case 17:case"end":return To.stop()}},En)}));return function(Vn,qt){return wn.apply(this,arguments)}}(),uo=wn=>this.session.sessionInfo.isAdaptiveEnabled&&wn.getSourceStreamId()==="P2P",pu=wn=>{const En=_c(wn),Vn=En.remoteConnectionId;nm("Success",{remoteConnectionId:Vn})},No=wn=>{const En=_c(wn),Vn=En.remoteConnectionId;nm("Failure",{reason:"ICEWorkflow",message:"OT.Publisher PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",remoteConnectionId:Vn})},Nl=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn,qt){var gn,Sn,Dn,Un,sr,ur,or;return it.default.wrap(function(ro){for(;;)switch(ro.prev=ro.next){case 0:if(gn=ts.session.sessionInfo.isAdaptiveEnabled,Sn=qt.getSourceStreamId(),Ir[Sn]=Vn,Vn==="disconnected"&&setTimeout(()=>{const Yr=ts.session._.isSocketReconnecting,hu=ts.session._.getSocket().is("connected")&&!Yr();if(Ir[Sn]==="disconnected"&&hu){const To=_c(qt),Bl=To.remoteConnectionId;nm("Attempt",{remoteConnectionId:Bl}),qt.iceRestart()}},2e3),Vn!=="connected"){ro.next=14;break}if(clearTimeout(Zr),!gn){ro.next=14;break}return ro.next=9,im();case 9:return Dn=ro.sent.iceConnectionStateIsConnected(),ro.next=12,Jp();case 12:Un=ro.sent.iceConnectionStateIsConnected(),Dn&&Un&&lm();case 14:if(Vn!=="failed"){ro.next=21;break}if(sr=ts.session._.isSocketReconnecting,ur=ts.session._.getSocket(),or=ur.is("connected")&&!sr(),or){ro.next=20;break}return ro.abrupt("return");case 20:gn&&Sn===Ul&&Sn==="P2P"?ts._.startRelayedToRoutedTransition():Zr=setTimeout(()=>{ts.session._.streamDestroy(ts.streamId,Sn)},ko);case 21:case"end":return ro.stop()}},En)}));return function(Vn,qt){return wn.apply(this,arguments)}}(),Fp=wn=>{wn.setP2PMaxBitrate(),wn.startEncryption(this.session.connection.id),uo(wn)&&Mp("Success")},Eu=wn=>{if(bs.current!=="PublishingToSession")throw new Error("assignStream called when publisher is not successfully publishing");_d.releaseAll(),this.stream=wn,this.stream.on("destroyed",this.disconnect,this),_d.add(()=>{this.stream&&this.stream.off("destroyed",this.disconnect,this)}),bs.set("Publishing"),zo.loading(!Bu),Ou=new Date,this.dispatchEvent(new $r.StreamEvent("streamCreated",wn,null,!1)),_f("Success"),this.trigger("publishComplete",null,this)},Dp=wn=>{let En=wn.peerConnectionId,Vn=wn.send,qt=wn.log,gn=wn.logQoS,Sn=wn.sourceStreamId;if(cp(En))return nt.reject(new Error("PeerConnection already exists"));const Dn=so({isChromiumEdge:es.env.isChromiumEdge,browserName:es.env.name,isScreenSharing:Fl,isCustomVideoTrack:qo,sessionInfo:this.session.sessionInfo,constraints:to.constraints,videoDimensions:fm(),capableSimulcastScreenshare:to.capableSimulcastScreenshare,scalableVideo:to.scalableVideo});return na[En]=nt.all([this.session._.getIceConfig(),this.session._.getVideoCodecsCompatible(vo)]).then(Un=>{let sr=Un[0],ur=Un[1],or=vo;if(!ur){or=vo.clone();const ro=or.getVideoTracks(),Yr=ro[0];Yr&&(Yr.stop(),or.removeTrack(Yr))}const Do=new Is({iceConfig:sr,sendMessage:(ro,Yr)=>{ro==="offer"&&this.trigger("connected"),Vn(ro,Yr)},webRTCStream:or,channels:to.channels,capableSimulcastStreams:Dn,overrideSimulcastEnabled:du._enableSimulcast,logAnalyticsEvent:qt,offerOverrides:{enableDtx:to.enableDtx,enableStereo:to.enableStereo,audioBitrate:to.audioBitrate,priorityVideoCodec:to._priorityVideoCodec||this.session.sessionInfo.priorityVideoCodec,codecFlags:to._codecFlags||this.session._.getCodecFlags()},answerOverrides:this.session.sessionInfo.p2pEnabled?void 0:{audioBitrate:to.audioBitrate},sourceStreamId:Sn,isP2pEnabled:this.session.sessionInfo.p2pEnabled,sessionId:this.session.id,keyStore:this.session.keyStore,sFrameClientStore:this.session.sFrameClientStore,isE2ee:this.session._.isE2ee(),audioFallbackEnabled:to.publisherAudioFallbackEnabled,resolution:{width:this.videoWidth(),height:this.videoHeight()}});return Do.on({disconnected:()=>no(Do),error:ro=>{let Yr=ro.reason,Ds=ro.prefix;return po(Do,{reason:Yr,prefix:Ds})},qos:gn,iceRestartSuccess:()=>pu(Do),iceRestartFailure:()=>No(Do),iceConnectionStateChange:ro=>Nl(ro,Do),audioAcquisitionProblem:()=>{Zp=!0,this.trigger("audioAcquisitionProblem",{method:"getStats"})},audioFallbackStateChange:ro=>xm.onPeerConnectionStateChange(Object.assign({},ro,{peerConnection:Do,publishVideo:to.publishVideo,stream:this.stream,peerId:_c(Do).peerId}))}),Do.once("connected",()=>Fp(Do)),new nt((ro,Yr)=>{const Ds=hu=>{Yr(hu)};Do.once("error",Ds),Do.init(kp,hu=>{if(hu)return Yr(hu);Do.off("error",Ds),ro(Do)})})}),cp(En)},Au=()=>nt.all(Object.keys(na).map(cp)),ku=wn=>Au().then(En=>En.filter(Vn=>_c(Vn).remoteSubscriberId===wn)),cp=wn=>na[wn],Rp=wn=>{const En=Object.keys(na).find(Vn=>Vn.endsWith(`~${wn}`));return na[En]},im=()=>Rp("MANTIS"),Jp=()=>Rp("P2P");let Hl=jr(this,{name:to.name,publishAudio:to.publishAudio,publishVideo:to.publishVideo,audioSource:to.audioSource,showControls:to.showControls,shouldAllowAudio:hp,logAnalyticsEvent:Zo});const om=()=>{this.off("publishComplete",Zs),Hl&&Hl.reset(),_d.releaseAll(),this.disconnect(),Ap=null,Yu(),vo=null,zo&&(zo.destroy(),zo=null),this.session&&this._.unpublishFromSession(this.session,"reset"),_s.getVideoFilter()&&Wm(),this.id=null,this.stream=null,Bu=!1,this.session=null,bs.isDestroyed()||bs.set("NotPublishing")},cm=()=>{if(!vo||vo.getVideoTracks().length===0)return!1;const En=["text","detail"].includes(to.videoContentHint),Vn=qo&&En,qt=es.env.isChromium&&(Fl||Vn);return vo.getVideoTracks().reduce((gn,Sn)=>gn&&(!Sn.muted||!!qt)&&Sn.enabled&&Sn.readyState!=="ended",to.publishVideo)},Ip=()=>!vo||vo.getAudioTracks().length===0?!1:vo.getAudioTracks().length>0&&vo.getAudioTracks().reduce((wn,En)=>wn&&!En.muted&&En.enabled&&En.readyState!=="ended",to.publishAudio),Zs=wn=>{if(zo&&(zo.audioOnly(!cm()),zo.showPoster(!cm())),Hl&&Hl.setAudioOnly(!cm()&&Ip()),this.stream){let En;Go&&(En=lt.CongestionLevels.LOW,Go=!1),this.stream.setChannelActiveState("audio",Ip(),wn),this.stream.setChannelActiveState("video",cm(),wn,En)}else this.off("publishComplete",Zs),this.once("publishComplete",Zs)},hm=(wn,En)=>{let Vn=!1;if(typeof wn=="function"?En=wn:Vn=wn==="rtcStatsReport",Vn?ss():rm(),Vn&&!_n){const qt=Wo.GET_RTC_STATS_REPORT_NOT_SUPPORTED;En(Ho(go.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(Co.getTitleByCode(qt)),qt));return}Au().then(qt=>{if(qt.length===0){const gn=Wo.PEER_CONNECTION_NOT_CONNECTED;throw Ho(go.PEER_CONNECTION_NOT_CONNECTED,new Error(Co.getTitleByCode(gn)),gn)}return qt}).then(qt=>this.session.sessionInfo.isAdaptiveEnabled?qt.filter(Sn=>Sn.getSourceStreamId()===Ul):qt).then(qt=>nt.all(qt.map(gn=>$t(Vn?gn.getRtcStatsReport.bind(gn):gn.getStats.bind(gn))().then(Sn=>({pc:gn,stats:Sn}))))).then(qt=>{const gn=Ou?Ou.getTime():Date.now(),Sn=qt.map(Dn=>{let Un=Dn.pc,sr=Dn.stats;const ur=_c(Un),or=ur.remoteConnectionId,Do=ur.remoteSubscriberId;return pt(or.match(/^symphony\./)?{}:{subscriberId:Do,connectionId:or},Vn?{rtcStatsReport:sr}:{stats:Ht.normalizeStats(sr,!1,gn)})});En(null,Sn)}).catch(En)},Em=wn=>hm(wn),qm=wn=>hm("rtcStatsReport",wn),Fu=(wn,En)=>{const Vn={name:to.name||"",streamId:this.streamId,subscriberAudioFallbackEnabled:to.subscriberAudioFallbackEnabled,channels:Vs,minBitrate:to.minVideoBitrate,sourceStreamId:wn,e2ee:this.session._.isE2ee(),publisherAudioFallbackEnabled:to.publisherAudioFallbackEnabled,customProperties:{initials:to.initials}};this.session._.streamCreate(Vn,En)},Mm=wn=>{fp||(fp=!0,vo.getAudioTracks().forEach(function(){var En=(0,ot.default)(it.default.mark(function Vn(qt){var gn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return gn=qt.clone(),gn.enabled=!1,Dn.prev=2,Dn.next=5,wn.findAndReplaceTrack(qt,gn);case 5:Dn.next=10;break;case 7:return Dn.prev=7,Dn.t0=Dn.catch(2),Dn.abrupt("return");case 10:ip[qt.id]=gn;case 11:case"end":return Dn.stop()}},Vn,null,[[2,7]])}));return function(Vn){return En.apply(this,arguments)}}()))},Cm=wn=>{vo.getAudioTracks().forEach(function(){var En=(0,ot.default)(it.default.mark(function Vn(qt){return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return Sn.prev=0,Sn.next=3,wn.findAndReplaceTrack(ip[qt.id],qt);case 3:Sn.next=8;break;case 5:return Sn.prev=5,Sn.t0=Sn.catch(0),Sn.abrupt("return");case 8:delete ip[qt.id];case 9:case"end":return Sn.stop()}},Vn,null,[[0,5]])}));return function(Vn){return En.apply(this,arguments)}}()),fp=!1},lm=function(){var wn=(0,ot.default)(it.default.mark(function En(){var Vn;return it.default.wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:return Qn=!1,gn.next=3,im();case 3:if(Vn=gn.sent,!Vn){gn.next=17;break}return ts.trigger("sourceStreamIdChanged","P2P"),gn.next=8,mn(wr);case 8:if(!Qn){gn.next=11;break}return qr.debug("Cancelling stop sending RTP to MANTIS."),gn.abrupt("return");case 11:return Mm(Vn),gn.next=14,Vn.changeMediaDirectionToInactive();case 14:if(!(es.env.isFirefox&&es.env.version<96)){gn.next=17;break}return gn.next=17,mm();case 17:case"end":return gn.stop()}},En)}));return function(){return wn.apply(this,arguments)}}(),Pm=function(){var wn=(0,ot.default)(it.default.mark(function En(){var Vn;return it.default.wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:return Qn=!0,gn.next=3,im();case 3:if(Vn=gn.sent,!Vn){gn.next=10;break}return Cm(Vn),gn.next=8,Vn.changeMediaDirectionToRecvOnly();case 8:Wp&&clearTimeout(Wp),ts.trigger("sourceStreamIdChanged","MANTIS");case 10:case"end":return gn.stop()}},En)}));return function(){return wn.apply(this,arguments)}}(),mm=function(){var wn=(0,ot.default)(it.default.mark(function En(){var Vn;return it.default.wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:return gn.next=2,im();case 2:Vn=gn.sent,Vn&&(Wp=setTimeout((0,ot.default)(it.default.mark(function Sn(){return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(Ul!=="P2P"){Un.next=9;break}return Un.next=3,Vn.changeMediaDirectionToRecvOnly();case 3:return Un.next=5,mn(Bn);case 5:return Un.next=7,Vn.changeMediaDirectionToInactive();case 7:return Un.next=9,mm();case 9:case"end":return Un.stop()}},Sn)})),Gn));case 4:case"end":return gn.stop()}},En)}));return function(){return wn.apply(this,arguments)}}(),km=()=>{Mp("Attempt");const wn=Vn=>{const qt=vr(Vn);this.trigger("streamCreateForP2PComplete",qt),Mp("Failure",{reason:qt.message})};if(!this.session){Mp("Failure",{reason:"Not connected to the session."});return}const En=setTimeout(()=>{Mp("Failure",{reason:"Timeout"})},eu);this.once("streamCreateForP2PComplete",()=>{clearTimeout(En)}),qr.debug(`streamCreateWithSource: send a message to RUMOR for creating the stream with the sourceStreaId P2P and stream ${this.streamId}`),Fu("P2P",Vn=>{Vn?wn(Vn):this.trigger("streamCreateForP2PComplete")})},b1=function(){var wn=(0,ot.default)(it.default.mark(function En(){return it.default.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:if(Ul==="P2P"){qt.next=2;break}return qt.abrupt("return");case 2:if(Kp("Attempt"),ts.session){qt.next=6;break}return Kp("Failure",{reason:"Not connected to the session."}),qt.abrupt("return");case 6:if(ts.streamId){qt.next=9;break}return Kp("Failure",{reason:"No streamId available"}),qt.abrupt("return");case 9:return qt.next=11,Pm();case 11:return ts.session._.streamDestroy(ts.streamId,"P2P"),qt.t0=ts,qt.next=15,Jp();case 15:qt.t1=qt.sent,qt.t0._removePeerConnection.call(qt.t0,qt.t1),Kp("Success"),ts.trigger("streamDestroyForP2PComplete");case 19:case"end":return qt.stop()}},En)}));return function(){return wn.apply(this,arguments)}}();this.publish=wn=>(qr.debug("OT.Publisher: publish"),(bs.isAttemptingToPublish()||bs.isPublishing())&&om(),bs.set("GetUserMedia"),to.style&&this.setStyle(to.style,null,!0),to.classNames="OT_root OT_publisher",bo.onLoad(()=>{qr.debug("OT.Publisher: publish: environment loaded"),zo=new _u(wn,Object.assign({},to,{widgetType:"publisher"})),hp&&Wn({publisher:this,widgetView:zo}),zo.on("error",eo),this.id=zo.domId(),this.element=zo.domElement,this.element&&Hl&&Hl.init(zo),zo.on("videoDimensionsChanged",(En,Vn)=>{to.publishVideo&&(this.stream&&this.stream.setVideoDimensions(Vn.width,Vn.height),this.dispatchEvent(new $r.VideoDimensionsChangedEvent(this,En,Vn)))}),zo.on("mediaStopped",En=>{const Vn=new $r.MediaStoppedEvent(this,En);if(this.dispatchEvent(Vn),!Vn.isDefaultPrevented()){if(En){const qt=String(En.kind).toLowerCase();qt==="audio"?Tm():qt==="video"?Vm():qr.warn(`Track with invalid kind has ended: ${En.kind}`);return}this.session?this._.unpublishFromSession(this.session,"mediaStopped"):this.destroy("mediaStopped")}}),zo.on("videoElementCreated",En=>{const Vn=new $r.VideoElementCreatedEvent(En);this.dispatchEvent(Vn)}),qp().catch(nu).then(function(){var En=(0,ot.default)(it.default.mark(function Vn(qt){var gn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return Lp=Su.audioDevices,Sp=Su.videoDevices,gn=!!to.videoFilter,gn&&(Lu=Sr(qt,Sp)),Dn.next=6,rr(qt);case 6:return to.publishVideo||ts._toggleVideo(to.publishVideo,fm()),!Fl&&!qo&&!gn&&(Lu=Sr(qt,Sp),to.publishVideo&&Im(Lu)),Dn.abrupt("return",Zn().catch(Un=>{if(!(Un instanceof Nt))throw Un}).then(()=>{pm(),bs.isDestroyed()||(ts.trigger("initSuccess"),ts.trigger("loaded",ts))},Un=>{qr.error(`OT.Publisher.publish failed to bind video: ${Un}`),xp(Un)}));case 9:case"end":return Dn.stop()}},Vn)}));return function(Vn){return En.apply(this,arguments)}}())}),this),this._setScalableValues=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn,qt){var gn,Sn,Dn;return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.next=2,Au().then(ur=>ur[0].getSenders().filter(or=>or.track.kind==="video"));case 2:return gn=sr.sent,Sn=gn[0],Dn=Sn.getParameters(),Dn.encodings.forEach((ur,or)=>{ur[Vn]=qt[or]}),sr.next=8,Sn.setParameters(Dn);case 8:case"end":return sr.stop()}},En)}));return function(En,Vn){return wn.apply(this,arguments)}}(),this._setScalableFramerates=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt;return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:if(qt=Lm(Vn),!(qt&&s1(qt))){Sn.next=4;break}return Sn.next=4,ts._setScalableValues("maxFramerate",qt);case 4:case"end":return Sn.stop()}},En)}));return function(En){return wn.apply(this,arguments)}}(),this._setScalableVideoLayers=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt;return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:if(qt=Lm(Vn),!(qt&&a1(qt))){Sn.next=4;break}return Sn.next=4,ts._setScalableValues("scaleResolutionDownBy",qt);case 4:case"end":return Sn.stop()}},En)}));return function(En){return wn.apply(this,arguments)}}();const s1=wn=>{let En=0;return wn.every(Vn=>Vn!==15&&Vn!==30||Vn<En?!1:(En=Vn,!0))},a1=wn=>{let En=17;return wn.every(Vn=>Vn<1||Vn>=En?!1:(En=Vn,!0))},Lm=wn=>{let En;if(typeof wn!="string")return En;const Vn=wn.split(":");return Vn.length===0||Vn.length>3||!Vn.every(qt=>!isNaN(qt))||(En=Vn.map(qt=>parseInt(qt,10)).reverse()),En},um=wn=>vo&&vo[`get${Zt(wn)}Tracks`]().length>0&&vo[`get${Zt(wn)}Tracks`]().every(En=>En.readyState!=="ended"),Tm=wn=>{const En=um("audio")&&to.publishAudio;Hl&&Hl.setMuted(!En),Ap&&Ap.muted(!En),Pn&&Pn.originalTrack&&(Pn.originalTrack.enabled=En),Zs(wn)};this.publishAudio=wn=>{Zo("publishAudio","Attempt",{publishAudio:wn}),to.publishAudio=wn;try{Tm(),Zo("publishAudio","Success",{publishAudio:wn})}catch(En){Zo("publishAudio","Failure",{message:En.message})}return this},this.publishCaptions=wn=>{Zo("publishCaptions","Attempt");try{Wl.dispatchEvent(new $r.PublisherCaptionsEnabled(wn)),this.stream.setChannelActiveState("data",wn),Zo("publishCaptions","Success")}catch(En){Zo("publishCaptions","Failure",{message:En.message})}};let dm,sm=!1;const Vm=()=>{const wn=um("video")&&to.publishVideo;if(Mt.name==="Chrome"&&Mt.version>=69&&(0,ot.default)(it.default.mark(function En(){var Vn,qt;return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return dm&&dm.cancel(),dm=new Lt,Vn=dm,Sn.next=5,Au();case 5:qt=Sn.sent,Vn.isCanceled()||qt.forEach(Dn=>{qs(Dn,wn)});case 7:case"end":return Sn.stop()}},En)}))(),qo&&_s){const En=_s.getOriginalVideoTrack();En&&(En.enabled=wn)}if(qo&&An){const En=An.originalTrack;En&&(En.enabled=wn)}vo&&vo.getVideoTracks().forEach(En=>{En.enabled=wn,En.isCreatedCanvas&&(En.enabled=!1)}),Zs()},Wm=function(){var wn=(0,ot.default)(it.default.mark(function En(){var Vn;return it.default.wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:return Vn=_s.getOriginalVideoTrack(),gn.prev=1,gn.next=4,_s.destroy();case 4:gn.next=9;break;case 6:gn.prev=6,gn.t0=gn.catch(1),qr.warn(`Error cleaning up mediaProcessor: ${gn.t0}`);case 9:Vn.stop();case 10:case"end":return gn.stop()}},En,null,[[1,6]])}));return function(){return wn.apply(this,arguments)}}(),Gm=wn=>!Du&&!An&&wn===d1(),c1=(wn,En)=>Du||An?!0:wn?Lu!==En:En!==void 0;let Lu,Du;this._toggleVideo=pn(function(){var wn=(0,ot.default)(it.default.mark(function En(Vn,qt){var gn,Sn,Dn,Un,sr,ur,or,Do;return it.default.wrap(function(Yr){for(;;)switch(Yr.prev=Yr.next){case 0:if(!(Fl||qo||sm)){Yr.next=2;break}return Yr.abrupt("return");case 2:return Yr.next=4,Nm();case 4:if(Sn=Yr.sent,Dn=Zm(),Dn){Yr.next=8;break}throw Ho(go.NOT_SUPPORTED,new Error("Publisher._toggleVideo cannot toggleVideo when you have no video source."));case 8:if(Un=(gn=Sn.find(Ds=>Ds.label===Dn.label))==null?void 0:gn.deviceId,c1(Vn,Un)){Yr.next=11;break}return Yr.abrupt("return");case 11:if(Dn.readyState!=="ended"){Yr.next=14;break}return sm=!0,Yr.abrupt("return");case 14:if(Vn&&es.env.isAndroid&&es.env.isChrome&&Dn&&Dn.stop&&Dn.stop(),Vn){Yr.next=31;break}Yr.prev=16,sr=cr(qt),Yr.next=23;break;case 20:return Yr.prev=20,Yr.t0=Yr.catch(16),Yr.abrupt("return");case 23:if(Un&&(Lu=Un),Im(sr.label),ur=_s.getVideoFilter(),!ur){Yr.next=30;break}return Du=ur,Yr.next=30,Wm();case 30:An&&(An.destroy(),An.stopOriginalTrack());case 31:if(!(Lu&&Sn.findIndex(Ds=>Ds.deviceId===Lu)===-1)){Yr.next=33;break}throw Ho(go.NO_DEVICES_FOUND,new Error("Previous device no longer available - deviceId not found"));case 33:if(Wl.emit("streamDestroy"),!Vn){Yr.next=64;break}if(!Gm(Lu)){Yr.next=37;break}return Yr.abrupt("return");case 37:return Yr.prev=37,Yr.next=40,Rm(Lu);case 40:sr=Yr.sent,Yr.next=47;break;case 43:throw Yr.prev=43,Yr.t1=Yr.catch(37),qr.error(`Error getting new track for current device(${Lu}): ${Yr.t1}`),Yr.t1;case 47:if(sr){Yr.next=50;break}return qr.error("Failed to enable video. It was not possible to get a new track from the camera"),Yr.abrupt("return");case 50:if(!Du){Yr.next=59;break}return or=_s.getOriginalVideoTrack(),Yr.next=54,_s.setVideoFilter(Du);case 54:return Yr.next=56,_s.setMediaStream(vo);case 56:return Yr.next=58,_s.setVideoTrack(sr);case 58:sr=Yr.sent;case 59:if(!An){Yr.next=64;break}return or=An.originalTrack,Yr.next=63,An.setTrack(sr);case 63:sr=Yr.sent;case 64:return Yr.prev=64,Yr.next=67,gm(Dn,sr);case 67:(Do=or)==null||Do.stop(),Yr.next=73;break;case 70:throw Yr.prev=70,Yr.t2=Yr.catch(64),Yr.t2;case 73:case"end":return Yr.stop()}},En,null,[[16,20],[37,43],[64,70]])}));return function(En,Vn){return wn.apply(this,arguments)}}());const Fm=()=>{var wn,En;xm.reset(),(wn=Hl)==null||wn.videoDisabledIndicator.disableVideo(!1),(En=Hl)==null||En.videoDisabledIndicator.setWarning(!1)},S1=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt,gn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:(qt=Hl)==null||qt.videoDisabledIndicator.disableVideo(!1),(gn=Hl)==null||gn.videoDisabledIndicator.setWarning(!1),Vn===ct.default.SUSPENDED_VIDEO?ts.trigger("videoEnabled",{reason:"quality"}):ts.trigger("videoDisableWarningLifted");case 3:case"end":return Dn.stop()}},En)}));return function(Vn){return wn.apply(this,arguments)}}(),l1=()=>{if(to.publishVideo){var wn;(wn=Hl)==null||wn.videoDisabledIndicator.setWarning(!0)}this.trigger("videoDisableWarning")},u1=function(){var wn=(0,ot.default)(it.default.mark(function En(){var Vn;return it.default.wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:to.publishVideo&&((Vn=Hl)==null||Vn.videoDisabledIndicator.disableVideo(!0)),ts.trigger("videoDisabled",{reason:"quality"});case 2:case"end":return gn.stop()}},En)}));return function(){return wn.apply(this,arguments)}}();let xm;if(to.publisherAudioFallbackEnabled){xm=Ar({getAllPeerConnections:Au});const wn={[ct.default.ACTIVE_VIDEO]:S1,[ct.default.ACTIVE_VIDEO_WITH_WARNING]:l1,[ct.default.SUSPENDED_VIDEO]:u1};xm.on("stateChange",En=>{let Vn=En.previousState,qt=En.state;try{wn[qt](Vn)}catch(gn){throw qr.error(`Audio fallback error: ${gn}`),gn}})}this.publishVideo=wn=>{if(to.publishVideo===wn)return this;Zo("publishVideo","Attempt",{publishVideo:wn});const En=fm();to.publishVideo=wn,to.publisherAudioFallbackEnabled&&(Fm(),Go=!0);try{this._toggleVideo(to.publishVideo,En),Vm(),Zo("publishVideo","Success",{publishVideo:wn})}catch(Vn){Zo("publishVideo","Failure",{message:Vn.message})}return this},this.setVideoContentHint=wn=>Lr(vo,wn),this.getVideoContentHint=()=>Ur(vo),this.destroy=function(wn,En){return bs.isAttemptingToPublish()&&this.session&&_f("Cancel",{reason:"destroy"}),bs.isDestroyed()?this:(bs.set("Destroyed"),om(),Su&&(Su.off(),Su=null),Hl&&(Hl.destroy(),Hl=null),Wl&&(Wl.off(),Wl=null),En!==!0&&this.dispatchEvent(new $r.DestroyedEvent(rn.PUBLISHER_DESTROYED,this,wn)),this.off(),An&&(An.destroy(),An.stopOriginalTrack()),Pn&&(Pn.destroy(),Pn.stopOriginalTrack()),this)},this.disconnect=()=>{Object.keys(na).forEach(wn=>{const En=cp(wn);delete na[wn],En.then(Vn=>this._removePeerConnection(Vn))}),Vs.length=0},this.processMessage=(wn,En,Vn)=>{const qt=ut(Vn,"params.subscriber",En).replace(/^INVALID-STREAM$/,En),gn=ut(Vn,"content.peerId"),Sn=ut(Vn,"content.sourceStreamId","MANTIS"),Dn=`${qt}~${gn}~${Sn}`;qr.debug(`OT.Publisher.processMessage: Received ${wn} from ${En} for ${Dn}`),qr.debug(Vn);const Un=cp(Dn),sr=()=>{const or=_r({socket:this.session._.getSocket(),uri:Vn.uri,content:{peerId:gn,sourceStreamId:Sn}});Dp({peerConnectionId:Dn,send:or,log:function(Ds,hu,To,Bl,vm){Bl===void 0&&(Bl={});const Om=Object.assign({peerId:gn,sourceStreamId:co(Sn)},Bl);return Zo(Ds,hu,To,Om,vm)},logQoS:Yr=>{Sn===Ul&&Io(Object.assign({},Yr,{peerId:gn,remoteConnectionId:En,sourceStreamId:Sn}))},sourceStreamId:Sn}).then(Yr=>(rp(Yr,{remoteConnectionId:En,remoteSubscriberId:qt,peerId:gn,sourceStreamId:Sn,peerConnectionId:Dn}),Yr.processMessage(wn,Vn),null)).catch(Yr=>{qr.error("OT.Publisher failed to create a peerConnection",Yr)})},ur=this.session.sessionInfo.isAdaptiveEnabled;switch(wn){case"unsubscribe":this._removeSubscriber(qt);break;default:if(Un)Un.then(or=>or.processMessage(wn,Vn));else{if(ur&&Jp())return;sr()}break}},this.getImgData=function(){if(!Bu)return qr.error("OT.Publisher.getImgData: Cannot getImgData before the Publisher is publishing."),null;const wn=zo&&zo.video();return wn?wn.imgData():null};const E1=wn=>{Yu(),vo=wn,Wl.emit("streamChange"),Ap=new Iu(vo,!to.publishAudio)},C1=wn=>{wn.getSenders().forEach(En=>{if(En.track.kind==="audio"&&vo.getAudioTracks().length)return En.replaceTrack(vo.getAudioTracks()[0]);if(En.track.kind==="video"&&vo.getVideoTracks().length)return En.replaceTrack(vo.getVideoTracks()[0])})},T1=function(En){return En===void 0&&(En=C1),Au().then(Vn=>{const qt=[];return Vn.map(En),nt.all(qt)})};{let wn=0;const En=function(){var Vn=(0,ot.default)(it.default.mark(function qt(){var gn,Sn,Dn,Un,sr;return it.default.wrap(function(or){for(;;)switch(or.prev=or.next){case 0:if(!(es.env.isLegacyEdge||!qu.RTCRtpSender||typeof qu.RTCRtpSender.prototype.replaceTrack!="function")){or.next=2;break}throw Ho(go.UNSUPPORTED_BROWSER,new Error("Publisher#cycleVideo is not supported in your browser."),Wo.UNABLE_TO_PUBLISH);case 2:if(!(qo||Fl)){or.next=4;break}throw Ho(go.NOT_SUPPORTED,new Error("Publisher#cycleVideo: The publisher is not using a camera video source"));case 4:if(gn=Zm(),gn){or.next=7;break}throw Ho(go.NOT_SUPPORTED,new Error("Publisher#cycleVideo cannot cycleVideo when you have no video source."));case 7:return wn+=1,or.next=10,Nm();case 10:if(Sn=or.sent,Dn=Sn.filter(Do=>Do.deviceId!==Lu).length>0,Dn){or.next=14;break}return or.abrupt("return",Lu);case 14:for(;Sn[wn%Sn.length].deviceId===Lu;)wn+=1;return Wl.emit("streamDestroy"),Un=Sn[wn%Sn.length],sr=Un.deviceId,or.next=20,p1(sr);case 20:return or.abrupt("return",Lu);case 21:case"end":return or.stop()}},qt)}));return function(){return Vn.apply(this,arguments)}}();this.cycleVideo=pn((0,ot.default)(it.default.mark(function Vn(){var qt;return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return Sn.prev=0,Sn.next=3,En();case 3:qt=Sn.sent,Sn.next=10;break;case 6:throw Sn.prev=6,Sn.t0=Sn.catch(0),qr.error(`Publisher#cycleVideo: could not cycle video: ${Sn.t0}`),Sn.t0;case 10:return Sn.abrupt("return",{deviceId:qt});case 11:case"end":return Sn.stop()}},Vn,null,[[0,6]])})))}const gm=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn,qt){var gn,Sn,Dn;return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.next=2,Au();case 2:return gn=sr.sent,sr.next=5,nt.all(gn.map(function(){var ur=(0,ot.default)(it.default.mark(function or(Do){return it.default.wrap(function(Yr){for(;;)switch(Yr.prev=Yr.next){case 0:return Yr.next=2,Do.findAndReplaceTrack(Vn,qt);case 2:Do.setP2PMaxBitrate();case 3:case"end":return Yr.stop()}},or)}));return function(or){return ur.apply(this,arguments)}}()));case 5:if(vo.removeTrack(Vn),vo.addTrack(qt),Vn&&Vn.stop){try{Sn=qt instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(qt).toString().includes("MediaStreamTrackGenerator")}catch{Sn=!1}Sn||Vn.stop()}(es.env.name==="Firefox"||es.env.name==="Safari")&&(ts.videoElement().srcObject=null,ts.videoElement().srcObject=vo),Dn=zo&&zo.video(),Dn&&Dn.refreshTracks(),Wl.emit("streamChange"),Vm();case 13:case"end":return sr.stop()}},En)}));return function(Vn,qt){return wn.apply(this,arguments)}}(),Rm=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt,gn,Sn,Dn,Un,sr,ur,or;return it.default.wrap(function(ro){for(;;)switch(ro.prev=ro.next){case 0:return gn=d1(),Im(Vn),Sn=bt(du),Sn.audioSource=null,Sn.videoSource=Vn,Su=Qs(Sn,"OT.Publisher.getTrackFromDeviceId",()=>bs&&bs.isDestroyed()),Su.on({accessDialogOpened:Tp,accessDialogClosed:sp}),Dn=Su,Un=Dn.getUserMedia,ro.prev=8,ro.next=11,Un();case 11:sr=ro.sent,ro.next=18;break;case 14:throw ro.prev=14,ro.t0=ro.catch(8),qr.error(ro.t0),ro.t0;case 18:return ur=(qt=sr)==null?void 0:qt.getVideoTracks(),or=ur[0],or||Im(gn),ro.abrupt("return",or);case 21:case"end":return ro.stop()}},En,null,[[8,14]])}));return function(Vn){return wn.apply(this,arguments)}}(),Zm=()=>vo.getVideoTracks()[0],d1=()=>fu,Im=wn=>{fu=wn},Nm=function(){var wn=(0,ot.default)(it.default.mark(function En(){var Vn,qt;return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return Sn.next=2,mo.shouldAskForDevices();case 2:if(Vn=Sn.sent,qt=Vn.videoDevices,!(!Vn.video||!qt||!qt.length)){Sn.next=6;break}throw Ho(go.NO_DEVICES_FOUND,new Error("No video devices available"),Wo.UNABLE_TO_PUBLISH);case 6:return Sn.abrupt("return",qt);case 7:case"end":return Sn.stop()}},En)}));return function(){return wn.apply(this,arguments)}}(),wm=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn,qt){var gn,Sn,Dn;return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.next=2,Au();case 2:return gn=sr.sent,sr.next=5,nt.all(gn.map(ur=>ur.findAndReplaceTrack(Vn,qt)));case 5:qt&&vo.addTrack(qt),Vn&&vo.removeTrack(Vn),Sn=zo&&zo.video(),Sn&&Sn.refreshTracks(),Hl&&(qt&&!Vn&&Hl.addAudioTrack(),Vn&&!qt&&Hl.removeAudioTrack());try{Dn=qt instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(qt).toString().includes("MediaStreamTrackGenerator")}catch{Dn=!1}Vn&&Vn.stop&&!Dn&&Vn.stop(),qt&&(Tm(),Ap=new Iu(vo,!to.publishAudio)),Wl.emit("streamChange"),Zs();case 15:case"end":return sr.stop()}},En)}));return function(Vn,qt){return wn.apply(this,arguments)}}(),Dm=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt,gn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return qt=Vn.getSettings().deviceId,Dn.prev=1,Dn.next=4,ts.setAudioSource(qt);case 4:gn=vo.getAudioTracks()[0],gn&&(gn.onmute=()=>Xm(gn),gn.onunmute=()=>jm(gn)),Dn.next=11;break;case 8:Dn.prev=8,Dn.t0=Dn.catch(1),qr.error(Dn.t0);case 11:case"end":return Dn.stop()}},En,null,[[1,8]])}));return function(Vn){return wn.apply(this,arguments)}}(),Xm=wn=>{let En=!1;to.publishVideo&&document.hidden&&(En=!0,this.publishVideo(!1));const Vn=function(){var qt=(0,ot.default)(it.default.mark(function gn(){return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(document.hidden){Dn.next=5;break}return Dn.next=3,Dm(wn);case 3:En&&ts.publishVideo(!0),document.removeEventListener("visibilitychange",Vn);case 5:case"end":return Dn.stop()}},gn)}));return function(){return qt.apply(this,arguments)}}();document.addEventListener("visibilitychange",Vn)},jm=wn=>{var En;Ip()&&(cm()?this.videoElement().pause():Dm(wn)),this==null||(En=this.session)==null||En.trigger("gsmCallEnded")},Um=!(es.env.isLegacyEdge||!qu.RTCRtpSender||typeof qu.RTCRtpSender.prototype.replaceTrack!="function"),x1=()=>Ho(go.UNSUPPORTED_BROWSER,new Error("Publisher#setAudioSource is not supported in your browser.")),Hm=()=>Ho(go.CANCEL,new Error("Operation did not succeed due to a new request."));let Bm;const f1=()=>(Bm&&Bm.cancel(),Bm=new Lt,Bm),_g=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt,gn,Sn,Dn,Un,sr,ur,or,Do,ro,Yr,Ds;return it.default.wrap(function(To){for(;;)switch(To.prev=To.next){case 0:if(Um){To.next=2;break}throw x1();case 2:if(qt=f1(),gn=Bl=>{if(qt.isCanceled())throw Bl.getTracks(vm=>vm.stop()),Hm();return _g(Bl.getAudioTracks()[0])},Sn=ts.getAudioSource(),Sn){To.next=7;break}throw Ho(go.NOT_SUPPORTED,new Error("Publisher#setAudioSource cannot add an audio source when you started without one."));case 7:if(!(Vn instanceof MediaStreamTrack)){To.next=26;break}if(!qt.isCanceled()){To.next=10;break}throw Hm();case 10:if(!Pn){To.next=23;break}return To.prev=11,To.next=14,Pn.setTrack(Vn);case 14:return Dn=To.sent,To.next=17,wm(Sn,Dn);case 17:return To.abrupt("return",To.sent);case 20:To.prev=20,To.t0=To.catch(11),qr.error(`Error setting track on audioMediaProcessorConnector: ${To.t0}`);case 23:return To.abrupt("return",wm(Sn,Vn));case 26:if(typeof Vn!="string"){To.next=73;break}return Un=bt(du),Un.audioSource=Vn,Un.videoSource=null,Su=Qs(Un,"OT.Publisher.setAudioSource",()=>qt.isCanceled()||bs&&bs.isDestroyed()),Su.on({accessDialogOpened:Tp,accessDialogClosed:sp}),sr=Sn.label,ur=Sn.getConstraints&&Sn.getSettings().deviceId||void 0,Sn&&Sn.stop(),or=Su,Do=or.getUserMedia,To.prev=36,To.t1=gn,To.next=40,Do();case 40:return To.t2=To.sent,To.next=43,(0,To.t1)(To.t2);case 43:return To.abrupt("return",To.sent);case 46:if(To.prev=46,To.t3=To.catch(36),!qt.isCanceled()){To.next=50;break}throw Hm();case 50:if(ro=bt(du),ro.videoSource=null,ro.audioSource=ur,!(!ro.audioSource&&sr)){To.next=60;break}return To.next=56,Jn();case 56:if(Yr=To.sent.find(Bl=>Bl.label===sr),!qt.isCanceled()){To.next=59;break}throw Hm();case 59:Yr&&(ro.audioSource=Yr.deviceId);case 60:if(ro.audioSource){To.next=63;break}throw To.t3.message+=" (could not determine previous audio device)",Ho(go.NOT_FOUND,To.t3);case 63:return Su=Qs(ro,"OT.Publisher.setAudioSource",()=>qt.isCanceled()||bs&&bs.isDestroyed()),To.next=66,Su.getUserMedia().catch(Bl=>{throw Bl.message+=" (could not obtain previous audio device)",Bl});case 66:return Ds=To.sent,To.next=69,gn(Ds);case 69:throw To.t3.message+=" (reverted to previous audio device)",To.t3;case 71:To.next=74;break;case 73:throw Ho(go.INVALID_PARAMETER,new Error("Invalid parameter passed to OT.Publisher.setAudioSource(). Expected string or MediaStreamTrack."));case 74:case"end":return To.stop()}},En,null,[[11,20],[36,46]])}));return function(Vn){return wn.apply(this,arguments)}}();this.setAudioSource=_g,this.getAudioSource=()=>vo&&vo.getAudioTracks().length>0?vo.getAudioTracks()[0]:null;const e1=function(){var wn=(0,ot.default)(it.default.mark(function Vn(qt){var gn,Sn,Dn,Un,sr;return it.default.wrap(function(or){for(;;)switch(or.prev=or.next){case 0:if(gn=Ho(go.INVALID_VIDEO_SOURCE,new Error("Invalid video source. Video source must be a valid video input deviceId"),1041),Sn=Ho(go.SET_VIDEO_SOURCE_FAILURE,new Error("You cannot reset the video source on a publisher that does not currently use a camera source."),1040),!(es.env.isLegacyEdge||!qu.RTCRtpSender||typeof qu.RTCRtpSender.prototype.replaceTrack!="function")){or.next=4;break}throw Ho(go.UNSUPPORTED_BROWSER,new Error("setVideoSource is not supported in your browser."),Wo.UNABLE_TO_PUBLISH);case 4:if(typeof qt=="string"){or.next=6;break}throw gn;case 6:if(Dn=!vo||vo.getVideoTracks().length===0,!(qo||Fl||Dn)){or.next=9;break}throw Sn;case 9:return or.next=11,Jn();case 11:if(Un=or.sent,sr=Un.find(Do=>Do.kind==="videoInput"&&Do.deviceId===qt),sr){or.next=15;break}throw gn;case 15:return or.next=17,p1(qt);case 17:case"end":return or.stop()}},Vn)}));function En(Vn){return wn.apply(this,arguments)}return En}();this.setVideoSource=e1;const p1=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt,gn,Sn,Dn,Un,sr;return it.default.wrap(function(or){for(;;)switch(or.prev=or.next){case 0:if(gn=Lu,Lu=Vn,to.publishVideo){or.next=4;break}return or.abrupt("return");case 4:if(Sn=Zm(),!(to.publishVideo&&es.env.isAndroid&&(es.env.isChrome||es.env.isFirefox))){or.next=12;break}if(!Du){or.next=11;break}return Dn=Du,or.next=10,Wm();case 10:Du=null;case 11:Sn&&Sn.stop&&Sn.stop();case 12:if(!Gm(Vn)){or.next=14;break}return or.abrupt("return");case 14:return or.prev=14,or.next=17,Rm(Vn);case 17:Un=or.sent,or.next=25;break;case 20:throw or.prev=20,or.t0=or.catch(14),Lu=gn,qr.error(or.t0),or.t0;case 25:if(Un){or.next=28;break}return qr.warn("Unable to aquire video track. Moving to next device."),or.abrupt("return");case 28:if(!Du){or.next=33;break}return sr=_s.getOriginalVideoTrack(),or.next=32,_s.setVideoTrack(Un);case 32:Un=or.sent;case 33:if(!An){or.next=38;break}return sr=An.originalTrack,or.next=37,An.setTrack(Un);case 37:Un=or.sent;case 38:return or.next=40,gm(Sn,Un);case 40:if(!Dn){or.next=43;break}return or.next=43,ts.applyVideoFilter(Dn);case 43:(qt=sr)==null||qt.stop(),to.publishVideo&&(sm=!1);case 45:case"end":return or.stop()}},En,null,[[14,20]])}));return function(Vn){return wn.apply(this,arguments)}}();this.getVideoSource=()=>{const wn={},En=!vo||vo.getVideoTracks().length===0;return wn.track=vo&&to.publishVideo&&vo.getVideoTracks()[0]||null,wn.deviceId=!Fl&&!qo&&Lu?Lu:null,qo?wn.type="custom":Fl?wn.type="screen":En?wn.type=null:wn.type="camera",wn},this._={privateEvents:Wl,setIceConfig(wn){return(0,ot.default)(it.default.mark(function En(){var Vn;return it.default.wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:return gn.next=2,Au();case 2:Vn=gn.sent,Vn.forEach(Sn=>Sn.setIceConfig(wn));case 4:case"end":return gn.stop()}},En)}))()},publishToSession:(wn,En)=>{En&&(ba=En),os=wn,this.session=wn;const Vn=It();tu=Vn,this.streamId=Vn,_f("Attempt",{dataChannels:to.channels,properties:dn(to)});const qt=new nt((Un,sr)=>{if(Bu){Un();return}this.once("initSuccess",Un),this.once("destroyed",ur=>{let or=ur.reason,Do="";or&&(Do=` Reason: ${or}`),sr(new Error(`Publisher destroyed before it finished loading.${Do}`))})});qr.debug("publishToSession: waiting for publishComplete, which is triggered by stream#created from rumor");const gn=new nt((Un,sr)=>{this.once("publishComplete",ur=>{if(ur){sr(ur);return}this._setScalableFramerates(to.scalableFramerates),this._setScalableVideoLayers(to.scalableVideoLayers),this.stream&&(this.stream.setChannelActiveState("audio",Ip()),this.stream.setChannelActiveState("video",cm())),qr.debug("publishToSession: got publishComplete"),Un()})}),Sn=Un=>{const sr=vr(Un);throw _f("Failure",{},{failureReason:"Publish",failureCode:sr.code,failureMessage:sr.message}),bs.isAttemptingToPublish()&&this.trigger("publishComplete",sr),Co.handleJsException({errorMsg:Un.message,code:sr.code,target:this,error:Un,analytics:ba}),sr};qr.debug("publishToSession: waiting for loaded");const Dn=qt.then(()=>wn._.getVideoCodecsCompatible(vo)).then(Un=>{if(qr.debug("publishToSession: loaded"),!this.session)return;const sr=setTimeout(()=>{ir(wn)},eu);this.once("publishComplete",()=>{clearTimeout(sr)}),bs.set("PublishingToSession");const ur=Un&&zo&&zo.video(),or=vo.getVideoTracks().length>0,Do=to.videoSource!==null&&to.videoSource!==!1;ur&&or&&Do&&Vs.push(new wu({id:"video1",type:"video",active:to.publishVideo,orientation:Bp.ROTATED_NORMAL,frameRate:to.frameRate,width:this.videoWidth(),height:this.videoHeight(),e2ee:wn._.isE2ee(),source:(()=>Fl?"screen":qo?"custom":"camera")(),fitMode:to.fitMode}));const ro=vo.getAudioTracks().length>0,Yr=to.audioSource!==null&&to.audioSource!==!1;return Yr&&ro&&Vs.push(new wu({id:"audio1",type:"audio",active:to.publishAudio})),Yr&&ro&&Vs.push(new wu({id:"caption1",type:"data",active:to.publishCaptions})),this._.streamChannels=Vs,qr.debug("publishToSession: creating rumor stream id"),new nt((Ds,hu)=>{Fu(null,(To,Bl,vm)=>{if(To){hu(Sn(To));return}Ds({streamId:Bl,message:vm})})})}).then(Un=>{if(Un===void 0)return;const sr=Un.streamId,ur=Un.message;if(qr.debug("publishToSession: rumor stream id created:",sr,"(this is different from stream#created, which requires media to actually be flowing for mantis sessions)"),sr!==Vn)throw new Error("streamId response does not match request");this.streamId=sr,kp=Hs(ur)}).catch(Un=>{throw this.trigger("publishComplete",Un),Un});return nt.all([Dn,gn])},unpublishFromSession:(wn,En)=>{if(!this.session||wn.id!==this.session.id){if(En==="unpublished"){const Vn=this.session&&this.session.id||"no session";qr.warn(`The publisher ${tm} is trying to unpublish from a session ${wn.id} it is not attached to (it is attached to ${Vn})`)}return this}if(wn.isConnected()&&(this.stream||bs.isAttemptingToPublish())&&wn._.streamDestroy(this.streamId),_d.releaseAll(),this.disconnect(),bs.isAttemptingToPublish()){_f("Cancel",{reason:"unpublish"});const Vn=()=>{switch(En){case"mediaStopped":return"The video element fired the ended event, indicating there is an issue with the media";case"unpublished":return"The publisher was unpublished before it could be published";case"reset":return"The publisher was reset";default:return`The publisher was destroyed due to ${En}`}},qt=new Error(Vn());this.trigger("publishComplete",Ho(En==="mediaStopped"?go.MEDIA_ENDED:go.CANCEL,qt))}return this.session=null,Zo("unpublish","Success"),this._.streamDestroyed(En),this},unpublishStreamFromSession:(wn,En,Vn)=>!tu||wn.id!==tu?(qr.warn(`The publisher ${tm} is trying to destroy a stream ${wn.id} that is not attached to it (it has ${tu||"no stream"} attached to it)`),this):this._.unpublishFromSession(En,Vn),streamDestroyed:wn=>{["reset"].indexOf(wn)<0&&(bs.isDestroyed()||bs.set("MediaBound"));const En=new $r.StreamEvent("streamDestroyed",this.stream,wn,!0);this.dispatchEventOnce(En,this.streamId),En.isDefaultPrevented()||this.destroy()},archivingStatus(wn){return Hl&&Hl.setArchivingStatus(wn),wn},webRtcStream(){return vo},switchTracks(){return(0,ot.default)(it.default.mark(function wn(){var En;return it.default.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return qt.prev=0,qt.next=3,qp().catch(nu);case 3:En=qt.sent,qt.next=10;break;case 6:throw qt.prev=6,qt.t0=qt.catch(0),qr.error(`OT.Publisher.switchTracks failed to getUserMedia: ${qt.t0}`),qt.t0;case 10:E1(En),qt.prev=11,Zn(),qt.next=21;break;case 15:if(qt.prev=15,qt.t1=qt.catch(11),!(qt.t1 instanceof Nt)){qt.next=19;break}return qt.abrupt("return");case 19:throw qr.error("Error while binding video",qt.t1),qt.t1;case 21:qt.prev=21,T1(),qt.next=29;break;case 25:throw qt.prev=25,qt.t2=qt.catch(21),qr.error("Error replacing tracks",qt.t2),qt.t2;case 29:case"end":return qt.stop()}},wn,null,[[0,6],[11,15],[21,25]])}))()},getDataChannel(wn,En,Vn){const qt=cp(Object.keys(na)[0]);if(!qt){Vn(new es.Error("Cannot create a DataChannel before there is a subscriber."));return}qt.then(gn=>{gn.getDataChannel(wn,En,Vn)})},iceRestart(wn){wn===void 0&&(wn=!1),Au().then(En=>{En.forEach(Vn=>{const qt=_c(Vn),gn=qt.remoteConnectionId;nm("Attempt",{remoteConnectionId:gn}),qr.debug("Publisher: ice restart attempt"),Vn.iceRestart(),wn&&Vn.generateOffer()})})},getState(){return bs},demoOnlyCycleVideo:this.cycleVideo,testOnlyGetFramesEncoded(){return(0,ot.default)(it.default.mark(function wn(){var En;return it.default.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return qt.next=2,Au();case 2:if(En=qt.sent,En.length){qt.next=5;break}throw new Error("No established PeerConnections yet");case 5:return qt.abrupt("return",En[0]._testOnlyGetFramesEncoded());case 6:case"end":return qt.stop()}},wn)}))()},onStreamAvailable:rr,startRoutedToRelayedTransition:()=>{Hu.startTransitionTo("P2P"),km()},startRelayedToRoutedTransition:()=>{Hu.startTransitionTo("MANTIS",()=>b1())},forceMuteAudio:function(){Zo("publishAudio","Attempt",{publishAudio:!1}),to.publishAudio=!1;try{Tm("auto"),this.dispatchEvent(new $r.MuteForcedEvent),Zo("publishAudio","Success",{publishAudio:!1})}catch(wn){Zo("publishAudio","Failure",{message:wn.message})}}.bind(this),setCongestionLevel:function(){var wn=(0,ot.default)(it.default.mark(function Vn(qt,gn){var Sn;return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(!xm){Un.next=15;break}if(!gn){Un.next=8;break}return Un.next=4,cp(gn);case 4:Un.t1=Un.sent,Un.t0=[Un.t1],Un.next=11;break;case 8:return Un.next=10,Au();case 10:Un.t0=Un.sent;case 11:Sn=Un.t0,Sn.forEach(sr=>{sr.setCongestionLevel(qt)}),Un.next=16;break;case 15:qr.warn("Audio Fallback is not enabled");case 16:case"end":return Un.stop()}},Vn)}));function En(Vn,qt){return wn.apply(this,arguments)}return En}()},this.detectDevices=function(){qr.warn("Publisher.detectDevices() is not implemented.")},this.detectMicActivity=function(){qr.warn("Publisher.detectMicActivity() is not implemented.")},this.getEchoCancellationMode=function(){return qr.warn("Publisher.getEchoCancellationMode() is not implemented."),"fullDuplex"},this.setMicrophoneGain=function(){qr.warn("Publisher.setMicrophoneGain() is not implemented.")},this.getMicrophoneGain=function(){return qr.warn("Publisher.getMicrophoneGain() is not implemented."),.5},this.setCamera=function(){qr.warn("Publisher.setCamera() is not implemented.")},this.setMicrophone=function(){qr.warn("Publisher.setMicrophone() is not implemented.")},this.guid=function(){return tm},this.videoElement=function(){const wn=zo&&zo.video();return wn?wn.domElement():null},this.setStream=Eu,this.isWebRTC=!0,this.isLoading=function(){return zo&&zo.loading()},this.videoWidth=()=>fm().width,this.videoHeight=()=>fm().height,this.getStats=function(En){Em((Vn,qt)=>{Vn?En(Vn):En(null,qt)})},this.getRtcStatsReport=()=>new nt((wn,En)=>{qm((Vn,qt)=>{Vn?En(Vn):wn(qt)})}),bs=new _a(Sm),this.accessAllowed=!1,this.applyVideoFilter=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt,gn,Sn,Dn,Un,sr;return it.default.wrap(function(or){for(;;)switch(or.prev=or.next){case 0:if(qt=Hr(Vn),Zo("applyVideoFilter","Attempt",{videoFilter:qt}),or.prev=2,!An){or.next=5;break}throw Ho(go.NOT_SUPPORTED,new Error("Cannot apply video filter when videoMediaProcessorConnector is set."));case 5:if(gn=lu.isSupported(),gn){or.next=8;break}throw Ho(go.NOT_SUPPORTED,new Error("Browser does not support video filters (Insertable Streams and Worker APIs are required)"));case 8:if(_s.isValidVideoFilter(Vn)){or.next=10;break}throw Ho(go.INVALID_PARAMETER,new Error("Video filter has invalid configuration"));case 10:if(vo){or.next=15;break}return Sn="Ignoring. No mediaStream",Zo("applyVideoFilter","Failure",{message:Sn}),qr.warn(Sn),or.abrupt("return");case 15:if(!Fl){or.next=17;break}throw Ho(go.INVALID_PARAMETER,new Error("Video filters can not be applied to screen share"));case 17:if(Gp(),to.publishVideo){or.next=22;break}return Du=Vn,Zo("applyVideoFilter","Success",{videoFilter:qt}),or.abrupt("return");case 22:if(!_s.getVideoFilter()){or.next=37;break}if(!_s.canUpdateVideoFilter(Vn.type)){or.next=35;break}return or.prev=24,or.next=27,_s.updateVideoFilter(Vn);case 27:return Du=Vn,Zo("applyVideoFilter","Success",{videoFilter:qt}),or.abrupt("return");case 32:or.prev=32,or.t0=or.catch(24),qr.warn(`Error updating video filter: ${or.t0}`);case 35:return or.next=37,ts.clearVideoFilter();case 37:if(Dn=vo.getVideoTracks(),Un=Dn[0],Un){or.next=43;break}return Sn="Ignoring. No video",Zo("applyVideoFilter","Failure",{message:Sn}),qr.warn(Sn),or.abrupt("return");case 43:return or.next=45,_s.setVideoFilter(Vn);case 45:return or.next=47,_s.setMediaStream(vo);case 47:if(sr=or.sent,!sr){or.next=51;break}return or.next=51,gm(Un,sr);case 51:or.next=58;break;case 53:throw or.prev=53,or.t1=or.catch(2),qr.error(`Error applying video filter: ${or.t1}`),Zo("applyVideoFilter","Failure",{message:or.t1.message}),or.t1;case 58:Du=Vn,Zo("applyVideoFilter","Success",{videoFilter:qt});case 60:case"end":return or.stop()}},En,null,[[2,53],[24,32]])}));return function(En){return wn.apply(this,arguments)}}(),this.getVideoFilter=()=>(Zo("getVideoFilter","Attempt"),Zo("getVideoFilter","Success"),Du||null),this.setVideoMediaProcessorConnector=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt,gn,Sn,Dn,Un,sr;return it.default.wrap(function(or){for(;;)switch(or.prev=or.next){case 0:if(Zo("setVideoMediaProcessorConnector","Attempt",{message:Vn?"setting the connector":"clearing the connector"}),!ts.getVideoFilter()){or.next=4;break}throw Zo("setVideoMediaProcessorConnector","Failure",{message:"Tried to set video MediaProcessorConnector when video filter applied."}),Ho(go.NOT_SUPPORTED,new Error("setVideoMediaProcessorConnector: Cannot use this method when videoFilter is set."));case 4:if(!An){or.next=14;break}return qt=vo.getVideoTracks(),gn=qt[0],or.next=8,Rm(Lu);case 8:return Sn=or.sent,or.next=11,gm(gn,Sn);case 11:An.destroy(),An.stopOriginalTrack(),An=null;case 14:if(Vn){or.next=17;break}return Zo("setVideoMediaProcessorConnector","Success",{message:"clearing the connector"}),or.abrupt("return");case 17:if(Gs.isValidConnector(Vn)){or.next=20;break}throw Zo("setVideoMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),Ho(go.INVALID_PARAMETER,new Error("setVideoMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 20:if(An=new Gs(Vn),Dn=vo.getVideoTracks(),Un=Dn[0],Un){or.next=28;break}return sr="Connector not set as no video track is present.",Zo("setVideoMediaProcessorConnector","Failure",{message:sr}),qr.warn(`setVideoMediaProcessorConnector: ${sr}`),An=null,or.abrupt("return");case 28:return or.prev=28,or.next=31,An.setTrack(Un);case 31:return gn=or.sent,or.next=34,gm(Un,gn);case 34:or.next=42;break;case 36:throw or.prev=36,or.t0=or.catch(28),An=null,qr.error(`setVideoMediaProcessorConnector: Error getting track from MediaProcessorConnector: ${or.t0}`),Zo("setVideoMediaProcessorConnector","Failure",{message:or.t0.message}),or.t0;case 42:Zo("setVideoMediaProcessorConnector","Success");case 43:case"end":return or.stop()}},En,null,[[28,36]])}));return function(En){return wn.apply(this,arguments)}}(),this.setAudioMediaProcessorConnector=function(){var wn=(0,ot.default)(it.default.mark(function En(Vn){var qt,gn,Sn,Dn,Un;return it.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:if(Zo("setAudioMediaProcessorConnector","Attempt",{message:Vn?"setting the connector":"clearing the connector"}),!Pn){ur.next=7;break}return qt=vo.getAudioTracks(),gn=qt[0],ur.next=5,wm(gn,Pn.originalTrack);case 5:Pn.destroy(),Pn=null;case 7:if(Vn){ur.next=10;break}return Zo("setAudioMediaProcessorConnector","Success",{message:"clearing the connector"}),ur.abrupt("return");case 10:if(Gs.isValidConnector(Vn)){ur.next=13;break}throw Zo("setAudioMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),Ho(go.INVALID_PARAMETER,new Error("setAudioMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 13:if(Sn=vo.getAudioTracks(),Dn=Sn[0],Dn){ur.next=20;break}return Un="Connector not set as no audio track is present.",Zo("setAudioMediaProcessorConnector","Failure",{message:Un}),qr.warn(`setAudioMediaProcessorConnector: ${Un}`),Pn=null,ur.abrupt("return");case 20:return Pn=new Gs(Vn),ur.prev=21,ur.next=24,Pn.setTrack(Dn);case 24:return gn=ur.sent,ur.next=27,wm(ts.getAudioSource(),gn);case 27:ur.next=35;break;case 29:throw ur.prev=29,ur.t0=ur.catch(21),Pn=null,qr.error(`setAudioMediaProcessorConnector: Error getting track from MediaProcessorConnector: ${ur.t0}`),Zo("setAudioMediaProcessorConnector","Failure",{message:ur.t0.message}),ur.t0;case 35:Zo("setAudioMediaProcessorConnector","Success");case 36:case"end":return ur.stop()}},En,null,[[21,29]])}));return function(En){return wn.apply(this,arguments)}}(),this.clearVideoFilter=(0,ot.default)(it.default.mark(function wn(){var En,Vn,qt,gn,Sn;return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(Zo("clearVideoFilter","Attempt"),!(!to.publishVideo&&!_s.getVideoFilter())){Un.next=5;break}return Du=null,Zo("clearVideoFilter","Success"),Un.abrupt("return");case 5:if(!(!_s.getVideoFilter()&&!Du)){Un.next=10;break}return En="Ignoring. No video filter applied",Zo("clearVideoFilter","Success",{message:En}),qr.debug(En),Un.abrupt("return");case 10:if(lu.isSupported()){Un.next=15;break}return En='Ignoring. "clearVideoFilter" not supported.',Zo("clearVideoFilter","Success",{message:En}),qr.warn(En),Un.abrupt("return");case 15:if(vo){Un.next=20;break}return En="Ignoring. No mediaStream",Zo("clearVideoFilter","Success",{message:En}),qr.warn(En),Un.abrupt("return");case 20:return Vn=Du,Du=null,qt=vo.getVideoTracks(),gn=qt[0],Un.prev=23,Un.next=26,Rm(Lu);case 26:Sn=Un.sent,Un.next=33;break;case 29:return Un.prev=29,Un.t0=Un.catch(23),qr.error(Un.t0),Un.abrupt("return");case 33:if(Sn){Un.next=36;break}return qr.warn("Failed to clear filter because there is no video track."),Un.abrupt("return");case 36:return Un.prev=36,Un.next=39,gm(gn,Sn);case 39:return Un.next=41,Wm();case 41:Un.next=46;break;case 43:Un.prev=43,Un.t1=Un.catch(36),Du=Vn;case 46:Zo("clearVideoFilter","Success");case 47:case"end":return Un.stop()}},wn,null,[[23,29],[36,43]])}))}}}).call(this,et(0))},function(_e,tt,et){const nt=et(51).once;_e.exports=function(it,ot){ot===void 0&&(ot={});const st=ot.hasE2eeCapability||et(110),at=ot.hasOpenTokSupport||nt;this.publish=it.indexOf("publish")!==-1?1:0,this.subscribe=it.indexOf("subscribe")!==-1?1:0,this.forceUnpublish=it.indexOf("forceunpublish")!==-1?1:0,this.forceDisconnect=it.indexOf("forcedisconnect")!==-1?1:0,this.forceMute=it.indexOf("forcemute")!==-1?1:0,this.supportsE2ee=st()?1:0,this.supportsWebRTC=at()?1:0,this.permittedTo=ct=>Object.prototype.hasOwnProperty.call(this,ct)&&this[ct]===1}},function(_e,tt,et){const nt=et(1)("Stream"),rt=et(8),it=et(21),ot=et(6),st=et(23)(),at=["name","archiving"];_e.exports=function(lt,dt,ut,ft,pt,bt,Tt){const ht=this;let gt;this.id=lt,this.streamId=lt,this.name=dt,this.creationTime=Number(ut),this.initials=Tt||"",this.connection=ft,this.channel=bt,this.publisher=it.publishers.find({streamId:this.id}),ot(this);const vt=function(Lt,Mt,tn,$t){let Ht=Mt;switch(Ht){case"active":Ht=Lt.type==="audio"?"hasAudio":"hasVideo",ht[Ht]=$t;break;case"disableWarning":if(Ht=Lt.type==="audio"?"audioDisableWarning":"videoDisableWarning",ht[Ht]=$t,!ht[Lt.type==="audio"?"hasAudio":"hasVideo"])return;break;case"fitMode":Ht="defaultFitMode",ht[Ht]=$t;break;case"source":Ht=Lt.type==="audio"?"audioType":"videoType",ht[Ht]=$t;break;case"videoDimensions":ht.videoDimensions=$t;break;case"orientation":case"width":case"height":return}ht.dispatchEvent(new st.StreamUpdatedEvent(ht,Ht,tn,$t))},Ct=function(){return ht.publisher?ht.publisher:it.subscribers.find(Lt=>Lt.stream&&Lt.stream.id===ht.id&&Lt.session.id===pt.id)},It=function(){return!ht.publisher};this.getChannelsOfType=function(Lt){return ht.channel.filter(Mt=>Mt.type===Lt)},this.getChannel=function(Lt){for(let Mt=0;Mt<ht.channel.length;++Mt)if(ht.channel[Mt].id===Lt)return ht.channel[Mt];return null};const Zt=this.getChannelsOfType("audio")[0],Wt=this.getChannelsOfType("video")[0];this.hasAudio=Zt!=null&&Zt.active,this.hasVideo=Wt!=null&&Wt.active,this.videoType=Wt&&Wt.source,this.defaultFitMode=Wt&&Wt.fitMode,this.videoDimensions={},Wt&&(this.videoDimensions.width=Wt.width,this.videoDimensions.height=Wt.height,this.videoDimensions.orientation=Wt.orientation,Wt.on("update",vt),this.frameRate=Wt.frameRate),Zt&&Zt.on("update",vt),this.setChannelActiveState=function(Lt,Mt,tn,$t,Ht){const rn={active:Mt};tn&&(rn.activeReason=tn),$t!==void 0&&(rn.congestionLevel=$t),Ht&&(rn.subscriberId=Ht),kt(Lt,rn)},this.setVideoDimensions=function(Lt,Mt){kt("video",{width:Lt,height:Mt,orientation:0})},this.setRestrictFrameRate=function(Lt){kt("video",{restrictFrameRate:Lt})},this.setPreferredResolution=function(Lt){if(!It()){nt.warn("setPreferredResolution has no affect when called by a publisher");return}if(pt.sessionInfo.p2pEnabled){nt.warn("Stream.setPreferredResolution will not work in a P2P Session");return}if(Lt&&Lt.width===void 0&&Lt.height===void 0)return;const Mt=ht.getChannelsOfType("video")[0];if(Mt){if(Lt&&Lt.width){if(isNaN(parseInt(Lt.width,10)))throw new rt.Error("stream preferred width must be an integer","Subscriber");Mt.preferredWidth=parseInt(Lt.width,10)}else Mt.preferredWidth=void 0;if(Lt&&Lt.height){if(isNaN(parseInt(Lt.height,10)))throw new rt.Error("stream preferred height must be an integer","Subscriber");Mt.preferredHeight=parseInt(Lt.height,10)}else Mt.preferredHeight=void 0;pt._.subscriberChannelUpdate(ht,Ct(),Mt,{preferredWidth:Mt.preferredWidth||0,preferredHeight:Mt.preferredHeight||0})}},this.getPreferredResolution=function(){const Lt=ht.getChannelsOfType("video")[0];if(!(!Lt||!Lt.preferredWidth&&!Lt.preferredHeight))return{width:Lt.preferredWidth,height:Lt.preferredHeight}},this.setPreferredFrameRate=function(Lt){if(!It()){nt.warn("setPreferredFrameRate has no affect when called by a publisher");return}if(pt.sessionInfo.p2pEnabled){nt.warn("Stream.setPreferredFrameRate will not work in a P2P Session");return}if(Lt&&isNaN(parseFloat(Lt)))throw new rt.Error("stream preferred frameRate must be a number","Subscriber");const Mt=ht.getChannelsOfType("video")[0];Mt&&(Mt.preferredFrameRate=Lt?parseFloat(Lt):null,pt._.subscriberChannelUpdate(ht,Ct(),Mt,{preferredFrameRate:Mt.preferredFrameRate||0}))},this.getPreferredFrameRate=function(){const Lt=ht.getChannelsOfType("video")[0];return Lt?Lt.preferredFrameRate:null};let kt=function(Lt,Mt){let tn;if(ht.publisher)tn=$t=>pt._.streamChannelUpdate(ht,$t,Mt);else{const $t=Ct();tn=Ht=>pt._.subscriberChannelUpdate(ht,$t,Ht,Mt)}ht.getChannelsOfType(Lt).forEach(tn)};this.destroyed=!1,this.destroyedReason=void 0,this.destroy=function(Lt,Mt){Lt===void 0&&(Lt="clientDisconnected"),gt=Lt,ht.destroyed=!0,ht.destroyedReason=gt,Mt!==!0&&ht.dispatchEvent(new st.DestroyedEvent("destroyed",ht,gt))},this._={},this._.updateProperty=function(Lt,Mt){if(at.indexOf(Lt)===-1){nt.warn(`Unknown stream property "${Lt}" was modified to "${Mt}".`);return}const tn=ht[Lt],$t=Mt;switch(Lt){case"name":ht[Lt]=$t;break;case"archiving":var Ht=Ct();ht.publisher&&Ht&&Ht._.archivingStatus($t),ht[Lt]=$t;break}const rn=new st.StreamUpdatedEvent(ht,Lt,tn,$t);ht.dispatchEvent(rn)},this._.update=function(Lt){for(const Mt in Lt)Lt.hasOwnProperty(Mt)&&ht._.updateProperty(Mt,Lt[Mt])},this._.forceMute=function(Lt){Lt.hasOwnProperty("channels")&&Lt.channels.includes("audio")&&ht.publisher&&ht.publisher._.forceMuteAudio()},this._.updateChannel=function(Lt,Mt){const tn=ht.getChannel(Lt);tn&&tn.update(Mt)}}},function(_e,tt,et){tt.__esModule=!0,tt.UNSUBSCRIBE=tt.SUBSCRIBE=tt.STATUS=tt.PONG=tt.PING=tt.MESSAGE=tt.DISCONNECT=tt.CONNECT=void 0;const nt=0;tt.SUBSCRIBE=nt;const rt=1;tt.UNSUBSCRIBE=rt;const it=2;tt.MESSAGE=it;const ot=3;tt.CONNECT=ot;const st=4;tt.DISCONNECT=st;const at=7;tt.PING=at;const ct=8;tt.PONG=ct;const lt=9;tt.STATUS=lt},function(_e,tt,et){const nt=et(9),rt=et(169),it=et(6),ot=et(23)(),st=et(755);function at(ct,lt,dt,ut,ft){let pt;this.id=ct,this.connectionId=ct,this.creationTime=lt?Number(lt):null,this.data=dt,this.capabilities=st(ut),this.permissions=new rt(ft),this.quality=null,it(this),this.destroy=(bt,Tt)=>{pt=bt||"clientDisconnected",Tt!==!0&&this.dispatchEvent(new ot.DestroyedEvent("destroyed",this,pt))},this.destroyed=()=>pt!==void 0,this.destroyedReason=()=>pt}at.fromHash=ct=>{let lt=ct.id,dt=ct.creationTime,ut=ct.data,ft=ct.capablities,pt=ct.permissions;return new at(lt,dt,ut,nt(ft||{},{supportsWebRTC:!0}),pt||[])},_e.exports=at},function(_e,tt){var et=typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)&&(typeof window!==void 0?window:commonjsGlobal).Object===Object&&(typeof window!==void 0?window:commonjsGlobal);_e.exports=et},function(_e,tt){var et=Function.prototype,nt=et.toString;function rt(it){if(it!=null){try{return nt.call(it)}catch{}try{return it+""}catch{}}return""}_e.exports=rt},function(_e,tt,et){var nt=et(38),rt=function(){try{var it=nt(Object,"defineProperty");return it({},"",{}),it}catch{}}();_e.exports=rt},function(_e,tt,et){var nt=et(40),rt=et(30);function it(ot,st){return ot&&nt(st,rt(st),ot)}_e.exports=it},function(_e,tt,et){var nt=et(381),rt=et(63),it=et(12),ot=et(64),st=et(65),at=et(85),ct=Object.prototype,lt=ct.hasOwnProperty;function dt(ut,ft){var pt=it(ut),bt=!pt&&rt(ut),Tt=!pt&&!bt&&ot(ut),ht=!pt&&!bt&&!Tt&&at(ut),gt=pt||bt||Tt||ht,vt=gt?nt(ut.length,String):[],Ct=vt.length;for(var It in ut)(ft||lt.call(ut,It))&&!(gt&&(It=="length"||Tt&&(It=="offset"||It=="parent")||ht&&(It=="buffer"||It=="byteLength"||It=="byteOffset")||st(It,Ct)))&&vt.push(It);return vt}_e.exports=dt},function(_e,tt){function et(nt,rt){return function(it){return nt(rt(it))}}_e.exports=et},function(_e,tt,et){(function(nt){var rt=et(14),it=tt&&!tt.nodeType&&tt,ot=it&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,st=ot&&ot.exports===it,at=st?rt.Buffer:void 0,ct=at?at.allocUnsafe:void 0;function lt(dt,ut){if(ut)return dt.slice();var ft=dt.length,pt=ct?ct(ft):new dt.constructor(ft);return dt.copy(pt),pt}nt.exports=lt}).call(this,et(84)(_e))},function(_e,tt){function et(){return[]}_e.exports=et},function(_e,tt,et){var nt=et(118),rt=et(119),it=et(117),ot=et(180),st=Object.getOwnPropertySymbols,at=st?function(ct){for(var lt=[];ct;)nt(lt,it(ct)),ct=rt(ct);return lt}:ot;_e.exports=at},function(_e,tt,et){var nt=et(183),rt=et(117),it=et(30);function ot(st){return nt(st,it,rt)}_e.exports=ot},function(_e,tt,et){var nt=et(118),rt=et(12);function it(ot,st,at){var ct=st(ot);return rt(ot)?ct:nt(ct,at(ot))}_e.exports=it},function(_e,tt,et){var nt=et(183),rt=et(181),it=et(53);function ot(st){return nt(st,it,rt)}_e.exports=ot},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"Set");_e.exports=it},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"WeakMap");_e.exports=it},function(_e,tt,et){var nt=et(14),rt=nt.Uint8Array;_e.exports=rt},function(_e,tt,et){var nt=et(120);function rt(it,ot){var st=ot?nt(it.buffer):it.buffer;return new it.constructor(st,it.byteOffset,it.length)}_e.exports=rt},function(_e,tt,et){var nt=et(86),rt=et(119),it=et(67);function ot(st){return typeof st.constructor=="function"&&!it(st)?nt(rt(st)):{}}_e.exports=ot},function(_e,tt,et){var nt=et(112),rt="Expected a function";function it(ot,st){if(typeof ot!="function"||st!=null&&typeof st!="function")throw new TypeError(rt);var at=function(){var ct=arguments,lt=st?st.apply(this,ct):ct[0],dt=at.cache;if(dt.has(lt))return dt.get(lt);var ut=ot.apply(this,ct);return at.cache=dt.set(lt,ut)||dt,ut};return at.cache=new(it.Cache||nt),at}it.Cache=nt,_e.exports=it},function(_e,tt,et){var nt=et(87),rt=et(124);function it(ot){return nt(function(st,at){var ct=-1,lt=at.length,dt=lt>1?at[lt-1]:void 0,ut=lt>2?at[2]:void 0;for(dt=ot.length>3&&typeof dt=="function"?(lt--,dt):void 0,ut&&rt(at[0],at[1],ut)&&(dt=lt<3?void 0:dt,lt=1),st=Object(st);++ct<lt;){var ft=at[ct];ft&&ot(st,ft,ct,dt)}return st})}_e.exports=it},function(_e,tt,et){var nt=et(122),rt=Math.max;function it(ot,st,at){return st=rt(st===void 0?ot.length-1:st,0),function(){for(var ct=arguments,lt=-1,dt=rt(ct.length-st,0),ut=Array(dt);++lt<dt;)ut[lt]=ct[st+lt];lt=-1;for(var ft=Array(st+1);++lt<st;)ft[lt]=ct[lt];return ft[st]=at(ut),nt(ot,this,ft)}}_e.exports=it},function(_e,tt){var et=800,nt=16,rt=Date.now;function it(ot){var st=0,at=0;return function(){var ct=rt(),lt=nt-(ct-at);if(at=ct,lt>0){if(++st>=et)return arguments[0]}else st=0;return ot.apply(void 0,arguments)}}_e.exports=it},function(_e,tt,et){_e.exports=et(409)()?WeakMap:et(410)},function(_e,tt,et){var nt=Object.create,rt=Object.getPrototypeOf,it={};_e.exports=function(){var ot=Object.setPrototypeOf,st=arguments[0]||nt;return typeof ot!="function"?!1:rt(ot(st(null),it))===it}},function(_e,tt,et){var nt=et(197),rt=et(31),it=Object.prototype.isPrototypeOf,ot=Object.defineProperty,st={configurable:!0,enumerable:!1,writable:!0,value:void 0},at;at=function(ct,lt){if(rt(ct),lt===null||nt(lt))return ct;throw new TypeError("Prototype must be null or an object")},_e.exports=function(ct){var lt,dt;return ct?(ct.level===2?ct.set?(dt=ct.set,lt=function(ut,ft){return dt.call(at(ut,ft),ft),ut}):lt=function(ut,ft){return at(ut,ft).__proto__=ft,ut}:lt=function ut(ft,pt){var bt;return at(ft,pt),bt=it.call(ut.nullPolyfill,ft),bt&&delete ut.nullPolyfill.__proto__,pt===null&&(pt=ut.nullPolyfill),ft.__proto__=pt,bt&&ot(ut.nullPolyfill,"__proto__",st),ft},Object.defineProperty(lt,"level",{configurable:!1,enumerable:!1,writable:!1,value:ct.level})):null}(function(){var ct=Object.create(null),lt={},dt,ut=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(ut){try{dt=ut.set,dt.call(ct,lt)}catch{}if(Object.getPrototypeOf(ct)===lt)return{set:dt,level:2}}return ct.__proto__=lt,Object.getPrototypeOf(ct)===lt?{level:2}:(ct={},ct.__proto__=lt,Object.getPrototypeOf(ct)===lt?{level:1}:!1)}()),et(412)},function(_e,tt,et){var nt=et(43),rt={function:!0,object:!0};_e.exports=function(it){return nt(it)&&rt[typeof it]||!1}},function(_e,tt,et){var nt=et(415),rt=/^\s*class[\s{/}]/,it=Function.prototype.toString;_e.exports=function(ot){return!(!nt(ot)||rt.test(it.call(ot)))}},function(_e,tt,et){var nt=et(43),rt=Array.prototype.forEach,it=Object.create,ot=function(st,at){var ct;for(ct in st)at[ct]=st[ct]};_e.exports=function(st){var at=it(null);return rt.call(arguments,function(ct){nt(ct)&&ot(Object(ct),at)}),at}},function(_e,tt,et){_e.exports=et(422)()?String.prototype.contains:et(423)},function(_e,tt,et){var nt=et(89),rt=et(90),it=et(424),ot=et(453),st=et(454),at=et(44).iterator;_e.exports=function(ct){return typeof st(ct)[at]=="function"?ct[at]():nt(ct)?new it(ct):rt(ct)?new ot(ct):new it(ct)}},function(_e,tt,et){var nt=et(429);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not a symbol");return rt}},function(_e,tt,et){var nt=et(433),rt=et(127),it=et(68),ot=et(31),st=et(32),at=et(434),ct=et(44),lt=Object.defineProperty,dt=Object.defineProperties,ut;_e.exports=ut=function(ft,pt){if(!(this instanceof ut))throw new TypeError("Constructor requires 'new'");dt(this,{__list__:st("w",ot(ft)),__context__:st("w",pt),__nextIndex__:st("w",0)}),pt&&(it(pt.on),pt.on("_add",this._onAdd),pt.on("_delete",this._onDelete),pt.on("_clear",this._onClear))},delete ut.prototype.constructor,dt(ut.prototype,rt({_next:st(function(){var ft;if(this.__list__){if(this.__redo__&&(ft=this.__redo__.shift(),ft!==void 0))return ft;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:st(function(){return this._createResult(this._next())}),_createResult:st(function(ft){return ft===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(ft)}}),_resolve:st(function(ft){return this.__list__[ft]}),_unBind:st(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:st(function(){return"[object "+(this[ct.toStringTag]||"Object")+"]"})},at({_onAdd:st(function(ft){if(!(ft>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){lt(this,"__redo__",st("c",[ft]));return}this.__redo__.forEach(function(pt,bt){pt>=ft&&(this.__redo__[bt]=++pt)},this),this.__redo__.push(ft)}}),_onDelete:st(function(ft){var pt;ft>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(pt=this.__redo__.indexOf(ft),pt!==-1&&this.__redo__.splice(pt,1),this.__redo__.forEach(function(bt,Tt){bt>ft&&(this.__redo__[Tt]=--bt)},this)))}),_onClear:st(function(){this.__redo__&&nt.call(this.__redo__),this.__nextIndex__=0})}))),lt(ut.prototype,ct.iterator,st(function(){return this}))},function(_e,tt,et){var nt=et(55),rt=et(126),it=et(436),ot=et(437),st=function(at,ct){return at.replace("%v",ot(ct))};_e.exports=function(at,ct,lt){if(!rt(lt))throw new TypeError(st(ct,at));if(!nt(at)){if("default"in lt)return lt.default;if(lt.isOptional)return null}var dt=it(lt.errorMessage);throw nt(dt)||(dt=ct),new TypeError(st(dt,at))}},function(_e,tt){function et(nt,rt,it,ot){for(var st=nt.length,at=it+(ot?1:-1);ot?at--:++at<st;)if(rt(nt[at],at,nt))return at;return-1}_e.exports=et},function(_e,tt,et){_e.exports=et(465)},function(_e,tt,et){_e.exports=function(rt,it){return function(){for(var st=new Array(arguments.length),at=0;at<st.length;at++)st[at]=arguments[at];return rt.apply(it,st)}}},function(_e,tt,et){var nt=et(19);function rt(it){return encodeURIComponent(it).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}_e.exports=function(ot,st,at){if(!st)return ot;var ct;if(at)ct=at(st);else if(nt.isURLSearchParams(st))ct=st.toString();else{var lt=[];nt.forEach(st,function(ft,pt){ft===null||typeof ft>"u"||(nt.isArray(ft)?pt=pt+"[]":ft=[ft],nt.forEach(ft,function(Tt){nt.isDate(Tt)?Tt=Tt.toISOString():nt.isObject(Tt)&&(Tt=JSON.stringify(Tt)),lt.push(rt(pt)+"="+rt(Tt))}))}),ct=lt.join("&")}if(ct){var dt=ot.indexOf("#");dt!==-1&&(ot=ot.slice(0,dt)),ot+=(ot.indexOf("?")===-1?"?":"&")+ct}return ot}},function(_e,tt,et){_e.exports=function(rt,it,ot,st,at){return rt.config=it,ot&&(rt.code=ot),rt.request=st,rt.response=at,rt.isAxiosError=!0,rt.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},rt}},function(_e,tt,et){(function(nt){var rt=et(19),it=et(471),ot=et(472),st=et(208),at=et(473),ct=et(476),lt=et(477),dt=et(211);_e.exports=function(ft){return new nt(function(bt,Tt){var ht=ft.data,gt=ft.headers,vt=ft.responseType;rt.isFormData(ht)&&delete gt["Content-Type"];var Ct=new XMLHttpRequest;if(ft.auth){var It=ft.auth.username||"",Zt=ft.auth.password?unescape(encodeURIComponent(ft.auth.password)):"";gt.Authorization="Basic "+btoa(It+":"+Zt)}var Wt=at(ft.baseURL,ft.url);Ct.open(ft.method.toUpperCase(),st(Wt,ft.params,ft.paramsSerializer),!0),Ct.timeout=ft.timeout;function kt(){if(Ct){var Lt="getAllResponseHeaders"in Ct?ct(Ct.getAllResponseHeaders()):null,Mt=!vt||vt==="text"||vt==="json"?Ct.responseText:Ct.response,tn={data:Mt,status:Ct.status,statusText:Ct.statusText,headers:Lt,config:ft,request:Ct};it(bt,Tt,tn),Ct=null}}if("onloadend"in Ct?Ct.onloadend=kt:Ct.onreadystatechange=function(){!Ct||Ct.readyState!==4||Ct.status===0&&!(Ct.responseURL&&Ct.responseURL.indexOf("file:")===0)||setTimeout(kt)},Ct.onabort=function(){Ct&&(Tt(dt("Request aborted",ft,"ECONNABORTED",Ct)),Ct=null)},Ct.onerror=function(){Tt(dt("Network Error",ft,null,Ct)),Ct=null},Ct.ontimeout=function(){var Mt="timeout of "+ft.timeout+"ms exceeded";ft.timeoutErrorMessage&&(Mt=ft.timeoutErrorMessage),Tt(dt(Mt,ft,ft.transitional&&ft.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Ct)),Ct=null},rt.isStandardBrowserEnv()){var Nt=(ft.withCredentials||lt(Wt))&&ft.xsrfCookieName?ot.read(ft.xsrfCookieName):void 0;Nt&&(gt[ft.xsrfHeaderName]=Nt)}"setRequestHeader"in Ct&&rt.forEach(gt,function(Mt,tn){typeof ht>"u"&&tn.toLowerCase()==="content-type"?delete gt[tn]:Ct.setRequestHeader(tn,Mt)}),rt.isUndefined(ft.withCredentials)||(Ct.withCredentials=!!ft.withCredentials),vt&&vt!=="json"&&(Ct.responseType=ft.responseType),typeof ft.onDownloadProgress=="function"&&Ct.addEventListener("progress",ft.onDownloadProgress),typeof ft.onUploadProgress=="function"&&Ct.upload&&Ct.upload.addEventListener("progress",ft.onUploadProgress),ft.cancelToken&&ft.cancelToken.promise.then(function(Mt){Ct&&(Ct.abort(),Tt(Mt),Ct=null)}),ht||(ht=null),Ct.send(ht)})}}).call(this,et(0))},function(_e,tt,et){var nt=et(209);_e.exports=function(it,ot,st,at,ct){var lt=new Error(it);return nt(lt,ot,st,at,ct)}},function(_e,tt,et){_e.exports=function(rt){return!!(rt&&rt.__CANCEL__)}},function(_e,tt,et){var nt=et(19);_e.exports=function(it,ot){ot=ot||{};var st={},at=["url","method","data"],ct=["headers","auth","proxy","params"],lt=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],dt=["validateStatus"];function ut(Tt,ht){return nt.isPlainObject(Tt)&&nt.isPlainObject(ht)?nt.merge(Tt,ht):nt.isPlainObject(ht)?nt.merge({},ht):nt.isArray(ht)?ht.slice():ht}function ft(Tt){nt.isUndefined(ot[Tt])?nt.isUndefined(it[Tt])||(st[Tt]=ut(void 0,it[Tt])):st[Tt]=ut(it[Tt],ot[Tt])}nt.forEach(at,function(ht){nt.isUndefined(ot[ht])||(st[ht]=ut(void 0,ot[ht]))}),nt.forEach(ct,ft),nt.forEach(lt,function(ht){nt.isUndefined(ot[ht])?nt.isUndefined(it[ht])||(st[ht]=ut(void 0,it[ht])):st[ht]=ut(void 0,ot[ht])}),nt.forEach(dt,function(ht){ht in ot?st[ht]=ut(it[ht],ot[ht]):ht in it&&(st[ht]=ut(void 0,it[ht]))});var pt=at.concat(ct).concat(lt).concat(dt),bt=Object.keys(it).concat(Object.keys(ot)).filter(function(ht){return pt.indexOf(ht)===-1});return nt.forEach(bt,ft),st}},function(_e,tt,et){function nt(rt){this.message=rt}nt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},nt.prototype.__CANCEL__=!0,_e.exports=nt},function(_e,tt,et){var nt=et(484),rt=et(486);function it(ot,st,at){return nt(rt,ot,st,at)}_e.exports=it},function(_e,tt,et){var nt=et(88),rt=et(217),it=rt?function(ot,st){return rt.set(ot,st),ot}:nt;_e.exports=it},function(_e,tt,et){var nt=et(186),rt=nt&&new nt;_e.exports=rt},function(_e,tt,et){var nt=et(219),rt=et(220),it=et(490),ot=et(95),st=et(221),at=et(227),ct=et(499),lt=et(137),dt=et(14),ut=1,ft=2,pt=8,bt=16,Tt=128,ht=512;function gt(vt,Ct,It,Zt,Wt,kt,Nt,Lt,Mt,tn){var $t=Ct&Tt,Ht=Ct&ut,rn=Ct&ft,ln=Ct&(pt|bt),mn=Ct&ht,on=rn?void 0:ot(vt);function yn(){for(var hn=arguments.length,un=Array(hn),dn=hn;dn--;)un[dn]=arguments[dn];if(ln)var Nn=at(yn),Wn=it(un,Nn);if(Zt&&(un=nt(un,Zt,Wt,ln)),kt&&(un=rt(un,kt,Nt,ln)),hn-=Wn,ln&&hn<tn){var pn=lt(un,Nn);return st(vt,Ct,gt,yn.placeholder,It,un,pn,Lt,Mt,tn-hn)}var Rn=Ht?It:this,xn=rn?Rn[vt]:vt;return hn=un.length,Lt?un=ct(un,Lt):mn&&hn>1&&un.reverse(),$t&&Mt<hn&&(un.length=Mt),this&&this!==dt&&this instanceof yn&&(xn=on||ot(xn)),xn.apply(Rn,un)}return yn}_e.exports=gt},function(_e,tt){var et=Math.max;function nt(rt,it,ot,st){for(var at=-1,ct=rt.length,lt=ot.length,dt=-1,ut=it.length,ft=et(ct-lt,0),pt=Array(ut+ft),bt=!st;++dt<ut;)pt[dt]=it[dt];for(;++at<lt;)(bt||at<ct)&&(pt[ot[at]]=rt[at]);for(;ft--;)pt[dt++]=rt[at++];return pt}_e.exports=nt},function(_e,tt){var et=Math.max;function nt(rt,it,ot,st){for(var at=-1,ct=rt.length,lt=-1,dt=ot.length,ut=-1,ft=it.length,pt=et(ct-dt,0),bt=Array(pt+ft),Tt=!st;++at<pt;)bt[at]=rt[at];for(var ht=at;++ut<ft;)bt[ht+ut]=it[ut];for(;++lt<dt;)(Tt||at<ct)&&(bt[ht+ot[lt]]=rt[at++]);return bt}_e.exports=nt},function(_e,tt,et){var nt=et(491),rt=et(225),it=et(226),ot=1,st=2,at=4,ct=8,lt=32,dt=64;function ut(ft,pt,bt,Tt,ht,gt,vt,Ct,It,Zt){var Wt=pt&ct,kt=Wt?vt:void 0,Nt=Wt?void 0:vt,Lt=Wt?gt:void 0,Mt=Wt?void 0:gt;pt|=Wt?lt:dt,pt&=~(Wt?dt:lt),pt&at||(pt&=~(ot|st));var tn=[ft,pt,ht,Lt,kt,Mt,Nt,Ct,It,Zt],$t=bt.apply(void 0,tn);return nt(ft)&&rt($t,tn),$t.placeholder=Tt,it($t,ft,pt)}_e.exports=ut},function(_e,tt,et){var nt=et(217),rt=et(223),it=nt?function(ot){return nt.get(ot)}:rt;_e.exports=it},function(_e,tt){function et(){}_e.exports=et},function(_e,tt,et){var nt=et(86),rt=et(136);function it(ot,st){this.__wrapped__=ot,this.__actions__=[],this.__chain__=!!st,this.__index__=0,this.__values__=void 0}it.prototype=nt(rt.prototype),it.prototype.constructor=it,_e.exports=it},function(_e,tt,et){var nt=et(216),rt=et(193),it=rt(nt);_e.exports=it},function(_e,tt,et){var nt=et(496),rt=et(497),it=et(123),ot=et(498);function st(at,ct,lt){var dt=ct+"";return it(at,rt(dt,ot(nt(dt),lt)))}_e.exports=st},function(_e,tt){function et(nt){var rt=nt;return rt.placeholder}_e.exports=et},function(_e,tt,et){var nt=et(503),rt=et(11),it=et(69),ot=0/0,st=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,ct=/^0o[0-7]+$/i,lt=parseInt;function dt(ut){if(typeof ut=="number")return ut;if(it(ut))return ot;if(rt(ut)){var ft=typeof ut.valueOf=="function"?ut.valueOf():ut;ut=rt(ft)?ft+"":ft}if(typeof ut!="string")return ut===0?ut:+ut;ut=nt(ut);var pt=at.test(ut);return pt||ct.test(ut)?lt(ut.slice(2),pt?2:8):st.test(ut)?ot:+ut}_e.exports=dt},function(_e,tt,et){var nt=et(511),rt=et(17);function it(ot,st,at,ct,lt){return ot===st?!0:ot==null||st==null||!rt(ot)&&!rt(st)?ot!==ot&&st!==st:nt(ot,st,at,ct,it,lt)}_e.exports=it},function(_e,tt,et){var nt=et(92),rt=et(231),it=et(94),ot=1,st=2;function at(ct,lt,dt,ut,ft,pt){var bt=dt&ot,Tt=ct.length,ht=lt.length;if(Tt!=ht&&!(bt&&ht>Tt))return!1;var gt=pt.get(ct),vt=pt.get(lt);if(gt&&vt)return gt==lt&&vt==ct;var Ct=-1,It=!0,Zt=dt&st?new nt:void 0;for(pt.set(ct,lt),pt.set(lt,ct);++Ct<Tt;){var Wt=ct[Ct],kt=lt[Ct];if(ut)var Nt=bt?ut(kt,Wt,Ct,lt,ct,pt):ut(Wt,kt,Ct,ct,lt,pt);if(Nt!==void 0){if(Nt)continue;It=!1;break}if(Zt){if(!rt(lt,function(Lt,Mt){if(!it(Zt,Mt)&&(Wt===Lt||ft(Wt,Lt,dt,ut,pt)))return Zt.push(Mt)})){It=!1;break}}else if(!(Wt===kt||ft(Wt,kt,dt,ut,pt))){It=!1;break}}return pt.delete(ct),pt.delete(lt),It}_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length;++it<ot;)if(rt(nt[it],it,nt))return!0;return!1}_e.exports=et},function(_e,tt){function et(nt){var rt=-1,it=Array(nt.size);return nt.forEach(function(ot,st){it[++rt]=[st,ot]}),it}_e.exports=et},function(_e,tt,et){var nt=et(11);function rt(it){return it===it&&!nt(it)}_e.exports=rt},function(_e,tt){function et(nt,rt){return function(it){return it==null?!1:it[nt]===rt&&(rt!==void 0||nt in Object(it))}}_e.exports=et},function(_e,tt,et){var nt=et(516),rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/\\(\\)?/g,ot=nt(function(st){var at=[];return st.charCodeAt(0)===46&&at.push(""),st.replace(rt,function(ct,lt,dt,ut){at.push(dt?ut.replace(it,"$1"):lt||ct)}),at});_e.exports=ot},function(_e,tt,et){var nt=et(518),rt=et(519);function it(ot,st){return ot!=null&&rt(ot,st,nt)}_e.exports=it},function(_e,tt,et){var nt=et(118),rt=et(525);function it(ot,st,at,ct,lt){var dt=-1,ut=ot.length;for(at||(at=rt),lt||(lt=[]);++dt<ut;){var ft=ot[dt];st>0&&at(ft)?st>1?it(ft,st-1,at,ct,lt):nt(lt,ft):ct||(lt[lt.length]=ft)}return lt}_e.exports=it},function(_e,tt,et){var nt=et(532),rt=nt();_e.exports=rt},function(_e,tt,et){var nt=et(533),rt=et(534);tt.parse=It,tt.resolve=Wt,tt.resolveObject=kt,tt.format=Zt,tt.Url=it;function it(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ot=/^([a-z0-9.+-]+:)/i,st=/:[0-9]*$/,at=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ct=["<",">",'"',"`"," ","\r",`
`,"	"],lt=["{","}","|","\\","^","`"].concat(ct),dt=["'"].concat(lt),ut=["%","/","?",";","#"].concat(dt),ft=["/","?","#"],pt=255,bt=/^[+a-z0-9A-Z_-]{0,63}$/,Tt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ht={javascript:!0,"javascript:":!0},gt={javascript:!0,"javascript:":!0},vt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ct=et(535);function It(Nt,Lt,Mt){if(Nt&&rt.isObject(Nt)&&Nt instanceof it)return Nt;var tn=new it;return tn.parse(Nt,Lt,Mt),tn}it.prototype.parse=function(Nt,Lt,Mt){if(!rt.isString(Nt))throw new TypeError("Parameter 'url' must be a string, not "+typeof Nt);var tn=Nt.indexOf("?"),$t=tn!==-1&&tn<Nt.indexOf("#")?"?":"#",Ht=Nt.split($t),rn=/\\/g;Ht[0]=Ht[0].replace(rn,"/"),Nt=Ht.join($t);var ln=Nt;if(ln=ln.trim(),!Mt&&Nt.split("#").length===1){var mn=at.exec(ln);if(mn)return this.path=ln,this.href=ln,this.pathname=mn[1],mn[2]?(this.search=mn[2],Lt?this.query=Ct.parse(this.search.substr(1)):this.query=this.search.substr(1)):Lt&&(this.search="",this.query={}),this}var on=ot.exec(ln);if(on){on=on[0];var yn=on.toLowerCase();this.protocol=yn,ln=ln.substr(on.length)}if(Mt||on||ln.match(/^\/\/[^@\/]+@[^@\/]+/)){var hn=ln.substr(0,2)==="//";hn&&!(on&&gt[on])&&(ln=ln.substr(2),this.slashes=!0)}if(!gt[on]&&(hn||on&&!vt[on])){for(var un=-1,dn=0;dn<ft.length;dn++){var Nn=ln.indexOf(ft[dn]);Nn!==-1&&(un===-1||Nn<un)&&(un=Nn)}var Wn,pn;un===-1?pn=ln.lastIndexOf("@"):pn=ln.lastIndexOf("@",un),pn!==-1&&(Wn=ln.slice(0,pn),ln=ln.slice(pn+1),this.auth=decodeURIComponent(Wn)),un=-1;for(var dn=0;dn<ut.length;dn++){var Nn=ln.indexOf(ut[dn]);Nn!==-1&&(un===-1||Nn<un)&&(un=Nn)}un===-1&&(un=ln.length),this.host=ln.slice(0,un),ln=ln.slice(un),this.parseHost(),this.hostname=this.hostname||"";var Rn=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Rn)for(var xn=this.hostname.split(/\./),dn=0,Jn=xn.length;dn<Jn;dn++){var cr=xn[dn];if(cr&&!cr.match(bt)){for(var er="",_n=0,Sr=cr.length;_n<Sr;_n++)cr.charCodeAt(_n)>127?er+="x":er+=cr[_n];if(!er.match(bt)){var vr=xn.slice(0,dn),Gr=xn.slice(dn+1),Lr=cr.match(Tt);Lr&&(vr.push(Lr[1]),Gr.unshift(Lr[2])),Gr.length&&(ln="/"+Gr.join(".")+ln),this.hostname=vr.join(".");break}}}this.hostname.length>pt?this.hostname="":this.hostname=this.hostname.toLowerCase(),Rn||(this.hostname=nt.toASCII(this.hostname));var Ur=this.port?":"+this.port:"",co=this.hostname||"";this.host=co+Ur,this.href+=this.host,Rn&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),ln[0]!=="/"&&(ln="/"+ln))}if(!ht[yn])for(var dn=0,Jn=dt.length;dn<Jn;dn++){var Tr=dt[dn];if(ln.indexOf(Tr)!==-1){var wr=encodeURIComponent(Tr);wr===Tr&&(wr=escape(Tr)),ln=ln.split(Tr).join(wr)}}var Bn=ln.indexOf("#");Bn!==-1&&(this.hash=ln.substr(Bn),ln=ln.slice(0,Bn));var Gn=ln.indexOf("?");if(Gn!==-1?(this.search=ln.substr(Gn),this.query=ln.substr(Gn+1),Lt&&(this.query=Ct.parse(this.query)),ln=ln.slice(0,Gn)):Lt&&(this.search="",this.query={}),ln&&(this.pathname=ln),vt[yn]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ur=this.pathname||"",lr=this.search||"";this.path=Ur+lr}return this.href=this.format(),this};function Zt(Nt){return rt.isString(Nt)&&(Nt=It(Nt)),Nt instanceof it?Nt.format():it.prototype.format.call(Nt)}it.prototype.format=function(){var Nt=this.auth||"";Nt&&(Nt=encodeURIComponent(Nt),Nt=Nt.replace(/%3A/i,":"),Nt+="@");var Lt=this.protocol||"",Mt=this.pathname||"",tn=this.hash||"",$t=!1,Ht="";this.host?$t=Nt+this.host:this.hostname&&($t=Nt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&($t+=":"+this.port)),this.query&&rt.isObject(this.query)&&Object.keys(this.query).length&&(Ht=Ct.stringify(this.query));var rn=this.search||Ht&&"?"+Ht||"";return Lt&&Lt.substr(-1)!==":"&&(Lt+=":"),this.slashes||(!Lt||vt[Lt])&&$t!==!1?($t="//"+($t||""),Mt&&Mt.charAt(0)!=="/"&&(Mt="/"+Mt)):$t||($t=""),tn&&tn.charAt(0)!=="#"&&(tn="#"+tn),rn&&rn.charAt(0)!=="?"&&(rn="?"+rn),Mt=Mt.replace(/[?#]/g,function(ln){return encodeURIComponent(ln)}),rn=rn.replace("#","%23"),Lt+$t+Mt+rn+tn};function Wt(Nt,Lt){return It(Nt,!1,!0).resolve(Lt)}it.prototype.resolve=function(Nt){return this.resolveObject(It(Nt,!1,!0)).format()};function kt(Nt,Lt){return Nt?It(Nt,!1,!0).resolveObject(Lt):Lt}it.prototype.resolveObject=function(Nt){if(rt.isString(Nt)){var Lt=new it;Lt.parse(Nt,!1,!0),Nt=Lt}for(var Mt=new it,tn=Object.keys(this),$t=0;$t<tn.length;$t++){var Ht=tn[$t];Mt[Ht]=this[Ht]}if(Mt.hash=Nt.hash,Nt.href==="")return Mt.href=Mt.format(),Mt;if(Nt.slashes&&!Nt.protocol){for(var rn=Object.keys(Nt),ln=0;ln<rn.length;ln++){var mn=rn[ln];mn!=="protocol"&&(Mt[mn]=Nt[mn])}return vt[Mt.protocol]&&Mt.hostname&&!Mt.pathname&&(Mt.path=Mt.pathname="/"),Mt.href=Mt.format(),Mt}if(Nt.protocol&&Nt.protocol!==Mt.protocol){if(!vt[Nt.protocol]){for(var on=Object.keys(Nt),yn=0;yn<on.length;yn++){var hn=on[yn];Mt[hn]=Nt[hn]}return Mt.href=Mt.format(),Mt}if(Mt.protocol=Nt.protocol,!Nt.host&&!gt[Nt.protocol]){for(var Jn=(Nt.pathname||"").split("/");Jn.length&&!(Nt.host=Jn.shift()););Nt.host||(Nt.host=""),Nt.hostname||(Nt.hostname=""),Jn[0]!==""&&Jn.unshift(""),Jn.length<2&&Jn.unshift(""),Mt.pathname=Jn.join("/")}else Mt.pathname=Nt.pathname;if(Mt.search=Nt.search,Mt.query=Nt.query,Mt.host=Nt.host||"",Mt.auth=Nt.auth,Mt.hostname=Nt.hostname||Nt.host,Mt.port=Nt.port,Mt.pathname||Mt.search){var un=Mt.pathname||"",dn=Mt.search||"";Mt.path=un+dn}return Mt.slashes=Mt.slashes||Nt.slashes,Mt.href=Mt.format(),Mt}var Nn=Mt.pathname&&Mt.pathname.charAt(0)==="/",Wn=Nt.host||Nt.pathname&&Nt.pathname.charAt(0)==="/",pn=Wn||Nn||Mt.host&&Nt.pathname,Rn=pn,xn=Mt.pathname&&Mt.pathname.split("/")||[],Jn=Nt.pathname&&Nt.pathname.split("/")||[],cr=Mt.protocol&&!vt[Mt.protocol];if(cr&&(Mt.hostname="",Mt.port=null,Mt.host&&(xn[0]===""?xn[0]=Mt.host:xn.unshift(Mt.host)),Mt.host="",Nt.protocol&&(Nt.hostname=null,Nt.port=null,Nt.host&&(Jn[0]===""?Jn[0]=Nt.host:Jn.unshift(Nt.host)),Nt.host=null),pn=pn&&(Jn[0]===""||xn[0]==="")),Wn)Mt.host=Nt.host||Nt.host===""?Nt.host:Mt.host,Mt.hostname=Nt.hostname||Nt.hostname===""?Nt.hostname:Mt.hostname,Mt.search=Nt.search,Mt.query=Nt.query,xn=Jn;else if(Jn.length)xn||(xn=[]),xn.pop(),xn=xn.concat(Jn),Mt.search=Nt.search,Mt.query=Nt.query;else if(!rt.isNullOrUndefined(Nt.search)){if(cr){Mt.hostname=Mt.host=xn.shift();var er=Mt.host&&Mt.host.indexOf("@")>0?Mt.host.split("@"):!1;er&&(Mt.auth=er.shift(),Mt.host=Mt.hostname=er.shift())}return Mt.search=Nt.search,Mt.query=Nt.query,(!rt.isNull(Mt.pathname)||!rt.isNull(Mt.search))&&(Mt.path=(Mt.pathname?Mt.pathname:"")+(Mt.search?Mt.search:"")),Mt.href=Mt.format(),Mt}if(!xn.length)return Mt.pathname=null,Mt.search?Mt.path="/"+Mt.search:Mt.path=null,Mt.href=Mt.format(),Mt;for(var _n=xn.slice(-1)[0],Sr=(Mt.host||Nt.host||xn.length>1)&&(_n==="."||_n==="..")||_n==="",vr=0,Gr=xn.length;Gr>=0;Gr--)_n=xn[Gr],_n==="."?xn.splice(Gr,1):_n===".."?(xn.splice(Gr,1),vr++):vr&&(xn.splice(Gr,1),vr--);if(!pn&&!Rn)for(;vr--;vr)xn.unshift("..");pn&&xn[0]!==""&&(!xn[0]||xn[0].charAt(0)!=="/")&&xn.unshift(""),Sr&&xn.join("/").substr(-1)!=="/"&&xn.push("");var Lr=xn[0]===""||xn[0]&&xn[0].charAt(0)==="/";if(cr){Mt.hostname=Mt.host=Lr?"":xn.length?xn.shift():"";var er=Mt.host&&Mt.host.indexOf("@")>0?Mt.host.split("@"):!1;er&&(Mt.auth=er.shift(),Mt.host=Mt.hostname=er.shift())}return pn=pn||Mt.host&&xn.length,pn&&!Lr&&xn.unshift(""),xn.length?Mt.pathname=xn.join("/"):(Mt.pathname=null,Mt.path=null),(!rt.isNull(Mt.pathname)||!rt.isNull(Mt.search))&&(Mt.path=(Mt.pathname?Mt.pathname:"")+(Mt.search?Mt.search:"")),Mt.auth=Nt.auth||Mt.auth,Mt.slashes=Mt.slashes||Nt.slashes,Mt.href=Mt.format(),Mt},it.prototype.parseHost=function(){var Nt=this.host,Lt=st.exec(Nt);Lt&&(Lt=Lt[0],Lt!==":"&&(this.port=Lt.substr(1)),Nt=Nt.substr(0,Nt.length-Lt.length)),Nt&&(this.hostname=Nt)}},function(_e,tt,et){(function(nt){const rt=et(16),it=et(15),ot=et(1)("guidStorage"),st={};_e.exports=st;let at,ct;const lt=function(ft){return!(rt(ft.get)&&rt(ft.set))},dt=function(ft){if(ct){ft(null,ct);return}at.get(ft)};st.override=ut=>{if(lt(ut))throw new Error("The storageInterface argument does not seem to be valid, it must implement get and set methods");at!==ut&&(at=ut,ct&&at.set(ct,ft=>{ft&&ot.error(`Failed to send initial Guid value (${ct}) to the newly assigned Guid Storage. The error was: ${ft}`)}))},st.get=ut=>{dt((ft,pt)=>{if(ft){ut(ft);return}pt?ct||(ct=pt):(pt=it(),at.set(pt,bt=>{if(bt){ut(bt);return}ct=pt})),ut(null,ct)})},st.getAsync=()=>new nt((ut,ft)=>{st.get((pt,bt)=>pt?ft(pt):ut(bt))}),st.override({get(ut){let ft;try{ft=(typeof window!==void 0?window:commonjsGlobal).localStorage.getItem("opentok_client_id")}catch{ft||(ft=it())}ut(null,ft)},set(ut,ft){try{(typeof window!==void 0?window:commonjsGlobal).localStorage.setItem("opentok_client_id",ut)}catch{}ft(null)}}),st.set=ut=>{ct=ut}}).call(this,et(0))},function(_e,tt){var et=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(et){var nt=new Uint8Array(16);_e.exports=function(){return et(nt),nt}}else{var rt=new Array(16);_e.exports=function(){for(var ot=0,st;ot<16;ot++)ot&3||(st=Math.random()*4294967296),rt[ot]=st>>>((ot&3)<<3)&255;return rt}}},function(_e,tt){for(var et=[],nt=0;nt<256;++nt)et[nt]=(nt+256).toString(16).substr(1);function rt(it,ot){var st=ot||0,at=et;return[at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]]].join("")}_e.exports=rt},function(_e,tt,et){const nt=et(244),rt=et(2),it=et(246),ot=et(9),st={};_e.exports=st;function at(ct){if(typeof ct=="string")return ct;const lt=[];return Object.keys(ct).forEach(dt=>{lt.push(`${encodeURIComponent(dt)}=${encodeURIComponent(ct[dt])}`)}),lt.join("&").replace(/\+/g,"%20")}rt.name!=="Node"&&(st.request=function(ct,lt,dt){const ut=new(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest,ft=lt||{};if(!ft.method){dt(new Error("No HTTP method specified in options"));return}lt.overrideMimeType&&(ut.overrideMimeType&&ut.overrideMimeType(lt.overrideMimeType),delete lt.overrideMimeType),dt&&(nt(ut).on("load",bt=>{const Tt=bt.target.status;Tt>=200&&(Tt<300||Tt===304)?dt(null,bt):dt(bt)}),nt(ut).on("error",dt)),ut.open(lt.method,ct,!0),ft.headers||(ft.headers={});for(const bt in ft.headers)Object.prototype.hasOwnProperty.call(ft.headers,bt)&&ut.setRequestHeader(bt,ft.headers[bt]);ut.send(lt.body&&at(lt.body))},st.get=function(ct,lt,dt){const ut=ot(lt||{},{method:"GET"});st.request(ct,ut,dt)},st.post=function(ct,lt,dt){const ut=ot(lt||{},{method:"POST"});st.request(ct,ut,dt)},st.getJSON=function(ct,lt,dt){lt=lt||{};const ut=function(bt,Tt){if(bt)dt(bt,Tt&&Tt.target&&Tt.target.responseText);else{let ht;try{ht=JSON.parse(Tt.target.responseText)}catch(gt){dt(gt,Tt&&Tt.target&&Tt.target.responseText);return}dt(null,ht,Tt)}},ft=ot({Accept:"application/json"},lt.headers||{});st.get(ct,ot(lt||{},{headers:ft}),ut)},it(st))},function(_e,tt,et){const nt=et(245);_e.exports=function(rt,it){return new nt(rt,it)}},function(_e,tt,et){const nt=et(16),rt={attributes:et(544),css:et(545),classNames:et(550),observers:et(552)},it=/^#([\w-]*)$/,ot=function(dt){return Array.prototype.slice.call(dt)},st=function(dt,ut){let ft;if(typeof dt>"u")return[];if(typeof dt=="string"){ft=[];const pt=it.exec(dt);if(ut=ut||document,pt&&pt[1]){const bt=ut.getElementById(pt[1]);bt&&ft.push(bt)}else ft=ut.querySelectorAll(dt)}else dt&&(dt.nodeType||(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest&&dt instanceof(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest||dt===(typeof window!==void 0?window:commonjsGlobal))?(ft=[dt],ut=dt):Array.isArray(dt)?(ft=dt.slice(),ut=null):ft=ot(ft);return ft},at=function(dt,ut){const ft=st(dt,ut);this.context=ut,this.toArray=function(){return ft},this.length=ft.length,this.first=ft[0],this.last=ft[ft.length-1],this.get=function(pt){return pt===void 0?ft:ft[pt]}};_e.exports=at,at._attachToOTHelpers={},at._attachToOTHelpers.removeElement=function(lt){return new at(lt).remove()},at.prototype.getAsArray=function(){let lt=this.get();return nt(lt.forEach)||(lt=ot(lt)),lt},at.prototype.some=function(lt,dt){return this.getAsArray().some(lt,dt)},at.prototype.forEach=function(lt,dt){return this.getAsArray().forEach(lt,dt),this},at.prototype.map=function(lt,dt){return new at(this.getAsArray().map(lt,dt),this.context)},at.prototype.filter=function(lt,dt){return new at(this.getAsArray().filter(lt,dt),this.context)},at.prototype.find=function(lt){return new at(lt,this.first)},at.prototype.on=function(lt,dt){return this.forEach(ut=>{ut.addEventListener(lt,dt,!1)})},at.prototype.off=function(lt,dt){return this.forEach(ut=>{ut.removeEventListener(lt,dt,!1)})},at.prototype.once=function(lt,dt){const ut=function(){this.off(lt,ut),dt(...arguments)}.bind(this);return this.on(lt,ut)},at.prototype.appendTo=function(lt){if(!lt)throw new Error("appendTo requires a DOMElement to append to.");return this.forEach(dt=>{lt.appendChild(dt)})},at.prototype.append=function(){const lt=this.first;return lt?(Array.prototype.forEach.call(arguments,dt=>{lt.appendChild(dt)}),this):this},at.prototype.prepend=function(){if(arguments.length===0)return this;const lt=this.first;let dt;return lt?(dt=Array.prototype.slice.call(arguments),lt.firstElementChild||lt.appendChild(dt.shift()),dt.forEach(ut=>{lt.insertBefore(ut,lt.firstElementChild)}),this):this},at.prototype.after=function(lt){if(!lt)throw new Error("after requires a DOMElement to insert after");return this.forEach(dt=>{dt.parentElement&&(lt!==dt.parentNode.lastChild?dt.parentElement.insertBefore(dt,lt):dt.parentElement.appendChild(dt))})},at.prototype.before=function(lt){if(!lt)throw new Error("before requires a DOMElement to insert before");return this.forEach(dt=>{dt.parentElement&&dt.parentElement.insertBefore(dt,lt)})},at.prototype.remove=function(){return this.forEach(lt=>{lt.parentNode&&lt.parentNode.removeChild(lt)})},at.prototype.empty=function(){return this.forEach(lt=>{for(;lt.firstChild;)lt.removeChild(lt.firstChild)})},at.prototype.isDisplayNone=function(){return this.some(lt=>(lt.offsetWidth===0||lt.offsetHeight===0)&&new at(lt).css("display")==="none"?!0:lt.parentNode&&lt.parentNode.style?new at(lt.parentNode).isDisplayNone():!1)};const ct=function lt(dt){return(dt.offsetWidth===0||dt.offsetHeight===0)&&new at(dt).css("display")==="none"?dt:dt.parentNode&&dt.parentNode.style?lt(dt.parentNode):null};at._attachToOTHelpers.emptyElement=function(lt){return new at(lt).empty()},at._attachToOTHelpers._findElementWithDisplayNone=ct,rt.css(at,ct),rt.attributes(at),rt.classNames(at),rt.observers(at),["on","off","isDisplayNone","show","hide","css","makeVisibleAndYield","addClass","removeClass"].forEach(lt=>{at._attachToOTHelpers[lt]=function(){const dt=Array.prototype.slice.apply(arguments),ut=dt.shift(),ft=new at(ut);return at.prototype[lt].apply(ft,dt)}})},function(_e,tt,et){_e.exports=function(nt){const rt={};Object.keys(nt).forEach(it=>{rt[it]=nt[it]}),nt._attachToOTHelpers=rt}},function(_e,tt,et){const nt=et(16),rt=et(6),it=et(1)("Collection");_e.exports=function(st){let at=[],ct={};const lt=st||"id";rt(this);const dt=function(bt,Tt){return nt(bt[Tt])?bt[Tt]():bt[Tt]},ut=function(bt){this.trigger("update",bt),this.trigger(`update:${bt.target.id}`,bt)}.bind(this),ft=function(bt){this.remove(bt.target,bt.reason)}.bind(this);this.reset=function(){at.forEach(function(pt){pt.off("updated",ut,this),pt.off("destroyed",ft,this)},this),at=[],ct={}},this.destroy=function(pt){at.forEach(bt=>{bt&&typeof bt.destroy=="function"&&bt.destroy(pt,!0)}),this.reset(),this.off()},this.get=function(pt){return pt&&ct[pt]!==void 0?at[ct[pt]]:void 0},this.has=function(pt){return pt&&ct[pt]!==void 0},this.toString=function(){return at.toString()},this.where=function(pt,bt){return nt(pt)?at.filter(pt,bt):at.filter(Tt=>{for(const ht in pt)if(pt.hasOwnProperty(ht)&&dt(Tt,ht)!==pt[ht])return!1;return!0})},this.find=function(pt,bt){let Tt;nt(pt)?Tt=pt:Tt=function(gt){for(const vt in pt)if(pt.hasOwnProperty(vt)&&dt(gt,vt)!==pt[vt])return!1;return!0},Tt=Tt.bind(bt);for(let ht=0;ht<at.length;++ht)if(Tt(at[ht])===!0)return at[ht];return null},this.forEach=function(pt,bt){return at.forEach(pt,bt),this},this.map=function(pt){return at.map(pt)},this.add=function(pt){const bt=dt(pt,lt);return this.has(bt)?(it.warn(`Model ${bt} is already in the collection`,at),this):(ct[bt]=at.push(pt)-1,pt.on("updated",ut,this),pt.on("destroyed",ft,this),this.trigger("add",pt),this.trigger(`add:${bt}`,pt),this)},this.remove=function(pt,bt){const Tt=dt(pt,lt);at.splice(ct[Tt],1);for(let ht=ct[Tt];ht<at.length;++ht)ct[dt(at[ht],lt)]=ht;return delete ct[Tt],pt.off("updated",ut,this),pt.off("destroyed",ft,this),this.trigger("remove",pt,bt),this.trigger(`remove:${Tt}`,pt,bt),this},this._triggerAddEvents=function(){this.where.apply(this,arguments).forEach(function(pt){this.trigger("add",pt),this.trigger(`add:${dt(pt,lt)}`,pt)},this)},this.length=function(){return at.length}}},function(_e,tt,et){const nt=et(1)("deprecation");_e.exports=function(it,ot,st){let at=st===void 0?{}:st,ct=at.value,lt=at.name,dt=lt===void 0?`${ot}`:lt,ut=at.getWarning,ft=ut===void 0?"":ut,pt=at.setWarning,bt=pt===void 0?"":pt,Tt=at.canSet,ht=Tt===void 0?!1:Tt,gt=at.warnOnSet,vt=gt===void 0?!1:gt,Ct=ct,It=!1,Zt=!vt;Object.defineProperty(it,ot,{get(){return It||(It=!0,nt.warn(`${dt} is deprecated, and will be removed in the future. ${ft}`.trim())),Ct},set(kt){ht&&(Ct=kt),Zt||(Zt=!0,ht?nt.warn(`${dt} is deprecated. ${bt}`.trim()):nt.warn(`${dt} is deprecated, and will be removed in the future. ${bt}`.trim()))}})}},function(_e,tt,et){const nt=et(2),rt=et(11);let it;const ot=["description","fileName","lineNumber","message","name","number","stack"],st=function(lt,dt,ut){switch(arguments.length){case 1:rt(lt)&&(ut=lt,dt=void 0,lt=void 0);break;case 2:rt(dt)&&(ut=dt,dt=void 0);break}if(ut instanceof Error)for(let ft=0,pt=ot.length;ft<pt;++ft)this[ot[ft]]=ut[ot[ft]];else if(rt(ut))for(const ft in ut)ut.hasOwnProperty(ft)&&(this[ft]=ut[ft]);if(!(this.fileName&&this.lineNumber&&this.columnNumber&&this.stack)){const ft=it();!this.fileName&&ft.fileName&&(this.fileName=ft.fileName),!this.lineNumber&&ft.lineNumber&&(this.lineNumber=ft.lineNumber),!this.columnNumber&&ft.columnNumber&&(this.columnNumber=ft.columnNumber),!this.stack&&ft.stack&&(this.stack=ft.stack)}!this.message&&lt&&(this.message=lt),(!this.name||this.name==="Error")&&dt&&(this.name=dt)};_e.exports=st,st.prototype=Object.create(Error.prototype),st.prototype.toString=function(){let ct="";return this.fileName&&(ct+=` ${this.fileName}`),this.lineNumber&&(ct+=` ${this.lineNumber}`,this.columnNumber&&(ct+=`:${this.columnNumber}`)),`<${this.name?`${this.name} `:""}${this.message}${ct}>`},st.prototype.valueOf=st.prototype.toString;const at=function(lt,dt){return dt.slice(2).map(ut=>{const ft={fileName:ut.getFileName(),linenumber:ut.getLineNumber(),columnNumber:ut.getColumnNumber()};return ut.getFunctionName()&&(ft.functionName=ut.getFunctionName()),ut.getMethodName()&&(ft.methodName=ut.getMethodName()),ut.getThis()&&(ft.self=ut.getThis()),ft})};it=function(){const lt={};let dt,ut,ft;switch(nt.name){case"Firefox":case"Safari":try{(typeof window!==void 0?window:commonjsGlobal).call.js.is.explody()}catch(Tt){ft=Tt}dt=(ft.stack||"").split(`
`),dt.shift(),dt.shift(),lt.stack=dt,ut=/@(.+?):([0-9]+)(:([0-9]+))?$/.exec(dt[0]),ut&&(lt.fileName=ut[1],lt.lineNumber=parseInt(ut[2],10),ut.length>3&&(lt.columnNumber=parseInt(ut[4],10)));break;case"Chrome":case"Node":case"Opera":var pt=Error.prepareStackTrace;Error.prepareStackTrace=at,ft=new Error,lt.stack=ft.stack,Error.prepareStackTrace=pt;var bt=lt.stack[0];lt.lineNumber=bt.lineNumber,lt.columnNumber=bt.columnNumber,lt.fileName=bt.fileName,bt.functionName&&(lt.functionName=bt.functionName),bt.methodName&&(lt.methodName=bt.methodName),bt.self&&(lt.self=bt.self);break;default:ft=new Error,ft.stack&&(lt.stack=ft.stack.split(`
`));break}return ft.message&&(lt.message=ft.message),lt}},function(_e,tt,et){var nt={};nt.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},nt.localCName=nt.generateIdentifier(),nt.splitLines=function(rt){return rt.trim().split(`
`).map(function(it){return it.trim()})},nt.splitSections=function(rt){var it=rt.split(`
m=`);return it.map(function(ot,st){return(st>0?"m="+ot:ot).trim()+`\r
`})},nt.getDescription=function(rt){var it=nt.splitSections(rt);return it&&it[0]},nt.getMediaSections=function(rt){var it=nt.splitSections(rt);return it.shift(),it},nt.matchPrefix=function(rt,it){return nt.splitLines(rt).filter(function(ot){return ot.indexOf(it)===0})},nt.parseCandidate=function(rt){var it;rt.indexOf("a=candidate:")===0?it=rt.substring(12).split(" "):it=rt.substring(10).split(" ");for(var ot={foundation:it[0],component:parseInt(it[1],10),protocol:it[2].toLowerCase(),priority:parseInt(it[3],10),ip:it[4],address:it[4],port:parseInt(it[5],10),type:it[7]},st=8;st<it.length;st+=2)switch(it[st]){case"raddr":ot.relatedAddress=it[st+1];break;case"rport":ot.relatedPort=parseInt(it[st+1],10);break;case"tcptype":ot.tcpType=it[st+1];break;case"ufrag":ot.ufrag=it[st+1],ot.usernameFragment=it[st+1];break;default:ot[it[st]]=it[st+1];break}return ot},nt.writeCandidate=function(rt){var it=[];it.push(rt.foundation),it.push(rt.component),it.push(rt.protocol.toUpperCase()),it.push(rt.priority),it.push(rt.address||rt.ip),it.push(rt.port);var ot=rt.type;return it.push("typ"),it.push(ot),ot!=="host"&&rt.relatedAddress&&rt.relatedPort&&(it.push("raddr"),it.push(rt.relatedAddress),it.push("rport"),it.push(rt.relatedPort)),rt.tcpType&&rt.protocol.toLowerCase()==="tcp"&&(it.push("tcptype"),it.push(rt.tcpType)),(rt.usernameFragment||rt.ufrag)&&(it.push("ufrag"),it.push(rt.usernameFragment||rt.ufrag)),"candidate:"+it.join(" ")},nt.parseIceOptions=function(rt){return rt.substr(14).split(" ")},nt.parseRtpMap=function(rt){var it=rt.substr(9).split(" "),ot={payloadType:parseInt(it.shift(),10)};return it=it[0].split("/"),ot.name=it[0],ot.clockRate=parseInt(it[1],10),ot.channels=it.length===3?parseInt(it[2],10):1,ot.numChannels=ot.channels,ot},nt.writeRtpMap=function(rt){var it=rt.payloadType;rt.preferredPayloadType!==void 0&&(it=rt.preferredPayloadType);var ot=rt.channels||rt.numChannels||1;return"a=rtpmap:"+it+" "+rt.name+"/"+rt.clockRate+(ot!==1?"/"+ot:"")+`\r
`},nt.parseExtmap=function(rt){var it=rt.substr(9).split(" ");return{id:parseInt(it[0],10),direction:it[0].indexOf("/")>0?it[0].split("/")[1]:"sendrecv",uri:it[1]}},nt.writeExtmap=function(rt){return"a=extmap:"+(rt.id||rt.preferredId)+(rt.direction&&rt.direction!=="sendrecv"?"/"+rt.direction:"")+" "+rt.uri+`\r
`},nt.parseFmtp=function(rt){for(var it={},ot,st=rt.substr(rt.indexOf(" ")+1).split(";"),at=0;at<st.length;at++)ot=st[at].trim().split("="),it[ot[0].trim()]=ot[1];return it},nt.writeFmtp=function(rt){var it="",ot=rt.payloadType;if(rt.preferredPayloadType!==void 0&&(ot=rt.preferredPayloadType),rt.parameters&&Object.keys(rt.parameters).length){var st=[];Object.keys(rt.parameters).forEach(function(at){rt.parameters[at]?st.push(at+"="+rt.parameters[at]):st.push(at)}),it+="a=fmtp:"+ot+" "+st.join(";")+`\r
`}return it},nt.parseRtcpFb=function(rt){var it=rt.substr(rt.indexOf(" ")+1).split(" ");return{type:it.shift(),parameter:it.join(" ")}},nt.writeRtcpFb=function(rt){var it="",ot=rt.payloadType;return rt.preferredPayloadType!==void 0&&(ot=rt.preferredPayloadType),rt.rtcpFeedback&&rt.rtcpFeedback.length&&rt.rtcpFeedback.forEach(function(st){it+="a=rtcp-fb:"+ot+" "+st.type+(st.parameter&&st.parameter.length?" "+st.parameter:"")+`\r
`}),it},nt.parseSsrcMedia=function(rt){var it=rt.indexOf(" "),ot={ssrc:parseInt(rt.substr(7,it-7),10)},st=rt.indexOf(":",it);return st>-1?(ot.attribute=rt.substr(it+1,st-it-1),ot.value=rt.substr(st+1)):ot.attribute=rt.substr(it+1),ot},nt.parseSsrcGroup=function(rt){var it=rt.substr(13).split(" ");return{semantics:it.shift(),ssrcs:it.map(function(ot){return parseInt(ot,10)})}},nt.getMid=function(rt){var it=nt.matchPrefix(rt,"a=mid:")[0];if(it)return it.substr(6)},nt.parseFingerprint=function(rt){var it=rt.substr(14).split(" ");return{algorithm:it[0].toLowerCase(),value:it[1]}},nt.getDtlsParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=fingerprint:");return{role:"auto",fingerprints:ot.map(nt.parseFingerprint)}},nt.writeDtlsParameters=function(rt,it){var ot="a=setup:"+it+`\r
`;return rt.fingerprints.forEach(function(st){ot+="a=fingerprint:"+st.algorithm+" "+st.value+`\r
`}),ot},nt.parseCryptoLine=function(rt){var it=rt.substr(9).split(" ");return{tag:parseInt(it[0],10),cryptoSuite:it[1],keyParams:it[2],sessionParams:it.slice(3)}},nt.writeCryptoLine=function(rt){return"a=crypto:"+rt.tag+" "+rt.cryptoSuite+" "+(typeof rt.keyParams=="object"?nt.writeCryptoKeyParams(rt.keyParams):rt.keyParams)+(rt.sessionParams?" "+rt.sessionParams.join(" "):"")+`\r
`},nt.parseCryptoKeyParams=function(rt){if(rt.indexOf("inline:")!==0)return null;var it=rt.substr(7).split("|");return{keyMethod:"inline",keySalt:it[0],lifeTime:it[1],mkiValue:it[2]?it[2].split(":")[0]:void 0,mkiLength:it[2]?it[2].split(":")[1]:void 0}},nt.writeCryptoKeyParams=function(rt){return rt.keyMethod+":"+rt.keySalt+(rt.lifeTime?"|"+rt.lifeTime:"")+(rt.mkiValue&&rt.mkiLength?"|"+rt.mkiValue+":"+rt.mkiLength:"")},nt.getCryptoParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=crypto:");return ot.map(nt.parseCryptoLine)},nt.getIceParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=ice-ufrag:")[0],st=nt.matchPrefix(rt+it,"a=ice-pwd:")[0];return ot&&st?{usernameFragment:ot.substr(12),password:st.substr(10)}:null},nt.writeIceParameters=function(rt){return"a=ice-ufrag:"+rt.usernameFragment+`\r
a=ice-pwd:`+rt.password+`\r
`},nt.parseRtpParameters=function(rt){for(var it={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},ot=nt.splitLines(rt),st=ot[0].split(" "),at=3;at<st.length;at++){var ct=st[at],lt=nt.matchPrefix(rt,"a=rtpmap:"+ct+" ")[0];if(lt){var dt=nt.parseRtpMap(lt),ut=nt.matchPrefix(rt,"a=fmtp:"+ct+" ");switch(dt.parameters=ut.length?nt.parseFmtp(ut[0]):{},dt.rtcpFeedback=nt.matchPrefix(rt,"a=rtcp-fb:"+ct+" ").map(nt.parseRtcpFb),it.codecs.push(dt),dt.name.toUpperCase()){case"RED":case"ULPFEC":it.fecMechanisms.push(dt.name.toUpperCase());break}}}return nt.matchPrefix(rt,"a=extmap:").forEach(function(ft){it.headerExtensions.push(nt.parseExtmap(ft))}),it},nt.writeRtpDescription=function(rt,it){var ot="";ot+="m="+rt+" ",ot+=it.codecs.length>0?"9":"0",ot+=" UDP/TLS/RTP/SAVPF ",ot+=it.codecs.map(function(at){return at.preferredPayloadType!==void 0?at.preferredPayloadType:at.payloadType}).join(" ")+`\r
`,ot+=`c=IN IP4 0.0.0.0\r
`,ot+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,it.codecs.forEach(function(at){ot+=nt.writeRtpMap(at),ot+=nt.writeFmtp(at),ot+=nt.writeRtcpFb(at)});var st=0;return it.codecs.forEach(function(at){at.maxptime>st&&(st=at.maxptime)}),st>0&&(ot+="a=maxptime:"+st+`\r
`),ot+=`a=rtcp-mux\r
`,it.headerExtensions&&it.headerExtensions.forEach(function(at){ot+=nt.writeExtmap(at)}),ot},nt.parseRtpEncodingParameters=function(rt){var it=[],ot=nt.parseRtpParameters(rt),st=ot.fecMechanisms.indexOf("RED")!==-1,at=ot.fecMechanisms.indexOf("ULPFEC")!==-1,ct=nt.matchPrefix(rt,"a=ssrc:").map(function(pt){return nt.parseSsrcMedia(pt)}).filter(function(pt){return pt.attribute==="cname"}),lt=ct.length>0&&ct[0].ssrc,dt,ut=nt.matchPrefix(rt,"a=ssrc-group:FID").map(function(pt){var bt=pt.substr(17).split(" ");return bt.map(function(Tt){return parseInt(Tt,10)})});ut.length>0&&ut[0].length>1&&ut[0][0]===lt&&(dt=ut[0][1]),ot.codecs.forEach(function(pt){if(pt.name.toUpperCase()==="RTX"&&pt.parameters.apt){var bt={ssrc:lt,codecPayloadType:parseInt(pt.parameters.apt,10)};lt&&dt&&(bt.rtx={ssrc:dt}),it.push(bt),st&&(bt=JSON.parse(JSON.stringify(bt)),bt.fec={ssrc:lt,mechanism:at?"red+ulpfec":"red"},it.push(bt))}}),it.length===0&&lt&&it.push({ssrc:lt});var ft=nt.matchPrefix(rt,"b=");return ft.length&&(ft[0].indexOf("b=TIAS:")===0?ft=parseInt(ft[0].substr(7),10):ft[0].indexOf("b=AS:")===0?ft=parseInt(ft[0].substr(5),10)*1e3*.95-50*40*8:ft=void 0,it.forEach(function(pt){pt.maxBitrate=ft})),it},nt.parseRtcpParameters=function(rt){var it={},ot=nt.matchPrefix(rt,"a=ssrc:").map(function(ct){return nt.parseSsrcMedia(ct)}).filter(function(ct){return ct.attribute==="cname"})[0];ot&&(it.cname=ot.value,it.ssrc=ot.ssrc);var st=nt.matchPrefix(rt,"a=rtcp-rsize");it.reducedSize=st.length>0,it.compound=st.length===0;var at=nt.matchPrefix(rt,"a=rtcp-mux");return it.mux=at.length>0,it},nt.parseMsid=function(rt){var it,ot=nt.matchPrefix(rt,"a=msid:");if(ot.length===1)return it=ot[0].substr(7).split(" "),{stream:it[0],track:it[1]};var st=nt.matchPrefix(rt,"a=ssrc:").map(function(at){return nt.parseSsrcMedia(at)}).filter(function(at){return at.attribute==="msid"});if(st.length>0)return it=st[0].value.split(" "),{stream:it[0],track:it[1]}},nt.parseSctpDescription=function(rt){var it=nt.parseMLine(rt),ot=nt.matchPrefix(rt,"a=max-message-size:"),st;ot.length>0&&(st=parseInt(ot[0].substr(19),10)),isNaN(st)&&(st=65536);var at=nt.matchPrefix(rt,"a=sctp-port:");if(at.length>0)return{port:parseInt(at[0].substr(12),10),protocol:it.fmt,maxMessageSize:st};var ct=nt.matchPrefix(rt,"a=sctpmap:");if(ct.length>0){var lt=nt.matchPrefix(rt,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(lt[0],10),protocol:lt[1],maxMessageSize:st}}},nt.writeSctpDescription=function(rt,it){var ot=[];return rt.protocol!=="DTLS/SCTP"?ot=["m="+rt.kind+" 9 "+rt.protocol+" "+it.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+it.port+`\r
`]:ot=["m="+rt.kind+" 9 "+rt.protocol+" "+it.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+it.port+" "+it.protocol+` 65535\r
`],it.maxMessageSize!==void 0&&ot.push("a=max-message-size:"+it.maxMessageSize+`\r
`),ot.join("")},nt.generateSessionId=function(){return Math.random().toString().substr(2,21)},nt.writeSessionBoilerplate=function(rt,it,ot){var st,at=it!==void 0?it:2;rt?st=rt:st=nt.generateSessionId();var ct=ot||"thisisadapterortc";return`v=0\r
o=`+ct+" "+st+" "+at+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},nt.writeMediaSection=function(rt,it,ot,st){var at=nt.writeRtpDescription(rt.kind,it);if(at+=nt.writeIceParameters(rt.iceGatherer.getLocalParameters()),at+=nt.writeDtlsParameters(rt.dtlsTransport.getLocalParameters(),ot==="offer"?"actpass":"active"),at+="a=mid:"+rt.mid+`\r
`,rt.direction?at+="a="+rt.direction+`\r
`:rt.rtpSender&&rt.rtpReceiver?at+=`a=sendrecv\r
`:rt.rtpSender?at+=`a=sendonly\r
`:rt.rtpReceiver?at+=`a=recvonly\r
`:at+=`a=inactive\r
`,rt.rtpSender){var ct="msid:"+st.id+" "+rt.rtpSender.track.id+`\r
`;at+="a="+ct,at+="a=ssrc:"+rt.sendEncodingParameters[0].ssrc+" "+ct,rt.sendEncodingParameters[0].rtx&&(at+="a=ssrc:"+rt.sendEncodingParameters[0].rtx.ssrc+" "+ct,at+="a=ssrc-group:FID "+rt.sendEncodingParameters[0].ssrc+" "+rt.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return at+="a=ssrc:"+rt.sendEncodingParameters[0].ssrc+" cname:"+nt.localCName+`\r
`,rt.rtpSender&&rt.sendEncodingParameters[0].rtx&&(at+="a=ssrc:"+rt.sendEncodingParameters[0].rtx.ssrc+" cname:"+nt.localCName+`\r
`),at},nt.getDirection=function(rt,it){for(var ot=nt.splitLines(rt),st=0;st<ot.length;st++)switch(ot[st]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return ot[st].substr(2)}return it?nt.getDirection(it):"sendrecv"},nt.getKind=function(rt){var it=nt.splitLines(rt),ot=it[0].split(" ");return ot[0].substr(2)},nt.isRejected=function(rt){return rt.split(" ",2)[1]==="0"},nt.parseMLine=function(rt){var it=nt.splitLines(rt),ot=it[0].substr(2).split(" ");return{kind:ot[0],port:parseInt(ot[1],10),protocol:ot[2],fmt:ot.slice(3).join(" ")}},nt.parseOLine=function(rt){var it=nt.matchPrefix(rt,"o=")[0],ot=it.substr(2).split(" ");return{username:ot[0],sessionId:ot[1],sessionVersion:parseInt(ot[2],10),netType:ot[3],addressType:ot[4],address:ot[5]}},nt.isValidSDP=function(rt){if(typeof rt!="string"||rt.length===0)return!1;for(var it=nt.splitLines(rt),ot=0;ot<it.length;ot++)if(it[ot].length<2||it[ot].charAt(1)!=="=")return!1;return!0},_e.exports=nt},function(_e,tt,et){_e.exports=function(rt){return["Chrome","Safari","Edge","Opera"].indexOf(rt.browserName)===-1||rt.browserName==="Edge"&&!rt.isChromiumEdge||rt.isScreenSharing&&!rt.capableSimulcastScreenshare||rt.sessionInfo.p2pEnabled||!rt.constraints.video&&!rt.isCustomVideoTrack||rt.scalableVideo===!1?1:rt.videoDimensions.width>640&&rt.videoDimensions.height>480?3:2}},function(_e,tt,et){const nt=et(49);_e.exports=function(){function rt(ot,st){var at;let ct=st===void 0?{}:st,lt=ct.requestAnimationFrame,dt=lt===void 0?(at=window).requestAnimationFrame.bind(at):lt;this._lastCalled=nt(),this._audioLevel=void 0,this._running=!1,this._requestAnimationFrame=dt,this._getAudioLevel=ot,this._startLoop()}var it=rt.prototype;return it._startLoop=function(){this._running||(this._running=!0,this._requestAnimationFrame(this._loop.bind(this)))},it._loop=function(){this._getAudioLevel((st,at)=>{let ct=null;if(!st){for(let lt=0;lt<at.length;lt+=1){const dt=at[lt];let ut=null;if(dt.audioOutputLevel!==void 0){const ft=parseFloat(dt.audioOutputLevel)/32768;isNaN(ft)||(ut=ft)}else dt.audioLevel!==void 0&&(ut=dt.audioLevel);ut!==null&&(ct===null||ut>ct)&&(ct=ut)}this._audioLevel=ct,this._running&&nt()-this._lastCalled<1e4?this._requestAnimationFrame(this._loop.bind(this)):this._running=!1}})},it.destroy=function(){this._running=!1},it.sample=function(st){if(typeof st=="function")throw new Error("sample no longer takes a callback");return this._startLoop(),this._lastCalled=nt(),this._audioLevel},rt}()},function(_e,tt,et){const nt=et(254),rt=et(582),it=et(149);function ot(lt,dt,ut){return!lt.publish&&dt?!1:typeof lt.source=="boolean"?lt.source:ut?{mandatory:{sourceId:lt.source}}:it(lt.source)?{}:{deviceId:{exact:lt.source}}}function st(lt){let dt=ot(lt.audio,lt.enableRenegotiation,lt.usingOptionalMandatoryStyle);if(dt===!1)return!1;const ut=lt.usingOptionalMandatoryStyle,ft=lt.enableStereo,pt=lt.echoCancellation,bt=lt.noiseSuppression,Tt=lt.autoGainControl,ht=lt.disableAudioProcessing,gt=vt=>{typeof dt=="object"&&(ut?(nt(dt,{optional:[]}),dt.optional.push(vt)):nt(dt,vt))};return(ft||ht||!pt||!bt||!Tt)&&dt===!0&&(dt={}),ft&&gt({channelCount:2}),["echoCancellation","autoGainControl","noiseSuppression"].forEach(vt=>{const Ct=!ht&&lt[vt];gt({[vt]:Ct})}),dt}function at(lt){let dt=ot(lt.video,lt.enableRenegotiation,lt.usingOptionalMandatoryStyle);if(dt===!1)return!1;const ut=lt.videoDimensions,ft=lt.frameRate,pt=lt.maxResolution,bt=lt.facingMode,Tt=lt.usingOptionalMandatoryStyle;if((ut||ft||pt||bt)&&dt===!0&&(dt={}),ut){const ht=ut.width,gt=ut.height;Tt?(nt(dt,{optional:[]}),dt.optional.push({minWidth:ht},{maxWidth:ht},{minHeight:gt},{maxHeight:gt})):nt(dt,{width:{ideal:ht},height:{ideal:gt}})}return ft&&(Tt?(nt(dt,{optional:[]}),dt.optional.push({minFrameRate:ft},{maxFrameRate:ft})):nt(dt,{frameRate:{ideal:ft}})),pt&&(Tt?nt(dt,{mandatory:{maxWidth:pt.width,maxHeight:pt.height}}):nt(dt,{width:{max:pt.width},height:{max:pt.height}})),bt&&(Tt?(nt(dt,{optional:[]}),dt.optional.push({facingMode:bt})):nt(dt,{facingMode:{ideal:bt}})),dt}function ct(lt){return{audio:st(lt),video:at(lt)}}_e.exports=function(dt){const ut=rt(dt);return{constraints:ct(ut),publishAudio:ut.audio.publish,publishVideo:ut.video.publish,frameRate:ut.frameRate,videoDimensions:ut.videoDimensions,audioDeviceId:typeof ut.audio.source=="string"?ut.audio.source:void 0,videoDeviceId:typeof ut.video.source=="string"?ut.video.source:void 0}}},function(_e,tt,et){var nt=et(579),rt=et(191),it=rt(function(ot,st,at){nt(ot,st,at)});_e.exports=it},function(_e,tt,et){var nt=et(62),rt=et(52);function it(ot,st,at){(at!==void 0&&!rt(ot[st],at)||at===void 0&&!(st in ot))&&nt(ot,st,at)}_e.exports=it},function(_e,tt){function et(nt,rt){if(!(rt==="constructor"&&typeof nt[rt]=="function")&&rt!="__proto__")return nt[rt]}_e.exports=et},function(_e,tt,et){const nt=et(2),rt=nt.name,it=nt.version,ot=nt.isChromiumEdge;_e.exports=ot||rt==="Chrome"&&it>=72||rt==="Firefox"&&it>=66||rt==="Opera"&&it>=60||rt==="Safari"},function(_e,tt,et){var nt=et(59),rt=et(259);function it(ot){return rt(nt(ot).toLowerCase())}_e.exports=it},function(_e,tt,et){var nt=et(587),rt=nt("toUpperCase");_e.exports=rt},function(_e,tt){function et(nt,rt,it){var ot=-1,st=nt.length;rt<0&&(rt=-rt>st?0:st+rt),it=it>st?st:it,it<0&&(it+=st),st=rt>it?0:it-rt>>>0,rt>>>=0;for(var at=Array(st);++ot<st;)at[ot]=nt[ot+rt];return at}_e.exports=et},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\ufe0e\\ufe0f",at="\\u200d",ct=RegExp("["+at+et+ot+st+"]");function lt(dt){return ct.test(dt)}_e.exports=lt},function(_e,tt,et){var nt=et(589),rt=et(261),it=et(590);function ot(st){return rt(st)?it(st):nt(st)}_e.exports=ot},function(_e,tt,et){const nt=et(2);_e.exports=!!(nt.isChrome&&nt.version>=74||nt.isEdge&&nt.version>=79)},function(_e,tt,et){const nt=et(2);_e.exports=rt=>nt.isElectron?rt instanceof MediaStreamTrack&&rt.label==="Screen":!1},function(_e,tt,et){var nt=et(99),rt=et(596),it=rt(nt);_e.exports=it},function(_e,tt,et){_e.exports=15e3},function(_e,tt,et){_e.exports=function(nt,rt){return rt===void 0&&(rt=!1),nt===void 0?rt:nt==="true"||nt===!0}},function(_e,tt,et){const nt=et(56);_e.exports=function(it){const ot=nt(it);if(ot.backgroundImageURI){const st=ot.backgroundImageURI.split(":")[0];ot.backgroundImageURI=["http","https","data"].indexOf(st)!==-1?st:"other"}return ot}},function(_e,tt,et){const nt=et(2);_e.exports=()=>!nt.isNode&&!nt.isElectron?(nt.isChrome||nt.isOpera||nt.isChromiumEdge)&&nt.version>=74||nt.isFirefox&&nt.version>=68||nt.isSafari&&nt.version>=11:!1},function(_e,tt){function et(nt,rt){return _e.exports=et=Object.setPrototypeOf||function(ot,st){return ot.__proto__=st,ot},et(nt,rt)}_e.exports=et},function(_e,tt,et){var nt=et(33),rt=et(77),it=et(612),ot=et(58),st=et(40),at=et(615),ct=et(140),lt=et(184),dt=1,ut=2,ft=4,pt=ct(function(bt,Tt){var ht={};if(bt==null)return ht;var gt=!1;Tt=nt(Tt,function(Ct){return Ct=ot(Ct,bt),gt||(gt=Ct.length>1),Ct}),st(bt,lt(bt),ht),gt&&(ht=rt(ht,dt|ut|ft,at));for(var vt=Tt.length;vt--;)it(ht,Tt[vt]);return ht});_e.exports=pt},function(_e,tt,et){var nt=et(205),rt=et(35),it=et(96),ot=Math.max;function st(at,ct,lt){var dt=at==null?0:at.length;if(!dt)return-1;var ut=lt==null?0:it(lt);return ut<0&&(ut=ot(dt+ut,0)),nt(at,rt(ct,3),ut)}_e.exports=st},function(_e,tt,et){var nt=et(617);function rt(it){return it&&it.length?nt(it):[]}_e.exports=rt},function(_e,tt,et){const nt=et(624),rt=et(277),it=et(103)();_e.exports=(ot,st)=>{rt(ot,(at,ct)=>{let lt=[];it?typeof ct.values=="function"?lt=nt(ct.values()):typeof ct.forEach!="function"?lt=Object.keys(ct).map(dt=>ct[dt]):ct.forEach(dt=>{lt.push(dt)}):ct.result().forEach(dt=>{const ut={};dt.names().forEach(ft=>{ut[ft]=dt.stat(ft)}),ut.id=dt.id,ut.type=dt.type,ut.timestamp=dt.timestamp,lt.push(ut)}),st(null,lt)})}},function(_e,tt,et){var nt=et(29),rt=et(12),it=et(17),ot="[object String]";function st(at){return typeof at=="string"||!rt(at)&&it(at)&&nt(at)==ot}_e.exports=st},function(_e,tt,et){var nt=et(626),rt=et(30);function it(ot){return ot==null?[]:nt(ot,rt(ot))}_e.exports=it},function(_e,tt,et){const nt=et(103)(),rt=(st,at)=>{st.getStats(null).then(ct=>at(null,ct)).catch(at)},it=(st,at)=>{st.getStats(ct=>{at(null,ct)},at)},ot=(st,at)=>{(nt?rt:it)(st,at)};_e.exports=ot},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(48)),it=et(18),ot=nt(et(37)),st=nt(et(638)),at=nt(et(640)),ct=nt(et(49)),lt=nt(et(1));const dt=(0,lt.default)("QoS");let ut=function(pt){(0,rt.default)(bt,pt);function bt(){for(var ht,gt=arguments.length,vt=new Array(gt),Ct=0;Ct<gt;Ct++)vt[Ct]=arguments[Ct];return ht=pt.call(this,...vt)||this,ht._peerConnection=void 0,ht._isPublisher=void 0,ht.timeoutId=void 0,ht._creationTime=(0,ct.default)(),ht.offerMessagesReceived=0,ht.prevStats={timeStamp:(0,ct.default)()},ht.changeCounters={videoCodec:new at.default,audioCodec:new at.default},ht}var Tt=bt.prototype;return Tt.startCollecting=function(gt,vt){if(!gt||!gt.getStats)return;this._isPublisher=vt;const Ct=!!this._peerConnection;if(this._peerConnection=gt,Ct)return;const It=Zt=>{const Wt=(0,ct.default)(),kt={timeStamp:Wt,duration:Math.round((Wt-this._creationTime)/1e3),period:Math.round((Wt-this.prevStats.timeStamp)/1e3)};(0,st.default)(this._peerConnection,this.prevStats,kt,this._isPublisher,(Nt,Lt)=>{if(Nt){dt.error("Failed to Parse QOS Stats:",Nt);return}this.handleParsedStats(Lt),clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>It(bt.INTERVAL),Zt)})};this.timeoutId=setTimeout(()=>It(bt.INTERVAL-bt.INITIAL_INTERVAL),bt.INITIAL_INTERVAL)},Tt.stopCollecting=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this._peerConnection=null},Tt.handleOfferMessageReceived=function(){this.offerMessagesReceived+=1},Tt.handleParsedStats=function(gt){Object.keys(this.changeCounters).forEach(It=>{this.changeCounters[It].onValue(gt[It]),gt[`${It}ChangeCount`]=this.changeCounters[It].changeCount}),gt.offerMessagesReceived=this.offerMessagesReceived;const vt=(0,ot.default)(gt);if(["audioSentBytes","audioSentPackets","audioSentPacketsLost","videoSentBytes","videoSentPackets","videoSentPacketsLost","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost"].forEach(It=>{vt[It]=this.prevStats&&this.prevStats[It]?gt[It]-this.prevStats[It]:gt[It]}),this.prevStats&&this.prevStats.videoFramesReceived){const It=gt.videoFramesReceived-this.prevStats.videoFramesReceived,Zt=gt.period;vt.videoFrameRateReceived=Math.round(It/Zt)}this.prevStats=gt,delete vt.framesDecoded,delete vt.framesEncoded,this.emit("stats",vt)},bt}(it.EventEmitter);ut.INITIAL_INTERVAL=1e3,ut.INTERVAL=3e4;var ft=ut;tt.default=ft},function(_e,tt,et){_e.exports=nt=>{switch(nt>>24){case 0:return"TURN/TLS";case 1:return"TURN/TCP";case 2:return"TURN/UDP";default:return""}}},function(_e,tt,et){const nt=et(15),rt=et(159),it=rt.default,ot=et(7),st=et(13);_e.exports=function(ct){let lt=ct===void 0?{}:ct,dt=lt.haveGetDisplayMedia,ut=dt===void 0?it:dt,ft=lt.global,pt=ft===void 0?typeof window!==void 0?window:commonjsGlobal:ft,bt=lt.Errors,Tt=bt===void 0?ot:bt,ht=lt.otError,gt=ht===void 0?st():ht;const vt=!ut&&!!pt.navigator.webkitGetUserMedia&&!pt.navigator.userAgent.match(/android/i)&&typeof pt.chrome<"u";return{isSupportedInThisBrowser:vt,autoRegisters:!1,extensionRequired:!0,getConstraintsShowsPermissionUI:!0,sources:{screen:!0,application:!1,window:!0,browser:!0},register(Ct,It){return It===2?this.registerVersion2(Ct):this.registerVersion1(Ct)},registerVersion1(Ct){if(!Ct)throw new Error("initChromeScreenSharingExtensionHelper: extensionID is required.");const It=vt,Zt={};let Wt;const kt=`com.tokbox.screenSharing.${Ct}`,Nt=function(Ht,rn){const ln={payload:rn,from:"jsapi"};return ln[kt]=Ht,ln},Lt=function(Ht,rn){let ln;const mn=nt();return Zt[mn]=function(){clearTimeout(ln),ln=null,Ht(...arguments)},rn&&(ln=setTimeout(()=>{delete Zt[mn],Ht(gt(Tt.TIMEOUT,new Error("Timeout waiting for response to screensharing request.")))},rn)),mn},Mt=function(Ht){if(!Ht)throw new Error("isAvailable: callback is required.");if(!It){setTimeout(Ht.bind(null,!1));return}if(Wt!==void 0)setTimeout(Ht.bind(null,Wt));else{const rn=Lt(mn=>{Wt!==!0&&(Wt=mn==="extensionLoaded"),Ht(Wt)},2e3),ln=Nt("isExtensionInstalled",{requestId:rn});pt.postMessage(ln,"*")}},tn=function(Ht,rn,ln){if(!ln)throw new Error("getSourceId: callback is required");Mt(mn=>{if(!mn)return ln(gt(Tt.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));const on=Lt((yn,hn)=>{typeof yn=="object"&&yn.name&&yn.stack?ln(yn):yn==="permissionDenied"?ln(gt(Tt.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):(rn.video||(rn.video={}),rn.video.mandatory||(rn.video.mandatory={}),rn.video.mandatory.chromeMediaSource="desktop",rn.video.mandatory.chromeMediaSourceId=hn.sourceId,ln(void 0,rn))});pt.postMessage(Nt("getSourceId",{requestId:on,source:Ht}),"*")})};return pt.addEventListener("message",$t=>{if($t.origin!==pt.location.origin||!($t.data!=null&&typeof $t.data=="object")||$t.data.from!=="extension")return;const Ht=$t.data[kt],rn=$t.data.payload;if(rn&&rn.requestId){const ln=Zt[rn.requestId];delete Zt[rn.requestId],ln&&ln(Ht,rn)}Ht==="extensionLoaded"&&(Wt=!0)}),{extensionAPIVersion:1,extensionID:Ct,isInstalled:Mt,getConstraints:tn}},registerVersion2(Ct){const It=vt&&typeof pt.chrome.runtime<"u",Zt=function(Nt){if(!Nt)throw new Error("isAvailable: callback is required.");if(!It){setTimeout(Nt.bind(null,!1));return}pt.chrome.runtime.sendMessage(Ct,{type:"isInstalled"},null,Lt=>{setTimeout(Nt.bind(null,!!Lt))})};return{extensionAPIVersion:2,extensionID:Ct,isInstalled:Zt,getConstraints:function(Nt,Lt,Mt){if(!Mt)throw new Error("getSourceId: callback is required");Zt(tn=>{if(!tn)return Mt(gt(Tt.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));pt.chrome.runtime.sendMessage(Ct,{type:"getSourceId",source:Nt},null,$t=>{$t.error==="permissionDenied"?Mt(gt(Tt.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):$t.error?Mt(new Error(`UnexpectError: ${$t.error}`)):(Lt.video||(Lt.video={}),Lt.video.mandatory||(Lt.video.mandatory={}),Lt.video.mandatory.chromeMediaSource="desktop",Lt.video.mandatory.chromeMediaSourceId=$t.sourceId,Mt(void 0,Lt))})})}}}}}},function(_e,tt,et){(function(nt){const rt=et(155),it=et(104);_e.exports=function(st){st===void 0&&(st={});const at=st.Archiving||et(645),ct=st.AudioLevelMeter||et(282),lt=st.AudioLevelTransformer||et(144),dt=st.BackingBar||et(283),ut=st.Chrome||et(145),ft=st.MuteButton||et(284)(),pt=st.NamePanel||et(285),bt=st.VideoDisabledIndicator||et(286),Tt=st.StylableComponent||et(152),ht=st.logging||et(1)("createChromeMixin");return function(vt,Ct){let It=Ct===void 0?{}:Ct,Zt=It.name,Wt=It.publishAudio,kt=It.publishVideo,Nt=It.audioSource,Lt=It.showControls,Mt=It.shouldAllowAudio,tn=It.logAnalyticsEvent,$t,Ht,rn;const ln={},mn=rt(),on=un=>{if(un===!1)return"off";const dn=vt.getStyle("buttonDisplayMode");return dn===!1?"on":dn};let yn=new nt((un,dn)=>{ln.init=Nn=>{vt.getStyle("showArchiveStatus")||tn("showArchiveStatus","createChrome",{mode:"off"});const Wn={backingBar:new dt({nameMode:Zt?vt.getStyle("nameDisplayMode"):"off",muteMode:on(vt.getStyle("buttonDisplayMode"))}),name:new pt({name:Zt,mode:vt.getStyle("nameDisplayMode")}),archive:new at({show:!!vt.getStyle("showArchiveStatus")&&vt.getStyle("archiveStatusDisplayMode")!=="off",archiving:!1}),muteButton:new ft({muted:Wt===!1,mode:on.call(null,vt.getStyle("buttonDisplayMode"))})};$t=new ct({mode:vt.getStyle("audioLevelDisplayMode")});const pn=new lt,Rn=new it(()=>{const xn=Wt?pn.transform(vt.loudness):0;$t.setValue(xn)});$t.watchVisibilityChanged(xn=>{xn?Rn.start():Rn.stop()}),$t.audioOnly(!kt&&Wt),Wn.audioLevel=$t,Wn.videoDisabledIndicator=new bt({mode:vt.getStyle("videoDisabledDisplayMode")}),Nn&&Nn.domElement&&(rn=Nn,Ht=new ut({parent:rn.domElement}).set(Wn).on({muted:()=>vt.publishAudio(!1),unmuted:()=>vt.publishAudio(!0)}),(Nt===null||Nt===!1)&&ln.removeAudioTrack(),un())},ln.reset=()=>{dn(new Error("Chrome still being created")),Ht&&(Ht.destroy(),Ht=null)},ln.destroy=()=>{ln.reset(),mn.releaseAll(),yn=null}});yn.catch(un=>{(!un||un.message!=="Chrome still being created")&&ht.error("createChromeMixin failed to setup UI",un)}),ln.setAudioOnly=un=>{$t&&$t.audioOnly(un)},ln.setArchivingStatus=un=>{Ht&&Ht.archive.setArchiving(un)},ln.setMuted=un=>{Ht&&Ht.muteButton&&Ht.muteButton.muted(un)},ln.removeAudioTrack=()=>{Ht&&Ht.muteButton&&Ht.muteButton.remove()},ln.addAudioTrack=()=>{Ht&&Ht.muteButton&&Ht.muteButton.add()},ln.videoDisabledIndicator={disableVideo:function(){for(var dn,Nn=arguments.length,Wn=new Array(Nn),pn=0;pn<Nn;pn++)Wn[pn]=arguments[pn];return(dn=Ht)==null?void 0:dn.videoDisabledIndicator.disableVideo(...Wn)},setWarning:function(){for(var dn,Nn=arguments.length,Wn=new Array(Nn),pn=0;pn<Nn;pn++)Wn[pn]=arguments[pn];return(dn=Ht)==null?void 0:dn.videoDisabledIndicator.setWarning(...Wn)}},Tt(vt,{showArchiveStatus:!0,nameDisplayMode:"auto",buttonDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioLevelDisplayMode:Mt?"auto":"off",archiveStatusDisplayMode:"auto",backgroundImageURI:null},Lt,un=>{tn("SetStyle","Publisher",un,null,.1)});const hn=(un,dn)=>{yn.then(()=>{switch(un){case"nameDisplayMode":Ht.name.setDisplayMode(dn),Ht.backingBar.setNameMode(dn);break;case"showArchiveStatus":tn("showArchiveStatus","styleChange",{mode:dn?"on":"off"}),Ht.archive.setShowArchiveStatus(!!dn);break;case"archiveStatusDisplayMode":Ht.archive.setShowArchiveStatus(dn!=="off");break;case"buttonDisplayMode":Ht.muteButton.setDisplayMode(dn),Ht.backingBar.setMuteMode(dn);break;case"audioLevelDisplayMode":Ht.audioLevel.setDisplayMode(dn);break;case"backgroundImageURI":rn.setBackgroundImageURI(dn);break}})};return vt.on("styleValueChanged",hn),mn.add(()=>vt.off("styleValueChanged",hn)),ln}}}).call(this,et(0))},function(_e,tt,et){(function(nt){const rt=et(105),it=et(36),ot=et(8),st=et(18);_e.exports=function(ct){const lt=this,dt=new st;let ut,ft,pt,bt,Tt=!0,ht=!1,gt="auto";const vt=ct.maxValue||1,Ct=ct.minValue||0;function It(){ft=ot.createElement("div",{className:"OT_audio-level-meter__value"},""),ut=ot.createElement("div",{className:"OT_audio-level-meter__audio-only-img"},"");const Lt=lt.domElement;Lt.appendChild(ut),Lt.appendChild(ft),lt.watchVisibilityChanged(Mt=>{Mt?ot.removeClass(lt.domElement,"OT_hide-forced"):ot.addClass(lt.domElement,"OT_hide-forced")})}function Zt(){dt.removeAllListeners("visibilityChanged")}function Wt(){const Lt=(pt-Ct)/(vt-Ct);ft.style.transform=`scale(${Math.sqrt(Lt)})`}function kt(){const Lt=(ht&&gt==="auto"||gt==="on")&&Tt;bt!==Lt&&(bt=Lt,dt.emit("visibilityChanged",Lt))}rt(lt,{audioOnly:{get(){return ht},set(Lt){ht=Lt,kt()}}}),lt.setValue=function(Lt){pt=Lt,Wt()},lt.watchVisibilityChanged=function(Lt){return dt.on("visibilityChanged",Lt),nt.resolve().then(()=>{Lt(bt)}),function(){dt.removeListener("visibilityChanged",Lt)}};const Nt={mode:ct?ct.mode:"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-level-meter"},onCreate:It,onDestroy:Zt};it(this,Nt),lt.setDisplayMode=function(Lt){gt=Lt,kt()},lt.getDisplayMode=function(){return gt},lt.showAfterLoading=function(){Tt=!0,kt()},lt.hideWhileLoading=function(){Tt=!1,kt()},kt()}}).call(this,et(0))},function(_e,tt,et){const nt=et(36);_e.exports=function(it){let ot=it.nameMode,st=it.muteMode;function at(){return ot==="on"||st==="on"?"on":ot==="mini"||st==="mini"?"mini":ot==="mini-auto"||st==="mini-auto"?"mini-auto":ot==="auto"||st==="auto"?"auto":"off"}nt(this,{mode:at(),nodeName:"div",htmlContent:"",htmlAttributes:{className:"OT_bar OT_edge-bar-item"}}),this.setNameMode=function(ct){ot=ct,this.setDisplayMode(at())},this.setMuteMode=function(ct){st=ct,this.setDisplayMode(at())}}},function(_e,tt,et){const nt=et(8),rt=et(36),it=et(105);_e.exports=function(st){st===void 0&&(st={});const at=st.OTHelpers||nt,ct=st.Widget||rt;return function(dt){let ut=dt.muted||!1;const ft=()=>{ut?at.addClass(this.domElement,"OT_active"):at.removeClass(this.domElement,"OT_active ")},pt=()=>(ut=!ut,ft(),ut?this.parent.trigger("muted",this):this.parent.trigger("unmuted",this),!1),bt=vt=>{at.on(vt,"click",pt)},Tt=vt=>{at.off(vt,"click",pt)};it(this,{muted:{get(){return ut},set(vt){ut=vt,ft()}}});const ht=ut?"OT_edge-bar-item OT_mute OT_active":"OT_edge-bar-item OT_mute";ct(this,{mode:dt.mode,nodeName:"button",htmlContent:"Mute",htmlAttributes:{className:ht,type:"button"},onCreate:bt,onDestroy:Tt});let gt;this.remove=()=>{this.domElement&&this.domElement.parentNode&&(gt=this.domElement.parentNode,this.domElement.parentNode.removeChild(this.domElement))},this.add=()=>{gt&&this.domElement&&!this.domElement.parentNode&&gt.appendChild(this.domElement)}}}},function(_e,tt,et){const nt=et(36),rt=it=>{const ot=document.createElement("div");return ot.textContent=it,ot.innerHTML};_e.exports=function(ot){let st=ot.name;(!st||st.trim().length==="")&&(st=null,ot.mode="off"),this.setName=function(at){st||this.setDisplayMode("auto"),st=rt(at),this.domElement.innerHTML=st}.bind(this),st=rt(st),nt(this,{mode:ot.mode,nodeName:"h1",htmlContent:st,htmlAttributes:{className:"OT_name OT_edge-bar-item"}})}},function(_e,tt,et){const nt=et(36),rt=et(8);_e.exports=function(ot){let st=!1,at=!1;const ct=function(dt){const ut=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(dt,"OT_video-disabled OT_video-disabled-warning OT_active"),ut&&(st?rt.addClass(dt,"OT_video-disabled"):at&&rt.addClass(dt,"OT_video-disabled-warning"),rt.addClass(dt,"OT_active"))}.bind(this);this.disableVideo=function(dt){st=dt,dt===!0&&(at=!1),ct(this.domElement)},this.setWarning=function(dt){at=dt,ct(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-disabled-indicator"}});const lt=this.setDisplayMode.bind(this);this.setDisplayMode=function(dt){lt(dt),ct(this.domElement)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.global||(typeof window!==void 0?window:commonjsGlobal);return function(){if(it.navigator.mediaDevices){const st=it.navigator.mediaDevices;return st.enumerateDevices&&st.enumerateDevices.bind(st)}}}},function(_e,tt,et){const nt=et(2),rt=et(159).default,it=()=>!nt.isLegacyEdge&&!nt.isElectron&&rt&&!nt.isAndroid;_e.exports={isSupportedInThisBrowser:it(),autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:nt.name!=="Safari",browser:nt.name!=="Safari"},register(){return{isInstalled(ot){ot(void 0)},getConstraints(ot,st,at){at(void 0,{video:st.video,audio:st.audio})}}}}},function(_e,tt,et){const nt=rt=>rt&&typeof rt=="object"&&typeof rt.kind=="string"&&typeof rt.stop=="function"&&typeof rt.enabled=="boolean";tt.isMediaStreamTrack=nt},function(_e,tt,et){et.r(tt),function(nt){var rt=function(ct,lt,dt,ut){return new(dt||(dt=nt))(function(ft,pt){function bt(gt){try{ht(ut.next(gt))}catch(vt){pt(vt)}}function Tt(gt){try{ht(ut.throw(gt))}catch(vt){pt(vt)}}function ht(gt){gt.done?ft(gt.value):new dt(function(vt){vt(gt.value)}).then(bt,Tt)}ht((ut=ut.apply(ct,lt||[])).next())})},it=function(ct,lt){var dt={label:0,sent:function(){if(pt[0]&1)throw pt[1];return pt[1]},trys:[],ops:[]},ut,ft,pt,bt;return bt={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(bt[Symbol.iterator]=function(){return this}),bt;function Tt(gt){return function(vt){return ht([gt,vt])}}function ht(gt){if(ut)throw new TypeError("Generator is already executing.");for(;dt;)try{if(ut=1,ft&&(pt=ft[gt[0]&2?"return":gt[0]?"throw":"next"])&&!(pt=pt.call(ft,gt[1])).done)return pt;switch(ft=0,pt&&(gt=[0,pt.value]),gt[0]){case 0:case 1:pt=gt;break;case 4:return dt.label++,{value:gt[1],done:!1};case 5:dt.label++,ft=gt[1],gt=[0];continue;case 7:gt=dt.ops.pop(),dt.trys.pop();continue;default:if(pt=dt.trys,!(pt=pt.length>0&&pt[pt.length-1])&&(gt[0]===6||gt[0]===2)){dt=0;continue}if(gt[0]===3&&(!pt||gt[1]>pt[0]&&gt[1]<pt[3])){dt.label=gt[1];break}if(gt[0]===6&&dt.label<pt[1]){dt.label=pt[1],pt=gt;break}if(pt&&dt.label<pt[2]){dt.label=pt[2],dt.ops.push(gt);break}pt[2]&&dt.ops.pop(),dt.trys.pop();continue}gt=lt.call(ct,dt)}catch(vt){gt=[6,vt],ft=0}finally{ut=pt=0}if(gt[0]&5)throw gt[1];return{value:gt[0]?gt[1]:void 0,done:!0}}};function ot(){return typeof window<"u"||typeof window!==void 0?window:commonjsGlobal}var st="onFailure must return boolean, or delay in ms";function at(ct,lt,dt){return dt===void 0&&(dt=10),function(){for(var ut=[],ft=0;ft<arguments.length;ft++)ut[ft]=arguments[ft];return rt(this,void 0,void 0,function(){var pt,bt,Tt;return it(this,function(ht){switch(ht.label){case 0:pt=0,bt=function(){var gt,vt,Ct;return it(this,function(It){switch(It.label){case 0:return It.trys.push([0,2,,6]),gt={},[4,ct.apply(void 0,ut)];case 1:return[2,(gt.value=It.sent(),gt)];case 2:if(vt=It.sent(),Ct=lt(vt,pt),Ct===!1||Ct==null||pt>=dt)throw vt;return typeof Ct!="number"?[3,4]:[4,new nt(function(Zt){return ot().setTimeout(Zt,Ct)})];case 3:return It.sent(),[3,5];case 4:if(Ct!==!0)throw new Error(st);It.label=5;case 5:return[3,6];case 6:return[2]}})},ht.label=1;case 1:return(pt+=1)?[5,bt()]:[3,3];case 2:return Tt=ht.sent(),typeof Tt=="object"?[2,Tt.value]:[3,1];case 3:return[2]}})})}}tt.default=at}.call(this,et(0))},function(_e,tt,et){const nt=et(1)("videoContentHint"),rt=["","text","motion","detail"],it=ct=>rt.includes(ct),ot=ct=>{var lt;return ct==null||(lt=ct.getVideoTracks())==null?void 0:lt[0]},st=(ct,lt)=>{if(!it(lt)){nt.warn('Invalid content hint. Valid content hints are "text", "detail", "motion", or ""');return}const dt=ot(ct);if(!dt){nt.warn("Tried to set contentHint but no video track is present");return}if(dt.contentHint===void 0){nt.warn("contentHint not supported by this browser");return}dt.contentHint=lt},at=ct=>{const lt=ot(ct);return(lt==null?void 0:lt.contentHint)||""};_e.exports={isValidVideoContentHint:it,setVideoContentHint:st,getVideoContentHint:at}},function(_e,tt,et){const nt=et(105);_e.exports=function(){return function(ot,st){let at;nt(this,{muted:{get(){return at},set(ct){if(at===ct)return;at=ct;const lt=ot.getAudioTracks();for(let dt=0,ut=lt.length;dt<ut;++dt)lt[dt].enabled=!at}}}),st!==void 0?this.muted(st===!0):ot.getAudioTracks().length?this.muted(!ot.getAudioTracks()[0].enabled):this.muted(!1)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.otError||et(13)(),st={};return(typeof window!==void 0?window:commonjsGlobal).MediaError&&(st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_ABORTED]={name:it.MEDIA_ERR_ABORTED,message:"The fetching process for the media resource was aborted by the user agent at the user's request."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_NETWORK]={name:it.MEDIA_ERR_NETWORK,message:"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_DECODE]={name:it.MEDIA_ERR_DECODE,message:"An error of some description occurred while decoding the media resource, after the resource was established to be usable."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]={name:it.MEDIA_ERR_SRC_NOT_SUPPORTED,message:"The media resource indicated by the src attribute was not suitable."}),function(ct){const lt=st[ct.code];return lt?ot(lt.name,new Error(`There was an unexpected problem with the Video Stream: ${lt.message}`)):new Error(`An unknown error occurred${ct.message?`: ${ct.message}`:"."}`)}}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(6),at=et(61),ct=et(656),lt=et(657),dt=et(658),ut=et(107),ft=et(2),pt=et(24)(),bt=pt.hasAudioOutputApiSupport,Tt=et(295),ht=et(106),gt=ht.getCurrentAudioOutputDeviceId;function vt(Zt,Wt){const kt=document.createElement("video");return lt(kt),kt.autoplay=!0,kt.playsinline=!0,kt.innerHTML=Zt,kt.setAttribute("autoplay",""),kt.setAttribute("playsinline",""),Wt===!0&&(kt.muted="true"),kt}function Ct(){const Zt=vt("");return Zt.setAttribute("style","display:none"),Zt}function It(Zt){Zt===void 0&&(Zt={});const Wt=Zt.audioContext||et(158)(),kt=Zt.canBeOrientatedMixin||et(659),Nt=Zt.document||(typeof window!==void 0?window:commonjsGlobal).document,Lt=Zt.listenForTracksEnded||et(660)(),Mt=Zt.logging||et(1),tn=Zt.OTHelpers||et(8),$t=Zt.videoElementErrorMap||et(293)(),Ht=Zt.WebaudioAudioLevelSampler||et(146),rn=Zt.global||(typeof window!==void 0?window:commonjsGlobal);let ln=1;return function(){function on(hn,un){var dn=this;let Nn=hn._inject,Wn=Nn===void 0?{}:Nn,pn=Wn.createVideoElement,Rn=pn===void 0?vt:pn,xn=Wn.createAudioOnlyVideoElement,Jn=xn===void 0?Ct:xn,cr=hn.muted,er=hn.fallbackText,_n=hn.widgetType;this._domElement=void 0,this._domAudioOnlyVideoElement=void 0,this._blockedVolume=void 0,this._mediaStoppedListener=void 0,this._audioLevelSampler=void 0,this._playInterrupts=0,this._isVideoLoadedMetaData=!1,this._audioOnlyVideoElementWatcher=void 0,this._blinkStartTime=null,this.logging=Mt(`NativeVideoElementWrapper:${ln}`),ln+=1,st(this),this._defaultAudioVolume=un,this._widgetType=_n,this._emitVideoPlayAttempt=()=>{this._blinkStartTime=new Date().getTime(),this.trigger("amrLogEvent","AMRTransitionVideo","Attempt")},this._emitVideoPlaySuccess=()=>{const Lr=new Date().getTime()-this._blinkStartTime;this.trigger("amrLogEvent","AMRTransitionVideo","Success",{attemptDuration:Lr}),this._blinkStartTime=null},this._emitVideoPlayFailure=()=>{this.trigger("amrLogEvent","AMRTransitionVideo","Failure")};let Sr=!1;const vr=()=>{Sr||(this.logging.warn("Video element paused, auto-resuming. If you intended to do this, use publishVideo(false) or subscribeToVideo(false) instead."),Sr=!0),this.play()};this._domElement=Rn(er,cr),this.trigger("videoElementCreated",this._domElement),this._domElementEvents=at(this._domElement),this._domElementEvents.on("loadstart",()=>this._onDomElementLoadStart()),this._domElementEvents.on("timeupdate",function(){for(var Lr=arguments.length,Ur=new Array(Lr),co=0;co<Lr;co++)Ur[co]=arguments[co];return dn.trigger("timeupdate",...Ur)}),this._domElementEvents.on("loadedmetadata",(0,ot.default)(it.default.mark(function Lr(){var Ur,co,Tr,wr,Bn=arguments;return it.default.wrap(function(lr){for(;;)switch(lr.prev=lr.next){case 0:for(dn._isVideoLoadedMetaData=!0,Ur=Bn.length,co=new Array(Ur),Tr=0;Tr<Ur;Tr++)co[Tr]=Bn[Tr];if(dn.trigger("loadedmetadata",...co),!dn._domAudioOnlyVideoElement){lr.next=10;break}if(wr=dn._domAudioOnlyVideoElement.srcObject,dn._removeAudioOnlyVideoElement(),!wr){lr.next=10;break}return lr.next=9,Tt();case 9:dn.play();case 10:case"end":return lr.stop()}},Lr)})));const Gr=Lr=>{this.trigger("error",$t(Lr.target.error))};this._domElementEvents.on("error",Gr,!1),this._domElementEvents.on("pause",vr),this.on("destroyed",()=>{this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll()}),kt(this,()=>this._domElement),ft.isSafari&&this._widgetType==="subscriber"&&(this._domAudioOnlyVideoElement=Jn(),this._bindAudioOnlyVideoElementEvents())}var yn=on.prototype;return yn._onDomElementLoadStart=function(){var hn=(0,ot.default)(it.default.mark(function dn(){return it.default.wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:if(!(this._widgetType==="subscriber"&&bt())){Wn.next=3;break}return Wn.next=3,this._setActiveAudioOutputDevice();case 3:case"end":return Wn.stop()}},dn,this)}));function un(){return hn.apply(this,arguments)}return un}(),yn._setActiveAudioOutputDevice=function(){var hn=(0,ot.default)(it.default.mark(function dn(){var Nn;return it.default.wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:if(Nn=gt(),!(Nn===""||Nn==="default")){pn.next=3;break}return pn.abrupt("return");case 3:return pn.next=5,this.setSinkId(Nn);case 5:case"end":return pn.stop()}},dn,this)}));function un(){return hn.apply(this,arguments)}return un}(),yn._rebindSrcObject=function(){this._domElement&&(this._domElement.srcObject=this._domElement.srcObject)},yn._pauseAndPlay=function(){this._domElement&&(this._domElement.pause(),this._domElement.play())},yn._startAudioOnlyVideoElementWatcher=function(){var hn=(0,ot.default)(it.default.mark(function dn(){var Nn,Wn;return it.default.wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:return Nn=1e3,Wn=ft.isiOS,this._audioOnlyVideoElementWatcher=setInterval(()=>{this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.paused&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject,Wn&&this._domAudioOnlyVideoElement.play())},100),Rn.next=5,ut(Nn);case 5:clearInterval(this._audioOnlyVideoElementWatcher),this._audioOnlyVideoElementWatcher=null;case 7:case"end":return Rn.stop()}},dn,this)}));function un(){return hn.apply(this,arguments)}return un}(),yn._removeAudioOnlyVideoElement=function(){var hn=(0,ot.default)(it.default.mark(function dn(){return it.default.wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:this._domAudioOnlyVideoElement.srcObject=null,this._domAudioOnlyVideoElement.parentNode.removeChild(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._domAudioOnlyVideoElement=null;case 4:case"end":return Wn.stop()}},dn,this)}));function un(){return hn.apply(this,arguments)}return un}(),yn.bindAudioTrackOnly=function(){var hn=(0,ot.default)(it.default.mark(function dn(){var Nn,Wn,pn,Rn,xn,Jn,cr;return it.default.wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:return Nn=this._stream.getVideoTracks(),Wn=this._stream.getAudioTracks(),pn=Nn[0],Rn=pn===void 0?{}:pn,xn=Wn[0],Jn=xn===void 0?{}:xn,_n.next=6,Tt();case 6:cr=!Rn.enabled&&Jn.enabled,!this._isVideoLoadedMetaData&&cr&&this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=new rn.MediaStream(Wn),this._startAudioOnlyVideoElementWatcher());case 8:case"end":return _n.stop()}},dn,this)}));function un(){return hn.apply(this,arguments)}return un}(),yn._bindAudioOnlyVideoElementEvents=function(){var un=this;this._domAudioOnlyVideoElementEvents=at(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents.on("pause",()=>this.play()),this._domAudioOnlyVideoElementEvents.on("timeupdate",function(){for(var dn=arguments.length,Nn=new Array(dn),Wn=0;Wn<dn;Wn++)Nn[Wn]=arguments[Wn];return un.trigger("timeupdate",...Nn)}),this._domAudioOnlyVideoElementEvents.on("loadedmetadata",function(){for(var dn=arguments.length,Nn=new Array(dn),Wn=0;Wn<dn;Wn++)Nn[Wn]=arguments[Wn];return un.trigger("loadedmetadata",...Nn)})},yn.whenTimeIncrements=function(un,dn){this.once("timeupdate",()=>{un.call(dn,this)})},yn.domElement=function(){return this._domElement},yn.videoWidth=function(){return this._domElement?Number(this._domElement[`video${this.isRotated()?"Height":"Width"}`]):0},yn.videoHeight=function(){return this._domElement?Number(this._domElement[`video${this.isRotated()?"Width":"Height"}`]):0},yn.aspectRatio=function(){return this.videoWidth()/this.videoHeight()},yn.imgData=function(){const un=tn.createElement("canvas",{width:this.videoWidth(),height:this.videoHeight(),style:{display:"none"}});Nt.body.appendChild(un);let dn=null;try{un.getContext("2d").drawImage(this._domElement,0,0,un.width,un.height),dn=un.toDataURL("image/png")}catch{}return tn.removeElement(un),dn===null||dn==="data:,"?(this.logging.warn("Cannot get image data yet"),null):dn.replace("data:image/png;base64,","").trim()},yn.appendTo=function(un){return un.appendChild(this._domElement),this._domAudioOnlyVideoElement&&un.appendChild(this._domAudioOnlyVideoElement),this},yn.isAudioBlocked=function(){return this._blockedVolume!==void 0},yn.unblockAudio=function(){var hn=(0,ot.default)(it.default.mark(function dn(){var Nn;return it.default.wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:if(this.isAudioBlocked()){pn.next=3;break}return this.logging.warn("Unexpected call to unblockAudio() without blocked audio"),pn.abrupt("return");case 3:return Nn=this._blockedVolume,this._blockedVolume=void 0,this.setAudioVolume(Nn),pn.prev=6,pn.next=9,this.play();case 9:pn.next=16;break;case 11:throw pn.prev=11,pn.t0=pn.catch(6),this._blockedVolume=Nn,this._domElement.muted=!0,pn.t0;case 16:this.trigger("audioUnblocked");case 17:case"end":return pn.stop()}},dn,this,[[6,11]])}));function un(){return hn.apply(this,arguments)}return un}(),yn.rebind=function(){var hn=(0,ot.default)(it.default.mark(function dn(){return it.default.wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:if(this._domElement){Wn.next=2;break}throw new Error("Can't rebind because _domElement no longer exists");case 2:this._playInterrupts++,this._domElement.srcObject=this._domElement.srcObject,this._hasAudioOnlyVideoElement()&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject);case 5:case"end":return Wn.stop()}},dn,this)}));function un(){return hn.apply(this,arguments)}return un}(),yn._createAudioLevelSampler=function(){if(this._removeAudioLevelSampler(),this._stream.getAudioTracks().length>0){try{this._audioContext=Wt()}catch(un){this.logging.warn("Failed to get AudioContext(), audio level visualisation will not work",un)}this._audioContext&&(this._audioLevelSampler=new Ht(this._audioContext),this._audioLevelSampler.webRTCStream(this._stream))}},yn._removeAudioLevelSampler=function(){this._audioContext&&(delete this._audioContext,delete this._audioLevelSampler)},yn._toggleVideoTracks=function(){var hn=(0,ot.default)(it.default.mark(function dn(){var Nn,Wn,pn;return it.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:if(Nn=this._domElement.srcObject.getTracks().filter(Jn=>Jn.enabled),Wn=Nn.length>1,!Wn){xn.next=8;break}return pn=Nn.filter(Jn=>Jn.kind==="video"),pn.forEach(Jn=>{Jn.enabled=!1}),xn.next=7,Tt();case 7:pn.forEach(Jn=>{Jn.enabled=!0});case 8:case"end":return xn.stop()}},dn,this)}));function un(){return hn.apply(this,arguments)}return un}(),yn._hasAudioOnlyVideoElement=function(){return this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.srcObject},yn.play=function(){var hn=(0,ot.default)(it.default.mark(function dn(){var Nn,Wn,pn,Rn,xn,Jn,cr,er,_n,Sr,vr,Gr;return it.default.wrap(function(Ur){for(;;)switch(Ur.prev=Ur.next){case 0:if(Nn=this._playInterrupts,Wn=this._hasAudioOnlyVideoElement()?this._domAudioOnlyVideoElement:this._domElement,!ft.isSafari){Ur.next=5;break}return Ur.next=5,Tt();case 5:if(!(ft.isiOS&&ft.isSafari)){Ur.next=15;break}if(this._widgetType!=="publisher"){Ur.next=14;break}if(pn=ft.iOSVersion>=14&&ft.iOSVersion<=14.2,Rn=this._stream.getVideoTracks(),xn=Rn[0],Jn=xn===void 0?{}:xn,cr=this._stream.getAudioTracks(),er=cr[0],_n=er===void 0?{}:er,!(pn&&!dt(Wn)&&Jn.enabled)){Ur.next=12;break}return Ur.abrupt("return");case 12:if(!_n.muted){Ur.next=14;break}return Ur.abrupt("return");case 14:this._toggleVideoTracks();case 15:return Ur.prev=15,this._emitVideoPlayAttempt(),Ur.next=19,Wn.play();case 19:return this._emitVideoPlaySuccess(),Ur.abrupt("return");case 23:if(Ur.prev=23,Ur.t0=Ur.catch(15),this._emitVideoPlayFailure(),Sr=Ur.t0||{},vr=Sr.name,Gr=vr==="AbortError",Gr&&this._playInterrupts++,!(this._playInterrupts>Nn)){Ur.next=33;break}return Ur.next=32,this.play();case 32:return Ur.abrupt("return");case 33:throw Ur.t0;case 34:case"end":return Ur.stop()}},dn,this,[[15,23]])}));function un(){return hn.apply(this,arguments)}return un}(),yn._bindToStream=function(un){this._stream=un,this._domElement.srcObject=un,this._domAudioOnlyVideoElement&&this.bindAudioTrackOnly()},yn.bindToStream=function(){var hn=(0,ot.default)(it.default.mark(function dn(Nn){var Wn=this,pn,Rn,xn;return it.default.wrap(function(cr){for(;;)switch(cr.prev=cr.next){case 0:if(this._domElement){cr.next=2;break}throw new Error("Can't bind because _domElement no longer exists");case 2:return this._bindToStream(Nn),(0,ot.default)(it.default.mark(function er(){var _n;return it.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:return vr.prev=0,vr.next=3,Wn.play();case 3:vr.next=26;break;case 5:if(vr.prev=5,vr.t0=vr.catch(0),_n=!!Nn.getAudioTracks().length,!(Wn._hasAudioOnlyVideoElement()&&vr.t0.name==="NotAllowedError")){vr.next=15;break}return Wn._domAudioOnlyVideoElement.muted=!0,vr.next=12,Wn.play();case 12:Wn._domAudioOnlyVideoElement.muted=!1,vr.next=26;break;case 15:if(!_n){vr.next=23;break}return Wn._blockedVolume=Wn.getAudioVolume(),Wn._domElement.muted=!0,vr.next=20,Wn.play();case 20:Wn.trigger("audioBlocked"),vr.next=26;break;case 23:return Wn._domElement.muted=!0,vr.next=26,Wn.play();case 26:case"end":return vr.stop()}},er,null,[[0,5]])}))().catch(er=>{this.logging.debug(".play() failed: ",er)}),pn={width:this._domElement.videoWidth,height:this._domElement.videoHeight},this.trigger("videoDimensionsChanged",Object.assign({},pn),Object.assign({},pn)),this._domElementEvents.on("resize",()=>{const er=this._domElement,_n=er.videoWidth,Sr=er.videoHeight,vr=_n!==pn.width,Gr=Sr!==pn.height;(vr||Gr)&&(this.trigger("videoDimensionsChanged",Object.assign({},pn),{width:_n,height:Sr}),pn.width=_n,pn.height=Sr)}),Rn=()=>{this._mediaStoppedListener.stop(),this._domElement&&(this._domElement.onended=null),this.trigger("mediaStopped")},xn=er=>{this.trigger("mediaStopped",er)},this._domElement.onended=()=>Rn(),this._mediaStoppedListener=Lt(Nn,Rn,xn),this._createAudioLevelSampler(),cr.abrupt("return",void 0);case 13:case"end":return cr.stop()}},dn,this)}));function un(dn){return hn.apply(this,arguments)}return un}(),yn.unbindStream=function(){return this._domElement&&(this._domElement.srcObject=null),this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=null),this._removeAudioLevelSampler(),this},yn.setAudioVolume=function(un){if(this.isAudioBlocked()){this._blockedVolume=un;return}const dn=parseFloat(un)/100,Nn=[this.domElement()];this._domAudioOnlyVideoElement&&Nn.push(this._domAudioOnlyVideoElement),Nn.forEach(Wn=>{Wn&&(Wn.volume=dn,Wn.muted=dn===0)})},yn.getAudioVolume=function(){if(this.isAudioBlocked())return this._blockedVolume;const un=this.domElement();return un?un.muted?0:un.volume*100:this._defaultAudioVolume},yn.audioChannelType=function(un){const dn=this.domElement();return un!==void 0&&(dn.mozAudioChannelType=un),"mozAudioChannelType"in this._domElement?dn.mozAudioChannelType:"unknown"},yn.getAudioInputLevel=function(){return this._audioLevelSampler.sample()},yn.refreshTracks=function(){this._mediaStoppedListener&&this._mediaStoppedListener.refresh(),this._createAudioLevelSampler()},yn.destroy=function(){this._mediaStoppedListener&&this._mediaStoppedListener.stop(),this.logging.debug("removing domElementEvents"),this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._audioOnlyVideoElementWatcher&&clearInterval(this._audioOnlyVideoElementWatcher),this.unbindStream(),this._domElement&&(tn.removeElement(this._domElement),this._domElement=null),this._domAudioOnlyVideoElement&&(tn.removeElement(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElement=null),this.trigger("destroyed"),ct("NativeVideoElementWrapper",this)},yn.setSinkId=function(un){const Nn=[this._domElement,this._domAudioOnlyVideoElement].map(Wn=>{if(Wn)return Wn.setSinkId(un)});return nt.all(Nn)},on}()}_e.exports=It}).call(this,et(0))},function(_e,tt,et){(function(nt){_e.exports=()=>new nt(rt=>setTimeout(rt))}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5)),st=rt(et(661)),at=rt(et(662)),ct=rt(et(1));const lt=et(9),dt=et(47),ut=et(60),ft=et(6),pt=et(298),bt=et(299),Tt=et(670),ht=(0,ct.default)("PublisherPeerConnection");_e.exports=function(vt){vt===void 0&&(vt={});const Ct=vt.getStatsHelpers||et(75),It=vt.OTHelpers||et(8),Zt=vt.PeerConnection||et(71)(),Wt=vt.setCertificates||et(163)(),kt=vt.watchAudioAcquisition||et(672),Nt=vt.createAudioFallbackStateMachine||st.default,Lt=vt.createCongestionLevelEstimator||at.default;return function(tn){var $t=this;let Ht=tn.iceConfig,rn=tn.webRTCStream,ln=tn.channels,mn=tn.sendMessage,on=tn.capableSimulcastStreams,yn=tn.overrideSimulcastEnabled,hn=tn.logAnalyticsEvent,un=tn.offerOverrides,dn=tn.answerOverrides,Nn=tn.sourceStreamId,Wn=tn.isP2pEnabled,pn=tn.sessionId,Rn=tn.keyStore,xn=tn.sFrameClientStore,Jn=tn.isE2ee,cr=tn.audioFallbackEnabled,er=tn.resolution,_n,Sr=!1,vr,Gr,Lr;const Ur=function(){this.destroy(),Sr&&(Sr=!1,this.trigger("iceRestartFailure")),this.trigger("disconnected")},co=function(lr){let Vr=lr.reason,oo=lr.prefix;this.trigger("error",{reason:Vr,prefix:oo})},Tr=function(lr){Sr&&_n.iceConnectionStateIsConnected()&&(Sr=!1,this.trigger("iceRestartSuccess")),lr==="connected"&&(It.env.name==="Chrome"&&(vr&&vr(),vr=kt(_n.getStats.bind(_n),()=>this.trigger("audioAcquisitionProblem"))),this.trigger("connected")),this.trigger("iceConnectionStateChange",lr)};ft(this),this.setCongestionLevel=Gn=>{var lr;(lr=Gr)==null||lr.setCongestionLevel(Gn)},this.getAudioFallbackState=()=>{var Gn;return(Gn=Gr)==null?void 0:Gn.getState()},this.startEncryption=Gn=>{_n&&_n.startEncryption(Gn)},this.changeMediaDirectionToInactive=()=>{_n&&_n.changeMediaDirectionToInactive()},this.changeMediaDirectionToRecvOnly=()=>{_n&&_n.changeMediaDirectionToRecvOnly()},this.getDataChannel=function(Gn,lr,Vr){_n.getDataChannel(Gn,lr,Vr)},this.getSourceStreamId=()=>_n.getSourceStreamId(),this.destroy=function(){var Gn;(Gn=Lr)==null||Gn.stop(),vr&&(vr(),vr=null),_n&&(_n.disconnect(),_n=null),this.off()},this.processMessage=function(Gn,lr){_n.processMessage(Gn,lr)},this.addTrack=function(Gn,lr,Vr){return _n.addTrack(Gn,lr,Vr)},this.removeTrack=function(Gn){return _n.removeTrack(Gn)},this.getLocalStreams=function(){return _n.getLocalStreams()},this.init=function(Gn,lr){pt(Nn)&&bt(Ht);const Vr={iceConfig:Ht.needRumorIceServersFallback?lt(Ht,{servers:[...Gn,...Ht.servers]}):Ht,channels:ln,capableSimulcastStreams:on,overrideSimulcastEnabled:yn};Wt(Vr,(oo,Yn)=>{if(oo){lr(oo);return}const yr=lt({logAnalyticsEvent:hn,isPublisher:!0,offerOverrides:un,answerOverrides:dn,sourceStreamId:Nn,p2p:Wn,sessionId:pn,keyStore:Rn,sFrameClientStore:xn,isE2ee:Jn},Yn);_n=new Zt(lt({sendMessage:mn},yr)),_n.on({close:Ur,error:co,qos:Ar=>this.trigger("qos",Ar),iceConnectionStateChange:Tr},this),_n.addLocalStream(rn).then(()=>{lr(void 0)}).catch(lr)})},this.setIceConfig=Gn=>{_n.setIceConfig(Gn)},this.generateOffer=()=>{_n.generateOfferAndSend()},this.getSenders=function(){return _n.getSenders()},this.iceRestart=function(){_n&&(Sr=!0,_n.iceRestart())},this.hasRelayCandidates=()=>_n.hasRelayCandidates(),this.iceConnectionStateIsConnected=function(){return _n.iceConnectionStateIsConnected()},this.findAndReplaceTrack=(Gn,lr)=>_n.findAndReplaceTrack(Gn,lr),this._testOnlyGetFramesEncoded=()=>new nt((Gn,lr)=>{_n.getStats((Vr,oo)=>{if(Vr){lr(Vr);return}const Yn=ut(oo,yr=>Ct.isVideoStat(yr,oo)&&Ct.isOutboundStat(yr));if(!Yn){lr(new Error("Could not find framesEncoded in getStats report"));return}Gn(dt(Yn,["timestamp","framesEncoded"]))})}),this.getStats=Gn=>_n.getStats(Gn),this.getRtcStatsReport=Gn=>_n.getRtcStatsReport(Gn),this.setP2PMaxBitrate=(0,ot.default)(it.default.mark(function Gn(){var lr,Vr,oo,Yn,yr,Ar,so;return it.default.wrap(function(mo){for(;;)switch(mo.prev=mo.next){case 0:if($t.getSourceStreamId()==="P2P"){mo.next=2;break}return mo.abrupt("return");case 2:if(Vr=$t.getSenders().find(bo=>bo.track.kind==="video"),Vr){mo.next=5;break}return mo.abrupt("return");case 5:return oo=(Vr==null||(lr=Vr.track)==null||lr.getSettings==null?void 0:lr.getSettings())||{},Yn=oo.width,yr=oo.height,Ar=Tt(Yn,yr),so=Vr.getParameters(),so.encodings.forEach(bo=>{bo.maxBitrate=Ar}),mo.prev=9,mo.next=12,Vr.setParameters(so);case 12:mo.next=16;break;case 14:mo.prev=14,mo.t0=mo.catch(9);case 16:case"end":return mo.stop()}},Gn,null,[[9,14]])}));const wr=()=>{Gr=Nt(),Gr.on("stateChange",Gn=>{let lr=Gn.previousState,Vr=Gn.state;this.trigger("audioFallbackStateChange",{previousState:lr,state:Vr})})},Bn=()=>{Lr=Lt({resolution:er,getStats:this.getStats}),this.on("connected",()=>{Lr.start()})};cr&&(wr(),Bn(),(()=>{let lr;Lr.on("congestionLevel",Vr=>{Vr!==lr&&(lr=Vr,ht.info(`Congestion level changed to: ${Vr}`))})})())}}}).call(this,et(0))},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt={bandwidthCriticalThreshold:7e4,bandwidthFairThreshold:0,packetLossCriticalThreshold:.15,packetLossCriticalThresholdMediumBw:.2,criticalCongestionPeriod:4e3};tt.default=rt},function(_e,tt,et){const nt=et(669);_e.exports=rt=>rt!=="P2P"?!1:nt()},function(_e,tt,et){_e.exports=nt=>{nt.transportPolicy="relay",nt.customServers=nt.customServers||[]}},function(_e,tt,et){const nt=et(9),rt=et(6),it=et(298),ot=et(299);_e.exports=function(at){at===void 0&&(at={});const ct=at.OTHelpers||et(8),lt=at.PeerConnection||et(71)(),dt=at.SinglePeerConnectionAdapter||et(673)(),ut=at.setCertificates||et(163)(),ft=at.Errors||et(7),pt=at.ExceptionCodes||et(10),bt=at.OTErrorClass||et(22),Tt=at.watchSubscriberAudio||et(674);return function(gt){let vt=gt.clientCandidates,Ct=gt.iceConfig,It=gt.send,Zt=gt.logAnalyticsEvent,Wt=gt.p2p,kt=gt.codecFlags,Nt=gt.sourceStreamId,Lt=gt.remoteConnectionId,Mt=gt._singlePeerConnectionController,tn=gt.keyStore,$t=gt.sFrameClientStore,Ht=gt.isE2ee;const rn=this;let ln,mn=!1,on=!1,yn=null;const hn=!!Mt;let un=!1;const dn=[],Nn=[],Wn=function(){this.destroy(),on&&this.trigger("iceRestartFailure",this),this.trigger("disconnected",this)},pn=Bn=>{this.trigger("remoteStreamRemoved",Bn,this)},Rn=Bn=>{const Gn=Bn.kind==="video"?dn:Nn,lr=Gn.indexOf(Bn);lr>-1&&Gn.splice(lr,1)},xn=Bn=>{const Gn=Bn.kind==="video"?dn:Nn;Gn.includes(Bn)||Gn.push(Bn)},Jn=100,cr=Bn=>{un||(Bn.onremovetrack=Gn=>{Rn(Gn),hn&&ln&&ln.removeTrack(Gn),setTimeout(()=>{!dn.length&&!Nn.length&&pn(Bn)},Jn)},un=!0)},er=Bn=>{const Gn=Bn.stream,lr=Bn.track;xn(lr),cr(Gn),this.trigger("remoteTrackAdded",Bn,this)},_n=Bn=>{this.trigger("remoteVideoSupported",Bn)},Sr=()=>{this.trigger("decryptFailed")},vr=()=>{this.trigger("decryptRestored")},Gr=function(Gn){let lr=Gn.reason,Vr=Gn.prefix;this.trigger("error",null,lr,this,Vr)},Lr=function(Gn){on&&(Gn==="connected"||Gn==="completed")&&(on=!1,this.trigger("iceRestartSuccess")),Gn==="connected"&&this.trigger("connected"),this.trigger("iceConnectionStateChange",Gn)},Ur=function(Gn){this.trigger("signalingStateChange",Gn)},co=function(Gn){this.trigger("signalingStateStable",Gn)},Tr=(Bn,Gn)=>{(Bn==="answer"||Bn==="pranswer")&&this.trigger("connected"),It(Bn,Gn)};rt(this),this._hasAudioTracks=()=>Nn.length>0,this._hasVideoTracks=()=>dn.length>0,this._getVideoTracks=()=>dn,this._getAudioTracks=()=>Nn,this._getTracks=()=>[...Nn,...dn],this.close=function(){mn||(mn=!0,ln&&(ln.disconnect(),ln=null),this.off())},this.destroy=function(){this.stopAudioStatsWatcher(),!mn&&this.close()},this.getDataChannel=function(Bn,Gn,lr){ln.getDataChannel(Bn,Gn,lr)},this.getSourceStreamId=()=>ln.getSourceStreamId(),this.processMessage=function(Bn,Gn){ln.processMessage(Bn,Gn)},this.remoteDescription=function(){return ln.remoteDescription()},this.getStats=function(Bn){if(ln)ln.getStats(Bn);else{const Gn=pt.PEER_CONNECTION_NOT_CONNECTED;Bn(new ct.Error(bt.getTitleByCode(Gn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Gn}))}},this.getSynchronizationSources=function(Bn){if(!ln){const Gn=pt.PEER_CONNECTION_NOT_CONNECTED;Bn(new ct.Error(bt.getTitleByCode(Gn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Gn}));return}ln.getSynchronizationSources(Bn)},this.getRtcStatsReport=function(Bn){if(ln)ln.getRtcStatsReport(Bn);else{const Gn=pt.PEER_CONNECTION_NOT_CONNECTED;Bn(new ct.Error(bt.getTitleByCode(Gn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Gn}))}},this.setIceConfig=Bn=>{ln.setIceConfig(Bn)},this.generateOffer=()=>{ln.generateOfferAndSend()},this.startAudioStatsWatcher=function(Bn){yn||(yn=Tt(ln.getStats.bind(ln),Gn=>{this.stopAudioStatsWatcher(),this.trigger("audioLevelStuckWarning",Gn)},Bn))},this.stopAudioStatsWatcher=function(){yn&&yn.stop(),yn=null};const wr=function(Gn){return function(lr){const Vr=Gn==="video"?dn:Nn;ln&&ln.remoteTracks().forEach(oo=>{oo.kind===Gn&&oo.enabled!==lr&&Vr.includes(oo)&&(oo.enabled=lr)})}};this.subscribeToAudio=wr("audio"),this.subscribeToVideo=wr("video"),this.hasRelayCandidates=function(){return ln.hasRelayCandidates()},this.iceRestart=function(){return on=!0,ln.iceRestart()},this.iceConnectionStateIsConnected=function(){return ln.iceConnectionStateIsConnected()},this.init=function(Bn){it(Nt)&&ot(Ct),ut({iceConfig:Ct},(lr,Vr)=>{if(lr){Bn(lr);return}const oo=nt({logAnalyticsEvent:Zt,clientCandidates:vt,codecFlags:kt,sourceStreamId:Nt,keyStore:tn,sFrameClientStore:$t,isE2ee:Ht},Vr),Yn=nt({sendMessage:Tr,p2p:Wt},oo,{remoteConnectionId:Lt});hn?ln=new dt(Yn,Mt):ln=new lt(Yn),ln.on({iceConnected:()=>rn.emit("iceConnected"),close:Wn,trackAdded:er,signalingStateChange:Ur,signalingStateStable:co,error:Gr,qos:yr=>this.trigger("qos",yr),iceConnectionStateChange:Lr,remoteVideoSupported:_n,decryptFailed:Sr,decryptRestored:vr},rn),!hn&&ln.remoteTracks().length>0?ln.remoteStreams().forEach(yr=>{yr.getTracks().forEach(Ar=>er({stream:yr,track:Ar}))}):Bn(void 0,rn)})}}}},function(_e,tt,et){_e.exports=(nt,rt)=>{nt.forEach((it,ot)=>{const st=it.id||it,at=rt.id||rt;st===at&&nt.splice(ot,1)})}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const ct=(rt.generateSimpleStateMachine||et(160)())("NotPublishing",["NotPublishing","GetUserMedia","BindingMedia","MediaBound","PublishingToSession","Publishing","Failed","Destroyed"],{NotPublishing:["NotPublishing","GetUserMedia","Destroyed"],GetUserMedia:["BindingMedia","Failed","NotPublishing","Destroyed"],BindingMedia:["MediaBound","Failed","NotPublishing","Destroyed"],MediaBound:["NotPublishing","PublishingToSession","Failed","Destroyed"],PublishingToSession:["NotPublishing","Publishing","Failed","Destroyed","MediaBound"],Publishing:["NotPublishing","MediaBound","Failed","Destroyed"],Failed:["Destroyed"],Destroyed:[]});return ct.prototype.isDestroyed=function(){return this.current==="Destroyed"},ct.prototype.isAttemptingToPublish=function(){return["GetUserMedia","BindingMedia","MediaBound","PublishingToSession"].indexOf(this.current)!==-1},ct.prototype.isPublishing=function(){return this.current==="Publishing"},ct}},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=nt;function nt(rt){this.message=rt||"Operation has been canceled.",this.name="CancellationError",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}nt.prototype=Object.create(Error.prototype),nt.prototype.constructor=nt},function(_e,tt,et){var nt=et(0);Object.defineProperty(tt,"__esModule",{value:!0});function rt(it,ot){return nt.resolve(it).then(st=>nt.resolve(ot()).then(()=>st),st=>nt.resolve(ot()).then(()=>nt.reject(st)))}tt.default=rt},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(141),at=et(254),ct=et(9),lt=et(276),dt=et(57),ut=et(50),ft=et(165),pt=ft.CancellationError,bt=et(15),Tt=et(18),ht=et(49),gt=et(267),vt=et(26),Ct=et(6),It=et(684),Zt=et(104),Wt=et(61),kt=et(685),Nt=et(7),Lt=et(164)(),Mt=et(686),tn=et(282),$t=et(144),Ht=et(283),rn=et(145),ln=et(2),mn=et(7),on=et(23)(),yn=et(10),hn=et(75),un=et(306),dn=et(307),Nn=et(687),Wn=et(162)(),pn=et(1)("Subscriber"),Rn=et(284)(),xn=et(285),Jn=et(13)(),cr=et(22),er=et(8),_n=et(152),Sr=et(143)(typeof window!==void 0?window:commonjsGlobal),vr=et(71)({global:Sr}),Gr=et(300)({PeerConnection:vr}),Lr=et(308),Ur=et(286),co=et(690),Tr=et(691),wr=et(692),Bn=et(309),Gn=et(102).parseIceServers,lr=et(693),Vr=et(694),oo=et(695),Yn=et(311),yr=et(167),Ar=et(312),so=100,jr=($r,Wo)=>$r.connection.id===Wo.connection.id,mo=$r=>{let Wo=$r.apiKey,So=$r.sessionId,Vo=$r.streamId,qr=$r.subscriberId;return["/v2/partner",Wo,"session",So,"stream",Vo,"subscriber",qr].join("/")};function bo($r){return Math.max(0,Math.min(100,parseInt($r,10)))}function go($r){return $r.audioVolume!==void 0?$r.audioVolume:$r.subscribeToAudio===!1?0:so}_e.exports=function(Wo){let So=Wo===void 0?{}:Wo,Vo=So.AudioLevelMeter,qr=Vo===void 0?tn:Vo,Iu=So.AudioLevelTransformer,Ho=Iu===void 0?$t:Iu,Co=So.BackingBar,es=Co===void 0?Ht:Co,Hs=So.Chrome,eu=Hs===void 0?rn:Hs,Is=So.env,_a=Is===void 0?ln:Is,wu=So.Errors,Wu=wu===void 0?mn:wu,Bp=So.Events,_u=Bp===void 0?on:Bp,qu=So.ExceptionCodes,_r=qu===void 0?yn:qu,qs=So.audioLevelSampler,lu=qs===void 0?Nn:qs,Gs=So.getStatsHelpers,El=Gs===void 0?hn:Gs,Hr=So.hasAudioOutputLevelStatCapability,Qs=Hr===void 0?un:Hr,Yp=So.hasRemoteStreamsWithWebAudio,uu=Yp===void 0?dn:Yp,du=So.interpretPeerConnectionError,ts=du===void 0?Wn:du,Wl=So.logging,ns=Wl===void 0?pn:Wl,Hu=So.MuteButton,fp=Hu===void 0?Rn:Hu,_c=So.NamePanel,rp=_c===void 0?xn:_c,_d=So.otError,ba=_d===void 0?Jn:_d,zo=So.OTErrorClass,tu=zo===void 0?cr:zo,vo=So.OTHelpers,ip=vo===void 0?er:vo,Ou=So.StylableComponent,Ap=Ou===void 0?_n:Ou,bs=So.SubscriberPeerConnection,kp=bs===void 0?Gr:bs,_p=So.SubscribingState,Lp=_p===void 0?Lr:_p,Sp=So.VideoDisabledIndicator,zp=Sp===void 0?Ur:Sp,op=So.AudioBlockedIndicator,fu=op===void 0?co:op,Gu=So.VideoUnsupportedIndicator,Ul=Gu===void 0?Tr:Gu,Wp=So.watchFrameRate,Qn=Wp===void 0?wr:Wp,An=So.createSendMethod,Pn=An===void 0?Bn:An,nr=So.parseIceServers,Ir=nr===void 0?Gn:nr,Zr=So.document,ko=Zr===void 0?(typeof window!==void 0?window:commonjsGlobal).document:Zr,Go=So.WidgetView,As=Go===void 0?Lt:Go;const os=3e4,ps=15e3,Vs=function _s(Vp,Fs,Gl){var Bs=this,nu;if(Fs===void 0&&(Fs={}),Gl===void 0&&(Gl=()=>{}),Fs.analytics===void 0)throw new Error("Subscriber requires an instance of analytics");const Tp=Fs.analytics,sp=bt(),tm=_s.hasAudioOutputLevelStatCapability()||uu(),na=this,Bu={},ap={},Zp={},Su={},pp={},Fl=new Ar;let fo,qo,hp,to,qp,Js,mp,Np,Zo,Gp,_f,nm,am,Mp,Kp=!1,rm=Vp||sp,ss=Fs.session,Io=Fs.stream;const fm=Fs,Sm=fm._singlePeerConnectionController,pm=Sm!==void 0;let xp,Yu,Fn,en=!1,Zn,rr={},ir=null,eo=!1,no=!0,po=[],uo=st({},Fs,{showControls:!0,testNetwork:!1,fitMode:Io.defaultFitMode||"cover",insertDefaultUI:!0,initials:Io.initials}),pu;const No=ss.sessionInfo.isAdaptiveEnabled,Nl={P2P:vt.SUBSCRIBER_DISCONNECTED,MANTIS:vt.SUBSCRIBER_DISCONNECTED},Fp=_a.name==="Chrome"&&_a.version>=58||_a.isChromiumEdge||_a.isOpera,Eu=ss._.getSocket(),Dp=()=>lt(ap),Au=qt=>ap[qt],ku=()=>ap[pu],cp=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn){var Dn;return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.next=2,ap[Sn];case 2:Dn=sr.sent,Dn==null||Dn.close(),delete ap[Sn];case 5:case"end":return sr.stop()}},gn)}));return function(Sn){return qt.apply(this,arguments)}}(),Rp=qt=>{delete Zp[qt]},im=()=>{Dp().forEach(function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn){return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:return Un.next=2,Sn;case 2:Un.sent.destroy();case 3:case"end":return Un.stop()}},gn)}));return function(gn){return qt.apply(this,arguments)}}()),Object.keys(ap).forEach(qt=>{delete ap[qt]})},Jp=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn){var Dn,Un;return it.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:if(Sn){ur.next=2;break}return ur.abrupt("return");case 2:return Dn={error:dm,audioVolume:Yu},Un=No&&pu==="P2P",ur.prev=4,ur.next=7,fo.bindVideo(Sn,Dn,Un);case 7:ur.next=18;break;case 9:if(ur.prev=9,ur.t0=ur.catch(4),!(ur.t0 instanceof pt||Js.isDestroyed())){ur.next=13;break}return ur.abrupt("return");case 13:if(!ur.t0.message.includes("bufferFailed")){ur.next=16;break}return Bs._.startRelayedToRoutedTransition(),ur.abrupt("return");case 16:throw dm(ur.t0),ur.t0;case 18:case"end":return ur.stop()}},gn,null,[[4,9]])}));return function(Sn){return qt.apply(this,arguments)}}(),Hl=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn,Dn){var Un,sr,ur,or;return it.default.wrap(function(ro){for(;;)switch(ro.prev=ro.next){case 0:if(Un=!1,typeof Sn=="function"?Dn=Sn:Un=Sn==="rtcStatsReport",Un?Im():d1(),!(Un&&!Yn)){ro.next=7;break}return sr=_r.GET_RTC_STATS_REPORT_NOT_SUPPORTED,Dn(ba(Nt.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(tu.getTitleByCode(sr)),sr)),ro.abrupt("return");case 7:if(ku()){ro.next=11;break}return sr=_r.PEER_CONNECTION_NOT_CONNECTED,Dn(ba(Wu.PEER_CONNECTION_NOT_CONNECTED,new Error(tu.getTitleByCode(sr)),sr)),ro.abrupt("return");case 11:return ro.next=13,ku();case 13:ur=ro.sent,or=Un?ur.getRtcStatsReport:ur.getStats,or((Yr,Ds)=>{Yr?(Yr.code===_r.PEER_CONNECTION_NOT_CONNECTED&&(Yr=ba(Wu.PEER_CONNECTION_NOT_CONNECTED,Yr,_r.PEER_CONNECTION_NOT_CONNECTED)),Dn(Yr)):Dn(null,Ds)});case 16:case"end":return ro.stop()}},gn)}));return function(Sn,Dn){return qt.apply(this,arguments)}}(),om=qt=>Hl(qt),cm=qt=>Hl("rtcStatsReport",qt),Ip=qt=>!Zo||!xp?!1:qt==="video"?Zo.getVideoTracks().length>0&&xp.getVideoTracks().length>0:Zo.getAudioTracks().length>0&&xp.getAudioTracks().length>0,Zs=(qt,gn,Sn,Dn,Un)=>{let sr=ct({action:qt,variation:gn,payload:Sn,streamId:Io?Io.id:null,sessionId:ss?ss.sessionId:null,connectionId:ss&&ss.isConnected()?ss.connection.connectionId:null,partnerId:ss&&ss.sessionInfo?ss.sessionInfo.partnerId:null,subscriberId:sp,widgetType:"Subscriber"},Dn);(gn==="Failure"||gn==="iceconnectionstatechange"&&Sn==="closed")&&(sr=ct(sr,rr));const ur=[sr];Un&&ur.push(Un),Tp.logEvent(...ur)},hm=(qt,gn,Sn)=>{gn==="Attempt"?(Su[qt]=new Date().getTime(),Zs(qt,gn,Sn)):(gn==="Failure"||gn==="Success")&&Zs(qt,gn,Sn,{attemptDuration:new Date().getTime()-Su[qt]})},Em=function(gn,Sn){Sn===void 0&&(Sn={}),hm("RoutedToRelayedTransition",gn,Sn)},qm=function(gn,Sn){Sn===void 0&&(Sn={}),hm("RelayedToRoutedTransition",gn,Sn)},Fu=Vr({onInvalidTransition(qt,gn){const Sn=`Invalid state transition: Event '${qt}' not possible in state '${gn}'`;ns.error(Sn),Zs("Subscriber:InvalidStateTransition","Event",{details:Sn})}});{const qt="Unable to subscribe to stream in a reasonable amount of time";lr({connectivityState:Fu,onWarning(){Cm("Warning",{})},onTimeout:()=>{if(fo&&fo.addError(qt),Js.isAttemptingToSubscribe()){Js.set("Failed"),this._disconnect({noStateTransition:!0});const gn=ba(Nt.TIMEOUT,new Error(qt),_r.UNABLE_TO_SUBSCRIBE);Fu.fail({options:{failureReason:"Subscribe",failureMessage:qt,failureCode:_r.UNABLE_TO_SUBSCRIBE},error:gn})}},warningMs:ps,timeoutMs:os})}if(Bu.promise=new nt((qt,gn)=>{Bu.resolve=qt,Bu.reject=gn}),uo.testNetwork&&ss.sessionInfo.p2pEnabled&&ns.warn("You cannot test your network with a relayed session. Use a routed session."),this.id=rm,this.widgetId=sp,this.session=ss,this.stream=uo.stream,Io=uo.stream,this.streamId=Io.id,!ss)return tu.handleJsException({errorMsg:"OT.Subscriber must be passed a session option",code:2e3,target:this,analytics:Tp}),null;Ct(this),na.once("subscribeComplete",function(){try{Gl(...arguments)}catch(qt){ns.error("Completion handler threw an exception",qt)}}),ss.on("captionReceived",qt=>{qt.streamId===na.streamId&&(this.dispatchEvent(qt),this.trigger(vt.SUBSCRIBER_CAPTION_RECEIVED,qt))});const Mm=qt=>{let gn=qt.transition,Sn=qt.from;return gn==="fail"?Sn==="connected"?"Disconnect":"Failure":gn==="disconnect"&&Sn==="connected"?"Disconnect":"Cancel"};Fu.observe({onEnterConnecting(){Cm("Attempt",null,{})},onEnterConnected(){Cm("Success",null,{})},onEnterDisconnected(qt,gn){let Sn=gn===void 0?{}:gn,Dn=Sn.options,Un=Dn===void 0?{}:Dn,sr=Sn.payload,ur=sr===void 0?null:sr;Cm(Mm(qt),ur,Un)}}),Fu.observe({onEnterConnected:()=>{this.trigger("subscribeComplete",void 0,this)},onEnterDisconnected:function(gn,Sn){let Dn=gn.from,Un=Sn===void 0?{}:Sn,sr=Un.error;Dn==="connecting"&&Bs.trigger("subscribeComplete",sr||new Error("An unknown error occurred"),Bs)}}),oo({connectivityState:Fu,logAttempt(){Zs("Subscribe","Attempting",null,{connectionId:ss&&ss.isConnected()?ss.connection.connectionId:null})}});const Cm=function(gn,Sn,Dn){Sn===void 0&&(Sn={}),gn==="Failure"||gn==="Success"||gn==="Cancel"?Zs("Subscribe",gn,Sn,Object.assign({},Dn,{attemptDuration:new Date().getTime()-nm})):gn==="Attempt"?(nm=new Date().getTime(),Zs("Subscribe",gn,Object.assign({},Sn,{testNetwork:uo.testNetwork}),Dn)):Zs("Subscribe",gn,Sn,Dn)},lm=(qt,gn)=>{Zs("ICERestart",qt,gn)},Pm=qt=>{var gn,Sn;let Dn=qt.parsedStats,Un=qt.remoteConnectionId,sr=qt.peerId,ur=qt.sourceStreamId;const or={widgetType:"Subscriber",width:fo.width,height:fo.height,audioTrack:Ip("audio"),hasAudio:Io&&Io.hasAudio,subscribeToAudio:Mp,audioVolume:this.getAudioVolume(),videoTrack:Ip("video"),connectionId:ss?ss.connection.connectionId:null,hasVideo:Io&&Io.hasVideo,subscribeToVideo:uo.subscribeToVideo,congestionLevel:ir,streamId:Io.id,subscriberId:sp,duration:Math.round((ht()-qp)/1e3),remoteConnectionId:Un,peerId:sr,sourceStreamId:yr(ur),preferredResolutionHeight:(gn=uo.preferredResolution)==null?void 0:gn.height,preferredResolutionWidth:(Sn=uo.preferredResolution)==null?void 0:Sn.width,preferredFrameRate:uo.preferredFrameRate,audioFallback:!Gp&&_f==="auto",initials:Io.initials},Do=ct(or,Dn);Tp.logQOS(Do),this.trigger("qos",Object.assign({},Tp.commonQoSFields(),Do))},mm=qt=>{ns.error("OT.Subscriber State Change Failed: ",qt.message),ns.debug(qt)},km=()=>{Js.isSubscribing()||!fo||!fo.video()||(Kp=!0,eo||(Fu.connect(),eo=!0),ns.debug("OT.Subscriber.onLoaded"),Js.set("Subscribing"),qp=ht(),fo.loading(!1),qo&&qo.showAfterLoading(),en&&Io.setRestrictFrameRate(!0),to&&to.audioOnly(fo.audioOnly()),this.setAudioVolume(Yu),this.trigger("loaded",this))},b1=()=>Io&&Io.hasAudio&&Mp&&this.getAudioVolume()>0&&!this.isAudioBlocked(),s1=()=>Io&&Io.hasVideo,a1=qt=>{const gn=qt==="audioLevelStuckAt0"&&(!b1()||s1());let Sn=!1;if(!gn&&(Zs("subscriber:onAudioWarning","Event",{reason:qt}),fo)){if(fo.rebindSrcObject(),Zs("subscriber:rebindSrcObject","Called"),qt==="audioLevelStuck")return;Sn=!0}Lm(Sn)},Lm=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn){var Dn;return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:if(Sn===void 0&&(Sn=!1),!Fp){sr.next=6;break}return sr.next=4,ku();case 4:Dn=sr.sent,Dn.startAudioStatsWatcher(Sn);case 6:case"end":return sr.stop()}},gn)}));return function(Sn){return qt.apply(this,arguments)}}(),um=qt=>{No&&qt.getSourceStreamId()==="P2P"&&Em("Success")},Tm=()=>{ns.debug("OT.Subscriber has been disconnected from the Publisher's PeerConnection"),Fu.fail({options:{failureReason:"PeerConnectionError",failureCode:_r.UNABLE_TO_PUBLISH,failureMessage:"PeerConnection disconnected"},error:ba(Wu.DISCONNECTED,new Error("ClientDisconnected"))}),this._disconnect({noStateTransition:!0}),(Js.isAttemptingToSubscribe()||Js.isSubscribing())&&Js.set("Failed")},dm=qt=>{const gn=ba(Wu.MEDIA_ERR_DECODE,qt,qt.code||_r.P2P_CONNECTION_FAILED);gn.message=`OT.Subscriber while playing stream: ${gn.message}`,ns.error("OT.Subscriber.onVideoError"),Fu.fail({options:{failureReason:"VideoElement",failureMessage:gn.message,failureCode:gn.code||_r.P2P_CONNECTION_FAILED},error:gn});const Sn=Js.isAttemptingToSubscribe();Js.set("Failed"),Sn||na.trigger("error",gn.message),tu.handleJsException({error:gn,code:_r.UNABLE_TO_SUBSCRIBE,target:na,analytics:Tp})},sm=qt=>{const gn=kt(qt);tu.handleJsException({error:gn,code:gn.code,target:na,analytics:Tp}),this._disconnect({noStateTransition:!0});const Sn={failureReason:"Subscribe",failureMessage:`OT.Subscriber PeerConnection Error: ${gn.message}`,failureCode:_r.P2P_CONNECTION_FAILED};Rm(gn.code,gn.message),Fu.fail({options:Sn,error:ba(gn.name,new Error(`Subscribe: Subscriber PeerConnection with connection (not found) failed: ${gn.message}`),gn.code)}),gn.name===Nt.STREAM_NOT_FOUND&&this._destroy({reason:"streamNotFound",noStateTransition:!0})},Vm=(qt,gn,Sn,Dn)=>{if(Dn==="SetRemoteDescription"&&!no&&gn.match(/Unsupported video without audio for fallback/)){fo&&fo.addError("The stream is unable to be played.","Your browser does not support the video format.");let or;ip.env.name==="Safari"?or=new Error("VP8 is not supported in this version of Safari. You might want to consider switching to an H264 project. See https://tokbox.com/safari for more information."):or=new Error("Video format not supported in this browser."),or.code=_r.UNSUPPORTED_VIDEO_CODEC,dm(or);return}if(Dn==="ICEWorkflow"&&ss.sessionInfo.reconnection&&Kp){ns.debug("Ignoring peer connection failure due to possibility of reconnection.");return}let Un;Dn==="ICEWorkflow"?Un=_r.SUBSCRIBER_ICE_WORKFLOW_FAILED:qt===_r.STREAM_LIMIT_EXCEEDED?Un=qt:Un=_r.P2P_CONNECTION_FAILED;const sr={failureReason:Dn||"PeerConnectionError",failureMessage:`OT.Subscriber PeerConnection Error: ${gn}`,failureCode:Un},ur=ts(qt,gn,Dn,"(not found)","Subscriber");if(Fu.fail({options:sr,error:ur}),Js.isAttemptingToSubscribe()){const or={hasRelayCandidates:Sn&&Sn.hasRelayCandidates()};Zs("createPeerConnection","Failure",or,sr),Js.set("Failed")}else Js.isSubscribing()&&(Js.set("Failed"),this.trigger("error",gn));this._disconnect({noStateTransition:!0}),Number(qt)===404&&this._destroy({noStateTransition:!0}),tu.handleJsException({error:ur,errorMsg:`OT.Subscriber PeerConnection Error: ${gn}`,code:Un,target:this,analytics:Tp}),Rm(qt)},Wm=qt=>{const gn=qt._hasVideoTracks(),Sn=qt._hasAudioTracks(),Dn=Io&&Io.hasVideo&&!gn,Un=Io&&Io.hasAudio&&!Sn;return!(Dn||Un)},Gm=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn,Dn){var Un;return it.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:return ur.prev=0,ur.next=3,It(()=>Wm(Dn));case 3:ur.next=12;break;case 5:if(ur.prev=5,ur.t0=ur.catch(0),ur.t0.message!=="TIMEOUT"){ur.next=11;break}ns.error("The expected tracks never arrived"),ur.next=12;break;case 11:throw ur.t0;case 12:return Un=Dn.getSourceStreamId(),pm&&Un==="MANTIS"&&Sm.subscriberComplete(),ur.next=16,c1(Sn.stream,Dn);case 16:case"end":return ur.stop()}},gn,null,[[0,5]])}));return function(Sn,Dn){return qt.apply(this,arguments)}}(),c1=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn,Dn){var Un,sr,ur,or,Do,ro,Yr,Ds;return it.default.wrap(function(To){for(;;)switch(To.prev=To.next){case 0:return xp=Sn,pm&&(xp=new MediaStream(Dn._getTracks())),Un=Object.keys(Zp).length===1,sr=Dn==null?void 0:Dn.getSourceStreamId(),ur=ss,or=ur.sessionInfo,Zo=Sn,sr&&(Zp[sr]=Sn),ns.debug("OT.Subscriber.onRemoteStreamAdded with sourceStreamId",sr),Js.set("BindingRemoteStream"),Bs.subscribeToAudio(Mp),_f="loading",Bs.subscribeToVideo(uo.subscribeToVideo,"loading"),!or.p2pEnabled&&sr!=="P2P"&&(Bs.setPreferredResolution(uo.preferredResolution),Bs.setPreferredFrameRate(uo.preferredFrameRate)),Dn&&Dn._getVideoTracks().forEach(Bl=>{(typeof window!==void 0?window:commonjsGlobal).webkitMediaStream?Bl.enabled=!1:Bl.enabled=Io.hasVideo&&uo.subscribeToVideo}),To.next=16,Jp(xp);case 16:if(Lm(),!Js.isDestroyed()){To.next=19;break}throw new Error("Subscriber destroyed");case 19:return Dn&&(typeof window!==void 0?window:commonjsGlobal).webkitMediaStream&&Dn._getVideoTracks().forEach(Bl=>{Bl.enabled=Io.hasVideo&&uo.subscribeToVideo}),Do=fo&&fo.video(),Do&&Do.orientation({width:Io.videoDimensions.width,height:Io.videoDimensions.height,videoOrientation:Io.videoDimensions.orientation}),ro=qo&&qo.videoUnsupportedIndicator,ro&&ro.setVideoUnsupported(!no),Yr=new nt((Bl,vm)=>{const Om=fo&&fo.video();if(Om&&Om.domElement()){Bl();return}fo.once("videoElementCreated",Bl),na.once("destroyed",vm)}),To.next=27,Yr;case 27:return To.next=29,Bu.promise;case 29:Un?Js.set("Subscribing"):km(),mp&&"webRTCStream"in mp&&Dn._hasAudioTracks()&&mp.webRTCStream(Sn),Ds=ip.env,(Ds.isSafari||Ds.isChromiumEdge||Ds.isOpera||Ds.name==="Chrome"&&Ds.version>=58||Ds.isFirefox&&Ds.version>=96)&&(Zn&&(Zn.destroy(),Zn=null),Dn&&(Zn=Qn(Dn.getStats.bind(Dn)))),Un||Bs.trigger("streamAdded",Bs),Fl.finishTransitionTo(pu);case 35:case"end":return To.stop()}},gn)}));return function(Sn,Dn){return qt.apply(this,arguments)}}(),Lu=qt=>{ns.debug("OT.Subscriber.onStreamRemoved");const gn=fo&&fo.video();gn&&gn.stream===qt&&fo.destroyVideo(),Rp(pu),xp=null,this.trigger("streamRemoved",this)},Du=qt=>{no!==qt&&this.dispatchEvent(new _u.VideoEnabledChangedEvent(qt?"videoEnabled":"videoDisabled",{reason:qt?"codecChanged":"codecNotSupported"})),no=qt},Fm=qt=>{fo.setAudioBlockedUi(qt);const gn=qo&&qo.audioBlockedIndicator;gn&&gn.setAudioBlocked(qt);const Sn=qo&&qo.videoUnsupportedIndicator;Sn&&Sn.setVideoUnsupported(!qt&&!no)};this.on("audioBlocked",()=>{Fm(!0)}),this.on("audioUnblocked",()=>{Fm(!1)});const S1={new:vt.SUBSCRIBER_DISCONNECTED,checking:vt.SUBSCRIBER_DISCONNECTED,connected:vt.SUBSCRIBER_CONNECTED,completed:vt.SUBSCRIBER_CONNECTED,disconnected:vt.SUBSCRIBER_DISCONNECTED},l1=(qt,gn)=>{const Sn=S1[qt],Dn=gn.getSourceStreamId(),Un=Nl[Dn];Sn&&Sn!==Un&&(Nl[Dn]=Sn,qt==="disconnected"&&Dn!=="P2P"&&setTimeout((0,ot.default)(it.default.mark(function ur(){var or;return it.default.wrap(function(ro){for(;;)switch(ro.prev=ro.next){case 0:if(or=ss._.isSocketReconnecting,!(Nl[Dn]==="disconnected"&&Eu.is("connected")&&!or())){ro.next=4;break}return ro.next=4,Bs._.iceRestart("peer connection disconnected");case 4:case"end":return ro.stop()}},ur)})),2e3),fo&&fo.loading(Sn!==vt.SUBSCRIBER_CONNECTED),ns.debug(`OT.Subscriber.connectionStateChanged to ${qt}`),this.dispatchEvent(new _u.ConnectionStateChangedEvent(Sn,this)))},u1=()=>{lm("Success")},xm=()=>{lm("Failure",{reason:"ICEWorkflow",message:"OT.Subscriber PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall."})},E1=qt=>{const gn=fo&&fo.video();switch(qt.changedProperty){case"videoDimensions":if(!gn)break;gn.orientation({width:qt.newValue.width,height:qt.newValue.height,videoOrientation:qt.newValue.orientation}),this.dispatchEvent(new _u.VideoDimensionsChangedEvent(this,qt.oldValue,qt.newValue));break;case"videoDisableWarning":qo&&qo.videoDisabledIndicator.setWarning(qt.newValue),this.dispatchEvent(new _u.VideoDisableWarningEvent(qt.newValue?"videoDisableWarning":"videoDisableWarningLifted")),ir=qt.newValue?1:null;break;case"hasVideo":Zm(!Io.hasVideo||!uo.subscribeToVideo),_a.isSafari&&!Io.hasVideo&&fo&&fo.bindAudioTrackOnly(),this.dispatchEvent(new _u.VideoEnabledChangedEvent(Io.hasVideo?"videoEnabled":"videoDisabled",{reason:"publishVideo"}));break;case"hasAudio":hp.update();break}},C1=()=>Io.getChannelsOfType("audio").length>0;hp={get(){return C1()?na.getStyle("buttonDisplayMode"):"off"},update(){const qt=hp.get();qo&&(qo.muteButton.setDisplayMode(qt),qo.backingBar.setMuteMode(qt))}};const T1=(qt,gn)=>{if(qo)switch(qt){case"nameDisplayMode":qo.name.setDisplayMode(gn),qo.backingBar.setNameMode(gn);break;case"videoUnsupportedDisplayMode":qo.videoUnsupportedIndicator.setDisplayMode(gn);break;case"videoDisabledDisplayMode":qo.videoDisabledIndicator.setDisplayMode(gn);break;case"audioBlockedDisplayMode":qo.audioBlockedIndicator.setDisplayMode(gn);break;case"showArchiveStatus":qo.archive.setShowArchiveStatus(gn);break;case"buttonDisplayMode":hp.update();break;case"audioLevelDisplayMode":qo.audioLevel.setDisplayMode(gn);break;case"bugDisplayMode":break;case"backgroundImageURI":fo.setBackgroundImageURI(gn);break}},gm=()=>{const qt={backingBar:new es({nameMode:uo.name?this.getStyle("nameDisplayMode"):"off",muteMode:hp.get()}),name:new rp({name:uo.name,mode:this.getStyle("nameDisplayMode")}),muteButton:new fp({muted:Yu===0,mode:hp.get()})};if(tm){const gn=new Ho;to=new qr({mode:na.getStyle("audioLevelDisplayMode")});const Sn=new Zt(()=>{to.setValue(gn.transform(this.loudness))});to.watchVisibilityChanged(Dn=>{Dn?Sn.start():Sn.stop()}),to.setDisplayMode(this.getStyle("audioLevelDisplayMode")),to.audioOnly(!1),qt.audioLevel=to}qt.videoDisabledIndicator=new zp({mode:this.getStyle("videoDisabledDisplayMode")}),qt.audioBlockedIndicator=new fu({mode:this.getStyle("audioBlockedDisplayMode")}),qt.videoUnsupportedIndicator=new Ul({mode:this.getStyle("videoUnsupportedDisplayMode")}),fo&&fo.domElement&&(qo=new eu({parent:fo.domElement}).set(qt).on({muted(){na.setAudioVolume(0)},unmuted(){na.setAudioVolume(Fn)}},this),qo.hideWhileLoading())},Rm=(qt,gn)=>{let Sn,Dn;fo&&(qt===_r.STREAM_LIMIT_EXCEEDED?(Sn="The stream was unable to connect.",Dn="The limit for the number of media streams has been reached."):gn==="Tried to subscribe to an encrypted stream without enabling encryption"?(Sn="Unable to subscribe to an encrypted stream without enabling encryption.",Dn=""):(Sn="The stream was unable to connect due to a network error.",eo?Dn="Ensure you have a stable connection and try again.":Dn="Make sure you have a stable network connection and that it isn't blocked by a firewall."),fo.addError(Sn,Dn))};Ap(this,{nameDisplayMode:"auto",buttonDisplayMode:"auto",audioLevelDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioBlockedDisplayMode:"auto",backgroundImageURI:null,showArchiveStatus:!0,showMicButton:!0},uo.showControls,qt=>{Zs("SetStyle","Subscriber",qt,null,.1)});function Zm(qt){Dp().forEach(function(){var Sn=(0,ot.default)(it.default.mark(function Dn(Un){return it.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:return ur.next=2,Un;case 2:ur.sent.subscribeToVideo(!qt);case 3:case"end":return ur.stop()}},Dn)}));return function(Dn){return Sn.apply(this,arguments)}}());const gn=qt||!xp||!xp.getVideoTracks().length;fo&&(fo.audioOnly(gn),fo.showPoster(gn)),to&&to.audioOnly(gn)}const d1=ut(()=>{Zs("GetStats","Called")}),Im=ut(()=>{Zs("GetRtcStatsReport","Called")}),Nm=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn){return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:return Np&&(Np.destroy(),Np=void 0),Un.prev=1,Un.next=4,It(()=>Sn._hasAudioTracks());case 4:Un.next=9;break;case 6:return Un.prev=6,Un.t0=Un.catch(1),Un.abrupt("return");case 9:mp=lu(Sn),mp?Np=Mt({subscriber:Bs,audioLevelSampler:mp}):Object.prototype.hasOwnProperty.call(Bs,"loudness")||(Object.defineProperty(Bs,"loudness",{value:void 0,configurable:!0,writable:!1}),ns.error("No suitable audio level samplers found, audio level visualisation will not work"));case 11:case"end":return Un.stop()}},gn,null,[[1,6]])}));return function(Sn){return qt.apply(this,arguments)}}(),wm=(qt,gn)=>{if(pp[gn]){pp[gn].removeAll();const Dn=()=>{qt.off("error",Dn),qt.off("disconnected",Dn)};qt.on("error",Dn),qt.on("disconnected",Dn)}const Sn=Wt(qt);Sn.once("connected",()=>um(qt)),Sn.on("disconnected",Tm),Sn.on("error",Vm),Sn.once("remoteTrackAdded",(0,ot.default)(it.default.mark(function Dn(){var Un=arguments;return it.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:return ur.next=2,Nm(qt);case 2:return ur.prev=2,ur.next=5,Gm(...Un);case 5:ur.next=10;break;case 7:ur.prev=7,ur.t0=ur.catch(2),ns.error(ur.t0);case 10:case"end":return ur.stop()}},Dn,null,[[2,7]])}))),Sn.on("audioLevelStuckWarning",a1),Sn.on("signalingStateStable",(0,ot.default)(it.default.mark(function Dn(){var Un;return it.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:na.trigger("signalingStateStable"),Un=fo&&fo.video(),Un&&Zo&&mp&&"webRTCStream"in mp&&qt._hasAudioTracks()&&mp.webRTCStream(Zo);case 3:case"end":return ur.stop()}},Dn)}))),Sn.on("iceConnectionStateChange",Dn=>l1(Dn,qt)),Sn.on("iceRestartSuccess",u1),Sn.on("iceRestartFailure",xm),Sn.on("remoteVideoSupported",Du),Sn.on("remoteStreamRemoved",Lu),Sn.on("decryptFailed",()=>{this.trigger("encryptionSecretMismatch"),Zs("encryptionSecretMismatch","Event"),ns.warn("Media cannot be decrypted due to an encryption secret mismatch.")}),Sn.on("decryptRestored",()=>{this.trigger("encryptionSecretMatch"),Zs("encryptionSecretMatch","Event")}),pp[gn]=pp},Dm=function(){var qt=(0,ot.default)(it.default.mark(function gn(){var Sn;return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:return Em("Attempt"),Un.next=3,Au("MANTIS");case 3:if(Sn=Un.sent,Sn!=null&&Sn.iceConnectionStateIsConnected()){Un.next=7;break}return Em("Failure",{reason:"Attempted to transition to Relayed without being connected in Routed mode."}),Un.abrupt("return");case 7:Eu.subscriberCreate(Io.id,sp,e1,"P2P",ss._.isE2ee(),(sr,ur)=>{sr&&!Fu.is("disconnected")&&Em("Failure",sr),ns.debug("message received when created a subscriber with source",ur)});case 8:case"end":return Un.stop()}},gn)}));return function(){return qt.apply(this,arguments)}}(),Xm=function(){var qt=(0,ot.default)(it.default.mark(function gn(){var Sn,Dn;return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:if(!(uo.testNetwork||jr(Io,ss)||pu!=="P2P")){sr.next=2;break}return sr.abrupt("return");case 2:if(qm("Attempt"),Zo=Zp.MANTIS,xp=Zo,!pm){sr.next=10;break}return sr.next=8,Au("MANTIS");case 8:Sn=sr.sent,xp=new MediaStream(Sn._getTracks());case 10:return sr.next=12,Jp(xp);case 12:return fo.loading(!1),cp("P2P"),pu="MANTIS",Rp("P2P"),sr.next=18,ku();case 18:return Dn=sr.sent,sr.next=21,Nm(Dn);case 21:qm("Success");case 22:case"end":return sr.stop()}},gn)}));return function(){return qt.apply(this,arguments)}}();this._destroy=qt=>{let gn=qt.reason,Sn=gn===void 0?"Unknown":gn,Dn=qt.quiet,Un=qt.noStateTransition,sr=Un===void 0?!1:Un;return Js.isDestroyed()?this:(Js.set("Destroyed"),Zn&&(Zn.destroy(),Zn=null),rr={sessionId:ss.sessionId,connectionId:ss&&ss.isConnected()?ss.connection.connectionId:null,partnerId:ss&&ss.sessionInfo?ss.sessionInfo.partnerId:null,streamId:Io&&!Io.destroyed?Io.id:null},this._disconnect({reason:Sn,noStateTransition:sr}),qo&&(qo.destroy(),qo=null),fo&&(fo.destroy(),fo.off(),fo=null,this.element=null),Io&&!Io.destroyed&&Zs("unsubscribe",null,{streamId:Io.id}),Io.off(am,this),this.id=null,rm=null,this.stream=null,Io=null,this.streamId=null,this.session=null,ss=null,uo=null,Dn!==!0&&(this.dispatchEvent(new _u.DestroyedEvent(vt.SUBSCRIBER_DESTROYED,this,Sn)),this.off()),this)},this.destroy=function(qt,gn){qt===void 0&&(qt="Unsubscribe"),ns.warn("Subscriber#destroy is deprecated and will be removed. Please use Session#unsubscribe instead"),Bs._destroy({reason:qt,quiet:gn})},this._disconnect=function(qt){let gn=qt===void 0?{}:qt,Sn=gn.reason,Dn=Sn===void 0?"Unknown":Sn;if(!gn.noStateTransition&&!Fu.is("disconnected")){const sr=Dn==="Unsubscribe"?void 0:ba(Wu.STREAM_DESTROYED,new Error("Stream was destroyed before it could be subscribed to"));Fu.disconnect({payload:{reason:Dn},error:sr})}!Js.isDestroyed()&&!Js.isFailed()&&Js.set("NotSubscribing"),fo&&fo.destroyVideo(),Eu.is("connected")&&Io&&!Io.destroyed&&Eu.subscriberDestroy(Io.id,Bs.widgetId),im()},this.disconnect=()=>{ns.warn("Subscriber#disconnect is deprecated and will be removed. Please use Session#unsubscribe instead"),this._disconnect({reason:"Unsubscribe"})};const jm=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn){var Dn,Un,sr,ur,or,Do,ro;return it.default.wrap(function(Ds){for(;;)switch(Ds.prev=Ds.next){case 0:return Dn=Sn.peerId,Un=Sn.fromConnectionId,sr=Sn.sourceStreamId,ur=mo({apiKey:ss.apiKey,sessionId:ss.sessionId,streamId:Io.id,subscriberId:Bs.widgetId}),or=Pn({socket:Bs.session._.getSocket(),uri:ur,content:{peerId:Dn,sourceStreamId:sr}}),Do=function(To,Bl,vm,Om,_1){Om===void 0&&(Om={});const q1=Object.assign({peerId:Dn,sourceStreamId:yr(sr)},Om);return Zs(To,Bl,vm,q1,_1)},ro=hu=>{pu===sr&&Pm(Object.assign({},hu,{peerId:Dn,remoteConnectionId:Un,sourceStreamId:sr}))},Ds.abrupt("return",Bs._setupPeerConnection({send:or,log:Do,logQoS:ro,sourceStreamId:sr}));case 6:case"end":return Ds.stop()}},gn)}));return function(Sn){return qt.apply(this,arguments)}}();this.processMessage=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn,Dn,Un){var sr,ur,or;return it.default.wrap(function(ro){for(;;)switch(ro.prev=ro.next){case 0:return ns.debug(`OT.Subscriber.processMessage: Received ${Sn} message from ${Dn}`),ns.debug(Un),sr=dt(Un,"content.peerId"),ur=dt(Un,"content.sourceStreamId"),ro.next=6,Au(ur);case 6:if(or=ro.sent,!or){ro.next=11;break}or.processMessage(Sn,Un),ro.next=16;break;case 11:if(Sn!=="offer"){ro.next=16;break}return ro.next=14,jm({peerId:sr,fromConnectionId:Dn,sourceStreamId:ur});case 14:or=ro.sent,pm?or.processMessage("offer",Un):Bs.session._.addSubscriberToPeerConnectionsQueue(or,Un);case 16:case"end":return ro.stop()}},gn)}));return function(gn,Sn,Dn){return qt.apply(this,arguments)}}(),this.disableVideo=qt=>{if(!qt)ns.warn("Due to high packet loss and low bandwidth, video has been disabled");else if(_f==="auto")ns.info("Video has been re-enabled");else{ns.info("Video was not re-enabled because it was manually disabled");return}this.subscribeToVideo(qt,"auto"),Zs("updateQuality","video",qt?{videoEnabled:!0}:{videoDisabled:!0})},this.getImgData=()=>{if(!this.isSubscribing())return ns.error("OT.Subscriber.getImgData: Cannot getImgData before the Subscriber is subscribing."),null;const qt=fo&&fo.video();return qt?qt.imgData():null},this.getStats=qt=>{om((gn,Sn)=>{if(gn){qt(gn);return}const Dn={timestamp:0};Sn.forEach(Un=>{if(El.isInboundStat(Un)){const sr=El.isVideoStat(Un,Sn),ur=El.isAudioStat(Un,Sn);(ur||sr)&&(Dn.timestamp=El.normalizeTimestamp(Un.timestamp)),sr?(at(Dn,{video:El.parseStatCategory(Un)}),Zn&&at(Dn,{video:{frameRate:Zn.getFrameRateFromStat(Un)}})):ur&&at(Dn,{audio:El.parseStatCategory(Un)})}}),qt(null,Dn)})},this.getRtcStatsReport=()=>new nt((qt,gn)=>{cm((Sn,Dn)=>{Sn?gn(Sn):qt(Dn)})});function Um(qt){const gn=fo&&fo.video();if(gn)try{gn.setAudioVolume(qt)}catch(Sn){ns.warn(`setAudioVolume: ${Sn}`),Yu===0&&(ns.info("Using subscribeToAudio to mute Audio because setAudioVolume(0) failed"),na.subscribeToAudio(!1))}qo&&qo.muteButton.muted(qt===0)}this.setAudioVolume=qt=>{const gn=bo(qt);return Zs("setAudioVolume","Attempt",{audioVolume:gn}),isNaN(gn)?(ns.error("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),Zs("setAudioVolume","Failure",{message:"value should be an integer between 0 and 100"}),this):(gn!==qt&&ns.warn("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),gn===Yu?(Um(Yu),Zs("setAudioVolume","Success",{audioVolume:Yu,message:"Requested volume is same as already set audioVolume"}),this):(Yu>0&&(Fn=Yu),Yu=gn,Um(Yu),Yu>0&&!Mp&&(Fn=Yu,this.subscribeToAudio(!0)),Zs("setAudioVolume","Success",{audioVolume:Yu}),this))},this.getAudioVolume=()=>{const qt=fo&&fo.video();if(qt)try{return qt.getAudioVolume()}catch(gn){ns.warn(`getAudioVolume ${gn}`)}return Yu},this.subscribeToAudio=qt=>{const gn=gt(qt,!0);Dp().forEach(function(){var Dn=(0,ot.default)(it.default.mark(function Un(sr){return it.default.wrap(function(or){for(;;)switch(or.prev=or.next){case 0:return or.next=2,sr;case 2:or.sent.subscribeToAudio(gn);case 3:case"end":return or.stop()}},Un)}));return function(Un){return Dn.apply(this,arguments)}}()),Io&&Dp().length!==0&&Io.setChannelActiveState("audio",gn);const Sn=Mp!==gn;return Mp=gn,Sn&&this.setAudioVolume(gn?Fn:0),Zs("subscribeToAudio","Event",{subscribeToAudio:gn}),this};const x1={auto:"quality",publishVideo:"publishVideo",subscribeToVideo:"subscribeToVideo"};if(_a.name==="Safari"){const qt=()=>{!ko.hidden&&uo.subscribeToVideo&&(ns.debug("document visibility restored in Safari - resubscribing to video"),this.subscribeToVideo(!1),this.subscribeToVideo(!0))};ko.addEventListener("visibilitychange",qt),this.once("destroyed",()=>{ko.removeEventListener("visibilitychange",qt)})}if(this.subscribeToVideo=(qt,gn)=>{const Sn=gt(qt,!0),Dn=!Sn&&gn==="auto";return Dn&&(ir=2),Zs("subscribeToVideo","Attempt",{subscribeToVideo:Sn,reason:gn}),Zm(!Sn||!Io.hasVideo||!Zo),Io.hasVideo&&!Ip("video")?(Sn&&ns.info("Subscriber is audio-only due to incompatibility, can't subscribeToVideo."),uo.subscribeToVideo=!1,Zs("subscribeToVideo","Failure",{message:"No video tracks available"}),this):(qo&&qo.videoDisabledIndicator&&qo.videoDisabledIndicator.disableVideo(Dn),Dp().length>0&&ss&&Io&&(Sn!==uo.subscribeToVideo||gn!==_f)&&Io.setChannelActiveState("video",Sn,gn),uo.subscribeToVideo=Sn,_f=gn,Gp=Sn,Zs("subscribeToVideo","Success",{subscribeToVideo:Sn,reason:gn}),gn!=="loading"&&this.dispatchEvent(new _u.VideoEnabledChangedEvent(Sn?"videoEnabled":"videoDisabled",{reason:x1[gn]||"subscribeToVideo"})),this)},this.setPreferredResolution=qt=>{if(Js.isDestroyed()||Dp().length===0&&!Js.current==="Connecting"){ns.warn("Cannot set the max Resolution when not subscribing to a publisher");return}if(uo.preferredResolution=qt,ss.sessionInfo.p2pEnabled){ns.warn("OT.Subscriber.setPreferredResolution will not work in a P2P Session");return}if(!Js.isStreamAdded())return;const gn=Io.getPreferredResolution();gn&&qt&&gn.width===qt.width&&gn.height===qt.height||!gn&&!qt||Io.setPreferredResolution(qt)},this.setPreferredFrameRate=qt=>{if(Js.isDestroyed()||Dp().length===0&&!Js.current==="Connecting"){ns.warn("Cannot set the max frameRate when not subscribing to a publisher");return}if(uo.preferredFrameRate=qt,ss.sessionInfo.p2pEnabled){ns.warn("OT.Subscriber.setPreferredFrameRate will not work in a P2P Session");return}const gn=Io.getPreferredFrameRate();qt&&gn&&gn===qt||!gn&&!qt||Io.setPreferredFrameRate(qt)},this.isSubscribing=()=>Js.isSubscribing(),this.isWebRTC=!0,this.isLoading=()=>fo&&fo.loading(),this.isAudioBlocked=()=>!!(fo&&fo.isAudioBlocked()),this.videoElement=()=>{const qt=fo&&fo.video();return qt?qt.domElement():null},this.videoWidth=()=>{const qt=fo&&fo.video();return qt?qt.videoWidth():void 0},this.videoHeight=()=>{const qt=fo&&fo.video();return qt?qt.videoHeight():void 0},this._subscribeToSelf=(0,ot.default)(it.default.mark(function qt(){var gn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(gn=ss.getPublisherForStream(Io),gn&&gn._.webRtcStream()){Dn.next=5;break}Fu.fail({payload:{reason:"streamNotFound"},error:ba(Wu.STREAM_DESTROYED,new Error("Tried to subscribe to a local publisher, but its stream no longer exists"))}),Dn.next=14;break;case 5:return Bu.resolve(),Dn.prev=6,Dn.next=9,c1(gn._.webRtcStream());case 9:Dn.next=14;break;case 11:Dn.prev=11,Dn.t0=Dn.catch(6),ns.error(Dn.t0);case 14:case"end":return Dn.stop()}},qt,null,[[6,11]])})),this._setupPeerConnection=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn){var Dn,Un,sr,ur;return it.default.wrap(function(Do){for(;;)switch(Do.prev=Do.next){case 0:return Dn=Sn.send,Un=Sn.log,sr=Sn.logQoS,ur=Sn.sourceStreamId,uo.testNetwork&&Bs.setAudioVolume(0),Dp().length===0&&Js.set("Connecting"),pu=ur,ap[ur]=new nt((ro,Yr)=>{ss._.getIceConfig().then(Ds=>{Ds.needRumorIceServersFallback&&(Ds.servers=[...po||[],...Ds.servers||[]]);const hu={iceConfig:Ds,subscriberId:Bs.widgetId,send:Dn,logAnalyticsEvent:Un,p2p:ss.sessionInfo.p2pEnabled,sourceStreamId:ur,remoteConnectionId:Io.connection.id,_singlePeerConnectionController:ur==="MANTIS"&&Sm,keyStore:ss.keyStore,sFrameClientStore:ss.sFrameClientStore,isE2ee:ss._.isE2ee()};Object.prototype.hasOwnProperty.call(uo,"codecFlags")&&(hu.codecFlags=uo.codecFlags);const To=new _s.SubscriberPeerConnection(hu);To.once("iceConnected",Bu.resolve),To.once("error",Bu.reject),To.on("qos",sr),wm(To,ur),To.init(Bl=>{Bl?Yr(Bl):ro(To)})})}),Do.abrupt("return",ap[ur]);case 6:case"end":return Do.stop()}},gn)}));return function(gn){return qt.apply(this,arguments)}}(),this.restrictFrameRate=qt=>(ns.debug(`OT.Subscriber.restrictFrameRate(${qt})`),Zs("restrictFrameRate",qt.toString(),{streamId:Io.id}),ss.sessionInfo.p2pEnabled&&ns.warn("OT.Subscriber.restrictFrameRate: Cannot restrictFrameRate on a P2P session"),typeof qt!="boolean"?ns.error(`OT.Subscriber.restrictFrameRate: expected a boolean value got a ${typeof qt}`):(en=qt,Io.setRestrictFrameRate(qt)),this),this.on("styleValueChanged",T1,this),this._={getDataChannel(qt,gn,Sn){return(0,ot.default)(it.default.mark(function Dn(){return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:if(ku()){sr.next=3;break}return Sn(new ip.Error("Cannot create a DataChannel before there is a publisher connection.")),sr.abrupt("return");case 3:return sr.next=5,ku();case 5:sr.sent.getDataChannel(qt,gn,Sn);case 6:case"end":return sr.stop()}},Dn)}))()},iceRestart(qt,gn){return(0,ot.default)(it.default.mark(function Sn(){var Dn;return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return gn===void 0&&(gn=!1),sr.next=3,Au("MANTIS");case 3:Dn=sr.sent,Dn?(lm("Attempt",{reason:qt}),ns.debug("Subscriber: iceRestart attempt"),Dn.iceRestart(),gn&&Dn.generateOffer()):ns.debug("Subscriber: Skipping ice restart, we have no peer connection");case 5:case"end":return sr.stop()}},Sn)}))()},unblockAudio:()=>fo&&fo.unblockAudio(),webRtcStream:()=>Zo,setIceConfig:function(){var qt=(0,ot.default)(it.default.mark(function Sn(Dn){return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:Dp().forEach(function(){var ur=(0,ot.default)(it.default.mark(function or(Do){return it.default.wrap(function(Yr){for(;;)switch(Yr.prev=Yr.next){case 0:return Yr.next=2,Do;case 2:return Yr.abrupt("return",Yr.sent.setIceConfig(Dn));case 3:case"end":return Yr.stop()}},or)}));return function(or){return ur.apply(this,arguments)}}());case 1:case"end":return sr.stop()}},Sn)}));function gn(Sn){return qt.apply(this,arguments)}return gn}(),privateEvents:new Tt,startRoutedToRelayedTransition(){uo.testNetwork||jr(Io,ss)||(Fl.startTransitionTo("P2P"),Dm())},startRelayedToRoutedTransition(){Fl.startTransitionTo("MANTIS",()=>Xm())},setSinkId(qt){if(fo&&fo.video())return fo.setSinkId(qt);ns.debug("Called setAudioOutputDevice on a subscriber without a video element")},pauseAndPlayVideoElement(){fo&&fo.pauseAndPlayVideoElement()}},Js=new Lp(mm),ns.debug(`OT.Subscriber: subscribe to ${Io.id}`),Js.set("Init"),!Io)return ns.error("OT.Subscriber: No stream parameter."),!1;am={updated:E1},Io.on(am,this),uo.name=uo.name||Io.name,uo.classNames="OT_root OT_subscriber",uo.style&&this.setStyle(uo.style,null,!0),Fn=so,uo.subscribeToVideo=gt(uo.subscribeToVideo,!0),uo.subscribeToAudio=gt(uo.subscribeToAudio,!0),this.subscribeToAudio(uo.subscribeToAudio),this.setAudioVolume(go(uo)),fo=new _s.WidgetView(Vp,Object.assign({},uo,{widgetType:"subscriber"})),fo.on("error",dm),fo.on("audioBlocked",()=>this.trigger("audioBlocked")),fo.on("audioUnblocked",()=>this.trigger("audioUnblocked")),fo.on("amrLogEvent",(qt,gn,Sn)=>{Zs(qt,gn,{},Sn)}),this.id=fo.domId(),rm=fo.domId(),this.element=fo.domElement,fo.on("videoElementCreated",qt=>{const gn=new _u.VideoElementCreatedEvent(qt),Sn=this;Kp?this.dispatchEvent(gn):this.once("loaded",()=>{Sn.dispatchEvent(gn)})}),this.element&&gm.call(this);const Hm=Io.getChannelsOfType("audio"),Bm=Io.getChannelsOfType("video"),f1=Io.getChannelsOfType("data");let _g=f1.some(qt=>qt.id==="caption1"&&qt.active);this.subscribeToCaptions=function(){var qt=(0,ot.default)(it.default.mark(function gn(Sn){var Dn,Un;return it.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:Dn=gt(Sn,!0),Un={active:Dn},_g=Dn,Zs("subscribeToCaptions","Attempt",{subscribeToCaptions:Dn}),Eu.subscriberChannelUpdate(Io.id,Bs.widgetId,"caption1",Un),Zs("subscribeToCaptions","Success",{subscribeToCaptions:Dn});case 6:case"end":return ur.stop()}},gn)}));return function(gn){return qt.apply(this,arguments)}}(),this.isSubscribedToCaptions=()=>_g;const e1=Hm.map(qt=>({id:qt.id,type:qt.type,active:uo.subscribeToAudio})).concat(Bm.map(qt=>{const gn={id:qt.id,type:qt.type,active:uo.subscribeToVideo,restrictFrameRate:uo.restrictFrameRate!==void 0?uo.restrictFrameRate:!1};return uo.preferredFrameRate!==void 0&&(gn.preferredFrameRate=parseFloat(uo.preferredFrameRate)),uo.preferredHeight!==void 0&&(gn.preferredHeight=parseInt(uo.preferredHeight,10)),uo.preferredWidth!==void 0&&(gn.preferredWidth=parseInt(uo.preferredWidth,10)),gn})).concat(f1.map(qt=>({id:qt.id,type:qt.type,active:qt.active}))),p1=(nu=Io.getChannelsOfType("data")[0])==null?void 0:nu.active,wn=!uo.testNetwork&&jr(Io,ss)&&!p1;(()=>{var qt;const gn=ss.getPublisherForStream(Io);if(gn!=null&&(qt=gn._)!=null&&qt.privateEvents&&wn){let Sn=!1;gn._.privateEvents.on("publisherCaptionsEnabled",Dn=>{!Sn&&Dn.captionsEnabled&&(e1.find(Un=>Un.id==="caption1").active=!0,Vn(),Sn=!0)})}})(),Fu.beginConnect();const Vn=()=>{Eu.subscriberCreate(Io.id,sp,e1,null,ss._.isE2ee(),(qt,gn)=>{qt&&!Fu.is("disconnected")&&sm(qt),po=Ir(gn)})};return wn?(this._subscribeToSelf(),this):(pm?Sm.addSubscriber(Vn):Vn(),this)};return Vs.hasAudioOutputLevelStatCapability=Qs,Vs.WidgetView=As,Vs.SubscriberPeerConnection=kp,Vs}}).call(this,et(0))},function(_e,tt,et){const nt=et(2);_e.exports=()=>["Chrome","Opera","Safari"].indexOf(nt.name)>-1},function(_e,tt,et){const nt=et(2),rt=nt.name;_e.exports=()=>["Firefox","Safari","Edge","Chrome","Opera"].indexOf(rt)>-1},function(_e,tt,et){const st=et(160)()("NotSubscribing",["NotSubscribing","Init","Connecting","BindingRemoteStream","Subscribing","Failed","Destroyed"],{NotSubscribing:["NotSubscribing","Init","Destroyed"],Init:["NotSubscribing","Connecting","BindingRemoteStream","Destroyed"],Connecting:["NotSubscribing","BindingRemoteStream","Failed","Destroyed"],BindingRemoteStream:["NotSubscribing","Subscribing","Failed","Destroyed","BindingRemoteStream"],Subscribing:["NotSubscribing","Failed","Destroyed","BindingRemoteStream"],Failed:["Destroyed"],Destroyed:[]});st.prototype.isDestroyed=function(){return this.current==="Destroyed"},st.prototype.isFailed=function(){return this.current==="Failed"},st.prototype.isSubscribing=function(){return this.current==="Subscribing"},st.prototype.isAttemptingToSubscribe=function(){return["Init","Connecting","BindingRemoteStream"].indexOf(this.current)!==-1},st.prototype.isStreamAdded=function(){return this.current==="BindingRemoteStream"||this.isSubscribing()},_e.exports=st},function(_e,tt,et){_e.exports=nt=>{let rt=nt.socket,it=nt.uri,ot=nt.content;return(st,at)=>rt.send({uri:it,method:st,content:Object.assign({},ot,at)})}},function(_e,tt,et){(function(rt,it){_e.exports=it()})(this,function(){return function(nt){var rt={};function it(ot){if(rt[ot])return rt[ot].exports;var st=rt[ot]={i:ot,l:!1,exports:{}};return nt[ot].call(st.exports,st,st.exports,it),st.l=!0,st.exports}return it.m=nt,it.c=rt,it.i=function(ot){return ot},it.d=function(ot,st,at){it.o(ot,st)||Object.defineProperty(ot,st,{configurable:!1,enumerable:!0,get:at})},it.n=function(ot){var st=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return it.d(st,"a",st),st},it.o=function(ot,st){return Object.prototype.hasOwnProperty.call(ot,st)},it.p="",it(it.s=5)}([function(nt,rt,it){nt.exports=function(ot,st){var at,ct,lt;for(at=1;at<arguments.length;at++){ct=arguments[at];for(lt in ct)ct.hasOwnProperty(lt)&&(ot[lt]=ct[lt])}return ot}},function(nt,rt,it){var ot=it(0);nt.exports={build:function(st,at){var ct,lt,dt,ut=at.plugins;for(ct=0,lt=ut.length;ct<lt;ct++)dt=ut[ct],dt.methods&&ot(st,dt.methods),dt.properties&&Object.defineProperties(st,dt.properties)},hook:function(st,at,ct){var lt,dt,ut,ft,pt=st.config.plugins,bt=[st.context];for(ct&&(bt=bt.concat(ct)),lt=0,dt=pt.length;lt<dt;lt++)ft=pt[lt],ut=pt[lt][at],ut&&ut.apply(ft,bt)}}},function(nt,rt,it){function ot(st){if(st.length===0)return st;var at,ct,lt=st.split(/[_-]/);if(lt.length===1&&lt[0][0].toLowerCase()===lt[0][0])return st;for(ct=lt[0].toLowerCase(),at=1;at<lt.length;at++)ct=ct+lt[at].charAt(0).toUpperCase()+lt[at].substring(1).toLowerCase();return ct}ot.prepended=function(st,at){return at=ot(at),st+at[0].toUpperCase()+at.substring(1)},nt.exports=ot},function(nt,rt,it){var ot=it(0),st=it(2);function at(ct,lt){ct=ct||{},this.options=ct,this.defaults=lt.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(ct.init),this.data=this.configureData(ct.data),this.methods=this.configureMethods(ct.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(ct.transitions||[]),this.plugins=this.configurePlugins(ct.plugins,lt.plugin)}ot(at.prototype,{addState:function(ct){this.map[ct]||(this.states.push(ct),this.addStateLifecycleNames(ct),this.map[ct]={})},addStateLifecycleNames:function(ct){this.lifecycle.onEnter[ct]=st.prepended("onEnter",ct),this.lifecycle.onLeave[ct]=st.prepended("onLeave",ct),this.lifecycle.on[ct]=st.prepended("on",ct)},addTransition:function(ct){this.transitions.indexOf(ct)<0&&(this.transitions.push(ct),this.addTransitionLifecycleNames(ct))},addTransitionLifecycleNames:function(ct){this.lifecycle.onBefore[ct]=st.prepended("onBefore",ct),this.lifecycle.onAfter[ct]=st.prepended("onAfter",ct),this.lifecycle.on[ct]=st.prepended("on",ct)},mapTransition:function(ct){var lt=ct.name,dt=ct.from,ut=ct.to;return this.addState(dt),typeof ut!="function"&&this.addState(ut),this.addTransition(lt),this.map[dt][lt]=ct,ct},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(ct){return typeof ct=="string"?this.mapTransition(ot({},this.defaults.init,{to:ct,active:!0})):typeof ct=="object"?this.mapTransition(ot({},this.defaults.init,ct,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(ct){return typeof ct=="function"?ct:typeof ct=="object"?function(){return ct}:function(){return{}}},configureMethods:function(ct){return ct||{}},configurePlugins:function(ct,lt){ct=ct||[];var dt,ut,ft;for(dt=0,ut=ct.length;dt<ut;dt++)ft=ct[dt],typeof ft=="function"&&(ct[dt]=ft=ft()),ft.configure&&ft.configure(this);return ct},configureTransitions:function(ct){var lt,dt,ut,ft,pt,bt=this.defaults.wildcard;for(dt=0;dt<ct.length;dt++)for(ut=ct[dt],ft=Array.isArray(ut.from)?ut.from:[ut.from||bt],pt=ut.to||bt,lt=0;lt<ft.length;lt++)this.mapTransition({name:ut.name,from:ft[lt],to:pt})},transitionFor:function(ct,lt){var dt=this.defaults.wildcard;return this.map[ct][lt]||this.map[dt][lt]},transitionsFor:function(ct){var lt=this.defaults.wildcard;return Object.keys(this.map[ct]).concat(Object.keys(this.map[lt]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),nt.exports=at},function(nt,rt,it){var ot=it(0),st=it(6),at=it(1),ct=[null,[]];function lt(dt,ut){this.context=dt,this.config=ut,this.state=ut.init.from,this.observers=[dt]}ot(lt.prototype,{init:function(dt){if(ot(this.context,this.config.data.apply(this.context,dt)),at.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(dt){return Array.isArray(dt)?dt.indexOf(this.state)>=0:this.state===dt},isPending:function(){return this.pending},can:function(dt){return!this.isPending()&&!!this.seek(dt)},cannot:function(dt){return!this.can(dt)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(dt,ut){var ft=this.config.defaults.wildcard,pt=this.config.transitionFor(this.state,dt),bt=pt&&pt.to;return typeof bt=="function"?bt.apply(this.context,ut):bt===ft?this.state:bt},fire:function(dt,ut){return this.transit(dt,this.state,this.seek(dt,ut),ut)},transit:function(dt,ut,ft,pt){var bt=this.config.lifecycle,Tt=this.config.options.observeUnchangedState||ut!==ft;return ft?this.isPending()?this.context.onPendingTransition(dt,ut,ft):(this.config.addState(ft),this.beginTransit(),pt.unshift({transition:dt,from:ut,to:ft,fsm:this.context}),this.observeEvents([this.observersForEvent(bt.onBefore.transition),this.observersForEvent(bt.onBefore[dt]),Tt?this.observersForEvent(bt.onLeave.state):ct,Tt?this.observersForEvent(bt.onLeave[ut]):ct,this.observersForEvent(bt.on.transition),Tt?["doTransit",[this]]:ct,Tt?this.observersForEvent(bt.onEnter.state):ct,Tt?this.observersForEvent(bt.onEnter[ft]):ct,Tt?this.observersForEvent(bt.on[ft]):ct,this.observersForEvent(bt.onAfter.transition),this.observersForEvent(bt.onAfter[dt]),this.observersForEvent(bt.on[dt])],pt)):this.context.onInvalidTransition(dt,ut,ft)},beginTransit:function(){this.pending=!0},endTransit:function(dt){return this.pending=!1,dt},failTransit:function(dt){throw this.pending=!1,dt},doTransit:function(dt){this.state=dt.to},observe:function(dt){if(dt.length===2){var ut={};ut[dt[0]]=dt[1],this.observers.push(ut)}else this.observers.push(dt[0])},observersForEvent:function(dt){for(var ut=0,ft=this.observers.length,pt,bt=[];ut<ft;ut++)pt=this.observers[ut],pt[dt]&&bt.push(pt);return[dt,bt,!0]},observeEvents:function(dt,ut,ft,pt){if(dt.length===0)return this.endTransit(pt===void 0?!0:pt);var bt=dt[0][0],Tt=dt[0][1],ht=dt[0][2];if(ut[0].event=bt,bt&&ht&&bt!==ft&&at.hook(this,"lifecycle",ut),Tt.length===0)return dt.shift(),this.observeEvents(dt,ut,bt,pt);var gt=Tt.shift(),vt=gt[bt].apply(gt,ut);return vt&&typeof vt.then=="function"?vt.then(this.observeEvents.bind(this,dt,ut,bt)).catch(this.failTransit.bind(this)):vt===!1?this.endTransit(!1):this.observeEvents(dt,ut,bt,vt)},onInvalidTransition:function(dt,ut,ft){throw new st("transition is invalid in current state",dt,ut,ft,this.state)},onPendingTransition:function(dt,ut,ft){throw new st("transition is invalid while previous transition is still in progress",dt,ut,ft,this.state)}}),nt.exports=lt},function(nt,rt,it){var ot=it(0),st=it(2),at=it(1),ct=it(3),lt=it(4),dt={is:function(ht){return this._fsm.is(ht)},can:function(ht){return this._fsm.can(ht)},cannot:function(ht){return this._fsm.cannot(ht)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(ht,gt,vt){return this._fsm.onInvalidTransition(ht,gt,vt)},onPendingTransition:function(ht,gt,vt){return this._fsm.onPendingTransition(ht,gt,vt)}},ut={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(ht){throw Error("use transitions to change state")}}};function ft(ht){return bt(this||{},ht)}function pt(){var ht,gt;typeof arguments[0]=="function"?(ht=arguments[0],gt=arguments[1]||{}):(ht=function(){this._fsm.apply(this,arguments)},gt=arguments[0]||{});var vt=new ct(gt,ft);return Tt(ht.prototype,vt),ht.prototype._fsm.config=vt,ht}function bt(ht,gt){var vt=new ct(gt,ft);return Tt(ht,vt),ht._fsm(),ht}function Tt(ht,gt){if(typeof ht!="object"||Array.isArray(ht))throw Error("StateMachine can only be applied to objects");at.build(ht,gt),Object.defineProperties(ht,ut),ot(ht,dt),ot(ht,gt.methods),gt.allTransitions().forEach(function(vt){ht[st(vt)]=function(){return this._fsm.fire(vt,[].slice.call(arguments))}}),ht._fsm=function(){this._fsm=new lt(this,gt),this._fsm.init(arguments)}}ft.version="3.0.1",ft.factory=pt,ft.apply=bt,ft.defaults={wildcard:"*",init:{name:"init",from:"none"}},nt.exports=ft},function(nt,rt,it){nt.exports=function(ot,st,at,ct,lt){this.message=ot,this.transition=st,this.from=at,this.to=ct,this.current=lt}}])})},function(_e,tt,et){const nt=et(103)();_e.exports=nt},function(_e,tt,et){let nt=function(){function rt(){this.processTransition=()=>{},this.routedToRelayedOngoing=!1,this.relayedToRoutedPending=!1}var it=rt.prototype;return it.startTransitionTo=function(st,at){at===void 0&&(at=()=>{}),st==="P2P"?this.startRoutedToRelayed():st==="MANTIS"&&this.startRelayedToRouted(at)},it.finishTransitionTo=function(st){st==="P2P"&&this.finishRoutedToRelayed()},it.startRoutedToRelayed=function(){this.routedToRelayedOngoing=!0},it.finishRoutedToRelayed=function(){this.routedToRelayedOngoing=!1,this.relayedToRoutedPending&&(this.relayedToRoutedPending=!1,this.processTransition())},it.startRelayedToRouted=function(st){this.routedToRelayedOngoing?(this.relayedToRoutedPending=!0,this.processTransition=st):st()},rt}();_e.exports=nt},function(_e,tt,et){_e.exports=(nt,rt)=>{const it=nt.getSenders().find(st=>st.track.kind==="video"),ot=it.getParameters();ot.encodings.forEach(st=>{st.active=rt}),it.setParameters(ot)}},function(_e,tt,et){(function(nt){_e.exports=function(it){return function(){for(var st=arguments.length,at=new Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct];return new nt((lt,dt)=>{it(...at,function(ut){if(ut){dt(ut);return}for(var ft=arguments.length,pt=new Array(ft>1?ft-1:0),bt=1;bt<ft;bt++)pt[bt-1]=arguments[bt];if(pt.length===1){lt(pt[0]);return}lt(pt)})})}}}).call(this,et(0))},function(_e,tt,et){_e.exports=nt=>{var rt;const it=Object.assign({},nt);return(nt==null||(rt=nt.backgroundImgUrl)==null?void 0:rt.includes("base64"))&&delete it.backgroundImgUrl,it}},function(_e,tt,et){const nt=et(717),rt=nt.setVonageMetadata,it=et(317),ot=it.createVonageMediaProcessor,at={isSupported:()=>typeof MediaStreamTrackProcessor<"u"&&typeof MediaStreamTrackGenerator<"u",setMetadata:rt,createProcessor:ot};_e.exports=at},function(_e,tt,et){et.r(tt),function(nt,rt){et.d(tt,"BackgroundTransformer",function(){return Xv}),et.d(tt,"BackgroundTransformerType",function(){return rr}),et.d(tt,"BlurRadius",function(){return Zn}),et.d(tt,"ErrorFunction",function(){return ss}),et.d(tt,"MediapipeHelper",function(){return cm}),et.d(tt,"PipelineInfoData",function(){return Io}),et.d(tt,"SelfieSegmentationType",function(){return ir}),et.d(tt,"VonageMediaProcessor",function(){return A0}),et.d(tt,"WarningType",function(){return rm}),et.d(tt,"createVonageMediaProcessor",function(){return E4}),et.d(tt,"getSupportedBrowserFeatures",function(){return Eu}),et.d(tt,"getVonageFaceDetection",function(){return v4}),et.d(tt,"getVonageFaceMash",function(){return y4}),et.d(tt,"getVonageHands",function(){return m4}),et.d(tt,"getVonageHolistic",function(){return g4}),et.d(tt,"getVonageObjectron",function(){return b4}),et.d(tt,"getVonagePose",function(){return S4}),et.d(tt,"getVonageSelfieSegmentation",function(){return h4}),et.d(tt,"isSupported",function(){return Fp});var it=Object.defineProperty,ot=(Et,St,xt)=>St in Et?it(Et,St,{enumerable:!0,configurable:!0,writable:!0,value:xt}):Et[St]=xt,st=(Et,St,xt)=>(ot(Et,typeof St!="symbol"?St+"":St,xt),xt);function at(){return new nt((Et,St)=>{typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?St("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):Et()})}class ct{}ct.updates={transformer_new:"New transformer",transformer_null:"Null transformer"},ct.errors={transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"};var lt={exports:{}},dt=function(Et,St){return function(){for(var xt=new Array(arguments.length),Xt=0;Xt<xt.length;Xt++)xt[Xt]=arguments[Xt];return Et.apply(St,xt)}},ut=dt,ft=Object.prototype.toString;function pt(Et){return Array.isArray(Et)}function bt(Et){return typeof Et>"u"}function Tt(Et){return Et!==null&&!bt(Et)&&Et.constructor!==null&&!bt(Et.constructor)&&typeof Et.constructor.isBuffer=="function"&&Et.constructor.isBuffer(Et)}function ht(Et){return ft.call(Et)==="[object ArrayBuffer]"}function gt(Et){return ft.call(Et)==="[object FormData]"}function vt(Et){var St;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?St=ArrayBuffer.isView(Et):St=Et&&Et.buffer&&ht(Et.buffer),St}function Ct(Et){return typeof Et=="string"}function It(Et){return typeof Et=="number"}function Zt(Et){return Et!==null&&typeof Et=="object"}function Wt(Et){if(ft.call(Et)!=="[object Object]")return!1;var St=Object.getPrototypeOf(Et);return St===null||St===Object.prototype}function kt(Et){return ft.call(Et)==="[object Date]"}function Nt(Et){return ft.call(Et)==="[object File]"}function Lt(Et){return ft.call(Et)==="[object Blob]"}function Mt(Et){return ft.call(Et)==="[object Function]"}function tn(Et){return Zt(Et)&&Mt(Et.pipe)}function $t(Et){return ft.call(Et)==="[object URLSearchParams]"}function Ht(Et){return Et.trim?Et.trim():Et.replace(/^\s+|\s+$/g,"")}function rn(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ln(Et,St){if(!(Et===null||typeof Et>"u"))if(typeof Et!="object"&&(Et=[Et]),pt(Et))for(var xt=0,Xt=Et.length;xt<Xt;xt++)St.call(null,Et[xt],xt,Et);else for(var zt in Et)Object.prototype.hasOwnProperty.call(Et,zt)&&St.call(null,Et[zt],zt,Et)}function mn(){var Et={};function St(zt,vn){Wt(Et[vn])&&Wt(zt)?Et[vn]=mn(Et[vn],zt):Wt(zt)?Et[vn]=mn({},zt):pt(zt)?Et[vn]=zt.slice():Et[vn]=zt}for(var xt=0,Xt=arguments.length;xt<Xt;xt++)ln(arguments[xt],St);return Et}function on(Et,St,xt){return ln(St,function(Xt,zt){xt&&typeof Xt=="function"?Et[zt]=ut(Xt,xt):Et[zt]=Xt}),Et}function yn(Et){return Et.charCodeAt(0)===65279&&(Et=Et.slice(1)),Et}var hn={isArray:pt,isArrayBuffer:ht,isBuffer:Tt,isFormData:gt,isArrayBufferView:vt,isString:Ct,isNumber:It,isObject:Zt,isPlainObject:Wt,isUndefined:bt,isDate:kt,isFile:Nt,isBlob:Lt,isFunction:Mt,isStream:tn,isURLSearchParams:$t,isStandardBrowserEnv:rn,forEach:ln,merge:mn,extend:on,trim:Ht,stripBOM:yn},un=hn;function dn(Et){return encodeURIComponent(Et).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Nn=function(Et,St,xt){if(!St)return Et;var Xt;if(xt)Xt=xt(St);else if(un.isURLSearchParams(St))Xt=St.toString();else{var zt=[];un.forEach(St,function(On,Tn){On===null||typeof On>"u"||(un.isArray(On)?Tn=Tn+"[]":On=[On],un.forEach(On,function(Mn){un.isDate(Mn)?Mn=Mn.toISOString():un.isObject(Mn)&&(Mn=JSON.stringify(Mn)),zt.push(dn(Tn)+"="+dn(Mn))}))}),Xt=zt.join("&")}if(Xt){var vn=Et.indexOf("#");vn!==-1&&(Et=Et.slice(0,vn)),Et+=(Et.indexOf("?")===-1?"?":"&")+Xt}return Et},Wn=hn;function pn(){this.handlers=[]}pn.prototype.use=function(Et,St,xt){return this.handlers.push({fulfilled:Et,rejected:St,synchronous:xt?xt.synchronous:!1,runWhen:xt?xt.runWhen:null}),this.handlers.length-1},pn.prototype.eject=function(Et){this.handlers[Et]&&(this.handlers[Et]=null)},pn.prototype.forEach=function(Et){Wn.forEach(this.handlers,function(St){St!==null&&Et(St)})};var Rn=pn,xn=hn,Jn=function(Et,St){xn.forEach(Et,function(xt,Xt){Xt!==St&&Xt.toUpperCase()===St.toUpperCase()&&(Et[St]=xt,delete Et[Xt])})},cr=function(Et,St,xt,Xt,zt){return Et.config=St,xt&&(Et.code=xt),Et.request=Xt,Et.response=zt,Et.isAxiosError=!0,Et.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},Et},er=cr,_n=function(Et,St,xt,Xt,zt){var vn=new Error(Et);return er(vn,St,xt,Xt,zt)},Sr=_n,vr=function(Et,St,xt){var Xt=xt.config.validateStatus;!xt.status||!Xt||Xt(xt.status)?Et(xt):St(Sr("Request failed with status code "+xt.status,xt.config,null,xt.request,xt))},Gr=hn,Lr=Gr.isStandardBrowserEnv()?function(){return{write:function(Et,St,xt,Xt,zt,vn){var On=[];On.push(Et+"="+encodeURIComponent(St)),Gr.isNumber(xt)&&On.push("expires="+new Date(xt).toGMTString()),Gr.isString(Xt)&&On.push("path="+Xt),Gr.isString(zt)&&On.push("domain="+zt),vn===!0&&On.push("secure"),document.cookie=On.join("; ")},read:function(Et){var St=document.cookie.match(new RegExp("(^|;\\s*)("+Et+")=([^;]*)"));return St?decodeURIComponent(St[3]):null},remove:function(Et){this.write(Et,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ur=function(Et){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Et)},co=function(Et,St){return St?Et.replace(/\/+$/,"")+"/"+St.replace(/^\/+/,""):Et},Tr=Ur,wr=co,Bn=function(Et,St){return Et&&!Tr(St)?wr(Et,St):St},Gn=hn,lr=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Vr=function(Et){var St={},xt,Xt,zt;return Et&&Gn.forEach(Et.split(`
`),function(vn){if(zt=vn.indexOf(":"),xt=Gn.trim(vn.substr(0,zt)).toLowerCase(),Xt=Gn.trim(vn.substr(zt+1)),xt){if(St[xt]&&lr.indexOf(xt)>=0)return;xt==="set-cookie"?St[xt]=(St[xt]?St[xt]:[]).concat([Xt]):St[xt]=St[xt]?St[xt]+", "+Xt:Xt}}),St},oo=hn,Yn=oo.isStandardBrowserEnv()?function(){var Et=/(msie|trident)/i.test(navigator.userAgent),St=document.createElement("a"),xt;function Xt(zt){var vn=zt;return Et&&(St.setAttribute("href",vn),vn=St.href),St.setAttribute("href",vn),{href:St.href,protocol:St.protocol?St.protocol.replace(/:$/,""):"",host:St.host,search:St.search?St.search.replace(/^\?/,""):"",hash:St.hash?St.hash.replace(/^#/,""):"",hostname:St.hostname,port:St.port,pathname:St.pathname.charAt(0)==="/"?St.pathname:"/"+St.pathname}}return xt=Xt(window.location.href),function(zt){var vn=oo.isString(zt)?Xt(zt):zt;return vn.protocol===xt.protocol&&vn.host===xt.host}}():function(){return function(){return!0}}();function yr(Et){this.message=Et}yr.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},yr.prototype.__CANCEL__=!0;var Ar=yr,so=hn,jr=vr,mo=Lr,bo=Nn,go=Bn,$r=Vr,Wo=Yn,So=_n,Vo=Wu,qr=Ar,Iu=function(Et){return new nt(function(St,xt){var Xt=Et.data,zt=Et.headers,vn=Et.responseType,On;function Tn(){Et.cancelToken&&Et.cancelToken.unsubscribe(On),Et.signal&&Et.signal.removeEventListener("abort",On)}so.isFormData(Xt)&&delete zt["Content-Type"];var Mn=new XMLHttpRequest;if(Et.auth){var br=Et.auth.username||"",Nr=Et.auth.password?unescape(encodeURIComponent(Et.auth.password)):"";zt.Authorization="Basic "+btoa(br+":"+Nr)}var Wr=go(Et.baseURL,Et.url);Mn.open(Et.method.toUpperCase(),bo(Wr,Et.params,Et.paramsSerializer),!0),Mn.timeout=Et.timeout;function Ao(){if(Mn){var Dr="getAllResponseHeaders"in Mn?$r(Mn.getAllResponseHeaders()):null,Br=!vn||vn==="text"||vn==="json"?Mn.responseText:Mn.response,Ko={data:Br,status:Mn.status,statusText:Mn.statusText,headers:Dr,config:Et,request:Mn};jr(function(Bo){St(Bo),Tn()},function(Bo){xt(Bo),Tn()},Ko),Mn=null}}if("onloadend"in Mn?Mn.onloadend=Ao:Mn.onreadystatechange=function(){!Mn||Mn.readyState!==4||Mn.status===0&&!(Mn.responseURL&&Mn.responseURL.indexOf("file:")===0)||setTimeout(Ao)},Mn.onabort=function(){!Mn||(xt(So("Request aborted",Et,"ECONNABORTED",Mn)),Mn=null)},Mn.onerror=function(){xt(So("Network Error",Et,null,Mn)),Mn=null},Mn.ontimeout=function(){var Dr=Et.timeout?"timeout of "+Et.timeout+"ms exceeded":"timeout exceeded",Br=Et.transitional||Vo.transitional;Et.timeoutErrorMessage&&(Dr=Et.timeoutErrorMessage),xt(So(Dr,Et,Br.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Mn)),Mn=null},so.isStandardBrowserEnv()){var Mo=(Et.withCredentials||Wo(Wr))&&Et.xsrfCookieName?mo.read(Et.xsrfCookieName):void 0;Mo&&(zt[Et.xsrfHeaderName]=Mo)}"setRequestHeader"in Mn&&so.forEach(zt,function(Dr,Br){typeof Xt>"u"&&Br.toLowerCase()==="content-type"?delete zt[Br]:Mn.setRequestHeader(Br,Dr)}),so.isUndefined(Et.withCredentials)||(Mn.withCredentials=!!Et.withCredentials),vn&&vn!=="json"&&(Mn.responseType=Et.responseType),typeof Et.onDownloadProgress=="function"&&Mn.addEventListener("progress",Et.onDownloadProgress),typeof Et.onUploadProgress=="function"&&Mn.upload&&Mn.upload.addEventListener("progress",Et.onUploadProgress),(Et.cancelToken||Et.signal)&&(On=function(Dr){!Mn||(xt(!Dr||Dr&&Dr.type?new qr("canceled"):Dr),Mn.abort(),Mn=null)},Et.cancelToken&&Et.cancelToken.subscribe(On),Et.signal&&(Et.signal.aborted?On():Et.signal.addEventListener("abort",On))),Xt||(Xt=null),Mn.send(Xt)})},Ho=hn,Co=Jn,es=cr,Hs={"Content-Type":"application/x-www-form-urlencoded"};function eu(Et,St){!Ho.isUndefined(Et)&&Ho.isUndefined(Et["Content-Type"])&&(Et["Content-Type"]=St)}function Is(){var Et;return(typeof XMLHttpRequest<"u"||typeof rt<"u"&&Object.prototype.toString.call(rt)==="[object process]")&&(Et=Iu),Et}function _a(Et,St,xt){if(Ho.isString(Et))try{return(St||JSON.parse)(Et),Ho.trim(Et)}catch(Xt){if(Xt.name!=="SyntaxError")throw Xt}return(xt||JSON.stringify)(Et)}var wu={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Is(),transformRequest:[function(Et,St){return Co(St,"Accept"),Co(St,"Content-Type"),Ho.isFormData(Et)||Ho.isArrayBuffer(Et)||Ho.isBuffer(Et)||Ho.isStream(Et)||Ho.isFile(Et)||Ho.isBlob(Et)?Et:Ho.isArrayBufferView(Et)?Et.buffer:Ho.isURLSearchParams(Et)?(eu(St,"application/x-www-form-urlencoded;charset=utf-8"),Et.toString()):Ho.isObject(Et)||St&&St["Content-Type"]==="application/json"?(eu(St,"application/json"),_a(Et)):Et}],transformResponse:[function(Et){var St=this.transitional||wu.transitional,xt=St&&St.silentJSONParsing,Xt=St&&St.forcedJSONParsing,zt=!xt&&this.responseType==="json";if(zt||Xt&&Ho.isString(Et)&&Et.length)try{return JSON.parse(Et)}catch(vn){if(zt)throw vn.name==="SyntaxError"?es(vn,this,"E_JSON_PARSE"):vn}return Et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(Et){return Et>=200&&Et<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ho.forEach(["delete","get","head"],function(Et){wu.headers[Et]={}}),Ho.forEach(["post","put","patch"],function(Et){wu.headers[Et]=Ho.merge(Hs)});var Wu=wu,Bp=hn,_u=Wu,qu=function(Et,St,xt){var Xt=this||_u;return Bp.forEach(xt,function(zt){Et=zt.call(Xt,Et,St)}),Et},_r=function(Et){return!!(Et&&Et.__CANCEL__)},qs=hn,lu=qu,Gs=_r,El=Wu,Hr=Ar;function Qs(Et){if(Et.cancelToken&&Et.cancelToken.throwIfRequested(),Et.signal&&Et.signal.aborted)throw new Hr("canceled")}var Yp=function(Et){Qs(Et),Et.headers=Et.headers||{},Et.data=lu.call(Et,Et.data,Et.headers,Et.transformRequest),Et.headers=qs.merge(Et.headers.common||{},Et.headers[Et.method]||{},Et.headers),qs.forEach(["delete","get","head","post","put","patch","common"],function(xt){delete Et.headers[xt]});var St=Et.adapter||El.adapter;return St(Et).then(function(xt){return Qs(Et),xt.data=lu.call(Et,xt.data,xt.headers,Et.transformResponse),xt},function(xt){return Gs(xt)||(Qs(Et),xt&&xt.response&&(xt.response.data=lu.call(Et,xt.response.data,xt.response.headers,Et.transformResponse))),nt.reject(xt)})},uu=hn,du=function(Et,St){St=St||{};var xt={};function Xt(br,Nr){return uu.isPlainObject(br)&&uu.isPlainObject(Nr)?uu.merge(br,Nr):uu.isPlainObject(Nr)?uu.merge({},Nr):uu.isArray(Nr)?Nr.slice():Nr}function zt(br){if(uu.isUndefined(St[br])){if(!uu.isUndefined(Et[br]))return Xt(void 0,Et[br])}else return Xt(Et[br],St[br])}function vn(br){if(!uu.isUndefined(St[br]))return Xt(void 0,St[br])}function On(br){if(uu.isUndefined(St[br])){if(!uu.isUndefined(Et[br]))return Xt(void 0,Et[br])}else return Xt(void 0,St[br])}function Tn(br){if(br in St)return Xt(Et[br],St[br]);if(br in Et)return Xt(void 0,Et[br])}var Mn={url:vn,method:vn,data:vn,baseURL:On,transformRequest:On,transformResponse:On,paramsSerializer:On,timeout:On,timeoutMessage:On,withCredentials:On,adapter:On,responseType:On,xsrfCookieName:On,xsrfHeaderName:On,onUploadProgress:On,onDownloadProgress:On,decompress:On,maxContentLength:On,maxBodyLength:On,transport:On,httpAgent:On,httpsAgent:On,cancelToken:On,socketPath:On,responseEncoding:On,validateStatus:Tn};return uu.forEach(Object.keys(Et).concat(Object.keys(St)),function(br){var Nr=Mn[br]||zt,Wr=Nr(br);uu.isUndefined(Wr)&&Nr!==Tn||(xt[br]=Wr)}),xt},ts={version:"0.25.0"},Wl=ts.version,ns={};["object","boolean","number","function","string","symbol"].forEach(function(Et,St){ns[Et]=function(xt){return typeof xt===Et||"a"+(St<1?"n ":" ")+Et}});var Hu={};ns.transitional=function(Et,St,xt){function Xt(zt,vn){return"[Axios v"+Wl+"] Transitional option '"+zt+"'"+vn+(xt?". "+xt:"")}return function(zt,vn,On){if(Et===!1)throw new Error(Xt(vn," has been removed"+(St?" in "+St:"")));return St&&!Hu[vn]&&(Hu[vn]=!0,console.warn(Xt(vn," has been deprecated since v"+St+" and will be removed in the near future"))),Et?Et(zt,vn,On):!0}};function fp(Et,St,xt){if(typeof Et!="object")throw new TypeError("options must be an object");for(var Xt=Object.keys(Et),zt=Xt.length;zt-- >0;){var vn=Xt[zt],On=St[vn];if(On){var Tn=Et[vn],Mn=Tn===void 0||On(Tn,vn,Et);if(Mn!==!0)throw new TypeError("option "+vn+" must be "+Mn);continue}if(xt!==!0)throw Error("Unknown option "+vn)}}var _c={assertOptions:fp,validators:ns},rp=hn,_d=Nn,ba=Rn,zo=Yp,tu=du,vo=_c,ip=vo.validators;function Ou(Et){this.defaults=Et,this.interceptors={request:new ba,response:new ba}}Ou.prototype.request=function(Et,St){if(typeof Et=="string"?(St=St||{},St.url=Et):St=Et||{},!St.url)throw new Error("Provided config url is not valid");St=tu(this.defaults,St),St.method?St.method=St.method.toLowerCase():this.defaults.method?St.method=this.defaults.method.toLowerCase():St.method="get";var xt=St.transitional;xt!==void 0&&vo.assertOptions(xt,{silentJSONParsing:ip.transitional(ip.boolean),forcedJSONParsing:ip.transitional(ip.boolean),clarifyTimeoutError:ip.transitional(ip.boolean)},!1);var Xt=[],zt=!0;this.interceptors.request.forEach(function(Wr){typeof Wr.runWhen=="function"&&Wr.runWhen(St)===!1||(zt=zt&&Wr.synchronous,Xt.unshift(Wr.fulfilled,Wr.rejected))});var vn=[];this.interceptors.response.forEach(function(Wr){vn.push(Wr.fulfilled,Wr.rejected)});var On;if(!zt){var Tn=[zo,void 0];for(Array.prototype.unshift.apply(Tn,Xt),Tn=Tn.concat(vn),On=nt.resolve(St);Tn.length;)On=On.then(Tn.shift(),Tn.shift());return On}for(var Mn=St;Xt.length;){var br=Xt.shift(),Nr=Xt.shift();try{Mn=br(Mn)}catch(Wr){Nr(Wr);break}}try{On=zo(Mn)}catch(Wr){return nt.reject(Wr)}for(;vn.length;)On=On.then(vn.shift(),vn.shift());return On},Ou.prototype.getUri=function(Et){if(!Et.url)throw new Error("Provided config url is not valid");return Et=tu(this.defaults,Et),_d(Et.url,Et.params,Et.paramsSerializer).replace(/^\?/,"")},rp.forEach(["delete","get","head","options"],function(Et){Ou.prototype[Et]=function(St,xt){return this.request(tu(xt||{},{method:Et,url:St,data:(xt||{}).data}))}}),rp.forEach(["post","put","patch"],function(Et){Ou.prototype[Et]=function(St,xt,Xt){return this.request(tu(Xt||{},{method:Et,url:St,data:xt}))}});var Ap=Ou,bs=Ar;function kp(Et){if(typeof Et!="function")throw new TypeError("executor must be a function.");var St;this.promise=new nt(function(Xt){St=Xt});var xt=this;this.promise.then(function(Xt){if(xt._listeners){var zt,vn=xt._listeners.length;for(zt=0;zt<vn;zt++)xt._listeners[zt](Xt);xt._listeners=null}}),this.promise.then=function(Xt){var zt,vn=new nt(function(On){xt.subscribe(On),zt=On}).then(Xt);return vn.cancel=function(){xt.unsubscribe(zt)},vn},Et(function(Xt){xt.reason||(xt.reason=new bs(Xt),St(xt.reason))})}kp.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},kp.prototype.subscribe=function(Et){if(this.reason){Et(this.reason);return}this._listeners?this._listeners.push(Et):this._listeners=[Et]},kp.prototype.unsubscribe=function(Et){if(this._listeners){var St=this._listeners.indexOf(Et);St!==-1&&this._listeners.splice(St,1)}},kp.source=function(){var Et,St=new kp(function(xt){Et=xt});return{token:St,cancel:Et}};var _p=kp,Lp=function(Et){return function(St){return Et.apply(null,St)}},Sp=hn,zp=function(Et){return Sp.isObject(Et)&&Et.isAxiosError===!0},op=hn,fu=dt,Gu=Ap,Ul=du,Wp=Wu;function Qn(Et){var St=new Gu(Et),xt=fu(Gu.prototype.request,St);return op.extend(xt,Gu.prototype,St),op.extend(xt,St),xt.create=function(Xt){return Qn(Ul(Et,Xt))},xt}var An=Qn(Wp);An.Axios=Gu,An.Cancel=Ar,An.CancelToken=_p,An.isCancel=_r,An.VERSION=ts.version,An.all=function(Et){return nt.all(Et)},An.spread=Lp,An.isAxiosError=zp,lt.exports=An,lt.exports.default=An;var Pn=lt.exports;class nr{isEmpty(){return!this.isPresent()}static of(St){if(St!=null)return new Ir(St);throw new TypeError("The passed value was null or undefined.")}static ofNonNull(St){return nr.of(St)}static ofNullable(St){return St!=null?new Ir(St):new Zr}static empty(){return new Zr}static from(St){switch(St.kind){case"present":return nr.of(St.value);case"empty":return nr.empty();default:throw new TypeError("The passed value was not an Option type.")}}}class Ir extends nr{constructor(St){super(),this.payload=St}isPresent(){return!0}get(){return this.payload}ifPresent(St){St(this.payload)}ifPresentOrElse(St,xt){St(this.payload)}filter(St){return St(this.payload)?this:nr.empty()}map(St){const xt=St(this.payload);return nr.ofNullable(xt)}flatMap(St){return St(this.payload)}or(St){return this}orElse(St){return this.payload}orElseGet(St){return this.payload}orElseThrow(St){return this.payload}orNull(){return this.payload}orUndefined(){return this.payload}toOption(){return{kind:"present",value:this.payload}}matches(St){return St.present(this.payload)}toJSON(St){return this.payload}}class Zr extends nr{isPresent(){return!1}constructor(){super()}get(){throw new TypeError("The optional is not present.")}ifPresent(St){}ifPresentOrElse(St,xt){xt()}filter(St){return this}map(St){return nr.empty()}flatMap(St){return nr.empty()}or(St){return St()}orElse(St){return St}orElseGet(St){return this.orElse(St())}orElseThrow(St){throw St()}orNull(){return null}orUndefined(){}toOption(){return{kind:"empty"}}matches(St){return St.empty()}toJSON(St){return null}}const ko="2.0.0";function Go(Et){globalThis._vonageMediaProcessorMetadata=Et}function As(){return globalThis._vonageMediaProcessorMetadata}class os{constructor(){const St=As();this._report={action:nr.empty(),applicationId:nr.ofNullable(St!==void 0&&St!=null?St.appId:null),timestamp:Date.now(),fps:nr.empty(),framesTransformed:nr.empty(),guid:nr.empty(),highestFrameTransformCpu:nr.empty(),message:nr.empty(),source:nr.ofNullable(St!==void 0&&St!=null?St.sourceType:null),transformedFps:nr.empty(),transformerType:nr.empty(),variation:nr.empty(),videoHeight:nr.empty(),videoWidth:nr.empty(),version:ko,error:nr.empty(),proxyUrl:nr.ofNullable(St!==void 0&&St!=null?St.proxyUrl:null)}}action(St){return this._report.action=nr.ofNullable(St),this}framesTransformed(St){return this._report.framesTransformed=nr.ofNullable(St),this}fps(St){return this._report.fps=nr.ofNullable(St),this}guid(St){return this._report.guid=nr.ofNullable(St),this}message(St){return this._report.message=nr.ofNullable(St),this}transformedFps(St){return this._report.transformedFps=nr.ofNullable(St),this}transformerType(St){return this._report.transformerType=nr.ofNullable(St),this}variation(St){return this._report.variation=nr.ofNullable(St),this}videoHeight(St){return this._report.videoHeight=nr.ofNullable(St),this}videoWidth(St){return this._report.videoWidth=nr.ofNullable(St),this}error(St){return this._report.error=nr.ofNullable(St),this}build(){return this._report}}const ps=Et=>JSON.stringify(Et,(St,xt)=>{if(xt!==null)return xt});class Vs{static report(St){return new nt((xt,Xt)=>{if(St.applicationId.isEmpty()||St.source.isEmpty()){xt("success");return}let zt=Pn.create(),vn={timeout:1e4,timeoutErrorMessage:"Request timeout",headers:{"Content-Type":"application/json"}},On="hlg.tokbox.com/prod/logging/vcp_webrtc";if(St.proxyUrl.isEmpty())On="https://"+On;else{let Tn;St.proxyUrl.get().slice(St.proxyUrl.get().length-1)!=="/"?Tn=St.proxyUrl.get()+"/":Tn=St.proxyUrl.get(),On=Tn+On}zt.post(On,ps(St),vn).then(Tn=>{console.log(Tn),xt("success")}).catch(Tn=>{console.log(Tn),Xt(Tn)})})}}var _s,Vp=new Uint8Array(16);function Fs(){if(!_s&&(_s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!_s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _s(Vp)}var Gl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Bs(Et){return typeof Et=="string"&&Gl.test(Et)}for(var nu=[],Tp=0;Tp<256;++Tp)nu.push((Tp+256).toString(16).substr(1));function sp(Et){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,xt=(nu[Et[St+0]]+nu[Et[St+1]]+nu[Et[St+2]]+nu[Et[St+3]]+"-"+nu[Et[St+4]]+nu[Et[St+5]]+"-"+nu[Et[St+6]]+nu[Et[St+7]]+"-"+nu[Et[St+8]]+nu[Et[St+9]]+"-"+nu[Et[St+10]]+nu[Et[St+11]]+nu[Et[St+12]]+nu[Et[St+13]]+nu[Et[St+14]]+nu[Et[St+15]]).toLowerCase();if(!Bs(xt))throw TypeError("Stringified UUID is invalid");return xt}function tm(Et,St,xt){Et=Et||{};var Xt=Et.random||(Et.rng||Fs)();if(Xt[6]=Xt[6]&15|64,Xt[8]=Xt[8]&63|128,St){xt=xt||0;for(var zt=0;zt<16;++zt)St[xt+zt]=Xt[zt];return St}return sp(Xt)}const na=new WeakMap,Bu=new WeakMap,ap=new WeakMap,Zp=Symbol("anyProducer"),Su=nt.resolve(),pp=Symbol("listenerAdded"),Fl=Symbol("listenerRemoved");let fo=!1;function qo(Et){if(typeof Et!="string"&&typeof Et!="symbol")throw new TypeError("eventName must be a string or a symbol")}function hp(Et){if(typeof Et!="function")throw new TypeError("listener must be a function")}function to(Et,St){const xt=Bu.get(Et);return xt.has(St)||xt.set(St,new Set),xt.get(St)}function qp(Et,St){const xt=typeof St=="string"||typeof St=="symbol"?St:Zp,Xt=ap.get(Et);return Xt.has(xt)||Xt.set(xt,new Set),Xt.get(xt)}function Js(Et,St,xt){const Xt=ap.get(Et);if(Xt.has(St))for(const zt of Xt.get(St))zt.enqueue(xt);if(Xt.has(Zp)){const zt=nt.all([St,xt]);for(const vn of Xt.get(Zp))vn.enqueue(zt)}}function mp(Et,St){St=Array.isArray(St)?St:[St];let xt=!1,Xt=()=>{},zt=[];const vn={enqueue(On){zt.push(On),Xt()},finish(){xt=!0,Xt()}};for(const On of St)qp(Et,On).add(vn);return{async next(){return zt?zt.length===0?xt?(zt=void 0,this.next()):(await new nt(On=>{Xt=On}),this.next()):{done:!1,value:await zt.shift()}:{done:!0}},async return(On){zt=void 0;for(const Tn of St)qp(Et,Tn).delete(vn);return Xt(),arguments.length>0?{done:!0,value:await On}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Np(Et){if(Et===void 0)return _f;if(!Array.isArray(Et))throw new TypeError("`methodNames` must be an array of strings");for(const St of Et)if(!_f.includes(St))throw typeof St!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${St} is not Emittery method`);return Et}const Zo=Et=>Et===pp||Et===Fl;class Gp{static mixin(St,xt){return xt=Np(xt),Xt=>{if(typeof Xt!="function")throw new TypeError("`target` must be function");for(const On of xt)if(Xt.prototype[On]!==void 0)throw new Error(`The property \`${On}\` already exists on \`target\``);function zt(){return Object.defineProperty(this,St,{enumerable:!1,value:new Gp}),this[St]}Object.defineProperty(Xt.prototype,St,{enumerable:!1,get:zt});const vn=On=>function(...Tn){return this[St][On](...Tn)};for(const On of xt)Object.defineProperty(Xt.prototype,On,{enumerable:!1,value:vn(On)});return Xt}}static get isDebugEnabled(){if(typeof rt!="object")return fo;const{env:St}=rt||{env:{}};return St.DEBUG==="emittery"||St.DEBUG==="*"||fo}static set isDebugEnabled(St){fo=St}constructor(St={}){na.set(this,new Set),Bu.set(this,new Map),ap.set(this,new Map),this.debug=St.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(xt,Xt,zt,vn)=>{vn=JSON.stringify(vn),typeof zt=="symbol"&&(zt=zt.toString());const On=new Date,Tn=`${On.getHours()}:${On.getMinutes()}:${On.getSeconds()}.${On.getMilliseconds()}`;console.log(`[${Tn}][emittery:${xt}][${Xt}] Event Name: ${zt}
	data: ${vn}`)})}logIfDebugEnabled(St,xt,Xt){(Gp.isDebugEnabled||this.debug.enabled)&&this.debug.logger(St,this.debug.name,xt,Xt)}on(St,xt){hp(xt),St=Array.isArray(St)?St:[St];for(const Xt of St)qo(Xt),to(this,Xt).add(xt),this.logIfDebugEnabled("subscribe",Xt,void 0),Zo(Xt)||this.emit(pp,{eventName:Xt,listener:xt});return this.off.bind(this,St,xt)}off(St,xt){hp(xt),St=Array.isArray(St)?St:[St];for(const Xt of St)qo(Xt),to(this,Xt).delete(xt),this.logIfDebugEnabled("unsubscribe",Xt,void 0),Zo(Xt)||this.emit(Fl,{eventName:Xt,listener:xt})}once(St){return new nt(xt=>{const Xt=this.on(St,zt=>{Xt(),xt(zt)})})}events(St){St=Array.isArray(St)?St:[St];for(const xt of St)qo(xt);return mp(this,St)}async emit(St,xt){qo(St),this.logIfDebugEnabled("emit",St,xt),Js(this,St,xt);const Xt=to(this,St),zt=na.get(this),vn=[...Xt],On=Zo(St)?[]:[...zt];await Su,await nt.all([...vn.map(async Tn=>{if(Xt.has(Tn))return Tn(xt)}),...On.map(async Tn=>{if(zt.has(Tn))return Tn(St,xt)})])}async emitSerial(St,xt){qo(St),this.logIfDebugEnabled("emitSerial",St,xt);const Xt=to(this,St),zt=na.get(this),vn=[...Xt],On=[...zt];await Su;for(const Tn of vn)Xt.has(Tn)&&await Tn(xt);for(const Tn of On)zt.has(Tn)&&await Tn(St,xt)}onAny(St){return hp(St),this.logIfDebugEnabled("subscribeAny",void 0,void 0),na.get(this).add(St),this.emit(pp,{listener:St}),this.offAny.bind(this,St)}anyEvent(){return mp(this)}offAny(St){hp(St),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(Fl,{listener:St}),na.get(this).delete(St)}clearListeners(St){St=Array.isArray(St)?St:[St];for(const xt of St)if(this.logIfDebugEnabled("clear",xt,void 0),typeof xt=="string"||typeof xt=="symbol"){to(this,xt).clear();const Xt=qp(this,xt);for(const zt of Xt)zt.finish();Xt.clear()}else{na.get(this).clear();for(const Xt of Bu.get(this).values())Xt.clear();for(const Xt of ap.get(this).values()){for(const zt of Xt)zt.finish();Xt.clear()}}}listenerCount(St){St=Array.isArray(St)?St:[St];let xt=0;for(const Xt of St){if(typeof Xt=="string"){xt+=na.get(this).size+to(this,Xt).size+qp(this,Xt).size+qp(this).size;continue}typeof Xt<"u"&&qo(Xt),xt+=na.get(this).size;for(const zt of Bu.get(this).values())xt+=zt.size;for(const zt of ap.get(this).values())xt+=zt.size}return xt}bindMethods(St,xt){if(typeof St!="object"||St===null)throw new TypeError("`target` must be an object");xt=Np(xt);for(const Xt of xt){if(St[Xt]!==void 0)throw new Error(`The property \`${Xt}\` already exists on \`target\``);Object.defineProperty(St,Xt,{enumerable:!1,value:this[Xt].bind(this)})}}}const _f=Object.getOwnPropertyNames(Gp.prototype).filter(Et=>Et!=="constructor");Object.defineProperty(Gp,"listenerAdded",{value:pp,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Gp,"listenerRemoved",{value:Fl,writable:!1,enumerable:!0,configurable:!1});var nm=Gp;function am(Et){return typeof Et=="object"&&Et!==null&&"message"in Et&&typeof Et.message=="string"}function Mp(Et){if(am(Et))return Et;try{return new Error(JSON.stringify(Et))}catch{return new Error(String(Et))}}function Kp(Et){return Mp(Et).message}var rm=(Et=>(Et.FPS_DROP="fps_drop",Et))(rm||{}),ss=(Et=>(Et.start="start",Et.transform="transform",Et.flush="flush",Et))(ss||{}),Io=(Et=>(Et.pipeline_ended="pipeline_ended",Et.pipeline_ended_with_error="pipeline_ended_with_error",Et.pipeline_started="pipeline_started",Et.pipeline_started_with_error="pipeline_started_with_error",Et.pipeline_restarted="pipeline_restarted",Et.pipeline_restarted_with_error="pipeline_restarted_with_error",Et))(Io||{});const fm=500,Sm=.8;class pm extends nm{constructor(St,xt){super(),this.index_=xt,this.uuid_=tm(),this.framesTransformed_=0,this.transformer_=St,this.shouldStop_=!1,this.isFlashed_=!1,this.framesFromSource_=0,this.fps_=0,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in St&&(this.transformerType_=St.getTransformerType());const Xt=new os().action("MediaTransformer").guid(this.uuid_).transformerType(this.transformerType_).variation("Create").build();Vs.report(Xt)}setTrackExpectedRate(St){this.trackExpectedRate_=St}async start(St){if(this.controller_=St,this.transformer_&&typeof this.transformer_.start=="function")try{await this.transformer_.start(St)}catch(xt){const Xt=new os().action("MediaTransformer").guid(this.uuid_).message(ct.errors.transformer_start).transformerType(this.transformerType_).variation("Error").error(Kp(xt)).build();Vs.report(Xt);const zt={eventMetaData:{transformerIndex:this.index_},error:xt,function:"start"};this.emit("error",zt)}}async transform(St,xt){var Xt,zt,vn,On;if(this.mediaTransformerQosReportStartTimestamp_===0&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),St instanceof VideoFrame&&(this.videoHeight_=(Xt=St==null?void 0:St.displayHeight)!=null?Xt:0,this.videoWidth_=(zt=St==null?void 0:St.displayWidth)!=null?zt:0),++this.framesFromSource_,this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),St.close(),this.flush(xt),xt.terminate();else try{await((On=(vn=this.transformer_).transform)==null?void 0:On.call(vn,St,xt)),++this.framesTransformed_,this.framesTransformed_===fm&&this.mediaTransformerQosReport()}catch(Tn){const Mn=new os().action("MediaTransformer").guid(this.uuid_).message(ct.errors.transformer_transform).transformerType(this.transformerType_).variation("Error").error(Kp(Tn)).build();Vs.report(Mn);const br={eventMetaData:{transformerIndex:this.index_},error:Tn,function:"transform"};this.emit("error",br)}}async flush(St){if(this.transformer_&&typeof this.transformer_.flush=="function"&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(St)}catch(Xt){const zt=new os().action("MediaTransformer").guid(this.uuid_).message(ct.errors.transformer_flush).transformerType(this.transformerType_).variation("Error").error(Kp(Xt)).build();Vs.report(zt);const vn={eventMetaData:{transformerIndex:this.index_},error:Xt,function:"flush"};this.emit("error",vn)}}this.mediaTransformerQosReport();const xt=new os().action("MediaTransformer").guid(this.uuid_).transformerType(this.transformerType_).variation("Delete").build();Vs.report(xt)}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}mediaTransformerQosReport(){let St=(Date.now()-this.mediaTransformerQosReportStartTimestamp_)/1e3,xt=this.framesFromSource_/St,Xt=this.framesTransformed_/St;if(this.trackExpectedRate_!=-1&&this.trackExpectedRate_*Sm>xt){const vn={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:xt}};this.emit("warn",vn)}const zt=new os().action("MediaTransformer").fps(xt).transformedFps(Xt).framesTransformed(this.framesTransformed_).guid(this.uuid_).transformerType(this.transformerType_).videoHeight(this.videoHeight_).videoWidth(this.videoWidth_).variation("QoS").build();Vs.report(zt),this.mediaTransformerQosReportStartTimestamp_=0,this.framesFromSource_=0,this.framesTransformed_=0}}class xp extends nm{constructor(St){super(),this.transformers_=[],this.trackExpectedRate_=-1;for(let xt=0;xt<St.length;xt++){let Xt=new pm(St[xt],xt);Xt.on("error",zt=>{this.emit("error",zt)}),Xt.on("warn",zt=>{this.emit("warn",zt)}),this.transformers_.push(Xt)}}setTrackExpectedRate(St){this.trackExpectedRate_=St;for(let xt of this.transformers_)xt.setTrackExpectedRate(this.trackExpectedRate_)}async start(St,xt){if(!this.transformers_||this.transformers_.length===0){console.log("[Pipeline] No transformers.");return}try{let Xt=St;for(let zt of this.transformers_)St=St.pipeThrough(new TransformStream(zt));St.pipeTo(xt).then(async()=>{console.log("[Pipeline] Setup."),await xt.abort(),await Xt.cancel(),this.emit("pipelineInfo","pipeline_ended")}).catch(async zt=>{St.cancel().then(()=>{console.log("[Pipeline] Shutting down streams after abort.")}).catch(vn=>{console.error("[Pipeline] Error from stream transform:",vn)}),await xt.abort(zt),await Xt.cancel(zt),this.emit("pipelineInfo","pipeline_ended_with_error")})}catch{this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy();return}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let St of this.transformers_)St.stop()}}class Yu extends nm{constructor(){super(),this.uuid_=tm(),this.trackExpectedRate_=-1;const St=new os().action("MediaProcessor").guid(this.uuid_).variation("Create").build();Vs.report(St)}setTrackExpectedRate(St){this.trackExpectedRate_=St,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(St,xt){return this.readable_=St,this.writable_=xt,this.transformInternal()}transformInternal(){return new nt((St,xt)=>{if(!this.transformers_||this.transformers_.length===0){const zt=new os().action("MediaProcessor").guid(this.uuid_).message(ct.errors.transformer_none).variation("Error").build();Vs.report(zt),xt("[MediaProcessor] Need to set transformers.");return}if(!this.readable_){const zt=new os().action("MediaProcessor").guid(this.uuid_).message(ct.errors.readable_null).variation("Error").build();Vs.report(zt),xt("[MediaProcessor] Readable is null.");return}if(!this.writable_){const zt=new os().action("MediaProcessor").guid(this.uuid_).message(ct.errors.writable_null).variation("Error").build();Vs.report(zt),xt("[MediaProcessor] Writable is null.");return}let Xt=!1;this.pipeline_&&(Xt=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new xp(this.transformers_),this.pipeline_.on("warn",zt=>{this.emit("warn",zt)}),this.pipeline_.on("error",zt=>{this.emit("error",zt)}),this.pipeline_.on("pipelineInfo",zt=>{Xt&&(zt==="pipeline_started"?zt=Io.pipeline_restarted:zt==="pipeline_started_with_error"&&(zt=Io.pipeline_restarted_with_error)),this.emit("pipelineInfo",zt)}),this.trackExpectedRate_!=-1&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then(()=>{St()}).catch(zt=>{xt(zt)})})}setTransformers(St){const xt=new os().action("MediaProcessor").guid(this.uuid_).message(ct.updates.transformer_new).variation("Update").build();return Vs.report(xt),this.transformers_=St,this.readable_&&this.writable_?this.transformInternal():nt.resolve()}destroy(){return new nt(St=>{this.pipeline_&&this.pipeline_.destroy();const xt=new os().action("MediaProcessor").guid(this.uuid_).variation("Delete").build();Vs.report(xt),St()})}}class Fn{constructor(){this.processor_=null,this.generator_=null}init(St){return new nt((xt,Xt)=>{try{this.processor_=new MediaStreamTrackProcessor(St)}catch(zt){console.log(`[InsertableStreamHelper] MediaStreamTrackProcessor failed: ${zt}`),Xt(zt)}try{St.kind==="audio"?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):St.kind==="video"?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):Xt("kind not supported")}catch(zt){console.log(`[InsertableStreamHelper] MediaStreamTrackGenerator failed: ${zt}`),Xt(zt)}xt()})}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class en{constructor(St){this.insertableStreamHelper_=new Fn,this.mediaProcessor_=St}setTrack(St){return new nt((xt,Xt)=>{this.insertableStreamHelper_.init(St).then(()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then(()=>{xt(this.insertableStreamHelper_.getProccesorTrack())}).catch(zt=>{Xt(zt)})}).catch(zt=>{Xt(zt)})})}destroy(){return new nt((St,xt)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then(()=>{St()}).catch(Xt=>{xt(Xt)}):xt("no processor")})}}var Zn=(Et=>(Et.Low="Low",Et.High="High",Et))(Zn||{}),rr=(Et=>(Et.BackgroundBlur="BackgroundBlur",Et.VirtualBackground="VirtualBackground",Et.VideoBackground="VideoBackground",Et.SilhouetteBlur="SilhouetteBlur",Et))(rr||{}),ir=(Et=>(Et.FAST="FAST",Et.PRECISE="PRECISE",Et))(ir||{});const eo=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var no=function(){var Et=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(St){St=St||{};var xt=typeof St<"u"?St:{},Xt,zt;xt.ready=new nt(function(xr,kr){Xt=xr,zt=kr});var vn={},On;for(On in xt)xt.hasOwnProperty(On)&&(vn[On]=xt[On]);var Tn="./this.program",Mn=function(xr,kr){throw kr},br=!0,Nr="";function Wr(xr){return xt.locateFile?xt.locateFile(xr,Nr):Nr+xr}var Ao;typeof document<"u"&&document.currentScript&&(Nr=document.currentScript.src),Et&&(Nr=Et),Nr.indexOf("blob:")!==0?Nr=Nr.substr(0,Nr.replace(/[?#].*/,"").lastIndexOf("/")+1):Nr="";var Mo=xt.print||console.log.bind(console),Dr=xt.printErr||console.warn.bind(console);for(On in vn)vn.hasOwnProperty(On)&&(xt[On]=vn[On]);vn=null,xt.arguments&&xt.arguments,xt.thisProgram&&(Tn=xt.thisProgram),xt.quit&&(Mn=xt.quit);var Br;xt.wasmBinary&&(Br=xt.wasmBinary);var Ko=xt.noExitRuntime||!0;typeof WebAssembly!="object"&&Ns("no native wasm support detected");var Bo,ys=!1,pr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Zu(xr,kr,Xr){for(var us=kr+Xr,ks=kr;xr[ks]&&!(ks>=us);)++ks;if(ks-kr>16&&xr.subarray&&pr)return pr.decode(xr.subarray(kr,ks));for(var ws="";kr<ks;){var Oo=xr[kr++];if(!(Oo&128)){ws+=String.fromCharCode(Oo);continue}var Ps=xr[kr++]&63;if((Oo&224)==192){ws+=String.fromCharCode((Oo&31)<<6|Ps);continue}var Ll=xr[kr++]&63;if((Oo&240)==224?Oo=(Oo&15)<<12|Ps<<6|Ll:Oo=(Oo&7)<<18|Ps<<12|Ll<<6|xr[kr++]&63,Oo<65536)ws+=String.fromCharCode(Oo);else{var iu=Oo-65536;ws+=String.fromCharCode(55296|iu>>10,56320|iu&1023)}}return ws}function Cu(xr,kr){return xr?Zu(io,xr,kr):""}function xa(xr,kr,Xr){for(var us=0;us<xr.length;++us)Ls[kr++>>0]=xr.charCodeAt(us);Xr||(Ls[kr>>0]=0)}function hs(xr,kr){return xr%kr>0&&(xr+=kr-xr%kr),xr}var jp,Ls,io,Nu;function Up(xr){jp=xr,xt.HEAP8=Ls=new Int8Array(xr),xt.HEAP16=new Int16Array(xr),xt.HEAP32=Nu=new Int32Array(xr),xt.HEAPU8=io=new Uint8Array(xr),xt.HEAPU16=new Uint16Array(xr),xt.HEAPU32=new Uint32Array(xr),xt.HEAPF32=new Float32Array(xr),xt.HEAPF64=new Float64Array(xr)}xt.INITIAL_MEMORY;var $a,jo=[],Tl=[],mu=[],Ku=0;function vp(){return Ko||Ku>0}function ep(){if(xt.preRun)for(typeof xt.preRun=="function"&&(xt.preRun=[xt.preRun]);xt.preRun.length;)Mu(xt.preRun.shift());ds(jo)}function Ep(){ds(Tl)}function Tu(){if(xt.postRun)for(typeof xt.postRun=="function"&&(xt.postRun=[xt.postRun]);xt.postRun.length;)yp(xt.postRun.shift());ds(mu)}function Mu(xr){jo.unshift(xr)}function wp(xr){Tl.unshift(xr)}function yp(xr){mu.unshift(xr)}var Kl=0,Yl=null;function tp(xr){Kl++,xt.monitorRunDependencies&&xt.monitorRunDependencies(Kl)}function Ju(xr){if(Kl--,xt.monitorRunDependencies&&xt.monitorRunDependencies(Kl),Kl==0&&Yl){var kr=Yl;Yl=null,kr()}}xt.preloadedImages={},xt.preloadedAudios={};function Ns(xr){xt.onAbort&&xt.onAbort(xr),xr="Aborted("+xr+")",Dr(xr),ys=!0,xr+=". Build with -s ASSERTIONS=1 for more info.";var kr=new WebAssembly.RuntimeError(xr);throw zt(kr),kr}var Cl="data:application/octet-stream;base64,";function Jl(xr){return xr.startsWith(Cl)}var Ss;Ss="tflite-simd.wasm",Jl(Ss)||(Ss=Wr(Ss));function ga(xr){try{if(xr==Ss&&Br)return new Uint8Array(Br);if(!Ao)throw"both async and sync fetching of the wasm failed"}catch(kr){Ns(kr)}}function gu(){return!Br&&br&&typeof fetch=="function"?fetch(Ss,{credentials:"same-origin"}).then(function(xr){if(!xr.ok)throw"failed to load wasm binary file at '"+Ss+"'";return xr.arrayBuffer()}).catch(function(){return ga(Ss)}):nt.resolve().then(function(){return ga(Ss)})}function Dl(){var xr={a:Ms};function kr(Oo,Ps){var Ll=Oo.exports;xt.asm=Ll,Bo=xt.asm.q,Up(Bo.buffer),$a=xt.asm.E,wp(xt.asm.r),Ju()}tp();function Xr(Oo){kr(Oo.instance)}function us(Oo){return gu().then(function(Ps){return WebAssembly.instantiate(Ps,xr)}).then(function(Ps){return Ps}).then(Oo,function(Ps){Dr("failed to asynchronously prepare wasm: "+Ps),Ns(Ps)})}function ks(){return!Br&&typeof WebAssembly.instantiateStreaming=="function"&&!Jl(Ss)&&typeof fetch=="function"?fetch(Ss,{credentials:"same-origin"}).then(function(Oo){var Ps=WebAssembly.instantiateStreaming(Oo,xr);return Ps.then(Xr,function(Ll){return Dr("wasm streaming compile failed: "+Ll),Dr("falling back to ArrayBuffer instantiation"),us(Xr)})}):us(Xr)}if(xt.instantiateWasm)try{var ws=xt.instantiateWasm(xr,kr);return ws}catch(Oo){return Dr("Module.instantiateWasm callback failed with error: "+Oo),!1}return ks().catch(zt),{}}function ds(xr){for(;xr.length>0;){var kr=xr.shift();if(typeof kr=="function"){kr(xt);continue}var Xr=kr.func;typeof Xr=="number"?kr.arg===void 0?$a.get(Xr)():$a.get(Xr)(kr.arg):Xr(kr.arg===void 0?null:kr.arg)}}function Ys(xr,kr,Xr,us){Ns("Assertion failed: "+Cu(xr)+", at: "+[kr?Cu(kr):"unknown filename",Xr,us?Cu(us):"unknown function"])}function Al(xr,kr){Ns("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _o(xr,kr){Ns("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function yl(){Ns("")}var as;as=function(){return performance.now()};var js=!0;function xl(xr){return Nu[Xo()>>2]=xr,xr}function ru(xr,kr){var Xr;if(xr===0)Xr=Date.now();else if((xr===1||xr===4)&&js)Xr=as();else return xl(28),-1;return Nu[kr>>2]=Xr/1e3|0,Nu[kr+4>>2]=Xr%1e3*1e3*1e3|0,0}function $s(){return 2147483648}function cs(xr,kr,Xr){io.copyWithin(xr,kr,kr+Xr)}function zl(xr){try{return Bo.grow(xr-jp.byteLength+65535>>>16),Up(Bo.buffer),1}catch{}}function $l(xr){var kr=io.length;xr=xr>>>0;var Xr=2147483648;if(xr>Xr)return!1;for(var us=1;us<=4;us*=2){var ks=kr*(1+.2/us);ks=Math.min(ks,xr+100663296);var ws=Math.min(Xr,hs(Math.max(xr,ks),65536)),Oo=zl(ws);if(Oo)return!0}return!1}function Sl(xr){for(var kr=as();as()-kr<xr;);}var $u={};function vu(){return Tn||"./this.program"}function Ql(){if(!Ql.strings){var xr=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",kr={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:xr,_:vu()};for(var Xr in $u)$u[Xr]===void 0?delete kr[Xr]:kr[Xr]=$u[Xr];var us=[];for(var Xr in kr)us.push(Xr+"="+kr[Xr]);Ql.strings=us}return Ql.strings}var yu={mappings:{},buffers:[null,[],[]],printChar:function(xr,kr){var Xr=yu.buffers[xr];kr===0||kr===10?((xr===1?Mo:Dr)(Zu(Xr,0)),Xr.length=0):Xr.push(kr)},varargs:void 0,get:function(){yu.varargs+=4;var xr=Nu[yu.varargs-4>>2];return xr},getStr:function(xr){var kr=Cu(xr);return kr},get64:function(xr,kr){return xr}};function zs(xr,kr){var Xr=0;return Ql().forEach(function(us,ks){var ws=kr+Xr;Nu[xr+ks*4>>2]=ws,xa(us,ws),Xr+=us.length+1}),0}function Rl(xr,kr){var Xr=Ql();Nu[xr>>2]=Xr.length;var us=0;return Xr.forEach(function(ks){us+=ks.length+1}),Nu[kr>>2]=us,0}function Ks(xr){vs(xr)}function Es(xr){return 0}function _l(xr,kr,Xr,us,ks){}function gs(xr,kr,Xr,us){for(var ks=0,ws=0;ws<Xr;ws++){for(var Oo=Nu[kr+ws*8>>2],Ps=Nu[kr+(ws*8+4)>>2],Ll=0;Ll<Ps;Ll++)yu.printChar(xr,io[Oo+Ll]);ks+=Ps}return Nu[us>>2]=ks,0}function ls(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var xr=new Uint8Array(1);return function(){return crypto.getRandomValues(xr),xr[0]}}else return function(){Ns("randomDevice")}}function xu(xr,kr){xu.randomDevice||(xu.randomDevice=ls());for(var Xr=0;Xr<kr;Xr++)Ls[xr+Xr>>0]=xu.randomDevice();return 0}var Ms={a:Ys,e:Al,d:_o,b:yl,n:ru,h:$s,l:cs,m:$l,p:Sl,f:zs,g:Rl,j:Ks,i:Es,k:_l,c:gs,o:xu};Dl(),xt.___wasm_call_ctors=function(){return(xt.___wasm_call_ctors=xt.asm.r).apply(null,arguments)},xt._getModelBufferMemoryOffset=function(){return(xt._getModelBufferMemoryOffset=xt.asm.s).apply(null,arguments)},xt._getInputMemoryOffset=function(){return(xt._getInputMemoryOffset=xt.asm.t).apply(null,arguments)},xt._getInputHeight=function(){return(xt._getInputHeight=xt.asm.u).apply(null,arguments)},xt._getInputWidth=function(){return(xt._getInputWidth=xt.asm.v).apply(null,arguments)},xt._getInputChannelCount=function(){return(xt._getInputChannelCount=xt.asm.w).apply(null,arguments)},xt._getOutputMemoryOffset=function(){return(xt._getOutputMemoryOffset=xt.asm.x).apply(null,arguments)},xt._getOutputHeight=function(){return(xt._getOutputHeight=xt.asm.y).apply(null,arguments)},xt._getOutputWidth=function(){return(xt._getOutputWidth=xt.asm.z).apply(null,arguments)},xt._getOutputChannelCount=function(){return(xt._getOutputChannelCount=xt.asm.A).apply(null,arguments)},xt._loadModel=function(){return(xt._loadModel=xt.asm.B).apply(null,arguments)},xt._runInference=function(){return(xt._runInference=xt.asm.C).apply(null,arguments)},xt._isGPUEnabled=function(){return(xt._isGPUEnabled=xt.asm.D).apply(null,arguments)};var Xo=xt.___errno_location=function(){return(Xo=xt.___errno_location=xt.asm.F).apply(null,arguments)},Eo;function Cs(xr){this.name="ExitStatus",this.message="Program terminated with exit("+xr+")",this.status=xr}Yl=function xr(){Eo||Il(),Eo||(Yl=xr)};function Il(xr){if(Kl>0||(ep(),Kl>0))return;function kr(){Eo||(Eo=!0,xt.calledRun=!0,!ys&&(Ep(),Xt(xt),xt.onRuntimeInitialized&&xt.onRuntimeInitialized(),Tu()))}xt.setStatus?(xt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){xt.setStatus("")},1),kr()},1)):kr()}xt.run=Il;function vs(xr,kr){Ts(xr)}function Ts(xr){vp()||(xt.onExit&&xt.onExit(xr),ys=!0),Mn(xr,new Cs(xr))}if(xt.preInit)for(typeof xt.preInit=="function"&&(xt.preInit=[xt.preInit]);xt.preInit.length>0;)xt.preInit.pop()();return Il(),St.ready}}();class po{constructor(){st(this,"selectedTFLite"),st(this,"isSIMDSupported",!1),st(this,"isThreadsSupported",!1),st(this,"inputWidth",0),st(this,"inputHeight",0),st(this,"inputChannelCount",0),st(this,"inputMemoryOffset",0),st(this,"outputWidth",0),st(this,"outputHeight",0),st(this,"outputChannelCount",0),st(this,"outputMemoryOffset",0)}}const uo="https://d3opqjmqzxf057.cloudfront.net/vonage-tensorflow-wasm/tflite-simd-wasm/1.1.3/",pu="https://d3opqjmqzxf057.cloudfront.net/ml/selfie_segmentation/4.0.0/";async function No(Et=uo,St=pu){let xt=new po;var Xt=new nt(function(zt,vn){async function On(){return no({locateFile:function(Mn){return Et+Mn}})}async function Tn(Mn){return new nt(async(br,Nr)=>{const Wr=Mn;if(typeof Wr>"u")return Nr("TFLite backend unavailable: wasmSimd");const Ao="selfie_segmentation_landscape";console.log("Loading tflite model:",Ao);let Mo=St+`${Ao}.tflite`;console.log("TFLite modelUrl: "+Mo);try{const Dr=await(await fetch(Mo)).arrayBuffer();console.log("Model buffer size:",Dr.byteLength);const Br=Wr._getModelBufferMemoryOffset();console.log("Model buffer memory offset:",Br),console.log("Loading model buffer..."),Wr.HEAPU8.set(new Uint8Array(Dr),Br);const Ko=Wr._loadModel(Dr.byteLength);if(console.log("Load model result:",Ko),Ko!==0){Nr("Cannot load model");return}xt.inputWidth=Wr._getInputWidth(),xt.inputHeight=Wr._getInputHeight(),xt.inputChannelCount=Wr._getInputChannelCount(),xt.inputMemoryOffset=Wr._getInputMemoryOffset(),console.log("Input memory offset:",xt.inputMemoryOffset),console.log("Input height:",xt.inputHeight),console.log("Input width:",xt.inputWidth),console.log("Input channels:",xt.inputChannelCount),xt.outputMemoryOffset=Wr._getOutputMemoryOffset(),xt.outputWidth=Wr._getOutputWidth(),xt.outputHeight=Wr._getOutputHeight(),xt.outputChannelCount=Wr._getOutputChannelCount(),console.log("Output memory offset:",xt.outputMemoryOffset),console.log("Output height:",xt.outputHeight),console.log("Output width:",xt.outputWidth),console.log("Output channels:",xt.outputChannelCount),xt.selectedTFLite=Wr}catch(Dr){Nr(Dr);return}br()})}On().then(Mn=>{if(Mn===null)throw console.error("loadTFLite null"),"loadTFLite null";Tn(Mn).then(br=>{zt(xt)}).catch(br=>{console.error("loadTFLiteModel error"),vn("loadTFLiteModel error")})}).catch(Mn=>{console.error("loadTFLite error:",Mn),vn("loadTFLite error:"+Mn)})});return Xt}class Nl{constructor(){st(this,"canvas",new OffscreenCanvas(0,0)),st(this,"context",this.canvas.getContext("2d",{willReadFrequently:!0})),st(this,"pixelCount",0),st(this,"inputOffset",0),st(this,"outputOffset",0),st(this,"infos"),st(this,"mask")}async init(St,xt){await this.initWasm(St,xt),this.infos&&(this.canvas.width=this.infos.inputWidth,this.canvas.height=this.infos.inputHeight,this.pixelCount=this.infos.inputWidth*this.infos.inputHeight,this.mask=new ImageData(this.infos.inputWidth,this.infos.inputHeight),this.inputOffset=this.infos.inputMemoryOffset/4,this.outputOffset=this.infos.outputMemoryOffset/4)}async initWasm(St,xt){this.infos=await No(St,xt)}getOutputDimensions(){var St,xt,Xt,zt;return{width:(xt=(St=this.infos)==null?void 0:St.outputWidth)!=null?xt:0,height:(zt=(Xt=this.infos)==null?void 0:Xt.outputHeight)!=null?zt:0}}async process(St){if(!this.mask||!this.infos)return;const xt=this.infos.inputWidth,Xt=this.infos.inputHeight;this.context.drawImage(St,0,0,St.width,St.height,0,0,xt,Xt);const zt=this.context.getImageData(0,0,xt,Xt),vn=this.infos.selectedTFLite.HEAPF32;for(let On=0;On<this.pixelCount;On++){const Tn=this.inputOffset+On*3;vn[Tn]=zt.data[On*4]/255,vn[Tn+1]=zt.data[On*4+1]/255,vn[Tn+2]=zt.data[On*4+2]/255}this.infos.selectedTFLite._runInference();for(let On=0;On<this.pixelCount;On++){const Tn=this.infos.selectedTFLite.HEAPF32[this.outputOffset+On];this.mask.data[On*4]=this.mask.data[On*4+3]=255*Tn}return createImageBitmap(this.mask)}isGpuSupported(){var St,xt,Xt;return(Xt=(xt=(St=this.infos)==null?void 0:St.selectedTFLite)==null?void 0:xt._isGPUEnabled())!=null?Xt:!1}}async function Fp(Et,St){const{wasm:xt,insertableStreams:Xt,simd:zt,webgl:vn}=await Eu(Et,St);if(!xt.supported)throw xt.message;if(!Xt.supported)throw Xt.message;if(!zt.supported)throw zt.message;if(!vn.supported)throw vn.message}async function Eu(Et,St){const xt=new Nl;await xt.initWasm(Et,St);const Xt={wasm:{supported:typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function",message:"Your browser does not support WebAssembly features."},simd:{supported:await eo(),message:"Your browser does not support simd features."},insertableStreams:{supported:!0},gpu:{supported:xt.isGpuSupported(),message:"Your browser does not support gpu features."},webgl:Dp()};try{await at()}catch(zt){Xt.insertableStreams.supported=!1,Xt.insertableStreams.message=zt}return Xt}function Dp(){return OffscreenCanvas?new OffscreenCanvas(0,0).getContext("webgl2")?{supported:!0}:{supported:!1,message:"Your browser does not support webgl 2"}:{supported:!1,message:"Your browser does not support offscreen canvas"}}const Au={};(function(){var Et;function St(jt){var nn=0;return function(){return nn<jt.length?{done:!1,value:jt[nn++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(jt,nn,sn){return jt==Array.prototype||jt==Object.prototype||(jt[nn]=sn.value),jt};function Xt(jt){jt=[typeof globalThis=="object"&&globalThis,jt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var nn=0;nn<jt.length;++nn){var sn=jt[nn];if(sn&&sn.Math==Math)return sn}throw Error("Cannot find global object")}var zt=Xt(this);function vn(jt,nn){if(nn)e:{var sn=zt;jt=jt.split(".");for(var Hn=0;Hn<jt.length-1;Hn++){var fr=jt[Hn];if(!(fr in sn))break e;sn=sn[fr]}jt=jt[jt.length-1],Hn=sn[jt],nn=nn(Hn),nn!=Hn&&nn!=null&&xt(sn,jt,{configurable:!0,writable:!0,value:nn})}}vn("Symbol",function(jt){function nn(Mr){if(this instanceof nn)throw new TypeError("Symbol is not a constructor");return new sn(Hn+(Mr||"")+"_"+fr++,Mr)}function sn(Mr,dr){this.g=Mr,xt(this,"description",{configurable:!0,writable:!0,value:dr})}if(jt)return jt;sn.prototype.toString=function(){return this.g};var Hn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",fr=0;return nn}),vn("Symbol.iterator",function(jt){if(jt)return jt;jt=Symbol("Symbol.iterator");for(var nn="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),sn=0;sn<nn.length;sn++){var Hn=zt[nn[sn]];typeof Hn=="function"&&typeof Hn.prototype[jt]!="function"&&xt(Hn.prototype,jt,{configurable:!0,writable:!0,value:function(){return On(St(this))}})}return jt});function On(jt){return jt={next:jt},jt[Symbol.iterator]=function(){return this},jt}function Tn(jt){var nn=typeof Symbol<"u"&&Symbol.iterator&&jt[Symbol.iterator];return nn?nn.call(jt):{next:St(jt)}}function Mn(jt){if(!(jt instanceof Array)){jt=Tn(jt);for(var nn,sn=[];!(nn=jt.next()).done;)sn.push(nn.value);jt=sn}return jt}var br=typeof Object.create=="function"?Object.create:function(jt){function nn(){}return nn.prototype=jt,new nn},Nr;if(typeof Object.setPrototypeOf=="function")Nr=Object.setPrototypeOf;else{var Wr;e:{var Ao={a:!0},Mo={};try{Mo.__proto__=Ao,Wr=Mo.a;break e}catch{}Wr=!1}Nr=Wr?function(jt,nn){if(jt.__proto__=nn,jt.__proto__!==nn)throw new TypeError(jt+" is not extensible");return jt}:null}var Dr=Nr;function Br(jt,nn){if(jt.prototype=br(nn.prototype),jt.prototype.constructor=jt,Dr)Dr(jt,nn);else for(var sn in nn)if(sn!="prototype")if(Object.defineProperties){var Hn=Object.getOwnPropertyDescriptor(nn,sn);Hn&&Object.defineProperty(jt,sn,Hn)}else jt[sn]=nn[sn];jt.ea=nn.prototype}function Ko(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function Bo(jt){if(jt.l)throw new TypeError("Generator is already running");jt.l=!0}Ko.prototype.o=function(jt){this.h=jt};function ys(jt,nn){jt.j={U:nn,V:!0},jt.g=jt.m||jt.s}Ko.prototype.return=function(jt){this.j={return:jt},this.g=this.s};function pr(jt,nn,sn){return jt.g=sn,{value:nn}}function Zu(jt){this.g=new Ko,this.h=jt}function Cu(jt,nn){Bo(jt.g);var sn=jt.g.i;return sn?xa(jt,"return"in sn?sn.return:function(Hn){return{value:Hn,done:!0}},nn,jt.g.return):(jt.g.return(nn),hs(jt))}function xa(jt,nn,sn,Hn){try{var fr=nn.call(jt.g.i,sn);if(!(fr instanceof Object))throw new TypeError("Iterator result "+fr+" is not an object");if(!fr.done)return jt.g.l=!1,fr;var Mr=fr.value}catch(dr){return jt.g.i=null,ys(jt.g,dr),hs(jt)}return jt.g.i=null,Hn.call(jt.g,Mr),hs(jt)}function hs(jt){for(;jt.g.g;)try{var nn=jt.h(jt.g);if(nn)return jt.g.l=!1,{value:nn.value,done:!1}}catch(sn){jt.g.h=void 0,ys(jt.g,sn)}if(jt.g.l=!1,jt.g.j){if(nn=jt.g.j,jt.g.j=null,nn.V)throw nn.U;return{value:nn.return,done:!0}}return{value:void 0,done:!0}}function jp(jt){this.next=function(nn){return Bo(jt.g),jt.g.i?nn=xa(jt,jt.g.i.next,nn,jt.g.o):(jt.g.o(nn),nn=hs(jt)),nn},this.throw=function(nn){return Bo(jt.g),jt.g.i?nn=xa(jt,jt.g.i.throw,nn,jt.g.o):(ys(jt.g,nn),nn=hs(jt)),nn},this.return=function(nn){return Cu(jt,nn)},this[Symbol.iterator]=function(){return this}}function Ls(jt,nn){return nn=new jp(new Zu(nn)),Dr&&jt.prototype&&Dr(nn,jt.prototype),nn}function io(jt,nn){jt instanceof String&&(jt+="");var sn=0,Hn=!1,fr={next:function(){if(!Hn&&sn<jt.length){var Mr=sn++;return{value:nn(Mr,jt[Mr]),done:!1}}return Hn=!0,{done:!0,value:void 0}}};return fr[Symbol.iterator]=function(){return fr},fr}var Nu=typeof Object.assign=="function"?Object.assign:function(jt,nn){for(var sn=1;sn<arguments.length;sn++){var Hn=arguments[sn];if(Hn)for(var fr in Hn)Object.prototype.hasOwnProperty.call(Hn,fr)&&(jt[fr]=Hn[fr])}return jt};vn("Object.assign",function(jt){return jt||Nu}),vn("Promise",function(jt){function nn(dr){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Or=this.j();try{dr(Or.resolve,Or.reject)}catch(Qr){Or.reject(Qr)}}function sn(){this.g=null}function Hn(dr){return dr instanceof nn?dr:new nn(function(Or){Or(dr)})}if(jt)return jt;sn.prototype.h=function(dr){if(this.g==null){this.g=[];var Or=this;this.i(function(){Or.l()})}this.g.push(dr)};var fr=zt.setTimeout;sn.prototype.i=function(dr){fr(dr,0)},sn.prototype.l=function(){for(;this.g&&this.g.length;){var dr=this.g;this.g=[];for(var Or=0;Or<dr.length;++Or){var Qr=dr[Or];dr[Or]=null;try{Qr()}catch(xo){this.j(xo)}}}this.g=null},sn.prototype.j=function(dr){this.i(function(){throw dr})},nn.prototype.j=function(){function dr(xo){return function($o){Qr||(Qr=!0,xo.call(Or,$o))}}var Or=this,Qr=!1;return{resolve:dr(this.C),reject:dr(this.l)}},nn.prototype.C=function(dr){if(dr===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(dr instanceof nn)this.F(dr);else{e:switch(typeof dr){case"object":var Or=dr!=null;break e;case"function":Or=!0;break e;default:Or=!1}Or?this.u(dr):this.m(dr)}},nn.prototype.u=function(dr){var Or=void 0;try{Or=dr.then}catch(Qr){this.l(Qr);return}typeof Or=="function"?this.G(Or,dr):this.m(dr)},nn.prototype.l=function(dr){this.s(2,dr)},nn.prototype.m=function(dr){this.s(1,dr)},nn.prototype.s=function(dr,Or){if(this.h!=0)throw Error("Cannot settle("+dr+", "+Or+"): Promise already settled in state"+this.h);this.h=dr,this.i=Or,this.h===2&&this.D(),this.A()},nn.prototype.D=function(){var dr=this;fr(function(){if(dr.B()){var Or=zt.console;typeof Or<"u"&&Or.error(dr.i)}},1)},nn.prototype.B=function(){if(this.o)return!1;var dr=zt.CustomEvent,Or=zt.Event,Qr=zt.dispatchEvent;return typeof Qr>"u"?!0:(typeof dr=="function"?dr=new dr("unhandledrejection",{cancelable:!0}):typeof Or=="function"?dr=new Or("unhandledrejection",{cancelable:!0}):(dr=zt.document.createEvent("CustomEvent"),dr.initCustomEvent("unhandledrejection",!1,!0,dr)),dr.promise=this,dr.reason=this.i,Qr(dr))},nn.prototype.A=function(){if(this.g!=null){for(var dr=0;dr<this.g.length;++dr)Mr.h(this.g[dr]);this.g=null}};var Mr=new sn;return nn.prototype.F=function(dr){var Or=this.j();dr.J(Or.resolve,Or.reject)},nn.prototype.G=function(dr,Or){var Qr=this.j();try{dr.call(Or,Qr.resolve,Qr.reject)}catch(xo){Qr.reject(xo)}},nn.prototype.then=function(dr,Or){function Qr(ms,Yo){return typeof ms=="function"?function(Lo){try{xo(ms(Lo))}catch(Jo){$o(Jo)}}:Yo}var xo,$o,Uo=new nn(function(ms,Yo){xo=ms,$o=Yo});return this.J(Qr(dr,xo),Qr(Or,$o)),Uo},nn.prototype.catch=function(dr){return this.then(void 0,dr)},nn.prototype.J=function(dr,Or){function Qr(){switch(xo.h){case 1:dr(xo.i);break;case 2:Or(xo.i);break;default:throw Error("Unexpected state: "+xo.h)}}var xo=this;this.g==null?Mr.h(Qr):this.g.push(Qr),this.o=!0},nn.resolve=Hn,nn.reject=function(dr){return new nn(function(Or,Qr){Qr(dr)})},nn.race=function(dr){return new nn(function(Or,Qr){for(var xo=Tn(dr),$o=xo.next();!$o.done;$o=xo.next())Hn($o.value).J(Or,Qr)})},nn.all=function(dr){var Or=Tn(dr),Qr=Or.next();return Qr.done?Hn([]):new nn(function(xo,$o){function Uo(Lo){return function(Jo){ms[Lo]=Jo,Yo--,Yo==0&&xo(ms)}}var ms=[],Yo=0;do ms.push(void 0),Yo++,Hn(Qr.value).J(Uo(ms.length-1),$o),Qr=Or.next();while(!Qr.done)})},nn}),vn("Object.is",function(jt){return jt||function(nn,sn){return nn===sn?nn!==0||1/nn===1/sn:nn!==nn&&sn!==sn}}),vn("Array.prototype.includes",function(jt){return jt||function(nn,sn){var Hn=this;Hn instanceof String&&(Hn=String(Hn));var fr=Hn.length;for(sn=sn||0,0>sn&&(sn=Math.max(sn+fr,0));sn<fr;sn++){var Mr=Hn[sn];if(Mr===nn||Object.is(Mr,nn))return!0}return!1}}),vn("String.prototype.includes",function(jt){return jt||function(nn,sn){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(nn instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(nn,sn||0)!==-1}}),vn("Array.prototype.keys",function(jt){return jt||function(){return io(this,function(nn){return nn})}});var Up=this||self;function $a(jt,nn){jt=jt.split(".");var sn=Up;jt[0]in sn||typeof sn.execScript>"u"||sn.execScript("var "+jt[0]);for(var Hn;jt.length&&(Hn=jt.shift());)jt.length||nn===void 0?sn[Hn]&&sn[Hn]!==Object.prototype[Hn]?sn=sn[Hn]:sn=sn[Hn]={}:sn[Hn]=nn}function jo(jt,nn){return nn=String.fromCharCode.apply(null,nn),jt==null?nn:jt+nn}var Tl,mu=typeof TextDecoder<"u",Ku,vp=typeof TextEncoder<"u";function ep(jt){if(vp)jt=(Ku||(Ku=new TextEncoder)).encode(jt);else{var nn=void 0;nn=nn===void 0?!1:nn;for(var sn=0,Hn=new Uint8Array(3*jt.length),fr=0;fr<jt.length;fr++){var Mr=jt.charCodeAt(fr);if(128>Mr)Hn[sn++]=Mr;else{if(2048>Mr)Hn[sn++]=Mr>>6|192;else{if(55296<=Mr&&57343>=Mr){if(56319>=Mr&&fr<jt.length){var dr=jt.charCodeAt(++fr);if(56320<=dr&&57343>=dr){Mr=1024*(Mr-55296)+dr-56320+65536,Hn[sn++]=Mr>>18|240,Hn[sn++]=Mr>>12&63|128,Hn[sn++]=Mr>>6&63|128,Hn[sn++]=Mr&63|128;continue}else fr--}if(nn)throw Error("Found an unpaired surrogate");Mr=65533}Hn[sn++]=Mr>>12|224,Hn[sn++]=Mr>>6&63|128}Hn[sn++]=Mr&63|128}}jt=Hn.subarray(0,sn)}return jt}var Ep={},Tu=null;function Mu(jt,nn){nn===void 0&&(nn=0),Kl(),nn=Ep[nn];for(var sn=Array(Math.floor(jt.length/3)),Hn=nn[64]||"",fr=0,Mr=0;fr<jt.length-2;fr+=3){var dr=jt[fr],Or=jt[fr+1],Qr=jt[fr+2],xo=nn[dr>>2];dr=nn[(dr&3)<<4|Or>>4],Or=nn[(Or&15)<<2|Qr>>6],Qr=nn[Qr&63],sn[Mr++]=xo+dr+Or+Qr}switch(xo=0,Qr=Hn,jt.length-fr){case 2:xo=jt[fr+1],Qr=nn[(xo&15)<<2]||Hn;case 1:jt=jt[fr],sn[Mr]=nn[jt>>2]+nn[(jt&3)<<4|xo>>4]+Qr+Hn}return sn.join("")}function wp(jt){var nn=jt.length,sn=3*nn/4;sn%3?sn=Math.floor(sn):"=.".indexOf(jt[nn-1])!=-1&&(sn="=.".indexOf(jt[nn-2])!=-1?sn-2:sn-1);var Hn=new Uint8Array(sn),fr=0;return yp(jt,function(Mr){Hn[fr++]=Mr}),Hn.subarray(0,fr)}function yp(jt,nn){function sn(Qr){for(;Hn<jt.length;){var xo=jt.charAt(Hn++),$o=Tu[xo];if($o!=null)return $o;if(!/^[\s\xa0]*$/.test(xo))throw Error("Unknown base64 encoding at char: "+xo)}return Qr}Kl();for(var Hn=0;;){var fr=sn(-1),Mr=sn(0),dr=sn(64),Or=sn(64);if(Or===64&&fr===-1)break;nn(fr<<2|Mr>>4),dr!=64&&(nn(Mr<<4&240|dr>>2),Or!=64&&nn(dr<<6&192|Or))}}function Kl(){if(!Tu){Tu={};for(var jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),nn=["+/=","+/","-_=","-_.","-_"],sn=0;5>sn;sn++){var Hn=jt.concat(nn[sn].split(""));Ep[sn]=Hn;for(var fr=0;fr<Hn.length;fr++){var Mr=Hn[fr];Tu[Mr]===void 0&&(Tu[Mr]=fr)}}}}var Yl=typeof Uint8Array.prototype.slice=="function",tp;function Ju(jt,nn,sn){return nn===sn?tp||(tp=new Uint8Array(0)):Yl?jt.slice(nn,sn):new Uint8Array(jt.subarray(nn,sn))}var Ns=0,Cl=0;function Jl(jt,nn){nn=nn===void 0?{}:nn,nn=nn.v===void 0?!1:nn.v,this.h=null,this.g=this.i=this.j=0,this.l=!1,this.v=nn,jt&&Ss(this,jt)}function Ss(jt,nn){nn=nn.constructor===Uint8Array?nn:nn.constructor===ArrayBuffer?new Uint8Array(nn):nn.constructor===Array?new Uint8Array(nn):nn.constructor===String?wp(nn):nn instanceof Uint8Array?new Uint8Array(nn.buffer,nn.byteOffset,nn.byteLength):new Uint8Array(0),jt.h=nn,jt.j=0,jt.i=jt.h.length,jt.g=jt.j}Jl.prototype.reset=function(){this.g=this.j};function ga(jt){var nn=jt.h,sn=nn[jt.g],Hn=sn&127;return 128>sn?(jt.g+=1,Hn):(sn=nn[jt.g+1],Hn|=(sn&127)<<7,128>sn?(jt.g+=2,Hn):(sn=nn[jt.g+2],Hn|=(sn&127)<<14,128>sn?(jt.g+=3,Hn):(sn=nn[jt.g+3],Hn|=(sn&127)<<21,128>sn?(jt.g+=4,Hn):(sn=nn[jt.g+4],Hn|=(sn&15)<<28,128>sn?(jt.g+=5,Hn>>>0):(jt.g+=5,128<=nn[jt.g++]&&128<=nn[jt.g++]&&128<=nn[jt.g++]&&128<=nn[jt.g++]&&jt.g++,Hn)))))}function gu(jt){var nn=jt.h[jt.g],sn=jt.h[jt.g+1],Hn=jt.h[jt.g+2],fr=jt.h[jt.g+3];return jt.g+=4,sn=(nn<<0|sn<<8|Hn<<16|fr<<24)>>>0,jt=2*(sn>>31)+1,nn=sn>>>23&255,sn&=8388607,nn==255?sn?NaN:1/0*jt:nn==0?jt*Math.pow(2,-149)*sn:jt*Math.pow(2,nn-150)*(sn+Math.pow(2,23))}var Dl=[];function ds(){this.g=new Uint8Array(64),this.h=0}ds.prototype.push=function(jt){if(!(this.h+1<this.g.length)){var nn=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(nn)}this.g[this.h++]=jt},ds.prototype.length=function(){return this.h},ds.prototype.end=function(){var jt=this.g,nn=this.h;return this.h=0,Ju(jt,0,nn)};function Ys(jt,nn){for(;127<nn;)jt.push(nn&127|128),nn>>>=7;jt.push(nn)}function Al(jt){var nn={},sn=nn.N===void 0?!1:nn.N;this.o={v:nn.v===void 0?!1:nn.v},this.N=sn,nn=this.o,Dl.length?(sn=Dl.pop(),nn&&(sn.v=nn.v),jt&&Ss(sn,jt),jt=sn):jt=new Jl(jt,nn),this.g=jt,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}Al.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function _o(jt){var nn=jt.g;if((nn=nn.g==nn.i)||(nn=jt.j)||(nn=jt.g,nn=nn.l||0>nn.g||nn.g>nn.i),nn)return!1;jt.m=jt.g.g,nn=ga(jt.g);var sn=nn&7;return sn!=0&&sn!=5&&sn!=1&&sn!=2&&sn!=3&&sn!=4?(jt.j=!0,!1):(jt.i=nn,jt.l=nn>>>3,jt.h=sn,!0)}function yl(jt){switch(jt.h){case 0:if(jt.h!=0)yl(jt);else{for(jt=jt.g;jt.h[jt.g]&128;)jt.g++;jt.g++}break;case 1:jt.h!=1?yl(jt):(jt=jt.g,jt.g+=8);break;case 2:if(jt.h!=2)yl(jt);else{var nn=ga(jt.g);jt=jt.g,jt.g+=nn}break;case 5:jt.h!=5?yl(jt):(jt=jt.g,jt.g+=4);break;case 3:nn=jt.l;do{if(!_o(jt)){jt.j=!0;break}if(jt.h==4){jt.l!=nn&&(jt.j=!0);break}yl(jt)}while(1);break;default:jt.j=!0}}function as(jt,nn,sn){var Hn=jt.g.i,fr=ga(jt.g);return fr=jt.g.g+fr,jt.g.i=fr,sn(nn,jt),jt.g.g=fr,jt.g.i=Hn,nn}function js(jt){var nn=ga(jt.g);jt=jt.g;var sn=jt.g;jt.g+=nn,jt=jt.h;var Hn;if(mu)(Hn=Tl)||(Hn=Tl=new TextDecoder("utf-8",{fatal:!1})),Hn=Hn.decode(jt.subarray(sn,sn+nn));else{nn=sn+nn;for(var fr=[],Mr=null,dr,Or,Qr;sn<nn;)dr=jt[sn++],128>dr?fr.push(dr):224>dr?sn>=nn?fr.push(65533):(Or=jt[sn++],194>dr||(Or&192)!==128?(sn--,fr.push(65533)):fr.push((dr&31)<<6|Or&63)):240>dr?sn>=nn-1?fr.push(65533):(Or=jt[sn++],(Or&192)!==128||dr===224&&160>Or||dr===237&&160<=Or||((Hn=jt[sn++])&192)!==128?(sn--,fr.push(65533)):fr.push((dr&15)<<12|(Or&63)<<6|Hn&63)):244>=dr?sn>=nn-2?fr.push(65533):(Or=jt[sn++],(Or&192)!==128||(dr<<28)+(Or-144)>>30||((Hn=jt[sn++])&192)!==128||((Qr=jt[sn++])&192)!==128?(sn--,fr.push(65533)):(dr=(dr&7)<<18|(Or&63)<<12|(Hn&63)<<6|Qr&63,dr-=65536,fr.push((dr>>10&1023)+55296,(dr&1023)+56320))):fr.push(65533),8192<=fr.length&&(Mr=jo(Mr,fr),fr.length=0);Hn=jo(Mr,fr)}return Hn}function xl(){this.h=[],this.i=0,this.g=new ds}function ru(jt,nn){nn.length!==0&&(jt.h.push(nn),jt.i+=nn.length)}function $s(jt){var nn=jt.i+jt.g.length();if(nn===0)return new Uint8Array(0);nn=new Uint8Array(nn);for(var sn=jt.h,Hn=sn.length,fr=0,Mr=0;Mr<Hn;Mr++){var dr=sn[Mr];dr.length!==0&&(nn.set(dr,fr),fr+=dr.length)}return sn=jt.g,Hn=sn.h,Hn!==0&&(nn.set(sn.g.subarray(0,Hn),fr),sn.h=0),jt.h=[nn],nn}function cs(jt,nn,sn){if(sn!=null){Ys(jt.g,8*nn+5),jt=jt.g;var Hn=sn;Hn=(sn=0>Hn?1:0)?-Hn:Hn,Hn===0?0<1/Hn?Ns=Cl=0:(Cl=0,Ns=2147483648):isNaN(Hn)?(Cl=0,Ns=2147483647):34028234663852886e22<Hn?(Cl=0,Ns=(sn<<31|2139095040)>>>0):11754943508222875e-54>Hn?(Hn=Math.round(Hn/Math.pow(2,-149)),Cl=0,Ns=(sn<<31|Hn)>>>0):(nn=Math.floor(Math.log(Hn)/Math.LN2),Hn*=Math.pow(2,-nn),Hn=Math.round(8388608*Hn)&8388607,Cl=0,Ns=(sn<<31|nn+127<<23|Hn)>>>0),sn=Ns,jt.push(sn>>>0&255),jt.push(sn>>>8&255),jt.push(sn>>>16&255),jt.push(sn>>>24&255)}}var zl=typeof Uint8Array=="function";function $l(jt,nn,sn){if(jt!=null)return typeof jt=="object"?zl&&jt instanceof Uint8Array?sn(jt):Sl(jt,nn,sn):nn(jt)}function Sl(jt,nn,sn){if(Array.isArray(jt)){for(var Hn=Array(jt.length),fr=0;fr<jt.length;fr++)Hn[fr]=$l(jt[fr],nn,sn);return Array.isArray(jt)&&jt.W&&Ql(Hn),Hn}Hn={};for(fr in jt)Hn[fr]=$l(jt[fr],nn,sn);return Hn}function $u(jt){return typeof jt=="number"?isFinite(jt)?jt:String(jt):jt}var vu={W:{value:!0,configurable:!0}};function Ql(jt){return Array.isArray(jt)&&!Object.isFrozen(jt)&&Object.defineProperties(jt,vu),jt}var yu;function zs(jt,nn,sn){var Hn=yu;yu=null,jt||(jt=Hn),Hn=this.constructor.ca,jt||(jt=Hn?[Hn]:[]),this.j=Hn?0:-1,this.i=null,this.g=jt;e:{if(Hn=this.g.length,jt=Hn-1,Hn&&(Hn=this.g[jt],Hn!==null&&typeof Hn=="object"&&Hn.constructor===Object)){this.l=jt-this.j,this.h=Hn;break e}nn!==void 0&&-1<nn?(this.l=Math.max(nn,jt+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(sn)for(nn=0;nn<sn.length;nn++)jt=sn[nn],jt<this.l?(jt+=this.j,(Hn=this.g[jt])?Ql(Hn):this.g[jt]=Rl):(Ks(this),(Hn=this.h[jt])?Ql(Hn):this.h[jt]=Rl)}var Rl=Object.freeze(Ql([]));function Ks(jt){var nn=jt.l+jt.j;jt.g[nn]||(jt.h=jt.g[nn]={})}function Es(jt,nn,sn){return nn===-1?null:sn!==void 0&&sn||nn>=jt.l?jt.h?jt.h[nn]:void 0:jt.g[nn+jt.j]}function _l(jt){var nn=nn===void 0?!1:nn,sn=Es(jt,1,nn);return sn==null&&(sn=Rl),sn===Rl&&(sn=Ql([]),ls(jt,1,sn,nn)),sn}function gs(jt,nn,sn){return jt=Es(jt,nn),jt=jt==null?jt:+jt,jt??(sn===void 0?0:sn)}function ls(jt,nn,sn,Hn){Hn!==void 0&&Hn||nn>=jt.l?(Ks(jt),jt.h[nn]=sn):jt.g[nn+jt.j]=sn}function xu(jt,nn){jt.i||(jt.i={});var sn=jt.i[1];if(!sn){var Hn=_l(jt);sn=[];for(var fr=0;fr<Hn.length;fr++)sn[fr]=new nn(Hn[fr]);jt.i[1]=sn}return sn}function Ms(jt,nn,sn,Hn){var fr=xu(jt,sn);nn=nn||new sn,jt=_l(jt),Hn!=null?(fr.splice(Hn,0,nn),jt.splice(Hn,0,Xo(nn))):(fr.push(nn),jt.push(Xo(nn)))}zs.prototype.toJSON=function(){var jt=Xo(this);return Sl(jt,$u,Mu)};function Xo(jt,nn){if(jt.i)for(var sn in jt.i){var Hn=jt.i[sn];if(Array.isArray(Hn))for(var fr=0;fr<Hn.length;fr++)Hn[fr]&&Xo(Hn[fr]);else Hn&&Xo(Hn)}return jt.g}zs.prototype.toString=function(){return Xo(this).toString()};function Eo(jt,nn){return jt=Es(jt,nn),jt??0}function Cs(jt,nn){return jt=Es(jt,nn),jt??""}function Il(jt,nn){if(jt=jt.m){ru(nn,nn.g.end());for(var sn=0;sn<jt.length;sn++)ru(nn,jt[sn])}}function vs(jt,nn){if(nn.h==4)return!1;var sn=nn.m;return yl(nn),nn.N||(nn=Ju(nn.g.h,sn,nn.g.g),(sn=jt.m)?sn.push(nn):jt.m=[nn]),!0}function Ts(jt,nn){var sn=void 0;return new(sn||(sn=nt))(function(Hn,fr){function Mr(Qr){try{Or(nn.next(Qr))}catch(xo){fr(xo)}}function dr(Qr){try{Or(nn.throw(Qr))}catch(xo){fr(xo)}}function Or(Qr){Qr.done?Hn(Qr.value):new sn(function(xo){xo(Qr.value)}).then(Mr,dr)}Or((nn=nn.apply(jt,void 0)).next())})}function xr(jt){zs.call(this,jt)}Br(xr,zs);function kr(jt,nn){for(;_o(nn);)switch(nn.i){case 8:var sn=ga(nn.g);ls(jt,1,sn);break;case 21:sn=gu(nn.g),ls(jt,2,sn);break;case 26:sn=js(nn),ls(jt,3,sn);break;case 34:sn=js(nn),ls(jt,4,sn);break;default:if(!vs(jt,nn))return jt}return jt}function Xr(jt){zs.call(this,jt,-1,us)}Br(Xr,zs),Xr.prototype.addClassification=function(jt,nn){Ms(this,jt,xr,nn)};var us=[1];function ks(jt){zs.call(this,jt)}Br(ks,zs);function ws(jt,nn){for(;_o(nn);)switch(nn.i){case 13:var sn=gu(nn.g);ls(jt,1,sn);break;case 21:sn=gu(nn.g),ls(jt,2,sn);break;case 29:sn=gu(nn.g),ls(jt,3,sn);break;case 37:sn=gu(nn.g),ls(jt,4,sn);break;case 45:sn=gu(nn.g),ls(jt,5,sn);break;default:if(!vs(jt,nn))return jt}return jt}function Oo(jt){zs.call(this,jt,-1,Ps)}Br(Oo,zs);var Ps=[1];function Ll(jt){zs.call(this,jt)}Br(Ll,zs);function iu(jt,nn,sn){if(sn=jt.createShader(sn===0?jt.VERTEX_SHADER:jt.FRAGMENT_SHADER),jt.shaderSource(sn,nn),jt.compileShader(sn),!jt.getShaderParameter(sn,jt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+jt.getShaderInfoLog(sn));return sn}function ou(jt){return xu(jt,xr).map(function(nn){return{index:Eo(nn,1),Y:gs(nn,2),label:Es(nn,3)!=null?Cs(nn,3):void 0,displayName:Es(nn,4)!=null?Cs(nn,4):void 0}})}function Ru(jt){return{x:gs(jt,1),y:gs(jt,2),z:gs(jt,3),visibility:Es(jt,4)!=null?gs(jt,4):void 0}}function Pu(jt,nn){this.h=jt,this.g=nn,this.l=0}function Ol(jt,nn,sn){return su(jt,nn),typeof jt.g.canvas.transferToImageBitmap=="function"?nt.resolve(jt.g.canvas.transferToImageBitmap()):sn?nt.resolve(jt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(jt.g.canvas):(jt.i===void 0&&(jt.i=document.createElement("canvas")),new nt(function(Hn){jt.i.height=jt.g.canvas.height,jt.i.width=jt.g.canvas.width,jt.i.getContext("2d",{}).drawImage(jt.g.canvas,0,0,jt.g.canvas.width,jt.g.canvas.height),Hn(jt.i)}))}function su(jt,nn){var sn=jt.g;if(jt.m===void 0){var Hn=iu(sn,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),fr=iu(sn,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Mr=sn.createProgram();if(sn.attachShader(Mr,Hn),sn.attachShader(Mr,fr),sn.linkProgram(Mr),!sn.getProgramParameter(Mr,sn.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+sn.getProgramInfoLog(Mr));Hn=jt.m=Mr,sn.useProgram(Hn),fr=sn.getUniformLocation(Hn,"sampler0"),jt.j={I:sn.getAttribLocation(Hn,"aVertex"),H:sn.getAttribLocation(Hn,"aTex"),da:fr},jt.s=sn.createBuffer(),sn.bindBuffer(sn.ARRAY_BUFFER,jt.s),sn.enableVertexAttribArray(jt.j.I),sn.vertexAttribPointer(jt.j.I,2,sn.FLOAT,!1,0,0),sn.bufferData(sn.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),sn.STATIC_DRAW),sn.bindBuffer(sn.ARRAY_BUFFER,null),jt.o=sn.createBuffer(),sn.bindBuffer(sn.ARRAY_BUFFER,jt.o),sn.enableVertexAttribArray(jt.j.H),sn.vertexAttribPointer(jt.j.H,2,sn.FLOAT,!1,0,0),sn.bufferData(sn.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),sn.STATIC_DRAW),sn.bindBuffer(sn.ARRAY_BUFFER,null),sn.uniform1i(fr,0)}Hn=jt.j,sn.useProgram(jt.m),sn.canvas.width=nn.width,sn.canvas.height=nn.height,sn.viewport(0,0,nn.width,nn.height),sn.activeTexture(sn.TEXTURE0),jt.h.bindTexture2d(nn.glName),sn.enableVertexAttribArray(Hn.I),sn.bindBuffer(sn.ARRAY_BUFFER,jt.s),sn.vertexAttribPointer(Hn.I,2,sn.FLOAT,!1,0,0),sn.enableVertexAttribArray(Hn.H),sn.bindBuffer(sn.ARRAY_BUFFER,jt.o),sn.vertexAttribPointer(Hn.H,2,sn.FLOAT,!1,0,0),sn.bindFramebuffer(sn.DRAW_FRAMEBUFFER?sn.DRAW_FRAMEBUFFER:sn.FRAMEBUFFER,null),sn.clearColor(0,0,0,0),sn.clear(sn.COLOR_BUFFER_BIT),sn.colorMask(!0,!0,!0,!0),sn.drawArrays(sn.TRIANGLE_FAN,0,4),sn.disableVertexAttribArray(Hn.I),sn.disableVertexAttribArray(Hn.H),sn.bindBuffer(sn.ARRAY_BUFFER,null),jt.h.bindTexture2d(0)}function Hp(jt){this.g=jt}var au=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Vl(jt,nn){return nn+jt}function ju(jt,nn){window[jt]=nn}function np(jt){var nn=document.createElement("script");return nn.setAttribute("src",jt),nn.setAttribute("crossorigin","anonymous"),new nt(function(sn){nn.addEventListener("load",function(){sn()},!1),nn.addEventListener("error",function(){sn()},!1),document.body.appendChild(nn)})}function Xl(){return Ts(this,function jt(){return Ls(jt,function(nn){switch(nn.g){case 1:return nn.m=2,pr(nn,WebAssembly.instantiate(au),4);case 4:nn.g=3,nn.m=0;break;case 2:return nn.m=0,nn.j=null,nn.return(!1);case 3:return nn.return(!0)}})})}function Op(jt){if(this.g=jt,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=jt&&jt.locateFile||Vl,typeof window=="object")var nn=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")nn=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=nn,jt.options){nn=Tn(Object.keys(jt.options));for(var sn=nn.next();!sn.done;sn=nn.next()){sn=sn.value;var Hn=jt.options[sn].default;Hn!==void 0&&(this.j[sn]=typeof Hn=="function"?Hn():Hn)}}}Et=Op.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function cu(jt,nn){return jt.g.files===void 0?[]:typeof jt.g.files=="function"?jt.g.files(nn):jt.g.files}function Uu(jt){return Ts(jt,function nn(){var sn=this,Hn,fr,Mr,dr,Or,Qr,xo,$o,Uo,ms,Yo;return Ls(nn,function(Lo){switch(Lo.g){case 1:return Hn=sn,sn.R?(fr=cu(sn,sn.j),pr(Lo,Xl(),2)):Lo.return();case 2:if(Mr=Lo.h,typeof window=="object")return ju("createMediapipeSolutionsWasm",{locateFile:sn.locateFile}),ju("createMediapipeSolutionsPackedAssets",{locateFile:sn.locateFile}),Qr=fr.filter(function(Jo){return Jo.data!==void 0}),xo=fr.filter(function(Jo){return Jo.data===void 0}),$o=nt.all(Qr.map(function(Jo){var fs=bu(Hn,Jo.url);if(Jo.path!==void 0){var Os=Jo.path;fs=fs.then(function(Ws){return Hn.overrideFile(Os,Ws),nt.resolve(Ws)})}return fs})),Uo=nt.all(xo.map(function(Jo){return Jo.simd===void 0||Jo.simd&&Mr||!Jo.simd&&!Mr?np(Hn.locateFile(Jo.url,Hn.S)):nt.resolve()})).then(function(){return Ts(Hn,function Jo(){var fs,Os,Ws=this;return Ls(Jo,function(Us){if(Us.g==1)return fs=window.createMediapipeSolutionsWasm,Os=window.createMediapipeSolutionsPackedAssets,pr(Us,fs(Os),2);Ws.h=Us.h,Us.g=0})})}),ms=function(){return Ts(Hn,function Jo(){var fs=this;return Ls(Jo,function(Os){return fs.g.graph&&fs.g.graph.url?Os=pr(Os,bu(fs,fs.g.graph.url),0):(Os.g=0,Os=void 0),Os})})}(),pr(Lo,nt.all([Uo,$o,ms]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return dr=fr.filter(function(Jo){return Jo.simd===void 0||Jo.simd&&Mr||!Jo.simd&&!Mr}).map(function(Jo){return Hn.locateFile(Jo.url,Hn.S)}),importScripts.apply(null,Mn(dr)),pr(Lo,createMediapipeSolutionsWasm(Module),6);case 6:sn.h=Lo.h,sn.l=new OffscreenCanvas(1,1),sn.h.canvas=sn.l,Or=sn.h.GL.createContext(sn.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),sn.h.GL.makeContextCurrent(Or),Lo.g=4;break;case 7:if(sn.l=document.createElement("canvas"),Yo=sn.l.getContext("webgl2",{}),!Yo&&(Yo=sn.l.getContext("webgl",{}),!Yo))return alert("Failed to create WebGL canvas context when passing video frame."),Lo.return();sn.D=Yo,sn.h.canvas=sn.l,sn.h.createContext(sn.l,!0,!0,{});case 4:sn.i=new sn.h.SolutionWasm,sn.R=!1,Lo.g=0}})})}function lp(jt){return Ts(jt,function nn(){var sn=this,Hn,fr,Mr,dr,Or,Qr,xo,$o;return Ls(nn,function(Uo){if(Uo.g==1){if(sn.g.graph&&sn.g.graph.url&&sn.P===sn.g.graph.url)return Uo.return();if(sn.o=!0,!sn.g.graph||!sn.g.graph.url){Uo.g=2;return}return sn.P=sn.g.graph.url,pr(Uo,bu(sn,sn.g.graph.url),3)}for(Uo.g!=2&&(Hn=Uo.h,sn.i.loadGraph(Hn)),fr=Tn(Object.keys(sn.B)),Mr=fr.next();!Mr.done;Mr=fr.next())dr=Mr.value,sn.i.overrideFile(dr,sn.B[dr]);if(sn.B={},sn.g.listeners)for(Or=Tn(sn.g.listeners),Qr=Or.next();!Qr.done;Qr=Or.next())xo=Qr.value,em(sn,xo);$o=sn.j,sn.j={},sn.setOptions($o),Uo.g=0})})}Et.reset=function(){return Ts(this,function jt(){var nn=this;return Ls(jt,function(sn){nn.i&&(nn.i.reset(),nn.m={},nn.s={}),sn.g=0})})},Et.setOptions=function(jt,nn){var sn=this;if(nn=nn||this.g.options){for(var Hn=[],fr=[],Mr={},dr=Tn(Object.keys(jt)),Or=dr.next();!Or.done;Mr={K:Mr.K,L:Mr.L},Or=dr.next()){var Qr=Or.value;Qr in this.j&&this.j[Qr]===jt[Qr]||(this.j[Qr]=jt[Qr],Or=nn[Qr],Or!==void 0&&(Or.onChange&&(Mr.K=Or.onChange,Mr.L=jt[Qr],Hn.push(function(xo){return function(){return Ts(sn,function $o(){var Uo,ms=this;return Ls($o,function(Yo){if(Yo.g==1)return pr(Yo,xo.K(xo.L),2);Uo=Yo.h,Uo===!0&&(ms.o=!0),Yo.g=0})})}}(Mr))),Or.graphOptionXref&&(Qr={valueNumber:Or.type===1?jt[Qr]:0,valueBoolean:Or.type===0?jt[Qr]:!1,valueString:Or.type===2?jt[Qr]:""},Or=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Or.graphOptionXref),Qr),fr.push(Or))))}(Hn.length!==0||fr.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(fr),this.u=(this.u===void 0?[]:this.u).concat(Hn))}};function Pp(jt){return Ts(jt,function nn(){var sn=this,Hn,fr,Mr,dr,Or,Qr,xo;return Ls(nn,function($o){switch($o.g){case 1:if(!sn.o)return $o.return();if(!sn.u){$o.g=2;break}Hn=Tn(sn.u),fr=Hn.next();case 3:if(fr.done){$o.g=5;break}return Mr=fr.value,pr($o,Mr(),4);case 4:fr=Hn.next(),$o.g=3;break;case 5:sn.u=void 0;case 2:if(sn.A){for(dr=new sn.h.GraphOptionChangeRequestList,Or=Tn(sn.A),Qr=Or.next();!Qr.done;Qr=Or.next())xo=Qr.value,dr.push_back(xo);sn.i.changeOptions(dr),dr.delete(),sn.A=void 0}sn.o=!1,$o.g=0}})})}Et.initialize=function(){return Ts(this,function jt(){var nn=this;return Ls(jt,function(sn){return sn.g==1?pr(sn,Uu(nn),2):sn.g!=3?pr(sn,lp(nn),3):pr(sn,Pp(nn),0)})})};function bu(jt,nn){return Ts(jt,function sn(){var Hn=this,fr,Mr;return Ls(sn,function(dr){return nn in Hn.F?dr.return(Hn.F[nn]):(fr=Hn.locateFile(nn,""),Mr=fetch(fr).then(function(Or){return Or.arrayBuffer()}),Hn.F[nn]=Mr,dr.return(Mr))})})}Et.overrideFile=function(jt,nn){this.i?this.i.overrideFile(jt,nn):this.B[jt]=nn},Et.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(jt,nn){return Ts(this,function sn(){var Hn=this,fr,Mr,dr,Or,Qr,xo,$o,Uo,ms;return Ls(sn,function(Yo){switch(Yo.g){case 1:return Hn.g.inputs?(fr=1e3*(nn??performance.now()),pr(Yo,Hn.C,2)):Yo.return();case 2:return pr(Yo,Hn.initialize(),3);case 3:for(Mr=new Hn.h.PacketDataList,dr=Tn(Object.keys(jt)),Or=dr.next();!Or.done;Or=dr.next())if(Qr=Or.value,xo=Hn.g.inputs[Qr]){e:{var Lo=Hn,Jo=jt[Qr];switch(xo.type){case"video":var fs=Lo.m[xo.stream];if(fs||(fs=new Pu(Lo.h,Lo.D),Lo.m[xo.stream]=fs),Lo=fs,Lo.l===0&&(Lo.l=Lo.h.createTexture()),typeof HTMLVideoElement<"u"&&Jo instanceof HTMLVideoElement){var Os=Jo.videoWidth;fs=Jo.videoHeight}else typeof HTMLImageElement<"u"&&Jo instanceof HTMLImageElement?(Os=Jo.naturalWidth,fs=Jo.naturalHeight):(Os=Jo.width,fs=Jo.height);fs={glName:Lo.l,width:Os,height:fs},Os=Lo.g,Os.canvas.width=fs.width,Os.canvas.height=fs.height,Os.activeTexture(Os.TEXTURE0),Lo.h.bindTexture2d(Lo.l),Os.texImage2D(Os.TEXTURE_2D,0,Os.RGBA,Os.RGBA,Os.UNSIGNED_BYTE,Jo),Lo.h.bindTexture2d(0),Lo=fs;break e;case"detections":for(fs=Lo.m[xo.stream],fs||(fs=new Hp(Lo.h),Lo.m[xo.stream]=fs),Lo=fs,Lo.data||(Lo.data=new Lo.g.DetectionListData),Lo.data.reset(Jo.length),fs=0;fs<Jo.length;++fs){Os=Jo[fs];var Ws=Lo.data,Us=Ws.setBoundingBox,Zl=fs,Ft=Os.T,Bt=new Ll;ls(Bt,1,Ft.Z),ls(Bt,2,Ft.$),ls(Bt,3,Ft.height),ls(Bt,4,Ft.width),ls(Bt,5,Ft.rotation),ls(Bt,6,Ft.X);var Jt=Ft=new xl;cs(Jt,1,Es(Bt,1)),cs(Jt,2,Es(Bt,2)),cs(Jt,3,Es(Bt,3)),cs(Jt,4,Es(Bt,4)),cs(Jt,5,Es(Bt,5));var Ln=Es(Bt,6);if(Ln!=null&&Ln!=null){Ys(Jt.g,48);var $n=Jt.g,hr=Ln;Ln=0>hr,hr=Math.abs(hr);var qn=hr>>>0;for(hr=Math.floor((hr-qn)/4294967296),hr>>>=0,Ln&&(hr=~hr>>>0,qn=(~qn>>>0)+1,4294967295<qn&&(qn=0,hr++,4294967295<hr&&(hr=0))),Ns=qn,Cl=hr,Ln=Ns,qn=Cl;0<qn||127<Ln;)$n.push(Ln&127|128),Ln=(Ln>>>7|qn<<25)>>>0,qn>>>=7;$n.push(Ln)}if(Il(Bt,Jt),Ft=$s(Ft),Us.call(Ws,Zl,Ft),Os.O)for(Ws=0;Ws<Os.O.length;++Ws)Bt=Os.O[Ws],Jt=!!Bt.visibility,Us=Lo.data,Zl=Us.addNormalizedLandmark,Ft=fs,Bt=Object.assign(Object.assign({},Bt),{visibility:Jt?Bt.visibility:0}),Jt=new ks,ls(Jt,1,Bt.x),ls(Jt,2,Bt.y),ls(Jt,3,Bt.z),Bt.visibility&&ls(Jt,4,Bt.visibility),$n=Bt=new xl,cs($n,1,Es(Jt,1)),cs($n,2,Es(Jt,2)),cs($n,3,Es(Jt,3)),cs($n,4,Es(Jt,4)),cs($n,5,Es(Jt,5)),Il(Jt,$n),Bt=$s(Bt),Zl.call(Us,Ft,Bt);if(Os.M)for(Ws=0;Ws<Os.M.length;++Ws){if(Us=Lo.data,Zl=Us.addClassification,Ft=fs,Bt=Os.M[Ws],Jt=new xr,ls(Jt,2,Bt.Y),Bt.index&&ls(Jt,1,Bt.index),Bt.label&&ls(Jt,3,Bt.label),Bt.displayName&&ls(Jt,4,Bt.displayName),$n=Bt=new xl,qn=Es(Jt,1),qn!=null&&qn!=null)if(Ys($n.g,8),Ln=$n.g,0<=qn)Ys(Ln,qn);else{for(hr=0;9>hr;hr++)Ln.push(qn&127|128),qn>>=7;Ln.push(1)}cs($n,2,Es(Jt,2)),Ln=Es(Jt,3),Ln!=null&&(Ln=ep(Ln),Ys($n.g,26),Ys($n.g,Ln.length),ru($n,$n.g.end()),ru($n,Ln)),Ln=Es(Jt,4),Ln!=null&&(Ln=ep(Ln),Ys($n.g,34),Ys($n.g,Ln.length),ru($n,$n.g.end()),ru($n,Ln)),Il(Jt,$n),Bt=$s(Bt),Zl.call(Us,Ft,Bt)}}Lo=Lo.data;break e;default:Lo={}}}switch($o=Lo,Uo=xo.stream,xo.type){case"video":Mr.pushTexture2d(Object.assign(Object.assign({},$o),{stream:Uo,timestamp:fr}));break;case"detections":ms=$o,ms.stream=Uo,ms.timestamp=fr,Mr.pushDetectionList(ms);break;default:throw Error("Unknown input config type: '"+xo.type+"'")}}return Hn.i.send(Mr),pr(Yo,Hn.C,4);case 4:Mr.delete(),Yo.g=0}})})};function up(jt,nn,sn){return Ts(jt,function Hn(){var fr,Mr,dr,Or,Qr,xo,$o=this,Uo,ms,Yo,Lo,Jo,fs,Os,Ws;return Ls(Hn,function(Us){switch(Us.g){case 1:if(!sn)return Us.return(nn);for(fr={},Mr=0,dr=Tn(Object.keys(sn)),Or=dr.next();!Or.done;Or=dr.next())Qr=Or.value,xo=sn[Qr],typeof xo!="string"&&xo.type==="texture"&&nn[xo.stream]!==void 0&&++Mr;1<Mr&&($o.G=!1),Uo=Tn(Object.keys(sn)),Or=Uo.next();case 2:if(Or.done){Us.g=4;break}if(ms=Or.value,Yo=sn[ms],typeof Yo=="string")return Os=fr,Ws=ms,pr(Us,_h($o,ms,nn[Yo]),14);if(Lo=nn[Yo.stream],Yo.type==="detection_list"){if(Lo){for(var Zl=Lo.getRectList(),Ft=Lo.getLandmarksList(),Bt=Lo.getClassificationsList(),Jt=[],Ln=0;Ln<Zl.size();++Ln){var $n=Zl.get(Ln);e:{var hr=new Ll;for($n=new Al($n);_o($n);)switch($n.i){case 13:var qn=gu($n.g);ls(hr,1,qn);break;case 21:qn=gu($n.g),ls(hr,2,qn);break;case 29:qn=gu($n.g),ls(hr,3,qn);break;case 37:qn=gu($n.g),ls(hr,4,qn);break;case 45:qn=gu($n.g),ls(hr,5,qn);break;case 48:for(var Cr=$n.g,Fr=128,wt=0,Qt=qn=0;4>Qt&&128<=Fr;Qt++)Fr=Cr.h[Cr.g++],wt|=(Fr&127)<<7*Qt;if(128<=Fr&&(Fr=Cr.h[Cr.g++],wt|=(Fr&127)<<28,qn|=(Fr&127)>>4),128<=Fr)for(Qt=0;5>Qt&&128<=Fr;Qt++)Fr=Cr.h[Cr.g++],qn|=(Fr&127)<<7*Qt+3;128>Fr?(Cr=wt>>>0,Fr=qn>>>0,(qn=Fr&2147483648)&&(Cr=~Cr+1>>>0,Fr=~Fr>>>0,Cr==0&&(Fr=Fr+1>>>0)),Cr=4294967296*Fr+(Cr>>>0),qn=qn?-Cr:Cr):(Cr.l=!0,qn=void 0),ls(hr,6,qn);break;default:if(!vs(hr,$n))break e}}hr={Z:gs(hr,1),$:gs(hr,2),height:gs(hr,3),width:gs(hr,4),rotation:gs(hr,5,0),X:Eo(hr,6)},qn=Ft.get(Ln);e:for($n=new Oo,qn=new Al(qn);_o(qn);)switch(qn.i){case 10:Cr=as(qn,new ks,ws),Ms($n,Cr,ks,void 0);break;default:if(!vs($n,qn))break e}$n=xu($n,ks).map(Ru),Cr=Bt.get(Ln);e:for(qn=new Xr,Cr=new Al(Cr);_o(Cr);)switch(Cr.i){case 10:qn.addClassification(as(Cr,new xr,kr));break;default:if(!vs(qn,Cr))break e}hr={T:hr,O:$n,M:ou(qn)},Jt.push(hr)}Zl=Jt}else Zl=[];fr[ms]=Zl,Us.g=7;break}if(Yo.type==="proto_list"){if(Lo){for(Zl=Array(Lo.size()),Ft=0;Ft<Lo.size();Ft++)Zl[Ft]=Lo.get(Ft);Lo.delete()}else Zl=[];fr[ms]=Zl,Us.g=7;break}if(Lo===void 0){Us.g=3;break}if(Yo.type==="float_list"){fr[ms]=Lo,Us.g=7;break}if(Yo.type==="proto"){fr[ms]=Lo,Us.g=7;break}if(Yo.type!=="texture")throw Error("Unknown output config type: '"+Yo.type+"'");return Jo=$o.s[ms],Jo||(Jo=new Pu($o.h,$o.D),$o.s[ms]=Jo),pr(Us,Ol(Jo,Lo,$o.G),13);case 13:fs=Us.h,fr[ms]=fs;case 7:Yo.transform&&fr[ms]&&(fr[ms]=Yo.transform(fr[ms])),Us.g=3;break;case 14:Os[Ws]=Us.h;case 3:Or=Uo.next(),Us.g=2;break;case 4:return Us.return(fr)}})})}function _h(jt,nn,sn){return Ts(jt,function Hn(){var fr=this,Mr;return Ls(Hn,function(dr){return typeof sn=="number"||sn instanceof Uint8Array||sn instanceof fr.h.Uint8BlobList?dr.return(sn):sn instanceof fr.h.Texture2dDataOut?(Mr=fr.s[nn],Mr||(Mr=new Pu(fr.h,fr.D),fr.s[nn]=Mr),dr.return(Ol(Mr,sn,fr.G))):dr.return(void 0)})})}function em(jt,nn){for(var sn=nn.name||"$",Hn=[].concat(Mn(nn.wants)),fr=new jt.h.StringList,Mr=Tn(nn.wants),dr=Mr.next();!dr.done;dr=Mr.next())fr.push_back(dr.value);Mr=jt.h.PacketListener.implement({onResults:function(Or){for(var Qr={},xo=0;xo<nn.wants.length;++xo)Qr[Hn[xo]]=Or.get(xo);var $o=jt.listeners[sn];$o&&(jt.C=up(jt,Qr,nn.outs).then(function(Uo){Uo=$o(Uo);for(var ms=0;ms<nn.wants.length;++ms){var Yo=Qr[Hn[ms]];typeof Yo=="object"&&Yo.hasOwnProperty&&Yo.hasOwnProperty("delete")&&Yo.delete()}Uo&&(jt.C=Uo)}))}}),jt.i.attachMultiListener(fr,Mr),fr.delete()}Et.onResults=function(jt,nn){this.listeners[nn||"$"]=jt},$a("Solution",Op),$a("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function dp(jt){switch(jt===void 0&&(jt=0),jt){case 1:return"selfie_segmentation_landscape.tflite";default:return"selfie_segmentation.tflite"}}function bp(jt){var nn=this;jt=jt||{},this.g=new Op({locateFile:jt.locateFile,files:function(sn){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:dp(sn.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(sn){return Ts(nn,function Hn(){var fr,Mr,dr=this,Or;return Ls(Hn,function(Qr){return Qr.g==1?(fr=dp(sn),Mr="third_party/mediapipe/modules/selfie_segmentation/"+fr,pr(Qr,bu(dr.g,fr),2)):(Or=Qr.h,dr.g.overrideFile(Mr,Or),Qr.return(!0))})})}}}})}Et=bp.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(jt){this.g.onResults(jt)},Et.initialize=function(){return Ts(this,function jt(){var nn=this;return Ls(jt,function(sn){return pr(sn,nn.g.initialize(),0)})})},Et.reset=function(){this.g.reset()},Et.send=function(jt){return Ts(this,function nn(){var sn=this;return Ls(nn,function(Hn){return pr(Hn,sn.g.send(jt),0)})})},Et.setOptions=function(jt){this.g.setOptions(jt)},$a("SelfieSegmentation",bp),$a("VERSION","0.1.1632777926")}).call(Au);const ku={};(function(){var Et;function St(At){var Kt=0;return function(){return Kt<At.length?{done:!1,value:At[Kt++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(At,Kt,cn){return At==Array.prototype||At==Object.prototype||(At[Kt]=cn.value),At};function Xt(At){At=[typeof globalThis=="object"&&globalThis,At,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Kt=0;Kt<At.length;++Kt){var cn=At[Kt];if(cn&&cn.Math==Math)return cn}throw Error("Cannot find global object")}var zt=Xt(this);function vn(At,Kt){if(Kt)e:{var cn=zt;At=At.split(".");for(var bn=0;bn<At.length-1;bn++){var jn=At[bn];if(!(jn in cn))break e;cn=cn[jn]}At=At[At.length-1],bn=cn[At],Kt=Kt(bn),Kt!=bn&&Kt!=null&&xt(cn,At,{configurable:!0,writable:!0,value:Kt})}}vn("Symbol",function(At){function Kt(Rt){if(this instanceof Kt)throw new TypeError("Symbol is not a constructor");return new cn(bn+(Rt||"")+"_"+jn++,Rt)}function cn(Rt,Gt){this.g=Rt,xt(this,"description",{configurable:!0,writable:!0,value:Gt})}if(At)return At;cn.prototype.toString=function(){return this.g};var bn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",jn=0;return Kt}),vn("Symbol.iterator",function(At){if(At)return At;At=Symbol("Symbol.iterator");for(var Kt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),cn=0;cn<Kt.length;cn++){var bn=zt[Kt[cn]];typeof bn=="function"&&typeof bn.prototype[At]!="function"&&xt(bn.prototype,At,{configurable:!0,writable:!0,value:function(){return On(St(this))}})}return At});function On(At){return At={next:At},At[Symbol.iterator]=function(){return this},At}function Tn(At){var Kt=typeof Symbol<"u"&&Symbol.iterator&&At[Symbol.iterator];return Kt?Kt.call(At):{next:St(At)}}function Mn(At){if(!(At instanceof Array)){At=Tn(At);for(var Kt,cn=[];!(Kt=At.next()).done;)cn.push(Kt.value);At=cn}return At}var br=typeof Object.create=="function"?Object.create:function(At){function Kt(){}return Kt.prototype=At,new Kt},Nr;if(typeof Object.setPrototypeOf=="function")Nr=Object.setPrototypeOf;else{var Wr;e:{var Ao={a:!0},Mo={};try{Mo.__proto__=Ao,Wr=Mo.a;break e}catch{}Wr=!1}Nr=Wr?function(At,Kt){if(At.__proto__=Kt,At.__proto__!==Kt)throw new TypeError(At+" is not extensible");return At}:null}var Dr=Nr;function Br(At,Kt){if(At.prototype=br(Kt.prototype),At.prototype.constructor=At,Dr)Dr(At,Kt);else for(var cn in Kt)if(cn!="prototype")if(Object.defineProperties){var bn=Object.getOwnPropertyDescriptor(Kt,cn);bn&&Object.defineProperty(At,cn,bn)}else At[cn]=Kt[cn];At.ra=Kt.prototype}function Ko(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function Bo(At){if(At.l)throw new TypeError("Generator is already running");At.l=!0}Ko.prototype.s=function(At){this.h=At};function ys(At,Kt){At.j={fa:Kt,ga:!0},At.g=At.o||At.u}Ko.prototype.return=function(At){this.j={return:At},this.g=this.u};function pr(At,Kt,cn){return At.g=cn,{value:Kt}}function Zu(At){this.g=new Ko,this.h=At}function Cu(At,Kt){Bo(At.g);var cn=At.g.i;return cn?xa(At,"return"in cn?cn.return:function(bn){return{value:bn,done:!0}},Kt,At.g.return):(At.g.return(Kt),hs(At))}function xa(At,Kt,cn,bn){try{var jn=Kt.call(At.g.i,cn);if(!(jn instanceof Object))throw new TypeError("Iterator result "+jn+" is not an object");if(!jn.done)return At.g.l=!1,jn;var Rt=jn.value}catch(Gt){return At.g.i=null,ys(At.g,Gt),hs(At)}return At.g.i=null,bn.call(At.g,Rt),hs(At)}function hs(At){for(;At.g.g;)try{var Kt=At.h(At.g);if(Kt)return At.g.l=!1,{value:Kt.value,done:!1}}catch(cn){At.g.h=void 0,ys(At.g,cn)}if(At.g.l=!1,At.g.j){if(Kt=At.g.j,At.g.j=null,Kt.ga)throw Kt.fa;return{value:Kt.return,done:!0}}return{value:void 0,done:!0}}function jp(At){this.next=function(Kt){return Bo(At.g),At.g.i?Kt=xa(At,At.g.i.next,Kt,At.g.s):(At.g.s(Kt),Kt=hs(At)),Kt},this.throw=function(Kt){return Bo(At.g),At.g.i?Kt=xa(At,At.g.i.throw,Kt,At.g.s):(ys(At.g,Kt),Kt=hs(At)),Kt},this.return=function(Kt){return Cu(At,Kt)},this[Symbol.iterator]=function(){return this}}function Ls(At){function Kt(bn){return At.next(bn)}function cn(bn){return At.throw(bn)}return new nt(function(bn,jn){function Rt(Gt){Gt.done?bn(Gt.value):nt.resolve(Gt.value).then(Kt,cn).then(Rt,jn)}Rt(At.next())})}function io(At){return Ls(new jp(new Zu(At)))}vn("Promise",function(At){function Kt(Gt){this.h=0,this.i=void 0,this.g=[],this.s=!1;var Yt=this.j();try{Gt(Yt.resolve,Yt.reject)}catch(yt){Yt.reject(yt)}}function cn(){this.g=null}function bn(Gt){return Gt instanceof Kt?Gt:new Kt(function(Yt){Yt(Gt)})}if(At)return At;cn.prototype.h=function(Gt){if(this.g==null){this.g=[];var Yt=this;this.i(function(){Yt.l()})}this.g.push(Gt)};var jn=zt.setTimeout;cn.prototype.i=function(Gt){jn(Gt,0)},cn.prototype.l=function(){for(;this.g&&this.g.length;){var Gt=this.g;this.g=[];for(var Yt=0;Yt<Gt.length;++Yt){var yt=Gt[Yt];Gt[Yt]=null;try{yt()}catch(Vt){this.j(Vt)}}}this.g=null},cn.prototype.j=function(Gt){this.i(function(){throw Gt})},Kt.prototype.j=function(){function Gt(Vt){return function(Dt){yt||(yt=!0,Vt.call(Yt,Dt))}}var Yt=this,yt=!1;return{resolve:Gt(this.D),reject:Gt(this.l)}},Kt.prototype.D=function(Gt){if(Gt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Gt instanceof Kt)this.H(Gt);else{e:switch(typeof Gt){case"object":var Yt=Gt!=null;break e;case"function":Yt=!0;break e;default:Yt=!1}Yt?this.A(Gt):this.o(Gt)}},Kt.prototype.A=function(Gt){var Yt=void 0;try{Yt=Gt.then}catch(yt){this.l(yt);return}typeof Yt=="function"?this.I(Yt,Gt):this.o(Gt)},Kt.prototype.l=function(Gt){this.u(2,Gt)},Kt.prototype.o=function(Gt){this.u(1,Gt)},Kt.prototype.u=function(Gt,Yt){if(this.h!=0)throw Error("Cannot settle("+Gt+", "+Yt+"): Promise already settled in state"+this.h);this.h=Gt,this.i=Yt,this.h===2&&this.G(),this.B()},Kt.prototype.G=function(){var Gt=this;jn(function(){if(Gt.C()){var Yt=zt.console;typeof Yt<"u"&&Yt.error(Gt.i)}},1)},Kt.prototype.C=function(){if(this.s)return!1;var Gt=zt.CustomEvent,Yt=zt.Event,yt=zt.dispatchEvent;return typeof yt>"u"?!0:(typeof Gt=="function"?Gt=new Gt("unhandledrejection",{cancelable:!0}):typeof Yt=="function"?Gt=new Yt("unhandledrejection",{cancelable:!0}):(Gt=zt.document.createEvent("CustomEvent"),Gt.initCustomEvent("unhandledrejection",!1,!0,Gt)),Gt.promise=this,Gt.reason=this.i,yt(Gt))},Kt.prototype.B=function(){if(this.g!=null){for(var Gt=0;Gt<this.g.length;++Gt)Rt.h(this.g[Gt]);this.g=null}};var Rt=new cn;return Kt.prototype.H=function(Gt){var Yt=this.j();Gt.M(Yt.resolve,Yt.reject)},Kt.prototype.I=function(Gt,Yt){var yt=this.j();try{Gt.call(Yt,yt.resolve,yt.reject)}catch(Vt){yt.reject(Vt)}},Kt.prototype.then=function(Gt,Yt){function yt(Ot,Pt){return typeof Ot=="function"?function(Ut){try{Vt(Ot(Ut))}catch(fn){Dt(fn)}}:Pt}var Vt,Dt,mt=new Kt(function(Ot,Pt){Vt=Ot,Dt=Pt});return this.M(yt(Gt,Vt),yt(Yt,Dt)),mt},Kt.prototype.catch=function(Gt){return this.then(void 0,Gt)},Kt.prototype.M=function(Gt,Yt){function yt(){switch(Vt.h){case 1:Gt(Vt.i);break;case 2:Yt(Vt.i);break;default:throw Error("Unexpected state: "+Vt.h)}}var Vt=this;this.g==null?Rt.h(yt):this.g.push(yt),this.s=!0},Kt.resolve=bn,Kt.reject=function(Gt){return new Kt(function(Yt,yt){yt(Gt)})},Kt.race=function(Gt){return new Kt(function(Yt,yt){for(var Vt=Tn(Gt),Dt=Vt.next();!Dt.done;Dt=Vt.next())bn(Dt.value).M(Yt,yt)})},Kt.all=function(Gt){var Yt=Tn(Gt),yt=Yt.next();return yt.done?bn([]):new Kt(function(Vt,Dt){function mt(Ut){return function(fn){Ot[Ut]=fn,Pt--,Pt==0&&Vt(Ot)}}var Ot=[],Pt=0;do Ot.push(void 0),Pt++,bn(yt.value).M(mt(Ot.length-1),Dt),yt=Yt.next();while(!yt.done)})},Kt});function Nu(At,Kt){At instanceof String&&(At+="");var cn=0,bn=!1,jn={next:function(){if(!bn&&cn<At.length){var Rt=cn++;return{value:Kt(Rt,At[Rt]),done:!1}}return bn=!0,{done:!0,value:void 0}}};return jn[Symbol.iterator]=function(){return jn},jn}var Up=typeof Object.assign=="function"?Object.assign:function(At,Kt){for(var cn=1;cn<arguments.length;cn++){var bn=arguments[cn];if(bn)for(var jn in bn)Object.prototype.hasOwnProperty.call(bn,jn)&&(At[jn]=bn[jn])}return At};vn("Object.assign",function(At){return At||Up}),vn("Object.is",function(At){return At||function(Kt,cn){return Kt===cn?Kt!==0||1/Kt===1/cn:Kt!==Kt&&cn!==cn}}),vn("Array.prototype.includes",function(At){return At||function(Kt,cn){var bn=this;bn instanceof String&&(bn=String(bn));var jn=bn.length;for(cn=cn||0,0>cn&&(cn=Math.max(cn+jn,0));cn<jn;cn++){var Rt=bn[cn];if(Rt===Kt||Object.is(Rt,Kt))return!0}return!1}}),vn("String.prototype.includes",function(At){return At||function(Kt,cn){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Kt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Kt,cn||0)!==-1}}),vn("Array.prototype.keys",function(At){return At||function(){return Nu(this,function(Kt){return Kt})}});var $a=this||self;function jo(At,Kt){At=At.split(".");var cn=$a;At[0]in cn||typeof cn.execScript>"u"||cn.execScript("var "+At[0]);for(var bn;At.length&&(bn=At.shift());)At.length||Kt===void 0?cn[bn]&&cn[bn]!==Object.prototype[bn]?cn=cn[bn]:cn=cn[bn]={}:cn[bn]=Kt}function Tl(){throw Error("Invalid UTF8")}function mu(At,Kt){return Kt=String.fromCharCode.apply(null,Kt),At==null?Kt:At+Kt}var Ku,vp=typeof TextDecoder<"u",ep,Ep=typeof TextEncoder<"u",Tu={},Mu=null;function wp(At){var Kt;Kt===void 0&&(Kt=0),Yl(),Kt=Tu[Kt];for(var cn=Array(Math.floor(At.length/3)),bn=Kt[64]||"",jn=0,Rt=0;jn<At.length-2;jn+=3){var Gt=At[jn],Yt=At[jn+1],yt=At[jn+2],Vt=Kt[Gt>>2];Gt=Kt[(Gt&3)<<4|Yt>>4],Yt=Kt[(Yt&15)<<2|yt>>6],yt=Kt[yt&63],cn[Rt++]=Vt+Gt+Yt+yt}switch(Vt=0,yt=bn,At.length-jn){case 2:Vt=At[jn+1],yt=Kt[(Vt&15)<<2]||bn;case 1:At=At[jn],cn[Rt]=Kt[At>>2]+Kt[(At&3)<<4|Vt>>4]+yt+bn}return cn.join("")}function yp(At){var Kt=At.length,cn=3*Kt/4;cn%3?cn=Math.floor(cn):"=.".indexOf(At[Kt-1])!=-1&&(cn="=.".indexOf(At[Kt-2])!=-1?cn-2:cn-1);var bn=new Uint8Array(cn),jn=0;return Kl(At,function(Rt){bn[jn++]=Rt}),jn!==cn?bn.subarray(0,jn):bn}function Kl(At,Kt){function cn(yt){for(;bn<At.length;){var Vt=At.charAt(bn++),Dt=Mu[Vt];if(Dt!=null)return Dt;if(!/^[\s\xa0]*$/.test(Vt))throw Error("Unknown base64 encoding at char: "+Vt)}return yt}Yl();for(var bn=0;;){var jn=cn(-1),Rt=cn(0),Gt=cn(64),Yt=cn(64);if(Yt===64&&jn===-1)break;Kt(jn<<2|Rt>>4),Gt!=64&&(Kt(Rt<<4&240|Gt>>2),Yt!=64&&Kt(Gt<<6&192|Yt))}}function Yl(){if(!Mu){Mu={};for(var At="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Kt=["+/=","+/","-_=","-_.","-_"],cn=0;5>cn;cn++){var bn=At.concat(Kt[cn].split(""));Tu[cn]=bn;for(var jn=0;jn<bn.length;jn++){var Rt=bn[jn];Mu[Rt]===void 0&&(Mu[Rt]=jn)}}}}var tp=typeof Uint8Array=="function";function Ju(At){return tp&&At!=null&&At instanceof Uint8Array}var Ns;function Cl(At){if(this.L=At,At!==null&&At.length===0)throw Error("ByteString should be constructed with non-empty values")}var Jl=typeof Uint8Array.prototype.slice=="function",Ss=0,ga=0;function gu(At,Kt){if(At.constructor===Uint8Array)return At;if(At.constructor===ArrayBuffer)return new Uint8Array(At);if(At.constructor===Array)return new Uint8Array(At);if(At.constructor===String)return yp(At);if(At.constructor===Cl)return!Kt&&(Kt=At.L)&&Kt.constructor===Uint8Array?Kt:(Kt=At.L,Kt=Kt==null||Ju(Kt)?Kt:typeof Kt=="string"?yp(Kt):null,(At=At.L=Kt)?new Uint8Array(At):Ns||(Ns=new Uint8Array(0)));if(At instanceof Uint8Array)return new Uint8Array(At.buffer,At.byteOffset,At.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Dl(At,Kt){return Error("Invalid wire type: "+At+" (at position "+Kt+")")}function ds(){return Error("Failed to read varint, encoding is invalid.")}function Ys(At,Kt){Kt=Kt===void 0?{}:Kt,Kt=Kt.v===void 0?!1:Kt.v,this.h=null,this.g=this.i=this.j=0,this.v=Kt,At&&Al(this,At)}function Al(At,Kt){At.h=gu(Kt,At.v),At.j=0,At.i=At.h.length,At.g=At.j}Ys.prototype.reset=function(){this.g=this.j};function _o(At){if(At.g>At.i)throw Error("Tried to read past the end of the data "+At.g+" > "+At.i)}function yl(At){var Kt=At.h,cn=Kt[At.g],bn=cn&127;if(128>cn)return At.g+=1,_o(At),bn;if(cn=Kt[At.g+1],bn|=(cn&127)<<7,128>cn)return At.g+=2,_o(At),bn;if(cn=Kt[At.g+2],bn|=(cn&127)<<14,128>cn)return At.g+=3,_o(At),bn;if(cn=Kt[At.g+3],bn|=(cn&127)<<21,128>cn)return At.g+=4,_o(At),bn;if(cn=Kt[At.g+4],At.g+=5,bn|=(cn&15)<<28,128>cn)return _o(At),bn;if(128<=Kt[At.g++]&&128<=Kt[At.g++]&&128<=Kt[At.g++]&&128<=Kt[At.g++]&&128<=Kt[At.g++])throw ds();return _o(At),bn}var as=[];function js(){this.g=[]}js.prototype.length=function(){return this.g.length},js.prototype.end=function(){var At=this.g;return this.g=[],At};function xl(At,Kt){for(;127<Kt;)At.g.push(Kt&127|128),Kt>>>=7;At.g.push(Kt)}function ru(At){var Kt={},cn=Kt.W===void 0?!1:Kt.W;this.l={v:Kt.v===void 0?!1:Kt.v},this.W=cn,Kt=this.l,as.length?(cn=as.pop(),Kt&&(cn.v=Kt.v),At&&Al(cn,At),At=cn):At=new Ys(At,Kt),this.g=At,this.j=this.g.g,this.h=this.i=-1}ru.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function $s(At){var Kt=At.g;if(Kt.g==Kt.i)return!1;At.j=At.g.g;var cn=yl(At.g)>>>0;if(Kt=cn>>>3,cn&=7,!(0<=cn&&5>=cn))throw Dl(cn,At.j);if(1>Kt)throw Error("Invalid field number: "+Kt+" (at position "+At.j+")");return At.i=Kt,At.h=cn,!0}function cs(At){switch(At.h){case 0:if(At.h!=0)cs(At);else e:{At=At.g;for(var Kt=At.g,cn=Kt+10;Kt<cn;)if(!(At.h[Kt++]&128)){At.g=Kt,_o(At);break e}throw ds()}break;case 1:At=At.g,At.g+=8,_o(At);break;case 2:At.h!=2?cs(At):(Kt=yl(At.g)>>>0,At=At.g,At.g+=Kt,_o(At));break;case 5:At=At.g,At.g+=4,_o(At);break;case 3:Kt=At.i;do{if(!$s(At))throw Error("Unmatched start-group tag: stream EOF");if(At.h==4){if(At.i!=Kt)throw Error("Unmatched end-group tag");break}cs(At)}while(1);break;default:throw Dl(At.h,At.j)}}var zl=[];function $l(){this.i=[],this.h=0,this.g=new js}function Sl(At,Kt){Kt.length!==0&&(At.i.push(Kt),At.h+=Kt.length)}function $u(At,Kt){if(Kt=Kt.ca){Sl(At,At.g.end());for(var cn=0;cn<Kt.length;cn++)Sl(At,Kt[cn])}}var vu=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Ql(At,Kt){Object.isFrozen(At)||(vu?At[vu]|=Kt:At.N!==void 0?At.N|=Kt:Object.defineProperties(At,{N:{value:Kt,configurable:!0,writable:!0,enumerable:!1}}))}function yu(At){var Kt;return vu?Kt=At[vu]:Kt=At.N,Kt??0}function zs(At){return Ql(At,1),At}function Rl(At){return Array.isArray(At)?!!(yu(At)&2):!1}function Ks(At){if(!Array.isArray(At))throw Error("cannot mark non-array as immutable");Ql(At,2)}function Es(At){return At!==null&&typeof At=="object"&&!Array.isArray(At)&&At.constructor===Object}var _l=Object.freeze(zs([]));function gs(At){if(Rl(At.m))throw Error("Cannot mutate an immutable Message")}var ls=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function xu(At){return{value:At,configurable:!1,writable:!1,enumerable:!1}}function Ms(At,Kt,cn){return Kt===-1?null:Kt>=At.i?At.g?At.g[Kt]:void 0:cn!==void 0&&cn&&At.g&&(cn=At.g[Kt],cn!=null)?cn:At.m[Kt+At.h]}function Xo(At,Kt,cn,bn){bn=bn===void 0?!1:bn,gs(At),Kt<At.i&&!bn?At.m[Kt+At.h]=cn:(At.g||(At.g=At.m[At.i+At.h]={}))[Kt]=cn}function Eo(At,Kt,cn,bn){cn=cn===void 0?!0:cn,bn=bn===void 0?!1:bn;var jn=Ms(At,Kt,bn);return jn==null&&(jn=_l),Rl(At.m)?cn&&(Ks(jn),Object.freeze(jn)):(jn===_l||Rl(jn))&&(jn=zs(jn.slice()),Xo(At,Kt,jn,bn)),jn}function Cs(At,Kt,cn){return At=Ms(At,Kt),At=At==null?At:+At,At??(cn===void 0?0:cn)}function Il(At,Kt,cn,bn){At.j||(At.j={});var jn=Rl(At.m),Rt=At.j[cn];if(!Rt){bn=Eo(At,cn,!0,bn===void 0?!1:bn),Rt=[],jn=jn||Rl(bn);for(var Gt=0;Gt<bn.length;Gt++)Rt[Gt]=new Kt(bn[Gt]),jn&&Ks(Rt[Gt].m);jn&&(Ks(Rt),Object.freeze(Rt)),At.j[cn]=Rt}return Rt}function vs(At,Kt,cn,bn,jn){var Rt=Rt===void 0?!1:Rt;return gs(At),Rt=Il(At,cn,Kt,Rt),cn=bn||new cn,At=Eo(At,Kt),jn!=null?(Rt.splice(jn,0,cn),At.splice(jn,0,cn.m)):(Rt.push(cn),At.push(cn.m)),cn}function Ts(At,Kt){return At=Ms(At,Kt),At??0}function xr(At,Kt){return At=Ms(At,Kt),At??""}function kr(At){switch(typeof At){case"number":return isFinite(At)?At:String(At);case"object":if(At&&!Array.isArray(At)){if(Ju(At))return wp(At);if(At instanceof Cl){var Kt=At.L;return Kt=Kt==null||typeof Kt=="string"?Kt:tp&&Kt instanceof Uint8Array?wp(Kt):null,(At.L=Kt)||""}}}return At}function Xr(At){var Kt=ws;return Kt=Kt===void 0?Oo:Kt,ks(At,Kt)}function us(At,Kt){if(At!=null){if(Array.isArray(At))At=ks(At,Kt);else if(Es(At)){var cn={},bn;for(bn in At)cn[bn]=us(At[bn],Kt);At=cn}else At=Kt(At);return At}}function ks(At,Kt){for(var cn=At.slice(),bn=0;bn<cn.length;bn++)cn[bn]=us(cn[bn],Kt);return Array.isArray(At)&&yu(At)&1&&zs(cn),cn}function ws(At){return At&&typeof At=="object"&&At.toJSON?At.toJSON():(At=kr(At),Array.isArray(At)?Xr(At):At)}function Oo(At){return Ju(At)?new Uint8Array(At):At}function Ps(At,Kt,cn){At||(At=Ll),Ll=null;var bn=this.constructor.h;At||(At=bn?[bn]:[]),this.h=(bn?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=At;e:{if(bn=this.m.length,At=bn-1,bn&&(bn=this.m[At],Es(bn))){this.i=At-this.h,this.g=bn;break e}Kt!==void 0&&-1<Kt?(this.i=Math.max(Kt,At+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(cn)for(Kt=0;Kt<cn.length;Kt++)if(At=cn[Kt],At<this.i)At+=this.h,(bn=this.m[At])?Array.isArray(bn)&&zs(bn):this.m[At]=_l;else{bn=this.g||(this.g=this.m[this.i+this.h]={});var jn=bn[At];jn?Array.isArray(jn)&&zs(jn):bn[At]=_l}}Ps.prototype.toJSON=function(){return Xr(this.m)},Ps.prototype.toString=function(){return this.m.toString()};var Ll;function iu(){Ps.apply(this,arguments)}if(Br(iu,Ps),ls){var ou={};Object.defineProperties(iu,(ou[Symbol.hasInstance]=xu(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),ou))}function Ru(At,Kt,cn){if(cn){var bn={},jn;for(jn in cn){var Rt=cn[jn],Gt=Rt.ja;Gt||(bn.F=Rt.pa||Rt.ha.P,Rt.ba?(bn.U=np(Rt.ba),Gt=function(Yt){return function(yt,Vt,Dt){return Yt.F(yt,Vt,Dt,Yt.U)}}(bn)):Rt.da?(bn.T=Xl(Rt.X.g,Rt.da),Gt=function(Yt){return function(yt,Vt,Dt){return Yt.F(yt,Vt,Dt,Yt.T)}}(bn)):Gt=bn.F,Rt.ja=Gt),Gt(Kt,At,Rt.X),bn={F:bn.F,U:bn.U,T:bn.T}}}$u(Kt,At)}var Pu=Symbol();function Ol(At,Kt,cn){return At[Pu]||(At[Pu]=function(bn,jn){return Kt(bn,jn,cn)})}function su(At){var Kt=At[Pu];if(!Kt){var cn=jt(At);Kt=function(bn,jn){return nn(bn,jn,cn)},At[Pu]=Kt}return Kt}function Hp(At){var Kt=At.ba;if(Kt)return su(Kt);if(Kt=At.oa)return Ol(At.X.g,Kt,At.da)}function au(At){var Kt=Hp(At),cn=At.X,bn=At.ha.O;return Kt?function(jn,Rt){return bn(jn,Rt,cn,Kt)}:function(jn,Rt){return bn(jn,Rt,cn)}}function Vl(At,Kt,cn,bn,jn,Rt){At=At();var Gt=0;for(At.length&&typeof At[0]!="number"&&(cn(Kt,At[0]),Gt++);Gt<At.length;){cn=At[Gt++];for(var Yt=Gt+1;Yt<At.length&&typeof At[Yt]!="number";)Yt++;var yt=At[Gt++];switch(Yt-=Gt,Yt){case 0:bn(Kt,cn,yt);break;case 1:bn(Kt,cn,yt,At[Gt++]);break;case 2:jn(Kt,cn,yt,At[Gt++],At[Gt++]);break;case 3:Yt=At[Gt++];var Vt=At[Gt++],Dt=At[Gt++];Array.isArray(Dt)?jn(Kt,cn,yt,Yt,Vt,Dt):Rt(Kt,cn,yt,Yt,Vt,Dt);break;case 4:Rt(Kt,cn,yt,At[Gt++],At[Gt++],At[Gt++],At[Gt++]);break;default:throw Error("unexpected number of binary field arguments: "+Yt)}}return Kt}var ju=Symbol();function np(At){var Kt=At[ju];if(!Kt){var cn=bu(At);Kt=function(bn,jn){return Hn(bn,jn,cn)},At[ju]=Kt}return Kt}function Xl(At,Kt){var cn=At[ju];return cn||(cn=function(bn,jn){return Ru(bn,jn,Kt)},At[ju]=cn),cn}var Op=Symbol();function cu(At,Kt){At.push(Kt)}function Uu(At,Kt,cn){At.push(Kt,cn.P)}function lp(At,Kt,cn,bn,jn){var Rt=np(jn),Gt=cn.P;At.push(Kt,function(Yt,yt,Vt){return Gt(Yt,yt,Vt,bn,Rt)})}function Pp(At,Kt,cn,bn,jn,Rt){var Gt=Xl(bn,Rt),Yt=cn.P;At.push(Kt,function(yt,Vt,Dt){return Yt(yt,Vt,Dt,bn,Gt)})}function bu(At){var Kt=At[Op];return Kt||Vl(At,At[Op]=[],cu,Uu,lp,Pp)}var up=Symbol();function _h(At,Kt){At[0]=Kt}function em(At,Kt,cn,bn){var jn=cn.O;At[Kt]=bn?function(Rt,Gt,Yt){return jn(Rt,Gt,Yt,bn)}:jn}function dp(At,Kt,cn,bn,jn,Rt){var Gt=cn.O,Yt=su(jn);At[Kt]=function(yt,Vt,Dt){return Gt(yt,Vt,Dt,bn,Yt,Rt)}}function bp(At,Kt,cn,bn,jn,Rt,Gt){var Yt=cn.O,yt=Ol(bn,jn,Rt);At[Kt]=function(Vt,Dt,mt){return Yt(Vt,Dt,mt,bn,yt,Gt)}}function jt(At){var Kt=At[up];return Kt||Vl(At,At[up]={},_h,em,dp,bp)}function nn(At,Kt,cn){for(;$s(Kt)&&Kt.h!=4;){var bn=Kt.i,jn=cn[bn];if(!jn){var Rt=cn[0];Rt&&(Rt=Rt[bn])&&(jn=cn[bn]=au(Rt))}if((!jn||!jn(Kt,At,bn))&&(jn=Kt,bn=At,Rt=jn.j,cs(jn),!jn.W)){var Gt=jn.g.h;jn=jn.g.g,jn=Rt===jn?Ns||(Ns=new Uint8Array(0)):Jl?Gt.slice(Rt,jn):new Uint8Array(Gt.subarray(Rt,jn)),(Rt=bn.ca)?Rt.push(jn):bn.ca=[jn]}}return At}function sn(At,Kt,cn){if(zl.length){var bn=zl.pop();At&&(Al(bn.g,At),bn.i=-1,bn.h=-1),At=bn}else At=new ru(At);try{return nn(new Kt,At,jt(cn))}finally{Kt=At.g,Kt.h=null,Kt.j=0,Kt.i=0,Kt.g=0,Kt.v=!1,At.i=-1,At.h=-1,100>zl.length&&zl.push(At)}}function Hn(At,Kt,cn){for(var bn=cn.length,jn=bn%2==1,Rt=jn?1:0;Rt<bn;Rt+=2)(0,cn[Rt+1])(Kt,At,cn[Rt]);Ru(At,Kt,jn?cn[0]:void 0)}function fr(At,Kt){var cn=new $l;Hn(At,cn,bu(Kt)),Sl(cn,cn.g.end()),At=new Uint8Array(cn.h),Kt=cn.i;for(var bn=Kt.length,jn=0,Rt=0;Rt<bn;Rt++){var Gt=Kt[Rt];At.set(Gt,jn),jn+=Gt.length}return cn.i=[At],At}function Mr(At,Kt){return{O:At,P:Kt}}var dr=Mr(function(At,Kt,cn){if(At.h!==5)return!1;At=At.g;var bn=At.h[At.g],jn=At.h[At.g+1],Rt=At.h[At.g+2],Gt=At.h[At.g+3];return At.g+=4,_o(At),jn=(bn<<0|jn<<8|Rt<<16|Gt<<24)>>>0,At=2*(jn>>31)+1,bn=jn>>>23&255,jn&=8388607,Xo(Kt,cn,bn==255?jn?NaN:1/0*At:bn==0?At*Math.pow(2,-149)*jn:At*Math.pow(2,bn-150)*(jn+Math.pow(2,23))),!0},function(At,Kt,cn){if(Kt=Ms(Kt,cn),Kt!=null){xl(At.g,8*cn+5),At=At.g;var bn=Kt;bn=(cn=0>bn?1:0)?-bn:bn,bn===0?0<1/bn?Ss=ga=0:(ga=0,Ss=2147483648):isNaN(bn)?(ga=0,Ss=2147483647):34028234663852886e22<bn?(ga=0,Ss=(cn<<31|2139095040)>>>0):11754943508222875e-54>bn?(bn=Math.round(bn/Math.pow(2,-149)),ga=0,Ss=(cn<<31|bn)>>>0):(Kt=Math.floor(Math.log(bn)/Math.LN2),bn*=Math.pow(2,-Kt),bn=Math.round(8388608*bn),16777216<=bn&&++Kt,ga=0,Ss=(cn<<31|Kt+127<<23|bn&8388607)>>>0),cn=Ss,At.g.push(cn>>>0&255),At.g.push(cn>>>8&255),At.g.push(cn>>>16&255),At.g.push(cn>>>24&255)}}),Or=Mr(function(At,Kt,cn){if(At.h!==0)return!1;for(var bn=At.g,jn=128,Rt=0,Gt=At=0;4>Gt&&128<=jn;Gt++)jn=bn.h[bn.g++],_o(bn),Rt|=(jn&127)<<7*Gt;if(128<=jn&&(jn=bn.h[bn.g++],_o(bn),Rt|=(jn&127)<<28,At|=(jn&127)>>4),128<=jn)for(Gt=0;5>Gt&&128<=jn;Gt++)jn=bn.h[bn.g++],_o(bn),At|=(jn&127)<<7*Gt+3;if(128>jn)bn=Rt>>>0,jn=At>>>0,(At=jn&2147483648)&&(bn=~bn+1>>>0,jn=~jn>>>0,bn==0&&(jn=jn+1>>>0)),bn=4294967296*jn+(bn>>>0);else throw ds();return Xo(Kt,cn,At?-bn:bn),!0},function(At,Kt,cn){if(Kt=Ms(Kt,cn),Kt!=null&&Kt!=null){xl(At.g,8*cn),At=At.g;var bn=Kt;for(cn=0>bn,bn=Math.abs(bn),Kt=bn>>>0,bn=Math.floor((bn-Kt)/4294967296),bn>>>=0,cn&&(bn=~bn>>>0,Kt=(~Kt>>>0)+1,4294967295<Kt&&(Kt=0,bn++,4294967295<bn&&(bn=0))),Ss=Kt,ga=bn,cn=Ss,Kt=ga;0<Kt||127<cn;)At.g.push(cn&127|128),cn=(cn>>>7|Kt<<25)>>>0,Kt>>>=7;At.g.push(cn)}}),Qr=Mr(function(At,Kt,cn){return At.h!==0?!1:(Xo(Kt,cn,yl(At.g)),!0)},function(At,Kt,cn){if(Kt=Ms(Kt,cn),Kt!=null&&Kt!=null)if(xl(At.g,8*cn),At=At.g,cn=Kt,0<=cn)xl(At,cn);else{for(Kt=0;9>Kt;Kt++)At.g.push(cn&127|128),cn>>=7;At.g.push(1)}}),xo=Mr(function(At,Kt,cn){if(At.h!==2)return!1;var bn=yl(At.g)>>>0;At=At.g;var jn=At.g;At.g+=bn,_o(At),At=At.h;var Rt;if(vp)(Rt=Ku)||(Rt=Ku=new TextDecoder("utf-8",{fatal:!0})),Rt=Rt.decode(At.subarray(jn,jn+bn));else{bn=jn+bn;for(var Gt=[],Yt=null,yt,Vt,Dt;jn<bn;)yt=At[jn++],128>yt?Gt.push(yt):224>yt?jn>=bn?Tl():(Vt=At[jn++],194>yt||(Vt&192)!==128?(jn--,Tl()):Gt.push((yt&31)<<6|Vt&63)):240>yt?jn>=bn-1?Tl():(Vt=At[jn++],(Vt&192)!==128||yt===224&&160>Vt||yt===237&&160<=Vt||((Rt=At[jn++])&192)!==128?(jn--,Tl()):Gt.push((yt&15)<<12|(Vt&63)<<6|Rt&63)):244>=yt?jn>=bn-2?Tl():(Vt=At[jn++],(Vt&192)!==128||(yt<<28)+(Vt-144)>>30||((Rt=At[jn++])&192)!==128||((Dt=At[jn++])&192)!==128?(jn--,Tl()):(yt=(yt&7)<<18|(Vt&63)<<12|(Rt&63)<<6|Dt&63,yt-=65536,Gt.push((yt>>10&1023)+55296,(yt&1023)+56320))):Tl(),8192<=Gt.length&&(Yt=mu(Yt,Gt),Gt.length=0);Rt=mu(Yt,Gt)}return Xo(Kt,cn,Rt),!0},function(At,Kt,cn){if(Kt=Ms(Kt,cn),Kt!=null){var bn=!1;if(bn=bn===void 0?!1:bn,Ep){if(bn&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(Kt))throw Error("Found an unpaired surrogate");Kt=(ep||(ep=new TextEncoder)).encode(Kt)}else{for(var jn=0,Rt=new Uint8Array(3*Kt.length),Gt=0;Gt<Kt.length;Gt++){var Yt=Kt.charCodeAt(Gt);if(128>Yt)Rt[jn++]=Yt;else{if(2048>Yt)Rt[jn++]=Yt>>6|192;else{if(55296<=Yt&&57343>=Yt){if(56319>=Yt&&Gt<Kt.length){var yt=Kt.charCodeAt(++Gt);if(56320<=yt&&57343>=yt){Yt=1024*(Yt-55296)+yt-56320+65536,Rt[jn++]=Yt>>18|240,Rt[jn++]=Yt>>12&63|128,Rt[jn++]=Yt>>6&63|128,Rt[jn++]=Yt&63|128;continue}else Gt--}if(bn)throw Error("Found an unpaired surrogate");Yt=65533}Rt[jn++]=Yt>>12|224,Rt[jn++]=Yt>>6&63|128}Rt[jn++]=Yt&63|128}}Kt=Rt.subarray(0,jn)}xl(At.g,8*cn+2),xl(At.g,Kt.length),Sl(At,At.g.end()),Sl(At,Kt)}}),$o=Mr(function(At,Kt,cn,bn,jn){if(At.h!==2)return!1;Kt=vs(Kt,cn,bn),cn=At.g.i,bn=yl(At.g)>>>0;var Rt=At.g.g+bn,Gt=Rt-cn;if(0>=Gt&&(At.g.i=Rt,jn(Kt,At),Gt=Rt-At.g.g),Gt)throw Error("Message parsing ended unexpectedly. Expected to read "+(bn+" bytes, instead read "+(bn-Gt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return At.g.g=Rt,At.g.i=cn,!0},function(At,Kt,cn,bn,jn){if(Kt=Il(Kt,bn,cn),Kt!=null)for(bn=0;bn<Kt.length;bn++){var Rt=At;xl(Rt.g,8*cn+2);var Gt=Rt.g.end();Sl(Rt,Gt),Gt.push(Rt.h),Rt=Gt,jn(Kt[bn],At),Gt=At;var Yt=Rt.pop();for(Yt=Gt.h+Gt.g.length()-Yt;127<Yt;)Rt.push(Yt&127|128),Yt>>>=7,Gt.h++;Rt.push(Yt),Gt.h++}});function Uo(){iu.apply(this,arguments)}if(Br(Uo,iu),ls){var ms={};Object.defineProperties(Uo,(ms[Symbol.hasInstance]=xu(Object[Symbol.hasInstance]),ms))}function Yo(At){Uo.call(this,At)}Br(Yo,Uo);function Lo(){return[1,Qr,2,dr,3,xo,4,xo]}function Jo(At){Uo.call(this,At,-1,Os)}Br(Jo,Uo),Jo.prototype.addClassification=function(At,Kt){return vs(this,1,Yo,At,Kt),this};function fs(){return[1,$o,Yo,Lo]}var Os=[1];function Ws(At){Uo.call(this,At)}Br(Ws,Uo);function Us(){return[1,dr,2,dr,3,dr,4,dr,5,dr]}function Zl(At){Uo.call(this,At,-1,Bt)}Br(Zl,Uo);function Ft(){return[1,$o,Ws,Us]}var Bt=[1];function Jt(At){Uo.call(this,At)}Br(Jt,Uo);function Ln(){return[1,dr,2,dr,3,dr,4,dr,5,dr,6,Or]}function $n(At,Kt,cn){if(cn=At.createShader(cn===0?At.VERTEX_SHADER:At.FRAGMENT_SHADER),At.shaderSource(cn,Kt),At.compileShader(cn),!At.getShaderParameter(cn,At.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+At.getShaderInfoLog(cn));return cn}function hr(At){return Il(At,Yo,1).map(function(Kt){return{index:Ts(Kt,1),score:Cs(Kt,2),label:Ms(Kt,3)!=null?xr(Kt,3):void 0,displayName:Ms(Kt,4)!=null?xr(Kt,4):void 0}})}function qn(At){return{x:Cs(At,1),y:Cs(At,2),z:Cs(At,3),visibility:Ms(At,4)!=null?Cs(At,4):void 0}}function Cr(At){return At.map(function(Kt){return Il(sn(Kt,Zl,Ft),Ws,1).map(qn)})}function Fr(At,Kt){this.h=At,this.g=Kt,this.l=0}function wt(At,Kt,cn){return Qt(At,Kt),typeof At.g.canvas.transferToImageBitmap=="function"?nt.resolve(At.g.canvas.transferToImageBitmap()):cn?nt.resolve(At.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(At.g.canvas):(At.i===void 0&&(At.i=document.createElement("canvas")),new nt(function(bn){At.i.height=At.g.canvas.height,At.i.width=At.g.canvas.width,At.i.getContext("2d",{}).drawImage(At.g.canvas,0,0,At.g.canvas.width,At.g.canvas.height),bn(At.i)}))}function Qt(At,Kt){var cn=At.g;if(At.o===void 0){var bn=$n(cn,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),jn=$n(cn,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Rt=cn.createProgram();if(cn.attachShader(Rt,bn),cn.attachShader(Rt,jn),cn.linkProgram(Rt),!cn.getProgramParameter(Rt,cn.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+cn.getProgramInfoLog(Rt));bn=At.o=Rt,cn.useProgram(bn),jn=cn.getUniformLocation(bn,"sampler0"),At.j={K:cn.getAttribLocation(bn,"aVertex"),J:cn.getAttribLocation(bn,"aTex"),qa:jn},At.u=cn.createBuffer(),cn.bindBuffer(cn.ARRAY_BUFFER,At.u),cn.enableVertexAttribArray(At.j.K),cn.vertexAttribPointer(At.j.K,2,cn.FLOAT,!1,0,0),cn.bufferData(cn.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),cn.STATIC_DRAW),cn.bindBuffer(cn.ARRAY_BUFFER,null),At.s=cn.createBuffer(),cn.bindBuffer(cn.ARRAY_BUFFER,At.s),cn.enableVertexAttribArray(At.j.J),cn.vertexAttribPointer(At.j.J,2,cn.FLOAT,!1,0,0),cn.bufferData(cn.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),cn.STATIC_DRAW),cn.bindBuffer(cn.ARRAY_BUFFER,null),cn.uniform1i(jn,0)}bn=At.j,cn.useProgram(At.o),cn.canvas.width=Kt.width,cn.canvas.height=Kt.height,cn.viewport(0,0,Kt.width,Kt.height),cn.activeTexture(cn.TEXTURE0),At.h.bindTexture2d(Kt.glName),cn.enableVertexAttribArray(bn.K),cn.bindBuffer(cn.ARRAY_BUFFER,At.u),cn.vertexAttribPointer(bn.K,2,cn.FLOAT,!1,0,0),cn.enableVertexAttribArray(bn.J),cn.bindBuffer(cn.ARRAY_BUFFER,At.s),cn.vertexAttribPointer(bn.J,2,cn.FLOAT,!1,0,0),cn.bindFramebuffer(cn.DRAW_FRAMEBUFFER?cn.DRAW_FRAMEBUFFER:cn.FRAMEBUFFER,null),cn.clearColor(0,0,0,0),cn.clear(cn.COLOR_BUFFER_BIT),cn.colorMask(!0,!0,!0,!0),cn.drawArrays(cn.TRIANGLE_FAN,0,4),cn.disableVertexAttribArray(bn.K),cn.disableVertexAttribArray(bn.J),cn.bindBuffer(cn.ARRAY_BUFFER,null),At.h.bindTexture2d(0)}function an(At){this.g=At}var Cn=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Xn(At,Kt){return Kt+At}function tr(At,Kt){window[At]=Kt}function Kn(At){var Kt=document.createElement("script");return Kt.setAttribute("src",At),Kt.setAttribute("crossorigin","anonymous"),new nt(function(cn){Kt.addEventListener("load",function(){cn()},!1),Kt.addEventListener("error",function(){cn()},!1),document.body.appendChild(Kt)})}function Rr(){return io(function(At){switch(At.g){case 1:return At.o=2,pr(At,WebAssembly.instantiate(Cn),4);case 4:At.g=3,At.o=0;break;case 2:return At.o=0,At.j=null,At.return(!1);case 3:return At.return(!0)}})}function Er(At){if(this.g=At,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.$=!0,this.D=nt.resolve(),this.Z="",this.C={},this.locateFile=At&&At.locateFile||Xn,typeof window=="object")var Kt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Kt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.aa=Kt,At.options){Kt=Tn(Object.keys(At.options));for(var cn=Kt.next();!cn.done;cn=Kt.next()){cn=cn.value;var bn=At.options[cn].default;bn!==void 0&&(this.j[cn]=typeof bn=="function"?bn():bn)}}}Et=Er.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function _i(At){var Kt,cn,bn,jn,Rt,Gt,Yt,yt,Vt,Dt,mt;return io(function(Ot){switch(Ot.g){case 1:return At.$?(Kt=At.g.files===void 0?[]:typeof At.g.files=="function"?At.g.files(At.j):At.g.files,pr(Ot,Rr(),2)):Ot.return();case 2:if(cn=Ot.h,typeof window=="object")return tr("createMediapipeSolutionsWasm",{locateFile:At.locateFile}),tr("createMediapipeSolutionsPackedAssets",{locateFile:At.locateFile}),Gt=Kt.filter(function(Pt){return Pt.data!==void 0}),Yt=Kt.filter(function(Pt){return Pt.data===void 0}),yt=nt.all(Gt.map(function(Pt){var Ut=Ro(At,Pt.url);if(Pt.path!==void 0){var fn=Pt.path;Ut=Ut.then(function(In){return At.overrideFile(fn,In),nt.resolve(In)})}return Ut})),Vt=nt.all(Yt.map(function(Pt){return Pt.simd===void 0||Pt.simd&&cn||!Pt.simd&&!cn?Kn(At.locateFile(Pt.url,At.aa)):nt.resolve()})).then(function(){var Pt,Ut,fn;return io(function(In){if(In.g==1)return Pt=window.createMediapipeSolutionsWasm,Ut=window.createMediapipeSolutionsPackedAssets,fn=At,pr(In,Pt(Ut),2);fn.h=In.h,In.g=0})}),Dt=function(){return io(function(Pt){return At.g.graph&&At.g.graph.url?Pt=pr(Pt,Ro(At,At.g.graph.url),0):(Pt.g=0,Pt=void 0),Pt})}(),pr(Ot,nt.all([Vt,yt,Dt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return bn=Kt.filter(function(Pt){return Pt.simd===void 0||Pt.simd&&cn||!Pt.simd&&!cn}).map(function(Pt){return At.locateFile(Pt.url,At.aa)}),importScripts.apply(null,Mn(bn)),jn=At,pr(Ot,createMediapipeSolutionsWasm(Module),6);case 6:jn.h=Ot.h,At.l=new OffscreenCanvas(1,1),At.h.canvas=At.l,Rt=At.h.GL.createContext(At.l,{antialias:!1,alpha:!1,na:typeof WebGL2RenderingContext<"u"?2:1}),At.h.GL.makeContextCurrent(Rt),Ot.g=4;break;case 7:if(At.l=document.createElement("canvas"),mt=At.l.getContext("webgl2",{}),!mt&&(mt=At.l.getContext("webgl",{}),!mt))return alert("Failed to create WebGL canvas context when passing video frame."),Ot.return();At.G=mt,At.h.canvas=At.l,At.h.createContext(At.l,!0,!0,{});case 4:At.i=new At.h.SolutionWasm,At.$=!1,Ot.g=0}})}function ho(At){var Kt,cn,bn,jn,Rt,Gt,Yt,yt;return io(function(Vt){if(Vt.g==1){if(At.g.graph&&At.g.graph.url&&At.Z===At.g.graph.url)return Vt.return();if(At.s=!0,!At.g.graph||!At.g.graph.url){Vt.g=2;return}return At.Z=At.g.graph.url,pr(Vt,Ro(At,At.g.graph.url),3)}for(Vt.g!=2&&(Kt=Vt.h,At.i.loadGraph(Kt)),cn=Tn(Object.keys(At.C)),bn=cn.next();!bn.done;bn=cn.next())jn=bn.value,At.i.overrideFile(jn,At.C[jn]);if(At.C={},At.g.listeners)for(Rt=Tn(At.g.listeners),Gt=Rt.next();!Gt.done;Gt=Rt.next())Yt=Gt.value,wo(At,Yt);yt=At.j,At.j={},At.setOptions(yt),Vt.g=0})}Et.reset=function(){var At=this;return io(function(Kt){At.i&&(At.i.reset(),At.o={},At.u={}),Kt.g=0})},Et.setOptions=function(At,Kt){var cn=this;if(Kt=Kt||this.g.options){for(var bn=[],jn=[],Rt={},Gt=Tn(Object.keys(At)),Yt=Gt.next();!Yt.done;Rt={R:Rt.R,S:Rt.S},Yt=Gt.next()){var yt=Yt.value;yt in this.j&&this.j[yt]===At[yt]||(this.j[yt]=At[yt],Yt=Kt[yt],Yt!==void 0&&(Yt.onChange&&(Rt.R=Yt.onChange,Rt.S=At[yt],bn.push(function(Vt){return function(){var Dt;return io(function(mt){if(mt.g==1)return pr(mt,Vt.R(Vt.S),2);Dt=mt.h,Dt===!0&&(cn.s=!0),mt.g=0})}}(Rt))),Yt.graphOptionXref&&(yt={valueNumber:Yt.type===1?At[yt]:0,valueBoolean:Yt.type===0?At[yt]:!1,valueString:Yt.type===2?At[yt]:""},Yt=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Yt.graphOptionXref),yt),jn.push(Yt))))}(bn.length!==0||jn.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(jn),this.A=(this.A===void 0?[]:this.A).concat(bn))}};function Qo(At){var Kt,cn,bn,jn,Rt,Gt,Yt;return io(function(yt){switch(yt.g){case 1:if(!At.s)return yt.return();if(!At.A){yt.g=2;break}Kt=Tn(At.A),cn=Kt.next();case 3:if(cn.done){yt.g=5;break}return bn=cn.value,pr(yt,bn(),4);case 4:cn=Kt.next(),yt.g=3;break;case 5:At.A=void 0;case 2:if(At.B){for(jn=new At.h.GraphOptionChangeRequestList,Rt=Tn(At.B),Gt=Rt.next();!Gt.done;Gt=Rt.next())Yt=Gt.value,jn.push_back(Yt);At.i.changeOptions(jn),jn.delete(),At.B=void 0}At.s=!1,yt.g=0}})}Et.initialize=function(){var At=this;return io(function(Kt){return Kt.g==1?pr(Kt,_i(At),2):Kt.g!=3?pr(Kt,ho(At),3):pr(Kt,Qo(At),0)})};function Ro(At,Kt){var cn,bn;return io(function(jn){return Kt in At.H?jn.return(At.H[Kt]):(cn=At.locateFile(Kt,""),bn=fetch(cn).then(function(Rt){return Rt.arrayBuffer()}),At.H[Kt]=bn,jn.return(bn))})}Et.overrideFile=function(At,Kt){this.i?this.i.overrideFile(At,Kt):this.C[At]=Kt},Et.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(At,Kt){var cn=this,bn,jn,Rt,Gt,Yt,yt,Vt,Dt,mt;return io(function(Ot){switch(Ot.g){case 1:return cn.g.inputs?(bn=1e3*(Kt??performance.now()),pr(Ot,cn.D,2)):Ot.return();case 2:return pr(Ot,cn.initialize(),3);case 3:for(jn=new cn.h.PacketDataList,Rt=Tn(Object.keys(At)),Gt=Rt.next();!Gt.done;Gt=Rt.next())if(Yt=Gt.value,yt=cn.g.inputs[Yt]){e:{var Pt=At[Yt];switch(yt.type){case"video":var Ut=cn.o[yt.stream];if(Ut||(Ut=new Fr(cn.h,cn.G),cn.o[yt.stream]=Ut),Ut.l===0&&(Ut.l=Ut.h.createTexture()),typeof HTMLVideoElement<"u"&&Pt instanceof HTMLVideoElement)var fn=Pt.videoWidth,In=Pt.videoHeight;else typeof HTMLImageElement<"u"&&Pt instanceof HTMLImageElement?(fn=Pt.naturalWidth,In=Pt.naturalHeight):(fn=Pt.width,In=Pt.height);In={glName:Ut.l,width:fn,height:In},fn=Ut.g,fn.canvas.width=In.width,fn.canvas.height=In.height,fn.activeTexture(fn.TEXTURE0),Ut.h.bindTexture2d(Ut.l),fn.texImage2D(fn.TEXTURE_2D,0,fn.RGBA,fn.RGBA,fn.UNSIGNED_BYTE,Pt),Ut.h.bindTexture2d(0),Ut=In;break e;case"detections":for(Ut=cn.o[yt.stream],Ut||(Ut=new an(cn.h),cn.o[yt.stream]=Ut),Ut.data||(Ut.data=new Ut.g.DetectionListData),Ut.data.reset(Pt.length),In=0;In<Pt.length;++In){fn=Pt[In];var kn=Ut.data,zn=kn.setBoundingBox,ar=In,mr=fn.ea,gr=new Jt;if(Xo(gr,1,mr.ka),Xo(gr,2,mr.la),Xo(gr,3,mr.height),Xo(gr,4,mr.width),Xo(gr,5,mr.rotation),Xo(gr,6,mr.ia),mr=fr(gr,Ln),zn.call(kn,ar,mr),fn.Y)for(kn=0;kn<fn.Y.length;++kn){gr=fn.Y[kn];var Pr=!!gr.visibility;zn=Ut.data,ar=zn.addNormalizedLandmark,mr=In,gr=Object.assign(Object.assign({},gr),{visibility:Pr?gr.visibility:0}),Pr=new Ws,Xo(Pr,1,gr.x),Xo(Pr,2,gr.y),Xo(Pr,3,gr.z),gr.visibility&&Xo(Pr,4,gr.visibility),gr=fr(Pr,Us),ar.call(zn,mr,gr)}if(fn.V)for(kn=0;kn<fn.V.length;++kn)zn=Ut.data,ar=zn.addClassification,mr=In,gr=fn.V[kn],Pr=new Yo,Xo(Pr,2,gr.score),gr.index&&Xo(Pr,1,gr.index),gr.label&&Xo(Pr,3,gr.label),gr.displayName&&Xo(Pr,4,gr.displayName),gr=fr(Pr,Lo),ar.call(zn,mr,gr)}Ut=Ut.data;break e;default:Ut={}}}switch(Vt=Ut,Dt=yt.stream,yt.type){case"video":jn.pushTexture2d(Object.assign(Object.assign({},Vt),{stream:Dt,timestamp:bn}));break;case"detections":mt=Vt,mt.stream=Dt,mt.timestamp=bn,jn.pushDetectionList(mt);break;default:throw Error("Unknown input config type: '"+yt.type+"'")}}return cn.i.send(jn),pr(Ot,cn.D,4);case 4:jn.delete(),Ot.g=0}})};function zr(At,Kt,cn){var bn,jn,Rt,Gt,Yt,yt,Vt,Dt,mt,Ot,Pt,Ut,fn,In;return io(function(kn){switch(kn.g){case 1:if(!cn)return kn.return(Kt);for(bn={},jn=0,Rt=Tn(Object.keys(cn)),Gt=Rt.next();!Gt.done;Gt=Rt.next())Yt=Gt.value,yt=cn[Yt],typeof yt!="string"&&yt.type==="texture"&&Kt[yt.stream]!==void 0&&++jn;1<jn&&(At.I=!1),Vt=Tn(Object.keys(cn)),Gt=Vt.next();case 2:if(Gt.done){kn.g=4;break}if(Dt=Gt.value,mt=cn[Dt],typeof mt=="string")return fn=bn,In=Dt,pr(kn,yo(At,Dt,Kt[mt]),14);if(Ot=Kt[mt.stream],mt.type==="detection_list"){if(Ot){for(var zn=Ot.getRectList(),ar=Ot.getLandmarksList(),mr=Ot.getClassificationsList(),gr=[],Pr=0;Pr<zn.size();++Pr){var Kr=sn(zn.get(Pr),Jt,Ln);Kr={ea:{ka:Cs(Kr,1),la:Cs(Kr,2),height:Cs(Kr,3),width:Cs(Kr,4),rotation:Cs(Kr,5,0),ia:Ts(Kr,6)},Y:Il(sn(ar.get(Pr),Zl,Ft),Ws,1).map(qn),V:hr(sn(mr.get(Pr),Jo,fs))},gr.push(Kr)}zn=gr}else zn=[];bn[Dt]=zn,kn.g=7;break}if(mt.type==="proto_list"){if(Ot){for(zn=Array(Ot.size()),ar=0;ar<Ot.size();ar++)zn[ar]=Ot.get(ar);Ot.delete()}else zn=[];bn[Dt]=zn,kn.g=7;break}if(Ot===void 0){kn.g=3;break}if(mt.type==="float_list"){bn[Dt]=Ot,kn.g=7;break}if(mt.type==="proto"){bn[Dt]=Ot,kn.g=7;break}if(mt.type!=="texture")throw Error("Unknown output config type: '"+mt.type+"'");return Pt=At.u[Dt],Pt||(Pt=new Fr(At.h,At.G),At.u[Dt]=Pt),pr(kn,wt(Pt,Ot,At.I),13);case 13:Ut=kn.h,bn[Dt]=Ut;case 7:mt.transform&&bn[Dt]&&(bn[Dt]=mt.transform(bn[Dt])),kn.g=3;break;case 14:fn[In]=kn.h;case 3:Gt=Vt.next(),kn.g=2;break;case 4:return kn.return(bn)}})}function yo(At,Kt,cn){var bn;return io(function(jn){return typeof cn=="number"||cn instanceof Uint8Array||cn instanceof At.h.Uint8BlobList?jn.return(cn):cn instanceof At.h.Texture2dDataOut?(bn=At.u[Kt],bn||(bn=new Fr(At.h,At.G),At.u[Kt]=bn),jn.return(wt(bn,cn,At.I))):jn.return(void 0)})}function wo(At,Kt){for(var cn=Kt.name||"$",bn=[].concat(Mn(Kt.wants)),jn=new At.h.StringList,Rt=Tn(Kt.wants),Gt=Rt.next();!Gt.done;Gt=Rt.next())jn.push_back(Gt.value);Rt=At.h.PacketListener.implement({onResults:function(Yt){for(var yt={},Vt=0;Vt<Kt.wants.length;++Vt)yt[bn[Vt]]=Yt.get(Vt);var Dt=At.listeners[cn];Dt&&(At.D=zr(At,yt,Kt.outs).then(function(mt){mt=Dt(mt);for(var Ot=0;Ot<Kt.wants.length;++Ot){var Pt=yt[bn[Ot]];typeof Pt=="object"&&Pt.hasOwnProperty&&Pt.hasOwnProperty("delete")&&Pt.delete()}mt&&(At.D=mt)}))}}),At.i.attachMultiListener(jn,Rt),jn.delete()}Et.onResults=function(At,Kt){this.listeners[Kt||"$"]=At},jo("Solution",Er),jo("OptionType",{BOOL:0,NUMBER:1,ma:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Po(At){return At===void 0&&(At=0),At===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Fo(At){var Kt=this;At=At||{},this.g=new Er({locateFile:At.locateFile,files:function(cn){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Po(cn.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Cr},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Cr},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(cn){return cn.map(function(bn){return hr(sn(bn,Jo,fs))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(cn){var bn,jn,Rt;return io(function(Gt){return Gt.g==1?(bn=Po(cn),jn="third_party/mediapipe/modules/hand_landmark/"+bn,pr(Gt,Ro(Kt.g,bn),2)):(Rt=Gt.h,Kt.g.overrideFile(jn,Rt),Gt.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}Et=Fo.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(At){this.g.onResults(At)},Et.initialize=function(){var At=this;return io(function(Kt){return pr(Kt,At.g.initialize(),0)})},Et.reset=function(){this.g.reset()},Et.send=function(At){var Kt=this;return io(function(cn){return pr(cn,Kt.g.send(At),0)})},Et.setOptions=function(At){this.g.setOptions(At)},jo("Hands",Fo),jo("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),jo("VERSION","0.4.1646424915")}).call(ku);var cp={};(function(){var Et;function St(yt){var Vt=0;return function(){return Vt<yt.length?{done:!1,value:yt[Vt++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(yt,Vt,Dt){return yt==Array.prototype||yt==Object.prototype||(yt[Vt]=Dt.value),yt};function Xt(yt){yt=[typeof globalThis=="object"&&globalThis,yt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Vt=0;Vt<yt.length;++Vt){var Dt=yt[Vt];if(Dt&&Dt.Math==Math)return Dt}throw Error("Cannot find global object")}var zt=Xt(this);function vn(yt,Vt){if(Vt)e:{var Dt=zt;yt=yt.split(".");for(var mt=0;mt<yt.length-1;mt++){var Ot=yt[mt];if(!(Ot in Dt))break e;Dt=Dt[Ot]}yt=yt[yt.length-1],mt=Dt[yt],Vt=Vt(mt),Vt!=mt&&Vt!=null&&xt(Dt,yt,{configurable:!0,writable:!0,value:Vt})}}vn("Symbol",function(yt){function Vt(Pt){if(this instanceof Vt)throw new TypeError("Symbol is not a constructor");return new Dt(mt+(Pt||"")+"_"+Ot++,Pt)}function Dt(Pt,Ut){this.g=Pt,xt(this,"description",{configurable:!0,writable:!0,value:Ut})}if(yt)return yt;Dt.prototype.toString=function(){return this.g};var mt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Ot=0;return Vt}),vn("Symbol.iterator",function(yt){if(yt)return yt;yt=Symbol("Symbol.iterator");for(var Vt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Dt=0;Dt<Vt.length;Dt++){var mt=zt[Vt[Dt]];typeof mt=="function"&&typeof mt.prototype[yt]!="function"&&xt(mt.prototype,yt,{configurable:!0,writable:!0,value:function(){return On(St(this))}})}return yt});function On(yt){return yt={next:yt},yt[Symbol.iterator]=function(){return this},yt}function Tn(yt){var Vt=typeof Symbol<"u"&&Symbol.iterator&&yt[Symbol.iterator];return Vt?Vt.call(yt):{next:St(yt)}}function Mn(yt){if(!(yt instanceof Array)){yt=Tn(yt);for(var Vt,Dt=[];!(Vt=yt.next()).done;)Dt.push(Vt.value);yt=Dt}return yt}var br=typeof Object.create=="function"?Object.create:function(yt){function Vt(){}return Vt.prototype=yt,new Vt},Nr;if(typeof Object.setPrototypeOf=="function")Nr=Object.setPrototypeOf;else{var Wr;e:{var Ao={a:!0},Mo={};try{Mo.__proto__=Ao,Wr=Mo.a;break e}catch{}Wr=!1}Nr=Wr?function(yt,Vt){if(yt.__proto__=Vt,yt.__proto__!==Vt)throw new TypeError(yt+" is not extensible");return yt}:null}var Dr=Nr;function Br(yt,Vt){if(yt.prototype=br(Vt.prototype),yt.prototype.constructor=yt,Dr)Dr(yt,Vt);else for(var Dt in Vt)if(Dt!="prototype")if(Object.defineProperties){var mt=Object.getOwnPropertyDescriptor(Vt,Dt);mt&&Object.defineProperty(yt,Dt,mt)}else yt[Dt]=Vt[Dt];yt.da=Vt.prototype}function Ko(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function Bo(yt){if(yt.l)throw new TypeError("Generator is already running");yt.l=!0}Ko.prototype.o=function(yt){this.h=yt};function ys(yt,Vt){yt.j={U:Vt,V:!0},yt.g=yt.m||yt.s}Ko.prototype.return=function(yt){this.j={return:yt},this.g=this.s};function pr(yt,Vt,Dt){return yt.g=Dt,{value:Vt}}function Zu(yt){this.g=new Ko,this.h=yt}function Cu(yt,Vt){Bo(yt.g);var Dt=yt.g.i;return Dt?xa(yt,"return"in Dt?Dt.return:function(mt){return{value:mt,done:!0}},Vt,yt.g.return):(yt.g.return(Vt),hs(yt))}function xa(yt,Vt,Dt,mt){try{var Ot=Vt.call(yt.g.i,Dt);if(!(Ot instanceof Object))throw new TypeError("Iterator result "+Ot+" is not an object");if(!Ot.done)return yt.g.l=!1,Ot;var Pt=Ot.value}catch(Ut){return yt.g.i=null,ys(yt.g,Ut),hs(yt)}return yt.g.i=null,mt.call(yt.g,Pt),hs(yt)}function hs(yt){for(;yt.g.g;)try{var Vt=yt.h(yt.g);if(Vt)return yt.g.l=!1,{value:Vt.value,done:!1}}catch(Dt){yt.g.h=void 0,ys(yt.g,Dt)}if(yt.g.l=!1,yt.g.j){if(Vt=yt.g.j,yt.g.j=null,Vt.V)throw Vt.U;return{value:Vt.return,done:!0}}return{value:void 0,done:!0}}function jp(yt){this.next=function(Vt){return Bo(yt.g),yt.g.i?Vt=xa(yt,yt.g.i.next,Vt,yt.g.o):(yt.g.o(Vt),Vt=hs(yt)),Vt},this.throw=function(Vt){return Bo(yt.g),yt.g.i?Vt=xa(yt,yt.g.i.throw,Vt,yt.g.o):(ys(yt.g,Vt),Vt=hs(yt)),Vt},this.return=function(Vt){return Cu(yt,Vt)},this[Symbol.iterator]=function(){return this}}function Ls(yt){function Vt(mt){return yt.next(mt)}function Dt(mt){return yt.throw(mt)}return new nt(function(mt,Ot){function Pt(Ut){Ut.done?mt(Ut.value):nt.resolve(Ut.value).then(Vt,Dt).then(Pt,Ot)}Pt(yt.next())})}function io(yt){return Ls(new jp(new Zu(yt)))}vn("Promise",function(yt){function Vt(Ut){this.h=0,this.i=void 0,this.g=[],this.o=!1;var fn=this.j();try{Ut(fn.resolve,fn.reject)}catch(In){fn.reject(In)}}function Dt(){this.g=null}function mt(Ut){return Ut instanceof Vt?Ut:new Vt(function(fn){fn(Ut)})}if(yt)return yt;Dt.prototype.h=function(Ut){if(this.g==null){this.g=[];var fn=this;this.i(function(){fn.l()})}this.g.push(Ut)};var Ot=zt.setTimeout;Dt.prototype.i=function(Ut){Ot(Ut,0)},Dt.prototype.l=function(){for(;this.g&&this.g.length;){var Ut=this.g;this.g=[];for(var fn=0;fn<Ut.length;++fn){var In=Ut[fn];Ut[fn]=null;try{In()}catch(kn){this.j(kn)}}}this.g=null},Dt.prototype.j=function(Ut){this.i(function(){throw Ut})},Vt.prototype.j=function(){function Ut(kn){return function(zn){In||(In=!0,kn.call(fn,zn))}}var fn=this,In=!1;return{resolve:Ut(this.C),reject:Ut(this.l)}},Vt.prototype.C=function(Ut){if(Ut===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Ut instanceof Vt)this.F(Ut);else{e:switch(typeof Ut){case"object":var fn=Ut!=null;break e;case"function":fn=!0;break e;default:fn=!1}fn?this.v(Ut):this.m(Ut)}},Vt.prototype.v=function(Ut){var fn=void 0;try{fn=Ut.then}catch(In){this.l(In);return}typeof fn=="function"?this.G(fn,Ut):this.m(Ut)},Vt.prototype.l=function(Ut){this.s(2,Ut)},Vt.prototype.m=function(Ut){this.s(1,Ut)},Vt.prototype.s=function(Ut,fn){if(this.h!=0)throw Error("Cannot settle("+Ut+", "+fn+"): Promise already settled in state"+this.h);this.h=Ut,this.i=fn,this.h===2&&this.D(),this.A()},Vt.prototype.D=function(){var Ut=this;Ot(function(){if(Ut.B()){var fn=zt.console;typeof fn<"u"&&fn.error(Ut.i)}},1)},Vt.prototype.B=function(){if(this.o)return!1;var Ut=zt.CustomEvent,fn=zt.Event,In=zt.dispatchEvent;return typeof In>"u"?!0:(typeof Ut=="function"?Ut=new Ut("unhandledrejection",{cancelable:!0}):typeof fn=="function"?Ut=new fn("unhandledrejection",{cancelable:!0}):(Ut=zt.document.createEvent("CustomEvent"),Ut.initCustomEvent("unhandledrejection",!1,!0,Ut)),Ut.promise=this,Ut.reason=this.i,In(Ut))},Vt.prototype.A=function(){if(this.g!=null){for(var Ut=0;Ut<this.g.length;++Ut)Pt.h(this.g[Ut]);this.g=null}};var Pt=new Dt;return Vt.prototype.F=function(Ut){var fn=this.j();Ut.J(fn.resolve,fn.reject)},Vt.prototype.G=function(Ut,fn){var In=this.j();try{Ut.call(fn,In.resolve,In.reject)}catch(kn){In.reject(kn)}},Vt.prototype.then=function(Ut,fn){function In(mr,gr){return typeof mr=="function"?function(Pr){try{kn(mr(Pr))}catch(Kr){zn(Kr)}}:gr}var kn,zn,ar=new Vt(function(mr,gr){kn=mr,zn=gr});return this.J(In(Ut,kn),In(fn,zn)),ar},Vt.prototype.catch=function(Ut){return this.then(void 0,Ut)},Vt.prototype.J=function(Ut,fn){function In(){switch(kn.h){case 1:Ut(kn.i);break;case 2:fn(kn.i);break;default:throw Error("Unexpected state: "+kn.h)}}var kn=this;this.g==null?Pt.h(In):this.g.push(In),this.o=!0},Vt.resolve=mt,Vt.reject=function(Ut){return new Vt(function(fn,In){In(Ut)})},Vt.race=function(Ut){return new Vt(function(fn,In){for(var kn=Tn(Ut),zn=kn.next();!zn.done;zn=kn.next())mt(zn.value).J(fn,In)})},Vt.all=function(Ut){var fn=Tn(Ut),In=fn.next();return In.done?mt([]):new Vt(function(kn,zn){function ar(Pr){return function(Kr){mr[Pr]=Kr,gr--,gr==0&&kn(mr)}}var mr=[],gr=0;do mr.push(void 0),gr++,mt(In.value).J(ar(mr.length-1),zn),In=fn.next();while(!In.done)})},Vt});function Nu(yt,Vt){yt instanceof String&&(yt+="");var Dt=0,mt=!1,Ot={next:function(){if(!mt&&Dt<yt.length){var Pt=Dt++;return{value:Vt(Pt,yt[Pt]),done:!1}}return mt=!0,{done:!0,value:void 0}}};return Ot[Symbol.iterator]=function(){return Ot},Ot}var Up=typeof Object.assign=="function"?Object.assign:function(yt,Vt){for(var Dt=1;Dt<arguments.length;Dt++){var mt=arguments[Dt];if(mt)for(var Ot in mt)Object.prototype.hasOwnProperty.call(mt,Ot)&&(yt[Ot]=mt[Ot])}return yt};vn("Object.assign",function(yt){return yt||Up}),vn("Object.is",function(yt){return yt||function(Vt,Dt){return Vt===Dt?Vt!==0||1/Vt===1/Dt:Vt!==Vt&&Dt!==Dt}}),vn("Array.prototype.includes",function(yt){return yt||function(Vt,Dt){var mt=this;mt instanceof String&&(mt=String(mt));var Ot=mt.length;for(Dt=Dt||0,0>Dt&&(Dt=Math.max(Dt+Ot,0));Dt<Ot;Dt++){var Pt=mt[Dt];if(Pt===Vt||Object.is(Pt,Vt))return!0}return!1}}),vn("String.prototype.includes",function(yt){return yt||function(Vt,Dt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Vt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Vt,Dt||0)!==-1}}),vn("Array.prototype.keys",function(yt){return yt||function(){return Nu(this,function(Vt){return Vt})}});var $a=this||self;function jo(yt,Vt){yt=yt.split(".");var Dt=$a;yt[0]in Dt||typeof Dt.execScript>"u"||Dt.execScript("var "+yt[0]);for(var mt;yt.length&&(mt=yt.shift());)yt.length||Vt===void 0?Dt[mt]&&Dt[mt]!==Object.prototype[mt]?Dt=Dt[mt]:Dt=Dt[mt]={}:Dt[mt]=Vt}function Tl(yt){$a.setTimeout(function(){throw yt},0)}function mu(yt){Tl(yt)}function Ku(yt,Vt){mu(Error("Invalid wire type: "+yt+" (at position "+Vt+")"))}function vp(){mu(Error("Failed to read varint, encoding is invalid."))}function ep(yt,Vt){return Vt=String.fromCharCode.apply(null,Vt),yt==null?Vt:yt+Vt}var Ep,Tu=typeof TextDecoder<"u",Mu,wp=typeof TextEncoder<"u";function yp(yt){if(wp)yt=(Mu||(Mu=new TextEncoder)).encode(yt);else{var Vt=void 0;Vt=Vt===void 0?!1:Vt;for(var Dt=0,mt=new Uint8Array(3*yt.length),Ot=0;Ot<yt.length;Ot++){var Pt=yt.charCodeAt(Ot);if(128>Pt)mt[Dt++]=Pt;else{if(2048>Pt)mt[Dt++]=Pt>>6|192;else{if(55296<=Pt&&57343>=Pt){if(56319>=Pt&&Ot<yt.length){var Ut=yt.charCodeAt(++Ot);if(56320<=Ut&&57343>=Ut){Pt=1024*(Pt-55296)+Ut-56320+65536,mt[Dt++]=Pt>>18|240,mt[Dt++]=Pt>>12&63|128,mt[Dt++]=Pt>>6&63|128,mt[Dt++]=Pt&63|128;continue}else Ot--}if(Vt)throw Error("Found an unpaired surrogate");Pt=65533}mt[Dt++]=Pt>>12|224,mt[Dt++]=Pt>>6&63|128}mt[Dt++]=Pt&63|128}}yt=mt.subarray(0,Dt)}return yt}var Kl={},Yl=null;function tp(yt){var Vt;Vt===void 0&&(Vt=0),Cl(),Vt=Kl[Vt];for(var Dt=Array(Math.floor(yt.length/3)),mt=Vt[64]||"",Ot=0,Pt=0;Ot<yt.length-2;Ot+=3){var Ut=yt[Ot],fn=yt[Ot+1],In=yt[Ot+2],kn=Vt[Ut>>2];Ut=Vt[(Ut&3)<<4|fn>>4],fn=Vt[(fn&15)<<2|In>>6],In=Vt[In&63],Dt[Pt++]=kn+Ut+fn+In}switch(kn=0,In=mt,yt.length-Ot){case 2:kn=yt[Ot+1],In=Vt[(kn&15)<<2]||mt;case 1:yt=yt[Ot],Dt[Pt]=Vt[yt>>2]+Vt[(yt&3)<<4|kn>>4]+In+mt}return Dt.join("")}function Ju(yt){var Vt=yt.length,Dt=3*Vt/4;Dt%3?Dt=Math.floor(Dt):"=.".indexOf(yt[Vt-1])!=-1&&(Dt="=.".indexOf(yt[Vt-2])!=-1?Dt-2:Dt-1);var mt=new Uint8Array(Dt),Ot=0;return Ns(yt,function(Pt){mt[Ot++]=Pt}),mt.subarray(0,Ot)}function Ns(yt,Vt){function Dt(In){for(;mt<yt.length;){var kn=yt.charAt(mt++),zn=Yl[kn];if(zn!=null)return zn;if(!/^[\s\xa0]*$/.test(kn))throw Error("Unknown base64 encoding at char: "+kn)}return In}Cl();for(var mt=0;;){var Ot=Dt(-1),Pt=Dt(0),Ut=Dt(64),fn=Dt(64);if(fn===64&&Ot===-1)break;Vt(Ot<<2|Pt>>4),Ut!=64&&(Vt(Pt<<4&240|Ut>>2),fn!=64&&Vt(Ut<<6&192|fn))}}function Cl(){if(!Yl){Yl={};for(var yt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Vt=["+/=","+/","-_=","-_.","-_"],Dt=0;5>Dt;Dt++){var mt=yt.concat(Vt[Dt].split(""));Kl[Dt]=mt;for(var Ot=0;Ot<mt.length;Ot++){var Pt=mt[Ot];Yl[Pt]===void 0&&(Yl[Pt]=Ot)}}}}var Jl=typeof Uint8Array=="function",Ss;function ga(yt){if(this.g=yt,yt!==null&&yt.length===0)throw Error("ByteString should be constructed with non-empty values")}ga.prototype.toJSON=function(){if(this.g==null)var yt="";else yt=this.g,yt=this.g=yt==null||typeof yt=="string"?yt:Jl&&yt instanceof Uint8Array?tp(yt):null;return yt};var gu=typeof Uint8Array.prototype.slice=="function";function Dl(yt,Vt,Dt){return Vt===Dt?Ss||(Ss=new Uint8Array(0)):gu?yt.slice(Vt,Dt):new Uint8Array(yt.subarray(Vt,Dt))}var ds=0,Ys=0;function Al(yt){if(yt.constructor===Uint8Array)return yt;if(yt.constructor===ArrayBuffer)return new Uint8Array(yt);if(yt.constructor===Array)return new Uint8Array(yt);if(yt.constructor===String)return Ju(yt);if(yt.constructor===ga){if(yt.g==null)var Vt=Ss||(Ss=new Uint8Array(0));else{Vt=Uint8Array;var Dt=yt.g;Dt=Dt==null||Jl&&Dt!=null&&Dt instanceof Uint8Array?Dt:typeof Dt=="string"?Ju(Dt):null,yt=yt.g=Dt,Vt=new Vt(yt)}return Vt}if(yt instanceof Uint8Array)return new Uint8Array(yt.buffer,yt.byteOffset,yt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function _o(yt,Vt){Vt=Vt===void 0?{}:Vt,Vt=Vt.u===void 0?!1:Vt.u,this.h=null,this.g=this.i=this.m=0,this.l=!1,this.u=Vt,yt&&yl(this,yt)}function yl(yt,Vt){yt.h=Al(Vt),yt.m=0,yt.i=yt.h.length,yt.g=yt.m}_o.prototype.reset=function(){this.g=this.m};function as(yt){for(var Vt=128,Dt=0,mt=0,Ot=0;4>Ot&&128<=Vt;Ot++)Vt=yt.h[yt.g++],Dt|=(Vt&127)<<7*Ot;if(128<=Vt&&(Vt=yt.h[yt.g++],Dt|=(Vt&127)<<28,mt|=(Vt&127)>>4),128<=Vt)for(Ot=0;5>Ot&&128<=Vt;Ot++)Vt=yt.h[yt.g++],mt|=(Vt&127)<<7*Ot+3;if(128>Vt)return yt=Dt>>>0,Vt=mt>>>0,(mt=Vt&2147483648)&&(yt=~yt+1>>>0,Vt=~Vt>>>0,yt==0&&(Vt=Vt+1>>>0)),yt=4294967296*Vt+(yt>>>0),mt?-yt:yt;yt.l=!0,vp()}function js(yt){yt.g>yt.i&&(yt.l=!0,mu(Error("Tried to read past the end of the data "+yt.g+" > "+yt.i)))}_o.prototype.j=function(){var yt=this.h,Vt=yt[this.g],Dt=Vt&127;return 128>Vt?(this.g+=1,js(this),Dt):(Vt=yt[this.g+1],Dt|=(Vt&127)<<7,128>Vt?(this.g+=2,js(this),Dt):(Vt=yt[this.g+2],Dt|=(Vt&127)<<14,128>Vt?(this.g+=3,js(this),Dt):(Vt=yt[this.g+3],Dt|=(Vt&127)<<21,128>Vt?(this.g+=4,js(this),Dt):(Vt=yt[this.g+4],Dt|=(Vt&15)<<28,128>Vt?(this.g+=5,js(this),Dt>>>0):(this.g+=5,128<=yt[this.g++]&&128<=yt[this.g++]&&128<=yt[this.g++]&&128<=yt[this.g++]&&128<=yt[this.g++]?(this.l=!0,vp(),Dt):(js(this),Dt))))))},_o.prototype.o=function(){var yt=this.h[this.g],Vt=this.h[this.g+1],Dt=this.h[this.g+2],mt=this.h[this.g+3];return this.g+=4,js(this),Dt=(yt<<0|Vt<<8|Dt<<16|mt<<24)>>>0,yt=2*(Dt>>31)+1,Vt=Dt>>>23&255,Dt&=8388607,Vt==255?Dt?NaN:1/0*yt:Vt==0?yt*Math.pow(2,-149)*Dt:yt*Math.pow(2,Vt-150)*(Dt+Math.pow(2,23))};var xl=[];function ru(){this.g=new Uint8Array(64),this.h=0}function $s(yt,Vt){if(!(yt.h+1<yt.g.length)){var Dt=yt.g;yt.g=new Uint8Array(Math.ceil(1+2*yt.g.length)),yt.g.set(Dt)}yt.g[yt.h++]=Vt}ru.prototype.length=function(){return this.h},ru.prototype.end=function(){var yt=this.g,Vt=this.h;return this.h=0,Dl(yt,0,Vt)};function cs(yt,Vt){for(;127<Vt;)$s(yt,Vt&127|128),Vt>>>=7;$s(yt,Vt)}function zl(yt){var Vt={},Dt=Vt.N===void 0?!1:Vt.N;this.m={u:Vt.u===void 0?!1:Vt.u},this.N=Dt,Vt=this.m,xl.length?(Dt=xl.pop(),Vt&&(Dt.u=Vt.u),yt&&yl(Dt,yt),yt=Dt):yt=new _o(yt,Vt),this.g=yt,this.l=this.g.g,this.h=this.i=-1,this.j=!1}zl.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function $l(yt){var Vt=yt.g;if((Vt=Vt.g==Vt.i)||(Vt=yt.j)||(Vt=yt.g,Vt=Vt.l||0>Vt.g||Vt.g>Vt.i),Vt)return!1;yt.l=yt.g.g;var Dt=yt.g.j();return Vt=Dt>>>3,Dt&=7,0<=Dt&&5>=Dt?(yt.i=Vt,yt.h=Dt,!0):(yt.j=!0,Ku(Dt,yt.l),!1)}function Sl(yt){switch(yt.h){case 0:if(yt.h!=0)Sl(yt);else e:{yt=yt.g;for(var Vt=yt.g,Dt=0;10>Dt;Dt++){if(!(yt.h[Vt]&128)){yt.g=Vt+1,js(yt);break e}Vt++}yt.l=!0,vp()}break;case 1:yt=yt.g,yt.g+=8,js(yt);break;case 2:yt.h!=2?Sl(yt):(Vt=yt.g.j(),yt=yt.g,yt.g+=Vt,js(yt));break;case 5:yt=yt.g,yt.g+=4,js(yt);break;case 3:Vt=yt.i;do{if(!$l(yt)){yt.j=!0,mu(Error("Unmatched start-group tag: stream EOF"));break}if(yt.h==4){yt.i!=Vt&&(yt.j=!0,mu(Error("Unmatched end-group tag")));break}Sl(yt)}while(1);break;default:yt.j=!0,Ku(yt.h,yt.l)}}function $u(yt,Vt,Dt){yt.N||(yt=Dl(yt.g.h,Dt,yt.g.g),(Dt=Vt.o)?Dt.push(yt):Vt.o=[yt])}function vu(yt,Vt,Dt){var mt=yt.g.i,Ot=yt.g.j(),Pt=yt.g.g+Ot;if(yt.g.i=Pt,Dt(Vt,yt),Dt=Pt-yt.g.g,Dt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(Ot+" bytes, instead read "+(Ot-Dt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return yt.g.g=Pt,yt.g.i=mt,Vt}function Ql(yt,Vt,Dt){var mt=yt.g.j();for(mt=yt.g.g+mt;yt.g.g<mt;)Dt.push(Vt.call(yt.g))}var yu=[];function zs(){this.h=[],this.i=0,this.g=new ru}function Rl(yt,Vt){Vt.length!==0&&(yt.h.push(Vt),yt.i+=Vt.length)}function Ks(yt,Vt,Dt){cs(yt.g,8*Vt+2),cs(yt.g,Dt.length),Rl(yt,yt.g.end()),Rl(yt,Dt)}var Es=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function _l(yt,Vt){Object.isFrozen(yt)||(Es?yt[Es]|=Vt:yt.g!==void 0?yt.g|=Vt:Object.defineProperties(yt,{g:{value:Vt,configurable:!0,writable:!0,enumerable:!1}}))}function gs(yt){if(!yt)return 0;var Vt;return Es?Vt=yt[Es]:Vt=yt.g,Vt??0}function ls(yt){return Array.isArray(yt)&&_l(yt,1),yt}function xu(yt){if(!Array.isArray(yt))throw Error("cannot mark non-array as immutable");_l(yt,2)}function Ms(yt){return yt!==null&&typeof yt=="object"&&yt.constructor===Object}function Xo(yt){switch(typeof yt){case"number":return isFinite(yt)?yt:String(yt);case"object":return Jl&&yt!=null&&yt instanceof Uint8Array?tp(yt):yt;default:return yt}}function Eo(yt,Vt){if(yt!=null)return Array.isArray(yt)||Ms(yt)?Cs(yt,Vt):Vt(yt)}function Cs(yt,Vt){if(Array.isArray(yt)){for(var Dt=Array(yt.length),mt=0;mt<yt.length;mt++)Dt[mt]=Eo(yt[mt],Vt);return gs(yt)&1&&ls(Dt),Dt}Dt={};for(mt in yt)Dt[mt]=Eo(yt[mt],Vt);return Dt}var Il;function vs(yt,Vt,Dt){var mt=Il;Il=null,yt||(yt=mt),mt=this.constructor.ba,yt||(yt=mt?[mt]:[]),this.j=(mt?0:-1)-(this.constructor.$||0),this.m=this.g=null,this.h=yt;e:{if(mt=this.h.length,yt=mt-1,mt&&(mt=this.h[yt],Ms(mt))){this.l=yt-this.j,this.i=mt;break e}Vt!==void 0&&-1<Vt?(this.l=Math.max(Vt,yt+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(Dt)for(Vt=0;Vt<Dt.length;Vt++)yt=Dt[Vt],yt<this.l?(yt+=this.j,(mt=this.h[yt])?ls(mt):this.h[yt]=Ts):(xr(this),(mt=this.i[yt])?ls(mt):this.i[yt]=Ts)}var Ts=Object.freeze(ls([]));function xr(yt){var Vt=yt.l+yt.j;yt.h[Vt]||(yt.i=yt.h[Vt]={})}function kr(yt,Vt,Dt){return Vt===-1?null:Dt!==void 0&&Dt||Vt>=yt.l?yt.i?yt.i[Vt]:void 0:yt.h[Vt+yt.j]}function Xr(yt,Vt,Dt){Dt=Dt===void 0?!0:Dt;var mt=mt===void 0?!1:mt,Ot=kr(yt,Vt,mt);return Ot==null&&(Ot=Ts),Ot===Ts?(Ot=ls([]),Oo(yt,Vt,Ot,mt)):Dt&&Array.isArray(Ot)&&gs(Ot)&2&&(Ot=Ot.slice(),Oo(yt,Vt,Ot,mt)),Ot}function us(yt){var Vt=Xr(yt,3,!1);if(yt.m||(yt.m={}),!yt.m[3]){for(var Dt=0;Dt<Vt.length;Dt++)Vt[Dt]=+Vt[Dt];yt.m[3]=!0}return Vt}function ks(yt,Vt,Dt){return yt=kr(yt,Vt),yt??Dt}function ws(yt,Vt,Dt){return yt=kr(yt,Vt),yt=yt==null?yt:+yt,yt??(Dt===void 0?0:Dt)}function Oo(yt,Vt,Dt,mt){mt!==void 0&&mt||Vt>=yt.l?(xr(yt),yt.i[Vt]=Dt):yt.h[Vt+yt.j]=Dt}function Ps(yt,Vt,Dt){if(Dt===-1)return null;yt.g||(yt.g={});var mt=yt.g[Dt];if(mt)return mt;var Ot=kr(yt,Dt,!1);return Ot==null?mt:(Vt=new Vt(Ot),yt.g[Dt]=Vt)}function Ll(yt,Vt,Dt){yt.g||(yt.g={});var mt=yt.g[Dt];if(!mt){var Ot=Xr(yt,Dt,!1);mt=[];for(var Pt=Array.isArray(Ot)?!!(gs(Ot)&2):!1,Ut=0;Ut<Ot.length;Ut++)mt[Ut]=new Vt(Ot[Ut]),Pt&&xu(mt[Ut].h);Pt&&(xu(mt),Object.freeze(mt)),yt.g[Dt]=mt}return mt}function iu(yt,Vt,Dt,mt,Ot){var Pt=Ll(yt,mt,Vt);Dt=Dt||new mt,yt=Xr(yt,Vt),Ot!=null?(Pt.splice(Ot,0,Dt),yt.splice(Ot,0,ou(Dt))):(Pt.push(Dt),yt.push(ou(Dt)))}vs.prototype.toJSON=function(){var yt=ou(this);return Cs(yt,Xo)};function ou(yt){if(yt.g)for(var Vt in yt.g){var Dt=yt.g[Vt];if(Array.isArray(Dt))for(var mt=0;mt<Dt.length;mt++)Dt[mt]&&ou(Dt[mt]);else Dt&&ou(Dt)}return yt.h}vs.prototype.toString=function(){return ou(this).toString()};function Ru(yt,Vt){if(yt=yt.o){Rl(Vt,Vt.g.end());for(var Dt=0;Dt<yt.length;Dt++)Rl(Vt,yt[Dt])}}function Pu(yt){var Vt=yt[0];switch(yt.length){case 2:var Dt=yt[1];return function(In,kn,zn){return Vt(In,kn,zn,Dt)};case 3:var mt=yt[1],Ot=yt[2];return function(In,kn,zn){return Vt(In,kn,zn,mt,Ot)};case 4:var Pt=yt[1],Ut=yt[2],fn=yt[3];return function(In,kn,zn){return Vt(In,kn,zn,Pt,Ut,fn)};default:throw Error("unsupported number of parameters, expected [2-4], got "+yt.length)}}function Ol(yt,Vt,Dt){for(;$l(Vt)&&Vt.h!=4;){var mt=Vt.i,Ot=Dt[mt];if(Ot){if(Array.isArray(Ot)&&(Ot=Dt[mt]=Pu(Ot)),!Ot(Vt,yt,mt)){mt=Vt,Ot=yt;var Pt=mt.l;Sl(mt),$u(mt,Ot,Pt)}}else mt=Vt,Ot=yt,Pt=mt.l,Sl(mt),$u(mt,Ot,Pt)}return yt}function su(yt,Vt){var Dt=new zs;if(Vt(yt,Dt),yt=Dt.i+Dt.g.length(),yt===0)Dt=new Uint8Array(0);else{yt=new Uint8Array(yt);for(var mt=Dt.h,Ot=mt.length,Pt=Vt=0;Pt<Ot;Pt++){var Ut=mt[Pt];Ut.length!==0&&(yt.set(Ut,Vt),Vt+=Ut.length)}mt=Dt.g,Ot=mt.h,Ot!==0&&(yt.set(mt.g.subarray(0,Ot),Vt),mt.h=0),Dt.h=[yt],Dt=yt}return Dt}function Hp(yt,Vt,Dt){if(yu.length){var mt=yu.pop();yt&&(yl(mt.g,yt),mt.i=-1,mt.h=-1),yt=mt}else yt=new zl(yt);try{return Dt(new Vt,yt)}finally{Vt=yt.g,Vt.h=null,Vt.m=0,Vt.i=0,Vt.g=0,Vt.l=!1,Vt.u=!1,yt.i=-1,yt.h=-1,yt.j=!1,100>yu.length&&yu.push(yt)}}function au(yt,Vt,Dt){if(Vt=kr(Vt,Dt),Vt!=null){cs(yt.g,8*Dt+5),yt=yt.g;var mt=Vt;mt=(Dt=0>mt?1:0)?-mt:mt,mt===0?0<1/mt?ds=Ys=0:(Ys=0,ds=2147483648):isNaN(mt)?(Ys=0,ds=2147483647):34028234663852886e22<mt?(Ys=0,ds=(Dt<<31|2139095040)>>>0):11754943508222875e-54>mt?(mt=Math.round(mt/Math.pow(2,-149)),Ys=0,ds=(Dt<<31|mt)>>>0):(Vt=Math.floor(Math.log(mt)/Math.LN2),mt*=Math.pow(2,-Vt),mt=Math.round(8388608*mt),16777216<=mt&&++Vt,Ys=0,ds=(Dt<<31|Vt+127<<23|mt&8388607)>>>0),Dt=ds,$s(yt,Dt>>>0&255),$s(yt,Dt>>>8&255),$s(yt,Dt>>>16&255),$s(yt,Dt>>>24&255)}}function Vl(yt,Vt,Dt){return yt.h!==5?!1:(Oo(Vt,Dt,yt.g.o()),!0)}function ju(yt,Vt,Dt){return yt.h!==5&&yt.h!==2?!1:(Vt=Xr(Vt,Dt),yt.h==2?Ql(yt,_o.prototype.o,Vt):Vt.push(yt.g.o()),!0)}function np(yt,Vt,Dt){return yt.h!==0?!1:(Oo(Vt,Dt,as(yt.g)),!0)}function Xl(yt,Vt,Dt){return yt.h!==0?!1:(Oo(Vt,Dt,yt.g.j()),!0)}function Op(yt,Vt,Dt){if(yt.h!==2)return!1;var mt=yt.g.j();yt=yt.g;var Ot=yt.g;yt.g+=mt,js(yt),yt=yt.h;var Pt;if(Tu)(Pt=Ep)||(Pt=Ep=new TextDecoder("utf-8",{fatal:!1})),Pt=Pt.decode(yt.subarray(Ot,Ot+mt));else{mt=Ot+mt;for(var Ut=[],fn=null,In,kn,zn;Ot<mt;)In=yt[Ot++],128>In?Ut.push(In):224>In?Ot>=mt?Ut.push(65533):(kn=yt[Ot++],194>In||(kn&192)!==128?(Ot--,Ut.push(65533)):Ut.push((In&31)<<6|kn&63)):240>In?Ot>=mt-1?Ut.push(65533):(kn=yt[Ot++],(kn&192)!==128||In===224&&160>kn||In===237&&160<=kn||((Pt=yt[Ot++])&192)!==128?(Ot--,Ut.push(65533)):Ut.push((In&15)<<12|(kn&63)<<6|Pt&63)):244>=In?Ot>=mt-2?Ut.push(65533):(kn=yt[Ot++],(kn&192)!==128||(In<<28)+(kn-144)>>30||((Pt=yt[Ot++])&192)!==128||((zn=yt[Ot++])&192)!==128?(Ot--,Ut.push(65533)):(In=(In&7)<<18|(kn&63)<<12|(Pt&63)<<6|zn&63,In-=65536,Ut.push((In>>10&1023)+55296,(In&1023)+56320))):Ut.push(65533),8192<=Ut.length&&(fn=ep(fn,Ut),Ut.length=0);Pt=ep(fn,Ut)}return Oo(Vt,Dt,Pt),!0}function cu(yt,Vt,Dt,mt,Ot){if(yt.h!==2)return!1;yt=vu(yt,new mt,Ot);var Pt=Pt===void 0?!1:Pt;return Vt.g||(Vt.g={}),mt=yt&&ou(yt),Vt.g[Dt]=yt,Oo(Vt,Dt,mt,Pt),!0}function Uu(yt,Vt,Dt,mt,Ot){return yt.h!==2?!1:(yt=vu(yt,new mt,Ot),iu(Vt,Dt,yt,mt,void 0),!0)}function lp(yt,Vt,Dt){return yt.h!==0&&yt.h!==2?!1:(Vt=Xr(Vt,Dt),yt.h==2?Ql(yt,_o.prototype.j,Vt):Vt.push(yt.g.j()),!0)}function Pp(yt,Vt,Dt){return yt.h!==0?!1:(Oo(Vt,Dt,as(yt.g)),!0)}function bu(yt){vs.call(this,yt,-1,em)}var up;Br(bu,vs),bu.prototype.getRows=function(){return kr(this,1)},bu.prototype.getCols=function(){return kr(this,2)},bu.prototype.getPackedDataList=function(){return us(this)},bu.prototype.getLayout=function(){return ks(this,4,0)};function _h(yt,Vt){return Ol(yt,Vt,up||(up={1:Xl,2:Xl,3:ju,4:Pp}))}var em=[3];function dp(yt){vs.call(this,yt)}var bp;Br(dp,vs);function jt(yt,Vt){var Dt=kr(yt,1);if(Dt!=null&&Dt!=null){cs(Vt.g,8);var mt=Vt.g;if(0<=Dt)cs(mt,Dt);else{for(var Ot=0;9>Ot;Ot++)$s(mt,Dt&127|128),Dt>>=7;$s(mt,1)}}au(Vt,yt,2),mt=kr(yt,3),mt!=null&&Ks(Vt,3,yp(mt)),mt=kr(yt,4),mt!=null&&Ks(Vt,4,yp(mt)),Ru(yt,Vt)}function nn(yt,Vt){return Ol(yt,Vt,bp||(bp={1:Xl,2:Vl,3:Op,4:Op}))}function sn(yt){vs.call(this,yt,-1,Mr)}var Hn;Br(sn,vs),sn.prototype.addClassification=function(yt,Vt){return iu(this,1,yt,dp,Vt),this};function fr(yt,Vt){return Ol(yt,Vt,Hn||(Hn={1:[Uu,dp,nn]}))}var Mr=[1];function dr(yt){vs.call(this,yt)}var Or;Br(dr,vs);function Qr(yt,Vt){au(Vt,yt,1),au(Vt,yt,2),au(Vt,yt,3),au(Vt,yt,4),au(Vt,yt,5),Ru(yt,Vt)}function xo(yt,Vt){return Ol(yt,Vt,Or||(Or={1:Vl,2:Vl,3:Vl,4:Vl,5:Vl}))}function $o(yt){vs.call(this,yt,-1,Yo)}var Uo;Br($o,vs);function ms(yt,Vt){return Ol(yt,Vt,Uo||(Uo={1:[Uu,dr,xo]}))}var Yo=[1];function Lo(yt){vs.call(this,yt)}var Jo;Br(Lo,vs);function fs(yt,Vt){au(Vt,yt,1),au(Vt,yt,2),au(Vt,yt,3),au(Vt,yt,4),au(Vt,yt,5);var Dt=kr(yt,6);if(Dt!=null&&Dt!=null){cs(Vt.g,48);var mt=Vt.g,Ot=Dt;Dt=0>Ot,Ot=Math.abs(Ot);var Pt=Ot>>>0;for(Ot=Math.floor((Ot-Pt)/4294967296),Ot>>>=0,Dt&&(Ot=~Ot>>>0,Pt=(~Pt>>>0)+1,4294967295<Pt&&(Pt=0,Ot++,4294967295<Ot&&(Ot=0))),ds=Pt,Ys=Ot,Dt=ds,Pt=Ys;0<Pt||127<Dt;)$s(mt,Dt&127|128),Dt=(Dt>>>7|Pt<<25)>>>0,Pt>>>=7;$s(mt,Dt)}Ru(yt,Vt)}function Os(yt,Vt){return Ol(yt,Vt,Jo||(Jo={1:Vl,2:Vl,3:Vl,4:Vl,5:Vl,6:np}))}function Ws(yt){vs.call(this,yt,-1,Ft)}var Us;Br(Ws,vs),Ws.prototype.getVertexType=function(){return ks(this,1,0)},Ws.prototype.getPrimitiveType=function(){return ks(this,2,0)},Ws.prototype.getVertexBufferList=function(){return us(this)},Ws.prototype.getIndexBufferList=function(){return Xr(this,4)};function Zl(yt,Vt){return Ol(yt,Vt,Us||(Us={1:Pp,2:Pp,3:ju,4:lp}))}var Ft=[3,4];function Bt(yt){vs.call(this,yt)}var Jt;Br(Bt,vs),Bt.prototype.getMesh=function(){return Ps(this,Ws,1)},Bt.prototype.getPoseTransformMatrix=function(){return Ps(this,bu,2)};function Ln(yt,Vt){return Ol(yt,Vt,Jt||(Jt={1:[cu,Ws,Zl],2:[cu,bu,_h]}))}var $n=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],hr=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],qn=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Cr=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Fr=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],wt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Qt=[].concat(Mn($n),Mn(hr),Mn(qn),Mn(Cr),Mn(Fr),Mn(wt));function an(yt,Vt,Dt){if(Dt=yt.createShader(Dt===0?yt.VERTEX_SHADER:yt.FRAGMENT_SHADER),yt.shaderSource(Dt,Vt),yt.compileShader(Dt),!yt.getShaderParameter(Dt,yt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+yt.getShaderInfoLog(Dt));return Dt}function Cn(yt){return Ll(yt,dp,1).map(function(Vt){return{index:ks(Vt,1,0),score:ws(Vt,2),label:kr(Vt,3)!=null?ks(Vt,3,""):void 0,displayName:kr(Vt,4)!=null?ks(Vt,4,""):void 0}})}function Xn(yt){return{x:ws(yt,1),y:ws(yt,2),z:ws(yt,3),visibility:kr(yt,4)!=null?ws(yt,4):void 0}}function tr(yt){return Ll(Hp(yt,$o,ms),dr,1).map(Xn)}function Kn(yt,Vt){this.h=yt,this.g=Vt,this.l=0}function Rr(yt,Vt,Dt){return Er(yt,Vt),typeof yt.g.canvas.transferToImageBitmap=="function"?nt.resolve(yt.g.canvas.transferToImageBitmap()):Dt?nt.resolve(yt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(yt.g.canvas):(yt.i===void 0&&(yt.i=document.createElement("canvas")),new nt(function(mt){yt.i.height=yt.g.canvas.height,yt.i.width=yt.g.canvas.width,yt.i.getContext("2d",{}).drawImage(yt.g.canvas,0,0,yt.g.canvas.width,yt.g.canvas.height),mt(yt.i)}))}function Er(yt,Vt){var Dt=yt.g;if(yt.m===void 0){var mt=an(Dt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Ot=an(Dt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Pt=Dt.createProgram();if(Dt.attachShader(Pt,mt),Dt.attachShader(Pt,Ot),Dt.linkProgram(Pt),!Dt.getProgramParameter(Pt,Dt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Dt.getProgramInfoLog(Pt));mt=yt.m=Pt,Dt.useProgram(mt),Ot=Dt.getUniformLocation(mt,"sampler0"),yt.j={I:Dt.getAttribLocation(mt,"aVertex"),H:Dt.getAttribLocation(mt,"aTex"),ca:Ot},yt.s=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,yt.s),Dt.enableVertexAttribArray(yt.j.I),Dt.vertexAttribPointer(yt.j.I,2,Dt.FLOAT,!1,0,0),Dt.bufferData(Dt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Dt.STATIC_DRAW),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),yt.o=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,yt.o),Dt.enableVertexAttribArray(yt.j.H),Dt.vertexAttribPointer(yt.j.H,2,Dt.FLOAT,!1,0,0),Dt.bufferData(Dt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Dt.STATIC_DRAW),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),Dt.uniform1i(Ot,0)}mt=yt.j,Dt.useProgram(yt.m),Dt.canvas.width=Vt.width,Dt.canvas.height=Vt.height,Dt.viewport(0,0,Vt.width,Vt.height),Dt.activeTexture(Dt.TEXTURE0),yt.h.bindTexture2d(Vt.glName),Dt.enableVertexAttribArray(mt.I),Dt.bindBuffer(Dt.ARRAY_BUFFER,yt.s),Dt.vertexAttribPointer(mt.I,2,Dt.FLOAT,!1,0,0),Dt.enableVertexAttribArray(mt.H),Dt.bindBuffer(Dt.ARRAY_BUFFER,yt.o),Dt.vertexAttribPointer(mt.H,2,Dt.FLOAT,!1,0,0),Dt.bindFramebuffer(Dt.DRAW_FRAMEBUFFER?Dt.DRAW_FRAMEBUFFER:Dt.FRAMEBUFFER,null),Dt.clearColor(0,0,0,0),Dt.clear(Dt.COLOR_BUFFER_BIT),Dt.colorMask(!0,!0,!0,!0),Dt.drawArrays(Dt.TRIANGLE_FAN,0,4),Dt.disableVertexAttribArray(mt.I),Dt.disableVertexAttribArray(mt.H),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),yt.h.bindTexture2d(0)}function _i(yt){this.g=yt}var ho=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Qo(yt,Vt){return Vt+yt}function Ro(yt,Vt){window[yt]=Vt}function zr(yt){var Vt=document.createElement("script");return Vt.setAttribute("src",yt),Vt.setAttribute("crossorigin","anonymous"),new nt(function(Dt){Vt.addEventListener("load",function(){Dt()},!1),Vt.addEventListener("error",function(){Dt()},!1),document.body.appendChild(Vt)})}function yo(){return io(function(yt){switch(yt.g){case 1:return yt.m=2,pr(yt,WebAssembly.instantiate(ho),4);case 4:yt.g=3,yt.m=0;break;case 2:return yt.m=0,yt.j=null,yt.return(!1);case 3:return yt.return(!0)}})}function wo(yt){if(this.g=yt,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=yt&&yt.locateFile||Qo,typeof window=="object")var Vt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Vt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Vt,yt.options){Vt=Tn(Object.keys(yt.options));for(var Dt=Vt.next();!Dt.done;Dt=Vt.next()){Dt=Dt.value;var mt=yt.options[Dt].default;mt!==void 0&&(this.j[Dt]=typeof mt=="function"?mt():mt)}}}Et=wo.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Po(yt){var Vt,Dt,mt,Ot,Pt,Ut,fn,In,kn,zn,ar;return io(function(mr){switch(mr.g){case 1:return yt.R?(Vt=yt.g.files===void 0?[]:typeof yt.g.files=="function"?yt.g.files(yt.j):yt.g.files,pr(mr,yo(),2)):mr.return();case 2:if(Dt=mr.h,typeof window=="object")return Ro("createMediapipeSolutionsWasm",{locateFile:yt.locateFile}),Ro("createMediapipeSolutionsPackedAssets",{locateFile:yt.locateFile}),Ut=Vt.filter(function(gr){return gr.data!==void 0}),fn=Vt.filter(function(gr){return gr.data===void 0}),In=nt.all(Ut.map(function(gr){var Pr=Kt(yt,gr.url);if(gr.path!==void 0){var Kr=gr.path;Pr=Pr.then(function(Jr){return yt.overrideFile(Kr,Jr),nt.resolve(Jr)})}return Pr})),kn=nt.all(fn.map(function(gr){return gr.simd===void 0||gr.simd&&Dt||!gr.simd&&!Dt?zr(yt.locateFile(gr.url,yt.S)):nt.resolve()})).then(function(){var gr,Pr,Kr;return io(function(Jr){if(Jr.g==1)return gr=window.createMediapipeSolutionsWasm,Pr=window.createMediapipeSolutionsPackedAssets,Kr=yt,pr(Jr,gr(Pr),2);Kr.h=Jr.h,Jr.g=0})}),zn=function(){return io(function(gr){return yt.g.graph&&yt.g.graph.url?gr=pr(gr,Kt(yt,yt.g.graph.url),0):(gr.g=0,gr=void 0),gr})}(),pr(mr,nt.all([kn,In,zn]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return mt=Vt.filter(function(gr){return gr.simd===void 0||gr.simd&&Dt||!gr.simd&&!Dt}).map(function(gr){return yt.locateFile(gr.url,yt.S)}),importScripts.apply(null,Mn(mt)),Ot=yt,pr(mr,createMediapipeSolutionsWasm(Module),6);case 6:Ot.h=mr.h,yt.l=new OffscreenCanvas(1,1),yt.h.canvas=yt.l,Pt=yt.h.GL.createContext(yt.l,{antialias:!1,alpha:!1,aa:typeof WebGL2RenderingContext<"u"?2:1}),yt.h.GL.makeContextCurrent(Pt),mr.g=4;break;case 7:if(yt.l=document.createElement("canvas"),ar=yt.l.getContext("webgl2",{}),!ar&&(ar=yt.l.getContext("webgl",{}),!ar))return alert("Failed to create WebGL canvas context when passing video frame."),mr.return();yt.D=ar,yt.h.canvas=yt.l,yt.h.createContext(yt.l,!0,!0,{});case 4:yt.i=new yt.h.SolutionWasm,yt.R=!1,mr.g=0}})}function Fo(yt){var Vt,Dt,mt,Ot,Pt,Ut,fn,In;return io(function(kn){if(kn.g==1){if(yt.g.graph&&yt.g.graph.url&&yt.P===yt.g.graph.url)return kn.return();if(yt.o=!0,!yt.g.graph||!yt.g.graph.url){kn.g=2;return}return yt.P=yt.g.graph.url,pr(kn,Kt(yt,yt.g.graph.url),3)}for(kn.g!=2&&(Vt=kn.h,yt.i.loadGraph(Vt)),Dt=Tn(Object.keys(yt.B)),mt=Dt.next();!mt.done;mt=Dt.next())Ot=mt.value,yt.i.overrideFile(Ot,yt.B[Ot]);if(yt.B={},yt.g.listeners)for(Pt=Tn(yt.g.listeners),Ut=Pt.next();!Ut.done;Ut=Pt.next())fn=Ut.value,jn(yt,fn);In=yt.j,yt.j={},yt.setOptions(In),kn.g=0})}Et.reset=function(){var yt=this;return io(function(Vt){yt.i&&(yt.i.reset(),yt.m={},yt.s={}),Vt.g=0})},Et.setOptions=function(yt,Vt){var Dt=this;if(Vt=Vt||this.g.options){for(var mt=[],Ot=[],Pt={},Ut=Tn(Object.keys(yt)),fn=Ut.next();!fn.done;Pt={K:Pt.K,L:Pt.L},fn=Ut.next()){var In=fn.value;In in this.j&&this.j[In]===yt[In]||(this.j[In]=yt[In],fn=Vt[In],fn!==void 0&&(fn.onChange&&(Pt.K=fn.onChange,Pt.L=yt[In],mt.push(function(kn){return function(){var zn;return io(function(ar){if(ar.g==1)return pr(ar,kn.K(kn.L),2);zn=ar.h,zn===!0&&(Dt.o=!0),ar.g=0})}}(Pt))),fn.graphOptionXref&&(In={valueNumber:fn.type===1?yt[In]:0,valueBoolean:fn.type===0?yt[In]:!1,valueString:fn.type===2?yt[In]:""},fn=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),fn.graphOptionXref),In),Ot.push(fn))))}(mt.length!==0||Ot.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(Ot),this.v=(this.v===void 0?[]:this.v).concat(mt))}};function At(yt){var Vt,Dt,mt,Ot,Pt,Ut,fn;return io(function(In){switch(In.g){case 1:if(!yt.o)return In.return();if(!yt.v){In.g=2;break}Vt=Tn(yt.v),Dt=Vt.next();case 3:if(Dt.done){In.g=5;break}return mt=Dt.value,pr(In,mt(),4);case 4:Dt=Vt.next(),In.g=3;break;case 5:yt.v=void 0;case 2:if(yt.A){for(Ot=new yt.h.GraphOptionChangeRequestList,Pt=Tn(yt.A),Ut=Pt.next();!Ut.done;Ut=Pt.next())fn=Ut.value,Ot.push_back(fn);yt.i.changeOptions(Ot),Ot.delete(),yt.A=void 0}yt.o=!1,In.g=0}})}Et.initialize=function(){var yt=this;return io(function(Vt){return Vt.g==1?pr(Vt,Po(yt),2):Vt.g!=3?pr(Vt,Fo(yt),3):pr(Vt,At(yt),0)})};function Kt(yt,Vt){var Dt,mt;return io(function(Ot){return Vt in yt.F?Ot.return(yt.F[Vt]):(Dt=yt.locateFile(Vt,""),mt=fetch(Dt).then(function(Pt){return Pt.arrayBuffer()}),yt.F[Vt]=mt,Ot.return(mt))})}Et.overrideFile=function(yt,Vt){this.i?this.i.overrideFile(yt,Vt):this.B[yt]=Vt},Et.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(yt,Vt){var Dt=this,mt,Ot,Pt,Ut,fn,In,kn,zn,ar;return io(function(mr){switch(mr.g){case 1:return Dt.g.inputs?(mt=1e3*(Vt??performance.now()),pr(mr,Dt.C,2)):mr.return();case 2:return pr(mr,Dt.initialize(),3);case 3:for(Ot=new Dt.h.PacketDataList,Pt=Tn(Object.keys(yt)),Ut=Pt.next();!Ut.done;Ut=Pt.next())if(fn=Ut.value,In=Dt.g.inputs[fn]){e:{var gr=yt[fn];switch(In.type){case"video":var Pr=Dt.m[In.stream];if(Pr||(Pr=new Kn(Dt.h,Dt.D),Dt.m[In.stream]=Pr),Pr.l===0&&(Pr.l=Pr.h.createTexture()),typeof HTMLVideoElement<"u"&&gr instanceof HTMLVideoElement)var Kr=gr.videoWidth,Jr=gr.videoHeight;else typeof HTMLImageElement<"u"&&gr instanceof HTMLImageElement?(Kr=gr.naturalWidth,Jr=gr.naturalHeight):(Kr=gr.width,Jr=gr.height);Jr={glName:Pr.l,width:Kr,height:Jr},Kr=Pr.g,Kr.canvas.width=Jr.width,Kr.canvas.height=Jr.height,Kr.activeTexture(Kr.TEXTURE0),Pr.h.bindTexture2d(Pr.l),Kr.texImage2D(Kr.TEXTURE_2D,0,Kr.RGBA,Kr.RGBA,Kr.UNSIGNED_BYTE,gr),Pr.h.bindTexture2d(0),Pr=Jr;break e;case"detections":for(Pr=Dt.m[In.stream],Pr||(Pr=new _i(Dt.h),Dt.m[In.stream]=Pr),Pr.data||(Pr.data=new Pr.g.DetectionListData),Pr.data.reset(gr.length),Jr=0;Jr<gr.length;++Jr){Kr=gr[Jr];var lo=Pr.data,ao=lo.setBoundingBox,rs=Jr,xs=Kr.T,Rs=new Lo;if(Oo(Rs,1,xs.X),Oo(Rs,2,xs.Y),Oo(Rs,3,xs.height),Oo(Rs,4,xs.width),Oo(Rs,5,xs.rotation),Oo(Rs,6,xs.W),xs=su(Rs,fs),ao.call(lo,rs,xs),Kr.O)for(lo=0;lo<Kr.O.length;++lo){Rs=Kr.O[lo];var Ml=!!Rs.visibility;ao=Pr.data,rs=ao.addNormalizedLandmark,xs=Jr,Rs=Object.assign(Object.assign({},Rs),{visibility:Ml?Rs.visibility:0}),Ml=new dr,Oo(Ml,1,Rs.x),Oo(Ml,2,Rs.y),Oo(Ml,3,Rs.z),Rs.visibility&&Oo(Ml,4,Rs.visibility),Rs=su(Ml,Qr),rs.call(ao,xs,Rs)}if(Kr.M)for(lo=0;lo<Kr.M.length;++lo)ao=Pr.data,rs=ao.addClassification,xs=Jr,Rs=Kr.M[lo],Ml=new dp,Oo(Ml,2,Rs.score),Rs.index&&Oo(Ml,1,Rs.index),Rs.label&&Oo(Ml,3,Rs.label),Rs.displayName&&Oo(Ml,4,Rs.displayName),Rs=su(Ml,jt),rs.call(ao,xs,Rs)}Pr=Pr.data;break e;default:Pr={}}}switch(kn=Pr,zn=In.stream,In.type){case"video":Ot.pushTexture2d(Object.assign(Object.assign({},kn),{stream:zn,timestamp:mt}));break;case"detections":ar=kn,ar.stream=zn,ar.timestamp=mt,Ot.pushDetectionList(ar);break;default:throw Error("Unknown input config type: '"+In.type+"'")}}return Dt.i.send(Ot),pr(mr,Dt.C,4);case 4:Ot.delete(),mr.g=0}})};function cn(yt,Vt,Dt){var mt,Ot,Pt,Ut,fn,In,kn,zn,ar,mr,gr,Pr,Kr,Jr;return io(function(lo){switch(lo.g){case 1:if(!Dt)return lo.return(Vt);for(mt={},Ot=0,Pt=Tn(Object.keys(Dt)),Ut=Pt.next();!Ut.done;Ut=Pt.next())fn=Ut.value,In=Dt[fn],typeof In!="string"&&In.type==="texture"&&Vt[In.stream]!==void 0&&++Ot;1<Ot&&(yt.G=!1),kn=Tn(Object.keys(Dt)),Ut=kn.next();case 2:if(Ut.done){lo.g=4;break}if(zn=Ut.value,ar=Dt[zn],typeof ar=="string")return Kr=mt,Jr=zn,pr(lo,bn(yt,zn,Vt[ar]),14);if(mr=Vt[ar.stream],ar.type==="detection_list"){if(mr){for(var ao=mr.getRectList(),rs=mr.getLandmarksList(),xs=mr.getClassificationsList(),Rs=[],Ml=0;Ml<ao.size();++Ml){var Qu=Hp(ao.get(Ml),Lo,Os);Qu={T:{X:ws(Qu,1),Y:ws(Qu,2),height:ws(Qu,3),width:ws(Qu,4),rotation:ws(Qu,5,0),W:ks(Qu,6,0)},O:tr(rs.get(Ml)),M:Cn(Hp(xs.get(Ml),sn,fr))},Rs.push(Qu)}ao=Rs}else ao=[];mt[zn]=ao,lo.g=7;break}if(ar.type==="proto_list"){if(mr){for(ao=Array(mr.size()),rs=0;rs<mr.size();rs++)ao[rs]=mr.get(rs);mr.delete()}else ao=[];mt[zn]=ao,lo.g=7;break}if(mr===void 0){lo.g=3;break}if(ar.type==="float_list"){mt[zn]=mr,lo.g=7;break}if(ar.type==="proto"){mt[zn]=mr,lo.g=7;break}if(ar.type!=="texture")throw Error("Unknown output config type: '"+ar.type+"'");return gr=yt.s[zn],gr||(gr=new Kn(yt.h,yt.D),yt.s[zn]=gr),pr(lo,Rr(gr,mr,yt.G),13);case 13:Pr=lo.h,mt[zn]=Pr;case 7:ar.transform&&mt[zn]&&(mt[zn]=ar.transform(mt[zn])),lo.g=3;break;case 14:Kr[Jr]=lo.h;case 3:Ut=kn.next(),lo.g=2;break;case 4:return lo.return(mt)}})}function bn(yt,Vt,Dt){var mt;return io(function(Ot){return typeof Dt=="number"||Dt instanceof Uint8Array||Dt instanceof yt.h.Uint8BlobList?Ot.return(Dt):Dt instanceof yt.h.Texture2dDataOut?(mt=yt.s[Vt],mt||(mt=new Kn(yt.h,yt.D),yt.s[Vt]=mt),Ot.return(Rr(mt,Dt,yt.G))):Ot.return(void 0)})}function jn(yt,Vt){for(var Dt=Vt.name||"$",mt=[].concat(Mn(Vt.wants)),Ot=new yt.h.StringList,Pt=Tn(Vt.wants),Ut=Pt.next();!Ut.done;Ut=Pt.next())Ot.push_back(Ut.value);Pt=yt.h.PacketListener.implement({onResults:function(fn){for(var In={},kn=0;kn<Vt.wants.length;++kn)In[mt[kn]]=fn.get(kn);var zn=yt.listeners[Dt];zn&&(yt.C=cn(yt,In,Vt.outs).then(function(ar){ar=zn(ar);for(var mr=0;mr<Vt.wants.length;++mr){var gr=In[mt[mr]];typeof gr=="object"&&gr.hasOwnProperty&&gr.hasOwnProperty("delete")&&gr.delete()}ar&&(yt.C=ar)}))}}),yt.i.attachMultiListener(Ot,Pt),Ot.delete()}Et.onResults=function(yt,Vt){this.listeners[Vt||"$"]=yt},jo("Solution",wo),jo("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Rt(yt){return yt.map(Gt)}function Gt(yt){yt=Hp(yt,Bt,Ln);var Vt=yt.getMesh();if(!Vt)return yt;var Dt=new Float32Array(Vt.getVertexBufferList());Vt.getVertexBufferList=function(){return Dt};var mt=new Uint32Array(Vt.getIndexBufferList());return Vt.getIndexBufferList=function(){return mt},yt}function Yt(yt){var Vt=this;yt=yt||{},this.g=new wo({locateFile:yt.locateFile,files:[{url:"holistic_solution_packed_assets_loader.js"},{simd:!1,url:"holistic_solution_wasm_bin.js"},{simd:!0,url:"holistic_solution_simd_wasm_bin.js"}],graph:{url:"holistic.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:"left_hand_landmarks right_hand_landmarks face_landmarks pose_landmarks world_landmarks segmentation_mask image_transformed multi_face_geometry".split(" "),outs:{image:{type:"texture",stream:"image_transformed"},leftHandLandmarks:{type:"proto",stream:"left_hand_landmarks",transform:tr},rightHandLandmarks:{type:"proto",stream:"right_hand_landmarks",transform:tr},faceLandmarks:{type:"proto",stream:"face_landmarks",transform:tr},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:tr},ea:{type:"proto",stream:"world_landmarks",transform:tr},segmentationMask:{type:"texture",stream:"segmentation_mask"},multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:Rt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,default:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(Dt){var mt,Ot,Pt,Ut;return io(function(fn){if(fn.g==1){switch(mt="",Dt){case 1:mt="pose_landmark_full.tflite";break;case 2:mt="pose_landmark_heavy.tflite";break;default:mt="pose_landmark_lite.tflite"}return Ot="third_party/mediapipe/modules/pose_landmark/"+mt,Pt=Vt.g.locateFile(mt,""),pr(fn,fetch(Pt),3)}return fn.g!=2?pr(fn,fn.h.arrayBuffer(),2):(Ut=fn.h,Vt.g.overrideFile(Ot,Ut),pr(fn,Vt.g.reset(),0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},refineFaceLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineFaceLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}})}Et=Yt.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(yt){this.g.onResults(yt)},Et.initialize=function(){var yt=this;return io(function(Vt){return pr(Vt,yt.g.initialize(),0)})},Et.reset=function(){this.g.reset()},Et.send=function(yt){var Vt=this;return io(function(Dt){return pr(Dt,Vt.g.send(yt),0)})},Et.setOptions=function(yt){this.g.setOptions(yt)},jo("Holistic",Yt),jo("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),jo("FACEMESH_LIPS",$n),jo("FACEMESH_LEFT_EYE",hr),jo("FACEMESH_LEFT_EYEBROW",qn),jo("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),jo("FACEMESH_RIGHT_EYE",Cr),jo("FACEMESH_RIGHT_EYEBROW",Fr),jo("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),jo("FACEMESH_FACE_OVAL",wt),jo("FACEMESH_CONTOURS",Qt),jo("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),jo("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),jo("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),jo("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),jo("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),jo("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),jo("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),jo("matrixDataToMatrix",function(yt){for(var Vt=yt.getCols(),Dt=yt.getRows(),mt=yt.getPackedDataList(),Ot=[],Pt=0;Pt<Dt;Pt++)Ot.push(Array(Vt));for(Pt=0;Pt<Dt;Pt++)for(var Ut=0;Ut<Vt;Ut++){var fn=yt.getLayout()===1?Pt*Vt+Ut:Ut*Dt+Pt;Ot[Pt][Ut]=mt[fn]}return Ot}),jo("VERSION","0.5.1635989137")}).call(cp);const Rp={};(function(){var Et;function St(Rt){var Gt=0;return function(){return Gt<Rt.length?{done:!1,value:Rt[Gt++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(Rt,Gt,Yt){return Rt==Array.prototype||Rt==Object.prototype||(Rt[Gt]=Yt.value),Rt};function Xt(Rt){Rt=[typeof globalThis=="object"&&globalThis,Rt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Gt=0;Gt<Rt.length;++Gt){var Yt=Rt[Gt];if(Yt&&Yt.Math==Math)return Yt}throw Error("Cannot find global object")}var zt=Xt(this);function vn(Rt,Gt){if(Gt)e:{var Yt=zt;Rt=Rt.split(".");for(var yt=0;yt<Rt.length-1;yt++){var Vt=Rt[yt];if(!(Vt in Yt))break e;Yt=Yt[Vt]}Rt=Rt[Rt.length-1],yt=Yt[Rt],Gt=Gt(yt),Gt!=yt&&Gt!=null&&xt(Yt,Rt,{configurable:!0,writable:!0,value:Gt})}}vn("Symbol",function(Rt){function Gt(Dt){if(this instanceof Gt)throw new TypeError("Symbol is not a constructor");return new Yt(yt+(Dt||"")+"_"+Vt++,Dt)}function Yt(Dt,mt){this.g=Dt,xt(this,"description",{configurable:!0,writable:!0,value:mt})}if(Rt)return Rt;Yt.prototype.toString=function(){return this.g};var yt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Vt=0;return Gt}),vn("Symbol.iterator",function(Rt){if(Rt)return Rt;Rt=Symbol("Symbol.iterator");for(var Gt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Yt=0;Yt<Gt.length;Yt++){var yt=zt[Gt[Yt]];typeof yt=="function"&&typeof yt.prototype[Rt]!="function"&&xt(yt.prototype,Rt,{configurable:!0,writable:!0,value:function(){return On(St(this))}})}return Rt});function On(Rt){return Rt={next:Rt},Rt[Symbol.iterator]=function(){return this},Rt}function Tn(Rt){var Gt=typeof Symbol<"u"&&Symbol.iterator&&Rt[Symbol.iterator];return Gt?Gt.call(Rt):{next:St(Rt)}}function Mn(Rt){if(!(Rt instanceof Array)){Rt=Tn(Rt);for(var Gt,Yt=[];!(Gt=Rt.next()).done;)Yt.push(Gt.value);Rt=Yt}return Rt}var br=typeof Object.create=="function"?Object.create:function(Rt){function Gt(){}return Gt.prototype=Rt,new Gt},Nr;if(typeof Object.setPrototypeOf=="function")Nr=Object.setPrototypeOf;else{var Wr;e:{var Ao={a:!0},Mo={};try{Mo.__proto__=Ao,Wr=Mo.a;break e}catch{}Wr=!1}Nr=Wr?function(Rt,Gt){if(Rt.__proto__=Gt,Rt.__proto__!==Gt)throw new TypeError(Rt+" is not extensible");return Rt}:null}var Dr=Nr;function Br(Rt,Gt){if(Rt.prototype=br(Gt.prototype),Rt.prototype.constructor=Rt,Dr)Dr(Rt,Gt);else for(var Yt in Gt)if(Yt!="prototype")if(Object.defineProperties){var yt=Object.getOwnPropertyDescriptor(Gt,Yt);yt&&Object.defineProperty(Rt,Yt,yt)}else Rt[Yt]=Gt[Yt];Rt.na=Gt.prototype}function Ko(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function Bo(Rt){if(Rt.l)throw new TypeError("Generator is already running");Rt.l=!0}Ko.prototype.s=function(Rt){this.h=Rt};function ys(Rt,Gt){Rt.j={da:Gt,ea:!0},Rt.g=Rt.o||Rt.u}Ko.prototype.return=function(Rt){this.j={return:Rt},this.g=this.u};function pr(Rt,Gt,Yt){return Rt.g=Yt,{value:Gt}}function Zu(Rt){this.g=new Ko,this.h=Rt}function Cu(Rt,Gt){Bo(Rt.g);var Yt=Rt.g.i;return Yt?xa(Rt,"return"in Yt?Yt.return:function(yt){return{value:yt,done:!0}},Gt,Rt.g.return):(Rt.g.return(Gt),hs(Rt))}function xa(Rt,Gt,Yt,yt){try{var Vt=Gt.call(Rt.g.i,Yt);if(!(Vt instanceof Object))throw new TypeError("Iterator result "+Vt+" is not an object");if(!Vt.done)return Rt.g.l=!1,Vt;var Dt=Vt.value}catch(mt){return Rt.g.i=null,ys(Rt.g,mt),hs(Rt)}return Rt.g.i=null,yt.call(Rt.g,Dt),hs(Rt)}function hs(Rt){for(;Rt.g.g;)try{var Gt=Rt.h(Rt.g);if(Gt)return Rt.g.l=!1,{value:Gt.value,done:!1}}catch(Yt){Rt.g.h=void 0,ys(Rt.g,Yt)}if(Rt.g.l=!1,Rt.g.j){if(Gt=Rt.g.j,Rt.g.j=null,Gt.ea)throw Gt.da;return{value:Gt.return,done:!0}}return{value:void 0,done:!0}}function jp(Rt){this.next=function(Gt){return Bo(Rt.g),Rt.g.i?Gt=xa(Rt,Rt.g.i.next,Gt,Rt.g.s):(Rt.g.s(Gt),Gt=hs(Rt)),Gt},this.throw=function(Gt){return Bo(Rt.g),Rt.g.i?Gt=xa(Rt,Rt.g.i.throw,Gt,Rt.g.s):(ys(Rt.g,Gt),Gt=hs(Rt)),Gt},this.return=function(Gt){return Cu(Rt,Gt)},this[Symbol.iterator]=function(){return this}}function Ls(Rt){function Gt(yt){return Rt.next(yt)}function Yt(yt){return Rt.throw(yt)}return new nt(function(yt,Vt){function Dt(mt){mt.done?yt(mt.value):nt.resolve(mt.value).then(Gt,Yt).then(Dt,Vt)}Dt(Rt.next())})}function io(Rt){return Ls(new jp(new Zu(Rt)))}vn("Promise",function(Rt){function Gt(mt){this.h=0,this.i=void 0,this.g=[],this.s=!1;var Ot=this.j();try{mt(Ot.resolve,Ot.reject)}catch(Pt){Ot.reject(Pt)}}function Yt(){this.g=null}function yt(mt){return mt instanceof Gt?mt:new Gt(function(Ot){Ot(mt)})}if(Rt)return Rt;Yt.prototype.h=function(mt){if(this.g==null){this.g=[];var Ot=this;this.i(function(){Ot.l()})}this.g.push(mt)};var Vt=zt.setTimeout;Yt.prototype.i=function(mt){Vt(mt,0)},Yt.prototype.l=function(){for(;this.g&&this.g.length;){var mt=this.g;this.g=[];for(var Ot=0;Ot<mt.length;++Ot){var Pt=mt[Ot];mt[Ot]=null;try{Pt()}catch(Ut){this.j(Ut)}}}this.g=null},Yt.prototype.j=function(mt){this.i(function(){throw mt})},Gt.prototype.j=function(){function mt(Ut){return function(fn){Pt||(Pt=!0,Ut.call(Ot,fn))}}var Ot=this,Pt=!1;return{resolve:mt(this.D),reject:mt(this.l)}},Gt.prototype.D=function(mt){if(mt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(mt instanceof Gt)this.H(mt);else{e:switch(typeof mt){case"object":var Ot=mt!=null;break e;case"function":Ot=!0;break e;default:Ot=!1}Ot?this.A(mt):this.o(mt)}},Gt.prototype.A=function(mt){var Ot=void 0;try{Ot=mt.then}catch(Pt){this.l(Pt);return}typeof Ot=="function"?this.I(Ot,mt):this.o(mt)},Gt.prototype.l=function(mt){this.u(2,mt)},Gt.prototype.o=function(mt){this.u(1,mt)},Gt.prototype.u=function(mt,Ot){if(this.h!=0)throw Error("Cannot settle("+mt+", "+Ot+"): Promise already settled in state"+this.h);this.h=mt,this.i=Ot,this.h===2&&this.G(),this.B()},Gt.prototype.G=function(){var mt=this;Vt(function(){if(mt.C()){var Ot=zt.console;typeof Ot<"u"&&Ot.error(mt.i)}},1)},Gt.prototype.C=function(){if(this.s)return!1;var mt=zt.CustomEvent,Ot=zt.Event,Pt=zt.dispatchEvent;return typeof Pt>"u"?!0:(typeof mt=="function"?mt=new mt("unhandledrejection",{cancelable:!0}):typeof Ot=="function"?mt=new Ot("unhandledrejection",{cancelable:!0}):(mt=zt.document.createEvent("CustomEvent"),mt.initCustomEvent("unhandledrejection",!1,!0,mt)),mt.promise=this,mt.reason=this.i,Pt(mt))},Gt.prototype.B=function(){if(this.g!=null){for(var mt=0;mt<this.g.length;++mt)Dt.h(this.g[mt]);this.g=null}};var Dt=new Yt;return Gt.prototype.H=function(mt){var Ot=this.j();mt.M(Ot.resolve,Ot.reject)},Gt.prototype.I=function(mt,Ot){var Pt=this.j();try{mt.call(Ot,Pt.resolve,Pt.reject)}catch(Ut){Pt.reject(Ut)}},Gt.prototype.then=function(mt,Ot){function Pt(kn,zn){return typeof kn=="function"?function(ar){try{Ut(kn(ar))}catch(mr){fn(mr)}}:zn}var Ut,fn,In=new Gt(function(kn,zn){Ut=kn,fn=zn});return this.M(Pt(mt,Ut),Pt(Ot,fn)),In},Gt.prototype.catch=function(mt){return this.then(void 0,mt)},Gt.prototype.M=function(mt,Ot){function Pt(){switch(Ut.h){case 1:mt(Ut.i);break;case 2:Ot(Ut.i);break;default:throw Error("Unexpected state: "+Ut.h)}}var Ut=this;this.g==null?Dt.h(Pt):this.g.push(Pt),this.s=!0},Gt.resolve=yt,Gt.reject=function(mt){return new Gt(function(Ot,Pt){Pt(mt)})},Gt.race=function(mt){return new Gt(function(Ot,Pt){for(var Ut=Tn(mt),fn=Ut.next();!fn.done;fn=Ut.next())yt(fn.value).M(Ot,Pt)})},Gt.all=function(mt){var Ot=Tn(mt),Pt=Ot.next();return Pt.done?yt([]):new Gt(function(Ut,fn){function In(ar){return function(mr){kn[ar]=mr,zn--,zn==0&&Ut(kn)}}var kn=[],zn=0;do kn.push(void 0),zn++,yt(Pt.value).M(In(kn.length-1),fn),Pt=Ot.next();while(!Pt.done)})},Gt});function Nu(Rt,Gt){Rt instanceof String&&(Rt+="");var Yt=0,yt=!1,Vt={next:function(){if(!yt&&Yt<Rt.length){var Dt=Yt++;return{value:Gt(Dt,Rt[Dt]),done:!1}}return yt=!0,{done:!0,value:void 0}}};return Vt[Symbol.iterator]=function(){return Vt},Vt}var Up=typeof Object.assign=="function"?Object.assign:function(Rt,Gt){for(var Yt=1;Yt<arguments.length;Yt++){var yt=arguments[Yt];if(yt)for(var Vt in yt)Object.prototype.hasOwnProperty.call(yt,Vt)&&(Rt[Vt]=yt[Vt])}return Rt};vn("Object.assign",function(Rt){return Rt||Up}),vn("Object.is",function(Rt){return Rt||function(Gt,Yt){return Gt===Yt?Gt!==0||1/Gt===1/Yt:Gt!==Gt&&Yt!==Yt}}),vn("Array.prototype.includes",function(Rt){return Rt||function(Gt,Yt){var yt=this;yt instanceof String&&(yt=String(yt));var Vt=yt.length;for(Yt=Yt||0,0>Yt&&(Yt=Math.max(Yt+Vt,0));Yt<Vt;Yt++){var Dt=yt[Yt];if(Dt===Gt||Object.is(Dt,Gt))return!0}return!1}}),vn("String.prototype.includes",function(Rt){return Rt||function(Gt,Yt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Gt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Gt,Yt||0)!==-1}}),vn("Array.prototype.keys",function(Rt){return Rt||function(){return Nu(this,function(Gt){return Gt})}});var $a=this||self;function jo(Rt,Gt){Rt=Rt.split(".");var Yt=$a;Rt[0]in Yt||typeof Yt.execScript>"u"||Yt.execScript("var "+Rt[0]);for(var yt;Rt.length&&(yt=Rt.shift());)Rt.length||Gt===void 0?Yt[yt]&&Yt[yt]!==Object.prototype[yt]?Yt=Yt[yt]:Yt=Yt[yt]={}:Yt[yt]=Gt}function Tl(){throw Error("Invalid UTF8")}function mu(Rt,Gt){return Gt=String.fromCharCode.apply(null,Gt),Rt==null?Gt:Rt+Gt}var Ku,vp=typeof TextDecoder<"u",ep,Ep=typeof TextEncoder<"u",Tu={},Mu=null;function wp(Rt){var Gt;Gt===void 0&&(Gt=0),Yl(),Gt=Tu[Gt];for(var Yt=Array(Math.floor(Rt.length/3)),yt=Gt[64]||"",Vt=0,Dt=0;Vt<Rt.length-2;Vt+=3){var mt=Rt[Vt],Ot=Rt[Vt+1],Pt=Rt[Vt+2],Ut=Gt[mt>>2];mt=Gt[(mt&3)<<4|Ot>>4],Ot=Gt[(Ot&15)<<2|Pt>>6],Pt=Gt[Pt&63],Yt[Dt++]=Ut+mt+Ot+Pt}switch(Ut=0,Pt=yt,Rt.length-Vt){case 2:Ut=Rt[Vt+1],Pt=Gt[(Ut&15)<<2]||yt;case 1:Rt=Rt[Vt],Yt[Dt]=Gt[Rt>>2]+Gt[(Rt&3)<<4|Ut>>4]+Pt+yt}return Yt.join("")}function yp(Rt){var Gt=Rt.length,Yt=3*Gt/4;Yt%3?Yt=Math.floor(Yt):"=.".indexOf(Rt[Gt-1])!=-1&&(Yt="=.".indexOf(Rt[Gt-2])!=-1?Yt-2:Yt-1);var yt=new Uint8Array(Yt),Vt=0;return Kl(Rt,function(Dt){yt[Vt++]=Dt}),Vt!==Yt?yt.subarray(0,Vt):yt}function Kl(Rt,Gt){function Yt(Pt){for(;yt<Rt.length;){var Ut=Rt.charAt(yt++),fn=Mu[Ut];if(fn!=null)return fn;if(!/^[\s\xa0]*$/.test(Ut))throw Error("Unknown base64 encoding at char: "+Ut)}return Pt}Yl();for(var yt=0;;){var Vt=Yt(-1),Dt=Yt(0),mt=Yt(64),Ot=Yt(64);if(Ot===64&&Vt===-1)break;Gt(Vt<<2|Dt>>4),mt!=64&&(Gt(Dt<<4&240|mt>>2),Ot!=64&&Gt(mt<<6&192|Ot))}}function Yl(){if(!Mu){Mu={};for(var Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Gt=["+/=","+/","-_=","-_.","-_"],Yt=0;5>Yt;Yt++){var yt=Rt.concat(Gt[Yt].split(""));Tu[Yt]=yt;for(var Vt=0;Vt<yt.length;Vt++){var Dt=yt[Vt];Mu[Dt]===void 0&&(Mu[Dt]=Vt)}}}}var tp=typeof Uint8Array=="function";function Ju(Rt){return tp&&Rt!=null&&Rt instanceof Uint8Array}var Ns;function Cl(Rt){if(this.L=Rt,Rt!==null&&Rt.length===0)throw Error("ByteString should be constructed with non-empty values")}var Jl=typeof Uint8Array.prototype.slice=="function",Ss=0,ga=0;function gu(Rt,Gt){if(Rt.constructor===Uint8Array)return Rt;if(Rt.constructor===ArrayBuffer)return new Uint8Array(Rt);if(Rt.constructor===Array)return new Uint8Array(Rt);if(Rt.constructor===String)return yp(Rt);if(Rt.constructor===Cl)return!Gt&&(Gt=Rt.L)&&Gt.constructor===Uint8Array?Gt:(Gt=Rt.L,Gt=Gt==null||Ju(Gt)?Gt:typeof Gt=="string"?yp(Gt):null,(Rt=Rt.L=Gt)?new Uint8Array(Rt):Ns||(Ns=new Uint8Array(0)));if(Rt instanceof Uint8Array)return new Uint8Array(Rt.buffer,Rt.byteOffset,Rt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Dl(Rt,Gt){return Error("Invalid wire type: "+Rt+" (at position "+Gt+")")}function ds(){return Error("Failed to read varint, encoding is invalid.")}function Ys(Rt,Gt){Gt=Gt===void 0?{}:Gt,Gt=Gt.v===void 0?!1:Gt.v,this.h=null,this.g=this.i=this.j=0,this.v=Gt,Rt&&Al(this,Rt)}function Al(Rt,Gt){Rt.h=gu(Gt,Rt.v),Rt.j=0,Rt.i=Rt.h.length,Rt.g=Rt.j}Ys.prototype.reset=function(){this.g=this.j};function _o(Rt){if(Rt.g>Rt.i)throw Error("Tried to read past the end of the data "+Rt.g+" > "+Rt.i)}function yl(Rt){var Gt=Rt.h,Yt=Gt[Rt.g],yt=Yt&127;if(128>Yt)return Rt.g+=1,_o(Rt),yt;if(Yt=Gt[Rt.g+1],yt|=(Yt&127)<<7,128>Yt)return Rt.g+=2,_o(Rt),yt;if(Yt=Gt[Rt.g+2],yt|=(Yt&127)<<14,128>Yt)return Rt.g+=3,_o(Rt),yt;if(Yt=Gt[Rt.g+3],yt|=(Yt&127)<<21,128>Yt)return Rt.g+=4,_o(Rt),yt;if(Yt=Gt[Rt.g+4],Rt.g+=5,yt|=(Yt&15)<<28,128>Yt)return _o(Rt),yt;if(128<=Gt[Rt.g++]&&128<=Gt[Rt.g++]&&128<=Gt[Rt.g++]&&128<=Gt[Rt.g++]&&128<=Gt[Rt.g++])throw ds();return _o(Rt),yt}var as=[];function js(){this.g=[]}js.prototype.length=function(){return this.g.length},js.prototype.end=function(){var Rt=this.g;return this.g=[],Rt};function xl(Rt,Gt){for(;127<Gt;)Rt.g.push(Gt&127|128),Gt>>>=7;Rt.g.push(Gt)}function ru(Rt){var Gt={},Yt=Gt.W===void 0?!1:Gt.W;this.l={v:Gt.v===void 0?!1:Gt.v},this.W=Yt,Gt=this.l,as.length?(Yt=as.pop(),Gt&&(Yt.v=Gt.v),Rt&&Al(Yt,Rt),Rt=Yt):Rt=new Ys(Rt,Gt),this.g=Rt,this.j=this.g.g,this.h=this.i=-1}ru.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function $s(Rt){var Gt=Rt.g;if(Gt.g==Gt.i)return!1;Rt.j=Rt.g.g;var Yt=yl(Rt.g)>>>0;if(Gt=Yt>>>3,Yt&=7,!(0<=Yt&&5>=Yt))throw Dl(Yt,Rt.j);if(1>Gt)throw Error("Invalid field number: "+Gt+" (at position "+Rt.j+")");return Rt.i=Gt,Rt.h=Yt,!0}function cs(Rt){switch(Rt.h){case 0:if(Rt.h!=0)cs(Rt);else e:{Rt=Rt.g;for(var Gt=Rt.g,Yt=Gt+10;Gt<Yt;)if(!(Rt.h[Gt++]&128)){Rt.g=Gt,_o(Rt);break e}throw ds()}break;case 1:Rt=Rt.g,Rt.g+=8,_o(Rt);break;case 2:Rt.h!=2?cs(Rt):(Gt=yl(Rt.g)>>>0,Rt=Rt.g,Rt.g+=Gt,_o(Rt));break;case 5:Rt=Rt.g,Rt.g+=4,_o(Rt);break;case 3:Gt=Rt.i;do{if(!$s(Rt))throw Error("Unmatched start-group tag: stream EOF");if(Rt.h==4){if(Rt.i!=Gt)throw Error("Unmatched end-group tag");break}cs(Rt)}while(1);break;default:throw Dl(Rt.h,Rt.j)}}var zl=[];function $l(){this.i=[],this.h=0,this.g=new js}function Sl(Rt,Gt){Gt.length!==0&&(Rt.i.push(Gt),Rt.h+=Gt.length)}function $u(Rt,Gt){if(Gt=Gt.ba){Sl(Rt,Rt.g.end());for(var Yt=0;Yt<Gt.length;Yt++)Sl(Rt,Gt[Yt])}}var vu=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Ql(Rt,Gt){Object.isFrozen(Rt)||(vu?Rt[vu]|=Gt:Rt.N!==void 0?Rt.N|=Gt:Object.defineProperties(Rt,{N:{value:Gt,configurable:!0,writable:!0,enumerable:!1}}))}function yu(Rt){var Gt;return vu?Gt=Rt[vu]:Gt=Rt.N,Gt??0}function zs(Rt){return Ql(Rt,1),Rt}function Rl(Rt){return Array.isArray(Rt)?!!(yu(Rt)&2):!1}function Ks(Rt){if(!Array.isArray(Rt))throw Error("cannot mark non-array as immutable");Ql(Rt,2)}function Es(Rt){return Rt!==null&&typeof Rt=="object"&&!Array.isArray(Rt)&&Rt.constructor===Object}var _l=Object.freeze(zs([]));function gs(Rt){if(Rl(Rt.m))throw Error("Cannot mutate an immutable Message")}var ls=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function xu(Rt){return{value:Rt,configurable:!1,writable:!1,enumerable:!1}}function Ms(Rt,Gt,Yt){return Gt===-1?null:Gt>=Rt.i?Rt.g?Rt.g[Gt]:void 0:Yt!==void 0&&Yt&&Rt.g&&(Yt=Rt.g[Gt],Yt!=null)?Yt:Rt.m[Gt+Rt.h]}function Xo(Rt,Gt,Yt,yt){yt=yt===void 0?!1:yt,gs(Rt),Gt<Rt.i&&!yt?Rt.m[Gt+Rt.h]=Yt:(Rt.g||(Rt.g=Rt.m[Rt.i+Rt.h]={}))[Gt]=Yt}function Eo(Rt,Gt,Yt,yt){Yt=Yt===void 0?!0:Yt,yt=yt===void 0?!1:yt;var Vt=Ms(Rt,Gt,yt);return Vt==null&&(Vt=_l),Rl(Rt.m)?Yt&&(Ks(Vt),Object.freeze(Vt)):(Vt===_l||Rl(Vt))&&(Vt=zs(Vt.slice()),Xo(Rt,Gt,Vt,yt)),Vt}function Cs(Rt,Gt,Yt){return Rt=Ms(Rt,Gt),Rt=Rt==null?Rt:+Rt,Rt??(Yt===void 0?0:Yt)}function Il(Rt,Gt,Yt,yt){Rt.j||(Rt.j={});var Vt=Rl(Rt.m),Dt=Rt.j[Yt];if(!Dt){yt=Eo(Rt,Yt,!0,yt===void 0?!1:yt),Dt=[],Vt=Vt||Rl(yt);for(var mt=0;mt<yt.length;mt++)Dt[mt]=new Gt(yt[mt]),Vt&&Ks(Dt[mt].m);Vt&&(Ks(Dt),Object.freeze(Dt)),Rt.j[Yt]=Dt}return Dt}function vs(Rt,Gt,Yt,yt,Vt){var Dt=Dt===void 0?!1:Dt;return gs(Rt),Dt=Il(Rt,Yt,Gt,Dt),Yt=yt||new Yt,Rt=Eo(Rt,Gt),Vt!=null?(Dt.splice(Vt,0,Yt),Rt.splice(Vt,0,Yt.m)):(Dt.push(Yt),Rt.push(Yt.m)),Yt}function Ts(Rt,Gt){return Rt=Ms(Rt,Gt),Rt??0}function xr(Rt,Gt){return Rt=Ms(Rt,Gt),Rt??""}function kr(Rt){switch(typeof Rt){case"number":return isFinite(Rt)?Rt:String(Rt);case"object":if(Rt&&!Array.isArray(Rt)){if(Ju(Rt))return wp(Rt);if(Rt instanceof Cl){var Gt=Rt.L;return Gt=Gt==null||typeof Gt=="string"?Gt:tp&&Gt instanceof Uint8Array?wp(Gt):null,(Rt.L=Gt)||""}}}return Rt}function Xr(Rt){var Gt=ws;return Gt=Gt===void 0?Oo:Gt,ks(Rt,Gt)}function us(Rt,Gt){if(Rt!=null){if(Array.isArray(Rt))Rt=ks(Rt,Gt);else if(Es(Rt)){var Yt={},yt;for(yt in Rt)Yt[yt]=us(Rt[yt],Gt);Rt=Yt}else Rt=Gt(Rt);return Rt}}function ks(Rt,Gt){for(var Yt=Rt.slice(),yt=0;yt<Yt.length;yt++)Yt[yt]=us(Yt[yt],Gt);return Array.isArray(Rt)&&yu(Rt)&1&&zs(Yt),Yt}function ws(Rt){return Rt&&typeof Rt=="object"&&Rt.toJSON?Rt.toJSON():(Rt=kr(Rt),Array.isArray(Rt)?Xr(Rt):Rt)}function Oo(Rt){return Ju(Rt)?new Uint8Array(Rt):Rt}function Ps(Rt,Gt,Yt){Rt||(Rt=Ll),Ll=null;var yt=this.constructor.h;Rt||(Rt=yt?[yt]:[]),this.h=(yt?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=Rt;e:{if(yt=this.m.length,Rt=yt-1,yt&&(yt=this.m[Rt],Es(yt))){this.i=Rt-this.h,this.g=yt;break e}Gt!==void 0&&-1<Gt?(this.i=Math.max(Gt,Rt+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(Yt)for(Gt=0;Gt<Yt.length;Gt++)if(Rt=Yt[Gt],Rt<this.i)Rt+=this.h,(yt=this.m[Rt])?Array.isArray(yt)&&zs(yt):this.m[Rt]=_l;else{yt=this.g||(this.g=this.m[this.i+this.h]={});var Vt=yt[Rt];Vt?Array.isArray(Vt)&&zs(Vt):yt[Rt]=_l}}Ps.prototype.toJSON=function(){return Xr(this.m)},Ps.prototype.toString=function(){return this.m.toString()};var Ll;function iu(){Ps.apply(this,arguments)}if(Br(iu,Ps),ls){var ou={};Object.defineProperties(iu,(ou[Symbol.hasInstance]=xu(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),ou))}function Ru(Rt,Gt,Yt){if(Yt){var yt={},Vt;for(Vt in Yt){var Dt=Yt[Vt],mt=Dt.ha;mt||(yt.F=Dt.la||Dt.fa.P,Dt.aa?(yt.U=np(Dt.aa),mt=function(Ot){return function(Pt,Ut,fn){return Ot.F(Pt,Ut,fn,Ot.U)}}(yt)):Dt.ca?(yt.T=Xl(Dt.X.g,Dt.ca),mt=function(Ot){return function(Pt,Ut,fn){return Ot.F(Pt,Ut,fn,Ot.T)}}(yt)):mt=yt.F,Dt.ha=mt),mt(Gt,Rt,Dt.X),yt={F:yt.F,U:yt.U,T:yt.T}}}$u(Gt,Rt)}var Pu=Symbol();function Ol(Rt,Gt,Yt){return Rt[Pu]||(Rt[Pu]=function(yt,Vt){return Gt(yt,Vt,Yt)})}function su(Rt){var Gt=Rt[Pu];if(!Gt){var Yt=jt(Rt);Gt=function(yt,Vt){return nn(yt,Vt,Yt)},Rt[Pu]=Gt}return Gt}function Hp(Rt){var Gt=Rt.aa;if(Gt)return su(Gt);if(Gt=Rt.ka)return Ol(Rt.X.g,Gt,Rt.ca)}function au(Rt){var Gt=Hp(Rt),Yt=Rt.X,yt=Rt.fa.O;return Gt?function(Vt,Dt){return yt(Vt,Dt,Yt,Gt)}:function(Vt,Dt){return yt(Vt,Dt,Yt)}}function Vl(Rt,Gt,Yt,yt,Vt,Dt){Rt=Rt();var mt=0;for(Rt.length&&typeof Rt[0]!="number"&&(Yt(Gt,Rt[0]),mt++);mt<Rt.length;){Yt=Rt[mt++];for(var Ot=mt+1;Ot<Rt.length&&typeof Rt[Ot]!="number";)Ot++;var Pt=Rt[mt++];switch(Ot-=mt,Ot){case 0:yt(Gt,Yt,Pt);break;case 1:yt(Gt,Yt,Pt,Rt[mt++]);break;case 2:Vt(Gt,Yt,Pt,Rt[mt++],Rt[mt++]);break;case 3:Ot=Rt[mt++];var Ut=Rt[mt++],fn=Rt[mt++];Array.isArray(fn)?Vt(Gt,Yt,Pt,Ot,Ut,fn):Dt(Gt,Yt,Pt,Ot,Ut,fn);break;case 4:Dt(Gt,Yt,Pt,Rt[mt++],Rt[mt++],Rt[mt++],Rt[mt++]);break;default:throw Error("unexpected number of binary field arguments: "+Ot)}}return Gt}var ju=Symbol();function np(Rt){var Gt=Rt[ju];if(!Gt){var Yt=bu(Rt);Gt=function(yt,Vt){return Hn(yt,Vt,Yt)},Rt[ju]=Gt}return Gt}function Xl(Rt,Gt){var Yt=Rt[ju];return Yt||(Yt=function(yt,Vt){return Ru(yt,Vt,Gt)},Rt[ju]=Yt),Yt}var Op=Symbol();function cu(Rt,Gt){Rt.push(Gt)}function Uu(Rt,Gt,Yt){Rt.push(Gt,Yt.P)}function lp(Rt,Gt,Yt,yt,Vt){var Dt=np(Vt),mt=Yt.P;Rt.push(Gt,function(Ot,Pt,Ut){return mt(Ot,Pt,Ut,yt,Dt)})}function Pp(Rt,Gt,Yt,yt,Vt,Dt){var mt=Xl(yt,Dt),Ot=Yt.P;Rt.push(Gt,function(Pt,Ut,fn){return Ot(Pt,Ut,fn,yt,mt)})}function bu(Rt){var Gt=Rt[Op];return Gt||Vl(Rt,Rt[Op]=[],cu,Uu,lp,Pp)}var up=Symbol();function _h(Rt,Gt){Rt[0]=Gt}function em(Rt,Gt,Yt,yt){var Vt=Yt.O;Rt[Gt]=yt?function(Dt,mt,Ot){return Vt(Dt,mt,Ot,yt)}:Vt}function dp(Rt,Gt,Yt,yt,Vt,Dt){var mt=Yt.O,Ot=su(Vt);Rt[Gt]=function(Pt,Ut,fn){return mt(Pt,Ut,fn,yt,Ot,Dt)}}function bp(Rt,Gt,Yt,yt,Vt,Dt,mt){var Ot=Yt.O,Pt=Ol(yt,Vt,Dt);Rt[Gt]=function(Ut,fn,In){return Ot(Ut,fn,In,yt,Pt,mt)}}function jt(Rt){var Gt=Rt[up];return Gt||Vl(Rt,Rt[up]={},_h,em,dp,bp)}function nn(Rt,Gt,Yt){for(;$s(Gt)&&Gt.h!=4;){var yt=Gt.i,Vt=Yt[yt];if(!Vt){var Dt=Yt[0];Dt&&(Dt=Dt[yt])&&(Vt=Yt[yt]=au(Dt))}if((!Vt||!Vt(Gt,Rt,yt))&&(Vt=Gt,yt=Rt,Dt=Vt.j,cs(Vt),!Vt.W)){var mt=Vt.g.h;Vt=Vt.g.g,Vt=Dt===Vt?Ns||(Ns=new Uint8Array(0)):Jl?mt.slice(Dt,Vt):new Uint8Array(mt.subarray(Dt,Vt)),(Dt=yt.ba)?Dt.push(Vt):yt.ba=[Vt]}}return Rt}function sn(Rt,Gt,Yt){if(zl.length){var yt=zl.pop();Rt&&(Al(yt.g,Rt),yt.i=-1,yt.h=-1),Rt=yt}else Rt=new ru(Rt);try{return nn(new Gt,Rt,jt(Yt))}finally{Gt=Rt.g,Gt.h=null,Gt.j=0,Gt.i=0,Gt.g=0,Gt.v=!1,Rt.i=-1,Rt.h=-1,100>zl.length&&zl.push(Rt)}}function Hn(Rt,Gt,Yt){for(var yt=Yt.length,Vt=yt%2==1,Dt=Vt?1:0;Dt<yt;Dt+=2)(0,Yt[Dt+1])(Gt,Rt,Yt[Dt]);Ru(Rt,Gt,Vt?Yt[0]:void 0)}function fr(Rt,Gt){var Yt=new $l;Hn(Rt,Yt,bu(Gt)),Sl(Yt,Yt.g.end()),Rt=new Uint8Array(Yt.h),Gt=Yt.i;for(var yt=Gt.length,Vt=0,Dt=0;Dt<yt;Dt++){var mt=Gt[Dt];Rt.set(mt,Vt),Vt+=mt.length}return Yt.i=[Rt],Rt}function Mr(Rt,Gt){return{O:Rt,P:Gt}}var dr=Mr(function(Rt,Gt,Yt){if(Rt.h!==5)return!1;Rt=Rt.g;var yt=Rt.h[Rt.g],Vt=Rt.h[Rt.g+1],Dt=Rt.h[Rt.g+2],mt=Rt.h[Rt.g+3];return Rt.g+=4,_o(Rt),Vt=(yt<<0|Vt<<8|Dt<<16|mt<<24)>>>0,Rt=2*(Vt>>31)+1,yt=Vt>>>23&255,Vt&=8388607,Xo(Gt,Yt,yt==255?Vt?NaN:1/0*Rt:yt==0?Rt*Math.pow(2,-149)*Vt:Rt*Math.pow(2,yt-150)*(Vt+Math.pow(2,23))),!0},function(Rt,Gt,Yt){if(Gt=Ms(Gt,Yt),Gt!=null){xl(Rt.g,8*Yt+5),Rt=Rt.g;var yt=Gt;yt=(Yt=0>yt?1:0)?-yt:yt,yt===0?0<1/yt?Ss=ga=0:(ga=0,Ss=2147483648):isNaN(yt)?(ga=0,Ss=2147483647):34028234663852886e22<yt?(ga=0,Ss=(Yt<<31|2139095040)>>>0):11754943508222875e-54>yt?(yt=Math.round(yt/Math.pow(2,-149)),ga=0,Ss=(Yt<<31|yt)>>>0):(Gt=Math.floor(Math.log(yt)/Math.LN2),yt*=Math.pow(2,-Gt),yt=Math.round(8388608*yt),16777216<=yt&&++Gt,ga=0,Ss=(Yt<<31|Gt+127<<23|yt&8388607)>>>0),Yt=Ss,Rt.g.push(Yt>>>0&255),Rt.g.push(Yt>>>8&255),Rt.g.push(Yt>>>16&255),Rt.g.push(Yt>>>24&255)}}),Or=Mr(function(Rt,Gt,Yt){if(Rt.h!==0)return!1;for(var yt=Rt.g,Vt=128,Dt=0,mt=Rt=0;4>mt&&128<=Vt;mt++)Vt=yt.h[yt.g++],_o(yt),Dt|=(Vt&127)<<7*mt;if(128<=Vt&&(Vt=yt.h[yt.g++],_o(yt),Dt|=(Vt&127)<<28,Rt|=(Vt&127)>>4),128<=Vt)for(mt=0;5>mt&&128<=Vt;mt++)Vt=yt.h[yt.g++],_o(yt),Rt|=(Vt&127)<<7*mt+3;if(128>Vt)yt=Dt>>>0,Vt=Rt>>>0,(Rt=Vt&2147483648)&&(yt=~yt+1>>>0,Vt=~Vt>>>0,yt==0&&(Vt=Vt+1>>>0)),yt=4294967296*Vt+(yt>>>0);else throw ds();return Xo(Gt,Yt,Rt?-yt:yt),!0},function(Rt,Gt,Yt){if(Gt=Ms(Gt,Yt),Gt!=null&&Gt!=null){xl(Rt.g,8*Yt),Rt=Rt.g;var yt=Gt;for(Yt=0>yt,yt=Math.abs(yt),Gt=yt>>>0,yt=Math.floor((yt-Gt)/4294967296),yt>>>=0,Yt&&(yt=~yt>>>0,Gt=(~Gt>>>0)+1,4294967295<Gt&&(Gt=0,yt++,4294967295<yt&&(yt=0))),Ss=Gt,ga=yt,Yt=Ss,Gt=ga;0<Gt||127<Yt;)Rt.g.push(Yt&127|128),Yt=(Yt>>>7|Gt<<25)>>>0,Gt>>>=7;Rt.g.push(Yt)}}),Qr=Mr(function(Rt,Gt,Yt){return Rt.h!==0?!1:(Xo(Gt,Yt,yl(Rt.g)),!0)},function(Rt,Gt,Yt){if(Gt=Ms(Gt,Yt),Gt!=null&&Gt!=null)if(xl(Rt.g,8*Yt),Rt=Rt.g,Yt=Gt,0<=Yt)xl(Rt,Yt);else{for(Gt=0;9>Gt;Gt++)Rt.g.push(Yt&127|128),Yt>>=7;Rt.g.push(1)}}),xo=Mr(function(Rt,Gt,Yt){if(Rt.h!==2)return!1;var yt=yl(Rt.g)>>>0;Rt=Rt.g;var Vt=Rt.g;Rt.g+=yt,_o(Rt),Rt=Rt.h;var Dt;if(vp)(Dt=Ku)||(Dt=Ku=new TextDecoder("utf-8",{fatal:!0})),Dt=Dt.decode(Rt.subarray(Vt,Vt+yt));else{yt=Vt+yt;for(var mt=[],Ot=null,Pt,Ut,fn;Vt<yt;)Pt=Rt[Vt++],128>Pt?mt.push(Pt):224>Pt?Vt>=yt?Tl():(Ut=Rt[Vt++],194>Pt||(Ut&192)!==128?(Vt--,Tl()):mt.push((Pt&31)<<6|Ut&63)):240>Pt?Vt>=yt-1?Tl():(Ut=Rt[Vt++],(Ut&192)!==128||Pt===224&&160>Ut||Pt===237&&160<=Ut||((Dt=Rt[Vt++])&192)!==128?(Vt--,Tl()):mt.push((Pt&15)<<12|(Ut&63)<<6|Dt&63)):244>=Pt?Vt>=yt-2?Tl():(Ut=Rt[Vt++],(Ut&192)!==128||(Pt<<28)+(Ut-144)>>30||((Dt=Rt[Vt++])&192)!==128||((fn=Rt[Vt++])&192)!==128?(Vt--,Tl()):(Pt=(Pt&7)<<18|(Ut&63)<<12|(Dt&63)<<6|fn&63,Pt-=65536,mt.push((Pt>>10&1023)+55296,(Pt&1023)+56320))):Tl(),8192<=mt.length&&(Ot=mu(Ot,mt),mt.length=0);Dt=mu(Ot,mt)}return Xo(Gt,Yt,Dt),!0},function(Rt,Gt,Yt){if(Gt=Ms(Gt,Yt),Gt!=null){var yt=!1;if(yt=yt===void 0?!1:yt,Ep){if(yt&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(Gt))throw Error("Found an unpaired surrogate");Gt=(ep||(ep=new TextEncoder)).encode(Gt)}else{for(var Vt=0,Dt=new Uint8Array(3*Gt.length),mt=0;mt<Gt.length;mt++){var Ot=Gt.charCodeAt(mt);if(128>Ot)Dt[Vt++]=Ot;else{if(2048>Ot)Dt[Vt++]=Ot>>6|192;else{if(55296<=Ot&&57343>=Ot){if(56319>=Ot&&mt<Gt.length){var Pt=Gt.charCodeAt(++mt);if(56320<=Pt&&57343>=Pt){Ot=1024*(Ot-55296)+Pt-56320+65536,Dt[Vt++]=Ot>>18|240,Dt[Vt++]=Ot>>12&63|128,Dt[Vt++]=Ot>>6&63|128,Dt[Vt++]=Ot&63|128;continue}else mt--}if(yt)throw Error("Found an unpaired surrogate");Ot=65533}Dt[Vt++]=Ot>>12|224,Dt[Vt++]=Ot>>6&63|128}Dt[Vt++]=Ot&63|128}}Gt=Dt.subarray(0,Vt)}xl(Rt.g,8*Yt+2),xl(Rt.g,Gt.length),Sl(Rt,Rt.g.end()),Sl(Rt,Gt)}}),$o=Mr(function(Rt,Gt,Yt,yt,Vt){if(Rt.h!==2)return!1;Gt=vs(Gt,Yt,yt),Yt=Rt.g.i,yt=yl(Rt.g)>>>0;var Dt=Rt.g.g+yt,mt=Dt-Yt;if(0>=mt&&(Rt.g.i=Dt,Vt(Gt,Rt),mt=Dt-Rt.g.g),mt)throw Error("Message parsing ended unexpectedly. Expected to read "+(yt+" bytes, instead read "+(yt-mt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return Rt.g.g=Dt,Rt.g.i=Yt,!0},function(Rt,Gt,Yt,yt,Vt){if(Gt=Il(Gt,yt,Yt),Gt!=null)for(yt=0;yt<Gt.length;yt++){var Dt=Rt;xl(Dt.g,8*Yt+2);var mt=Dt.g.end();Sl(Dt,mt),mt.push(Dt.h),Dt=mt,Vt(Gt[yt],Rt),mt=Rt;var Ot=Dt.pop();for(Ot=mt.h+mt.g.length()-Ot;127<Ot;)Dt.push(Ot&127|128),Ot>>>=7,mt.h++;Dt.push(Ot),mt.h++}});function Uo(){iu.apply(this,arguments)}if(Br(Uo,iu),ls){var ms={};Object.defineProperties(Uo,(ms[Symbol.hasInstance]=xu(Object[Symbol.hasInstance]),ms))}function Yo(Rt){Uo.call(this,Rt)}Br(Yo,Uo);function Lo(){return[1,Qr,2,dr,3,xo,4,xo]}function Jo(Rt){Uo.call(this,Rt,-1,Os)}Br(Jo,Uo),Jo.prototype.addClassification=function(Rt,Gt){return vs(this,1,Yo,Rt,Gt),this};function fs(){return[1,$o,Yo,Lo]}var Os=[1];function Ws(Rt){Uo.call(this,Rt)}Br(Ws,Uo);function Us(){return[1,dr,2,dr,3,dr,4,dr,5,dr]}function Zl(Rt){Uo.call(this,Rt,-1,Bt)}Br(Zl,Uo);function Ft(){return[1,$o,Ws,Us]}var Bt=[1];function Jt(Rt){Uo.call(this,Rt)}Br(Jt,Uo);function Ln(){return[1,dr,2,dr,3,dr,4,dr,5,dr,6,Or]}var $n=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],hr=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],qn=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Cr=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Fr=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],wt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Qt=[].concat(Mn($n),Mn(hr),Mn(qn),Mn(Cr),Mn(Fr),Mn(wt));function an(Rt,Gt,Yt){if(Yt=Rt.createShader(Yt===0?Rt.VERTEX_SHADER:Rt.FRAGMENT_SHADER),Rt.shaderSource(Yt,Gt),Rt.compileShader(Yt),!Rt.getShaderParameter(Yt,Rt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+Rt.getShaderInfoLog(Yt));return Yt}function Cn(Rt){return Il(Rt,Yo,1).map(function(Gt){return{index:Ts(Gt,1),ga:Cs(Gt,2),label:Ms(Gt,3)!=null?xr(Gt,3):void 0,displayName:Ms(Gt,4)!=null?xr(Gt,4):void 0}})}function Xn(Rt){return{x:Cs(Rt,1),y:Cs(Rt,2),z:Cs(Rt,3),visibility:Ms(Rt,4)!=null?Cs(Rt,4):void 0}}function tr(Rt,Gt){this.h=Rt,this.g=Gt,this.l=0}function Kn(Rt,Gt,Yt){return Rr(Rt,Gt),typeof Rt.g.canvas.transferToImageBitmap=="function"?nt.resolve(Rt.g.canvas.transferToImageBitmap()):Yt?nt.resolve(Rt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(Rt.g.canvas):(Rt.i===void 0&&(Rt.i=document.createElement("canvas")),new nt(function(yt){Rt.i.height=Rt.g.canvas.height,Rt.i.width=Rt.g.canvas.width,Rt.i.getContext("2d",{}).drawImage(Rt.g.canvas,0,0,Rt.g.canvas.width,Rt.g.canvas.height),yt(Rt.i)}))}function Rr(Rt,Gt){var Yt=Rt.g;if(Rt.o===void 0){var yt=an(Yt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Vt=an(Yt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Dt=Yt.createProgram();if(Yt.attachShader(Dt,yt),Yt.attachShader(Dt,Vt),Yt.linkProgram(Dt),!Yt.getProgramParameter(Dt,Yt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Yt.getProgramInfoLog(Dt));yt=Rt.o=Dt,Yt.useProgram(yt),Vt=Yt.getUniformLocation(yt,"sampler0"),Rt.j={K:Yt.getAttribLocation(yt,"aVertex"),J:Yt.getAttribLocation(yt,"aTex"),ma:Vt},Rt.u=Yt.createBuffer(),Yt.bindBuffer(Yt.ARRAY_BUFFER,Rt.u),Yt.enableVertexAttribArray(Rt.j.K),Yt.vertexAttribPointer(Rt.j.K,2,Yt.FLOAT,!1,0,0),Yt.bufferData(Yt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Yt.STATIC_DRAW),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),Rt.s=Yt.createBuffer(),Yt.bindBuffer(Yt.ARRAY_BUFFER,Rt.s),Yt.enableVertexAttribArray(Rt.j.J),Yt.vertexAttribPointer(Rt.j.J,2,Yt.FLOAT,!1,0,0),Yt.bufferData(Yt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Yt.STATIC_DRAW),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),Yt.uniform1i(Vt,0)}yt=Rt.j,Yt.useProgram(Rt.o),Yt.canvas.width=Gt.width,Yt.canvas.height=Gt.height,Yt.viewport(0,0,Gt.width,Gt.height),Yt.activeTexture(Yt.TEXTURE0),Rt.h.bindTexture2d(Gt.glName),Yt.enableVertexAttribArray(yt.K),Yt.bindBuffer(Yt.ARRAY_BUFFER,Rt.u),Yt.vertexAttribPointer(yt.K,2,Yt.FLOAT,!1,0,0),Yt.enableVertexAttribArray(yt.J),Yt.bindBuffer(Yt.ARRAY_BUFFER,Rt.s),Yt.vertexAttribPointer(yt.J,2,Yt.FLOAT,!1,0,0),Yt.bindFramebuffer(Yt.DRAW_FRAMEBUFFER?Yt.DRAW_FRAMEBUFFER:Yt.FRAMEBUFFER,null),Yt.clearColor(0,0,0,0),Yt.clear(Yt.COLOR_BUFFER_BIT),Yt.colorMask(!0,!0,!0,!0),Yt.drawArrays(Yt.TRIANGLE_FAN,0,4),Yt.disableVertexAttribArray(yt.K),Yt.disableVertexAttribArray(yt.J),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),Rt.h.bindTexture2d(0)}function Er(Rt){this.g=Rt}var _i=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ho(Rt,Gt){return Gt+Rt}function Qo(Rt,Gt){window[Rt]=Gt}function Ro(Rt){var Gt=document.createElement("script");return Gt.setAttribute("src",Rt),Gt.setAttribute("crossorigin","anonymous"),new nt(function(Yt){Gt.addEventListener("load",function(){Yt()},!1),Gt.addEventListener("error",function(){Yt()},!1),document.body.appendChild(Gt)})}function zr(){return io(function(Rt){switch(Rt.g){case 1:return Rt.o=2,pr(Rt,WebAssembly.instantiate(_i),4);case 4:Rt.g=3,Rt.o=0;break;case 2:return Rt.o=0,Rt.j=null,Rt.return(!1);case 3:return Rt.return(!0)}})}function yo(Rt){if(this.g=Rt,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=nt.resolve(),this.Y="",this.C={},this.locateFile=Rt&&Rt.locateFile||ho,typeof window=="object")var Gt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Gt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.$=Gt,Rt.options){Gt=Tn(Object.keys(Rt.options));for(var Yt=Gt.next();!Yt.done;Yt=Gt.next()){Yt=Yt.value;var yt=Rt.options[Yt].default;yt!==void 0&&(this.j[Yt]=typeof yt=="function"?yt():yt)}}}Et=yo.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function wo(Rt){var Gt,Yt,yt,Vt,Dt,mt,Ot,Pt,Ut,fn,In;return io(function(kn){switch(kn.g){case 1:return Rt.Z?(Gt=Rt.g.files===void 0?[]:typeof Rt.g.files=="function"?Rt.g.files(Rt.j):Rt.g.files,pr(kn,zr(),2)):kn.return();case 2:if(Yt=kn.h,typeof window=="object")return Qo("createMediapipeSolutionsWasm",{locateFile:Rt.locateFile}),Qo("createMediapipeSolutionsPackedAssets",{locateFile:Rt.locateFile}),mt=Gt.filter(function(zn){return zn.data!==void 0}),Ot=Gt.filter(function(zn){return zn.data===void 0}),Pt=nt.all(mt.map(function(zn){var ar=At(Rt,zn.url);if(zn.path!==void 0){var mr=zn.path;ar=ar.then(function(gr){return Rt.overrideFile(mr,gr),nt.resolve(gr)})}return ar})),Ut=nt.all(Ot.map(function(zn){return zn.simd===void 0||zn.simd&&Yt||!zn.simd&&!Yt?Ro(Rt.locateFile(zn.url,Rt.$)):nt.resolve()})).then(function(){var zn,ar,mr;return io(function(gr){if(gr.g==1)return zn=window.createMediapipeSolutionsWasm,ar=window.createMediapipeSolutionsPackedAssets,mr=Rt,pr(gr,zn(ar),2);mr.h=gr.h,gr.g=0})}),fn=function(){return io(function(zn){return Rt.g.graph&&Rt.g.graph.url?zn=pr(zn,At(Rt,Rt.g.graph.url),0):(zn.g=0,zn=void 0),zn})}(),pr(kn,nt.all([Ut,Pt,fn]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return yt=Gt.filter(function(zn){return zn.simd===void 0||zn.simd&&Yt||!zn.simd&&!Yt}).map(function(zn){return Rt.locateFile(zn.url,Rt.$)}),importScripts.apply(null,Mn(yt)),Vt=Rt,pr(kn,createMediapipeSolutionsWasm(Module),6);case 6:Vt.h=kn.h,Rt.l=new OffscreenCanvas(1,1),Rt.h.canvas=Rt.l,Dt=Rt.h.GL.createContext(Rt.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),Rt.h.GL.makeContextCurrent(Dt),kn.g=4;break;case 7:if(Rt.l=document.createElement("canvas"),In=Rt.l.getContext("webgl2",{}),!In&&(In=Rt.l.getContext("webgl",{}),!In))return alert("Failed to create WebGL canvas context when passing video frame."),kn.return();Rt.G=In,Rt.h.canvas=Rt.l,Rt.h.createContext(Rt.l,!0,!0,{});case 4:Rt.i=new Rt.h.SolutionWasm,Rt.Z=!1,kn.g=0}})}function Po(Rt){var Gt,Yt,yt,Vt,Dt,mt,Ot,Pt;return io(function(Ut){if(Ut.g==1){if(Rt.g.graph&&Rt.g.graph.url&&Rt.Y===Rt.g.graph.url)return Ut.return();if(Rt.s=!0,!Rt.g.graph||!Rt.g.graph.url){Ut.g=2;return}return Rt.Y=Rt.g.graph.url,pr(Ut,At(Rt,Rt.g.graph.url),3)}for(Ut.g!=2&&(Gt=Ut.h,Rt.i.loadGraph(Gt)),Yt=Tn(Object.keys(Rt.C)),yt=Yt.next();!yt.done;yt=Yt.next())Vt=yt.value,Rt.i.overrideFile(Vt,Rt.C[Vt]);if(Rt.C={},Rt.g.listeners)for(Dt=Tn(Rt.g.listeners),mt=Dt.next();!mt.done;mt=Dt.next())Ot=mt.value,bn(Rt,Ot);Pt=Rt.j,Rt.j={},Rt.setOptions(Pt),Ut.g=0})}Et.reset=function(){var Rt=this;return io(function(Gt){Rt.i&&(Rt.i.reset(),Rt.o={},Rt.u={}),Gt.g=0})},Et.setOptions=function(Rt,Gt){var Yt=this;if(Gt=Gt||this.g.options){for(var yt=[],Vt=[],Dt={},mt=Tn(Object.keys(Rt)),Ot=mt.next();!Ot.done;Dt={R:Dt.R,S:Dt.S},Ot=mt.next()){var Pt=Ot.value;Pt in this.j&&this.j[Pt]===Rt[Pt]||(this.j[Pt]=Rt[Pt],Ot=Gt[Pt],Ot!==void 0&&(Ot.onChange&&(Dt.R=Ot.onChange,Dt.S=Rt[Pt],yt.push(function(Ut){return function(){var fn;return io(function(In){if(In.g==1)return pr(In,Ut.R(Ut.S),2);fn=In.h,fn===!0&&(Yt.s=!0),In.g=0})}}(Dt))),Ot.graphOptionXref&&(Pt={valueNumber:Ot.type===1?Rt[Pt]:0,valueBoolean:Ot.type===0?Rt[Pt]:!1,valueString:Ot.type===2?Rt[Pt]:""},Ot=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Ot.graphOptionXref),Pt),Vt.push(Ot))))}(yt.length!==0||Vt.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(Vt),this.A=(this.A===void 0?[]:this.A).concat(yt))}};function Fo(Rt){var Gt,Yt,yt,Vt,Dt,mt,Ot;return io(function(Pt){switch(Pt.g){case 1:if(!Rt.s)return Pt.return();if(!Rt.A){Pt.g=2;break}Gt=Tn(Rt.A),Yt=Gt.next();case 3:if(Yt.done){Pt.g=5;break}return yt=Yt.value,pr(Pt,yt(),4);case 4:Yt=Gt.next(),Pt.g=3;break;case 5:Rt.A=void 0;case 2:if(Rt.B){for(Vt=new Rt.h.GraphOptionChangeRequestList,Dt=Tn(Rt.B),mt=Dt.next();!mt.done;mt=Dt.next())Ot=mt.value,Vt.push_back(Ot);Rt.i.changeOptions(Vt),Vt.delete(),Rt.B=void 0}Rt.s=!1,Pt.g=0}})}Et.initialize=function(){var Rt=this;return io(function(Gt){return Gt.g==1?pr(Gt,wo(Rt),2):Gt.g!=3?pr(Gt,Po(Rt),3):pr(Gt,Fo(Rt),0)})};function At(Rt,Gt){var Yt,yt;return io(function(Vt){return Gt in Rt.H?Vt.return(Rt.H[Gt]):(Yt=Rt.locateFile(Gt,""),yt=fetch(Yt).then(function(Dt){return Dt.arrayBuffer()}),Rt.H[Gt]=yt,Vt.return(yt))})}Et.overrideFile=function(Rt,Gt){this.i?this.i.overrideFile(Rt,Gt):this.C[Rt]=Gt},Et.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(Rt,Gt){var Yt=this,yt,Vt,Dt,mt,Ot,Pt,Ut,fn,In;return io(function(kn){switch(kn.g){case 1:return Yt.g.inputs?(yt=1e3*(Gt??performance.now()),pr(kn,Yt.D,2)):kn.return();case 2:return pr(kn,Yt.initialize(),3);case 3:for(Vt=new Yt.h.PacketDataList,Dt=Tn(Object.keys(Rt)),mt=Dt.next();!mt.done;mt=Dt.next())if(Ot=mt.value,Pt=Yt.g.inputs[Ot]){e:{var zn=Rt[Ot];switch(Pt.type){case"video":var ar=Yt.o[Pt.stream];if(ar||(ar=new tr(Yt.h,Yt.G),Yt.o[Pt.stream]=ar),ar.l===0&&(ar.l=ar.h.createTexture()),typeof HTMLVideoElement<"u"&&zn instanceof HTMLVideoElement)var mr=zn.videoWidth,gr=zn.videoHeight;else typeof HTMLImageElement<"u"&&zn instanceof HTMLImageElement?(mr=zn.naturalWidth,gr=zn.naturalHeight):(mr=zn.width,gr=zn.height);gr={glName:ar.l,width:mr,height:gr},mr=ar.g,mr.canvas.width=gr.width,mr.canvas.height=gr.height,mr.activeTexture(mr.TEXTURE0),ar.h.bindTexture2d(ar.l),mr.texImage2D(mr.TEXTURE_2D,0,mr.RGBA,mr.RGBA,mr.UNSIGNED_BYTE,zn),ar.h.bindTexture2d(0),ar=gr;break e;case"detections":for(ar=Yt.o[Pt.stream],ar||(ar=new Er(Yt.h),Yt.o[Pt.stream]=ar),ar.data||(ar.data=new ar.g.DetectionListData),ar.data.reset(zn.length),gr=0;gr<zn.length;++gr){mr=zn[gr];var Pr=ar.data,Kr=Pr.setBoundingBox,Jr=gr,lo=mr.boundingBox,ao=new Jt;if(Xo(ao,1,lo.xCenter),Xo(ao,2,lo.yCenter),Xo(ao,3,lo.height),Xo(ao,4,lo.width),Xo(ao,5,lo.rotation),Xo(ao,6,lo.rectId),lo=fr(ao,Ln),Kr.call(Pr,Jr,lo),mr.landmarks)for(Pr=0;Pr<mr.landmarks.length;++Pr){ao=mr.landmarks[Pr];var rs=!!ao.visibility;Kr=ar.data,Jr=Kr.addNormalizedLandmark,lo=gr,ao=Object.assign(Object.assign({},ao),{visibility:rs?ao.visibility:0}),rs=new Ws,Xo(rs,1,ao.x),Xo(rs,2,ao.y),Xo(rs,3,ao.z),ao.visibility&&Xo(rs,4,ao.visibility),ao=fr(rs,Us),Jr.call(Kr,lo,ao)}if(mr.V)for(Pr=0;Pr<mr.V.length;++Pr)Kr=ar.data,Jr=Kr.addClassification,lo=gr,ao=mr.V[Pr],rs=new Yo,Xo(rs,2,ao.ga),ao.index&&Xo(rs,1,ao.index),ao.label&&Xo(rs,3,ao.label),ao.displayName&&Xo(rs,4,ao.displayName),ao=fr(rs,Lo),Jr.call(Kr,lo,ao)}ar=ar.data;break e;default:ar={}}}switch(Ut=ar,fn=Pt.stream,Pt.type){case"video":Vt.pushTexture2d(Object.assign(Object.assign({},Ut),{stream:fn,timestamp:yt}));break;case"detections":In=Ut,In.stream=fn,In.timestamp=yt,Vt.pushDetectionList(In);break;default:throw Error("Unknown input config type: '"+Pt.type+"'")}}return Yt.i.send(Vt),pr(kn,Yt.D,4);case 4:Vt.delete(),kn.g=0}})};function Kt(Rt,Gt,Yt){var yt,Vt,Dt,mt,Ot,Pt,Ut,fn,In,kn,zn,ar,mr,gr;return io(function(Pr){switch(Pr.g){case 1:if(!Yt)return Pr.return(Gt);for(yt={},Vt=0,Dt=Tn(Object.keys(Yt)),mt=Dt.next();!mt.done;mt=Dt.next())Ot=mt.value,Pt=Yt[Ot],typeof Pt!="string"&&Pt.type==="texture"&&Gt[Pt.stream]!==void 0&&++Vt;1<Vt&&(Rt.I=!1),Ut=Tn(Object.keys(Yt)),mt=Ut.next();case 2:if(mt.done){Pr.g=4;break}if(fn=mt.value,In=Yt[fn],typeof In=="string")return mr=yt,gr=fn,pr(Pr,cn(Rt,fn,Gt[In]),14);if(kn=Gt[In.stream],In.type==="detection_list"){if(kn){for(var Kr=kn.getRectList(),Jr=kn.getLandmarksList(),lo=kn.getClassificationsList(),ao=[],rs=0;rs<Kr.size();++rs){var xs=sn(Kr.get(rs),Jt,Ln);xs={boundingBox:{xCenter:Cs(xs,1),yCenter:Cs(xs,2),height:Cs(xs,3),width:Cs(xs,4),rotation:Cs(xs,5,0),rectId:Ts(xs,6)},landmarks:Il(sn(Jr.get(rs),Zl,Ft),Ws,1).map(Xn),V:Cn(sn(lo.get(rs),Jo,fs))},ao.push(xs)}Kr=ao}else Kr=[];yt[fn]=Kr,Pr.g=7;break}if(In.type==="proto_list"){if(kn){for(Kr=Array(kn.size()),Jr=0;Jr<kn.size();Jr++)Kr[Jr]=kn.get(Jr);kn.delete()}else Kr=[];yt[fn]=Kr,Pr.g=7;break}if(kn===void 0){Pr.g=3;break}if(In.type==="float_list"){yt[fn]=kn,Pr.g=7;break}if(In.type==="proto"){yt[fn]=kn,Pr.g=7;break}if(In.type!=="texture")throw Error("Unknown output config type: '"+In.type+"'");return zn=Rt.u[fn],zn||(zn=new tr(Rt.h,Rt.G),Rt.u[fn]=zn),pr(Pr,Kn(zn,kn,Rt.I),13);case 13:ar=Pr.h,yt[fn]=ar;case 7:In.transform&&yt[fn]&&(yt[fn]=In.transform(yt[fn])),Pr.g=3;break;case 14:mr[gr]=Pr.h;case 3:mt=Ut.next(),Pr.g=2;break;case 4:return Pr.return(yt)}})}function cn(Rt,Gt,Yt){var yt;return io(function(Vt){return typeof Yt=="number"||Yt instanceof Uint8Array||Yt instanceof Rt.h.Uint8BlobList?Vt.return(Yt):Yt instanceof Rt.h.Texture2dDataOut?(yt=Rt.u[Gt],yt||(yt=new tr(Rt.h,Rt.G),Rt.u[Gt]=yt),Vt.return(Kn(yt,Yt,Rt.I))):Vt.return(void 0)})}function bn(Rt,Gt){for(var Yt=Gt.name||"$",yt=[].concat(Mn(Gt.wants)),Vt=new Rt.h.StringList,Dt=Tn(Gt.wants),mt=Dt.next();!mt.done;mt=Dt.next())Vt.push_back(mt.value);Dt=Rt.h.PacketListener.implement({onResults:function(Ot){for(var Pt={},Ut=0;Ut<Gt.wants.length;++Ut)Pt[yt[Ut]]=Ot.get(Ut);var fn=Rt.listeners[Yt];fn&&(Rt.D=Kt(Rt,Pt,Gt.outs).then(function(In){In=fn(In);for(var kn=0;kn<Gt.wants.length;++kn){var zn=Pt[yt[kn]];typeof zn=="object"&&zn.hasOwnProperty&&zn.hasOwnProperty("delete")&&zn.delete()}In&&(Rt.D=In)}))}}),Rt.i.attachMultiListener(Vt,Dt),Vt.delete()}Et.onResults=function(Rt,Gt){this.listeners[Gt||"$"]=Rt},jo("Solution",yo),jo("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"});function jn(Rt){var Gt=this;Rt=Rt||{};var Yt={url:"face_detection_short.binarypb"},yt={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new yo({locateFile:Rt.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:Yt,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(Vt){var Dt,mt,Ot,Pt,Ut,fn;return io(function(In){switch(In.g){case 1:Dt=Vt==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"],mt=Tn(Dt),Ot=mt.next();case 2:if(Ot.done){In.g=4;break}return Pt=Ot.value,Ut="third_party/mediapipe/modules/face_detection/"+Pt,pr(In,At(Gt.g,Pt),5);case 5:fn=In.h,Gt.g.overrideFile(Ut,fn),Ot=mt.next(),In.g=2;break;case 4:return Yt.url=Vt==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",yt.graphOptionXref.calculatorName=Vt==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",In.return(!0)}})}},minDetectionConfidence:yt}})}Et=jn.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(Rt){this.g.onResults(Rt)},Et.initialize=function(){var Rt=this;return io(function(Gt){return pr(Gt,Rt.g.initialize(),0)})},Et.reset=function(){this.g.reset()},Et.send=function(Rt){var Gt=this;return io(function(Yt){return pr(Yt,Gt.g.send(Rt),0)})},Et.setOptions=function(Rt){this.g.setOptions(Rt)},jo("FaceDetection",jn),jo("FACEDETECTION_LIPS",$n),jo("FACEDETECTION_LEFT_EYE",hr),jo("FACEDETECTION_LEFT_EYEBROW",qn),jo("FACEDETECTION_RIGHT_EYE",Cr),jo("FACEDETECTION_RIGHT_EYEBROW",Fr),jo("FACEDETECTION_FACE_OVAL",wt),jo("FACEDETECTION_CONTOURS",Qt),jo("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),jo("VERSION","0.4.1646425229")}).call(Rp);const im={};(function(){var Et;function St(Ft){var Bt=0;return function(){return Bt<Ft.length?{done:!1,value:Ft[Bt++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(Ft,Bt,Jt){return Ft==Array.prototype||Ft==Object.prototype||(Ft[Bt]=Jt.value),Ft};function Xt(Ft){Ft=[typeof globalThis=="object"&&globalThis,Ft,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Bt=0;Bt<Ft.length;++Bt){var Jt=Ft[Bt];if(Jt&&Jt.Math==Math)return Jt}throw Error("Cannot find global object")}var zt=Xt(this);function vn(Ft,Bt){if(Bt)e:{var Jt=zt;Ft=Ft.split(".");for(var Ln=0;Ln<Ft.length-1;Ln++){var $n=Ft[Ln];if(!($n in Jt))break e;Jt=Jt[$n]}Ft=Ft[Ft.length-1],Ln=Jt[Ft],Bt=Bt(Ln),Bt!=Ln&&Bt!=null&&xt(Jt,Ft,{configurable:!0,writable:!0,value:Bt})}}vn("Symbol",function(Ft){function Bt(hr){if(this instanceof Bt)throw new TypeError("Symbol is not a constructor");return new Jt(Ln+(hr||"")+"_"+$n++,hr)}function Jt(hr,qn){this.g=hr,xt(this,"description",{configurable:!0,writable:!0,value:qn})}if(Ft)return Ft;Jt.prototype.toString=function(){return this.g};var Ln="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",$n=0;return Bt}),vn("Symbol.iterator",function(Ft){if(Ft)return Ft;Ft=Symbol("Symbol.iterator");for(var Bt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Jt=0;Jt<Bt.length;Jt++){var Ln=zt[Bt[Jt]];typeof Ln=="function"&&typeof Ln.prototype[Ft]!="function"&&xt(Ln.prototype,Ft,{configurable:!0,writable:!0,value:function(){return On(St(this))}})}return Ft});function On(Ft){return Ft={next:Ft},Ft[Symbol.iterator]=function(){return this},Ft}function Tn(Ft){var Bt=typeof Symbol<"u"&&Symbol.iterator&&Ft[Symbol.iterator];return Bt?Bt.call(Ft):{next:St(Ft)}}function Mn(Ft){if(!(Ft instanceof Array)){Ft=Tn(Ft);for(var Bt,Jt=[];!(Bt=Ft.next()).done;)Jt.push(Bt.value);Ft=Jt}return Ft}var br=typeof Object.create=="function"?Object.create:function(Ft){function Bt(){}return Bt.prototype=Ft,new Bt},Nr;if(typeof Object.setPrototypeOf=="function")Nr=Object.setPrototypeOf;else{var Wr;e:{var Ao={a:!0},Mo={};try{Mo.__proto__=Ao,Wr=Mo.a;break e}catch{}Wr=!1}Nr=Wr?function(Ft,Bt){if(Ft.__proto__=Bt,Ft.__proto__!==Bt)throw new TypeError(Ft+" is not extensible");return Ft}:null}var Dr=Nr;function Br(Ft,Bt){if(Ft.prototype=br(Bt.prototype),Ft.prototype.constructor=Ft,Dr)Dr(Ft,Bt);else for(var Jt in Bt)if(Jt!="prototype")if(Object.defineProperties){var Ln=Object.getOwnPropertyDescriptor(Bt,Jt);Ln&&Object.defineProperty(Ft,Jt,Ln)}else Ft[Jt]=Bt[Jt];Ft.ea=Bt.prototype}function Ko(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function Bo(Ft){if(Ft.l)throw new TypeError("Generator is already running");Ft.l=!0}Ko.prototype.o=function(Ft){this.h=Ft};function ys(Ft,Bt){Ft.j={U:Bt,V:!0},Ft.g=Ft.m||Ft.s}Ko.prototype.return=function(Ft){this.j={return:Ft},this.g=this.s};function pr(Ft,Bt,Jt){return Ft.g=Jt,{value:Bt}}function Zu(Ft){this.g=new Ko,this.h=Ft}function Cu(Ft,Bt){Bo(Ft.g);var Jt=Ft.g.i;return Jt?xa(Ft,"return"in Jt?Jt.return:function(Ln){return{value:Ln,done:!0}},Bt,Ft.g.return):(Ft.g.return(Bt),hs(Ft))}function xa(Ft,Bt,Jt,Ln){try{var $n=Bt.call(Ft.g.i,Jt);if(!($n instanceof Object))throw new TypeError("Iterator result "+$n+" is not an object");if(!$n.done)return Ft.g.l=!1,$n;var hr=$n.value}catch(qn){return Ft.g.i=null,ys(Ft.g,qn),hs(Ft)}return Ft.g.i=null,Ln.call(Ft.g,hr),hs(Ft)}function hs(Ft){for(;Ft.g.g;)try{var Bt=Ft.h(Ft.g);if(Bt)return Ft.g.l=!1,{value:Bt.value,done:!1}}catch(Jt){Ft.g.h=void 0,ys(Ft.g,Jt)}if(Ft.g.l=!1,Ft.g.j){if(Bt=Ft.g.j,Ft.g.j=null,Bt.V)throw Bt.U;return{value:Bt.return,done:!0}}return{value:void 0,done:!0}}function jp(Ft){this.next=function(Bt){return Bo(Ft.g),Ft.g.i?Bt=xa(Ft,Ft.g.i.next,Bt,Ft.g.o):(Ft.g.o(Bt),Bt=hs(Ft)),Bt},this.throw=function(Bt){return Bo(Ft.g),Ft.g.i?Bt=xa(Ft,Ft.g.i.throw,Bt,Ft.g.o):(ys(Ft.g,Bt),Bt=hs(Ft)),Bt},this.return=function(Bt){return Cu(Ft,Bt)},this[Symbol.iterator]=function(){return this}}function Ls(Ft,Bt){return Bt=new jp(new Zu(Bt)),Dr&&Ft.prototype&&Dr(Bt,Ft.prototype),Bt}function io(Ft,Bt){Ft instanceof String&&(Ft+="");var Jt=0,Ln=!1,$n={next:function(){if(!Ln&&Jt<Ft.length){var hr=Jt++;return{value:Bt(hr,Ft[hr]),done:!1}}return Ln=!0,{done:!0,value:void 0}}};return $n[Symbol.iterator]=function(){return $n},$n}var Nu=typeof Object.assign=="function"?Object.assign:function(Ft,Bt){for(var Jt=1;Jt<arguments.length;Jt++){var Ln=arguments[Jt];if(Ln)for(var $n in Ln)Object.prototype.hasOwnProperty.call(Ln,$n)&&(Ft[$n]=Ln[$n])}return Ft};vn("Object.assign",function(Ft){return Ft||Nu}),vn("Promise",function(Ft){function Bt(qn){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Cr=this.j();try{qn(Cr.resolve,Cr.reject)}catch(Fr){Cr.reject(Fr)}}function Jt(){this.g=null}function Ln(qn){return qn instanceof Bt?qn:new Bt(function(Cr){Cr(qn)})}if(Ft)return Ft;Jt.prototype.h=function(qn){if(this.g==null){this.g=[];var Cr=this;this.i(function(){Cr.l()})}this.g.push(qn)};var $n=zt.setTimeout;Jt.prototype.i=function(qn){$n(qn,0)},Jt.prototype.l=function(){for(;this.g&&this.g.length;){var qn=this.g;this.g=[];for(var Cr=0;Cr<qn.length;++Cr){var Fr=qn[Cr];qn[Cr]=null;try{Fr()}catch(wt){this.j(wt)}}}this.g=null},Jt.prototype.j=function(qn){this.i(function(){throw qn})},Bt.prototype.j=function(){function qn(wt){return function(Qt){Fr||(Fr=!0,wt.call(Cr,Qt))}}var Cr=this,Fr=!1;return{resolve:qn(this.C),reject:qn(this.l)}},Bt.prototype.C=function(qn){if(qn===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(qn instanceof Bt)this.F(qn);else{e:switch(typeof qn){case"object":var Cr=qn!=null;break e;case"function":Cr=!0;break e;default:Cr=!1}Cr?this.u(qn):this.m(qn)}},Bt.prototype.u=function(qn){var Cr=void 0;try{Cr=qn.then}catch(Fr){this.l(Fr);return}typeof Cr=="function"?this.G(Cr,qn):this.m(qn)},Bt.prototype.l=function(qn){this.s(2,qn)},Bt.prototype.m=function(qn){this.s(1,qn)},Bt.prototype.s=function(qn,Cr){if(this.h!=0)throw Error("Cannot settle("+qn+", "+Cr+"): Promise already settled in state"+this.h);this.h=qn,this.i=Cr,this.h===2&&this.D(),this.A()},Bt.prototype.D=function(){var qn=this;$n(function(){if(qn.B()){var Cr=zt.console;typeof Cr<"u"&&Cr.error(qn.i)}},1)},Bt.prototype.B=function(){if(this.o)return!1;var qn=zt.CustomEvent,Cr=zt.Event,Fr=zt.dispatchEvent;return typeof Fr>"u"?!0:(typeof qn=="function"?qn=new qn("unhandledrejection",{cancelable:!0}):typeof Cr=="function"?qn=new Cr("unhandledrejection",{cancelable:!0}):(qn=zt.document.createEvent("CustomEvent"),qn.initCustomEvent("unhandledrejection",!1,!0,qn)),qn.promise=this,qn.reason=this.i,Fr(qn))},Bt.prototype.A=function(){if(this.g!=null){for(var qn=0;qn<this.g.length;++qn)hr.h(this.g[qn]);this.g=null}};var hr=new Jt;return Bt.prototype.F=function(qn){var Cr=this.j();qn.J(Cr.resolve,Cr.reject)},Bt.prototype.G=function(qn,Cr){var Fr=this.j();try{qn.call(Cr,Fr.resolve,Fr.reject)}catch(wt){Fr.reject(wt)}},Bt.prototype.then=function(qn,Cr){function Fr(Cn,Xn){return typeof Cn=="function"?function(tr){try{wt(Cn(tr))}catch(Kn){Qt(Kn)}}:Xn}var wt,Qt,an=new Bt(function(Cn,Xn){wt=Cn,Qt=Xn});return this.J(Fr(qn,wt),Fr(Cr,Qt)),an},Bt.prototype.catch=function(qn){return this.then(void 0,qn)},Bt.prototype.J=function(qn,Cr){function Fr(){switch(wt.h){case 1:qn(wt.i);break;case 2:Cr(wt.i);break;default:throw Error("Unexpected state: "+wt.h)}}var wt=this;this.g==null?hr.h(Fr):this.g.push(Fr),this.o=!0},Bt.resolve=Ln,Bt.reject=function(qn){return new Bt(function(Cr,Fr){Fr(qn)})},Bt.race=function(qn){return new Bt(function(Cr,Fr){for(var wt=Tn(qn),Qt=wt.next();!Qt.done;Qt=wt.next())Ln(Qt.value).J(Cr,Fr)})},Bt.all=function(qn){var Cr=Tn(qn),Fr=Cr.next();return Fr.done?Ln([]):new Bt(function(wt,Qt){function an(tr){return function(Kn){Cn[tr]=Kn,Xn--,Xn==0&&wt(Cn)}}var Cn=[],Xn=0;do Cn.push(void 0),Xn++,Ln(Fr.value).J(an(Cn.length-1),Qt),Fr=Cr.next();while(!Fr.done)})},Bt}),vn("Object.is",function(Ft){return Ft||function(Bt,Jt){return Bt===Jt?Bt!==0||1/Bt===1/Jt:Bt!==Bt&&Jt!==Jt}}),vn("Array.prototype.includes",function(Ft){return Ft||function(Bt,Jt){var Ln=this;Ln instanceof String&&(Ln=String(Ln));var $n=Ln.length;for(Jt=Jt||0,0>Jt&&(Jt=Math.max(Jt+$n,0));Jt<$n;Jt++){var hr=Ln[Jt];if(hr===Bt||Object.is(hr,Bt))return!0}return!1}}),vn("String.prototype.includes",function(Ft){return Ft||function(Bt,Jt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Bt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Bt,Jt||0)!==-1}}),vn("Array.prototype.keys",function(Ft){return Ft||function(){return io(this,function(Bt){return Bt})}});var Up=this||self;function $a(Ft,Bt){Ft=Ft.split(".");var Jt=Up;Ft[0]in Jt||typeof Jt.execScript>"u"||Jt.execScript("var "+Ft[0]);for(var Ln;Ft.length&&(Ln=Ft.shift());)Ft.length||Bt===void 0?Jt[Ln]&&Jt[Ln]!==Object.prototype[Ln]?Jt=Jt[Ln]:Jt=Jt[Ln]={}:Jt[Ln]=Bt}function jo(Ft,Bt){return Bt=String.fromCharCode.apply(null,Bt),Ft==null?Bt:Ft+Bt}var Tl,mu=typeof TextDecoder<"u",Ku,vp=typeof TextEncoder<"u";function ep(Ft){if(vp)Ft=(Ku||(Ku=new TextEncoder)).encode(Ft);else{var Bt=void 0;Bt=Bt===void 0?!1:Bt;for(var Jt=0,Ln=new Uint8Array(3*Ft.length),$n=0;$n<Ft.length;$n++){var hr=Ft.charCodeAt($n);if(128>hr)Ln[Jt++]=hr;else{if(2048>hr)Ln[Jt++]=hr>>6|192;else{if(55296<=hr&&57343>=hr){if(56319>=hr&&$n<Ft.length){var qn=Ft.charCodeAt(++$n);if(56320<=qn&&57343>=qn){hr=1024*(hr-55296)+qn-56320+65536,Ln[Jt++]=hr>>18|240,Ln[Jt++]=hr>>12&63|128,Ln[Jt++]=hr>>6&63|128,Ln[Jt++]=hr&63|128;continue}else $n--}if(Bt)throw Error("Found an unpaired surrogate");hr=65533}Ln[Jt++]=hr>>12|224,Ln[Jt++]=hr>>6&63|128}Ln[Jt++]=hr&63|128}}Ft=Ln.subarray(0,Jt)}return Ft}var Ep={},Tu=null;function Mu(Ft,Bt){Bt===void 0&&(Bt=0),Kl(),Bt=Ep[Bt];for(var Jt=Array(Math.floor(Ft.length/3)),Ln=Bt[64]||"",$n=0,hr=0;$n<Ft.length-2;$n+=3){var qn=Ft[$n],Cr=Ft[$n+1],Fr=Ft[$n+2],wt=Bt[qn>>2];qn=Bt[(qn&3)<<4|Cr>>4],Cr=Bt[(Cr&15)<<2|Fr>>6],Fr=Bt[Fr&63],Jt[hr++]=wt+qn+Cr+Fr}switch(wt=0,Fr=Ln,Ft.length-$n){case 2:wt=Ft[$n+1],Fr=Bt[(wt&15)<<2]||Ln;case 1:Ft=Ft[$n],Jt[hr]=Bt[Ft>>2]+Bt[(Ft&3)<<4|wt>>4]+Fr+Ln}return Jt.join("")}function wp(Ft){var Bt=Ft.length,Jt=3*Bt/4;Jt%3?Jt=Math.floor(Jt):"=.".indexOf(Ft[Bt-1])!=-1&&(Jt="=.".indexOf(Ft[Bt-2])!=-1?Jt-2:Jt-1);var Ln=new Uint8Array(Jt),$n=0;return yp(Ft,function(hr){Ln[$n++]=hr}),Ln.subarray(0,$n)}function yp(Ft,Bt){function Jt(Fr){for(;Ln<Ft.length;){var wt=Ft.charAt(Ln++),Qt=Tu[wt];if(Qt!=null)return Qt;if(!/^[\s\xa0]*$/.test(wt))throw Error("Unknown base64 encoding at char: "+wt)}return Fr}Kl();for(var Ln=0;;){var $n=Jt(-1),hr=Jt(0),qn=Jt(64),Cr=Jt(64);if(Cr===64&&$n===-1)break;Bt($n<<2|hr>>4),qn!=64&&(Bt(hr<<4&240|qn>>2),Cr!=64&&Bt(qn<<6&192|Cr))}}function Kl(){if(!Tu){Tu={};for(var Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Bt=["+/=","+/","-_=","-_.","-_"],Jt=0;5>Jt;Jt++){var Ln=Ft.concat(Bt[Jt].split(""));Ep[Jt]=Ln;for(var $n=0;$n<Ln.length;$n++){var hr=Ln[$n];Tu[hr]===void 0&&(Tu[hr]=$n)}}}}var Yl=typeof Uint8Array.prototype.slice=="function",tp;function Ju(Ft,Bt,Jt){return Bt===Jt?tp||(tp=new Uint8Array(0)):Yl?Ft.slice(Bt,Jt):new Uint8Array(Ft.subarray(Bt,Jt))}var Ns=0,Cl=0;function Jl(Ft,Bt){Bt=Bt===void 0?{}:Bt,Bt=Bt.v===void 0?!1:Bt.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=Bt,Ft&&Ss(this,Ft)}function Ss(Ft,Bt){Bt=Bt.constructor===Uint8Array?Bt:Bt.constructor===ArrayBuffer?new Uint8Array(Bt):Bt.constructor===Array?new Uint8Array(Bt):Bt.constructor===String?wp(Bt):Bt instanceof Uint8Array?new Uint8Array(Bt.buffer,Bt.byteOffset,Bt.byteLength):new Uint8Array(0),Ft.h=Bt,Ft.l=0,Ft.j=Ft.h.length,Ft.g=Ft.l}Jl.prototype.reset=function(){this.g=this.l};function ga(Ft){for(var Bt=128,Jt=0,Ln=0,$n=0;4>$n&&128<=Bt;$n++)Bt=Ft.h[Ft.g++],Jt|=(Bt&127)<<7*$n;if(128<=Bt&&(Bt=Ft.h[Ft.g++],Jt|=(Bt&127)<<28,Ln|=(Bt&127)>>4),128<=Bt)for($n=0;5>$n&&128<=Bt;$n++)Bt=Ft.h[Ft.g++],Ln|=(Bt&127)<<7*$n+3;if(128>Bt)return Ft=Jt>>>0,Bt=Ln>>>0,(Ln=Bt&2147483648)&&(Ft=~Ft+1>>>0,Bt=~Bt>>>0,Ft==0&&(Bt=Bt+1>>>0)),Ft=4294967296*Bt+(Ft>>>0),Ln?-Ft:Ft;Ft.m=!0}Jl.prototype.i=function(){var Ft=this.h,Bt=Ft[this.g],Jt=Bt&127;return 128>Bt?(this.g+=1,Jt):(Bt=Ft[this.g+1],Jt|=(Bt&127)<<7,128>Bt?(this.g+=2,Jt):(Bt=Ft[this.g+2],Jt|=(Bt&127)<<14,128>Bt?(this.g+=3,Jt):(Bt=Ft[this.g+3],Jt|=(Bt&127)<<21,128>Bt?(this.g+=4,Jt):(Bt=Ft[this.g+4],Jt|=(Bt&15)<<28,128>Bt?(this.g+=5,Jt>>>0):(this.g+=5,128<=Ft[this.g++]&&128<=Ft[this.g++]&&128<=Ft[this.g++]&&128<=Ft[this.g++]&&this.g++,Jt)))))},Jl.prototype.o=function(){var Ft=this.h[this.g],Bt=this.h[this.g+1],Jt=this.h[this.g+2],Ln=this.h[this.g+3];return this.g+=4,Jt=(Ft<<0|Bt<<8|Jt<<16|Ln<<24)>>>0,Ft=2*(Jt>>31)+1,Bt=Jt>>>23&255,Jt&=8388607,Bt==255?Jt?NaN:1/0*Ft:Bt==0?Ft*Math.pow(2,-149)*Jt:Ft*Math.pow(2,Bt-150)*(Jt+Math.pow(2,23))};var gu=[];function Dl(){this.g=new Uint8Array(64),this.h=0}Dl.prototype.push=function(Ft){if(!(this.h+1<this.g.length)){var Bt=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(Bt)}this.g[this.h++]=Ft},Dl.prototype.length=function(){return this.h},Dl.prototype.end=function(){var Ft=this.g,Bt=this.h;return this.h=0,Ju(Ft,0,Bt)};function ds(Ft,Bt){for(;127<Bt;)Ft.push(Bt&127|128),Bt>>>=7;Ft.push(Bt)}function Ys(Ft){var Bt={},Jt=Bt.N===void 0?!1:Bt.N;this.o={v:Bt.v===void 0?!1:Bt.v},this.N=Jt,Bt=this.o,gu.length?(Jt=gu.pop(),Bt&&(Jt.v=Bt.v),Ft&&Ss(Jt,Ft),Ft=Jt):Ft=new Jl(Ft,Bt),this.g=Ft,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}Ys.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function Al(Ft){var Bt=Ft.g;if((Bt=Bt.g==Bt.j)||(Bt=Ft.j)||(Bt=Ft.g,Bt=Bt.m||0>Bt.g||Bt.g>Bt.j),Bt)return!1;Ft.m=Ft.g.g,Bt=Ft.g.i();var Jt=Bt&7;return Jt!=0&&Jt!=5&&Jt!=1&&Jt!=2&&Jt!=3&&Jt!=4?(Ft.j=!0,!1):(Ft.i=Bt,Ft.l=Bt>>>3,Ft.h=Jt,!0)}function _o(Ft){switch(Ft.h){case 0:if(Ft.h!=0)_o(Ft);else{for(Ft=Ft.g;Ft.h[Ft.g]&128;)Ft.g++;Ft.g++}break;case 1:Ft.h!=1?_o(Ft):(Ft=Ft.g,Ft.g+=8);break;case 2:if(Ft.h!=2)_o(Ft);else{var Bt=Ft.g.i();Ft=Ft.g,Ft.g+=Bt}break;case 5:Ft.h!=5?_o(Ft):(Ft=Ft.g,Ft.g+=4);break;case 3:Bt=Ft.l;do{if(!Al(Ft)){Ft.j=!0;break}if(Ft.h==4){Ft.l!=Bt&&(Ft.j=!0);break}_o(Ft)}while(1);break;default:Ft.j=!0}}function yl(Ft,Bt,Jt){var Ln=Ft.g.j,$n=Ft.g.i(),hr=Ft.g.g+$n;if(Ft.g.j=hr,Jt(Bt,Ft),Jt=hr-Ft.g.g,Jt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+$n+" bytes, instead read "+($n-Jt)+" bytes, either the data ended unexpectedly or the message misreported its own length");return Ft.g.g=hr,Ft.g.j=Ln,Bt}function as(Ft){return Ft.g.o()}function js(Ft){var Bt=Ft.g.i();Ft=Ft.g;var Jt=Ft.g;Ft.g+=Bt,Ft=Ft.h;var Ln;if(mu)(Ln=Tl)||(Ln=Tl=new TextDecoder("utf-8",{fatal:!1})),Ln=Ln.decode(Ft.subarray(Jt,Jt+Bt));else{Bt=Jt+Bt;for(var $n=[],hr=null,qn,Cr,Fr;Jt<Bt;)qn=Ft[Jt++],128>qn?$n.push(qn):224>qn?Jt>=Bt?$n.push(65533):(Cr=Ft[Jt++],194>qn||(Cr&192)!==128?(Jt--,$n.push(65533)):$n.push((qn&31)<<6|Cr&63)):240>qn?Jt>=Bt-1?$n.push(65533):(Cr=Ft[Jt++],(Cr&192)!==128||qn===224&&160>Cr||qn===237&&160<=Cr||((Ln=Ft[Jt++])&192)!==128?(Jt--,$n.push(65533)):$n.push((qn&15)<<12|(Cr&63)<<6|Ln&63)):244>=qn?Jt>=Bt-2?$n.push(65533):(Cr=Ft[Jt++],(Cr&192)!==128||(qn<<28)+(Cr-144)>>30||((Ln=Ft[Jt++])&192)!==128||((Fr=Ft[Jt++])&192)!==128?(Jt--,$n.push(65533)):(qn=(qn&7)<<18|(Cr&63)<<12|(Ln&63)<<6|Fr&63,qn-=65536,$n.push((qn>>10&1023)+55296,(qn&1023)+56320))):$n.push(65533),8192<=$n.length&&(hr=jo(hr,$n),$n.length=0);Ln=jo(hr,$n)}return Ln}function xl(Ft,Bt,Jt){var Ln=Ft.g.i();for(Ln=Ft.g.g+Ln;Ft.g.g<Ln;)Jt.push(Bt.call(Ft.g))}function ru(Ft,Bt){Ft.h==2?xl(Ft,Jl.prototype.o,Bt):Bt.push(as(Ft))}function $s(){this.h=[],this.i=0,this.g=new Dl}function cs(Ft,Bt){Bt.length!==0&&(Ft.h.push(Bt),Ft.i+=Bt.length)}function zl(Ft){var Bt=Ft.i+Ft.g.length();if(Bt===0)return new Uint8Array(0);Bt=new Uint8Array(Bt);for(var Jt=Ft.h,Ln=Jt.length,$n=0,hr=0;hr<Ln;hr++){var qn=Jt[hr];qn.length!==0&&(Bt.set(qn,$n),$n+=qn.length)}return Jt=Ft.g,Ln=Jt.h,Ln!==0&&(Bt.set(Jt.g.subarray(0,Ln),$n),Jt.h=0),Ft.h=[Bt],Bt}function $l(Ft,Bt,Jt){if(Jt!=null){ds(Ft.g,8*Bt+5),Ft=Ft.g;var Ln=Jt;Ln=(Jt=0>Ln?1:0)?-Ln:Ln,Ln===0?0<1/Ln?Ns=Cl=0:(Cl=0,Ns=2147483648):isNaN(Ln)?(Cl=0,Ns=2147483647):34028234663852886e22<Ln?(Cl=0,Ns=(Jt<<31|2139095040)>>>0):11754943508222875e-54>Ln?(Ln=Math.round(Ln/Math.pow(2,-149)),Cl=0,Ns=(Jt<<31|Ln)>>>0):(Bt=Math.floor(Math.log(Ln)/Math.LN2),Ln*=Math.pow(2,-Bt),Ln=Math.round(8388608*Ln),16777216<=Ln&&++Bt,Cl=0,Ns=(Jt<<31|Bt+127<<23|Ln&8388607)>>>0),Jt=Ns,Ft.push(Jt>>>0&255),Ft.push(Jt>>>8&255),Ft.push(Jt>>>16&255),Ft.push(Jt>>>24&255)}}var Sl=typeof Uint8Array=="function";function $u(Ft,Bt,Jt){if(Ft!=null)return typeof Ft=="object"?Sl&&Ft instanceof Uint8Array?Jt(Ft):vu(Ft,Bt,Jt):Bt(Ft)}function vu(Ft,Bt,Jt){if(Array.isArray(Ft)){for(var Ln=Array(Ft.length),$n=0;$n<Ft.length;$n++)Ln[$n]=$u(Ft[$n],Bt,Jt);return Array.isArray(Ft)&&Ft.W&&zs(Ln),Ln}Ln={};for($n in Ft)Ln[$n]=$u(Ft[$n],Bt,Jt);return Ln}function Ql(Ft){return typeof Ft=="number"?isFinite(Ft)?Ft:String(Ft):Ft}var yu={W:{value:!0,configurable:!0}};function zs(Ft){return Array.isArray(Ft)&&!Object.isFrozen(Ft)&&Object.defineProperties(Ft,yu),Ft}var Rl;function Ks(Ft,Bt,Jt){var Ln=Rl;Rl=null,Ft||(Ft=Ln),Ln=this.constructor.ca,Ft||(Ft=Ln?[Ln]:[]),this.j=Ln?0:-1,this.m=this.g=null,this.h=Ft;e:{if(Ln=this.h.length,Ft=Ln-1,Ln&&(Ln=this.h[Ft],!(Ln===null||typeof Ln!="object"||Array.isArray(Ln)||Sl&&Ln instanceof Uint8Array))){this.l=Ft-this.j,this.i=Ln;break e}Bt!==void 0&&-1<Bt?(this.l=Math.max(Bt,Ft+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(Jt)for(Bt=0;Bt<Jt.length;Bt++)Ft=Jt[Bt],Ft<this.l?(Ft+=this.j,(Ln=this.h[Ft])?zs(Ln):this.h[Ft]=Es):(_l(this),(Ln=this.i[Ft])?zs(Ln):this.i[Ft]=Es)}var Es=Object.freeze(zs([]));function _l(Ft){var Bt=Ft.l+Ft.j;Ft.h[Bt]||(Ft.i=Ft.h[Bt]={})}function gs(Ft,Bt,Jt){return Bt===-1?null:Jt!==void 0&&Jt||Bt>=Ft.l?Ft.i?Ft.i[Bt]:void 0:Ft.h[Bt+Ft.j]}function ls(Ft,Bt){var Jt=Jt===void 0?!1:Jt,Ln=gs(Ft,Bt,Jt);return Ln==null&&(Ln=Es),Ln===Es&&(Ln=zs([]),Eo(Ft,Bt,Ln,Jt)),Ln}function xu(Ft){var Bt=ls(Ft,3);if(Ft.m||(Ft.m={}),!Ft.m[3]){for(var Jt=0;Jt<Bt.length;Jt++)Bt[Jt]=+Bt[Jt];Ft.m[3]=!0}return Bt}function Ms(Ft,Bt,Jt){return Ft=gs(Ft,Bt),Ft??Jt}function Xo(Ft,Bt,Jt){return Ft=gs(Ft,Bt),Ft=Ft==null?Ft:+Ft,Ft??(Jt===void 0?0:Jt)}function Eo(Ft,Bt,Jt,Ln){Ln!==void 0&&Ln||Bt>=Ft.l?(_l(Ft),Ft.i[Bt]=Jt):Ft.h[Bt+Ft.j]=Jt}function Cs(Ft,Bt,Jt){if(Jt===-1)return null;if(Ft.g||(Ft.g={}),!Ft.g[Jt]){var Ln=gs(Ft,Jt,!1);Ln&&(Ft.g[Jt]=new Bt(Ln))}return Ft.g[Jt]}function Il(Ft,Bt){Ft.g||(Ft.g={});var Jt=Ft.g[1];if(!Jt){var Ln=ls(Ft,1);Jt=[];for(var $n=0;$n<Ln.length;$n++)Jt[$n]=new Bt(Ln[$n]);Ft.g[1]=Jt}return Jt}function vs(Ft,Bt,Jt){var Ln=Ln===void 0?!1:Ln;Ft.g||(Ft.g={});var $n=Jt&&xr(Jt);Ft.g[Bt]=Jt,Eo(Ft,Bt,$n,Ln)}function Ts(Ft,Bt,Jt,Ln){var $n=Il(Ft,Jt);Bt=Bt||new Jt,Ft=ls(Ft,1),Ln!=null?($n.splice(Ln,0,Bt),Ft.splice(Ln,0,xr(Bt))):($n.push(Bt),Ft.push(xr(Bt)))}Ks.prototype.toJSON=function(){var Ft=xr(this);return vu(Ft,Ql,Mu)};function xr(Ft,Bt){if(Ft.g)for(var Jt in Ft.g){var Ln=Ft.g[Jt];if(Array.isArray(Ln))for(var $n=0;$n<Ln.length;$n++)Ln[$n]&&xr(Ln[$n]);else Ln&&xr(Ln)}return Ft.h}Ks.prototype.toString=function(){return xr(this).toString()};function kr(Ft,Bt){if(Ft=Ft.o){cs(Bt,Bt.g.end());for(var Jt=0;Jt<Ft.length;Jt++)cs(Bt,Ft[Jt])}}function Xr(Ft,Bt){if(Bt.h==4)return!1;var Jt=Bt.m;return _o(Bt),Bt.N||(Bt=Ju(Bt.g.h,Jt,Bt.g.g),(Jt=Ft.o)?Jt.push(Bt):Ft.o=[Bt]),!0}function us(Ft){Ks.call(this,Ft,-1,ws)}Br(us,Ks),us.prototype.getRows=function(){return gs(this,1)},us.prototype.getCols=function(){return gs(this,2)},us.prototype.getPackedDataList=function(){return xu(this)},us.prototype.getLayout=function(){return Ms(this,4,0)};function ks(Ft,Bt){for(;Al(Bt);)switch(Bt.i){case 8:var Jt=Bt.g.i();Eo(Ft,1,Jt);break;case 16:Jt=Bt.g.i(),Eo(Ft,2,Jt);break;case 29:case 26:ru(Bt,Ft.getPackedDataList());break;case 32:Jt=ga(Bt.g),Eo(Ft,4,Jt);break;default:if(!Xr(Ft,Bt))return Ft}return Ft}var ws=[3];function Oo(Ft,Bt){var Jt=void 0;return new(Jt||(Jt=nt))(function(Ln,$n){function hr(Fr){try{Cr(Bt.next(Fr))}catch(wt){$n(wt)}}function qn(Fr){try{Cr(Bt.throw(Fr))}catch(wt){$n(wt)}}function Cr(Fr){Fr.done?Ln(Fr.value):new Jt(function(wt){wt(Fr.value)}).then(hr,qn)}Cr((Bt=Bt.apply(Ft,void 0)).next())})}function Ps(Ft){Ks.call(this,Ft)}Br(Ps,Ks);function Ll(Ft,Bt){for(;Al(Bt);)switch(Bt.i){case 8:var Jt=Bt.g.i();Eo(Ft,1,Jt);break;case 21:Jt=as(Bt),Eo(Ft,2,Jt);break;case 26:Jt=js(Bt),Eo(Ft,3,Jt);break;case 34:Jt=js(Bt),Eo(Ft,4,Jt);break;default:if(!Xr(Ft,Bt))return Ft}return Ft}function iu(Ft){Ks.call(this,Ft,-1,ou)}Br(iu,Ks),iu.prototype.addClassification=function(Ft,Bt){return Ts(this,Ft,Ps,Bt),this};var ou=[1];function Ru(Ft){Ks.call(this,Ft)}Br(Ru,Ks);function Pu(Ft,Bt){for(;Al(Bt);)switch(Bt.i){case 13:var Jt=as(Bt);Eo(Ft,1,Jt);break;case 21:Jt=as(Bt),Eo(Ft,2,Jt);break;case 29:Jt=as(Bt),Eo(Ft,3,Jt);break;case 37:Jt=as(Bt),Eo(Ft,4,Jt);break;case 45:Jt=as(Bt),Eo(Ft,5,Jt);break;default:if(!Xr(Ft,Bt))return Ft}return Ft}function Ol(Ft){Ks.call(this,Ft,-1,Hp)}Br(Ol,Ks);function su(Ft){e:{var Bt=new Ol;for(Ft=new Ys(Ft);Al(Ft);)switch(Ft.i){case 10:var Jt=yl(Ft,new Ru,Pu);Ts(Bt,Jt,Ru,void 0);break;default:if(!Xr(Bt,Ft))break e}}return Bt}var Hp=[1];function au(Ft){Ks.call(this,Ft)}Br(au,Ks);function Vl(Ft){Ks.call(this,Ft,-1,np)}Br(Vl,Ks),Vl.prototype.getVertexType=function(){return Ms(this,1,0)},Vl.prototype.getPrimitiveType=function(){return Ms(this,2,0)},Vl.prototype.getVertexBufferList=function(){return xu(this)},Vl.prototype.getIndexBufferList=function(){return ls(this,4)};function ju(Ft,Bt){for(;Al(Bt);)switch(Bt.i){case 8:var Jt=ga(Bt.g);Eo(Ft,1,Jt);break;case 16:Jt=ga(Bt.g),Eo(Ft,2,Jt);break;case 29:case 26:ru(Bt,Ft.getVertexBufferList());break;case 32:case 34:Jt=Bt;var Ln=Ft.getIndexBufferList();Jt.h==2?xl(Jt,Jl.prototype.i,Ln):Ln.push(Jt.g.i());break;default:if(!Xr(Ft,Bt))return Ft}return Ft}var np=[3,4];function Xl(Ft){Ks.call(this,Ft)}Br(Xl,Ks),Xl.prototype.getMesh=function(){return Cs(this,Vl,1)},Xl.prototype.getPoseTransformMatrix=function(){return Cs(this,us,2)};function Op(Ft){e:{var Bt=new Xl;for(Ft=new Ys(Ft);Al(Ft);)switch(Ft.i){case 10:var Jt=yl(Ft,new Vl,ju);vs(Bt,1,Jt);break;case 18:Jt=yl(Ft,new us,ks),vs(Bt,2,Jt);break;default:if(!Xr(Bt,Ft))break e}}return Bt}function cu(Ft,Bt,Jt){if(Jt=Ft.createShader(Jt===0?Ft.VERTEX_SHADER:Ft.FRAGMENT_SHADER),Ft.shaderSource(Jt,Bt),Ft.compileShader(Jt),!Ft.getShaderParameter(Jt,Ft.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+Ft.getShaderInfoLog(Jt));return Jt}function Uu(Ft){return Il(Ft,Ps).map(function(Bt){return{index:Ms(Bt,1,0),Y:Xo(Bt,2),label:gs(Bt,3)!=null?Ms(Bt,3,""):void 0,displayName:gs(Bt,4)!=null?Ms(Bt,4,""):void 0}})}function lp(Ft){return{x:Xo(Ft,1),y:Xo(Ft,2),z:Xo(Ft,3),visibility:gs(Ft,4)!=null?Xo(Ft,4):void 0}}function Pp(Ft,Bt){this.h=Ft,this.g=Bt,this.l=0}function bu(Ft,Bt,Jt){return up(Ft,Bt),typeof Ft.g.canvas.transferToImageBitmap=="function"?nt.resolve(Ft.g.canvas.transferToImageBitmap()):Jt?nt.resolve(Ft.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(Ft.g.canvas):(Ft.i===void 0&&(Ft.i=document.createElement("canvas")),new nt(function(Ln){Ft.i.height=Ft.g.canvas.height,Ft.i.width=Ft.g.canvas.width,Ft.i.getContext("2d",{}).drawImage(Ft.g.canvas,0,0,Ft.g.canvas.width,Ft.g.canvas.height),Ln(Ft.i)}))}function up(Ft,Bt){var Jt=Ft.g;if(Ft.m===void 0){var Ln=cu(Jt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),$n=cu(Jt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),hr=Jt.createProgram();if(Jt.attachShader(hr,Ln),Jt.attachShader(hr,$n),Jt.linkProgram(hr),!Jt.getProgramParameter(hr,Jt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Jt.getProgramInfoLog(hr));Ln=Ft.m=hr,Jt.useProgram(Ln),$n=Jt.getUniformLocation(Ln,"sampler0"),Ft.j={I:Jt.getAttribLocation(Ln,"aVertex"),H:Jt.getAttribLocation(Ln,"aTex"),da:$n},Ft.s=Jt.createBuffer(),Jt.bindBuffer(Jt.ARRAY_BUFFER,Ft.s),Jt.enableVertexAttribArray(Ft.j.I),Jt.vertexAttribPointer(Ft.j.I,2,Jt.FLOAT,!1,0,0),Jt.bufferData(Jt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Jt.STATIC_DRAW),Jt.bindBuffer(Jt.ARRAY_BUFFER,null),Ft.o=Jt.createBuffer(),Jt.bindBuffer(Jt.ARRAY_BUFFER,Ft.o),Jt.enableVertexAttribArray(Ft.j.H),Jt.vertexAttribPointer(Ft.j.H,2,Jt.FLOAT,!1,0,0),Jt.bufferData(Jt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Jt.STATIC_DRAW),Jt.bindBuffer(Jt.ARRAY_BUFFER,null),Jt.uniform1i($n,0)}Ln=Ft.j,Jt.useProgram(Ft.m),Jt.canvas.width=Bt.width,Jt.canvas.height=Bt.height,Jt.viewport(0,0,Bt.width,Bt.height),Jt.activeTexture(Jt.TEXTURE0),Ft.h.bindTexture2d(Bt.glName),Jt.enableVertexAttribArray(Ln.I),Jt.bindBuffer(Jt.ARRAY_BUFFER,Ft.s),Jt.vertexAttribPointer(Ln.I,2,Jt.FLOAT,!1,0,0),Jt.enableVertexAttribArray(Ln.H),Jt.bindBuffer(Jt.ARRAY_BUFFER,Ft.o),Jt.vertexAttribPointer(Ln.H,2,Jt.FLOAT,!1,0,0),Jt.bindFramebuffer(Jt.DRAW_FRAMEBUFFER?Jt.DRAW_FRAMEBUFFER:Jt.FRAMEBUFFER,null),Jt.clearColor(0,0,0,0),Jt.clear(Jt.COLOR_BUFFER_BIT),Jt.colorMask(!0,!0,!0,!0),Jt.drawArrays(Jt.TRIANGLE_FAN,0,4),Jt.disableVertexAttribArray(Ln.I),Jt.disableVertexAttribArray(Ln.H),Jt.bindBuffer(Jt.ARRAY_BUFFER,null),Ft.h.bindTexture2d(0)}function _h(Ft){this.g=Ft}var em=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function dp(Ft,Bt){return Bt+Ft}function bp(Ft,Bt){window[Ft]=Bt}function jt(Ft){var Bt=document.createElement("script");return Bt.setAttribute("src",Ft),Bt.setAttribute("crossorigin","anonymous"),new nt(function(Jt){Bt.addEventListener("load",function(){Jt()},!1),Bt.addEventListener("error",function(){Jt()},!1),document.body.appendChild(Bt)})}function nn(){return Oo(this,function Ft(){return Ls(Ft,function(Bt){switch(Bt.g){case 1:return Bt.m=2,pr(Bt,WebAssembly.instantiate(em),4);case 4:Bt.g=3,Bt.m=0;break;case 2:return Bt.m=0,Bt.j=null,Bt.return(!1);case 3:return Bt.return(!0)}})})}function sn(Ft){if(this.g=Ft,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=Ft&&Ft.locateFile||dp,typeof window=="object")var Bt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Bt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Bt,Ft.options){Bt=Tn(Object.keys(Ft.options));for(var Jt=Bt.next();!Jt.done;Jt=Bt.next()){Jt=Jt.value;var Ln=Ft.options[Jt].default;Ln!==void 0&&(this.j[Jt]=typeof Ln=="function"?Ln():Ln)}}}Et=sn.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Hn(Ft,Bt){return Ft.g.files===void 0?[]:typeof Ft.g.files=="function"?Ft.g.files(Bt):Ft.g.files}function fr(Ft){return Oo(Ft,function Bt(){var Jt=this,Ln,$n,hr,qn,Cr,Fr,wt,Qt,an,Cn,Xn;return Ls(Bt,function(tr){switch(tr.g){case 1:return Ln=Jt,Jt.R?($n=Hn(Jt,Jt.j),pr(tr,nn(),2)):tr.return();case 2:if(hr=tr.h,typeof window=="object")return bp("createMediapipeSolutionsWasm",{locateFile:Jt.locateFile}),bp("createMediapipeSolutionsPackedAssets",{locateFile:Jt.locateFile}),Fr=$n.filter(function(Kn){return Kn.data!==void 0}),wt=$n.filter(function(Kn){return Kn.data===void 0}),Qt=nt.all(Fr.map(function(Kn){var Rr=Or(Ln,Kn.url);if(Kn.path!==void 0){var Er=Kn.path;Rr=Rr.then(function(_i){return Ln.overrideFile(Er,_i),nt.resolve(_i)})}return Rr})),an=nt.all(wt.map(function(Kn){return Kn.simd===void 0||Kn.simd&&hr||!Kn.simd&&!hr?jt(Ln.locateFile(Kn.url,Ln.S)):nt.resolve()})).then(function(){return Oo(Ln,function Kn(){var Rr,Er,_i=this;return Ls(Kn,function(ho){if(ho.g==1)return Rr=window.createMediapipeSolutionsWasm,Er=window.createMediapipeSolutionsPackedAssets,pr(ho,Rr(Er),2);_i.h=ho.h,ho.g=0})})}),Cn=function(){return Oo(Ln,function Kn(){var Rr=this;return Ls(Kn,function(Er){return Rr.g.graph&&Rr.g.graph.url?Er=pr(Er,Or(Rr,Rr.g.graph.url),0):(Er.g=0,Er=void 0),Er})})}(),pr(tr,nt.all([an,Qt,Cn]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return qn=$n.filter(function(Kn){return Kn.simd===void 0||Kn.simd&&hr||!Kn.simd&&!hr}).map(function(Kn){return Ln.locateFile(Kn.url,Ln.S)}),importScripts.apply(null,Mn(qn)),pr(tr,createMediapipeSolutionsWasm(Module),6);case 6:Jt.h=tr.h,Jt.l=new OffscreenCanvas(1,1),Jt.h.canvas=Jt.l,Cr=Jt.h.GL.createContext(Jt.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),Jt.h.GL.makeContextCurrent(Cr),tr.g=4;break;case 7:if(Jt.l=document.createElement("canvas"),Xn=Jt.l.getContext("webgl2",{}),!Xn&&(Xn=Jt.l.getContext("webgl",{}),!Xn))return alert("Failed to create WebGL canvas context when passing video frame."),tr.return();Jt.D=Xn,Jt.h.canvas=Jt.l,Jt.h.createContext(Jt.l,!0,!0,{});case 4:Jt.i=new Jt.h.SolutionWasm,Jt.R=!1,tr.g=0}})})}function Mr(Ft){return Oo(Ft,function Bt(){var Jt=this,Ln,$n,hr,qn,Cr,Fr,wt,Qt;return Ls(Bt,function(an){if(an.g==1){if(Jt.g.graph&&Jt.g.graph.url&&Jt.P===Jt.g.graph.url)return an.return();if(Jt.o=!0,!Jt.g.graph||!Jt.g.graph.url){an.g=2;return}return Jt.P=Jt.g.graph.url,pr(an,Or(Jt,Jt.g.graph.url),3)}for(an.g!=2&&(Ln=an.h,Jt.i.loadGraph(Ln)),$n=Tn(Object.keys(Jt.B)),hr=$n.next();!hr.done;hr=$n.next())qn=hr.value,Jt.i.overrideFile(qn,Jt.B[qn]);if(Jt.B={},Jt.g.listeners)for(Cr=Tn(Jt.g.listeners),Fr=Cr.next();!Fr.done;Fr=Cr.next())wt=Fr.value,$o(Jt,wt);Qt=Jt.j,Jt.j={},Jt.setOptions(Qt),an.g=0})})}Et.reset=function(){return Oo(this,function Ft(){var Bt=this;return Ls(Ft,function(Jt){Bt.i&&(Bt.i.reset(),Bt.m={},Bt.s={}),Jt.g=0})})},Et.setOptions=function(Ft,Bt){var Jt=this;if(Bt=Bt||this.g.options){for(var Ln=[],$n=[],hr={},qn=Tn(Object.keys(Ft)),Cr=qn.next();!Cr.done;hr={K:hr.K,L:hr.L},Cr=qn.next()){var Fr=Cr.value;Fr in this.j&&this.j[Fr]===Ft[Fr]||(this.j[Fr]=Ft[Fr],Cr=Bt[Fr],Cr!==void 0&&(Cr.onChange&&(hr.K=Cr.onChange,hr.L=Ft[Fr],Ln.push(function(wt){return function(){return Oo(Jt,function Qt(){var an,Cn=this;return Ls(Qt,function(Xn){if(Xn.g==1)return pr(Xn,wt.K(wt.L),2);an=Xn.h,an===!0&&(Cn.o=!0),Xn.g=0})})}}(hr))),Cr.graphOptionXref&&(Fr={valueNumber:Cr.type===1?Ft[Fr]:0,valueBoolean:Cr.type===0?Ft[Fr]:!1,valueString:Cr.type===2?Ft[Fr]:""},Cr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Cr.graphOptionXref),Fr),$n.push(Cr))))}(Ln.length!==0||$n.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat($n),this.u=(this.u===void 0?[]:this.u).concat(Ln))}};function dr(Ft){return Oo(Ft,function Bt(){var Jt=this,Ln,$n,hr,qn,Cr,Fr,wt;return Ls(Bt,function(Qt){switch(Qt.g){case 1:if(!Jt.o)return Qt.return();if(!Jt.u){Qt.g=2;break}Ln=Tn(Jt.u),$n=Ln.next();case 3:if($n.done){Qt.g=5;break}return hr=$n.value,pr(Qt,hr(),4);case 4:$n=Ln.next(),Qt.g=3;break;case 5:Jt.u=void 0;case 2:if(Jt.A){for(qn=new Jt.h.GraphOptionChangeRequestList,Cr=Tn(Jt.A),Fr=Cr.next();!Fr.done;Fr=Cr.next())wt=Fr.value,qn.push_back(wt);Jt.i.changeOptions(qn),qn.delete(),Jt.A=void 0}Jt.o=!1,Qt.g=0}})})}Et.initialize=function(){return Oo(this,function Ft(){var Bt=this;return Ls(Ft,function(Jt){return Jt.g==1?pr(Jt,fr(Bt),2):Jt.g!=3?pr(Jt,Mr(Bt),3):pr(Jt,dr(Bt),0)})})};function Or(Ft,Bt){return Oo(Ft,function Jt(){var Ln=this,$n,hr;return Ls(Jt,function(qn){return Bt in Ln.F?qn.return(Ln.F[Bt]):($n=Ln.locateFile(Bt,""),hr=fetch($n).then(function(Cr){return Cr.arrayBuffer()}),Ln.F[Bt]=hr,qn.return(hr))})})}Et.overrideFile=function(Ft,Bt){this.i?this.i.overrideFile(Ft,Bt):this.B[Ft]=Bt},Et.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(Ft,Bt){return Oo(this,function Jt(){var Ln=this,$n,hr,qn,Cr,Fr,wt,Qt,an,Cn;return Ls(Jt,function(Xn){switch(Xn.g){case 1:return Ln.g.inputs?($n=1e3*(Bt??performance.now()),pr(Xn,Ln.C,2)):Xn.return();case 2:return pr(Xn,Ln.initialize(),3);case 3:for(hr=new Ln.h.PacketDataList,qn=Tn(Object.keys(Ft)),Cr=qn.next();!Cr.done;Cr=qn.next())if(Fr=Cr.value,wt=Ln.g.inputs[Fr]){e:{var tr=Ln,Kn=Ft[Fr];switch(wt.type){case"video":var Rr=tr.m[wt.stream];if(Rr||(Rr=new Pp(tr.h,tr.D),tr.m[wt.stream]=Rr),tr=Rr,tr.l===0&&(tr.l=tr.h.createTexture()),typeof HTMLVideoElement<"u"&&Kn instanceof HTMLVideoElement){var Er=Kn.videoWidth;Rr=Kn.videoHeight}else typeof HTMLImageElement<"u"&&Kn instanceof HTMLImageElement?(Er=Kn.naturalWidth,Rr=Kn.naturalHeight):(Er=Kn.width,Rr=Kn.height);Rr={glName:tr.l,width:Er,height:Rr},Er=tr.g,Er.canvas.width=Rr.width,Er.canvas.height=Rr.height,Er.activeTexture(Er.TEXTURE0),tr.h.bindTexture2d(tr.l),Er.texImage2D(Er.TEXTURE_2D,0,Er.RGBA,Er.RGBA,Er.UNSIGNED_BYTE,Kn),tr.h.bindTexture2d(0),tr=Rr;break e;case"detections":for(Rr=tr.m[wt.stream],Rr||(Rr=new _h(tr.h),tr.m[wt.stream]=Rr),tr=Rr,tr.data||(tr.data=new tr.g.DetectionListData),tr.data.reset(Kn.length),Rr=0;Rr<Kn.length;++Rr){Er=Kn[Rr];var _i=tr.data,ho=_i.setBoundingBox,Qo=Rr,Ro=Er.T,zr=new au;Eo(zr,1,Ro.Z),Eo(zr,2,Ro.$),Eo(zr,3,Ro.height),Eo(zr,4,Ro.width),Eo(zr,5,Ro.rotation),Eo(zr,6,Ro.X);var yo=Ro=new $s;$l(yo,1,gs(zr,1)),$l(yo,2,gs(zr,2)),$l(yo,3,gs(zr,3)),$l(yo,4,gs(zr,4)),$l(yo,5,gs(zr,5));var wo=gs(zr,6);if(wo!=null&&wo!=null){ds(yo.g,48);var Po=yo.g,Fo=wo;wo=0>Fo,Fo=Math.abs(Fo);var At=Fo>>>0;for(Fo=Math.floor((Fo-At)/4294967296),Fo>>>=0,wo&&(Fo=~Fo>>>0,At=(~At>>>0)+1,4294967295<At&&(At=0,Fo++,4294967295<Fo&&(Fo=0))),Ns=At,Cl=Fo,wo=Ns,At=Cl;0<At||127<wo;)Po.push(wo&127|128),wo=(wo>>>7|At<<25)>>>0,At>>>=7;Po.push(wo)}if(kr(zr,yo),Ro=zl(Ro),ho.call(_i,Qo,Ro),Er.O)for(_i=0;_i<Er.O.length;++_i)zr=Er.O[_i],yo=!!zr.visibility,ho=tr.data,Qo=ho.addNormalizedLandmark,Ro=Rr,zr=Object.assign(Object.assign({},zr),{visibility:yo?zr.visibility:0}),yo=new Ru,Eo(yo,1,zr.x),Eo(yo,2,zr.y),Eo(yo,3,zr.z),zr.visibility&&Eo(yo,4,zr.visibility),Po=zr=new $s,$l(Po,1,gs(yo,1)),$l(Po,2,gs(yo,2)),$l(Po,3,gs(yo,3)),$l(Po,4,gs(yo,4)),$l(Po,5,gs(yo,5)),kr(yo,Po),zr=zl(zr),Qo.call(ho,Ro,zr);if(Er.M)for(_i=0;_i<Er.M.length;++_i){if(ho=tr.data,Qo=ho.addClassification,Ro=Rr,zr=Er.M[_i],yo=new Ps,Eo(yo,2,zr.Y),zr.index&&Eo(yo,1,zr.index),zr.label&&Eo(yo,3,zr.label),zr.displayName&&Eo(yo,4,zr.displayName),Po=zr=new $s,At=gs(yo,1),At!=null&&At!=null)if(ds(Po.g,8),wo=Po.g,0<=At)ds(wo,At);else{for(Fo=0;9>Fo;Fo++)wo.push(At&127|128),At>>=7;wo.push(1)}$l(Po,2,gs(yo,2)),wo=gs(yo,3),wo!=null&&(wo=ep(wo),ds(Po.g,26),ds(Po.g,wo.length),cs(Po,Po.g.end()),cs(Po,wo)),wo=gs(yo,4),wo!=null&&(wo=ep(wo),ds(Po.g,34),ds(Po.g,wo.length),cs(Po,Po.g.end()),cs(Po,wo)),kr(yo,Po),zr=zl(zr),Qo.call(ho,Ro,zr)}}tr=tr.data;break e;default:tr={}}}switch(Qt=tr,an=wt.stream,wt.type){case"video":hr.pushTexture2d(Object.assign(Object.assign({},Qt),{stream:an,timestamp:$n}));break;case"detections":Cn=Qt,Cn.stream=an,Cn.timestamp=$n,hr.pushDetectionList(Cn);break;default:throw Error("Unknown input config type: '"+wt.type+"'")}}return Ln.i.send(hr),pr(Xn,Ln.C,4);case 4:hr.delete(),Xn.g=0}})})};function Qr(Ft,Bt,Jt){return Oo(Ft,function Ln(){var $n,hr,qn,Cr,Fr,wt,Qt=this,an,Cn,Xn,tr,Kn,Rr,Er,_i;return Ls(Ln,function(ho){switch(ho.g){case 1:if(!Jt)return ho.return(Bt);for($n={},hr=0,qn=Tn(Object.keys(Jt)),Cr=qn.next();!Cr.done;Cr=qn.next())Fr=Cr.value,wt=Jt[Fr],typeof wt!="string"&&wt.type==="texture"&&Bt[wt.stream]!==void 0&&++hr;1<hr&&(Qt.G=!1),an=Tn(Object.keys(Jt)),Cr=an.next();case 2:if(Cr.done){ho.g=4;break}if(Cn=Cr.value,Xn=Jt[Cn],typeof Xn=="string")return Er=$n,_i=Cn,pr(ho,xo(Qt,Cn,Bt[Xn]),14);if(tr=Bt[Xn.stream],Xn.type==="detection_list"){if(tr){for(var Qo=tr.getRectList(),Ro=tr.getLandmarksList(),zr=tr.getClassificationsList(),yo=[],wo=0;wo<Qo.size();++wo){var Po=Qo.get(wo);e:{var Fo=new au;for(Po=new Ys(Po);Al(Po);)switch(Po.i){case 13:var At=as(Po);Eo(Fo,1,At);break;case 21:At=as(Po),Eo(Fo,2,At);break;case 29:At=as(Po),Eo(Fo,3,At);break;case 37:At=as(Po),Eo(Fo,4,At);break;case 45:At=as(Po),Eo(Fo,5,At);break;case 48:At=ga(Po.g),Eo(Fo,6,At);break;default:if(!Xr(Fo,Po))break e}}Fo={Z:Xo(Fo,1),$:Xo(Fo,2),height:Xo(Fo,3),width:Xo(Fo,4),rotation:Xo(Fo,5,0),X:Ms(Fo,6,0)},Po=Il(su(Ro.get(wo)),Ru).map(lp);var Kt=zr.get(wo);e:for(At=new iu,Kt=new Ys(Kt);Al(Kt);)switch(Kt.i){case 10:At.addClassification(yl(Kt,new Ps,Ll));break;default:if(!Xr(At,Kt))break e}Fo={T:Fo,O:Po,M:Uu(At)},yo.push(Fo)}Qo=yo}else Qo=[];$n[Cn]=Qo,ho.g=7;break}if(Xn.type==="proto_list"){if(tr){for(Qo=Array(tr.size()),Ro=0;Ro<tr.size();Ro++)Qo[Ro]=tr.get(Ro);tr.delete()}else Qo=[];$n[Cn]=Qo,ho.g=7;break}if(tr===void 0){ho.g=3;break}if(Xn.type==="float_list"){$n[Cn]=tr,ho.g=7;break}if(Xn.type==="proto"){$n[Cn]=tr,ho.g=7;break}if(Xn.type!=="texture")throw Error("Unknown output config type: '"+Xn.type+"'");return Kn=Qt.s[Cn],Kn||(Kn=new Pp(Qt.h,Qt.D),Qt.s[Cn]=Kn),pr(ho,bu(Kn,tr,Qt.G),13);case 13:Rr=ho.h,$n[Cn]=Rr;case 7:Xn.transform&&$n[Cn]&&($n[Cn]=Xn.transform($n[Cn])),ho.g=3;break;case 14:Er[_i]=ho.h;case 3:Cr=an.next(),ho.g=2;break;case 4:return ho.return($n)}})})}function xo(Ft,Bt,Jt){return Oo(Ft,function Ln(){var $n=this,hr;return Ls(Ln,function(qn){return typeof Jt=="number"||Jt instanceof Uint8Array||Jt instanceof $n.h.Uint8BlobList?qn.return(Jt):Jt instanceof $n.h.Texture2dDataOut?(hr=$n.s[Bt],hr||(hr=new Pp($n.h,$n.D),$n.s[Bt]=hr),qn.return(bu(hr,Jt,$n.G))):qn.return(void 0)})})}function $o(Ft,Bt){for(var Jt=Bt.name||"$",Ln=[].concat(Mn(Bt.wants)),$n=new Ft.h.StringList,hr=Tn(Bt.wants),qn=hr.next();!qn.done;qn=hr.next())$n.push_back(qn.value);hr=Ft.h.PacketListener.implement({onResults:function(Cr){for(var Fr={},wt=0;wt<Bt.wants.length;++wt)Fr[Ln[wt]]=Cr.get(wt);var Qt=Ft.listeners[Jt];Qt&&(Ft.C=Qr(Ft,Fr,Bt.outs).then(function(an){an=Qt(an);for(var Cn=0;Cn<Bt.wants.length;++Cn){var Xn=Fr[Ln[Cn]];typeof Xn=="object"&&Xn.hasOwnProperty&&Xn.hasOwnProperty("delete")&&Xn.delete()}an&&(Ft.C=an)}))}}),Ft.i.attachMultiListener($n,hr),$n.delete()}Et.onResults=function(Ft,Bt){this.listeners[Bt||"$"]=Ft},$a("Solution",sn),$a("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Uo(Ft){Ft=Op(Ft);var Bt=Ft.getMesh();if(!Bt)return Ft;var Jt=new Float32Array(Bt.getVertexBufferList());Bt.getVertexBufferList=function(){return Jt};var Ln=new Uint32Array(Bt.getIndexBufferList());return Bt.getIndexBufferList=function(){return Ln},Ft}var ms={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(Ft){return Ft.map(Uo)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(Ft){return Ft.map(function(Bt){return Il(su(Bt),Ru).map(lp)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},Yo=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Lo=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Jo=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],fs=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Os=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Ws=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Us=[].concat(Mn(Yo),Mn(Lo),Mn(Jo),Mn(fs),Mn(Os),Mn(Ws));function Zl(Ft){Ft=Ft||{},Ft=Object.assign(Object.assign({},ms),Ft),this.g=new sn(Ft)}Et=Zl.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(Ft){this.g.onResults(Ft)},Et.initialize=function(){return Oo(this,function Ft(){var Bt=this;return Ls(Ft,function(Jt){return pr(Jt,Bt.g.initialize(),0)})})},Et.reset=function(){this.g.reset()},Et.send=function(Ft){return Oo(this,function Bt(){var Jt=this;return Ls(Bt,function(Ln){return pr(Ln,Jt.g.send(Ft),0)})})},Et.setOptions=function(Ft){this.g.setOptions(Ft)},$a("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),$a("FaceMesh",Zl),$a("FACEMESH_LIPS",Yo),$a("FACEMESH_LEFT_EYE",Lo),$a("FACEMESH_LEFT_EYEBROW",Jo),$a("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),$a("FACEMESH_RIGHT_EYE",fs),$a("FACEMESH_RIGHT_EYEBROW",Os),$a("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),$a("FACEMESH_FACE_OVAL",Ws),$a("FACEMESH_CONTOURS",Us),$a("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),$a("matrixDataToMatrix",function(Ft){for(var Bt=Ft.getCols(),Jt=Ft.getRows(),Ln=Ft.getPackedDataList(),$n=[],hr=0;hr<Jt;hr++)$n.push(Array(Bt));for(hr=0;hr<Jt;hr++)for(var qn=0;qn<Bt;qn++){var Cr=Ft.getLayout()===1?hr*Bt+qn:qn*Jt+hr;$n[hr][qn]=Ln[Cr]}return $n}),$a("VERSION","0.4.1633559619")}).call(im);const Jp={};(function(){var Et;function St(mt){var Ot=0;return function(){return Ot<mt.length?{done:!1,value:mt[Ot++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(mt,Ot,Pt){return mt==Array.prototype||mt==Object.prototype||(mt[Ot]=Pt.value),mt};function Xt(mt){mt=[typeof globalThis=="object"&&globalThis,mt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Ot=0;Ot<mt.length;++Ot){var Pt=mt[Ot];if(Pt&&Pt.Math==Math)return Pt}throw Error("Cannot find global object")}var zt=Xt(this);function vn(mt,Ot){if(Ot)e:{var Pt=zt;mt=mt.split(".");for(var Ut=0;Ut<mt.length-1;Ut++){var fn=mt[Ut];if(!(fn in Pt))break e;Pt=Pt[fn]}mt=mt[mt.length-1],Ut=Pt[mt],Ot=Ot(Ut),Ot!=Ut&&Ot!=null&&xt(Pt,mt,{configurable:!0,writable:!0,value:Ot})}}vn("Symbol",function(mt){function Ot(In){if(this instanceof Ot)throw new TypeError("Symbol is not a constructor");return new Pt(Ut+(In||"")+"_"+fn++,In)}function Pt(In,kn){this.g=In,xt(this,"description",{configurable:!0,writable:!0,value:kn})}if(mt)return mt;Pt.prototype.toString=function(){return this.g};var Ut="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",fn=0;return Ot}),vn("Symbol.iterator",function(mt){if(mt)return mt;mt=Symbol("Symbol.iterator");for(var Ot="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Pt=0;Pt<Ot.length;Pt++){var Ut=zt[Ot[Pt]];typeof Ut=="function"&&typeof Ut.prototype[mt]!="function"&&xt(Ut.prototype,mt,{configurable:!0,writable:!0,value:function(){return On(St(this))}})}return mt});function On(mt){return mt={next:mt},mt[Symbol.iterator]=function(){return this},mt}function Tn(mt){var Ot=typeof Symbol<"u"&&Symbol.iterator&&mt[Symbol.iterator];return Ot?Ot.call(mt):{next:St(mt)}}function Mn(mt){if(!(mt instanceof Array)){mt=Tn(mt);for(var Ot,Pt=[];!(Ot=mt.next()).done;)Pt.push(Ot.value);mt=Pt}return mt}var br=typeof Object.create=="function"?Object.create:function(mt){function Ot(){}return Ot.prototype=mt,new Ot},Nr;if(typeof Object.setPrototypeOf=="function")Nr=Object.setPrototypeOf;else{var Wr;e:{var Ao={a:!0},Mo={};try{Mo.__proto__=Ao,Wr=Mo.a;break e}catch{}Wr=!1}Nr=Wr?function(mt,Ot){if(mt.__proto__=Ot,mt.__proto__!==Ot)throw new TypeError(mt+" is not extensible");return mt}:null}var Dr=Nr;function Br(mt,Ot){if(mt.prototype=br(Ot.prototype),mt.prototype.constructor=mt,Dr)Dr(mt,Ot);else for(var Pt in Ot)if(Pt!="prototype")if(Object.defineProperties){var Ut=Object.getOwnPropertyDescriptor(Ot,Pt);Ut&&Object.defineProperty(mt,Pt,Ut)}else mt[Pt]=Ot[Pt];mt.ka=Ot.prototype}function Ko(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function Bo(mt){if(mt.l)throw new TypeError("Generator is already running");mt.l=!0}Ko.prototype.o=function(mt){this.h=mt};function ys(mt,Ot){mt.j={V:Ot,X:!0},mt.g=mt.m||mt.s}Ko.prototype.return=function(mt){this.j={return:mt},this.g=this.s};function pr(mt,Ot,Pt){return mt.g=Pt,{value:Ot}}function Zu(mt){this.g=new Ko,this.h=mt}function Cu(mt,Ot){Bo(mt.g);var Pt=mt.g.i;return Pt?xa(mt,"return"in Pt?Pt.return:function(Ut){return{value:Ut,done:!0}},Ot,mt.g.return):(mt.g.return(Ot),hs(mt))}function xa(mt,Ot,Pt,Ut){try{var fn=Ot.call(mt.g.i,Pt);if(!(fn instanceof Object))throw new TypeError("Iterator result "+fn+" is not an object");if(!fn.done)return mt.g.l=!1,fn;var In=fn.value}catch(kn){return mt.g.i=null,ys(mt.g,kn),hs(mt)}return mt.g.i=null,Ut.call(mt.g,In),hs(mt)}function hs(mt){for(;mt.g.g;)try{var Ot=mt.h(mt.g);if(Ot)return mt.g.l=!1,{value:Ot.value,done:!1}}catch(Pt){mt.g.h=void 0,ys(mt.g,Pt)}if(mt.g.l=!1,mt.g.j){if(Ot=mt.g.j,mt.g.j=null,Ot.X)throw Ot.V;return{value:Ot.return,done:!0}}return{value:void 0,done:!0}}function jp(mt){this.next=function(Ot){return Bo(mt.g),mt.g.i?Ot=xa(mt,mt.g.i.next,Ot,mt.g.o):(mt.g.o(Ot),Ot=hs(mt)),Ot},this.throw=function(Ot){return Bo(mt.g),mt.g.i?Ot=xa(mt,mt.g.i.throw,Ot,mt.g.o):(ys(mt.g,Ot),Ot=hs(mt)),Ot},this.return=function(Ot){return Cu(mt,Ot)},this[Symbol.iterator]=function(){return this}}function Ls(mt){function Ot(Ut){return mt.next(Ut)}function Pt(Ut){return mt.throw(Ut)}return new nt(function(Ut,fn){function In(kn){kn.done?Ut(kn.value):nt.resolve(kn.value).then(Ot,Pt).then(In,fn)}In(mt.next())})}function io(mt){return Ls(new jp(new Zu(mt)))}vn("Promise",function(mt){function Ot(kn){this.h=0,this.i=void 0,this.g=[],this.o=!1;var zn=this.j();try{kn(zn.resolve,zn.reject)}catch(ar){zn.reject(ar)}}function Pt(){this.g=null}function Ut(kn){return kn instanceof Ot?kn:new Ot(function(zn){zn(kn)})}if(mt)return mt;Pt.prototype.h=function(kn){if(this.g==null){this.g=[];var zn=this;this.i(function(){zn.l()})}this.g.push(kn)};var fn=zt.setTimeout;Pt.prototype.i=function(kn){fn(kn,0)},Pt.prototype.l=function(){for(;this.g&&this.g.length;){var kn=this.g;this.g=[];for(var zn=0;zn<kn.length;++zn){var ar=kn[zn];kn[zn]=null;try{ar()}catch(mr){this.j(mr)}}}this.g=null},Pt.prototype.j=function(kn){this.i(function(){throw kn})},Ot.prototype.j=function(){function kn(mr){return function(gr){ar||(ar=!0,mr.call(zn,gr))}}var zn=this,ar=!1;return{resolve:kn(this.D),reject:kn(this.l)}},Ot.prototype.D=function(kn){if(kn===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(kn instanceof Ot)this.G(kn);else{e:switch(typeof kn){case"object":var zn=kn!=null;break e;case"function":zn=!0;break e;default:zn=!1}zn?this.A(kn):this.m(kn)}},Ot.prototype.A=function(kn){var zn=void 0;try{zn=kn.then}catch(ar){this.l(ar);return}typeof zn=="function"?this.H(zn,kn):this.m(kn)},Ot.prototype.l=function(kn){this.s(2,kn)},Ot.prototype.m=function(kn){this.s(1,kn)},Ot.prototype.s=function(kn,zn){if(this.h!=0)throw Error("Cannot settle("+kn+", "+zn+"): Promise already settled in state"+this.h);this.h=kn,this.i=zn,this.h===2&&this.F(),this.B()},Ot.prototype.F=function(){var kn=this;fn(function(){if(kn.C()){var zn=zt.console;typeof zn<"u"&&zn.error(kn.i)}},1)},Ot.prototype.C=function(){if(this.o)return!1;var kn=zt.CustomEvent,zn=zt.Event,ar=zt.dispatchEvent;return typeof ar>"u"?!0:(typeof kn=="function"?kn=new kn("unhandledrejection",{cancelable:!0}):typeof zn=="function"?kn=new zn("unhandledrejection",{cancelable:!0}):(kn=zt.document.createEvent("CustomEvent"),kn.initCustomEvent("unhandledrejection",!1,!0,kn)),kn.promise=this,kn.reason=this.i,ar(kn))},Ot.prototype.B=function(){if(this.g!=null){for(var kn=0;kn<this.g.length;++kn)In.h(this.g[kn]);this.g=null}};var In=new Pt;return Ot.prototype.G=function(kn){var zn=this.j();kn.K(zn.resolve,zn.reject)},Ot.prototype.H=function(kn,zn){var ar=this.j();try{kn.call(zn,ar.resolve,ar.reject)}catch(mr){ar.reject(mr)}},Ot.prototype.then=function(kn,zn){function ar(Kr,Jr){return typeof Kr=="function"?function(lo){try{mr(Kr(lo))}catch(ao){gr(ao)}}:Jr}var mr,gr,Pr=new Ot(function(Kr,Jr){mr=Kr,gr=Jr});return this.K(ar(kn,mr),ar(zn,gr)),Pr},Ot.prototype.catch=function(kn){return this.then(void 0,kn)},Ot.prototype.K=function(kn,zn){function ar(){switch(mr.h){case 1:kn(mr.i);break;case 2:zn(mr.i);break;default:throw Error("Unexpected state: "+mr.h)}}var mr=this;this.g==null?In.h(ar):this.g.push(ar),this.o=!0},Ot.resolve=Ut,Ot.reject=function(kn){return new Ot(function(zn,ar){ar(kn)})},Ot.race=function(kn){return new Ot(function(zn,ar){for(var mr=Tn(kn),gr=mr.next();!gr.done;gr=mr.next())Ut(gr.value).K(zn,ar)})},Ot.all=function(kn){var zn=Tn(kn),ar=zn.next();return ar.done?Ut([]):new Ot(function(mr,gr){function Pr(lo){return function(ao){Kr[lo]=ao,Jr--,Jr==0&&mr(Kr)}}var Kr=[],Jr=0;do Kr.push(void 0),Jr++,Ut(ar.value).K(Pr(Kr.length-1),gr),ar=zn.next();while(!ar.done)})},Ot});function Nu(mt,Ot){mt instanceof String&&(mt+="");var Pt=0,Ut=!1,fn={next:function(){if(!Ut&&Pt<mt.length){var In=Pt++;return{value:Ot(In,mt[In]),done:!1}}return Ut=!0,{done:!0,value:void 0}}};return fn[Symbol.iterator]=function(){return fn},fn}var Up=typeof Object.assign=="function"?Object.assign:function(mt,Ot){for(var Pt=1;Pt<arguments.length;Pt++){var Ut=arguments[Pt];if(Ut)for(var fn in Ut)Object.prototype.hasOwnProperty.call(Ut,fn)&&(mt[fn]=Ut[fn])}return mt};vn("Object.assign",function(mt){return mt||Up}),vn("Object.is",function(mt){return mt||function(Ot,Pt){return Ot===Pt?Ot!==0||1/Ot===1/Pt:Ot!==Ot&&Pt!==Pt}}),vn("Array.prototype.includes",function(mt){return mt||function(Ot,Pt){var Ut=this;Ut instanceof String&&(Ut=String(Ut));var fn=Ut.length;for(Pt=Pt||0,0>Pt&&(Pt=Math.max(Pt+fn,0));Pt<fn;Pt++){var In=Ut[Pt];if(In===Ot||Object.is(In,Ot))return!0}return!1}}),vn("String.prototype.includes",function(mt){return mt||function(Ot,Pt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Ot instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Ot,Pt||0)!==-1}}),vn("Array.prototype.keys",function(mt){return mt||function(){return Nu(this,function(Ot){return Ot})}});var $a=this||self;function jo(mt,Ot){mt=mt.split(".");var Pt=$a;mt[0]in Pt||typeof Pt.execScript>"u"||Pt.execScript("var "+mt[0]);for(var Ut;mt.length&&(Ut=mt.shift());)mt.length||Ot===void 0?Pt[Ut]&&Pt[Ut]!==Object.prototype[Ut]?Pt=Pt[Ut]:Pt=Pt[Ut]={}:Pt[Ut]=Ot}function Tl(mt){throw mt}function mu(mt,Ot){Tl(Error("Invalid wire type: "+mt+" (at position "+Ot+")"))}function Ku(){Tl(Error("Failed to read varint, encoding is invalid."))}function vp(mt,Ot){return Ot=String.fromCharCode.apply(null,Ot),mt==null?Ot:mt+Ot}var ep,Ep=typeof TextDecoder<"u",Tu,Mu=typeof TextEncoder<"u";function wp(mt){if(Mu)mt=(Tu||(Tu=new TextEncoder)).encode(mt);else{var Ot=void 0;Ot=Ot===void 0?!1:Ot;for(var Pt=0,Ut=new Uint8Array(3*mt.length),fn=0;fn<mt.length;fn++){var In=mt.charCodeAt(fn);if(128>In)Ut[Pt++]=In;else{if(2048>In)Ut[Pt++]=In>>6|192;else{if(55296<=In&&57343>=In){if(56319>=In&&fn<mt.length){var kn=mt.charCodeAt(++fn);if(56320<=kn&&57343>=kn){In=1024*(In-55296)+kn-56320+65536,Ut[Pt++]=In>>18|240,Ut[Pt++]=In>>12&63|128,Ut[Pt++]=In>>6&63|128,Ut[Pt++]=In&63|128;continue}else fn--}if(Ot)throw Error("Found an unpaired surrogate");In=65533}Ut[Pt++]=In>>12|224,Ut[Pt++]=In>>6&63|128}Ut[Pt++]=In&63|128}}mt=Ut.subarray(0,Pt)}return mt}var yp={},Kl=null;function Yl(mt){var Ot;Ot===void 0&&(Ot=0),Ns(),Ot=yp[Ot];for(var Pt=Array(Math.floor(mt.length/3)),Ut=Ot[64]||"",fn=0,In=0;fn<mt.length-2;fn+=3){var kn=mt[fn],zn=mt[fn+1],ar=mt[fn+2],mr=Ot[kn>>2];kn=Ot[(kn&3)<<4|zn>>4],zn=Ot[(zn&15)<<2|ar>>6],ar=Ot[ar&63],Pt[In++]=mr+kn+zn+ar}switch(mr=0,ar=Ut,mt.length-fn){case 2:mr=mt[fn+1],ar=Ot[(mr&15)<<2]||Ut;case 1:mt=mt[fn],Pt[In]=Ot[mt>>2]+Ot[(mt&3)<<4|mr>>4]+ar+Ut}return Pt.join("")}function tp(mt){var Ot=mt.length,Pt=3*Ot/4;Pt%3?Pt=Math.floor(Pt):"=.".indexOf(mt[Ot-1])!=-1&&(Pt="=.".indexOf(mt[Ot-2])!=-1?Pt-2:Pt-1);var Ut=new Uint8Array(Pt),fn=0;return Ju(mt,function(In){Ut[fn++]=In}),Ut.subarray(0,fn)}function Ju(mt,Ot){function Pt(ar){for(;Ut<mt.length;){var mr=mt.charAt(Ut++),gr=Kl[mr];if(gr!=null)return gr;if(!/^[\s\xa0]*$/.test(mr))throw Error("Unknown base64 encoding at char: "+mr)}return ar}Ns();for(var Ut=0;;){var fn=Pt(-1),In=Pt(0),kn=Pt(64),zn=Pt(64);if(zn===64&&fn===-1)break;Ot(fn<<2|In>>4),kn!=64&&(Ot(In<<4&240|kn>>2),zn!=64&&Ot(kn<<6&192|zn))}}function Ns(){if(!Kl){Kl={};for(var mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ot=["+/=","+/","-_=","-_.","-_"],Pt=0;5>Pt;Pt++){var Ut=mt.concat(Ot[Pt].split(""));yp[Pt]=Ut;for(var fn=0;fn<Ut.length;fn++){var In=Ut[fn];Kl[In]===void 0&&(Kl[In]=fn)}}}}var Cl=typeof Uint8Array=="function",Jl;function Ss(mt){if(this.g=mt,mt!==null&&mt.length===0)throw Error("ByteString should be constructed with non-empty values")}var ga=typeof Uint8Array.prototype.slice=="function";function gu(mt,Ot,Pt){return Ot===Pt?Jl||(Jl=new Uint8Array(0)):ga?mt.slice(Ot,Pt):new Uint8Array(mt.subarray(Ot,Pt))}var Dl=0,ds=0;function Ys(mt){if(mt.constructor===Uint8Array)return mt;if(mt.constructor===ArrayBuffer)return new Uint8Array(mt);if(mt.constructor===Array)return new Uint8Array(mt);if(mt.constructor===String)return tp(mt);if(mt.constructor===Ss){if(mt.g==null)var Ot=Jl||(Jl=new Uint8Array(0));else{Ot=Uint8Array;var Pt=mt.g;Pt=Pt==null||Cl&&Pt!=null&&Pt instanceof Uint8Array?Pt:typeof Pt=="string"?tp(Pt):null,mt=mt.g=Pt,Ot=new Ot(mt)}return Ot}if(mt instanceof Uint8Array)return new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Al(mt,Ot){Ot=Ot===void 0?{}:Ot,Ot=Ot.v===void 0?!1:Ot.v,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.v=Ot,mt&&_o(this,mt)}function _o(mt,Ot){mt.h=Ys(Ot),mt.l=0,mt.i=mt.h.length,mt.g=mt.l}Al.prototype.reset=function(){this.g=this.l};function yl(mt){for(var Ot=128,Pt=0,Ut=0,fn=0;4>fn&&128<=Ot;fn++)Ot=mt.h[mt.g++],Pt|=(Ot&127)<<7*fn;if(128<=Ot&&(Ot=mt.h[mt.g++],Pt|=(Ot&127)<<28,Ut|=(Ot&127)>>4),128<=Ot)for(fn=0;5>fn&&128<=Ot;fn++)Ot=mt.h[mt.g++],Ut|=(Ot&127)<<7*fn+3;if(128>Ot)return mt=Pt>>>0,Ot=Ut>>>0,(Ut=Ot&2147483648)&&(mt=~mt+1>>>0,Ot=~Ot>>>0,mt==0&&(Ot=Ot+1>>>0)),mt=4294967296*Ot+(mt>>>0),Ut?-mt:mt;mt.j=!0,Ku()}function as(mt){mt.g>mt.i&&(mt.j=!0,Tl(Error("Tried to read past the end of the data "+mt.g+" > "+mt.i)))}function js(mt){var Ot=mt.h,Pt=Ot[mt.g],Ut=Pt&127;return 128>Pt?(mt.g+=1,as(mt),Ut):(Pt=Ot[mt.g+1],Ut|=(Pt&127)<<7,128>Pt?(mt.g+=2,as(mt),Ut):(Pt=Ot[mt.g+2],Ut|=(Pt&127)<<14,128>Pt?(mt.g+=3,as(mt),Ut):(Pt=Ot[mt.g+3],Ut|=(Pt&127)<<21,128>Pt?(mt.g+=4,as(mt),Ut):(Pt=Ot[mt.g+4],Ut|=(Pt&15)<<28,128>Pt?(mt.g+=5,as(mt),Ut>>>0):(mt.g+=5,128<=Ot[mt.g++]&&128<=Ot[mt.g++]&&128<=Ot[mt.g++]&&128<=Ot[mt.g++]&&128<=Ot[mt.g++]?(mt.j=!0,Ku(),Ut):(as(mt),Ut))))))}function xl(mt){var Ot=mt.h[mt.g],Pt=mt.h[mt.g+1],Ut=mt.h[mt.g+2],fn=mt.h[mt.g+3];return mt.g+=4,as(mt),(Ot<<0|Pt<<8|Ut<<16|fn<<24)>>>0}Al.prototype.m=function(){var mt=xl(this),Ot=2*(mt>>31)+1,Pt=mt>>>23&255;return mt&=8388607,Pt==255?mt?NaN:1/0*Ot:Pt==0?Ot*Math.pow(2,-149)*mt:Ot*Math.pow(2,Pt-150)*(mt+Math.pow(2,23))};var ru=[];function $s(){this.g=new Uint8Array(64),this.h=0}function cs(mt,Ot){if(!(mt.h+1<mt.g.length)){var Pt=mt.g;mt.g=new Uint8Array(Math.ceil(1+2*mt.g.length)),mt.g.set(Pt)}mt.g[mt.h++]=Ot}$s.prototype.length=function(){return this.h},$s.prototype.end=function(){var mt=this.g,Ot=this.h;return this.h=0,gu(mt,0,Ot)};function zl(mt,Ot){for(;127<Ot;)cs(mt,Ot&127|128),Ot>>>=7;cs(mt,Ot)}function $l(mt){var Ot={},Pt=Ot.O===void 0?!1:Ot.O;this.m={v:Ot.v===void 0?!1:Ot.v},this.O=Pt,Ot=this.m,ru.length?(Pt=ru.pop(),Ot&&(Pt.v=Ot.v),mt&&_o(Pt,mt),mt=Pt):mt=new Al(mt,Ot),this.g=mt,this.l=this.g.g,this.h=this.i=-1,this.j=!1}$l.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function Sl(mt){var Ot=mt.g;if((Ot=Ot.g==Ot.i)||(Ot=mt.j)||(Ot=mt.g,Ot=Ot.j||0>Ot.g||Ot.g>Ot.i),Ot)return!1;mt.l=mt.g.g;var Pt=js(mt.g);return Ot=Pt>>>3,Pt&=7,0<=Pt&&5>=Pt?(mt.i=Ot,mt.h=Pt,!0):(mt.j=!0,mu(Pt,mt.l),!1)}function $u(mt){switch(mt.h){case 0:if(mt.h!=0)$u(mt);else e:{mt=mt.g;for(var Ot=mt.g,Pt=0;10>Pt;Pt++){if(!(mt.h[Ot]&128)){mt.g=Ot+1,as(mt);break e}Ot++}mt.j=!0,Ku()}break;case 1:mt=mt.g,mt.g+=8,as(mt);break;case 2:mt.h!=2?$u(mt):(Ot=js(mt.g),mt=mt.g,mt.g+=Ot,as(mt));break;case 5:mt=mt.g,mt.g+=4,as(mt);break;case 3:Ot=mt.i;do{if(!Sl(mt)){mt.j=!0,Tl(Error("Unmatched start-group tag: stream EOF"));break}if(mt.h==4){mt.i!=Ot&&(mt.j=!0,Tl(Error("Unmatched end-group tag")));break}$u(mt)}while(1);break;default:mt.j=!0,mu(mt.h,mt.l)}}function vu(mt,Ot,Pt){var Ut=mt.g.i,fn=js(mt.g),In=mt.g.g+fn;if(mt.g.i=In,Pt(Ot,mt),Pt=In-mt.g.g,Pt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(fn+" bytes, instead read "+(fn-Pt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return mt.g.g=In,mt.g.i=Ut,Ot}var Ql=[];function yu(){this.h=[],this.i=0,this.g=new $s}function zs(mt,Ot){Ot.length!==0&&(mt.h.push(Ot),mt.i+=Ot.length)}function Rl(mt,Ot,Pt){zl(mt.g,8*Ot+2),zl(mt.g,Pt.length),zs(mt,mt.g.end()),zs(mt,Pt)}var Ks=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Es(mt){return Object.isFrozen(mt)||(Ks?mt[Ks]|=1:mt.g!==void 0?mt.g|=1:Object.defineProperties(mt,{g:{value:1,configurable:!0,writable:!0,enumerable:!1}})),mt}function _l(mt){return mt!==null&&typeof mt=="object"&&mt.constructor===Object}function gs(mt){switch(typeof mt){case"number":return isFinite(mt)?mt:String(mt);case"object":if(Cl&&mt!=null&&mt instanceof Uint8Array)return Yl(mt);if(mt instanceof Ss){if(mt.g==null)mt="";else{var Ot=mt.g;Ot=Ot==null||typeof Ot=="string"?Ot:Cl&&Ot instanceof Uint8Array?Yl(Ot):null,mt=mt.g=Ot}return mt}}return mt}function ls(mt,Ot){if(mt!=null)return Array.isArray(mt)||_l(mt)?xu(mt,Ot):Ot(mt)}function xu(mt,Ot){if(Array.isArray(mt)){for(var Pt=Array(mt.length),Ut=0;Ut<mt.length;Ut++)Pt[Ut]=ls(mt[Ut],Ot);if(Ot=Array.isArray(mt)){var fn;Ks?fn=mt[Ks]:fn=mt.g,Ot=(fn??0)&1}return Ot&&Es(Pt),Pt}fn={};for(Pt in mt)fn[Pt]=ls(mt[Pt],Ot);return fn}function Ms(mt){return mt=gs(mt),Array.isArray(mt)?xu(mt,Ms):mt}var Xo;function Eo(mt,Ot,Pt){var Ut=Xo;Xo=null,mt||(mt=Ut),Ut=this.constructor.ha,mt||(mt=Ut?[Ut]:[]),this.i=(Ut?0:-1)-(this.constructor.fa||0),this.l=this.g=null,this.u=mt;e:{if(Ut=this.u.length,mt=Ut-1,Ut&&(Ut=this.u[mt],_l(Ut))){this.j=mt-this.i,this.h=Ut;break e}Ot!==void 0&&-1<Ot?(this.j=Math.max(Ot,mt+1-this.i),this.h=null):this.j=Number.MAX_VALUE}if(Pt)for(Ot=0;Ot<Pt.length;Ot++)mt=Pt[Ot],mt<this.j?(mt+=this.i,(Ut=this.u[mt])?Array.isArray(Ut)&&Es(Ut):this.u[mt]=Cs):(Il(this),(Ut=this.h[mt])?Array.isArray(Ut)&&Es(Ut):this.h[mt]=Cs)}var Cs=Object.freeze(Es([]));function Il(mt){var Ot=mt.j+mt.i;mt.u[Ot]||(mt.h=mt.u[Ot]={})}function vs(mt,Ot,Pt){return Ot===-1?null:Pt!==void 0&&Pt||Ot>=mt.j?mt.h?mt.h[Ot]:void 0:mt.u[Ot+mt.i]}function Ts(mt,Ot,Pt){Pt=Pt===void 0?!1:Pt;var Ut=vs(mt,Ot,Pt);return Ut==null&&(Ut=Cs),Ut===Cs&&(Ut=Es(Ut.slice()),Xr(mt,Ot,Ut,Pt)),Ut}function xr(mt,Ot){var Pt=Ts(mt,Ot);if(mt.l||(mt.l={}),!mt.l[Ot]){for(var Ut=0;Ut<Pt.length;Ut++)Pt[Ut]=+Pt[Ut];mt.l[Ot]=!0}return Pt}function kr(mt,Ot,Pt){return mt=vs(mt,Ot),mt=mt==null?mt:+mt,mt??(Pt===void 0?0:Pt)}function Xr(mt,Ot,Pt,Ut){Ut!==void 0&&Ut||Ot>=mt.j?(Il(mt),mt.h[Ot]=Pt):mt.u[Ot+mt.i]=Pt}function us(mt,Ot,Pt,Ut){Pt!==Ut?Xr(mt,Ot,Pt):Xr(mt,Ot,void 0,!1)}function ks(mt,Ot,Pt){if(Pt===-1)return null;mt.g||(mt.g={});var Ut=mt.g[Pt];if(Ut)return Ut;var fn=vs(mt,Pt,!1);return fn==null?Ut:(Ot=new Ot(fn),mt.g[Pt]=Ot)}function ws(mt,Ot,Pt){mt.g||(mt.g={});var Ut=mt.g[Pt];if(!Ut){var fn=Ts(mt,Pt,!1);Ut=[];for(var In=0;In<fn.length;In++)Ut[In]=new Ot(fn[In]);mt.g[Pt]=Ut}return Ut}function Oo(mt,Ot,Pt,Ut,fn){var In=ws(mt,Ut,Ot);Pt=Pt||new Ut,mt=Ts(mt,Ot),fn!=null?(In.splice(fn,0,Pt),mt.splice(fn,0,Pt.u)):(In.push(Pt),mt.push(Pt.u))}Eo.prototype.toJSON=function(){return xu(this.u,Ms)},Eo.prototype.toString=function(){return this.u.toString()};function Ps(mt,Ot){return mt=vs(mt,Ot),mt??0}function Ll(mt,Ot){return mt=vs(mt,Ot),mt??""}function iu(mt,Ot){if(mt=mt.m){zs(Ot,Ot.g.end());for(var Pt=0;Pt<mt.length;Pt++)zs(Ot,mt[Pt])}}var ou=Symbol();function Ru(mt,Ot,Pt){return mt[ou]||(mt[ou]=function(Ut,fn){return Ot(Ut,fn,Pt)})}function Pu(mt){var Ot=mt[ou];if(!Ot){var Pt=mt[au]||(mt[au]=mt());Ot=function(Ut,fn){return Vl(Ut,fn,Pt)},mt[ou]=Ot}return Ot}function Ol(mt){var Ot=mt.da;if(Ot)return Pu(Ot);if(Ot=mt.ia){var Pt=mt.Y;return delete mt.Y,Ru(mt.W.g,Ot,Pt)}}function su(mt){var Ot=Ol(mt),Pt=mt.W,Ut=mt.ea;return Ot?function(fn,In){return Ut(fn,In,Pt,Ot)}:function(fn,In){return Ut(fn,In,Pt)}}function Hp(mt){var Ot=mt[0];switch(mt.length){case 2:var Pt=mt[1];return function(Jr,lo,ao){return Ot(Jr,lo,ao,Pt)};case 3:var Ut=mt[1],fn=Pu(mt[2]);return function(Jr,lo,ao){return Ot(Jr,lo,ao,Ut,fn)};case 4:var In=mt[1],kn=mt[3],zn=Pu(mt[2]);return function(Jr,lo,ao){return Ot(Jr,lo,ao,In,zn,kn)};case 5:var ar=mt[1],mr=Ru(ar,mt[3],mt[4]);return function(Jr,lo,ao){return Ot(Jr,lo,ao,ar,mr)};case 6:var gr=mt[1],Pr=mt[5],Kr=Ru(gr,mt[3],mt[4]);return function(Jr,lo,ao){return Ot(Jr,lo,ao,gr,Kr,Pr)};default:throw Error("Unsupported number of parameters, expected [2-6], got "+mt.length)}}var au=Symbol();function Vl(mt,Ot,Pt){for(;Sl(Ot)&&Ot.h!=4;){var Ut=Ot.i,fn=Pt[Ut];if(fn)Array.isArray(fn)&&(fn=Pt[Ut]=Hp(fn));else{var In=Pt[0];In&&(In=In[Ut])&&(fn=Pt[Ut]=su(In))}fn&&fn(Ot,mt,Ut)||(fn=Ot,Ut=mt,In=fn.l,$u(fn),fn.O||(fn=gu(fn.g.h,In,fn.g.g),(In=Ut.m)?In.push(fn):Ut.m=[fn]))}return mt}function ju(mt,Ot){var Pt=new yu;if(Ot(mt,Pt),mt=Pt.i+Pt.g.length(),mt===0)Pt=new Uint8Array(0);else{mt=new Uint8Array(mt);for(var Ut=Pt.h,fn=Ut.length,In=Ot=0;In<fn;In++){var kn=Ut[In];kn.length!==0&&(mt.set(kn,Ot),Ot+=kn.length)}Ut=Pt.g,fn=Ut.h,fn!==0&&(mt.set(Ut.g.subarray(0,fn),Ot),Ut.h=0),Pt.h=[mt],Pt=mt}return Pt}function np(mt,Ot,Pt){if(Ql.length){var Ut=Ql.pop();mt&&(_o(Ut.g,mt),Ut.i=-1,Ut.h=-1),mt=Ut}else mt=new $l(mt);try{var fn=new Ot;return Vl(fn,mt,Pt[au]||(Pt[au]=Pt()))}finally{Ot=mt.g,Ot.h=null,Ot.l=0,Ot.i=0,Ot.g=0,Ot.j=!1,Ot.v=!1,mt.i=-1,mt.h=-1,mt.j=!1,100>Ql.length&&Ql.push(mt)}}function Xl(mt,Ot,Pt){if(Ot=vs(Ot,Pt),Ot!=null){zl(mt.g,8*Pt+5),mt=mt.g;var Ut=Ot;Ut=(Pt=0>Ut?1:0)?-Ut:Ut,Ut===0?0<1/Ut?Dl=ds=0:(ds=0,Dl=2147483648):isNaN(Ut)?(ds=0,Dl=2147483647):34028234663852886e22<Ut?(ds=0,Dl=(Pt<<31|2139095040)>>>0):11754943508222875e-54>Ut?(Ut=Math.round(Ut/Math.pow(2,-149)),ds=0,Dl=(Pt<<31|Ut)>>>0):(Ot=Math.floor(Math.log(Ut)/Math.LN2),Ut*=Math.pow(2,-Ot),Ut=Math.round(8388608*Ut),16777216<=Ut&&++Ot,ds=0,Dl=(Pt<<31|Ot+127<<23|Ut&8388607)>>>0),Pt=Dl,cs(mt,Pt>>>0&255),cs(mt,Pt>>>8&255),cs(mt,Pt>>>16&255),cs(mt,Pt>>>24&255)}}function Op(mt,Ot,Pt){if(mt.h!==1)return!1;var Ut=mt.g;mt=xl(Ut);var fn=xl(Ut);Ut=2*(fn>>31)+1;var In=fn>>>20&2047;return mt=4294967296*(fn&1048575)+mt,us(Ot,Pt,In==2047?mt?NaN:1/0*Ut:In==0?Ut*Math.pow(2,-1074)*mt:Ut*Math.pow(2,In-1075)*(mt+4503599627370496),0),!0}function cu(mt,Ot,Pt){return mt.h!==5?!1:(Xr(Ot,Pt,mt.g.m()),!0)}function Uu(mt,Ot,Pt){if(mt.h!==5&&mt.h!==2)return!1;if(Ot=Ts(Ot,Pt),mt.h==2){Pt=Al.prototype.m;var Ut=js(mt.g);for(Ut=mt.g.g+Ut;mt.g.g<Ut;)Ot.push(Pt.call(mt.g))}else Ot.push(mt.g.m());return!0}function lp(mt,Ot,Pt){return mt.h!==5?!1:(mt=mt.g.m(),us(Ot,Pt,mt,0),!0)}function Pp(mt,Ot,Pt){return mt.h!==0?!1:(Xr(Ot,Pt,yl(mt.g)),!0)}function bu(mt,Ot,Pt){return mt.h!==0?!1:(Xr(Ot,Pt,js(mt.g)),!0)}function up(mt,Ot,Pt){return mt.h!==0?!1:(mt=js(mt.g),us(Ot,Pt,mt,0),!0)}function _h(mt,Ot,Pt){return mt.h!==0?!1:(mt=!!js(mt.g),us(Ot,Pt,mt,!1),!0)}function em(mt,Ot,Pt){if(mt.h!==2)return!1;var Ut=js(mt.g);mt=mt.g;var fn=mt.g;mt.g+=Ut,as(mt),mt=mt.h;var In;if(Ep)(In=ep)||(In=ep=new TextDecoder("utf-8",{fatal:!1})),In=In.decode(mt.subarray(fn,fn+Ut));else{Ut=fn+Ut;for(var kn=[],zn=null,ar,mr,gr;fn<Ut;)ar=mt[fn++],128>ar?kn.push(ar):224>ar?fn>=Ut?kn.push(65533):(mr=mt[fn++],194>ar||(mr&192)!==128?(fn--,kn.push(65533)):kn.push((ar&31)<<6|mr&63)):240>ar?fn>=Ut-1?kn.push(65533):(mr=mt[fn++],(mr&192)!==128||ar===224&&160>mr||ar===237&&160<=mr||((In=mt[fn++])&192)!==128?(fn--,kn.push(65533)):kn.push((ar&15)<<12|(mr&63)<<6|In&63)):244>=ar?fn>=Ut-2?kn.push(65533):(mr=mt[fn++],(mr&192)!==128||(ar<<28)+(mr-144)>>30||((In=mt[fn++])&192)!==128||((gr=mt[fn++])&192)!==128?(fn--,kn.push(65533)):(ar=(ar&7)<<18|(mr&63)<<12|(In&63)<<6|gr&63,ar-=65536,kn.push((ar>>10&1023)+55296,(ar&1023)+56320))):kn.push(65533),8192<=kn.length&&(zn=vp(zn,kn),kn.length=0);In=vp(zn,kn)}return Xr(Ot,Pt,In),!0}function dp(mt,Ot,Pt,Ut,fn){return mt.h!==2?!1:(mt=vu(mt,new Ut,fn),Ot.g||(Ot.g={}),Ut=mt&&mt.u,Ot.g[Pt]=mt,Xr(Ot,Pt,Ut,!1),!0)}function bp(mt,Ot,Pt,Ut,fn){return mt.h!==2?!1:(mt=vu(mt,new Ut,fn),Oo(Ot,Pt,mt,Ut,void 0),!0)}function jt(mt,Ot,Pt){return mt.h!==0?!1:(Xr(Ot,Pt,yl(mt.g)),!0)}function nn(mt){Eo.call(this,mt)}Br(nn,Eo);function sn(){return{1:bu,2:cu,3:em,4:em}}function Hn(mt,Ot){var Pt=vs(mt,1);if(Pt!=null&&Pt!=null){zl(Ot.g,8);var Ut=Ot.g;if(0<=Pt)zl(Ut,Pt);else{for(var fn=0;9>fn;fn++)cs(Ut,Pt&127|128),Pt>>=7;cs(Ut,1)}}Xl(Ot,mt,2),Ut=vs(mt,3),Ut!=null&&Rl(Ot,3,wp(Ut)),Ut=vs(mt,4),Ut!=null&&Rl(Ot,4,wp(Ut)),iu(mt,Ot)}function fr(mt){Eo.call(this,mt,-1,dr)}Br(fr,Eo),fr.prototype.addClassification=function(mt,Ot){return Oo(this,1,mt,nn,Ot),this};function Mr(){return{1:[bp,nn,sn]}}var dr=[1];function Or(mt){Eo.call(this,mt)}Br(Or,Eo);function Qr(){return{1:cu,2:cu,3:cu,4:cu,5:cu}}function xo(mt,Ot){Xl(Ot,mt,1),Xl(Ot,mt,2),Xl(Ot,mt,3),Xl(Ot,mt,4),Xl(Ot,mt,5),iu(mt,Ot)}function $o(mt){Eo.call(this,mt,-1,ms)}Br($o,Eo);function Uo(){return{1:[bp,Or,Qr]}}var ms=[1];function Yo(mt){Eo.call(this,mt)}Br(Yo,Eo);function Lo(){return{1:cu,2:cu,3:cu,4:cu,5:cu,6:Pp}}function Jo(mt,Ot){Xl(Ot,mt,1),Xl(Ot,mt,2),Xl(Ot,mt,3),Xl(Ot,mt,4),Xl(Ot,mt,5);var Pt=vs(mt,6);if(Pt!=null&&Pt!=null){zl(Ot.g,48);var Ut=Ot.g,fn=Pt;Pt=0>fn,fn=Math.abs(fn);var In=fn>>>0;for(fn=Math.floor((fn-In)/4294967296),fn>>>=0,Pt&&(fn=~fn>>>0,In=(~In>>>0)+1,4294967295<In&&(In=0,fn++,4294967295<fn&&(fn=0))),Dl=In,ds=fn,Pt=Dl,In=ds;0<In||127<Pt;)cs(Ut,Pt&127|128),Pt=(Pt>>>7|In<<25)>>>0,In>>>=7;cs(Ut,Pt)}iu(mt,Ot)}function fs(mt){Eo.call(this,mt,-1,Zl)}Br(fs,Eo);function Os(){return{1:jt,2:jt,3:Uu,4:[dp,Ws,Us],5:bu,6:bu,7:Uu,8:Uu,9:Uu}}function Ws(mt){Eo.call(this,mt)}Br(Ws,Eo);function Us(){return{1:cu,2:cu,3:cu}}var Zl=[3,7,8,9];function Ft(mt){Eo.call(this,mt)}Br(Ft,Eo);function Bt(){return{1:lp,2:lp,3:lp}}function Jt(mt){Eo.call(this,mt)}Br(Jt,Eo);function Ln(){return{1:lp,2:lp,3:lp}}function $n(mt){Eo.call(this,mt)}Br($n,Eo);function hr(){return{1:up,2:[dp,Jt,Ln],3:[dp,Ft,Bt],4:_h}}function qn(mt){Eo.call(this,mt,-1,Fr)}Br(qn,Eo);function Cr(){return{1:up,2:[bp,$n,hr],3:lp,4:Uu,5:Uu,6:Uu}}var Fr=[2,4,5,6];function wt(mt){Eo.call(this,mt,-1,an)}Br(wt,Eo);function Qt(){return{1:up,2:[bp,qn,Cr],3:[dp,fs,Os],4:Op,5:Uu,6:Uu}}var an=[2,5,6];function Cn(mt,Ot,Pt){if(Pt=mt.createShader(Pt===0?mt.VERTEX_SHADER:mt.FRAGMENT_SHADER),mt.shaderSource(Pt,Ot),mt.compileShader(Pt),!mt.getShaderParameter(Pt,mt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+mt.getShaderInfoLog(Pt));return Pt}function Xn(mt){return ws(mt,nn,1).map(function(Ot){return{index:Ps(Ot,1),$:kr(Ot,2),label:vs(Ot,3)!=null?Ll(Ot,3):void 0,displayName:vs(Ot,4)!=null?Ll(Ot,4):void 0}})}function tr(mt){return{x:kr(mt,1),y:kr(mt,2),z:kr(mt,3),visibility:vs(mt,4)!=null?kr(mt,4):void 0}}function Kn(mt,Ot){this.h=mt,this.g=Ot,this.l=0}function Rr(mt,Ot,Pt){return Er(mt,Ot),typeof mt.g.canvas.transferToImageBitmap=="function"?nt.resolve(mt.g.canvas.transferToImageBitmap()):Pt?nt.resolve(mt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(mt.g.canvas):(mt.i===void 0&&(mt.i=document.createElement("canvas")),new nt(function(Ut){mt.i.height=mt.g.canvas.height,mt.i.width=mt.g.canvas.width,mt.i.getContext("2d",{}).drawImage(mt.g.canvas,0,0,mt.g.canvas.width,mt.g.canvas.height),Ut(mt.i)}))}function Er(mt,Ot){var Pt=mt.g;if(mt.m===void 0){var Ut=Cn(Pt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),fn=Cn(Pt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),In=Pt.createProgram();if(Pt.attachShader(In,Ut),Pt.attachShader(In,fn),Pt.linkProgram(In),!Pt.getProgramParameter(In,Pt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Pt.getProgramInfoLog(In));Ut=mt.m=In,Pt.useProgram(Ut),fn=Pt.getUniformLocation(Ut,"sampler0"),mt.j={J:Pt.getAttribLocation(Ut,"aVertex"),I:Pt.getAttribLocation(Ut,"aTex"),ja:fn},mt.s=Pt.createBuffer(),Pt.bindBuffer(Pt.ARRAY_BUFFER,mt.s),Pt.enableVertexAttribArray(mt.j.J),Pt.vertexAttribPointer(mt.j.J,2,Pt.FLOAT,!1,0,0),Pt.bufferData(Pt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Pt.STATIC_DRAW),Pt.bindBuffer(Pt.ARRAY_BUFFER,null),mt.o=Pt.createBuffer(),Pt.bindBuffer(Pt.ARRAY_BUFFER,mt.o),Pt.enableVertexAttribArray(mt.j.I),Pt.vertexAttribPointer(mt.j.I,2,Pt.FLOAT,!1,0,0),Pt.bufferData(Pt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Pt.STATIC_DRAW),Pt.bindBuffer(Pt.ARRAY_BUFFER,null),Pt.uniform1i(fn,0)}Ut=mt.j,Pt.useProgram(mt.m),Pt.canvas.width=Ot.width,Pt.canvas.height=Ot.height,Pt.viewport(0,0,Ot.width,Ot.height),Pt.activeTexture(Pt.TEXTURE0),mt.h.bindTexture2d(Ot.glName),Pt.enableVertexAttribArray(Ut.J),Pt.bindBuffer(Pt.ARRAY_BUFFER,mt.s),Pt.vertexAttribPointer(Ut.J,2,Pt.FLOAT,!1,0,0),Pt.enableVertexAttribArray(Ut.I),Pt.bindBuffer(Pt.ARRAY_BUFFER,mt.o),Pt.vertexAttribPointer(Ut.I,2,Pt.FLOAT,!1,0,0),Pt.bindFramebuffer(Pt.DRAW_FRAMEBUFFER?Pt.DRAW_FRAMEBUFFER:Pt.FRAMEBUFFER,null),Pt.clearColor(0,0,0,0),Pt.clear(Pt.COLOR_BUFFER_BIT),Pt.colorMask(!0,!0,!0,!0),Pt.drawArrays(Pt.TRIANGLE_FAN,0,4),Pt.disableVertexAttribArray(Ut.J),Pt.disableVertexAttribArray(Ut.I),Pt.bindBuffer(Pt.ARRAY_BUFFER,null),mt.h.bindTexture2d(0)}function _i(mt){this.g=mt}var ho=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Qo(mt,Ot){return Ot+mt}function Ro(mt,Ot){window[mt]=Ot}function zr(mt){var Ot=document.createElement("script");return Ot.setAttribute("src",mt),Ot.setAttribute("crossorigin","anonymous"),new nt(function(Pt){Ot.addEventListener("load",function(){Pt()},!1),Ot.addEventListener("error",function(){Pt()},!1),document.body.appendChild(Ot)})}function yo(){return io(function(mt){switch(mt.g){case 1:return mt.m=2,pr(mt,WebAssembly.instantiate(ho),4);case 4:mt.g=3,mt.m=0;break;case 2:return mt.m=0,mt.j=null,mt.return(!1);case 3:return mt.return(!0)}})}function wo(mt){if(this.g=mt,this.listeners={},this.j={},this.G={},this.m={},this.s={},this.H=this.o=this.S=!0,this.D=nt.resolve(),this.R="",this.C={},this.locateFile=mt&&mt.locateFile||Qo,typeof window=="object")var Ot=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Ot=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.T=Ot,mt.options){Ot=Tn(Object.keys(mt.options));for(var Pt=Ot.next();!Pt.done;Pt=Ot.next()){Pt=Pt.value;var Ut=mt.options[Pt].default;Ut!==void 0&&(this.j[Pt]=typeof Ut=="function"?Ut():Ut)}}}Et=wo.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Po(mt){var Ot,Pt,Ut,fn,In,kn,zn,ar,mr,gr,Pr;return io(function(Kr){switch(Kr.g){case 1:return mt.S?(Ot=mt.g.files===void 0?[]:typeof mt.g.files=="function"?mt.g.files(mt.j):mt.g.files,pr(Kr,yo(),2)):Kr.return();case 2:if(Pt=Kr.h,typeof window=="object")return Ro("createMediapipeSolutionsWasm",{locateFile:mt.locateFile}),Ro("createMediapipeSolutionsPackedAssets",{locateFile:mt.locateFile}),kn=Ot.filter(function(Jr){return Jr.data!==void 0}),zn=Ot.filter(function(Jr){return Jr.data===void 0}),ar=nt.all(kn.map(function(Jr){var lo=Kt(mt,Jr.url);if(Jr.path!==void 0){var ao=Jr.path;lo=lo.then(function(rs){return mt.overrideFile(ao,rs),nt.resolve(rs)})}return lo})),mr=nt.all(zn.map(function(Jr){return Jr.simd===void 0||Jr.simd&&Pt||!Jr.simd&&!Pt?zr(mt.locateFile(Jr.url,mt.T)):nt.resolve()})).then(function(){var Jr,lo,ao;return io(function(rs){if(rs.g==1)return Jr=window.createMediapipeSolutionsWasm,lo=window.createMediapipeSolutionsPackedAssets,ao=mt,pr(rs,Jr(lo),2);ao.h=rs.h,rs.g=0})}),gr=function(){return io(function(Jr){return mt.g.graph&&mt.g.graph.url?Jr=pr(Jr,Kt(mt,mt.g.graph.url),0):(Jr.g=0,Jr=void 0),Jr})}(),pr(Kr,nt.all([mr,ar,gr]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return Ut=Ot.filter(function(Jr){return Jr.simd===void 0||Jr.simd&&Pt||!Jr.simd&&!Pt}).map(function(Jr){return mt.locateFile(Jr.url,mt.T)}),importScripts.apply(null,Mn(Ut)),fn=mt,pr(Kr,createMediapipeSolutionsWasm(Module),6);case 6:fn.h=Kr.h,mt.l=new OffscreenCanvas(1,1),mt.h.canvas=mt.l,In=mt.h.GL.createContext(mt.l,{antialias:!1,alpha:!1,ga:typeof WebGL2RenderingContext<"u"?2:1}),mt.h.GL.makeContextCurrent(In),Kr.g=4;break;case 7:if(mt.l=document.createElement("canvas"),Pr=mt.l.getContext("webgl2",{}),!Pr&&(Pr=mt.l.getContext("webgl",{}),!Pr))return alert("Failed to create WebGL canvas context when passing video frame."),Kr.return();mt.F=Pr,mt.h.canvas=mt.l,mt.h.createContext(mt.l,!0,!0,{});case 4:mt.i=new mt.h.SolutionWasm,mt.S=!1,Kr.g=0}})}function Fo(mt){var Ot,Pt,Ut,fn,In,kn,zn,ar;return io(function(mr){if(mr.g==1){if(mt.g.graph&&mt.g.graph.url&&mt.R===mt.g.graph.url)return mr.return();if(mt.o=!0,!mt.g.graph||!mt.g.graph.url){mr.g=2;return}return mt.R=mt.g.graph.url,pr(mr,Kt(mt,mt.g.graph.url),3)}for(mr.g!=2&&(Ot=mr.h,mt.i.loadGraph(Ot)),Pt=Tn(Object.keys(mt.C)),Ut=Pt.next();!Ut.done;Ut=Pt.next())fn=Ut.value,mt.i.overrideFile(fn,mt.C[fn]);if(mt.C={},mt.g.listeners)for(In=Tn(mt.g.listeners),kn=In.next();!kn.done;kn=In.next())zn=kn.value,jn(mt,zn);ar=mt.j,mt.j={},mt.setOptions(ar),mr.g=0})}Et.reset=function(){var mt=this;return io(function(Ot){mt.i&&(mt.i.reset(),mt.m={},mt.s={}),Ot.g=0})},Et.setOptions=function(mt,Ot){var Pt=this;if(Ot=Ot||this.g.options){for(var Ut=[],fn=[],In={},kn=Tn(Object.keys(mt)),zn=kn.next();!zn.done;In={L:In.L,M:In.M},zn=kn.next()){var ar=zn.value;ar in this.j&&this.j[ar]===mt[ar]||(this.j[ar]=mt[ar],zn=Ot[ar],zn!==void 0&&(zn.onChange&&(In.L=zn.onChange,In.M=mt[ar],Ut.push(function(mr){return function(){var gr;return io(function(Pr){if(Pr.g==1)return pr(Pr,mr.L(mr.M),2);gr=Pr.h,gr===!0&&(Pt.o=!0),Pr.g=0})}}(In))),zn.graphOptionXref&&(ar={valueNumber:zn.type===1?mt[ar]:0,valueBoolean:zn.type===0?mt[ar]:!1,valueString:zn.type===2?mt[ar]:""},zn=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),zn.graphOptionXref),ar),fn.push(zn))))}(Ut.length!==0||fn.length!==0)&&(this.o=!0,this.B=(this.B===void 0?[]:this.B).concat(fn),this.A=(this.A===void 0?[]:this.A).concat(Ut))}};function At(mt){var Ot,Pt,Ut,fn,In,kn,zn;return io(function(ar){switch(ar.g){case 1:if(!mt.o)return ar.return();if(!mt.A){ar.g=2;break}Ot=Tn(mt.A),Pt=Ot.next();case 3:if(Pt.done){ar.g=5;break}return Ut=Pt.value,pr(ar,Ut(),4);case 4:Pt=Ot.next(),ar.g=3;break;case 5:mt.A=void 0;case 2:if(mt.B){for(fn=new mt.h.GraphOptionChangeRequestList,In=Tn(mt.B),kn=In.next();!kn.done;kn=In.next())zn=kn.value,fn.push_back(zn);mt.i.changeOptions(fn),fn.delete(),mt.B=void 0}mt.o=!1,ar.g=0}})}Et.initialize=function(){var mt=this;return io(function(Ot){return Ot.g==1?pr(Ot,Po(mt),2):Ot.g!=3?pr(Ot,Fo(mt),3):pr(Ot,At(mt),0)})};function Kt(mt,Ot){var Pt,Ut;return io(function(fn){return Ot in mt.G?fn.return(mt.G[Ot]):(Pt=mt.locateFile(Ot,""),Ut=fetch(Pt).then(function(In){return In.arrayBuffer()}),mt.G[Ot]=Ut,fn.return(Ut))})}Et.overrideFile=function(mt,Ot){this.i?this.i.overrideFile(mt,Ot):this.C[mt]=Ot},Et.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(mt,Ot){var Pt=this,Ut,fn,In,kn,zn,ar,mr,gr,Pr;return io(function(Kr){switch(Kr.g){case 1:return Pt.g.inputs?(Ut=1e3*(Ot??performance.now()),pr(Kr,Pt.D,2)):Kr.return();case 2:return pr(Kr,Pt.initialize(),3);case 3:for(fn=new Pt.h.PacketDataList,In=Tn(Object.keys(mt)),kn=In.next();!kn.done;kn=In.next())if(zn=kn.value,ar=Pt.g.inputs[zn]){e:{var Jr=mt[zn];switch(ar.type){case"video":var lo=Pt.m[ar.stream];if(lo||(lo=new Kn(Pt.h,Pt.F),Pt.m[ar.stream]=lo),lo.l===0&&(lo.l=lo.h.createTexture()),typeof HTMLVideoElement<"u"&&Jr instanceof HTMLVideoElement)var ao=Jr.videoWidth,rs=Jr.videoHeight;else typeof HTMLImageElement<"u"&&Jr instanceof HTMLImageElement?(ao=Jr.naturalWidth,rs=Jr.naturalHeight):(ao=Jr.width,rs=Jr.height);rs={glName:lo.l,width:ao,height:rs},ao=lo.g,ao.canvas.width=rs.width,ao.canvas.height=rs.height,ao.activeTexture(ao.TEXTURE0),lo.h.bindTexture2d(lo.l),ao.texImage2D(ao.TEXTURE_2D,0,ao.RGBA,ao.RGBA,ao.UNSIGNED_BYTE,Jr),lo.h.bindTexture2d(0),lo=rs;break e;case"detections":for(lo=Pt.m[ar.stream],lo||(lo=new _i(Pt.h),Pt.m[ar.stream]=lo),lo.data||(lo.data=new lo.g.DetectionListData),lo.data.reset(Jr.length),rs=0;rs<Jr.length;++rs){ao=Jr[rs];var xs=lo.data,Rs=xs.setBoundingBox,Ml=rs,Qu=ao.U,Pl=new Yo;if(Xr(Pl,1,Qu.aa),Xr(Pl,2,Qu.ba),Xr(Pl,3,Qu.height),Xr(Pl,4,Qu.width),Xr(Pl,5,Qu.rotation),Xr(Pl,6,Qu.Z),Qu=ju(Pl,Jo),Rs.call(xs,Ml,Qu),ao.P)for(xs=0;xs<ao.P.length;++xs){Pl=ao.P[xs];var Cp=!!Pl.visibility;Rs=lo.data,Ml=Rs.addNormalizedLandmark,Qu=rs,Pl=Object.assign(Object.assign({},Pl),{visibility:Cp?Pl.visibility:0}),Cp=new Or,Xr(Cp,1,Pl.x),Xr(Cp,2,Pl.y),Xr(Cp,3,Pl.z),Pl.visibility&&Xr(Cp,4,Pl.visibility),Pl=ju(Cp,xo),Ml.call(Rs,Qu,Pl)}if(ao.N)for(xs=0;xs<ao.N.length;++xs)Rs=lo.data,Ml=Rs.addClassification,Qu=rs,Pl=ao.N[xs],Cp=new nn,Xr(Cp,2,Pl.$),Pl.index&&Xr(Cp,1,Pl.index),Pl.label&&Xr(Cp,3,Pl.label),Pl.displayName&&Xr(Cp,4,Pl.displayName),Pl=ju(Cp,Hn),Ml.call(Rs,Qu,Pl)}lo=lo.data;break e;default:lo={}}}switch(mr=lo,gr=ar.stream,ar.type){case"video":fn.pushTexture2d(Object.assign(Object.assign({},mr),{stream:gr,timestamp:Ut}));break;case"detections":Pr=mr,Pr.stream=gr,Pr.timestamp=Ut,fn.pushDetectionList(Pr);break;default:throw Error("Unknown input config type: '"+ar.type+"'")}}return Pt.i.send(fn),pr(Kr,Pt.D,4);case 4:fn.delete(),Kr.g=0}})};function cn(mt,Ot,Pt){var Ut,fn,In,kn,zn,ar,mr,gr,Pr,Kr,Jr,lo,ao,rs;return io(function(xs){switch(xs.g){case 1:if(!Pt)return xs.return(Ot);for(Ut={},fn=0,In=Tn(Object.keys(Pt)),kn=In.next();!kn.done;kn=In.next())zn=kn.value,ar=Pt[zn],typeof ar!="string"&&ar.type==="texture"&&Ot[ar.stream]!==void 0&&++fn;1<fn&&(mt.H=!1),mr=Tn(Object.keys(Pt)),kn=mr.next();case 2:if(kn.done){xs.g=4;break}if(gr=kn.value,Pr=Pt[gr],typeof Pr=="string")return ao=Ut,rs=gr,pr(xs,bn(mt,gr,Ot[Pr]),14);if(Kr=Ot[Pr.stream],Pr.type==="detection_list"){if(Kr){for(var Rs=Kr.getRectList(),Ml=Kr.getLandmarksList(),Qu=Kr.getClassificationsList(),Pl=[],Cp=0;Cp<Rs.size();++Cp){var _m=np(Rs.get(Cp),Yo,Lo);_m={U:{aa:kr(_m,1),ba:kr(_m,2),height:kr(_m,3),width:kr(_m,4),rotation:kr(_m,5,0),Z:Ps(_m,6)},P:ws(np(Ml.get(Cp),$o,Uo),Or,1).map(tr),N:Xn(np(Qu.get(Cp),fr,Mr))},Pl.push(_m)}Rs=Pl}else Rs=[];Ut[gr]=Rs,xs.g=7;break}if(Pr.type==="proto_list"){if(Kr){for(Rs=Array(Kr.size()),Ml=0;Ml<Kr.size();Ml++)Rs[Ml]=Kr.get(Ml);Kr.delete()}else Rs=[];Ut[gr]=Rs,xs.g=7;break}if(Kr===void 0){xs.g=3;break}if(Pr.type==="float_list"){Ut[gr]=Kr,xs.g=7;break}if(Pr.type==="proto"){Ut[gr]=Kr,xs.g=7;break}if(Pr.type!=="texture")throw Error("Unknown output config type: '"+Pr.type+"'");return Jr=mt.s[gr],Jr||(Jr=new Kn(mt.h,mt.F),mt.s[gr]=Jr),pr(xs,Rr(Jr,Kr,mt.H),13);case 13:lo=xs.h,Ut[gr]=lo;case 7:Pr.transform&&Ut[gr]&&(Ut[gr]=Pr.transform(Ut[gr])),xs.g=3;break;case 14:ao[rs]=xs.h;case 3:kn=mr.next(),xs.g=2;break;case 4:return xs.return(Ut)}})}function bn(mt,Ot,Pt){var Ut;return io(function(fn){return typeof Pt=="number"||Pt instanceof Uint8Array||Pt instanceof mt.h.Uint8BlobList?fn.return(Pt):Pt instanceof mt.h.Texture2dDataOut?(Ut=mt.s[Ot],Ut||(Ut=new Kn(mt.h,mt.F),mt.s[Ot]=Ut),fn.return(Rr(Ut,Pt,mt.H))):fn.return(void 0)})}function jn(mt,Ot){for(var Pt=Ot.name||"$",Ut=[].concat(Mn(Ot.wants)),fn=new mt.h.StringList,In=Tn(Ot.wants),kn=In.next();!kn.done;kn=In.next())fn.push_back(kn.value);In=mt.h.PacketListener.implement({onResults:function(zn){for(var ar={},mr=0;mr<Ot.wants.length;++mr)ar[Ut[mr]]=zn.get(mr);var gr=mt.listeners[Pt];gr&&(mt.D=cn(mt,ar,Ot.outs).then(function(Pr){Pr=gr(Pr);for(var Kr=0;Kr<Ot.wants.length;++Kr){var Jr=ar[Ut[Kr]];typeof Jr=="object"&&Jr.hasOwnProperty&&Jr.hasOwnProperty("delete")&&Jr.delete()}Pr&&(mt.D=Pr)}))}}),mt.i.attachMultiListener(fn,In),fn.delete()}Et.onResults=function(mt,Ot){this.listeners[Ot||"$"]=mt},jo("Solution",wo),jo("OptionType",{BOOL:0,NUMBER:1,ca:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Rt(mt){var Ot=Ps(mt,1),Pt=ks(mt,Ft,3);return Pt={x:kr(Pt,1),y:kr(Pt,2),depth:kr(Pt,3)},mt=ks(mt,Jt,2),{id:Ot,point2d:Pt,point3d:{x:kr(mt,1),y:kr(mt,2),z:kr(mt,3)}}}function Gt(mt){var Ot=np(mt,wt,Qt);mt=[],Ot=ws(Ot,qn,2);for(var Pt=0;Pt<Ot.length;Pt++)mt.push({id:Ps(Ot[Pt],1),keypoints:ws(Ot[Pt],$n,2).map(Rt),visibility:kr(Ot[Pt],3),scale:xr(Ot[Pt],6),translation:xr(Ot[Pt],5),rotation:xr(Ot[Pt],4)});return mt}function Yt(mt){switch(mt){case"Camera":return"object_detection_3d_camera.tflite";case"Chair":return"object_detection_3d_chair.tflite";case"Cup":return"object_detection_3d_cup.tflite";default:return"object_detection_3d_sneakers.tflite"}}function yt(mt){switch(mt){case"Camera":return"Camera";case"Chair":return"Chair";case"Cup":return"Coffee cup, Mug";default:return"Footwear"}}var Vt={focalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_x"}},focalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_y"}},principalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_x"}},principalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_y"}},allowedLabels:{type:2,graphOptionXref:{calculatorName:"ConstantSidePacketCalculatorAllowedLabels",calculatorType:"ConstantSidePacketCalculator",fieldName:"string_value"}}};function Dt(mt){var Ot=this;mt=mt||{},this.g=new wo({locateFile:mt.locateFile,files:[{url:"objectron_solution_packed_assets_loader.js"},{simd:!1,url:"objectron_solution_wasm_bin.js"},{simd:!0,url:"objectron_solution_simd_wasm_bin.js"}],graph:{url:"objectron.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["lifted_objects","image_transformed"],outs:{image:"image_transformed",objectDetections:{type:"proto",stream:"lifted_objects",transform:Gt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,default:!1,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumObjects:{type:1,default:5,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorMaxNumObjects",fieldName:"int_value"}},staticImageMode:{type:0,default:!0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"objectrongpusubgraph__ConstantSidePacketCalculator",fieldName:"bool_value"}},minDetectionConfidence:{type:1,default:.5,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"objectrongpusubgraph__objectdetectionoidv4subgraph__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,default:.99,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"objectrongpusubgraph__boxlandmarksubgraph__ThresholdingCalculator",fieldName:"threshold"}},modelName:{default:"Shoe",onChange:function(Pt){var Ut,fn,In,kn;return io(function(zn){return zn.g==1?(Ut=Pt,Ot.g.setOptions({allowedLabels:yt(Ut)},Vt),fn=Yt(Ut),In="object_detection_3d.tflite",pr(zn,Kt(Ot.g,fn),2)):(kn=zn.h,Ot.g.overrideFile(In,kn),zn.return(!0))})}},focalLength:{default:[1,1],onChange:function(Pt){var Ut;return io(function(fn){return Ut=Pt,Ot.h=Ut,Ot.g.setOptions({focalX:Ut[0],focalY:Ut[1]},Vt),fn.return(!0)})}},principalPoint:{default:[0,0],onChange:function(Pt){var Ut;return io(function(fn){return Ut=Pt,Ot.i=Ut,Ot.g.setOptions({principalX:Ut[0],principalY:Ut[1]},Vt),fn.return(!0)})}},imageSize:{onChange:function(Pt){var Ut,fn,In,kn;return io(function(zn){if(Ot.h===void 0||Ot.i===void 0)return console.error('"focalLength" and "principalPoint" must be set if setting image size'),zn.return();Ut=Pt,fn=[Ut[0]/2,Ut[1]/2],In=[Ot.h[0]/fn[0],Ot.h[1]/fn[1]],kn=[Ot.i[0]/fn[0],Ot.i[1]/fn[1]],Ot.setOptions({focalLength:In,principalPoint:kn}),zn.g=0})}}}})}Et=Dt.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(mt){this.g.onResults(mt)},Et.initialize=function(){var mt=this;return io(function(Ot){return pr(Ot,mt.g.initialize(),0)})},Et.reset=function(){this.g.reset()},Et.send=function(mt){var Ot=this;return io(function(Pt){return pr(Pt,Ot.g.send(mt),0)})},Et.setOptions=function(mt){this.g.setOptions(mt)},jo("Objectron",Dt),jo("BOX_CONNECTIONS",[[1,2],[2,4],[4,3],[3,1],[5,6],[6,8],[8,7],[7,5],[1,5],[2,6],[3,7],[4,8]]),jo("BOX_KEYPOINTS",{CENTER:0,BACK_BOTTOM_LEFT:1,FRONT_BOTTOM_LEFT:2,BACK_TOP_LEFT:3,FRONT_TOP_LEFT:4,BACK_BOTTOM_RIGHT:5,FRONT_BOTTOM_RIGHT:6,BACK_TOP_RIGHT:7,FRONT_TOP_RIGHT:8}),jo("VERSION","0.4.1636596145")}).call(Jp);const Hl={};(function(){var Et;function St(wt){var Qt=0;return function(){return Qt<wt.length?{done:!1,value:wt[Qt++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(wt,Qt,an){return wt==Array.prototype||wt==Object.prototype||(wt[Qt]=an.value),wt};function Xt(wt){wt=[typeof globalThis=="object"&&globalThis,wt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Qt=0;Qt<wt.length;++Qt){var an=wt[Qt];if(an&&an.Math==Math)return an}throw Error("Cannot find global object")}var zt=Xt(this);function vn(wt,Qt){if(Qt)e:{var an=zt;wt=wt.split(".");for(var Cn=0;Cn<wt.length-1;Cn++){var Xn=wt[Cn];if(!(Xn in an))break e;an=an[Xn]}wt=wt[wt.length-1],Cn=an[wt],Qt=Qt(Cn),Qt!=Cn&&Qt!=null&&xt(an,wt,{configurable:!0,writable:!0,value:Qt})}}vn("Symbol",function(wt){function Qt(tr){if(this instanceof Qt)throw new TypeError("Symbol is not a constructor");return new an(Cn+(tr||"")+"_"+Xn++,tr)}function an(tr,Kn){this.g=tr,xt(this,"description",{configurable:!0,writable:!0,value:Kn})}if(wt)return wt;an.prototype.toString=function(){return this.g};var Cn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Xn=0;return Qt}),vn("Symbol.iterator",function(wt){if(wt)return wt;wt=Symbol("Symbol.iterator");for(var Qt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),an=0;an<Qt.length;an++){var Cn=zt[Qt[an]];typeof Cn=="function"&&typeof Cn.prototype[wt]!="function"&&xt(Cn.prototype,wt,{configurable:!0,writable:!0,value:function(){return On(St(this))}})}return wt});function On(wt){return wt={next:wt},wt[Symbol.iterator]=function(){return this},wt}function Tn(wt){var Qt=typeof Symbol<"u"&&Symbol.iterator&&wt[Symbol.iterator];return Qt?Qt.call(wt):{next:St(wt)}}function Mn(wt){if(!(wt instanceof Array)){wt=Tn(wt);for(var Qt,an=[];!(Qt=wt.next()).done;)an.push(Qt.value);wt=an}return wt}var br=typeof Object.create=="function"?Object.create:function(wt){function Qt(){}return Qt.prototype=wt,new Qt},Nr;if(typeof Object.setPrototypeOf=="function")Nr=Object.setPrototypeOf;else{var Wr;e:{var Ao={a:!0},Mo={};try{Mo.__proto__=Ao,Wr=Mo.a;break e}catch{}Wr=!1}Nr=Wr?function(wt,Qt){if(wt.__proto__=Qt,wt.__proto__!==Qt)throw new TypeError(wt+" is not extensible");return wt}:null}var Dr=Nr;function Br(wt,Qt){if(wt.prototype=br(Qt.prototype),wt.prototype.constructor=wt,Dr)Dr(wt,Qt);else for(var an in Qt)if(an!="prototype")if(Object.defineProperties){var Cn=Object.getOwnPropertyDescriptor(Qt,an);Cn&&Object.defineProperty(wt,an,Cn)}else wt[an]=Qt[an];wt.ea=Qt.prototype}function Ko(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function Bo(wt){if(wt.l)throw new TypeError("Generator is already running");wt.l=!0}Ko.prototype.o=function(wt){this.h=wt};function ys(wt,Qt){wt.j={U:Qt,V:!0},wt.g=wt.m||wt.s}Ko.prototype.return=function(wt){this.j={return:wt},this.g=this.s};function pr(wt,Qt,an){return wt.g=an,{value:Qt}}function Zu(wt){this.g=new Ko,this.h=wt}function Cu(wt,Qt){Bo(wt.g);var an=wt.g.i;return an?xa(wt,"return"in an?an.return:function(Cn){return{value:Cn,done:!0}},Qt,wt.g.return):(wt.g.return(Qt),hs(wt))}function xa(wt,Qt,an,Cn){try{var Xn=Qt.call(wt.g.i,an);if(!(Xn instanceof Object))throw new TypeError("Iterator result "+Xn+" is not an object");if(!Xn.done)return wt.g.l=!1,Xn;var tr=Xn.value}catch(Kn){return wt.g.i=null,ys(wt.g,Kn),hs(wt)}return wt.g.i=null,Cn.call(wt.g,tr),hs(wt)}function hs(wt){for(;wt.g.g;)try{var Qt=wt.h(wt.g);if(Qt)return wt.g.l=!1,{value:Qt.value,done:!1}}catch(an){wt.g.h=void 0,ys(wt.g,an)}if(wt.g.l=!1,wt.g.j){if(Qt=wt.g.j,wt.g.j=null,Qt.V)throw Qt.U;return{value:Qt.return,done:!0}}return{value:void 0,done:!0}}function jp(wt){this.next=function(Qt){return Bo(wt.g),wt.g.i?Qt=xa(wt,wt.g.i.next,Qt,wt.g.o):(wt.g.o(Qt),Qt=hs(wt)),Qt},this.throw=function(Qt){return Bo(wt.g),wt.g.i?Qt=xa(wt,wt.g.i.throw,Qt,wt.g.o):(ys(wt.g,Qt),Qt=hs(wt)),Qt},this.return=function(Qt){return Cu(wt,Qt)},this[Symbol.iterator]=function(){return this}}function Ls(wt){function Qt(Cn){return wt.next(Cn)}function an(Cn){return wt.throw(Cn)}return new nt(function(Cn,Xn){function tr(Kn){Kn.done?Cn(Kn.value):nt.resolve(Kn.value).then(Qt,an).then(tr,Xn)}tr(wt.next())})}function io(wt){return Ls(new jp(new Zu(wt)))}vn("Promise",function(wt){function Qt(Kn){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Rr=this.j();try{Kn(Rr.resolve,Rr.reject)}catch(Er){Rr.reject(Er)}}function an(){this.g=null}function Cn(Kn){return Kn instanceof Qt?Kn:new Qt(function(Rr){Rr(Kn)})}if(wt)return wt;an.prototype.h=function(Kn){if(this.g==null){this.g=[];var Rr=this;this.i(function(){Rr.l()})}this.g.push(Kn)};var Xn=zt.setTimeout;an.prototype.i=function(Kn){Xn(Kn,0)},an.prototype.l=function(){for(;this.g&&this.g.length;){var Kn=this.g;this.g=[];for(var Rr=0;Rr<Kn.length;++Rr){var Er=Kn[Rr];Kn[Rr]=null;try{Er()}catch(_i){this.j(_i)}}}this.g=null},an.prototype.j=function(Kn){this.i(function(){throw Kn})},Qt.prototype.j=function(){function Kn(_i){return function(ho){Er||(Er=!0,_i.call(Rr,ho))}}var Rr=this,Er=!1;return{resolve:Kn(this.C),reject:Kn(this.l)}},Qt.prototype.C=function(Kn){if(Kn===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Kn instanceof Qt)this.F(Kn);else{e:switch(typeof Kn){case"object":var Rr=Kn!=null;break e;case"function":Rr=!0;break e;default:Rr=!1}Rr?this.v(Kn):this.m(Kn)}},Qt.prototype.v=function(Kn){var Rr=void 0;try{Rr=Kn.then}catch(Er){this.l(Er);return}typeof Rr=="function"?this.G(Rr,Kn):this.m(Kn)},Qt.prototype.l=function(Kn){this.s(2,Kn)},Qt.prototype.m=function(Kn){this.s(1,Kn)},Qt.prototype.s=function(Kn,Rr){if(this.h!=0)throw Error("Cannot settle("+Kn+", "+Rr+"): Promise already settled in state"+this.h);this.h=Kn,this.i=Rr,this.h===2&&this.D(),this.A()},Qt.prototype.D=function(){var Kn=this;Xn(function(){if(Kn.B()){var Rr=zt.console;typeof Rr<"u"&&Rr.error(Kn.i)}},1)},Qt.prototype.B=function(){if(this.o)return!1;var Kn=zt.CustomEvent,Rr=zt.Event,Er=zt.dispatchEvent;return typeof Er>"u"?!0:(typeof Kn=="function"?Kn=new Kn("unhandledrejection",{cancelable:!0}):typeof Rr=="function"?Kn=new Rr("unhandledrejection",{cancelable:!0}):(Kn=zt.document.createEvent("CustomEvent"),Kn.initCustomEvent("unhandledrejection",!1,!0,Kn)),Kn.promise=this,Kn.reason=this.i,Er(Kn))},Qt.prototype.A=function(){if(this.g!=null){for(var Kn=0;Kn<this.g.length;++Kn)tr.h(this.g[Kn]);this.g=null}};var tr=new an;return Qt.prototype.F=function(Kn){var Rr=this.j();Kn.J(Rr.resolve,Rr.reject)},Qt.prototype.G=function(Kn,Rr){var Er=this.j();try{Kn.call(Rr,Er.resolve,Er.reject)}catch(_i){Er.reject(_i)}},Qt.prototype.then=function(Kn,Rr){function Er(Ro,zr){return typeof Ro=="function"?function(yo){try{_i(Ro(yo))}catch(wo){ho(wo)}}:zr}var _i,ho,Qo=new Qt(function(Ro,zr){_i=Ro,ho=zr});return this.J(Er(Kn,_i),Er(Rr,ho)),Qo},Qt.prototype.catch=function(Kn){return this.then(void 0,Kn)},Qt.prototype.J=function(Kn,Rr){function Er(){switch(_i.h){case 1:Kn(_i.i);break;case 2:Rr(_i.i);break;default:throw Error("Unexpected state: "+_i.h)}}var _i=this;this.g==null?tr.h(Er):this.g.push(Er),this.o=!0},Qt.resolve=Cn,Qt.reject=function(Kn){return new Qt(function(Rr,Er){Er(Kn)})},Qt.race=function(Kn){return new Qt(function(Rr,Er){for(var _i=Tn(Kn),ho=_i.next();!ho.done;ho=_i.next())Cn(ho.value).J(Rr,Er)})},Qt.all=function(Kn){var Rr=Tn(Kn),Er=Rr.next();return Er.done?Cn([]):new Qt(function(_i,ho){function Qo(yo){return function(wo){Ro[yo]=wo,zr--,zr==0&&_i(Ro)}}var Ro=[],zr=0;do Ro.push(void 0),zr++,Cn(Er.value).J(Qo(Ro.length-1),ho),Er=Rr.next();while(!Er.done)})},Qt});function Nu(wt,Qt){wt instanceof String&&(wt+="");var an=0,Cn=!1,Xn={next:function(){if(!Cn&&an<wt.length){var tr=an++;return{value:Qt(tr,wt[tr]),done:!1}}return Cn=!0,{done:!0,value:void 0}}};return Xn[Symbol.iterator]=function(){return Xn},Xn}var Up=typeof Object.assign=="function"?Object.assign:function(wt,Qt){for(var an=1;an<arguments.length;an++){var Cn=arguments[an];if(Cn)for(var Xn in Cn)Object.prototype.hasOwnProperty.call(Cn,Xn)&&(wt[Xn]=Cn[Xn])}return wt};vn("Object.assign",function(wt){return wt||Up}),vn("Object.is",function(wt){return wt||function(Qt,an){return Qt===an?Qt!==0||1/Qt===1/an:Qt!==Qt&&an!==an}}),vn("Array.prototype.includes",function(wt){return wt||function(Qt,an){var Cn=this;Cn instanceof String&&(Cn=String(Cn));var Xn=Cn.length;for(an=an||0,0>an&&(an=Math.max(an+Xn,0));an<Xn;an++){var tr=Cn[an];if(tr===Qt||Object.is(tr,Qt))return!0}return!1}}),vn("String.prototype.includes",function(wt){return wt||function(Qt,an){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Qt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Qt,an||0)!==-1}}),vn("Array.prototype.keys",function(wt){return wt||function(){return Nu(this,function(Qt){return Qt})}});var $a=this||self;function jo(wt,Qt){wt=wt.split(".");var an=$a;wt[0]in an||typeof an.execScript>"u"||an.execScript("var "+wt[0]);for(var Cn;wt.length&&(Cn=wt.shift());)wt.length||Qt===void 0?an[Cn]&&an[Cn]!==Object.prototype[Cn]?an=an[Cn]:an=an[Cn]={}:an[Cn]=Qt}function Tl(wt){$a.setTimeout(function(){throw wt},0)}function mu(wt){Tl(wt)}function Ku(wt,Qt){mu(Error("Invalid wire type: "+wt+" (at position "+Qt+")"))}function vp(){mu(Error("Failed to read varint, encoding is invalid."))}function ep(wt,Qt){return Qt=String.fromCharCode.apply(null,Qt),wt==null?Qt:wt+Qt}var Ep,Tu=typeof TextDecoder<"u",Mu,wp=typeof TextEncoder<"u";function yp(wt){if(wp)wt=(Mu||(Mu=new TextEncoder)).encode(wt);else{var Qt=void 0;Qt=Qt===void 0?!1:Qt;for(var an=0,Cn=new Uint8Array(3*wt.length),Xn=0;Xn<wt.length;Xn++){var tr=wt.charCodeAt(Xn);if(128>tr)Cn[an++]=tr;else{if(2048>tr)Cn[an++]=tr>>6|192;else{if(55296<=tr&&57343>=tr){if(56319>=tr&&Xn<wt.length){var Kn=wt.charCodeAt(++Xn);if(56320<=Kn&&57343>=Kn){tr=1024*(tr-55296)+Kn-56320+65536,Cn[an++]=tr>>18|240,Cn[an++]=tr>>12&63|128,Cn[an++]=tr>>6&63|128,Cn[an++]=tr&63|128;continue}else Xn--}if(Qt)throw Error("Found an unpaired surrogate");tr=65533}Cn[an++]=tr>>12|224,Cn[an++]=tr>>6&63|128}Cn[an++]=tr&63|128}}wt=Cn.subarray(0,an)}return wt}var Kl={},Yl=null;function tp(wt){var Qt;Qt===void 0&&(Qt=0),Cl(),Qt=Kl[Qt];for(var an=Array(Math.floor(wt.length/3)),Cn=Qt[64]||"",Xn=0,tr=0;Xn<wt.length-2;Xn+=3){var Kn=wt[Xn],Rr=wt[Xn+1],Er=wt[Xn+2],_i=Qt[Kn>>2];Kn=Qt[(Kn&3)<<4|Rr>>4],Rr=Qt[(Rr&15)<<2|Er>>6],Er=Qt[Er&63],an[tr++]=_i+Kn+Rr+Er}switch(_i=0,Er=Cn,wt.length-Xn){case 2:_i=wt[Xn+1],Er=Qt[(_i&15)<<2]||Cn;case 1:wt=wt[Xn],an[tr]=Qt[wt>>2]+Qt[(wt&3)<<4|_i>>4]+Er+Cn}return an.join("")}function Ju(wt){var Qt=wt.length,an=3*Qt/4;an%3?an=Math.floor(an):"=.".indexOf(wt[Qt-1])!=-1&&(an="=.".indexOf(wt[Qt-2])!=-1?an-2:an-1);var Cn=new Uint8Array(an),Xn=0;return Ns(wt,function(tr){Cn[Xn++]=tr}),Cn.subarray(0,Xn)}function Ns(wt,Qt){function an(Er){for(;Cn<wt.length;){var _i=wt.charAt(Cn++),ho=Yl[_i];if(ho!=null)return ho;if(!/^[\s\xa0]*$/.test(_i))throw Error("Unknown base64 encoding at char: "+_i)}return Er}Cl();for(var Cn=0;;){var Xn=an(-1),tr=an(0),Kn=an(64),Rr=an(64);if(Rr===64&&Xn===-1)break;Qt(Xn<<2|tr>>4),Kn!=64&&(Qt(tr<<4&240|Kn>>2),Rr!=64&&Qt(Kn<<6&192|Rr))}}function Cl(){if(!Yl){Yl={};for(var wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Qt=["+/=","+/","-_=","-_.","-_"],an=0;5>an;an++){var Cn=wt.concat(Qt[an].split(""));Kl[an]=Cn;for(var Xn=0;Xn<Cn.length;Xn++){var tr=Cn[Xn];Yl[tr]===void 0&&(Yl[tr]=Xn)}}}}var Jl=typeof Uint8Array=="function",Ss;function ga(wt){if(this.g=wt,wt!==null&&wt.length===0)throw Error("ByteString should be constructed with non-empty values")}ga.prototype.toJSON=function(){if(this.g==null)var wt="";else wt=this.g,wt=this.g=wt==null||typeof wt=="string"?wt:Jl&&wt instanceof Uint8Array?tp(wt):null;return wt};var gu=typeof Uint8Array.prototype.slice=="function";function Dl(wt,Qt,an){return Qt===an?Ss||(Ss=new Uint8Array(0)):gu?wt.slice(Qt,an):new Uint8Array(wt.subarray(Qt,an))}var ds=0,Ys=0;function Al(wt){if(wt.constructor===Uint8Array)return wt;if(wt.constructor===ArrayBuffer)return new Uint8Array(wt);if(wt.constructor===Array)return new Uint8Array(wt);if(wt.constructor===String)return Ju(wt);if(wt.constructor===ga){if(wt.g==null)var Qt=Ss||(Ss=new Uint8Array(0));else{Qt=Uint8Array;var an=wt.g;an=an==null||Jl&&an!=null&&an instanceof Uint8Array?an:typeof an=="string"?Ju(an):null,wt=wt.g=an,Qt=new Qt(wt)}return Qt}if(wt instanceof Uint8Array)return new Uint8Array(wt.buffer,wt.byteOffset,wt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function _o(wt,Qt){Qt=Qt===void 0?{}:Qt,Qt=Qt.u===void 0?!1:Qt.u,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.u=Qt,wt&&yl(this,wt)}function yl(wt,Qt){wt.h=Al(Qt),wt.l=0,wt.i=wt.h.length,wt.g=wt.l}_o.prototype.reset=function(){this.g=this.l};function as(wt){wt.g>wt.i&&(wt.j=!0,mu(Error("Tried to read past the end of the data "+wt.g+" > "+wt.i)))}function js(wt){var Qt=wt.h,an=Qt[wt.g],Cn=an&127;return 128>an?(wt.g+=1,as(wt),Cn):(an=Qt[wt.g+1],Cn|=(an&127)<<7,128>an?(wt.g+=2,as(wt),Cn):(an=Qt[wt.g+2],Cn|=(an&127)<<14,128>an?(wt.g+=3,as(wt),Cn):(an=Qt[wt.g+3],Cn|=(an&127)<<21,128>an?(wt.g+=4,as(wt),Cn):(an=Qt[wt.g+4],Cn|=(an&15)<<28,128>an?(wt.g+=5,as(wt),Cn>>>0):(wt.g+=5,128<=Qt[wt.g++]&&128<=Qt[wt.g++]&&128<=Qt[wt.g++]&&128<=Qt[wt.g++]&&128<=Qt[wt.g++]?(wt.j=!0,vp(),Cn):(as(wt),Cn))))))}var xl=[];function ru(){this.g=new Uint8Array(64),this.h=0}function $s(wt,Qt){if(!(wt.h+1<wt.g.length)){var an=wt.g;wt.g=new Uint8Array(Math.ceil(1+2*wt.g.length)),wt.g.set(an)}wt.g[wt.h++]=Qt}ru.prototype.length=function(){return this.h},ru.prototype.end=function(){var wt=this.g,Qt=this.h;return this.h=0,Dl(wt,0,Qt)};function cs(wt,Qt){for(;127<Qt;)$s(wt,Qt&127|128),Qt>>>=7;$s(wt,Qt)}function zl(wt){var Qt={},an=Qt.N===void 0?!1:Qt.N;this.m={u:Qt.u===void 0?!1:Qt.u},this.N=an,Qt=this.m,xl.length?(an=xl.pop(),Qt&&(an.u=Qt.u),wt&&yl(an,wt),wt=an):wt=new _o(wt,Qt),this.g=wt,this.l=this.g.g,this.h=this.i=-1,this.j=!1}zl.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function $l(wt){var Qt=wt.g;if((Qt=Qt.g==Qt.i)||(Qt=wt.j)||(Qt=wt.g,Qt=Qt.j||0>Qt.g||Qt.g>Qt.i),Qt)return!1;wt.l=wt.g.g;var an=js(wt.g);return Qt=an>>>3,an&=7,0<=an&&5>=an?(wt.i=Qt,wt.h=an,!0):(wt.j=!0,Ku(an,wt.l),!1)}function Sl(wt){switch(wt.h){case 0:if(wt.h!=0)Sl(wt);else e:{wt=wt.g;for(var Qt=wt.g,an=0;10>an;an++){if(!(wt.h[Qt]&128)){wt.g=Qt+1,as(wt);break e}Qt++}wt.j=!0,vp()}break;case 1:wt=wt.g,wt.g+=8,as(wt);break;case 2:wt.h!=2?Sl(wt):(Qt=js(wt.g),wt=wt.g,wt.g+=Qt,as(wt));break;case 5:wt=wt.g,wt.g+=4,as(wt);break;case 3:Qt=wt.i;do{if(!$l(wt)){wt.j=!0,mu(Error("Unmatched start-group tag: stream EOF"));break}if(wt.h==4){wt.i!=Qt&&(wt.j=!0,mu(Error("Unmatched end-group tag")));break}Sl(wt)}while(1);break;default:wt.j=!0,Ku(wt.h,wt.l)}}function $u(wt,Qt,an){wt.N||(wt=Dl(wt.g.h,an,wt.g.g),(an=Qt.m)?an.push(wt):Qt.m=[wt])}var vu=[];function Ql(){this.h=[],this.i=0,this.g=new ru}function yu(wt,Qt){Qt.length!==0&&(wt.h.push(Qt),wt.i+=Qt.length)}function zs(wt,Qt,an){cs(wt.g,8*Qt+2),cs(wt.g,an.length),yu(wt,wt.g.end()),yu(wt,an)}var Rl=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Ks(wt,Qt){Object.isFrozen(wt)||(Rl?wt[Rl]|=Qt:wt.g!==void 0?wt.g|=Qt:Object.defineProperties(wt,{g:{value:Qt,configurable:!0,writable:!0,enumerable:!1}}))}function Es(wt){if(!wt)return 0;var Qt;return Rl?Qt=wt[Rl]:Qt=wt.g,Qt??0}function _l(wt){return Array.isArray(wt)&&Ks(wt,1),wt}function gs(wt){if(!Array.isArray(wt))throw Error("cannot mark non-array as immutable");Ks(wt,2)}function ls(wt){return wt!==null&&typeof wt=="object"&&wt.constructor===Object}function xu(wt){switch(typeof wt){case"number":return isFinite(wt)?wt:String(wt);case"object":return Jl&&wt!=null&&wt instanceof Uint8Array?tp(wt):wt;default:return wt}}function Ms(wt,Qt){if(wt!=null)return Array.isArray(wt)||ls(wt)?Xo(wt,Qt):Qt(wt)}function Xo(wt,Qt){if(Array.isArray(wt)){for(var an=Array(wt.length),Cn=0;Cn<wt.length;Cn++)an[Cn]=Ms(wt[Cn],Qt);return Es(wt)&1&&_l(an),an}an={};for(Cn in wt)an[Cn]=Ms(wt[Cn],Qt);return an}var Eo;function Cs(wt,Qt,an){var Cn=Eo;Eo=null,wt||(wt=Cn),Cn=this.constructor.ca,wt||(wt=Cn?[Cn]:[]),this.j=(Cn?0:-1)-(this.constructor.aa||0),this.i=null,this.g=wt;e:{if(Cn=this.g.length,wt=Cn-1,Cn&&(Cn=this.g[wt],ls(Cn))){this.l=wt-this.j,this.h=Cn;break e}Qt!==void 0&&-1<Qt?(this.l=Math.max(Qt,wt+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(an)for(Qt=0;Qt<an.length;Qt++)wt=an[Qt],wt<this.l?(wt+=this.j,(Cn=this.g[wt])?_l(Cn):this.g[wt]=Il):(vs(this),(Cn=this.h[wt])?_l(Cn):this.h[wt]=Il)}var Il=Object.freeze(_l([]));function vs(wt){var Qt=wt.l+wt.j;wt.g[Qt]||(wt.h=wt.g[Qt]={})}function Ts(wt,Qt,an){return Qt===-1?null:an!==void 0&&an||Qt>=wt.l?wt.h?wt.h[Qt]:void 0:wt.g[Qt+wt.j]}function xr(wt,Qt,an){an=an===void 0?!0:an;var Cn=Cn===void 0?!1:Cn,Xn=Ts(wt,Qt,Cn);return Xn==null&&(Xn=Il),Xn===Il?(Xn=_l([]),Xr(wt,Qt,Xn,Cn)):an&&Array.isArray(Xn)&&Es(Xn)&2&&(Xn=Xn.slice(),Xr(wt,Qt,Xn,Cn)),Xn}function kr(wt,Qt,an){return wt=Ts(wt,Qt),wt=wt==null?wt:+wt,wt??(an===void 0?0:an)}function Xr(wt,Qt,an,Cn){Cn!==void 0&&Cn||Qt>=wt.l?(vs(wt),wt.h[Qt]=an):wt.g[Qt+wt.j]=an}function us(wt,Qt,an){wt.i||(wt.i={});var Cn=wt.i[an];if(!Cn){var Xn=xr(wt,an,!1);Cn=[];for(var tr=Array.isArray(Xn)?!!(Es(Xn)&2):!1,Kn=0;Kn<Xn.length;Kn++)Cn[Kn]=new Qt(Xn[Kn]),tr&&gs(Cn[Kn].g);tr&&(gs(Cn),Object.freeze(Cn)),wt.i[an]=Cn}return Cn}function ks(wt,Qt,an,Cn,Xn){var tr=us(wt,Cn,Qt);an=an||new Cn,wt=xr(wt,Qt),Xn!=null?(tr.splice(Xn,0,an),wt.splice(Xn,0,ws(an))):(tr.push(an),wt.push(ws(an)))}Cs.prototype.toJSON=function(){var wt=ws(this);return Xo(wt,xu)};function ws(wt){if(wt.i)for(var Qt in wt.i){var an=wt.i[Qt];if(Array.isArray(an))for(var Cn=0;Cn<an.length;Cn++)an[Cn]&&ws(an[Cn]);else an&&ws(an)}return wt.g}Cs.prototype.toString=function(){return ws(this).toString()};function Oo(wt,Qt){return wt=Ts(wt,Qt),wt??0}function Ps(wt,Qt){return wt=Ts(wt,Qt),wt??""}function Ll(wt,Qt){if(wt=wt.m){yu(Qt,Qt.g.end());for(var an=0;an<wt.length;an++)yu(Qt,wt[an])}}function iu(wt){var Qt=wt[0];switch(wt.length){case 2:var an=wt[1];return function(Er,_i,ho){return Qt(Er,_i,ho,an)};case 3:var Cn=wt[1],Xn=wt[2];return function(Er,_i,ho){return Qt(Er,_i,ho,Cn,Xn)};case 4:var tr=wt[1],Kn=wt[2],Rr=wt[3];return function(Er,_i,ho){return Qt(Er,_i,ho,tr,Kn,Rr)};default:throw Error("unsupported number of parameters, expected [2-4], got "+wt.length)}}function ou(wt,Qt,an){for(;$l(Qt)&&Qt.h!=4;){var Cn=Qt.i,Xn=an[Cn];if(Xn){if(Array.isArray(Xn)&&(Xn=an[Cn]=iu(Xn)),!Xn(Qt,wt,Cn)){Cn=Qt,Xn=wt;var tr=Cn.l;Sl(Cn),$u(Cn,Xn,tr)}}else Cn=Qt,Xn=wt,tr=Cn.l,Sl(Cn),$u(Cn,Xn,tr)}return wt}function Ru(wt,Qt){var an=new Ql;if(Qt(wt,an),wt=an.i+an.g.length(),wt===0)an=new Uint8Array(0);else{wt=new Uint8Array(wt);for(var Cn=an.h,Xn=Cn.length,tr=Qt=0;tr<Xn;tr++){var Kn=Cn[tr];Kn.length!==0&&(wt.set(Kn,Qt),Qt+=Kn.length)}Cn=an.g,Xn=Cn.h,Xn!==0&&(wt.set(Cn.g.subarray(0,Xn),Qt),Cn.h=0),an.h=[wt],an=wt}return an}function Pu(wt,Qt,an){if(vu.length){var Cn=vu.pop();wt&&(yl(Cn.g,wt),Cn.i=-1,Cn.h=-1),wt=Cn}else wt=new zl(wt);try{return an(new Qt,wt)}finally{Qt=wt.g,Qt.h=null,Qt.l=0,Qt.i=0,Qt.g=0,Qt.j=!1,Qt.u=!1,wt.i=-1,wt.h=-1,wt.j=!1,100>vu.length&&vu.push(wt)}}function Ol(wt,Qt,an){if(Qt=Ts(Qt,an),Qt!=null){cs(wt.g,8*an+5),wt=wt.g;var Cn=Qt;Cn=(an=0>Cn?1:0)?-Cn:Cn,Cn===0?0<1/Cn?ds=Ys=0:(Ys=0,ds=2147483648):isNaN(Cn)?(Ys=0,ds=2147483647):34028234663852886e22<Cn?(Ys=0,ds=(an<<31|2139095040)>>>0):11754943508222875e-54>Cn?(Cn=Math.round(Cn/Math.pow(2,-149)),Ys=0,ds=(an<<31|Cn)>>>0):(Qt=Math.floor(Math.log(Cn)/Math.LN2),Cn*=Math.pow(2,-Qt),Cn=Math.round(8388608*Cn),16777216<=Cn&&++Qt,Ys=0,ds=(an<<31|Qt+127<<23|Cn&8388607)>>>0),an=ds,$s(wt,an>>>0&255),$s(wt,an>>>8&255),$s(wt,an>>>16&255),$s(wt,an>>>24&255)}}function su(wt,Qt,an){if(wt.h!==5)return!1;wt=wt.g;var Cn=wt.h[wt.g],Xn=wt.h[wt.g+1],tr=wt.h[wt.g+2],Kn=wt.h[wt.g+3];return wt.g+=4,as(wt),Xn=(Cn<<0|Xn<<8|tr<<16|Kn<<24)>>>0,wt=2*(Xn>>31)+1,Cn=Xn>>>23&255,Xn&=8388607,Xr(Qt,an,Cn==255?Xn?NaN:1/0*wt:Cn==0?wt*Math.pow(2,-149)*Xn:wt*Math.pow(2,Cn-150)*(Xn+Math.pow(2,23))),!0}function Hp(wt,Qt,an){if(wt.h!==0)return!1;for(var Cn=wt.g,Xn=128,tr=0,Kn=wt=0;4>Kn&&128<=Xn;Kn++)Xn=Cn.h[Cn.g++],tr|=(Xn&127)<<7*Kn;if(128<=Xn&&(Xn=Cn.h[Cn.g++],tr|=(Xn&127)<<28,wt|=(Xn&127)>>4),128<=Xn)for(Kn=0;5>Kn&&128<=Xn;Kn++)Xn=Cn.h[Cn.g++],wt|=(Xn&127)<<7*Kn+3;return 128>Xn?(Cn=tr>>>0,Xn=wt>>>0,(wt=Xn&2147483648)&&(Cn=~Cn+1>>>0,Xn=~Xn>>>0,Cn==0&&(Xn=Xn+1>>>0)),Cn=4294967296*Xn+(Cn>>>0),wt=wt?-Cn:Cn):(Cn.j=!0,vp(),wt=void 0),Xr(Qt,an,wt),!0}function au(wt,Qt,an){return wt.h!==0?!1:(Xr(Qt,an,js(wt.g)),!0)}function Vl(wt,Qt,an){if(wt.h!==2)return!1;var Cn=js(wt.g);wt=wt.g;var Xn=wt.g;wt.g+=Cn,as(wt),wt=wt.h;var tr;if(Tu)(tr=Ep)||(tr=Ep=new TextDecoder("utf-8",{fatal:!1})),tr=tr.decode(wt.subarray(Xn,Xn+Cn));else{Cn=Xn+Cn;for(var Kn=[],Rr=null,Er,_i,ho;Xn<Cn;)Er=wt[Xn++],128>Er?Kn.push(Er):224>Er?Xn>=Cn?Kn.push(65533):(_i=wt[Xn++],194>Er||(_i&192)!==128?(Xn--,Kn.push(65533)):Kn.push((Er&31)<<6|_i&63)):240>Er?Xn>=Cn-1?Kn.push(65533):(_i=wt[Xn++],(_i&192)!==128||Er===224&&160>_i||Er===237&&160<=_i||((tr=wt[Xn++])&192)!==128?(Xn--,Kn.push(65533)):Kn.push((Er&15)<<12|(_i&63)<<6|tr&63)):244>=Er?Xn>=Cn-2?Kn.push(65533):(_i=wt[Xn++],(_i&192)!==128||(Er<<28)+(_i-144)>>30||((tr=wt[Xn++])&192)!==128||((ho=wt[Xn++])&192)!==128?(Xn--,Kn.push(65533)):(Er=(Er&7)<<18|(_i&63)<<12|(tr&63)<<6|ho&63,Er-=65536,Kn.push((Er>>10&1023)+55296,(Er&1023)+56320))):Kn.push(65533),8192<=Kn.length&&(Rr=ep(Rr,Kn),Kn.length=0);tr=ep(Rr,Kn)}return Xr(Qt,an,tr),!0}function ju(wt,Qt,an,Cn,Xn){if(wt.h!==2)return!1;var tr=new Cn,Kn=wt.g.i,Rr=js(wt.g),Er=wt.g.g+Rr;if(wt.g.i=Er,Xn(tr,wt),Xn=Er-wt.g.g,Xn!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(Rr+" bytes, instead read "+(Rr-Xn)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return wt.g.g=Er,wt.g.i=Kn,ks(Qt,an,tr,Cn,void 0),!0}function np(wt){Cs.call(this,wt)}var Xl;Br(np,Cs);function Op(wt,Qt){var an=Ts(wt,1);if(an!=null&&an!=null){cs(Qt.g,8);var Cn=Qt.g;if(0<=an)cs(Cn,an);else{for(var Xn=0;9>Xn;Xn++)$s(Cn,an&127|128),an>>=7;$s(Cn,1)}}Ol(Qt,wt,2),Cn=Ts(wt,3),Cn!=null&&zs(Qt,3,yp(Cn)),Cn=Ts(wt,4),Cn!=null&&zs(Qt,4,yp(Cn)),Ll(wt,Qt)}function cu(wt,Qt){return ou(wt,Qt,Xl||(Xl={1:au,2:su,3:Vl,4:Vl}))}function Uu(wt){Cs.call(this,wt,-1,bu)}var lp;Br(Uu,Cs),Uu.prototype.addClassification=function(wt,Qt){return ks(this,1,wt,np,Qt),this};function Pp(wt,Qt){return ou(wt,Qt,lp||(lp={1:[ju,np,cu]}))}var bu=[1];function up(wt){Cs.call(this,wt)}var _h;Br(up,Cs);function em(wt,Qt){Ol(Qt,wt,1),Ol(Qt,wt,2),Ol(Qt,wt,3),Ol(Qt,wt,4),Ol(Qt,wt,5),Ll(wt,Qt)}function dp(wt,Qt){return ou(wt,Qt,_h||(_h={1:su,2:su,3:su,4:su,5:su}))}function bp(wt){Cs.call(this,wt,-1,sn)}var jt;Br(bp,Cs);function nn(wt,Qt){return ou(wt,Qt,jt||(jt={1:[ju,up,dp]}))}var sn=[1];function Hn(wt){Cs.call(this,wt)}var fr;Br(Hn,Cs);function Mr(wt,Qt){Ol(Qt,wt,1),Ol(Qt,wt,2),Ol(Qt,wt,3),Ol(Qt,wt,4),Ol(Qt,wt,5);var an=Ts(wt,6);if(an!=null&&an!=null){cs(Qt.g,48);var Cn=Qt.g,Xn=an;an=0>Xn,Xn=Math.abs(Xn);var tr=Xn>>>0;for(Xn=Math.floor((Xn-tr)/4294967296),Xn>>>=0,an&&(Xn=~Xn>>>0,tr=(~tr>>>0)+1,4294967295<tr&&(tr=0,Xn++,4294967295<Xn&&(Xn=0))),ds=tr,Ys=Xn,an=ds,tr=Ys;0<tr||127<an;)$s(Cn,an&127|128),an=(an>>>7|tr<<25)>>>0,tr>>>=7;$s(Cn,an)}Ll(wt,Qt)}function dr(wt,Qt){return ou(wt,Qt,fr||(fr={1:su,2:su,3:su,4:su,5:su,6:Hp}))}function Or(wt,Qt,an){if(an=wt.createShader(an===0?wt.VERTEX_SHADER:wt.FRAGMENT_SHADER),wt.shaderSource(an,Qt),wt.compileShader(an),!wt.getShaderParameter(an,wt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+wt.getShaderInfoLog(an));return an}function Qr(wt){return us(wt,np,1).map(function(Qt){return{index:Oo(Qt,1),X:kr(Qt,2),label:Ts(Qt,3)!=null?Ps(Qt,3):void 0,displayName:Ts(Qt,4)!=null?Ps(Qt,4):void 0}})}function xo(wt){return{x:kr(wt,1),y:kr(wt,2),z:kr(wt,3),visibility:Ts(wt,4)!=null?kr(wt,4):void 0}}function $o(wt){return us(Pu(wt,bp,nn),up,1).map(xo)}function Uo(wt,Qt){this.h=wt,this.g=Qt,this.l=0}function ms(wt,Qt,an){return Yo(wt,Qt),typeof wt.g.canvas.transferToImageBitmap=="function"?nt.resolve(wt.g.canvas.transferToImageBitmap()):an?nt.resolve(wt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(wt.g.canvas):(wt.i===void 0&&(wt.i=document.createElement("canvas")),new nt(function(Cn){wt.i.height=wt.g.canvas.height,wt.i.width=wt.g.canvas.width,wt.i.getContext("2d",{}).drawImage(wt.g.canvas,0,0,wt.g.canvas.width,wt.g.canvas.height),Cn(wt.i)}))}function Yo(wt,Qt){var an=wt.g;if(wt.m===void 0){var Cn=Or(an,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Xn=Or(an,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),tr=an.createProgram();if(an.attachShader(tr,Cn),an.attachShader(tr,Xn),an.linkProgram(tr),!an.getProgramParameter(tr,an.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+an.getProgramInfoLog(tr));Cn=wt.m=tr,an.useProgram(Cn),Xn=an.getUniformLocation(Cn,"sampler0"),wt.j={I:an.getAttribLocation(Cn,"aVertex"),H:an.getAttribLocation(Cn,"aTex"),da:Xn},wt.s=an.createBuffer(),an.bindBuffer(an.ARRAY_BUFFER,wt.s),an.enableVertexAttribArray(wt.j.I),an.vertexAttribPointer(wt.j.I,2,an.FLOAT,!1,0,0),an.bufferData(an.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),an.STATIC_DRAW),an.bindBuffer(an.ARRAY_BUFFER,null),wt.o=an.createBuffer(),an.bindBuffer(an.ARRAY_BUFFER,wt.o),an.enableVertexAttribArray(wt.j.H),an.vertexAttribPointer(wt.j.H,2,an.FLOAT,!1,0,0),an.bufferData(an.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),an.STATIC_DRAW),an.bindBuffer(an.ARRAY_BUFFER,null),an.uniform1i(Xn,0)}Cn=wt.j,an.useProgram(wt.m),an.canvas.width=Qt.width,an.canvas.height=Qt.height,an.viewport(0,0,Qt.width,Qt.height),an.activeTexture(an.TEXTURE0),wt.h.bindTexture2d(Qt.glName),an.enableVertexAttribArray(Cn.I),an.bindBuffer(an.ARRAY_BUFFER,wt.s),an.vertexAttribPointer(Cn.I,2,an.FLOAT,!1,0,0),an.enableVertexAttribArray(Cn.H),an.bindBuffer(an.ARRAY_BUFFER,wt.o),an.vertexAttribPointer(Cn.H,2,an.FLOAT,!1,0,0),an.bindFramebuffer(an.DRAW_FRAMEBUFFER?an.DRAW_FRAMEBUFFER:an.FRAMEBUFFER,null),an.clearColor(0,0,0,0),an.clear(an.COLOR_BUFFER_BIT),an.colorMask(!0,!0,!0,!0),an.drawArrays(an.TRIANGLE_FAN,0,4),an.disableVertexAttribArray(Cn.I),an.disableVertexAttribArray(Cn.H),an.bindBuffer(an.ARRAY_BUFFER,null),wt.h.bindTexture2d(0)}function Lo(wt){this.g=wt}var Jo=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function fs(wt,Qt){return Qt+wt}function Os(wt,Qt){window[wt]=Qt}function Ws(wt){var Qt=document.createElement("script");return Qt.setAttribute("src",wt),Qt.setAttribute("crossorigin","anonymous"),new nt(function(an){Qt.addEventListener("load",function(){an()},!1),Qt.addEventListener("error",function(){an()},!1),document.body.appendChild(Qt)})}function Us(){return io(function(wt){switch(wt.g){case 1:return wt.m=2,pr(wt,WebAssembly.instantiate(Jo),4);case 4:wt.g=3,wt.m=0;break;case 2:return wt.m=0,wt.j=null,wt.return(!1);case 3:return wt.return(!0)}})}function Zl(wt){if(this.g=wt,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=wt&&wt.locateFile||fs,typeof window=="object")var Qt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Qt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Qt,wt.options){Qt=Tn(Object.keys(wt.options));for(var an=Qt.next();!an.done;an=Qt.next()){an=an.value;var Cn=wt.options[an].default;Cn!==void 0&&(this.j[an]=typeof Cn=="function"?Cn():Cn)}}}Et=Zl.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Ft(wt){var Qt,an,Cn,Xn,tr,Kn,Rr,Er,_i,ho,Qo;return io(function(Ro){switch(Ro.g){case 1:return wt.R?(Qt=wt.g.files===void 0?[]:typeof wt.g.files=="function"?wt.g.files(wt.j):wt.g.files,pr(Ro,Us(),2)):Ro.return();case 2:if(an=Ro.h,typeof window=="object")return Os("createMediapipeSolutionsWasm",{locateFile:wt.locateFile}),Os("createMediapipeSolutionsPackedAssets",{locateFile:wt.locateFile}),Kn=Qt.filter(function(zr){return zr.data!==void 0}),Rr=Qt.filter(function(zr){return zr.data===void 0}),Er=nt.all(Kn.map(function(zr){var yo=Ln(wt,zr.url);if(zr.path!==void 0){var wo=zr.path;yo=yo.then(function(Po){return wt.overrideFile(wo,Po),nt.resolve(Po)})}return yo})),_i=nt.all(Rr.map(function(zr){return zr.simd===void 0||zr.simd&&an||!zr.simd&&!an?Ws(wt.locateFile(zr.url,wt.S)):nt.resolve()})).then(function(){var zr,yo,wo;return io(function(Po){if(Po.g==1)return zr=window.createMediapipeSolutionsWasm,yo=window.createMediapipeSolutionsPackedAssets,wo=wt,pr(Po,zr(yo),2);wo.h=Po.h,Po.g=0})}),ho=function(){return io(function(zr){return wt.g.graph&&wt.g.graph.url?zr=pr(zr,Ln(wt,wt.g.graph.url),0):(zr.g=0,zr=void 0),zr})}(),pr(Ro,nt.all([_i,Er,ho]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return Cn=Qt.filter(function(zr){return zr.simd===void 0||zr.simd&&an||!zr.simd&&!an}).map(function(zr){return wt.locateFile(zr.url,wt.S)}),importScripts.apply(null,Mn(Cn)),Xn=wt,pr(Ro,createMediapipeSolutionsWasm(Module),6);case 6:Xn.h=Ro.h,wt.l=new OffscreenCanvas(1,1),wt.h.canvas=wt.l,tr=wt.h.GL.createContext(wt.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),wt.h.GL.makeContextCurrent(tr),Ro.g=4;break;case 7:if(wt.l=document.createElement("canvas"),Qo=wt.l.getContext("webgl2",{}),!Qo&&(Qo=wt.l.getContext("webgl",{}),!Qo))return alert("Failed to create WebGL canvas context when passing video frame."),Ro.return();wt.D=Qo,wt.h.canvas=wt.l,wt.h.createContext(wt.l,!0,!0,{});case 4:wt.i=new wt.h.SolutionWasm,wt.R=!1,Ro.g=0}})}function Bt(wt){var Qt,an,Cn,Xn,tr,Kn,Rr,Er;return io(function(_i){if(_i.g==1){if(wt.g.graph&&wt.g.graph.url&&wt.P===wt.g.graph.url)return _i.return();if(wt.o=!0,!wt.g.graph||!wt.g.graph.url){_i.g=2;return}return wt.P=wt.g.graph.url,pr(_i,Ln(wt,wt.g.graph.url),3)}for(_i.g!=2&&(Qt=_i.h,wt.i.loadGraph(Qt)),an=Tn(Object.keys(wt.B)),Cn=an.next();!Cn.done;Cn=an.next())Xn=Cn.value,wt.i.overrideFile(Xn,wt.B[Xn]);if(wt.B={},wt.g.listeners)for(tr=Tn(wt.g.listeners),Kn=tr.next();!Kn.done;Kn=tr.next())Rr=Kn.value,qn(wt,Rr);Er=wt.j,wt.j={},wt.setOptions(Er),_i.g=0})}Et.reset=function(){var wt=this;return io(function(Qt){wt.i&&(wt.i.reset(),wt.m={},wt.s={}),Qt.g=0})},Et.setOptions=function(wt,Qt){var an=this;if(Qt=Qt||this.g.options){for(var Cn=[],Xn=[],tr={},Kn=Tn(Object.keys(wt)),Rr=Kn.next();!Rr.done;tr={K:tr.K,L:tr.L},Rr=Kn.next()){var Er=Rr.value;Er in this.j&&this.j[Er]===wt[Er]||(this.j[Er]=wt[Er],Rr=Qt[Er],Rr!==void 0&&(Rr.onChange&&(tr.K=Rr.onChange,tr.L=wt[Er],Cn.push(function(_i){return function(){var ho;return io(function(Qo){if(Qo.g==1)return pr(Qo,_i.K(_i.L),2);ho=Qo.h,ho===!0&&(an.o=!0),Qo.g=0})}}(tr))),Rr.graphOptionXref&&(Er={valueNumber:Rr.type===1?wt[Er]:0,valueBoolean:Rr.type===0?wt[Er]:!1,valueString:Rr.type===2?wt[Er]:""},Rr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Rr.graphOptionXref),Er),Xn.push(Rr))))}(Cn.length!==0||Xn.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(Xn),this.v=(this.v===void 0?[]:this.v).concat(Cn))}};function Jt(wt){var Qt,an,Cn,Xn,tr,Kn,Rr;return io(function(Er){switch(Er.g){case 1:if(!wt.o)return Er.return();if(!wt.v){Er.g=2;break}Qt=Tn(wt.v),an=Qt.next();case 3:if(an.done){Er.g=5;break}return Cn=an.value,pr(Er,Cn(),4);case 4:an=Qt.next(),Er.g=3;break;case 5:wt.v=void 0;case 2:if(wt.A){for(Xn=new wt.h.GraphOptionChangeRequestList,tr=Tn(wt.A),Kn=tr.next();!Kn.done;Kn=tr.next())Rr=Kn.value,Xn.push_back(Rr);wt.i.changeOptions(Xn),Xn.delete(),wt.A=void 0}wt.o=!1,Er.g=0}})}Et.initialize=function(){var wt=this;return io(function(Qt){return Qt.g==1?pr(Qt,Ft(wt),2):Qt.g!=3?pr(Qt,Bt(wt),3):pr(Qt,Jt(wt),0)})};function Ln(wt,Qt){var an,Cn;return io(function(Xn){return Qt in wt.F?Xn.return(wt.F[Qt]):(an=wt.locateFile(Qt,""),Cn=fetch(an).then(function(tr){return tr.arrayBuffer()}),wt.F[Qt]=Cn,Xn.return(Cn))})}Et.overrideFile=function(wt,Qt){this.i?this.i.overrideFile(wt,Qt):this.B[wt]=Qt},Et.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(wt,Qt){var an=this,Cn,Xn,tr,Kn,Rr,Er,_i,ho,Qo;return io(function(Ro){switch(Ro.g){case 1:return an.g.inputs?(Cn=1e3*(Qt??performance.now()),pr(Ro,an.C,2)):Ro.return();case 2:return pr(Ro,an.initialize(),3);case 3:for(Xn=new an.h.PacketDataList,tr=Tn(Object.keys(wt)),Kn=tr.next();!Kn.done;Kn=tr.next())if(Rr=Kn.value,Er=an.g.inputs[Rr]){e:{var zr=wt[Rr];switch(Er.type){case"video":var yo=an.m[Er.stream];if(yo||(yo=new Uo(an.h,an.D),an.m[Er.stream]=yo),yo.l===0&&(yo.l=yo.h.createTexture()),typeof HTMLVideoElement<"u"&&zr instanceof HTMLVideoElement)var wo=zr.videoWidth,Po=zr.videoHeight;else typeof HTMLImageElement<"u"&&zr instanceof HTMLImageElement?(wo=zr.naturalWidth,Po=zr.naturalHeight):(wo=zr.width,Po=zr.height);Po={glName:yo.l,width:wo,height:Po},wo=yo.g,wo.canvas.width=Po.width,wo.canvas.height=Po.height,wo.activeTexture(wo.TEXTURE0),yo.h.bindTexture2d(yo.l),wo.texImage2D(wo.TEXTURE_2D,0,wo.RGBA,wo.RGBA,wo.UNSIGNED_BYTE,zr),yo.h.bindTexture2d(0),yo=Po;break e;case"detections":for(yo=an.m[Er.stream],yo||(yo=new Lo(an.h),an.m[Er.stream]=yo),yo.data||(yo.data=new yo.g.DetectionListData),yo.data.reset(zr.length),Po=0;Po<zr.length;++Po){wo=zr[Po];var Fo=yo.data,At=Fo.setBoundingBox,Kt=Po,cn=wo.T,bn=new Hn;if(Xr(bn,1,cn.Y),Xr(bn,2,cn.Z),Xr(bn,3,cn.height),Xr(bn,4,cn.width),Xr(bn,5,cn.rotation),Xr(bn,6,cn.W),cn=Ru(bn,Mr),At.call(Fo,Kt,cn),wo.O)for(Fo=0;Fo<wo.O.length;++Fo){bn=wo.O[Fo];var jn=!!bn.visibility;At=yo.data,Kt=At.addNormalizedLandmark,cn=Po,bn=Object.assign(Object.assign({},bn),{visibility:jn?bn.visibility:0}),jn=new up,Xr(jn,1,bn.x),Xr(jn,2,bn.y),Xr(jn,3,bn.z),bn.visibility&&Xr(jn,4,bn.visibility),bn=Ru(jn,em),Kt.call(At,cn,bn)}if(wo.M)for(Fo=0;Fo<wo.M.length;++Fo)At=yo.data,Kt=At.addClassification,cn=Po,bn=wo.M[Fo],jn=new np,Xr(jn,2,bn.X),bn.index&&Xr(jn,1,bn.index),bn.label&&Xr(jn,3,bn.label),bn.displayName&&Xr(jn,4,bn.displayName),bn=Ru(jn,Op),Kt.call(At,cn,bn)}yo=yo.data;break e;default:yo={}}}switch(_i=yo,ho=Er.stream,Er.type){case"video":Xn.pushTexture2d(Object.assign(Object.assign({},_i),{stream:ho,timestamp:Cn}));break;case"detections":Qo=_i,Qo.stream=ho,Qo.timestamp=Cn,Xn.pushDetectionList(Qo);break;default:throw Error("Unknown input config type: '"+Er.type+"'")}}return an.i.send(Xn),pr(Ro,an.C,4);case 4:Xn.delete(),Ro.g=0}})};function $n(wt,Qt,an){var Cn,Xn,tr,Kn,Rr,Er,_i,ho,Qo,Ro,zr,yo,wo,Po;return io(function(Fo){switch(Fo.g){case 1:if(!an)return Fo.return(Qt);for(Cn={},Xn=0,tr=Tn(Object.keys(an)),Kn=tr.next();!Kn.done;Kn=tr.next())Rr=Kn.value,Er=an[Rr],typeof Er!="string"&&Er.type==="texture"&&Qt[Er.stream]!==void 0&&++Xn;1<Xn&&(wt.G=!1),_i=Tn(Object.keys(an)),Kn=_i.next();case 2:if(Kn.done){Fo.g=4;break}if(ho=Kn.value,Qo=an[ho],typeof Qo=="string")return wo=Cn,Po=ho,pr(Fo,hr(wt,ho,Qt[Qo]),14);if(Ro=Qt[Qo.stream],Qo.type==="detection_list"){if(Ro){for(var At=Ro.getRectList(),Kt=Ro.getLandmarksList(),cn=Ro.getClassificationsList(),bn=[],jn=0;jn<At.size();++jn){var Rt=Pu(At.get(jn),Hn,dr);Rt={T:{Y:kr(Rt,1),Z:kr(Rt,2),height:kr(Rt,3),width:kr(Rt,4),rotation:kr(Rt,5,0),W:Oo(Rt,6)},O:$o(Kt.get(jn)),M:Qr(Pu(cn.get(jn),Uu,Pp))},bn.push(Rt)}At=bn}else At=[];Cn[ho]=At,Fo.g=7;break}if(Qo.type==="proto_list"){if(Ro){for(At=Array(Ro.size()),Kt=0;Kt<Ro.size();Kt++)At[Kt]=Ro.get(Kt);Ro.delete()}else At=[];Cn[ho]=At,Fo.g=7;break}if(Ro===void 0){Fo.g=3;break}if(Qo.type==="float_list"){Cn[ho]=Ro,Fo.g=7;break}if(Qo.type==="proto"){Cn[ho]=Ro,Fo.g=7;break}if(Qo.type!=="texture")throw Error("Unknown output config type: '"+Qo.type+"'");return zr=wt.s[ho],zr||(zr=new Uo(wt.h,wt.D),wt.s[ho]=zr),pr(Fo,ms(zr,Ro,wt.G),13);case 13:yo=Fo.h,Cn[ho]=yo;case 7:Qo.transform&&Cn[ho]&&(Cn[ho]=Qo.transform(Cn[ho])),Fo.g=3;break;case 14:wo[Po]=Fo.h;case 3:Kn=_i.next(),Fo.g=2;break;case 4:return Fo.return(Cn)}})}function hr(wt,Qt,an){var Cn;return io(function(Xn){return typeof an=="number"||an instanceof Uint8Array||an instanceof wt.h.Uint8BlobList?Xn.return(an):an instanceof wt.h.Texture2dDataOut?(Cn=wt.s[Qt],Cn||(Cn=new Uo(wt.h,wt.D),wt.s[Qt]=Cn),Xn.return(ms(Cn,an,wt.G))):Xn.return(void 0)})}function qn(wt,Qt){for(var an=Qt.name||"$",Cn=[].concat(Mn(Qt.wants)),Xn=new wt.h.StringList,tr=Tn(Qt.wants),Kn=tr.next();!Kn.done;Kn=tr.next())Xn.push_back(Kn.value);tr=wt.h.PacketListener.implement({onResults:function(Rr){for(var Er={},_i=0;_i<Qt.wants.length;++_i)Er[Cn[_i]]=Rr.get(_i);var ho=wt.listeners[an];ho&&(wt.C=$n(wt,Er,Qt.outs).then(function(Qo){Qo=ho(Qo);for(var Ro=0;Ro<Qt.wants.length;++Ro){var zr=Er[Cn[Ro]];typeof zr=="object"&&zr.hasOwnProperty&&zr.hasOwnProperty("delete")&&zr.delete()}Qo&&(wt.C=Qo)}))}}),wt.i.attachMultiListener(Xn,tr),Xn.delete()}Et.onResults=function(wt,Qt){this.listeners[Qt||"$"]=wt},jo("Solution",Zl),jo("OptionType",{BOOL:0,NUMBER:1,$:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Cr(wt){switch(wt===void 0&&(wt=0),wt){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function Fr(wt){var Qt=this;wt=wt||{},this.g=new Zl({locateFile:wt.locateFile,files:function(an){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:Cr(an.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:$o},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:$o},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(an){var Cn,Xn,tr;return io(function(Kn){return Kn.g==1?(Cn=Cr(an),Xn="third_party/mediapipe/modules/pose_landmark/"+Cn,pr(Kn,Ln(Qt.g,Cn),2)):(tr=Kn.h,Qt.g.overrideFile(Xn,tr),Kn.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}Et=Fr.prototype,Et.reset=function(){this.g.reset()},Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(wt){this.g.onResults(wt)},Et.initialize=function(){var wt=this;return io(function(Qt){return pr(Qt,wt.g.initialize(),0)})},Et.send=function(wt,Qt){var an=this;return io(function(Cn){return pr(Cn,an.g.send(wt,Qt),0)})},Et.setOptions=function(wt){this.g.setOptions(wt)},jo("Pose",Fr),jo("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),jo("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),jo("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),jo("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),jo("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),jo("VERSION","0.5.1635988162")}).call(Hl);const om=class{constructor(){st(this,"mediapipeMap_",new Map)}getVersion(Et){switch(Et){case"face_detection":return Rp.VERSION;case"face_mesh":return im.VERSION;case"hands":return ku.VERSION;case"holistic":return cp.VERSION;case"objectron":return Jp.VERSION;case"selfie_segmentation":return Au.VERSION;case"pose":return Hl.VERSION;default:return""}}initialize(Et){return new nt(async(St,xt)=>{if(Et.mediaPipeModelConfigArray.length==0){xt("no model was selected");return}for(let Xt=0;Xt<Et.mediaPipeModelConfigArray.length;Xt++){const zt=Et.mediaPipeModelConfigArray[Xt];if(this.mediapipeMap_.has(zt.modelType)){xt("setting same type is not supported");return}if(typeof zt.listener!="function"){xt(`[${zt.modelType}] ResultsListener must be provided`);return}let vn;switch(zt.modelType){case"face_mesh":vn=new im.FaceMesh({locateFile:(On,Tn)=>(zt.assetsUri||om.defaultAssetsBaseUrl+"face_mesh/"+this.getVersion("face_mesh"))+"/"+On});break;case"face_detection":vn=new Rp.FaceDetection({locateFile:(On,Tn)=>(zt.assetsUri||om.defaultAssetsBaseUrl+"face_detection/"+this.getVersion("face_detection"))+"/"+On});break;case"hands":vn=new ku.Hands({locateFile:(On,Tn)=>(zt.assetsUri||om.defaultAssetsBaseUrl+"hands/"+this.getVersion("hands"))+"/"+On});break;case"holistic":vn=new cp.Holistic({locateFile:(On,Tn)=>(zt.assetsUri||om.defaultAssetsBaseUrl+"holistic/"+this.getVersion("holistic"))+"/"+On});break;case"objectron":vn=new Jp.Objectron({locateFile:(On,Tn)=>(zt.assetsUri||om.defaultAssetsBaseUrl+"objectron/"+this.getVersion("objectron"))+"/"+On});break;case"selfie_segmentation":vn=new Au.SelfieSegmentation({locateFile:(On,Tn)=>(zt.assetsUri||om.defaultAssetsBaseUrl+"selfie_segmentation/"+this.getVersion("selfie_segmentation"))+"/"+On});break;case"pose":vn=new Hl.Pose({locateFile:(On,Tn)=>(zt.assetsUri||om.defaultAssetsBaseUrl+"pose/"+this.getVersion("pose"))+"/"+On});break;default:xt("unknown model type");return}vn.onResults(zt.listener),zt.options&&vn.setOptions(zt.options);try{await vn.initialize(),this.mediapipeMap_.set(zt.modelType,vn)}catch(On){xt(On);return}}St()})}close(Et){return new nt((St,xt)=>{let Xt=[];if(Et){let zt=this.mediapipeMap_.get(Et);if(zt)this.mediapipeMap_.delete(Et),Xt.push(zt.close());else{xt("model not exit");return}}else{for(const[zt,vn]of this.mediapipeMap_.entries())Xt.push(vn.close());this.mediapipeMap_.clear()}nt.all(Xt).then(()=>{St()}).catch(zt=>{xt(zt)})})}send(Et,St){return new nt((xt,Xt)=>{let zt=[];if(St){let vn=this.mediapipeMap_.get(St);if(vn)zt.push(vn.send({image:Et}));else{Xt("model not exit");return}}else for(const[vn,On]of this.mediapipeMap_.entries())zt.push(On.send({image:Et}));nt.all(zt).then(()=>{xt()}).catch(vn=>{Xt(vn)})})}reset(Et){if(Et){let St=this.mediapipeMap_.get(Et);St&&typeof St.reset=="function"&&St.reset()}else for(const[St,xt]of this.mediapipeMap_.entries())xt&&typeof xt.reset=="function"&&xt.reset()}};let cm=om;st(cm,"defaultAssetsBaseUrl","https://d3opqjmqzxf057.cloudfront.net/ml/mediapipe/");const Ip=new WeakMap,Zs=new WeakMap,hm=new WeakMap,Em=Symbol("anyProducer"),qm=nt.resolve(),Fu=Symbol("listenerAdded"),Mm=Symbol("listenerRemoved");let Cm=!1;function lm(Et){if(typeof Et!="string"&&typeof Et!="symbol")throw new TypeError("eventName must be a string or a symbol")}function Pm(Et){if(typeof Et!="function")throw new TypeError("listener must be a function")}function mm(Et,St){const xt=Zs.get(Et);return xt.has(St)||xt.set(St,new Set),xt.get(St)}function km(Et,St){const xt=typeof St=="string"||typeof St=="symbol"?St:Em,Xt=hm.get(Et);return Xt.has(xt)||Xt.set(xt,new Set),Xt.get(xt)}function b1(Et,St,xt){const Xt=hm.get(Et);if(Xt.has(St))for(const zt of Xt.get(St))zt.enqueue(xt);if(Xt.has(Em)){const zt=nt.all([St,xt]);for(const vn of Xt.get(Em))vn.enqueue(zt)}}function s1(Et,St){St=Array.isArray(St)?St:[St];let xt=!1,Xt=()=>{},zt=[];const vn={enqueue(On){zt.push(On),Xt()},finish(){xt=!0,Xt()}};for(const On of St)km(Et,On).add(vn);return{async next(){return zt?zt.length===0?xt?(zt=void 0,this.next()):(await new nt(On=>{Xt=On}),this.next()):{done:!1,value:await zt.shift()}:{done:!0}},async return(On){zt=void 0;for(const Tn of St)km(Et,Tn).delete(vn);return Xt(),arguments.length>0?{done:!0,value:await On}:{done:!0}},[Symbol.asyncIterator](){return this}}}function a1(Et){if(Et===void 0)return Tm;if(!Array.isArray(Et))throw new TypeError("`methodNames` must be an array of strings");for(const St of Et)if(!Tm.includes(St))throw typeof St!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${St} is not Emittery method`);return Et}const Lm=Et=>Et===Fu||Et===Mm;class um{static mixin(St,xt){return xt=a1(xt),Xt=>{if(typeof Xt!="function")throw new TypeError("`target` must be function");for(const On of xt)if(Xt.prototype[On]!==void 0)throw new Error(`The property \`${On}\` already exists on \`target\``);function zt(){return Object.defineProperty(this,St,{enumerable:!1,value:new um}),this[St]}Object.defineProperty(Xt.prototype,St,{enumerable:!1,get:zt});const vn=On=>function(...Tn){return this[St][On](...Tn)};for(const On of xt)Object.defineProperty(Xt.prototype,On,{enumerable:!1,value:vn(On)});return Xt}}static get isDebugEnabled(){if(typeof rt!="object")return Cm;const{env:St}=rt||{env:{}};return St.DEBUG==="emittery"||St.DEBUG==="*"||Cm}static set isDebugEnabled(St){Cm=St}constructor(St={}){Ip.set(this,new Set),Zs.set(this,new Map),hm.set(this,new Map),this.debug=St.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(xt,Xt,zt,vn)=>{try{vn=JSON.stringify(vn)}catch{vn=`Object with the following keys failed to stringify: ${Object.keys(vn).join(",")}`}typeof zt=="symbol"&&(zt=zt.toString());const On=new Date,Tn=`${On.getHours()}:${On.getMinutes()}:${On.getSeconds()}.${On.getMilliseconds()}`;console.log(`[${Tn}][emittery:${xt}][${Xt}] Event Name: ${zt}
	data: ${vn}`)})}logIfDebugEnabled(St,xt,Xt){(um.isDebugEnabled||this.debug.enabled)&&this.debug.logger(St,this.debug.name,xt,Xt)}on(St,xt){Pm(xt),St=Array.isArray(St)?St:[St];for(const Xt of St)lm(Xt),mm(this,Xt).add(xt),this.logIfDebugEnabled("subscribe",Xt,void 0),Lm(Xt)||this.emit(Fu,{eventName:Xt,listener:xt});return this.off.bind(this,St,xt)}off(St,xt){Pm(xt),St=Array.isArray(St)?St:[St];for(const Xt of St)lm(Xt),mm(this,Xt).delete(xt),this.logIfDebugEnabled("unsubscribe",Xt,void 0),Lm(Xt)||this.emit(Mm,{eventName:Xt,listener:xt})}once(St){return new nt(xt=>{const Xt=this.on(St,zt=>{Xt(),xt(zt)})})}events(St){St=Array.isArray(St)?St:[St];for(const xt of St)lm(xt);return s1(this,St)}async emit(St,xt){lm(St),this.logIfDebugEnabled("emit",St,xt),b1(this,St,xt);const Xt=mm(this,St),zt=Ip.get(this),vn=[...Xt],On=Lm(St)?[]:[...zt];await qm,await nt.all([...vn.map(async Tn=>{if(Xt.has(Tn))return Tn(xt)}),...On.map(async Tn=>{if(zt.has(Tn))return Tn(St,xt)})])}async emitSerial(St,xt){lm(St),this.logIfDebugEnabled("emitSerial",St,xt);const Xt=mm(this,St),zt=Ip.get(this),vn=[...Xt],On=[...zt];await qm;for(const Tn of vn)Xt.has(Tn)&&await Tn(xt);for(const Tn of On)zt.has(Tn)&&await Tn(St,xt)}onAny(St){return Pm(St),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Ip.get(this).add(St),this.emit(Fu,{listener:St}),this.offAny.bind(this,St)}anyEvent(){return s1(this)}offAny(St){Pm(St),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(Mm,{listener:St}),Ip.get(this).delete(St)}clearListeners(St){St=Array.isArray(St)?St:[St];for(const xt of St)if(this.logIfDebugEnabled("clear",xt,void 0),typeof xt=="string"||typeof xt=="symbol"){mm(this,xt).clear();const Xt=km(this,xt);for(const zt of Xt)zt.finish();Xt.clear()}else{Ip.get(this).clear();for(const Xt of Zs.get(this).values())Xt.clear();for(const Xt of hm.get(this).values()){for(const zt of Xt)zt.finish();Xt.clear()}}}listenerCount(St){St=Array.isArray(St)?St:[St];let xt=0;for(const Xt of St){if(typeof Xt=="string"){xt+=Ip.get(this).size+mm(this,Xt).size+km(this,Xt).size+km(this).size;continue}typeof Xt<"u"&&lm(Xt),xt+=Ip.get(this).size;for(const zt of Zs.get(this).values())xt+=zt.size;for(const zt of hm.get(this).values())xt+=zt.size}return xt}bindMethods(St,xt){if(typeof St!="object"||St===null)throw new TypeError("`target` must be an object");xt=a1(xt);for(const Xt of xt){if(St[Xt]!==void 0)throw new Error(`The property \`${Xt}\` already exists on \`target\``);Object.defineProperty(St,Xt,{enumerable:!1,value:this[Xt].bind(this)})}}}const Tm=Object.getOwnPropertyNames(um.prototype).filter(Et=>Et!=="constructor");Object.defineProperty(um,"listenerAdded",{value:Fu,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(um,"listenerRemoved",{value:Mm,writable:!1,enumerable:!0,configurable:!1});var dm=um,sm=(Et=>(Et[Et.INIT=0]="INIT",Et[Et.FORWARD=1]="FORWARD",Et[Et.TERMINATE=2]="TERMINATE",Et))(sm||{});function Vm(Et){return[ImageBitmap,ReadableStream,WritableStream].some(St=>Et instanceof St)}let Wm=0;function Gm(Et,St,xt,Xt,zt){const vn=Wm++;return Et.postMessage({id:vn,type:St,functionName:xt,args:Xt},Xt.filter(On=>Vm(On))),new nt(On=>{zt.set(vn,On)})}async function c1(Et,St,xt){const Xt=new St;if(Xt.addEventListener("message",({data:zt})=>{var vn;(vn=xt.get(zt.id))==null||vn(zt.result),xt.delete(zt.id)}),!await Gm(Xt,sm.INIT,"",[Et.workerId],xt))throw"Failed to instantiate workerized class";return Xt}async function Lu(Et,St,xt){const Xt={};return Object.getOwnPropertyNames(Et.prototype).forEach(zt=>{Xt[zt]=(...vn)=>Gm(St,sm.FORWARD,zt,vn,xt)}),Xt.terminate=async(...zt)=>{const vn=await Gm(St,sm.TERMINATE,"",zt,xt);return St.terminate(),Xt.worker=void 0,vn},Xt.worker=St,Xt}async function Du(Et,St){const xt=new Map,Xt=await c1(Et,St,xt);return Lu(Et,Xt,xt)}function Fm(Et,St){const{id:xt}=Et,Xt=Array.isArray(St)?St:[St];postMessage({id:xt,result:St},Xt.filter(zt=>Vm(zt)))}async function S1(Et,St){const{functionName:xt,args:Xt}=Et;if(!St.instance)throw"instance not initialized";if(!xt)throw"missing function name to call";if(!St.instance[xt])throw`undefined function [${xt}] in class ${St.instance.constructor.workerId}`;Fm(Et,await St.instance[xt](...Xt??[]))}function l1(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}const u1={};function xm(Et,St){St.workerId=Et,l1()&&(u1[St.workerId]=St)}function E1(Et,St){if(!Et.args)throw"Missing className while initializing worker";const[xt]=Et.args,Xt=u1[xt];if(Xt)St.instance=new Xt(Et.args.slice(1));else throw`unknown worker class ${xt}`;Fm(Et,typeof St.instance!==void 0)}async function C1(Et,St){const{args:xt}=Et;if(!St.instance)throw"instance not initialized";let Xt;St.instance.terminate&&(Xt=await St.instance.terminate(...xt??[])),Fm(Et,Xt)}function T1(){const Et={};onmessage=async St=>{const xt=St.data;switch(xt.type){case sm.INIT:E1(xt,Et);break;case sm.FORWARD:S1(xt,Et);break;case sm.TERMINATE:C1(xt,Et);break}}}l1()&&T1();class gm{static async createVideoReadable(St){return new nt((xt,Xt)=>{const zt=document.createElement("video");let vn=new AbortController,On=new AbortController;zt.addEventListener("canplay",()=>{vn.abort(),zt.muted=!0,zt.loop=!0,zt.play().then(()=>{try{const Tn=zt.captureStream(),Mn=new MediaStreamTrackProcessor(Tn.getVideoTracks()[0]);xt(Mn.readable)}catch(Tn){Xt(Tn)}})},{once:!0,signal:On.signal}),zt.addEventListener("error",Tn=>{On.abort(),Xt("loading error:"+Tn)},{once:!0,signal:vn.signal}),zt.crossOrigin="anonymous",zt.src=St})}static async createImageCanvas(St){const xt=await(await fetch(St)).blob();return await createImageBitmap(xt)}}async function Rm(Et){return new nt(St=>{setTimeout(()=>{St()},Et)})}var Zm=(Et=>(Et.PUSH="PUSH",Et.POP="POP",Et))(Zm||{});class d1{constructor(St){st(this,"context"),st(this,"extension"),st(this,"queries",[]),st(this,"activeQuery"),this.context=St,this.extension=St.getExtension("EXT_disjoint_timer_query_webgl2")}start(){}stop(){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT)}pushContext(St){this.createQuery("PUSH",St)}popContext(St){this.createQuery("POP",St)}createQuery(St,xt){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT),this.activeQuery=this.context.createQuery(),this.context.beginQuery(this.extension.TIME_ELAPSED_EXT,this.activeQuery),this.queries.push({name:xt,action:St,query:this.activeQuery})}async getResolvedQueries(){const St=(await nt.all([...this.queries].map(xt=>this.resolveQuery(xt)))).filter(xt=>xt);for(let xt=1;xt<St.length;++xt)St[xt].timestamp+=St[xt-1].duration+St[xt-1].timestamp;return St}async resolveQuery(St){if(!await this.awaitQueryAvailable(St)){console.log("Unawaitable query",St);return}if(this.context.getParameter(this.extension.GPU_DISJOINT_EXT)){console.log("Disjointed query",St);return}return{...St,duration:this.context.getQueryParameter(St.query,this.context.QUERY_RESULT),timestamp:0}}async awaitQueryAvailable(St){for(let xt=0;xt<10;++xt){if(this.context.getQueryParameter(St.query,this.context.QUERY_RESULT_AVAILABLE))return St;await Rm(200)}}}/* @license twgl.js 5.2.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const Im=5120,Nm=5121,wm=5122,Dm=5123,Xm=5124,jm=5125,Um=5126,x1=32819,Hm=32820,Bm=33635,f1=5131,_g=33640,e1=35899,p1=35902,wn=36269,En=34042,Vn={};{const Et=Vn;Et[Im]=Int8Array,Et[Nm]=Uint8Array,Et[wm]=Int16Array,Et[Dm]=Uint16Array,Et[Xm]=Int32Array,Et[jm]=Uint32Array,Et[Um]=Float32Array,Et[x1]=Uint16Array,Et[Hm]=Uint16Array,Et[Bm]=Uint16Array,Et[f1]=Uint16Array,Et[_g]=Uint32Array,Et[e1]=Uint32Array,Et[p1]=Uint32Array,Et[wn]=Uint32Array,Et[En]=Uint32Array}function qt(Et){if(Et instanceof Int8Array)return Im;if(Et instanceof Uint8Array||Et instanceof Uint8ClampedArray)return Nm;if(Et instanceof Int16Array)return wm;if(Et instanceof Uint16Array)return Dm;if(Et instanceof Int32Array)return Xm;if(Et instanceof Uint32Array)return jm;if(Et instanceof Float32Array)return Um;throw new Error("unsupported typed array type")}function gn(Et){if(Et===Int8Array)return Im;if(Et===Uint8Array||Et===Uint8ClampedArray)return Nm;if(Et===Int16Array)return wm;if(Et===Uint16Array)return Dm;if(Et===Int32Array)return Xm;if(Et===Uint32Array)return jm;if(Et===Float32Array)return Um;throw new Error("unsupported typed array type")}function Sn(Et){const St=Vn[Et];if(!St)throw new Error("unknown gl type");return St}const Dn=typeof SharedArrayBuffer<"u"?function(Et){return Et&&Et.buffer&&(Et.buffer instanceof ArrayBuffer||Et.buffer instanceof SharedArrayBuffer)}:function(Et){return Et&&Et.buffer&&Et.buffer instanceof ArrayBuffer};function Un(...Et){console.error(...Et)}const sr=new Map;function ur(Et,St){if(!Et||typeof Et!="object")return!1;let xt=sr.get(St);xt||(xt=new WeakMap,sr.set(St,xt));let Xt=xt.get(Et);if(Xt===void 0){const zt=Object.prototype.toString.call(Et);Xt=zt.substring(8,zt.length-1)===St,xt.set(Et,Xt)}return Xt}function or(Et,St){return typeof WebGLBuffer<"u"&&ur(St,"WebGLBuffer")}function Do(Et,St){return typeof WebGLRenderbuffer<"u"&&ur(St,"WebGLRenderbuffer")}function ro(Et,St){return typeof WebGLTexture<"u"&&ur(St,"WebGLTexture")}function Yr(Et,St){return typeof WebGLSampler<"u"&&ur(St,"WebGLSampler")}const Ds=35044,hu=34962,To=34963,Bl=34660,vm=5120,Om=5121,_1=5122,q1=5123,zv=5124,Kv=5125,k0=5126,L0={attribPrefix:""};function Jv(Et,St,xt,Xt,zt){Et.bindBuffer(St,xt),Et.bufferData(St,Xt,zt||Ds)}function V0(Et,St,xt,Xt){if(or(Et,St))return St;xt=xt||hu;const zt=Et.createBuffer();return Jv(Et,xt,zt,St,Xt),zt}function Z0(Et){return Et==="indices"}function $v(Et){return Et===Int8Array||Et===Uint8Array}function Qv(Et){return Et.length?Et:Et.data}const _v=/coord|texture/i,qv=/color|colour/i;function ey(Et,St){let xt;if(_v.test(Et)?xt=2:qv.test(Et)?xt=4:xt=3,St%xt>0)throw new Error(`Can not guess numComponents for attribute '${Et}'. Tried ${xt} but ${St} values is not evenly divisible by ${xt}. You should specify it.`);return xt}function ty(Et,St,xt){return Et.numComponents||Et.size||ey(St,xt||Qv(Et).length)}function N0(Et,St){if(Dn(Et))return Et;if(Dn(Et.data))return Et.data;Array.isArray(Et)&&(Et={data:Et});let xt=Et.type?e0(Et.type):void 0;return xt||(Z0(St)?xt=Uint16Array:xt=Float32Array),new xt(Et.data)}function ny(Et){return typeof Et=="number"?Et:Et?gn(Et):k0}function e0(Et){return typeof Et=="number"?Sn(Et):Et||Float32Array}function ry(Et,St){return{buffer:St.buffer,numValues:2*3*4,type:ny(St.type),arrayType:e0(St.type)}}function iy(Et,St){const xt=St.data||St,Xt=e0(St.type),zt=xt*Xt.BYTES_PER_ELEMENT,vn=Et.createBuffer();return Et.bindBuffer(hu,vn),Et.bufferData(hu,zt,St.drawType||Ds),{buffer:vn,numValues:xt,type:gn(Xt),arrayType:Xt}}function oy(Et,St,xt){const Xt=N0(St,xt);return{arrayType:Xt.constructor,buffer:V0(Et,Xt,void 0,St.drawType),type:qt(Xt),numValues:0}}function sy(Et,St){const xt={};return Object.keys(St).forEach(function(Xt){if(!Z0(Xt)){const zt=St[Xt],vn=zt.attrib||zt.name||zt.attribName||L0.attribPrefix+Xt;if(zt.value){if(!Array.isArray(zt.value)&&!Dn(zt.value))throw new Error("array.value is not array or typedarray");xt[vn]={value:zt.value}}else{let On;zt.buffer&&zt.buffer instanceof WebGLBuffer?On=ry:typeof zt=="number"||typeof zt.data=="number"?On=iy:On=oy;const{buffer:Tn,type:Mn,numValues:br,arrayType:Nr}=On(Et,zt,Xt),Wr=zt.normalize!==void 0?zt.normalize:$v(Nr),Ao=ty(zt,Xt,br);xt[vn]={buffer:Tn,numComponents:Ao,type:Mn,normalize:Wr,stride:zt.stride||0,offset:zt.offset||0,divisor:zt.divisor===void 0?void 0:zt.divisor,drawType:zt.drawType}}}}),Et.bindBuffer(hu,null),xt}function ay(Et,St){return St===vm||St===Om?1:St===_1||St===q1?2:St===zv||St===Kv||St===k0?4:0}const t0=["position","positions","a_position"];function cy(Et,St){let xt,Xt;for(Xt=0;Xt<t0.length&&(xt=t0[Xt],!(xt in St||(xt=L0.attribPrefix+xt,xt in St)));++Xt);Xt===t0.length&&(xt=Object.keys(St)[0]);const zt=St[xt];if(!zt.buffer)return 1;Et.bindBuffer(hu,zt.buffer);const vn=Et.getBufferParameter(hu,Bl);Et.bindBuffer(hu,null);const On=ay(Et,zt.type),Tn=vn/On,Mn=zt.numComponents||zt.size,br=Tn/Mn;if(br%1!==0)throw new Error(`numComponents ${Mn} not correct for length ${length}`);return br}function ly(Et,St,xt){const Xt=sy(Et,St),zt=Object.assign({},xt||{});zt.attribs=Object.assign({},xt?xt.attribs:{},Xt);const vn=St.indices;if(vn){const On=N0(vn,"indices");zt.indices=V0(Et,On,To),zt.numElements=On.length,zt.elementType=qt(On)}else zt.numElements||(zt.numElements=cy(Et,zt.attribs));return zt}function R1(Et){return!!Et.texStorage2D}const M0=function(){const Et={},St={};function xt(Xt){const zt=Xt.constructor.name;if(!Et[zt]){for(const vn in Xt)if(typeof Xt[vn]=="number"){const On=St[Xt[vn]];St[Xt[vn]]=On?`${On} | ${vn}`:vn}Et[zt]=!0}}return function(Xt,zt){return xt(Xt),St[zt]||(typeof zt=="number"?`0x${zt.toString(16)}`:zt)}}(),Ym={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},I1=Dn,P0=function(){let Et;return function(){return Et=Et||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),Et}}(),W0=6406,Am=6407,zu=6408,G0=6409,F0=6410,w1=6402,D0=34041,V1=33071,uy=9728,dy=9729,zm=3553,Km=34067,t1=32879,n1=35866,n0=34069,fy=34070,py=34071,hy=34072,my=34073,gy=34074,r0=10241,i0=10240,Z1=10242,N1=10243,X0=32882,vy=33082,yy=33083,by=33084,Sy=33085,o0=3317,j0=3314,U0=32878,H0=3316,B0=3315,Y0=32877,Ey=37443,Cy=37441,Ty=37440,xy=33321,Ry=36756,Iy=33325,wy=33326,Oy=33330,Ay=33329,ky=33338,Ly=33337,Vy=33340,Zy=33339,Ny=33323,My=36757,Py=33327,Wy=33328,Gy=33336,Fy=33335,Dy=33332,Xy=33331,jy=33334,Uy=33333,Hy=32849,By=35905,Yy=36194,zy=36758,Ky=35898,Jy=35901,$y=34843,Qy=34837,_y=36221,qy=36239,_b=36215,e2=36233,t2=36209,n2=36227,r2=32856,i2=35907,o2=36759,s2=32855,a2=32854,c2=32857,l2=34842,u2=34836,d2=36220,f2=36238,p2=36975,h2=36214,m2=36232,g2=36226,v2=36208,y2=33189,b2=33190,S2=36012,E2=36013,C2=35056,Jm=5120,Xu=5121,M1=5122,h1=5123,P1=5124,r1=5125,Xp=5126,z0=32819,K0=32820,J0=33635,ym=5131,O1=36193,s0=33640,T2=35899,x2=35902,R2=36269,I2=34042,W1=33319,m1=33320,G1=6403,g1=36244,v1=36248,i1=36249;let a0;function F1(Et){if(!a0){const St={};St[W0]={textureFormat:W0,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Xu,ym,O1,Xp]},St[G0]={textureFormat:G0,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Xu,ym,O1,Xp]},St[F0]={textureFormat:F0,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Xu,ym,O1,Xp]},St[Am]={textureFormat:Am,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Xu,ym,O1,Xp,J0]},St[zu]={textureFormat:zu,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Xu,ym,O1,Xp,z0,K0]},St[w1]={textureFormat:w1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[r1,h1]},St[xy]={textureFormat:G1,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Xu]},St[Ry]={textureFormat:G1,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Jm]},St[Iy]={textureFormat:G1,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Xp,ym]},St[wy]={textureFormat:G1,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Xp]},St[Oy]={textureFormat:g1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Xu]},St[Ay]={textureFormat:g1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Jm]},St[Dy]={textureFormat:g1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[h1]},St[Xy]={textureFormat:g1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[M1]},St[jy]={textureFormat:g1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[r1]},St[Uy]={textureFormat:g1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[P1]},St[Ny]={textureFormat:W1,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Xu]},St[My]={textureFormat:W1,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Jm]},St[Py]={textureFormat:W1,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Xp,ym]},St[Wy]={textureFormat:W1,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Xp]},St[Gy]={textureFormat:m1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Xu]},St[Fy]={textureFormat:m1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Jm]},St[ky]={textureFormat:m1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[h1]},St[Ly]={textureFormat:m1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[M1]},St[Vy]={textureFormat:m1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[r1]},St[Zy]={textureFormat:m1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[P1]},St[Hy]={textureFormat:Am,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Xu]},St[By]={textureFormat:Am,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Xu]},St[Yy]={textureFormat:Am,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Xu,J0]},St[zy]={textureFormat:Am,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Jm]},St[Ky]={textureFormat:Am,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Xp,ym,T2]},St[Jy]={textureFormat:Am,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Xp,ym,x2]},St[$y]={textureFormat:Am,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Xp,ym]},St[Qy]={textureFormat:Am,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Xp]},St[_y]={textureFormat:v1,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Xu]},St[qy]={textureFormat:v1,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Jm]},St[_b]={textureFormat:v1,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[h1]},St[e2]={textureFormat:v1,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[M1]},St[t2]={textureFormat:v1,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[r1]},St[n2]={textureFormat:v1,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[P1]},St[r2]={textureFormat:zu,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Xu]},St[i2]={textureFormat:zu,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Xu]},St[o2]={textureFormat:zu,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Jm]},St[s2]={textureFormat:zu,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Xu,K0,s0]},St[a2]={textureFormat:zu,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Xu,z0]},St[c2]={textureFormat:zu,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[s0]},St[l2]={textureFormat:zu,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Xp,ym]},St[u2]={textureFormat:zu,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Xp]},St[d2]={textureFormat:i1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Xu]},St[f2]={textureFormat:i1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Jm]},St[p2]={textureFormat:i1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[s0]},St[h2]={textureFormat:i1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[h1]},St[m2]={textureFormat:i1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[M1]},St[g2]={textureFormat:i1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[P1]},St[v2]={textureFormat:i1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[r1]},St[y2]={textureFormat:w1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[h1,r1]},St[b2]={textureFormat:w1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[r1]},St[S2]={textureFormat:w1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Xp]},St[C2]={textureFormat:D0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[I2]},St[E2]={textureFormat:D0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[R2]},Object.keys(St).forEach(function(xt){const Xt=St[xt];Xt.bytesPerElementMap={},Xt.bytesPerElement.forEach(function(zt,vn){const On=Xt.type[vn];Xt.bytesPerElementMap[On]=zt})}),a0=St}return a0[Et]}function w2(Et,St){const xt=F1(Et);if(!xt)throw"unknown internal format";const Xt=xt.bytesPerElementMap[St];if(Xt===void 0)throw"unknown internal format";return Xt}function A1(Et){const St=F1(Et);if(!St)throw"unknown internal format";return{format:St.textureFormat,type:St.type[0]}}function $0(Et){return(Et&Et-1)===0}function O2(Et,St,xt,Xt){if(!R1(Et))return $0(St)&&$0(xt);const zt=F1(Xt);if(!zt)throw"unknown internal format";return zt.colorRenderable&&zt.textureFilterable}function A2(Et){const St=F1(Et);if(!St)throw"unknown internal format";return St.textureFilterable}function k2(Et,St,xt){return I1(St)?qt(St):xt||Xu}function D1(Et,St,xt,Xt,zt){if(zt%1!==0)throw"can't guess dimensions";if(!xt&&!Xt){const vn=Math.sqrt(zt/(St===Km?6:1));vn%1===0?(xt=vn,Xt=vn):(xt=zt,Xt=1)}else if(Xt){if(!xt&&(xt=zt/Xt,xt%1))throw"can't guess dimensions"}else if(Xt=zt/xt,Xt%1)throw"can't guess dimensions";return{width:xt,height:Xt}}function y1(Et,St){St.colorspaceConversion!==void 0&&Et.pixelStorei(Ey,St.colorspaceConversion),St.premultiplyAlpha!==void 0&&Et.pixelStorei(Cy,St.premultiplyAlpha),St.flipY!==void 0&&Et.pixelStorei(Ty,St.flipY)}function Q0(Et){Et.pixelStorei(o0,4),R1(Et)&&(Et.pixelStorei(j0,0),Et.pixelStorei(U0,0),Et.pixelStorei(H0,0),Et.pixelStorei(B0,0),Et.pixelStorei(Y0,0))}function L2(Et,St,xt,Xt){Xt.minMag&&(xt.call(Et,St,r0,Xt.minMag),xt.call(Et,St,i0,Xt.minMag)),Xt.min&&xt.call(Et,St,r0,Xt.min),Xt.mag&&xt.call(Et,St,i0,Xt.mag),Xt.wrap&&(xt.call(Et,St,Z1,Xt.wrap),xt.call(Et,St,N1,Xt.wrap),(St===t1||Yr(Et,St))&&xt.call(Et,St,X0,Xt.wrap)),Xt.wrapR&&xt.call(Et,St,X0,Xt.wrapR),Xt.wrapS&&xt.call(Et,St,Z1,Xt.wrapS),Xt.wrapT&&xt.call(Et,St,N1,Xt.wrapT),Xt.minLod&&xt.call(Et,St,vy,Xt.minLod),Xt.maxLod&&xt.call(Et,St,yy,Xt.maxLod),Xt.baseLevel&&xt.call(Et,St,by,Xt.baseLevel),Xt.maxLevel&&xt.call(Et,St,Sy,Xt.maxLevel)}function _0(Et,St,xt){const Xt=xt.target||zm;Et.bindTexture(Xt,St),L2(Et,Xt,Et.texParameteri,xt)}function V2(Et){return Et=Et||Ym.textureColor,I1(Et)?Et:new Uint8Array([Et[0]*255,Et[1]*255,Et[2]*255,Et[3]*255])}function c0(Et,St,xt,Xt,zt,vn){xt=xt||Ym.textureOptions,vn=vn||zu;const On=xt.target||zm;if(Xt=Xt||xt.width,zt=zt||xt.height,Et.bindTexture(On,St),O2(Et,Xt,zt,vn))Et.generateMipmap(On);else{const Tn=A2(vn)?dy:uy;Et.texParameteri(On,r0,Tn),Et.texParameteri(On,i0,Tn),Et.texParameteri(On,Z1,V1),Et.texParameteri(On,N1,V1)}}function k1(Et){return Et.auto===!0||Et.auto===void 0&&Et.level===void 0}function l0(Et,St){return St=St||{},St.cubeFaceOrder||[n0,fy,py,hy,my,gy]}function u0(Et,St){const xt=l0(Et,St).map(function(Xt,zt){return{face:Xt,ndx:zt}});return xt.sort(function(Xt,zt){return Xt.face-zt.face}),xt}function q0(Et,St,xt,Xt){Xt=Xt||Ym.textureOptions;const zt=Xt.target||zm,vn=Xt.level||0;let On=xt.width,Tn=xt.height;const Mn=Xt.internalFormat||Xt.format||zu,br=A1(Mn),Nr=Xt.format||br.format,Wr=Xt.type||br.type;if(y1(Et,Xt),Et.bindTexture(zt,St),zt===Km){const Ao=xt.width,Mo=xt.height;let Dr,Br;if(Ao/6===Mo)Dr=Mo,Br=[0,0,1,0,2,0,3,0,4,0,5,0];else if(Mo/6===Ao)Dr=Ao,Br=[0,0,0,1,0,2,0,3,0,4,0,5];else if(Ao/3===Mo/2)Dr=Ao/3,Br=[0,0,1,0,2,0,0,1,1,1,2,1];else if(Ao/2===Mo/3)Dr=Ao/2,Br=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(xt.src?xt.src:xt.nodeName);const Ko=P0();Ko?(Ko.canvas.width=Dr,Ko.canvas.height=Dr,On=Dr,Tn=Dr,u0(Et,Xt).forEach(function(Bo){const ys=Br[Bo.ndx*2+0]*Dr,pr=Br[Bo.ndx*2+1]*Dr;Ko.drawImage(xt,ys,pr,Dr,Dr,0,0,Dr,Dr),Et.texImage2D(Bo.face,vn,Mn,Nr,Wr,Ko.canvas)}),Ko.canvas.width=1,Ko.canvas.height=1):typeof createImageBitmap<"u"&&(On=Dr,Tn=Dr,u0(Et,Xt).forEach(function(Bo){const ys=Br[Bo.ndx*2+0]*Dr,pr=Br[Bo.ndx*2+1]*Dr;Et.texImage2D(Bo.face,vn,Mn,Dr,Dr,0,Nr,Wr,null),createImageBitmap(xt,ys,pr,Dr,Dr,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(Zu){y1(Et,Xt),Et.bindTexture(zt,St),Et.texImage2D(Bo.face,vn,Mn,Nr,Wr,Zu),k1(Xt)&&c0(Et,St,Xt,On,Tn,Mn)})}))}else if(zt===t1||zt===n1){const Ao=Math.min(xt.width,xt.height),Mo=Math.max(xt.width,xt.height),Dr=Mo/Ao;if(Dr%1!==0)throw"can not compute 3D dimensions of element";const Br=xt.width===Mo?1:0,Ko=xt.height===Mo?1:0;Et.pixelStorei(o0,1),Et.pixelStorei(j0,xt.width),Et.pixelStorei(U0,0),Et.pixelStorei(Y0,0),Et.texImage3D(zt,vn,Mn,Ao,Ao,Ao,0,Nr,Wr,null);for(let Bo=0;Bo<Dr;++Bo){const ys=Bo*Ao*Br,pr=Bo*Ao*Ko;Et.pixelStorei(H0,ys),Et.pixelStorei(B0,pr),Et.texSubImage3D(zt,vn,0,0,Bo,Ao,Ao,1,Nr,Wr,xt)}Q0(Et)}else Et.texImage2D(zt,vn,Mn,Nr,Wr,xt);k1(Xt)&&c0(Et,St,Xt,On,Tn,Mn),_0(Et,St,Xt)}function L1(){}function Z2(Et){if(typeof document<"u"){const St=document.createElement("a");return St.href=Et,St.hostname===location.hostname&&St.port===location.port&&St.protocol===location.protocol}else{const St=new URL(location.href).origin;return new URL(Et,location.href).origin===St}}function N2(Et,St){return St===void 0&&!Z2(Et)?"anonymous":St}function M2(Et,St,xt){xt=xt||L1;let Xt;if(St=St!==void 0?St:Ym.crossOrigin,St=N2(Et,St),typeof Image<"u"){Xt=new Image,St!==void 0&&(Xt.crossOrigin=St);const zt=function(){Xt.removeEventListener("error",vn),Xt.removeEventListener("load",On),Xt=null},vn=function(){const Tn="couldn't load image: "+Et;Un(Tn),xt(Tn,Xt),zt()},On=function(){xt(null,Xt),zt()};return Xt.addEventListener("error",vn),Xt.addEventListener("load",On),Xt.src=Et,Xt}else if(typeof ImageBitmap<"u"){let zt,vn;const On=function(){xt(zt,vn)},Tn={};St&&(Tn.mode="cors"),fetch(Et,Tn).then(function(Mn){if(!Mn.ok)throw Mn;return Mn.blob()}).then(function(Mn){return createImageBitmap(Mn,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(Mn){vn=Mn,setTimeout(On)}).catch(function(Mn){zt=Mn,setTimeout(On)}),Xt=null}return Xt}function ev(Et){return typeof ImageBitmap<"u"&&Et instanceof ImageBitmap||typeof ImageData<"u"&&Et instanceof ImageData||typeof HTMLElement<"u"&&Et instanceof HTMLElement}function d0(Et,St,xt){return ev(Et)?(setTimeout(function(){xt(null,Et)}),Et):M2(Et,St,xt)}function f0(Et,St,xt){xt=xt||Ym.textureOptions;const Xt=xt.target||zm;if(Et.bindTexture(Xt,St),xt.color===!1)return;const zt=V2(xt.color);if(Xt===Km)for(let vn=0;vn<6;++vn)Et.texImage2D(n0+vn,0,zu,1,1,0,zu,Xu,zt);else Xt===t1||Xt===n1?Et.texImage3D(Xt,0,zu,1,1,1,0,zu,Xu,zt):Et.texImage2D(Xt,0,zu,1,1,0,zu,Xu,zt)}function P2(Et,St,xt,Xt){return Xt=Xt||L1,xt=xt||Ym.textureOptions,f0(Et,St,xt),xt=Object.assign({},xt),d0(xt.src,xt.crossOrigin,function(zt,vn){zt?Xt(zt,St,vn):(q0(Et,St,vn,xt),Xt(null,St,vn))})}function W2(Et,St,xt,Xt){Xt=Xt||L1;const zt=xt.src;if(zt.length!==6)throw"there must be 6 urls for a cubemap";const vn=xt.level||0,On=xt.internalFormat||xt.format||zu,Tn=A1(On),Mn=xt.format||Tn.format,br=xt.type||Xu,Nr=xt.target||zm;if(Nr!==Km)throw"target must be TEXTURE_CUBE_MAP";f0(Et,St,xt),xt=Object.assign({},xt);let Wr=6;const Ao=[],Mo=l0(Et,xt);let Dr;function Br(Ko){return function(Bo,ys){--Wr,Bo?Ao.push(Bo):ys.width!==ys.height?Ao.push("cubemap face img is not a square: "+ys.src):(y1(Et,xt),Et.bindTexture(Nr,St),Wr===5?l0().forEach(function(pr){Et.texImage2D(pr,vn,On,Mn,br,ys)}):Et.texImage2D(Ko,vn,On,Mn,br,ys),k1(xt)&&Et.generateMipmap(Nr)),Wr===0&&Xt(Ao.length?Ao:void 0,St,Dr)}}Dr=zt.map(function(Ko,Bo){return d0(Ko,xt.crossOrigin,Br(Mo[Bo]))})}function G2(Et,St,xt,Xt){Xt=Xt||L1;const zt=xt.src,vn=xt.internalFormat||xt.format||zu,On=A1(vn),Tn=xt.format||On.format,Mn=xt.type||Xu,br=xt.target||n1;if(br!==t1&&br!==n1)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";f0(Et,St,xt),xt=Object.assign({},xt);let Nr=zt.length;const Wr=[];let Ao;const Mo=xt.level||0;let Dr=xt.width,Br=xt.height;const Ko=zt.length;let Bo=!0;function ys(pr){return function(Zu,Cu){if(--Nr,Zu)Wr.push(Zu);else{if(y1(Et,xt),Et.bindTexture(br,St),Bo){Bo=!1,Dr=xt.width||Cu.width,Br=xt.height||Cu.height,Et.texImage3D(br,Mo,vn,Dr,Br,Ko,0,Tn,Mn,null);for(let xa=0;xa<Ko;++xa)Et.texSubImage3D(br,Mo,0,0,xa,Dr,Br,1,Tn,Mn,Cu)}else{let xa=Cu,hs;(Cu.width!==Dr||Cu.height!==Br)&&(hs=P0(),xa=hs.canvas,hs.canvas.width=Dr,hs.canvas.height=Br,hs.drawImage(Cu,0,0,Dr,Br)),Et.texSubImage3D(br,Mo,0,0,pr,Dr,Br,1,Tn,Mn,xa),hs&&xa===hs.canvas&&(hs.canvas.width=0,hs.canvas.height=0)}k1(xt)&&Et.generateMipmap(br)}Nr===0&&Xt(Wr.length?Wr:void 0,St,Ao)}}Ao=zt.map(function(pr,Zu){return d0(pr,xt.crossOrigin,ys(Zu))})}function F2(Et,St,xt,Xt){Xt=Xt||Ym.textureOptions;const zt=Xt.target||zm;Et.bindTexture(zt,St);let vn=Xt.width,On=Xt.height,Tn=Xt.depth;const Mn=Xt.level||0,br=Xt.internalFormat||Xt.format||zu,Nr=A1(br),Wr=Xt.format||Nr.format,Ao=Xt.type||k2(Et,xt,Nr.type);if(I1(xt))xt instanceof Uint8ClampedArray&&(xt=new Uint8Array(xt.buffer));else{const Ko=Sn(Ao);xt=new Ko(xt)}const Mo=w2(br,Ao),Dr=xt.byteLength/Mo;if(Dr%1)throw"length wrong size for format: "+M0(Et,Wr);let Br;if(zt===t1||zt===n1)if(!vn&&!On&&!Tn){const Ko=Math.cbrt(Dr);if(Ko%1!==0)throw"can't guess cube size of array of numElements: "+Dr;vn=Ko,On=Ko,Tn=Ko}else vn&&(!On||!Tn)?(Br=D1(Et,zt,On,Tn,Dr/vn),On=Br.width,Tn=Br.height):On&&(!vn||!Tn)?(Br=D1(Et,zt,vn,Tn,Dr/On),vn=Br.width,Tn=Br.height):(Br=D1(Et,zt,vn,On,Dr/Tn),vn=Br.width,On=Br.height);else Br=D1(Et,zt,vn,On,Dr),vn=Br.width,On=Br.height;if(Q0(Et),Et.pixelStorei(o0,Xt.unpackAlignment||1),y1(Et,Xt),zt===Km){const Ko=Mo/xt.BYTES_PER_ELEMENT,Bo=Dr/6*Ko;u0(Et,Xt).forEach(ys=>{const pr=Bo*ys.ndx,Zu=xt.subarray(pr,pr+Bo);Et.texImage2D(ys.face,Mn,br,vn,On,0,Wr,Ao,Zu)})}else zt===t1||zt===n1?Et.texImage3D(zt,Mn,br,vn,On,Tn,0,Wr,Ao,xt):Et.texImage2D(zt,Mn,br,vn,On,0,Wr,Ao,xt);return{width:vn,height:On,depth:Tn,type:Ao}}function D2(Et,St,xt){const Xt=xt.target||zm;Et.bindTexture(Xt,St);const zt=xt.level||0,vn=xt.internalFormat||xt.format||zu,On=A1(vn),Tn=xt.format||On.format,Mn=xt.type||On.type;if(y1(Et,xt),Xt===Km)for(let br=0;br<6;++br)Et.texImage2D(n0+br,zt,vn,xt.width,xt.height,0,Tn,Mn,null);else Xt===t1||Xt===n1?Et.texImage3D(Xt,zt,vn,xt.width,xt.height,xt.depth,0,Tn,Mn,null):Et.texImage2D(Xt,zt,vn,xt.width,xt.height,0,Tn,Mn,null)}function tv(Et,St,xt){xt=xt||L1,St=St||Ym.textureOptions;const Xt=Et.createTexture(),zt=St.target||zm;let vn=St.width||1,On=St.height||1;const Tn=St.internalFormat||zu;Et.bindTexture(zt,Xt),zt===Km&&(Et.texParameteri(zt,Z1,V1),Et.texParameteri(zt,N1,V1));let Mn=St.src;if(Mn)if(typeof Mn=="function"&&(Mn=Mn(Et,St)),typeof Mn=="string")P2(Et,Xt,St,xt);else if(I1(Mn)||Array.isArray(Mn)&&(typeof Mn[0]=="number"||Array.isArray(Mn[0])||I1(Mn[0]))){const br=F2(Et,Xt,Mn,St);vn=br.width,On=br.height}else Array.isArray(Mn)&&(typeof Mn[0]=="string"||ev(Mn[0]))?zt===Km?W2(Et,Xt,St,xt):G2(Et,Xt,St,xt):(q0(Et,Xt,Mn,St),vn=Mn.width,On=Mn.height);else D2(Et,Xt,St);return k1(St)&&c0(Et,Xt,St,vn,On,Tn),_0(Et,Xt,St),Xt}const p0=Un;function nv(Et){return typeof document<"u"&&document.getElementById?document.getElementById(Et):null}const X1=33984,j1=34962,X2=34963,j2=35713,U2=35714,H2=35632,B2=35633,Y2=35981,rv=35718,z2=35721,K2=35971,J2=35382,$2=35396,Q2=35398,_2=35392,q2=35395,U1=5126,iv=35664,ov=35665,sv=35666,h0=5124,av=35667,cv=35668,lv=35669,uv=35670,dv=35671,fv=35672,pv=35673,hv=35674,mv=35675,gv=35676,e3=35678,t3=35680,n3=35679,r3=35682,i3=35685,o3=35686,s3=35687,a3=35688,c3=35689,l3=35690,u3=36289,d3=36292,f3=36293,m0=5125,vv=36294,yv=36295,bv=36296,p3=36298,h3=36299,m3=36300,g3=36303,v3=36306,y3=36307,b3=36308,S3=36311,H1=3553,B1=34067,g0=32879,Y1=35866,Xs={};function Sv(Et,St){return Xs[St].bindPoint}function E3(Et,St){return function(xt){Et.uniform1f(St,xt)}}function C3(Et,St){return function(xt){Et.uniform1fv(St,xt)}}function T3(Et,St){return function(xt){Et.uniform2fv(St,xt)}}function x3(Et,St){return function(xt){Et.uniform3fv(St,xt)}}function R3(Et,St){return function(xt){Et.uniform4fv(St,xt)}}function Ev(Et,St){return function(xt){Et.uniform1i(St,xt)}}function Cv(Et,St){return function(xt){Et.uniform1iv(St,xt)}}function Tv(Et,St){return function(xt){Et.uniform2iv(St,xt)}}function xv(Et,St){return function(xt){Et.uniform3iv(St,xt)}}function Rv(Et,St){return function(xt){Et.uniform4iv(St,xt)}}function I3(Et,St){return function(xt){Et.uniform1ui(St,xt)}}function w3(Et,St){return function(xt){Et.uniform1uiv(St,xt)}}function O3(Et,St){return function(xt){Et.uniform2uiv(St,xt)}}function A3(Et,St){return function(xt){Et.uniform3uiv(St,xt)}}function k3(Et,St){return function(xt){Et.uniform4uiv(St,xt)}}function L3(Et,St){return function(xt){Et.uniformMatrix2fv(St,!1,xt)}}function V3(Et,St){return function(xt){Et.uniformMatrix3fv(St,!1,xt)}}function Z3(Et,St){return function(xt){Et.uniformMatrix4fv(St,!1,xt)}}function N3(Et,St){return function(xt){Et.uniformMatrix2x3fv(St,!1,xt)}}function M3(Et,St){return function(xt){Et.uniformMatrix3x2fv(St,!1,xt)}}function P3(Et,St){return function(xt){Et.uniformMatrix2x4fv(St,!1,xt)}}function W3(Et,St){return function(xt){Et.uniformMatrix4x2fv(St,!1,xt)}}function G3(Et,St){return function(xt){Et.uniformMatrix3x4fv(St,!1,xt)}}function F3(Et,St){return function(xt){Et.uniformMatrix4x3fv(St,!1,xt)}}function $p(Et,St,xt,Xt){const zt=Sv(Et,St);return R1(Et)?function(vn){let On,Tn;ro(Et,vn)?(On=vn,Tn=null):(On=vn.texture,Tn=vn.sampler),Et.uniform1i(Xt,xt),Et.activeTexture(X1+xt),Et.bindTexture(zt,On),Et.bindSampler(xt,Tn)}:function(vn){Et.uniform1i(Xt,xt),Et.activeTexture(X1+xt),Et.bindTexture(zt,vn)}}function Qp(Et,St,xt,Xt,zt){const vn=Sv(Et,St),On=new Int32Array(zt);for(let Tn=0;Tn<zt;++Tn)On[Tn]=xt+Tn;return R1(Et)?function(Tn){Et.uniform1iv(Xt,On),Tn.forEach(function(Mn,br){Et.activeTexture(X1+On[br]);let Nr,Wr;ro(Et,Mn)?(Nr=Mn,Wr=null):(Nr=Mn.texture,Wr=Mn.sampler),Et.bindSampler(xt,Wr),Et.bindTexture(vn,Nr)})}:function(Tn){Et.uniform1iv(Xt,On),Tn.forEach(function(Mn,br){Et.activeTexture(X1+On[br]),Et.bindTexture(vn,Mn)})}}Xs[U1]={Type:Float32Array,size:4,setter:E3,arraySetter:C3},Xs[iv]={Type:Float32Array,size:8,setter:T3,cols:2},Xs[ov]={Type:Float32Array,size:12,setter:x3,cols:3},Xs[sv]={Type:Float32Array,size:16,setter:R3,cols:4},Xs[h0]={Type:Int32Array,size:4,setter:Ev,arraySetter:Cv},Xs[av]={Type:Int32Array,size:8,setter:Tv,cols:2},Xs[cv]={Type:Int32Array,size:12,setter:xv,cols:3},Xs[lv]={Type:Int32Array,size:16,setter:Rv,cols:4},Xs[m0]={Type:Uint32Array,size:4,setter:I3,arraySetter:w3},Xs[vv]={Type:Uint32Array,size:8,setter:O3,cols:2},Xs[yv]={Type:Uint32Array,size:12,setter:A3,cols:3},Xs[bv]={Type:Uint32Array,size:16,setter:k3,cols:4},Xs[uv]={Type:Uint32Array,size:4,setter:Ev,arraySetter:Cv},Xs[dv]={Type:Uint32Array,size:8,setter:Tv,cols:2},Xs[fv]={Type:Uint32Array,size:12,setter:xv,cols:3},Xs[pv]={Type:Uint32Array,size:16,setter:Rv,cols:4},Xs[hv]={Type:Float32Array,size:32,setter:L3,rows:2,cols:2},Xs[mv]={Type:Float32Array,size:48,setter:V3,rows:3,cols:3},Xs[gv]={Type:Float32Array,size:64,setter:Z3,rows:4,cols:4},Xs[i3]={Type:Float32Array,size:32,setter:N3,rows:2,cols:3},Xs[o3]={Type:Float32Array,size:32,setter:P3,rows:2,cols:4},Xs[s3]={Type:Float32Array,size:48,setter:M3,rows:3,cols:2},Xs[a3]={Type:Float32Array,size:48,setter:G3,rows:3,cols:4},Xs[c3]={Type:Float32Array,size:64,setter:W3,rows:4,cols:2},Xs[l3]={Type:Float32Array,size:64,setter:F3,rows:4,cols:3},Xs[e3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:H1},Xs[t3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:B1},Xs[n3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:g0},Xs[r3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:H1},Xs[u3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:Y1},Xs[d3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:Y1},Xs[f3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:B1},Xs[p3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:H1},Xs[h3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:g0},Xs[m3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:B1},Xs[g3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:Y1},Xs[v3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:H1},Xs[y3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:g0},Xs[b3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:B1},Xs[S3]={Type:null,size:0,setter:$p,arraySetter:Qp,bindPoint:Y1};function z1(Et,St){return function(xt){if(xt.value)switch(Et.disableVertexAttribArray(St),xt.value.length){case 4:Et.vertexAttrib4fv(St,xt.value);break;case 3:Et.vertexAttrib3fv(St,xt.value);break;case 2:Et.vertexAttrib2fv(St,xt.value);break;case 1:Et.vertexAttrib1fv(St,xt.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else Et.bindBuffer(j1,xt.buffer),Et.enableVertexAttribArray(St),Et.vertexAttribPointer(St,xt.numComponents||xt.size,xt.type||U1,xt.normalize||!1,xt.stride||0,xt.offset||0),Et.vertexAttribDivisor&&Et.vertexAttribDivisor(St,xt.divisor||0)}}function $m(Et,St){return function(xt){if(xt.value)if(Et.disableVertexAttribArray(St),xt.value.length===4)Et.vertexAttrib4iv(St,xt.value);else throw new Error("The length of an integer constant value must be 4!");else Et.bindBuffer(j1,xt.buffer),Et.enableVertexAttribArray(St),Et.vertexAttribIPointer(St,xt.numComponents||xt.size,xt.type||h0,xt.stride||0,xt.offset||0),Et.vertexAttribDivisor&&Et.vertexAttribDivisor(St,xt.divisor||0)}}function K1(Et,St){return function(xt){if(xt.value)if(Et.disableVertexAttribArray(St),xt.value.length===4)Et.vertexAttrib4uiv(St,xt.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else Et.bindBuffer(j1,xt.buffer),Et.enableVertexAttribArray(St),Et.vertexAttribIPointer(St,xt.numComponents||xt.size,xt.type||m0,xt.stride||0,xt.offset||0),Et.vertexAttribDivisor&&Et.vertexAttribDivisor(St,xt.divisor||0)}}function v0(Et,St,xt){const Xt=xt.size,zt=xt.count;return function(vn){Et.bindBuffer(j1,vn.buffer);const On=vn.size||vn.numComponents||Xt,Tn=On/zt,Mn=vn.type||U1,br=Xs[Mn].size*On,Nr=vn.normalize||!1,Wr=vn.offset||0,Ao=br/zt;for(let Mo=0;Mo<zt;++Mo)Et.enableVertexAttribArray(St+Mo),Et.vertexAttribPointer(St+Mo,Tn,Mn,Nr,br,Wr+Ao*Mo),Et.vertexAttribDivisor&&Et.vertexAttribDivisor(St+Mo,vn.divisor||0)}}const gp={};gp[U1]={size:4,setter:z1},gp[iv]={size:8,setter:z1},gp[ov]={size:12,setter:z1},gp[sv]={size:16,setter:z1},gp[h0]={size:4,setter:$m},gp[av]={size:8,setter:$m},gp[cv]={size:12,setter:$m},gp[lv]={size:16,setter:$m},gp[m0]={size:4,setter:K1},gp[vv]={size:8,setter:K1},gp[yv]={size:12,setter:K1},gp[bv]={size:16,setter:K1},gp[uv]={size:4,setter:$m},gp[dv]={size:8,setter:$m},gp[fv]={size:12,setter:$m},gp[pv]={size:16,setter:$m},gp[hv]={size:4,setter:v0,count:2},gp[mv]={size:9,setter:v0,count:3},gp[gv]={size:16,setter:v0,count:4};const D3=/ERROR:\s*\d+:(\d+)/gi;function X3(Et,St="",xt=0){const Xt=[...St.matchAll(D3)],zt=new Map(Xt.map((vn,On)=>{const Tn=parseInt(vn[1]),Mn=Xt[On+1],br=Mn?Mn.index:St.length,Nr=St.substring(vn.index,br);return[Tn-1,Nr]}));return Et.split(`
`).map((vn,On)=>{const Tn=zt.get(On);return`${On+1+xt}: ${vn}${Tn?`

^^^ ${Tn}`:""}`}).join(`
`)}const Iv=/^[ \t]*\n/;function wv(Et){let St=0;return Iv.test(Et)&&(St=1,Et=Et.replace(Iv,"")),{lineOffset:St,shaderSource:Et}}function j3(Et,St){return Et.errorCallback(St),Et.callback&&setTimeout(()=>{Et.callback(`${St}
${Et.errors.join(`
`)}`)}),null}function U3(Et,St,xt,Xt){if(Xt=Xt||p0,!Et.getShaderParameter(xt,j2)){const zt=Et.getShaderInfoLog(xt),{lineOffset:vn,shaderSource:On}=wv(Et.getShaderSource(xt)),Tn=`${X3(On,zt,vn)}
Error compiling ${M0(Et,St)}: ${zt}`;return Xt(Tn),Tn}return""}function y0(Et,St,xt){let Xt,zt,vn;if(typeof St=="function"&&(xt=St,St=void 0),typeof Et=="function")xt=Et,Et=void 0;else if(Et&&!Array.isArray(Et)){const br=Et;xt=br.errorCallback,Et=br.attribLocations,Xt=br.transformFeedbackVaryings,zt=br.transformFeedbackMode,vn=br.callback}const On=xt||p0,Tn=[],Mn={errorCallback(br,...Nr){Tn.push(br),On(br,...Nr)},transformFeedbackVaryings:Xt,transformFeedbackMode:zt,callback:vn,errors:Tn};{let br={};Array.isArray(Et)?Et.forEach(function(Nr,Wr){br[Nr]=St?St[Wr]:Wr}):br=Et||{},Mn.attribLocations=br}return Mn}const H3=["VERTEX_SHADER","FRAGMENT_SHADER"];function B3(Et,St){if(St.indexOf("frag")>=0)return H2;if(St.indexOf("vert")>=0)return B2}function Y3(Et,St,xt){const Xt=Et.getAttachedShaders(St);for(const zt of Xt)xt.has(zt)&&Et.deleteShader(zt);Et.deleteProgram(St)}const z3=(Et=0)=>new nt(St=>setTimeout(St,Et));function K3(Et,St,xt){const Xt=Et.createProgram(),{attribLocations:zt,transformFeedbackVaryings:vn,transformFeedbackMode:On}=y0(xt);for(let Tn=0;Tn<St.length;++Tn){let Mn=St[Tn];if(typeof Mn=="string"){const br=nv(Mn),Nr=br?br.text:Mn;let Wr=Et[H3[Tn]];br&&br.type&&(Wr=B3(Et,br.type)||Wr),Mn=Et.createShader(Wr),Et.shaderSource(Mn,wv(Nr).shaderSource),Et.compileShader(Mn),Et.attachShader(Xt,Mn)}}Object.entries(zt).forEach(([Tn,Mn])=>Et.bindAttribLocation(Xt,Mn,Tn));{let Tn=vn;Tn&&(Tn.attribs&&(Tn=Tn.attribs),Array.isArray(Tn)||(Tn=Object.keys(Tn)),Et.transformFeedbackVaryings(Xt,Tn,On||Y2))}return Et.linkProgram(Xt),Xt}function J3(Et,St,xt,Xt,zt){const vn=y0(xt,Xt,zt),On=new Set(St),Tn=K3(Et,St,vn);function Mn(br,Nr){const Wr=Q3(br,Nr,vn.errorCallback);return Wr&&Y3(br,Nr,On),Wr}if(vn.callback){$3(Et,Tn).then(()=>{const br=Mn(Et,Tn);vn.callback(br,br?void 0:Tn)});return}return Mn(Et,Tn)?void 0:Tn}async function $3(Et,St){const xt=Et.getExtension("KHR_parallel_shader_compile"),Xt=xt?(vn,On)=>vn.getProgramParameter(On,xt.COMPLETION_STATUS_KHR):()=>!0;let zt=0;do await z3(zt),zt=1e3/60;while(!Xt(Et,St))}function Q3(Et,St,xt){if(xt=xt||p0,!Et.getProgramParameter(St,U2)){const Xt=Et.getProgramInfoLog(St);xt(`Error in program linking: ${Xt}`);const zt=Et.getAttachedShaders(St).map(vn=>U3(Et,Et.getShaderParameter(vn,Et.SHADER_TYPE),vn,xt));return`${Xt}
${zt.filter(vn=>vn).join(`
`)}`}}function _3(Et,St,xt,Xt,zt){return J3(Et,St,xt,Xt,zt)}function Ov(Et){const St=Et.name;return St.startsWith("gl_")||St.startsWith("webgl_")}const q3=/(\.|\[|]|\w+)/g,eS=Et=>Et>="0"&&Et<="9";function tS(Et,St,xt,Xt){const zt=Et.split(q3).filter(Tn=>Tn!=="");let vn=0,On="";for(;;){const Tn=zt[vn++];On+=Tn;const Mn=eS(Tn[0]),br=Mn?parseInt(Tn):Tn;if(Mn&&(On+=zt[vn++]),vn===zt.length){xt[br]=St;break}else{const Nr=zt[vn++],Wr=Nr==="[",Ao=xt[br]||(Wr?[]:{});xt[br]=Ao,xt=Ao,Xt[On]=Xt[On]||function(Mo){return function(Dr){Av(Mo,Dr)}}(Ao),On+=Nr}}}function nS(Et,St){let xt=0;function Xt(Tn,Mn,br){const Nr=Mn.name.endsWith("[0]"),Wr=Mn.type,Ao=Xs[Wr];if(!Ao)throw new Error(`unknown type: 0x${Wr.toString(16)}`);let Mo;if(Ao.bindPoint){const Dr=xt;xt+=Mn.size,Nr?Mo=Ao.arraySetter(Et,Wr,Dr,br,Mn.size):Mo=Ao.setter(Et,Wr,Dr,br,Mn.size)}else Ao.arraySetter&&Nr?Mo=Ao.arraySetter(Et,br):Mo=Ao.setter(Et,br);return Mo.location=br,Mo}const zt={},vn={},On=Et.getProgramParameter(St,rv);for(let Tn=0;Tn<On;++Tn){const Mn=Et.getActiveUniform(St,Tn);if(Ov(Mn))continue;let br=Mn.name;br.endsWith("[0]")&&(br=br.substr(0,br.length-3));const Nr=Et.getUniformLocation(St,Mn.name);if(Nr){const Wr=Xt(St,Mn,Nr);zt[br]=Wr,tS(br,Wr,vn,zt)}}return zt}function rS(Et,St){const xt={},Xt=Et.getProgramParameter(St,K2);for(let zt=0;zt<Xt;++zt){const vn=Et.getTransformFeedbackVarying(St,zt);xt[vn.name]={index:zt,type:vn.type,size:vn.size}}return xt}function iS(Et,St){const xt=Et.getProgramParameter(St,rv),Xt=[],zt=[];for(let Tn=0;Tn<xt;++Tn){zt.push(Tn),Xt.push({});const Mn=Et.getActiveUniform(St,Tn);Xt[Tn].name=Mn.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(Tn){const Mn=Tn[0],br=Tn[1];Et.getActiveUniforms(St,zt,Et[Mn]).forEach(function(Nr,Wr){Xt[Wr][br]=Nr})});const vn={},On=Et.getProgramParameter(St,J2);for(let Tn=0;Tn<On;++Tn){const Mn=Et.getActiveUniformBlockName(St,Tn),br={index:Et.getUniformBlockIndex(St,Mn),usedByVertexShader:Et.getActiveUniformBlockParameter(St,Tn,$2),usedByFragmentShader:Et.getActiveUniformBlockParameter(St,Tn,Q2),size:Et.getActiveUniformBlockParameter(St,Tn,_2),uniformIndices:Et.getActiveUniformBlockParameter(St,Tn,q2)};br.used=br.usedByVertexShader||br.usedByFragmentShader,vn[Mn]=br}return{blockSpecs:vn,uniformData:Xt}}function Av(Et,St){for(const xt in St){const Xt=Et[xt];typeof Xt=="function"?Xt(St[xt]):Av(Et[xt],St[xt])}}function kv(Et,...St){const xt=Et.uniformSetters||Et,Xt=St.length;for(let zt=0;zt<Xt;++zt){const vn=St[zt];if(Array.isArray(vn)){const On=vn.length;for(let Tn=0;Tn<On;++Tn)kv(xt,vn[Tn])}else for(const On in vn){const Tn=xt[On];Tn&&Tn(vn[On])}}}function oS(Et,St){const xt={},Xt=Et.getProgramParameter(St,z2);for(let zt=0;zt<Xt;++zt){const vn=Et.getActiveAttrib(St,zt);if(Ov(vn))continue;const On=Et.getAttribLocation(St,vn.name),Tn=gp[vn.type],Mn=Tn.setter(Et,On,Tn);Mn.location=On,xt[vn.name]=Mn}return xt}function sS(Et,St){for(const xt in St){const Xt=Et[xt];Xt&&Xt(St[xt])}}function aS(Et,St,xt){xt.vertexArrayObject?Et.bindVertexArray(xt.vertexArrayObject):(sS(St.attribSetters||St,xt.attribs),xt.indices&&Et.bindBuffer(X2,xt.indices))}function Lv(Et,St){const xt=nS(Et,St),Xt=oS(Et,St),zt={program:St,uniformSetters:xt,attribSetters:Xt};return R1(Et)&&(zt.uniformBlockSpec=iS(Et,St),zt.transformFeedbackInfo=rS(Et,St)),zt}const cS=/\s|{|}|;/;function lS(Et,St,xt,Xt,zt){const vn=y0(xt,Xt,zt),On=[];if(St=St.map(function(br){if(!cS.test(br)){const Nr=nv(br);if(Nr)br=Nr.text;else{const Wr=`no element with id: ${br}`;vn.errorCallback(Wr),On.push(Wr)}}return br}),On.length)return j3(vn,"");const Tn=vn.callback;Tn&&(vn.callback=(br,Nr)=>{Tn(br,br?void 0:Lv(Et,Nr))});const Mn=_3(Et,St,vn);return Mn?Lv(Et,Mn):null}const uS=4,Vv=5123;function dS(Et,St,xt,Xt,zt,vn){xt=xt===void 0?uS:xt;const On=St.indices,Tn=St.elementType,Mn=Xt===void 0?St.numElements:Xt;zt=zt===void 0?0:zt,Tn||On?vn!==void 0?Et.drawElementsInstanced(xt,Mn,Tn===void 0?Vv:St.elementType,zt,vn):Et.drawElements(xt,Mn,Tn===void 0?Vv:St.elementType,zt):vn!==void 0?Et.drawArraysInstanced(xt,zt,Mn,vn):Et.drawArrays(xt,zt,Mn)}const Zv=36160,J1=36161,fS=3553,pS=5121,hS=6402,mS=6408,gS=33190,vS=36012,yS=35056,bS=36013,SS=32854,ES=32855,CS=36194,Nv=33189,Mv=6401,Pv=36168,b0=34041,S0=36064,$1=36096,Wv=36128,E0=33306,C0=33071,T0=9729,TS=[{format:mS,type:pS,min:T0,wrap:C0},{format:b0}],bm={};bm[b0]=E0,bm[Mv]=Wv,bm[Pv]=Wv,bm[hS]=$1,bm[Nv]=$1,bm[gS]=$1,bm[vS]=$1,bm[yS]=E0,bm[bS]=E0;function xS(Et,St){return bm[Et]||bm[St]}const Qm={};Qm[SS]=!0,Qm[ES]=!0,Qm[CS]=!0,Qm[b0]=!0,Qm[Nv]=!0,Qm[Mv]=!0,Qm[Pv]=!0;function RS(Et){return Qm[Et]}const IS=32;function wS(Et){return Et>=S0&&Et<S0+IS}function Q1(Et,St,xt,Xt){const zt=Zv,vn=Et.createFramebuffer();Et.bindFramebuffer(zt,vn),xt=xt||Et.drawingBufferWidth,Xt=Xt||Et.drawingBufferHeight,St=St||TS;const On=[],Tn={framebuffer:vn,attachments:[],width:xt,height:Xt};return St.forEach(function(Mn,br){let Nr=Mn.attachment;const Wr=Mn.samples,Ao=Mn.format;let Mo=Mn.attachmentPoint||xS(Ao,Mn.internalFormat);if(Mo||(Mo=S0+br),wS(Mo)&&On.push(Mo),!Nr)if(Wr!==void 0||RS(Ao))Nr=Et.createRenderbuffer(),Et.bindRenderbuffer(J1,Nr),Wr>1?Et.renderbufferStorageMultisample(J1,Wr,Ao,xt,Xt):Et.renderbufferStorage(J1,Ao,xt,Xt);else{const Dr=Object.assign({},Mn);Dr.width=xt,Dr.height=Xt,Dr.auto===void 0&&(Dr.auto=!1,Dr.min=Dr.min||Dr.minMag||T0,Dr.mag=Dr.mag||Dr.minMag||T0,Dr.wrapS=Dr.wrapS||Dr.wrap||C0,Dr.wrapT=Dr.wrapT||Dr.wrap||C0),Nr=tv(Et,Dr)}if(Do(Et,Nr))Et.framebufferRenderbuffer(zt,Mo,J1,Nr);else if(ro(Et,Nr))Mn.layer!==void 0?Et.framebufferTextureLayer(zt,Mo,Nr,Mn.level||0,Mn.layer):Et.framebufferTexture2D(zt,Mo,Mn.target||fS,Nr,Mn.level||0);else throw new Error("unknown attachment type");Tn.attachments.push(Nr)}),Et.drawBuffers&&Et.drawBuffers(On),Tn}function OS(Et,St,xt){xt=xt||Zv,St?(Et.bindFramebuffer(xt,St.framebuffer),Et.viewport(0,0,St.width,St.height)):(Et.bindFramebuffer(xt,null),Et.viewport(0,0,Et.drawingBufferWidth,Et.drawingBufferHeight))}function Vu(Et,St){return()=>St instanceof WebGLTexture?St:tv(Et,{src:St,wrap:Et.CLAMP_TO_EDGE})}const Gv=2;class o1{constructor(St){st(this,"id","_"),st(this,"context"),st(this,"output"),st(this,"fbi"),st(this,"options"),st(this,"programInfo"),st(this,"bufferInfo"),st(this,"profiler"),st(this,"lastRun");const{context:xt,width:Xt,height:zt}=St;this.context=xt,this.options=St;const vn=this.buildDefines();this.programInfo=lS(this.context,[vn+this.getVertexShader(),vn+this.getFragmentShader()]),this.bufferInfo=ly(this.context,this.getBuffers()),this.fbi=Q1(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],Xt,zt),this.output=this.fbi.attachments[0]}resizeOutput(St,xt){this.fbi=Q1(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],St,xt),this.options.width=St,this.options.height=xt,this.output=this.fbi.attachments[0]}getDefines(){return{}}getBuffers(){return{position:{numComponents:2,data:[-1,-1,-1,1,1,-1,1,1,-1,1,1,-1]},texture_coord:{numComponents:2,data:[0,0,0,1,1,0,1,1,0,1,1,0]}}}buildDefines(){let St="";const xt=this.getDefines();for(let Xt in xt)St+=`#define ${Xt} ${xt[Xt].toFixed(1)}
`;return St}run(St){var xt,Xt,zt,vn,On,Tn;(xt=this.profiler)==null||xt.pushContext(`[${this.id}] PROG : ${this.constructor.name}`),(Xt=this.profiler)==null||Xt.pushContext(`[${this.id}] UNIFORMS`);for(const Nr in St)typeof St[Nr]=="function"&&((zt=this.profiler)==null||zt.pushContext(`[${this.id}] UNI : ${Nr}`),St[Nr]=St[Nr](),(vn=this.profiler)==null||vn.popContext(`[${this.id}] UNI : ${Nr}`));(On=this.profiler)==null||On.popContext(`[${this.id}] UNIFORMS`);const Mn=Date.now();let br=0;this.lastRun&&(br=(Mn-this.lastRun)/1e3),this.lastRun=Mn,this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height),this.context.useProgram(this.programInfo.program),aS(this.context,this.programInfo,this.bufferInfo),kv(this.programInfo,{delta:br,canvas:[this.context.canvas.width,this.context.canvas.height],...St}),OS(this.context,this.options.disableFramebuffer?null:this.fbi),dS(this.context,this.bufferInfo),(Tn=this.profiler)==null||Tn.popContext(`[${this.id}] PROG : ${this.constructor.name}`)}setProfiler(St){this.profiler=St}}const AS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;
uniform sampler2D mask;

vec4 loop();

void main() { gl_FragColor = loop(); }
`,kS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class LS extends o1{getDefines(){var St;return{RADIUS:(St=this.options.radius)!=null?St:1}}getFragmentShader(){return AS+this.createLoopFunction()}getVertexShader(){return kS}createLoopFunction(){var St;let xt=(St=this.options.radius)!=null?St:1;return`

        vec4 loop() { 
            vec4 result = vec4(0,0,0,0);
            float factorSum = 0.;

            vec2 normalizedRadius = vec2(-${xt}.) / canvas;
            vec2 normalizedIncrement = vec2(1.) / canvas;
            vec2 diff = normalizedRadius;
            float maxLength = length(normalizedRadius);

            for(int y=-${xt}; y<${xt+1}; ++y) {
                for(int x=-${xt}; x<${xt+1}; ++x) {
                    float factor = (1.- texture2D(mask, _texture_coord + diff).a) * (maxLength - length(diff)) / maxLength;
                    result += factor * texture2D(texture, _texture_coord + diff);
                    factorSum += factor;
                    diff.x += normalizedIncrement.x;
                }
                diff.y += normalizedIncrement.y;
                diff.x = normalizedRadius.x;
            }
            return result / factorSum;
        }`}}const VS=`precision mediump float;

varying vec2 _texture_coord;

uniform sampler2D background;
uniform sampler2D foreground;
uniform sampler2D threshold;

void main() {
  vec4 backgroundColor = texture2D(background, _texture_coord);
  vec4 foregroundColor = texture2D(foreground, _texture_coord);
  vec4 tresholdColor = texture2D(threshold, _texture_coord);
  gl_FragColor = foregroundColor * tresholdColor.a +
                 backgroundColor * (1. - tresholdColor.a);
}
`,ZS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
  _texture_coord.y = 1. - texture_coord.y;
}
`;class x0 extends o1{getFragmentShader(){return VS}getVertexShader(){return ZS}}class R0{constructor(){st(this,"steps",[]),st(this,"profiler")}addStep(St){this.steps.push(St)}async run(){for(const St of this.steps)St.program.run(St.getUniforms())}resizeOutput(St,xt){var Xt,zt;(Xt=this.profiler)==null||Xt.pushContext(`PIP [${this.constructor.name}]`);for(const vn of this.steps)vn.preventResize||vn.program.resizeOutput(St,xt);(zt=this.profiler)==null||zt.popContext(`PIP [${this.constructor.name}]`)}setProfiler(St){this.profiler=St;for(const xt of this.steps)xt.program.setProfiler(St)}setId(St){for(const xt of this.steps)xt.program.id=St}}class I0 extends R0{constructor(){super(...arguments),st(this,"preciseMaskEnabled",!1)}}const NS=10,PS=2,WS=8;class GS extends I0{constructor(St,xt){super(),st(this,"inputImage"),st(this,"inputMask"),st(this,"blur"),this.context=St,this.radius=xt;const Xt={context:St,height:St.canvas.height,width:St.canvas.width};this.blur=new LS({...Xt,radius:xt,...this.getBlurTextureSize(St.canvas.width,St.canvas.height)});const zt=new x0({...Xt,disableFramebuffer:!0});this.addStep({program:this.blur,preventResize:!0,getUniforms:()=>({texture:Vu(St,this.inputImage),mask:Vu(St,this.inputMask)})}),this.addStep({program:zt,getUniforms:()=>({background:Vu(St,this.blur.output),foreground:Vu(St,this.inputImage),threshold:Vu(St,this.inputMask)})})}getBlurTextureSize(St,xt){const Xt=this.radius>NS?WS:PS;return{width:Math.max(Gv,St/Xt),height:Math.max(Gv,xt/Xt)}}setData(St,xt){this.inputImage=St,this.inputMask=xt}resizeOutput(St,xt){super.resizeOutput(St,xt);const Xt=this.getBlurTextureSize(St,xt);this.blur.resizeOutput(Xt.width,Xt.height)}}class Fv extends I0{constructor(St){super(),st(this,"inputImage"),st(this,"inputBackgroundImage"),st(this,"inputMask"),st(this,"preciseMaskEnabled",!0),this.context=St;const xt={context:St,height:St.canvas.height,width:St.canvas.width},Xt=new x0({...xt,disableFramebuffer:!0});this.addStep({program:Xt,getUniforms:()=>({background:Vu(St,this.inputBackgroundImage),foreground:Vu(St,this.inputImage),threshold:Vu(St,this.inputMask)})})}setData(St,xt){this.inputImage=St,this.inputMask=xt}}class FS extends Fv{constructor(){super(...arguments),st(this,"frameReader"),st(this,"preciseMaskEnabled",!0)}set inputVideo(St){this.frameReader=St.getReader(),this.readNextVideoFrame()}async run(){this.frameReader&&(await super.run(),this.readNextVideoFrame())}async readNextVideoFrame(){var St;const xt=await((St=this.frameReader)==null?void 0:St.read());xt!=null&&xt.value&&(this.inputBackgroundImage=await createImageBitmap(xt.value),xt.value.close())}}const DS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

vec4 loop();

void main() { gl_FragColor = loop(); }
`,XS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;var w0=(Et=>(Et[Et.LINEAR=0]="LINEAR",Et[Et.GAUSSIAN=1]="GAUSSIAN",Et))(w0||{});class Dv extends o1{getDefines(){var St;return{RADIUS:(St=this.options.radius)!=null?St:1}}getFragmentShader(){return DS+this.createLoopFunction()}getVertexShader(){return XS}createLoopFunction(){var St;let xt=(St=this.options.radius)!=null?St:1;return`

        vec4 loop() { 
            vec4 result = vec4(0,0,0,0);
            float factorSum = 0.;

            vec2 normalizedRadius = vec2(-${xt}.) / canvas;
            vec2 normalizedIncrement = vec2(1.) / canvas;
            vec2 diff = normalizedRadius;

            for(int y=-${xt}; y<${xt+1}; ++y) {
                for(int x=-${xt}; x<${xt+1}; ++x) {
                    float factor = 1.;
                    result += factor * texture2D(texture, _texture_coord + diff);
                    factorSum += factor;
                    diff.x += normalizedIncrement.x;
                }
                diff.y += normalizedIncrement.y;
                diff.x = normalizedRadius.x;
            }
            return result / factorSum;
        }`}getFactor(St,xt){switch(this.options.type){case 1:return this.getLinearFactor(St,xt);case 0:default:return this.getLinearFactor(St,xt)}}getLinearFactor(St,xt){return 1}getGaussianFactor(St,xt){var Xt;const zt=Math.PI*2,vn=Math.max((Xt=this.options.radius)!=null?Xt:1,1),On=1/(zt*vn**2),Tn=-(St**2+xt**2),Mn=On*Tn;return On*Math.E**Mn}}class jS extends I0{constructor(St,xt){super(),st(this,"inputImage"),st(this,"inputMask"),this.context=St;const Xt={context:St,height:St.canvas.height,width:St.canvas.width},zt=new Dv({...Xt,radius:xt,type:w0.GAUSSIAN}),vn=new x0({...Xt,disableFramebuffer:!0});this.addStep({program:zt,getUniforms:()=>({texture:Vu(St,this.inputImage)})}),this.addStep({program:vn,getUniforms:()=>({background:Vu(St,this.inputImage),foreground:Vu(St,zt.output),threshold:Vu(St,this.inputMask)})})}setData(St,xt){this.inputImage=St,this.inputMask=xt}}class O0 extends o1{constructor(St){super(St),st(this,"fbi2"),this.fbi2=Q1(St.context,[{format:St.context.RGBA,type:St.context.UNSIGNED_BYTE,min:St.context.LINEAR,mag:St.context.LINEAR,wrap:St.context.CLAMP_TO_EDGE}],St.width,St.height)}run(St){const xt=this.fbi;this.fbi=this.fbi2,this.fbi2=xt,this.output=this.fbi.attachments[0],super.run({...St,previous_rendering:this.fbi2.attachments[0]})}resizeOutput(St,xt){super.resizeOutput(St,xt),this.fbi2=Q1(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],St,xt)}}const US=`precision mediump float;

varying vec2 _texture_coord;

// uniform float treshold;
uniform sampler2D image_now;
uniform sampler2D image_before;
uniform sampler2D mask_now;
uniform sampler2D mask_before;
uniform sampler2D previous_rendering;
uniform vec2 canvas;

uniform float delta;

float current_factor = 0.69;
float previous_factor = 0.74;
float threshold_activation = 0.54;

float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float getThreshold() {
  vec4 color = vec4(0.);
  for (float y = -6.; y < 7.; y += 1.) {
    for (float x = -6.; x < 7.; x += 1.) {
      vec4 image_now_color =
          texture2D(image_now, _texture_coord + vec2(x, y) / canvas);
      vec4 image_before_color =
          texture2D(image_before, _texture_coord + vec2(x, y) / canvas);
      color += abs(image_before_color - image_now_color);
    }
  }
  return (color.x + color.y + color.z) / (3. * 9.);
}

void main() {
  float treshold_input = .4;
  float treshold_previous_rendering = .98;

  vec4 mask_now_color = texture2D(mask_now, _texture_coord);
  vec4 mask_before_color = texture2D(mask_before, _texture_coord);
  vec4 previous_rendering_color = texture2D(previous_rendering, _texture_coord);

  vec3 mask_diff = abs(mask_before_color.xyz - mask_now_color.xyz);
  float flickering = mask_diff.x;
  float threshold = getThreshold();
  if (threshold < threshold_activation) {
    gl_FragColor = vec4(flickering, 0., 0., 1.) * current_factor +
                   previous_rendering_color * previous_factor;
    gl_FragColor *= (1. - threshold);
  }
}
`,HS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class BS extends O0{getFragmentShader(){return US}getVertexShader(){return HS}}const YS=`#version 300 es
// https://github.com/Volcomix/virtual-background/blob/main/src/pipelines/webgl2/jointBilateralFilterStage.ts

precision highp float;
uniform sampler2D input_frame;
uniform sampler2D segmentation_mask;
uniform sampler2D threshold;
uniform vec2 texel_size;
uniform float step;
uniform float radius;
uniform float offset;
uniform float sigma_texel;
uniform float sigma_color;

in vec2 _texture_coord;
out vec4 outColor;

float gaussian(float x, float sigma) {
  float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);
  return exp((x * x) * coeff);
}

void main() {
  vec2 centerCoord = _texture_coord;
  vec3 centerColor = texture(input_frame, centerCoord).rgb;
  float newVal = 0.0;
  float spaceWeight = 0.0;
  float colorWeight = 0.0;
  float totalWeight = 0.0;
  // Subsample kernel space.
  for (float i = -radius + offset; i <= radius; i += step) {
    for (float j = -radius + offset; j <= radius; j += step) {
      vec2 shift = vec2(j, i) * texel_size;
      vec2 coord = vec2(centerCoord + shift);
      vec3 frameColor = texture(input_frame, coord).rgb;
      float threshold = texture(threshold, coord).a;
      float outVal = texture(segmentation_mask, coord).a;

      spaceWeight = gaussian(distance(centerCoord, coord), sigma_texel);
      colorWeight = gaussian(distance(centerColor, frameColor), sigma_color);
      totalWeight += spaceWeight * colorWeight;
      newVal += spaceWeight * colorWeight * outVal * threshold;
    }
  }
  newVal /= totalWeight;
  outColor = vec4(vec3(0.), newVal);
}`,zS=`#version 300 es
in vec2 position;
in vec2 texture_coord;
out vec2 _texture_coord;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
  _texture_coord = texture_coord;
}`;class KS extends o1{getFragmentShader(){return YS}getVertexShader(){return zS}}const JS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

void main() {
  int count = 0;
  for (float y = -1.; y < 2.; y += 1.) {
    for (float x = -1.; x < 2.; x += 1.) {
      vec2 coord = _texture_coord + vec2(y, x) / canvas;
      vec4 color = texture2D(texture, coord);
      if (color.r > .1) {
        count++;
      }
    }
  }
  if (count > 5) {
    gl_FragColor = texture2D(texture, _texture_coord);
  }
}
`,$S=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class QS extends o1{getFragmentShader(){return JS}getVertexShader(){return $S}}const _S=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

void main() {
  vec4 color = texture2D(texture, _texture_coord);
  for (float y = -2.; y < 3.; y += 1.) {
    for (float x = -2.; x < 3.; x += 1.) {
      vec2 coord = _texture_coord;
      coord += vec2(y, x) / canvas;
      color += texture2D(texture, coord) * (1. / 4.);
    }
  }

  gl_FragColor = color;
}
`,qS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class e4 extends O0{getFragmentShader(){return _S}getVertexShader(){return qS}}const t4=`precision mediump float;

varying vec2 _texture_coord;

uniform sampler2D threshold;
uniform sampler2D inputs;

void main() {
  vec4 inputs_color = texture2D(inputs, _texture_coord);
  vec4 threshold_color = texture2D(threshold, _texture_coord);
  if (threshold_color.r < .1 && inputs_color.r > .5) {
    gl_FragColor = inputs_color;
  }
}
`,n4=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class r4 extends O0{getFragmentShader(){return t4}getVertexShader(){return n4}}class i4 extends R0{constructor(St,xt,Xt){super(),st(this,"inputImage"),st(this,"inputMask"),st(this,"previousInputImage"),st(this,"previousInputMask"),st(this,"output"),st(this,"options",{currentThresholdMinimum:0,currentThresholdMaximum:1,previousThresholdMinimum:0,previousThresholdMaximum:1,thresholdMinimum:0,thresholdMaximum:1,thresholdFactor:1}),this.context=St;const zt={context:St,height:Xt,width:xt},vn=new BS(zt),On=new Dv({...zt,radius:1,type:w0.GAUSSIAN}),Tn=new r4(zt),Mn=new e4(zt),br=new QS(zt),Nr=new KS({...zt}),Wr=.66,Ao=640,Mo=480,Dr=256,Br=144;let Ko=1;Ko*=Math.max(Ao/Dr,Mo/Br);const Bo=Math.max(1,Math.sqrt(Ko)*Wr),ys=1/Ao,pr=1/Mo;this.addStep({program:vn,getUniforms:()=>({image_now:Vu(St,this.inputImage),image_before:Vu(St,this.previousInputImage),mask_now:Vu(St,this.inputMask),mask_before:Vu(St,this.previousInputMask),current_threshold_minimum:this.options.currentThresholdMinimum,current_threshold_maximum:this.options.currentThresholdMaximum,previous_threshold_minimum:this.options.previousThresholdMinimum,previous_threshold_maximum:this.options.previousThresholdMaximum,threshold_minimum:this.options.thresholdMinimum,threshold_maximum:this.options.thresholdMaximum,threshold_factor:this.options.thresholdFactor})}),this.addStep({program:Tn,getUniforms:()=>({inputs:Vu(St,this.inputMask),threshold:Vu(St,vn.output)})}),this.addStep({program:br,getUniforms:()=>({texture:Vu(St,Tn.output)})}),this.addStep({program:Mn,getUniforms:()=>({texture:Vu(St,br.output)})}),this.addStep({program:On,getUniforms:()=>({texture:Vu(St,Mn.output)})}),this.addStep({program:Nr,getUniforms:()=>({input_frame:Vu(St,this.inputImage),segmentation_mask:Vu(St,this.inputMask),threshold:Vu(St,On.output),texel_size:[ys,pr],step:Bo,radius:Ko,offset:Bo>1?Bo*.5:0,sigma_texel:Math.max(ys,pr)*Ko,sigma_color:.1})}),this.output=Nr.output}setData(St,xt){this.previousInputImage=this.inputImage?this.inputImage:St,this.previousInputMask=this.inputMask?this.inputMask:xt,this.inputImage=St,this.inputMask=xt}setOptions(St){this.options=St}}const o4=`precision mediump float;

varying vec2 _texture_coord;
uniform sampler2D texture;

void main() { gl_FragColor = texture2D(texture, _texture_coord); }
`,s4=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;
uniform bool invert_y;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
  if (invert_y) {
    _texture_coord.y = 1. - texture_coord.y;
  }
}
`;class a4 extends o1{getFragmentShader(){return o4}getVertexShader(){return s4}}class c4 extends R0{constructor(St,xt,Xt){super(),st(this,"inputImage"),this.context=St;const zt={context:St,height:Xt,width:xt};this.addStep({program:new a4({...zt,disableFramebuffer:!0}),getUniforms:()=>({texture:Vu(St,this.inputImage),invert_y:!0})})}setData(St){this.inputImage=St}}class l4{constructor(St){st(this,"resize"),st(this,"canvas"),st(this,"context"),this.canvas=new OffscreenCanvas(0,0),this.context=this.canvas.getContext("webgl2"),this.canvas.width=St.width,this.canvas.height=St.height,this.resize=new c4(this.context,St.width,St.height)}resizeForeground(St,xt){this.canvas.width=St,this.canvas.height=xt,this.resize.resizeOutput(St,xt)}async process(St){var xt,Xt;return this.canvas.width=this.canvas.width,(xt=this.resize)==null||xt.setData(St),(Xt=this.resize)==null||Xt.run(),this.canvas}}class u4{constructor(St,xt){st(this,"improveMaskSegmentation"),st(this,"backgroundResizer"),st(this,"backgroundImage"),st(this,"backgroundVideo"),st(this,"profiler"),st(this,"activePipeline"),st(this,"canvas"),st(this,"options"),st(this,"context"),st(this,"virtualBGImage"),this.id=St,this.canvas=new OffscreenCanvas(0,0),this.context=this.canvas.getContext("webgl2"),this.canvas.width=xt.foregroundWidth,this.canvas.height=xt.foregroundHeight,this.improveMaskSegmentation=new i4(this.context,xt.maskWidth,xt.maskHeight),this.backgroundImage=new Fv(this.context),this.backgroundVideo=new FS(this.context),this.backgroundResizer=new l4({width:xt.foregroundWidth,height:xt.foregroundHeight})}setBackgroundOptions(St){switch(St.transformerType){case"BackgroundBlur":this.activePipeline=new GS(this.context,this.getBlurSize(St.radius));break;case"SilhouetteBlur":this.activePipeline=new jS(this.context,this.getBlurSize(St.radius));break;case"VideoBackground":this.activePipeline=this.backgroundVideo;break;case"VirtualBackground":this.activePipeline=this.backgroundImage;break}this.options=St}setFlickeringOptions(St){var xt;(xt=this.improveMaskSegmentation)==null||xt.setOptions(St)}setVideoBGReadable(St){this.backgroundVideo.inputVideo=St}async setVirtualBGImage(St){this.virtualBGImage=St,this.backgroundImage.inputBackgroundImage=await this.backgroundResizer.process(St)}async process(St,xt){var Xt,zt,vn,On,Tn,Mn,br;if(this.activePipeline&&St.width&&(xt!=null&&xt.width)){const Nr=`[${this.id}] background-filter`;(Xt=this.profiler)==null||Xt.pushContext(Nr);let Wr=xt;((zt=this.options)!=null&&zt.selfieSegmentationType&&((vn=this.options)==null?void 0:vn.selfieSegmentationType)==="PRECISE"||!((On=this.options)!=null&&On.selfieSegmentationType)&&this.activePipeline.preciseMaskEnabled)&&(this.improveMaskSegmentation.setId(this.id),this.improveMaskSegmentation.setProfiler(this.profiler),this.improveMaskSegmentation.setData(St,xt),this.improveMaskSegmentation.run(),Wr=this.improveMaskSegmentation.output),this.activePipeline.setId(this.id),this.activePipeline.setProfiler(this.profiler),(Tn=this.activePipeline)==null||Tn.setData(St,Wr),(Mn=this.activePipeline)==null||Mn.run(),(br=this.profiler)==null||br.popContext(Nr)}}async resizeForeground(St,xt){var Xt;this.canvas.width=St,this.canvas.height=xt,this.backgroundImage.resizeOutput(St,xt),this.backgroundVideo.resizeOutput(St,xt),this.backgroundResizer.resizeForeground(St,xt),(Xt=this.activePipeline)==null||Xt.resizeOutput(St,xt),this.virtualBGImage&&(this.backgroundImage.inputBackgroundImage=await this.backgroundResizer.process(this.virtualBGImage))}async profile(St){const xt=new d1(this.context);return this.profiler=xt,xt.start(),await Rm(St),this.profiler=void 0,xt.stop(),xt.getResolvedQueries()}getBlurSize(St=Zn.Low){switch(St){case Zn.Low:return 5;case Zn.High:return 12}return St}}class Xv{constructor(){st(this,"selfieSegmentation",new Nl),st(this,"backgroundFilter"),st(this,"previousDimensions",{width:0,height:0})}async init(St,xt){await this.selfieSegmentation.init(xt.wasmAssetUriPath,xt.tfliteAssetUriPath);const{width:Xt,height:zt}=this.selfieSegmentation.getOutputDimensions();this.backgroundFilter=new u4(St,{foregroundWidth:1,foregroundHeight:1,maskWidth:Xt,maskHeight:zt})}async transform(St,xt){var Xt,zt,vn,On;const Tn=(Xt=St.timestamp)!=null?Xt:0,Mn=await createImageBitmap(St),br=await this.selfieSegmentation.process(Mn);br?((Mn.width!==this.previousDimensions.width||Mn.height!==this.previousDimensions.height)&&(this.previousDimensions.width=Mn.width,this.previousDimensions.height=Mn.height,await((zt=this.backgroundFilter)==null?void 0:zt.resizeForeground(Mn.width,Mn.height))),await((vn=this.backgroundFilter)==null?void 0:vn.process(Mn,br)),St.close(),xt.enqueue(new VideoFrame((On=this.backgroundFilter)==null?void 0:On.canvas,{timestamp:Tn,alpha:"discard"}))):xt.enqueue(St)}async setBackgroundOptions(St){var xt;await((xt=this.backgroundFilter)==null?void 0:xt.setBackgroundOptions(St))}async setVideoBGReadable(St){var xt;await((xt=this.backgroundFilter)==null?void 0:xt.setVideoBGReadable(St))}async setVirtualBGImage(St){var xt;await((xt=this.backgroundFilter)==null?void 0:xt.setVirtualBGImage(St))}setFlickeringOptions(St){var xt;(xt=this.backgroundFilter)==null||xt.setFlickeringOptions(St)}async profile(St){var xt,Xt;return(Xt=(xt=this.backgroundFilter)==null?void 0:xt.profile(St))!=null?Xt:[]}}const jv=class{constructor(){st(this,"backgroundTransformer",new Xv),st(this,"mediaProcessor",new Yu),st(this,"rate",30),st(this,"resolveOnMediaProcessor"),st(this,"eventsQueue",[])}async init(Et,St){await this.backgroundTransformer.init(Et,St),await this.mediaProcessor.setTransformers([this.backgroundTransformer]),this.mediaProcessor.setTrackExpectedRate(this.rate),this.mediaProcessor.onAny((xt,Xt)=>{this.resolveOnMediaProcessor?(this.resolveOnMediaProcessor({name:xt,data:Xt}),this.resolveOnMediaProcessor=void 0):this.eventsQueue.push({name:xt,data:Xt})})}async onMediaProcessorEvent(){return await new nt(Et=>{this.eventsQueue.length>0?Et(this.eventsQueue.shift()):this.resolveOnMediaProcessor=Et})}async setTrackExpectedRate(Et){this.rate=Et,this.mediaProcessor.setTrackExpectedRate(Et)}async transform(Et,St){this.mediaProcessor.transform(Et,St)}async setBackgroundOptions(Et){var St;await((St=this.backgroundTransformer)==null?void 0:St.setBackgroundOptions(Et))}setVideoBGReadable(Et){this.backgroundTransformer.setVideoBGReadable(Et)}async setVirtualBGImage(Et){await this.backgroundTransformer.setVirtualBGImage(Et)}async terminate(){await this.mediaProcessor.destroy()}setFlickeringOptions(Et){this.backgroundTransformer.setFlickeringOptions(Et)}setVonageMetadata(Et){Go(Et)}async profile(Et){return JSON.stringify(await this.backgroundTransformer.profile(Et))}};let d4=jv;xm("ProcessorWorker",jv);const Uv="dmFyIGVkPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgdGQ9KEssdGUscmUpPT50ZSBpbiBLP2VkKEssdGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnJlfSk6S1t0ZV09cmU7dmFyIHA9KEssdGUscmUpPT4odGQoSyx0eXBlb2YgdGUhPSJzeW1ib2wiP3RlKyIiOnRlLHJlKSxyZSk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBLPShyPT4ocltyLklOSVQ9MF09IklOSVQiLHJbci5GT1JXQVJEPTFdPSJGT1JXQVJEIixyW3IuVEVSTUlOQVRFPTJdPSJURVJNSU5BVEUiLHIpKShLfHx7fSk7ZnVuY3Rpb24gdGUocil7cmV0dXJuW0ltYWdlQml0bWFwLFJlYWRhYmxlU3RyZWFtLFdyaXRhYmxlU3RyZWFtXS5zb21lKGU9PnIgaW5zdGFuY2VvZiBlKX1mdW5jdGlvbiByZShyLGUpe2NvbnN0e2lkOnR9PXIsbj1BcnJheS5pc0FycmF5KGUpP2U6W2VdO3Bvc3RNZXNzYWdlKHtpZDp0LHJlc3VsdDplfSxuLmZpbHRlcihpPT50ZShpKSkpfWFzeW5jIGZ1bmN0aW9uIHFpKHIsZSl7Y29uc3R7ZnVuY3Rpb25OYW1lOnQsYXJnczpufT1yO2lmKCFlLmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7aWYoIXQpdGhyb3cibWlzc2luZyBmdW5jdGlvbiBuYW1lIHRvIGNhbGwiO2lmKCFlLmluc3RhbmNlW3RdKXRocm93YHVuZGVmaW5lZCBmdW5jdGlvbiBbJHt0fV0gaW4gY2xhc3MgJHtlLmluc3RhbmNlLmNvbnN0cnVjdG9yLndvcmtlcklkfWA7cmUocixhd2FpdCBlLmluc3RhbmNlW3RdKC4uLm4hPW51bGw/bjpbXSkpfWZ1bmN0aW9uICRyKCl7cmV0dXJuIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZTwidSImJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1jb25zdCBHcj17fTtmdW5jdGlvbiBYaShyLGUpe2Uud29ya2VySWQ9ciwkcigpJiYoR3JbZS53b3JrZXJJZF09ZSl9ZnVuY3Rpb24gWWkocixlKXtpZighci5hcmdzKXRocm93Ik1pc3NpbmcgY2xhc3NOYW1lIHdoaWxlIGluaXRpYWxpemluZyB3b3JrZXIiO2NvbnN0W3RdPXIuYXJncyxuPUdyW3RdO2lmKG4pZS5pbnN0YW5jZT1uZXcgbihyLmFyZ3Muc2xpY2UoMSkpO2Vsc2UgdGhyb3dgdW5rbm93biB3b3JrZXIgY2xhc3MgJHt0fWA7cmUocix0eXBlb2YgZS5pbnN0YW5jZSE9PXZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gUWkocixlKXtjb25zdHthcmdzOnR9PXI7aWYoIWUuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtsZXQgbjtlLmluc3RhbmNlLnRlcm1pbmF0ZSYmKG49YXdhaXQgZS5pbnN0YW5jZS50ZXJtaW5hdGUoLi4udCE9bnVsbD90OltdKSkscmUocixuKX1mdW5jdGlvbiBLaSgpe2NvbnN0IHI9e307b25tZXNzYWdlPWFzeW5jIGU9Pntjb25zdCB0PWUuZGF0YTtzd2l0Y2godC50eXBlKXtjYXNlIEsuSU5JVDpZaSh0LHIpO2JyZWFrO2Nhc2UgSy5GT1JXQVJEOnFpKHQscik7YnJlYWs7Y2FzZSBLLlRFUk1JTkFURTpRaSh0LHIpO2JyZWFrfX19JHIoKSYmS2koKTtjbGFzcyBuZXt9bmUudXBkYXRlcz17dHJhbnNmb3JtZXJfbmV3OiJOZXcgdHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyX251bGw6Ik51bGwgdHJhbnNmb3JtZXIifSxuZS5lcnJvcnM9e3RyYW5zZm9ybWVyX25vbmU6Ik5vIHRyYW5zZm9ybWVycyBwcm92aWRlZCIsdHJhbnNmb3JtZXJfc3RhcnQ6IkNhbm5vdCBzdGFydCB0cmFuc2Zvcm1lciIsdHJhbnNmb3JtZXJfdHJhbnNmb3JtOiJDYW5ub3QgdHJhbnNmb3JtIGZyYW1lIix0cmFuc2Zvcm1lcl9mbHVzaDoiQ2Fubm90IGZsdXNoIHRyYW5zZm9ybWVyIixyZWFkYWJsZV9udWxsOiJSZWFkYWJsZSBpcyBudWxsIix3cml0YWJsZV9udWxsOiJXcml0YWJsZSBpcyBudWxsIn07dmFyIE90PXtleHBvcnRzOnt9fSx6cj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgaT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksbz0wO288aS5sZW5ndGg7bysrKWlbb109YXJndW1lbnRzW29dO3JldHVybiBlLmFwcGx5KHQsaSl9fSxKaT16cixvZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIE50KHIpe3JldHVybiBBcnJheS5pc0FycmF5KHIpfWZ1bmN0aW9uIFV0KHIpe3JldHVybiB0eXBlb2Ygcj4idSJ9ZnVuY3Rpb24gWmkocil7cmV0dXJuIHIhPT1udWxsJiYhVXQocikmJnIuY29uc3RydWN0b3IhPT1udWxsJiYhVXQoci5jb25zdHJ1Y3RvcikmJnR5cGVvZiByLmNvbnN0cnVjdG9yLmlzQnVmZmVyPT0iZnVuY3Rpb24iJiZyLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHIpfWZ1bmN0aW9uIEhyKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgQXJyYXlCdWZmZXJdIn1mdW5jdGlvbiBlbyhyKXtyZXR1cm4gb2UuY2FsbChyKT09PSJbb2JqZWN0IEZvcm1EYXRhXSJ9ZnVuY3Rpb24gdG8ocil7dmFyIGU7cmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlcjwidSImJkFycmF5QnVmZmVyLmlzVmlldz9lPUFycmF5QnVmZmVyLmlzVmlldyhyKTplPXImJnIuYnVmZmVyJiZIcihyLmJ1ZmZlciksZX1mdW5jdGlvbiBybyhyKXtyZXR1cm4gdHlwZW9mIHI9PSJzdHJpbmcifWZ1bmN0aW9uIG5vKHIpe3JldHVybiB0eXBlb2Ygcj09Im51bWJlciJ9ZnVuY3Rpb24gVnIocil7cmV0dXJuIHIhPT1udWxsJiZ0eXBlb2Ygcj09Im9iamVjdCJ9ZnVuY3Rpb24gamUocil7aWYob2UuY2FsbChyKSE9PSJbb2JqZWN0IE9iamVjdF0iKXJldHVybiExO3ZhciBlPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtyZXR1cm4gZT09PW51bGx8fGU9PT1PYmplY3QucHJvdG90eXBlfWZ1bmN0aW9uIGlvKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgRGF0ZV0ifWZ1bmN0aW9uIG9vKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgRmlsZV0ifWZ1bmN0aW9uIHNvKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgQmxvYl0ifWZ1bmN0aW9uIFdyKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgRnVuY3Rpb25dIn1mdW5jdGlvbiBhbyhyKXtyZXR1cm4gVnIocikmJldyKHIucGlwZSl9ZnVuY3Rpb24gdW8ocil7cmV0dXJuIG9lLmNhbGwocik9PT0iW29iamVjdCBVUkxTZWFyY2hQYXJhbXNdIn1mdW5jdGlvbiBjbyhyKXtyZXR1cm4gci50cmltP3IudHJpbSgpOnIucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfWZ1bmN0aW9uIGZvKCl7cmV0dXJuIHR5cGVvZiBuYXZpZ2F0b3I8InUiJiYobmF2aWdhdG9yLnByb2R1Y3Q9PT0iUmVhY3ROYXRpdmUifHxuYXZpZ2F0b3IucHJvZHVjdD09PSJOYXRpdmVTY3JpcHQifHxuYXZpZ2F0b3IucHJvZHVjdD09PSJOUyIpPyExOnR5cGVvZiB3aW5kb3c8InUiJiZ0eXBlb2YgZG9jdW1lbnQ8InUifWZ1bmN0aW9uIEJ0KHIsZSl7aWYoIShyPT09bnVsbHx8dHlwZW9mIHI+InUiKSlpZih0eXBlb2YgciE9Im9iamVjdCImJihyPVtyXSksTnQocikpZm9yKHZhciB0PTAsbj1yLmxlbmd0aDt0PG47dCsrKWUuY2FsbChudWxsLHJbdF0sdCxyKTtlbHNlIGZvcih2YXIgaSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGkpJiZlLmNhbGwobnVsbCxyW2ldLGkscil9ZnVuY3Rpb24ga3QoKXt2YXIgcj17fTtmdW5jdGlvbiBlKGksbyl7amUocltvXSkmJmplKGkpP3Jbb109a3QocltvXSxpKTpqZShpKT9yW29dPWt0KHt9LGkpOk50KGkpP3Jbb109aS5zbGljZSgpOnJbb109aX1mb3IodmFyIHQ9MCxuPWFyZ3VtZW50cy5sZW5ndGg7dDxuO3QrKylCdChhcmd1bWVudHNbdF0sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbG8ocixlLHQpe3JldHVybiBCdChlLGZ1bmN0aW9uKGksbyl7dCYmdHlwZW9mIGk9PSJmdW5jdGlvbiI/cltvXT1KaShpLHQpOnJbb109aX0pLHJ9ZnVuY3Rpb24gbW8ocil7cmV0dXJuIHIuY2hhckNvZGVBdCgwKT09PTY1Mjc5JiYocj1yLnNsaWNlKDEpKSxyfXZhciBHPXtpc0FycmF5Ok50LGlzQXJyYXlCdWZmZXI6SHIsaXNCdWZmZXI6WmksaXNGb3JtRGF0YTplbyxpc0FycmF5QnVmZmVyVmlldzp0byxpc1N0cmluZzpybyxpc051bWJlcjpubyxpc09iamVjdDpWcixpc1BsYWluT2JqZWN0OmplLGlzVW5kZWZpbmVkOlV0LGlzRGF0ZTppbyxpc0ZpbGU6b28saXNCbG9iOnNvLGlzRnVuY3Rpb246V3IsaXNTdHJlYW06YW8saXNVUkxTZWFyY2hQYXJhbXM6dW8saXNTdGFuZGFyZEJyb3dzZXJFbnY6Zm8sZm9yRWFjaDpCdCxtZXJnZTprdCxleHRlbmQ6bG8sdHJpbTpjbyxzdHJpcEJPTTptb30sRWU9RztmdW5jdGlvbiBqcihyKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9nLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTIwL2csIisiKS5yZXBsYWNlKC8lNUIvZ2ksIlsiKS5yZXBsYWNlKC8lNUQvZ2ksIl0iKX12YXIgcXI9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0KXJldHVybiBlO3ZhciBpO2lmKG4paT1uKHQpO2Vsc2UgaWYoRWUuaXNVUkxTZWFyY2hQYXJhbXModCkpaT10LnRvU3RyaW5nKCk7ZWxzZXt2YXIgbz1bXTtFZS5mb3JFYWNoKHQsZnVuY3Rpb24odSxmKXt1PT09bnVsbHx8dHlwZW9mIHU+InUifHwoRWUuaXNBcnJheSh1KT9mPWYrIltdIjp1PVt1XSxFZS5mb3JFYWNoKHUsZnVuY3Rpb24oZCl7RWUuaXNEYXRlKGQpP2Q9ZC50b0lTT1N0cmluZygpOkVlLmlzT2JqZWN0KGQpJiYoZD1KU09OLnN0cmluZ2lmeShkKSksby5wdXNoKGpyKGYpKyI9IitqcihkKSl9KSl9KSxpPW8uam9pbigiJiIpfWlmKGkpe3ZhciBzPWUuaW5kZXhPZigiIyIpO3MhPT0tMSYmKGU9ZS5zbGljZSgwLHMpKSxlKz0oZS5pbmRleE9mKCI/Iik9PT0tMT8iPyI6IiYiKStpfXJldHVybiBlfSxobz1HO2Z1bmN0aW9uIHFlKCl7dGhpcy5oYW5kbGVycz1bXX1xZS5wcm90b3R5cGUudXNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5oYW5kbGVycy5wdXNoKHtmdWxmaWxsZWQ6ZSxyZWplY3RlZDp0LHN5bmNocm9ub3VzOm4/bi5zeW5jaHJvbm91czohMSxydW5XaGVuOm4/bi5ydW5XaGVuOm51bGx9KSx0aGlzLmhhbmRsZXJzLmxlbmd0aC0xfSxxZS5wcm90b3R5cGUuZWplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVyc1tlXSYmKHRoaXMuaGFuZGxlcnNbZV09bnVsbCl9LHFlLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2hvLmZvckVhY2godGhpcy5oYW5kbGVycyxmdW5jdGlvbihuKXtuIT09bnVsbCYmZShuKX0pfTt2YXIgcG89cWUseW89Ryxfbz1mdW5jdGlvbihlLHQpe3lvLmZvckVhY2goZSxmdW5jdGlvbihpLG8pe28hPT10JiZvLnRvVXBwZXJDYXNlKCk9PT10LnRvVXBwZXJDYXNlKCkmJihlW3RdPWksZGVsZXRlIGVbb10pfSl9LFhyPWZ1bmN0aW9uKGUsdCxuLGksbyl7cmV0dXJuIGUuY29uZmlnPXQsbiYmKGUuY29kZT1uKSxlLnJlcXVlc3Q9aSxlLnJlc3BvbnNlPW8sZS5pc0F4aW9zRXJyb3I9ITAsZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57bWVzc2FnZTp0aGlzLm1lc3NhZ2UsbmFtZTp0aGlzLm5hbWUsZGVzY3JpcHRpb246dGhpcy5kZXNjcmlwdGlvbixudW1iZXI6dGhpcy5udW1iZXIsZmlsZU5hbWU6dGhpcy5maWxlTmFtZSxsaW5lTnVtYmVyOnRoaXMubGluZU51bWJlcixjb2x1bW5OdW1iZXI6dGhpcy5jb2x1bW5OdW1iZXIsc3RhY2s6dGhpcy5zdGFjayxjb25maWc6dGhpcy5jb25maWcsY29kZTp0aGlzLmNvZGUsc3RhdHVzOnRoaXMucmVzcG9uc2UmJnRoaXMucmVzcG9uc2Uuc3RhdHVzP3RoaXMucmVzcG9uc2Uuc3RhdHVzOm51bGx9fSxlfSx4bz1YcixZcj1mdW5jdGlvbihlLHQsbixpLG8pe3ZhciBzPW5ldyBFcnJvcihlKTtyZXR1cm4geG8ocyx0LG4saSxvKX0sZ289WXIsYm89ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4uY29uZmlnLnZhbGlkYXRlU3RhdHVzOyFuLnN0YXR1c3x8IWl8fGkobi5zdGF0dXMpP2Uobik6dChnbygiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAiK24uc3RhdHVzLG4uY29uZmlnLG51bGwsbi5yZXF1ZXN0LG4pKX0sWGU9Ryx2bz1YZS5pc1N0YW5kYXJkQnJvd3NlckVudigpP2Z1bmN0aW9uKCl7cmV0dXJue3dyaXRlOmZ1bmN0aW9uKHQsbixpLG8scyxhKXt2YXIgdT1bXTt1LnB1c2godCsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxYZS5pc051bWJlcihpKSYmdS5wdXNoKCJleHBpcmVzPSIrbmV3IERhdGUoaSkudG9HTVRTdHJpbmcoKSksWGUuaXNTdHJpbmcobykmJnUucHVzaCgicGF0aD0iK28pLFhlLmlzU3RyaW5nKHMpJiZ1LnB1c2goImRvbWFpbj0iK3MpLGE9PT0hMCYmdS5wdXNoKCJzZWN1cmUiKSxkb2N1bWVudC5jb29raWU9dS5qb2luKCI7ICIpfSxyZWFkOmZ1bmN0aW9uKHQpe3ZhciBuPWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCIoXnw7XFxzKikoIit0KyIpPShbXjtdKikiKSk7cmV0dXJuIG4/ZGVjb2RlVVJJQ29tcG9uZW50KG5bM10pOm51bGx9LHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLndyaXRlKHQsIiIsRGF0ZS5ub3coKS04NjRlNSl9fX0oKTpmdW5jdGlvbigpe3JldHVybnt3cml0ZTpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXt9fX0oKSxFbz1mdW5jdGlvbihlKXtyZXR1cm4vXihbYS16XVthLXpcZCtcLS5dKjopP1wvXC8vaS50ZXN0KGUpfSxUbz1mdW5jdGlvbihlLHQpe3JldHVybiB0P2UucmVwbGFjZSgvXC8rJC8sIiIpKyIvIit0LnJlcGxhY2UoL15cLysvLCIiKTplfSxBbz1Fbyx3bz1UbyxSbz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiYhQW8odCk/d28oZSx0KTp0fSxMdD1HLFNvPVsiYWdlIiwiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtbGVuZ3RoIiwiY29udGVudC10eXBlIiwiZXRhZyIsImV4cGlyZXMiLCJmcm9tIiwiaG9zdCIsImlmLW1vZGlmaWVkLXNpbmNlIiwiaWYtdW5tb2RpZmllZC1zaW5jZSIsImxhc3QtbW9kaWZpZWQiLCJsb2NhdGlvbiIsIm1heC1mb3J3YXJkcyIsInByb3h5LWF1dGhvcml6YXRpb24iLCJyZWZlcmVyIiwicmV0cnktYWZ0ZXIiLCJ1c2VyLWFnZW50Il0sSW89ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbixpLG87cmV0dXJuIGUmJkx0LmZvckVhY2goZS5zcGxpdChgCmApLGZ1bmN0aW9uKGEpe2lmKG89YS5pbmRleE9mKCI6Iiksbj1MdC50cmltKGEuc3Vic3RyKDAsbykpLnRvTG93ZXJDYXNlKCksaT1MdC50cmltKGEuc3Vic3RyKG8rMSkpLG4pe2lmKHRbbl0mJlNvLmluZGV4T2Yobik+PTApcmV0dXJuO249PT0ic2V0LWNvb2tpZSI/dFtuXT0odFtuXT90W25dOltdKS5jb25jYXQoW2ldKTp0W25dPXRbbl0/dFtuXSsiLCAiK2k6aX19KSx0fSxRcj1HLEZvPVFyLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/ZnVuY3Rpb24oKXt2YXIgZT0vKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLG47ZnVuY3Rpb24gaShvKXt2YXIgcz1vO3JldHVybiBlJiYodC5zZXRBdHRyaWJ1dGUoImhyZWYiLHMpLHM9dC5ocmVmKSx0LnNldEF0dHJpYnV0ZSgiaHJlZiIscykse2hyZWY6dC5ocmVmLHByb3RvY29sOnQucHJvdG9jb2w/dC5wcm90b2NvbC5yZXBsYWNlKC86JC8sIiIpOiIiLGhvc3Q6dC5ob3N0LHNlYXJjaDp0LnNlYXJjaD90LnNlYXJjaC5yZXBsYWNlKC9eXD8vLCIiKToiIixoYXNoOnQuaGFzaD90Lmhhc2gucmVwbGFjZSgvXiMvLCIiKToiIixob3N0bmFtZTp0Lmhvc3RuYW1lLHBvcnQ6dC5wb3J0LHBhdGhuYW1lOnQucGF0aG5hbWUuY2hhckF0KDApPT09Ii8iP3QucGF0aG5hbWU6Ii8iK3QucGF0aG5hbWV9fXJldHVybiBuPWkod2luZG93LmxvY2F0aW9uLmhyZWYpLGZ1bmN0aW9uKHMpe3ZhciBhPVFyLmlzU3RyaW5nKHMpP2kocyk6cztyZXR1cm4gYS5wcm90b2NvbD09PW4ucHJvdG9jb2wmJmEuaG9zdD09PW4uaG9zdH19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMH19KCk7ZnVuY3Rpb24gJHQocil7dGhpcy5tZXNzYWdlPXJ9JHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkNhbmNlbCIrKHRoaXMubWVzc2FnZT8iOiAiK3RoaXMubWVzc2FnZToiIil9LCR0LnByb3RvdHlwZS5fX0NBTkNFTF9fPSEwO3ZhciBZZT0kdCxRZT1HLFBvPWJvLERvPXZvLE1vPXFyLENvPVJvLE9vPUlvLE5vPUZvLEd0PVlyLFVvPUplLEJvPVllLEtyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLGkpe3ZhciBvPWUuZGF0YSxzPWUuaGVhZGVycyxhPWUucmVzcG9uc2VUeXBlLHU7ZnVuY3Rpb24gZigpe2UuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUodSksZS5zaWduYWwmJmUuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0Iix1KX1RZS5pc0Zvcm1EYXRhKG8pJiZkZWxldGUgc1siQ29udGVudC1UeXBlIl07dmFyIGM9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGUuYXV0aCl7dmFyIGQ9ZS5hdXRoLnVzZXJuYW1lfHwiIix5PWUuYXV0aC5wYXNzd29yZD91bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZS5hdXRoLnBhc3N3b3JkKSk6IiI7cy5BdXRob3JpemF0aW9uPSJCYXNpYyAiK2J0b2EoZCsiOiIreSl9dmFyIF89Q28oZS5iYXNlVVJMLGUudXJsKTtjLm9wZW4oZS5tZXRob2QudG9VcHBlckNhc2UoKSxNbyhfLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplciksITApLGMudGltZW91dD1lLnRpbWVvdXQ7ZnVuY3Rpb24gbSgpe2lmKCEhYyl7dmFyIHY9ImdldEFsbFJlc3BvbnNlSGVhZGVycyJpbiBjP09vKGMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpOm51bGwsYj0hYXx8YT09PSJ0ZXh0Inx8YT09PSJqc29uIj9jLnJlc3BvbnNlVGV4dDpjLnJlc3BvbnNlLEE9e2RhdGE6YixzdGF0dXM6Yy5zdGF0dXMsc3RhdHVzVGV4dDpjLnN0YXR1c1RleHQsaGVhZGVyczp2LGNvbmZpZzplLHJlcXVlc3Q6Y307UG8oZnVuY3Rpb24oQyl7bihDKSxmKCl9LGZ1bmN0aW9uKEMpe2koQyksZigpfSxBKSxjPW51bGx9fWlmKCJvbmxvYWRlbmQiaW4gYz9jLm9ubG9hZGVuZD1tOmMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7IWN8fGMucmVhZHlTdGF0ZSE9PTR8fGMuc3RhdHVzPT09MCYmIShjLnJlc3BvbnNlVVJMJiZjLnJlc3BvbnNlVVJMLmluZGV4T2YoImZpbGU6Iik9PT0wKXx8c2V0VGltZW91dChtKX0sYy5vbmFib3J0PWZ1bmN0aW9uKCl7IWN8fChpKEd0KCJSZXF1ZXN0IGFib3J0ZWQiLGUsIkVDT05OQUJPUlRFRCIsYykpLGM9bnVsbCl9LGMub25lcnJvcj1mdW5jdGlvbigpe2koR3QoIk5ldHdvcmsgRXJyb3IiLGUsbnVsbCxjKSksYz1udWxsfSxjLm9udGltZW91dD1mdW5jdGlvbigpe3ZhciBiPWUudGltZW91dD8idGltZW91dCBvZiAiK2UudGltZW91dCsibXMgZXhjZWVkZWQiOiJ0aW1lb3V0IGV4Y2VlZGVkIixBPWUudHJhbnNpdGlvbmFsfHxVby50cmFuc2l0aW9uYWw7ZS50aW1lb3V0RXJyb3JNZXNzYWdlJiYoYj1lLnRpbWVvdXRFcnJvck1lc3NhZ2UpLGkoR3QoYixlLEEuY2xhcmlmeVRpbWVvdXRFcnJvcj8iRVRJTUVET1VUIjoiRUNPTk5BQk9SVEVEIixjKSksYz1udWxsfSxRZS5pc1N0YW5kYXJkQnJvd3NlckVudigpKXt2YXIgeD0oZS53aXRoQ3JlZGVudGlhbHN8fE5vKF8pKSYmZS54c3JmQ29va2llTmFtZT9Eby5yZWFkKGUueHNyZkNvb2tpZU5hbWUpOnZvaWQgMDt4JiYoc1tlLnhzcmZIZWFkZXJOYW1lXT14KX0ic2V0UmVxdWVzdEhlYWRlciJpbiBjJiZRZS5mb3JFYWNoKHMsZnVuY3Rpb24oYixBKXt0eXBlb2Ygbz4idSImJkEudG9Mb3dlckNhc2UoKT09PSJjb250ZW50LXR5cGUiP2RlbGV0ZSBzW0FdOmMuc2V0UmVxdWVzdEhlYWRlcihBLGIpfSksUWUuaXNVbmRlZmluZWQoZS53aXRoQ3JlZGVudGlhbHMpfHwoYy53aXRoQ3JlZGVudGlhbHM9ISFlLndpdGhDcmVkZW50aWFscyksYSYmYSE9PSJqc29uIiYmKGMucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlKSx0eXBlb2YgZS5vbkRvd25sb2FkUHJvZ3Jlc3M9PSJmdW5jdGlvbiImJmMuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLGUub25Eb3dubG9hZFByb2dyZXNzKSx0eXBlb2YgZS5vblVwbG9hZFByb2dyZXNzPT0iZnVuY3Rpb24iJiZjLnVwbG9hZCYmYy51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLGUub25VcGxvYWRQcm9ncmVzcyksKGUuY2FuY2VsVG9rZW58fGUuc2lnbmFsKSYmKHU9ZnVuY3Rpb24odil7IWN8fChpKCF2fHx2JiZ2LnR5cGU/bmV3IEJvKCJjYW5jZWxlZCIpOnYpLGMuYWJvcnQoKSxjPW51bGwpfSxlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnN1YnNjcmliZSh1KSxlLnNpZ25hbCYmKGUuc2lnbmFsLmFib3J0ZWQ/dSgpOmUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0Iix1KSkpLG98fChvPW51bGwpLGMuc2VuZChvKX0pfSxPPUcsSnI9X28sa289WHIsTG89eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQifTtmdW5jdGlvbiBacihyLGUpeyFPLmlzVW5kZWZpbmVkKHIpJiZPLmlzVW5kZWZpbmVkKHJbIkNvbnRlbnQtVHlwZSJdKSYmKHJbIkNvbnRlbnQtVHlwZSJdPWUpfWZ1bmN0aW9uICRvKCl7dmFyIHI7cmV0dXJuKHR5cGVvZiBYTUxIdHRwUmVxdWVzdDwidSJ8fHR5cGVvZiBwcm9jZXNzPCJ1IiYmT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb2Nlc3MpPT09IltvYmplY3QgcHJvY2Vzc10iKSYmKHI9S3IpLHJ9ZnVuY3Rpb24gR28ocixlLHQpe2lmKE8uaXNTdHJpbmcocikpdHJ5e3JldHVybihlfHxKU09OLnBhcnNlKShyKSxPLnRyaW0ocil9Y2F0Y2gobil7aWYobi5uYW1lIT09IlN5bnRheEVycm9yIil0aHJvdyBufXJldHVybih0fHxKU09OLnN0cmluZ2lmeSkocil9dmFyIEtlPXt0cmFuc2l0aW9uYWw6e3NpbGVudEpTT05QYXJzaW5nOiEwLGZvcmNlZEpTT05QYXJzaW5nOiEwLGNsYXJpZnlUaW1lb3V0RXJyb3I6ITF9LGFkYXB0ZXI6JG8oKSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihlLHQpe3JldHVybiBKcih0LCJBY2NlcHQiKSxKcih0LCJDb250ZW50LVR5cGUiKSxPLmlzRm9ybURhdGEoZSl8fE8uaXNBcnJheUJ1ZmZlcihlKXx8Ty5pc0J1ZmZlcihlKXx8Ty5pc1N0cmVhbShlKXx8Ty5pc0ZpbGUoZSl8fE8uaXNCbG9iKGUpP2U6Ty5pc0FycmF5QnVmZmVyVmlldyhlKT9lLmJ1ZmZlcjpPLmlzVVJMU2VhcmNoUGFyYW1zKGUpPyhacih0LCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCIpLGUudG9TdHJpbmcoKSk6Ty5pc09iamVjdChlKXx8dCYmdFsiQ29udGVudC1UeXBlIl09PT0iYXBwbGljYXRpb24vanNvbiI/KFpyKHQsImFwcGxpY2F0aW9uL2pzb24iKSxHbyhlKSk6ZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zaXRpb25hbHx8S2UudHJhbnNpdGlvbmFsLG49dCYmdC5zaWxlbnRKU09OUGFyc2luZyxpPXQmJnQuZm9yY2VkSlNPTlBhcnNpbmcsbz0hbiYmdGhpcy5yZXNwb25zZVR5cGU9PT0ianNvbiI7aWYob3x8aSYmTy5pc1N0cmluZyhlKSYmZS5sZW5ndGgpdHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKHMpe2lmKG8pdGhyb3cgcy5uYW1lPT09IlN5bnRheEVycm9yIj9rbyhzLHRoaXMsIkVfSlNPTl9QQVJTRSIpOnN9cmV0dXJuIGV9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6IlhTUkYtVE9LRU4iLHhzcmZIZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4iLG1heENvbnRlbnRMZW5ndGg6LTEsbWF4Qm9keUxlbmd0aDotMSx2YWxpZGF0ZVN0YXR1czpmdW5jdGlvbihlKXtyZXR1cm4gZT49MjAwJiZlPDMwMH0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiJ9fX07Ty5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCJdLGZ1bmN0aW9uKGUpe0tlLmhlYWRlcnNbZV09e319KSxPLmZvckVhY2goWyJwb3N0IiwicHV0IiwicGF0Y2giXSxmdW5jdGlvbihlKXtLZS5oZWFkZXJzW2VdPU8ubWVyZ2UoTG8pfSk7dmFyIEplPUtlLHpvPUcsSG89SmUsVm89ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXN8fEhvO3JldHVybiB6by5mb3JFYWNoKG4sZnVuY3Rpb24ocyl7ZT1zLmNhbGwoaSxlLHQpfSksZX0sZW49ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5fX0NBTkNFTF9fKX0sdG49Ryx6dD1WbyxXbz1lbixqbz1KZSxxbz1ZZTtmdW5jdGlvbiBIdChyKXtpZihyLmNhbmNlbFRva2VuJiZyLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKSxyLnNpZ25hbCYmci5zaWduYWwuYWJvcnRlZCl0aHJvdyBuZXcgcW8oImNhbmNlbGVkIil9dmFyIFhvPWZ1bmN0aW9uKGUpe0h0KGUpLGUuaGVhZGVycz1lLmhlYWRlcnN8fHt9LGUuZGF0YT16dC5jYWxsKGUsZS5kYXRhLGUuaGVhZGVycyxlLnRyYW5zZm9ybVJlcXVlc3QpLGUuaGVhZGVycz10bi5tZXJnZShlLmhlYWRlcnMuY29tbW9ufHx7fSxlLmhlYWRlcnNbZS5tZXRob2RdfHx7fSxlLmhlYWRlcnMpLHRuLmZvckVhY2goWyJkZWxldGUiLCJnZXQiLCJoZWFkIiwicG9zdCIsInB1dCIsInBhdGNoIiwiY29tbW9uIl0sZnVuY3Rpb24oaSl7ZGVsZXRlIGUuaGVhZGVyc1tpXX0pO3ZhciB0PWUuYWRhcHRlcnx8am8uYWRhcHRlcjtyZXR1cm4gdChlKS50aGVuKGZ1bmN0aW9uKGkpe3JldHVybiBIdChlKSxpLmRhdGE9enQuY2FsbChlLGkuZGF0YSxpLmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSksaX0sZnVuY3Rpb24oaSl7cmV0dXJuIFdvKGkpfHwoSHQoZSksaSYmaS5yZXNwb25zZSYmKGkucmVzcG9uc2UuZGF0YT16dC5jYWxsKGUsaS5yZXNwb25zZS5kYXRhLGkucmVzcG9uc2UuaGVhZGVycyxlLnRyYW5zZm9ybVJlc3BvbnNlKSkpLFByb21pc2UucmVqZWN0KGkpfSl9LHo9Ryxybj1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49e307ZnVuY3Rpb24gaShjLGQpe3JldHVybiB6LmlzUGxhaW5PYmplY3QoYykmJnouaXNQbGFpbk9iamVjdChkKT96Lm1lcmdlKGMsZCk6ei5pc1BsYWluT2JqZWN0KGQpP3oubWVyZ2Uoe30sZCk6ei5pc0FycmF5KGQpP2Quc2xpY2UoKTpkfWZ1bmN0aW9uIG8oYyl7aWYoei5pc1VuZGVmaW5lZCh0W2NdKSl7aWYoIXouaXNVbmRlZmluZWQoZVtjXSkpcmV0dXJuIGkodm9pZCAwLGVbY10pfWVsc2UgcmV0dXJuIGkoZVtjXSx0W2NdKX1mdW5jdGlvbiBzKGMpe2lmKCF6LmlzVW5kZWZpbmVkKHRbY10pKXJldHVybiBpKHZvaWQgMCx0W2NdKX1mdW5jdGlvbiBhKGMpe2lmKHouaXNVbmRlZmluZWQodFtjXSkpe2lmKCF6LmlzVW5kZWZpbmVkKGVbY10pKXJldHVybiBpKHZvaWQgMCxlW2NdKX1lbHNlIHJldHVybiBpKHZvaWQgMCx0W2NdKX1mdW5jdGlvbiB1KGMpe2lmKGMgaW4gdClyZXR1cm4gaShlW2NdLHRbY10pO2lmKGMgaW4gZSlyZXR1cm4gaSh2b2lkIDAsZVtjXSl9dmFyIGY9e3VybDpzLG1ldGhvZDpzLGRhdGE6cyxiYXNlVVJMOmEsdHJhbnNmb3JtUmVxdWVzdDphLHRyYW5zZm9ybVJlc3BvbnNlOmEscGFyYW1zU2VyaWFsaXplcjphLHRpbWVvdXQ6YSx0aW1lb3V0TWVzc2FnZTphLHdpdGhDcmVkZW50aWFsczphLGFkYXB0ZXI6YSxyZXNwb25zZVR5cGU6YSx4c3JmQ29va2llTmFtZTphLHhzcmZIZWFkZXJOYW1lOmEsb25VcGxvYWRQcm9ncmVzczphLG9uRG93bmxvYWRQcm9ncmVzczphLGRlY29tcHJlc3M6YSxtYXhDb250ZW50TGVuZ3RoOmEsbWF4Qm9keUxlbmd0aDphLHRyYW5zcG9ydDphLGh0dHBBZ2VudDphLGh0dHBzQWdlbnQ6YSxjYW5jZWxUb2tlbjphLHNvY2tldFBhdGg6YSxyZXNwb25zZUVuY29kaW5nOmEsdmFsaWRhdGVTdGF0dXM6dX07cmV0dXJuIHouZm9yRWFjaChPYmplY3Qua2V5cyhlKS5jb25jYXQoT2JqZWN0LmtleXModCkpLGZ1bmN0aW9uKGQpe3ZhciB5PWZbZF18fG8sXz15KGQpO3ouaXNVbmRlZmluZWQoXykmJnkhPT11fHwobltkXT1fKX0pLG59LG5uPXt2ZXJzaW9uOiIwLjI1LjAifSxZbz1ubi52ZXJzaW9uLFZ0PXt9O1sib2JqZWN0IiwiYm9vbGVhbiIsIm51bWJlciIsImZ1bmN0aW9uIiwic3RyaW5nIiwic3ltYm9sIl0uZm9yRWFjaChmdW5jdGlvbihyLGUpe1Z0W3JdPWZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09PXJ8fCJhIisoZTwxPyJuICI6IiAiKStyfX0pO3ZhciBvbj17fTtWdC50cmFuc2l0aW9uYWw9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGkobyxzKXtyZXR1cm4iW0F4aW9zIHYiK1lvKyJdIFRyYW5zaXRpb25hbCBvcHRpb24gJyIrbysiJyIrcysobj8iLiAiK246IiIpfXJldHVybiBmdW5jdGlvbihvLHMsYSl7aWYoZT09PSExKXRocm93IG5ldyBFcnJvcihpKHMsIiBoYXMgYmVlbiByZW1vdmVkIisodD8iIGluICIrdDoiIikpKTtyZXR1cm4gdCYmIW9uW3NdJiYob25bc109ITAsY29uc29sZS53YXJuKGkocywiIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdiIrdCsiIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlIikpKSxlP2UobyxzLGEpOiEwfX07ZnVuY3Rpb24gUW8ocixlLHQpe2lmKHR5cGVvZiByIT0ib2JqZWN0Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iik7Zm9yKHZhciBuPU9iamVjdC5rZXlzKHIpLGk9bi5sZW5ndGg7aS0tID4wOyl7dmFyIG89bltpXSxzPWVbb107aWYocyl7dmFyIGE9cltvXSx1PWE9PT12b2lkIDB8fHMoYSxvLHIpO2lmKHUhPT0hMCl0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb24gIitvKyIgbXVzdCBiZSAiK3UpO2NvbnRpbnVlfWlmKHQhPT0hMCl0aHJvdyBFcnJvcigiVW5rbm93biBvcHRpb24gIitvKX19dmFyIEtvPXthc3NlcnRPcHRpb25zOlFvLHZhbGlkYXRvcnM6VnR9LHNuPUcsSm89cXIsYW49cG8sdW49WG8sWmU9cm4sY249S28sVGU9Y24udmFsaWRhdG9ycztmdW5jdGlvbiBNZShyKXt0aGlzLmRlZmF1bHRzPXIsdGhpcy5pbnRlcmNlcHRvcnM9e3JlcXVlc3Q6bmV3IGFuLHJlc3BvbnNlOm5ldyBhbn19TWUucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgZT09InN0cmluZyI/KHQ9dHx8e30sdC51cmw9ZSk6dD1lfHx7fSwhdC51cmwpdGhyb3cgbmV3IEVycm9yKCJQcm92aWRlZCBjb25maWcgdXJsIGlzIG5vdCB2YWxpZCIpO3Q9WmUodGhpcy5kZWZhdWx0cyx0KSx0Lm1ldGhvZD90Lm1ldGhvZD10Lm1ldGhvZC50b0xvd2VyQ2FzZSgpOnRoaXMuZGVmYXVsdHMubWV0aG9kP3QubWV0aG9kPXRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk6dC5tZXRob2Q9ImdldCI7dmFyIG49dC50cmFuc2l0aW9uYWw7biE9PXZvaWQgMCYmY24uYXNzZXJ0T3B0aW9ucyhuLHtzaWxlbnRKU09OUGFyc2luZzpUZS50cmFuc2l0aW9uYWwoVGUuYm9vbGVhbiksZm9yY2VkSlNPTlBhcnNpbmc6VGUudHJhbnNpdGlvbmFsKFRlLmJvb2xlYW4pLGNsYXJpZnlUaW1lb3V0RXJyb3I6VGUudHJhbnNpdGlvbmFsKFRlLmJvb2xlYW4pfSwhMSk7dmFyIGk9W10sbz0hMDt0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24oXyl7dHlwZW9mIF8ucnVuV2hlbj09ImZ1bmN0aW9uIiYmXy5ydW5XaGVuKHQpPT09ITF8fChvPW8mJl8uc3luY2hyb25vdXMsaS51bnNoaWZ0KF8uZnVsZmlsbGVkLF8ucmVqZWN0ZWQpKX0pO3ZhciBzPVtdO3RoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24oXyl7cy5wdXNoKF8uZnVsZmlsbGVkLF8ucmVqZWN0ZWQpfSk7dmFyIGE7aWYoIW8pe3ZhciB1PVt1bix2b2lkIDBdO2ZvcihBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseSh1LGkpLHU9dS5jb25jYXQocyksYT1Qcm9taXNlLnJlc29sdmUodCk7dS5sZW5ndGg7KWE9YS50aGVuKHUuc2hpZnQoKSx1LnNoaWZ0KCkpO3JldHVybiBhfWZvcih2YXIgZj10O2kubGVuZ3RoOyl7dmFyIGM9aS5zaGlmdCgpLGQ9aS5zaGlmdCgpO3RyeXtmPWMoZil9Y2F0Y2goeSl7ZCh5KTticmVha319dHJ5e2E9dW4oZil9Y2F0Y2goeSl7cmV0dXJuIFByb21pc2UucmVqZWN0KHkpfWZvcig7cy5sZW5ndGg7KWE9YS50aGVuKHMuc2hpZnQoKSxzLnNoaWZ0KCkpO3JldHVybiBhfSxNZS5wcm90b3R5cGUuZ2V0VXJpPWZ1bmN0aW9uKGUpe2lmKCFlLnVybCl0aHJvdyBuZXcgRXJyb3IoIlByb3ZpZGVkIGNvbmZpZyB1cmwgaXMgbm90IHZhbGlkIik7cmV0dXJuIGU9WmUodGhpcy5kZWZhdWx0cyxlKSxKbyhlLnVybCxlLnBhcmFtcyxlLnBhcmFtc1NlcmlhbGl6ZXIpLnJlcGxhY2UoL15cPy8sIiIpfSxzbi5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCIsIm9wdGlvbnMiXSxmdW5jdGlvbihlKXtNZS5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KFplKG58fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOihufHx7fSkuZGF0YX0pKX19KSxzbi5mb3JFYWNoKFsicG9zdCIsInB1dCIsInBhdGNoIl0sZnVuY3Rpb24oZSl7TWUucHJvdG90eXBlW2VdPWZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KFplKGl8fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOm59KSl9fSk7dmFyIFpvPU1lLGVzPVllO2Z1bmN0aW9uIEFlKHIpe2lmKHR5cGVvZiByIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoImV4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4iKTt2YXIgZTt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24oaSl7ZT1pfSk7dmFyIHQ9dGhpczt0aGlzLnByb21pc2UudGhlbihmdW5jdGlvbihuKXtpZighIXQuX2xpc3RlbmVycyl7dmFyIGksbz10Ll9saXN0ZW5lcnMubGVuZ3RoO2ZvcihpPTA7aTxvO2krKyl0Ll9saXN0ZW5lcnNbaV0obik7dC5fbGlzdGVuZXJzPW51bGx9fSksdGhpcy5wcm9taXNlLnRoZW49ZnVuY3Rpb24obil7dmFyIGksbz1uZXcgUHJvbWlzZShmdW5jdGlvbihzKXt0LnN1YnNjcmliZShzKSxpPXN9KS50aGVuKG4pO3JldHVybiBvLmNhbmNlbD1mdW5jdGlvbigpe3QudW5zdWJzY3JpYmUoaSl9LG99LHIoZnVuY3Rpb24oaSl7dC5yZWFzb258fCh0LnJlYXNvbj1uZXcgZXMoaSksZSh0LnJlYXNvbikpfSl9QWUucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJlYXNvbil0aHJvdyB0aGlzLnJlYXNvbn0sQWUucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlKXtpZih0aGlzLnJlYXNvbil7ZSh0aGlzLnJlYXNvbik7cmV0dXJufXRoaXMuX2xpc3RlbmVycz90aGlzLl9saXN0ZW5lcnMucHVzaChlKTp0aGlzLl9saXN0ZW5lcnM9W2VdfSxBZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7aWYoISF0aGlzLl9saXN0ZW5lcnMpe3ZhciB0PXRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGUpO3QhPT0tMSYmdGhpcy5fbGlzdGVuZXJzLnNwbGljZSh0LDEpfX0sQWUuc291cmNlPWZ1bmN0aW9uKCl7dmFyIGUsdD1uZXcgQWUoZnVuY3Rpb24oaSl7ZT1pfSk7cmV0dXJue3Rva2VuOnQsY2FuY2VsOmV9fTt2YXIgdHM9QWUscnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlLmFwcGx5KG51bGwsbil9fSxucz1HLGlzPWZ1bmN0aW9uKGUpe3JldHVybiBucy5pc09iamVjdChlKSYmZS5pc0F4aW9zRXJyb3I9PT0hMH0sZm49Ryxvcz16cixldD1abyxzcz1ybixhcz1KZTtmdW5jdGlvbiBsbihyKXt2YXIgZT1uZXcgZXQociksdD1vcyhldC5wcm90b3R5cGUucmVxdWVzdCxlKTtyZXR1cm4gZm4uZXh0ZW5kKHQsZXQucHJvdG90eXBlLGUpLGZuLmV4dGVuZCh0LGUpLHQuY3JlYXRlPWZ1bmN0aW9uKGkpe3JldHVybiBsbihzcyhyLGkpKX0sdH12YXIgSj1sbihhcyk7Si5BeGlvcz1ldCxKLkNhbmNlbD1ZZSxKLkNhbmNlbFRva2VuPXRzLEouaXNDYW5jZWw9ZW4sSi5WRVJTSU9OPW5uLnZlcnNpb24sSi5hbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UuYWxsKGUpfSxKLnNwcmVhZD1ycyxKLmlzQXhpb3NFcnJvcj1pcyxPdC5leHBvcnRzPUosT3QuZXhwb3J0cy5kZWZhdWx0PUo7dmFyIHVzPU90LmV4cG9ydHM7Y2xhc3MgVHtpc0VtcHR5KCl7cmV0dXJuIXRoaXMuaXNQcmVzZW50KCl9c3RhdGljIG9mKGUpe2lmKGUhPW51bGwpcmV0dXJuIG5ldyBkbihlKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgcGFzc2VkIHZhbHVlIHdhcyBudWxsIG9yIHVuZGVmaW5lZC4iKX1zdGF0aWMgb2ZOb25OdWxsKGUpe3JldHVybiBULm9mKGUpfXN0YXRpYyBvZk51bGxhYmxlKGUpe3JldHVybiBlIT1udWxsP25ldyBkbihlKTpuZXcgbW59c3RhdGljIGVtcHR5KCl7cmV0dXJuIG5ldyBtbn1zdGF0aWMgZnJvbShlKXtzd2l0Y2goZS5raW5kKXtjYXNlInByZXNlbnQiOnJldHVybiBULm9mKGUudmFsdWUpO2Nhc2UiZW1wdHkiOnJldHVybiBULmVtcHR5KCk7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgcGFzc2VkIHZhbHVlIHdhcyBub3QgYW4gT3B0aW9uIHR5cGUuIil9fX1jbGFzcyBkbiBleHRlbmRzIFR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnBheWxvYWQ9ZX1pc1ByZXNlbnQoKXtyZXR1cm4hMH1nZXQoKXtyZXR1cm4gdGhpcy5wYXlsb2FkfWlmUHJlc2VudChlKXtlKHRoaXMucGF5bG9hZCl9aWZQcmVzZW50T3JFbHNlKGUsdCl7ZSh0aGlzLnBheWxvYWQpfWZpbHRlcihlKXtyZXR1cm4gZSh0aGlzLnBheWxvYWQpP3RoaXM6VC5lbXB0eSgpfW1hcChlKXtjb25zdCB0PWUodGhpcy5wYXlsb2FkKTtyZXR1cm4gVC5vZk51bGxhYmxlKHQpfWZsYXRNYXAoZSl7cmV0dXJuIGUodGhpcy5wYXlsb2FkKX1vcihlKXtyZXR1cm4gdGhpc31vckVsc2UoZSl7cmV0dXJuIHRoaXMucGF5bG9hZH1vckVsc2VHZXQoZSl7cmV0dXJuIHRoaXMucGF5bG9hZH1vckVsc2VUaHJvdyhlKXtyZXR1cm4gdGhpcy5wYXlsb2FkfW9yTnVsbCgpe3JldHVybiB0aGlzLnBheWxvYWR9b3JVbmRlZmluZWQoKXtyZXR1cm4gdGhpcy5wYXlsb2FkfXRvT3B0aW9uKCl7cmV0dXJue2tpbmQ6InByZXNlbnQiLHZhbHVlOnRoaXMucGF5bG9hZH19bWF0Y2hlcyhlKXtyZXR1cm4gZS5wcmVzZW50KHRoaXMucGF5bG9hZCl9dG9KU09OKGUpe3JldHVybiB0aGlzLnBheWxvYWR9fWNsYXNzIG1uIGV4dGVuZHMgVHtpc1ByZXNlbnQoKXtyZXR1cm4hMX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCl9Z2V0KCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIG9wdGlvbmFsIGlzIG5vdCBwcmVzZW50LiIpfWlmUHJlc2VudChlKXt9aWZQcmVzZW50T3JFbHNlKGUsdCl7dCgpfWZpbHRlcihlKXtyZXR1cm4gdGhpc31tYXAoZSl7cmV0dXJuIFQuZW1wdHkoKX1mbGF0TWFwKGUpe3JldHVybiBULmVtcHR5KCl9b3IoZSl7cmV0dXJuIGUoKX1vckVsc2UoZSl7cmV0dXJuIGV9b3JFbHNlR2V0KGUpe3JldHVybiB0aGlzLm9yRWxzZShlKCkpfW9yRWxzZVRocm93KGUpe3Rocm93IGUoKX1vck51bGwoKXtyZXR1cm4gbnVsbH1vclVuZGVmaW5lZCgpe310b09wdGlvbigpe3JldHVybntraW5kOiJlbXB0eSJ9fW1hdGNoZXMoZSl7cmV0dXJuIGUuZW1wdHkoKX10b0pTT04oZSl7cmV0dXJuIG51bGx9fWNvbnN0IGNzPSIyLjAuMCI7ZnVuY3Rpb24gZnMocil7Z2xvYmFsVGhpcy5fdm9uYWdlTWVkaWFQcm9jZXNzb3JNZXRhZGF0YT1yfWZ1bmN0aW9uIGxzKCl7cmV0dXJuIGdsb2JhbFRoaXMuX3ZvbmFnZU1lZGlhUHJvY2Vzc29yTWV0YWRhdGF9Y2xhc3MgSHtjb25zdHJ1Y3Rvcigpe2NvbnN0IGU9bHMoKTt0aGlzLl9yZXBvcnQ9e2FjdGlvbjpULmVtcHR5KCksYXBwbGljYXRpb25JZDpULm9mTnVsbGFibGUoZSE9PXZvaWQgMCYmZSE9bnVsbD9lLmFwcElkOm51bGwpLHRpbWVzdGFtcDpEYXRlLm5vdygpLGZwczpULmVtcHR5KCksZnJhbWVzVHJhbnNmb3JtZWQ6VC5lbXB0eSgpLGd1aWQ6VC5lbXB0eSgpLGhpZ2hlc3RGcmFtZVRyYW5zZm9ybUNwdTpULmVtcHR5KCksbWVzc2FnZTpULmVtcHR5KCksc291cmNlOlQub2ZOdWxsYWJsZShlIT09dm9pZCAwJiZlIT1udWxsP2Uuc291cmNlVHlwZTpudWxsKSx0cmFuc2Zvcm1lZEZwczpULmVtcHR5KCksdHJhbnNmb3JtZXJUeXBlOlQuZW1wdHkoKSx2YXJpYXRpb246VC5lbXB0eSgpLHZpZGVvSGVpZ2h0OlQuZW1wdHkoKSx2aWRlb1dpZHRoOlQuZW1wdHkoKSx2ZXJzaW9uOmNzLGVycm9yOlQuZW1wdHkoKSxwcm94eVVybDpULm9mTnVsbGFibGUoZSE9PXZvaWQgMCYmZSE9bnVsbD9lLnByb3h5VXJsOm51bGwpfX1hY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC5hY3Rpb249VC5vZk51bGxhYmxlKGUpLHRoaXN9ZnJhbWVzVHJhbnNmb3JtZWQoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC5mcmFtZXNUcmFuc2Zvcm1lZD1ULm9mTnVsbGFibGUoZSksdGhpc31mcHMoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC5mcHM9VC5vZk51bGxhYmxlKGUpLHRoaXN9Z3VpZChlKXtyZXR1cm4gdGhpcy5fcmVwb3J0Lmd1aWQ9VC5vZk51bGxhYmxlKGUpLHRoaXN9bWVzc2FnZShlKXtyZXR1cm4gdGhpcy5fcmVwb3J0Lm1lc3NhZ2U9VC5vZk51bGxhYmxlKGUpLHRoaXN9dHJhbnNmb3JtZWRGcHMoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC50cmFuc2Zvcm1lZEZwcz1ULm9mTnVsbGFibGUoZSksdGhpc310cmFuc2Zvcm1lclR5cGUoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC50cmFuc2Zvcm1lclR5cGU9VC5vZk51bGxhYmxlKGUpLHRoaXN9dmFyaWF0aW9uKGUpe3JldHVybiB0aGlzLl9yZXBvcnQudmFyaWF0aW9uPVQub2ZOdWxsYWJsZShlKSx0aGlzfXZpZGVvSGVpZ2h0KGUpe3JldHVybiB0aGlzLl9yZXBvcnQudmlkZW9IZWlnaHQ9VC5vZk51bGxhYmxlKGUpLHRoaXN9dmlkZW9XaWR0aChlKXtyZXR1cm4gdGhpcy5fcmVwb3J0LnZpZGVvV2lkdGg9VC5vZk51bGxhYmxlKGUpLHRoaXN9ZXJyb3IoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC5lcnJvcj1ULm9mTnVsbGFibGUoZSksdGhpc31idWlsZCgpe3JldHVybiB0aGlzLl9yZXBvcnR9fWNvbnN0IGRzPXI9PkpTT04uc3RyaW5naWZ5KHIsKGUsdCk9PntpZih0IT09bnVsbClyZXR1cm4gdH0pO2NsYXNzIFZ7c3RhdGljIHJlcG9ydChlKXtyZXR1cm4gbmV3IFByb21pc2UoKHQsbik9PntpZihlLmFwcGxpY2F0aW9uSWQuaXNFbXB0eSgpfHxlLnNvdXJjZS5pc0VtcHR5KCkpe3QoInN1Y2Nlc3MiKTtyZXR1cm59bGV0IGk9dXMuY3JlYXRlKCksbz17dGltZW91dDoxZTQsdGltZW91dEVycm9yTWVzc2FnZToiUmVxdWVzdCB0aW1lb3V0IixoZWFkZXJzOnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9fSxzPSJobGcudG9rYm94LmNvbS9wcm9kL2xvZ2dpbmcvdmNwX3dlYnJ0YyI7aWYoZS5wcm94eVVybC5pc0VtcHR5KCkpcz0iaHR0cHM6Ly8iK3M7ZWxzZXtsZXQgYTtlLnByb3h5VXJsLmdldCgpLnNsaWNlKGUucHJveHlVcmwuZ2V0KCkubGVuZ3RoLTEpIT09Ii8iP2E9ZS5wcm94eVVybC5nZXQoKSsiLyI6YT1lLnByb3h5VXJsLmdldCgpLHM9YStzfWkucG9zdChzLGRzKGUpLG8pLnRoZW4oYT0+e2NvbnNvbGUubG9nKGEpLHQoInN1Y2Nlc3MiKX0pLmNhdGNoKGE9Pntjb25zb2xlLmxvZyhhKSxuKGEpfSl9KX19dmFyIHR0LG1zPW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBocygpe2lmKCF0dCYmKHR0PXR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8dHlwZW9mIG1zQ3J5cHRvPCJ1IiYmdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcz09ImZ1bmN0aW9uIiYmbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pLCF0dCkpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiB0dChtcyl9dmFyIHBzPS9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtmdW5jdGlvbiB5cyhyKXtyZXR1cm4gdHlwZW9mIHI9PSJzdHJpbmciJiZwcy50ZXN0KHIpfWZvcih2YXIgTj1bXSxXdD0wO1d0PDI1NjsrK1d0KU4ucHVzaCgoV3QrMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpKTtmdW5jdGlvbiBfcyhyKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MCx0PShOW3JbZSswXV0rTltyW2UrMV1dK05bcltlKzJdXStOW3JbZSszXV0rIi0iK05bcltlKzRdXStOW3JbZSs1XV0rIi0iK05bcltlKzZdXStOW3JbZSs3XV0rIi0iK05bcltlKzhdXStOW3JbZSs5XV0rIi0iK05bcltlKzEwXV0rTltyW2UrMTFdXStOW3JbZSsxMl1dK05bcltlKzEzXV0rTltyW2UrMTRdXStOW3JbZSsxNV1dKS50b0xvd2VyQ2FzZSgpO2lmKCF5cyh0KSl0aHJvdyBUeXBlRXJyb3IoIlN0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCIpO3JldHVybiB0fWZ1bmN0aW9uIGhuKHIsZSx0KXtyPXJ8fHt9O3ZhciBuPXIucmFuZG9tfHwoci5ybmd8fGhzKSgpO2lmKG5bNl09bls2XSYxNXw2NCxuWzhdPW5bOF0mNjN8MTI4LGUpe3Q9dHx8MDtmb3IodmFyIGk9MDtpPDE2OysraSllW3QraV09bltpXTtyZXR1cm4gZX1yZXR1cm4gX3Mobil9Y29uc3Qgc2U9bmV3IFdlYWtNYXAscnQ9bmV3IFdlYWtNYXAsQ2U9bmV3IFdlYWtNYXAsanQ9U3ltYm9sKCJhbnlQcm9kdWNlciIpLHBuPVByb21pc2UucmVzb2x2ZSgpLG50PVN5bWJvbCgibGlzdGVuZXJBZGRlZCIpLGl0PVN5bWJvbCgibGlzdGVuZXJSZW1vdmVkIik7bGV0IHF0PSExO2Z1bmN0aW9uIHdlKHIpe2lmKHR5cGVvZiByIT0ic3RyaW5nIiYmdHlwZW9mIHIhPSJzeW1ib2wiKXRocm93IG5ldyBUeXBlRXJyb3IoImV2ZW50TmFtZSBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgc3ltYm9sIil9ZnVuY3Rpb24gb3Qocil7aWYodHlwZW9mIHIhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gUmUocixlKXtjb25zdCB0PXJ0LmdldChyKTtyZXR1cm4gdC5oYXMoZSl8fHQuc2V0KGUsbmV3IFNldCksdC5nZXQoZSl9ZnVuY3Rpb24gT2UocixlKXtjb25zdCB0PXR5cGVvZiBlPT0ic3RyaW5nInx8dHlwZW9mIGU9PSJzeW1ib2wiP2U6anQsbj1DZS5nZXQocik7cmV0dXJuIG4uaGFzKHQpfHxuLnNldCh0LG5ldyBTZXQpLG4uZ2V0KHQpfWZ1bmN0aW9uIHhzKHIsZSx0KXtjb25zdCBuPUNlLmdldChyKTtpZihuLmhhcyhlKSlmb3IoY29uc3QgaSBvZiBuLmdldChlKSlpLmVucXVldWUodCk7aWYobi5oYXMoanQpKXtjb25zdCBpPVByb21pc2UuYWxsKFtlLHRdKTtmb3IoY29uc3QgbyBvZiBuLmdldChqdCkpby5lbnF1ZXVlKGkpfX1mdW5jdGlvbiB5bihyLGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtsZXQgdD0hMSxuPSgpPT57fSxpPVtdO2NvbnN0IG89e2VucXVldWUocyl7aS5wdXNoKHMpLG4oKX0sZmluaXNoKCl7dD0hMCxuKCl9fTtmb3IoY29uc3QgcyBvZiBlKU9lKHIscykuYWRkKG8pO3JldHVybnthc3luYyBuZXh0KCl7cmV0dXJuIGk/aS5sZW5ndGg9PT0wP3Q/KGk9dm9pZCAwLHRoaXMubmV4dCgpKTooYXdhaXQgbmV3IFByb21pc2Uocz0+e249c30pLHRoaXMubmV4dCgpKTp7ZG9uZTohMSx2YWx1ZTphd2FpdCBpLnNoaWZ0KCl9Ontkb25lOiEwfX0sYXN5bmMgcmV0dXJuKHMpe2k9dm9pZCAwO2Zvcihjb25zdCBhIG9mIGUpT2UocixhKS5kZWxldGUobyk7cmV0dXJuIG4oKSxhcmd1bWVudHMubGVuZ3RoPjA/e2RvbmU6ITAsdmFsdWU6YXdhaXQgc306e2RvbmU6ITB9fSxbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9fX1mdW5jdGlvbiBfbihyKXtpZihyPT09dm9pZCAwKXJldHVybiB4bjtpZighQXJyYXkuaXNBcnJheShyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpO2Zvcihjb25zdCBlIG9mIHIpaWYoIXhuLmluY2x1ZGVzKGUpKXRocm93IHR5cGVvZiBlIT0ic3RyaW5nIj9uZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIGVsZW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpOm5ldyBFcnJvcihgJHtlfSBpcyBub3QgRW1pdHRlcnkgbWV0aG9kYCk7cmV0dXJuIHJ9Y29uc3QgWHQ9cj0+cj09PW50fHxyPT09aXQ7Y2xhc3MgaGV7c3RhdGljIG1peGluKGUsdCl7cmV0dXJuIHQ9X24odCksbj0+e2lmKHR5cGVvZiBuIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoImB0YXJnZXRgIG11c3QgYmUgZnVuY3Rpb24iKTtmb3IoY29uc3QgcyBvZiB0KWlmKG4ucHJvdG90eXBlW3NdIT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgVGhlIHByb3BlcnR5IFxgJHtzfVxgIGFscmVhZHkgZXhpc3RzIG9uIFxgdGFyZ2V0XGBgKTtmdW5jdGlvbiBpKCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2VudW1lcmFibGU6ITEsdmFsdWU6bmV3IGhlfSksdGhpc1tlXX1PYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsZSx7ZW51bWVyYWJsZTohMSxnZXQ6aX0pO2NvbnN0IG89cz0+ZnVuY3Rpb24oLi4uYSl7cmV0dXJuIHRoaXNbZV1bc10oLi4uYSl9O2Zvcihjb25zdCBzIG9mIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLHMse2VudW1lcmFibGU6ITEsdmFsdWU6byhzKX0pO3JldHVybiBufX1zdGF0aWMgZ2V0IGlzRGVidWdFbmFibGVkKCl7aWYodHlwZW9mIHByb2Nlc3MhPSJvYmplY3QiKXJldHVybiBxdDtjb25zdHtlbnY6ZX09cHJvY2Vzc3x8e2Vudjp7fX07cmV0dXJuIGUuREVCVUc9PT0iZW1pdHRlcnkifHxlLkRFQlVHPT09IioifHxxdH1zdGF0aWMgc2V0IGlzRGVidWdFbmFibGVkKGUpe3F0PWV9Y29uc3RydWN0b3IoZT17fSl7c2Uuc2V0KHRoaXMsbmV3IFNldCkscnQuc2V0KHRoaXMsbmV3IE1hcCksQ2Uuc2V0KHRoaXMsbmV3IE1hcCksdGhpcy5kZWJ1Zz1lLmRlYnVnfHx7fSx0aGlzLmRlYnVnLmVuYWJsZWQ9PT12b2lkIDAmJih0aGlzLmRlYnVnLmVuYWJsZWQ9ITEpLHRoaXMuZGVidWcubG9nZ2VyfHwodGhpcy5kZWJ1Zy5sb2dnZXI9KHQsbixpLG8pPT57bz1KU09OLnN0cmluZ2lmeShvKSx0eXBlb2YgaT09InN5bWJvbCImJihpPWkudG9TdHJpbmcoKSk7Y29uc3Qgcz1uZXcgRGF0ZSxhPWAke3MuZ2V0SG91cnMoKX06JHtzLmdldE1pbnV0ZXMoKX06JHtzLmdldFNlY29uZHMoKX0uJHtzLmdldE1pbGxpc2Vjb25kcygpfWA7Y29uc29sZS5sb2coYFske2F9XVtlbWl0dGVyeToke3R9XVske259XSBFdmVudCBOYW1lOiAke2l9CglkYXRhOiAke299YCl9KX1sb2dJZkRlYnVnRW5hYmxlZChlLHQsbil7KGhlLmlzRGVidWdFbmFibGVkfHx0aGlzLmRlYnVnLmVuYWJsZWQpJiZ0aGlzLmRlYnVnLmxvZ2dlcihlLHRoaXMuZGVidWcubmFtZSx0LG4pfW9uKGUsdCl7b3QodCksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCBuIG9mIGUpd2UobiksUmUodGhpcyxuKS5hZGQodCksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlIixuLHZvaWQgMCksWHQobil8fHRoaXMuZW1pdChudCx7ZXZlbnROYW1lOm4sbGlzdGVuZXI6dH0pO3JldHVybiB0aGlzLm9mZi5iaW5kKHRoaXMsZSx0KX1vZmYoZSx0KXtvdCh0KSxlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07Zm9yKGNvbnN0IG4gb2YgZSl3ZShuKSxSZSh0aGlzLG4pLmRlbGV0ZSh0KSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZSIsbix2b2lkIDApLFh0KG4pfHx0aGlzLmVtaXQoaXQse2V2ZW50TmFtZTpuLGxpc3RlbmVyOnR9KX1vbmNlKGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57Y29uc3Qgbj10aGlzLm9uKGUsaT0+e24oKSx0KGkpfSl9KX1ldmVudHMoZSl7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCB0IG9mIGUpd2UodCk7cmV0dXJuIHluKHRoaXMsZSl9YXN5bmMgZW1pdChlLHQpe3dlKGUpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImVtaXQiLGUsdCkseHModGhpcyxlLHQpO2NvbnN0IG49UmUodGhpcyxlKSxpPXNlLmdldCh0aGlzKSxvPVsuLi5uXSxzPVh0KGUpP1tdOlsuLi5pXTthd2FpdCBwbixhd2FpdCBQcm9taXNlLmFsbChbLi4uby5tYXAoYXN5bmMgYT0+e2lmKG4uaGFzKGEpKXJldHVybiBhKHQpfSksLi4ucy5tYXAoYXN5bmMgYT0+e2lmKGkuaGFzKGEpKXJldHVybiBhKGUsdCl9KV0pfWFzeW5jIGVtaXRTZXJpYWwoZSx0KXt3ZShlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0U2VyaWFsIixlLHQpO2NvbnN0IG49UmUodGhpcyxlKSxpPXNlLmdldCh0aGlzKSxvPVsuLi5uXSxzPVsuLi5pXTthd2FpdCBwbjtmb3IoY29uc3QgYSBvZiBvKW4uaGFzKGEpJiZhd2FpdCBhKHQpO2Zvcihjb25zdCBhIG9mIHMpaS5oYXMoYSkmJmF3YWl0IGEoZSx0KX1vbkFueShlKXtyZXR1cm4gb3QoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlQW55Iix2b2lkIDAsdm9pZCAwKSxzZS5nZXQodGhpcykuYWRkKGUpLHRoaXMuZW1pdChudCx7bGlzdGVuZXI6ZX0pLHRoaXMub2ZmQW55LmJpbmQodGhpcyxlKX1hbnlFdmVudCgpe3JldHVybiB5bih0aGlzKX1vZmZBbnkoZSl7b3QoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmVBbnkiLHZvaWQgMCx2b2lkIDApLHRoaXMuZW1pdChpdCx7bGlzdGVuZXI6ZX0pLHNlLmdldCh0aGlzKS5kZWxldGUoZSl9Y2xlYXJMaXN0ZW5lcnMoZSl7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCB0IG9mIGUpaWYodGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiY2xlYXIiLHQsdm9pZCAwKSx0eXBlb2YgdD09InN0cmluZyJ8fHR5cGVvZiB0PT0ic3ltYm9sIil7UmUodGhpcyx0KS5jbGVhcigpO2NvbnN0IG49T2UodGhpcyx0KTtmb3IoY29uc3QgaSBvZiBuKWkuZmluaXNoKCk7bi5jbGVhcigpfWVsc2V7c2UuZ2V0KHRoaXMpLmNsZWFyKCk7Zm9yKGNvbnN0IG4gb2YgcnQuZ2V0KHRoaXMpLnZhbHVlcygpKW4uY2xlYXIoKTtmb3IoY29uc3QgbiBvZiBDZS5nZXQodGhpcykudmFsdWVzKCkpe2Zvcihjb25zdCBpIG9mIG4paS5maW5pc2goKTtuLmNsZWFyKCl9fX1saXN0ZW5lckNvdW50KGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtsZXQgdD0wO2Zvcihjb25zdCBuIG9mIGUpe2lmKHR5cGVvZiBuPT0ic3RyaW5nIil7dCs9c2UuZ2V0KHRoaXMpLnNpemUrUmUodGhpcyxuKS5zaXplK09lKHRoaXMsbikuc2l6ZStPZSh0aGlzKS5zaXplO2NvbnRpbnVlfXR5cGVvZiBuPCJ1IiYmd2UobiksdCs9c2UuZ2V0KHRoaXMpLnNpemU7Zm9yKGNvbnN0IGkgb2YgcnQuZ2V0KHRoaXMpLnZhbHVlcygpKXQrPWkuc2l6ZTtmb3IoY29uc3QgaSBvZiBDZS5nZXQodGhpcykudmFsdWVzKCkpdCs9aS5zaXplfXJldHVybiB0fWJpbmRNZXRob2RzKGUsdCl7aWYodHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJgdGFyZ2V0YCBtdXN0IGJlIGFuIG9iamVjdCIpO3Q9X24odCk7Zm9yKGNvbnN0IG4gb2YgdCl7aWYoZVtuXSE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm9wZXJ0eSBcYCR7bn1cYCBhbHJlYWR5IGV4aXN0cyBvbiBcYHRhcmdldFxgYCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMSx2YWx1ZTp0aGlzW25dLmJpbmQodGhpcyl9KX19fWNvbnN0IHhuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlLnByb3RvdHlwZSkuZmlsdGVyKHI9PnIhPT0iY29uc3RydWN0b3IiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaGUsImxpc3RlbmVyQWRkZWQiLHt2YWx1ZTpudCx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoZSwibGlzdGVuZXJSZW1vdmVkIix7dmFsdWU6aXQsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KTt2YXIgWXQ9aGU7ZnVuY3Rpb24gZ3Mocil7cmV0dXJuIHR5cGVvZiByPT0ib2JqZWN0IiYmciE9PW51bGwmJiJtZXNzYWdlImluIHImJnR5cGVvZiByLm1lc3NhZ2U9PSJzdHJpbmcifWZ1bmN0aW9uIGJzKHIpe2lmKGdzKHIpKXJldHVybiByO3RyeXtyZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHIpKX1jYXRjaHtyZXR1cm4gbmV3IEVycm9yKFN0cmluZyhyKSl9fWZ1bmN0aW9uIFF0KHIpe3JldHVybiBicyhyKS5tZXNzYWdlfXZhciBLdD0ocj0+KHIucGlwZWxpbmVfZW5kZWQ9InBpcGVsaW5lX2VuZGVkIixyLnBpcGVsaW5lX2VuZGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX2VuZGVkX3dpdGhfZXJyb3IiLHIucGlwZWxpbmVfc3RhcnRlZD0icGlwZWxpbmVfc3RhcnRlZCIsci5waXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciIsci5waXBlbGluZV9yZXN0YXJ0ZWQ9InBpcGVsaW5lX3Jlc3RhcnRlZCIsci5waXBlbGluZV9yZXN0YXJ0ZWRfd2l0aF9lcnJvcj0icGlwZWxpbmVfcmVzdGFydGVkX3dpdGhfZXJyb3IiLHIpKShLdHx8e30pO2NvbnN0IHZzPTUwMCxFcz0uODtjbGFzcyBUcyBleHRlbmRzIFl0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLmluZGV4Xz10LHRoaXMudXVpZF89aG4oKSx0aGlzLmZyYW1lc1RyYW5zZm9ybWVkXz0wLHRoaXMudHJhbnNmb3JtZXJfPWUsdGhpcy5zaG91bGRTdG9wXz0hMSx0aGlzLmlzRmxhc2hlZF89ITEsdGhpcy5mcmFtZXNGcm9tU291cmNlXz0wLHRoaXMuZnBzXz0wLHRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXz0wLHRoaXMudmlkZW9IZWlnaHRfPTAsdGhpcy52aWRlb1dpZHRoXz0wLHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfPS0xLHRoaXMudHJhbnNmb3JtZXJUeXBlXz0iQ3VzdG9tIiwiZ2V0VHJhbnNmb3JtZXJUeXBlImluIGUmJih0aGlzLnRyYW5zZm9ybWVyVHlwZV89ZS5nZXRUcmFuc2Zvcm1lclR5cGUoKSk7Y29uc3Qgbj1uZXcgSCgpLmFjdGlvbigiTWVkaWFUcmFuc2Zvcm1lciIpLmd1aWQodGhpcy51dWlkXykudHJhbnNmb3JtZXJUeXBlKHRoaXMudHJhbnNmb3JtZXJUeXBlXykudmFyaWF0aW9uKCJDcmVhdGUiKS5idWlsZCgpO1YucmVwb3J0KG4pfXNldFRyYWNrRXhwZWN0ZWRSYXRlKGUpe3RoaXMudHJhY2tFeHBlY3RlZFJhdGVfPWV9YXN5bmMgc3RhcnQoZSl7aWYodGhpcy5jb250cm9sbGVyXz1lLHRoaXMudHJhbnNmb3JtZXJfJiZ0eXBlb2YgdGhpcy50cmFuc2Zvcm1lcl8uc3RhcnQ9PSJmdW5jdGlvbiIpdHJ5e2F3YWl0IHRoaXMudHJhbnNmb3JtZXJfLnN0YXJ0KGUpfWNhdGNoKHQpe2NvbnN0IG49bmV3IEgoKS5hY3Rpb24oIk1lZGlhVHJhbnNmb3JtZXIiKS5ndWlkKHRoaXMudXVpZF8pLm1lc3NhZ2UobmUuZXJyb3JzLnRyYW5zZm9ybWVyX3N0YXJ0KS50cmFuc2Zvcm1lclR5cGUodGhpcy50cmFuc2Zvcm1lclR5cGVfKS52YXJpYXRpb24oIkVycm9yIikuZXJyb3IoUXQodCkpLmJ1aWxkKCk7Vi5yZXBvcnQobik7Y29uc3QgaT17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sZXJyb3I6dCxmdW5jdGlvbjoic3RhcnQifTt0aGlzLmVtaXQoImVycm9yIixpKX19YXN5bmMgdHJhbnNmb3JtKGUsdCl7dmFyIG4saSxvLHM7aWYodGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPT09MCYmKHRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXz1EYXRlLm5vdygpKSxlIGluc3RhbmNlb2YgVmlkZW9GcmFtZSYmKHRoaXMudmlkZW9IZWlnaHRfPShuPWU9PW51bGw/dm9pZCAwOmUuZGlzcGxheUhlaWdodCkhPW51bGw/bjowLHRoaXMudmlkZW9XaWR0aF89KGk9ZT09bnVsbD92b2lkIDA6ZS5kaXNwbGF5V2lkdGgpIT1udWxsP2k6MCksKyt0aGlzLmZyYW1lc0Zyb21Tb3VyY2VfLHRoaXMudHJhbnNmb3JtZXJfKWlmKHRoaXMuc2hvdWxkU3RvcF8pY29uc29sZS53YXJuKCJbUGlwZWxpbmVdIGZsdXNoIGZyb20gdHJhbnNmb3JtIiksZS5jbG9zZSgpLHRoaXMuZmx1c2godCksdC50ZXJtaW5hdGUoKTtlbHNlIHRyeXthd2FpdCgocz0obz10aGlzLnRyYW5zZm9ybWVyXykudHJhbnNmb3JtKT09bnVsbD92b2lkIDA6cy5jYWxsKG8sZSx0KSksKyt0aGlzLmZyYW1lc1RyYW5zZm9ybWVkXyx0aGlzLmZyYW1lc1RyYW5zZm9ybWVkXz09PXZzJiZ0aGlzLm1lZGlhVHJhbnNmb3JtZXJRb3NSZXBvcnQoKX1jYXRjaChhKXtjb25zdCB1PW5ldyBIKCkuYWN0aW9uKCJNZWRpYVRyYW5zZm9ybWVyIikuZ3VpZCh0aGlzLnV1aWRfKS5tZXNzYWdlKG5lLmVycm9ycy50cmFuc2Zvcm1lcl90cmFuc2Zvcm0pLnRyYW5zZm9ybWVyVHlwZSh0aGlzLnRyYW5zZm9ybWVyVHlwZV8pLnZhcmlhdGlvbigiRXJyb3IiKS5lcnJvcihRdChhKSkuYnVpbGQoKTtWLnJlcG9ydCh1KTtjb25zdCBmPXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjphLGZ1bmN0aW9uOiJ0cmFuc2Zvcm0ifTt0aGlzLmVtaXQoImVycm9yIixmKX19YXN5bmMgZmx1c2goZSl7aWYodGhpcy50cmFuc2Zvcm1lcl8mJnR5cGVvZiB0aGlzLnRyYW5zZm9ybWVyXy5mbHVzaD09ImZ1bmN0aW9uIiYmIXRoaXMuaXNGbGFzaGVkXyl7dGhpcy5pc0ZsYXNoZWRfPSEwO3RyeXthd2FpdCB0aGlzLnRyYW5zZm9ybWVyXy5mbHVzaChlKX1jYXRjaChuKXtjb25zdCBpPW5ldyBIKCkuYWN0aW9uKCJNZWRpYVRyYW5zZm9ybWVyIikuZ3VpZCh0aGlzLnV1aWRfKS5tZXNzYWdlKG5lLmVycm9ycy50cmFuc2Zvcm1lcl9mbHVzaCkudHJhbnNmb3JtZXJUeXBlKHRoaXMudHJhbnNmb3JtZXJUeXBlXykudmFyaWF0aW9uKCJFcnJvciIpLmVycm9yKFF0KG4pKS5idWlsZCgpO1YucmVwb3J0KGkpO2NvbnN0IG89e2V2ZW50TWV0YURhdGE6e3RyYW5zZm9ybWVySW5kZXg6dGhpcy5pbmRleF99LGVycm9yOm4sZnVuY3Rpb246ImZsdXNoIn07dGhpcy5lbWl0KCJlcnJvciIsbyl9fXRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydCgpO2NvbnN0IHQ9bmV3IEgoKS5hY3Rpb24oIk1lZGlhVHJhbnNmb3JtZXIiKS5ndWlkKHRoaXMudXVpZF8pLnRyYW5zZm9ybWVyVHlwZSh0aGlzLnRyYW5zZm9ybWVyVHlwZV8pLnZhcmlhdGlvbigiRGVsZXRlIikuYnVpbGQoKTtWLnJlcG9ydCh0KX1zdG9wKCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gU3RvcCBzdHJlYW0uIiksdGhpcy5jb250cm9sbGVyXyYmKHRoaXMuZmx1c2godGhpcy5jb250cm9sbGVyXyksdGhpcy5jb250cm9sbGVyXy50ZXJtaW5hdGUoKSksdGhpcy5zaG91bGRTdG9wXz0hMH1tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0KCl7bGV0IGU9KERhdGUubm93KCktdGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfKS8xZTMsdD10aGlzLmZyYW1lc0Zyb21Tb3VyY2VfL2Usbj10aGlzLmZyYW1lc1RyYW5zZm9ybWVkXy9lO2lmKHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfIT0tMSYmdGhpcy50cmFja0V4cGVjdGVkUmF0ZV8qRXM+dCl7Y29uc3Qgbz17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sd2FybmluZ1R5cGU6ImZwc19kcm9wIixkcm9wSW5mbzp7cmVxdWVzdGVkOnRoaXMudHJhY2tFeHBlY3RlZFJhdGVfLGN1cnJlbnQ6dH19O3RoaXMuZW1pdCgid2FybiIsbyl9Y29uc3QgaT1uZXcgSCgpLmFjdGlvbigiTWVkaWFUcmFuc2Zvcm1lciIpLmZwcyh0KS50cmFuc2Zvcm1lZEZwcyhuKS5mcmFtZXNUcmFuc2Zvcm1lZCh0aGlzLmZyYW1lc1RyYW5zZm9ybWVkXykuZ3VpZCh0aGlzLnV1aWRfKS50cmFuc2Zvcm1lclR5cGUodGhpcy50cmFuc2Zvcm1lclR5cGVfKS52aWRlb0hlaWdodCh0aGlzLnZpZGVvSGVpZ2h0XykudmlkZW9XaWR0aCh0aGlzLnZpZGVvV2lkdGhfKS52YXJpYXRpb24oIlFvUyIpLmJ1aWxkKCk7Vi5yZXBvcnQoaSksdGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPTAsdGhpcy5mcmFtZXNGcm9tU291cmNlXz0wLHRoaXMuZnJhbWVzVHJhbnNmb3JtZWRfPTB9fWNsYXNzIEFzIGV4dGVuZHMgWXR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnRyYW5zZm9ybWVyc189W10sdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTE7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2xldCBuPW5ldyBUcyhlW3RdLHQpO24ub24oImVycm9yIixpPT57dGhpcy5lbWl0KCJlcnJvciIsaSl9KSxuLm9uKCJ3YXJuIixpPT57dGhpcy5lbWl0KCJ3YXJuIixpKX0pLHRoaXMudHJhbnNmb3JtZXJzXy5wdXNoKG4pfX1zZXRUcmFja0V4cGVjdGVkUmF0ZShlKXt0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz1lO2ZvcihsZXQgdCBvZiB0aGlzLnRyYW5zZm9ybWVyc18pdC5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyl9YXN5bmMgc3RhcnQoZSx0KXtpZighdGhpcy50cmFuc2Zvcm1lcnNffHx0aGlzLnRyYW5zZm9ybWVyc18ubGVuZ3RoPT09MCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gTm8gdHJhbnNmb3JtZXJzLiIpO3JldHVybn10cnl7bGV0IG49ZTtmb3IobGV0IGkgb2YgdGhpcy50cmFuc2Zvcm1lcnNfKWU9ZS5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKGkpKTtlLnBpcGVUbyh0KS50aGVuKGFzeW5jKCk9Pntjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBTZXR1cC4iKSxhd2FpdCB0LmFib3J0KCksYXdhaXQgbi5jYW5jZWwoKSx0aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsInBpcGVsaW5lX2VuZGVkIil9KS5jYXRjaChhc3luYyBpPT57ZS5jYW5jZWwoKS50aGVuKCgpPT57Y29uc29sZS5sb2coIltQaXBlbGluZV0gU2h1dHRpbmcgZG93biBzdHJlYW1zIGFmdGVyIGFib3J0LiIpfSkuY2F0Y2gobz0+e2NvbnNvbGUuZXJyb3IoIltQaXBlbGluZV0gRXJyb3IgZnJvbSBzdHJlYW0gdHJhbnNmb3JtOiIsbyl9KSxhd2FpdCB0LmFib3J0KGkpLGF3YWl0IG4uY2FuY2VsKGkpLHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIiwicGlwZWxpbmVfZW5kZWRfd2l0aF9lcnJvciIpfSl9Y2F0Y2h7dGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3IiKSx0aGlzLmRlc3Ryb3koKTtyZXR1cm59dGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9zdGFydGVkIiksY29uc29sZS5sb2coIltQaXBlbGluZV0gUGlwZWxpbmUgc3RhcnRlZC4iKX1hc3luYyBkZXN0cm95KCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gRGVzdHJveWluZyBQaXBlbGluZS4iKTtmb3IobGV0IGUgb2YgdGhpcy50cmFuc2Zvcm1lcnNfKWUuc3RvcCgpfX1jbGFzcyB3cyBleHRlbmRzIFl0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnV1aWRfPWhuKCksdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTE7Y29uc3QgZT1uZXcgSCgpLmFjdGlvbigiTWVkaWFQcm9jZXNzb3IiKS5ndWlkKHRoaXMudXVpZF8pLnZhcmlhdGlvbigiQ3JlYXRlIikuYnVpbGQoKTtWLnJlcG9ydChlKX1zZXRUcmFja0V4cGVjdGVkUmF0ZShlKXt0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz1lLHRoaXMucGlwZWxpbmVfJiZ0aGlzLnBpcGVsaW5lXy5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyl9dHJhbnNmb3JtKGUsdCl7cmV0dXJuIHRoaXMucmVhZGFibGVfPWUsdGhpcy53cml0YWJsZV89dCx0aGlzLnRyYW5zZm9ybUludGVybmFsKCl9dHJhbnNmb3JtSW50ZXJuYWwoKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsdCk9PntpZighdGhpcy50cmFuc2Zvcm1lcnNffHx0aGlzLnRyYW5zZm9ybWVyc18ubGVuZ3RoPT09MCl7Y29uc3QgaT1uZXcgSCgpLmFjdGlvbigiTWVkaWFQcm9jZXNzb3IiKS5ndWlkKHRoaXMudXVpZF8pLm1lc3NhZ2UobmUuZXJyb3JzLnRyYW5zZm9ybWVyX25vbmUpLnZhcmlhdGlvbigiRXJyb3IiKS5idWlsZCgpO1YucmVwb3J0KGkpLHQoIltNZWRpYVByb2Nlc3Nvcl0gTmVlZCB0byBzZXQgdHJhbnNmb3JtZXJzLiIpO3JldHVybn1pZighdGhpcy5yZWFkYWJsZV8pe2NvbnN0IGk9bmV3IEgoKS5hY3Rpb24oIk1lZGlhUHJvY2Vzc29yIikuZ3VpZCh0aGlzLnV1aWRfKS5tZXNzYWdlKG5lLmVycm9ycy5yZWFkYWJsZV9udWxsKS52YXJpYXRpb24oIkVycm9yIikuYnVpbGQoKTtWLnJlcG9ydChpKSx0KCJbTWVkaWFQcm9jZXNzb3JdIFJlYWRhYmxlIGlzIG51bGwuIik7cmV0dXJufWlmKCF0aGlzLndyaXRhYmxlXyl7Y29uc3QgaT1uZXcgSCgpLmFjdGlvbigiTWVkaWFQcm9jZXNzb3IiKS5ndWlkKHRoaXMudXVpZF8pLm1lc3NhZ2UobmUuZXJyb3JzLndyaXRhYmxlX251bGwpLnZhcmlhdGlvbigiRXJyb3IiKS5idWlsZCgpO1YucmVwb3J0KGkpLHQoIltNZWRpYVByb2Nlc3Nvcl0gV3JpdGFibGUgaXMgbnVsbC4iKTtyZXR1cm59bGV0IG49ITE7dGhpcy5waXBlbGluZV8mJihuPSEwLHRoaXMucGlwZWxpbmVfLmNsZWFyTGlzdGVuZXJzKCksdGhpcy5waXBlbGluZV8uZGVzdHJveSgpKSx0aGlzLnBpcGVsaW5lXz1uZXcgQXModGhpcy50cmFuc2Zvcm1lcnNfKSx0aGlzLnBpcGVsaW5lXy5vbigid2FybiIsaT0+e3RoaXMuZW1pdCgid2FybiIsaSl9KSx0aGlzLnBpcGVsaW5lXy5vbigiZXJyb3IiLGk9Pnt0aGlzLmVtaXQoImVycm9yIixpKX0pLHRoaXMucGlwZWxpbmVfLm9uKCJwaXBlbGluZUluZm8iLGk9PntuJiYoaT09PSJwaXBlbGluZV9zdGFydGVkIj9pPUt0LnBpcGVsaW5lX3Jlc3RhcnRlZDppPT09InBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciImJihpPUt0LnBpcGVsaW5lX3Jlc3RhcnRlZF93aXRoX2Vycm9yKSksdGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLGkpfSksdGhpcy50cmFja0V4cGVjdGVkUmF0ZV8hPS0xJiZ0aGlzLnBpcGVsaW5lXy5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyksdGhpcy5waXBlbGluZV8uc3RhcnQodGhpcy5yZWFkYWJsZV8sdGhpcy53cml0YWJsZV8pLnRoZW4oKCk9PntlKCl9KS5jYXRjaChpPT57dChpKX0pfSl9c2V0VHJhbnNmb3JtZXJzKGUpe2NvbnN0IHQ9bmV3IEgoKS5hY3Rpb24oIk1lZGlhUHJvY2Vzc29yIikuZ3VpZCh0aGlzLnV1aWRfKS5tZXNzYWdlKG5lLnVwZGF0ZXMudHJhbnNmb3JtZXJfbmV3KS52YXJpYXRpb24oIlVwZGF0ZSIpLmJ1aWxkKCk7cmV0dXJuIFYucmVwb3J0KHQpLHRoaXMudHJhbnNmb3JtZXJzXz1lLHRoaXMucmVhZGFibGVfJiZ0aGlzLndyaXRhYmxlXz90aGlzLnRyYW5zZm9ybUludGVybmFsKCk6UHJvbWlzZS5yZXNvbHZlKCl9ZGVzdHJveSgpe3JldHVybiBuZXcgUHJvbWlzZShlPT57dGhpcy5waXBlbGluZV8mJnRoaXMucGlwZWxpbmVfLmRlc3Ryb3koKTtjb25zdCB0PW5ldyBIKCkuYWN0aW9uKCJNZWRpYVByb2Nlc3NvciIpLmd1aWQodGhpcy51dWlkXykudmFyaWF0aW9uKCJEZWxldGUiKS5idWlsZCgpO1YucmVwb3J0KHQpLGUoKX0pfX12YXIgc3Q9KHI9PihyLkxvdz0iTG93IixyLkhpZ2g9IkhpZ2giLHIpKShzdHx8e30pO2FzeW5jIGZ1bmN0aW9uIGduKHIpe3JldHVybiBuZXcgUHJvbWlzZShlPT57c2V0VGltZW91dCgoKT0+e2UoKX0scil9KX1jbGFzcyBSc3tjb25zdHJ1Y3RvcihlKXtwKHRoaXMsImNvbnRleHQiKTtwKHRoaXMsImV4dGVuc2lvbiIpO3AodGhpcywicXVlcmllcyIsW10pO3AodGhpcywiYWN0aXZlUXVlcnkiKTt0aGlzLmNvbnRleHQ9ZSx0aGlzLmV4dGVuc2lvbj1lLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiIpfXN0YXJ0KCl7fXN0b3AoKXt0aGlzLmFjdGl2ZVF1ZXJ5JiZ0aGlzLmNvbnRleHQuZW5kUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCl9cHVzaENvbnRleHQoZSl7dGhpcy5jcmVhdGVRdWVyeSgiUFVTSCIsZSl9cG9wQ29udGV4dChlKXt0aGlzLmNyZWF0ZVF1ZXJ5KCJQT1AiLGUpfWNyZWF0ZVF1ZXJ5KGUsdCl7dGhpcy5hY3RpdmVRdWVyeSYmdGhpcy5jb250ZXh0LmVuZFF1ZXJ5KHRoaXMuZXh0ZW5zaW9uLlRJTUVfRUxBUFNFRF9FWFQpLHRoaXMuYWN0aXZlUXVlcnk9dGhpcy5jb250ZXh0LmNyZWF0ZVF1ZXJ5KCksdGhpcy5jb250ZXh0LmJlZ2luUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCx0aGlzLmFjdGl2ZVF1ZXJ5KSx0aGlzLnF1ZXJpZXMucHVzaCh7bmFtZTp0LGFjdGlvbjplLHF1ZXJ5OnRoaXMuYWN0aXZlUXVlcnl9KX1hc3luYyBnZXRSZXNvbHZlZFF1ZXJpZXMoKXtjb25zdCBlPShhd2FpdCBQcm9taXNlLmFsbChbLi4udGhpcy5xdWVyaWVzXS5tYXAodD0+dGhpcy5yZXNvbHZlUXVlcnkodCkpKSkuZmlsdGVyKHQ9PnQpO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7Kyt0KWVbdF0udGltZXN0YW1wKz1lW3QtMV0uZHVyYXRpb24rZVt0LTFdLnRpbWVzdGFtcDtyZXR1cm4gZX1hc3luYyByZXNvbHZlUXVlcnkoZSl7aWYoIWF3YWl0IHRoaXMuYXdhaXRRdWVyeUF2YWlsYWJsZShlKSl7Y29uc29sZS5sb2coIlVuYXdhaXRhYmxlIHF1ZXJ5IixlKTtyZXR1cm59aWYodGhpcy5jb250ZXh0LmdldFBhcmFtZXRlcih0aGlzLmV4dGVuc2lvbi5HUFVfRElTSk9JTlRfRVhUKSl7Y29uc29sZS5sb2coIkRpc2pvaW50ZWQgcXVlcnkiLGUpO3JldHVybn1yZXR1cm57Li4uZSxkdXJhdGlvbjp0aGlzLmNvbnRleHQuZ2V0UXVlcnlQYXJhbWV0ZXIoZS5xdWVyeSx0aGlzLmNvbnRleHQuUVVFUllfUkVTVUxUKSx0aW1lc3RhbXA6MH19YXN5bmMgYXdhaXRRdWVyeUF2YWlsYWJsZShlKXtmb3IobGV0IHQ9MDt0PDEwOysrdCl7aWYodGhpcy5jb250ZXh0LmdldFF1ZXJ5UGFyYW1ldGVyKGUucXVlcnksdGhpcy5jb250ZXh0LlFVRVJZX1JFU1VMVF9BVkFJTEFCTEUpKXJldHVybiBlO2F3YWl0IGduKDIwMCl9fX0vKiBAbGljZW5zZSB0d2dsLmpzIDUuMi4wIENvcHlyaWdodCAoYykgMjAxNSwgR3JlZ2cgVGF2YXJlcyBBbGwgUmlnaHRzIFJlc2VydmVkLgpBdmFpbGFibGUgdmlhIHRoZSBNSVQgbGljZW5zZS4Kc2VlOiBodHRwOi8vZ2l0aHViLmNvbS9ncmVnZ21hbi90d2dsLmpzIGZvciBkZXRhaWxzICovY29uc3QgSnQ9NTEyMCxOZT01MTIxLFp0PTUxMjIsZXI9NTEyMyx0cj01MTI0LHJyPTUxMjUsbnI9NTEyNixTcz0zMjgxOSxJcz0zMjgyMCxGcz0zMzYzNSxQcz01MTMxLERzPTMzNjQwLE1zPTM1ODk5LENzPTM1OTAyLE9zPTM2MjY5LE5zPTM0MDQyLGJuPXt9O3tjb25zdCByPWJuO3JbSnRdPUludDhBcnJheSxyW05lXT1VaW50OEFycmF5LHJbWnRdPUludDE2QXJyYXkscltlcl09VWludDE2QXJyYXksclt0cl09SW50MzJBcnJheSxyW3JyXT1VaW50MzJBcnJheSxyW25yXT1GbG9hdDMyQXJyYXkscltTc109VWludDE2QXJyYXkscltJc109VWludDE2QXJyYXkscltGc109VWludDE2QXJyYXkscltQc109VWludDE2QXJyYXkscltEc109VWludDMyQXJyYXkscltNc109VWludDMyQXJyYXkscltDc109VWludDMyQXJyYXkscltPc109VWludDMyQXJyYXkscltOc109VWludDMyQXJyYXl9ZnVuY3Rpb24gaXIocil7aWYociBpbnN0YW5jZW9mIEludDhBcnJheSlyZXR1cm4gSnQ7aWYociBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHIgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSlyZXR1cm4gTmU7aWYociBpbnN0YW5jZW9mIEludDE2QXJyYXkpcmV0dXJuIFp0O2lmKHIgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlyZXR1cm4gZXI7aWYociBpbnN0YW5jZW9mIEludDMyQXJyYXkpcmV0dXJuIHRyO2lmKHIgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gcnI7aWYociBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlyZXR1cm4gbnI7dGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlIil9ZnVuY3Rpb24gdm4ocil7aWYocj09PUludDhBcnJheSlyZXR1cm4gSnQ7aWYocj09PVVpbnQ4QXJyYXl8fHI9PT1VaW50OENsYW1wZWRBcnJheSlyZXR1cm4gTmU7aWYocj09PUludDE2QXJyYXkpcmV0dXJuIFp0O2lmKHI9PT1VaW50MTZBcnJheSlyZXR1cm4gZXI7aWYocj09PUludDMyQXJyYXkpcmV0dXJuIHRyO2lmKHI9PT1VaW50MzJBcnJheSlyZXR1cm4gcnI7aWYocj09PUZsb2F0MzJBcnJheSlyZXR1cm4gbnI7dGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlIil9ZnVuY3Rpb24gRW4ocil7Y29uc3QgZT1ibltyXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gZ2wgdHlwZSIpO3JldHVybiBlfWNvbnN0IGF0PXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjwidSI/ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYnVmZmVyJiYoZS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ZS5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcil9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmJ1ZmZlciYmZS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn07ZnVuY3Rpb24gVG4oLi4ucil7Y29uc29sZS5lcnJvciguLi5yKX1jb25zdCBBbj1uZXcgTWFwO2Z1bmN0aW9uIHV0KHIsZSl7aWYoIXJ8fHR5cGVvZiByIT0ib2JqZWN0IilyZXR1cm4hMTtsZXQgdD1Bbi5nZXQoZSk7dHx8KHQ9bmV3IFdlYWtNYXAsQW4uc2V0KGUsdCkpO2xldCBuPXQuZ2V0KHIpO2lmKG49PT12b2lkIDApe2NvbnN0IGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpO249aS5zdWJzdHJpbmcoOCxpLmxlbmd0aC0xKT09PWUsdC5zZXQocixuKX1yZXR1cm4gbn1mdW5jdGlvbiBVcyhyLGUpe3JldHVybiB0eXBlb2YgV2ViR0xCdWZmZXI8InUiJiZ1dChlLCJXZWJHTEJ1ZmZlciIpfWZ1bmN0aW9uIEJzKHIsZSl7cmV0dXJuIHR5cGVvZiBXZWJHTFJlbmRlcmJ1ZmZlcjwidSImJnV0KGUsIldlYkdMUmVuZGVyYnVmZmVyIil9ZnVuY3Rpb24gb3IocixlKXtyZXR1cm4gdHlwZW9mIFdlYkdMVGV4dHVyZTwidSImJnV0KGUsIldlYkdMVGV4dHVyZSIpfWZ1bmN0aW9uIGtzKHIsZSl7cmV0dXJuIHR5cGVvZiBXZWJHTFNhbXBsZXI8InUiJiZ1dChlLCJXZWJHTFNhbXBsZXIiKX1jb25zdCB3bj0zNTA0NCxwZT0zNDk2MixMcz0zNDk2Mywkcz0zNDY2MCxHcz01MTIwLHpzPTUxMjEsSHM9NTEyMixWcz01MTIzLFdzPTUxMjQsanM9NTEyNSxSbj01MTI2LFNuPXthdHRyaWJQcmVmaXg6IiJ9O2Z1bmN0aW9uIHFzKHIsZSx0LG4saSl7ci5iaW5kQnVmZmVyKGUsdCksci5idWZmZXJEYXRhKGUsbixpfHx3bil9ZnVuY3Rpb24gSW4ocixlLHQsbil7aWYoVXMocixlKSlyZXR1cm4gZTt0PXR8fHBlO2NvbnN0IGk9ci5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gcXMocix0LGksZSxuKSxpfWZ1bmN0aW9uIEZuKHIpe3JldHVybiByPT09ImluZGljZXMifWZ1bmN0aW9uIFhzKHIpe3JldHVybiByPT09SW50OEFycmF5fHxyPT09VWludDhBcnJheX1mdW5jdGlvbiBZcyhyKXtyZXR1cm4gci5sZW5ndGg/cjpyLmRhdGF9Y29uc3QgUXM9L2Nvb3JkfHRleHR1cmUvaSxLcz0vY29sb3J8Y29sb3VyL2k7ZnVuY3Rpb24gSnMocixlKXtsZXQgdDtpZihRcy50ZXN0KHIpP3Q9MjpLcy50ZXN0KHIpP3Q9NDp0PTMsZSV0PjApdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IGd1ZXNzIG51bUNvbXBvbmVudHMgZm9yIGF0dHJpYnV0ZSAnJHtyfScuIFRyaWVkICR7dH0gYnV0ICR7ZX0gdmFsdWVzIGlzIG5vdCBldmVubHkgZGl2aXNpYmxlIGJ5ICR7dH0uIFlvdSBzaG91bGQgc3BlY2lmeSBpdC5gKTtyZXR1cm4gdH1mdW5jdGlvbiBacyhyLGUsdCl7cmV0dXJuIHIubnVtQ29tcG9uZW50c3x8ci5zaXplfHxKcyhlLHR8fFlzKHIpLmxlbmd0aCl9ZnVuY3Rpb24gUG4ocixlKXtpZihhdChyKSlyZXR1cm4gcjtpZihhdChyLmRhdGEpKXJldHVybiByLmRhdGE7QXJyYXkuaXNBcnJheShyKSYmKHI9e2RhdGE6cn0pO2xldCB0PXIudHlwZT9zcihyLnR5cGUpOnZvaWQgMDtyZXR1cm4gdHx8KEZuKGUpP3Q9VWludDE2QXJyYXk6dD1GbG9hdDMyQXJyYXkpLG5ldyB0KHIuZGF0YSl9ZnVuY3Rpb24gZWEocil7cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIj9yOnI/dm4ocik6Um59ZnVuY3Rpb24gc3Iocil7cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIj9FbihyKTpyfHxGbG9hdDMyQXJyYXl9ZnVuY3Rpb24gdGEocixlKXtyZXR1cm57YnVmZmVyOmUuYnVmZmVyLG51bVZhbHVlczoyKjMqNCx0eXBlOmVhKGUudHlwZSksYXJyYXlUeXBlOnNyKGUudHlwZSl9fWZ1bmN0aW9uIHJhKHIsZSl7Y29uc3QgdD1lLmRhdGF8fGUsbj1zcihlLnR5cGUpLGk9dCpuLkJZVEVTX1BFUl9FTEVNRU5ULG89ci5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gci5iaW5kQnVmZmVyKHBlLG8pLHIuYnVmZmVyRGF0YShwZSxpLGUuZHJhd1R5cGV8fHduKSx7YnVmZmVyOm8sbnVtVmFsdWVzOnQsdHlwZTp2bihuKSxhcnJheVR5cGU6bn19ZnVuY3Rpb24gbmEocixlLHQpe2NvbnN0IG49UG4oZSx0KTtyZXR1cm57YXJyYXlUeXBlOm4uY29uc3RydWN0b3IsYnVmZmVyOkluKHIsbix2b2lkIDAsZS5kcmF3VHlwZSksdHlwZTppcihuKSxudW1WYWx1ZXM6MH19ZnVuY3Rpb24gaWEocixlKXtjb25zdCB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCFGbihuKSl7Y29uc3QgaT1lW25dLG89aS5hdHRyaWJ8fGkubmFtZXx8aS5hdHRyaWJOYW1lfHxTbi5hdHRyaWJQcmVmaXgrbjtpZihpLnZhbHVlKXtpZighQXJyYXkuaXNBcnJheShpLnZhbHVlKSYmIWF0KGkudmFsdWUpKXRocm93IG5ldyBFcnJvcigiYXJyYXkudmFsdWUgaXMgbm90IGFycmF5IG9yIHR5cGVkYXJyYXkiKTt0W29dPXt2YWx1ZTppLnZhbHVlfX1lbHNle2xldCBzO2kuYnVmZmVyJiZpLmJ1ZmZlciBpbnN0YW5jZW9mIFdlYkdMQnVmZmVyP3M9dGE6dHlwZW9mIGk9PSJudW1iZXIifHx0eXBlb2YgaS5kYXRhPT0ibnVtYmVyIj9zPXJhOnM9bmE7Y29uc3R7YnVmZmVyOmEsdHlwZTp1LG51bVZhbHVlczpmLGFycmF5VHlwZTpjfT1zKHIsaSxuKSxkPWkubm9ybWFsaXplIT09dm9pZCAwP2kubm9ybWFsaXplOlhzKGMpLHk9WnMoaSxuLGYpO3Rbb109e2J1ZmZlcjphLG51bUNvbXBvbmVudHM6eSx0eXBlOnUsbm9ybWFsaXplOmQsc3RyaWRlOmkuc3RyaWRlfHwwLG9mZnNldDppLm9mZnNldHx8MCxkaXZpc29yOmkuZGl2aXNvcj09PXZvaWQgMD92b2lkIDA6aS5kaXZpc29yLGRyYXdUeXBlOmkuZHJhd1R5cGV9fX19KSxyLmJpbmRCdWZmZXIocGUsbnVsbCksdH1mdW5jdGlvbiBvYShyLGUpe3JldHVybiBlPT09R3N8fGU9PT16cz8xOmU9PT1Ic3x8ZT09PVZzPzI6ZT09PVdzfHxlPT09anN8fGU9PT1Sbj80OjB9Y29uc3QgYXI9WyJwb3NpdGlvbiIsInBvc2l0aW9ucyIsImFfcG9zaXRpb24iXTtmdW5jdGlvbiBzYShyLGUpe2xldCB0LG47Zm9yKG49MDtuPGFyLmxlbmd0aCYmKHQ9YXJbbl0sISh0IGluIGV8fCh0PVNuLmF0dHJpYlByZWZpeCt0LHQgaW4gZSkpKTsrK24pO249PT1hci5sZW5ndGgmJih0PU9iamVjdC5rZXlzKGUpWzBdKTtjb25zdCBpPWVbdF07aWYoIWkuYnVmZmVyKXJldHVybiAxO3IuYmluZEJ1ZmZlcihwZSxpLmJ1ZmZlcik7Y29uc3Qgbz1yLmdldEJ1ZmZlclBhcmFtZXRlcihwZSwkcyk7ci5iaW5kQnVmZmVyKHBlLG51bGwpO2NvbnN0IHM9b2EocixpLnR5cGUpLGE9by9zLHU9aS5udW1Db21wb25lbnRzfHxpLnNpemUsZj1hL3U7aWYoZiUxIT09MCl0aHJvdyBuZXcgRXJyb3IoYG51bUNvbXBvbmVudHMgJHt1fSBub3QgY29ycmVjdCBmb3IgbGVuZ3RoICR7bGVuZ3RofWApO3JldHVybiBmfWZ1bmN0aW9uIGFhKHIsZSx0KXtjb25zdCBuPWlhKHIsZSksaT1PYmplY3QuYXNzaWduKHt9LHR8fHt9KTtpLmF0dHJpYnM9T2JqZWN0LmFzc2lnbih7fSx0P3QuYXR0cmliczp7fSxuKTtjb25zdCBvPWUuaW5kaWNlcztpZihvKXtjb25zdCBzPVBuKG8sImluZGljZXMiKTtpLmluZGljZXM9SW4ocixzLExzKSxpLm51bUVsZW1lbnRzPXMubGVuZ3RoLGkuZWxlbWVudFR5cGU9aXIocyl9ZWxzZSBpLm51bUVsZW1lbnRzfHwoaS5udW1FbGVtZW50cz1zYShyLGkuYXR0cmlicykpO3JldHVybiBpfWZ1bmN0aW9uIFVlKHIpe3JldHVybiEhci50ZXhTdG9yYWdlMkR9Y29uc3QgRG49ZnVuY3Rpb24oKXtjb25zdCByPXt9LGU9e307ZnVuY3Rpb24gdChuKXtjb25zdCBpPW4uY29uc3RydWN0b3IubmFtZTtpZighcltpXSl7Zm9yKGNvbnN0IG8gaW4gbilpZih0eXBlb2YgbltvXT09Im51bWJlciIpe2NvbnN0IHM9ZVtuW29dXTtlW25bb11dPXM/YCR7c30gfCAke299YDpvfXJbaV09ITB9fXJldHVybiBmdW5jdGlvbihpLG8pe3JldHVybiB0KGkpLGVbb118fCh0eXBlb2Ygbz09Im51bWJlciI/YDB4JHtvLnRvU3RyaW5nKDE2KX1gOm8pfX0oKSxhZT17dGV4dHVyZUNvbG9yOm5ldyBVaW50OEFycmF5KFsxMjgsMTkyLDI1NSwyNTVdKSx0ZXh0dXJlT3B0aW9uczp7fSxjcm9zc09yaWdpbjp2b2lkIDB9LEJlPWF0LE1uPWZ1bmN0aW9uKCl7bGV0IHI7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHI9cnx8KHR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTpudWxsKSxyfX0oKSxDbj02NDA2LFo9NjQwNyxGPTY0MDgsT249NjQwOSxObj02NDEwLGtlPTY0MDIsVW49MzQwNDEsY3Q9MzMwNzEsdWE9OTcyOCxjYT05NzI5LHVlPTM1NTMsY2U9MzQwNjcseWU9MzI4NzksX2U9MzU4NjYsdXI9MzQwNjksZmE9MzQwNzAsbGE9MzQwNzEsZGE9MzQwNzIsbWE9MzQwNzMsaGE9MzQwNzQsY3I9MTAyNDEsZnI9MTAyNDAsZnQ9MTAyNDIsbHQ9MTAyNDMsQm49MzI4ODIscGE9MzMwODIseWE9MzMwODMsX2E9MzMwODQseGE9MzMwODUsbHI9MzMxNyxrbj0zMzE0LExuPTMyODc4LCRuPTMzMTYsR249MzMxNSx6bj0zMjg3NyxnYT0zNzQ0MyxiYT0zNzQ0MSx2YT0zNzQ0MCxFYT0zMzMyMSxUYT0zNjc1NixBYT0zMzMyNSx3YT0zMzMyNixSYT0zMzMzMCxTYT0zMzMyOSxJYT0zMzMzOCxGYT0zMzMzNyxQYT0zMzM0MCxEYT0zMzMzOSxNYT0zMzMyMyxDYT0zNjc1NyxPYT0zMzMyNyxOYT0zMzMyOCxVYT0zMzMzNixCYT0zMzMzNSxrYT0zMzMzMixMYT0zMzMzMSwkYT0zMzMzNCxHYT0zMzMzMyx6YT0zMjg0OSxIYT0zNTkwNSxWYT0zNjE5NCxXYT0zNjc1OCxqYT0zNTg5OCxxYT0zNTkwMSxYYT0zNDg0MyxZYT0zNDgzNyxRYT0zNjIyMSxLYT0zNjIzOSxKYT0zNjIxNSxaYT0zNjIzMyxldT0zNjIwOSx0dT0zNjIyNyxydT0zMjg1NixudT0zNTkwNyxpdT0zNjc1OSxvdT0zMjg1NSxzdT0zMjg1NCxhdT0zMjg1Nyx1dT0zNDg0MixjdT0zNDgzNixmdT0zNjIyMCxsdT0zNjIzOCxkdT0zNjk3NSxtdT0zNjIxNCxodT0zNjIzMixwdT0zNjIyNix5dT0zNjIwOCxfdT0zMzE4OSx4dT0zMzE5MCxndT0zNjAxMixidT0zNjAxMyx2dT0zNTA1NixmZT01MTIwLEk9NTEyMSxkdD01MTIyLFNlPTUxMjMsbXQ9NTEyNCx4ZT01MTI1LEI9NTEyNixIbj0zMjgxOSxWbj0zMjgyMCxXbj0zMzYzNSxqPTUxMzEsTGU9MzYxOTMsZHI9MzM2NDAsRXU9MzU4OTksVHU9MzU5MDIsQXU9MzYyNjksd3U9MzQwNDIsaHQ9MzMzMTksSWU9MzMzMjAscHQ9NjQwMyxGZT0zNjI0NCxQZT0zNjI0OCxnZT0zNjI0OTtsZXQgbXI7ZnVuY3Rpb24geXQocil7aWYoIW1yKXtjb25zdCBlPXt9O2VbQ25dPXt0ZXh0dXJlRm9ybWF0OkNuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEsMiwyLDRdLHR5cGU6W0ksaixMZSxCXX0sZVtPbl09e3RleHR1cmVGb3JtYXQ6T24sY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMSwyLDIsNF0sdHlwZTpbSSxqLExlLEJdfSxlW05uXT17dGV4dHVyZUZvcm1hdDpObixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsyLDQsNCw4XSx0eXBlOltJLGosTGUsQl19LGVbWl09e3RleHR1cmVGb3JtYXQ6Wixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlszLDYsNiwxMiwyXSx0eXBlOltJLGosTGUsQixXbl19LGVbRl09e3RleHR1cmVGb3JtYXQ6Rixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDgsOCwxNiwyLDJdLHR5cGU6W0ksaixMZSxCLEhuLFZuXX0sZVtrZV09e3RleHR1cmVGb3JtYXQ6a2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMiw0XSx0eXBlOlt4ZSxTZV19LGVbRWFdPXt0ZXh0dXJlRm9ybWF0OnB0LGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W0ldfSxlW1RhXT17dGV4dHVyZUZvcm1hdDpwdCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxXSx0eXBlOltmZV19LGVbQWFdPXt0ZXh0dXJlRm9ybWF0OnB0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzQsMl0sdHlwZTpbQixqXX0sZVt3YV09e3RleHR1cmVGb3JtYXQ6cHQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbQl19LGVbUmFdPXt0ZXh0dXJlRm9ybWF0OkZlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W0ldfSxlW1NhXT17dGV4dHVyZUZvcm1hdDpGZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxXSx0eXBlOltmZV19LGVba2FdPXt0ZXh0dXJlRm9ybWF0OkZlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W1NlXX0sZVtMYV09e3RleHR1cmVGb3JtYXQ6RmUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbZHRdfSxlWyRhXT17dGV4dHVyZUZvcm1hdDpGZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt4ZV19LGVbR2FdPXt0ZXh0dXJlRm9ybWF0OkZlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W210XX0sZVtNYV09e3RleHR1cmVGb3JtYXQ6aHQsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbSV19LGVbQ2FdPXt0ZXh0dXJlRm9ybWF0Omh0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W2ZlXX0sZVtPYV09e3RleHR1cmVGb3JtYXQ6aHQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbOCw0XSx0eXBlOltCLGpdfSxlW05hXT17dGV4dHVyZUZvcm1hdDpodCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltCXX0sZVtVYV09e3RleHR1cmVGb3JtYXQ6SWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbSV19LGVbQmFdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W2ZlXX0sZVtJYV09e3RleHR1cmVGb3JtYXQ6SWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbU2VdfSxlW0ZhXT17dGV4dHVyZUZvcm1hdDpJZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltkdF19LGVbUGFdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzhdLHR5cGU6W3hlXX0sZVtEYV09e3RleHR1cmVGb3JtYXQ6SWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbbXRdfSxlW3phXT17dGV4dHVyZUZvcm1hdDpaLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W0ldfSxlW0hhXT17dGV4dHVyZUZvcm1hdDpaLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W0ldfSxlW1ZhXT17dGV4dHVyZUZvcm1hdDpaLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzMsMl0sdHlwZTpbSSxXbl19LGVbV2FdPXt0ZXh0dXJlRm9ybWF0OlosY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbM10sdHlwZTpbZmVdfSxlW2phXT17dGV4dHVyZUZvcm1hdDpaLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEyLDYsNF0sdHlwZTpbQixqLEV1XX0sZVtxYV09e3RleHR1cmVGb3JtYXQ6Wixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxMiw2LDRdLHR5cGU6W0IsaixUdV19LGVbWGFdPXt0ZXh0dXJlRm9ybWF0OlosY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTIsNl0sdHlwZTpbQixqXX0sZVtZYV09e3RleHR1cmVGb3JtYXQ6Wixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbQl19LGVbUWFdPXt0ZXh0dXJlRm9ybWF0OlBlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W0ldfSxlW0thXT17dGV4dHVyZUZvcm1hdDpQZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlszXSx0eXBlOltmZV19LGVbSmFdPXt0ZXh0dXJlRm9ybWF0OlBlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzZdLHR5cGU6W1NlXX0sZVtaYV09e3RleHR1cmVGb3JtYXQ6UGUsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNl0sdHlwZTpbZHRdfSxlW2V1XT17dGV4dHVyZUZvcm1hdDpQZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbeGVdfSxlW3R1XT17dGV4dHVyZUZvcm1hdDpQZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbbXRdfSxlW3J1XT17dGV4dHVyZUZvcm1hdDpGLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0ldfSxlW251XT17dGV4dHVyZUZvcm1hdDpGLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0ldfSxlW2l1XT17dGV4dHVyZUZvcm1hdDpGLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W2ZlXX0sZVtvdV09e3RleHR1cmVGb3JtYXQ6Rixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDIsNF0sdHlwZTpbSSxWbixkcl19LGVbc3VdPXt0ZXh0dXJlRm9ybWF0OkYsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbNCwyXSx0eXBlOltJLEhuXX0sZVthdV09e3RleHR1cmVGb3JtYXQ6Rixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltkcl19LGVbdXVdPXt0ZXh0dXJlRm9ybWF0OkYsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTYsOF0sdHlwZTpbQixqXX0sZVtjdV09e3RleHR1cmVGb3JtYXQ6Rixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxNl0sdHlwZTpbQl19LGVbZnVdPXt0ZXh0dXJlRm9ybWF0OmdlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0ldfSxlW2x1XT17dGV4dHVyZUZvcm1hdDpnZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltmZV19LGVbZHVdPXt0ZXh0dXJlRm9ybWF0OmdlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W2RyXX0sZVttdV09e3RleHR1cmVGb3JtYXQ6Z2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbU2VdfSxlW2h1XT17dGV4dHVyZUZvcm1hdDpnZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltkdF19LGVbcHVdPXt0ZXh0dXJlRm9ybWF0OmdlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOlttdF19LGVbeXVdPXt0ZXh0dXJlRm9ybWF0OmdlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOlt4ZV19LGVbX3VdPXt0ZXh0dXJlRm9ybWF0OmtlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzIsNF0sdHlwZTpbU2UseGVdfSxlW3h1XT17dGV4dHVyZUZvcm1hdDprZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt4ZV19LGVbZ3VdPXt0ZXh0dXJlRm9ybWF0OmtlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0JdfSxlW3Z1XT17dGV4dHVyZUZvcm1hdDpVbixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt3dV19LGVbYnVdPXt0ZXh0dXJlRm9ybWF0OlVuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0F1XX0sT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtjb25zdCBuPWVbdF07bi5ieXRlc1BlckVsZW1lbnRNYXA9e30sbi5ieXRlc1BlckVsZW1lbnQuZm9yRWFjaChmdW5jdGlvbihpLG8pe2NvbnN0IHM9bi50eXBlW29dO24uYnl0ZXNQZXJFbGVtZW50TWFwW3NdPWl9KX0pLG1yPWV9cmV0dXJuIG1yW3JdfWZ1bmN0aW9uIFJ1KHIsZSl7Y29uc3QgdD15dChyKTtpZighdCl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7Y29uc3Qgbj10LmJ5dGVzUGVyRWxlbWVudE1hcFtlXTtpZihuPT09dm9pZCAwKXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm4gbn1mdW5jdGlvbiAkZShyKXtjb25zdCBlPXl0KHIpO2lmKCFlKXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm57Zm9ybWF0OmUudGV4dHVyZUZvcm1hdCx0eXBlOmUudHlwZVswXX19ZnVuY3Rpb24gam4ocil7cmV0dXJuKHImci0xKT09PTB9ZnVuY3Rpb24gU3UocixlLHQsbil7aWYoIVVlKHIpKXJldHVybiBqbihlKSYmam4odCk7Y29uc3QgaT15dChuKTtpZighaSl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7cmV0dXJuIGkuY29sb3JSZW5kZXJhYmxlJiZpLnRleHR1cmVGaWx0ZXJhYmxlfWZ1bmN0aW9uIEl1KHIpe2NvbnN0IGU9eXQocik7aWYoIWUpdGhyb3cidW5rbm93biBpbnRlcm5hbCBmb3JtYXQiO3JldHVybiBlLnRleHR1cmVGaWx0ZXJhYmxlfWZ1bmN0aW9uIEZ1KHIsZSx0KXtyZXR1cm4gQmUoZSk/aXIoZSk6dHx8SX1mdW5jdGlvbiBfdChyLGUsdCxuLGkpe2lmKGklMSE9PTApdGhyb3ciY2FuJ3QgZ3Vlc3MgZGltZW5zaW9ucyI7aWYoIXQmJiFuKXtjb25zdCBvPU1hdGguc3FydChpLyhlPT09Y2U/NjoxKSk7byUxPT09MD8odD1vLG49byk6KHQ9aSxuPTEpfWVsc2UgaWYobil7aWYoIXQmJih0PWkvbix0JTEpKXRocm93ImNhbid0IGd1ZXNzIGRpbWVuc2lvbnMifWVsc2UgaWYobj1pL3QsbiUxKXRocm93ImNhbid0IGd1ZXNzIGRpbWVuc2lvbnMiO3JldHVybnt3aWR0aDp0LGhlaWdodDpufX1mdW5jdGlvbiBEZShyLGUpe2UuY29sb3JzcGFjZUNvbnZlcnNpb24hPT12b2lkIDAmJnIucGl4ZWxTdG9yZWkoZ2EsZS5jb2xvcnNwYWNlQ29udmVyc2lvbiksZS5wcmVtdWx0aXBseUFscGhhIT09dm9pZCAwJiZyLnBpeGVsU3RvcmVpKGJhLGUucHJlbXVsdGlwbHlBbHBoYSksZS5mbGlwWSE9PXZvaWQgMCYmci5waXhlbFN0b3JlaSh2YSxlLmZsaXBZKX1mdW5jdGlvbiBxbihyKXtyLnBpeGVsU3RvcmVpKGxyLDQpLFVlKHIpJiYoci5waXhlbFN0b3JlaShrbiwwKSxyLnBpeGVsU3RvcmVpKExuLDApLHIucGl4ZWxTdG9yZWkoJG4sMCksci5waXhlbFN0b3JlaShHbiwwKSxyLnBpeGVsU3RvcmVpKHpuLDApKX1mdW5jdGlvbiBQdShyLGUsdCxuKXtuLm1pbk1hZyYmKHQuY2FsbChyLGUsY3Isbi5taW5NYWcpLHQuY2FsbChyLGUsZnIsbi5taW5NYWcpKSxuLm1pbiYmdC5jYWxsKHIsZSxjcixuLm1pbiksbi5tYWcmJnQuY2FsbChyLGUsZnIsbi5tYWcpLG4ud3JhcCYmKHQuY2FsbChyLGUsZnQsbi53cmFwKSx0LmNhbGwocixlLGx0LG4ud3JhcCksKGU9PT15ZXx8a3MocixlKSkmJnQuY2FsbChyLGUsQm4sbi53cmFwKSksbi53cmFwUiYmdC5jYWxsKHIsZSxCbixuLndyYXBSKSxuLndyYXBTJiZ0LmNhbGwocixlLGZ0LG4ud3JhcFMpLG4ud3JhcFQmJnQuY2FsbChyLGUsbHQsbi53cmFwVCksbi5taW5Mb2QmJnQuY2FsbChyLGUscGEsbi5taW5Mb2QpLG4ubWF4TG9kJiZ0LmNhbGwocixlLHlhLG4ubWF4TG9kKSxuLmJhc2VMZXZlbCYmdC5jYWxsKHIsZSxfYSxuLmJhc2VMZXZlbCksbi5tYXhMZXZlbCYmdC5jYWxsKHIsZSx4YSxuLm1heExldmVsKX1mdW5jdGlvbiBYbihyLGUsdCl7Y29uc3Qgbj10LnRhcmdldHx8dWU7ci5iaW5kVGV4dHVyZShuLGUpLFB1KHIsbixyLnRleFBhcmFtZXRlcmksdCl9ZnVuY3Rpb24gRHUocil7cmV0dXJuIHI9cnx8YWUudGV4dHVyZUNvbG9yLEJlKHIpP3I6bmV3IFVpbnQ4QXJyYXkoW3JbMF0qMjU1LHJbMV0qMjU1LHJbMl0qMjU1LHJbM10qMjU1XSl9ZnVuY3Rpb24gaHIocixlLHQsbixpLG8pe3Q9dHx8YWUudGV4dHVyZU9wdGlvbnMsbz1vfHxGO2NvbnN0IHM9dC50YXJnZXR8fHVlO2lmKG49bnx8dC53aWR0aCxpPWl8fHQuaGVpZ2h0LHIuYmluZFRleHR1cmUocyxlKSxTdShyLG4saSxvKSlyLmdlbmVyYXRlTWlwbWFwKHMpO2Vsc2V7Y29uc3QgYT1JdShvKT9jYTp1YTtyLnRleFBhcmFtZXRlcmkocyxjcixhKSxyLnRleFBhcmFtZXRlcmkocyxmcixhKSxyLnRleFBhcmFtZXRlcmkocyxmdCxjdCksci50ZXhQYXJhbWV0ZXJpKHMsbHQsY3QpfX1mdW5jdGlvbiBHZShyKXtyZXR1cm4gci5hdXRvPT09ITB8fHIuYXV0bz09PXZvaWQgMCYmci5sZXZlbD09PXZvaWQgMH1mdW5jdGlvbiBwcihyLGUpe3JldHVybiBlPWV8fHt9LGUuY3ViZUZhY2VPcmRlcnx8W3VyLGZhLGxhLGRhLG1hLGhhXX1mdW5jdGlvbiB5cihyLGUpe2NvbnN0IG49cHIocixlKS5tYXAoZnVuY3Rpb24oaSxvKXtyZXR1cm57ZmFjZTppLG5keDpvfX0pO3JldHVybiBuLnNvcnQoZnVuY3Rpb24oaSxvKXtyZXR1cm4gaS5mYWNlLW8uZmFjZX0pLG59ZnVuY3Rpb24gWW4ocixlLHQsbil7bj1ufHxhZS50ZXh0dXJlT3B0aW9ucztjb25zdCBpPW4udGFyZ2V0fHx1ZSxvPW4ubGV2ZWx8fDA7bGV0IHM9dC53aWR0aCxhPXQuaGVpZ2h0O2NvbnN0IHU9bi5pbnRlcm5hbEZvcm1hdHx8bi5mb3JtYXR8fEYsZj0kZSh1KSxjPW4uZm9ybWF0fHxmLmZvcm1hdCxkPW4udHlwZXx8Zi50eXBlO2lmKERlKHIsbiksci5iaW5kVGV4dHVyZShpLGUpLGk9PT1jZSl7Y29uc3QgeT10LndpZHRoLF89dC5oZWlnaHQ7bGV0IG0seDtpZih5LzY9PT1fKW09Xyx4PVswLDAsMSwwLDIsMCwzLDAsNCwwLDUsMF07ZWxzZSBpZihfLzY9PT15KW09eSx4PVswLDAsMCwxLDAsMiwwLDMsMCw0LDAsNV07ZWxzZSBpZih5LzM9PT1fLzIpbT15LzMseD1bMCwwLDEsMCwyLDAsMCwxLDEsMSwyLDFdO2Vsc2UgaWYoeS8yPT09Xy8zKW09eS8yLHg9WzAsMCwxLDAsMCwxLDEsMSwwLDIsMSwyXTtlbHNlIHRocm93ImNhbid0IGZpZ3VyZSBvdXQgY3ViZSBtYXAgZnJvbSBlbGVtZW50OiAiKyh0LnNyYz90LnNyYzp0Lm5vZGVOYW1lKTtjb25zdCB2PU1uKCk7dj8odi5jYW52YXMud2lkdGg9bSx2LmNhbnZhcy5oZWlnaHQ9bSxzPW0sYT1tLHlyKHIsbikuZm9yRWFjaChmdW5jdGlvbihiKXtjb25zdCBBPXhbYi5uZHgqMiswXSptLFA9eFtiLm5keCoyKzFdKm07di5kcmF3SW1hZ2UodCxBLFAsbSxtLDAsMCxtLG0pLHIudGV4SW1hZ2UyRChiLmZhY2Usbyx1LGMsZCx2LmNhbnZhcyl9KSx2LmNhbnZhcy53aWR0aD0xLHYuY2FudmFzLmhlaWdodD0xKTp0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXA8InUiJiYocz1tLGE9bSx5cihyLG4pLmZvckVhY2goZnVuY3Rpb24oYil7Y29uc3QgQT14W2IubmR4KjIrMF0qbSxQPXhbYi5uZHgqMisxXSptO3IudGV4SW1hZ2UyRChiLmZhY2Usbyx1LG0sbSwwLGMsZCxudWxsKSxjcmVhdGVJbWFnZUJpdG1hcCh0LEEsUCxtLG0se3ByZW11bHRpcGx5QWxwaGE6Im5vbmUiLGNvbG9yU3BhY2VDb252ZXJzaW9uOiJub25lIn0pLnRoZW4oZnVuY3Rpb24oQyl7RGUocixuKSxyLmJpbmRUZXh0dXJlKGksZSksci50ZXhJbWFnZTJEKGIuZmFjZSxvLHUsYyxkLEMpLEdlKG4pJiZocihyLGUsbixzLGEsdSl9KX0pKX1lbHNlIGlmKGk9PT15ZXx8aT09PV9lKXtjb25zdCB5PU1hdGgubWluKHQud2lkdGgsdC5oZWlnaHQpLF89TWF0aC5tYXgodC53aWR0aCx0LmhlaWdodCksbT1fL3k7aWYobSUxIT09MCl0aHJvdyJjYW4gbm90IGNvbXB1dGUgM0QgZGltZW5zaW9ucyBvZiBlbGVtZW50Ijtjb25zdCB4PXQud2lkdGg9PT1fPzE6MCx2PXQuaGVpZ2h0PT09Xz8xOjA7ci5waXhlbFN0b3JlaShsciwxKSxyLnBpeGVsU3RvcmVpKGtuLHQud2lkdGgpLHIucGl4ZWxTdG9yZWkoTG4sMCksci5waXhlbFN0b3JlaSh6biwwKSxyLnRleEltYWdlM0QoaSxvLHUseSx5LHksMCxjLGQsbnVsbCk7Zm9yKGxldCBiPTA7YjxtOysrYil7Y29uc3QgQT1iKnkqeCxQPWIqeSp2O3IucGl4ZWxTdG9yZWkoJG4sQSksci5waXhlbFN0b3JlaShHbixQKSxyLnRleFN1YkltYWdlM0QoaSxvLDAsMCxiLHkseSwxLGMsZCx0KX1xbihyKX1lbHNlIHIudGV4SW1hZ2UyRChpLG8sdSxjLGQsdCk7R2UobikmJmhyKHIsZSxuLHMsYSx1KSxYbihyLGUsbil9ZnVuY3Rpb24gemUoKXt9ZnVuY3Rpb24gTXUocil7aWYodHlwZW9mIGRvY3VtZW50PCJ1Iil7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGUuaHJlZj1yLGUuaG9zdG5hbWU9PT1sb2NhdGlvbi5ob3N0bmFtZSYmZS5wb3J0PT09bG9jYXRpb24ucG9ydCYmZS5wcm90b2NvbD09PWxvY2F0aW9uLnByb3RvY29sfWVsc2V7Y29uc3QgZT1uZXcgVVJMKGxvY2F0aW9uLmhyZWYpLm9yaWdpbjtyZXR1cm4gbmV3IFVSTChyLGxvY2F0aW9uLmhyZWYpLm9yaWdpbj09PWV9fWZ1bmN0aW9uIEN1KHIsZSl7cmV0dXJuIGU9PT12b2lkIDAmJiFNdShyKT8iYW5vbnltb3VzIjplfWZ1bmN0aW9uIE91KHIsZSx0KXt0PXR8fHplO2xldCBuO2lmKGU9ZSE9PXZvaWQgMD9lOmFlLmNyb3NzT3JpZ2luLGU9Q3UocixlKSx0eXBlb2YgSW1hZ2U8InUiKXtuPW5ldyBJbWFnZSxlIT09dm9pZCAwJiYobi5jcm9zc09yaWdpbj1lKTtjb25zdCBpPWZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsbyksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixzKSxuPW51bGx9LG89ZnVuY3Rpb24oKXtjb25zdCB1PSJjb3VsZG4ndCBsb2FkIGltYWdlOiAiK3I7VG4odSksdCh1LG4pLGkoKX0scz1mdW5jdGlvbigpe3QobnVsbCxuKSxpKCl9O3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixvKSxuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHMpLG4uc3JjPXIsbn1lbHNlIGlmKHR5cGVvZiBJbWFnZUJpdG1hcDwidSIpe2xldCBpLG87Y29uc3Qgcz1mdW5jdGlvbigpe3QoaSxvKX0sYT17fTtlJiYoYS5tb2RlPSJjb3JzIiksZmV0Y2gocixhKS50aGVuKGZ1bmN0aW9uKHUpe2lmKCF1Lm9rKXRocm93IHU7cmV0dXJuIHUuYmxvYigpfSkudGhlbihmdW5jdGlvbih1KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodSx7cHJlbXVsdGlwbHlBbHBoYToibm9uZSIsY29sb3JTcGFjZUNvbnZlcnNpb246Im5vbmUifSl9KS50aGVuKGZ1bmN0aW9uKHUpe289dSxzZXRUaW1lb3V0KHMpfSkuY2F0Y2goZnVuY3Rpb24odSl7aT11LHNldFRpbWVvdXQocyl9KSxuPW51bGx9cmV0dXJuIG59ZnVuY3Rpb24gUW4ocil7cmV0dXJuIHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJnIgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcHx8dHlwZW9mIEltYWdlRGF0YTwidSImJnIgaW5zdGFuY2VvZiBJbWFnZURhdGF8fHR5cGVvZiBIVE1MRWxlbWVudDwidSImJnIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudH1mdW5jdGlvbiBfcihyLGUsdCl7cmV0dXJuIFFuKHIpPyhzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChudWxsLHIpfSkscik6T3UocixlLHQpfWZ1bmN0aW9uIHhyKHIsZSx0KXt0PXR8fGFlLnRleHR1cmVPcHRpb25zO2NvbnN0IG49dC50YXJnZXR8fHVlO2lmKHIuYmluZFRleHR1cmUobixlKSx0LmNvbG9yPT09ITEpcmV0dXJuO2NvbnN0IGk9RHUodC5jb2xvcik7aWYobj09PWNlKWZvcihsZXQgbz0wO288NjsrK28pci50ZXhJbWFnZTJEKHVyK28sMCxGLDEsMSwwLEYsSSxpKTtlbHNlIG49PT15ZXx8bj09PV9lP3IudGV4SW1hZ2UzRChuLDAsRiwxLDEsMSwwLEYsSSxpKTpyLnRleEltYWdlMkQobiwwLEYsMSwxLDAsRixJLGkpfWZ1bmN0aW9uIE51KHIsZSx0LG4pe3JldHVybiBuPW58fHplLHQ9dHx8YWUudGV4dHVyZU9wdGlvbnMseHIocixlLHQpLHQ9T2JqZWN0LmFzc2lnbih7fSx0KSxfcih0LnNyYyx0LmNyb3NzT3JpZ2luLGZ1bmN0aW9uKG8scyl7bz9uKG8sZSxzKTooWW4ocixlLHMsdCksbihudWxsLGUscykpfSl9ZnVuY3Rpb24gVXUocixlLHQsbil7bj1ufHx6ZTtjb25zdCBpPXQuc3JjO2lmKGkubGVuZ3RoIT09Nil0aHJvdyJ0aGVyZSBtdXN0IGJlIDYgdXJscyBmb3IgYSBjdWJlbWFwIjtjb25zdCBvPXQubGV2ZWx8fDAscz10LmludGVybmFsRm9ybWF0fHx0LmZvcm1hdHx8RixhPSRlKHMpLHU9dC5mb3JtYXR8fGEuZm9ybWF0LGY9dC50eXBlfHxJLGM9dC50YXJnZXR8fHVlO2lmKGMhPT1jZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFX0NVQkVfTUFQIjt4cihyLGUsdCksdD1PYmplY3QuYXNzaWduKHt9LHQpO2xldCBkPTY7Y29uc3QgeT1bXSxfPXByKHIsdCk7bGV0IG07ZnVuY3Rpb24geCh2KXtyZXR1cm4gZnVuY3Rpb24oYixBKXstLWQsYj95LnB1c2goYik6QS53aWR0aCE9PUEuaGVpZ2h0P3kucHVzaCgiY3ViZW1hcCBmYWNlIGltZyBpcyBub3QgYSBzcXVhcmU6ICIrQS5zcmMpOihEZShyLHQpLHIuYmluZFRleHR1cmUoYyxlKSxkPT09NT9wcigpLmZvckVhY2goZnVuY3Rpb24oUCl7ci50ZXhJbWFnZTJEKFAsbyxzLHUsZixBKX0pOnIudGV4SW1hZ2UyRCh2LG8scyx1LGYsQSksR2UodCkmJnIuZ2VuZXJhdGVNaXBtYXAoYykpLGQ9PT0wJiZuKHkubGVuZ3RoP3k6dm9pZCAwLGUsbSl9fW09aS5tYXAoZnVuY3Rpb24odixiKXtyZXR1cm4gX3Iodix0LmNyb3NzT3JpZ2luLHgoX1tiXSkpfSl9ZnVuY3Rpb24gQnUocixlLHQsbil7bj1ufHx6ZTtjb25zdCBpPXQuc3JjLG89dC5pbnRlcm5hbEZvcm1hdHx8dC5mb3JtYXR8fEYscz0kZShvKSxhPXQuZm9ybWF0fHxzLmZvcm1hdCx1PXQudHlwZXx8SSxmPXQudGFyZ2V0fHxfZTtpZihmIT09eWUmJmYhPT1fZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFXzNEIG9yIFRFWFRVUkVfMkRfQVJSQVkiO3hyKHIsZSx0KSx0PU9iamVjdC5hc3NpZ24oe30sdCk7bGV0IGM9aS5sZW5ndGg7Y29uc3QgZD1bXTtsZXQgeTtjb25zdCBfPXQubGV2ZWx8fDA7bGV0IG09dC53aWR0aCx4PXQuaGVpZ2h0O2NvbnN0IHY9aS5sZW5ndGg7bGV0IGI9ITA7ZnVuY3Rpb24gQShQKXtyZXR1cm4gZnVuY3Rpb24oQyxXKXtpZigtLWMsQylkLnB1c2goQyk7ZWxzZXtpZihEZShyLHQpLHIuYmluZFRleHR1cmUoZixlKSxiKXtiPSExLG09dC53aWR0aHx8Vy53aWR0aCx4PXQuaGVpZ2h0fHxXLmhlaWdodCxyLnRleEltYWdlM0QoZixfLG8sbSx4LHYsMCxhLHUsbnVsbCk7Zm9yKGxldCBpZT0wO2llPHY7KytpZSlyLnRleFN1YkltYWdlM0QoZixfLDAsMCxpZSxtLHgsMSxhLHUsVyl9ZWxzZXtsZXQgaWU9VyxYOyhXLndpZHRoIT09bXx8Vy5oZWlnaHQhPT14KSYmKFg9TW4oKSxpZT1YLmNhbnZhcyxYLmNhbnZhcy53aWR0aD1tLFguY2FudmFzLmhlaWdodD14LFguZHJhd0ltYWdlKFcsMCwwLG0seCkpLHIudGV4U3ViSW1hZ2UzRChmLF8sMCwwLFAsbSx4LDEsYSx1LGllKSxYJiZpZT09PVguY2FudmFzJiYoWC5jYW52YXMud2lkdGg9MCxYLmNhbnZhcy5oZWlnaHQ9MCl9R2UodCkmJnIuZ2VuZXJhdGVNaXBtYXAoZil9Yz09PTAmJm4oZC5sZW5ndGg/ZDp2b2lkIDAsZSx5KX19eT1pLm1hcChmdW5jdGlvbihQLEMpe3JldHVybiBfcihQLHQuY3Jvc3NPcmlnaW4sQShDKSl9KX1mdW5jdGlvbiBrdShyLGUsdCxuKXtuPW58fGFlLnRleHR1cmVPcHRpb25zO2NvbnN0IGk9bi50YXJnZXR8fHVlO3IuYmluZFRleHR1cmUoaSxlKTtsZXQgbz1uLndpZHRoLHM9bi5oZWlnaHQsYT1uLmRlcHRoO2NvbnN0IHU9bi5sZXZlbHx8MCxmPW4uaW50ZXJuYWxGb3JtYXR8fG4uZm9ybWF0fHxGLGM9JGUoZiksZD1uLmZvcm1hdHx8Yy5mb3JtYXQseT1uLnR5cGV8fEZ1KHIsdCxjLnR5cGUpO2lmKEJlKHQpKXQgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSYmKHQ9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpKTtlbHNle2NvbnN0IHY9RW4oeSk7dD1uZXcgdih0KX1jb25zdCBfPVJ1KGYseSksbT10LmJ5dGVMZW5ndGgvXztpZihtJTEpdGhyb3cibGVuZ3RoIHdyb25nIHNpemUgZm9yIGZvcm1hdDogIitEbihyLGQpO2xldCB4O2lmKGk9PT15ZXx8aT09PV9lKWlmKCFvJiYhcyYmIWEpe2NvbnN0IHY9TWF0aC5jYnJ0KG0pO2lmKHYlMSE9PTApdGhyb3ciY2FuJ3QgZ3Vlc3MgY3ViZSBzaXplIG9mIGFycmF5IG9mIG51bUVsZW1lbnRzOiAiK207bz12LHM9dixhPXZ9ZWxzZSBvJiYoIXN8fCFhKT8oeD1fdChyLGkscyxhLG0vbykscz14LndpZHRoLGE9eC5oZWlnaHQpOnMmJighb3x8IWEpPyh4PV90KHIsaSxvLGEsbS9zKSxvPXgud2lkdGgsYT14LmhlaWdodCk6KHg9X3QocixpLG8scyxtL2EpLG89eC53aWR0aCxzPXguaGVpZ2h0KTtlbHNlIHg9X3QocixpLG8scyxtKSxvPXgud2lkdGgscz14LmhlaWdodDtpZihxbihyKSxyLnBpeGVsU3RvcmVpKGxyLG4udW5wYWNrQWxpZ25tZW50fHwxKSxEZShyLG4pLGk9PT1jZSl7Y29uc3Qgdj1fL3QuQllURVNfUEVSX0VMRU1FTlQsYj1tLzYqdjt5cihyLG4pLmZvckVhY2goQT0+e2NvbnN0IFA9YipBLm5keCxDPXQuc3ViYXJyYXkoUCxQK2IpO3IudGV4SW1hZ2UyRChBLmZhY2UsdSxmLG8scywwLGQseSxDKX0pfWVsc2UgaT09PXllfHxpPT09X2U/ci50ZXhJbWFnZTNEKGksdSxmLG8scyxhLDAsZCx5LHQpOnIudGV4SW1hZ2UyRChpLHUsZixvLHMsMCxkLHksdCk7cmV0dXJue3dpZHRoOm8saGVpZ2h0OnMsZGVwdGg6YSx0eXBlOnl9fWZ1bmN0aW9uIEx1KHIsZSx0KXtjb25zdCBuPXQudGFyZ2V0fHx1ZTtyLmJpbmRUZXh0dXJlKG4sZSk7Y29uc3QgaT10LmxldmVsfHwwLG89dC5pbnRlcm5hbEZvcm1hdHx8dC5mb3JtYXR8fEYscz0kZShvKSxhPXQuZm9ybWF0fHxzLmZvcm1hdCx1PXQudHlwZXx8cy50eXBlO2lmKERlKHIsdCksbj09PWNlKWZvcihsZXQgZj0wO2Y8NjsrK2Ypci50ZXhJbWFnZTJEKHVyK2YsaSxvLHQud2lkdGgsdC5oZWlnaHQsMCxhLHUsbnVsbCk7ZWxzZSBuPT09eWV8fG49PT1fZT9yLnRleEltYWdlM0QobixpLG8sdC53aWR0aCx0LmhlaWdodCx0LmRlcHRoLDAsYSx1LG51bGwpOnIudGV4SW1hZ2UyRChuLGksbyx0LndpZHRoLHQuaGVpZ2h0LDAsYSx1LG51bGwpfWZ1bmN0aW9uIEtuKHIsZSx0KXt0PXR8fHplLGU9ZXx8YWUudGV4dHVyZU9wdGlvbnM7Y29uc3Qgbj1yLmNyZWF0ZVRleHR1cmUoKSxpPWUudGFyZ2V0fHx1ZTtsZXQgbz1lLndpZHRofHwxLHM9ZS5oZWlnaHR8fDE7Y29uc3QgYT1lLmludGVybmFsRm9ybWF0fHxGO3IuYmluZFRleHR1cmUoaSxuKSxpPT09Y2UmJihyLnRleFBhcmFtZXRlcmkoaSxmdCxjdCksci50ZXhQYXJhbWV0ZXJpKGksbHQsY3QpKTtsZXQgdT1lLnNyYztpZih1KWlmKHR5cGVvZiB1PT0iZnVuY3Rpb24iJiYodT11KHIsZSkpLHR5cGVvZiB1PT0ic3RyaW5nIilOdShyLG4sZSx0KTtlbHNlIGlmKEJlKHUpfHxBcnJheS5pc0FycmF5KHUpJiYodHlwZW9mIHVbMF09PSJudW1iZXIifHxBcnJheS5pc0FycmF5KHVbMF0pfHxCZSh1WzBdKSkpe2NvbnN0IGY9a3UocixuLHUsZSk7bz1mLndpZHRoLHM9Zi5oZWlnaHR9ZWxzZSBBcnJheS5pc0FycmF5KHUpJiYodHlwZW9mIHVbMF09PSJzdHJpbmcifHxRbih1WzBdKSk/aT09PWNlP1V1KHIsbixlLHQpOkJ1KHIsbixlLHQpOihZbihyLG4sdSxlKSxvPXUud2lkdGgscz11LmhlaWdodCk7ZWxzZSBMdShyLG4sZSk7cmV0dXJuIEdlKGUpJiZocihyLG4sZSxvLHMsYSksWG4ocixuLGUpLG59Y29uc3QgZ3I9VG47ZnVuY3Rpb24gSm4ocil7cmV0dXJuIHR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpOm51bGx9Y29uc3QgeHQ9MzM5ODQsZ3Q9MzQ5NjIsJHU9MzQ5NjMsR3U9MzU3MTMsenU9MzU3MTQsSHU9MzU2MzIsVnU9MzU2MzMsV3U9MzU5ODEsWm49MzU3MTgsanU9MzU3MjEscXU9MzU5NzEsWHU9MzUzODIsWXU9MzUzOTYsUXU9MzUzOTgsS3U9MzUzOTIsSnU9MzUzOTUsYnQ9NTEyNixlaT0zNTY2NCx0aT0zNTY2NSxyaT0zNTY2Nixicj01MTI0LG5pPTM1NjY3LGlpPTM1NjY4LG9pPTM1NjY5LHNpPTM1NjcwLGFpPTM1NjcxLHVpPTM1NjcyLGNpPTM1NjczLGZpPTM1Njc0LGxpPTM1Njc1LGRpPTM1Njc2LFp1PTM1Njc4LGVjPTM1NjgwLHRjPTM1Njc5LHJjPTM1NjgyLG5jPTM1Njg1LGljPTM1Njg2LG9jPTM1Njg3LHNjPTM1Njg4LGFjPTM1Njg5LHVjPTM1NjkwLGNjPTM2Mjg5LGZjPTM2MjkyLGxjPTM2MjkzLHZyPTUxMjUsbWk9MzYyOTQsaGk9MzYyOTUscGk9MzYyOTYsZGM9MzYyOTgsbWM9MzYyOTksaGM9MzYzMDAscGM9MzYzMDMseWM9MzYzMDYsX2M9MzYzMDcseGM9MzYzMDgsZ2M9MzYzMTEsdnQ9MzU1MyxFdD0zNDA2NyxFcj0zMjg3OSxUdD0zNTg2NixFPXt9O2Z1bmN0aW9uIHlpKHIsZSl7cmV0dXJuIEVbZV0uYmluZFBvaW50fWZ1bmN0aW9uIGJjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTFmKGUsdCl9fWZ1bmN0aW9uIHZjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTFmdihlLHQpfX1mdW5jdGlvbiBFYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0yZnYoZSx0KX19ZnVuY3Rpb24gVGMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtM2Z2KGUsdCl9fWZ1bmN0aW9uIEFjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTRmdihlLHQpfX1mdW5jdGlvbiBfaShyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0xaShlLHQpfX1mdW5jdGlvbiB4aShyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0xaXYoZSx0KX19ZnVuY3Rpb24gZ2kocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMml2KGUsdCl9fWZ1bmN0aW9uIGJpKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTNpdihlLHQpfX1mdW5jdGlvbiB2aShyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm00aXYoZSx0KX19ZnVuY3Rpb24gd2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMXVpKGUsdCl9fWZ1bmN0aW9uIFJjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTF1aXYoZSx0KX19ZnVuY3Rpb24gU2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMnVpdihlLHQpfX1mdW5jdGlvbiBJYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0zdWl2KGUsdCl9fWZ1bmN0aW9uIEZjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTR1aXYoZSx0KX19ZnVuY3Rpb24gUGMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4MmZ2KGUsITEsdCl9fWZ1bmN0aW9uIERjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDNmdihlLCExLHQpfX1mdW5jdGlvbiBNYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm1NYXRyaXg0ZnYoZSwhMSx0KX19ZnVuY3Rpb24gQ2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4MngzZnYoZSwhMSx0KX19ZnVuY3Rpb24gT2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4M3gyZnYoZSwhMSx0KX19ZnVuY3Rpb24gTmMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4Mng0ZnYoZSwhMSx0KX19ZnVuY3Rpb24gVWMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4NHgyZnYoZSwhMSx0KX19ZnVuY3Rpb24gQmMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4M3g0ZnYoZSwhMSx0KX19ZnVuY3Rpb24ga2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4NHgzZnYoZSwhMSx0KX19ZnVuY3Rpb24gTChyLGUsdCxuKXtjb25zdCBpPXlpKHIsZSk7cmV0dXJuIFVlKHIpP2Z1bmN0aW9uKG8pe2xldCBzLGE7b3IocixvKT8ocz1vLGE9bnVsbCk6KHM9by50ZXh0dXJlLGE9by5zYW1wbGVyKSxyLnVuaWZvcm0xaShuLHQpLHIuYWN0aXZlVGV4dHVyZSh4dCt0KSxyLmJpbmRUZXh0dXJlKGkscyksci5iaW5kU2FtcGxlcih0LGEpfTpmdW5jdGlvbihvKXtyLnVuaWZvcm0xaShuLHQpLHIuYWN0aXZlVGV4dHVyZSh4dCt0KSxyLmJpbmRUZXh0dXJlKGksbyl9fWZ1bmN0aW9uICQocixlLHQsbixpKXtjb25zdCBvPXlpKHIsZSkscz1uZXcgSW50MzJBcnJheShpKTtmb3IobGV0IGE9MDthPGk7KythKXNbYV09dCthO3JldHVybiBVZShyKT9mdW5jdGlvbihhKXtyLnVuaWZvcm0xaXYobixzKSxhLmZvckVhY2goZnVuY3Rpb24odSxmKXtyLmFjdGl2ZVRleHR1cmUoeHQrc1tmXSk7bGV0IGMsZDtvcihyLHUpPyhjPXUsZD1udWxsKTooYz11LnRleHR1cmUsZD11LnNhbXBsZXIpLHIuYmluZFNhbXBsZXIodCxkKSxyLmJpbmRUZXh0dXJlKG8sYyl9KX06ZnVuY3Rpb24oYSl7ci51bmlmb3JtMWl2KG4scyksYS5mb3JFYWNoKGZ1bmN0aW9uKHUsZil7ci5hY3RpdmVUZXh0dXJlKHh0K3NbZl0pLHIuYmluZFRleHR1cmUobyx1KX0pfX1FW2J0XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo0LHNldHRlcjpiYyxhcnJheVNldHRlcjp2Y30sRVtlaV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6OCxzZXR0ZXI6RWMsY29sczoyfSxFW3RpXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6VGMsY29sczozfSxFW3JpXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZToxNixzZXR0ZXI6QWMsY29sczo0fSxFW2JyXT17VHlwZTpJbnQzMkFycmF5LHNpemU6NCxzZXR0ZXI6X2ksYXJyYXlTZXR0ZXI6eGl9LEVbbmldPXtUeXBlOkludDMyQXJyYXksc2l6ZTo4LHNldHRlcjpnaSxjb2xzOjJ9LEVbaWldPXtUeXBlOkludDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6YmksY29sczozfSxFW29pXT17VHlwZTpJbnQzMkFycmF5LHNpemU6MTYsc2V0dGVyOnZpLGNvbHM6NH0sRVt2cl09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo0LHNldHRlcjp3YyxhcnJheVNldHRlcjpSY30sRVttaV09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo4LHNldHRlcjpTYyxjb2xzOjJ9LEVbaGldPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6MTIsc2V0dGVyOkljLGNvbHM6M30sRVtwaV09e1R5cGU6VWludDMyQXJyYXksc2l6ZToxNixzZXR0ZXI6RmMsY29sczo0fSxFW3NpXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjQsc2V0dGVyOl9pLGFycmF5U2V0dGVyOnhpfSxFW2FpXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjgsc2V0dGVyOmdpLGNvbHM6Mn0sRVt1aV09e1R5cGU6VWludDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6YmksY29sczozfSxFW2NpXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjE2LHNldHRlcjp2aSxjb2xzOjR9LEVbZmldPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjMyLHNldHRlcjpQYyxyb3dzOjIsY29sczoyfSxFW2xpXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo0OCxzZXR0ZXI6RGMscm93czozLGNvbHM6M30sRVtkaV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NjQsc2V0dGVyOk1jLHJvd3M6NCxjb2xzOjR9LEVbbmNdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjMyLHNldHRlcjpDYyxyb3dzOjIsY29sczozfSxFW2ljXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTozMixzZXR0ZXI6TmMscm93czoyLGNvbHM6NH0sRVtvY109e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NDgsc2V0dGVyOk9jLHJvd3M6Myxjb2xzOjJ9LEVbc2NdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjQ4LHNldHRlcjpCYyxyb3dzOjMsY29sczo0fSxFW2FjXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo2NCxzZXR0ZXI6VWMscm93czo0LGNvbHM6Mn0sRVt1Y109e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NjQsc2V0dGVyOmtjLHJvd3M6NCxjb2xzOjN9LEVbWnVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OnZ0fSxFW2VjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDpFdH0sRVt0Y109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6RXJ9LEVbcmNdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OnZ0fSxFW2NjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDpUdH0sRVtmY109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6VHR9LEVbbGNdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OkV0fSxFW2RjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDp2dH0sRVttY109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6RXJ9LEVbaGNdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OkV0fSxFW3BjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDpUdH0sRVt5Y109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6dnR9LEVbX2NdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OkVyfSxFW3hjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDpFdH0sRVtnY109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6VHR9O2Z1bmN0aW9uIEF0KHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudmFsdWUpc3dpdGNoKHIuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHQudmFsdWUubGVuZ3RoKXtjYXNlIDQ6ci52ZXJ0ZXhBdHRyaWI0ZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDM6ci52ZXJ0ZXhBdHRyaWIzZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDI6ci52ZXJ0ZXhBdHRyaWIyZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDE6ci52ZXJ0ZXhBdHRyaWIxZnYoZSx0LnZhbHVlKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigidGhlIGxlbmd0aCBvZiBhIGZsb2F0IGNvbnN0YW50IHZhbHVlIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA0ISIpfWVsc2Ugci5iaW5kQnVmZmVyKGd0LHQuYnVmZmVyKSxyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHIudmVydGV4QXR0cmliUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8YnQsdC5ub3JtYWxpemV8fCExLHQuc3RyaWRlfHwwLHQub2Zmc2V0fHwwKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcihlLHQuZGl2aXNvcnx8MCl9fWZ1bmN0aW9uIGxlKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudmFsdWUpaWYoci5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZSksdC52YWx1ZS5sZW5ndGg9PT00KXIudmVydGV4QXR0cmliNGl2KGUsdC52YWx1ZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoZSBsZW5ndGggb2YgYW4gaW50ZWdlciBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIDQhIik7ZWxzZSByLmJpbmRCdWZmZXIoZ3QsdC5idWZmZXIpLHIuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZSksci52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8YnIsdC5zdHJpZGV8fDAsdC5vZmZzZXR8fDApLHIudmVydGV4QXR0cmliRGl2aXNvciYmci52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsdC5kaXZpc29yfHwwKX19ZnVuY3Rpb24gd3QocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYodC52YWx1ZSlpZihyLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSx0LnZhbHVlLmxlbmd0aD09PTQpci52ZXJ0ZXhBdHRyaWI0dWl2KGUsdC52YWx1ZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoZSBsZW5ndGggb2YgYW4gdW5zaWduZWQgaW50ZWdlciBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIDQhIik7ZWxzZSByLmJpbmRCdWZmZXIoZ3QsdC5idWZmZXIpLHIuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZSksci52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8dnIsdC5zdHJpZGV8fDAsdC5vZmZzZXR8fDApLHIudmVydGV4QXR0cmliRGl2aXNvciYmci52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsdC5kaXZpc29yfHwwKX19ZnVuY3Rpb24gVHIocixlLHQpe2NvbnN0IG49dC5zaXplLGk9dC5jb3VudDtyZXR1cm4gZnVuY3Rpb24obyl7ci5iaW5kQnVmZmVyKGd0LG8uYnVmZmVyKTtjb25zdCBzPW8uc2l6ZXx8by5udW1Db21wb25lbnRzfHxuLGE9cy9pLHU9by50eXBlfHxidCxjPUVbdV0uc2l6ZSpzLGQ9by5ub3JtYWxpemV8fCExLHk9by5vZmZzZXR8fDAsXz1jL2k7Zm9yKGxldCBtPTA7bTxpOysrbSlyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGUrbSksci52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUrbSxhLHUsZCxjLHkrXyptKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcihlK20sby5kaXZpc29yfHwwKX19Y29uc3QgRD17fTtEW2J0XT17c2l6ZTo0LHNldHRlcjpBdH0sRFtlaV09e3NpemU6OCxzZXR0ZXI6QXR9LERbdGldPXtzaXplOjEyLHNldHRlcjpBdH0sRFtyaV09e3NpemU6MTYsc2V0dGVyOkF0fSxEW2JyXT17c2l6ZTo0LHNldHRlcjpsZX0sRFtuaV09e3NpemU6OCxzZXR0ZXI6bGV9LERbaWldPXtzaXplOjEyLHNldHRlcjpsZX0sRFtvaV09e3NpemU6MTYsc2V0dGVyOmxlfSxEW3ZyXT17c2l6ZTo0LHNldHRlcjp3dH0sRFttaV09e3NpemU6OCxzZXR0ZXI6d3R9LERbaGldPXtzaXplOjEyLHNldHRlcjp3dH0sRFtwaV09e3NpemU6MTYsc2V0dGVyOnd0fSxEW3NpXT17c2l6ZTo0LHNldHRlcjpsZX0sRFthaV09e3NpemU6OCxzZXR0ZXI6bGV9LERbdWldPXtzaXplOjEyLHNldHRlcjpsZX0sRFtjaV09e3NpemU6MTYsc2V0dGVyOmxlfSxEW2ZpXT17c2l6ZTo0LHNldHRlcjpUcixjb3VudDoyfSxEW2xpXT17c2l6ZTo5LHNldHRlcjpUcixjb3VudDozfSxEW2RpXT17c2l6ZToxNixzZXR0ZXI6VHIsY291bnQ6NH07Y29uc3QgTGM9L0VSUk9SOlxzKlxkKzooXGQrKS9naTtmdW5jdGlvbiAkYyhyLGU9IiIsdD0wKXtjb25zdCBuPVsuLi5lLm1hdGNoQWxsKExjKV0saT1uZXcgTWFwKG4ubWFwKChvLHMpPT57Y29uc3QgYT1wYXJzZUludChvWzFdKSx1PW5bcysxXSxmPXU/dS5pbmRleDplLmxlbmd0aCxjPWUuc3Vic3RyaW5nKG8uaW5kZXgsZik7cmV0dXJuW2EtMSxjXX0pKTtyZXR1cm4gci5zcGxpdChgCmApLm1hcCgobyxzKT0+e2NvbnN0IGE9aS5nZXQocyk7cmV0dXJuYCR7cysxK3R9OiAke299JHthP2AKCl5eXiAke2F9YDoiIn1gfSkuam9pbihgCmApfWNvbnN0IEVpPS9eWyBcdF0qXG4vO2Z1bmN0aW9uIFRpKHIpe2xldCBlPTA7cmV0dXJuIEVpLnRlc3QocikmJihlPTEscj1yLnJlcGxhY2UoRWksIiIpKSx7bGluZU9mZnNldDplLHNoYWRlclNvdXJjZTpyfX1mdW5jdGlvbiBHYyhyLGUpe3JldHVybiByLmVycm9yQ2FsbGJhY2soZSksci5jYWxsYmFjayYmc2V0VGltZW91dCgoKT0+e3IuY2FsbGJhY2soYCR7ZX0KJHtyLmVycm9ycy5qb2luKGAKYCl9YCl9KSxudWxsfWZ1bmN0aW9uIHpjKHIsZSx0LG4pe2lmKG49bnx8Z3IsIXIuZ2V0U2hhZGVyUGFyYW1ldGVyKHQsR3UpKXtjb25zdCBvPXIuZ2V0U2hhZGVySW5mb0xvZyh0KSx7bGluZU9mZnNldDpzLHNoYWRlclNvdXJjZTphfT1UaShyLmdldFNoYWRlclNvdXJjZSh0KSksdT1gJHskYyhhLG8scyl9CkVycm9yIGNvbXBpbGluZyAke0RuKHIsZSl9OiAke299YDtyZXR1cm4gbih1KSx1fXJldHVybiIifWZ1bmN0aW9uIEFyKHIsZSx0KXtsZXQgbixpLG87aWYodHlwZW9mIGU9PSJmdW5jdGlvbiImJih0PWUsZT12b2lkIDApLHR5cGVvZiByPT0iZnVuY3Rpb24iKXQ9cixyPXZvaWQgMDtlbHNlIGlmKHImJiFBcnJheS5pc0FycmF5KHIpKXtjb25zdCBmPXI7dD1mLmVycm9yQ2FsbGJhY2sscj1mLmF0dHJpYkxvY2F0aW9ucyxuPWYudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyxpPWYudHJhbnNmb3JtRmVlZGJhY2tNb2RlLG89Zi5jYWxsYmFja31jb25zdCBzPXR8fGdyLGE9W10sdT17ZXJyb3JDYWxsYmFjayhmLC4uLmMpe2EucHVzaChmKSxzKGYsLi4uYyl9LHRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M6bix0cmFuc2Zvcm1GZWVkYmFja01vZGU6aSxjYWxsYmFjazpvLGVycm9yczphfTt7bGV0IGY9e307QXJyYXkuaXNBcnJheShyKT9yLmZvckVhY2goZnVuY3Rpb24oYyxkKXtmW2NdPWU/ZVtkXTpkfSk6Zj1yfHx7fSx1LmF0dHJpYkxvY2F0aW9ucz1mfXJldHVybiB1fWNvbnN0IEhjPVsiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiJdO2Z1bmN0aW9uIFZjKHIsZSl7aWYoZS5pbmRleE9mKCJmcmFnIik+PTApcmV0dXJuIEh1O2lmKGUuaW5kZXhPZigidmVydCIpPj0wKXJldHVybiBWdX1mdW5jdGlvbiBXYyhyLGUsdCl7Y29uc3Qgbj1yLmdldEF0dGFjaGVkU2hhZGVycyhlKTtmb3IoY29uc3QgaSBvZiBuKXQuaGFzKGkpJiZyLmRlbGV0ZVNoYWRlcihpKTtyLmRlbGV0ZVByb2dyYW0oZSl9Y29uc3QgamM9KHI9MCk9Pm5ldyBQcm9taXNlKGU9PnNldFRpbWVvdXQoZSxyKSk7ZnVuY3Rpb24gcWMocixlLHQpe2NvbnN0IG49ci5jcmVhdGVQcm9ncmFtKCkse2F0dHJpYkxvY2F0aW9uczppLHRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M6byx0cmFuc2Zvcm1GZWVkYmFja01vZGU6c309QXIodCk7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDsrK2Epe2xldCB1PWVbYV07aWYodHlwZW9mIHU9PSJzdHJpbmciKXtjb25zdCBmPUpuKHUpLGM9Zj9mLnRleHQ6dTtsZXQgZD1yW0hjW2FdXTtmJiZmLnR5cGUmJihkPVZjKHIsZi50eXBlKXx8ZCksdT1yLmNyZWF0ZVNoYWRlcihkKSxyLnNoYWRlclNvdXJjZSh1LFRpKGMpLnNoYWRlclNvdXJjZSksci5jb21waWxlU2hhZGVyKHUpLHIuYXR0YWNoU2hhZGVyKG4sdSl9fU9iamVjdC5lbnRyaWVzKGkpLmZvckVhY2goKFthLHVdKT0+ci5iaW5kQXR0cmliTG9jYXRpb24obix1LGEpKTt7bGV0IGE9bzthJiYoYS5hdHRyaWJzJiYoYT1hLmF0dHJpYnMpLEFycmF5LmlzQXJyYXkoYSl8fChhPU9iamVjdC5rZXlzKGEpKSxyLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MobixhLHN8fFd1KSl9cmV0dXJuIHIubGlua1Byb2dyYW0obiksbn1mdW5jdGlvbiBYYyhyLGUsdCxuLGkpe2NvbnN0IG89QXIodCxuLGkpLHM9bmV3IFNldChlKSxhPXFjKHIsZSxvKTtmdW5jdGlvbiB1KGYsYyl7Y29uc3QgZD1RYyhmLGMsby5lcnJvckNhbGxiYWNrKTtyZXR1cm4gZCYmV2MoZixjLHMpLGR9aWYoby5jYWxsYmFjayl7WWMocixhKS50aGVuKCgpPT57Y29uc3QgZj11KHIsYSk7by5jYWxsYmFjayhmLGY/dm9pZCAwOmEpfSk7cmV0dXJufXJldHVybiB1KHIsYSk/dm9pZCAwOmF9YXN5bmMgZnVuY3Rpb24gWWMocixlKXtjb25zdCB0PXIuZ2V0RXh0ZW5zaW9uKCJLSFJfcGFyYWxsZWxfc2hhZGVyX2NvbXBpbGUiKSxuPXQ/KG8scyk9Pm8uZ2V0UHJvZ3JhbVBhcmFtZXRlcihzLHQuQ09NUExFVElPTl9TVEFUVVNfS0hSKTooKT0+ITA7bGV0IGk9MDtkbyBhd2FpdCBqYyhpKSxpPTFlMy82MDt3aGlsZSghbihyLGUpKX1mdW5jdGlvbiBRYyhyLGUsdCl7aWYodD10fHxnciwhci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsenUpKXtjb25zdCBpPXIuZ2V0UHJvZ3JhbUluZm9Mb2coZSk7dChgRXJyb3IgaW4gcHJvZ3JhbSBsaW5raW5nOiAke2l9YCk7Y29uc3Qgcz1yLmdldEF0dGFjaGVkU2hhZGVycyhlKS5tYXAoYT0+emMocixyLmdldFNoYWRlclBhcmFtZXRlcihhLHIuU0hBREVSX1RZUEUpLGEsdCkpO3JldHVybmAke2l9CiR7cy5maWx0ZXIoYT0+YSkuam9pbihgCmApfWB9fWZ1bmN0aW9uIEtjKHIsZSx0LG4saSl7cmV0dXJuIFhjKHIsZSx0LG4saSl9ZnVuY3Rpb24gQWkocil7Y29uc3QgZT1yLm5hbWU7cmV0dXJuIGUuc3RhcnRzV2l0aCgiZ2xfIil8fGUuc3RhcnRzV2l0aCgid2ViZ2xfIil9Y29uc3QgSmM9LyhcLnxcW3xdfFx3KykvZyxaYz1yPT5yPj0iMCImJnI8PSI5IjtmdW5jdGlvbiBlZihyLGUsdCxuKXtjb25zdCBpPXIuc3BsaXQoSmMpLmZpbHRlcihhPT5hIT09IiIpO2xldCBvPTAscz0iIjtmb3IoOzspe2NvbnN0IGE9aVtvKytdO3MrPWE7Y29uc3QgdT1aYyhhWzBdKSxmPXU/cGFyc2VJbnQoYSk6YTtpZih1JiYocys9aVtvKytdKSxvPT09aS5sZW5ndGgpe3RbZl09ZTticmVha31lbHNle2NvbnN0IGQ9aVtvKytdLHk9ZD09PSJbIixfPXRbZl18fCh5P1tdOnt9KTt0W2ZdPV8sdD1fLG5bc109bltzXXx8ZnVuY3Rpb24obSl7cmV0dXJuIGZ1bmN0aW9uKHgpe3dpKG0seCl9fShfKSxzKz1kfX19ZnVuY3Rpb24gdGYocixlKXtsZXQgdD0wO2Z1bmN0aW9uIG4oYSx1LGYpe2NvbnN0IGM9dS5uYW1lLmVuZHNXaXRoKCJbMF0iKSxkPXUudHlwZSx5PUVbZF07aWYoIXkpdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHR5cGU6IDB4JHtkLnRvU3RyaW5nKDE2KX1gKTtsZXQgXztpZih5LmJpbmRQb2ludCl7Y29uc3QgbT10O3QrPXUuc2l6ZSxjP189eS5hcnJheVNldHRlcihyLGQsbSxmLHUuc2l6ZSk6Xz15LnNldHRlcihyLGQsbSxmLHUuc2l6ZSl9ZWxzZSB5LmFycmF5U2V0dGVyJiZjP189eS5hcnJheVNldHRlcihyLGYpOl89eS5zZXR0ZXIocixmKTtyZXR1cm4gXy5sb2NhdGlvbj1mLF99Y29uc3QgaT17fSxvPXt9LHM9ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsWm4pO2ZvcihsZXQgYT0wO2E8czsrK2Epe2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtKGUsYSk7aWYoQWkodSkpY29udGludWU7bGV0IGY9dS5uYW1lO2YuZW5kc1dpdGgoIlswXSIpJiYoZj1mLnN1YnN0cigwLGYubGVuZ3RoLTMpKTtjb25zdCBjPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsdS5uYW1lKTtpZihjKXtjb25zdCBkPW4oZSx1LGMpO2lbZl09ZCxlZihmLGQsbyxpKX19cmV0dXJuIGl9ZnVuY3Rpb24gcmYocixlKXtjb25zdCB0PXt9LG49ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUscXUpO2ZvcihsZXQgaT0wO2k8bjsrK2kpe2NvbnN0IG89ci5nZXRUcmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmcoZSxpKTt0W28ubmFtZV09e2luZGV4OmksdHlwZTpvLnR5cGUsc2l6ZTpvLnNpemV9fXJldHVybiB0fWZ1bmN0aW9uIG5mKHIsZSl7Y29uc3QgdD1yLmdldFByb2dyYW1QYXJhbWV0ZXIoZSxabiksbj1bXSxpPVtdO2ZvcihsZXQgYT0wO2E8dDsrK2Epe2kucHVzaChhKSxuLnB1c2goe30pO2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtKGUsYSk7blthXS5uYW1lPXUubmFtZX1bWyJVTklGT1JNX1RZUEUiLCJ0eXBlIl0sWyJVTklGT1JNX1NJWkUiLCJzaXplIl0sWyJVTklGT1JNX0JMT0NLX0lOREVYIiwiYmxvY2tOZHgiXSxbIlVOSUZPUk1fT0ZGU0VUIiwib2Zmc2V0Il1dLmZvckVhY2goZnVuY3Rpb24oYSl7Y29uc3QgdT1hWzBdLGY9YVsxXTtyLmdldEFjdGl2ZVVuaWZvcm1zKGUsaSxyW3VdKS5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7bltkXVtmXT1jfSl9KTtjb25zdCBvPXt9LHM9ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsWHUpO2ZvcihsZXQgYT0wO2E8czsrK2Epe2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtQmxvY2tOYW1lKGUsYSksZj17aW5kZXg6ci5nZXRVbmlmb3JtQmxvY2tJbmRleChlLHUpLHVzZWRCeVZlcnRleFNoYWRlcjpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcihlLGEsWXUpLHVzZWRCeUZyYWdtZW50U2hhZGVyOnIuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyKGUsYSxRdSksc2l6ZTpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcihlLGEsS3UpLHVuaWZvcm1JbmRpY2VzOnIuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyKGUsYSxKdSl9O2YudXNlZD1mLnVzZWRCeVZlcnRleFNoYWRlcnx8Zi51c2VkQnlGcmFnbWVudFNoYWRlcixvW3VdPWZ9cmV0dXJue2Jsb2NrU3BlY3M6byx1bmlmb3JtRGF0YTpufX1mdW5jdGlvbiB3aShyLGUpe2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IG49clt0XTt0eXBlb2Ygbj09ImZ1bmN0aW9uIj9uKGVbdF0pOndpKHJbdF0sZVt0XSl9fWZ1bmN0aW9uIFJpKHIsLi4uZSl7Y29uc3QgdD1yLnVuaWZvcm1TZXR0ZXJzfHxyLG49ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTxuOysraSl7Y29uc3Qgbz1lW2ldO2lmKEFycmF5LmlzQXJyYXkobykpe2NvbnN0IHM9by5sZW5ndGg7Zm9yKGxldCBhPTA7YTxzOysrYSlSaSh0LG9bYV0pfWVsc2UgZm9yKGNvbnN0IHMgaW4gbyl7Y29uc3QgYT10W3NdO2EmJmEob1tzXSl9fX1mdW5jdGlvbiBvZihyLGUpe2NvbnN0IHQ9e30sbj1yLmdldFByb2dyYW1QYXJhbWV0ZXIoZSxqdSk7Zm9yKGxldCBpPTA7aTxuOysraSl7Y29uc3Qgbz1yLmdldEFjdGl2ZUF0dHJpYihlLGkpO2lmKEFpKG8pKWNvbnRpbnVlO2NvbnN0IHM9ci5nZXRBdHRyaWJMb2NhdGlvbihlLG8ubmFtZSksYT1EW28udHlwZV0sdT1hLnNldHRlcihyLHMsYSk7dS5sb2NhdGlvbj1zLHRbby5uYW1lXT11fXJldHVybiB0fWZ1bmN0aW9uIHNmKHIsZSl7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgbj1yW3RdO24mJm4oZVt0XSl9fWZ1bmN0aW9uIGFmKHIsZSx0KXt0LnZlcnRleEFycmF5T2JqZWN0P3IuYmluZFZlcnRleEFycmF5KHQudmVydGV4QXJyYXlPYmplY3QpOihzZihlLmF0dHJpYlNldHRlcnN8fGUsdC5hdHRyaWJzKSx0LmluZGljZXMmJnIuYmluZEJ1ZmZlcigkdSx0LmluZGljZXMpKX1mdW5jdGlvbiBTaShyLGUpe2NvbnN0IHQ9dGYocixlKSxuPW9mKHIsZSksaT17cHJvZ3JhbTplLHVuaWZvcm1TZXR0ZXJzOnQsYXR0cmliU2V0dGVyczpufTtyZXR1cm4gVWUocikmJihpLnVuaWZvcm1CbG9ja1NwZWM9bmYocixlKSxpLnRyYW5zZm9ybUZlZWRiYWNrSW5mbz1yZihyLGUpKSxpfWNvbnN0IHVmPS9cc3x7fH18Oy87ZnVuY3Rpb24gY2YocixlLHQsbixpKXtjb25zdCBvPUFyKHQsbixpKSxzPVtdO2lmKGU9ZS5tYXAoZnVuY3Rpb24oZil7aWYoIXVmLnRlc3QoZikpe2NvbnN0IGM9Sm4oZik7aWYoYylmPWMudGV4dDtlbHNle2NvbnN0IGQ9YG5vIGVsZW1lbnQgd2l0aCBpZDogJHtmfWA7by5lcnJvckNhbGxiYWNrKGQpLHMucHVzaChkKX19cmV0dXJuIGZ9KSxzLmxlbmd0aClyZXR1cm4gR2MobywiIik7Y29uc3QgYT1vLmNhbGxiYWNrO2EmJihvLmNhbGxiYWNrPShmLGMpPT57YShmLGY/dm9pZCAwOlNpKHIsYykpfSk7Y29uc3QgdT1LYyhyLGUsbyk7cmV0dXJuIHU/U2kocix1KTpudWxsfWNvbnN0IGZmPTQsSWk9NTEyMztmdW5jdGlvbiBsZihyLGUsdCxuLGksbyl7dD10PT09dm9pZCAwP2ZmOnQ7Y29uc3Qgcz1lLmluZGljZXMsYT1lLmVsZW1lbnRUeXBlLHU9bj09PXZvaWQgMD9lLm51bUVsZW1lbnRzOm47aT1pPT09dm9pZCAwPzA6aSxhfHxzP28hPT12b2lkIDA/ci5kcmF3RWxlbWVudHNJbnN0YW5jZWQodCx1LGE9PT12b2lkIDA/SWk6ZS5lbGVtZW50VHlwZSxpLG8pOnIuZHJhd0VsZW1lbnRzKHQsdSxhPT09dm9pZCAwP0lpOmUuZWxlbWVudFR5cGUsaSk6byE9PXZvaWQgMD9yLmRyYXdBcnJheXNJbnN0YW5jZWQodCxpLHUsbyk6ci5kcmF3QXJyYXlzKHQsaSx1KX1jb25zdCBGaT0zNjE2MCxSdD0zNjE2MSxkZj0zNTUzLG1mPTUxMjEsaGY9NjQwMixwZj02NDA4LHlmPTMzMTkwLF9mPTM2MDEyLHhmPTM1MDU2LGdmPTM2MDEzLGJmPTMyODU0LHZmPTMyODU1LEVmPTM2MTk0LFBpPTMzMTg5LERpPTY0MDEsTWk9MzYxNjgsd3I9MzQwNDEsUnI9MzYwNjQsU3Q9MzYwOTYsQ2k9MzYxMjgsU3I9MzMzMDYsSXI9MzMwNzEsRnI9OTcyOSxUZj1be2Zvcm1hdDpwZix0eXBlOm1mLG1pbjpGcix3cmFwOklyfSx7Zm9ybWF0OndyfV0scT17fTtxW3dyXT1TcixxW0RpXT1DaSxxW01pXT1DaSxxW2hmXT1TdCxxW1BpXT1TdCxxW3lmXT1TdCxxW19mXT1TdCxxW3hmXT1TcixxW2dmXT1TcjtmdW5jdGlvbiBBZihyLGUpe3JldHVybiBxW3JdfHxxW2VdfWNvbnN0IGRlPXt9O2RlW2JmXT0hMCxkZVt2Zl09ITAsZGVbRWZdPSEwLGRlW3dyXT0hMCxkZVtQaV09ITAsZGVbRGldPSEwLGRlW01pXT0hMDtmdW5jdGlvbiB3ZihyKXtyZXR1cm4gZGVbcl19Y29uc3QgUmY9MzI7ZnVuY3Rpb24gU2Yocil7cmV0dXJuIHI+PVJyJiZyPFJyK1JmfWZ1bmN0aW9uIEl0KHIsZSx0LG4pe2NvbnN0IGk9Rmksbz1yLmNyZWF0ZUZyYW1lYnVmZmVyKCk7ci5iaW5kRnJhbWVidWZmZXIoaSxvKSx0PXR8fHIuZHJhd2luZ0J1ZmZlcldpZHRoLG49bnx8ci5kcmF3aW5nQnVmZmVySGVpZ2h0LGU9ZXx8VGY7Y29uc3Qgcz1bXSxhPXtmcmFtZWJ1ZmZlcjpvLGF0dGFjaG1lbnRzOltdLHdpZHRoOnQsaGVpZ2h0Om59O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odSxmKXtsZXQgYz11LmF0dGFjaG1lbnQ7Y29uc3QgZD11LnNhbXBsZXMseT11LmZvcm1hdDtsZXQgXz11LmF0dGFjaG1lbnRQb2ludHx8QWYoeSx1LmludGVybmFsRm9ybWF0KTtpZihffHwoXz1ScitmKSxTZihfKSYmcy5wdXNoKF8pLCFjKWlmKGQhPT12b2lkIDB8fHdmKHkpKWM9ci5jcmVhdGVSZW5kZXJidWZmZXIoKSxyLmJpbmRSZW5kZXJidWZmZXIoUnQsYyksZD4xP3IucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKFJ0LGQseSx0LG4pOnIucmVuZGVyYnVmZmVyU3RvcmFnZShSdCx5LHQsbik7ZWxzZXtjb25zdCBtPU9iamVjdC5hc3NpZ24oe30sdSk7bS53aWR0aD10LG0uaGVpZ2h0PW4sbS5hdXRvPT09dm9pZCAwJiYobS5hdXRvPSExLG0ubWluPW0ubWlufHxtLm1pbk1hZ3x8RnIsbS5tYWc9bS5tYWd8fG0ubWluTWFnfHxGcixtLndyYXBTPW0ud3JhcFN8fG0ud3JhcHx8SXIsbS53cmFwVD1tLndyYXBUfHxtLndyYXB8fElyKSxjPUtuKHIsbSl9aWYoQnMocixjKSlyLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGksXyxSdCxjKTtlbHNlIGlmKG9yKHIsYykpdS5sYXllciE9PXZvaWQgMD9yLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKGksXyxjLHUubGV2ZWx8fDAsdS5sYXllcik6ci5mcmFtZWJ1ZmZlclRleHR1cmUyRChpLF8sdS50YXJnZXR8fGRmLGMsdS5sZXZlbHx8MCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gYXR0YWNobWVudCB0eXBlIik7YS5hdHRhY2htZW50cy5wdXNoKGMpfSksci5kcmF3QnVmZmVycyYmci5kcmF3QnVmZmVycyhzKSxhfWZ1bmN0aW9uIElmKHIsZSx0KXt0PXR8fEZpLGU/KHIuYmluZEZyYW1lYnVmZmVyKHQsZS5mcmFtZWJ1ZmZlciksci52aWV3cG9ydCgwLDAsZS53aWR0aCxlLmhlaWdodCkpOihyLmJpbmRGcmFtZWJ1ZmZlcih0LG51bGwpLHIudmlld3BvcnQoMCwwLHIuZHJhd2luZ0J1ZmZlcldpZHRoLHIuZHJhd2luZ0J1ZmZlckhlaWdodCkpfWZ1bmN0aW9uIFMocixlKXtyZXR1cm4oKT0+ZSBpbnN0YW5jZW9mIFdlYkdMVGV4dHVyZT9lOktuKHIse3NyYzplLHdyYXA6ci5DTEFNUF9UT19FREdFfSl9Y29uc3QgT2k9MjtjbGFzcyBiZXtjb25zdHJ1Y3RvcihlKXtwKHRoaXMsImlkIiwiXyIpO3AodGhpcywiY29udGV4dCIpO3AodGhpcywib3V0cHV0Iik7cCh0aGlzLCJmYmkiKTtwKHRoaXMsIm9wdGlvbnMiKTtwKHRoaXMsInByb2dyYW1JbmZvIik7cCh0aGlzLCJidWZmZXJJbmZvIik7cCh0aGlzLCJwcm9maWxlciIpO3AodGhpcywibGFzdFJ1biIpO2NvbnN0e2NvbnRleHQ6dCx3aWR0aDpuLGhlaWdodDppfT1lO3RoaXMuY29udGV4dD10LHRoaXMub3B0aW9ucz1lO2NvbnN0IG89dGhpcy5idWlsZERlZmluZXMoKTt0aGlzLnByb2dyYW1JbmZvPWNmKHRoaXMuY29udGV4dCxbbyt0aGlzLmdldFZlcnRleFNoYWRlcigpLG8rdGhpcy5nZXRGcmFnbWVudFNoYWRlcigpXSksdGhpcy5idWZmZXJJbmZvPWFhKHRoaXMuY29udGV4dCx0aGlzLmdldEJ1ZmZlcnMoKSksdGhpcy5mYmk9SXQodGhpcy5jb250ZXh0LFt7Zm9ybWF0OnRoaXMuY29udGV4dC5SR0JBLHR5cGU6dGhpcy5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnRoaXMuY29udGV4dC5MSU5FQVIsd3JhcDp0aGlzLmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLG4saSksdGhpcy5vdXRwdXQ9dGhpcy5mYmkuYXR0YWNobWVudHNbMF19cmVzaXplT3V0cHV0KGUsdCl7dGhpcy5mYmk9SXQodGhpcy5jb250ZXh0LFt7Zm9ybWF0OnRoaXMuY29udGV4dC5SR0JBLHR5cGU6dGhpcy5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnRoaXMuY29udGV4dC5MSU5FQVIsd3JhcDp0aGlzLmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLGUsdCksdGhpcy5vcHRpb25zLndpZHRoPWUsdGhpcy5vcHRpb25zLmhlaWdodD10LHRoaXMub3V0cHV0PXRoaXMuZmJpLmF0dGFjaG1lbnRzWzBdfWdldERlZmluZXMoKXtyZXR1cm57fX1nZXRCdWZmZXJzKCl7cmV0dXJue3Bvc2l0aW9uOntudW1Db21wb25lbnRzOjIsZGF0YTpbLTEsLTEsLTEsMSwxLC0xLDEsMSwtMSwxLDEsLTFdfSx0ZXh0dXJlX2Nvb3JkOntudW1Db21wb25lbnRzOjIsZGF0YTpbMCwwLDAsMSwxLDAsMSwxLDAsMSwxLDBdfX19YnVpbGREZWZpbmVzKCl7bGV0IGU9IiI7Y29uc3QgdD10aGlzLmdldERlZmluZXMoKTtmb3IobGV0IG4gaW4gdCllKz1gI2RlZmluZSAke259ICR7dFtuXS50b0ZpeGVkKDEpfQpgO3JldHVybiBlfXJ1bihlKXt2YXIgaSxvLHMsYSx1LGY7KGk9dGhpcy5wcm9maWxlcik9PW51bGx8fGkucHVzaENvbnRleHQoYFske3RoaXMuaWR9XSBQUk9HIDogJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCksKG89dGhpcy5wcm9maWxlcik9PW51bGx8fG8ucHVzaENvbnRleHQoYFske3RoaXMuaWR9XSBVTklGT1JNU2ApO2Zvcihjb25zdCBjIGluIGUpdHlwZW9mIGVbY109PSJmdW5jdGlvbiImJigocz10aGlzLnByb2ZpbGVyKT09bnVsbHx8cy5wdXNoQ29udGV4dChgWyR7dGhpcy5pZH1dIFVOSSA6ICR7Y31gKSxlW2NdPWVbY10oKSwoYT10aGlzLnByb2ZpbGVyKT09bnVsbHx8YS5wb3BDb250ZXh0KGBbJHt0aGlzLmlkfV0gVU5JIDogJHtjfWApKTsodT10aGlzLnByb2ZpbGVyKT09bnVsbHx8dS5wb3BDb250ZXh0KGBbJHt0aGlzLmlkfV0gVU5JRk9STVNgKTtjb25zdCB0PURhdGUubm93KCk7bGV0IG49MDt0aGlzLmxhc3RSdW4mJihuPSh0LXRoaXMubGFzdFJ1bikvMWUzKSx0aGlzLmxhc3RSdW49dCx0aGlzLmNvbnRleHQudmlld3BvcnQoMCwwLHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQpLHRoaXMuY29udGV4dC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbUluZm8ucHJvZ3JhbSksYWYodGhpcy5jb250ZXh0LHRoaXMucHJvZ3JhbUluZm8sdGhpcy5idWZmZXJJbmZvKSxSaSh0aGlzLnByb2dyYW1JbmZvLHtkZWx0YTpuLGNhbnZhczpbdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCx0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodF0sLi4uZX0pLElmKHRoaXMuY29udGV4dCx0aGlzLm9wdGlvbnMuZGlzYWJsZUZyYW1lYnVmZmVyP251bGw6dGhpcy5mYmkpLGxmKHRoaXMuY29udGV4dCx0aGlzLmJ1ZmZlckluZm8pLChmPXRoaXMucHJvZmlsZXIpPT1udWxsfHxmLnBvcENvbnRleHQoYFske3RoaXMuaWR9XSBQUk9HIDogJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9c2V0UHJvZmlsZXIoZSl7dGhpcy5wcm9maWxlcj1lfX12YXIgRmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgbWFzazsKCnZlYzQgbG9vcCgpOwoKdm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSBsb29wKCk7IH0KYCxQZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIERmIGV4dGVuZHMgYmV7Z2V0RGVmaW5lcygpe3ZhciBlO3JldHVybntSQURJVVM6KGU9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/ZToxfX1nZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBGZit0aGlzLmNyZWF0ZUxvb3BGdW5jdGlvbigpfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBQZn1jcmVhdGVMb29wRnVuY3Rpb24oKXt2YXIgdDtsZXQgZT0odD10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD90OjE7cmV0dXJuYAoKICAgICAgICB2ZWM0IGxvb3AoKSB7IAogICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCwwLDAsMCk7CiAgICAgICAgICAgIGZsb2F0IGZhY3RvclN1bSA9IDAuOwoKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkUmFkaXVzID0gdmVjMigtJHtlfS4pIC8gY2FudmFzOwogICAgICAgICAgICB2ZWMyIG5vcm1hbGl6ZWRJbmNyZW1lbnQgPSB2ZWMyKDEuKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBkaWZmID0gbm9ybWFsaXplZFJhZGl1czsKICAgICAgICAgICAgZmxvYXQgbWF4TGVuZ3RoID0gbGVuZ3RoKG5vcm1hbGl6ZWRSYWRpdXMpOwoKICAgICAgICAgICAgZm9yKGludCB5PS0ke2V9OyB5PCR7ZSsxfTsgKyt5KSB7CiAgICAgICAgICAgICAgICBmb3IoaW50IHg9LSR7ZX07IHg8JHtlKzF9OyArK3gpIHsKICAgICAgICAgICAgICAgICAgICBmbG9hdCBmYWN0b3IgPSAoMS4tIHRleHR1cmUyRChtYXNrLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpLmEpICogKG1heExlbmd0aCAtIGxlbmd0aChkaWZmKSkgLyBtYXhMZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZhY3RvciAqIHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpOwogICAgICAgICAgICAgICAgICAgIGZhY3RvclN1bSArPSBmYWN0b3I7CiAgICAgICAgICAgICAgICAgICAgZGlmZi54ICs9IG5vcm1hbGl6ZWRJbmNyZW1lbnQueDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpZmYueSArPSBub3JtYWxpemVkSW5jcmVtZW50Lnk7CiAgICAgICAgICAgICAgICBkaWZmLnggPSBub3JtYWxpemVkUmFkaXVzLng7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAvIGZhY3RvclN1bTsKICAgICAgICB9YH19dmFyIE1mPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gc2FtcGxlcjJEIGJhY2tncm91bmQ7CnVuaWZvcm0gc2FtcGxlcjJEIGZvcmVncm91bmQ7CnVuaWZvcm0gc2FtcGxlcjJEIHRocmVzaG9sZDsKCnZvaWQgbWFpbigpIHsKICB2ZWM0IGJhY2tncm91bmRDb2xvciA9IHRleHR1cmUyRChiYWNrZ3JvdW5kLCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCBmb3JlZ3JvdW5kQ29sb3IgPSB0ZXh0dXJlMkQoZm9yZWdyb3VuZCwgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgdHJlc2hvbGRDb2xvciA9IHRleHR1cmUyRCh0aHJlc2hvbGQsIF90ZXh0dXJlX2Nvb3JkKTsKICBnbF9GcmFnQ29sb3IgPSBmb3JlZ3JvdW5kQ29sb3IgKiB0cmVzaG9sZENvbG9yLmEgKwogICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciAqICgxLiAtIHRyZXNob2xkQ29sb3IuYSk7Cn0KYCxDZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKICBfdGV4dHVyZV9jb29yZC55ID0gMS4gLSB0ZXh0dXJlX2Nvb3JkLnk7Cn0KYDtjbGFzcyBQciBleHRlbmRzIGJle2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIE1mfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBDZn19Y2xhc3MgRHJ7Y29uc3RydWN0b3IoKXtwKHRoaXMsInN0ZXBzIixbXSk7cCh0aGlzLCJwcm9maWxlciIpfWFkZFN0ZXAoZSl7dGhpcy5zdGVwcy5wdXNoKGUpfWFzeW5jIHJ1bigpe2Zvcihjb25zdCBlIG9mIHRoaXMuc3RlcHMpZS5wcm9ncmFtLnJ1bihlLmdldFVuaWZvcm1zKCkpfXJlc2l6ZU91dHB1dChlLHQpe3ZhciBuLGk7KG49dGhpcy5wcm9maWxlcik9PW51bGx8fG4ucHVzaENvbnRleHQoYFBJUCBbJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9XWApO2Zvcihjb25zdCBvIG9mIHRoaXMuc3RlcHMpby5wcmV2ZW50UmVzaXplfHxvLnByb2dyYW0ucmVzaXplT3V0cHV0KGUsdCk7KGk9dGhpcy5wcm9maWxlcik9PW51bGx8fGkucG9wQ29udGV4dChgUElQIFske3RoaXMuY29uc3RydWN0b3IubmFtZX1dYCl9c2V0UHJvZmlsZXIoZSl7dGhpcy5wcm9maWxlcj1lO2Zvcihjb25zdCB0IG9mIHRoaXMuc3RlcHMpdC5wcm9ncmFtLnNldFByb2ZpbGVyKGUpfXNldElkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuc3RlcHMpdC5wcm9ncmFtLmlkPWV9fWNsYXNzIE1yIGV4dGVuZHMgRHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO3AodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMSl9fWNvbnN0IE9mPTEwLE5mPTIsVWY9ODtjbGFzcyBCZiBleHRlbmRzIE1ye2NvbnN0cnVjdG9yKHQsbil7c3VwZXIoKTtwKHRoaXMsImlucHV0SW1hZ2UiKTtwKHRoaXMsImlucHV0TWFzayIpO3AodGhpcywiYmx1ciIpO3RoaXMuY29udGV4dD10LHRoaXMucmFkaXVzPW47Y29uc3QgaT17Y29udGV4dDp0LGhlaWdodDp0LmNhbnZhcy5oZWlnaHQsd2lkdGg6dC5jYW52YXMud2lkdGh9O3RoaXMuYmx1cj1uZXcgRGYoey4uLmkscmFkaXVzOm4sLi4udGhpcy5nZXRCbHVyVGV4dHVyZVNpemUodC5jYW52YXMud2lkdGgsdC5jYW52YXMuaGVpZ2h0KX0pO2NvbnN0IG89bmV3IFByKHsuLi5pLGRpc2FibGVGcmFtZWJ1ZmZlcjohMH0pO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTp0aGlzLmJsdXIscHJldmVudFJlc2l6ZTohMCxnZXRVbmlmb3JtczooKT0+KHt0ZXh0dXJlOlModCx0aGlzLmlucHV0SW1hZ2UpLG1hc2s6Uyh0LHRoaXMuaW5wdXRNYXNrKX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOm8sZ2V0VW5pZm9ybXM6KCk9Pih7YmFja2dyb3VuZDpTKHQsdGhpcy5ibHVyLm91dHB1dCksZm9yZWdyb3VuZDpTKHQsdGhpcy5pbnB1dEltYWdlKSx0aHJlc2hvbGQ6Uyh0LHRoaXMuaW5wdXRNYXNrKX0pfSl9Z2V0Qmx1clRleHR1cmVTaXplKHQsbil7Y29uc3QgaT10aGlzLnJhZGl1cz5PZj9VZjpOZjtyZXR1cm57d2lkdGg6TWF0aC5tYXgoT2ksdC9pKSxoZWlnaHQ6TWF0aC5tYXgoT2ksbi9pKX19c2V0RGF0YSh0LG4pe3RoaXMuaW5wdXRJbWFnZT10LHRoaXMuaW5wdXRNYXNrPW59cmVzaXplT3V0cHV0KHQsbil7c3VwZXIucmVzaXplT3V0cHV0KHQsbik7Y29uc3QgaT10aGlzLmdldEJsdXJUZXh0dXJlU2l6ZSh0LG4pO3RoaXMuYmx1ci5yZXNpemVPdXRwdXQoaS53aWR0aCxpLmhlaWdodCl9fWNsYXNzIE5pIGV4dGVuZHMgTXJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKTtwKHRoaXMsImlucHV0SW1hZ2UiKTtwKHRoaXMsImlucHV0QmFja2dyb3VuZEltYWdlIik7cCh0aGlzLCJpbnB1dE1hc2siKTtwKHRoaXMsInByZWNpc2VNYXNrRW5hYmxlZCIsITApO3RoaXMuY29udGV4dD10O2NvbnN0IG49e2NvbnRleHQ6dCxoZWlnaHQ6dC5jYW52YXMuaGVpZ2h0LHdpZHRoOnQuY2FudmFzLndpZHRofSxpPW5ldyBQcih7Li4ubixkaXNhYmxlRnJhbWVidWZmZXI6ITB9KTt0aGlzLmFkZFN0ZXAoe3Byb2dyYW06aSxnZXRVbmlmb3JtczooKT0+KHtiYWNrZ3JvdW5kOlModCx0aGlzLmlucHV0QmFja2dyb3VuZEltYWdlKSxmb3JlZ3JvdW5kOlModCx0aGlzLmlucHV0SW1hZ2UpLHRocmVzaG9sZDpTKHQsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKHQsbil7dGhpcy5pbnB1dEltYWdlPXQsdGhpcy5pbnB1dE1hc2s9bn19Y2xhc3Mga2YgZXh0ZW5kcyBOaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7cCh0aGlzLCJmcmFtZVJlYWRlciIpO3AodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMCl9c2V0IGlucHV0VmlkZW8odCl7dGhpcy5mcmFtZVJlYWRlcj10LmdldFJlYWRlcigpLHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCl9YXN5bmMgcnVuKCl7dGhpcy5mcmFtZVJlYWRlciYmKGF3YWl0IHN1cGVyLnJ1bigpLHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCkpfWFzeW5jIHJlYWROZXh0VmlkZW9GcmFtZSgpe3ZhciBuO2NvbnN0IHQ9YXdhaXQoKG49dGhpcy5mcmFtZVJlYWRlcik9PW51bGw/dm9pZCAwOm4ucmVhZCgpKTt0IT1udWxsJiZ0LnZhbHVlJiYodGhpcy5pbnB1dEJhY2tncm91bmRJbWFnZT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcCh0LnZhbHVlKSx0LnZhbHVlLmNsb3NlKCkpfX12YXIgTGY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKCnZlYzQgbG9vcCgpOwoKdm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSBsb29wKCk7IH0KYCwkZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgLENyPShyPT4ocltyLkxJTkVBUj0wXT0iTElORUFSIixyW3IuR0FVU1NJQU49MV09IkdBVVNTSUFOIixyKSkoQ3J8fHt9KTtjbGFzcyBVaSBleHRlbmRzIGJle2dldERlZmluZXMoKXt2YXIgZTtyZXR1cm57UkFESVVTOihlPXRoaXMub3B0aW9ucy5yYWRpdXMpIT1udWxsP2U6MX19Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gTGYrdGhpcy5jcmVhdGVMb29wRnVuY3Rpb24oKX1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gJGZ9Y3JlYXRlTG9vcEZ1bmN0aW9uKCl7dmFyIHQ7bGV0IGU9KHQ9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/dDoxO3JldHVybmAKCiAgICAgICAgdmVjNCBsb29wKCkgeyAKICAgICAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAsMCwwLDApOwogICAgICAgICAgICBmbG9hdCBmYWN0b3JTdW0gPSAwLjsKCiAgICAgICAgICAgIHZlYzIgbm9ybWFsaXplZFJhZGl1cyA9IHZlYzIoLSR7ZX0uKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkSW5jcmVtZW50ID0gdmVjMigxLikgLyBjYW52YXM7CiAgICAgICAgICAgIHZlYzIgZGlmZiA9IG5vcm1hbGl6ZWRSYWRpdXM7CgogICAgICAgICAgICBmb3IoaW50IHk9LSR7ZX07IHk8JHtlKzF9OyArK3kpIHsKICAgICAgICAgICAgICAgIGZvcihpbnQgeD0tJHtlfTsgeDwke2UrMX07ICsreCkgewogICAgICAgICAgICAgICAgICAgIGZsb2F0IGZhY3RvciA9IDEuOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmYWN0b3IgKiB0ZXh0dXJlMkQodGV4dHVyZSwgX3RleHR1cmVfY29vcmQgKyBkaWZmKTsKICAgICAgICAgICAgICAgICAgICBmYWN0b3JTdW0gKz0gZmFjdG9yOwogICAgICAgICAgICAgICAgICAgIGRpZmYueCArPSBub3JtYWxpemVkSW5jcmVtZW50Lng7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkaWZmLnkgKz0gbm9ybWFsaXplZEluY3JlbWVudC55OwogICAgICAgICAgICAgICAgZGlmZi54ID0gbm9ybWFsaXplZFJhZGl1cy54OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQgLyBmYWN0b3JTdW07CiAgICAgICAgfWB9Z2V0RmFjdG9yKGUsdCl7c3dpdGNoKHRoaXMub3B0aW9ucy50eXBlKXtjYXNlIDE6cmV0dXJuIHRoaXMuZ2V0TGluZWFyRmFjdG9yKGUsdCk7Y2FzZSAwOmRlZmF1bHQ6cmV0dXJuIHRoaXMuZ2V0TGluZWFyRmFjdG9yKGUsdCl9fWdldExpbmVhckZhY3RvcihlLHQpe3JldHVybiAxfWdldEdhdXNzaWFuRmFjdG9yKGUsdCl7dmFyIHU7Y29uc3Qgbj1NYXRoLlBJKjIsaT1NYXRoLm1heCgodT10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD91OjEsMSksbz0xLyhuKmkqKjIpLHM9LShlKioyK3QqKjIpLGE9bypzO3JldHVybiBvKk1hdGguRSoqYX19Y2xhc3MgR2YgZXh0ZW5kcyBNcntjb25zdHJ1Y3Rvcih0LG4pe3N1cGVyKCk7cCh0aGlzLCJpbnB1dEltYWdlIik7cCh0aGlzLCJpbnB1dE1hc2siKTt0aGlzLmNvbnRleHQ9dDtjb25zdCBpPXtjb250ZXh0OnQsaGVpZ2h0OnQuY2FudmFzLmhlaWdodCx3aWR0aDp0LmNhbnZhcy53aWR0aH0sbz1uZXcgVWkoey4uLmkscmFkaXVzOm4sdHlwZTpDci5HQVVTU0lBTn0pLHM9bmV3IFByKHsuLi5pLGRpc2FibGVGcmFtZWJ1ZmZlcjohMH0pO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpvLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6Uyh0LHRoaXMuaW5wdXRJbWFnZSl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2JhY2tncm91bmQ6Uyh0LHRoaXMuaW5wdXRJbWFnZSksZm9yZWdyb3VuZDpTKHQsby5vdXRwdXQpLHRocmVzaG9sZDpTKHQsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKHQsbil7dGhpcy5pbnB1dEltYWdlPXQsdGhpcy5pbnB1dE1hc2s9bn19Y2xhc3MgT3IgZXh0ZW5kcyBiZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtwKHRoaXMsImZiaTIiKTt0aGlzLmZiaTI9SXQodC5jb250ZXh0LFt7Zm9ybWF0OnQuY29udGV4dC5SR0JBLHR5cGU6dC5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnQuY29udGV4dC5MSU5FQVIsbWFnOnQuY29udGV4dC5MSU5FQVIsd3JhcDp0LmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLHQud2lkdGgsdC5oZWlnaHQpfXJ1bih0KXtjb25zdCBuPXRoaXMuZmJpO3RoaXMuZmJpPXRoaXMuZmJpMix0aGlzLmZiaTI9bix0aGlzLm91dHB1dD10aGlzLmZiaS5hdHRhY2htZW50c1swXSxzdXBlci5ydW4oey4uLnQscHJldmlvdXNfcmVuZGVyaW5nOnRoaXMuZmJpMi5hdHRhY2htZW50c1swXX0pfXJlc2l6ZU91dHB1dCh0LG4pe3N1cGVyLnJlc2l6ZU91dHB1dCh0LG4pLHRoaXMuZmJpMj1JdCh0aGlzLmNvbnRleHQsW3tmb3JtYXQ6dGhpcy5jb250ZXh0LlJHQkEsdHlwZTp0aGlzLmNvbnRleHQuVU5TSUdORURfQllURSxtaW46dGhpcy5jb250ZXh0LkxJTkVBUix3cmFwOnRoaXMuY29udGV4dC5DTEFNUF9UT19FREdFfV0sdCxuKX19dmFyIHpmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCi8vIHVuaWZvcm0gZmxvYXQgdHJlc2hvbGQ7CnVuaWZvcm0gc2FtcGxlcjJEIGltYWdlX25vdzsKdW5pZm9ybSBzYW1wbGVyMkQgaW1hZ2VfYmVmb3JlOwp1bmlmb3JtIHNhbXBsZXIyRCBtYXNrX25vdzsKdW5pZm9ybSBzYW1wbGVyMkQgbWFza19iZWZvcmU7CnVuaWZvcm0gc2FtcGxlcjJEIHByZXZpb3VzX3JlbmRlcmluZzsKdW5pZm9ybSB2ZWMyIGNhbnZhczsKCnVuaWZvcm0gZmxvYXQgZGVsdGE7CgpmbG9hdCBjdXJyZW50X2ZhY3RvciA9IDAuNjk7CmZsb2F0IHByZXZpb3VzX2ZhY3RvciA9IDAuNzQ7CmZsb2F0IHRocmVzaG9sZF9hY3RpdmF0aW9uID0gMC41NDsKCmZsb2F0IG1hcChmbG9hdCB2YWx1ZSwgZmxvYXQgbWluMSwgZmxvYXQgbWF4MSwgZmxvYXQgbWluMiwgZmxvYXQgbWF4MikgewogIHJldHVybiBtaW4yICsgKHZhbHVlIC0gbWluMSkgKiAobWF4MiAtIG1pbjIpIC8gKG1heDEgLSBtaW4xKTsKfQoKZmxvYXQgZ2V0VGhyZXNob2xkKCkgewogIHZlYzQgY29sb3IgPSB2ZWM0KDAuKTsKICBmb3IgKGZsb2F0IHkgPSAtNi47IHkgPCA3LjsgeSArPSAxLikgewogICAgZm9yIChmbG9hdCB4ID0gLTYuOyB4IDwgNy47IHggKz0gMS4pIHsKICAgICAgdmVjNCBpbWFnZV9ub3dfY29sb3IgPQogICAgICAgICAgdGV4dHVyZTJEKGltYWdlX25vdywgX3RleHR1cmVfY29vcmQgKyB2ZWMyKHgsIHkpIC8gY2FudmFzKTsKICAgICAgdmVjNCBpbWFnZV9iZWZvcmVfY29sb3IgPQogICAgICAgICAgdGV4dHVyZTJEKGltYWdlX2JlZm9yZSwgX3RleHR1cmVfY29vcmQgKyB2ZWMyKHgsIHkpIC8gY2FudmFzKTsKICAgICAgY29sb3IgKz0gYWJzKGltYWdlX2JlZm9yZV9jb2xvciAtIGltYWdlX25vd19jb2xvcik7CiAgICB9CiAgfQogIHJldHVybiAoY29sb3IueCArIGNvbG9yLnkgKyBjb2xvci56KSAvICgzLiAqIDkuKTsKfQoKdm9pZCBtYWluKCkgewogIGZsb2F0IHRyZXNob2xkX2lucHV0ID0gLjQ7CiAgZmxvYXQgdHJlc2hvbGRfcHJldmlvdXNfcmVuZGVyaW5nID0gLjk4OwoKICB2ZWM0IG1hc2tfbm93X2NvbG9yID0gdGV4dHVyZTJEKG1hc2tfbm93LCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCBtYXNrX2JlZm9yZV9jb2xvciA9IHRleHR1cmUyRChtYXNrX2JlZm9yZSwgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgcHJldmlvdXNfcmVuZGVyaW5nX2NvbG9yID0gdGV4dHVyZTJEKHByZXZpb3VzX3JlbmRlcmluZywgX3RleHR1cmVfY29vcmQpOwoKICB2ZWMzIG1hc2tfZGlmZiA9IGFicyhtYXNrX2JlZm9yZV9jb2xvci54eXogLSBtYXNrX25vd19jb2xvci54eXopOwogIGZsb2F0IGZsaWNrZXJpbmcgPSBtYXNrX2RpZmYueDsKICBmbG9hdCB0aHJlc2hvbGQgPSBnZXRUaHJlc2hvbGQoKTsKICBpZiAodGhyZXNob2xkIDwgdGhyZXNob2xkX2FjdGl2YXRpb24pIHsKICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoZmxpY2tlcmluZywgMC4sIDAuLCAxLikgKiBjdXJyZW50X2ZhY3RvciArCiAgICAgICAgICAgICAgICAgICBwcmV2aW91c19yZW5kZXJpbmdfY29sb3IgKiBwcmV2aW91c19mYWN0b3I7CiAgICBnbF9GcmFnQ29sb3IgKj0gKDEuIC0gdGhyZXNob2xkKTsKICB9Cn0KYCxIZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIFZmIGV4dGVuZHMgT3J7Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gemZ9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIEhmfX12YXIgV2Y9YCN2ZXJzaW9uIDMwMCBlcwovLyBodHRwczovL2dpdGh1Yi5jb20vVm9sY29taXgvdmlydHVhbC1iYWNrZ3JvdW5kL2Jsb2IvbWFpbi9zcmMvcGlwZWxpbmVzL3dlYmdsMi9qb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnRzCgpwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CnVuaWZvcm0gc2FtcGxlcjJEIGlucHV0X2ZyYW1lOwp1bmlmb3JtIHNhbXBsZXIyRCBzZWdtZW50YXRpb25fbWFzazsKdW5pZm9ybSBzYW1wbGVyMkQgdGhyZXNob2xkOwp1bmlmb3JtIHZlYzIgdGV4ZWxfc2l6ZTsKdW5pZm9ybSBmbG9hdCBzdGVwOwp1bmlmb3JtIGZsb2F0IHJhZGl1czsKdW5pZm9ybSBmbG9hdCBvZmZzZXQ7CnVuaWZvcm0gZmxvYXQgc2lnbWFfdGV4ZWw7CnVuaWZvcm0gZmxvYXQgc2lnbWFfY29sb3I7CgppbiB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwpvdXQgdmVjNCBvdXRDb2xvcjsKCmZsb2F0IGdhdXNzaWFuKGZsb2F0IHgsIGZsb2F0IHNpZ21hKSB7CiAgZmxvYXQgY29lZmYgPSAtMC41IC8gKHNpZ21hICogc2lnbWEgKiA0LjAgKyAxLjBlLTYpOwogIHJldHVybiBleHAoKHggKiB4KSAqIGNvZWZmKTsKfQoKdm9pZCBtYWluKCkgewogIHZlYzIgY2VudGVyQ29vcmQgPSBfdGV4dHVyZV9jb29yZDsKICB2ZWMzIGNlbnRlckNvbG9yID0gdGV4dHVyZShpbnB1dF9mcmFtZSwgY2VudGVyQ29vcmQpLnJnYjsKICBmbG9hdCBuZXdWYWwgPSAwLjA7CiAgZmxvYXQgc3BhY2VXZWlnaHQgPSAwLjA7CiAgZmxvYXQgY29sb3JXZWlnaHQgPSAwLjA7CiAgZmxvYXQgdG90YWxXZWlnaHQgPSAwLjA7CiAgLy8gU3Vic2FtcGxlIGtlcm5lbCBzcGFjZS4KICBmb3IgKGZsb2F0IGkgPSAtcmFkaXVzICsgb2Zmc2V0OyBpIDw9IHJhZGl1czsgaSArPSBzdGVwKSB7CiAgICBmb3IgKGZsb2F0IGogPSAtcmFkaXVzICsgb2Zmc2V0OyBqIDw9IHJhZGl1czsgaiArPSBzdGVwKSB7CiAgICAgIHZlYzIgc2hpZnQgPSB2ZWMyKGosIGkpICogdGV4ZWxfc2l6ZTsKICAgICAgdmVjMiBjb29yZCA9IHZlYzIoY2VudGVyQ29vcmQgKyBzaGlmdCk7CiAgICAgIHZlYzMgZnJhbWVDb2xvciA9IHRleHR1cmUoaW5wdXRfZnJhbWUsIGNvb3JkKS5yZ2I7CiAgICAgIGZsb2F0IHRocmVzaG9sZCA9IHRleHR1cmUodGhyZXNob2xkLCBjb29yZCkuYTsKICAgICAgZmxvYXQgb3V0VmFsID0gdGV4dHVyZShzZWdtZW50YXRpb25fbWFzaywgY29vcmQpLmE7CgogICAgICBzcGFjZVdlaWdodCA9IGdhdXNzaWFuKGRpc3RhbmNlKGNlbnRlckNvb3JkLCBjb29yZCksIHNpZ21hX3RleGVsKTsKICAgICAgY29sb3JXZWlnaHQgPSBnYXVzc2lhbihkaXN0YW5jZShjZW50ZXJDb2xvciwgZnJhbWVDb2xvciksIHNpZ21hX2NvbG9yKTsKICAgICAgdG90YWxXZWlnaHQgKz0gc3BhY2VXZWlnaHQgKiBjb2xvcldlaWdodDsKICAgICAgbmV3VmFsICs9IHNwYWNlV2VpZ2h0ICogY29sb3JXZWlnaHQgKiBvdXRWYWwgKiB0aHJlc2hvbGQ7CiAgICB9CiAgfQogIG5ld1ZhbCAvPSB0b3RhbFdlaWdodDsKICBvdXRDb2xvciA9IHZlYzQodmVjMygwLiksIG5ld1ZhbCk7Cn1gLGpmPWAjdmVyc2lvbiAzMDAgZXMKaW4gdmVjMiBwb3NpdGlvbjsKaW4gdmVjMiB0ZXh0dXJlX2Nvb3JkOwpvdXQgdmVjMiBfdGV4dHVyZV9jb29yZDsKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfWA7Y2xhc3MgcWYgZXh0ZW5kcyBiZXtnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBXZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gamZ9fXZhciBYZj1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7Cgp1bmlmb3JtIHZlYzIgY2FudmFzOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlOwoKdm9pZCBtYWluKCkgewogIGludCBjb3VudCA9IDA7CiAgZm9yIChmbG9hdCB5ID0gLTEuOyB5IDwgMi47IHkgKz0gMS4pIHsKICAgIGZvciAoZmxvYXQgeCA9IC0xLjsgeCA8IDIuOyB4ICs9IDEuKSB7CiAgICAgIHZlYzIgY29vcmQgPSBfdGV4dHVyZV9jb29yZCArIHZlYzIoeSwgeCkgLyBjYW52YXM7CiAgICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgY29vcmQpOwogICAgICBpZiAoY29sb3IuciA+IC4xKSB7CiAgICAgICAgY291bnQrKzsKICAgICAgfQogICAgfQogIH0KICBpZiAoY291bnQgPiA1KSB7CiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgX3RleHR1cmVfY29vcmQpOwogIH0KfQpgLFlmPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmA7Y2xhc3MgUWYgZXh0ZW5kcyBiZXtnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBYZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gWWZ9fXZhciBLZj1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7Cgp1bmlmb3JtIHZlYzIgY2FudmFzOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlOwoKdm9pZCBtYWluKCkgewogIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgX3RleHR1cmVfY29vcmQpOwogIGZvciAoZmxvYXQgeSA9IC0yLjsgeSA8IDMuOyB5ICs9IDEuKSB7CiAgICBmb3IgKGZsb2F0IHggPSAtMi47IHggPCAzLjsgeCArPSAxLikgewogICAgICB2ZWMyIGNvb3JkID0gX3RleHR1cmVfY29vcmQ7CiAgICAgIGNvb3JkICs9IHZlYzIoeSwgeCkgLyBjYW52YXM7CiAgICAgIGNvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCBjb29yZCkgKiAoMS4gLyA0Lik7CiAgICB9CiAgfQoKICBnbF9GcmFnQ29sb3IgPSBjb2xvcjsKfQpgLEpmPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmA7Y2xhc3MgWmYgZXh0ZW5kcyBPcntnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBLZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gSmZ9fXZhciBlbD1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7Cgp1bmlmb3JtIHNhbXBsZXIyRCB0aHJlc2hvbGQ7CnVuaWZvcm0gc2FtcGxlcjJEIGlucHV0czsKCnZvaWQgbWFpbigpIHsKICB2ZWM0IGlucHV0c19jb2xvciA9IHRleHR1cmUyRChpbnB1dHMsIF90ZXh0dXJlX2Nvb3JkKTsKICB2ZWM0IHRocmVzaG9sZF9jb2xvciA9IHRleHR1cmUyRCh0aHJlc2hvbGQsIF90ZXh0dXJlX2Nvb3JkKTsKICBpZiAodGhyZXNob2xkX2NvbG9yLnIgPCAuMSAmJiBpbnB1dHNfY29sb3IuciA+IC41KSB7CiAgICBnbF9GcmFnQ29sb3IgPSBpbnB1dHNfY29sb3I7CiAgfQp9CmAsdGw9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn0KYDtjbGFzcyBybCBleHRlbmRzIE9ye2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIGVsfWdldFZlcnRleFNoYWRlcigpe3JldHVybiB0bH19Y2xhc3MgbmwgZXh0ZW5kcyBEcntjb25zdHJ1Y3Rvcih0LG4saSl7c3VwZXIoKTtwKHRoaXMsImlucHV0SW1hZ2UiKTtwKHRoaXMsImlucHV0TWFzayIpO3AodGhpcywicHJldmlvdXNJbnB1dEltYWdlIik7cCh0aGlzLCJwcmV2aW91c0lucHV0TWFzayIpO3AodGhpcywib3V0cHV0Iik7cCh0aGlzLCJvcHRpb25zIix7Y3VycmVudFRocmVzaG9sZE1pbmltdW06MCxjdXJyZW50VGhyZXNob2xkTWF4aW11bToxLHByZXZpb3VzVGhyZXNob2xkTWluaW11bTowLHByZXZpb3VzVGhyZXNob2xkTWF4aW11bToxLHRocmVzaG9sZE1pbmltdW06MCx0aHJlc2hvbGRNYXhpbXVtOjEsdGhyZXNob2xkRmFjdG9yOjF9KTt0aGlzLmNvbnRleHQ9dDtjb25zdCBvPXtjb250ZXh0OnQsaGVpZ2h0Omksd2lkdGg6bn0scz1uZXcgVmYobyksYT1uZXcgVWkoey4uLm8scmFkaXVzOjEsdHlwZTpDci5HQVVTU0lBTn0pLHU9bmV3IHJsKG8pLGY9bmV3IFpmKG8pLGM9bmV3IFFmKG8pLGQ9bmV3IHFmKHsuLi5vfSkseT0uNjYsXz02NDAsbT00ODAseD0yNTYsdj0xNDQ7bGV0IGI9MTtiKj1NYXRoLm1heChfL3gsbS92KTtjb25zdCBBPU1hdGgubWF4KDEsTWF0aC5zcXJ0KGIpKnkpLFA9MS9fLEM9MS9tO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2ltYWdlX25vdzpTKHQsdGhpcy5pbnB1dEltYWdlKSxpbWFnZV9iZWZvcmU6Uyh0LHRoaXMucHJldmlvdXNJbnB1dEltYWdlKSxtYXNrX25vdzpTKHQsdGhpcy5pbnB1dE1hc2spLG1hc2tfYmVmb3JlOlModCx0aGlzLnByZXZpb3VzSW5wdXRNYXNrKSxjdXJyZW50X3RocmVzaG9sZF9taW5pbXVtOnRoaXMub3B0aW9ucy5jdXJyZW50VGhyZXNob2xkTWluaW11bSxjdXJyZW50X3RocmVzaG9sZF9tYXhpbXVtOnRoaXMub3B0aW9ucy5jdXJyZW50VGhyZXNob2xkTWF4aW11bSxwcmV2aW91c190aHJlc2hvbGRfbWluaW11bTp0aGlzLm9wdGlvbnMucHJldmlvdXNUaHJlc2hvbGRNaW5pbXVtLHByZXZpb3VzX3RocmVzaG9sZF9tYXhpbXVtOnRoaXMub3B0aW9ucy5wcmV2aW91c1RocmVzaG9sZE1heGltdW0sdGhyZXNob2xkX21pbmltdW06dGhpcy5vcHRpb25zLnRocmVzaG9sZE1pbmltdW0sdGhyZXNob2xkX21heGltdW06dGhpcy5vcHRpb25zLnRocmVzaG9sZE1heGltdW0sdGhyZXNob2xkX2ZhY3Rvcjp0aGlzLm9wdGlvbnMudGhyZXNob2xkRmFjdG9yfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06dSxnZXRVbmlmb3JtczooKT0+KHtpbnB1dHM6Uyh0LHRoaXMuaW5wdXRNYXNrKSx0aHJlc2hvbGQ6Uyh0LHMub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOmMsZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpTKHQsdS5vdXRwdXQpfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06ZixnZXRVbmlmb3JtczooKT0+KHt0ZXh0dXJlOlModCxjLm91dHB1dCl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTphLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6Uyh0LGYub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOmQsZ2V0VW5pZm9ybXM6KCk9Pih7aW5wdXRfZnJhbWU6Uyh0LHRoaXMuaW5wdXRJbWFnZSksc2VnbWVudGF0aW9uX21hc2s6Uyh0LHRoaXMuaW5wdXRNYXNrKSx0aHJlc2hvbGQ6Uyh0LGEub3V0cHV0KSx0ZXhlbF9zaXplOltQLENdLHN0ZXA6QSxyYWRpdXM6YixvZmZzZXQ6QT4xP0EqLjU6MCxzaWdtYV90ZXhlbDpNYXRoLm1heChQLEMpKmIsc2lnbWFfY29sb3I6LjF9KX0pLHRoaXMub3V0cHV0PWQub3V0cHV0fXNldERhdGEodCxuKXt0aGlzLnByZXZpb3VzSW5wdXRJbWFnZT10aGlzLmlucHV0SW1hZ2U/dGhpcy5pbnB1dEltYWdlOnQsdGhpcy5wcmV2aW91c0lucHV0TWFzaz10aGlzLmlucHV0TWFzaz90aGlzLmlucHV0TWFzazpuLHRoaXMuaW5wdXRJbWFnZT10LHRoaXMuaW5wdXRNYXNrPW59c2V0T3B0aW9ucyh0KXt0aGlzLm9wdGlvbnM9dH19dmFyIGlsPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKCnZvaWQgbWFpbigpIHsgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIF90ZXh0dXJlX2Nvb3JkKTsgfQpgLG9sPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKdW5pZm9ybSBib29sIGludmVydF95OwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7CiAgaWYgKGludmVydF95KSB7CiAgICBfdGV4dHVyZV9jb29yZC55ID0gMS4gLSB0ZXh0dXJlX2Nvb3JkLnk7CiAgfQp9CmA7Y2xhc3Mgc2wgZXh0ZW5kcyBiZXtnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBpbH1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gb2x9fWNsYXNzIGFsIGV4dGVuZHMgRHJ7Y29uc3RydWN0b3IodCxuLGkpe3N1cGVyKCk7cCh0aGlzLCJpbnB1dEltYWdlIik7dGhpcy5jb250ZXh0PXQ7Y29uc3Qgbz17Y29udGV4dDp0LGhlaWdodDppLHdpZHRoOm59O3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpuZXcgc2woey4uLm8sZGlzYWJsZUZyYW1lYnVmZmVyOiEwfSksZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpTKHQsdGhpcy5pbnB1dEltYWdlKSxpbnZlcnRfeTohMH0pfSl9c2V0RGF0YSh0KXt0aGlzLmlucHV0SW1hZ2U9dH19Y2xhc3MgdWx7Y29uc3RydWN0b3IoZSl7cCh0aGlzLCJyZXNpemUiKTtwKHRoaXMsImNhbnZhcyIpO3AodGhpcywiY29udGV4dCIpO3RoaXMuY2FudmFzPW5ldyBPZmZzY3JlZW5DYW52YXMoMCwwKSx0aGlzLmNvbnRleHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wyIiksdGhpcy5jYW52YXMud2lkdGg9ZS53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5yZXNpemU9bmV3IGFsKHRoaXMuY29udGV4dCxlLndpZHRoLGUuaGVpZ2h0KX1yZXNpemVGb3JlZ3JvdW5kKGUsdCl7dGhpcy5jYW52YXMud2lkdGg9ZSx0aGlzLmNhbnZhcy5oZWlnaHQ9dCx0aGlzLnJlc2l6ZS5yZXNpemVPdXRwdXQoZSx0KX1hc3luYyBwcm9jZXNzKGUpe3ZhciB0LG47cmV0dXJuIHRoaXMuY2FudmFzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLCh0PXRoaXMucmVzaXplKT09bnVsbHx8dC5zZXREYXRhKGUpLChuPXRoaXMucmVzaXplKT09bnVsbHx8bi5ydW4oKSx0aGlzLmNhbnZhc319Y2xhc3MgY2x7Y29uc3RydWN0b3IoZSx0KXtwKHRoaXMsImltcHJvdmVNYXNrU2VnbWVudGF0aW9uIik7cCh0aGlzLCJiYWNrZ3JvdW5kUmVzaXplciIpO3AodGhpcywiYmFja2dyb3VuZEltYWdlIik7cCh0aGlzLCJiYWNrZ3JvdW5kVmlkZW8iKTtwKHRoaXMsInByb2ZpbGVyIik7cCh0aGlzLCJhY3RpdmVQaXBlbGluZSIpO3AodGhpcywiY2FudmFzIik7cCh0aGlzLCJvcHRpb25zIik7cCh0aGlzLCJjb250ZXh0Iik7cCh0aGlzLCJ2aXJ0dWFsQkdJbWFnZSIpO3RoaXMuaWQ9ZSx0aGlzLmNhbnZhcz1uZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCksdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzLmdldENvbnRleHQoIndlYmdsMiIpLHRoaXMuY2FudmFzLndpZHRoPXQuZm9yZWdyb3VuZFdpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10LmZvcmVncm91bmRIZWlnaHQsdGhpcy5pbXByb3ZlTWFza1NlZ21lbnRhdGlvbj1uZXcgbmwodGhpcy5jb250ZXh0LHQubWFza1dpZHRoLHQubWFza0hlaWdodCksdGhpcy5iYWNrZ3JvdW5kSW1hZ2U9bmV3IE5pKHRoaXMuY29udGV4dCksdGhpcy5iYWNrZ3JvdW5kVmlkZW89bmV3IGtmKHRoaXMuY29udGV4dCksdGhpcy5iYWNrZ3JvdW5kUmVzaXplcj1uZXcgdWwoe3dpZHRoOnQuZm9yZWdyb3VuZFdpZHRoLGhlaWdodDp0LmZvcmVncm91bmRIZWlnaHR9KX1zZXRCYWNrZ3JvdW5kT3B0aW9ucyhlKXtzd2l0Y2goZS50cmFuc2Zvcm1lclR5cGUpe2Nhc2UiQmFja2dyb3VuZEJsdXIiOnRoaXMuYWN0aXZlUGlwZWxpbmU9bmV3IEJmKHRoaXMuY29udGV4dCx0aGlzLmdldEJsdXJTaXplKGUucmFkaXVzKSk7YnJlYWs7Y2FzZSJTaWxob3VldHRlQmx1ciI6dGhpcy5hY3RpdmVQaXBlbGluZT1uZXcgR2YodGhpcy5jb250ZXh0LHRoaXMuZ2V0Qmx1clNpemUoZS5yYWRpdXMpKTticmVhaztjYXNlIlZpZGVvQmFja2dyb3VuZCI6dGhpcy5hY3RpdmVQaXBlbGluZT10aGlzLmJhY2tncm91bmRWaWRlbzticmVhaztjYXNlIlZpcnR1YWxCYWNrZ3JvdW5kIjp0aGlzLmFjdGl2ZVBpcGVsaW5lPXRoaXMuYmFja2dyb3VuZEltYWdlO2JyZWFrfXRoaXMub3B0aW9ucz1lfXNldEZsaWNrZXJpbmdPcHRpb25zKGUpe3ZhciB0Oyh0PXRoaXMuaW1wcm92ZU1hc2tTZWdtZW50YXRpb24pPT1udWxsfHx0LnNldE9wdGlvbnMoZSl9c2V0VmlkZW9CR1JlYWRhYmxlKGUpe3RoaXMuYmFja2dyb3VuZFZpZGVvLmlucHV0VmlkZW89ZX1hc3luYyBzZXRWaXJ0dWFsQkdJbWFnZShlKXt0aGlzLnZpcnR1YWxCR0ltYWdlPWUsdGhpcy5iYWNrZ3JvdW5kSW1hZ2UuaW5wdXRCYWNrZ3JvdW5kSW1hZ2U9YXdhaXQgdGhpcy5iYWNrZ3JvdW5kUmVzaXplci5wcm9jZXNzKGUpfWFzeW5jIHByb2Nlc3MoZSx0KXt2YXIgbixpLG8scyxhLHUsZjtpZih0aGlzLmFjdGl2ZVBpcGVsaW5lJiZlLndpZHRoJiYodD09bnVsbD92b2lkIDA6dC53aWR0aCkpe2NvbnN0IGM9YFske3RoaXMuaWR9XSBiYWNrZ3JvdW5kLWZpbHRlcmA7KG49dGhpcy5wcm9maWxlcik9PW51bGx8fG4ucHVzaENvbnRleHQoYyk7bGV0IGQ9dDsoKChpPXRoaXMub3B0aW9ucyk9PW51bGw/dm9pZCAwOmkuc2VsZmllU2VnbWVudGF0aW9uVHlwZSkmJigobz10aGlzLm9wdGlvbnMpPT1udWxsP3ZvaWQgMDpvLnNlbGZpZVNlZ21lbnRhdGlvblR5cGUpPT09IlBSRUNJU0UifHwhKChzPXRoaXMub3B0aW9ucykhPW51bGwmJnMuc2VsZmllU2VnbWVudGF0aW9uVHlwZSkmJnRoaXMuYWN0aXZlUGlwZWxpbmUucHJlY2lzZU1hc2tFbmFibGVkKSYmKHRoaXMuaW1wcm92ZU1hc2tTZWdtZW50YXRpb24uc2V0SWQodGhpcy5pZCksdGhpcy5pbXByb3ZlTWFza1NlZ21lbnRhdGlvbi5zZXRQcm9maWxlcih0aGlzLnByb2ZpbGVyKSx0aGlzLmltcHJvdmVNYXNrU2VnbWVudGF0aW9uLnNldERhdGEoZSx0KSx0aGlzLmltcHJvdmVNYXNrU2VnbWVudGF0aW9uLnJ1bigpLGQ9dGhpcy5pbXByb3ZlTWFza1NlZ21lbnRhdGlvbi5vdXRwdXQpLHRoaXMuYWN0aXZlUGlwZWxpbmUuc2V0SWQodGhpcy5pZCksdGhpcy5hY3RpdmVQaXBlbGluZS5zZXRQcm9maWxlcih0aGlzLnByb2ZpbGVyKSwoYT10aGlzLmFjdGl2ZVBpcGVsaW5lKT09bnVsbHx8YS5zZXREYXRhKGUsZCksKHU9dGhpcy5hY3RpdmVQaXBlbGluZSk9PW51bGx8fHUucnVuKCksKGY9dGhpcy5wcm9maWxlcik9PW51bGx8fGYucG9wQ29udGV4dChjKX19YXN5bmMgcmVzaXplRm9yZWdyb3VuZChlLHQpe3ZhciBuO3RoaXMuY2FudmFzLndpZHRoPWUsdGhpcy5jYW52YXMuaGVpZ2h0PXQsdGhpcy5iYWNrZ3JvdW5kSW1hZ2UucmVzaXplT3V0cHV0KGUsdCksdGhpcy5iYWNrZ3JvdW5kVmlkZW8ucmVzaXplT3V0cHV0KGUsdCksdGhpcy5iYWNrZ3JvdW5kUmVzaXplci5yZXNpemVGb3JlZ3JvdW5kKGUsdCksKG49dGhpcy5hY3RpdmVQaXBlbGluZSk9PW51bGx8fG4ucmVzaXplT3V0cHV0KGUsdCksdGhpcy52aXJ0dWFsQkdJbWFnZSYmKHRoaXMuYmFja2dyb3VuZEltYWdlLmlucHV0QmFja2dyb3VuZEltYWdlPWF3YWl0IHRoaXMuYmFja2dyb3VuZFJlc2l6ZXIucHJvY2Vzcyh0aGlzLnZpcnR1YWxCR0ltYWdlKSl9YXN5bmMgcHJvZmlsZShlKXtjb25zdCB0PW5ldyBScyh0aGlzLmNvbnRleHQpO3JldHVybiB0aGlzLnByb2ZpbGVyPXQsdC5zdGFydCgpLGF3YWl0IGduKGUpLHRoaXMucHJvZmlsZXI9dm9pZCAwLHQuc3RvcCgpLHQuZ2V0UmVzb2x2ZWRRdWVyaWVzKCl9Z2V0Qmx1clNpemUoZT1zdC5Mb3cpe3N3aXRjaChlKXtjYXNlIHN0LkxvdzpyZXR1cm4gNTtjYXNlIHN0LkhpZ2g6cmV0dXJuIDEyfXJldHVybiBlfX12YXIgZmw9ZnVuY3Rpb24oKXt2YXIgcj10eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMDtyZXR1cm4gZnVuY3Rpb24oZSl7ZT1lfHx7fTt2YXIgdD10eXBlb2YgZTwidSI/ZTp7fSxuLGk7dC5yZWFkeT1uZXcgUHJvbWlzZShmdW5jdGlvbihsLGgpe249bCxpPWh9KTt2YXIgbz17fSxzO2ZvcihzIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShzKSYmKG9bc109dFtzXSk7dmFyIGE9Ii4vdGhpcy5wcm9ncmFtIix1PWZ1bmN0aW9uKGwsaCl7dGhyb3cgaH0sZj0hMCxjPSIiO2Z1bmN0aW9uIGQobCl7cmV0dXJuIHQubG9jYXRlRmlsZT90LmxvY2F0ZUZpbGUobCxjKTpjK2x9dmFyIHk7dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKGM9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLHImJihjPXIpLGMuaW5kZXhPZigiYmxvYjoiKSE9PTA/Yz1jLnN1YnN0cigwLGMucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKTpjPSIiO3ZhciBfPXQucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksbT10LnByaW50RXJyfHxjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtmb3IocyBpbiBvKW8uaGFzT3duUHJvcGVydHkocykmJih0W3NdPW9bc10pO289bnVsbCx0LmFyZ3VtZW50cyYmdC5hcmd1bWVudHMsdC50aGlzUHJvZ3JhbSYmKGE9dC50aGlzUHJvZ3JhbSksdC5xdWl0JiYodT10LnF1aXQpO3ZhciB4O3Qud2FzbUJpbmFyeSYmKHg9dC53YXNtQmluYXJ5KTt2YXIgdj10Lm5vRXhpdFJ1bnRpbWV8fCEwO3R5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCImJm1lKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIGIsQT0hMSxQPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwO2Z1bmN0aW9uIEMobCxoLGcpe2Zvcih2YXIgdz1oK2csTT1oO2xbTV0mJiEoTT49dyk7KSsrTTtpZihNLWg+MTYmJmwuc3ViYXJyYXkmJlApcmV0dXJuIFAuZGVjb2RlKGwuc3ViYXJyYXkoaCxNKSk7Zm9yKHZhciBVPSIiO2g8TTspe3ZhciBSPWxbaCsrXTtpZighKFImMTI4KSl7VSs9U3RyaW5nLmZyb21DaGFyQ29kZShSKTtjb250aW51ZX12YXIgaz1sW2grK10mNjM7aWYoKFImMjI0KT09MTkyKXtVKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChSJjMxKTw8NnxrKTtjb250aW51ZX12YXIgZWU9bFtoKytdJjYzO2lmKChSJjI0MCk9PTIyND9SPShSJjE1KTw8MTJ8azw8NnxlZTpSPShSJjcpPDwxOHxrPDwxMnxlZTw8NnxsW2grK10mNjMsUjw2NTUzNilVKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFIpO2Vsc2V7dmFyIGppPVItNjU1MzY7VSs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxqaT4+MTAsNTYzMjB8amkmMTAyMyl9fXJldHVybiBVfWZ1bmN0aW9uIFcobCxoKXtyZXR1cm4gbD9DKEhlLGwsaCk6IiJ9ZnVuY3Rpb24gaWUobCxoLGcpe2Zvcih2YXIgdz0wO3c8bC5sZW5ndGg7Kyt3KUZ0W2grKz4+MF09bC5jaGFyQ29kZUF0KHcpO2d8fChGdFtoPj4wXT0wKX1mdW5jdGlvbiBYKGwsaCl7cmV0dXJuIGwlaD4wJiYobCs9aC1sJWgpLGx9dmFyIGtpLEZ0LEhlLFk7ZnVuY3Rpb24gTGkobCl7a2k9bCx0LkhFQVA4PUZ0PW5ldyBJbnQ4QXJyYXkobCksdC5IRUFQMTY9bmV3IEludDE2QXJyYXkobCksdC5IRUFQMzI9WT1uZXcgSW50MzJBcnJheShsKSx0LkhFQVBVOD1IZT1uZXcgVWludDhBcnJheShsKSx0LkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGwpLHQuSEVBUFUzMj1uZXcgVWludDMyQXJyYXkobCksdC5IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkobCksdC5IRUFQRjY0PW5ldyBGbG9hdDY0QXJyYXkobCl9dC5JTklUSUFMX01FTU9SWTt2YXIgVXIsJGk9W10sR2k9W10semk9W10sX2w9MDtmdW5jdGlvbiB4bCgpe3JldHVybiB2fHxfbD4wfWZ1bmN0aW9uIGdsKCl7aWYodC5wcmVSdW4pZm9yKHR5cGVvZiB0LnByZVJ1bj09ImZ1bmN0aW9uIiYmKHQucHJlUnVuPVt0LnByZVJ1bl0pO3QucHJlUnVuLmxlbmd0aDspRWwodC5wcmVSdW4uc2hpZnQoKSk7QnIoJGkpfWZ1bmN0aW9uIGJsKCl7QnIoR2kpfWZ1bmN0aW9uIHZsKCl7aWYodC5wb3N0UnVuKWZvcih0eXBlb2YgdC5wb3N0UnVuPT0iZnVuY3Rpb24iJiYodC5wb3N0UnVuPVt0LnBvc3RSdW5dKTt0LnBvc3RSdW4ubGVuZ3RoOylBbCh0LnBvc3RSdW4uc2hpZnQoKSk7QnIoemkpfWZ1bmN0aW9uIEVsKGwpeyRpLnVuc2hpZnQobCl9ZnVuY3Rpb24gVGwobCl7R2kudW5zaGlmdChsKX1mdW5jdGlvbiBBbChsKXt6aS51bnNoaWZ0KGwpfXZhciB2ZT0wLFZlPW51bGw7ZnVuY3Rpb24gd2wobCl7dmUrKyx0Lm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJnQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh2ZSl9ZnVuY3Rpb24gUmwobCl7aWYodmUtLSx0Lm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJnQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh2ZSksdmU9PTAmJlZlKXt2YXIgaD1WZTtWZT1udWxsLGgoKX19dC5wcmVsb2FkZWRJbWFnZXM9e30sdC5wcmVsb2FkZWRBdWRpb3M9e307ZnVuY3Rpb24gbWUobCl7dC5vbkFib3J0JiZ0Lm9uQWJvcnQobCksbD0iQWJvcnRlZCgiK2wrIikiLG0obCksQT0hMCxsKz0iLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLiI7dmFyIGg9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihsKTt0aHJvdyBpKGgpLGh9dmFyIFNsPSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiBIaShsKXtyZXR1cm4gbC5zdGFydHNXaXRoKFNsKX12YXIgUTtRPSJ0ZmxpdGUtc2ltZC53YXNtIixIaShRKXx8KFE9ZChRKSk7ZnVuY3Rpb24gVmkobCl7dHJ5e2lmKGw9PVEmJngpcmV0dXJuIG5ldyBVaW50OEFycmF5KHgpO2lmKCF5KXRocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1jYXRjaChoKXttZShoKX19ZnVuY3Rpb24gSWwoKXtyZXR1cm4heCYmZiYmdHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iP2ZldGNoKFEse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKGwpe2lmKCFsLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrUSsiJyI7cmV0dXJuIGwuYXJyYXlCdWZmZXIoKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIFZpKFEpfSk6UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBWaShRKX0pfWZ1bmN0aW9uIEZsKCl7dmFyIGw9e2E6UWx9O2Z1bmN0aW9uIGgoUixrKXt2YXIgZWU9Ui5leHBvcnRzO3QuYXNtPWVlLGI9dC5hc20ucSxMaShiLmJ1ZmZlciksVXI9dC5hc20uRSxUbCh0LmFzbS5yKSxSbCgpfXdsKCk7ZnVuY3Rpb24gZyhSKXtoKFIuaW5zdGFuY2UpfWZ1bmN0aW9uIHcoUil7cmV0dXJuIElsKCkudGhlbihmdW5jdGlvbihrKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoayxsKX0pLnRoZW4oZnVuY3Rpb24oayl7cmV0dXJuIGt9KS50aGVuKFIsZnVuY3Rpb24oayl7bSgiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIitrKSxtZShrKX0pfWZ1bmN0aW9uIE0oKXtyZXR1cm4heCYmdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nPT0iZnVuY3Rpb24iJiYhSGkoUSkmJnR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIj9mZXRjaChRLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbihSKXt2YXIgaz1XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhSLGwpO3JldHVybiBrLnRoZW4oZyxmdW5jdGlvbihlZSl7cmV0dXJuIG0oIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK2VlKSxtKCJmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvbiIpLHcoZyl9KX0pOncoZyl9aWYodC5pbnN0YW50aWF0ZVdhc20pdHJ5e3ZhciBVPXQuaW5zdGFudGlhdGVXYXNtKGwsaCk7cmV0dXJuIFV9Y2F0Y2goUil7cmV0dXJuIG0oIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICIrUiksITF9cmV0dXJuIE0oKS5jYXRjaChpKSx7fX1mdW5jdGlvbiBCcihsKXtmb3IoO2wubGVuZ3RoPjA7KXt2YXIgaD1sLnNoaWZ0KCk7aWYodHlwZW9mIGg9PSJmdW5jdGlvbiIpe2godCk7Y29udGludWV9dmFyIGc9aC5mdW5jO3R5cGVvZiBnPT0ibnVtYmVyIj9oLmFyZz09PXZvaWQgMD9Vci5nZXQoZykoKTpVci5nZXQoZykoaC5hcmcpOmcoaC5hcmc9PT12b2lkIDA/bnVsbDpoLmFyZyl9fWZ1bmN0aW9uIFBsKGwsaCxnLHcpe21lKCJBc3NlcnRpb24gZmFpbGVkOiAiK1cobCkrIiwgYXQ6ICIrW2g/VyhoKToidW5rbm93biBmaWxlbmFtZSIsZyx3P1codyk6InVua25vd24gZnVuY3Rpb24iXSl9ZnVuY3Rpb24gRGwobCxoKXttZSgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9ZnVuY3Rpb24gTWwobCxoKXttZSgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9ZnVuY3Rpb24gQ2woKXttZSgiIil9dmFyIFB0O1B0PWZ1bmN0aW9uKCl7cmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpfTt2YXIgT2w9ITA7ZnVuY3Rpb24gTmwobCl7cmV0dXJuIFlbV2koKT4+Ml09bCxsfWZ1bmN0aW9uIFVsKGwsaCl7dmFyIGc7aWYobD09PTApZz1EYXRlLm5vdygpO2Vsc2UgaWYoKGw9PT0xfHxsPT09NCkmJk9sKWc9UHQoKTtlbHNlIHJldHVybiBObCgyOCksLTE7cmV0dXJuIFlbaD4+Ml09Zy8xZTN8MCxZW2grND4+Ml09ZyUxZTMqMWUzKjFlM3wwLDB9ZnVuY3Rpb24gQmwoKXtyZXR1cm4gMjE0NzQ4MzY0OH1mdW5jdGlvbiBrbChsLGgsZyl7SGUuY29weVdpdGhpbihsLGgsaCtnKX1mdW5jdGlvbiBMbChsKXt0cnl7cmV0dXJuIGIuZ3JvdyhsLWtpLmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNiksTGkoYi5idWZmZXIpLDF9Y2F0Y2h7fX1mdW5jdGlvbiAkbChsKXt2YXIgaD1IZS5sZW5ndGg7bD1sPj4+MDt2YXIgZz0yMTQ3NDgzNjQ4O2lmKGw+ZylyZXR1cm4hMTtmb3IodmFyIHc9MTt3PD00O3cqPTIpe3ZhciBNPWgqKDErLjIvdyk7TT1NYXRoLm1pbihNLGwrMTAwNjYzMjk2KTt2YXIgVT1NYXRoLm1pbihnLFgoTWF0aC5tYXgobCxNKSw2NTUzNikpLFI9TGwoVSk7aWYoUilyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBHbChsKXtmb3IodmFyIGg9UHQoKTtQdCgpLWg8bDspO312YXIga3I9e307ZnVuY3Rpb24gemwoKXtyZXR1cm4gYXx8Ii4vdGhpcy5wcm9ncmFtIn1mdW5jdGlvbiBXZSgpe2lmKCFXZS5zdHJpbmdzKXt2YXIgbD0odHlwZW9mIG5hdmlnYXRvcj09Im9iamVjdCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04IixoPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6bCxfOnpsKCl9O2Zvcih2YXIgZyBpbiBrcilrcltnXT09PXZvaWQgMD9kZWxldGUgaFtnXTpoW2ddPWtyW2ddO3ZhciB3PVtdO2Zvcih2YXIgZyBpbiBoKXcucHVzaChnKyI9IitoW2ddKTtXZS5zdHJpbmdzPXd9cmV0dXJuIFdlLnN0cmluZ3N9dmFyIER0PXttYXBwaW5nczp7fSxidWZmZXJzOltudWxsLFtdLFtdXSxwcmludENoYXI6ZnVuY3Rpb24obCxoKXt2YXIgZz1EdC5idWZmZXJzW2xdO2g9PT0wfHxoPT09MTA/KChsPT09MT9fOm0pKEMoZywwKSksZy5sZW5ndGg9MCk6Zy5wdXNoKGgpfSx2YXJhcmdzOnZvaWQgMCxnZXQ6ZnVuY3Rpb24oKXtEdC52YXJhcmdzKz00O3ZhciBsPVlbRHQudmFyYXJncy00Pj4yXTtyZXR1cm4gbH0sZ2V0U3RyOmZ1bmN0aW9uKGwpe3ZhciBoPVcobCk7cmV0dXJuIGh9LGdldDY0OmZ1bmN0aW9uKGwsaCl7cmV0dXJuIGx9fTtmdW5jdGlvbiBIbChsLGgpe3ZhciBnPTA7cmV0dXJuIFdlKCkuZm9yRWFjaChmdW5jdGlvbih3LE0pe3ZhciBVPWgrZztZW2wrTSo0Pj4yXT1VLGllKHcsVSksZys9dy5sZW5ndGgrMX0pLDB9ZnVuY3Rpb24gVmwobCxoKXt2YXIgZz1XZSgpO1lbbD4+Ml09Zy5sZW5ndGg7dmFyIHc9MDtyZXR1cm4gZy5mb3JFYWNoKGZ1bmN0aW9uKE0pe3crPU0ubGVuZ3RoKzF9KSxZW2g+PjJdPXcsMH1mdW5jdGlvbiBXbChsKXtKbChsKX1mdW5jdGlvbiBqbChsKXtyZXR1cm4gMH1mdW5jdGlvbiBxbChsLGgsZyx3LE0pe31mdW5jdGlvbiBYbChsLGgsZyx3KXtmb3IodmFyIE09MCxVPTA7VTxnO1UrKyl7Zm9yKHZhciBSPVlbaCtVKjg+PjJdLGs9WVtoKyhVKjgrNCk+PjJdLGVlPTA7ZWU8aztlZSsrKUR0LnByaW50Q2hhcihsLEhlW1IrZWVdKTtNKz1rfXJldHVybiBZW3c+PjJdPU0sMH1mdW5jdGlvbiBZbCgpe2lmKHR5cGVvZiBjcnlwdG89PSJvYmplY3QiJiZ0eXBlb2YgY3J5cHRvLmdldFJhbmRvbVZhbHVlcz09ImZ1bmN0aW9uIil7dmFyIGw9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobCksbFswXX19ZWxzZSByZXR1cm4gZnVuY3Rpb24oKXttZSgicmFuZG9tRGV2aWNlIil9fWZ1bmN0aW9uIE10KGwsaCl7TXQucmFuZG9tRGV2aWNlfHwoTXQucmFuZG9tRGV2aWNlPVlsKCkpO2Zvcih2YXIgZz0wO2c8aDtnKyspRnRbbCtnPj4wXT1NdC5yYW5kb21EZXZpY2UoKTtyZXR1cm4gMH12YXIgUWw9e2E6UGwsZTpEbCxkOk1sLGI6Q2wsbjpVbCxoOkJsLGw6a2wsbTokbCxwOkdsLGY6SGwsZzpWbCxqOldsLGk6amwsazpxbCxjOlhsLG86TXR9O0ZsKCksdC5fX193YXNtX2NhbGxfY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm4odC5fX193YXNtX2NhbGxfY3RvcnM9dC5hc20ucikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldD10LmFzbS5zKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldElucHV0TWVtb3J5T2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2dldElucHV0TWVtb3J5T2Zmc2V0PXQuYXNtLnQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fZ2V0SW5wdXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0SW5wdXRIZWlnaHQ9dC5hc20udSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRJbnB1dFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2dldElucHV0V2lkdGg9dC5hc20udikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRJbnB1dENoYW5uZWxDb3VudD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRJbnB1dENoYW5uZWxDb3VudD10LmFzbS53KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldE91dHB1dE1lbW9yeU9mZnNldD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRPdXRwdXRNZW1vcnlPZmZzZXQ9dC5hc20ueCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRPdXRwdXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0T3V0cHV0SGVpZ2h0PXQuYXNtLnkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fZ2V0T3V0cHV0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0T3V0cHV0V2lkdGg9dC5hc20ueikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRPdXRwdXRDaGFubmVsQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0T3V0cHV0Q2hhbm5lbENvdW50PXQuYXNtLkEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fbG9hZE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2xvYWRNb2RlbD10LmFzbS5CKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX3J1bkluZmVyZW5jZT1mdW5jdGlvbigpe3JldHVybih0Ll9ydW5JbmZlcmVuY2U9dC5hc20uQykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9pc0dQVUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5faXNHUFVFbmFibGVkPXQuYXNtLkQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIFdpPXQuX19fZXJybm9fbG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4oV2k9dC5fX19lcnJub19sb2NhdGlvbj10LmFzbS5GKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEN0O2Z1bmN0aW9uIEtsKGwpe3RoaXMubmFtZT0iRXhpdFN0YXR1cyIsdGhpcy5tZXNzYWdlPSJQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCIrbCsiKSIsdGhpcy5zdGF0dXM9bH1WZT1mdW5jdGlvbiBsKCl7Q3R8fExyKCksQ3R8fChWZT1sKX07ZnVuY3Rpb24gTHIobCl7aWYodmU+MHx8KGdsKCksdmU+MCkpcmV0dXJuO2Z1bmN0aW9uIGgoKXtDdHx8KEN0PSEwLHQuY2FsbGVkUnVuPSEwLCFBJiYoYmwoKSxuKHQpLHQub25SdW50aW1lSW5pdGlhbGl6ZWQmJnQub25SdW50aW1lSW5pdGlhbGl6ZWQoKSx2bCgpKSl9dC5zZXRTdGF0dXM/KHQuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNldFN0YXR1cygiIil9LDEpLGgoKX0sMSkpOmgoKX10LnJ1bj1McjtmdW5jdGlvbiBKbChsLGgpe1psKGwpfWZ1bmN0aW9uIFpsKGwpe3hsKCl8fCh0Lm9uRXhpdCYmdC5vbkV4aXQobCksQT0hMCksdShsLG5ldyBLbChsKSl9aWYodC5wcmVJbml0KWZvcih0eXBlb2YgdC5wcmVJbml0PT0iZnVuY3Rpb24iJiYodC5wcmVJbml0PVt0LnByZUluaXRdKTt0LnByZUluaXQubGVuZ3RoPjA7KXQucHJlSW5pdC5wb3AoKSgpO3JldHVybiBMcigpLGUucmVhZHl9fSgpO2NsYXNzIGxse2NvbnN0cnVjdG9yKCl7cCh0aGlzLCJzZWxlY3RlZFRGTGl0ZSIpO3AodGhpcywiaXNTSU1EU3VwcG9ydGVkIiwhMSk7cCh0aGlzLCJpc1RocmVhZHNTdXBwb3J0ZWQiLCExKTtwKHRoaXMsImlucHV0V2lkdGgiLDApO3AodGhpcywiaW5wdXRIZWlnaHQiLDApO3AodGhpcywiaW5wdXRDaGFubmVsQ291bnQiLDApO3AodGhpcywiaW5wdXRNZW1vcnlPZmZzZXQiLDApO3AodGhpcywib3V0cHV0V2lkdGgiLDApO3AodGhpcywib3V0cHV0SGVpZ2h0IiwwKTtwKHRoaXMsIm91dHB1dENoYW5uZWxDb3VudCIsMCk7cCh0aGlzLCJvdXRwdXRNZW1vcnlPZmZzZXQiLDApfX1jb25zdCBkbD0iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC92b25hZ2UtdGVuc29yZmxvdy13YXNtL3RmbGl0ZS1zaW1kLXdhc20vMS4xLjMvIixtbD0iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC9tbC9zZWxmaWVfc2VnbWVudGF0aW9uLzQuMC4wLyI7YXN5bmMgZnVuY3Rpb24gaGwocj1kbCxlPW1sKXtsZXQgdD1uZXcgbGw7dmFyIG49bmV3IFByb21pc2UoZnVuY3Rpb24oaSxvKXthc3luYyBmdW5jdGlvbiBzKCl7cmV0dXJuIGZsKHtsb2NhdGVGaWxlOmZ1bmN0aW9uKGYpe3JldHVybiByK2Z9fSl9YXN5bmMgZnVuY3Rpb24gYSh1KXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoZixjKT0+e2NvbnN0IGQ9dTtpZih0eXBlb2YgZD4idSIpcmV0dXJuIGMoIlRGTGl0ZSBiYWNrZW5kIHVuYXZhaWxhYmxlOiB3YXNtU2ltZCIpO2NvbnN0IHk9InNlbGZpZV9zZWdtZW50YXRpb25fbGFuZHNjYXBlIjtjb25zb2xlLmxvZygiTG9hZGluZyB0ZmxpdGUgbW9kZWw6Iix5KTtsZXQgXz1lK2Ake3l9LnRmbGl0ZWA7Y29uc29sZS5sb2coIlRGTGl0ZSBtb2RlbFVybDogIitfKTt0cnl7Y29uc3QgeD1hd2FpdChhd2FpdCBmZXRjaChfKSkuYXJyYXlCdWZmZXIoKTtjb25zb2xlLmxvZygiTW9kZWwgYnVmZmVyIHNpemU6Iix4LmJ5dGVMZW5ndGgpO2NvbnN0IHY9ZC5fZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQoKTtjb25zb2xlLmxvZygiTW9kZWwgYnVmZmVyIG1lbW9yeSBvZmZzZXQ6Iix2KSxjb25zb2xlLmxvZygiTG9hZGluZyBtb2RlbCBidWZmZXIuLi4iKSxkLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkoeCksdik7Y29uc3QgYj1kLl9sb2FkTW9kZWwoeC5ieXRlTGVuZ3RoKTtpZihjb25zb2xlLmxvZygiTG9hZCBtb2RlbCByZXN1bHQ6IixiKSxiIT09MCl7YygiQ2Fubm90IGxvYWQgbW9kZWwiKTtyZXR1cm59dC5pbnB1dFdpZHRoPWQuX2dldElucHV0V2lkdGgoKSx0LmlucHV0SGVpZ2h0PWQuX2dldElucHV0SGVpZ2h0KCksdC5pbnB1dENoYW5uZWxDb3VudD1kLl9nZXRJbnB1dENoYW5uZWxDb3VudCgpLHQuaW5wdXRNZW1vcnlPZmZzZXQ9ZC5fZ2V0SW5wdXRNZW1vcnlPZmZzZXQoKSxjb25zb2xlLmxvZygiSW5wdXQgbWVtb3J5IG9mZnNldDoiLHQuaW5wdXRNZW1vcnlPZmZzZXQpLGNvbnNvbGUubG9nKCJJbnB1dCBoZWlnaHQ6Iix0LmlucHV0SGVpZ2h0KSxjb25zb2xlLmxvZygiSW5wdXQgd2lkdGg6Iix0LmlucHV0V2lkdGgpLGNvbnNvbGUubG9nKCJJbnB1dCBjaGFubmVsczoiLHQuaW5wdXRDaGFubmVsQ291bnQpLHQub3V0cHV0TWVtb3J5T2Zmc2V0PWQuX2dldE91dHB1dE1lbW9yeU9mZnNldCgpLHQub3V0cHV0V2lkdGg9ZC5fZ2V0T3V0cHV0V2lkdGgoKSx0Lm91dHB1dEhlaWdodD1kLl9nZXRPdXRwdXRIZWlnaHQoKSx0Lm91dHB1dENoYW5uZWxDb3VudD1kLl9nZXRPdXRwdXRDaGFubmVsQ291bnQoKSxjb25zb2xlLmxvZygiT3V0cHV0IG1lbW9yeSBvZmZzZXQ6Iix0Lm91dHB1dE1lbW9yeU9mZnNldCksY29uc29sZS5sb2coIk91dHB1dCBoZWlnaHQ6Iix0Lm91dHB1dEhlaWdodCksY29uc29sZS5sb2coIk91dHB1dCB3aWR0aDoiLHQub3V0cHV0V2lkdGgpLGNvbnNvbGUubG9nKCJPdXRwdXQgY2hhbm5lbHM6Iix0Lm91dHB1dENoYW5uZWxDb3VudCksdC5zZWxlY3RlZFRGTGl0ZT1kfWNhdGNoKG0pe2MobSk7cmV0dXJufWYoKX0pfXMoKS50aGVuKHU9PntpZih1PT09bnVsbCl0aHJvdyBjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlIG51bGwiKSwibG9hZFRGTGl0ZSBudWxsIjthKHUpLnRoZW4oZj0+e2kodCl9KS5jYXRjaChmPT57Y29uc29sZS5lcnJvcigibG9hZFRGTGl0ZU1vZGVsIGVycm9yIiksbygibG9hZFRGTGl0ZU1vZGVsIGVycm9yIil9KX0pLmNhdGNoKHU9Pntjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlIGVycm9yOiIsdSksbygibG9hZFRGTGl0ZSBlcnJvcjoiK3UpfSl9KTtyZXR1cm4gbn1jbGFzcyBwbHtjb25zdHJ1Y3Rvcigpe3AodGhpcywiY2FudmFzIixuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCkpO3AodGhpcywiY29udGV4dCIsdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KSk7cCh0aGlzLCJwaXhlbENvdW50IiwwKTtwKHRoaXMsImlucHV0T2Zmc2V0IiwwKTtwKHRoaXMsIm91dHB1dE9mZnNldCIsMCk7cCh0aGlzLCJpbmZvcyIpO3AodGhpcywibWFzayIpfWFzeW5jIGluaXQoZSx0KXthd2FpdCB0aGlzLmluaXRXYXNtKGUsdCksdGhpcy5pbmZvcyYmKHRoaXMuY2FudmFzLndpZHRoPXRoaXMuaW5mb3MuaW5wdXRXaWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQ9dGhpcy5pbmZvcy5pbnB1dEhlaWdodCx0aGlzLnBpeGVsQ291bnQ9dGhpcy5pbmZvcy5pbnB1dFdpZHRoKnRoaXMuaW5mb3MuaW5wdXRIZWlnaHQsdGhpcy5tYXNrPW5ldyBJbWFnZURhdGEodGhpcy5pbmZvcy5pbnB1dFdpZHRoLHRoaXMuaW5mb3MuaW5wdXRIZWlnaHQpLHRoaXMuaW5wdXRPZmZzZXQ9dGhpcy5pbmZvcy5pbnB1dE1lbW9yeU9mZnNldC80LHRoaXMub3V0cHV0T2Zmc2V0PXRoaXMuaW5mb3Mub3V0cHV0TWVtb3J5T2Zmc2V0LzQpfWFzeW5jIGluaXRXYXNtKGUsdCl7dGhpcy5pbmZvcz1hd2FpdCBobChlLHQpfWdldE91dHB1dERpbWVuc2lvbnMoKXt2YXIgZSx0LG4saTtyZXR1cm57d2lkdGg6KHQ9KGU9dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOmUub3V0cHV0V2lkdGgpIT1udWxsP3Q6MCxoZWlnaHQ6KGk9KG49dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOm4ub3V0cHV0SGVpZ2h0KSE9bnVsbD9pOjB9fWFzeW5jIHByb2Nlc3MoZSl7aWYoIXRoaXMubWFza3x8IXRoaXMuaW5mb3MpcmV0dXJuO2NvbnN0IHQ9dGhpcy5pbmZvcy5pbnB1dFdpZHRoLG49dGhpcy5pbmZvcy5pbnB1dEhlaWdodDt0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQsMCwwLHQsbik7Y29uc3QgaT10aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCx0LG4pLG89dGhpcy5pbmZvcy5zZWxlY3RlZFRGTGl0ZS5IRUFQRjMyO2ZvcihsZXQgcz0wO3M8dGhpcy5waXhlbENvdW50O3MrKyl7Y29uc3QgYT10aGlzLmlucHV0T2Zmc2V0K3MqMztvW2FdPWkuZGF0YVtzKjRdLzI1NSxvW2ErMV09aS5kYXRhW3MqNCsxXS8yNTUsb1thKzJdPWkuZGF0YVtzKjQrMl0vMjU1fXRoaXMuaW5mb3Muc2VsZWN0ZWRURkxpdGUuX3J1bkluZmVyZW5jZSgpO2ZvcihsZXQgcz0wO3M8dGhpcy5waXhlbENvdW50O3MrKyl7Y29uc3QgYT10aGlzLmluZm9zLnNlbGVjdGVkVEZMaXRlLkhFQVBGMzJbdGhpcy5vdXRwdXRPZmZzZXQrc107dGhpcy5tYXNrLmRhdGFbcyo0XT10aGlzLm1hc2suZGF0YVtzKjQrM109MjU1KmF9cmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKHRoaXMubWFzayl9aXNHcHVTdXBwb3J0ZWQoKXt2YXIgZSx0LG47cmV0dXJuKG49KHQ9KGU9dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOmUuc2VsZWN0ZWRURkxpdGUpPT1udWxsP3ZvaWQgMDp0Ll9pc0dQVUVuYWJsZWQoKSkhPW51bGw/bjohMX19Y2xhc3MgeWx7Y29uc3RydWN0b3IoKXtwKHRoaXMsInNlbGZpZVNlZ21lbnRhdGlvbiIsbmV3IHBsKTtwKHRoaXMsImJhY2tncm91bmRGaWx0ZXIiKTtwKHRoaXMsInByZXZpb3VzRGltZW5zaW9ucyIse3dpZHRoOjAsaGVpZ2h0OjB9KX1hc3luYyBpbml0KGUsdCl7YXdhaXQgdGhpcy5zZWxmaWVTZWdtZW50YXRpb24uaW5pdCh0Lndhc21Bc3NldFVyaVBhdGgsdC50ZmxpdGVBc3NldFVyaVBhdGgpO2NvbnN0e3dpZHRoOm4saGVpZ2h0Oml9PXRoaXMuc2VsZmllU2VnbWVudGF0aW9uLmdldE91dHB1dERpbWVuc2lvbnMoKTt0aGlzLmJhY2tncm91bmRGaWx0ZXI9bmV3IGNsKGUse2ZvcmVncm91bmRXaWR0aDoxLGZvcmVncm91bmRIZWlnaHQ6MSxtYXNrV2lkdGg6bixtYXNrSGVpZ2h0Oml9KX1hc3luYyB0cmFuc2Zvcm0oZSx0KXt2YXIgcyxhLHUsZjtjb25zdCBuPShzPWUudGltZXN0YW1wKSE9bnVsbD9zOjAsaT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChlKSxvPWF3YWl0IHRoaXMuc2VsZmllU2VnbWVudGF0aW9uLnByb2Nlc3MoaSk7bz8oKGkud2lkdGghPT10aGlzLnByZXZpb3VzRGltZW5zaW9ucy53aWR0aHx8aS5oZWlnaHQhPT10aGlzLnByZXZpb3VzRGltZW5zaW9ucy5oZWlnaHQpJiYodGhpcy5wcmV2aW91c0RpbWVuc2lvbnMud2lkdGg9aS53aWR0aCx0aGlzLnByZXZpb3VzRGltZW5zaW9ucy5oZWlnaHQ9aS5oZWlnaHQsYXdhaXQoKGE9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6YS5yZXNpemVGb3JlZ3JvdW5kKGkud2lkdGgsaS5oZWlnaHQpKSksYXdhaXQoKHU9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dS5wcm9jZXNzKGksbykpLGUuY2xvc2UoKSx0LmVucXVldWUobmV3IFZpZGVvRnJhbWUoKGY9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6Zi5jYW52YXMse3RpbWVzdGFtcDpuLGFscGhhOiJkaXNjYXJkIn0pKSk6dC5lbnF1ZXVlKGUpfWFzeW5jIHNldEJhY2tncm91bmRPcHRpb25zKGUpe3ZhciB0O2F3YWl0KCh0PXRoaXMuYmFja2dyb3VuZEZpbHRlcik9PW51bGw/dm9pZCAwOnQuc2V0QmFja2dyb3VuZE9wdGlvbnMoZSkpfWFzeW5jIHNldFZpZGVvQkdSZWFkYWJsZShlKXt2YXIgdDthd2FpdCgodD10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsP3ZvaWQgMDp0LnNldFZpZGVvQkdSZWFkYWJsZShlKSl9YXN5bmMgc2V0VmlydHVhbEJHSW1hZ2UoZSl7dmFyIHQ7YXdhaXQoKHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dC5zZXRWaXJ0dWFsQkdJbWFnZShlKSl9c2V0RmxpY2tlcmluZ09wdGlvbnMoZSl7dmFyIHQ7KHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbHx8dC5zZXRGbGlja2VyaW5nT3B0aW9ucyhlKX1hc3luYyBwcm9maWxlKGUpe3ZhciB0LG47cmV0dXJuKG49KHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dC5wcm9maWxlKGUpKSE9bnVsbD9uOltdfX1jb25zdCBOcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3AodGhpcywiYmFja2dyb3VuZFRyYW5zZm9ybWVyIixuZXcgeWwpO3AodGhpcywibWVkaWFQcm9jZXNzb3IiLG5ldyB3cyk7cCh0aGlzLCJyYXRlIiwzMCk7cCh0aGlzLCJyZXNvbHZlT25NZWRpYVByb2Nlc3NvciIpO3AodGhpcywiZXZlbnRzUXVldWUiLFtdKX1hc3luYyBpbml0KGUsdCl7YXdhaXQgdGhpcy5iYWNrZ3JvdW5kVHJhbnNmb3JtZXIuaW5pdChlLHQpLGF3YWl0IHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhbnNmb3JtZXJzKFt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lcl0pLHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhY2tFeHBlY3RlZFJhdGUodGhpcy5yYXRlKSx0aGlzLm1lZGlhUHJvY2Vzc29yLm9uQW55KChuLGkpPT57dGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj8odGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcih7bmFtZTpuLGRhdGE6aX0pLHRoaXMucmVzb2x2ZU9uTWVkaWFQcm9jZXNzb3I9dm9pZCAwKTp0aGlzLmV2ZW50c1F1ZXVlLnB1c2goe25hbWU6bixkYXRhOml9KX0pfWFzeW5jIG9uTWVkaWFQcm9jZXNzb3JFdmVudCgpe3JldHVybiBhd2FpdCBuZXcgUHJvbWlzZShlPT57dGhpcy5ldmVudHNRdWV1ZS5sZW5ndGg+MD9lKHRoaXMuZXZlbnRzUXVldWUuc2hpZnQoKSk6dGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj1lfSl9YXN5bmMgc2V0VHJhY2tFeHBlY3RlZFJhdGUoZSl7dGhpcy5yYXRlPWUsdGhpcy5tZWRpYVByb2Nlc3Nvci5zZXRUcmFja0V4cGVjdGVkUmF0ZShlKX1hc3luYyB0cmFuc2Zvcm0oZSx0KXt0aGlzLm1lZGlhUHJvY2Vzc29yLnRyYW5zZm9ybShlLHQpfWFzeW5jIHNldEJhY2tncm91bmRPcHRpb25zKGUpe3ZhciB0O2F3YWl0KCh0PXRoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyKT09bnVsbD92b2lkIDA6dC5zZXRCYWNrZ3JvdW5kT3B0aW9ucyhlKSl9c2V0VmlkZW9CR1JlYWRhYmxlKGUpe3RoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyLnNldFZpZGVvQkdSZWFkYWJsZShlKX1hc3luYyBzZXRWaXJ0dWFsQkdJbWFnZShlKXthd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRWaXJ0dWFsQkdJbWFnZShlKX1hc3luYyB0ZXJtaW5hdGUoKXthd2FpdCB0aGlzLm1lZGlhUHJvY2Vzc29yLmRlc3Ryb3koKX1zZXRGbGlja2VyaW5nT3B0aW9ucyhlKXt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRGbGlja2VyaW5nT3B0aW9ucyhlKX1zZXRWb25hZ2VNZXRhZGF0YShlKXtmcyhlKX1hc3luYyBwcm9maWxlKGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShhd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5wcm9maWxlKGUpKX19O2xldCBCaT1OcjsoKCk9PntYaSgiUHJvY2Vzc29yV29ya2VyIixOcil9KSgpfSkoKTsK",Hv=typeof window<"u"&&window.Blob&&new Blob([atob(Uv)],{type:"text/javascript;charset=utf-8"});function f4(){const Et=Hv&&(window.URL||window.webkitURL).createObjectURL(Hv);try{return Et?new Worker(Et):new Worker("data:application/javascript;base64,"+Uv)}finally{Et&&(window.URL||window.webkitURL).revokeObjectURL(Et)}}const Bv=class extends dm{constructor(){super(...arguments),st(this,"rate",30),st(this,"worker")}async init(Et){this.worker=await Du(d4,f4),await this.worker.init(`worker_${Bv.initCount++}`,Et),await this.worker.setVonageMetadata(As()),await this.setBackgroundOptions(Et),this.listenWorker()}async setTrackExpectedRate(Et){var St;await((St=this.worker)==null?void 0:St.setTrackExpectedRate(Et))}async setBackgroundOptions(Et){var St,xt,Xt;const{transformerType:zt}=Et;switch(zt){case"VideoBackground":await((St=this.worker)==null?void 0:St.setVideoBGReadable(await gm.createVideoReadable(Et.backgroundAssetUri)));break;case"VirtualBackground":await((xt=this.worker)==null?void 0:xt.setVirtualBGImage(await gm.createImageCanvas(Et.backgroundAssetUri)));break}await((Xt=this.worker)==null?void 0:Xt.setBackgroundOptions(Et))}async transform(Et,St){var xt;await((xt=this.worker)==null?void 0:xt.transform(Et,St))}async destroy(){var Et;await((Et=this.worker)==null?void 0:Et.terminate())}async setFlickeringOptions(Et){var St;await((St=this.worker)==null?void 0:St.setFlickeringOptions(Et))}async profile(Et){var St;const xt=await((St=this.worker)==null?void 0:St.profile(Et));return JSON.parse(xt??"[]")}async listenWorker(){for(var Et,St,xt;(Et=this.worker)!=null&&Et.worker;){const{name:Xt,data:zt}=await((St=this.worker)==null?void 0:St.onMediaProcessorEvent());switch(Xt){case"error":case"warn":this.emit(Xt,zt);break;case"pipelineInfo":switch(this.emit(Xt,zt),zt){case"pipeline_ended":case"pipeline_ended_with_error":await((xt=this.worker)==null?void 0:xt.terminate());return}break}}}};let Yv=Bv;st(Yv,"initCount",0);class p4{constructor(St){this.queries=St}async downloadSpeedscope(){this.download(await this.convertToSpeedscope())}download(St){const xt=document.createElement("a");xt.href=URL.createObjectURL(new Blob([St],{type:"application/json"})),xt.download=`profile-${+new Date}.speedscope.json`,document.body.appendChild(xt),xt.click(),document.body.removeChild(xt)}convertToSpeedscope(){const St=[],xt={},Xt=[];let zt=0;for(const On of this.queries){const Tn=[];for(const Mn of On)xt[Mn.name]===void 0&&(xt[Mn.name]=St.length,St.push({name:Mn.name})),Tn.push({type:Mn.action==Zm.PUSH?"O":"C",frame:xt[Mn.name],at:Mn.timestamp}),zt=Math.max(zt,Mn.timestamp+Mn.duration);Xt.push({events:Tn,type:"evented",name:"GPU Profile",unit:"nanoseconds",startValue:0,endValue:zt})}return JSON.stringify({$schema:"https://www.speedscope.app/file-format-schema.json",shared:{frames:St},profiles:Xt},null,2)}}class A0 extends dm{constructor(){super(),st(this,"worker",new Yv),st(this,"connector",new en(this.worker))}async init(St){await this.worker.init(St),this.worker.onAny((xt,Xt)=>this.emit(xt,Xt))}async setBackgroundOptions(St){await this.worker.setBackgroundOptions(St)}setTrackExpectedRate(St){this.worker.setTrackExpectedRate(St)}getConnector(){return this.connector}async profile(St){return this.worker.profile(St)}static async profile(St){const xt=await nt.all(this.instances.map(Xt=>Xt.profile(St)));return new p4(xt)}static async create(St){const xt=new this;return await xt.init(St),this.instances.push(xt),xt}}st(A0,"instances",[]);function h4(){return Au}function m4(){return ku}function g4(){return cp}function v4(){return Rp}function y4(){return im}function b4(){return Jp}function S4(){return Hl}async function E4(Et){return await A0.create(Et)}}.call(this,et(0),et(42))},function(_e,tt,et){const nt=et(34)().onlyLocal(),rt=et(100),it=rt.prependProxyToUrlIfNeeded,ot=(at,ct)=>{let ut=at.apiUrl.includes("anvil.opentok.com")?"https://static.opentok.com":"https://www.dev.tokbox.com";return ct&&(ct.includes("euproxy.opentok.com")?ut="https://static-eu.opentok.com":ut=it(ut,ct)),`${ut}/ml-transformers/v4.0.0`},st={getConfig:function(ct){ct===void 0&&(ct={});const lt=ct,dt=lt.staticConfig,ut=dt===void 0?nt:dt,ft=lt.proxyUrl,pt=ot(ut,ft);return{mediapipeBaseAssetsUri:`${pt}`,wasmAssetUriPath:`${pt}/`,tfliteAssetUriPath:`${pt}/`}}};_e.exports=st},function(_e,tt,et){const nt=et(16),rt=et(11),it=et(723),ot=et(724),st=et(725);_e.exports=function(ct){ct===void 0&&(ct={});const lt=ct.Errors||et(7),dt=ct.ExceptionCodes||et(10),ut=ct.logging||et(1)("publisherInit"),ft=ct.otError||et(13)(),pt=ct.OTHelpers||et(8),bt=ct.Publisher||et(168)(),Tt=ct.sessionObjects||et(21);return function(gt,vt,Ct){ut.debug(`OT.initPublisher(${gt})`),typeof gt=="string"&&!document.getElementById(gt)&&(gt=vt,vt=Ct,Ct=arguments[3]),typeof gt=="function"?(Ct=gt,vt=void 0,gt=void 0):rt(gt)&&!pt.isElementNode(gt)&&(Ct=vt,vt=gt,gt=void 0),typeof vt=="function"&&(Ct=vt,vt=void 0);let It;vt&&(rt(vt)?vt.insertDefaultUI===!1&&gt?It="You cannot specify a target element if insertDefaultUI is false":it(vt.audioSource)&&it(vt.videoSource)&&(It="You cannot specify both audioSource and videoSource as null or false"):(It="properties argument to Publisher constructor, if provided, should be an object",vt=void 0)),ot(vt),st(vt);const Zt=new bt(vt||{});Tt.publishers.add(Zt);const Wt=function(){Ct&&nt(Ct)&&(Ct(...arguments),Ct=void 0)};It!==void 0&&(ut.error(It),Wt(ft(lt.INVALID_PARAMETER,new Error(It),dt.INVALID_PARAMETER)));const kt=function(Mt){Zt.off("publishComplete",Nt),Wt(Mt)};let Nt=function(Mt){Zt.off("initSuccess",kt),Mt&&Wt(Mt)};return Zt.once("initSuccess",kt),Zt.once("publishComplete",Nt),Zt.publish(gt),Zt}}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(18),at=et(726),ct=et(11),lt=et(16),dt=et(9),ut=et(26),ft=et(6),pt=et(20),bt=et(34)(),Tt=et(73),ht=et(314),gt=et(728),vt=et(729),Ct=et(730),It=et(100),Zt=It.prependProxyToUrlIfNeeded,Wt=et(101),kt=Wt.getProxyUrl,Nt=et(731);_e.exports=function(Mt){Mt===void 0&&(Mt={});const tn=Mt.adaptIceServers||et(102).adaptIceServers,$t=Mt.AnalyticsHelper||pt,Ht=Mt.APIKEY||et(70),rn=Mt.Capabilities||et(169),ln=Mt.convertAnvilErrorCode||et(732),mn=Mt.convertRumorError||et(321),on=Mt.Errors||et(7),yn=Mt.Events||et(23)(),hn=Mt.Stream||et(170),un=Mt.ExceptionCodes||et(10),dn=Mt.hasIceRestartsCapability||et(322),Nn=Mt.hasE2eeCapability||et(110),Wn=Mt.logging||et(1)("Session"),pn=Mt.otError||et(13)(),Rn=Mt.OTErrorClass||et(22),xn=Mt.OTHelpers||et(8),Jn=et(733),cr=Mt.StaticConfig||bt,er=Mt.staticConfig||cr.onlyLocal(),_n=Mt.Publisher||et(168)(),Sr=Mt.RaptorSocket||et(734).default(),vr=Mt.SessionDispatcher||et(330),Gr=Mt.sessionObjects||et(21),Lr=Mt.sessionTag||et(329),Ur=Mt.socketCloseCodes||et(76),co=Mt.Subscriber||et(305)(),Tr=Mt.systemRequirements||et(153),wr=Mt.uuid||et(15),Bn=vt({otError:pn}),Gn=Mt.global||(typeof window!==void 0?window:commonjsGlobal),lr=Mt.getSessionInfo||et(758)(),Vr=et(142),oo=Mt.KeyStore||et(761),Yn=Mt.SFrameClientStore||et(763),yr=Mt.SinglePeerConnectionController||et(765),Ar=Mt.initPublisher||et(319)({Publisher:_n});return function(mo,bo,go){var $r=this;let Wo=go===void 0?{}:go,So=Wo.iceConfig,Vo=Wo.connectionEventsSuppressed,qr=Wo.ipWhitelist,Iu=qr===void 0?!1:qr,Ho=Wo.encryptionSecret,Co=Wo._enableSinglePeerConnection;const es=kt(),Hs=new $t,eu=Qn=>typeof Qn=="string"?this.streams.get(Qn)||{id:Qn}:Qn;ft(this),this._tag=Lr,Tr.check()||Tr.upgrade(),bo==null&&(bo=mo,mo=null),Bn(So),this.id=bo,this.sessionId=bo,this.keyStore=new oo,this.sFrameClientStore=new Yn;let Is,_a,wu,Wu,Bp,_u,qu,_r,qs=!1,lu=mo;const Gs=this;let El=bo,Hr=wr(),Qs=Wn,Yp=!1;const uu=[];let du=null,ts=!1,Wl=!1,ns,Hu,fp,_c;const rp=xn.statable(this,["disconnected","connecting","connected","disconnecting"],"disconnected");this.connection=null,this.connections=new xn.Collection,this.streams=new xn.Collection,this.archives=new xn.Collection;let _d;const ba=function(An){rp("disconnected"),An.code||(An.code=un.CONNECT_FAILED),Qs.error(`${An.name||"Unknown Error"}: ${An.message}`),Rn.handleJsException({error:An,target:this,analytics:Hs}),this.trigger("sessionConnectFailed",An)},zo=function(An){qs=!1;const Pn=An.reason;this.logEvent("Connect","Disconnected",{reason:An.reason});const nr=new yn.SessionDisconnectEvent("sessionDisconnected",Pn.replace("networkTimedout","networkDisconnected"));this.isConnected()&&this.disconnect(),Hu(),ns.call(this,Pn),setTimeout(()=>{this.dispatchEvent(nr),fp.call(this,nr.reason),nr.isDefaultPrevented()||_c.call(this,nr.reason)})},tu=function(An){Vo||An.id.match(/^symphony\./)||this.dispatchEvent(new yn.ConnectionEvent(ut.CONNECTION_CREATED,An))},vo=function(An,Pn){An.id.match(/^symphony\./)||Is&&An.id===Is.id()||this.dispatchEvent(new yn.ConnectionEvent(ut.CONNECTION_DESTROYED,An,Pn))},ip=function(An){An&&An.connection&&(!this.connection||An.connection.id!==this.connection.id)&&this.dispatchEvent(new yn.StreamEvent(ut.STREAM_CREATED,An,null,!1))},Ou=function(An){const Pn=An.target,nr=An.changedProperty;let Ir=An.newValue;nr==="videoDisableWarning"||nr==="audioDisableWarning"||(nr==="videoDimensions"&&(Ir={width:Ir.width,height:Ir.height}),this.dispatchEvent(new yn.StreamPropertyChangedEvent(ut.STREAM_PROPERTY_CHANGED,Pn,nr,An.oldValue,Ir)))},Ap=function(An,Pn){Pn===void 0&&(Pn="clientDisconnected");const nr=new yn.StreamEvent("streamDestroyed",An,Pn,!0),Ir=()=>{Gr.subscribers.where({streamId:An.id}).filter(Zr=>Zr.session.id===this.id&&Zr.stream).forEach(Zr=>{Zr._disconnect({reason:Pn}),nr.isDefaultPrevented()||Zr._destroy({reason:Pn,noStateTransition:!0})})};An.connection.id===this.connection.id?Gr.publishers.where({streamId:An.id}).forEach(function(Zr){Zr._.unpublishStreamFromSession(An,this,Pn)},this):this.dispatchEvent(nr),Ir()},bs=function(An){this.dispatchEvent(new yn.ArchiveEvent("archiveStarted",An))},kp=function(An){this.dispatchEvent(new yn.ArchiveEvent("archiveDestroyed",An))},_p=function(An){const Pn=An.target,nr=An.changedProperty,Ir=An.newValue;nr==="status"&&Ir==="stopped"?this.dispatchEvent(new yn.ArchiveEvent("archiveStopped",Pn)):this.dispatchEvent(new yn.ArchiveEvent("archiveUpdated",Pn))},Lp=()=>Gr.subscribers.forEach(Qn=>Qn._.pauseAndPlayVideoElement()),Sp=function(){Gs.token=null,wu=null,rp("disconnected"),Is=null,_a&&(_a.stop(),_a=null),Gs.connection=null,Gs.capabilities=new rn([],{hasE2eeCapability:Nn}),Gs.connections.destroy(),Gs.streams.destroy(),Gs.archives.destroy()};Hu=function(){Hr=wr(),Sp()},ns=function(An){Gr.publishers.where({session:this}).forEach(Pn=>{Pn.disconnect(An)}),Gr.subscribers.where({session:this}).forEach(Pn=>{Pn._disconnect()})},fp=function(An){Gr.publishers.where({session:this}).forEach(Pn=>{Pn._.streamDestroyed(An)})},_c=function(An){Gr.subscribers.where({session:this}).forEach(Pn=>{Pn._destroy({reason:An})})};const zp=function(){Qs.debug("OT.Session: connecting to Raptor");const An=Zt(this.sessionInfo.messagingURL,es),Pn=["forceMute"];this.sessionInfo.isAdaptiveEnabled&&Pn.push("amr"),Wl&&Pn.push("spc"),Is=new Sr({connectionId:Hr,sessionId:bo,messagingSocketUrl:An,symphonyUrl:this.sessionInfo.symphonyAddress,dispatcher:vr(this,{connectionEventsSuppressed:Vo}),analytics:Hs,requestedCapabilities:Pn});function Ir(Zr,ko){let Go;switch(Zr){case"WebSocketConnection":if(Go=at(Ur.codes,As=>As===ko),Go)return on[`SOCKET_${Go}`];break;case"ConnectToSession":case"GetSessionState":switch(ko){case un.CONNECT_FAILED:return on.CONNECT_FAILED;case un.UNEXPECTED_SERVER_RESPONSE:return on.UNEXPECTED_SERVER_RESPONSE;case un.CONNECTION_LIMIT_EXCEEDED:return on.CONNECTION_LIMIT_EXCEEDED}break}}Is.connect(wu,this.sessionInfo,{connectionEventsSuppressed:Vo},(Zr,ko)=>{if(Zr){const As={};let os;if(Zr.reason==="ConnectToSession"||Zr.reason==="GetSessionState"){const Vs=mn(Zr);dt(As,{originalMessage:Zr.message,originalCode:Zr.code}),Zr.code=Vs.code,Zr.message=Vs.message}(Zr.code||Zr.message||Zr.reason)&&(os={failureCode:Zr.code,failureMessage:Zr.message,failureReason:Zr.reason,socketId:Is.socketId}),Is=null,this.logConnectivityEvent("Failure",As,os);const ps=Ir(Zr.reason,Zr.code);ps&&(Zr=pn(ps,new Error(Zr.message),Zr.code)),ba.call(this,Zr);return}Qs.debug("OT.Session: Received session state from Raptor",ko),this.connection=this.connections.get(Is.id()),this.connection&&(this.capabilities=this.connection.permissions),rp("connected"),this.logConnectivityEvent("Success",{connectionId:this.connection.id}),this.connection.on("destroyed",zo,this),this.dispatchEvent(new yn.SessionConnectEvent(ut.SESSION_CONNECTED)),this.connections.on({add:tu,remove:vo},this),this.streams.on({add:ip,remove:Ap,update:Ou},this),this.archives.on({add:bs,remove:kp,update:_p},this),this.connections._triggerAddEvents(),this.streams._triggerAddEvents(),this.archives._triggerAddEvents(),xn.env.isiOS&&xn.env.iOSVersion>=13.3&&this.on("gsmCallEnded",Lp)})},op=Qn=>this.capabilities.permittedTo(Qn),fu=(Qn,An)=>{Wn.error(`${Qn.name}: ${Qn.message}`),typeof An=="function"&&An(Qn),Rn.handleJsException({error:Qn,target:this,analytics:Hs})},Gu=Qn=>{const An=pn(Qn.code,new Error(Qn.message),Qn.exceptionCode);return fu(An),An},Ul=()=>this.isNot("connected")?Gu(Jn.NOT_CONNECTED):op("forceMute")?null:Gu(Jn.PERMISSION_DENIED),Wp=Qn=>Qn.code==="404"?Gu(Jn.NOT_FOUND):Qn.code==="403"?Gu(Jn.PERMISSION_DENIED):Gu(Jn.UNEXPECTED_SERVER_RESPONSE);this.reportIssue=Qn=>{let An=Qn.id;return ht(Hs.logEvent.bind(Hs))({action:"ReportIssue",variation:"Event",connectionId:Hr,payload:{reportIssueId:An}},null)},this.logEvent=function(Qn,An,Pn,nr){let Ir={action:Qn,variation:An,payload:Pn,sessionId:El,messagingServer:Bp,p2p:Wu,partnerId:lu,connectionId:Hr};nr&&(Ir=dt(nr,Ir)),Hs.logEvent(Ir)},this.logConfigurationFileEvent=function(Qn,An,Pn){if(An===void 0&&(An=null),Pn===void 0&&(Pn={}),Qn==="Attempt")qu=new Date().getTime();else if(Qn==="Failure"||Qn==="Success"){const nr=new Date().getTime()-qu;dt(Pn,{attemptDuration:nr})}es&&(Pn.proxyUrl=es),this.logEvent("ConfigurationFile",Qn,An,Object.assign({},Pn))},this.logConnectivityEvent=function(Qn,An,Pn){if(An===void 0&&(An=null),Pn===void 0&&(Pn={}),es&&(Pn.proxyUrl=es),Qn==="Attempt"&&(_a&&(_a.stop(),Wn.error("_connectivityAttemptPinger should have been cleaned up")),_u=new Date().getTime(),_a=new Tt(()=>{this.logEvent("Connect","Attempting",An,Object.assign({},Pn))},1/5,6),_a.start()),Qn==="Failure"||Qn==="Success"||Qn==="Cancel"){const nr=Ir=>{_a&&(_a.stop(),_a=void 0),this.logEvent("Connect",Qn,An,Object.assign({},Pn,{attemptDuration:new Date().getTime()-_u,iceConfig:Ir,ipWhitelist:Iu}))};Qn==="Success"?this._.getIceConfig().then(Ir=>{const Zr={includeServers:So&&So.includeServers||"all",transportPolicy:Ir.transportPolicy};Zr.servers=Ir.servers?Ir.servers.map(ko=>({url:ko.urls})):[],nr(Zr)}):nr()}else this.logEvent("Connect",Qn,An,Pn)},this.connect=function(){let Qn;for(var An=arguments.length,Pn=new Array(An),nr=0;nr<An;nr++)Pn[nr]=arguments[nr];Pn.length>1&&(typeof Pn[0]=="string"||typeof Pn[0]=="number")&&typeof Pn[1]=="string"?(mo==null&&(lu=Pn[0].toString()),Qn=Pn[1]):Qn=Pn[0];const Ir=Pn[Pn.length-1];if($r.is("connecting","connected"))return Qs.warn(`OT.Session: Cannot connect, the session is already ${$r.currentState}`),$r;Hs.sessionInfo=new Vr,Sp(),rp("connecting");const Zr=Hr;function ko(){const ps=Hr!==Zr;return ps&&Wn.debug("Connection was interrupted"),ps}if($r.token=!lt(Qn)&&Qn,wu=!lt(Qn)&&Qn,Ir&&lt(Ir)){let ps;const Vs=function(){ps();for(var Fs=arguments.length,Gl=new Array(Fs),Bs=0;Bs<Fs;Bs++)Gl[Bs]=arguments[Bs];Ir(void 0,...Gl)},_s=function(){ps(),Ir(...arguments)};ps=()=>{$r.off("sessionConnected",Vs),$r.off("sessionConnectFailed",_s)},$r.once("sessionConnected",Vs),$r.once("sessionConnectFailed",_s)}if(lu==null||lt(lu))return setTimeout(ba.bind($r,pn(on.AUTHENTICATION_ERROR,new Error("API Key is undefined. You must pass an API Key to initSession."),un.AUTHENTICATION_ERROR))),$r;if(!El||ct(El)||Array.isArray(El)){let ps;return El?(ps="SessionID is not a string. You must use string as the session ID passed into OT.initSession().",El=El.toString()):ps="SessionID is undefined. You must pass a sessionID to initSession.",setTimeout(ba.bind($r,pn(on.INVALID_SESSION_ID,new Error(ps),un.INVALID_SESSION_ID))),$r.logConnectivityEvent("Attempt"),$r.logConnectivityEvent("Failure",null,{failureReason:"ConnectToSession",failureCode:un.INVALID_SESSION_ID,failureMessage:ps}),$r}if($r.apiKey=lu.toString(),lu=lu.toString(),Ho){if(!Nn())return setTimeout(ba.bind($r,pn(on.UNSUPPORTED_BROWSER,new Error("E2E Encryption is not supported in your browser.")))),$r;try{Nt(Ho),$r.keyStore.set(bo,Ho),ts=!0}catch(ps){return setTimeout(ba.bind($r,pn(on.INVALID_ENCRYPTION_SECRET,new Error(`Invalid encryptionSecret: ${ps.message}`)))),$r}}Ht.value.length===0&&(Ht.value=lu);const Go=!!cr.onlyLocal().configUrl,As=Iu===!0&&!!cr.onlyLocal().ipWhitelistConfigUrl;return!Go&&!As?$r.logConfigurationFileEvent("Event",{message:"No configUrl, using local config only"}):$r.logConfigurationFileEvent("Attempt"),(Go||As?cr.get({partnerId:lu,token:Qn,useIpWhitelistConfigUrl:As,proxyUrl:es}):nt.resolve(cr.onlyLocal())).then(ps=>((Go||As)&&$r.logConfigurationFileEvent("Success"),ps),ps=>((Go||As)&&$r.logConfigurationFileEvent("Failure",{failureMessage:ps.message,failureStack:ps.stack}),cr.onlyLocal())).then(ps=>{if($r.staticConfig=ps,Hs.staticConfig=ps,ps.apiEnabled===!1)throw pn(on.API_KEY_DISABLED,new Error("The API KEY has been disabled. Access to the service is currently being restricted. Please contact support."));if(ko())return;$r.logConnectivityEvent("Attempt"),es?$r.logEvent("SessionInfo","Attempt",null,{proxyUrl:es}):$r.logEvent("SessionInfo","Attempt");const Vs=Fs=>{Fs.code=ln(Fs.code),$r.logConnectivityEvent("Failure",null,{failureReason:"GetSessionInfo",failureCode:Fs.code||"No code",failureMessage:Fs.message,failureName:Fs.name}),Fs.name&&(Fs=pn(Fs.name,new Error(`${Fs.message}${Fs.code?` (${Fs.code})`:""}`),Fs.code)),ba.call($r,Fs)},_s=Fs=>{if(ko())return;if(Fs.partnerId&&Fs.partnerId!==lu){const Bs="Authentication Error: The API key does not match the token or session.";Vs(pn(on.AUTHENTICATION_ERROR,new Error(Bs),un.AUTHENTICATION_ERROR));return}Wl=Ct(Fs,Co),Wl&&(_d=new yr($r)),Hs.sessionInfo=Fs;const Gl={features:{reconnection:Fs.reconnection,renegotiation:dn()&&Fs.renegotiation,simulcast:Fs.simulcast===void 0?!1:Fs.simulcast&&xn.env.name==="Chrome"}};if(es&&(Gl.proxyUrl=es),$r.is("connecting")){$r.sessionInfo=Fs,$r._.setIceServers($r.sessionInfo.iceServers),Wu=Fs.p2pEnabled,Bp=Fs.messagingServer,$r.logEvent("SessionInfo","Success",null,Gl,{messagingServer:Fs.messagingServer});const Bs=ps.sessionInfoOverrides;Bs!=null&&typeof Bs=="object"&&Object.keys(Bs).forEach(nu=>{Object.defineProperty($r.sessionInfo,nu,{value:Bs[nu]})}),zp.call($r)}},Vp=Zt(ps.apiUrl,es);return lr({anvilUrl:Vp,sessionId:bo,token:wu,connectionId:Hr,clientVersion:ps.clientVersion}).then(_s,Vs)}).catch(ps=>{ba.call($r,ps)}),$r},this.disconnect=function(){_d&&(_d.destroy(),_d=null),Is&&Is.isNot("disconnected")?Is.isNot("disconnecting")&&(Is.isNot("connecting")||this.logConnectivityEvent("Cancel"),rp("disconnecting"),Is.disconnect(),this.off("gsmCallEnded",Lp)):Hu()},this.destroy=function(){this.streams.destroy(),this.connections.destroy(),this.archives.destroy(),this.disconnect()},this.publish=function(Qn,An,Pn){if(typeof Qn=="function"&&(Pn=Qn,Qn=void 0),typeof An=="function"&&(Pn=An,An=void 0),Pn=Pn||function(){},this.isNot("connected"))return Hs.logError(1010,"OT.exception","We need to be connected before you can publish",null,{action:"Publish",variation:"Failure",failureReason:"unconnected",failureCode:un.NOT_CONNECTED,failureMessage:"We need to be connected before you can publish",sessionId:El,streamId:Qn&&Qn.stream?Qn.stream.id:null,p2p:this.sessionInfo?this.sessionInfo.p2pEnabled:void 0,messagingServer:this.sessionInfo?this.sessionInfo.messagingServer:null,partnerId:lu}),fu(pn(on.NOT_CONNECTED,new Error("We need to be connected before you can publish"),un.NOT_CONNECTED),Pn),null;if(!op("publish")){const nr="This token does not allow publishing. The role must be at least `publisher` to enable this functionality",Ir={failureReason:"Permission",failureCode:un.UNABLE_TO_PUBLISH,failureMessage:nr};return this.logEvent("Publish","Failure",null,Ir),fu(pn(on.PERMISSION_DENIED,new Error(nr),un.UNABLE_TO_PUBLISH),Pn),null}if(!Qn||typeof Qn=="string"||xn.isElementNode(Qn))Qn=Ar(Qn,An);else if(Qn instanceof _n)"session"in Qn&&Qn.session&&"sessionId"in Qn.session&&(Qn.session.sessionId===this.sessionId?Qs.warn(`Cannot publish ${Qn.guid()} again to ${this.sessionId}. Please call session.unpublish(publisher) first.`):Qs.warn(`Cannot publish ${Qn.guid()} publisher already attached to ${Qn.session.sessionId}. Please call session.unpublish(publisher) first.`));else{fu(pn(on.INVALID_PARAMETER,new Error("Session.publish :: First parameter passed in is neither a string nor an instance of the Publisher"),un.UNABLE_TO_PUBLISH),Pn);return}return Yp&&Qn._.forceMuteAudio(),Qn._.publishToSession(this,Hs).catch(nr=>{throw nr.message=`Session.publish :: ${nr.message}`,Qs.error(nr.code,nr.message),nr}).then(()=>Qn).then(function(){for(var nr=arguments.length,Ir=new Array(nr),Zr=0;Zr<nr;Zr++)Ir[Zr]=arguments[Zr];return Pn(null,...Ir)},nr=>Pn(nr)),Qn},this.unpublish=function(Qn){if(!Qn){Qs.error("OT.Session.unpublish: publisher parameter missing.");return}Qn._.unpublishFromSession(this,"unpublished")},this.setIceConfig=function(){var Qn=(0,ot.default)(it.default.mark(function An(Pn){var nr,Ir,Zr;return it.default.wrap(function(Go){for(;;)switch(Go.prev=Go.next){case 0:if(Bn(Pn),Hs.logEvent({action:"setIceConfig",variation:"Attempt",payload:{newIceConfig:Pn}}),So=Object.assign({},Pn),Pn.includeServers!=="all"){Go.next=8;break}return Go.next=6,Gs._.getOtIceServerInfo();case 6:nr=Go.sent,Pn.customServers=Pn.customServers.concat(nr.servers);case 8:return Ir=As=>({iceServers:As.customServers,iceTransportPolicy:As.transportPolicy}),Zr=Ir(Pn),Go.prev=10,Go.next=13,nt.all(Gr.publishers.map(As=>As._.setIceConfig(Zr)).concat(Gr.subscribers.map(As=>As._.setIceConfig(Zr))));case 13:Go.next=19;break;case 15:throw Go.prev=15,Go.t0=Go.catch(10),Hs.logEvent({action:"setIceConfig",variation:"Failure",payload:{newIceConfig:Pn}}),Go.t0;case 19:Hs.logEvent({action:"setIceConfig",variation:"Success",payload:{newIceConfig:Pn}});case 20:case"end":return Go.stop()}},An,null,[[10,15]])}));return function(An){return Qn.apply(this,arguments)}}(),this.subscribe=function(Qn,An,Pn,nr){if(typeof An=="function"&&(nr=An,An=void 0,Pn=void 0),typeof Pn=="function"&&(nr=Pn,Pn=void 0),nr=nr||function(){},!this.connection||!this.connection.connectionId){fu(pn(on.NOT_CONNECTED,new Error("Session.subscribe :: Connection required to subscribe"),un.UNABLE_TO_SUBSCRIBE),nr);return}if(!Qn){fu(pn(on.INVALID_PARAMETER,new Error("Session.subscribe :: stream cannot be null"),un.UNABLE_TO_SUBSCRIBE),nr);return}if(!Object.prototype.hasOwnProperty.call(Qn,"streamId")){fu(pn(on.INVALID_PARAMETER,new Error("Session.subscribe :: invalid stream object"),un.UNABLE_TO_SUBSCRIBE),nr);return}if(Pn&&Pn.insertDefaultUI===!1&&An){fu(pn(on.INVALID_PARAMETER,new Error("You cannot specify a target element if insertDefaultUI is false"),un.INVALID_PARAMETER),nr);return}An&&An.insertDefaultUI===!1&&(Pn=An,An=void 0);const Ir=new co(An,dt(Pn||{},{stream:Qn,session:this,analytics:Hs,_singlePeerConnectionController:_d}),Zr=>{if(Zr){fu(Zr,nr);return}nr(null,Ir)});return Gr.subscribers.add(Ir),Ir},this.unsubscribe=function(Qn){if(!Qn){const An="OT.Session.unsubscribe: subscriber cannot be null";throw Qs.error(An),new Error(An)}return Qn.stream?(Qs.debug(`OT.Session.unsubscribe: subscriber ${Qn.id}`),Qn._destroy({reason:"Unsubscribe"}),!0):(Qs.warn("OT.Session.unsubscribe:: tried to unsubscribe a subscriber that had no stream"),!1)},this.getSubscribersForStream=function(Qn){return Gr.subscribers.where({streamId:Qn.id})},this.getPublisherForStream=function(Qn){let An,Pn;if(typeof Qn=="string")An=Qn;else if(typeof Qn=="object"&&Qn&&Object.hasOwnProperty.call(Qn,"id"))An=Qn.id;else throw Pn="Session.getPublisherForStream :: Invalid stream type",Qs.error(Pn),new Error(Pn);return Gr.publishers.where({streamId:An})[0]},this._={getProxyUrl(){return es},isE2ee(){return Gs.sessionInfo.e2ee&&ts&&!!Gs.capabilities.supportsE2ee},isSocketReconnecting(){return qs},getSocket(){return Is},reconnecting:function(){qs=!0,this.dispatchEvent(new yn.SessionReconnectingEvent)}.bind(this),reconnected:function(){qs=!1,this.dispatchEvent(new yn.SessionReconnectedEvent),this.sessionInfo.reconnection&&(Gr.publishers.where({session:this}).forEach(Qn=>{Qn._.iceRestart()}),this.sessionInfo.p2pEnabled||Gr.subscribers.where({session:this}).forEach(Qn=>{Qn._.iceRestart("socket reconnected")}))}.bind(this),dispatchSignal:function(Qn,An,Pn){const nr=new yn.SignalEvent(An,Pn,Qn);nr.target=this,this.trigger(ut.SIGNAL,nr),An&&this.dispatchEvent(nr)}.bind(this),dispatchCaption:function(Qn,An){let Pn,nr,Ir;try{const ko=JSON.parse(An.data);Pn=ko.caption.text,nr=ko.streamId,Ir=ko.isFinal}catch(ko){Qs.error(`Caption parsing failed: ${ko.message}`);return}const Zr=new yn.CaptionReceivedEvent(Pn,nr,Ir);Zr.target=this,this.trigger(ut.SUBSCRIBER_CAPTION_RECEIVED,Zr),this.dispatchEvent(Zr)}.bind(this),subscriberChannelUpdate(Qn,An,Pn,nr){return Is?Is.subscriberChannelUpdate(Qn.id,An.widgetId,Pn.id,nr):(Qs.warn("You are disconnected, cannot update subscriber properties ",nr),null)},streamCreate(Qn,An){let Pn=Qn===void 0?{}:Qn,nr=Pn.name,Ir=Pn.streamId,Zr=Pn.subscriberAudioFallbackEnabled,ko=Pn.channels,Go=Pn.minBitrate,As=Pn.sourceStreamId,os=Pn.e2ee,ps=Pn.publisherAudioFallbackEnabled,Vs=Pn.customProperties;if(!Is){Qs.warn("You are disconnected, cannot create stream ",Ir);return}Is.streamCreate({name:nr,streamId:Ir,subscriberAudioFallbackEnabled:Zr,channels:ko,minBitrate:Go,maxBitrate:void 0,sourceStreamId:As,e2ee:os,publisherAudioFallbackEnabled:ps,customProperties:Vs},An)},streamDestroy(Qn,An){if(!Is){Qs.warn("You are disconnected, cannot destroy stream ",Qn);return}Is.streamDestroy(Qn,An)},streamChannelUpdate(Qn,An,Pn){if(!Is){Qs.warn("You are disconnected, cannot update stream properties ",Pn);return}Is.streamChannelUpdate(Qn.id,An.id,Pn)},setSocket(Qn){Is=Qn},setLogging(Qn){Qs=Qn},setState:rp,setIceServers(Qn){Qn&&(_r={iceServers:tn(Qn),timestamp:Date.now()})},getOtIceServerInfo(){const Qn=_r?Date.now()-_r.timestamp:1/0,Pn=24*60*60*1e3-Qn,nr=5*60*1e3;if(Pn>nr)return nt.resolve({transportPolicy:Gs&&Gs.sessionInfo&&Gs.sessionInfo.clientCandidates,servers:_r&&_r.iceServers});if(!wu)return nt.resolve({transportPolicy:Gs&&Gs.sessionInfo&&Gs.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0});const Ir=er.clientVersion;return lr({anvilUrl:(this.staticConfig||er).apiUrl,sessionId:bo,token:wu,connectionId:Hr,clientVersion:Ir}).then(Zr=>(Gs._.setIceServers(Zr.iceServers),_r?{transportPolicy:Gs&&Gs.sessionInfo&&Gs.sessionInfo.clientCandidates,servers:_r&&_r.iceServers}:{transportPolicy:Gs.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0}))},getCodecFlags:()=>({h264:Gs.sessionInfo.h264,vp9:Gs.sessionInfo.vp9,vp8:Gs.sessionInfo.vp8}),getVideoCodecsCompatible:Qn=>gt({RTCPeerConnection:Gn.RTCPeerConnection,env:xn.env,stream:Qn,codecFlags:Gs._.getCodecFlags()}),getIceConfig:()=>{if(!So)return Gs._.getOtIceServerInfo();const Qn=(()=>So&&So.transportPolicy==="relay"?"relay":Gs.sessionInfo.clientCandidates)();return(So.includeServers==="custom"?nt.resolve({servers:[]}):Gs._.getOtIceServerInfo()).then(Pn=>dt(Pn,{transportPolicy:Qn,servers:[...Pn.servers,...So.customServers]}))},forceMute:function(Qn){this.dispatchEvent(new yn.MuteForcedEvent(Qn))}.bind(this),enableMuteOnEntry:()=>{Yp=!0},addSubscriberToPeerConnectionsQueue:(Qn,An)=>{uu.push({pc:Qn,message:An}),du||(du=setInterval(()=>{const Pn=uu.shift();Pn?Pn.pc.processMessage("offer",Pn.message):(clearInterval(du),du=null)},100))},disableMuteOnEntry:()=>{Yp=!1},privateEvents:new st},this.signal=function(Qn,An){let Pn=Qn,nr=An||function(){};if(lt(Pn)&&(nr=Pn,Pn=null),this.isNot("connected")){const Zr="Unable to send signal - you are not connected to the session.";fu(pn(on.NOT_CONNECTED,new Error(Zr),500),nr);return}function Ir(Zr){switch(Zr){case 400:case 413:return on.INVALID_PARAMETER;case 429:return on.RATE_LIMIT_EXCEEDED;case 404:return on.NOT_FOUND;case 500:return on.NOT_CONNECTED;case 403:return on.PERMISSION_DENIED;case 2001:return on.UNEXPECTED_SERVER_RESPONSE;default:return}}Is.signal(Pn,function(Zr){if(Zr){const os=Ir(Zr.code);os&&(Zr=pn(os,new Error(Zr.message),Zr.code)),nr(Zr);return}for(var ko=arguments.length,Go=new Array(ko>1?ko-1:0),As=1;As<ko;As++)Go[As-1]=arguments[As];nr(Zr,...Go)},this.logEvent),Qn&&Qn.data&&typeof Qn.data!="string"&&Qs.warn("Signaling of anything other than Strings is deprecated. Please update the data property to be a string.")},this.forceDisconnect=function(Qn,An){if(this.isNot("connected")){const Zr="Cannot call forceDisconnect(). You are not connected to the session.";fu(pn(on.NOT_CONNECTED,new Error(Zr),un.NOT_CONNECTED),An);return}const Pn=typeof Qn=="string"?Qn:Qn.id,nr="Invalid Parameter. Check that you have passed valid parameter values into the method call.";if(!Pn){fu(pn(on.INVALID_PARAMETER,new Error(nr),un.INVALID_PARAMETER),An);return}const Ir="This token does not allow forceDisconnect. The role must be at least `moderator` to enable this functionality";if(!op("forceDisconnect")){fu(pn(on.PERMISSION_DENIED,new Error(Ir),un.UNABLE_TO_FORCE_DISCONNECT),An);return}Is.forceDisconnect(Pn,function(Zr){if(Zr)fu(pn(on.INVALID_PARAMETER,new Error(nr),un.INVALID_PARAMETER),An);else if(An&&lt(An)){for(var ko=arguments.length,Go=new Array(ko>1?ko-1:0),As=1;As<ko;As++)Go[As-1]=arguments[As];An(Zr,...Go)}})},this.forceUnpublish=function(Qn,An){An===void 0&&(An=()=>{});const Pn=os=>fu(pn(os.name,new Error(os.msg),os.code),An),nr={msg:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",code:un.INVALID_PARAMETER,name:on.INVALID_PARAMETER},Ir={msg:"Cannot call forceUnpublish(). You are not connected to the session.",code:un.NOT_CONNECTED,name:on.NOT_CONNECTED},Zr={msg:"This token does not allow forceUnpublish. The role must be at least `moderator` to enable this functionality",code:un.UNABLE_TO_FORCE_UNPUBLISH,name:on.PERMISSION_DENIED},ko={msg:"The stream does not exist.",name:on.NOT_FOUND},Go={msg:"An unexpected error occurred.",name:on.UNEXPECTED_SERVER_RESPONSE,code:un.UNEXPECTED_SERVER_RESPONSE};if(!Qn){Pn(nr);return}if($r.isNot("connected")){Pn(Ir);return}const As=eu(Qn);if(!op("forceUnpublish")){Pn(Zr);return}Is.forceUnpublish(As.id,os=>{if(!os){An(null);return}os.code==="404"?Pn(ko):os.code==="403"?Pn(Zr):Pn(Go)})},this.forceMuteStream=Qn=>new nt((An,Pn)=>{const nr=Ul();if(nr){Pn(nr);return}if(!Qn||!Qn.id){Pn(Gu(Jn.INVALID_PARAMETER));return}Is.forceMuteStream(Qn.id,Ir=>{Ir?Pn(Wp(Ir)):An()})}),this.forceMuteAll=Qn=>new nt((An,Pn)=>{const nr=Ul();if(nr){Pn(nr);return}if(Array.isArray(Qn)&&!Qn.every(Zr=>Zr instanceof hn)||Qn&&!Array.isArray(Qn)){Pn(Gu(Jn.INVALID_PARAMETER));return}const Ir=(Qn||[]).map(Zr=>Zr.id);Is.forceMuteAll(Ir,!0,Zr=>{Zr?Pn(Wp(Zr)):An()})}),this.disableForceMute=()=>new nt((Qn,An)=>{const Pn=Ul();if(Pn){An(Pn);return}Is.forceMuteAll([],!1,nr=>{nr?An(Wp(nr)):Qn()})}),this.setEncryptionSecret=function(){var Qn=(0,ot.default)(it.default.mark(function An(Pn){return it.default.wrap(function(Ir){for(;;)switch(Ir.prev=Ir.next){case 0:if(Ho){Ir.next=3;break}return Wn.error("Encryption secret must first be set in initSession."),Ir.abrupt("return");case 3:Ir.prev=3,Nt(Pn),Ir.next=10;break;case 7:throw Ir.prev=7,Ir.t0=Ir.catch(3),pn(on.INVALID_ENCRYPTION_SECRET,new Error(`setEncryptionSecret: ${Ir.t0.message}`));case 10:return Ir.prev=10,Ir.next=13,$r.keyStore.set(bo,Pn);case 13:Ir.next=18;break;case 15:Ir.prev=15,Ir.t1=Ir.catch(10),Qs.error(`Error in setEncryptionSecret}: ${Ir.t1.message}`);case 18:case"end":return Ir.stop()}},An,null,[[3,7],[10,15]])}));return function(An){return Qn.apply(this,arguments)}}(),this.isConnected=()=>this.is("connected"),this.capabilities=new rn([],{hasE2eeCapability:Nn})}}}).call(this,et(0))},function(_e,tt,et){const nt=et(10),rt=et(22),it=[400,403,409,nt.CONNECTION_LIMIT_EXCEEDED],ot={CONNECT:"ConnectToSession",SESSION_STATE:"GetSessionState"};_e.exports=function(at){let ct,lt;if(at.reason===ot.CONNECT&&at.code===nt.CONNECT_FAILED)ct=at.code,lt=rt.getTitleByCode(at.code);else if(at.code&&it.indexOf(Number(at.code))>-1)switch(ct=nt.CONNECT_FAILED,at.reason){case ot.CONNECT:switch(at.code){case nt.CONNECTION_LIMIT_EXCEEDED:ct=at.code,lt="Cannot connect -- the limit for concurrent connections to the session has been reached";break;default:lt="Received error response to connection create message.";break}break;case ot.SESSION_STATE:lt="Received error response to session read";break;default:lt="";break}else ct=nt.UNEXPECTED_SERVER_RESPONSE,lt="Unexpected server response. Try this operation again later.";return{code:ct,message:lt}}},function(_e,tt,et){const nt=et(2),rt=et(51).once;_e.exports=()=>rt()&&(nt.isChromiumEdge||["Chrome","Safari","Firefox","Opera"].includes(nt.name))},function(_e,tt,et){_e.exports=function(rt){return JSON.stringify(rt)}},function(_e,tt){function et(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}_e.exports=et},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=rt=>{let it=rt.logger,ot=rt.obj;rt.eventNames.forEach(at=>{ot.on(at,function(){for(var ct=arguments.length,lt=new Array(ct),dt=0;dt<ct;dt++)lt[dt]=arguments[dt];return it.spam("emitted",at,lt)})})};tt.default=nt},function(_e,tt,et){const nt=et(16),rt=et(22),it=et(6),ot=et(1)("Dispatcher"),st=et(171),at=et(749),ct=function(){it(this),this.callbacks={}};_e.exports=ct,ct.prototype.registerCallback=function(lt,dt){this.callbacks[lt]=dt},ct.prototype.triggerCallback=function(lt){if(!lt)return;const dt=this.callbacks[lt];if(dt&&nt(dt)){const ut=Array.prototype.slice.call(arguments);ut.shift(),dt(...ut)}delete this.callbacks[lt]},ct.prototype.onClose=function(lt){this.emit("close",lt)},ct.prototype.onReconnected=function(){this.emit("reconnected")},ct.prototype.onReconnecting=function(){this.emit("reconnecting")},ct.prototype.dispatch=function(lt){if(lt.type===st.STATUS){var dt;ot.debug(lt);let ft;if(lt.isError){let bt;if(typeof lt.data=="string")try{const Tt=JSON.parse(lt.data);Tt&&typeof Tt=="object"&&(bt=Tt.reason)}catch(Tt){ot.warn("Failed to parse rumorMessage.data",Tt)}ft=new rt(lt.status,bt)}const pt=lt.data?JSON.parse(lt.data):"";pt!=null&&(dt=pt.mute)!=null&&dt.active&&this.dispatchMuteOnEntry(),this.triggerCallback(lt.transactionId,ft,lt);return}const ut=at(lt);switch(ot.debug(`${ut.signature}:`,ut),ut.resource){case"session":this.dispatchSession(ut);break;case"connection":this.dispatchConnection(ut);break;case"stream":this.dispatchStream(ut);break;case"stream_channel":this.dispatchStreamChannel(ut);break;case"subscriber":this.dispatchSubscriber(ut);break;case"subscriber_channel":this.dispatchSubscriberChannel(ut);break;case"signal":this.dispatchSignal(ut);break;case"data":this.dispatchCaption(ut);break;case"archive":this.dispatchArchive(ut);break;case"source":this.dispatchSource(ut);break;default:ot.debug(`Type ${ut.resource} is not currently implemented`)}},ct.prototype.dispatchSession=function(lt){switch(lt.method){case"read":this.emit("session#read",lt.content,lt.transactionId);break;case"update":this.emit("session#update",lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchMuteOnEntry=function(){this.emit("session#muted")},ct.prototype.dispatchConnection=function(lt){switch(lt.method){case"created":this.emit("connection#created",lt.content);break;case"deleted":this.emit("connection#deleted",lt.params.connection,lt.reason);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchStream=function(lt){switch(lt.method){case"created":this.emit("stream#created",lt.content,lt.transactionId);break;case"deleted":this.emit("stream#deleted",lt.params.stream,lt.reason,lt.content);break;case"updated":this.emit("stream#updated",lt.params.stream,lt.content);break;case"update":this.emit("stream#update",lt.params.stream,lt.content);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(lt.method,lt);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchStreamChannel=function(lt){switch(lt.method){case"updated":this.emit("streamChannel#updated",lt.params.stream,lt.params.channel,lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchJsep=function(lt,dt){this.emit(`jsep#${lt}`,dt.params.stream,dt.fromAddress,dt)},ct.prototype.dispatchSubscriberChannel=function(lt){switch(lt.method){case"updated":this.emit("subscriberChannel#updated",lt.params.stream,lt.params.channel,lt.content);break;case"update":this.emit("subscriberChannel#update",lt.params.subscriber,lt.params.stream,lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchSubscriber=function(lt){switch(lt.method){case"created":this.emit("subscriber#created",lt.params.stream,lt.fromAddress,lt.content.id);break;case"deleted":this.dispatchJsep("unsubscribe",lt),this.emit("subscriber#deleted",lt.params.stream,lt.fromAddress);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(lt.method,lt);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchSignal=function(lt){if(lt.method!=="signal"){ot.debug(`${lt.signature} is not currently implemented`);return}this.emit("signal",lt.fromAddress,lt.content)},ct.prototype.dispatchCaption=function(lt){this.emit("caption",lt.fromAddress,lt.content)},ct.prototype.dispatchArchive=function(lt){switch(lt.method){case"created":this.emit("archive#created",lt.content);break;case"updated":this.emit("archive#updated",lt.params.archive,lt.content);break}},ct.prototype.dispatchSource=function(lt){switch(lt.method){case"create":this.emit("source#create",lt.params.source,lt.params.stream,lt.reason);break;case"delete":this.emit("source#delete",lt.params.source,lt.params.stream,lt.reason);break;default:ot.debug(`${lt.signature} is not currently implemented`)}}},function(_e,tt,et){const nt=et(15),rt=et(8),it=et(752),ot=et(753),st=et(323),at=et(754),ct=et(34)().onlyLocal(),lt={};_e.exports=lt,lt.connections={},lt.connections.create=function(dt){const ut=dt.apiKey,ft=dt.sessionId,pt=dt.connectionId,bt=dt.connectionEventsSuppressed,Tt=dt.capabilities;return st({method:"create",uri:`/v2/partner/${ut}/session/${ft}/connection/${pt}`,content:{userAgent:rt.env.userAgent,clientVersion:ct.clientVersion,capabilities:Tt||[],connectionEventsSuppressed:bt}})},lt.connections.destroy=function(dt){const ut=dt.apiKey,ft=dt.sessionId,pt=dt.connectionId;return st({method:"delete",uri:`/v2/partner/${ut}/session/${ft}/connection/${pt}`,content:{}})},lt.sessions={},lt.sessions.get=function(dt,ut){return st({method:"read",uri:`/v2/partner/${dt}/session/${ut}`,content:{}})},lt.streams={},lt.streams.get=function(dt,ut,ft){return st({method:"read",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}`,content:{}})},lt.streams.channelFromOTChannel=function(dt){const ut={id:dt.id,type:dt.type,active:dt.active};return dt.type==="video"&&(ut.width=dt.width,ut.height=dt.height,ut.orientation=dt.orientation,ut.frameRate=dt.frameRate,dt.source!=="default"&&(ut.source=dt.source),ut.fitMode=dt.fitMode),ut},lt.streams.create=function(dt){dt===void 0&&(dt={});const ut=dt,ft=ut.apiKey,pt=ut.sessionId,bt=ut.streamId,Tt=ut.name,ht=ut.audioFallbackEnabled,gt=ut.publisherAudioFallbackEnabled,vt=ut.subscriberAudioFallbackEnabled,Ct=ut.channels,It=ut.minBitrate,Zt=ut.maxBitrate,Wt=ut.sourceStreamId,kt=ut.e2ee,Nt=ut.customProperties,Lt={id:bt,name:Tt,audioFallbackEnabled:ht,publisherAudioFallbackEnabled:gt,subscriberAudioFallbackEnabled:vt,channel:Ct.map(Mt=>lt.streams.channelFromOTChannel(Mt)),e2ee:kt,customProperties:Nt};return It&&(Lt.minBitrate=Math.round(It)),Zt&&(Lt.maxBitrate=Math.round(Zt)),Wt&&(Lt.sourceStreamId=Wt),typeof kt=="boolean"&&(Lt.e2ee=kt),st({method:"create",uri:`/v2/partner/${ft}/session/${pt}/stream/${bt}`,content:Lt})},lt.streams.destroy=function(dt,ut,ft,pt){const bt={};return pt&&(bt.sourceStreamId=pt),st({method:"delete",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}`,content:bt})},lt.streamChannels={},lt.streamChannels.update=function(dt,ut,ft,pt,bt){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/channel/${pt}`,content:bt})},lt.subscribers={},lt.subscribers.create=function(dt){dt===void 0&&(dt={});const ut=dt,ft=ut.apiKey,pt=ut.sessionId,bt=ut.streamId,Tt=ut.subscriberId,ht=ut.connectionId,gt=ut.channelsToSubscribeTo,vt=ut.sourceStreamId,Ct=ut.e2ee,It={id:Tt,connection:ht,keyManagementMethod:at,bundleSupport:it(),rtcpMuxSupport:ot(),e2ee:Ct};return gt&&(It.channel=gt),vt&&(It.sourceStreamId=vt),st({method:"create",uri:`/v2/partner/${ft}/session/${pt}/stream/${bt}/subscriber/${Tt}`,content:It})},lt.subscribers.destroy=function(dt,ut,ft,pt){return st({method:"delete",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}`,content:{}})},lt.subscribers.update=function(dt,ut,ft,pt,bt){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}`,content:bt})},lt.subscriberChannels={},lt.subscriberChannels.update=function(dt,ut,ft,pt,bt,Tt){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}/channel/${bt}`,content:Tt})},lt.signals={},lt.signals.create=function(dt,ut,ft,pt,bt){const Tt={};return pt!==void 0&&(Tt.type=pt),bt!==void 0&&(Tt.data=bt),st({method:"signal",uri:`/v2/partner/${dt}/session/${ut}${ft!==void 0?`/connection/${ft}`:""}/signal/${nt()}`,content:Tt})},lt.forceMute={},lt.forceMute.update=dt=>{const ut=dt.apiKey,ft=dt.sessionId,pt=dt.streamId,bt=dt.active,Tt=dt.excludedStreamIds,ht={reason:"mute",channels:["audio"],active:bt,locked:!1};return Tt&&(ht.exclusion=Tt),st({method:"update",uri:`/v2/partner/${ut}/session/${ft}${pt?`/stream/${pt}`:""}`,content:ht})}},function(_e,tt,et){const nt=et(37),rt=et(70),it=et(172),ot=et(327),st=et(329),at=8192,ct=128;_e.exports=function(dt,ut,ft){const pt=function(Ct){return!/^[a-zA-Z0-9\-\._~]+$/.exec(Ct)},bt=function(Ct){return Ct?Ct instanceof it||Ct._tag===st?null:{code:400,reason:"The To field was invalid"}:{code:400,reason:"The signal to field was invalid. Either set it to a OT.Connection, OT.Session, or omit it entirely"}},Tt=function(Ct){let It=null;return Ct==null?It={code:400,reason:"The signal type was null or undefined. Either set it to a String value or omit it"}:Ct.length>ct?It={code:413,reason:`The signal type was too long, the maximum length of it is ${ct} characters`}:pt(Ct)&&(It={code:400,reason:"The signal type was invalid, it can only contain letters, numbers, '-', '_', and '~'."}),It},ht=function(Ct){let It=null;if(Ct==null)It={code:400,reason:"The signal data was null or undefined. Either set it to a String value or omit it"};else try{JSON.stringify(Ct).length>at&&(It={code:413,reason:`The data field was too long, the maximum size of it is ${at} characters`})}catch{It={code:400,reason:"The data field was not valid JSON"}}return It},gt=function(Ct){let It=null;return Ct===!0||Ct===!1||(It={code:400,reason:"The signal retryAfterReconnect was not true or false. Either set it to a Boolean value or omit it"}),It};this.toRaptorMessage=function(){let vt=this.to;return vt&&typeof vt!="string"&&(vt=vt.id),ot.signals.create(rt.value,dt,vt,this.type,this.data)},this.toHash=function(){return ft},this.error=null,this.retryAfterReconnect=!0,ft&&(ft.hasOwnProperty("data")&&(this.data=nt(ft.data),this.error=ht(this.data)),ft.hasOwnProperty("to")&&(this.to=ft.to,this.error||(this.error=bt(this.to))),ft.hasOwnProperty("type")&&(this.error||(this.error=Tt(ft.type)),this.type=ft.type),ft.hasOwnProperty("retryAfterReconnect")&&(this.error||(this.error=gt(ft.retryAfterReconnect)),this.retryAfterReconnect=ft.retryAfterReconnect)),this.valid=this.error===null}},function(_e,tt,et){_e.exports={}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(331),st=et(49),at=et(172),ct=et(757),lt=et(326),dt=et(1)("SessionDispatcher"),ut=et(21),ft=et(170),pt=et(150),bt=et(167);function Tt(Wt){return{id:Wt,creationTime:new Date().getTime(),data:{},capablities:{},permissions:[]}}function ht(Wt,kt){const Nt=Wt.channel.map(Mt=>new pt(Mt)),Lt=Wt.connectionId?Wt.connectionId:Wt.connection.id;return new ft(Wt.id,Wt.name,Wt.creationTime,kt.connections.get(Lt),kt,Nt,Wt.customProperties&&Wt.customProperties.initials)}function gt(Wt,kt){if(kt.streams.has(Wt.id))return;const Nt=ht(Wt,kt);return kt.streams.add(Nt),Nt}function vt(Wt){return new ot(Wt.id,Wt.name,Wt.status)}function Ct(Wt,kt){if(kt.archives.has(Wt.id))return;const Nt=vt(Wt);return kt.archives.add(Nt),Nt}const It=function(kt){const Nt={};this.enqueue=function(){const Mt=arguments[0],tn=Array.prototype.slice.call(arguments,1);Nt[Mt]||(Nt[Mt]=new ct(kt)),Nt[Mt].enqueue.apply(Nt[Mt],tn)},this.triggerConnectionCreated=function(Mt){Nt[`connectionCreated${Mt.id}`]&&Nt[`connectionCreated${Mt.id}`].triggerAll()},this.triggerSessionConnected=function(Mt){Nt.sessionConnected&&Nt.sessionConnected.triggerAll(),Mt.forEach(function(tn){this.triggerConnectionCreated(tn)},this)}},Zt={};_e.exports=function(kt,Nt){let Lt=Nt===void 0?{}:Nt,Mt=Lt.connectionEventsSuppressed;const tn=new lt;let $t=!1;const Ht=new It(tn);tn.on("reconnecting",()=>{kt._.reconnecting()}),tn.on("reconnected",()=>{kt._.reconnected()}),tn.on("close",mn=>{const on=kt.connection;if(on){if(on.destroyedReason()){dt.debug(`Socket was closed but the connection had already been destroyed. Reason: ${on.destroyedReason()}`);return}on.destroy(mn)}});const rn=function(on,yn){return kt.connections.has(on.id)?kt.connections.get(on.id):(on=at.fromHash(on),(yn||kt.connection&&on.id!==kt.connection.id)&&(kt.connections.add(on),Ht.triggerConnectionCreated(on)),Object.keys(Zt).forEach(hn=>{const un=Zt[hn];if(un&&on.id===un.connection.id){gt(un,kt),delete Zt[un.id];const dn={debug:yn?"connection came in session#read":"connection came in connection#created",streamId:un.id,connectionId:on.id};kt.logEvent("streamCreated","warning",dn)}}),on)};tn.on("session#read",(mn,on)=>{let yn;const hn={};hn.streams=[],hn.connections=[],hn.archives=[],mn.connection.forEach(un=>{yn=rn(un,!0),hn.connections.push(yn)}),mn.stream.forEach(un=>{hn.streams.push(gt(un,kt))}),(mn.archive||mn.archives).forEach(un=>{hn.archives.push(Ct(un,kt))}),tn.triggerCallback(on,null,hn),$t=!0,Ht.triggerSessionConnected(kt.connections)}),tn.on("session#update",mn=>{if(mn.reason!=="mute"){dt.debug("session#update that handle this reason is not currently implemented");return}const on=mn.active===!0;kt._.forceMute({active:on}),on?kt._.enableMuteOnEntry():kt._.disableMuteOnEntry()}),tn.on("session#muted",()=>{kt._.enableMuteOnEntry(),kt._.forceMute({active:!0})}),tn.on("connection#created",mn=>{rn(mn)}),tn.on("connection#deleted",(mn,on)=>{if(mn=kt.connections.get(mn),!mn){dt.warn("A connection was deleted that we do not know about");return}mn.destroy(on)}),tn.on("stream#created",(mn,on)=>{const yn=mn.id,hn=mn.sourceStreamId,un=mn.connection;let dn;if(Mt){if(un==null||un.id==null){kt.logEvent("SessionDispatcher:stream#created","Event",{connection:un,info:"Stream did not contain a connection object. Event ignored"});return}rn(un)}const Nn=mn.connectionId||un.id;if(kt.connections.has(Nn))dn=gt(mn,kt);else{Zt[yn]=mn;const Wn={debug:"eventOrderError -- streamCreated event before connectionCreated",streamId:yn,sourceStreamId:bt(hn)};kt.logEvent("streamCreated","warning",Wn)}dn?(dn.publisher&&dn.publisher.setStream(dn),tn.triggerCallback(on,null,dn)):kt.sessionInfo.isAdaptiveEnabled&&hn==="P2P"&&ut.subscribers.where({streamId:yn}).forEach(Wn=>{Wn._.startRoutedToRelayedTransition()})}),tn.on("stream#deleted",(mn,on,yn)=>{const hn=kt.streams.get(mn),un=yn.sourceStreamId,dn=ut.subscribers,Wn=kt.sessionInfo.isAdaptiveEnabled&&un==="P2P";!hn&&!Wn||(Wn?dn.where({streamId:mn}).forEach(pn=>{pn._.startRelayedToRoutedTransition()}):hn.destroy(on))}),tn.on("stream#updated",(mn,on)=>{const yn=kt.streams.get(mn);if(!yn){dt.error(`A stream does not exist with the id of ${mn}, for stream#updated message!`);return}yn._.update(on)}),tn.on("stream#update",(mn,on)=>{const yn=kt.streams.get(mn),hn=on.reason,un=on.active;if(!yn){dt.error(`A stream does not exist with the id of ${mn}, for stream#updated message!`);return}if(hn!=="mute"){dt.debug("stream#update that handle this reason is not currently implemented");return}un&&yn._.forceMute(on)}),tn.on("streamChannel#updated",(mn,on,yn)=>{let hn;if(!(mn&&(hn=kt.streams.get(mn)))){dt.error("Unable to determine streamId, or the stream does not exist, for streamChannel message!");return}hn._.updateChannel(on,yn)});const ln=(mn,on,yn,hn)=>{let un,dn;const Nn={streamId:on},Wn=ut.subscribers,pn=ut.publishers;switch(hn.params.subscriber?un={widgetId:hn.params.subscriber}:un=Nn,mn){case"offer":dn=[].concat(Wn.where(un),pn.where(Nn)).slice(0,1);break;case"answer":case"pranswer":dn=[].concat(pn.where(Nn),Wn.where(un)).slice(0,1);break;case"generateoffer":case"unsubscribe":dn=pn.where(Nn);break;case"candidate":dn=[].concat(Wn.where(un),pn.where(Nn));break;default:dt.debug(`jsep#${mn} is not currently implemented`);return}if(dn.length===0)return;let Rn=kt.connections.get(yn);!Rn&&yn.match(/^symphony\./)&&(Rn=at.fromHash({id:yn,creationTime:Math.floor(st())}),kt.connections.add(Rn)),dn.forEach(function(){var xn=(0,it.default)(rt.default.mark(function Jn(cr){return rt.default.wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:return _n.prev=0,_n.next=3,cr.processMessage(mn,yn,hn);case 3:_n.next=8;break;case 5:_n.prev=5,_n.t0=_n.catch(0),dt.error("Error occurred during processMessage",_n.t0);case 8:case"end":return _n.stop()}},Jn,null,[[0,5]])}));return function(Jn){return xn.apply(this,arguments)}}())};return tn.on("jsep#offer",ln.bind(null,"offer")),tn.on("jsep#answer",ln.bind(null,"answer")),tn.on("jsep#pranswer",ln.bind(null,"pranswer")),tn.on("jsep#generateoffer",ln.bind(null,"generateoffer")),tn.on("jsep#unsubscribe",ln.bind(null,"unsubscribe")),tn.on("jsep#candidate",ln.bind(null,"candidate")),tn.on("subscriberChannel#updated",(mn,on,yn)=>{if(!mn||!kt.streams.has(mn)){dt.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#updated message!");return}kt.streams.get(mn)._.updateChannel(on,yn)}),tn.on("subscriberChannel#update",(mn,on,yn)=>{if(!on||!kt.streams.has(on)){dt.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#update message!");return}if(!ut.subscribers.has(mn)){dt.error("Unable to determine subscriberId, or the subscriber does not exist, for subscriberChannel#update message!");return}ut.subscribers.get(mn).disableVideo(yn.active)}),tn.on("signal",(mn,on)=>{if(Mt){let dn=on.connection||on.fromConnection;(dn==null||dn.id==null)&&(dn=Tt(mn),kt.logEvent("SessionDispatcher:Signal","Event",{fromAddress:mn,connection:on.connection,fromConnection:on.fromConnection,info:"Signal did not contain a connection object. One has been constructed",constructedConnection:dn})),rn(dn)}const yn=on.type,hn=on.data,un=kt.connections.get(mn);kt.connection&&mn===kt.connection.connectionId?$t?kt._.dispatchSignal(un,yn,hn):Ht.enqueue("sessionConnected","signal",mn,yn,hn):kt.connections.get(mn)?kt._.dispatchSignal(un,yn,hn):mn===""?kt._.dispatchSignal(null,yn,hn):Ht.enqueue(`connectionCreated${mn}`,"signal",mn,yn,hn)}),tn.on("caption",(mn,on)=>{kt._.dispatchCaption(mn,on)}),tn.on("archive#created",mn=>{Ct(mn,kt)}),tn.on("archive#updated",(mn,on)=>{const yn=kt.archives.get(mn);if(!yn){dt.error(`An archive does not exist with the id of ${mn}, for archive#updated message!`);return}yn._.update(on)}),tn.on("source#create",(mn,on,yn)=>{const hn=bt(mn);kt.logEvent("SessionDispatcher:source#create","Event",{sourceStreamId:hn,streamId:on,reason:yn}),dt.debug(`Received a request from RUMOR to start a transition to ${mn} for the stream ID ${on} with the reason: ${yn}`),ut.publishers.where({streamId:on}).forEach(un=>{un._.startRoutedToRelayedTransition()})}),tn.on("source#delete",(mn,on,yn)=>{kt.logEvent("SessionDispatcher:source#delete","Event",{sourceStreamId:bt(mn),streamId:on,reason:yn}),dt.debug(`Received a request from RUMOR to start a transition from P2P to MANTIS for the stream ID ${on} with the reason: ${yn}`),ut.publishers.where({streamId:on}).forEach(hn=>{hn._.startRelayedToRoutedTransition()})}),tn}},function(_e,tt,et){const nt=et(23)(),rt=et(6);_e.exports=function(ot,st,at){this.id=ot,this.name=st,this.status=at,this._={},rt(this),this._.update=ct=>{Object.keys(ct).forEach(lt=>{const dt=this[lt];this[lt]=ct[lt];const ut=new nt.ArchiveUpdatedEvent(this,lt,dt,this[lt]);this.dispatchEvent(ut)})},this.destroy=()=>{}}},function(_e,tt,et){const nt=et(24)(),rt=nt.getAudioOutputMediaDevices;_e.exports=()=>rt()},function(_e,tt,et){const nt=et(24)(),rt=nt.getActiveAudioOutputDevice;_e.exports=()=>rt()},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(21),at=et(106),ct=at.setCurrentAudioOutputDeviceId,lt=et(333),dt=et(24)(),ut=dt.getDefaultAudioOutputDeviceId,ft=dt.getAudioOutputMediaDevices,pt=et(295),bt=et(20),Tt=new bt,ht=(Zt,Wt)=>{Tt.logEvent({action:"updateSubscribersSinkId",variation:Zt,payload:Wt})},gt=Zt=>{const Wt=st.subscribers.map(kt=>kt._.setSinkId(Zt));return nt.all(Wt)},vt=function(){var Zt=(0,ot.default)(it.default.mark(function Wt(kt){return it.default.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,pt();case 2:return Lt.prev=2,ht("Attempt",{deviceId:kt}),Lt.next=6,gt(kt);case 6:ht("Success",{deviceId:kt}),Lt.next=13;break;case 9:throw Lt.prev=9,Lt.t0=Lt.catch(2),ht("Failure",{deviceId:kt,error:Lt.t0==null?void 0:Lt.t0.message}),Lt.t0;case 13:case"end":return Lt.stop()}},Wt,null,[[2,9]])}));return function(kt){return Zt.apply(this,arguments)}}(),Ct=function(){var Zt=(0,ot.default)(it.default.mark(function Wt(){var kt,Nt;return it.default.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.next=2,ft();case 2:return kt=Mt.sent,Nt=ut(kt),Mt.prev=4,Mt.next=7,vt(Nt);case 7:ct(Nt),Mt.next=12;break;case 10:Mt.prev=10,Mt.t0=Mt.catch(4);case 12:case"end":return Mt.stop()}},Wt,null,[[4,10]])}));return function(){return Zt.apply(this,arguments)}}(),It=function(){var Zt=(0,ot.default)(it.default.mark(function Wt(){var kt;return it.default.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,lt();case 2:return kt=Lt.sent,Lt.prev=3,Lt.next=6,vt(kt.deviceId);case 6:Lt.next=12;break;case 8:return Lt.prev=8,Lt.t0=Lt.catch(3),Lt.next=12,Ct();case 12:case"end":return Lt.stop()}},Wt,null,[[3,8]])}));return function(){return Zt.apply(this,arguments)}}();_e.exports=function(){var Zt=(0,ot.default)(it.default.mark(function Wt(kt){return it.default.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.prev=0,ht("Attempt",{deviceId:kt}),Lt.next=4,gt(kt);case 4:ht("Success",{deviceId:kt}),ct(kt),Lt.next=14;break;case 8:return Lt.prev=8,Lt.t0=Lt.catch(0),ht("Failure",{deviceId:kt,error:Lt.t0==null?void 0:Lt.t0.message}),Lt.next=13,It();case 13:throw Lt.t0;case 14:case"end":return Lt.stop()}},Wt,null,[[0,8]])}));return function(Wt){return Zt.apply(this,arguments)}}()}).call(this,et(0))},function(_e,tt,et){et(336);const nt=et(37),rt=et(26),it=et(6),ot=et(128),st=et(34)(),at=et(20),ct=et(248),lt=et(563),dt=et(564),ut=st.onlyLocal(),ft={};ft.noConflict=et(565)(),(typeof window!==void 0?window:commonjsGlobal).OT=ft,_e.exports=ft,(()=>{let Co=ft;Object.defineProperty(typeof window!==void 0?window:commonjsGlobal,"TB",{get:()=>(Co===ft&&console.warn("window.TB is deprecated, and will be removed in the future. Please access via window.OT"),Co),set:es=>{Co=es},configurable:!0})})();const pt=et(143)(typeof window!==void 0?window:commonjsGlobal),bt=et(8),Tt=et(70),ht=et(144),gt=et(251),vt=et(145),Ct=et(146),It=et(252),Zt=et(147),Wt=et(7),kt=et(10),Nt=et(253),Lt=et(240),Mt=et(1)("OT"),tn=et(121),$t=et(592),Ht=et(22),rn=et(102),ln=rn.parseIceServers,mn=et(266),on=et(21),yn=et(150),hn=et(152),un=et(153),dn=et(71)({global:pt}),Nn=et(13)({}),Wn=et(158)(),pn=et(280)({otError:Nn}),Rn=et(281)(),xn=et(287)({global:pt}),Jn=et(24)({getNativeEnumerateDevices:xn}),cr=et(23)(),er=et(160)(),_n=et(647)({otError:Nn,global:pt}),Sr=et(161)({chromeExtensionHelper:pn,otError:Nn}),vr=et(652)({deviceHelpers:Jn,generateConstraintInfo:Nt,getUserMediaHelper:_n,global:pt,OTHelpers:bt,screenSharing:Sr}),Gr=et(655)({otError:Nn,processPubOptions:vr}),Lr=et(162)({otError:Nn}),Ur=et(73),co=et(292)(),Tr=et(293)({otError:Nn}),wr=et(294)({global:pt,videoElementErrorMap:Tr}),Bn=et(163)({global:pt}),Gn=et(296)({PeerConnection:dn,setCertificates:Bn}),lr=et(300)({PeerConnection:dn,setCertificates:Bn}),Vr=et(302)(),oo=et(675)({otError:Nn}),Yn=et(109)({NativeVideoElementWrapper:wr}),yr=et(151)(),Ar=et(164)({VideoElementFacade:Yn}),so=et(305)({interpretPeerConnectionError:Lr,otError:Nn,SubscriberPeerConnection:lr,WidgetView:Ar}),jr=et(168)({APIKEY:Tt,createChromeMixin:Rn,deviceHelpers:Jn,EnvironmentLoader:Zt,Errors:Wt,Events:cr,ExceptionCodes:kt,calculateCapableSimulcastStreams:gt,global:pt,interpretPeerConnectionError:Lr,IntervalRunner:Ur,Microphone:co,otError:Nn,OTErrorClass:Ht,OTHelpers:bt,parseIceServers:ln,processPubOptions:vr,PUBLISH_MAX_DELAY:mn,PublisherPeerConnection:Gn,PublishingState:Vr,StreamChannel:yn,systemRequirements:un,VideoOrientation:yr,WidgetView:Ar}),mo=et(319)({otError:Nn,Publisher:jr}),bo=et(320)({global:pt,initPublisher:mo,otError:Nn,Publisher:jr,Subscriber:so}),go=et(767)({Session:bo});it(ft);const $r=et(768),Wo=et(771),So=et(772);ct(ft,"$",{name:"OT.$",getMessage:"Please use an external library like jQuery to select elements from the page.",value:bt}),ft.APIKEY=Tt.value,ft.AnalyserAudioLevelSampler=Ct,ft.Archive=et(331),ft.ArchiveEvent=cr.ArchiveEvent,ft.ArchiveUpdatedEvent=cr.ArchiveUpdatedEvent,ft.AudioLevelTransformer=ht,ft.AudioLevelUpdatedEvent=cr.AudioLevelUpdatedEvent,ft.Capabilities=et(169),ft.Chrome=vt,ft.Connection=et(172),ft.ConnectionCapabilities=ft.Connection.Capabilities,ft.ConnectionEvent=cr.ConnectionEvent,Object.keys(tn).forEach(Co=>{ft[Co.toUpperCase()]=tn[Co].priority}),ft.NONE=0,ft.debug=Mt.debug,ft.error=Mt.error,ft.info=Mt.info,ft.log=Mt.log,ft.warn=Mt.warn,ft.DestroyedEvent=cr.DestroyedEvent,ft.EnvLoadedEvent=cr.EnvLoadedEvent,ft.Error=Ht,ft.Error.on(rt.EXCEPTION,Co=>{if(Co.target===ft.Error){const es=nt(Co);es.target=ft,ft.dispatchEvent(es)}else ft.dispatchEvent(Co)}),ft.Event=ot,ft.ExceptionCodes=kt,ft.ExceptionEvent=cr.ExceptionEvent,ft.getDevices=et(773),ft.getAudioOutputDevices=et(332),ft.getActiveAudioOutputDevice=et(333),ft.setAudioOutputDevice=et(774)(),ft.GetAudioLevelSampler=It,ft.HAS_REQUIREMENTS=1,ft.IntervalRunner=Ur,ft.IssueReportedEvent=cr.IssueReportedEvent,ft.MediaStoppedEvent=cr.MediaStoppedEvent,ft.Microphone=co,ft.NOT_HAS_REQUIREMENTS=0,ft.PeerConnection=dn,ft.PeerConnection.QOS=et(278).default,ft.Publisher=jr,ft.PublisherPeerConnection=Gn,ft.PublishingState=Vr,ft.MuteForcedEvent=cr.MuteForcedEvent,ft.Session=bo,ft.SessionConnectEvent=cr.SessionConnectEvent,ft.SessionDisconnectEvent=cr.SessionDisconnectEvent,ft.SessionDispatcher=et(330),ft.Signal=et(328),ft.SignalEvent=cr.SignalEvent,ft.Stream=et(170),ft.StreamChannel=yn,ft.StreamEvent=cr.StreamEvent,ft.StreamPropertyChangedEvent=cr.StreamPropertyChangedEvent,ft.StreamUpdatedEvent=cr.StreamUpdatedEvent,ft.StylableComponent=hn,ft.Subscriber=so,ft.SubscriberPeerConnection=lr,ft.SubscribingState=et(308),ft.VideoDimensionsChangedEvent=cr.VideoDimensionsChangedEvent,ft.VideoDisableWarningEvent=cr.VideoDisableWarningEvent,ft.VideoElement=Yn,ft.VideoEnabledChangedEvent=cr.VideoEnabledChangedEvent,ft.VideoOrientation=yr,ft.WidgetView=Ar,ft.getSupportedCodecs=$r,ft.hasMediaProcessorSupport=Wo,ft.hasEndToEndEncryptionSupport=So,ft._={AnalyticsHelper:at,getClientGuid:Lt.get,StaticConfig:st},Object.defineProperty(ft,"version",{value:ut.version});const Vo={},qr=Co=>dt.includes(Co);ct(Vo,"version",{value:ut.version,name:"OT.properties.version",getWarning:"Please use OT.version instead",warnOnSet:!0,setWarning:"Mutating version has no effect"}),lt.forEach(Co=>{let es,Hs;if(Array.isArray(Co)){const Is=Co[0],_a=Co[1];Hs=Is,es=ut[_a]||_a}else es=ut[Co],Hs=Co;const eu=qr(Hs);ct(Vo,Hs,{value:es,name:`OT.properties.${Hs}`,warnOnSet:!0,canSet:eu,setWarning:eu?`Mutating ${Hs} can cause side effects`:`Mutating ${Hs} has no effect`})}),ft.properties=Vo,ft.audioContext=Wn,ft.checkScreenSharingCapability=Sr.checkCapability,ft.checkSystemRequirements=un.check,ft.components={},ft.generateSimpleStateMachine=er,ft.getErrorTitleByCode=Ht.getTitleByCode,ft.getLogs=Mt.getLogs,ft.getStatsAdpater=et(274),ft.getStatsHelpers=et(75),ft.getUserMedia=Gr,ft.handleJsException=Ht.handleJsException,ft.initPublisher=mo,ft.setProxyUrl=et(101).setProxyUrl,ft.initSession=function(Co,es,Hs){return es==null&&(es=Co,Co=null),Tt.value.length===0&&Co&&(Tt.value=Co,ft.APIKEY=Co),go(Co,es,Hs)};const Iu=Co=>`${Co} is deprecated and will be removed in a future version of OpenTok`,Ho=(Co,es)=>()=>(console.warn(Iu(Co)),es);Object.defineProperties(ft,{isUnloaded:{get:Ho("OT.isUnloaded",Zt.isUnloaded)},onLoad:{get:Ho("OT.onLoad",Zt.onLoad)},onUnload:{get:Ho("OT.onUnload",Zt.onUnload)},overrideGuidStorage:{get:Ho("OT.overrideGuidStorage",Lt.override)}}),ft.pickScreenSharingHelper=Sr.pickHelper,ft.publishers=on.publishers,ft.registerScreenSharingExtension=Sr.registerExtension,ft.registerScreenSharingExtensionHelper=Sr.registerExtensionHelper,ft.reportIssue=oo,ft.sessions=on.sessions,ft.setLogLevel=$t,ft.shouldLog=Mt.shouldLog,ft.subscribers=on.subscribers,ft.unblockAudio=et(166),ft.upgradeSystemRequirements=un.upgrade,Zt.onUnload(()=>{on.publishers.destroy(),on.subscribers.destroy(),on.sessions.destroy("unloaded")}),et(775)()},function(_e,tt,et){var nt=et(337);typeof nt=="string"&&(nt=[[_e.i,nt,""]]);var rt,it={hmr:!0};it.transform=rt,it.insertInto=void 0,et(351)(nt,it),nt.locals&&(_e.exports=nt.locals)},function(_e,tt,et){tt=_e.exports=et(338)(!1);var nt=et(339),rt=nt(et(340)),it=nt(et(341)),ot=nt(et(342)),st=nt(et(343)),at=nt(et(344)),ct=nt(et(345)),lt=nt(et(346)),dt=nt(et(347)),ut=nt(et(348)),ft=nt(et(349)),pt=nt(et(350));tt.push([_e.i,`/*!
 * Copyright (c) 2017 TokBox, Inc.
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 */

/**
 * OT Base styles
 */

/* Root OT object, this is where our CSS reset happens */
.OT_root,
.OT_root * {
  color: #ffffff;
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font-family: Arial, Helvetica, sans-serif;
  vertical-align: baseline;
}

/**
 * Specific Element Reset
 */

.OT_root h1,
.OT_root h2,
.OT_root h3,
.OT_root h4,
.OT_root h5,
.OT_root h6 {
  color: #ffffff;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 100%;
  font-weight: bold;
}

.OT_root header {

}

.OT_root footer {

}

.OT_root div {

}

.OT_root section {

}

.OT_root video {

}

.OT_root button {

}

.OT_root strong {
  font-weight: bold;
}

.OT_root em {
  font-style: italic;
}

.OT_root a,
.OT_root a:link,
.OT_root a:visited,
.OT_root a:hover,
.OT_root a:active {
  font-family: Arial, Helvetica, sans-serif;
}

.OT_root ul, .OT_root ol {
  margin: 1em 1em 1em 2em;
}

.OT_root ol {
  list-style: decimal outside;
}

.OT_root ul {
  list-style: disc outside;
}

.OT_root dl {
  margin: 4px;
}

.OT_root dl dt,
.OT_root dl dd {
  float: left;
  margin: 0;
  padding: 0;
}

.OT_root dl dt {
  clear: left;
  text-align: right;
  width: 50px;
}

.OT_root dl dd {
  margin-left: 10px;
}

.OT_root img {
  border: 0 none;
}

/* Modal dialog styles */

/* Modal dialog styles */

.OT_dialog-centering {
  display: table;
  width: 100%;
  height: 100%;
}

.OT_dialog-centering-child {
  display: table-cell;
  vertical-align: middle;
}

.OT_dialog {
  position: relative;

  box-sizing: border-box;
  max-width: 576px;
  margin-right: auto;
  margin-left: auto;
  padding: 36px;
  text-align: center; /* centers all the inline content */

  background-color: #363636;
  color: #fff;
  box-shadow: 2px 4px 6px #999;
  font-family: 'Didact Gothic', sans-serif;
  font-size: 13px;
  line-height: 1.4;
}

.OT_dialog * {
  font-family: inherit;
  box-sizing: inherit;
}

.OT_closeButton {
  color: #999999;
  cursor: pointer;
  font-size: 32px;
  line-height: 36px;
  position: absolute;
  right: 18px;
  top: 0;
}

.OT_dialog-messages {
  text-align: center;
}

.OT_dialog-messages-main {
  margin-bottom: 36px;
  line-height: 36px;

  font-weight: 300;
  font-size: 24px;
}

.OT_dialog-messages-minor {
  margin-bottom: 18px;

  font-size: 13px;
  line-height: 18px;
  color: #A4A4A4;
}

.OT_dialog-messages-minor strong {
  color: #ffffff;
}

.OT_dialog-actions-card {
  display: inline-block;
}

.OT_dialog-button-title {
  margin-bottom: 18px;
  line-height: 18px;

  font-weight: 300;
  text-align: center;
  font-size: 14px;
  color: #999999;
}
.OT_dialog-button-title label {
  color: #999999;
}

.OT_dialog-button-title a,
.OT_dialog-button-title a:link,
.OT_dialog-button-title a:active {
  color: #02A1DE;
}

.OT_dialog-button-title strong {
  color: #ffffff;
  font-weight: 100;
  display: block;
}

.OT_dialog-button {
  display: inline-block;

  margin-bottom: 18px;
  padding: 0 1em;

  background-color: #1CA3DC;
  text-align: center;
  cursor: pointer;
}

.OT_dialog-button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.OT_dialog-button-large {
  line-height: 36px;
  padding-top: 9px;
  padding-bottom: 9px;

  font-weight: 100;
  font-size: 24px;
}

.OT_dialog-button-small {
  line-height: 18px;
  padding-top: 9px;
  padding-bottom: 9px;

  background-color: #444444;
  color: #999999;
  font-size: 16px;
}

.OT_dialog-progress-bar {
  display: inline-block; /* prevents margin collapse */
  width: 100%;
  margin-top: 5px;
  margin-bottom: 41px;

  border: 1px solid #4E4E4E;
  height: 8px;
}

.OT_dialog-progress-bar-fill {
  height: 100%;

  background-color: #29A4DA;
}

/* Helpers */

.OT_centered {
  position: fixed;
  left: 50%;
  top: 50%;
  margin: 0;
}

.OT_dialog-hidden {
  display: none;
}

.OT_dialog-button-block {
  display: block;
}

.OT_dialog-no-natural-margin {
  margin-bottom: 0;
}

/* Publisher and Subscriber styles */

.OT_publisher, .OT_subscriber {
  position: relative;
  min-width: 48px;
  min-height: 48px;
}

.OT_publisher .OT_video-element,
.OT_subscriber .OT_video-element {
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;

  transform-origin: 0 0;
}

/* Styles that are applied when the video element should be mirrored */
.OT_publisher.OT_mirrored .OT_video-element {
  transform: scale(-1, 1);
  transform-origin: 50% 50%;
}

.OT_subscriber_error {
  background-color: #000;
  color: #fff;
  text-align: center;
}

.OT_subscriber_error > p {
  padding: 20px;
}

/* The publisher/subscriber name/mute background */
.OT_publisher .OT_bar,
.OT_subscriber .OT_bar,
.OT_publisher .OT_name,
.OT_subscriber .OT_name,
.OT_publisher .OT_archiving,
.OT_subscriber .OT_archiving,
.OT_publisher .OT_archiving-status,
.OT_subscriber .OT_archiving-status,
.OT_publisher .OT_archiving-light-box,
.OT_subscriber .OT_archiving-light-box {
  -ms-box-sizing: border-box;
  box-sizing: border-box;
  top: 0;
  left: 0;
  right: 0;
  display: block;
  height: 34px;
  position: absolute;
}

.OT_publisher .OT_bar,
.OT_subscriber .OT_bar {
  background: rgba(0, 0, 0, 0.4);
}

.OT_publisher .OT_edge-bar-item,
.OT_subscriber .OT_edge-bar-item {
  z-index: 1; /* required to get audio level meter underneath */
}

/* The publisher/subscriber name panel/archiving status bar */
.OT_publisher .OT_name,
.OT_subscriber .OT_name {
  background-color: transparent;
  color: #ffffff;
  font-size: 15px;
  line-height: 34px;
  font-weight: normal;
  padding: 0 4px 0 36px;
  letter-spacing: normal;
}

.OT_publisher .OT_archiving-status,
.OT_subscriber .OT_archiving-status {
  background: rgba(0, 0, 0, 0.4);
  top: auto;
  bottom: 0;
  left: 34px;
  padding: 0 4px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 15px;
  line-height: 34px;
  font-weight: normal;
  letter-spacing: normal;
}

.OT_micro .OT_archiving-status,
.OT_micro:hover .OT_archiving-status,
.OT_mini .OT_archiving-status,
.OT_mini:hover .OT_archiving-status {
  display: none;
}

.OT_publisher .OT_archiving-light-box,
.OT_subscriber .OT_archiving-light-box {
  background: rgba(0, 0, 0, 0.4);
  top: auto;
  bottom: 0;
  right: auto;
  width: 34px;
  height: 34px;
}

.OT_archiving-light {
  width: 7px;
  height: 7px;
  border-radius: 30px;
  position: absolute;
  top: 14px;
  left: 14px;
  background-color: #575757;
  box-shadow: 0 0 5px 1px #575757;
}

.OT_archiving-light.OT_active {
  background-color: #970d13;
  -webkit-animation: OT_pulse 1.3s ease-in;
  -moz-animation: OT_pulse 1.3s ease-in;
  -webkit-animation: OT_pulse 1.3s ease-in;
  -webkit-animation-iteration-count: infinite;
  -moz-animation-iteration-count: infinite;
  -webkit-animation-iteration-count: infinite;
}

.OT_mini .OT_bar,
.OT_bar.OT_mode-mini,
.OT_bar.OT_mode-mini-auto {
  bottom: 0;
  height: auto;
}

.OT_mini .OT_name.OT_mode-off,
.OT_mini .OT_name.OT_mode-on,
.OT_mini .OT_name.OT_mode-auto,
.OT_mini:hover .OT_name.OT_mode-auto {
  display: none;
}

.OT_publisher .OT_name,
.OT_subscriber .OT_name {
    left: 10px;
    right: 37px;
    height: 34px;
    padding-left: 0;
}

.OT_publisher .OT_mute,
.OT_subscriber .OT_mute {
    border: none;
    cursor: pointer;
    display: block;
    position: absolute;
    text-align: center;
    text-indent: -9999em;
    background-color: transparent;
    background-repeat: no-repeat;
}

.OT_publisher .OT_mute,
.OT_subscriber .OT_mute {
  right: 0;
  top: 0;
  border-left: 1px solid rgba(255, 255, 255, 0.2);
  height: 36px;
  width: 37px;
}

.OT_mini .OT_mute,
.OT_publisher.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold,
.OT_subscriber.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold {
  top: 50%;
  left: 50%;
  right: auto;
  margin-top: -18px;
  margin-left: -18.5px;
  border-left: none;
}

.OT_publisher .OT_mute {
  background-image: url(`+rt+`);
  background-position: 9px 5px;
}

.OT_publisher .OT_mute.OT_active {
  background-image: url(`+it+`);
  background-position: 9px 4px;
}

.OT_subscriber .OT_mute {
  background-image: url(`+ot+`);
  background-position: 8px 7px;
}

.OT_subscriber .OT_mute.OT_active {
  background-image: url(`+st+`);
  background-position: 7px 7px;
}

/**
 * Styles for display modes
 *
 * Note: It's important that these completely control the display and opacity
 * attributes, no other selectors should atempt to change them.
 */

/* Default display mode transitions for various chrome elements */
.OT_publisher .OT_edge-bar-item,
.OT_subscriber .OT_edge-bar-item {
  transition-property: top, bottom, opacity;
  transition-duration: 0.5s;
  transition-timing-function: ease-in;
}

.OT_publisher .OT_edge-bar-item.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_mode-off,
.OT_publisher .OT_edge-bar-item.OT_mode-auto,
.OT_subscriber .OT_edge-bar-item.OT_mode-auto,
.OT_publisher .OT_edge-bar-item.OT_mode-mini-auto,
.OT_subscriber .OT_edge-bar-item.OT_mode-mini-auto {
  top: -25px;
  opacity: 0;
}

.OT_publisher .OT_edge-bar-item.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_mode-off {
  display: none;
}

.OT_mini .OT_mute.OT_mode-auto,
.OT_publisher .OT_mute.OT_mode-mini-auto,
.OT_subscriber .OT_mute.OT_mode-mini-auto {
  top: 50%;
}

.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,
.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto {
  top: auto;
  bottom: -25px;
}

.OT_publisher .OT_edge-bar-item.OT_mode-on,
.OT_subscriber .OT_edge-bar-item.OT_mode-on,
.OT_publisher .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,
.OT_subscriber .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,
.OT_publisher:hover .OT_edge-bar-item.OT_mode-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_mode-auto,
.OT_publisher:hover .OT_edge-bar-item.OT_mode-mini-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_mode-mini-auto {
  top: 0;
  opacity: 1;
}

.OT_mini .OT_mute.OT_mode-on,
.OT_mini:hover .OT_mute.OT_mode-auto,
.OT_mute.OT_mode-mini,
.OT_root:hover .OT_mute.OT_mode-mini-auto {
  top: 50%;
}

.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,
.OT_publisher:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto {
  top: auto;
  bottom: 0;
  opacity: 1;
}


/* Contains the video element, used to fix video letter-boxing */
.OT_widget-container {
  position: absolute;
  background: linear-gradient(60.08deg, #333333 0%, #1A1A1A 100%);
  overflow: hidden;
}

.OT_hidden-audio {
  position: absolute !important;
  height: 1px !important;
  width: 1px !important;
}

/* Load animation */
.OT_root .OT_video-loading {
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: none;

  background-color: rgba(0, 0, 0, .75);
}

.OT_root .OT_video-loading .OT_video-loading-spinner {
  background: url(`+at+`) no-repeat;
  position: absolute;
  width: 32px;
  height: 32px;
  left: 50%;
  top: 50%;
  margin-left: -16px;
  margin-top: -16px;
  animation: OT_spin 2s linear infinite;
}
@keyframes OT_spin {
  100% {
    transform: rotate(360deg);
  }
}

.OT_publisher.OT_loading .OT_video-loading,
.OT_subscriber.OT_loading .OT_video-loading {
  display: block;
}

.OT_publisher.OT_loading .OT_video-element,
.OT_subscriber.OT_loading .OT_video-element {
  /*display: none;*/
}

.OT_video-centering {
  display: table;
  width: 100%;
  height: 100%;
}

.OT_video-container {
  display: table-cell;
  vertical-align: middle;
}

.OT_video-poster {
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: none;

  opacity: 1.0;

  background-repeat: no-repeat;
  background-image: url(`+ct+`);
  background-size: auto 55%;
}

.OT_fit-mode-cover .OT_video-element {
  object-fit: cover;
}

/* Workaround for iOS freezing issue when cropping videos */
/* https://bugs.webkit.org/show_bug.cgi?id=176439 */
@media only screen
  and (orientation: portrait) {
  .OT_subscriber.OT_ForceContain.OT_fit-mode-cover .OT_video-element {
    object-fit: contain !important;
  }
}

.OT_fit-mode-contain .OT_video-element {
  object-fit: contain;
}

.OT_fit-mode-cover .OT_video-poster {
  background-position: center;
}

.OT_fit-mode-contain .OT_video-poster {
  background-position: center;
}

.OT_audio-level-meter {
  position: absolute;
  width: 25%;
  max-width: 224px;
  min-width: 21px;
  top: 0;
  right: 0;
  overflow: hidden;
}

.OT_audio-level-meter:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_audio-level-meter__audio-only-img {
  position: absolute;
  top: 22%;
  right: 15%;
  width: 40%;

  opacity: .7;

  background: url(`+lt+`) no-repeat center;
}

.OT_audio-level-meter__audio-only-img:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_audio-level-meter__value {
  will-change: transform;
  position: absolute;
  top: -100%;
  right: -100%;
  width: 200%;
  height: 200%;
  transform: scale(0);
  border-radius: 50%;
  background-image: radial-gradient(circle, rgba(151, 206, 0, 1) 0%, rgba(151, 206, 0, 0) 100%);
}

.OT_audio-level-meter.OT_mode-off {
    display: none;
}

.OT_audio-level-meter.OT_mode-on,
.OT_audio-only .OT_audio-level-meter.OT_mode-auto {
  display: block;
}

.OT_audio-only.OT_publisher .OT_video-element,
.OT_audio-only.OT_subscriber .OT_video-element {
  display: none;
}


.OT_video-disabled-indicator {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: bottom right;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 3px;
  right: 3px;
}

.OT_video-disabled {
  background-image: url(`+dt+`);
  background-size: 33px auto;
}

.OT_video-disabled-warning {
  background-image: url(`+ut+`);
  background-size: 33px auto;
}

.OT_video-disabled-indicator.OT_active {
  display: block;
}

.OT_audio-blocked-indicator {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

.OT_audio-blocked {
  background-image: url(`+ft+`);
  background-size: 90px auto;
}

.OT_container-audio-blocked {
  cursor: pointer;
}

.OT_container-audio-blocked.OT_mini .OT_edge-bar-item {
  display: none;
}

.OT_container-audio-blocked .OT_mute {
  display: none;
}

.OT_audio-blocked-indicator.OT_active {
  display: block;
}

.OT_video-unsupported {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: center;
  background-image: url(`+pt+`);
  background-size: 58px auto;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  margin-top: -30px;
}

.OT_video-unsupported-bar {
  display: none;
  position: absolute;
  width: 192%; /* copy the size of the audio meter bar for symmetry */
  height: 192%;
  top: -96% /* half of the size */;
  left: -96%;
  border-radius: 50%;

  background-color: rgba(0, 0, 0, .8);
}

.OT_video-unsupported-img {
  display: none;
  position: absolute;
  top: 11%;
  left: 15%;
  width: 70%;
  opacity: .7;
  background-image: url(`+pt+`);
  background-repeat: no-repeat;
  background-position: center;
  background-size: 100% auto;
}

.OT_video-unsupported-img:before {
  /* makes the height of the container 93% of its width (90/97 px) */
  content: '';
  display: block;
  padding-top: 93%;
}

.OT_video-unsupported-text {
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  height: 100%;
  margin-top: 40px;
}

.OT_video-unsupported.OT_active {
  display: block;
}

.OT_mini .OT_video-unsupported,
.OT_micro .OT_video-unsupported {
  position: absolute;
  width: 25%;
  max-width: 224px;
  min-width: 21px;
  top: 0;
  left: 0;
  overflow: hidden;
  background: none;
  bottom: auto;
  right: auto;
  margin: auto;
}

.OT_mini .OT_video-unsupported:before,
.OT_micro .OT_video-unsupported:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_mini .OT_video-unsupported-bar,
.OT_micro .OT_video-unsupported-bar,
.OT_mini .OT_video-unsupported-img,
.OT_micro .OT_video-unsupported-img {
  display: block;
}

.OT_mini .OT_video-unsupported-text,
.OT_micro .OT_video-unsupported-text {
  display: none;
}

.OT_hide-forced {
  display: none;
}

.OT_ModalDialog {
  position: fixed;
  top: 0px;
  left: 0px;
  right: 0px;
  bottom: 0px;
  z-index: 1000;
  background-color: rgba(0, 0, 0, 0.2);
}

#tb_alert {
  position: fixed;
  width: 570px;
  font-family: "Lucida Grande", Arial;
  top: 50%;
  left: 50%;
  margin-top: -75px;
  margin-left: -285px;
}

#tb_alert * {
  box-sizing: border-box;
}

#tb_alert .OT_alert {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  background-color: #333;
  position: relative;
  padding: 30px;
  overflow: visible;
  margin-left: 70px;
  border-bottom-color: rgba(255, 255, 255, 0.1);
  border-left-color: rgba(255, 255, 255, 0.1);

  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));

  background-image: -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));

  background-size: 4px 4px;
  background-position: 0 0, 2px 2px;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

#tb_alert .OT_alert-exclamation {
  background-color: #9c1408;
  background-image: linear-gradient(0deg, #dd0c0a 0%, #9c1408 100%);
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);

  margin: -1px 0;

  font-family: MS Trebuchet;
  font-weight: bold;
  font-size: 60px;
  text-shadow: -1px -1px 2px rgba(0, 0, 0, 0.5);

  color: white;
  width: 65px;
  position: absolute;
  padding: 42px 0;
  text-align: center;
  left: -70px;
  top: 0;
  bottom: 0;
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;

  border-bottom-color: transparent;
  border-left: none;
  border-right: none;
}

#tb_alert .OT_alert-exclamation:after,
#tb_alert .OT_alert-exclamation:before {
  content: " ";
  position: absolute;
  right: -24px;
  top: 40%;
  border: 12px solid transparent;
  border-left-color: #9c1408;
}

#tb_alert .OT_alert-exclamation:before {
  border-left-color: #bc3428;
  top: 39%;
}

#tb_alert .OT_alert-body {
  color: #c8c5c5;
  margin: 0;
  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);
  font-size: 14px;
  line-height: 1.3em;
}

#tb_alert .continue-text {
  margin-top: 12px
}

#tb_alert > * a {
  color: #a7d8df;
  text-decoration: none;
}

#tb_alert .OT_alert-header {
  font-size: 24px;
  padding-bottom: 5px;
  color: #aaa;
  font-weight: bold;
  position: relative;
  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);
  margin: 0;
}

#tb_alert .OT_alert-header::before {
  content: attr(data-text);
  position: absolute;
  left: 0;
  color: white;
  -webkit-mask-image: -webkit-gradient(
    linear,
    left top, left bottom,
    from(rgba(0, 0, 0, 1)),
    color-stop(60%, rgba(0, 0, 0, 0)),
    to(rgba(0, 0, 0, 0))
  );
}

#tb_alert .OT_alert-close-button {
  position: absolute;
  right: 8px;
  top: 5px;
  background-color: #000;
  color: #666;
  border: none;
  font-size: 20px;
  /** Hack to bring it up to the proper line top */
  line-height: 14px;
  padding: 0;
  padding-bottom: 3px;
  cursor: pointer;
}

#tb_alert #section-mobile-browser,
#tb_alert #section-supported-mobile-browser {
  width: 200px;
  top: 0px;
  left: 25%;
  margin-top: 0;
  margin-left: 0;
}

@media all and (max-height: 300px) {
  #tb_alert {
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    margin-left: 0;
    margin-top: 0;
  }
  #tb_alert #section-mobile-browser,
  #tb_alert #section-supported-mobile-browser {
    margin-left: 0;
    margin-top: 10px;
    left: 0;
  }
}

#tb_alert #section-normal-install,
#tb_alert #section-upgrade-install,
#tb_alert #section-mobile-browser,
#tb_alert #section-supported-mobile-browser {
  display: none;
}
`,""])},function(_e,tt,et){_e.exports=function(it){var ot=[];return ot.toString=function(){return this.map(function(at){var ct=nt(at,it);return at[2]?"@media "+at[2]+"{"+ct+"}":ct}).join("")},ot.i=function(st,at){typeof st=="string"&&(st=[[null,st,""]]);for(var ct={},lt=0;lt<this.length;lt++){var dt=this[lt][0];dt!=null&&(ct[dt]=!0)}for(lt=0;lt<st.length;lt++){var ut=st[lt];(ut[0]==null||!ct[ut[0]])&&(at&&!ut[2]?ut[2]=at:at&&(ut[2]="("+ut[2]+") and ("+at+")"),ot.push(ut))}},ot};function nt(it,ot){var st=it[1]||"",at=it[3];if(!at)return st;if(ot&&typeof btoa=="function"){var ct=rt(at),lt=at.sources.map(function(dt){return"/*# sourceURL="+at.sourceRoot+dt+" */"});return[st].concat(lt).concat([ct]).join(`
`)}return[st].join(`
`)}function rt(it){var ot=btoa(unescape(encodeURIComponent(JSON.stringify(it)))),st="sourceMappingURL=data:application/json;charset=utf-8;base64,"+ot;return"/*# "+st+" */"}},function(_e,tt,et){_e.exports=function(rt,it){return typeof rt!="string"?rt:(/^['"].*['"]$/.test(rt)&&(rt=rt.slice(1,-1)),/["'() \t\n]/.test(rt)||it?'"'+rt.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':rt)}},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwMTAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNiKSIgZD0iTTg2LjYgNTBBMTAwIDEwMCAwIDAxMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2MpIiBkPSJNMCAxMDBhMTAwIDEwMCAwIDAxLTg2LjYtNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2QpIiBkPSJNLTg2LjYgNTBhMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2UpIiBkPSJNLTg2LjYtNTBBMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAxODYuNiA1MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48L2c+PC9tYXNrPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSItMjAiIHk9Ii0yMCIgbWFzaz0idXJsKCNnKSIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDciIGhlaWdodD0iNDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIHI9IjIzLjUiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjcuNjM0IDE4LjUwOGE0LjMwNCA0LjMwNCAwIDExLTguNjA5IDAgNC4zMDQgNC4zMDQgMCAwMTguNjA5IDB6bTQuNzEyIDEyLjgwNGMuMTIyLjUwNi0uMjc1Ljk2OS0uNzg2Ljk2OUgxNS4xYy0uNTEyIDAtLjkwOS0uNDYyLS43ODctLjk3Ljk5My00LjEzNyA0LjY1My03LjIwOCA5LjAxNi03LjIwOHM4LjAyMyAzLjA3IDkuMDE3IDcuMjA5eiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+"},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAINUlEQVR42u2aaUxUVxTHcRBmAAEBRVTK4sKwDIsg+wCK7CqIw1CN1YobbbS2qYlJ06Qx1UpdqMbYWq2pSzWmH6ytNbXWJY1Lq7VuqBERtW64V0XFLYae0/xvcp3MMAMzDz6IyT/ge2ce5/7ucpY3Ts3NzZ1ygF57AJ0gO0G2jyZPmdbFyclJSAV1EeoEaUUSLGdSV5KLLFxzFmA7QVqGqDqjixhWkxCVeyRVl38wM6bwj6yYItYK47BAuu9B0gCqs6Ng2r494KQtkj/Dz2jHraw6qw2fdSE4rNmcCPCvZONP8iF1I6kdBdMaQJWZLeJqRWa2kPJAxXY+GxE+zxLI03GRh8lGSwoi9WCY8FWlCEh+8JOnT7MfPGjMuXX7Tt61hoaCi/9cKmKdv3BxeEtim/UbNpnbQiqF4MmT7kqrbr4lkMcTo46TTSpJB5g+8NHuVWnWuaampvhmO/7duHmrGluoO4C6OsJZGRrkDIld43ZqUOTnlkDSmXmabAoBU0vqBf+6KgFSxQ9++uzZ8rZApM81TJ8xM5me0Z/UF7PuBmdVdkGEb5gYDeQmyZNW3SJLIP9Kj64lGyMpmxRN6sOfIbkoAhKOdnv2/PmB1kB88eLFo+olyyrps3rSINIAzLonnqlqK8R9w+L86vtrt5L2nhug3Vc3ULu/Liz8AOuXESlZZONH6kmr7gtLIA9lRNeRzVukAvj3BslLnJNKgfScO69K+/Lly0ZbQW7e8tNK+pwBjqaSIjDrXgJkW1ciAZvbQjQ+RDahpBBKd5ZZsqN758hmImk4KQHnpDd8UwSkCyJarx07d4+3BeKJmlMHyX4qaRxpBCmNFE4KENvHDpAutVERn1kCVBMfeRRgYvZnx62wZPdnZkw92VQA5GClQXYRBze2S+iJmpPVVoJLA9l9QKokjcWKTCT1R5rhLg70NuSsziT16diIKkuAjibrTpJNDkn/e17CahtAjlAWJAYkb29Sb1LE9Rs391kILk8mVkyuIpuZcLKUlEmKkra1WuSTNuesEPzwoEploSVAh9Oiz+BIyd9dOHhtx4OEpFpVg6gbNK3yXX1j48N6U5Dz5i/gc/FDrMY3sTLiSMEkXxGxzUEUAGnbxlPaksMlHUXWAlHS8URCPseSohZbCSLjSSU7ixLXdzhIWVKq4Y7t2a/2bN0qGeKly1fYsVmk6RgIDz4J0bonyUOcjeYqm/8hRoYbWkigV2NH9CHAS60EkUkkw47hSRs6FqT1LR5AVcsrueXlK1d5AO+RpmBrZZEiefByytPCanRGNLZY0uF52gNDYr9sCRB8MHY0SJu2OJWKS2WQV65e4y31DmkCImEi0hBfufRime0RIhpbKen0/Ny9OYNW2ghyYytABjNIaxNuKttAWk6HPLn0k0FevdZwFinPWFIuKZbUV16NVko6jbWSDoPO3pOf8K0jQWLSQ0S9bdpkYck+m7vfWpAiHfKgBsZiGSSt0FqcTeU8WETqAHE2CgcAVd3Gkm4MD3xXYeI6B4NMItvKbcUpQ9gP+KMWnSsW+TaYJtoo+avBWLoKoK0CCSDud+7eXWQGZAXqV3YoQjQCfixJ8+fzj9ta3JHhlUeJ8wJOY2ws6eRKpPS3oqTvHAESEz9ya0naXL5WH6pt3FqSOhTHkTcKEXc6k1POh4Q9YJu/03TT4a8PoGMFI4i2EqSbOZAYaBkpCyD92RkG6KCSbjI/H0HEISBnlOZPFdcEzI2GTO4KBZICGKyAKLTEmJOB2txf5MbgohBINCl4FTqmpJMB2W+HiRn1Q2l6lXyPmiEP6VVE2TfGoaMYrHyPdtAnyI0jEOn9RLWmNEhvBBE7SjpFQZaShtLK+1S+T12lRwxUvrZlVPp8jE1PikeO7C/nyEqBDCB1t7+kUx4kKUWclea0yZC5BIGpiJSNSD9QgFR0RQKkL6KxHSWdsiARHJNYewoGrzG1/bk4dTPSunL2EyDjcbb7MQ+lQfZmkKiN7SjpFAM5CWAyGcwyY84YsZ1lUcbRNNtQMAdtQWGvQ0DyVjzYAKQfQFodeAeC1C8vzymXIZqD+ZEh/2OyLSalS/3VbnJZ+VqDXGjMrTCFuK4s66vVZUNfqaDolcbjOcb899sLpEE+I20GifywXe2QR3KElu99PzqjGufhREqB1pjCnG3IL3fY1v733r2FMsiGhutn0LAoJWWIGbPxjKwgjUbF0m52mPhigrpdXOecEq9pR6MkHbu2LOtrcZ9y3d0ODTb15y9MePz48aF79+8fvXnr9sljx2u2I7KNxDuaMPGVECoRs7mC4eT7SIruFNfNHK15MKuM2evwNq+4qjxvGnd5CHwNNynawW4cOlUZdG8b55IIJHmkItwrZHH6QxB3OSL9kTtAGpIvZiQB3Z4SKBfXQtEE9sashWAW87Bt3sYZNR6zn4uzJwWDKUKXfaKCdqUoBpLxSjYe9nqGiwWRBGipuGZ3Qm76itYLbbJI/PEhUApfw73uOIy9xfse3M9F9BuFJHcYrseSouGkHtCVtkuGTTikI8XgZzhg9SeF4VqcvSWiaSvNHQ8JwkNjIfEHemCmNLD1RaEfLs18mlgNuN6PFALHo7CyU5W2g00gFAQF4ozvibH04muwDbWraSFAyt/AAMzewgGR8uCeWn77xzBxPxgzPRCDDMZ14bQ/3jqGKGoHf2Hjgx3kw5LbaJDYWb52t9FMgw4AuWNWukNeuOYqOsmQi2jgws4PA/DD/z0B2x0/veCs4naw0cgybezid7X9jV3rX2RSs0wfLkll4pBGcgifg+NYxe1kJ2ycTaRq66uG/wBOl0vjcw70xwAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAGMElEQVR4Ae2aA7D0yBaAc7oH12vbRmlLaxYWb23btm3btm2899a2bWuYtPZ01cmtU9lJrib315yqr9I3Oem/5/s7acwEnehEJzoxCcX2O+wEeIgRBDDaGjAZOgQ6ihRpLklHZDJIXK1WWymMIhGGkVBKCWMM+Iv/f/b5t7faYtM/sGgIS7j8RNLjceUVl41GvGN1BFiHy9sgtRWaYbhvuVQ6o1VOvV5/tLe3dyssKoZuh8xClkDEi2MMS6ZjR0cScxdK/+HgnJsmLccYOx0e/PUGUqfTJDEHkV5go9lcMQoj4R8RpSIRRUr4a9baTJFCCNfqESKJ7RYJibK0xoi05EhFRTxMi1Rit6xHAuLaKRLwEVi6q1x+EhlVpd3d3Wfh4VQkQhRhxthYLg7SRGqdLlIp7UVOHf+JhEhEMscUolVje3p63saeeOFoKsT7fjj++BNuw2I/0ouUENmGaQcQEilQvUU6xuWC0kqmVWCt8df6kG7WLoFA20VSCOyNh0RKPT+SyrTWtQsvuvTYCy84z3+oAdbgAiLGIvHjTz6bFuu/B3lKKfVkFKknwih6EnnipZdfXQZzepAupXSGSCfwUGZtkrx3t/0dSQGnnXbmdocdetArQoj+4VR23wMP3bj/vnv9Sv/rBmkish09ca655thHSrlWq4TFF1vkNDxsgjiUnPqZnHPABIq47jx7pPMcecShfz7x1DO7D6eit99576X1113nVd8rqLGAuDaNitJonTGIqHgQGQjDsJglMrUH5iDSEQbRa6y2yrNvv/PuWVmV/PTzLz8steTit1B9FtGJeZrJksmWdBzBMcami4xUkaY1A1Qe94WIaPGBApJhaERrLrXkElf8+NPPz6YMLs1DDjn0Wn9PnI/UiQadM4jNEkhzVsEGE8nIHESM1j5/KqRX+/IEiOQ/yifNBlEkpnb00cccesbpp13T3983H88/48xzrrvm6it/8U5JXgX5G6nSvSq1R5LATR7aYGkwMG1RSwkWABH+4jUb3vT/uJ1Z0xpjraTBRltrxUQhksIRmgTJyy69+Pv99tv3qYX6FxgU+fU33352xGEHf5wisU7nNWJpZRMkAjZ6aIN1mwV7h29Jo2wCHlveu/GV169z65E+T6koexCh6c+EEiky3lnxQKFjUeVyOeI5AOBzIiayRhJryd7YYnkIHgvB0qk9Tdql6N3XH4bRUIOIIIKJSiRb0hkSEpZKRd1CpEq8GxtIyCVmDSgFl94GacTgaJw1rUlYhYng0c4ewaUsmKRIJjpiqMSOCh9QeI+UYECmtQIsxEu6OorEcv6Rl0gu0woh8MhFkmSCTXVI4pC704WCFRJvSRNJSzrMMEZO2iKZTCHAZYnmvXCny7ed5vfZK3viHSBdIFCKEFj2+nt+73nw8m2uedcLJlktA++VNMEPaR45aYukcKnnCfY3/DFbZS8t7eHxNgsPM0N1hXhJJwwM1QbpoQFlog2R13a/zBxEYHAQEUYUM6qiVwEyBYoM6JFNF2kFLelI5KQf+fVI4dJFCguDS7oAyx2R6SFQJKRedSDj/cMg/RXQ6ZE05GSIDAaXdCi1I3L021SQWNJ1RLY5OiIdL4/yvuw8ADfWPFrSciaMyH8tEQPwf1uGG54g5+KlJGTmsrxsQdl5PKidnPFe2QS///7Hu+VS6WX/HYnf0sevGL7lXydwod2/9DykZq0s5yff0sgSWCigNOH7TPHL7ufj+/TH8P/+qYpL4HkBDiRYpEXeM8/89/9zzjn7EtY64dfd1nqccM7Bs8+9MKy8555/8TnKS+5MufH6EZVASkgPzf+mJXroet17JirU0ALST3nT0y5ONyLpeo1y64ih+vuQfsoTOeRFSJXa+SvyB90TUmdw49EjLaKpMQ0mzEeTzkWsd/oI6fzfiKM8gWg6X6OjpXstu5ZHnmIb0GFiu29MIUfUewkmVrEN3RqVQ/bY8FzNcquMBv/pCNUZ5pHHem01KdN/I/DG66/lLhKSvTO5M84kav5C5z2ZfyAivi9i9VGd45RH7UWJbjwGG/7NYsRECt7jiOToHedKAui8SW4CsxyRc54mKH/8f7ELhCCACyNcIl/wI+FaAJyc8yzRtinQPzWzuFZrFHq/AAAAAElFTkSuQmCC"},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwMTQzIDQ0YTguOTg4IDguOTg4IDAgMDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAxMTAuMzc0LS40MkM1MS43MDIgMTkuMTE0IDU0IDI5LjIwOCA1NCA0NS4yMDhjMCAxNC41MjctMi4zNDMgMjMuODgtNy4wMyAyOC4wNThhNy4yOCA3LjI4IDAgMDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwMS01LTV2LTEzYTUgNSAwIDAxNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMDE1IDVWNTguMThhNSA1IDAgMDEtNSA1SDkuMTFhNSA1IDAgMDEtNS01VjI1Ljk3YTUgNSAwIDAxNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwMTQuMzA0IDIuNzAydjI2LjgzNWEzIDMgMCAwMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(_e,tt,et){var nt={},rt=function(Nt){var Lt;return function(){return typeof Lt>"u"&&(Lt=Nt.apply(this,arguments)),Lt}},it=rt(function(){return window&&document&&document.all&&!window.atob}),ot=function(Nt,Lt){return Lt?Lt.querySelector(Nt):document.querySelector(Nt)},st=function(Nt){var Lt={};return function(Mt,tn){if(typeof Mt=="function")return Mt();if(typeof Lt[Mt]>"u"){var $t=ot.call(this,Mt,tn);if(window.HTMLIFrameElement&&$t instanceof window.HTMLIFrameElement)try{$t=$t.contentDocument.head}catch{$t=null}Lt[Mt]=$t}return Lt[Mt]}}(),at=null,ct=0,lt=[],dt=et(352);_e.exports=function(Nt,Lt){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");Lt=Lt||{},Lt.attrs=typeof Lt.attrs=="object"?Lt.attrs:{},!Lt.singleton&&typeof Lt.singleton!="boolean"&&(Lt.singleton=it()),Lt.insertInto||(Lt.insertInto="head"),Lt.insertAt||(Lt.insertAt="bottom");var Mt=ft(Nt,Lt);return ut(Mt,Lt),function($t){for(var Ht=[],rn=0;rn<Mt.length;rn++){var ln=Mt[rn],mn=nt[ln.id];mn.refs--,Ht.push(mn)}if($t){var on=ft($t,Lt);ut(on,Lt)}for(var rn=0;rn<Ht.length;rn++){var mn=Ht[rn];if(mn.refs===0){for(var yn=0;yn<mn.parts.length;yn++)mn.parts[yn]();delete nt[mn.id]}}}};function ut(Nt,Lt){for(var Mt=0;Mt<Nt.length;Mt++){var tn=Nt[Mt],$t=nt[tn.id];if($t){$t.refs++;for(var Ht=0;Ht<$t.parts.length;Ht++)$t.parts[Ht](tn.parts[Ht]);for(;Ht<tn.parts.length;Ht++)$t.parts.push(Ct(tn.parts[Ht],Lt))}else{for(var rn=[],Ht=0;Ht<tn.parts.length;Ht++)rn.push(Ct(tn.parts[Ht],Lt));nt[tn.id]={id:tn.id,refs:1,parts:rn}}}}function ft(Nt,Lt){for(var Mt=[],tn={},$t=0;$t<Nt.length;$t++){var Ht=Nt[$t],rn=Lt.base?Ht[0]+Lt.base:Ht[0],ln=Ht[1],mn=Ht[2],on=Ht[3],yn={css:ln,media:mn,sourceMap:on};tn[rn]?tn[rn].parts.push(yn):Mt.push(tn[rn]={id:rn,parts:[yn]})}return Mt}function pt(Nt,Lt){var Mt=st(Nt.insertInto);if(!Mt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var tn=lt[lt.length-1];if(Nt.insertAt==="top")tn?tn.nextSibling?Mt.insertBefore(Lt,tn.nextSibling):Mt.appendChild(Lt):Mt.insertBefore(Lt,Mt.firstChild),lt.push(Lt);else if(Nt.insertAt==="bottom")Mt.appendChild(Lt);else if(typeof Nt.insertAt=="object"&&Nt.insertAt.before){var $t=st(Nt.insertAt.before,Mt);Mt.insertBefore(Lt,$t)}else throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`)}function bt(Nt){if(Nt.parentNode===null)return!1;Nt.parentNode.removeChild(Nt);var Lt=lt.indexOf(Nt);Lt>=0&&lt.splice(Lt,1)}function Tt(Nt){var Lt=document.createElement("style");if(Nt.attrs.type===void 0&&(Nt.attrs.type="text/css"),Nt.attrs.nonce===void 0){var Mt=vt();Mt&&(Nt.attrs.nonce=Mt)}return gt(Lt,Nt.attrs),pt(Nt,Lt),Lt}function ht(Nt){var Lt=document.createElement("link");return Nt.attrs.type===void 0&&(Nt.attrs.type="text/css"),Nt.attrs.rel="stylesheet",gt(Lt,Nt.attrs),pt(Nt,Lt),Lt}function gt(Nt,Lt){Object.keys(Lt).forEach(function(Mt){Nt.setAttribute(Mt,Lt[Mt])})}function vt(){return et.nc}function Ct(Nt,Lt){var Mt,tn,$t,Ht;if(Lt.transform&&Nt.css)if(Ht=typeof Lt.transform=="function"?Lt.transform(Nt.css):Lt.transform.default(Nt.css),Ht)Nt.css=Ht;else return function(){};if(Lt.singleton){var rn=ct++;Mt=at||(at=Tt(Lt)),tn=Zt.bind(null,Mt,rn,!1),$t=Zt.bind(null,Mt,rn,!0)}else Nt.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(Mt=ht(Lt),tn=kt.bind(null,Mt,Lt),$t=function(){bt(Mt),Mt.href&&URL.revokeObjectURL(Mt.href)}):(Mt=Tt(Lt),tn=Wt.bind(null,Mt),$t=function(){bt(Mt)});return tn(Nt),function(mn){if(mn){if(mn.css===Nt.css&&mn.media===Nt.media&&mn.sourceMap===Nt.sourceMap)return;tn(Nt=mn)}else $t()}}var It=function(){var Nt=[];return function(Lt,Mt){return Nt[Lt]=Mt,Nt.filter(Boolean).join(`
`)}}();function Zt(Nt,Lt,Mt,tn){var $t=Mt?"":tn.css;if(Nt.styleSheet)Nt.styleSheet.cssText=It(Lt,$t);else{var Ht=document.createTextNode($t),rn=Nt.childNodes;rn[Lt]&&Nt.removeChild(rn[Lt]),rn.length?Nt.insertBefore(Ht,rn[Lt]):Nt.appendChild(Ht)}}function Wt(Nt,Lt){var Mt=Lt.css,tn=Lt.media;if(tn&&Nt.setAttribute("media",tn),Nt.styleSheet)Nt.styleSheet.cssText=Mt;else{for(;Nt.firstChild;)Nt.removeChild(Nt.firstChild);Nt.appendChild(document.createTextNode(Mt))}}function kt(Nt,Lt,Mt){var tn=Mt.css,$t=Mt.sourceMap,Ht=Lt.convertToAbsoluteUrls===void 0&&$t;(Lt.convertToAbsoluteUrls||Ht)&&(tn=dt(tn)),$t&&(tn+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify($t))))+" */");var rn=new Blob([tn],{type:"text/css"}),ln=Nt.href;Nt.href=URL.createObjectURL(rn),ln&&URL.revokeObjectURL(ln)}},function(_e,tt){_e.exports=function(et){var nt=typeof window<"u"&&window.location;if(!nt)throw new Error("fixUrls requires window.location");if(!et||typeof et!="string")return et;var rt=nt.protocol+"//"+nt.host,it=rt+nt.pathname.replace(/\/[^\/]*$/,"/"),ot=et.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(st,at){var ct=at.trim().replace(/^"(.*)"$/,function(dt,ut){return ut}).replace(/^'(.*)'$/,function(dt,ut){return ut});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(ct))return st;var lt;return ct.indexOf("//")===0?lt=ct:ct.indexOf("/")===0?lt=rt+ct:lt=it+ct.replace(/^\.\//,""),"url("+JSON.stringify(lt)+")"});return ot}},function(_e,tt){function et(){this.__data__=[],this.size=0}_e.exports=et},function(_e,tt,et){var nt=et(80),rt=Array.prototype,it=rt.splice;function ot(st){var at=this.__data__,ct=nt(at,st);if(ct<0)return!1;var lt=at.length-1;return ct==lt?at.pop():it.call(at,ct,1),--this.size,!0}_e.exports=ot},function(_e,tt,et){var nt=et(80);function rt(it){var ot=this.__data__,st=nt(ot,it);return st<0?void 0:ot[st][1]}_e.exports=rt},function(_e,tt,et){var nt=et(80);function rt(it){return nt(this.__data__,it)>-1}_e.exports=rt},function(_e,tt,et){var nt=et(80);function rt(it,ot){var st=this.__data__,at=nt(st,it);return at<0?(++this.size,st.push([it,ot])):st[at][1]=ot,this}_e.exports=rt},function(_e,tt,et){var nt=et(79);function rt(){this.__data__=new nt,this.size=0}_e.exports=rt},function(_e,tt){function et(nt){var rt=this.__data__,it=rt.delete(nt);return this.size=rt.size,it}_e.exports=et},function(_e,tt){function et(nt){return this.__data__.get(nt)}_e.exports=et},function(_e,tt){function et(nt){return this.__data__.has(nt)}_e.exports=et},function(_e,tt,et){var nt=et(79),rt=et(111),it=et(112),ot=200;function st(at,ct){var lt=this.__data__;if(lt instanceof nt){var dt=lt.__data__;if(!rt||dt.length<ot-1)return dt.push([at,ct]),this.size=++lt.size,this;lt=this.__data__=new it(dt)}return lt.set(at,ct),this.size=lt.size,this}_e.exports=st},function(_e,tt,et){var nt=et(16),rt=et(366),it=et(11),ot=et(174),st=/[\\^$.*+?()[\]{}|]/g,at=/^\[object .+?Constructor\]$/,ct=Function.prototype,lt=Object.prototype,dt=ct.toString,ut=lt.hasOwnProperty,ft=RegExp("^"+dt.call(ut).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pt(bt){if(!it(bt)||rt(bt))return!1;var Tt=nt(bt)?ft:at;return Tt.test(ot(bt))}_e.exports=pt},function(_e,tt,et){var nt=et(39),rt=Object.prototype,it=rt.hasOwnProperty,ot=rt.toString,st=nt?nt.toStringTag:void 0;function at(ct){var lt=it.call(ct,st),dt=ct[st];try{ct[st]=void 0;var ut=!0}catch{}var ft=ot.call(ct);return ut&&(lt?ct[st]=dt:delete ct[st]),ft}_e.exports=at},function(_e,tt){var et=Object.prototype,nt=et.toString;function rt(it){return nt.call(it)}_e.exports=rt},function(_e,tt,et){var nt=et(367),rt=function(){var ot=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return ot?"Symbol(src)_1."+ot:""}();function it(ot){return!!rt&&rt in ot}_e.exports=it},function(_e,tt,et){var nt=et(14),rt=nt["__core-js_shared__"];_e.exports=rt},function(_e,tt){function et(nt,rt){return nt==null?void 0:nt[rt]}_e.exports=et},function(_e,tt,et){var nt=et(370),rt=et(79),it=et(111);function ot(){this.size=0,this.__data__={hash:new nt,map:new(it||rt),string:new nt}}_e.exports=ot},function(_e,tt,et){var nt=et(371),rt=et(372),it=et(373),ot=et(374),st=et(375);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt,et){var nt=et(81);function rt(){this.__data__=nt?nt(null):{},this.size=0}_e.exports=rt},function(_e,tt){function et(nt){var rt=this.has(nt)&&delete this.__data__[nt];return this.size-=rt?1:0,rt}_e.exports=et},function(_e,tt,et){var nt=et(81),rt="__lodash_hash_undefined__",it=Object.prototype,ot=it.hasOwnProperty;function st(at){var ct=this.__data__;if(nt){var lt=ct[at];return lt===rt?void 0:lt}return ot.call(ct,at)?ct[at]:void 0}_e.exports=st},function(_e,tt,et){var nt=et(81),rt=Object.prototype,it=rt.hasOwnProperty;function ot(st){var at=this.__data__;return nt?at[st]!==void 0:it.call(at,st)}_e.exports=ot},function(_e,tt,et){var nt=et(81),rt="__lodash_hash_undefined__";function it(ot,st){var at=this.__data__;return this.size+=this.has(ot)?0:1,at[ot]=nt&&st===void 0?rt:st,this}_e.exports=it},function(_e,tt,et){var nt=et(82);function rt(it){var ot=nt(this,it).delete(it);return this.size-=ot?1:0,ot}_e.exports=rt},function(_e,tt){function et(nt){var rt=typeof nt;return rt=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?nt!=="__proto__":nt===null}_e.exports=et},function(_e,tt,et){var nt=et(82);function rt(it){return nt(this,it).get(it)}_e.exports=rt},function(_e,tt,et){var nt=et(82);function rt(it){return nt(this,it).has(it)}_e.exports=rt},function(_e,tt,et){var nt=et(82);function rt(it,ot){var st=nt(this,it),at=st.size;return st.set(it,ot),this.size+=st.size==at?0:1,this}_e.exports=rt},function(_e,tt){function et(nt,rt){for(var it=-1,ot=Array(nt);++it<nt;)ot[it]=rt(it);return ot}_e.exports=et},function(_e,tt,et){var nt=et(29),rt=et(17),it="[object Arguments]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt){function et(){return!1}_e.exports=et},function(_e,tt,et){var nt=et(29),rt=et(114),it=et(17),ot="[object Arguments]",st="[object Array]",at="[object Boolean]",ct="[object Date]",lt="[object Error]",dt="[object Function]",ut="[object Map]",ft="[object Number]",pt="[object Object]",bt="[object RegExp]",Tt="[object Set]",ht="[object String]",gt="[object WeakMap]",vt="[object ArrayBuffer]",Ct="[object DataView]",It="[object Float32Array]",Zt="[object Float64Array]",Wt="[object Int8Array]",kt="[object Int16Array]",Nt="[object Int32Array]",Lt="[object Uint8Array]",Mt="[object Uint8ClampedArray]",tn="[object Uint16Array]",$t="[object Uint32Array]",Ht={};Ht[It]=Ht[Zt]=Ht[Wt]=Ht[kt]=Ht[Nt]=Ht[Lt]=Ht[Mt]=Ht[tn]=Ht[$t]=!0,Ht[ot]=Ht[st]=Ht[vt]=Ht[at]=Ht[Ct]=Ht[ct]=Ht[lt]=Ht[dt]=Ht[ut]=Ht[ft]=Ht[pt]=Ht[bt]=Ht[Tt]=Ht[ht]=Ht[gt]=!1;function rn(ln){return it(ln)&&rt(ln.length)&&!!Ht[nt(ln)]}_e.exports=rn},function(_e,tt,et){var nt=et(178),rt=nt(Object.keys,Object);_e.exports=rt},function(_e,tt,et){var nt=et(40),rt=et(53);function it(ot,st){return ot&&nt(st,rt(st),ot)}_e.exports=it},function(_e,tt,et){var nt=et(11),rt=et(67),it=et(388),ot=Object.prototype,st=ot.hasOwnProperty;function at(ct){if(!nt(ct))return it(ct);var lt=rt(ct),dt=[];for(var ut in ct)ut=="constructor"&&(lt||!st.call(ct,ut))||dt.push(ut);return dt}_e.exports=at},function(_e,tt){function et(nt){var rt=[];if(nt!=null)for(var it in Object(nt))rt.push(it);return rt}_e.exports=et},function(_e,tt,et){var nt=et(40),rt=et(117);function it(ot,st){return nt(ot,rt(ot),st)}_e.exports=it},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length,st=0,at=[];++it<ot;){var ct=nt[it];rt(ct,it,nt)&&(at[st++]=ct)}return at}_e.exports=et},function(_e,tt,et){var nt=et(40),rt=et(181);function it(ot,st){return nt(ot,rt(ot),st)}_e.exports=it},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"DataView");_e.exports=it},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"Promise");_e.exports=it},function(_e,tt){var et=Object.prototype,nt=et.hasOwnProperty;function rt(it){var ot=it.length,st=new it.constructor(ot);return ot&&typeof it[0]=="string"&&nt.call(it,"index")&&(st.index=it.index,st.input=it.input),st}_e.exports=rt},function(_e,tt,et){var nt=et(120),rt=et(396),it=et(397),ot=et(398),st=et(188),at="[object Boolean]",ct="[object Date]",lt="[object Map]",dt="[object Number]",ut="[object RegExp]",ft="[object Set]",pt="[object String]",bt="[object Symbol]",Tt="[object ArrayBuffer]",ht="[object DataView]",gt="[object Float32Array]",vt="[object Float64Array]",Ct="[object Int8Array]",It="[object Int16Array]",Zt="[object Int32Array]",Wt="[object Uint8Array]",kt="[object Uint8ClampedArray]",Nt="[object Uint16Array]",Lt="[object Uint32Array]";function Mt(tn,$t,Ht){var rn=tn.constructor;switch($t){case Tt:return nt(tn);case at:case ct:return new rn(+tn);case ht:return rt(tn,Ht);case gt:case vt:case Ct:case It:case Zt:case Wt:case kt:case Nt:case Lt:return st(tn,Ht);case lt:return new rn;case dt:case pt:return new rn(tn);case ut:return it(tn);case ft:return new rn;case bt:return ot(tn)}}_e.exports=Mt},function(_e,tt,et){var nt=et(120);function rt(it,ot){var st=ot?nt(it.buffer):it.buffer;return new it.constructor(st,it.byteOffset,it.byteLength)}_e.exports=rt},function(_e,tt){var et=/\w*$/;function nt(rt){var it=new rt.constructor(rt.source,et.exec(rt));return it.lastIndex=rt.lastIndex,it}_e.exports=nt},function(_e,tt,et){var nt=et(39),rt=nt?nt.prototype:void 0,it=rt?rt.valueOf:void 0;function ot(st){return it?Object(it.call(st)):{}}_e.exports=ot},function(_e,tt,et){var nt=et(400),rt=et(66),it=et(115),ot=it&&it.isMap,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(41),rt=et(17),it="[object Map]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){var nt=et(402),rt=et(66),it=et(115),ot=it&&it.isSet,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(41),rt=et(17),it="[object Set]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){(function(nt){tt.log=ot,tt.formatArgs=it,tt.save=st,tt.load=at,tt.useColors=rt,tt.storage=lt(),tt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function rt(){var ut=ct("colors");return/^(no|off|false|disabled)$/i.test(ut)?!1:typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:!!(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function it(ut){var ft=this.useColors;if(ut[0]=(ft?"%c":"")+this.namespace+(ft?" %c":" ")+ut[0]+(ft?"%c ":" ")+"+"+_e.exports.humanize(this.diff),!!ft){var pt="color: "+this.color;ut.splice(1,0,pt,"color: inherit");var bt=0,Tt=0;ut[0].replace(/%[a-zA-Z%]/g,function(ht){ht!=="%%"&&(bt++,ht==="%c"&&(Tt=bt))}),ut.splice(Tt,0,pt)}}function ot(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function st(ut){try{ut==null?tt.storage.removeItem("debug"):tt.storage.setItem("debug",ut)}catch{}}function at(){var ut;try{ut=tt.storage.getItem("debug")}catch{}return!ut&&typeof nt<"u"&&"env"in nt&&(ut={}.DEBUG),ut}function ct(ut){var ft="debug_"+ut.toLowerCase();try{return tt.storage.getItem(ft)}catch{return typeof nt<"u"&&"env"in nt?nt.env[ft.toUpperCase()]:void 0}}function lt(){try{return localStorage}catch{}}_e.exports=et(404)(tt);var dt=_e.exports.formatters;dt.j=function(ut){try{return JSON.stringify(ut)}catch(ft){return"[UnexpectedJSONParseError]: "+ft.message}}}).call(this,et(42))},function(_e,tt,et){_e.exports=function(rt){ot.debug=ot.default=ot,ot.coerce=dt,ot.disable=ct,ot.enable=at,ot.enabled=lt,ot.humanize=et(405),Object.keys(rt).forEach(function(ut){ot[ut]=rt[ut]}),ot.instances=[],ot.names=[],ot.skips=[],ot.formatters={};function it(ut){var ft=0,pt;for(pt in ut)ft=(ft<<5)-ft+ut.charCodeAt(pt),ft|=0;return ot.colors[Math.abs(ft)%ot.colors.length]}ot.selectColor=it;function ot(ut){var ft;function pt(){if(pt.enabled){var bt=pt,Tt=+new Date,ht=Tt-(ft||Tt);bt.diff=ht,bt.prev=ft,bt.curr=Tt,ft=Tt;for(var gt=new Array(arguments.length),vt=0;vt<gt.length;vt++)gt[vt]=arguments[vt];gt[0]=ot.coerce(gt[0]),typeof gt[0]!="string"&&gt.unshift("%O");var Ct=0;gt[0]=gt[0].replace(/%([a-zA-Z%])/g,function(Zt,Wt){if(Zt==="%%")return Zt;Ct++;var kt=ot.formatters[Wt];if(typeof kt=="function"){var Nt=gt[Ct];Zt=kt.call(bt,Nt),gt.splice(Ct,1),Ct--}return Zt}),ot.formatArgs.call(bt,gt);var It=bt.log||ot.log;It.apply(bt,gt)}}return pt.namespace=ut,pt.enabled=ot.enabled(ut),pt.useColors=ot.useColors(),pt.color=it(ut),pt.destroy=st,typeof ot.init=="function"&&ot.init(pt),ot.instances.push(pt),pt}function st(){var ut=ot.instances.indexOf(this);return ut!==-1?(ot.instances.splice(ut,1),!0):!1}function at(ut){ot.save(ut),ot.names=[],ot.skips=[];var ft,pt=(typeof ut=="string"?ut:"").split(/[\s,]+/),bt=pt.length;for(ft=0;ft<bt;ft++)pt[ft]&&(ut=pt[ft].replace(/\*/g,".*?"),ut[0]==="-"?ot.skips.push(new RegExp("^"+ut.substr(1)+"$")):ot.names.push(new RegExp("^"+ut+"$")));for(ft=0;ft<ot.instances.length;ft++){var Tt=ot.instances[ft];Tt.enabled=ot.enabled(Tt.namespace)}}function ct(){ot.enable("")}function lt(ut){if(ut[ut.length-1]==="*")return!0;var ft,pt;for(ft=0,pt=ot.skips.length;ft<pt;ft++)if(ot.skips[ft].test(ut))return!1;for(ft=0,pt=ot.names.length;ft<pt;ft++)if(ot.names[ft].test(ut))return!0;return!1}function dt(ut){return ut instanceof Error?ut.stack||ut.message:ut}return ot.enable(ot.load()),ot}},function(_e,tt){var et=1e3,nt=et*60,rt=nt*60,it=rt*24,ot=it*7,st=it*365.25;_e.exports=function(ut,ft){ft=ft||{};var pt=typeof ut;if(pt==="string"&&ut.length>0)return at(ut);if(pt==="number"&&isFinite(ut))return ft.long?lt(ut):ct(ut);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ut))};function at(ut){if(ut=String(ut),!(ut.length>100)){var ft=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ut);if(ft){var pt=parseFloat(ft[1]),bt=(ft[2]||"ms").toLowerCase();switch(bt){case"years":case"year":case"yrs":case"yr":case"y":return pt*st;case"weeks":case"week":case"w":return pt*ot;case"days":case"day":case"d":return pt*it;case"hours":case"hour":case"hrs":case"hr":case"h":return pt*rt;case"minutes":case"minute":case"mins":case"min":case"m":return pt*nt;case"seconds":case"second":case"secs":case"sec":case"s":return pt*et;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return pt;default:return}}}}function ct(ut){var ft=Math.abs(ut);return ft>=it?Math.round(ut/it)+"d":ft>=rt?Math.round(ut/rt)+"h":ft>=nt?Math.round(ut/nt)+"m":ft>=et?Math.round(ut/et)+"s":ut+"ms"}function lt(ut){var ft=Math.abs(ut);return ft>=it?dt(ut,ft,it,"day"):ft>=rt?dt(ut,ft,rt,"hour"):ft>=nt?dt(ut,ft,nt,"minute"):ft>=et?dt(ut,ft,et,"second"):ut+" ms"}function dt(ut,ft,pt,bt){var Tt=ft>=pt*1.5;return Math.round(ut/pt)+" "+bt+(Tt?"s":"")}},function(_e,tt,et){var nt=et(407),rt=et(175),it=et(88),ot=rt?function(st,at){return rt(st,"toString",{configurable:!0,enumerable:!1,value:nt(at),writable:!0})}:it;_e.exports=ot},function(_e,tt){function et(nt){return function(){return nt}}_e.exports=et},function(_e,tt,et){const nt=et(194),rt=new nt;function it(ot,st){if(st===void 0)return ot;rt.has(st)||rt.set(st,new nt);const at=rt.get(st);return at.has(ot)||at.set(ot,ot.bind(st)),at.get(ot)}_e.exports=it},function(_e,tt,et){_e.exports=function(){var nt,rt;if(typeof WeakMap!="function")return!1;try{nt=new WeakMap([[rt={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(nt)!=="[object WeakMap]"||typeof nt.set!="function"||nt.set({},1)!==nt||typeof nt.delete!="function"||typeof nt.has!="function"||nt.get(rt)!=="one")}},function(_e,tt,et){var nt=et(43),rt=et(125),it=et(413),ot=et(31),st=et(414),at=et(32),ct=et(201),lt=et(456),dt=et(44).toStringTag,ut=et(457),ft=Array.isArray,pt=Object.defineProperty,bt=Object.prototype.hasOwnProperty,Tt=Object.getPrototypeOf,ht;_e.exports=ht=function(){var gt=arguments[0],vt;if(!(this instanceof ht))throw new TypeError("Constructor requires 'new'");return vt=ut&&rt&&WeakMap!==ht?rt(new WeakMap,Tt(this)):this,nt(gt)&&(ft(gt)||(gt=ct(gt))),pt(vt,"__weakMapData__",at("c","$weakMap$"+st())),gt&&lt(gt,function(Ct){ot(Ct),vt.set(Ct[0],Ct[1])}),vt},ut&&(rt&&rt(ht,WeakMap),ht.prototype=Object.create(WeakMap.prototype,{constructor:at(ht)})),Object.defineProperties(ht.prototype,{delete:at(function(gt){return bt.call(it(gt),this.__weakMapData__)?(delete gt[this.__weakMapData__],!0):!1}),get:at(function(gt){if(bt.call(it(gt),this.__weakMapData__))return gt[this.__weakMapData__]}),has:at(function(gt){return bt.call(it(gt),this.__weakMapData__)}),set:at(function(gt,vt){return pt(it(gt),this.__weakMapData__,at("c",vt)),this}),toString:at(function(){return"[object WeakMap]"})}),pt(ht.prototype,dt,at("c","WeakMap"))},function(_e,tt,et){_e.exports=function(){}},function(_e,tt,et){var nt=Object.create,rt;et(195)()||(rt=et(196)),_e.exports=function(){var it,ot,st;return!rt||rt.level!==1?nt:(it={},ot={},st={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(at){if(at==="__proto__"){ot[at]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}ot[at]=st}),Object.defineProperties(it,ot),Object.defineProperty(rt,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:it}),function(at,ct){return nt(at===null?it:at,ct)})}()},function(_e,tt,et){var nt=et(197);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not an Object");return rt}},function(_e,tt,et){var nt=Object.create(null),rt=Math.random;_e.exports=function(){var it;do it=rt().toString(36).slice(2);while(nt[it]);return it}},function(_e,tt,et){var nt=et(416);_e.exports=function(rt){if(typeof rt!="function"||!hasOwnProperty.call(rt,"length"))return!1;try{if(typeof rt.length!="number"||typeof rt.call!="function"||typeof rt.apply!="function")return!1}catch{return!1}return!nt(rt)}},function(_e,tt,et){var nt=et(126);_e.exports=function(rt){if(!nt(rt))return!1;try{return rt.constructor?rt.constructor.prototype===rt:!1}catch{return!1}}},function(_e,tt,et){_e.exports=function(){var nt=Object.assign,rt;return typeof nt!="function"?!1:(rt={foo:"raz"},nt(rt,{bar:"dwa"},{trzy:"trzy"}),rt.foo+rt.bar+rt.trzy==="razdwatrzy")}},function(_e,tt,et){var nt=et(419),rt=et(31),it=Math.max;_e.exports=function(ot,st){var at,ct,lt=it(arguments.length,2),dt;for(ot=Object(rt(ot)),dt=function(ut){try{ot[ut]=st[ut]}catch(ft){at||(at=ft)}},ct=1;ct<lt;++ct)st=arguments[ct],nt(st).forEach(dt);if(at!==void 0)throw at;return ot}},function(_e,tt,et){_e.exports=et(420)()?Object.keys:et(421)},function(_e,tt,et){_e.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(_e,tt,et){var nt=et(43),rt=Object.keys;_e.exports=function(it){return rt(nt(it)?Object(it):it)}},function(_e,tt,et){var nt="razdwatrzy";_e.exports=function(){return typeof nt.contains!="function"?!1:nt.contains("dwa")===!0&&nt.contains("foo")===!1}},function(_e,tt,et){var nt=String.prototype.indexOf;_e.exports=function(rt){return nt.call(this,rt,arguments[1])>-1}},function(_e,tt,et){var nt=et(125),rt=et(200),it=et(32),ot=et(44),st=et(203),at=Object.defineProperty,ct;ct=_e.exports=function(lt,dt){if(!(this instanceof ct))throw new TypeError("Constructor requires 'new'");st.call(this,lt),dt?rt.call(dt,"key+value")?dt="key+value":rt.call(dt,"key")?dt="key":dt="value":dt="value",at(this,"__kind__",it("",dt))},nt&&nt(ct,st),delete ct.prototype.constructor,ct.prototype=Object.create(st.prototype,{_resolve:it(function(lt){return this.__kind__==="value"?this.__list__[lt]:this.__kind__==="key+value"?[lt,this.__list__[lt]]:lt})}),at(ct.prototype,ot.toStringTag,it("c","Array Iterator"))},function(_e,tt,et){var nt=et(91),rt={object:!0,symbol:!0};_e.exports=function(){var it=nt.Symbol,ot;if(typeof it!="function")return!1;ot=it("test symbol");try{String(ot)}catch{return!1}return!(!rt[typeof it.iterator]||!rt[typeof it.toPrimitive]||!rt[typeof it.toStringTag])}},function(_e,tt,et){_e.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},function(_e,tt){var et=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};_e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return et()}try{return __global__||et()}finally{delete Object.prototype.__global__}}()},function(_e,tt,et){var nt=et(32),rt=et(202),it=et(91).Symbol,ot=et(430),st=et(431),at=et(432),ct=Object.create,lt=Object.defineProperties,dt=Object.defineProperty,ut,ft,pt;if(typeof it=="function")try{String(it()),pt=!0}catch{}else it=null;ft=function(Tt){if(this instanceof ft)throw new TypeError("Symbol is not a constructor");return ut(Tt)},_e.exports=ut=function bt(Tt){var ht;if(this instanceof bt)throw new TypeError("Symbol is not a constructor");return pt?it(Tt):(ht=ct(ft.prototype),Tt=Tt===void 0?"":String(Tt),lt(ht,{__description__:nt("",Tt),__name__:nt("",ot(Tt))}))},st(ut),at(ut),lt(ft.prototype,{constructor:nt(ut),toString:nt("",function(){return this.__name__})}),lt(ut.prototype,{toString:nt(function(){return"Symbol ("+rt(this).__description__+")"}),valueOf:nt(function(){return rt(this)})}),dt(ut.prototype,ut.toPrimitive,nt("",function(){var bt=rt(this);return typeof bt=="symbol"?bt:bt.toString()})),dt(ut.prototype,ut.toStringTag,nt("c","Symbol")),dt(ft.prototype,ut.toStringTag,nt("c",ut.prototype[ut.toStringTag])),dt(ft.prototype,ut.toPrimitive,nt("c",ut.prototype[ut.toPrimitive]))},function(_e,tt,et){_e.exports=function(nt){return nt?typeof nt=="symbol"?!0:!nt.constructor||nt.constructor.name!=="Symbol"?!1:nt[nt.constructor.toStringTag]==="Symbol":!1}},function(_e,tt,et){var nt=et(32),rt=Object.create,it=Object.defineProperty,ot=Object.prototype,st=rt(null);_e.exports=function(at){for(var ct=0,lt,dt;st[at+(ct||"")];)++ct;return at+=ct||"",st[at]=!0,lt="@@"+at,it(ot,lt,nt.gs(null,function(ut){dt||(dt=!0,it(this,lt,nt(ut)),dt=!1)})),lt}},function(_e,tt,et){var nt=et(32),rt=et(91).Symbol;_e.exports=function(it){return Object.defineProperties(it,{hasInstance:nt("",rt&&rt.hasInstance||it("hasInstance")),isConcatSpreadable:nt("",rt&&rt.isConcatSpreadable||it("isConcatSpreadable")),iterator:nt("",rt&&rt.iterator||it("iterator")),match:nt("",rt&&rt.match||it("match")),replace:nt("",rt&&rt.replace||it("replace")),search:nt("",rt&&rt.search||it("search")),species:nt("",rt&&rt.species||it("species")),split:nt("",rt&&rt.split||it("split")),toPrimitive:nt("",rt&&rt.toPrimitive||it("toPrimitive")),toStringTag:nt("",rt&&rt.toStringTag||it("toStringTag")),unscopables:nt("",rt&&rt.unscopables||it("unscopables"))})}},function(_e,tt,et){var nt=et(32),rt=et(202),it=Object.create(null);_e.exports=function(ot){return Object.defineProperties(ot,{for:nt(function(st){return it[st]?it[st]:it[st]=ot(String(st))}),keyFor:nt(function(st){var at;rt(st);for(at in it)if(it[at]===st)return at})})}},function(_e,tt,et){var nt=et(31);_e.exports=function(){return nt(this).length=0,this}},function(_e,tt,et){var nt=et(55),rt=et(435),it=et(439),ot=et(440),st=et(199),at=et(450),ct=Function.prototype.bind,lt=Object.defineProperty,dt=Object.prototype.hasOwnProperty,ut;ut=function(ft,pt,bt){var Tt=rt(pt)&&it(pt.value),ht;return ht=ot(pt),delete ht.writable,delete ht.value,ht.get=function(){return!bt.overwriteDefinition&&dt.call(this,ft)?Tt:(pt.value=ct.call(Tt,bt.resolveContext?bt.resolveContext(this):this),lt(this,ft,pt),this[ft])},ht},_e.exports=function(ft){var pt=st(arguments[1]);return nt(pt.resolveContext)&&it(pt.resolveContext),at(ft,function(bt,Tt){return ut(Tt,bt,pt)})}},function(_e,tt,et){var nt=et(204),rt=et(55);_e.exports=function(it){return rt(it)?it:nt(it,"Cannot use %v",arguments[1])}},function(_e,tt,et){var nt=et(55),rt=et(126),it=Object.prototype.toString;_e.exports=function(ot){if(!nt(ot))return null;if(rt(ot)){var st=ot.toString;if(typeof st!="function"||st===it)return null}try{return""+ot}catch{return null}}},function(_e,tt,et){var nt=et(438),rt=/[\n\r\u2028\u2029]/g;_e.exports=function(it){var ot=nt(it);return ot===null?"<Non-coercible to string value>":(ot.length>100&&(ot=ot.slice(0,99)+""),ot=ot.replace(rt,function(st){switch(st){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),ot)}},function(_e,tt,et){_e.exports=function(nt){try{return nt.toString()}catch{try{return String(nt)}catch{return null}}}},function(_e,tt,et){var nt=et(204),rt=et(198);_e.exports=function(it){return rt(it)?it:nt(it,"%v is not a plain function",arguments[1])}},function(_e,tt,et){var nt=et(441),rt=et(127),it=et(31);_e.exports=function(ot){var st=Object(it(ot)),at=arguments[1],ct=Object(arguments[2]);if(st!==ot&&!at)return st;var lt={};return at?nt(at,function(dt){(ct.ensure||dt in ot)&&(lt[dt]=ot[dt])}):rt(lt,ot),lt}},function(_e,tt,et){_e.exports=et(442)()?Array.from:et(443)},function(_e,tt,et){_e.exports=function(){var nt=Array.from,rt,it;return typeof nt!="function"?!1:(rt=["raz","dwa"],it=nt(rt),!!(it&&it!==rt&&it[1]==="dwa"))}},function(_e,tt,et){var nt=et(44).iterator,rt=et(89),it=et(444),ot=et(445),st=et(68),at=et(31),ct=et(43),lt=et(90),dt=Array.isArray,ut=Function.prototype.call,ft={configurable:!0,enumerable:!0,writable:!0,value:null},pt=Object.defineProperty;_e.exports=function(bt){var Tt=arguments[1],ht=arguments[2],gt,vt,Ct,It,Zt,Wt,kt,Nt,Lt,Mt;if(bt=Object(at(bt)),ct(Tt)&&st(Tt),!this||this===Array||!it(this)){if(!Tt){if(rt(bt))return Zt=bt.length,Zt!==1?Array.apply(null,bt):(It=new Array(1),It[0]=bt[0],It);if(dt(bt)){for(It=new Array(Zt=bt.length),vt=0;vt<Zt;++vt)It[vt]=bt[vt];return It}}It=[]}else gt=this;if(!dt(bt)){if((Lt=bt[nt])!==void 0){for(kt=st(Lt).call(bt),gt&&(It=new gt),Nt=kt.next(),vt=0;!Nt.done;)Mt=Tt?ut.call(Tt,ht,Nt.value,vt):Nt.value,gt?(ft.value=Mt,pt(It,vt,ft)):It[vt]=Mt,Nt=kt.next(),++vt;Zt=vt}else if(lt(bt)){for(Zt=bt.length,gt&&(It=new gt),vt=0,Ct=0;vt<Zt;++vt)Mt=bt[vt],vt+1<Zt&&(Wt=Mt.charCodeAt(0),Wt>=55296&&Wt<=56319&&(Mt+=bt[++vt])),Mt=Tt?ut.call(Tt,ht,Mt,Ct):Mt,gt?(ft.value=Mt,pt(It,Ct,ft)):It[Ct]=Mt,++Ct;Zt=Ct}}if(Zt===void 0)for(Zt=ot(bt.length),gt&&(It=new gt(Zt)),vt=0;vt<Zt;++vt)Mt=Tt?ut.call(Tt,ht,bt[vt],vt):bt[vt],gt?(ft.value=Mt,pt(It,vt,ft)):It[vt]=Mt;return gt&&(ft.value=null,It.length=Zt),It}},function(_e,tt,et){var nt=Object.prototype.toString,rt=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);_e.exports=function(it){return typeof it=="function"&&rt(nt.call(it))}},function(_e,tt,et){var nt=et(446),rt=Math.max;_e.exports=function(it){return rt(0,nt(it))}},function(_e,tt,et){var nt=et(447),rt=Math.abs,it=Math.floor;_e.exports=function(ot){return isNaN(ot)?0:(ot=Number(ot),ot===0||!isFinite(ot)?ot:nt(ot)*it(rt(ot)))}},function(_e,tt,et){_e.exports=et(448)()?Math.sign:et(449)},function(_e,tt,et){_e.exports=function(){var nt=Math.sign;return typeof nt!="function"?!1:nt(10)===1&&nt(-20)===-1}},function(_e,tt,et){_e.exports=function(nt){return nt=Number(nt),isNaN(nt)||nt===0?nt:nt>0?1:-1}},function(_e,tt,et){var nt=et(68),rt=et(451),it=Function.prototype.call;_e.exports=function(ot,st){var at={},ct=arguments[2];return nt(st),rt(ot,function(lt,dt,ut,ft){at[dt]=it.call(st,ct,lt,dt,ut,ft)}),at}},function(_e,tt,et){_e.exports=et(452)("forEach")},function(_e,tt,et){var nt=et(68),rt=et(31),it=Function.prototype.bind,ot=Function.prototype.call,st=Object.keys,at=Object.prototype.propertyIsEnumerable;_e.exports=function(ct,lt){return function(dt,ut){var ft,pt=arguments[2],bt=arguments[3];return dt=Object(rt(dt)),nt(ut),ft=st(dt),bt&&ft.sort(typeof bt=="function"?it.call(bt,dt):void 0),typeof ct!="function"&&(ct=ft[ct]),ot.call(ct,ft,function(Tt,ht){return at.call(dt,Tt)?ot.call(ut,pt,dt[Tt],Tt,dt,ht):lt})}}},function(_e,tt,et){var nt=et(125),rt=et(32),it=et(44),ot=et(203),st=Object.defineProperty,at;at=_e.exports=function(ct){if(!(this instanceof at))throw new TypeError("Constructor requires 'new'");ct=String(ct),ot.call(this,ct),st(this,"__length__",rt("",ct.length))},nt&&nt(at,ot),delete at.prototype.constructor,at.prototype=Object.create(ot.prototype,{_next:rt(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:rt(function(ct){var lt=this.__list__[ct],dt;return this.__nextIndex__===this.__length__?lt:(dt=lt.charCodeAt(0),dt>=55296&&dt<=56319?lt+this.__list__[this.__nextIndex__++]:lt)})}),st(at.prototype,it.toStringTag,rt("c","String Iterator"))},function(_e,tt,et){var nt=et(455);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not iterable");return rt}},function(_e,tt,et){var nt=et(89),rt=et(43),it=et(90),ot=et(44).iterator,st=Array.isArray;_e.exports=function(at){return rt(at)?st(at)||it(at)||nt(at)?!0:typeof at[ot]=="function":!1}},function(_e,tt,et){var nt=et(89),rt=et(68),it=et(90),ot=et(201),st=Array.isArray,at=Function.prototype.call,ct=Array.prototype.some;_e.exports=function(lt,dt){var ut,ft=arguments[2],pt,bt,Tt,ht,gt,vt,Ct;if(st(lt)||nt(lt)?ut="array":it(lt)?ut="string":lt=ot(lt),rt(dt),bt=function(){Tt=!0},ut==="array"){ct.call(lt,function(It){return at.call(dt,ft,It,bt),Tt});return}if(ut==="string"){for(gt=lt.length,ht=0;ht<gt&&(vt=lt[ht],ht+1<gt&&(Ct=vt.charCodeAt(0),Ct>=55296&&Ct<=56319&&(vt+=lt[++ht])),at.call(dt,ft,vt,bt),!Tt);++ht);return}for(pt=lt.next();!pt.done;){if(at.call(dt,ft,pt.value,bt),Tt)return;pt=lt.next()}}},function(_e,tt,et){_e.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},function(_e,tt,et){var nt=et(92),rt=et(93),it=et(130),ot=et(33),st=et(66),at=et(94),ct=Math.min;function lt(dt,ut,ft){for(var pt=ft?it:rt,bt=dt[0].length,Tt=dt.length,ht=Tt,gt=Array(Tt),vt=1/0,Ct=[];ht--;){var It=dt[ht];ht&&ut&&(It=ot(It,st(ut))),vt=ct(It.length,vt),gt[ht]=!ft&&(ut||bt>=120&&It.length>=120)?new nt(ht&&It):void 0}It=dt[0];var Zt=-1,Wt=gt[0];e:for(;++Zt<bt&&Ct.length<vt;){var kt=It[Zt],Nt=ut?ut(kt):kt;if(kt=ft||kt!==0?kt:0,!(Wt?at(Wt,Nt):pt(Ct,Nt,ft))){for(ht=Tt;--ht;){var Lt=gt[ht];if(!(Lt?at(Lt,Nt):pt(dt[ht],Nt,ft)))continue e}Wt&&Wt.push(Nt),Ct.push(kt)}}return Ct}_e.exports=lt},function(_e,tt){var et="__lodash_hash_undefined__";function nt(rt){return this.__data__.set(rt,et),this}_e.exports=nt},function(_e,tt){function et(nt){return this.__data__.has(nt)}_e.exports=et},function(_e,tt,et){var nt=et(205),rt=et(462),it=et(463);function ot(st,at,ct){return at===at?it(st,at,ct):nt(st,rt,ct)}_e.exports=ot},function(_e,tt){function et(nt){return nt!==nt}_e.exports=et},function(_e,tt){function et(nt,rt,it){for(var ot=it-1,st=nt.length;++ot<st;)if(nt[ot]===rt)return ot;return-1}_e.exports=et},function(_e,tt,et){var nt=et(131);function rt(it){return nt(it)?it:[]}_e.exports=rt},function(_e,tt,et){(function(nt){var rt=et(19),it=et(207),ot=et(466),st=et(213),at=et(132);function ct(dt){var ut=new ot(dt),ft=it(ot.prototype.request,ut);return rt.extend(ft,ot.prototype,ut),rt.extend(ft,ut),ft}var lt=ct(at);lt.Axios=ot,lt.create=function(ut){return ct(st(lt.defaults,ut))},lt.Cancel=et(214),lt.CancelToken=et(480),lt.isCancel=et(212),lt.all=function(ut){return nt.all(ut)},lt.spread=et(481),lt.isAxiosError=et(482),_e.exports=lt,_e.exports.default=lt}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(19),it=et(208),ot=et(467),st=et(468),at=et(213),ct=et(478),lt=ct.validators;function dt(ut){this.defaults=ut,this.interceptors={request:new ot,response:new ot}}dt.prototype.request=function(ft){typeof ft=="string"?(ft=arguments[1]||{},ft.url=arguments[0]):ft=ft||{},ft=at(this.defaults,ft),ft.method?ft.method=ft.method.toLowerCase():this.defaults.method?ft.method=this.defaults.method.toLowerCase():ft.method="get";var pt=ft.transitional;pt!==void 0&&ct.assertOptions(pt,{silentJSONParsing:lt.transitional(lt.boolean,"1.0.0"),forcedJSONParsing:lt.transitional(lt.boolean,"1.0.0"),clarifyTimeoutError:lt.transitional(lt.boolean,"1.0.0")},!1);var bt=[],Tt=!0;this.interceptors.request.forEach(function(kt){typeof kt.runWhen=="function"&&kt.runWhen(ft)===!1||(Tt=Tt&&kt.synchronous,bt.unshift(kt.fulfilled,kt.rejected))});var ht=[];this.interceptors.response.forEach(function(kt){ht.push(kt.fulfilled,kt.rejected)});var gt;if(!Tt){var vt=[st,void 0];for(Array.prototype.unshift.apply(vt,bt),vt=vt.concat(ht),gt=nt.resolve(ft);vt.length;)gt=gt.then(vt.shift(),vt.shift());return gt}for(var Ct=ft;bt.length;){var It=bt.shift(),Zt=bt.shift();try{Ct=It(Ct)}catch(Wt){Zt(Wt);break}}try{gt=st(Ct)}catch(Wt){return nt.reject(Wt)}for(;ht.length;)gt=gt.then(ht.shift(),ht.shift());return gt},dt.prototype.getUri=function(ft){return ft=at(this.defaults,ft),it(ft.url,ft.params,ft.paramsSerializer).replace(/^\?/,"")},rt.forEach(["delete","get","head","options"],function(ft){dt.prototype[ft]=function(pt,bt){return this.request(at(bt||{},{method:ft,url:pt,data:(bt||{}).data}))}}),rt.forEach(["post","put","patch"],function(ft){dt.prototype[ft]=function(pt,bt,Tt){return this.request(at(Tt||{},{method:ft,url:pt,data:bt}))}}),_e.exports=dt}).call(this,et(0))},function(_e,tt,et){var nt=et(19);function rt(){this.handlers=[]}rt.prototype.use=function(ot,st,at){return this.handlers.push({fulfilled:ot,rejected:st,synchronous:at?at.synchronous:!1,runWhen:at?at.runWhen:null}),this.handlers.length-1},rt.prototype.eject=function(ot){this.handlers[ot]&&(this.handlers[ot]=null)},rt.prototype.forEach=function(ot){nt.forEach(this.handlers,function(at){at!==null&&ot(at)})},_e.exports=rt},function(_e,tt,et){(function(nt){var rt=et(19),it=et(469),ot=et(212),st=et(132);function at(ct){ct.cancelToken&&ct.cancelToken.throwIfRequested()}_e.exports=function(lt){at(lt),lt.headers=lt.headers||{},lt.data=it.call(lt,lt.data,lt.headers,lt.transformRequest),lt.headers=rt.merge(lt.headers.common||{},lt.headers[lt.method]||{},lt.headers),rt.forEach(["delete","get","head","post","put","patch","common"],function(ft){delete lt.headers[ft]});var dt=lt.adapter||st.adapter;return dt(lt).then(function(ft){return at(lt),ft.data=it.call(lt,ft.data,ft.headers,lt.transformResponse),ft},function(ft){return ot(ft)||(at(lt),ft&&ft.response&&(ft.response.data=it.call(lt,ft.response.data,ft.response.headers,lt.transformResponse))),nt.reject(ft)})}}).call(this,et(0))},function(_e,tt,et){var nt=et(19),rt=et(132);_e.exports=function(ot,st,at){var ct=this||rt;return nt.forEach(at,function(dt){ot=dt.call(ct,ot,st)}),ot}},function(_e,tt,et){var nt=et(19);_e.exports=function(it,ot){nt.forEach(it,function(at,ct){ct!==ot&&ct.toUpperCase()===ot.toUpperCase()&&(it[ot]=at,delete it[ct])})}},function(_e,tt,et){var nt=et(211);_e.exports=function(it,ot,st){var at=st.config.validateStatus;!st.status||!at||at(st.status)?it(st):ot(nt("Request failed with status code "+st.status,st.config,null,st.request,st))}},function(_e,tt,et){var nt=et(19);_e.exports=nt.isStandardBrowserEnv()?function(){return{write:function(ot,st,at,ct,lt,dt){var ut=[];ut.push(ot+"="+encodeURIComponent(st)),nt.isNumber(at)&&ut.push("expires="+new Date(at).toGMTString()),nt.isString(ct)&&ut.push("path="+ct),nt.isString(lt)&&ut.push("domain="+lt),dt===!0&&ut.push("secure"),document.cookie=ut.join("; ")},read:function(ot){var st=document.cookie.match(new RegExp("(^|;\\s*)("+ot+")=([^;]*)"));return st?decodeURIComponent(st[3]):null},remove:function(ot){this.write(ot,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(_e,tt,et){var nt=et(474),rt=et(475);_e.exports=function(ot,st){return ot&&!nt(st)?rt(ot,st):st}},function(_e,tt,et){_e.exports=function(rt){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(rt)}},function(_e,tt,et){_e.exports=function(rt,it){return it?rt.replace(/\/+$/,"")+"/"+it.replace(/^\/+/,""):rt}},function(_e,tt,et){var nt=et(19),rt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];_e.exports=function(ot){var st={},at,ct,lt;return ot&&nt.forEach(ot.split(`
`),function(ut){if(lt=ut.indexOf(":"),at=nt.trim(ut.substr(0,lt)).toLowerCase(),ct=nt.trim(ut.substr(lt+1)),at){if(st[at]&&rt.indexOf(at)>=0)return;at==="set-cookie"?st[at]=(st[at]?st[at]:[]).concat([ct]):st[at]=st[at]?st[at]+", "+ct:ct}}),st}},function(_e,tt,et){var nt=et(19);_e.exports=nt.isStandardBrowserEnv()?function(){var it=/(msie|trident)/i.test(navigator.userAgent),ot=document.createElement("a"),st;function at(ct){var lt=ct;return it&&(ot.setAttribute("href",lt),lt=ot.href),ot.setAttribute("href",lt),{href:ot.href,protocol:ot.protocol?ot.protocol.replace(/:$/,""):"",host:ot.host,search:ot.search?ot.search.replace(/^\?/,""):"",hash:ot.hash?ot.hash.replace(/^#/,""):"",hostname:ot.hostname,port:ot.port,pathname:ot.pathname.charAt(0)==="/"?ot.pathname:"/"+ot.pathname}}return st=at(window.location.href),function(lt){var dt=nt.isString(lt)?at(lt):lt;return dt.protocol===st.protocol&&dt.host===st.host}}():function(){return function(){return!0}}()},function(_e,tt,et){var nt=et(479),rt={};["object","boolean","number","function","string","symbol"].forEach(function(ct,lt){rt[ct]=function(ut){return typeof ut===ct||"a"+(lt<1?"n ":" ")+ct}});var it={},ot=nt.version.split(".");function st(ct,lt){for(var dt=lt?lt.split("."):ot,ut=ct.split("."),ft=0;ft<3;ft++){if(dt[ft]>ut[ft])return!0;if(dt[ft]<ut[ft])return!1}return!1}rt.transitional=function(lt,dt,ut){var ft=dt&&st(dt);function pt(bt,Tt){return"[Axios v"+nt.version+"] Transitional option '"+bt+"'"+Tt+(ut?". "+ut:"")}return function(bt,Tt,ht){if(lt===!1)throw new Error(pt(Tt," has been removed in "+dt));return ft&&!it[Tt]&&(it[Tt]=!0,console.warn(pt(Tt," has been deprecated since v"+dt+" and will be removed in the near future"))),lt?lt(bt,Tt,ht):!0}};function at(ct,lt,dt){if(typeof ct!="object")throw new TypeError("options must be an object");for(var ut=Object.keys(ct),ft=ut.length;ft-- >0;){var pt=ut[ft],bt=lt[pt];if(bt){var Tt=ct[pt],ht=Tt===void 0||bt(Tt,pt,ct);if(ht!==!0)throw new TypeError("option "+pt+" must be "+ht);continue}if(dt!==!0)throw Error("Unknown option "+pt)}}_e.exports={isOlderVersion:st,assertOptions:at,validators:rt}},function(_e){_e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(_e,tt,et){(function(nt){var rt=et(214);function it(ot){if(typeof ot!="function")throw new TypeError("executor must be a function.");var st;this.promise=new nt(function(lt){st=lt});var at=this;ot(function(lt){at.reason||(at.reason=new rt(lt),st(at.reason))})}it.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},it.source=function(){var st,at=new it(function(lt){st=lt});return{token:at,cancel:st}},_e.exports=it}).call(this,et(0))},function(_e,tt,et){_e.exports=function(rt){return function(ot){return rt.apply(null,ot)}}},function(_e,tt,et){_e.exports=function(rt){return typeof rt=="object"&&rt.isAxiosError===!0}},function(_e,tt,et){var nt=et(215),rt=nt("pick",et(47));rt.placeholder=et(133),_e.exports=rt},function(_e,tt,et){var nt=et(485),rt=et(133),it=Array.prototype.push;function ot(ft,pt){return pt==2?function(bt,Tt){return ft.apply(void 0,arguments)}:function(bt){return ft.apply(void 0,arguments)}}function st(ft,pt){return pt==2?function(bt,Tt){return ft(bt,Tt)}:function(bt){return ft(bt)}}function at(ft){for(var pt=ft?ft.length:0,bt=Array(pt);pt--;)bt[pt]=ft[pt];return bt}function ct(ft){return function(pt){return ft({},pt)}}function lt(ft,pt){return function(){for(var bt=arguments.length,Tt=bt-1,ht=Array(bt);bt--;)ht[bt]=arguments[bt];var gt=ht[pt],vt=ht.slice(0,pt);return gt&&it.apply(vt,gt),pt!=Tt&&it.apply(vt,ht.slice(pt+1)),ft.apply(this,vt)}}function dt(ft,pt){return function(){var bt=arguments.length;if(bt){for(var Tt=Array(bt);bt--;)Tt[bt]=arguments[bt];var ht=Tt[0]=pt.apply(void 0,Tt);return ft.apply(void 0,Tt),ht}}}function ut(ft,pt,bt,Tt){var ht=typeof pt=="function",gt=pt===Object(pt);if(gt&&(Tt=bt,bt=pt,pt=void 0),bt==null)throw new TypeError;Tt||(Tt={});var vt={cap:"cap"in Tt?Tt.cap:!0,curry:"curry"in Tt?Tt.curry:!0,fixed:"fixed"in Tt?Tt.fixed:!0,immutable:"immutable"in Tt?Tt.immutable:!0,rearg:"rearg"in Tt?Tt.rearg:!0},Ct=ht?bt:rt,It="curry"in Tt&&Tt.curry,Zt="fixed"in Tt&&Tt.fixed,Wt="rearg"in Tt&&Tt.rearg,kt=ht?bt.runInContext():void 0,Nt=ht?bt:{ary:ft.ary,assign:ft.assign,clone:ft.clone,curry:ft.curry,forEach:ft.forEach,isArray:ft.isArray,isError:ft.isError,isFunction:ft.isFunction,isWeakMap:ft.isWeakMap,iteratee:ft.iteratee,keys:ft.keys,rearg:ft.rearg,toInteger:ft.toInteger,toPath:ft.toPath},Lt=Nt.ary,Mt=Nt.assign,tn=Nt.clone,$t=Nt.curry,Ht=Nt.forEach,rn=Nt.isArray,ln=Nt.isError,mn=Nt.isFunction,on=Nt.isWeakMap,yn=Nt.keys,hn=Nt.rearg,un=Nt.toInteger,dn=Nt.toPath,Nn=yn(nt.aryMethod),Wn={castArray:function(Tr){return function(){var wr=arguments[0];return rn(wr)?Tr(at(wr)):Tr.apply(void 0,arguments)}},iteratee:function(Tr){return function(){var wr=arguments[0],Bn=arguments[1],Gn=Tr(wr,Bn),lr=Gn.length;return vt.cap&&typeof Bn=="number"?(Bn=Bn>2?Bn-2:1,lr&&lr<=Bn?Gn:st(Gn,Bn)):Gn}},mixin:function(Tr){return function(wr){var Bn=this;if(!mn(Bn))return Tr(Bn,Object(wr));var Gn=[];return Ht(yn(wr),function(lr){mn(wr[lr])&&Gn.push([lr,Bn.prototype[lr]])}),Tr(Bn,Object(wr)),Ht(Gn,function(lr){var Vr=lr[1];mn(Vr)?Bn.prototype[lr[0]]=Vr:delete Bn.prototype[lr[0]]}),Bn}},nthArg:function(Tr){return function(wr){var Bn=wr<0?1:un(wr)+1;return $t(Tr(wr),Bn)}},rearg:function(Tr){return function(wr,Bn){var Gn=Bn?Bn.length:0;return $t(Tr(wr,Bn),Gn)}},runInContext:function(Tr){return function(wr){return ut(ft,Tr(wr),Tt)}}};function pn(Tr,wr){if(vt.cap){var Bn=nt.iterateeRearg[Tr];if(Bn)return vr(wr,Bn);var Gn=!ht&&nt.iterateeAry[Tr];if(Gn)return Sr(wr,Gn)}return wr}function Rn(Tr,wr,Bn){return It||vt.curry&&Bn>1?$t(wr,Bn):wr}function xn(Tr,wr,Bn){if(vt.fixed&&(Zt||!nt.skipFixed[Tr])){var Gn=nt.methodSpread[Tr],lr=Gn&&Gn.start;return lr===void 0?Lt(wr,Bn):lt(wr,lr)}return wr}function Jn(Tr,wr,Bn){return vt.rearg&&Bn>1&&(Wt||!nt.skipRearg[Tr])?hn(wr,nt.methodRearg[Tr]||nt.aryRearg[Bn]):wr}function cr(Tr,wr){wr=dn(wr);for(var Bn=-1,Gn=wr.length,lr=Gn-1,Vr=tn(Object(Tr)),oo=Vr;oo!=null&&++Bn<Gn;){var Yn=wr[Bn],yr=oo[Yn];yr!=null&&!(mn(yr)||ln(yr)||on(yr))&&(oo[Yn]=tn(Bn==lr?yr:Object(yr))),oo=oo[Yn]}return Vr}function er(Tr){return Ur.runInContext.convert(Tr)(void 0)}function _n(Tr,wr){var Bn=nt.aliasToReal[Tr]||Tr,Gn=nt.remap[Bn]||Bn,lr=Tt;return function(Vr){var oo=ht?kt:Nt,Yn=ht?kt[Gn]:wr,yr=Mt(Mt({},lr),Vr);return ut(oo,Bn,Yn,yr)}}function Sr(Tr,wr){return Gr(Tr,function(Bn){return typeof Bn=="function"?st(Bn,wr):Bn})}function vr(Tr,wr){return Gr(Tr,function(Bn){var Gn=wr.length;return ot(hn(st(Bn,Gn),wr),Gn)})}function Gr(Tr,wr){return function(){var Bn=arguments.length;if(!Bn)return Tr();for(var Gn=Array(Bn);Bn--;)Gn[Bn]=arguments[Bn];var lr=vt.rearg?0:Bn-1;return Gn[lr]=wr(Gn[lr]),Tr.apply(void 0,Gn)}}function Lr(Tr,wr,Bn){var Gn,lr=nt.aliasToReal[Tr]||Tr,Vr=wr,oo=Wn[lr];return oo?Vr=oo(wr):vt.immutable&&(nt.mutate.array[lr]?Vr=dt(wr,at):nt.mutate.object[lr]?Vr=dt(wr,ct(wr)):nt.mutate.set[lr]&&(Vr=dt(wr,cr))),Ht(Nn,function(Yn){return Ht(nt.aryMethod[Yn],function(yr){if(lr==yr){var Ar=nt.methodSpread[lr],so=Ar&&Ar.afterRearg;return Gn=so?xn(lr,Jn(lr,Vr,Yn),Yn):Jn(lr,xn(lr,Vr,Yn),Yn),Gn=pn(lr,Gn),Gn=Rn(lr,Gn,Yn),!1}}),!Gn}),Gn||(Gn=Vr),Gn==wr&&(Gn=It?$t(Gn,1):function(){return wr.apply(this,arguments)}),Gn.convert=_n(lr,wr),Gn.placeholder=wr.placeholder=Bn,Gn}if(!gt)return Lr(pt,bt,Ct);var Ur=bt,co=[];return Ht(Nn,function(Tr){Ht(nt.aryMethod[Tr],function(wr){var Bn=Ur[nt.remap[wr]||wr];Bn&&co.push([wr,Lr(wr,Bn,Ur)])})}),Ht(yn(Ur),function(Tr){var wr=Ur[Tr];if(typeof wr=="function"){for(var Bn=co.length;Bn--;)if(co[Bn][0]==Tr)return;wr.convert=_n(Tr,wr),co.push([Tr,wr])}}),Ht(co,function(Tr){Ur[Tr[0]]=Tr[1]}),Ur.convert=er,Ur.placeholder=Ur,Ht(yn(Ur),function(Tr){Ht(nt.realToAlias[Tr]||[],function(wr){Ur[wr]=Ur[Tr]})}),Ur}_e.exports=ut},function(_e,tt){tt.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},tt.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},tt.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},tt.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},tt.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},tt.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},tt.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},tt.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},tt.realToAlias=function(){var et=Object.prototype.hasOwnProperty,nt=tt.aliasToReal,rt={};for(var it in nt){var ot=nt[it];et.call(rt,ot)?rt[ot].push(it):rt[ot]=[it]}return rt}(),tt.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},tt.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},tt.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(_e,tt,et){_e.exports={ary:et(487),assign:et(176),clone:et(37),curry:et(505),forEach:et(113),isArray:et(12),isError:et(506),isFunction:et(16),isWeakMap:et(507),iteratee:et(508),keys:et(116),rearg:et(523),toInteger:et(96),toPath:et(526)}},function(_e,tt,et){var nt=et(134),rt=128;function it(ot,st,at){return st=at?void 0:st,st=ot&&st==null?ot.length:st,nt(ot,rt,void 0,void 0,void 0,void 0,st)}_e.exports=it},function(_e,tt,et){var nt=et(95),rt=et(14),it=1;function ot(st,at,ct){var lt=at&it,dt=nt(st);function ut(){var ft=this&&this!==rt&&this instanceof ut?dt:st;return ft.apply(lt?ct:this,arguments)}return ut}_e.exports=ot},function(_e,tt,et){var nt=et(122),rt=et(95),it=et(218),ot=et(221),st=et(227),at=et(137),ct=et(14);function lt(dt,ut,ft){var pt=rt(dt);function bt(){for(var Tt=arguments.length,ht=Array(Tt),gt=Tt,vt=st(bt);gt--;)ht[gt]=arguments[gt];var Ct=Tt<3&&ht[0]!==vt&&ht[Tt-1]!==vt?[]:at(ht,vt);if(Tt-=Ct.length,Tt<ft)return ot(dt,ut,it,bt.placeholder,void 0,ht,Ct,void 0,void 0,ft-Tt);var It=this&&this!==ct&&this instanceof bt?pt:dt;return nt(It,this,ht)}return bt}_e.exports=lt},function(_e,tt){function et(nt,rt){for(var it=nt.length,ot=0;it--;)nt[it]===rt&&++ot;return ot}_e.exports=et},function(_e,tt,et){var nt=et(135),rt=et(222),it=et(492),ot=et(494);function st(at){var ct=it(at),lt=ot[ct];if(typeof lt!="function"||!(ct in nt.prototype))return!1;if(at===lt)return!0;var dt=rt(lt);return!!dt&&at===dt[0]}_e.exports=st},function(_e,tt,et){var nt=et(493),rt=Object.prototype,it=rt.hasOwnProperty;function ot(st){for(var at=st.name+"",ct=nt[at],lt=it.call(nt,at)?ct.length:0;lt--;){var dt=ct[lt],ut=dt.func;if(ut==null||ut==st)return dt.name}return at}_e.exports=ot},function(_e,tt){var et={};_e.exports=et},function(_e,tt,et){var nt=et(135),rt=et(224),it=et(136),ot=et(12),st=et(17),at=et(495),ct=Object.prototype,lt=ct.hasOwnProperty;function dt(ut){if(st(ut)&&!ot(ut)&&!(ut instanceof nt)){if(ut instanceof rt)return ut;if(lt.call(ut,"__wrapped__"))return at(ut)}return new rt(ut)}dt.prototype=it.prototype,dt.prototype.constructor=dt,_e.exports=dt},function(_e,tt,et){var nt=et(135),rt=et(224),it=et(54);function ot(st){if(st instanceof nt)return st.clone();var at=new rt(st.__wrapped__,st.__chain__);return at.__actions__=it(st.__actions__),at.__index__=st.__index__,at.__values__=st.__values__,at}_e.exports=ot},function(_e,tt){var et=/\{\n\/\* \[wrapped with (.+)\] \*/,nt=/,? & /;function rt(it){var ot=it.match(et);return ot?ot[1].split(nt):[]}_e.exports=rt},function(_e,tt){var et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function nt(rt,it){var ot=it.length;if(!ot)return rt;var st=ot-1;return it[st]=(ot>1?"& ":"")+it[st],it=it.join(ot>2?", ":" "),rt.replace(et,`{
/* [wrapped with `+it+`] */
`)}_e.exports=nt},function(_e,tt,et){var nt=et(113),rt=et(93),it=1,ot=2,st=8,at=16,ct=32,lt=64,dt=128,ut=256,ft=512,pt=[["ary",dt],["bind",it],["bindKey",ot],["curry",st],["curryRight",at],["flip",ft],["partial",ct],["partialRight",lt],["rearg",ut]];function bt(Tt,ht){return nt(pt,function(gt){var vt="_."+gt[0];ht&gt[1]&&!rt(Tt,vt)&&Tt.push(vt)}),Tt.sort()}_e.exports=bt},function(_e,tt,et){var nt=et(54),rt=et(65),it=Math.min;function ot(st,at){for(var ct=st.length,lt=it(at.length,ct),dt=nt(st);lt--;){var ut=at[lt];st[lt]=rt(ut,ct)?dt[ut]:void 0}return st}_e.exports=ot},function(_e,tt,et){var nt=et(122),rt=et(95),it=et(14),ot=1;function st(at,ct,lt,dt){var ut=ct&ot,ft=rt(at);function pt(){for(var bt=-1,Tt=arguments.length,ht=-1,gt=dt.length,vt=Array(gt+Tt),Ct=this&&this!==it&&this instanceof pt?ft:at;++ht<gt;)vt[ht]=dt[ht];for(;Tt--;)vt[ht++]=arguments[++bt];return nt(Ct,ut?lt:this,vt)}return pt}_e.exports=st},function(_e,tt,et){var nt=et(219),rt=et(220),it=et(137),ot="__lodash_placeholder__",st=1,at=2,ct=4,lt=8,dt=128,ut=256,ft=Math.min;function pt(bt,Tt){var ht=bt[1],gt=Tt[1],vt=ht|gt,Ct=vt<(st|at|dt),It=gt==dt&&ht==lt||gt==dt&&ht==ut&&bt[7].length<=Tt[8]||gt==(dt|ut)&&Tt[7].length<=Tt[8]&&ht==lt;if(!(Ct||It))return bt;gt&st&&(bt[2]=Tt[2],vt|=ht&st?0:ct);var Zt=Tt[3];if(Zt){var Wt=bt[3];bt[3]=Wt?nt(Wt,Zt,Tt[4]):Zt,bt[4]=Wt?it(bt[3],ot):Tt[4]}return Zt=Tt[5],Zt&&(Wt=bt[5],bt[5]=Wt?rt(Wt,Zt,Tt[6]):Zt,bt[6]=Wt?it(bt[5],ot):Tt[6]),Zt=Tt[7],Zt&&(bt[7]=Zt),gt&dt&&(bt[8]=bt[8]==null?Tt[8]:ft(bt[8],Tt[8])),bt[9]==null&&(bt[9]=Tt[9]),bt[0]=Tt[0],bt[1]=vt,bt}_e.exports=pt},function(_e,tt,et){var nt=et(228),rt=1/0,it=17976931348623157e292;function ot(st){if(!st)return st===0?st:0;if(st=nt(st),st===rt||st===-rt){var at=st<0?-1:1;return at*it}return st===st?st:0}_e.exports=ot},function(_e,tt,et){var nt=et(504),rt=/^\s+/;function it(ot){return ot&&ot.slice(0,nt(ot)+1).replace(rt,"")}_e.exports=it},function(_e,tt){var et=/\s/;function nt(rt){for(var it=rt.length;it--&&et.test(rt.charAt(it)););return it}_e.exports=nt},function(_e,tt,et){var nt=et(134),rt=8;function it(ot,st,at){st=at?void 0:st;var ct=nt(ot,rt,void 0,void 0,void 0,void 0,void 0,st);return ct.placeholder=it.placeholder,ct}it.placeholder={},_e.exports=it},function(_e,tt,et){var nt=et(29),rt=et(17),it=et(138),ot="[object DOMException]",st="[object Error]";function at(ct){if(!rt(ct))return!1;var lt=nt(ct);return lt==st||lt==ot||typeof ct.message=="string"&&typeof ct.name=="string"&&!it(ct)}_e.exports=at},function(_e,tt,et){var nt=et(41),rt=et(17),it="[object WeakMap]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){var nt=et(77),rt=et(35),it=1;function ot(st){return rt(typeof st=="function"?st:nt(st,it))}_e.exports=ot},function(_e,tt,et){var nt=et(510),rt=et(514),it=et(234);function ot(st){var at=rt(st);return at.length==1&&at[0][2]?it(at[0][0],at[0][1]):function(ct){return ct===st||nt(ct,st,at)}}_e.exports=ot},function(_e,tt,et){var nt=et(78),rt=et(229),it=1,ot=2;function st(at,ct,lt,dt){var ut=lt.length,ft=ut,pt=!dt;if(at==null)return!ft;for(at=Object(at);ut--;){var bt=lt[ut];if(pt&&bt[2]?bt[1]!==at[bt[0]]:!(bt[0]in at))return!1}for(;++ut<ft;){bt=lt[ut];var Tt=bt[0],ht=at[Tt],gt=bt[1];if(pt&&bt[2]){if(ht===void 0&&!(Tt in at))return!1}else{var vt=new nt;if(dt)var Ct=dt(ht,gt,Tt,at,ct,vt);if(!(Ct===void 0?rt(gt,ht,it|ot,dt,vt):Ct))return!1}}return!0}_e.exports=st},function(_e,tt,et){var nt=et(78),rt=et(230),it=et(512),ot=et(513),st=et(41),at=et(12),ct=et(64),lt=et(85),dt=1,ut="[object Arguments]",ft="[object Array]",pt="[object Object]",bt=Object.prototype,Tt=bt.hasOwnProperty;function ht(gt,vt,Ct,It,Zt,Wt){var kt=at(gt),Nt=at(vt),Lt=kt?ft:st(gt),Mt=Nt?ft:st(vt);Lt=Lt==ut?pt:Lt,Mt=Mt==ut?pt:Mt;var tn=Lt==pt,$t=Mt==pt,Ht=Lt==Mt;if(Ht&&ct(gt)){if(!ct(vt))return!1;kt=!0,tn=!1}if(Ht&&!tn)return Wt||(Wt=new nt),kt||lt(gt)?rt(gt,vt,Ct,It,Zt,Wt):it(gt,vt,Lt,Ct,It,Zt,Wt);if(!(Ct&dt)){var rn=tn&&Tt.call(gt,"__wrapped__"),ln=$t&&Tt.call(vt,"__wrapped__");if(rn||ln){var mn=rn?gt.value():gt,on=ln?vt.value():vt;return Wt||(Wt=new nt),Zt(mn,on,Ct,It,Wt)}}return Ht?(Wt||(Wt=new nt),ot(gt,vt,Ct,It,Zt,Wt)):!1}_e.exports=ht},function(_e,tt,et){var nt=et(39),rt=et(187),it=et(52),ot=et(230),st=et(232),at=et(97),ct=1,lt=2,dt="[object Boolean]",ut="[object Date]",ft="[object Error]",pt="[object Map]",bt="[object Number]",Tt="[object RegExp]",ht="[object Set]",gt="[object String]",vt="[object Symbol]",Ct="[object ArrayBuffer]",It="[object DataView]",Zt=nt?nt.prototype:void 0,Wt=Zt?Zt.valueOf:void 0;function kt(Nt,Lt,Mt,tn,$t,Ht,rn){switch(Mt){case It:if(Nt.byteLength!=Lt.byteLength||Nt.byteOffset!=Lt.byteOffset)return!1;Nt=Nt.buffer,Lt=Lt.buffer;case Ct:return!(Nt.byteLength!=Lt.byteLength||!Ht(new rt(Nt),new rt(Lt)));case dt:case ut:case bt:return it(+Nt,+Lt);case ft:return Nt.name==Lt.name&&Nt.message==Lt.message;case Tt:case gt:return Nt==Lt+"";case pt:var ln=st;case ht:var mn=tn&ct;if(ln||(ln=at),Nt.size!=Lt.size&&!mn)return!1;var on=rn.get(Nt);if(on)return on==Lt;tn|=lt,rn.set(Nt,Lt);var yn=ot(ln(Nt),ln(Lt),tn,$t,Ht,rn);return rn.delete(Nt),yn;case vt:if(Wt)return Wt.call(Nt)==Wt.call(Lt)}return!1}_e.exports=kt},function(_e,tt,et){var nt=et(182),rt=1,it=Object.prototype,ot=it.hasOwnProperty;function st(at,ct,lt,dt,ut,ft){var pt=lt&rt,bt=nt(at),Tt=bt.length,ht=nt(ct),gt=ht.length;if(Tt!=gt&&!pt)return!1;for(var vt=Tt;vt--;){var Ct=bt[vt];if(!(pt?Ct in ct:ot.call(ct,Ct)))return!1}var It=ft.get(at),Zt=ft.get(ct);if(It&&Zt)return It==ct&&Zt==at;var Wt=!0;ft.set(at,ct),ft.set(ct,at);for(var kt=pt;++vt<Tt;){Ct=bt[vt];var Nt=at[Ct],Lt=ct[Ct];if(dt)var Mt=pt?dt(Lt,Nt,Ct,ct,at,ft):dt(Nt,Lt,Ct,at,ct,ft);if(!(Mt===void 0?Nt===Lt||ut(Nt,Lt,lt,dt,ft):Mt)){Wt=!1;break}kt||(kt=Ct=="constructor")}if(Wt&&!kt){var tn=at.constructor,$t=ct.constructor;tn!=$t&&"constructor"in at&&"constructor"in ct&&!(typeof tn=="function"&&tn instanceof tn&&typeof $t=="function"&&$t instanceof $t)&&(Wt=!1)}return ft.delete(at),ft.delete(ct),Wt}_e.exports=st},function(_e,tt,et){var nt=et(233),rt=et(30);function it(ot){for(var st=rt(ot),at=st.length;at--;){var ct=st[at],lt=ot[ct];st[at]=[ct,lt,nt(lt)]}return st}_e.exports=it},function(_e,tt,et){var nt=et(229),rt=et(57),it=et(236),ot=et(139),st=et(233),at=et(234),ct=et(46),lt=1,dt=2;function ut(ft,pt){return ot(ft)&&st(pt)?at(ct(ft),pt):function(bt){var Tt=rt(bt,ft);return Tt===void 0&&Tt===pt?it(bt,ft):nt(pt,Tt,lt|dt)}}_e.exports=ut},function(_e,tt,et){var nt=et(190),rt=500;function it(ot){var st=nt(ot,function(ct){return at.size===rt&&at.clear(),ct}),at=st.cache;return st}_e.exports=it},function(_e,tt,et){var nt=et(39),rt=et(33),it=et(12),ot=et(69),st=1/0,at=nt?nt.prototype:void 0,ct=at?at.toString:void 0;function lt(dt){if(typeof dt=="string")return dt;if(it(dt))return rt(dt,lt)+"";if(ot(dt))return ct?ct.call(dt):"";var ut=dt+"";return ut=="0"&&1/dt==-st?"-0":ut}_e.exports=lt},function(_e,tt){function et(nt,rt){return nt!=null&&rt in Object(nt)}_e.exports=et},function(_e,tt,et){var nt=et(58),rt=et(63),it=et(12),ot=et(65),st=et(114),at=et(46);function ct(lt,dt,ut){dt=nt(dt,lt);for(var ft=-1,pt=dt.length,bt=!1;++ft<pt;){var Tt=at(dt[ft]);if(!(bt=lt!=null&&ut(lt,Tt)))break;lt=lt[Tt]}return bt||++ft!=pt?bt:(pt=lt==null?0:lt.length,!!pt&&st(pt)&&ot(Tt,pt)&&(it(lt)||rt(lt)))}_e.exports=ct},function(_e,tt,et){var nt=et(521),rt=et(522),it=et(139),ot=et(46);function st(at){return it(at)?nt(ot(at)):rt(at)}_e.exports=st},function(_e,tt){function et(nt){return function(rt){return rt==null?void 0:rt[nt]}}_e.exports=et},function(_e,tt,et){var nt=et(98);function rt(it){return function(ot){return nt(ot,it)}}_e.exports=rt},function(_e,tt,et){var nt=et(134),rt=et(140),it=256,ot=rt(function(st,at){return nt(st,it,void 0,void 0,void 0,at)});_e.exports=ot},function(_e,tt,et){var nt=et(237);function rt(it){var ot=it==null?0:it.length;return ot?nt(it,1):[]}_e.exports=rt},function(_e,tt,et){var nt=et(39),rt=et(63),it=et(12),ot=nt?nt.isConcatSpreadable:void 0;function st(at){return it(at)||rt(at)||!!(ot&&at&&at[ot])}_e.exports=st},function(_e,tt,et){var nt=et(33),rt=et(54),it=et(12),ot=et(69),st=et(235),at=et(46),ct=et(59);function lt(dt){return it(dt)?nt(dt,at):ot(dt)?[dt]:rt(st(ct(dt)))}_e.exports=lt},function(_e,tt,et){var nt=et(528),rt=et(236);function it(ot,st){return nt(ot,st,function(at,ct){return rt(ot,ct)})}_e.exports=it},function(_e,tt,et){var nt=et(98),rt=et(529),it=et(58);function ot(st,at,ct){for(var lt=-1,dt=at.length,ut={};++lt<dt;){var ft=at[lt],pt=nt(st,ft);ct(pt,ft)&&rt(ut,it(ft,st),pt)}return ut}_e.exports=ot},function(_e,tt,et){var nt=et(83),rt=et(58),it=et(65),ot=et(11),st=et(46);function at(ct,lt,dt,ut){if(!ot(ct))return ct;lt=rt(lt,ct);for(var ft=-1,pt=lt.length,bt=pt-1,Tt=ct;Tt!=null&&++ft<pt;){var ht=st(lt[ft]),gt=dt;if(ht==="__proto__"||ht==="constructor"||ht==="prototype")return ct;if(ft!=bt){var vt=Tt[ht];gt=ut?ut(vt,ht,Tt):void 0,gt===void 0&&(gt=ot(vt)?vt:it(lt[ft+1])?[]:{})}nt(Tt,ht,gt),Tt=Tt[ht]}return ct}_e.exports=at},function(_e,tt,et){var nt=et(215),rt=nt("mapKeys",et(531));rt.placeholder=et(133),_e.exports=rt},function(_e,tt,et){var nt=et(62),rt=et(99),it=et(35);function ot(st,at){var ct={};return at=it(at,3),rt(st,function(lt,dt,ut){nt(ct,at(lt,dt,ut),lt)}),ct}_e.exports=ot},function(_e,tt){function et(nt){return function(rt,it,ot){for(var st=-1,at=Object(rt),ct=ot(rt),lt=ct.length;lt--;){var dt=ct[nt?lt:++st];if(it(at[dt],dt,at)===!1)break}return rt}}_e.exports=et},function(_e,tt,et){(function(nt){var rt;(function(it){tt&&tt.nodeType,nt&&nt.nodeType;var ot=typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal);ot.global===ot||ot.window===ot||ot.self;var st,at=2147483647,ct=36,lt=1,dt=26,ut=38,ft=700,pt=72,bt=128,Tt="-",ht=/^xn--/,gt=/[^\x20-\x7E]/,vt=/[\x2E\u3002\uFF0E\uFF61]/g,Ct={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},It=ct-lt,Zt=Math.floor,Wt=String.fromCharCode;function kt(hn){throw new RangeError(Ct[hn])}function Nt(hn,un){for(var dn=hn.length,Nn=[];dn--;)Nn[dn]=un(hn[dn]);return Nn}function Lt(hn,un){var dn=hn.split("@"),Nn="";dn.length>1&&(Nn=dn[0]+"@",hn=dn[1]),hn=hn.replace(vt,".");var Wn=hn.split("."),pn=Nt(Wn,un).join(".");return Nn+pn}function Mt(hn){for(var un=[],dn=0,Nn=hn.length,Wn,pn;dn<Nn;)Wn=hn.charCodeAt(dn++),Wn>=55296&&Wn<=56319&&dn<Nn?(pn=hn.charCodeAt(dn++),(pn&64512)==56320?un.push(((Wn&1023)<<10)+(pn&1023)+65536):(un.push(Wn),dn--)):un.push(Wn);return un}function tn(hn){return Nt(hn,function(un){var dn="";return un>65535&&(un-=65536,dn+=Wt(un>>>10&1023|55296),un=56320|un&1023),dn+=Wt(un),dn}).join("")}function $t(hn){return hn-48<10?hn-22:hn-65<26?hn-65:hn-97<26?hn-97:ct}function Ht(hn,un){return hn+22+75*(hn<26)-((un!=0)<<5)}function rn(hn,un,dn){var Nn=0;for(hn=dn?Zt(hn/ft):hn>>1,hn+=Zt(hn/un);hn>It*dt>>1;Nn+=ct)hn=Zt(hn/It);return Zt(Nn+(It+1)*hn/(hn+ut))}function ln(hn){var un=[],dn=hn.length,Nn,Wn=0,pn=bt,Rn=pt,xn,Jn,cr,er,_n,Sr,vr,Gr,Lr;for(xn=hn.lastIndexOf(Tt),xn<0&&(xn=0),Jn=0;Jn<xn;++Jn)hn.charCodeAt(Jn)>=128&&kt("not-basic"),un.push(hn.charCodeAt(Jn));for(cr=xn>0?xn+1:0;cr<dn;){for(er=Wn,_n=1,Sr=ct;cr>=dn&&kt("invalid-input"),vr=$t(hn.charCodeAt(cr++)),(vr>=ct||vr>Zt((at-Wn)/_n))&&kt("overflow"),Wn+=vr*_n,Gr=Sr<=Rn?lt:Sr>=Rn+dt?dt:Sr-Rn,!(vr<Gr);Sr+=ct)Lr=ct-Gr,_n>Zt(at/Lr)&&kt("overflow"),_n*=Lr;Nn=un.length+1,Rn=rn(Wn-er,Nn,er==0),Zt(Wn/Nn)>at-pn&&kt("overflow"),pn+=Zt(Wn/Nn),Wn%=Nn,un.splice(Wn++,0,pn)}return tn(un)}function mn(hn){var un,dn,Nn,Wn,pn,Rn,xn,Jn,cr,er,_n,Sr=[],vr,Gr,Lr,Ur;for(hn=Mt(hn),vr=hn.length,un=bt,dn=0,pn=pt,Rn=0;Rn<vr;++Rn)_n=hn[Rn],_n<128&&Sr.push(Wt(_n));for(Nn=Wn=Sr.length,Wn&&Sr.push(Tt);Nn<vr;){for(xn=at,Rn=0;Rn<vr;++Rn)_n=hn[Rn],_n>=un&&_n<xn&&(xn=_n);for(Gr=Nn+1,xn-un>Zt((at-dn)/Gr)&&kt("overflow"),dn+=(xn-un)*Gr,un=xn,Rn=0;Rn<vr;++Rn)if(_n=hn[Rn],_n<un&&++dn>at&&kt("overflow"),_n==un){for(Jn=dn,cr=ct;er=cr<=pn?lt:cr>=pn+dt?dt:cr-pn,!(Jn<er);cr+=ct)Ur=Jn-er,Lr=ct-er,Sr.push(Wt(Ht(er+Ur%Lr,0))),Jn=Zt(Ur/Lr);Sr.push(Wt(Ht(Jn,0))),pn=rn(dn,Gr,Nn==Wn),dn=0,++Nn}++dn,++un}return Sr.join("")}function on(hn){return Lt(hn,function(un){return ht.test(un)?ln(un.slice(4).toLowerCase()):un})}function yn(hn){return Lt(hn,function(un){return gt.test(un)?"xn--"+mn(un):un})}st={version:"1.4.1",ucs2:{decode:Mt,encode:tn},decode:ln,encode:mn,toASCII:yn,toUnicode:on},rt=function(){return st}.call(tt,et,tt,nt),rt!==void 0&&(nt.exports=rt)})()}).call(this,et(84)(_e))},function(_e,tt,et){_e.exports={isString:function(nt){return typeof nt=="string"},isObject:function(nt){return typeof nt=="object"&&nt!==null},isNull:function(nt){return nt===null},isNullOrUndefined:function(nt){return nt==null}}},function(_e,tt,et){tt.decode=tt.parse=et(536),tt.encode=tt.stringify=et(537)},function(_e,tt,et){function nt(it,ot){return Object.prototype.hasOwnProperty.call(it,ot)}_e.exports=function(it,ot,st,at){ot=ot||"&",st=st||"=";var ct={};if(typeof it!="string"||it.length===0)return ct;var lt=/\+/g;it=it.split(ot);var dt=1e3;at&&typeof at.maxKeys=="number"&&(dt=at.maxKeys);var ut=it.length;dt>0&&ut>dt&&(ut=dt);for(var ft=0;ft<ut;++ft){var pt=it[ft].replace(lt,"%20"),bt=pt.indexOf(st),Tt,ht,gt,vt;bt>=0?(Tt=pt.substr(0,bt),ht=pt.substr(bt+1)):(Tt=pt,ht=""),gt=decodeURIComponent(Tt),vt=decodeURIComponent(ht),nt(ct,gt)?rt(ct[gt])?ct[gt].push(vt):ct[gt]=[ct[gt],vt]:ct[gt]=vt}return ct};var rt=Array.isArray||function(it){return Object.prototype.toString.call(it)==="[object Array]"}},function(_e,tt,et){var nt=function(st){switch(typeof st){case"string":return st;case"boolean":return st?"true":"false";case"number":return isFinite(st)?st:"";default:return""}};_e.exports=function(st,at,ct,lt){return at=at||"&",ct=ct||"=",st===null&&(st=void 0),typeof st=="object"?it(ot(st),function(dt){var ut=encodeURIComponent(nt(dt))+ct;return rt(st[dt])?it(st[dt],function(ft){return ut+encodeURIComponent(nt(ft))}).join(at):ut+encodeURIComponent(nt(st[dt]))}).join(at):lt?encodeURIComponent(nt(lt))+ct+encodeURIComponent(nt(st)):""};var rt=Array.isArray||function(st){return Object.prototype.toString.call(st)==="[object Array]"};function it(st,at){if(st.map)return st.map(at);for(var ct=[],lt=0;lt<st.length;lt++)ct.push(at(st[lt],lt));return ct}var ot=Object.keys||function(st){var at=[];for(var ct in st)Object.prototype.hasOwnProperty.call(st,ct)&&at.push(ct);return at}},function(_e,tt,et){var nt=function(){return this||typeof self=="object"&&self}()||Function("return this")(),rt=nt.regeneratorRuntime&&Object.getOwnPropertyNames(nt).indexOf("regeneratorRuntime")>=0,it=rt&&nt.regeneratorRuntime;if(nt.regeneratorRuntime=void 0,_e.exports=et(539),rt)nt.regeneratorRuntime=it;else try{delete nt.regeneratorRuntime}catch{nt.regeneratorRuntime=void 0}},function(_e,tt,et){(function(nt){(function(rt){var it=Object.prototype,ot=it.hasOwnProperty,st,at=typeof Symbol=="function"?Symbol:{},ct=at.iterator||"@@iterator",lt=at.asyncIterator||"@@asyncIterator",dt=at.toStringTag||"@@toStringTag",ut=typeof _e=="object",ft=rt.regeneratorRuntime;if(ft){ut&&(_e.exports=ft);return}ft=rt.regeneratorRuntime=ut?_e.exports:{};function pt(un,dn,Nn,Wn){var pn=dn&&dn.prototype instanceof It?dn:It,Rn=Object.create(pn.prototype),xn=new on(Wn||[]);return Rn._invoke=Ht(un,Nn,xn),Rn}ft.wrap=pt;function bt(un,dn,Nn){try{return{type:"normal",arg:un.call(dn,Nn)}}catch(Wn){return{type:"throw",arg:Wn}}}var Tt="suspendedStart",ht="suspendedYield",gt="executing",vt="completed",Ct={};function It(){}function Zt(){}function Wt(){}var kt={};kt[ct]=function(){return this};var Nt=Object.getPrototypeOf,Lt=Nt&&Nt(Nt(yn([])));Lt&&Lt!==it&&ot.call(Lt,ct)&&(kt=Lt);var Mt=Wt.prototype=It.prototype=Object.create(kt);Zt.prototype=Mt.constructor=Wt,Wt.constructor=Zt,Wt[dt]=Zt.displayName="GeneratorFunction";function tn(un){["next","throw","return"].forEach(function(dn){un[dn]=function(Nn){return this._invoke(dn,Nn)}})}ft.isGeneratorFunction=function(un){var dn=typeof un=="function"&&un.constructor;return dn?dn===Zt||(dn.displayName||dn.name)==="GeneratorFunction":!1},ft.mark=function(un){return Object.setPrototypeOf?Object.setPrototypeOf(un,Wt):(un.__proto__=Wt,dt in un||(un[dt]="GeneratorFunction")),un.prototype=Object.create(Mt),un},ft.awrap=function(un){return{__await:un}};function $t(un){function dn(pn,Rn,xn,Jn){var cr=bt(un[pn],un,Rn);if(cr.type==="throw")Jn(cr.arg);else{var er=cr.arg,_n=er.value;return _n&&typeof _n=="object"&&ot.call(_n,"__await")?nt.resolve(_n.__await).then(function(Sr){dn("next",Sr,xn,Jn)},function(Sr){dn("throw",Sr,xn,Jn)}):nt.resolve(_n).then(function(Sr){er.value=Sr,xn(er)},function(Sr){return dn("throw",Sr,xn,Jn)})}}var Nn;function Wn(pn,Rn){function xn(){return new nt(function(Jn,cr){dn(pn,Rn,Jn,cr)})}return Nn=Nn?Nn.then(xn,xn):xn()}this._invoke=Wn}tn($t.prototype),$t.prototype[lt]=function(){return this},ft.AsyncIterator=$t,ft.async=function(un,dn,Nn,Wn){var pn=new $t(pt(un,dn,Nn,Wn));return ft.isGeneratorFunction(dn)?pn:pn.next().then(function(Rn){return Rn.done?Rn.value:pn.next()})};function Ht(un,dn,Nn){var Wn=Tt;return function(Rn,xn){if(Wn===gt)throw new Error("Generator is already running");if(Wn===vt){if(Rn==="throw")throw xn;return hn()}for(Nn.method=Rn,Nn.arg=xn;;){var Jn=Nn.delegate;if(Jn){var cr=rn(Jn,Nn);if(cr){if(cr===Ct)continue;return cr}}if(Nn.method==="next")Nn.sent=Nn._sent=Nn.arg;else if(Nn.method==="throw"){if(Wn===Tt)throw Wn=vt,Nn.arg;Nn.dispatchException(Nn.arg)}else Nn.method==="return"&&Nn.abrupt("return",Nn.arg);Wn=gt;var er=bt(un,dn,Nn);if(er.type==="normal"){if(Wn=Nn.done?vt:ht,er.arg===Ct)continue;return{value:er.arg,done:Nn.done}}else er.type==="throw"&&(Wn=vt,Nn.method="throw",Nn.arg=er.arg)}}}function rn(un,dn){var Nn=un.iterator[dn.method];if(Nn===st){if(dn.delegate=null,dn.method==="throw"){if(un.iterator.return&&(dn.method="return",dn.arg=st,rn(un,dn),dn.method==="throw"))return Ct;dn.method="throw",dn.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ct}var Wn=bt(Nn,un.iterator,dn.arg);if(Wn.type==="throw")return dn.method="throw",dn.arg=Wn.arg,dn.delegate=null,Ct;var pn=Wn.arg;if(!pn)return dn.method="throw",dn.arg=new TypeError("iterator result is not an object"),dn.delegate=null,Ct;if(pn.done)dn[un.resultName]=pn.value,dn.next=un.nextLoc,dn.method!=="return"&&(dn.method="next",dn.arg=st);else return pn;return dn.delegate=null,Ct}tn(Mt),Mt[dt]="Generator",Mt[ct]=function(){return this},Mt.toString=function(){return"[object Generator]"};function ln(un){var dn={tryLoc:un[0]};1 in un&&(dn.catchLoc=un[1]),2 in un&&(dn.finallyLoc=un[2],dn.afterLoc=un[3]),this.tryEntries.push(dn)}function mn(un){var dn=un.completion||{};dn.type="normal",delete dn.arg,un.completion=dn}function on(un){this.tryEntries=[{tryLoc:"root"}],un.forEach(ln,this),this.reset(!0)}ft.keys=function(un){var dn=[];for(var Nn in un)dn.push(Nn);return dn.reverse(),function Wn(){for(;dn.length;){var pn=dn.pop();if(pn in un)return Wn.value=pn,Wn.done=!1,Wn}return Wn.done=!0,Wn}};function yn(un){if(un){var dn=un[ct];if(dn)return dn.call(un);if(typeof un.next=="function")return un;if(!isNaN(un.length)){var Nn=-1,Wn=function pn(){for(;++Nn<un.length;)if(ot.call(un,Nn))return pn.value=un[Nn],pn.done=!1,pn;return pn.value=st,pn.done=!0,pn};return Wn.next=Wn}}return{next:hn}}ft.values=yn;function hn(){return{value:st,done:!0}}on.prototype={constructor:on,reset:function(un){if(this.prev=0,this.next=0,this.sent=this._sent=st,this.done=!1,this.delegate=null,this.method="next",this.arg=st,this.tryEntries.forEach(mn),!un)for(var dn in this)dn.charAt(0)==="t"&&ot.call(this,dn)&&!isNaN(+dn.slice(1))&&(this[dn]=st)},stop:function(){this.done=!0;var un=this.tryEntries[0],dn=un.completion;if(dn.type==="throw")throw dn.arg;return this.rval},dispatchException:function(un){if(this.done)throw un;var dn=this;function Nn(cr,er){return Rn.type="throw",Rn.arg=un,dn.next=cr,er&&(dn.method="next",dn.arg=st),!!er}for(var Wn=this.tryEntries.length-1;Wn>=0;--Wn){var pn=this.tryEntries[Wn],Rn=pn.completion;if(pn.tryLoc==="root")return Nn("end");if(pn.tryLoc<=this.prev){var xn=ot.call(pn,"catchLoc"),Jn=ot.call(pn,"finallyLoc");if(xn&&Jn){if(this.prev<pn.catchLoc)return Nn(pn.catchLoc,!0);if(this.prev<pn.finallyLoc)return Nn(pn.finallyLoc)}else if(xn){if(this.prev<pn.catchLoc)return Nn(pn.catchLoc,!0)}else if(Jn){if(this.prev<pn.finallyLoc)return Nn(pn.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(un,dn){for(var Nn=this.tryEntries.length-1;Nn>=0;--Nn){var Wn=this.tryEntries[Nn];if(Wn.tryLoc<=this.prev&&ot.call(Wn,"finallyLoc")&&this.prev<Wn.finallyLoc){var pn=Wn;break}}pn&&(un==="break"||un==="continue")&&pn.tryLoc<=dn&&dn<=pn.finallyLoc&&(pn=null);var Rn=pn?pn.completion:{};return Rn.type=un,Rn.arg=dn,pn?(this.method="next",this.next=pn.finallyLoc,Ct):this.complete(Rn)},complete:function(un,dn){if(un.type==="throw")throw un.arg;return un.type==="break"||un.type==="continue"?this.next=un.arg:un.type==="return"?(this.rval=this.arg=un.arg,this.method="return",this.next="end"):un.type==="normal"&&dn&&(this.next=dn),Ct},finish:function(un){for(var dn=this.tryEntries.length-1;dn>=0;--dn){var Nn=this.tryEntries[dn];if(Nn.finallyLoc===un)return this.complete(Nn.completion,Nn.afterLoc),mn(Nn),Ct}},catch:function(un){for(var dn=this.tryEntries.length-1;dn>=0;--dn){var Nn=this.tryEntries[dn];if(Nn.tryLoc===un){var Wn=Nn.completion;if(Wn.type==="throw"){var pn=Wn.arg;mn(Nn)}return pn}}throw new Error("illegal catch attempt")},delegateYield:function(un,dn,Nn){return this.delegate={iterator:yn(un),resultName:dn,nextLoc:Nn},this.method==="next"&&(this.arg=st),Ct}}})(function(){return this||typeof self=="object"&&self}()||Function("return this")())}).call(this,et(0))},function(_e,tt,et){var nt=et(241),rt=et(242),it,ot,st=0,at=0;function ct(lt,dt,ut){var ft=dt&&ut||0,pt=dt||[];lt=lt||{};var bt=lt.node||it,Tt=lt.clockseq!==void 0?lt.clockseq:ot;if(bt==null||Tt==null){var ht=nt();bt==null&&(bt=it=[ht[0]|1,ht[1],ht[2],ht[3],ht[4],ht[5]]),Tt==null&&(Tt=ot=(ht[6]<<8|ht[7])&16383)}var gt=lt.msecs!==void 0?lt.msecs:new Date().getTime(),vt=lt.nsecs!==void 0?lt.nsecs:at+1,Ct=gt-st+(vt-at)/1e4;if(Ct<0&&lt.clockseq===void 0&&(Tt=Tt+1&16383),(Ct<0||gt>st)&&lt.nsecs===void 0&&(vt=0),vt>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");st=gt,at=vt,ot=Tt,gt+=122192928e5;var It=((gt&268435455)*1e4+vt)%4294967296;pt[ft++]=It>>>24&255,pt[ft++]=It>>>16&255,pt[ft++]=It>>>8&255,pt[ft++]=It&255;var Zt=gt/4294967296*1e4&268435455;pt[ft++]=Zt>>>8&255,pt[ft++]=Zt&255,pt[ft++]=Zt>>>24&15|16,pt[ft++]=Zt>>>16&255,pt[ft++]=Tt>>>8|128,pt[ft++]=Tt&255;for(var Wt=0;Wt<6;++Wt)pt[ft+Wt]=bt[Wt];return dt||rt(pt)}_e.exports=ct},function(_e,tt,et){var nt=et(241),rt=et(242);function it(ot,st,at){var ct=st&&at||0;typeof ot=="string"&&(st=ot==="binary"?new Array(16):null,ot=null),ot=ot||{};var lt=ot.random||(ot.rng||nt)();if(lt[6]=lt[6]&15|64,lt[8]=lt[8]&63|128,st)for(var dt=0;dt<16;++dt)st[ct+dt]=lt[dt];return st||rt(lt)}_e.exports=it},function(_e,tt,et){const nt=et(9),rt=et(1)("analytics"),it=et(543),ot=et(15),st=et(243),at=et(100),ct=at.prependProxyToUrlIfNeeded,lt=et(101),dt=lt.getProxyUrl,ut=ot(),ft=new it;_e.exports=function(bt){var Tt=this;let ht=bt.loggingUrl,gt=bt.queue,vt=gt===void 0?ft:gt,Ct=bt.ajax,It=Ct===void 0?st:Ct;this.loggingUrl=ht,this.updateEndPoints=()=>{if(!this.proxyUrl){this.proxyUrl=dt();const Nt=ct(this.loggingUrl,this.proxyUrl);this.loggingUrl=Nt}this.endPoint=`${this.loggingUrl}/logging/ClientEvent`,this.endPointQos=`${this.loggingUrl}/logging/ClientQos`},this.updateEndPoints();const Zt={},Wt=function(Lt,Mt,tn){Mt===void 0&&(Mt=()=>{}),vt.add($t=>{rt.debug("sending analytics:",Tt.loggingUrl,Lt),It.post(tn?Tt.endPointQos:Tt.endPoint,{body:Lt,overrideMimeType:"text/plain",headers:{Accept:"text/plain","Content-Type":"application/json"}},Ht=>{Ht&&rt.debug("Failed to send ClientEvent, moving on to the next item."),Mt(Ht||void 0),$t()})})},kt=(Nt,Lt,Mt)=>{if(!Mt)return!1;const tn=[Mt,Lt,Nt].join("_"),$t=100;return(Zt[tn]||0)>=$t};this.logError=function(Nt,Lt,Mt,tn,$t){tn===void 0&&(tn=null),$t===void 0&&($t={});const Ht=$t,rn=Ht.partnerId;if(kt(Nt,Lt,rn))return;const ln=[rn,Lt,Nt].join("_"),mn=tn;Zt[ln]=typeof Zt[ln]<"u"?Zt[ln]+1:1,Tt.logEvent(nt($t,{action:`${Lt}.${Nt}`,payload:mn}),!1)},this.logEvent=function(Nt,Lt,Mt,tn){Lt===void 0&&(Lt=!1),tn===void 0&&(tn=()=>{}),Tt.updateEndPoints();const $t=Object.assign({},Nt,{clientInstanceId:ut});if(Mt&&!isNaN(Mt)&&Math.random()>Mt){rt.debug("skipping sending analytics due to throttle:",$t);return}rt.debug("queueing analytics:",Tt.loggingUrl,$t);let Ht;try{Ht=JSON.stringify($t)}catch(rn){tn(rn);return}Wt(Ht,tn,Lt)},this.logQOS=Nt=>this.logEvent(Nt,!0)}},function(_e,tt,et){let nt=function(){function rt(ot){let st=ot===void 0?{}:ot,at=st.waitTime,ct=at===void 0?50:at;this.queue=[],this.running=!1,this.waitTime=ct}var it=rt.prototype;return it.add=function(st){this.queue.push(st),this.run()},it.run=function(){if(this.running)return;this.running=!0;const st=()=>{if(this.queue.length===0){this.running=!1;return}this.queue.shift()(()=>{setTimeout(st,this.waitTime)})};st()},rt}();_e.exports=nt},function(_e,tt,et){const nt=et(11),rt={for:"htmlFor",class:"className"};_e.exports=function(it){it.prototype.attr=function(at,ct){if(nt(at)){let lt;Object.keys(at).forEach(dt=>{lt=rt[dt]||dt,this.first.setAttribute(lt,at[dt])})}else{if(ct===void 0)return this.first.getAttribute(rt[at]||at);this.first.setAttribute(rt[at]||at,ct)}return this},it.prototype.removeAttr=function(at){const ct=rt[at]||at;return this.forEach(lt=>{lt.removeAttribute(ct)}),this},it.prototype.html=function(at){return at!==void 0&&(this.first.innerHTML=at),this.first.innerHTML},it.prototype.center=function(at,ct){let lt;return this.forEach(dt=>{lt=new it(dt),at=at||parseInt(lt.width(),10),ct=ct||parseInt(lt.height(),10);const ut=`${-.5*at}px`,ft=`${-.5*ct}px`;lt.css("margin",`${ft} 0 0 ${ut}`).addClass("OT_centered")}),this},it._attachToOTHelpers.centerElement=function(at,ct,lt){return new it(at).center(ct,lt)};const ot=function(ct){return ct.offsetWidth>0?`${ct.offsetWidth}px`:new it(ct).css("width")},st=function(ct){return ct.offsetHeight>0?`${ct.offsetHeight}px`:new it(ct).css("height")};it.prototype.width=function(at){return at?(this.css("width",at),this):this.isDisplayNone()?this.makeVisibleAndYield(ct=>ot(ct))[0]:ot(this.get(0))},it._attachToOTHelpers.width=function(at,ct){const lt=new it(at).width(ct);return ct?it._attachToOTHelpers:lt},it.prototype.height=function(at){return at?(this.css("height",at),this):this.isDisplayNone()?this.makeVisibleAndYield(ct=>st(ct))[0]:st(this.get(0))},it._attachToOTHelpers.height=function(at,ct){const lt=new it(at).height(ct);return ct?it._attachToOTHelpers:lt}}},function(_e,tt,et){const nt=et(2),rt=(typeof window!==void 0?window:commonjsGlobal).getComputedStyle,it={Firefox:"moz",Opera:"O",Chrome:"Webkit",Safari:"Webkit"};function ot(){return it[nt.name]}_e.exports=function(st,at){const ct={},lt={},dt=function(vt){if(lt[vt.ownerDocument]&&lt[vt.ownerDocument][vt.nodeName])return lt[vt.ownerDocument][vt.nodeName];lt[vt.ownerDocument]||(lt[vt.ownerDocument]={});let Ct=vt.ownerDocument.createElement(vt.nodeName),It;return vt.ownerDocument.body.appendChild(Ct),It=new st(Ct).css("display"),lt[vt.ownerDocument][vt.nodeName]=It,new st(Ct).remove(),Ct=null,It},ut=function(vt){return rt(vt).getPropertyValue("display")==="none"},ft=function(vt,Ct){if(Ct in vt.style)return Ct;const Zt=ot()+Ct[0].toUpperCase()+Ct.slice(1);return Zt in vt.style?Zt:Ct},pt=function(vt,Ct){const It=vt.style;for(const Zt in Ct)Ct.hasOwnProperty(Zt)&&(It[ft(vt,Zt)]=Ct[Zt])},bt=function(vt,Ct,It){vt.style[ft(vt,Ct)]=It},Tt=function(vt,Ct){const It=ft(vt,Ct);let Wt=rt(vt).getPropertyValue(It);return Wt===""&&(Wt=vt.style[It]),Wt},ht=function(vt,Ct,It){const Zt=new st(vt),Wt={};let kt,Nt;for(kt in Ct)Ct.hasOwnProperty(kt)&&(Wt[kt]=vt.style[kt],Zt.css(kt,Ct[kt]));Nt=It(vt);for(kt in Ct)Ct.hasOwnProperty(kt)&&Zt.css(kt,Wt[kt]||"");return Nt};st.prototype.show=function(){return this.forEach(gt=>{const vt=gt.style.display;(vt===""||vt==="none")&&(gt.style.display=ct[gt]||"",delete ct[gt]),ut(gt)&&(ct[gt]="none",gt.style.display=dt(gt))})},st.prototype.hide=function(){return this.forEach(gt=>{gt.style.display!=="none"&&(ct[gt]=gt.style.display,gt.style.display="none")})},st.prototype.css=function(gt,vt){if(this.length!==0)return typeof gt!="string"?this.forEach(Ct=>{pt(Ct,gt)}):vt!==void 0?this.forEach(Ct=>{bt(Ct,gt,vt)}):Tt(this.first,gt)},st.prototype.makeVisibleAndYield=function(gt){const vt={display:"block",visibility:"hidden"},Ct=[];return this.forEach(It=>{const Zt=at(It);Zt?Ct.push(ht(Zt,vt,gt)):Ct.push(void 0)}),Ct}}},function(_e,tt,et){(function(nt){const rt=et(547),it=rt.isiPhone,ot=rt.isiPad,st=rt.isiOS,at=et(548),ct=et(549),lt=ht=>{var gt,vt;return ht=ht||((gt=typeof window!==void 0?window:commonjsGlobal)==null?void 0:gt.navigator),((vt=ht)==null?void 0:vt.userAgent.toLowerCase().indexOf("electron"))>=0},dt=()=>{var ht,gt,vt;return typeof((ht=typeof window!==void 0?window:commonjsGlobal)==null||(gt=ht.process)==null||(vt=gt.versions)==null?void 0:vt.node)=="string"&&!lt()};let ut;const ft=()=>{ut={version:-1,name:"unknown"}},pt=()=>{ut.name="Node",ut.isNode=!0,ut.version=parseInt(nt.versions.node,10),ut.userAgent=`${ut.name} ${ut.version}`},bt=ht=>{if(ht=ht||(typeof window!==void 0?window:commonjsGlobal).navigator,ut.userAgent=ht.userAgent.toLowerCase(),ut.name="unknown",ut.userAgent.indexOf("opera")>-1||ut.userAgent.indexOf("opr/")>-1)ut.name="Opera",ut.isOpera=!0,/opr\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1));else if(ut.userAgent.indexOf("firefox")>-1)ut.name="Firefox",ut.isFirefox=!0,/firefox\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1));else if(ut.userAgent.match(/edge?\/(\d+)(?:\.\d+)+$/)){ut.name="Edge",ut.isEdge=!0;const gt=RegExp.$1;ut.version=parseInt(gt,10)}else ut.userAgent.indexOf("chrome")>-1?(ut.name="Chrome",ut.isElectron=lt(ht),ut.isElectron?ut.electronVersion=ct(ht.userAgent):ut.isChrome=!0,/chrome\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1))):ht.vendor&&ht.vendor.toLowerCase().indexOf("apple")>-1?(ut.name="Safari",ut.isSafari=!0,ut.isiPhone=it(ht.userAgent),ut.isiPad=ot(ht.userAgent),ut.isiOS=st(ht.userAgent),ut.isiOS&&(ut.iOSVersion=at(ht.userAgent)),(/version\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null||/fxios\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null||/crios\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null)&&(ut.version=parseFloat(RegExp.$1))):ut.userAgent.indexOf("applewebkit")>-1&&ut.userAgent.indexOf("version")===-1&&(ut.isIosWebView=!0);ut.isChromiumEdge=ut.name==="Edge"&&ut.version>=79,ut.isLegacyEdge=ut.name==="Edge"&&ut.version<79,ut.isLegacyElectron=ut.isElectron&&ut.electronVersion<7,ut.isLegacyChrome=ut.isChrome&&ut.version<87,ut.isChromium=!!(ut.isChrome||ut.isChromiumEdge||ut.isElectron||ut.isOpera),ut.isAndroid=ut.userAgent.indexOf("android")>-1,ut.userAgent=ht.userAgent,ut.protocol=location.protocol,ut.hostName=location.hostName,(ut.version===-1||ut.name==="unknown"||ut.isiOS&&!ut.iOSVersion)&&(ut.error=!0)},Tt=ht=>(ft(),dt()?pt():bt(ht),ut);_e.exports={parse:Tt,isNode:dt}}).call(this,et(42))},function(_e,tt,et){const nt=st=>/iPhone/.test(st),rt=st=>{try{return st.includes("Mac")&&"ontouchend"in document}catch{return!1}},it=st=>/iPad/.test(st)||rt(st),ot=st=>nt(st)||it(st);_e.exports={isiPhone:nt,isiPad:it,isiOS:ot}},function(_e,tt,et){_e.exports=function(rt){const it=rt.match(/OS (\d+_\d+).* like Mac/);if(!(it===null||!it[1]))return parseFloat(it[1].replace("_","."))}},function(_e,tt,et){const nt=/(Electron)\/([0-9]{1,}[.0-9]{0,})/;_e.exports=rt=>{const it=rt.match(nt);return it&&parseFloat(it[2])}},function(_e,tt,et){const nt=et(551);function rt(at,ct){return ct?nt()?at.classList.contains(ct):at.className.indexOf(ct)>-1:!1}function it(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.toggle(ct[dt]);return}let ut=` ${at.className} `.replace(/[\s+]/," ");for(;dt<lt;++dt)rt(at,ct[dt])?ut=ut.replace(` ${ct[dt]} `," "):ut+=`${ct[dt]} `;at.className=ut.trim()}function ot(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.add(ct[dt]);return}if(!at.className&&ct.length===1)at.className=ct.join(" ");else{let ut=` ${at.className} `;for(;dt<lt;++dt)~ut.indexOf(` ${ct[dt]} `)||(ut+=`${ct[dt]} `);at.className=ut.trim()}}function st(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.remove(ct[dt]);return}let ut=` ${at.className} `.replace(/[\s+]/," ");for(;dt<lt;++dt)ut=ut.replace(` ${ct[dt]} `," ");at.className=ut.trim()}_e.exports=function(at){at.prototype.addClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{ot(dt,lt)})}return this},at.prototype.removeClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{st(dt,lt)})}return this},at.prototype.toggleClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{it(dt,lt)})}return this},at.prototype.hasClass=function(ct){return this.some(lt=>rt(lt,ct))}}},function(_e,tt,et){_e.exports=()=>typeof document<"u"&&"classList"in document.createElement("a")},function(_e,tt,et){const nt=et(553);_e.exports=function(rt){let it=0,ot=0;const st=function(dt,ut,ft){const pt={},bt=function(gt){switch(gt){case"width":return new rt(dt).width();case"height":return new rt(dt).height();default:return new rt(dt).css(gt)}};ut.forEach(ht=>{pt[ht]=bt(ht)});const Tt=new(typeof window!==void 0?window:commonjsGlobal).MutationObserver(ht=>{const gt={};ht.forEach(vt=>{if(vt.attributeName!=="style")return;const Ct=new rt(dt).isDisplayNone();ut.forEach(It=>{if(Ct&&(It==="width"||It==="height"))return;const Zt=bt(It);Zt!==pt[It]&&(gt[It]=[pt[It],Zt],pt[It]=Zt)})}),nt(gt)||setTimeout(()=>{ft.call(null,gt)})});return Tt.observe(dt,{attributes:!0,attributeFilter:["style"],childList:!1,characterData:!1,subtree:!1}),Tt},at=function(dt,ut){const ft=new(typeof window!==void 0?window:commonjsGlobal).MutationObserver(bt=>{let Tt=[];bt.forEach(ht=>{ht.removedNodes.length&&(Tt=Tt.concat(Array.prototype.slice.call(ht.removedNodes)))}),Tt.length&&setTimeout(()=>{ut(new rt(Tt))})});ft.observe(dt,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),ot++;const pt=ft.disconnect;return ft.disconnect=function(){pt.apply(ft,arguments),ot--},ft},ct=function(dt,ut){let ft={width:0,height:0};const pt=setInterval(()=>{const bt=dt.getBoundingClientRect();(ft.width!==bt.width||ft.height!==bt.height)&&(ut(bt,ft),ft={width:bt.width,height:bt.height})},1e3/5);return it++,{disconnect(){clearInterval(pt),it--}}};rt.prototype.observeStyleChanges=function(lt,dt){const ut=[];return this.forEach(ft=>{ut.push(st(ft,lt,dt))}),ut},rt.prototype.observeNodeOrChildNodeRemoval=function(lt){const dt=[];return this.forEach(ut=>{dt.push(at(ut,lt))}),dt},rt.prototype.observeSize=function(lt){const dt=[];return this.forEach(ut=>{dt.push(ct(ut,lt))}),dt},rt._attachToOTHelpers.observeStyleChanges=function(lt,dt,ut){return new rt(lt).observeStyleChanges(dt,ut)[0]},rt._attachToOTHelpers.observeNodeOrChildNodeRemoval=function(lt,dt){return new rt(lt).observeNodeOrChildNodeRemoval(dt)[0]},rt.__testOnly||(rt.__testOnly={}),rt.__testOnly.sizeObserverCount=function(){return it},rt.__testOnly.nodeRemovalObserverCount=function(){return ot}}},function(_e,tt,et){var nt=et(116),rt=et(41),it=et(63),ot=et(12),st=et(25),at=et(64),ct=et(67),lt=et(85),dt="[object Map]",ut="[object Set]",ft=Object.prototype,pt=ft.hasOwnProperty;function bt(Tt){if(Tt==null)return!0;if(st(Tt)&&(ot(Tt)||typeof Tt=="string"||typeof Tt.splice=="function"||at(Tt)||lt(Tt)||it(Tt)))return!Tt.length;var ht=rt(Tt);if(ht==dt||ht==ut)return!Tt.size;if(ct(Tt))return!nt(Tt).length;for(var gt in Tt)if(pt.call(Tt,gt))return!1;return!0}_e.exports=bt},function(_e,tt,et){_e.exports={1004:"Authentication error",1005:"Invalid Session ID",1006:"Connect Failed",1007:"Connect Rejected",1008:"Connect Time-out",1009:"Security Error",1010:"Not Connected",1011:"Invalid Parameter",1012:"Peer-to-peer Stream Play Failed",1013:"Connection Failed",1014:"API Response Failure",1015:"PeerConnection not connected, cannot call this method",1021:"Request Timeout",1026:"Terms of Service Violation: Export Compliance",1027:"Connection Limit Exceeded",1040:"Set Video Source Failure",1041:"Invalid Video Source",1500:"Unable to Publish",1501:"Unable to Subscribe",1502:"Unsupported Video Codec",1503:"No TURN server found",1520:"Unable to Force Disconnect",1530:"Unable to Force Unpublish",1540:"Unable to Force Mute",1553:"Publisher ICEWorkflow failed",1554:"Subscriber ICEWorkflow failed",1600:"createOffer, createAnswer, setLocalDescription, setRemoteDescription",1605:"Stream Limit Exceeded",2e3:"Internal Error",2001:"Unexpected Server Response",2021:"Proxy URL Timing Error",2022:"Proxy URL Already Set Error",2031:"getRtcStatsReport is not supported in this browser",4e3:"WebSocket Connection Failed",4001:"WebSocket Network Disconnected",5001:"Unable to access media engine"}},function(_e,tt,et){const nt=et(16);_e.exports=function(it,ot,st,at,ct){let lt,dt=st;it.currentState=st;const ut=function(pt){if(dt!==pt){if(ot.indexOf(pt)===-1){ct&&nt(ct)&&ct("invalidState",pt);return}it.previousState=dt,lt=dt,it.currentState=pt,dt=pt,at&&nt(at)&&at(pt,lt)}};return it.is=function(){return Array.prototype.indexOf.call(arguments,dt)!==-1},it.isNot=function(){return Array.prototype.indexOf.call(arguments,dt)===-1},ut}},function(_e,tt,et){const nt=et(246),rt={};_e.exports=rt,rt.isElementNode=function(it){return it&&typeof it=="object"&&it.nodeType===1},rt.createElement=function(it,ot,st,at){const ct=(at||document).createElement(it);ot=ot||{},Object.keys(ot).forEach(dt=>{if(typeof ot[dt]=="object"){ct[dt]||(ct[dt]={});const ut=ot[dt];Object.keys(ut).forEach(ft=>{ct[dt][ft]=ut[ft]})}else dt==="className"?ct.className=ot[dt]:ct.setAttribute(dt,ot[dt])});const lt=function(ut){typeof ut=="string"?ct.innerHTML+=ut:ct.appendChild(ut)};return Array.isArray(st)?st.forEach(lt):st&&lt(st),ct},nt(rt)},function(_e,tt,et){const nt=et(558);_e.exports=(rt,it)=>{if(typeof rt=="string"&&typeof it=="string"){const ot=nt(rt),st=it.match(/(\w+:\/\/)(.*)/),at=st[1],ct=st[2];return`${at}${ot}/${ct}`}return it}},function(_e,tt,et){_e.exports=nt=>nt.replace(/\/+$/,"").replace(/^.*:\/+/,"")},function(_e,tt,et){const nt=et(560);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.isSessionProxied||et(561),ot=rt,st=ot.sessionId;it(st)&&nt.forEach(at=>{at in rt&&(rt[at]="")})}},function(_e,tt,et){_e.exports=["audioLocalAddress","audioRemoteAddress","videoLocalAddress","videoRemoteAddress"]},function(_e,tt,et){const rt=et(21).sessions;_e.exports=it=>{const ot=rt.get(it);return ot?!!ot._.getProxyUrl():!1}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot={architecture:"event_ua_arch",bitness:"event_ua_bitness",model:"event_ua_model",platformVersion:"event_ua_platform_version"},st=function(){var at=(0,it.default)(rt.default.mark(function ct(lt){var dt,ut;return rt.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(dt={},!(lt!=null&&lt.getHighEntropyValues)){pt.next=6;break}return pt.next=4,lt.getHighEntropyValues(Object.keys(ot));case 4:ut=pt.sent,ut&&Object.entries(ot).forEach(bt=>{let Tt=bt[0],ht=bt[1];ut[Tt]!==void 0&&(dt[ht]=ut[Tt])});case 6:return pt.abrupt("return",dt);case 7:case"end":return pt.stop()}},ct)}));return function(lt){return at.apply(this,arguments)}}();_e.exports=st},function(_e,tt,et){const nt=["buildHash","minimumVersion","debug",["websiteURL","websiteUrl"],["cdnURL","cdnUrl"],["loggingURL","loggingUrl"],["apiURL","apiUrl"],["supportSSL",!0],["cdnURLSSL","cdnUrl"],["loggingURLSSL","loggingUrl"],["apiURLSSL","apiUrl"],["assetURL","assetUrl"]];_e.exports=nt},function(_e,tt,et){const nt=["apiUrl","apiURL","apiURLSSL"];_e.exports=nt},function(_e,tt,et){_e.exports=function(){const rt=(typeof window!==void 0?window:commonjsGlobal).OT,it=(typeof window!==void 0?window:commonjsGlobal).TB;return()=>{const ot=(typeof window!==void 0?window:commonjsGlobal).OT;return(typeof window!==void 0?window:commonjsGlobal).OT=rt,(typeof window!==void 0?window:commonjsGlobal).TB=it,ot}}},function(_e,tt,et){const nt=rt=>{const it={};return Object.getOwnPropertyNames(rt).forEach(ot=>{it[ot]=Object.getOwnPropertyDescriptor(rt,ot)}),it};_e.exports=function(it){function ot(){for(var st=arguments.length,at=new Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct];const lt=new it(...at);return Object.setPrototypeOf(lt,ot.prototype),lt}return ot.prototype=Object.create(it.prototype),Object.defineProperties(ot.prototype,nt(it.prototype)),Object.keys(it).forEach(st=>{ot[st]=it[st]}),ot}},function(_e,tt,et){var nt=et(27);_e.exports=function(rt,it){var ot=rt&&rt.window,st={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var at in it)hasOwnProperty.call(it,at)&&(st[at]=it[at]);var ct=nt.log,lt=nt.detectBrowser(ot),dt=et(568)||null,ut=et(570)||null,ft=et(574)||null,pt=et(576)||null,bt=et(577)||null,Tt={browserDetails:lt,commonShim:bt,extractVersion:nt.extractVersion,disableLog:nt.disableLog,disableWarnings:nt.disableWarnings};switch(lt.browser){case"chrome":if(!dt||!dt.shimPeerConnection||!st.shimChrome)return ct("Chrome shim is not included in this adapter release."),Tt;ct("adapter.js shimming chrome."),Tt.browserShim=dt,bt.shimCreateObjectURL(ot),dt.shimGetUserMedia(ot),dt.shimMediaStream(ot),dt.shimSourceObject(ot),dt.shimPeerConnection(ot),dt.shimOnTrack(ot),dt.shimAddTrackRemoveTrack(ot),dt.shimGetSendersWithDtmf(ot),dt.shimSenderReceiverGetStats(ot),dt.fixNegotiationNeeded(ot),bt.shimRTCIceCandidate(ot),bt.shimMaxMessageSize(ot),bt.shimSendThrowTypeError(ot);break;case"firefox":if(!ft||!ft.shimPeerConnection||!st.shimFirefox)return ct("Firefox shim is not included in this adapter release."),Tt;ct("adapter.js shimming firefox."),Tt.browserShim=ft,bt.shimCreateObjectURL(ot),ft.shimGetUserMedia(ot),ft.shimSourceObject(ot),ft.shimPeerConnection(ot),ft.shimOnTrack(ot),ft.shimRemoveStream(ot),ft.shimSenderGetStats(ot),ft.shimReceiverGetStats(ot),ft.shimRTCDataChannel(ot),bt.shimRTCIceCandidate(ot),bt.shimMaxMessageSize(ot),bt.shimSendThrowTypeError(ot);break;case"edge":if(!ut||!ut.shimPeerConnection||!st.shimEdge)return ct("MS edge shim is not included in this adapter release."),Tt;ct("adapter.js shimming edge."),Tt.browserShim=ut,bt.shimCreateObjectURL(ot),ut.shimGetUserMedia(ot),ut.shimPeerConnection(ot),ut.shimReplaceTrack(ot),ut.shimGetDisplayMedia(ot),bt.shimMaxMessageSize(ot),bt.shimSendThrowTypeError(ot);break;case"safari":if(!pt||!st.shimSafari)return ct("Safari shim is not included in this adapter release."),Tt;ct("adapter.js shimming safari."),Tt.browserShim=pt,bt.shimCreateObjectURL(ot),pt.shimRTCIceServerUrls(ot),pt.shimCreateOfferLegacy(ot),pt.shimCallbacksAPI(ot),pt.shimLocalStreamsAPI(ot),pt.shimRemoteStreamsAPI(ot),pt.shimTrackEventTransceiver(ot),pt.shimGetUserMedia(ot),bt.shimRTCIceCandidate(ot),bt.shimMaxMessageSize(ot),bt.shimSendThrowTypeError(ot);break;default:ct("Unsupported browser!");break}return Tt}},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;function ot(at,ct,lt){!ct||lt.has(ct.id)||(lt.set(ct.id,ct),Object.keys(ct).forEach(function(dt){dt.endsWith("Id")?ot(at,at.get(ct[dt]),lt):dt.endsWith("Ids")&&ct[dt].forEach(function(ut){ot(at,at.get(ut),lt)})}))}function st(at,ct,lt){var dt=lt?"outbound-rtp":"inbound-rtp",ut=new Map;if(ct===null)return ut;var ft=[];return at.forEach(function(pt){pt.type==="track"&&pt.trackIdentifier===ct.id&&ft.push(pt)}),ft.forEach(function(pt){at.forEach(function(bt){bt.type===dt&&bt.trackId===pt.id&&ot(at,bt,ut)})}),ut}_e.exports={shimGetUserMedia:et(569),shimMediaStream:function(at){at.MediaStream=at.MediaStream||at.webkitMediaStream},shimOnTrack:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&!("ontrack"in at.RTCPeerConnection.prototype)){Object.defineProperty(at.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(lt){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=lt)},enumerable:!0,configurable:!0});var ct=at.RTCPeerConnection.prototype.setRemoteDescription;at.RTCPeerConnection.prototype.setRemoteDescription=function(){var lt=this;return lt._ontrackpoly||(lt._ontrackpoly=function(dt){dt.stream.addEventListener("addtrack",function(ut){var ft;at.RTCPeerConnection.prototype.getReceivers?ft=lt.getReceivers().find(function(bt){return bt.track&&bt.track.id===ut.track.id}):ft={track:ut.track};var pt=new Event("track");pt.track=ut.track,pt.receiver=ft,pt.transceiver={receiver:ft},pt.streams=[dt.stream],lt.dispatchEvent(pt)}),dt.stream.getTracks().forEach(function(ut){var ft;at.RTCPeerConnection.prototype.getReceivers?ft=lt.getReceivers().find(function(bt){return bt.track&&bt.track.id===ut.id}):ft={track:ut};var pt=new Event("track");pt.track=ut,pt.receiver=ft,pt.transceiver={receiver:ft},pt.streams=[dt.stream],lt.dispatchEvent(pt)})},lt.addEventListener("addstream",lt._ontrackpoly)),ct.apply(lt,arguments)}}else rt.wrapPeerConnectionEvent(at,"track",function(lt){return lt.transceiver||Object.defineProperty(lt,"transceiver",{value:{receiver:lt.receiver}}),lt})},shimGetSendersWithDtmf:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&!("getSenders"in at.RTCPeerConnection.prototype)&&"createDTMFSender"in at.RTCPeerConnection.prototype){var ct=function(bt,Tt){return{track:Tt,get dtmf(){return this._dtmf===void 0&&(Tt.kind==="audio"?this._dtmf=bt.createDTMFSender(Tt):this._dtmf=null),this._dtmf},_pc:bt}};if(!at.RTCPeerConnection.prototype.getSenders){at.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var lt=at.RTCPeerConnection.prototype.addTrack;at.RTCPeerConnection.prototype.addTrack=function(bt,Tt){var ht=this,gt=lt.apply(ht,arguments);return gt||(gt=ct(ht,bt),ht._senders.push(gt)),gt};var dt=at.RTCPeerConnection.prototype.removeTrack;at.RTCPeerConnection.prototype.removeTrack=function(bt){var Tt=this;dt.apply(Tt,arguments);var ht=Tt._senders.indexOf(bt);ht!==-1&&Tt._senders.splice(ht,1)}}var ut=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(bt){var Tt=this;Tt._senders=Tt._senders||[],ut.apply(Tt,[bt]),bt.getTracks().forEach(function(ht){Tt._senders.push(ct(Tt,ht))})};var ft=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(bt){var Tt=this;Tt._senders=Tt._senders||[],ft.apply(Tt,[bt]),bt.getTracks().forEach(function(ht){var gt=Tt._senders.find(function(vt){return vt.track===ht});gt&&Tt._senders.splice(Tt._senders.indexOf(gt),1)})}}else if(typeof at=="object"&&at.RTCPeerConnection&&"getSenders"in at.RTCPeerConnection.prototype&&"createDTMFSender"in at.RTCPeerConnection.prototype&&at.RTCRtpSender&&!("dtmf"in at.RTCRtpSender.prototype)){var pt=at.RTCPeerConnection.prototype.getSenders;at.RTCPeerConnection.prototype.getSenders=function(){var bt=this,Tt=pt.apply(bt,[]);return Tt.forEach(function(ht){ht._pc=bt}),Tt},Object.defineProperty(at.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&at.RTCRtpSender&&at.RTCRtpReceiver){if(!("getStats"in at.RTCRtpSender.prototype)){var ct=at.RTCPeerConnection.prototype.getSenders;ct&&(at.RTCPeerConnection.prototype.getSenders=function(){var ft=this,pt=ct.apply(ft,[]);return pt.forEach(function(bt){bt._pc=ft}),pt});var lt=at.RTCPeerConnection.prototype.addTrack;lt&&(at.RTCPeerConnection.prototype.addTrack=function(){var ft=lt.apply(this,arguments);return ft._pc=this,ft}),at.RTCRtpSender.prototype.getStats=function(){var ft=this;return this._pc.getStats().then(function(pt){return st(pt,ft.track,!0)})}}if(!("getStats"in at.RTCRtpReceiver.prototype)){var dt=at.RTCPeerConnection.prototype.getReceivers;dt&&(at.RTCPeerConnection.prototype.getReceivers=function(){var ft=this,pt=dt.apply(ft,[]);return pt.forEach(function(bt){bt._pc=ft}),pt}),rt.wrapPeerConnectionEvent(at,"track",function(ft){return ft.receiver._pc=ft.srcElement,ft}),at.RTCRtpReceiver.prototype.getStats=function(){var ft=this;return this._pc.getStats().then(function(pt){return st(pt,ft.track,!1)})}}if("getStats"in at.RTCRtpSender.prototype&&"getStats"in at.RTCRtpReceiver.prototype){var ut=at.RTCPeerConnection.prototype.getStats;at.RTCPeerConnection.prototype.getStats=function(){var ft=this;if(arguments.length>0&&arguments[0]instanceof at.MediaStreamTrack){var pt=arguments[0],bt,Tt,ht;return ft.getSenders().forEach(function(gt){gt.track===pt&&(bt?ht=!0:bt=gt)}),ft.getReceivers().forEach(function(gt){return gt.track===pt&&(Tt?ht=!0:Tt=gt),gt.track===pt}),ht||bt&&Tt?nt.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):bt?bt.getStats():Tt?Tt.getStats():nt.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return ut.apply(ft,arguments)}}}},shimSourceObject:function(at){var ct=at&&at.URL;typeof at=="object"&&at.HTMLMediaElement&&!("srcObject"in at.HTMLMediaElement.prototype)&&Object.defineProperty(at.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(lt){var dt=this;if(this._srcObject=lt,this.src&&ct.revokeObjectURL(this.src),!lt){this.src="";return}this.src=ct.createObjectURL(lt),lt.addEventListener("addtrack",function(){dt.src&&ct.revokeObjectURL(dt.src),dt.src=ct.createObjectURL(lt)}),lt.addEventListener("removetrack",function(){dt.src&&ct.revokeObjectURL(dt.src),dt.src=ct.createObjectURL(lt)})}})},shimAddTrackRemoveTrackWithNative:function(at){at.RTCPeerConnection.prototype.getLocalStreams=function(){var ft=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(pt){return ft._shimmedLocalStreams[pt][0]})};var ct=at.RTCPeerConnection.prototype.addTrack;at.RTCPeerConnection.prototype.addTrack=function(ft,pt){if(!pt)return ct.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var bt=ct.apply(this,arguments);return this._shimmedLocalStreams[pt.id]?this._shimmedLocalStreams[pt.id].indexOf(bt)===-1&&this._shimmedLocalStreams[pt.id].push(bt):this._shimmedLocalStreams[pt.id]=[pt,bt],bt};var lt=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(ft){var pt=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},ft.getTracks().forEach(function(ht){var gt=pt.getSenders().find(function(vt){return vt.track===ht});if(gt)throw new DOMException("Track already exists.","InvalidAccessError")});var bt=pt.getSenders();lt.apply(this,arguments);var Tt=pt.getSenders().filter(function(ht){return bt.indexOf(ht)===-1});this._shimmedLocalStreams[ft.id]=[ft].concat(Tt)};var dt=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(ft){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[ft.id],dt.apply(this,arguments)};var ut=at.RTCPeerConnection.prototype.removeTrack;at.RTCPeerConnection.prototype.removeTrack=function(ft){var pt=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},ft&&Object.keys(this._shimmedLocalStreams).forEach(function(bt){var Tt=pt._shimmedLocalStreams[bt].indexOf(ft);Tt!==-1&&pt._shimmedLocalStreams[bt].splice(Tt,1),pt._shimmedLocalStreams[bt].length===1&&delete pt._shimmedLocalStreams[bt]}),ut.apply(this,arguments)}},shimAddTrackRemoveTrack:function(at){if(!at.RTCPeerConnection)return;var ct=rt.detectBrowser(at);if(at.RTCPeerConnection.prototype.addTrack&&ct.version>=65)return this.shimAddTrackRemoveTrackWithNative(at);var lt=at.RTCPeerConnection.prototype.getLocalStreams;at.RTCPeerConnection.prototype.getLocalStreams=function(){var ht=this,gt=lt.apply(this);return ht._reverseStreams=ht._reverseStreams||{},gt.map(function(vt){return ht._reverseStreams[vt.id]})};var dt=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(ht){var gt=this;if(gt._streams=gt._streams||{},gt._reverseStreams=gt._reverseStreams||{},ht.getTracks().forEach(function(Ct){var It=gt.getSenders().find(function(Zt){return Zt.track===Ct});if(It)throw new DOMException("Track already exists.","InvalidAccessError")}),!gt._reverseStreams[ht.id]){var vt=new at.MediaStream(ht.getTracks());gt._streams[ht.id]=vt,gt._reverseStreams[vt.id]=ht,ht=vt}dt.apply(gt,[ht])};var ut=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(ht){var gt=this;gt._streams=gt._streams||{},gt._reverseStreams=gt._reverseStreams||{},ut.apply(gt,[gt._streams[ht.id]||ht]),delete gt._reverseStreams[gt._streams[ht.id]?gt._streams[ht.id].id:ht.id],delete gt._streams[ht.id]},at.RTCPeerConnection.prototype.addTrack=function(ht,gt){var vt=this;if(vt.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var Ct=[].slice.call(arguments,1);if(Ct.length!==1||!Ct[0].getTracks().find(function(kt){return kt===ht}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var It=vt.getSenders().find(function(kt){return kt.track===ht});if(It)throw new DOMException("Track already exists.","InvalidAccessError");vt._streams=vt._streams||{},vt._reverseStreams=vt._reverseStreams||{};var Zt=vt._streams[gt.id];if(Zt)Zt.addTrack(ht),nt.resolve().then(function(){vt.dispatchEvent(new Event("negotiationneeded"))});else{var Wt=new at.MediaStream([ht]);vt._streams[gt.id]=Wt,vt._reverseStreams[Wt.id]=gt,vt.addStream(Wt)}return vt.getSenders().find(function(kt){return kt.track===ht})};function ft(ht,gt){var vt=gt.sdp;return Object.keys(ht._reverseStreams||[]).forEach(function(Ct){var It=ht._reverseStreams[Ct],Zt=ht._streams[It.id];vt=vt.replace(new RegExp(Zt.id,"g"),It.id)}),new RTCSessionDescription({type:gt.type,sdp:vt})}function pt(ht,gt){var vt=gt.sdp;return Object.keys(ht._reverseStreams||[]).forEach(function(Ct){var It=ht._reverseStreams[Ct],Zt=ht._streams[It.id];vt=vt.replace(new RegExp(It.id,"g"),Zt.id)}),new RTCSessionDescription({type:gt.type,sdp:vt})}["createOffer","createAnswer"].forEach(function(ht){var gt=at.RTCPeerConnection.prototype[ht];at.RTCPeerConnection.prototype[ht]=function(){var vt=this,Ct=arguments,It=arguments.length&&typeof arguments[0]=="function";return It?gt.apply(vt,[function(Zt){var Wt=ft(vt,Zt);Ct[0].apply(null,[Wt])},function(Zt){Ct[1]&&Ct[1].apply(null,Zt)},arguments[2]]):gt.apply(vt,arguments).then(function(Zt){return ft(vt,Zt)})}});var bt=at.RTCPeerConnection.prototype.setLocalDescription;at.RTCPeerConnection.prototype.setLocalDescription=function(){var ht=this;return!arguments.length||!arguments[0].type||(arguments[0]=pt(ht,arguments[0])),bt.apply(ht,arguments)};var Tt=Object.getOwnPropertyDescriptor(at.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(at.RTCPeerConnection.prototype,"localDescription",{get:function(){var ht=this,gt=Tt.get.apply(this);return gt.type===""?gt:ft(ht,gt)}}),at.RTCPeerConnection.prototype.removeTrack=function(ht){var gt=this;if(gt.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ht._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var vt=ht._pc===gt;if(!vt)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");gt._streams=gt._streams||{};var Ct;Object.keys(gt._streams).forEach(function(It){var Zt=gt._streams[It].getTracks().find(function(Wt){return ht.track===Wt});Zt&&(Ct=gt._streams[It])}),Ct&&(Ct.getTracks().length===1?gt.removeStream(gt._reverseStreams[Ct.id]):Ct.removeTrack(ht.track),gt.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(at){var ct=rt.detectBrowser(at);if(!at.RTCPeerConnection&&at.webkitRTCPeerConnection&&(at.RTCPeerConnection=function(ut,ft){return it("PeerConnection"),ut&&ut.iceTransportPolicy&&(ut.iceTransports=ut.iceTransportPolicy),new at.webkitRTCPeerConnection(ut,ft)},at.RTCPeerConnection.prototype=at.webkitRTCPeerConnection.prototype,at.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(at.RTCPeerConnection,"generateCertificate",{get:function(){return at.webkitRTCPeerConnection.generateCertificate}})),!!at.RTCPeerConnection){var lt=at.RTCPeerConnection.prototype.getStats;at.RTCPeerConnection.prototype.getStats=function(ut,ft,pt){var bt=this,Tt=arguments;if(arguments.length>0&&typeof ut=="function")return lt.apply(this,arguments);if(lt.length===0&&(arguments.length===0||typeof arguments[0]!="function"))return lt.apply(this,[]);var ht=function(Ct){var It={},Zt=Ct.result();return Zt.forEach(function(Wt){var kt={id:Wt.id,timestamp:Wt.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Wt.type]||Wt.type};Wt.names().forEach(function(Nt){kt[Nt]=Wt.stat(Nt)}),It[kt.id]=kt}),It},gt=function(Ct){return new Map(Object.keys(Ct).map(function(It){return[It,Ct[It]]}))};if(arguments.length>=2){var vt=function(Ct){Tt[1](gt(ht(Ct)))};return lt.apply(this,[vt,arguments[0]])}return new nt(function(Ct,It){lt.apply(bt,[function(Zt){Ct(gt(ht(Zt)))},It])}).then(ft,pt)},ct.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){var pt=arguments,bt=this,Tt=new nt(function(ht,gt){ft.apply(bt,[pt[0],ht,gt])});return pt.length<2?Tt:Tt.then(function(){pt[1].apply(null,[])},function(ht){pt.length>=3&&pt[2].apply(null,[ht])})}}),ct.version<52&&["createOffer","createAnswer"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){var pt=this;if(arguments.length<1||arguments.length===1&&typeof arguments[0]=="object"){var bt=arguments.length===1?arguments[0]:void 0;return new nt(function(Tt,ht){ft.apply(pt,[Tt,ht,bt])})}return ft.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){return arguments[0]=new(ut==="addIceCandidate"?at.RTCIceCandidate:at.RTCSessionDescription)(arguments[0]),ft.apply(this,arguments)}});var dt=at.RTCPeerConnection.prototype.addIceCandidate;at.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?dt.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),nt.resolve())}}},fixNegotiationNeeded:function(at){rt.wrapPeerConnectionEvent(at,"negotiationneeded",function(ct){var lt=ct.target;if(lt.signalingState==="stable")return ct})},shimGetDisplayMedia:function(at,ct){if(!(!at.navigator||!at.navigator.mediaDevices||"getDisplayMedia"in at.navigator.mediaDevices)){if(typeof ct!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}at.navigator.mediaDevices.getDisplayMedia=function(lt){return ct(lt).then(function(dt){var ut=lt.video&&lt.video.width,ft=lt.video&&lt.video.height,pt=lt.video&&lt.video.frameRate;return lt.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:dt,maxFrameRate:pt||3}},ut&&(lt.video.mandatory.maxWidth=ut),ft&&(lt.video.mandatory.maxHeight=ft),at.navigator.mediaDevices.getUserMedia(lt)})},at.navigator.getDisplayMedia=function(lt){return rt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),at.navigator.mediaDevices.getDisplayMedia(lt)}}}}}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;_e.exports=function(ot){var st=rt.detectBrowser(ot),at=ot&&ot.navigator,ct=function(bt){if(typeof bt!="object"||bt.mandatory||bt.optional)return bt;var Tt={};return Object.keys(bt).forEach(function(ht){if(!(ht==="require"||ht==="advanced"||ht==="mediaSource")){var gt=typeof bt[ht]=="object"?bt[ht]:{ideal:bt[ht]};gt.exact!==void 0&&typeof gt.exact=="number"&&(gt.min=gt.max=gt.exact);var vt=function(It,Zt){return It?It+Zt.charAt(0).toUpperCase()+Zt.slice(1):Zt==="deviceId"?"sourceId":Zt};if(gt.ideal!==void 0){Tt.optional=Tt.optional||[];var Ct={};typeof gt.ideal=="number"?(Ct[vt("min",ht)]=gt.ideal,Tt.optional.push(Ct),Ct={},Ct[vt("max",ht)]=gt.ideal,Tt.optional.push(Ct)):(Ct[vt("",ht)]=gt.ideal,Tt.optional.push(Ct))}gt.exact!==void 0&&typeof gt.exact!="number"?(Tt.mandatory=Tt.mandatory||{},Tt.mandatory[vt("",ht)]=gt.exact):["min","max"].forEach(function(It){gt[It]!==void 0&&(Tt.mandatory=Tt.mandatory||{},Tt.mandatory[vt(It,ht)]=gt[It])})}}),bt.advanced&&(Tt.optional=(Tt.optional||[]).concat(bt.advanced)),Tt},lt=function(bt,Tt){if(st.version>=61)return Tt(bt);if(bt=JSON.parse(JSON.stringify(bt)),bt&&typeof bt.audio=="object"){var ht=function(It,Zt,Wt){Zt in It&&!(Wt in It)&&(It[Wt]=It[Zt],delete It[Zt])};bt=JSON.parse(JSON.stringify(bt)),ht(bt.audio,"autoGainControl","googAutoGainControl"),ht(bt.audio,"noiseSuppression","googNoiseSuppression"),bt.audio=ct(bt.audio)}if(bt&&typeof bt.video=="object"){var gt=bt.video.facingMode;gt=gt&&(typeof gt=="object"?gt:{ideal:gt});var vt=st.version<66;if(gt&&(gt.exact==="user"||gt.exact==="environment"||gt.ideal==="user"||gt.ideal==="environment")&&!(at.mediaDevices.getSupportedConstraints&&at.mediaDevices.getSupportedConstraints().facingMode&&!vt)){delete bt.video.facingMode;var Ct;if(gt.exact==="environment"||gt.ideal==="environment"?Ct=["back","rear"]:(gt.exact==="user"||gt.ideal==="user")&&(Ct=["front"]),Ct)return at.mediaDevices.enumerateDevices().then(function(It){It=It.filter(function(Wt){return Wt.kind==="videoinput"});var Zt=It.find(function(Wt){return Ct.some(function(kt){return Wt.label.toLowerCase().indexOf(kt)!==-1})});return!Zt&&It.length&&Ct.indexOf("back")!==-1&&(Zt=It[It.length-1]),Zt&&(bt.video.deviceId=gt.exact?{exact:Zt.deviceId}:{ideal:Zt.deviceId}),bt.video=ct(bt.video),it("chrome: "+JSON.stringify(bt)),Tt(bt)})}bt.video=ct(bt.video)}return it("chrome: "+JSON.stringify(bt)),Tt(bt)},dt=function(bt){return st.version>=64?bt:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[bt.name]||bt.name,message:bt.message,constraint:bt.constraint||bt.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},ut=function(bt,Tt,ht){lt(bt,function(gt){at.webkitGetUserMedia(gt,Tt,function(vt){ht&&ht(dt(vt))})})};at.getUserMedia=ut;var ft=function(bt){return new nt(function(Tt,ht){at.getUserMedia(bt,Tt,ht)})};if(at.mediaDevices||(at.mediaDevices={getUserMedia:ft,enumerateDevices:function(){return new nt(function(bt){var Tt={audio:"audioinput",video:"videoinput"};return ot.MediaStreamTrack.getSources(function(ht){bt(ht.map(function(gt){return{label:gt.label,kind:Tt[gt.kind],deviceId:gt.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),!at.mediaDevices.getUserMedia)at.mediaDevices.getUserMedia=function(bt){return ft(bt)};else{var pt=at.mediaDevices.getUserMedia.bind(at.mediaDevices);at.mediaDevices.getUserMedia=function(bt){return lt(bt,function(Tt){return pt(Tt).then(function(ht){if(Tt.audio&&!ht.getAudioTracks().length||Tt.video&&!ht.getVideoTracks().length)throw ht.getTracks().forEach(function(gt){gt.stop()}),new DOMException("","NotFoundError");return ht},function(ht){return nt.reject(dt(ht))})})}}typeof at.mediaDevices.addEventListener>"u"&&(at.mediaDevices.addEventListener=function(){it("Dummy mediaDevices.addEventListener called.")}),typeof at.mediaDevices.removeEventListener>"u"&&(at.mediaDevices.removeEventListener=function(){it("Dummy mediaDevices.removeEventListener called.")})}}).call(this,et(0))},function(_e,tt,et){var nt=et(27),rt=et(571),it=et(572);_e.exports={shimGetUserMedia:et(573),shimPeerConnection:function(ot){var st=nt.detectBrowser(ot);if(ot.RTCIceGatherer&&(ot.RTCIceCandidate||(ot.RTCIceCandidate=function(lt){return lt}),ot.RTCSessionDescription||(ot.RTCSessionDescription=function(lt){return lt}),st.version<15025)){var at=Object.getOwnPropertyDescriptor(ot.MediaStreamTrack.prototype,"enabled");Object.defineProperty(ot.MediaStreamTrack.prototype,"enabled",{set:function(lt){at.set.call(this,lt);var dt=new Event("enabled");dt.enabled=lt,this.dispatchEvent(dt)}})}ot.RTCRtpSender&&!("dtmf"in ot.RTCRtpSender.prototype)&&Object.defineProperty(ot.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new ot.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),ot.RTCDtmfSender&&!ot.RTCDTMFSender&&(ot.RTCDTMFSender=ot.RTCDtmfSender);var ct=it(ot,st.version);ot.RTCPeerConnection=function(lt){return lt&&lt.iceServers&&(lt.iceServers=rt(lt.iceServers)),new ct(lt)},ot.RTCPeerConnection.prototype=ct.prototype},shimReplaceTrack:function(ot){ot.RTCRtpSender&&!("replaceTrack"in ot.RTCRtpSender.prototype)&&(ot.RTCRtpSender.prototype.replaceTrack=ot.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(ot,st){if(!(!("getDisplayMedia"in ot.navigator)||!ot.navigator.mediaDevices||"getDisplayMedia"in ot.navigator.mediaDevices)){var at=ot.navigator.getDisplayMedia;ot.navigator.mediaDevices.getDisplayMedia=function(ct){return at.call(ot.navigator,ct)},ot.navigator.getDisplayMedia=function(ct){return nt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),at.call(ot.navigator,ct)}}}}},function(_e,tt,et){var nt=et(27);_e.exports=function(rt,it){var ot=!1;return rt=JSON.parse(JSON.stringify(rt)),rt.filter(function(st){if(st&&(st.urls||st.url)){var at=st.urls||st.url;st.url&&!st.urls&&nt.deprecated("RTCIceServer.url","RTCIceServer.urls");var ct=typeof at=="string";return ct&&(at=[at]),at=at.filter(function(lt){var dt=lt.indexOf("turn:")===0&&lt.indexOf("transport=udp")!==-1&&lt.indexOf("turn:[")===-1&&!ot;return dt?(ot=!0,!0):lt.indexOf("stun:")===0&&it>=14393&&lt.indexOf("?transport=udp")===-1}),delete st.url,st.urls=ct?at[0]:at,!!at.length}})}},function(_e,tt,et){(function(nt){var rt=et(250);function it(ut){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[ut.type]||ut.type}function ot(ut,ft,pt,bt,Tt){var ht=rt.writeRtpDescription(ut.kind,ft);if(ht+=rt.writeIceParameters(ut.iceGatherer.getLocalParameters()),ht+=rt.writeDtlsParameters(ut.dtlsTransport.getLocalParameters(),pt==="offer"?"actpass":Tt||"active"),ht+="a=mid:"+ut.mid+`\r
`,ut.rtpSender&&ut.rtpReceiver?ht+=`a=sendrecv\r
`:ut.rtpSender?ht+=`a=sendonly\r
`:ut.rtpReceiver?ht+=`a=recvonly\r
`:ht+=`a=inactive\r
`,ut.rtpSender){var gt=ut.rtpSender._initialTrackId||ut.rtpSender.track.id;ut.rtpSender._initialTrackId=gt;var vt="msid:"+(bt?bt.id:"-")+" "+gt+`\r
`;ht+="a="+vt,ht+="a=ssrc:"+ut.sendEncodingParameters[0].ssrc+" "+vt,ut.sendEncodingParameters[0].rtx&&(ht+="a=ssrc:"+ut.sendEncodingParameters[0].rtx.ssrc+" "+vt,ht+="a=ssrc-group:FID "+ut.sendEncodingParameters[0].ssrc+" "+ut.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return ht+="a=ssrc:"+ut.sendEncodingParameters[0].ssrc+" cname:"+rt.localCName+`\r
`,ut.rtpSender&&ut.sendEncodingParameters[0].rtx&&(ht+="a=ssrc:"+ut.sendEncodingParameters[0].rtx.ssrc+" cname:"+rt.localCName+`\r
`),ht}function st(ut,ft){var pt=!1;return ut=JSON.parse(JSON.stringify(ut)),ut.filter(function(bt){if(bt&&(bt.urls||bt.url)){var Tt=bt.urls||bt.url;bt.url&&!bt.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var ht=typeof Tt=="string";return ht&&(Tt=[Tt]),Tt=Tt.filter(function(gt){var vt=gt.indexOf("turn:")===0&&gt.indexOf("transport=udp")!==-1&&gt.indexOf("turn:[")===-1&&!pt;return vt?(pt=!0,!0):gt.indexOf("stun:")===0&&ft>=14393&&gt.indexOf("?transport=udp")===-1}),delete bt.url,bt.urls=ht?Tt[0]:Tt,!!Tt.length}})}function at(ut,ft){var pt={codecs:[],headerExtensions:[],fecMechanisms:[]},bt=function(ht,gt){ht=parseInt(ht,10);for(var vt=0;vt<gt.length;vt++)if(gt[vt].payloadType===ht||gt[vt].preferredPayloadType===ht)return gt[vt]},Tt=function(ht,gt,vt,Ct){var It=bt(ht.parameters.apt,vt),Zt=bt(gt.parameters.apt,Ct);return It&&Zt&&It.name.toLowerCase()===Zt.name.toLowerCase()};return ut.codecs.forEach(function(ht){for(var gt=0;gt<ft.codecs.length;gt++){var vt=ft.codecs[gt];if(ht.name.toLowerCase()===vt.name.toLowerCase()&&ht.clockRate===vt.clockRate){if(ht.name.toLowerCase()==="rtx"&&ht.parameters&&vt.parameters.apt&&!Tt(ht,vt,ut.codecs,ft.codecs))continue;vt=JSON.parse(JSON.stringify(vt)),vt.numChannels=Math.min(ht.numChannels,vt.numChannels),pt.codecs.push(vt),vt.rtcpFeedback=vt.rtcpFeedback.filter(function(Ct){for(var It=0;It<ht.rtcpFeedback.length;It++)if(ht.rtcpFeedback[It].type===Ct.type&&ht.rtcpFeedback[It].parameter===Ct.parameter)return!0;return!1});break}}}),ut.headerExtensions.forEach(function(ht){for(var gt=0;gt<ft.headerExtensions.length;gt++){var vt=ft.headerExtensions[gt];if(ht.uri===vt.uri){pt.headerExtensions.push(vt);break}}}),pt}function ct(ut,ft,pt){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[ft][ut].indexOf(pt)!==-1}function lt(ut,ft){var pt=ut.getRemoteCandidates().find(function(bt){return ft.foundation===bt.foundation&&ft.ip===bt.ip&&ft.port===bt.port&&ft.priority===bt.priority&&ft.protocol===bt.protocol&&ft.type===bt.type});return pt||ut.addRemoteCandidate(ft),!pt}function dt(ut,ft){var pt=new Error(ft);return pt.name=ut,pt.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[ut],pt}_e.exports=function(ut,ft){function pt(Ct,It){It.addTrack(Ct),It.dispatchEvent(new ut.MediaStreamTrackEvent("addtrack",{track:Ct}))}function bt(Ct,It){It.removeTrack(Ct),It.dispatchEvent(new ut.MediaStreamTrackEvent("removetrack",{track:Ct}))}function Tt(Ct,It,Zt,Wt){var kt=new Event("track");kt.track=It,kt.receiver=Zt,kt.transceiver={receiver:Zt},kt.streams=Wt,ut.setTimeout(function(){Ct._dispatchEvent("track",kt)})}var ht=function(Ct){var It=this,Zt=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(kt){It[kt]=Zt[kt].bind(Zt)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",Ct=JSON.parse(JSON.stringify(Ct||{})),this.usingBundle=Ct.bundlePolicy==="max-bundle",Ct.rtcpMuxPolicy==="negotiate")throw dt("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(Ct.rtcpMuxPolicy||(Ct.rtcpMuxPolicy="require"),Ct.iceTransportPolicy){case"all":case"relay":break;default:Ct.iceTransportPolicy="all";break}switch(Ct.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:Ct.bundlePolicy="balanced";break}if(Ct.iceServers=st(Ct.iceServers||[],ft),this._iceGatherers=[],Ct.iceCandidatePoolSize)for(var Wt=Ct.iceCandidatePoolSize;Wt>0;Wt--)this._iceGatherers.push(new ut.RTCIceGatherer({iceServers:Ct.iceServers,gatherPolicy:Ct.iceTransportPolicy}));else Ct.iceCandidatePoolSize=0;this._config=Ct,this.transceivers=[],this._sdpSessionId=rt.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(ht.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(ht.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),ht.prototype.onicecandidate=null,ht.prototype.onaddstream=null,ht.prototype.ontrack=null,ht.prototype.onremovestream=null,ht.prototype.onsignalingstatechange=null,ht.prototype.oniceconnectionstatechange=null,ht.prototype.onconnectionstatechange=null,ht.prototype.onicegatheringstatechange=null,ht.prototype.onnegotiationneeded=null,ht.prototype.ondatachannel=null,ht.prototype._dispatchEvent=function(Ct,It){this._isClosed||(this.dispatchEvent(It),typeof this["on"+Ct]=="function"&&this["on"+Ct](It))},ht.prototype._emitGatheringStateChange=function(){var Ct=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",Ct)},ht.prototype.getConfiguration=function(){return this._config},ht.prototype.getLocalStreams=function(){return this.localStreams},ht.prototype.getRemoteStreams=function(){return this.remoteStreams},ht.prototype._createTransceiver=function(Ct,It){var Zt=this.transceivers.length>0,Wt={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:Ct,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&Zt)Wt.iceTransport=this.transceivers[0].iceTransport,Wt.dtlsTransport=this.transceivers[0].dtlsTransport;else{var kt=this._createIceAndDtlsTransports();Wt.iceTransport=kt.iceTransport,Wt.dtlsTransport=kt.dtlsTransport}return It||this.transceivers.push(Wt),Wt},ht.prototype.addTrack=function(Ct,It){if(this._isClosed)throw dt("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var Zt=this.transceivers.find(function(Nt){return Nt.track===Ct});if(Zt)throw dt("InvalidAccessError","Track already exists.");for(var Wt,kt=0;kt<this.transceivers.length;kt++)!this.transceivers[kt].track&&this.transceivers[kt].kind===Ct.kind&&(Wt=this.transceivers[kt]);return Wt||(Wt=this._createTransceiver(Ct.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(It)===-1&&this.localStreams.push(It),Wt.track=Ct,Wt.stream=It,Wt.rtpSender=new ut.RTCRtpSender(Ct,Wt.dtlsTransport),Wt.rtpSender},ht.prototype.addStream=function(Ct){var It=this;if(ft>=15025)Ct.getTracks().forEach(function(Wt){It.addTrack(Wt,Ct)});else{var Zt=Ct.clone();Ct.getTracks().forEach(function(Wt,kt){var Nt=Zt.getTracks()[kt];Wt.addEventListener("enabled",function(Lt){Nt.enabled=Lt.enabled})}),Zt.getTracks().forEach(function(Wt){It.addTrack(Wt,Zt)})}},ht.prototype.removeTrack=function(Ct){if(this._isClosed)throw dt("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(Ct instanceof ut.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var It=this.transceivers.find(function(kt){return kt.rtpSender===Ct});if(!It)throw dt("InvalidAccessError","Sender was not created by this connection.");var Zt=It.stream;It.rtpSender.stop(),It.rtpSender=null,It.track=null,It.stream=null;var Wt=this.transceivers.map(function(kt){return kt.stream});Wt.indexOf(Zt)===-1&&this.localStreams.indexOf(Zt)>-1&&this.localStreams.splice(this.localStreams.indexOf(Zt),1),this._maybeFireNegotiationNeeded()},ht.prototype.removeStream=function(Ct){var It=this;Ct.getTracks().forEach(function(Zt){var Wt=It.getSenders().find(function(kt){return kt.track===Zt});Wt&&It.removeTrack(Wt)})},ht.prototype.getSenders=function(){return this.transceivers.filter(function(Ct){return!!Ct.rtpSender}).map(function(Ct){return Ct.rtpSender})},ht.prototype.getReceivers=function(){return this.transceivers.filter(function(Ct){return!!Ct.rtpReceiver}).map(function(Ct){return Ct.rtpReceiver})},ht.prototype._createIceGatherer=function(Ct,It){var Zt=this;if(It&&Ct>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var Wt=new ut.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(Wt,"state",{value:"new",writable:!0}),this.transceivers[Ct].bufferedCandidateEvents=[],this.transceivers[Ct].bufferCandidates=function(kt){var Nt=!kt.candidate||Object.keys(kt.candidate).length===0;Wt.state=Nt?"completed":"gathering",Zt.transceivers[Ct].bufferedCandidateEvents!==null&&Zt.transceivers[Ct].bufferedCandidateEvents.push(kt)},Wt.addEventListener("localcandidate",this.transceivers[Ct].bufferCandidates),Wt},ht.prototype._gather=function(Ct,It){var Zt=this,Wt=this.transceivers[It].iceGatherer;if(!Wt.onlocalcandidate){var kt=this.transceivers[It].bufferedCandidateEvents;this.transceivers[It].bufferedCandidateEvents=null,Wt.removeEventListener("localcandidate",this.transceivers[It].bufferCandidates),Wt.onlocalcandidate=function(Nt){if(!(Zt.usingBundle&&It>0)){var Lt=new Event("icecandidate");Lt.candidate={sdpMid:Ct,sdpMLineIndex:It};var Mt=Nt.candidate,tn=!Mt||Object.keys(Mt).length===0;if(tn)(Wt.state==="new"||Wt.state==="gathering")&&(Wt.state="completed");else{Wt.state==="new"&&(Wt.state="gathering"),Mt.component=1,Mt.ufrag=Wt.getLocalParameters().usernameFragment;var $t=rt.writeCandidate(Mt);Lt.candidate=Object.assign(Lt.candidate,rt.parseCandidate($t)),Lt.candidate.candidate=$t,Lt.candidate.toJSON=function(){return{candidate:Lt.candidate.candidate,sdpMid:Lt.candidate.sdpMid,sdpMLineIndex:Lt.candidate.sdpMLineIndex,usernameFragment:Lt.candidate.usernameFragment}}}var Ht=rt.getMediaSections(Zt._localDescription.sdp);tn?Ht[Lt.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:Ht[Lt.candidate.sdpMLineIndex]+="a="+Lt.candidate.candidate+`\r
`,Zt._localDescription.sdp=rt.getDescription(Zt._localDescription.sdp)+Ht.join("");var rn=Zt.transceivers.every(function(ln){return ln.iceGatherer&&ln.iceGatherer.state==="completed"});Zt.iceGatheringState!=="gathering"&&(Zt.iceGatheringState="gathering",Zt._emitGatheringStateChange()),tn||Zt._dispatchEvent("icecandidate",Lt),rn&&(Zt._dispatchEvent("icecandidate",new Event("icecandidate")),Zt.iceGatheringState="complete",Zt._emitGatheringStateChange())}},ut.setTimeout(function(){kt.forEach(function(Nt){Wt.onlocalcandidate(Nt)})},0)}},ht.prototype._createIceAndDtlsTransports=function(){var Ct=this,It=new ut.RTCIceTransport(null);It.onicestatechange=function(){Ct._updateIceConnectionState(),Ct._updateConnectionState()};var Zt=new ut.RTCDtlsTransport(It);return Zt.ondtlsstatechange=function(){Ct._updateConnectionState()},Zt.onerror=function(){Object.defineProperty(Zt,"state",{value:"failed",writable:!0}),Ct._updateConnectionState()},{iceTransport:It,dtlsTransport:Zt}},ht.prototype._disposeIceAndDtlsTransports=function(Ct){var It=this.transceivers[Ct].iceGatherer;It&&(delete It.onlocalcandidate,delete this.transceivers[Ct].iceGatherer);var Zt=this.transceivers[Ct].iceTransport;Zt&&(delete Zt.onicestatechange,delete this.transceivers[Ct].iceTransport);var Wt=this.transceivers[Ct].dtlsTransport;Wt&&(delete Wt.ondtlsstatechange,delete Wt.onerror,delete this.transceivers[Ct].dtlsTransport)},ht.prototype._transceive=function(Ct,It,Zt){var Wt=at(Ct.localCapabilities,Ct.remoteCapabilities);It&&Ct.rtpSender&&(Wt.encodings=Ct.sendEncodingParameters,Wt.rtcp={cname:rt.localCName,compound:Ct.rtcpParameters.compound},Ct.recvEncodingParameters.length&&(Wt.rtcp.ssrc=Ct.recvEncodingParameters[0].ssrc),Ct.rtpSender.send(Wt)),Zt&&Ct.rtpReceiver&&Wt.codecs.length>0&&(Ct.kind==="video"&&Ct.recvEncodingParameters&&ft<15019&&Ct.recvEncodingParameters.forEach(function(kt){delete kt.rtx}),Ct.recvEncodingParameters.length?Wt.encodings=Ct.recvEncodingParameters:Wt.encodings=[{}],Wt.rtcp={compound:Ct.rtcpParameters.compound},Ct.rtcpParameters.cname&&(Wt.rtcp.cname=Ct.rtcpParameters.cname),Ct.sendEncodingParameters.length&&(Wt.rtcp.ssrc=Ct.sendEncodingParameters[0].ssrc),Ct.rtpReceiver.receive(Wt))},ht.prototype.setLocalDescription=function(Ct){var It=this;if(["offer","answer"].indexOf(Ct.type)===-1)return nt.reject(dt("TypeError",'Unsupported type "'+Ct.type+'"'));if(!ct("setLocalDescription",Ct.type,It.signalingState)||It._isClosed)return nt.reject(dt("InvalidStateError","Can not set local "+Ct.type+" in state "+It.signalingState));var Zt,Wt;if(Ct.type==="offer")Zt=rt.splitSections(Ct.sdp),Wt=Zt.shift(),Zt.forEach(function(Nt,Lt){var Mt=rt.parseRtpParameters(Nt);It.transceivers[Lt].localCapabilities=Mt}),It.transceivers.forEach(function(Nt,Lt){It._gather(Nt.mid,Lt)});else if(Ct.type==="answer"){Zt=rt.splitSections(It._remoteDescription.sdp),Wt=Zt.shift();var kt=rt.matchPrefix(Wt,"a=ice-lite").length>0;Zt.forEach(function(Nt,Lt){var Mt=It.transceivers[Lt],tn=Mt.iceGatherer,$t=Mt.iceTransport,Ht=Mt.dtlsTransport,rn=Mt.localCapabilities,ln=Mt.remoteCapabilities,mn=rt.isRejected(Nt)&&rt.matchPrefix(Nt,"a=bundle-only").length===0;if(!mn&&!Mt.rejected){var on=rt.getIceParameters(Nt,Wt),yn=rt.getDtlsParameters(Nt,Wt);kt&&(yn.role="server"),(!It.usingBundle||Lt===0)&&(It._gather(Mt.mid,Lt),$t.state==="new"&&$t.start(tn,on,kt?"controlling":"controlled"),Ht.state==="new"&&Ht.start(yn));var hn=at(rn,ln);It._transceive(Mt,hn.codecs.length>0,!1)}})}return It._localDescription={type:Ct.type,sdp:Ct.sdp},Ct.type==="offer"?It._updateSignalingState("have-local-offer"):It._updateSignalingState("stable"),nt.resolve()},ht.prototype.setRemoteDescription=function(Ct){var It=this;if(["offer","answer"].indexOf(Ct.type)===-1)return nt.reject(dt("TypeError",'Unsupported type "'+Ct.type+'"'));if(!ct("setRemoteDescription",Ct.type,It.signalingState)||It._isClosed)return nt.reject(dt("InvalidStateError","Can not set remote "+Ct.type+" in state "+It.signalingState));var Zt={};It.remoteStreams.forEach(function($t){Zt[$t.id]=$t});var Wt=[],kt=rt.splitSections(Ct.sdp),Nt=kt.shift(),Lt=rt.matchPrefix(Nt,"a=ice-lite").length>0,Mt=rt.matchPrefix(Nt,"a=group:BUNDLE ").length>0;It.usingBundle=Mt;var tn=rt.matchPrefix(Nt,"a=ice-options:")[0];return tn?It.canTrickleIceCandidates=tn.substr(14).split(" ").indexOf("trickle")>=0:It.canTrickleIceCandidates=!1,kt.forEach(function($t,Ht){var rn=rt.splitLines($t),ln=rt.getKind($t),mn=rt.isRejected($t)&&rt.matchPrefix($t,"a=bundle-only").length===0,on=rn[0].substr(2).split(" ")[2],yn=rt.getDirection($t,Nt),hn=rt.parseMsid($t),un=rt.getMid($t)||rt.generateIdentifier();if(mn||ln==="application"&&(on==="DTLS/SCTP"||on==="UDP/DTLS/SCTP")){It.transceivers[Ht]={mid:un,kind:ln,protocol:on,rejected:!0};return}!mn&&It.transceivers[Ht]&&It.transceivers[Ht].rejected&&(It.transceivers[Ht]=It._createTransceiver(ln,!0));var dn,Nn,Wn,pn,Rn,xn,Jn,cr,er,_n=rt.parseRtpParameters($t),Sr,vr;mn||(Sr=rt.getIceParameters($t,Nt),vr=rt.getDtlsParameters($t,Nt),vr.role="client"),Jn=rt.parseRtpEncodingParameters($t);var Gr=rt.parseRtcpParameters($t),Lr=rt.matchPrefix($t,"a=end-of-candidates",Nt).length>0,Ur=rt.matchPrefix($t,"a=candidate:").map(function(Gn){return rt.parseCandidate(Gn)}).filter(function(Gn){return Gn.component===1});if((Ct.type==="offer"||Ct.type==="answer")&&!mn&&Mt&&Ht>0&&It.transceivers[Ht]&&(It._disposeIceAndDtlsTransports(Ht),It.transceivers[Ht].iceGatherer=It.transceivers[0].iceGatherer,It.transceivers[Ht].iceTransport=It.transceivers[0].iceTransport,It.transceivers[Ht].dtlsTransport=It.transceivers[0].dtlsTransport,It.transceivers[Ht].rtpSender&&It.transceivers[Ht].rtpSender.setTransport(It.transceivers[0].dtlsTransport),It.transceivers[Ht].rtpReceiver&&It.transceivers[Ht].rtpReceiver.setTransport(It.transceivers[0].dtlsTransport)),Ct.type==="offer"&&!mn){dn=It.transceivers[Ht]||It._createTransceiver(ln),dn.mid=un,dn.iceGatherer||(dn.iceGatherer=It._createIceGatherer(Ht,Mt)),Ur.length&&dn.iceTransport.state==="new"&&(Lr&&(!Mt||Ht===0)?dn.iceTransport.setRemoteCandidates(Ur):Ur.forEach(function(Gn){lt(dn.iceTransport,Gn)})),cr=ut.RTCRtpReceiver.getCapabilities(ln),ft<15019&&(cr.codecs=cr.codecs.filter(function(Gn){return Gn.name!=="rtx"})),xn=dn.sendEncodingParameters||[{ssrc:(2*Ht+2)*1001}];var co=!1;if(yn==="sendrecv"||yn==="sendonly"){if(co=!dn.rtpReceiver,Rn=dn.rtpReceiver||new ut.RTCRtpReceiver(dn.dtlsTransport,ln),co){var Tr;er=Rn.track,hn&&hn.stream==="-"||(hn?(Zt[hn.stream]||(Zt[hn.stream]=new ut.MediaStream,Object.defineProperty(Zt[hn.stream],"id",{get:function(){return hn.stream}})),Object.defineProperty(er,"id",{get:function(){return hn.track}}),Tr=Zt[hn.stream]):(Zt.default||(Zt.default=new ut.MediaStream),Tr=Zt.default)),Tr&&(pt(er,Tr),dn.associatedRemoteMediaStreams.push(Tr)),Wt.push([er,Rn,Tr])}}else dn.rtpReceiver&&dn.rtpReceiver.track&&(dn.associatedRemoteMediaStreams.forEach(function(Gn){var lr=Gn.getTracks().find(function(Vr){return Vr.id===dn.rtpReceiver.track.id});lr&&bt(lr,Gn)}),dn.associatedRemoteMediaStreams=[]);dn.localCapabilities=cr,dn.remoteCapabilities=_n,dn.rtpReceiver=Rn,dn.rtcpParameters=Gr,dn.sendEncodingParameters=xn,dn.recvEncodingParameters=Jn,It._transceive(It.transceivers[Ht],!1,co)}else if(Ct.type==="answer"&&!mn){dn=It.transceivers[Ht],Nn=dn.iceGatherer,Wn=dn.iceTransport,pn=dn.dtlsTransport,Rn=dn.rtpReceiver,xn=dn.sendEncodingParameters,cr=dn.localCapabilities,It.transceivers[Ht].recvEncodingParameters=Jn,It.transceivers[Ht].remoteCapabilities=_n,It.transceivers[Ht].rtcpParameters=Gr,Ur.length&&Wn.state==="new"&&((Lt||Lr)&&(!Mt||Ht===0)?Wn.setRemoteCandidates(Ur):Ur.forEach(function(Gn){lt(dn.iceTransport,Gn)})),(!Mt||Ht===0)&&(Wn.state==="new"&&Wn.start(Nn,Sr,"controlling"),pn.state==="new"&&pn.start(vr));var wr=at(dn.localCapabilities,dn.remoteCapabilities),Bn=wr.codecs.filter(function(Gn){return Gn.name.toLowerCase()==="rtx"}).length;!Bn&&dn.sendEncodingParameters[0].rtx&&delete dn.sendEncodingParameters[0].rtx,It._transceive(dn,yn==="sendrecv"||yn==="recvonly",yn==="sendrecv"||yn==="sendonly"),Rn&&(yn==="sendrecv"||yn==="sendonly")?(er=Rn.track,hn?(Zt[hn.stream]||(Zt[hn.stream]=new ut.MediaStream),pt(er,Zt[hn.stream]),Wt.push([er,Rn,Zt[hn.stream]])):(Zt.default||(Zt.default=new ut.MediaStream),pt(er,Zt.default),Wt.push([er,Rn,Zt.default]))):delete dn.rtpReceiver}}),It._dtlsRole===void 0&&(It._dtlsRole=Ct.type==="offer"?"active":"passive"),It._remoteDescription={type:Ct.type,sdp:Ct.sdp},Ct.type==="offer"?It._updateSignalingState("have-remote-offer"):It._updateSignalingState("stable"),Object.keys(Zt).forEach(function($t){var Ht=Zt[$t];if(Ht.getTracks().length){if(It.remoteStreams.indexOf(Ht)===-1){It.remoteStreams.push(Ht);var rn=new Event("addstream");rn.stream=Ht,ut.setTimeout(function(){It._dispatchEvent("addstream",rn)})}Wt.forEach(function(ln){var mn=ln[0],on=ln[1];Ht.id===ln[2].id&&Tt(It,mn,on,[Ht])})}}),Wt.forEach(function($t){$t[2]||Tt(It,$t[0],$t[1],[])}),ut.setTimeout(function(){It&&It.transceivers&&It.transceivers.forEach(function($t){$t.iceTransport&&$t.iceTransport.state==="new"&&$t.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),$t.iceTransport.addRemoteCandidate({}))})},4e3),nt.resolve()},ht.prototype.close=function(){this.transceivers.forEach(function(Ct){Ct.iceTransport&&Ct.iceTransport.stop(),Ct.dtlsTransport&&Ct.dtlsTransport.stop(),Ct.rtpSender&&Ct.rtpSender.stop(),Ct.rtpReceiver&&Ct.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},ht.prototype._updateSignalingState=function(Ct){this.signalingState=Ct;var It=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",It)},ht.prototype._maybeFireNegotiationNeeded=function(){var Ct=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,ut.setTimeout(function(){if(Ct.needNegotiation){Ct.needNegotiation=!1;var It=new Event("negotiationneeded");Ct._dispatchEvent("negotiationneeded",It)}},0))},ht.prototype._updateIceConnectionState=function(){var Ct,It={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(Wt){Wt.iceTransport&&!Wt.rejected&&It[Wt.iceTransport.state]++}),Ct="new",It.failed>0?Ct="failed":It.checking>0?Ct="checking":It.disconnected>0?Ct="disconnected":It.new>0?Ct="new":It.connected>0?Ct="connected":It.completed>0&&(Ct="completed"),Ct!==this.iceConnectionState){this.iceConnectionState=Ct;var Zt=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",Zt)}},ht.prototype._updateConnectionState=function(){var Ct,It={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(Wt){Wt.iceTransport&&Wt.dtlsTransport&&!Wt.rejected&&(It[Wt.iceTransport.state]++,It[Wt.dtlsTransport.state]++)}),It.connected+=It.completed,Ct="new",It.failed>0?Ct="failed":It.connecting>0?Ct="connecting":It.disconnected>0?Ct="disconnected":It.new>0?Ct="new":It.connected>0&&(Ct="connected"),Ct!==this.connectionState){this.connectionState=Ct;var Zt=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",Zt)}},ht.prototype.createOffer=function(){var Ct=this;if(Ct._isClosed)return nt.reject(dt("InvalidStateError","Can not call createOffer after close"));var It=Ct.transceivers.filter(function(Lt){return Lt.kind==="audio"}).length,Zt=Ct.transceivers.filter(function(Lt){return Lt.kind==="video"}).length,Wt=arguments[0];if(Wt){if(Wt.mandatory||Wt.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");Wt.offerToReceiveAudio!==void 0&&(Wt.offerToReceiveAudio===!0?It=1:Wt.offerToReceiveAudio===!1?It=0:It=Wt.offerToReceiveAudio),Wt.offerToReceiveVideo!==void 0&&(Wt.offerToReceiveVideo===!0?Zt=1:Wt.offerToReceiveVideo===!1?Zt=0:Zt=Wt.offerToReceiveVideo)}for(Ct.transceivers.forEach(function(Lt){Lt.kind==="audio"?(It--,It<0&&(Lt.wantReceive=!1)):Lt.kind==="video"&&(Zt--,Zt<0&&(Lt.wantReceive=!1))});It>0||Zt>0;)It>0&&(Ct._createTransceiver("audio"),It--),Zt>0&&(Ct._createTransceiver("video"),Zt--);var kt=rt.writeSessionBoilerplate(Ct._sdpSessionId,Ct._sdpSessionVersion++);Ct.transceivers.forEach(function(Lt,Mt){var tn=Lt.track,$t=Lt.kind,Ht=Lt.mid||rt.generateIdentifier();Lt.mid=Ht,Lt.iceGatherer||(Lt.iceGatherer=Ct._createIceGatherer(Mt,Ct.usingBundle));var rn=ut.RTCRtpSender.getCapabilities($t);ft<15019&&(rn.codecs=rn.codecs.filter(function(mn){return mn.name!=="rtx"})),rn.codecs.forEach(function(mn){mn.name==="H264"&&mn.parameters["level-asymmetry-allowed"]===void 0&&(mn.parameters["level-asymmetry-allowed"]="1"),Lt.remoteCapabilities&&Lt.remoteCapabilities.codecs&&Lt.remoteCapabilities.codecs.forEach(function(on){mn.name.toLowerCase()===on.name.toLowerCase()&&mn.clockRate===on.clockRate&&(mn.preferredPayloadType=on.payloadType)})}),rn.headerExtensions.forEach(function(mn){var on=Lt.remoteCapabilities&&Lt.remoteCapabilities.headerExtensions||[];on.forEach(function(yn){mn.uri===yn.uri&&(mn.id=yn.id)})});var ln=Lt.sendEncodingParameters||[{ssrc:(2*Mt+1)*1001}];tn&&ft>=15019&&$t==="video"&&!ln[0].rtx&&(ln[0].rtx={ssrc:ln[0].ssrc+1}),Lt.wantReceive&&(Lt.rtpReceiver=new ut.RTCRtpReceiver(Lt.dtlsTransport,$t)),Lt.localCapabilities=rn,Lt.sendEncodingParameters=ln}),Ct._config.bundlePolicy!=="max-compat"&&(kt+="a=group:BUNDLE "+Ct.transceivers.map(function(Lt){return Lt.mid}).join(" ")+`\r
`),kt+=`a=ice-options:trickle\r
`,Ct.transceivers.forEach(function(Lt,Mt){kt+=ot(Lt,Lt.localCapabilities,"offer",Lt.stream,Ct._dtlsRole),kt+=`a=rtcp-rsize\r
`,Lt.iceGatherer&&Ct.iceGatheringState!=="new"&&(Mt===0||!Ct.usingBundle)&&(Lt.iceGatherer.getLocalCandidates().forEach(function(tn){tn.component=1,kt+="a="+rt.writeCandidate(tn)+`\r
`}),Lt.iceGatherer.state==="completed"&&(kt+=`a=end-of-candidates\r
`))});var Nt=new ut.RTCSessionDescription({type:"offer",sdp:kt});return nt.resolve(Nt)},ht.prototype.createAnswer=function(){var Ct=this;if(Ct._isClosed)return nt.reject(dt("InvalidStateError","Can not call createAnswer after close"));if(!(Ct.signalingState==="have-remote-offer"||Ct.signalingState==="have-local-pranswer"))return nt.reject(dt("InvalidStateError","Can not call createAnswer in signalingState "+Ct.signalingState));var It=rt.writeSessionBoilerplate(Ct._sdpSessionId,Ct._sdpSessionVersion++);Ct.usingBundle&&(It+="a=group:BUNDLE "+Ct.transceivers.map(function(kt){return kt.mid}).join(" ")+`\r
`),It+=`a=ice-options:trickle\r
`;var Zt=rt.getMediaSections(Ct._remoteDescription.sdp).length;Ct.transceivers.forEach(function(kt,Nt){if(!(Nt+1>Zt)){if(kt.rejected){kt.kind==="application"?kt.protocol==="DTLS/SCTP"?It+=`m=application 0 DTLS/SCTP 5000\r
`:It+="m=application 0 "+kt.protocol+` webrtc-datachannel\r
`:kt.kind==="audio"?It+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:kt.kind==="video"&&(It+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),It+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+kt.mid+`\r
`;return}if(kt.stream){var Lt;kt.kind==="audio"?Lt=kt.stream.getAudioTracks()[0]:kt.kind==="video"&&(Lt=kt.stream.getVideoTracks()[0]),Lt&&ft>=15019&&kt.kind==="video"&&!kt.sendEncodingParameters[0].rtx&&(kt.sendEncodingParameters[0].rtx={ssrc:kt.sendEncodingParameters[0].ssrc+1})}var Mt=at(kt.localCapabilities,kt.remoteCapabilities),tn=Mt.codecs.filter(function($t){return $t.name.toLowerCase()==="rtx"}).length;!tn&&kt.sendEncodingParameters[0].rtx&&delete kt.sendEncodingParameters[0].rtx,It+=ot(kt,Mt,"answer",kt.stream,Ct._dtlsRole),kt.rtcpParameters&&kt.rtcpParameters.reducedSize&&(It+=`a=rtcp-rsize\r
`)}});var Wt=new ut.RTCSessionDescription({type:"answer",sdp:It});return nt.resolve(Wt)},ht.prototype.addIceCandidate=function(Ct){var It=this,Zt;return Ct&&!(Ct.sdpMLineIndex!==void 0||Ct.sdpMid)?nt.reject(new TypeError("sdpMLineIndex or sdpMid required")):new nt(function(Wt,kt){if(It._remoteDescription)if(!Ct||Ct.candidate==="")for(var Nt=0;Nt<It.transceivers.length&&!(!It.transceivers[Nt].rejected&&(It.transceivers[Nt].iceTransport.addRemoteCandidate({}),Zt=rt.getMediaSections(It._remoteDescription.sdp),Zt[Nt]+=`a=end-of-candidates\r
`,It._remoteDescription.sdp=rt.getDescription(It._remoteDescription.sdp)+Zt.join(""),It.usingBundle));Nt++);else{var Lt=Ct.sdpMLineIndex;if(Ct.sdpMid){for(var Mt=0;Mt<It.transceivers.length;Mt++)if(It.transceivers[Mt].mid===Ct.sdpMid){Lt=Mt;break}}var tn=It.transceivers[Lt];if(tn){if(tn.rejected)return Wt();var $t=Object.keys(Ct.candidate).length>0?rt.parseCandidate(Ct.candidate):{};if($t.protocol==="tcp"&&($t.port===0||$t.port===9)||$t.component&&$t.component!==1)return Wt();if((Lt===0||Lt>0&&tn.iceTransport!==It.transceivers[0].iceTransport)&&!lt(tn.iceTransport,$t))return kt(dt("OperationError","Can not add ICE candidate"));var Ht=Ct.candidate.trim();Ht.indexOf("a=")===0&&(Ht=Ht.substr(2)),Zt=rt.getMediaSections(It._remoteDescription.sdp),Zt[Lt]+="a="+($t.type?Ht:"end-of-candidates")+`\r
`,It._remoteDescription.sdp=rt.getDescription(It._remoteDescription.sdp)+Zt.join("")}else return kt(dt("OperationError","Can not add ICE candidate"))}else return kt(dt("InvalidStateError","Can not add ICE candidate without a remote description"));Wt()})},ht.prototype.getStats=function(Ct){if(Ct&&Ct instanceof ut.MediaStreamTrack){var It=null;if(this.transceivers.forEach(function(Wt){Wt.rtpSender&&Wt.rtpSender.track===Ct?It=Wt.rtpSender:Wt.rtpReceiver&&Wt.rtpReceiver.track===Ct&&(It=Wt.rtpReceiver)}),!It)throw dt("InvalidAccessError","Invalid selector.");return It.getStats()}var Zt=[];return this.transceivers.forEach(function(Wt){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(kt){Wt[kt]&&Zt.push(Wt[kt].getStats())})}),nt.all(Zt).then(function(Wt){var kt=new Map;return Wt.forEach(function(Nt){Nt.forEach(function(Lt){kt.set(Lt.id,Lt)})}),kt})};var gt=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];gt.forEach(function(Ct){var It=ut[Ct];if(It&&It.prototype&&It.prototype.getStats){var Zt=It.prototype.getStats;It.prototype.getStats=function(){return Zt.apply(this).then(function(Wt){var kt=new Map;return Object.keys(Wt).forEach(function(Nt){Wt[Nt].type=it(Wt[Nt]),kt.set(Nt,Wt[Nt])}),kt})}}});var vt=["createOffer","createAnswer"];return vt.forEach(function(Ct){var It=ht.prototype[Ct];ht.prototype[Ct]=function(){var Zt=arguments;return typeof Zt[0]=="function"||typeof Zt[1]=="function"?It.apply(this,[arguments[2]]).then(function(Wt){typeof Zt[0]=="function"&&Zt[0].apply(null,[Wt])},function(Wt){typeof Zt[1]=="function"&&Zt[1].apply(null,[Wt])}):It.apply(this,arguments)}}),vt=["setLocalDescription","setRemoteDescription","addIceCandidate"],vt.forEach(function(Ct){var It=ht.prototype[Ct];ht.prototype[Ct]=function(){var Zt=arguments;return typeof Zt[1]=="function"||typeof Zt[2]=="function"?It.apply(this,arguments).then(function(){typeof Zt[1]=="function"&&Zt[1].apply(null)},function(Wt){typeof Zt[2]=="function"&&Zt[2].apply(null,[Wt])}):It.apply(this,arguments)}}),["getStats"].forEach(function(Ct){var It=ht.prototype[Ct];ht.prototype[Ct]=function(){var Zt=arguments;return typeof Zt[1]=="function"?It.apply(this,arguments).then(function(){typeof Zt[1]=="function"&&Zt[1].apply(null)}):It.apply(this,arguments)}}),ht}}).call(this,et(0))},function(_e,tt,et){(function(nt){_e.exports=function(rt){var it=rt&&rt.navigator,ot=function(at){return{name:{PermissionDeniedError:"NotAllowedError"}[at.name]||at.name,message:at.message,constraint:at.constraint,toString:function(){return this.name}}},st=it.mediaDevices.getUserMedia.bind(it.mediaDevices);it.mediaDevices.getUserMedia=function(at){return st(at).catch(function(ct){return nt.reject(ot(ct))})}}}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(27);_e.exports={shimGetUserMedia:et(575),shimOnTrack:function(it){typeof it=="object"&&it.RTCPeerConnection&&!("ontrack"in it.RTCPeerConnection.prototype)&&Object.defineProperty(it.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(ot){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=ot),this.addEventListener("addstream",this._ontrackpoly=function(st){st.stream.getTracks().forEach(function(at){var ct=new Event("track");ct.track=at,ct.receiver={track:at},ct.transceiver={receiver:ct.receiver},ct.streams=[st.stream],this.dispatchEvent(ct)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),typeof it=="object"&&it.RTCTrackEvent&&"receiver"in it.RTCTrackEvent.prototype&&!("transceiver"in it.RTCTrackEvent.prototype)&&Object.defineProperty(it.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(it){typeof it=="object"&&it.HTMLMediaElement&&!("srcObject"in it.HTMLMediaElement.prototype)&&Object.defineProperty(it.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(ot){this.mozSrcObject=ot}})},shimPeerConnection:function(it){var ot=rt.detectBrowser(it);if(!(typeof it!="object"||!(it.RTCPeerConnection||it.mozRTCPeerConnection))){it.RTCPeerConnection||(it.RTCPeerConnection=function(dt,ut){if(ot.version<38&&dt&&dt.iceServers){for(var ft=[],pt=0;pt<dt.iceServers.length;pt++){var bt=dt.iceServers[pt];if(bt.hasOwnProperty("urls"))for(var Tt=0;Tt<bt.urls.length;Tt++){var ht={url:bt.urls[Tt]};bt.urls[Tt].indexOf("turn")===0&&(ht.username=bt.username,ht.credential=bt.credential),ft.push(ht)}else ft.push(dt.iceServers[pt])}dt.iceServers=ft}return new it.mozRTCPeerConnection(dt,ut)},it.RTCPeerConnection.prototype=it.mozRTCPeerConnection.prototype,it.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(it.RTCPeerConnection,"generateCertificate",{get:function(){return it.mozRTCPeerConnection.generateCertificate}}),it.RTCSessionDescription=it.mozRTCSessionDescription,it.RTCIceCandidate=it.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(dt){var ut=it.RTCPeerConnection.prototype[dt];it.RTCPeerConnection.prototype[dt]=function(){return arguments[0]=new(dt==="addIceCandidate"?it.RTCIceCandidate:it.RTCSessionDescription)(arguments[0]),ut.apply(this,arguments)}});var st=it.RTCPeerConnection.prototype.addIceCandidate;it.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?st.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),nt.resolve())};var at=function(dt){var ut=new Map;return Object.keys(dt).forEach(function(ft){ut.set(ft,dt[ft]),ut[ft]=dt[ft]}),ut},ct={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},lt=it.RTCPeerConnection.prototype.getStats;it.RTCPeerConnection.prototype.getStats=function(dt,ut,ft){return lt.apply(this,[dt||null]).then(function(pt){if(ot.version<48&&(pt=at(pt)),ot.version<53&&!ut)try{pt.forEach(function(bt){bt.type=ct[bt.type]||bt.type})}catch(bt){if(bt.name!=="TypeError")throw bt;pt.forEach(function(Tt,ht){pt.set(ht,Object.assign({},Tt,{type:ct[Tt.type]||Tt.type}))})}return pt}).then(ut,ft)}}},shimSenderGetStats:function(it){if(typeof it=="object"&&it.RTCPeerConnection&&it.RTCRtpSender&&!(it.RTCRtpSender&&"getStats"in it.RTCRtpSender.prototype)){var ot=it.RTCPeerConnection.prototype.getSenders;ot&&(it.RTCPeerConnection.prototype.getSenders=function(){var at=this,ct=ot.apply(at,[]);return ct.forEach(function(lt){lt._pc=at}),ct});var st=it.RTCPeerConnection.prototype.addTrack;st&&(it.RTCPeerConnection.prototype.addTrack=function(){var at=st.apply(this,arguments);return at._pc=this,at}),it.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):nt.resolve(new Map)}}},shimReceiverGetStats:function(it){if(typeof it=="object"&&it.RTCPeerConnection&&it.RTCRtpSender&&!(it.RTCRtpSender&&"getStats"in it.RTCRtpReceiver.prototype)){var ot=it.RTCPeerConnection.prototype.getReceivers;ot&&(it.RTCPeerConnection.prototype.getReceivers=function(){var st=this,at=ot.apply(st,[]);return at.forEach(function(ct){ct._pc=st}),at}),rt.wrapPeerConnectionEvent(it,"track",function(st){return st.receiver._pc=st.srcElement,st}),it.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(it){!it.RTCPeerConnection||"removeStream"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.removeStream=function(ot){var st=this;rt.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(at){at.track&&ot.getTracks().indexOf(at.track)!==-1&&st.removeTrack(at)})})},shimRTCDataChannel:function(it){it.DataChannel&&!it.RTCDataChannel&&(it.RTCDataChannel=it.DataChannel)},shimGetDisplayMedia:function(it,ot){!it.navigator||!it.navigator.mediaDevices||"getDisplayMedia"in it.navigator.mediaDevices||(it.navigator.mediaDevices.getDisplayMedia=function(st){if(!(st&&st.video)){var at=new DOMException("getDisplayMedia without video constraints is undefined");return at.name="NotFoundError",at.code=8,nt.reject(at)}return st.video===!0?st.video={mediaSource:ot}:st.video.mediaSource=ot,it.navigator.mediaDevices.getUserMedia(st)},it.navigator.getDisplayMedia=function(st){return rt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),it.navigator.mediaDevices.getDisplayMedia(st)})}}}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;_e.exports=function(ot){var st=rt.detectBrowser(ot),at=ot&&ot.navigator,ct=ot&&ot.MediaStreamTrack,lt=function(vt){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[vt.name]||vt.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[vt.message]||vt.message,constraint:vt.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},dt=function(vt,Ct,It){var Zt=function(Wt){if(typeof Wt!="object"||Wt.require)return Wt;var kt=[];return Object.keys(Wt).forEach(function(Nt){if(!(Nt==="require"||Nt==="advanced"||Nt==="mediaSource")){var Lt=Wt[Nt]=typeof Wt[Nt]=="object"?Wt[Nt]:{ideal:Wt[Nt]};if((Lt.min!==void 0||Lt.max!==void 0||Lt.exact!==void 0)&&kt.push(Nt),Lt.exact!==void 0&&(typeof Lt.exact=="number"?Lt.min=Lt.max=Lt.exact:Wt[Nt]=Lt.exact,delete Lt.exact),Lt.ideal!==void 0){Wt.advanced=Wt.advanced||[];var Mt={};typeof Lt.ideal=="number"?Mt[Nt]={min:Lt.ideal,max:Lt.ideal}:Mt[Nt]=Lt.ideal,Wt.advanced.push(Mt),delete Lt.ideal,Object.keys(Lt).length||delete Wt[Nt]}}}),kt.length&&(Wt.require=kt),Wt};return vt=JSON.parse(JSON.stringify(vt)),st.version<38&&(it("spec: "+JSON.stringify(vt)),vt.audio&&(vt.audio=Zt(vt.audio)),vt.video&&(vt.video=Zt(vt.video)),it("ff37: "+JSON.stringify(vt))),at.mozGetUserMedia(vt,Ct,function(Wt){It(lt(Wt))})},ut=function(vt){return new nt(function(Ct,It){dt(vt,Ct,It)})};if(at.mediaDevices||(at.mediaDevices={getUserMedia:ut,addEventListener:function(){},removeEventListener:function(){}}),at.mediaDevices.enumerateDevices=at.mediaDevices.enumerateDevices||function(){return new nt(function(vt){var Ct=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];vt(Ct)})},st.version<41){var ft=at.mediaDevices.enumerateDevices.bind(at.mediaDevices);at.mediaDevices.enumerateDevices=function(){return ft().then(void 0,function(vt){if(vt.name==="NotFoundError")return[];throw vt})}}if(st.version<49){var pt=at.mediaDevices.getUserMedia.bind(at.mediaDevices);at.mediaDevices.getUserMedia=function(vt){return pt(vt).then(function(Ct){if(vt.audio&&!Ct.getAudioTracks().length||vt.video&&!Ct.getVideoTracks().length)throw Ct.getTracks().forEach(function(It){It.stop()}),new DOMException("The object can not be found here.","NotFoundError");return Ct},function(Ct){return nt.reject(lt(Ct))})}}if(!(st.version>55&&"autoGainControl"in at.mediaDevices.getSupportedConstraints())){var bt=function(vt,Ct,It){Ct in vt&&!(It in vt)&&(vt[It]=vt[Ct],delete vt[Ct])},Tt=at.mediaDevices.getUserMedia.bind(at.mediaDevices);if(at.mediaDevices.getUserMedia=function(vt){return typeof vt=="object"&&typeof vt.audio=="object"&&(vt=JSON.parse(JSON.stringify(vt)),bt(vt.audio,"autoGainControl","mozAutoGainControl"),bt(vt.audio,"noiseSuppression","mozNoiseSuppression")),Tt(vt)},ct&&ct.prototype.getSettings){var ht=ct.prototype.getSettings;ct.prototype.getSettings=function(){var vt=ht.apply(this,arguments);return bt(vt,"mozAutoGainControl","autoGainControl"),bt(vt,"mozNoiseSuppression","noiseSuppression"),vt}}if(ct&&ct.prototype.applyConstraints){var gt=ct.prototype.applyConstraints;ct.prototype.applyConstraints=function(vt){return this.kind==="audio"&&typeof vt=="object"&&(vt=JSON.parse(JSON.stringify(vt)),bt(vt,"autoGainControl","mozAutoGainControl"),bt(vt,"noiseSuppression","mozNoiseSuppression")),gt.apply(this,[vt])}}}at.getUserMedia=function(vt,Ct,It){if(st.version<44)return dt(vt,Ct,It);rt.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),at.mediaDevices.getUserMedia(vt).then(Ct,It)}}}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(27);_e.exports={shimLocalStreamsAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)){if("getLocalStreams"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getStreamById=function(st){var at=null;return this._localStreams&&this._localStreams.forEach(function(ct){ct.id===st&&(at=ct)}),this._remoteStreams&&this._remoteStreams.forEach(function(ct){ct.id===st&&(at=ct)}),at}),!("addStream"in it.RTCPeerConnection.prototype)){var ot=it.RTCPeerConnection.prototype.addTrack;it.RTCPeerConnection.prototype.addStream=function(st){this._localStreams||(this._localStreams=[]),this._localStreams.indexOf(st)===-1&&this._localStreams.push(st);var at=this;st.getTracks().forEach(function(ct){ot.call(at,ct,st)})},it.RTCPeerConnection.prototype.addTrack=function(st,at){return at&&(this._localStreams?this._localStreams.indexOf(at)===-1&&this._localStreams.push(at):this._localStreams=[at]),ot.call(this,st,at)}}"removeStream"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.removeStream=function(st){this._localStreams||(this._localStreams=[]);var at=this._localStreams.indexOf(st);if(at!==-1){this._localStreams.splice(at,1);var ct=this,lt=st.getTracks();this.getSenders().forEach(function(dt){lt.indexOf(dt.track)!==-1&&ct.removeTrack(dt)})}})}},shimRemoteStreamsAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)&&("getRemoteStreams"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in it.RTCPeerConnection.prototype))){Object.defineProperty(it.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(st){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=st)}});var ot=it.RTCPeerConnection.prototype.setRemoteDescription;it.RTCPeerConnection.prototype.setRemoteDescription=function(){var st=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(at){at.streams.forEach(function(ct){if(st._remoteStreams||(st._remoteStreams=[]),!(st._remoteStreams.indexOf(ct)>=0)){st._remoteStreams.push(ct);var lt=new Event("addstream");lt.stream=ct,st.dispatchEvent(lt)}})}),ot.apply(st,arguments)}}},shimCallbacksAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)){var ot=it.RTCPeerConnection.prototype,st=ot.createOffer,at=ot.createAnswer,ct=ot.setLocalDescription,lt=ot.setRemoteDescription,dt=ot.addIceCandidate;ot.createOffer=function(ft,pt){var bt=arguments.length>=2?arguments[2]:arguments[0],Tt=st.apply(this,[bt]);return pt?(Tt.then(ft,pt),nt.resolve()):Tt},ot.createAnswer=function(ft,pt){var bt=arguments.length>=2?arguments[2]:arguments[0],Tt=at.apply(this,[bt]);return pt?(Tt.then(ft,pt),nt.resolve()):Tt};var ut=function(ft,pt,bt){var Tt=ct.apply(this,[ft]);return bt?(Tt.then(pt,bt),nt.resolve()):Tt};ot.setLocalDescription=ut,ut=function(ft,pt,bt){var Tt=lt.apply(this,[ft]);return bt?(Tt.then(pt,bt),nt.resolve()):Tt},ot.setRemoteDescription=ut,ut=function(ft,pt,bt){var Tt=dt.apply(this,[ft]);return bt?(Tt.then(pt,bt),nt.resolve()):Tt},ot.addIceCandidate=ut}},shimGetUserMedia:function(it){var ot=it&&it.navigator;ot.getUserMedia||(ot.webkitGetUserMedia?ot.getUserMedia=ot.webkitGetUserMedia.bind(ot):ot.mediaDevices&&ot.mediaDevices.getUserMedia&&(ot.getUserMedia=function(st,at,ct){ot.mediaDevices.getUserMedia(st).then(at,ct)}.bind(ot)))},shimRTCIceServerUrls:function(it){var ot=it.RTCPeerConnection;it.RTCPeerConnection=function(st,at){if(st&&st.iceServers){for(var ct=[],lt=0;lt<st.iceServers.length;lt++){var dt=st.iceServers[lt];!dt.hasOwnProperty("urls")&&dt.hasOwnProperty("url")?(rt.deprecated("RTCIceServer.url","RTCIceServer.urls"),dt=JSON.parse(JSON.stringify(dt)),dt.urls=dt.url,delete dt.url,ct.push(dt)):ct.push(st.iceServers[lt])}st.iceServers=ct}return new ot(st,at)},it.RTCPeerConnection.prototype=ot.prototype,"generateCertificate"in it.RTCPeerConnection&&Object.defineProperty(it.RTCPeerConnection,"generateCertificate",{get:function(){return ot.generateCertificate}})},shimTrackEventTransceiver:function(it){typeof it=="object"&&it.RTCPeerConnection&&"receiver"in it.RTCTrackEvent.prototype&&!it.RTCTransceiver&&Object.defineProperty(it.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(it){var ot=it.RTCPeerConnection.prototype.createOffer;it.RTCPeerConnection.prototype.createOffer=function(st){var at=this;if(st){typeof st.offerToReceiveAudio<"u"&&(st.offerToReceiveAudio=!!st.offerToReceiveAudio);var ct=at.getTransceivers().find(function(dt){return dt.sender.track&&dt.sender.track.kind==="audio"});st.offerToReceiveAudio===!1&&ct?ct.direction==="sendrecv"?ct.setDirection?ct.setDirection("sendonly"):ct.direction="sendonly":ct.direction==="recvonly"&&(ct.setDirection?ct.setDirection("inactive"):ct.direction="inactive"):st.offerToReceiveAudio===!0&&!ct&&at.addTransceiver("audio"),typeof st.offerToReceiveVideo<"u"&&(st.offerToReceiveVideo=!!st.offerToReceiveVideo);var lt=at.getTransceivers().find(function(dt){return dt.sender.track&&dt.sender.track.kind==="video"});st.offerToReceiveVideo===!1&&lt?lt.direction==="sendrecv"?lt.setDirection("sendonly"):lt.direction==="recvonly"&&lt.setDirection("inactive"):st.offerToReceiveVideo===!0&&!lt&&at.addTransceiver("video")}return ot.apply(at,arguments)}}}}).call(this,et(0))},function(_e,tt,et){var nt=et(250),rt=et(27);_e.exports={shimRTCIceCandidate:function(it){if(!(!it.RTCIceCandidate||it.RTCIceCandidate&&"foundation"in it.RTCIceCandidate.prototype)){var ot=it.RTCIceCandidate;it.RTCIceCandidate=function(st){if(typeof st=="object"&&st.candidate&&st.candidate.indexOf("a=")===0&&(st=JSON.parse(JSON.stringify(st)),st.candidate=st.candidate.substr(2)),st.candidate&&st.candidate.length){var at=new ot(st),ct=nt.parseCandidate(st.candidate),lt=Object.assign(at,ct);return lt.toJSON=function(){return{candidate:lt.candidate,sdpMid:lt.sdpMid,sdpMLineIndex:lt.sdpMLineIndex,usernameFragment:lt.usernameFragment}},lt}return new ot(st)},it.RTCIceCandidate.prototype=ot.prototype,rt.wrapPeerConnectionEvent(it,"icecandidate",function(st){return st.candidate&&Object.defineProperty(st,"candidate",{value:new it.RTCIceCandidate(st.candidate),writable:"false"}),st})}},shimCreateObjectURL:function(it){var ot=it&&it.URL;if(typeof it=="object"&&it.HTMLMediaElement&&"srcObject"in it.HTMLMediaElement.prototype&&ot.createObjectURL&&ot.revokeObjectURL){var st=ot.createObjectURL.bind(ot),at=ot.revokeObjectURL.bind(ot),ct=new Map,lt=0;ot.createObjectURL=function(ft){if("getTracks"in ft){var pt="polyblob:"+ ++lt;return ct.set(pt,ft),rt.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),pt}return st(ft)},ot.revokeObjectURL=function(ft){at(ft),ct.delete(ft)};var dt=Object.getOwnPropertyDescriptor(it.HTMLMediaElement.prototype,"src");Object.defineProperty(it.HTMLMediaElement.prototype,"src",{get:function(){return dt.get.apply(this)},set:function(ft){return this.srcObject=ct.get(ft)||null,dt.set.apply(this,[ft])}});var ut=it.HTMLMediaElement.prototype.setAttribute;it.HTMLMediaElement.prototype.setAttribute=function(){return arguments.length===2&&(""+arguments[0]).toLowerCase()==="src"&&(this.srcObject=ct.get(arguments[1])||null),ut.apply(this,arguments)}}},shimMaxMessageSize:function(it){if(!(it.RTCSctpTransport||!it.RTCPeerConnection)){var ot=rt.detectBrowser(it);"sctp"in it.RTCPeerConnection.prototype||Object.defineProperty(it.RTCPeerConnection.prototype,"sctp",{get:function(){return typeof this._sctp>"u"?null:this._sctp}});var st=function(ut){var ft=nt.splitSections(ut.sdp);return ft.shift(),ft.some(function(pt){var bt=nt.parseMLine(pt);return bt&&bt.kind==="application"&&bt.protocol.indexOf("SCTP")!==-1})},at=function(ut){var ft=ut.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(ft===null||ft.length<2)return-1;var pt=parseInt(ft[1],10);return pt!==pt?-1:pt},ct=function(ut){var ft=65536;return ot.browser==="firefox"&&(ot.version<57?ut===-1?ft=16384:ft=2147483637:ot.version<60?ft=ot.version===57?65535:65536:ft=2147483637),ft},lt=function(ut,ft){var pt=65536;ot.browser==="firefox"&&ot.version===57&&(pt=65535);var bt=nt.matchPrefix(ut.sdp,"a=max-message-size:");return bt.length>0?pt=parseInt(bt[0].substr(19),10):ot.browser==="firefox"&&ft!==-1&&(pt=2147483637),pt},dt=it.RTCPeerConnection.prototype.setRemoteDescription;it.RTCPeerConnection.prototype.setRemoteDescription=function(){var ut=this;if(ut._sctp=null,st(arguments[0])){var ft=at(arguments[0]),pt=ct(ft),bt=lt(arguments[0],ft),Tt;pt===0&&bt===0?Tt=Number.POSITIVE_INFINITY:pt===0||bt===0?Tt=Math.max(pt,bt):Tt=Math.min(pt,bt);var ht={};Object.defineProperty(ht,"maxMessageSize",{get:function(){return Tt}}),ut._sctp=ht}return dt.apply(ut,arguments)}}},shimSendThrowTypeError:function(it){if(!(it.RTCPeerConnection&&"createDataChannel"in it.RTCPeerConnection.prototype))return;function ot(at,ct){var lt=at.send;at.send=function(){var dt=arguments[0],ut=dt.length||dt.size||dt.byteLength;if(at.readyState==="open"&&ct.sctp&&ut>ct.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+ct.sctp.maxMessageSize+" bytes)");return lt.apply(at,arguments)}}var st=it.RTCPeerConnection.prototype.createDataChannel;it.RTCPeerConnection.prototype.createDataChannel=function(){var at=this,ct=st.apply(at,arguments);return ot(ct,at),ct},rt.wrapPeerConnectionEvent(it,"datachannel",function(at){return ot(at.channel,at.target),at})}}},function(_e,tt,et){(function(nt){const rt=et(6);function it(){return typeof document>"u"||document.readyState==="complete"||document.readyState==="interactive"&&document.body}let ot=!1;const st={isDomLoaded:it,isDomUnloaded(){return ot},whenUnloaded:new nt(at=>{if(typeof window<"u"){const ct=()=>{ot=!0,st.emit("unload"),at()};window.addEventListener("unload",ct)}}),whenLoaded:new nt(at=>{if(it()){at();return}const ct=()=>{document.removeEventListener("DOMContentLoaded",ct),document.removeEventListener("load",ct),st.emit("load"),at()};document.addEventListener("DOMContentLoaded",ct),document.addEventListener("load",ct)})};rt(st),_e.exports=st}).call(this,et(0))},function(_e,tt,et){var nt=et(78),rt=et(255),it=et(238),ot=et(580),st=et(11),at=et(53),ct=et(256);function lt(dt,ut,ft,pt,bt){dt!==ut&&it(ut,function(Tt,ht){if(bt||(bt=new nt),st(Tt))ot(dt,ut,ht,ft,lt,pt,bt);else{var gt=pt?pt(ct(dt,ht),Tt,ht+"",dt,ut,bt):void 0;gt===void 0&&(gt=Tt),rt(dt,ht,gt)}},at)}_e.exports=lt},function(_e,tt,et){var nt=et(255),rt=et(179),it=et(188),ot=et(54),st=et(189),at=et(63),ct=et(12),lt=et(131),dt=et(64),ut=et(16),ft=et(11),pt=et(138),bt=et(85),Tt=et(256),ht=et(581);function gt(vt,Ct,It,Zt,Wt,kt,Nt){var Lt=Tt(vt,It),Mt=Tt(Ct,It),tn=Nt.get(Mt);if(tn){nt(vt,It,tn);return}var $t=kt?kt(Lt,Mt,It+"",vt,Ct,Nt):void 0,Ht=$t===void 0;if(Ht){var rn=ct(Mt),ln=!rn&&dt(Mt),mn=!rn&&!ln&&bt(Mt);$t=Mt,rn||ln||mn?ct(Lt)?$t=Lt:lt(Lt)?$t=ot(Lt):ln?(Ht=!1,$t=rt(Mt,!0)):mn?(Ht=!1,$t=it(Mt,!0)):$t=[]:pt(Mt)||at(Mt)?($t=Lt,at(Lt)?$t=ht(Lt):(!ft(Lt)||ut(Lt))&&($t=st(Mt))):Ht=!1}Ht&&(Nt.set(Mt,$t),Wt($t,Mt,Zt,kt,Nt),Nt.delete(Mt)),nt(vt,It,$t)}_e.exports=gt},function(_e,tt,et){var nt=et(40),rt=et(53);function it(ot){return nt(ot,rt(ot))}_e.exports=it},function(_e,tt,et){const nt=et(148),rt=et(257),it=et(258),ot=et(263),st=et(1)("normalizeConstraintInput"),at={"320x240":{width:320,height:240},"320x180":{width:320,height:180},"640x480":{width:640,height:480},"640x360":{width:640,height:360},"1280x720":{width:1280,height:720},"1280x960":{width:1280,height:960},"1920x1080":{width:1920,height:1080}},ct=[1,7,15,30];function lt(Tt){return Tt._inject&&Tt._inject.logging||st}function dt(Tt,ht,gt,vt,Ct){if(ht===void 0)return;const It=gt(ht);return It||Ct.warn(`Invalid ${Tt} passed to the Publisher. Got: ${ht}, expecting one of ${vt}`),It}function ut(Tt,ht){const gt=lt(ht),vt=(()=>{const It=ht[`publish${it(Tt)}`];return It!==void 0?!!It:!0})();let Ct=(()=>{const It=ht[`${Tt}Source`];return It===void 0?!0:It===null||It===!1?!1:typeof It=="object"?ht[`isCustom${it(Tt)}Track`]?!1:typeof It.deviceId!="string"?(gt.warn(`Invalid ${Tt}Source passed to Publisher. Expected either a device ID or device.`),!0):It.deviceId:typeof It!="string"?(gt.warn(`Ignoring invalid ${Tt}Source parameter`),!0):It})();return Tt==="audio"&&ht.isScreenSharing&&!ot&&Ct!==!1&&(ht.audioSource&&lt(ht).warn("Invalid audioSource passed to Publisher - when using screen sharing no audioSource may be used"),Ct=!1),{source:Ct,publish:vt}}function ft(Tt,ht){return Tt.name==="Chrome"&&Tt.userAgent.indexOf("Mac OS X")!==-1&&ht===1?2:ht}const pt=["user","environment","left","right"],bt=(Tt,ht)=>{if(Tt===void 0||pt.indexOf(Tt)>=0)return Tt;lt(ht).warn(`Invalid facingMode passed to Publisher. Expected one of: ${pt.join(", ")}`)};_e.exports=function(ht){const gt=lt(ht),vt=ht.env||{},Ct=ht.isScreenSharing,It=ht.isCustomAudioTrack,Zt=ht.isCustomVideoTrack;return Ct&&!rt&&nt(ht.usingOptionalMandatoryStyle,"Screensharing only uses optional-mandatory constraints right now"),["echoCancellation","autoGainControl","noiseSuppression"].forEach(Wt=>{ht[Wt]!==!1&&Object.assign(ht,{[Wt]:!0})}),{isScreenSharing:Ct,isCustomAudioTrack:It,isCustomVideoTrack:Zt,audio:ut("audio",ht),video:ut("video",ht),usingOptionalMandatoryStyle:ht.usingOptionalMandatoryStyle,enableRenegotiation:ht.enableRenegotiation,enableStereo:ht.enableStereo,noiseSuppression:ht.noiseSuppression,autoGainControl:ht.autoGainControl,echoCancellation:ht.echoCancellation,disableAudioProcessing:ht.disableAudioProcessing,videoDimensions:dt("resolution",ht.resolution,Wt=>at[Wt],`"${Object.keys(at).join('", "')}"`,gt),frameRate:ft(vt,dt("frameRate",ht.frameRate,Wt=>ct.indexOf(Wt)!==-1?Wt:void 0,ct.join(","),gt)),maxResolution:function(){if(ht.maxResolution===void 0)return Ct?{width:1920,height:1920}:void 0;const Wt={width:ht.maxResolution.width,height:ht.maxResolution.height};return Object.keys(Wt).forEach(kt=>{const Nt=Wt[kt];(typeof Nt!="number"||Nt>1920)&&(gt.warn(`Invalid maxResolution passed to the Publisher. maxResolution.${kt} must be less than or equal to 1920`),Wt[kt]=1920)}),Wt}(),facingMode:bt(ht.facingMode,ht)}}},function(_e,tt,et){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;function ot(at){if(at==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(at)}function st(){try{if(!Object.assign)return!1;var at=new String("abc");if(at[5]="de",Object.getOwnPropertyNames(at)[0]==="5")return!1;for(var ct={},lt=0;lt<10;lt++)ct["_"+String.fromCharCode(lt)]=lt;var dt=Object.getOwnPropertyNames(ct).map(function(ft){return ct[ft]});if(dt.join("")!=="0123456789")return!1;var ut={};return"abcdefghijklmnopqrst".split("").forEach(function(ft){ut[ft]=ft}),Object.keys(Object.assign({},ut)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}_e.exports=st()?Object.assign:function(at,ct){for(var lt,dt=ot(at),ut,ft=1;ft<arguments.length;ft++){lt=Object(arguments[ft]);for(var pt in lt)rt.call(lt,pt)&&(dt[pt]=lt[pt]);if(nt){ut=nt(lt);for(var bt=0;bt<ut.length;bt++)it.call(lt,ut[bt])&&(dt[ut[bt]]=lt[ut[bt]])}}return dt}},function(_e,tt,et){(function(nt,rt){var it=Object.getOwnPropertyDescriptors||function(Rn){for(var xn=Object.keys(Rn),Jn={},cr=0;cr<xn.length;cr++)Jn[xn[cr]]=Object.getOwnPropertyDescriptor(Rn,xn[cr]);return Jn},ot=/%[sdj%]/g;tt.format=function(pn){if(!kt(pn)){for(var Rn=[],xn=0;xn<arguments.length;xn++)Rn.push(ct(arguments[xn]));return Rn.join(" ")}for(var xn=1,Jn=arguments,cr=Jn.length,er=String(pn).replace(ot,function(Sr){if(Sr==="%%")return"%";if(xn>=cr)return Sr;switch(Sr){case"%s":return String(Jn[xn++]);case"%d":return Number(Jn[xn++]);case"%j":try{return JSON.stringify(Jn[xn++])}catch{return"[Circular]"}default:return Sr}}),_n=Jn[xn];xn<cr;_n=Jn[++xn])It(_n)||!tn(_n)?er+=" "+_n:er+=" "+ct(_n);return er},tt.deprecate=function(pn,Rn){if(typeof nt<"u"&&nt.noDeprecation===!0)return pn;if(typeof nt>"u")return function(){return tt.deprecate(pn,Rn).apply(this,arguments)};var xn=!1;function Jn(){if(!xn){if(nt.throwDeprecation)throw new Error(Rn);nt.traceDeprecation?console.trace(Rn):console.error(Rn),xn=!0}return pn.apply(this,arguments)}return Jn};var st={},at;tt.debuglog=function(pn){if(Lt(at)&&(at={}.NODE_DEBUG||""),pn=pn.toUpperCase(),!st[pn])if(new RegExp("\\b"+pn+"\\b","i").test(at)){var Rn=nt.pid;st[pn]=function(){var xn=tt.format.apply(tt,arguments);console.error("%s %d: %s",pn,Rn,xn)}}else st[pn]=function(){};return st[pn]};function ct(pn,Rn){var xn={seen:[],stylize:dt};return arguments.length>=3&&(xn.depth=arguments[2]),arguments.length>=4&&(xn.colors=arguments[3]),Ct(Rn)?xn.showHidden=Rn:Rn&&tt._extend(xn,Rn),Lt(xn.showHidden)&&(xn.showHidden=!1),Lt(xn.depth)&&(xn.depth=2),Lt(xn.colors)&&(xn.colors=!1),Lt(xn.customInspect)&&(xn.customInspect=!0),xn.colors&&(xn.stylize=lt),ft(xn,pn,xn.depth)}tt.inspect=ct,ct.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ct.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function lt(pn,Rn){var xn=ct.styles[Rn];return xn?"\x1B["+ct.colors[xn][0]+"m"+pn+"\x1B["+ct.colors[xn][1]+"m":pn}function dt(pn,Rn){return pn}function ut(pn){var Rn={};return pn.forEach(function(xn,Jn){Rn[xn]=!0}),Rn}function ft(pn,Rn,xn){if(pn.customInspect&&Rn&&rn(Rn.inspect)&&Rn.inspect!==tt.inspect&&!(Rn.constructor&&Rn.constructor.prototype===Rn)){var Jn=Rn.inspect(xn,pn);return kt(Jn)||(Jn=ft(pn,Jn,xn)),Jn}var cr=pt(pn,Rn);if(cr)return cr;var er=Object.keys(Rn),_n=ut(er);if(pn.showHidden&&(er=Object.getOwnPropertyNames(Rn)),Ht(Rn)&&(er.indexOf("message")>=0||er.indexOf("description")>=0))return bt(Rn);if(er.length===0){if(rn(Rn)){var Sr=Rn.name?": "+Rn.name:"";return pn.stylize("[Function"+Sr+"]","special")}if(Mt(Rn))return pn.stylize(RegExp.prototype.toString.call(Rn),"regexp");if($t(Rn))return pn.stylize(Date.prototype.toString.call(Rn),"date");if(Ht(Rn))return bt(Rn)}var vr="",Gr=!1,Lr=["{","}"];if(vt(Rn)&&(Gr=!0,Lr=["[","]"]),rn(Rn)){var Ur=Rn.name?": "+Rn.name:"";vr=" [Function"+Ur+"]"}if(Mt(Rn)&&(vr=" "+RegExp.prototype.toString.call(Rn)),$t(Rn)&&(vr=" "+Date.prototype.toUTCString.call(Rn)),Ht(Rn)&&(vr=" "+bt(Rn)),er.length===0&&(!Gr||Rn.length==0))return Lr[0]+vr+Lr[1];if(xn<0)return Mt(Rn)?pn.stylize(RegExp.prototype.toString.call(Rn),"regexp"):pn.stylize("[Object]","special");pn.seen.push(Rn);var co;return Gr?co=Tt(pn,Rn,xn,_n,er):co=er.map(function(Tr){return ht(pn,Rn,xn,_n,Tr,Gr)}),pn.seen.pop(),gt(co,vr,Lr)}function pt(pn,Rn){if(Lt(Rn))return pn.stylize("undefined","undefined");if(kt(Rn)){var xn="'"+JSON.stringify(Rn).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return pn.stylize(xn,"string")}if(Wt(Rn))return pn.stylize(""+Rn,"number");if(Ct(Rn))return pn.stylize(""+Rn,"boolean");if(It(Rn))return pn.stylize("null","null")}function bt(pn){return"["+Error.prototype.toString.call(pn)+"]"}function Tt(pn,Rn,xn,Jn,cr){for(var er=[],_n=0,Sr=Rn.length;_n<Sr;++_n)un(Rn,String(_n))?er.push(ht(pn,Rn,xn,Jn,String(_n),!0)):er.push("");return cr.forEach(function(vr){vr.match(/^\d+$/)||er.push(ht(pn,Rn,xn,Jn,vr,!0))}),er}function ht(pn,Rn,xn,Jn,cr,er){var _n,Sr,vr;if(vr=Object.getOwnPropertyDescriptor(Rn,cr)||{value:Rn[cr]},vr.get?vr.set?Sr=pn.stylize("[Getter/Setter]","special"):Sr=pn.stylize("[Getter]","special"):vr.set&&(Sr=pn.stylize("[Setter]","special")),un(Jn,cr)||(_n="["+cr+"]"),Sr||(pn.seen.indexOf(vr.value)<0?(It(xn)?Sr=ft(pn,vr.value,null):Sr=ft(pn,vr.value,xn-1),Sr.indexOf(`
`)>-1&&(er?Sr=Sr.split(`
`).map(function(Gr){return"  "+Gr}).join(`
`).substr(2):Sr=`
`+Sr.split(`
`).map(function(Gr){return"   "+Gr}).join(`
`))):Sr=pn.stylize("[Circular]","special")),Lt(_n)){if(er&&cr.match(/^\d+$/))return Sr;_n=JSON.stringify(""+cr),_n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(_n=_n.substr(1,_n.length-2),_n=pn.stylize(_n,"name")):(_n=_n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),_n=pn.stylize(_n,"string"))}return _n+": "+Sr}function gt(pn,Rn,xn){var Jn=pn.reduce(function(cr,er){return er.indexOf(`
`)>=0,cr+er.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Jn>60?xn[0]+(Rn===""?"":Rn+`
 `)+" "+pn.join(`,
  `)+" "+xn[1]:xn[0]+Rn+" "+pn.join(", ")+" "+xn[1]}function vt(pn){return Array.isArray(pn)}tt.isArray=vt;function Ct(pn){return typeof pn=="boolean"}tt.isBoolean=Ct;function It(pn){return pn===null}tt.isNull=It;function Zt(pn){return pn==null}tt.isNullOrUndefined=Zt;function Wt(pn){return typeof pn=="number"}tt.isNumber=Wt;function kt(pn){return typeof pn=="string"}tt.isString=kt;function Nt(pn){return typeof pn=="symbol"}tt.isSymbol=Nt;function Lt(pn){return pn===void 0}tt.isUndefined=Lt;function Mt(pn){return tn(pn)&&mn(pn)==="[object RegExp]"}tt.isRegExp=Mt;function tn(pn){return typeof pn=="object"&&pn!==null}tt.isObject=tn;function $t(pn){return tn(pn)&&mn(pn)==="[object Date]"}tt.isDate=$t;function Ht(pn){return tn(pn)&&(mn(pn)==="[object Error]"||pn instanceof Error)}tt.isError=Ht;function rn(pn){return typeof pn=="function"}tt.isFunction=rn;function ln(pn){return pn===null||typeof pn=="boolean"||typeof pn=="number"||typeof pn=="string"||typeof pn=="symbol"||typeof pn>"u"}tt.isPrimitive=ln,tt.isBuffer=et(585);function mn(pn){return Object.prototype.toString.call(pn)}function on(pn){return pn<10?"0"+pn.toString(10):pn.toString(10)}var yn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hn(){var pn=new Date,Rn=[on(pn.getHours()),on(pn.getMinutes()),on(pn.getSeconds())].join(":");return[pn.getDate(),yn[pn.getMonth()],Rn].join(" ")}tt.log=function(){console.log("%s - %s",hn(),tt.format.apply(tt,arguments))},tt.inherits=et(586),tt._extend=function(pn,Rn){if(!Rn||!tn(Rn))return pn;for(var xn=Object.keys(Rn),Jn=xn.length;Jn--;)pn[xn[Jn]]=Rn[xn[Jn]];return pn};function un(pn,Rn){return Object.prototype.hasOwnProperty.call(pn,Rn)}var dn=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;tt.promisify=function(Rn){if(typeof Rn!="function")throw new TypeError('The "original" argument must be of type Function');if(dn&&Rn[dn]){var xn=Rn[dn];if(typeof xn!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(xn,dn,{value:xn,enumerable:!1,writable:!1,configurable:!0}),xn}function xn(){for(var Jn,cr,er=new rt(function(vr,Gr){Jn=vr,cr=Gr}),_n=[],Sr=0;Sr<arguments.length;Sr++)_n.push(arguments[Sr]);_n.push(function(vr,Gr){vr?cr(vr):Jn(Gr)});try{Rn.apply(this,_n)}catch(vr){cr(vr)}return er}return Object.setPrototypeOf(xn,Object.getPrototypeOf(Rn)),dn&&Object.defineProperty(xn,dn,{value:xn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(xn,it(Rn))},tt.promisify.custom=dn;function Nn(pn,Rn){if(!pn){var xn=new Error("Promise was rejected with a falsy value");xn.reason=pn,pn=xn}return Rn(pn)}function Wn(pn){if(typeof pn!="function")throw new TypeError('The "original" argument must be of type Function');function Rn(){for(var xn=[],Jn=0;Jn<arguments.length;Jn++)xn.push(arguments[Jn]);var cr=xn.pop();if(typeof cr!="function")throw new TypeError("The last argument must be of type Function");var er=this,_n=function(){return cr.apply(er,arguments)};pn.apply(this,xn).then(function(Sr){nt.nextTick(_n,null,Sr)},function(Sr){nt.nextTick(Nn,Sr,_n)})}return Object.setPrototypeOf(Rn,Object.getPrototypeOf(pn)),Object.defineProperties(Rn,it(pn)),Rn}tt.callbackify=Wn}).call(this,et(42),et(0))},function(_e,tt){_e.exports=function(nt){return nt&&typeof nt=="object"&&typeof nt.copy=="function"&&typeof nt.fill=="function"&&typeof nt.readUInt8=="function"}},function(_e,tt){typeof Object.create=="function"?_e.exports=function(nt,rt){nt.super_=rt,nt.prototype=Object.create(rt.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}})}:_e.exports=function(nt,rt){nt.super_=rt;var it=function(){};it.prototype=rt.prototype,nt.prototype=new it,nt.prototype.constructor=nt}},function(_e,tt,et){var nt=et(588),rt=et(261),it=et(262),ot=et(59);function st(at){return function(ct){ct=ot(ct);var lt=rt(ct)?it(ct):void 0,dt=lt?lt[0]:ct.charAt(0),ut=lt?nt(lt,1).join(""):ct.slice(1);return dt[at]()+ut}}_e.exports=st},function(_e,tt,et){var nt=et(260);function rt(it,ot,st){var at=it.length;return st=st===void 0?at:st,!ot&&st>=at?it:nt(it,ot,st)}_e.exports=rt},function(_e,tt){function et(nt){return nt.split("")}_e.exports=et},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\ufe0e\\ufe0f",at="["+et+"]",ct="["+ot+"]",lt="\\ud83c[\\udffb-\\udfff]",dt="(?:"+ct+"|"+lt+")",ut="[^"+et+"]",ft="(?:\\ud83c[\\udde6-\\uddff]){2}",pt="[\\ud800-\\udbff][\\udc00-\\udfff]",bt="\\u200d",Tt=dt+"?",ht="["+st+"]?",gt="(?:"+bt+"(?:"+[ut,ft,pt].join("|")+")"+ht+Tt+")*",vt=ht+Tt+gt,Ct="(?:"+[ut+ct+"?",ct,ft,pt,at].join("|")+")",It=RegExp(lt+"(?="+lt+")|"+Ct+vt,"g");function Zt(Wt){return Wt.match(It)||[]}_e.exports=Zt},function(_e,tt,et){_e.exports=["screen","window","tab","browser","application"]},function(_e,tt,et){const nt=et(1),rt=et(34)(),it=et(50),ot=et(121),st=et(594),at=et(597),ct="/opentok/webrtc/docs/js/release-notes.html",lt=rt.onlyLocal(),dt=nt("setLogLevel"),ut=`
          
   
               
               
              
                   `,ft=it(()=>{dt.info(`%c${ut}`,'font-family: "Fire Code", Courier, "Courier New", Consolas, "DejaVu Sans Mono"'),dt.info(`OpenTok JS SDK ${lt.version}`),dt.info(`Release notes: ${lt.websiteUrl}${ct}`),dt.info(`Known issues: ${lt.websiteUrl}${ct}l#knownIssues`)});function pt(bt){if(bt===void 0||!st(ot,{priority:bt})&&bt!==0){const ht=at(ot,(gt,vt)=>`OT.${vt.toUpperCase()} = ${gt.priority}`).join(", ");dt.error(`level must be one of: OT.NONE = 0, ${ht}`),dt.warn("Using OT.WARN instead"),bt=ot.warn.priority}nt.setLogLevel(bt),bt>=ot.debug.priority&&ft();const Tt="https://www.npmjs.com/package/debug#browser-support";return dt.info(`OpenTok JS SDK now uses the debug library. More info at ${Tt}`),dt.info(`Changed log level to: ${bt}`),bt}pt(lt.debug?ot.debug.priority:ot.warn.priority),_e.exports=pt},function(_e,tt,et){var nt=et(96),rt="Expected a function";function it(ot,st){var at;if(typeof st!="function")throw new TypeError(rt);return ot=nt(ot),function(){return--ot>0&&(at=st.apply(this,arguments)),ot<=1&&(st=void 0),at}}_e.exports=it},function(_e,tt,et){var nt=et(231),rt=et(35),it=et(595),ot=et(12),st=et(124);function at(ct,lt,dt){var ut=ot(ct)?nt:it;return dt&&st(ct,lt,dt)&&(lt=void 0),ut(ct,rt(lt,3))}_e.exports=at},function(_e,tt,et){var nt=et(265);function rt(it,ot){var st;return nt(it,function(at,ct,lt){return st=ot(at,ct,lt),!st}),!!st}_e.exports=rt},function(_e,tt,et){var nt=et(25);function rt(it,ot){return function(st,at){if(st==null)return st;if(!nt(st))return it(st,at);for(var ct=st.length,lt=ot?ct:-1,dt=Object(st);(ot?lt--:++lt<ct)&&at(dt[lt],lt,dt)!==!1;);return st}}_e.exports=rt},function(_e,tt,et){var nt=et(33),rt=et(35),it=et(598),ot=et(12);function st(at,ct){var lt=ot(at)?nt:it;return lt(at,rt(ct,3))}_e.exports=st},function(_e,tt,et){var nt=et(265),rt=et(25);function it(ot,st){var at=-1,ct=rt(ot)?Array(ot.length):[];return nt(ot,function(lt,dt,ut){ct[++at]=st(lt,dt,ut)}),ct}_e.exports=it},function(_e,tt,et){_e.exports=function(rt){return rt.substr(0,5)!=="http:"&&rt.substr(0,6)!=="https:"&&rt.substr(0,22)!=="data:image/png;base64,"?`data:image/png;base64,${rt}`:rt}},function(_e,tt,et){const nt=et(56),rt=et(1)("Style");_e.exports=function(ot,st){const at=this,ct={},lt={buttonDisplayMode:["auto","mini","mini-auto","off","on"],nameDisplayMode:["auto","off","on"],audioLevelDisplayMode:["auto","off","on"],showSettingsButton:[!0,!1],showSpeakerButton:null,showMicButton:[!0,!1],backgroundImageURI:null,showControlBar:[!0,!1],showArchiveStatus:[!0,!1],archiveStatusDisplayMode:["auto","off","on"],videoDisabledDisplayMode:["auto","off","on"],audioBlockedDisplayMode:["auto","off","on"]},dt=function(pt,bt){const Tt=lt[pt];return Tt===void 0?!1:Tt===null?!0:Tt.indexOf(bt)!==-1},ut=function(pt){switch(pt){case"true":return!0;case"false":return!1;default:return pt}};at.getAll=function(){return nt(ct)},at.get=function(ft){return ft?ct[ft]:at.getAll()},at.setAll=function(ft,pt){return Object.keys(ft).forEach(bt=>{at.set(bt,ft[bt],pt)}),at},at.set=function(ft,pt,bt){rt.debug(`setStyle: ${ft.toString()}`);let Tt;const ht=ut(pt);return dt(ft,ht)?(Tt=ct[ft],ht!==Tt&&(ct[ft]=ht,bt||st(ft,pt,Tt)),at):(rt.warn(`Style.set::Invalid style property passed ${ft} : ${ht}`),at)},ot&&at.setAll(ot,!0)}},function(_e,tt,et){const nt=et(2),rt=et(269),it=()=>nt.isIosWebView?!1:rt()?!0:(typeof window!==void 0?window:commonjsGlobal).navigator.mediaDevices&&(typeof window!==void 0?window:commonjsGlobal).navigator.mediaDevices.getUserMedia||(typeof window!==void 0?window:commonjsGlobal).navigator.webkitGetUserMedia||(typeof window!==void 0?window:commonjsGlobal).navigator.mozGetUserMedia;_e.exports=()=>!!(nt.name!=="Node"&&it())},function(_e,tt,et){const nt=et(2);_e.exports=()=>nt.name==="Node"?!1:typeof(typeof window!==void 0?window:commonjsGlobal).webkitRTCPeerConnection=="function"&&(typeof window!==void 0?window:commonjsGlobal).webkitRTCPeerConnection.prototype.addTrack||typeof(typeof window!==void 0?window:commonjsGlobal).RTCPeerConnection=="function"?!0:typeof(typeof window!==void 0?window:commonjsGlobal).mozRTCPeerConnection=="function"&&nt.version>20},function(_e,tt,et){_e.exports=(typeof window!==void 0?window:commonjsGlobal).WebSocket!==void 0},function(_e,tt){_e.exports=`<div id="tb_alert"><div id="section-normal-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div></div><div id="section-upgrade-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-supported-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com.au/chrome/browser/mobile/">Google Chrome</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application is not supported on your mobile device's browser at this time.</div></div></div>`},function(_e,tt,et){var nt=et(3),rt=nt(et(48));const it=et(18);_e.exports=function(ot){(0,rt.default)(st,ot);function st(ct,lt){var dt;let ut=lt===void 0?{}:lt,ft=ut.destroyOnClose,pt=ft===void 0?!0:ft;dt=ot.call(this)||this,dt.modalDiv=document.createElement("div"),dt.modalDiv.classList.add("OT_ModalDialog"),dt.modalDiv.innerHTML=ct;const bt=dt.modalDiv.querySelectorAll("[role=OT_close]");return[].forEach.call(bt,Tt=>Tt.addEventListener("click",ht=>{ht.preventDefault(),dt.close()})),dt.close(),document.body.appendChild(dt.modalDiv),pt&&dt.on("closed",()=>dt.destroy()),dt}var at=st.prototype;return at.open=function(){this.modalDiv.style.display="block",this.emit("opened")},at.close=function(){this.modalDiv.style.display="none",this.emit("closed")},at.destroy=function(){this.modalDiv.innerHTML="",this.modalDiv.parentNode.removeChild(this.modalDiv),this.emit("destroyed")},at.el=function(lt){return this.modalDiv.querySelector(lt)},st}(it)},function(_e,tt,et){const nt=et(20);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.env||et(2),ot=rt.analytics||new nt;ot.logEvent({action:"UserAgentParsing",variation:"Attempt",payload:{userAgent:it.userAgent}}),ot.logEvent({action:"UserAgentParsing",variation:it.error?"Failure":"Success",payload:{userAgent:it.userAgent}})}},function(_e,tt,et){var nt=et(608),rt=et(270),it=et(609),ot=et(610);function st(at){var ct=typeof Map=="function"?new Map:void 0;return _e.exports=st=function(dt){if(dt===null||!it(dt))return dt;if(typeof dt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ct<"u"){if(ct.has(dt))return ct.get(dt);ct.set(dt,ut)}function ut(){return ot(dt,arguments,nt(this).constructor)}return ut.prototype=Object.create(dt.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}),rt(ut,dt)},st(at)}_e.exports=st},function(_e,tt){function et(nt){return _e.exports=et=Object.setPrototypeOf?Object.getPrototypeOf:function(it){return it.__proto__||Object.getPrototypeOf(it)},et(nt)}_e.exports=et},function(_e,tt){function et(nt){return Function.toString.call(nt).indexOf("[native code]")!==-1}_e.exports=et},function(_e,tt,et){var nt=et(270);function rt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function it(ot,st,at){return rt()?_e.exports=it=Reflect.construct:_e.exports=it=function(lt,dt,ut){var ft=[null];ft.push.apply(ft,dt);var pt=Function.bind.apply(lt,ft),bt=new pt;return ut&&nt(bt,ut.prototype),bt},it.apply(null,arguments)}_e.exports=it},function(_e,tt,et){(function(nt){_e.exports=(rt,it)=>(it=it||(()=>{}),rt.then(ot=>new nt(st=>{st(it())}).then(()=>ot),ot=>new nt(st=>{st(it())}).then(()=>{throw ot})))}).call(this,et(0))},function(_e,tt,et){var nt=et(58),rt=et(613),it=et(614),ot=et(46);function st(at,ct){return ct=nt(ct,at),at=it(at,ct),at==null||delete at[ot(rt(ct))]}_e.exports=st},function(_e,tt){function et(nt){var rt=nt==null?0:nt.length;return rt?nt[rt-1]:void 0}_e.exports=et},function(_e,tt,et){var nt=et(98),rt=et(260);function it(ot,st){return st.length<2?ot:nt(ot,rt(st,0,-1))}_e.exports=it},function(_e,tt,et){var nt=et(138);function rt(it){return nt(it)?void 0:it}_e.exports=rt},function(_e,tt,et){var nt=et(35),rt=et(25),it=et(30);function ot(st){return function(at,ct,lt){var dt=Object(at);if(!rt(at)){var ut=nt(ct,3);at=it(at),ct=function(pt){return ut(dt[pt],pt,dt)}}var ft=st(at,ct,lt);return ft>-1?dt[ut?at[ft]:ft]:void 0}}_e.exports=ot},function(_e,tt,et){var nt=et(92),rt=et(93),it=et(130),ot=et(94),st=et(618),at=et(97),ct=200;function lt(dt,ut,ft){var pt=-1,bt=rt,Tt=dt.length,ht=!0,gt=[],vt=gt;if(ft)ht=!1,bt=it;else if(Tt>=ct){var Ct=ut?null:st(dt);if(Ct)return at(Ct);ht=!1,bt=ot,vt=new nt}else vt=ut?[]:gt;e:for(;++pt<Tt;){var It=dt[pt],Zt=ut?ut(It):It;if(It=ft||It!==0?It:0,ht&&Zt===Zt){for(var Wt=vt.length;Wt--;)if(vt[Wt]===Zt)continue e;ut&&vt.push(Zt),gt.push(It)}else bt(vt,Zt,ft)||(vt!==gt&&vt.push(Zt),gt.push(It))}return gt}_e.exports=lt},function(_e,tt,et){var nt=et(185),rt=et(223),it=et(97),ot=1/0,st=nt&&1/it(new nt([,-0]))[1]==ot?function(at){return new nt(at)}:rt;_e.exports=st},function(_e,tt,et){const nt=ot=>ot&&ot.replace(/\D+/g,"")||"0",rt=ot=>ot.substring(0,9),it=ot=>parseInt(ot,10);_e.exports=ot=>it(rt(nt(ot)))},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const at=et(1)("hasValidPeerConnection");function ct(ut){return new nt(ft=>{ut.addEventListener("signalingstatechange",()=>ft(!0)),ut.createOffer({offerToReceiveAudio:1}).then(pt=>ut.setLocalDescription(pt)).then(()=>setTimeout(()=>{ft(!1)},1e3))})}function lt(ut){return dt.apply(this,arguments)}function dt(){return dt=(0,ot.default)(it.default.mark(function ut(ft){var pt;return it.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:Tt.prev=0,pt=new ft({iceServers:[]}),Tt.next=8;break;case 4:return Tt.prev=4,Tt.t0=Tt.catch(0),at.error("Error occurred creating PeerConnection",Tt.t0),Tt.abrupt("return",!1);case 8:return Tt.prev=8,Tt.next=11,ct(pt);case 11:Tt.next=18;break;case 13:Tt.prev=13,Tt.t1=Tt.catch(8),at.error("Error occurred checking the validity of the PeerConnection",Tt.t1);try{pt.close()}catch{}return Tt.abrupt("return",!1);case 18:Tt.prev=18,pt.close(),Tt.next=26;break;case 22:return Tt.prev=22,Tt.t2=Tt.catch(18),at.error("Error occurred closing PeerConnection",Tt.t2),Tt.abrupt("return",!1);case 26:return Tt.abrupt("return",!0);case 27:case"end":return Tt.stop()}},ut,null,[[0,4],[8,13],[18,22]])})),dt.apply(this,arguments)}_e.exports=lt}).call(this,et(0))},function(_e,tt,et){(function(nt){const rt=et(37),it=et(2),ot=et(622),st=et(72),at=et(1)("createPeerConnection");_e.exports=function(lt){let dt=lt.window,ut=lt.config,ft=lt.constraints;at.debug("called");const pt=rt(ut);pt.iceServers=ot(it,pt.iceServers),st()&&(pt.sdpSemantics="plan-b");const bt=new dt.RTCPeerConnection(pt,ft);return nt.resolve(bt)}}).call(this,et(0))},function(_e,tt,et){const nt=et(9),rt=et(271),it={Edge(ot){let st=!1;return ot.map(at=>{if(!at)return;const ct=at.urls||at.url&&[at.url];if(!ct)return;const lt=ct.filter(dt=>dt.indexOf("turn:")===0&&dt.indexOf("transport=udp")!==-1&&dt.indexOf("turn:[")===-1&&!st?(st=!0,!0):dt.indexOf("stun:")===0);if(lt.length!==0)return nt(rt(at,["url","urls"]),{urls:lt})}).filter(at=>at!==void 0)},Safari(ot){return ot.map(st=>{if(st.urls!==void 0&&st.url===void 0)return st;const at=st.urls||st.url&&[st.url];return nt(rt(st,["url","urls"]),{urls:at})})}};_e.exports=function(st,at){let ct=st.name;st.isEdge&&(ct=st.isLegacyEdge?"Edge":"ChromiumEdge");const lt=it[ct];return lt?lt(at):at}},function(_e,tt,et){const nt=et(28),rt=et(2),it={h264:{baseline:"42001f",constBaseline:"42e01f"}},ot=st=>{let at=st.sdp,ct=st.from,lt=st.to;return at.replace(new RegExp(`^(a=fmtp:\\d+ .*profile-level-id=)${ct}`,"gmi"),`$1${lt}`)};_e.exports={local:{offer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.numSimulcastStreams,ut=lt.audioBitrate,ft=lt.priorityVideoCodec,pt=ft===void 0?"":ft,bt=lt.codecFlags,Tt=bt===void 0?{}:bt,ht=lt.enableStereo,gt=ht===void 0?!1:ht,vt=lt.enableDtx,Ct=vt===void 0?!1:vt,It=lt.replaceBaselineProfile,Zt=It===void 0?!1:It,Wt=lt.removeVideoOrientation,kt=Wt===void 0?!1:Wt,Nt=nt.filterExcessSSRCs(ct);dt>1&&(Nt=nt.enableSimulcast(Nt,dt)),ut>0&&(Nt=nt.setAudioBitrate(Nt,ut)),kt&&(Nt=nt.removeVideoOrientation(Nt)),Nt=nt.modifyReceiveStereo(Nt,!1),Nt=nt.modifySendStereo(Nt,!!gt),Nt=nt.modifyDtx(Nt,!!Ct),rt.isLegacyEdge||Object.keys(Tt).filter(Mt=>Tt[Mt]===!1).forEach(Mt=>{Nt=nt.removeVideoCodec(Nt,Mt)}),pt&&!rt.isLegacyEdge?Nt=nt.reprioritizeVideoCodec(Nt,pt,"top"):pt!=="h264"&&(Nt=nt.reprioritizeVideoCodec(Nt,"h264","bottom"));let Lt=Nt;return Zt&&(Lt=ot({sdp:Lt,from:it.h264.baseline,to:it.h264.constBaseline})),{local:Nt,remote:Lt}},answer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.audioBitrate,ut=lt.codecFlags,ft=lt.enableStereo,pt=ft===void 0?!1:ft,bt=lt.enableDtx,Tt=bt===void 0?!1:bt,ht=lt.replaceBaselineProfile,gt=ht===void 0?!1:ht,vt=lt.sourceStreamId,Ct=ct;dt>0&&(Ct=nt.setAudioBitrate(Ct,dt)),Ct=nt.modifyReceiveStereo(Ct,!!pt),Ct=nt.modifySendStereo(Ct,!1),Ct=nt.modifyDtx(Ct,!!Tt),vt==="MANTIS"&&nt.getSetupRole(Ct)==="passive"&&(Ct=nt.setSetupRole(Ct,"active")),ut&&Object.keys(ut).filter(Zt=>ut[Zt]===!1).forEach(Zt=>{Ct=nt.removeVideoCodec(Ct,Zt)});let It=Ct;return gt&&(It=ot({sdp:It,from:it.h264.baseline,to:it.h264.constBaseline})),{local:Ct,remote:It}}},remote:{offer:(st,at)=>{let ct=st.replaceBaselineProfile,lt=ct===void 0?!1:ct,dt=at;if(dt.indexOf("a=rtcp-fb")===-1){const ut=`a=rtcp-fb:* ccm fir\r
a=rtcp-fb:* nack `;dt=dt.replace(/^m=video(.*)$/gmi,`m=video$1\r
${ut}`)}return lt&&(dt=ot({sdp:dt,from:it.h264.constBaseline,to:it.h264.baseline})),{local:dt}},answer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.audioBitrate,ut=lt.replaceBaselineProfile,ft=ut===void 0?!1:ut,pt=ct;return dt>0&&(pt=nt.setAudioBitrate(pt,dt)),ft&&(pt=ot({sdp:pt,from:it.h264.constBaseline,to:it.h264.baseline})),{local:pt}}}}},function(_e,tt,et){var nt=et(39),rt=et(54),it=et(41),ot=et(25),st=et(275),at=et(625),ct=et(232),lt=et(97),dt=et(262),ut=et(276),ft="[object Map]",pt="[object Set]",bt=nt?nt.iterator:void 0;function Tt(ht){if(!ht)return[];if(ot(ht))return st(ht)?dt(ht):rt(ht);if(bt&&ht[bt])return at(ht[bt]());var gt=it(ht),vt=gt==ft?ct:gt==pt?lt:ut;return vt(ht)}_e.exports=Tt},function(_e,tt){function et(nt){for(var rt,it=[];!(rt=nt.next()).done;)it.push(rt.value);return it}_e.exports=et},function(_e,tt,et){var nt=et(33);function rt(it,ot){return nt(ot,function(st){return it[st]})}_e.exports=rt},function(_e,tt,et){_e.exports=(nt,rt)=>{let it=[],ot=null;if(typeof nt.getReceivers=="function"){const st=nt.getReceivers().find(at=>at.track.kind==="audio");st&&(it=st.getSynchronizationSources())}else ot=new Error("peerConnection does not support getReceivers function");rt&&rt(ot,it)}},function(_e,tt,et){(function(nt){const rt=et(629),it=function(st){this.pending=[],this._processBinding=this.maybeProcessPending.bind(this),st&&this.setPeerConnection(st)};it.prototype.setPeerConnection=function(st){if(this.pc)throw new Error("Peer connection already set");this.pc=st,this._forwardIceCandidate=rt(this.pc,"addIceCandidate"),this.pc.addEventListener("signalingstatechange",this._processBinding),this.maybeProcessPending()},it.prototype.canAddCandidates=function(){return!!(this.pc&&this.pc.iceConnectionState!=="closed"&&this.pc.remoteDescription&&this.pc.remoteDescription.type&&this.pc.localDescription&&this.pc.localDescription.type)},it.prototype.addIceCandidate=function(st){if(this.canAddCandidates())return this._forwardIceCandidate(st);const at=this.pending;return new nt((ct,lt)=>{at.push({iceCandidate:st,resolve:ct,reject:lt})})},it.prototype.maybeProcessPending=function(){this.canAddCandidates()&&this.process()},it.prototype.process=function(){for(;this.pending.length;){const st=this.pending.shift();this._forwardIceCandidate(st.iceCandidate).then(st.resolve).catch(st.reject)}},it.prototype.destroy=function(){this.pc&&this.pc.removeEventListener("signalingstatechange",this._processBinding),this._processBinding=null,this.pc=null},_e.exports=it}).call(this,et(0))},function(_e,tt,et){(function(nt){_e.exports=function(it,ot){const st=it[ot];return function(at){return new nt((ct,lt)=>{const dt=st.apply(it,[at,ct,lt]);dt&&typeof dt.then=="function"&&ct(dt)})}}}).call(this,et(0))},function(_e,tt,et){const nt=et(156),rt=et(2),it=et(1)("offerProcessor"),ot=et(28),st=et(631);_e.exports=function(ct,lt,dt,ut,ft,pt,bt,Tt,ht,gt,vt,Ct,It){const Zt=(tn,$t)=>Ht=>{it.error(tn),it.error(Ht),gt&&gt(tn,Ht,$t)},Wt=tn=>{const $t=ot.hasSendStereo(pt.sdp),Ht=ot.hasSendDtx(pt.sdp),rn=ot.getAudioBitrate(pt.sdp),ln=nt(ft,"local","answer",{enableStereo:$t,enableDtx:Ht,audioBitrate:rn,replaceBaselineProfile:Ct,codecFlags:bt,sourceStreamId:It},tn.sdp),mn=new ut({type:tn.type,sdp:ln.local}),on={type:tn.type,sdp:ln.remote};return ct.setLocalDescription(mn).then(()=>ht(on)).catch(Zt("Error while setting LocalDescription","SetLocalDescription"))},kt=()=>ct.createAnswer().then(Wt).catch(Zt("Error while setting createAnswer","CreateAnswer")),Nt=new ut({type:pt.type,sdp:nt(ft,"remote","offer",{replaceBaselineProfile:Ct},pt.sdp).local}),Lt=Zt("Error while setting RemoteDescription","SetRemoteDescription");return st(Nt,Tt,rt,lt,dt).then(()=>(vt(!0),Nt)).catch(tn=>{if(vt(!1),!ot.hasMediaType(Nt.sdp,"audio"))throw new Error("Unsupported video without audio for fallback");it.debug("Couldn't set remote description",Nt,tn,", trying without video");const $t=new ut({type:pt.type,sdp:ot.disableMediaType(Nt.sdp,"video")});return it.debug("offer without video",$t.sdp),$t}).then(tn=>ct.setRemoteDescription(tn)).then(kt).catch(Lt)}},function(_e,tt,et){(function(nt){const rt=et(72),it=(ot,st,at,ct,lt)=>{if(!ct)return nt.resolve(!0);const dt={iceServers:[]};rt()&&(dt.sdpSemantics="plan-b");const ut=new ct(dt),ft=()=>{try{ut.close()}catch{}};return ut.setRemoteDescription(new lt(ot)).then(()=>{ft()}).catch(pt=>{throw ft(),pt})};_e.exports=it}).call(this,et(0))},function(_e,tt,et){const nt=et(60),rt=et(633);_e.exports=function(ot){let st=[];const at={};let ct={sentMessages:0,recvMessages:0};const lt=function(ft){st.filter(pt=>ft!==pt)},dt=function(ft){const pt=new rt(ft);return st.push(pt),pt.on("close",()=>{lt(pt)}),pt};return at.add=function(ut,ft){return dt(ot.createDataChannel(ut,ft))},at.addMany=function(ut){for(const ft in ut)ut.hasOwnProperty(ft)&&at.add(ft,ut[ft])},at.get=function(ut,ft){return nt(st,pt=>pt.equals(ut,ft))},at.getOrAdd=function(ut,ft){let pt=at.get(ut,ft);return pt||(pt=at.add(ut,ft)),pt},at.getQosData=function(){const ut={sentMessages:0,recvMessages:0};return st.forEach(ft=>{ut.sentMessages+=ft.getQosData().sentMessages,ut.recvMessages+=ft.getQosData().recvMessages}),ut},at.sampleQos=function(){const ut=at.getQosData(),ft={sentMessages:ut.sentMessages-ct.sentMessages,recvMessages:ut.recvMessages-ct.recvMessages};return ct=ut,ft},at.destroy=function(){st.forEach(ut=>{ut.close()}),st=[]},ot.addEventListener("datachannel",ut=>{dt(ut.channel)}),at}},function(_e,tt,et){const nt=et(6),rt=et(1)("DataChannel"),it=function(st){this.data=st.data,this.source=st.source,this.lastEventId=st.lastEventId,this.origin=st.origin,this.timeStamp=st.timeStamp,this.type=st.type,this.ports=st.ports,this.path=st.path};_e.exports=function(st){const at={},ct=[],lt={sentMessages:0,recvMessages:0},dt=function(vt){return ct.push(vt),at},ut=function(vt){return st.send(vt),lt.sentMessages++,at},ft=function(){let vt;for(;vt=ct.shift();)at.send(vt)},pt=function(){at.send=ut,ft()},bt=function(vt){at.send=dt,at.trigger("close",vt)},Tt=function(vt){rt.error(vt)},ht=function(vt){const Ct=new it(vt);lt.recvMessages++,at.trigger("message",Ct)};return nt(at,!0),at.label=st.label,at.id=st.id,at.reliable=st.reliable,at.negotiated=st.negotiated,at.ordered=st.ordered,at.protocol=st.protocol,at._channel=st,at.close=function(){st.close()},at.equals=function(gt,vt){if(at.label!==gt)return!1;for(const Ct in vt)if(vt.hasOwnProperty(Ct)&&at[Ct]!==vt[Ct])return!1;return!0},at.getQosData=function(){return lt},at.send=dt,st.addEventListener("open",pt,!1),st.addEventListener("close",bt,!1),st.addEventListener("error",Tt,!1),st.addEventListener("message",ht,!1),at}},function(_e,tt,et){const nt=et(9),rt=et(156),it=et(1)("subscribeProcessor"),ot=et(28);_e.exports=function(at){let ct=at.peerConnection,lt=at.NativeRTCSessionDescription,dt=at.sdpTransforms,ut=at.numSimulcastStreams,ft=at.offerOverrides,pt=at.offerConstraints,bt=at.replaceBaselineProfile,Tt=at.removeVideoOrientation,ht=at.removeUnusedCodecs;const gt=(Ct,It)=>Zt=>{it.error(Ct,Zt);const Wt=new Error(Ct);throw Wt.reason=Zt,Wt.prefix=It,Wt},vt=Ct=>{it.debug("subscribeProcessor: offer created",Ct);let It=Ct.sdp;if(ht){var Zt;It=ot.removeUnusedCodecs(It,(Zt=ct.currentLocalDescription)==null?void 0:Zt.sdp)}const Wt=rt(dt,"local","offer",nt({numSimulcastStreams:ut,replaceBaselineProfile:bt,removeVideoOrientation:Tt},ft),It),kt=new lt({type:Ct.type,sdp:Wt.local}),Nt=new lt({type:Ct.type,sdp:Wt.remote});return it.debug("subscribeProcessor: setting local description"),ct.setLocalDescription(kt).then(()=>Nt,gt("Error while setting LocalDescription","SetLocalDescription"))};return it.debug("subscribeProcessor: creating offer"),ct.createOffer(pt).then(vt,gt("Error while creating Offer","CreateOffer")).then(Ct=>({sdp:Ct.sdp,type:Ct.type}))}},function(_e,tt,et){const nt=et(636);let rt=function(){function it(st){this.state=nt.RESOLVED,this.offerAnswerQueue=[],this.logAnalyticsEvent=st}var ot=it.prototype;return ot.setPending=function(){this.state=nt.PENDING},ot.setResolved=function(){this.state=nt.RESOLVED;const at=this.offerAnswerQueue.shift();at&&(this.logAnalyticsEvent("dequeueOfferAnswer","Event"),this.setPending(),at())},ot.isPending=function(){return this.state===nt.PENDING},ot.enqueueOfferAnswer=function(at){this.isPending()?(this.offerAnswerQueue.push(at),this.logAnalyticsEvent("enqueueOfferAnswer","Event")):(this.setPending(),at())},it}();_e.exports=rt},function(_e,tt,et){_e.exports={PENDING:"pending",RESOLVED:"resolved"}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(28),st=ot.mediaDirections,at=st.RECVONLY,ct=st.INACTIVE,lt=function(){var dt=(0,it.default)(rt.default.mark(function ut(ft,pt){var bt,Tt,ht;return rt.default.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(ft){vt.next=2;break}return vt.abrupt("return");case 2:return vt.next=4,ft.createOffer();case 4:return bt=vt.sent,vt.next=7,ft.setLocalDescription(bt);case 7:Tt=ft.remoteDescription.sdp,ht=ot.changeMediaDirection(Tt,pt),ft.setRemoteDescription({type:ft.remoteDescription.type,sdp:ht});case 10:case"end":return vt.stop()}},ut)}));return function(ft,pt){return dt.apply(this,arguments)}}();_e.exports={changeMediaDirectionToInactive:dt=>lt(dt,ct),changeMediaDirectionToRecvOnly:dt=>lt(dt,at)}},function(_e,tt,et){tt.__esModule=!0,tt.default=Ct,tt.parseStatsNewAPI=vt,tt.parseStatsOldAPI=gt;function nt(Zt,Wt){var kt=typeof Symbol<"u"&&Zt[Symbol.iterator]||Zt["@@iterator"];if(kt)return(kt=kt.call(Zt)).next.bind(kt);if(Array.isArray(Zt)||(kt=rt(Zt))||Wt&&Zt&&typeof Zt.length=="number"){kt&&(Zt=kt);var Nt=0;return function(){return Nt>=Zt.length?{done:!0}:{done:!1,value:Zt[Nt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(Zt,Wt){if(Zt){if(typeof Zt=="string")return it(Zt,Wt);var kt=Object.prototype.toString.call(Zt).slice(8,-1);if(kt==="Object"&&Zt.constructor&&(kt=Zt.constructor.name),kt==="Map"||kt==="Set")return Array.from(Zt);if(kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(kt))return it(Zt,Wt)}}function it(Zt,Wt){(Wt==null||Wt>Zt.length)&&(Wt=Zt.length);for(var kt=0,Nt=new Array(Wt);kt<Wt;kt++)Nt[kt]=Zt[kt];return Nt}const ot=et(2),st=et(8),at=et(1)("QoS"),ct=et(28),lt=et(279),dt=et(639),ut=et(103)(),ft=et(157),pt=["audioCodec","audioSentBytes","audioSentPackets","audioSentPacketsLost","audioRtt","videoCodec","videoHeight","videoHeightInput","videoSentBytes","videoFrameRateSent","videoSentPackets","videoRtt","videoSentPacketsLost","videoWidthInput","videoWidth","srtpCipher"],bt=["audioCodec","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoCodec","videoHeight","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost","videoFrameRateReceived","videoWidth","srtpCipher"],Tt=(Zt,Wt)=>at.debug(`Raw stats for peer conn ${Zt.id}:`,Wt),ht=Zt=>{const Wt=Zt.portNumber||Zt.port;return`${Zt.ipAddress||Zt.address||Zt.ip}:${Wt}`};function gt(Zt,Wt,kt,Nt,Lt){const Mt=Ht=>(Number(Ht.stat("googFrameRateSent"))>0?(kt.videoSentBytes=Number(Ht.stat("bytesSent")),kt.videoSentPackets=Number(Ht.stat("packetsSent")),kt.videoSentPacketsLost=Number(Ht.stat("packetsLost")),kt.videoRtt=Number(Ht.stat("googRtt"))/1e3,kt.videoFrameRate=Number(Ht.stat("googFrameRateInput")),kt.videoWidth=Number(Ht.stat("googFrameWidthSent")),kt.videoHeight=Number(Ht.stat("googFrameHeightSent")),kt.videoFrameRateSent=Number(Ht.stat("googFrameRateSent")),kt.videoWidthInput=Number(Ht.stat("googFrameWidthInput")),kt.videoHeightInput=Number(Ht.stat("googFrameHeightInput")),kt.videoCodec=Ht.stat("googCodecName"),kt.videoBandwidthLimitedResolution=Ht.stat("googBandwidthLimitedResolution")==="true",kt.cpuLimitedResolution=Ht.stat("googCpuLimitedResolution")==="true"):Number(Ht.stat("googFrameRateReceived"))>0&&(kt.videoRecvBytes=Number(Ht.stat("bytesReceived")),kt.videoRecvPackets=Number(Ht.stat("packetsReceived")),kt.videoRecvPacketsLost=Number(Ht.stat("packetsLost")),kt.videoFrameRate=Number(Ht.stat("googFrameRateOutput")),kt.videoFrameRateReceived=Number(Ht.stat("googFrameRateReceived")),kt.videoFrameRateDecoded=Number(Ht.stat("googFrameRateDecoded")),kt.videoWidth=Number(Ht.stat("googFrameWidthReceived")),kt.videoHeight=Number(Ht.stat("googFrameHeightReceived")),kt.videoCodec=Ht.stat("googCodecName")),null),tn=Ht=>{Number(Ht.stat("audioInputLevel"))>0?(kt.audioSentPackets=Number(Ht.stat("packetsSent")),kt.audioSentPacketsLost=Number(Ht.stat("packetsLost")),kt.audioSentBytes=Number(Ht.stat("bytesSent")),kt.audioCodec=Ht.stat("googCodecName"),kt.audioRtt=Number(Ht.stat("googRtt"))/1e3):Number(Ht.stat("audioOutputLevel"))>0&&(kt.audioRecvPackets=Number(Ht.stat("packetsReceived")),kt.audioRecvPacketsLost=Number(Ht.stat("packetsLost")),kt.audioRecvBytes=Number(Ht.stat("bytesReceived")),kt.audioCodec=Ht.stat("googCodecName"))},$t=Ht=>{if(Ht.result){const rn=Ht.result();Tt(Zt,rn);const ln=(yn,hn)=>rn.filter(un=>un.id===hn.stat(yn))[0],mn=yn=>ln("localCandidateId",yn),on=yn=>ln("remoteCandidateId",yn);for(let yn=0;yn<rn.length;yn++){const hn=rn[yn];hn.stat&&(hn.stat("googActiveConnection")==="true"&&(hn.stat("googChannelId").indexOf("audio")>-1?(kt.audioLocalAddress=hn.stat("googLocalAddress"),kt.audioRemoteAddress=hn.stat("googRemoteAddress"),kt.audioLocalCandidateType=hn.stat("googLocalCandidateType"),kt.audioRemoteCandidateType=hn.stat("googRemoteCandidateType"),kt.audioTransportType=hn.stat("googTransportType"),kt.audioLocalRelayProtocol=lt(mn(hn).stat("priority")),kt.audioRemoteRelayProtocol=lt(on(hn).stat("priority"))):hn.stat("googChannelId").indexOf("video")>-1&&(kt.videoLocalAddress=hn.stat("googLocalAddress"),kt.videoRemoteAddress=hn.stat("googRemoteAddress"),kt.videoLocalCandidateType=hn.stat("googLocalCandidateType"),kt.videoRemoteCandidateType=hn.stat("googRemoteCandidateType"),kt.videoTransportType=hn.stat("googTransportType"),kt.videoLocalRelayProtocol=lt(mn(hn).stat("priority")),kt.videoRemoteRelayProtocol=lt(on(hn).stat("priority")))),Number(hn.stat("googAvailableSendBandwidth"))>0&&(kt.videoSentEstimatedBandwidth=Number(hn.stat("googAvailableSendBandwidth"))),Number(hn.stat("googAvailableReceiveBandwidth"))>0&&(kt.videoRecvEstimatedBandwidth=Number(hn.stat("googAvailableReceiveBandwidth"))),tn(hn),Mt(hn))}"videoCodec"in kt&&!kt.videoLocalAddress&&["LocalAddress","RemoteAddress","LocalCandidateType","RemoteCandidateType","TransportType","LocalRelayProtocol","RemoteRelayProtocol"].forEach(yn=>{kt[`video${yn}`]=kt[`audio${yn}`]})}Lt(null,kt)};Zt.getStats($t)}function vt(Zt,Wt,kt,Nt,Lt){const Mt=function(ln){Lt(ln)},tn=(rn,ln)=>{if(ln==="outboundrtp"?(kt.audioSentPackets=rn.packetsSent,kt.audioSentPacketsLost=rn.packetsLost,kt.audioSentBytes=rn.bytesSent):ln==="inboundrtp"&&(kt.audioRecvPackets=rn.packetsReceived,kt.audioRecvPacketsLost=rn.packetsLost,kt.audioRecvBytes=rn.bytesReceived),kt.audioCodec===void 0&&["Safari"].indexOf(st.env.name)!==-1&&rn.codecId!==void 0){const mn=Zt.remoteDescription.type==="answer"?Zt.remoteDescription:Zt.localDescription,on=mn.sdp,yn=rn.codecId.lastIndexOf("_"),hn=ct.getCodecsAndCodecMap(on,"audio");yn!==-1&&hn!==void 0&&(kt.audioCodec=hn.codecMap[rn.codecId.substring(yn+1)])}},$t=rn=>{const ln={packetsSent:"videoSentPackets",packetsLost:"videoSentPacketsLost",bytesSent:"videoSentBytes",framesPerSecond:"videoFrameRate",framesSent:"videoFrameRateSent",framesReceived:"videoFramesReceived",frameWidth:"videoWidth",frameHeight:"videoHeight"},mn=["videoSentPackets","videoSentBytes"];for(const on in ln)if(on in rn){const yn=ln[on];mn.includes(yn)&&Number.isSafeInteger(kt[yn])?kt[yn]+=rn[on]:kt[yn]=rn[on]}},Ht=(rn,ln)=>{const mn=()=>{if(!("videoSentBytes"in kt?kt.videoSentBytes>0:kt.videoRecvBytes>0))return 0;let yn=0;if(ot.isFirefox&&ot.version<96)yn=Number(rn.framerateMean);else{const hn=ln==="outboundrtp"?"framesEncoded":"framesDecoded";kt[hn]=rn[hn],yn=ft({currentStatFrames:rn[hn],currentTimestamp:rn.timestamp,prevStatFrames:Wt[hn],prevTimestamp:Wt.timeStamp||Date.now()})}return yn};if(ln==="outboundrtp"?(rn.hasOwnProperty("qualityLimitationReason")&&(kt.videoBandwidthLimitedResolution=rn.qualityLimitationReason==="bandwidth",kt.cpuLimitedResolution=rn.qualityLimitationReason==="cpu"),$t(rn)):ln==="inboundrtp"&&(kt.videoRecvPackets=rn.packetsReceived,kt.videoRecvPacketsLost=rn.packetsLost,kt.videoRecvBytes=rn.bytesReceived),(ot.isFirefox&&["outboundrtp","inboundrtp"].includes(ln)||!Nt&&ln==="inboundrtp")&&(kt.videoFrameRate=mn()),kt.videoCodec===void 0&&["Safari"].indexOf(st.env.name)!==-1&&rn.codecId!==void 0){const on=Zt.remoteDescription.type==="answer"?Zt.remoteDescription:Zt.localDescription,yn=on.sdp,hn=rn.codecId.lastIndexOf("_"),un=ct.getCodecsAndCodecMap(yn,"video");hn!==-1&&un!==void 0&&(kt.videoCodec=un.codecMap[rn.codecId.substring(hn+1)])}};Zt.getStats(null).then(rn=>{let ln,mn,on,yn,hn,un,dn,Nn;const Wn=[],pn=()=>{if(Wn.length===0)return null;const er=Wn.filter(vr=>vr>0),_n=er.reduce((vr,Gr)=>vr+Gr,0);return er.length?_n/er.length:0},Rn=er=>er.toLowerCase().replace(/[^a-z]/g,""),xn=er=>{const _n=Rn(er.type),Sr=er.id.toLowerCase();if(/(in|out)boundrtp$/.test(_n)){const vr=/rtp/.test(Sr),Gr=vr&&/audio/.test(Sr),Lr=vr&&/video/.test(Sr),Ur=Gr||er.kind==="audio",co=Lr||er.kind==="video";if(Ur?tn(er,_n):co&&Ht(er,_n),er.hasOwnProperty("roundTripTime")){const Tr=er.mediaType||er.kind;Tr==="video"?Wn.push(er.roundTripTime):Tr==="audio"&&(kt.audioRtt=er.roundTripTime)}if(_n==="remoteinboundrtp"&&er.hasOwnProperty("packetsLost")){const wr=`${er.kind}SentPacketsLost`;kt[wr]||(kt[wr]=0),kt[wr]+=er.packetsLost}}else if(_n==="transport"){const vr=er.selectedCandidatePairId,Gr=er.srtpCipher;kt.srtpCipher=Gr,vr&&(yn=dt(vr,rn))}else if(_n==="localcandidate")ln=er.candidateType,on=ht(er),un=er.protocol||er.transport;else if(_n==="remotecandidate")mn=er.candidateType,hn=ht(er);else if(_n==="track"&&Sr.indexOf("video")!==0)dn=er.frameWidth,Nn=er.frameHeight,$t(er);else if(_n==="mediasource")er.hasOwnProperty("framesPerSecond")&&(kt.videoFrameRate=er.framesPerSecond),er.hasOwnProperty("width")&&(kt.videoWidthInput=er.width),er.hasOwnProperty("height")&&(kt.videoHeightInput=er.height);else if(_n==="candidatepair"&&er.hasOwnProperty("availableOutgoingBitrate")){const vr=`video${Nt?"Sent":"Recv"}EstimatedBandwidth`;kt[vr]=parseInt(er.availableOutgoingBitrate,10)}};if(typeof rn[Symbol.iterator]=="function"){Tt(Zt,Array.from(rn));for(var Jn=nt(rn),cr;!(cr=Jn()).done;){const er=cr.value,_n=Array.isArray(er)?er[1]:er;xn(_n)}}else{Tt(Zt,rn);for(const er in rn)rn.hasOwnProperty(er)&&xn(rn[er])}if(Zt.currentRemoteDescription&&(kt.useDtx=ct.hasSendDtx(Zt.currentRemoteDescription.sdp)),Nt&&(kt.videoRtt=pn()),(kt.audioRecvBytes||kt.audioSentBytes)&&(kt.audioLocalCandidateType=ln,kt.audioLocalAddress=on,kt.audioRemoteCandidateType=mn,kt.audioRemoteAddress=hn,kt.audioTransportType=un,kt.audioLocalRelayProtocol=yn,kt.audioCodec===void 0)){const er=Zt.remoteDescription.type==="answer"?Zt.remoteDescription:Zt.localDescription,_n=er.sdp,Sr=ct.getCodecs(_n,"audio");kt.audioCodec=Sr[0]}if((kt.videoRecvBytes||kt.videoSentBytes)&&(kt.videoLocalCandidateType=ln,kt.videoLocalAddress=on,kt.videoRemoteCandidateType=mn,kt.videoRemoteAddress=hn,kt.videoTransportType=un,kt.videoLocalRelayProtocol=yn,kt.videoCodec===void 0)){const er=Zt.remoteDescription.type==="answer"?Zt.remoteDescription:Zt.localDescription,_n=er.sdp,Sr=ct.getCodecs(_n,"video");kt.videoCodec=Sr[0]}It(kt,Nt),kt.videoWidth=kt.videoWidth||dn,kt.videoHeight=kt.videoHeight||Nn,Lt(null,kt)}).catch(Mt)}function Ct(Zt,Wt,kt,Nt,Lt){return ut?vt(Zt,Wt,kt,Nt,Lt):gt(Zt,Wt,kt,Nt,Lt)}function It(Zt,Wt){(Wt?pt:bt).forEach(Nt=>{Zt.hasOwnProperty(Nt)||(Zt[Nt]=null)})}},function(_e,tt,et){const nt=et(279);_e.exports=(rt,it)=>{let ot="";if(!rt||!it)return ot;const st=it.get(rt);if(st){const at=st.localCandidateId;if(at){const ct=it.get(at);if(ct){const lt=ct.relayProtocol,dt=ct.priority;lt?ot=`TURN/${lt.toUpperCase()}`:ot=nt(dt)}}}return ot}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;let nt=function(){function rt(){this.value=null,this.changeCount=0}var it=rt.prototype;return it.onValue=function(st){st&&st!==this.value&&(this.value&&(this.changeCount+=1),this.value=st)},rt}();tt.default=nt},function(_e,tt,et){var nt=et(11),rt=et(642),it=et(228),ot="Expected a function",st=Math.max,at=Math.min;function ct(lt,dt,ut){var ft,pt,bt,Tt,ht,gt,vt=0,Ct=!1,It=!1,Zt=!0;if(typeof lt!="function")throw new TypeError(ot);dt=it(dt)||0,nt(ut)&&(Ct=!!ut.leading,It="maxWait"in ut,bt=It?st(it(ut.maxWait)||0,dt):bt,Zt="trailing"in ut?!!ut.trailing:Zt);function Wt(ln){var mn=ft,on=pt;return ft=pt=void 0,vt=ln,Tt=lt.apply(on,mn),Tt}function kt(ln){return vt=ln,ht=setTimeout(Mt,dt),Ct?Wt(ln):Tt}function Nt(ln){var mn=ln-gt,on=ln-vt,yn=dt-mn;return It?at(yn,bt-on):yn}function Lt(ln){var mn=ln-gt,on=ln-vt;return gt===void 0||mn>=dt||mn<0||It&&on>=bt}function Mt(){var ln=rt();if(Lt(ln))return tn(ln);ht=setTimeout(Mt,Nt(ln))}function tn(ln){return ht=void 0,Zt&&ft?Wt(ln):(ft=pt=void 0,Tt)}function $t(){ht!==void 0&&clearTimeout(ht),vt=0,ft=gt=pt=ht=void 0}function Ht(){return ht===void 0?Tt:tn(rt())}function rn(){var ln=rt(),mn=Lt(ln);if(ft=arguments,pt=this,gt=ln,mn){if(ht===void 0)return kt(gt);if(It)return clearTimeout(ht),ht=setTimeout(Mt,dt),Wt(gt)}return ht===void 0&&(ht=setTimeout(Mt,dt)),Tt}return rn.cancel=$t,rn.flush=Ht,rn}_e.exports=ct},function(_e,tt,et){var nt=et(14),rt=function(){return nt.Date.now()};_e.exports=rt},function(_e,tt,et){const nt=et(50);tt.check=function(rt){rt===void 0&&(rt={});const it=rt.env||et(2);return it.name==="Chrome"&&it.userAgent.toLowerCase().indexOf("android")>-1&&it.version<65},tt.once=nt(()=>tt.check())},function(_e,tt,et){const nt=et(2);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt,ot=it.env,st=ot===void 0?nt:ot;return!!(st.isiOS&&st.iOSVersion>10)}},function(_e,tt,et){const nt=et(36),rt=et(8);_e.exports=function(ot){let st,at,ct,lt,dt;const ut=this;let ft=ot.archiving;const pt=ot.archivingStarted||"Archiving on",bt=ot.archivingEnded||"Archiving off";let Tt=!0;const ht=function(Ct){lt.nodeValue=Ct,st.setAttribute("title",Ct)},gt=function(){dt&&(clearTimeout(dt),dt=null),ft?rt.addClass(at,"OT_active"):rt.removeClass(at,"OT_active"),rt.removeClass(ut.domElement,`OT_archiving-${ft?"off":"on"}`),rt.addClass(ut.domElement,`OT_archiving-${ft?"on":"off"}`),ot.show&&ft?(ht(pt),rt.addClass(ct,"OT_mode-on"),rt.removeClass(ct,"OT_mode-auto"),ut.setDisplayMode("on"),dt=setTimeout(()=>{rt.addClass(ct,"OT_mode-auto"),rt.removeClass(ct,"OT_mode-on")},5e3)):ot.show&&!Tt?(rt.addClass(ct,"OT_mode-on"),rt.removeClass(ct,"OT_mode-auto"),ut.setDisplayMode("on"),ht(bt),dt=setTimeout(()=>{ut.setDisplayMode("off")},5e3)):ut.setDisplayMode("off")};nt(this,{mode:ft&&ot.show&&"on"||"off",nodeName:"h1",htmlAttributes:{className:"OT_archiving OT_edge-bar-item OT_edge-bottom"},onCreate(){st=rt.createElement("div",{className:"OT_archiving-light-box"},""),at=rt.createElement("div",{className:"OT_archiving-light"},""),st.appendChild(at),ct=rt.createElement("div",{className:"OT_archiving-status OT_mode-on OT_edge-bar-item OT_edge-bottom"},""),lt=document.createTextNode(""),ct.appendChild(lt),ut.domElement.appendChild(st),ut.domElement.appendChild(ct),gt()}}),this.setShowArchiveStatus=function(vt){ot.show=vt,ut.domElement&&gt.call(ut)},this.setArchiving=function(vt){ft=vt,Tt=!1,ut.domElement&&gt.call(ut)}}},function(_e,tt,et){_e.exports=function(nt){nt===void 0&&(nt={});const rt=nt.global||(typeof window!==void 0?window:commonjsGlobal);return()=>rt.navigator&&rt.navigator.mediaDevices}},function(_e,tt,et){(function(nt){const rt=et(9),it=et(11),ot=et(107),st=et(648),at=et(20),ct=et(22),lt=et(6);_e.exports=function(ut){ut===void 0&&(ut={});const ft=ut.env||et(2),pt=ut.Errors||et(7),bt=ut.otError||et(13)(),Tt=ut.logging||et(1)("getUserMedia"),ht=ut.screenSharing||et(161)(),gt=ut.getDisplayMediaExtensionHelper||et(288),vt=ut.customGetUserMedia,Ct=ut.global||(typeof window!==void 0?window:commonjsGlobal),It=ut.analytics||new at,Zt=Ct.navigator,Wt=Ct.location,kt=()=>{if(vt)return vt;if(Zt.mediaDevices){var ln;return(ln=Zt.mediaDevices).getUserMedia.bind(ln)}},Nt=function(){const mn=kt();return mn?mn(...arguments):nt.reject(new Error("Cannot find getUserMedia"))},Lt=()=>{if(vt)return vt;if(Zt.mediaDevices&&Zt.getDisplayMedia)return Zt.getDisplayMedia.bind(Zt);if(Zt.mediaDevices&&Zt.mediaDevices.getDisplayMedia){var ln;return(ln=Zt.mediaDevices).getDisplayMedia.bind(ln)}},Mt=function(){const mn=Lt();return mn?mn(...arguments):nt.reject(new Error("Cannot find getDisplayMedia"))},tn=(()=>{const ln={name:pt.USER_MEDIA_ACCESS_DENIED,message:"End-user denied permission to hardware devices"},mn={name:pt.NOT_SUPPORTED,message:"A constraint specified is not supported by the browser."},on={name:pt.CONSTRAINTS_NOT_SATISFIED,message:"It's not possible to satisfy one or more constraints passed into the getUserMedia function"},yn={name:pt.NO_DEVICES_FOUND,message:"No voice or video input devices are available on this machine."},hn={name:pt.HARDWARE_UNAVAILABLE,message:"The selected voice or video devices are unavailable. Verify that the chosen devices are not in use by another application."},un={name:pt.UNABLE_TO_CAPTURE_SCREEN,message:"Unable to capture screen. Unknown error occurred"},Nn={AbortError:{name:pt.UNABLE_TO_CAPTURE_MEDIA,message:"Unable to capture media. Unknown error occurred"},NotAllowedError:ln,NotFoundError:yn,NotReadableError:hn,OverconstrainedError:on,SecurityError:rt({},ln,{message:"End-user denied permission to hardware devices or user media support may be disabled on this page"}),TypeError:on,PermissionDeniedError:ln,PermissionDismissedError:ln,NotSupportedError:mn,ConstraintNotSatisfiedError:on,MandatoryUnsatisfiedError:on,OverConstrainedError:on,DevicesNotFoundError:yn,NoDevicesFoundError:yn,HardwareUnavailableError:hn,SourceUnavailableError:hn,TrackStartError:hn,ScreenCaptureError:un,TabCaptureError:un};return st({objectToTrack:Nn,keys:["PermissionDeniedError","PermissionDismissedError","NotSupportedError","ConstraintNotSatisfiedError","MandatoryUnsatisfiedError","OverConstrainedError","DevicesNotFoundError","NoDevicesFoundError","HardwareUnavailableError","SourceUnavailableError","TrackStartError","ScreenCaptureError","TabCaptureError"],onUsage(Wn){It.logEvent({action:"DeprecatedPropertyUsage:getUserMedia:errorMap",variation:"Event",payload:{key:Wn}})}}),Nn})(),$t=(ln,mn)=>{let on=ln;on==="AbortError"&&typeof mn=="string"&&mn.match(/(screen|tab).?capture/i)&&(on="ScreenCaptureError");const yn=tn[on];let hn;return yn?hn=bt(yn.name,new Error(`${yn.message} (getUserMedia error: ${ln})`)):hn=new Error(`Unknown error while getting user media: ${ln}`),hn.originalMessage=mn,hn.originalName=ln,hn},Ht=ln=>{if(it(ln)&&ln.name){let mn=ln.name,on=ln.message;if((on==="Cannot find getUserMedia"||on==="Cannot find getDisplayMedia")&&(ft.name==="Chrome"&&ft.version>73&&Ct.location.protocol!=="https:"?mn="NotAllowedError":mn="NotSupportedError"),ft.name==="Safari"&&mn==="Error"){const un=Object.prototype.toString.call(ln).match(/^\[object (\w+Error)\]$/);un&&(mn=un[1])}const yn=$t(mn,on);return yn.constraintName=ln.constraint||ln.constraintName,yn instanceof ct||It.logEvent({action:"UnexpectedError:getUserMedia:parseErrorEvent",variation:"Event",payload:{name:yn.name,message:yn.message,originalMessage:yn.originalMessage}}),yn}if(typeof ln=="string"){const mn=$t(ln);return It.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error is string",error:ln}}),mn}return It.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error was not string or object with name property",error:ln}}),new Error("Unknown error type while getting media")},rn=function(mn){if(!mn||!it(mn))return!0;for(const on in mn)if(mn.hasOwnProperty(on)&&mn[on])return!1;return!0};return function(ln,mn){if(mn===void 0&&(mn=!1),Tt.debug("getUserMedia wrapper called with",ln),rn(ln))return Tt.error("Couldn't get UserMedia: All constraints were false"),lt(nt.reject(bt(pt.NO_VALID_CONSTRAINTS,new Error("Video and Audio was disabled, you need to enable at least one"))));const on=mn&&gt.isSupportedInThisBrowser?Mt:Nt,yn=lt(on(ln).catch(Nn=>{const Wn=Ht(Nn);if(Wn.name===pt.UNABLE_TO_CAPTURE_SCREEN)return new nt((pn,Rn)=>{ht.checkCapability(xn=>{if(xn.extensionRequired==="chrome"){if(xn.extensionRegistered&&!xn.extensionInstalled){const Jn=bt(pt.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,Wn);Jn.message="Screen sharing extension not installed see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",Rn(Jn)}else if(!xn.extensionRegistered){const Jn=bt(pt.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,Wn);Jn.message="Screen sharing extension not registered see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",Rn(Jn)}}else Rn(Wn)})});throw Wn}).then(Nn=>(Tt.debug("got stream:",{stream:Nn,tracks:Nn.getTracks(),trackLabels:Nn.getTracks().map(Wn=>Wn.label)}),Nn))),hn=Wt.protocol.indexOf("https")!==-1?500:100;let un=!0;const dn=()=>{un=!1};return yn.then(dn,dn),ot(hn).then(()=>{if(!un)return;const Nn=()=>{yn.emit("accessDialogClosed")};yn.emit("accessDialogOpened"),yn.then(Nn,Nn)}),yn}}}).call(this,et(0))},function(_e,tt,et){_e.exports=function(nt){let rt=nt===void 0?{}:nt,it=rt.objectToTrack,ot=rt.keys,st=rt.onUsage;if(!Array.isArray(ot)&&ot!==void 0)throw new Error("keys must be an array, or undefined");if(typeof st!="function")throw new Error("onUsage must be a function");if(it==null)throw new Error("Expected objectToTrack to be a trackable object");Object.keys(it).forEach(at=>{if(ot!==void 0&&ot.indexOf(at)===-1)return;let ct=it[at];Object.defineProperty(it,at,{get(){return st(at),ct},set(lt){ct=lt,st(at,ct)},enumerable:!0})})}},function(_e,tt,et){const nt=et(2),rt=et(650),it=rt.isCallbackBasedAPI;let ot=et(264),st=null;const at=(ut,ft)=>{st.getSources(ut,ft)},ct=(ut,ft)=>{st.getSources(ut).then(pt=>{ft(void 0,pt)},ft)},lt=()=>it?at:ct,dt=(ut,ft)=>{lt()({types:[ut]},(bt,Tt)=>{if(bt){ft(bt);return}const ht=Tt[0];if(!ht){ft(new Error("Could not find Electron source for screensharing"));return}const gt={audio:!1,video:{mandatory:{chromeMediaSource:ut,chromeMediaSourceId:ht.id}}};ft(void 0,gt)})};_e.exports=function(ft){ft===void 0&&(ft={});try{const pt=()=>{let Tt=typeof window!==void 0?window:commonjsGlobal;for(;typeof Tt.require!="function"&&Tt.parent&&Tt.parent!==Tt;)Tt=Tt.parent;return Tt},bt=()=>{const Tt=pt();return(Tt.require?Tt.require("electron"):Tt.electron).desktopCapturer};st=ft.desktopCapturer||(nt.isElectron?bt():null),ot=ft.isElectronScreenSharingSource||ot}catch{}return{isSupportedInThisBrowser:st!==null,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!0,window:!0,browser:!0},register:()=>({isInstalled:pt=>pt(!0),getConstraints(pt,bt,Tt){ot(pt)?Tt(void 0,{audio:!0,video:!1}):dt(pt,Tt)}})}}},function(_e,tt,et){const rt=et(2).version<78,it=!rt;_e.exports={isCallbackBasedAPI:rt,isPromiseBasedAPI:it}},function(_e,tt,et){const nt=et(2),rt=et(159).default,it=()=>nt.isFirefox?!rt:!1;_e.exports={isSupportedInThisBrowser:it(),autoRegisters:!0,extensionRequired:!1,extensionInstalled:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:!0,browser:!1},register(){return{isInstalled(ot){ot(typeof OTScreenSharing=="object")},getConstraints(ot,st,at){st.video={mediaSource:ot},st.browserWindow&&(st.video.browserWindow=st.browserWindow,delete st.browserWindow),typeof st.scrollWithPage<"u"&&(st.video.scrollWithPage=st.scrollWithPage,delete st.scrollWithPage),at(void 0,st)}}}}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(653),st=ot.normaliseOptions,at=et(289),ct=at.isMediaStreamTrack,lt=et(148),dt=et(9),ut=et(141),ft=et(290).default,pt=et(7),bt=et(47),Tt=et(13)(),ht=et(291),gt=ht.isValidVideoContentHint,vt=et(6),Ct=et(149),It=et(2),Zt=et(263),Wt="getUserMedia request was aborted";_e.exports=function(Nt){Nt===void 0&&(Nt={}),["deviceHelpers","getUserMediaHelper"].forEach(hn=>{lt(Nt[hn],`${hn} dependency must be injected into processPubOptions`)});const Lt=Nt.generateConstraintInfo||et(253),Mt=Nt.global||(typeof window!==void 0?window:commonjsGlobal),tn=Nt.logging||et(1)("processPubOptions"),$t=Nt.navigator||Mt.navigator,Ht=Nt.screenSharing||et(161)(),rn=Nt.env||It,ln=et(654)({navigator:$t||{}}),mn=Nt,on=mn.deviceHelpers,yn=mn.getUserMediaHelper;return(hn,un,dn)=>{var Nn,Wn,pn;const Rn=st(hn,un,tn),xn=Ct(Rn.videoSource),Jn=ct(Rn.audioSource),cr=ct(Rn.videoSource),er=!Jn&&Rn.audioSource!==null,_n=!cr&&Rn.videoSource!==null,Sr=er||_n,vr=Bn=>typeof Bn=="boolean",Gr=!xn||Jn||Zt,Lr=ut(Rn,{mirror:!xn&&!cr,publishAudio:!0,publishVideo:!0,showControls:!0,fitMode:xn?"contain":"cover",insertDefaultUI:!0,enableRenegotiation:!1,enableStereo:!1,enableDtx:!1,disableAudioProcessing:!1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),Ur=Rn.audioFallback,co=Ur===void 0?{}:Ur,Tr=Rn.audioFallbackEnabled;if(Lr.publisherAudioFallbackEnabled=(Nn=co.publisher)!=null?Nn:!1,Lr.subscriberAudioFallbackEnabled=(Wn=(pn=co.subscriber)!=null?pn:Tr)!=null?Wn:!xn,Lr.videoContentHint!==void 0&&!gt(Lr.videoContentHint)&&(tn.warn(`${un}: Invalid content hint. Valid content hints are "text", "detail", "motion", or ""`),Lr.videoContentHint=""),Lr.name&&(Lr.name=String(Lr.name)),vr(Lr.enableDtx)||(Lr.enableDtx=!1),vr(Lr.enableStereo)||(Lr.enableStereo=!1),Lr.initials&&(typeof Lr.initials!="string"&&(Lr.initials=""),Lr.initials.length>2&&(Lr.initials="",tn.warn("Publisher initials cleared. Only one or two characters allowed for publisher initials.")),Lr.initials=Lr.initials.toUpperCase()),Lr.constraints)tn.warn(`${un}: You have passed your own constraints not using ours`);else{const Bn=Lt(Object.assign({isScreenSharing:xn,isCustomAudioTrack:Jn,isCustomVideoTrack:cr},bt(Lr,["audioSource","publishAudio","videoSource","publishVideo","resolution","maxResolution","frameRate","facingMode","enableRenegotiation","enableStereo","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl"]),{env:rn,usingOptionalMandatoryStyle:ln(xn)}));dt(Lr,Bn)}const wr={isScreenSharing:xn,isCustomAudioTrack:Jn,isCustomVideoTrack:cr,shouldAllowAudio:Gr,properties:Lr};return vt(wr),wr.getUserMedia=(0,it.default)(rt.default.mark(function Bn(){var Gn,lr,Vr,oo,Yn,yr,Ar,so,jr;return rt.default.wrap(function(bo){for(;;)switch(bo.prev=bo.next){case 0:if(Gn=function(){for(var $r=arguments.length,Wo=new Array($r),So=0;So<$r;So++)Wo[So]=arguments[So];return wr.emit("accessDialogOpened",...Wo)},lr=function(){for(var $r=arguments.length,Wo=new Array($r),So=0;So<$r;So++)Wo[So]=arguments[So];return wr.emit("accessDialogClosed",...Wo)},Sr){bo.next=7;break}return Vr=new Mt.MediaStream,Jn&&Vr.addTrack(Rn.audioSource),cr&&Vr.addTrack(Rn.videoSource),bo.abrupt("return",Vr);case 7:if(!xn){bo.next=15;break}return bo.next=10,Ht.getConstraints({onAccessDialogOpened:Gn,onAccessDialogClosed:lr,videoSource:Rn.videoSource,constraints:Lr.constraints});case 10:if(Lr.constraints=bo.sent,!dn()){bo.next=13;break}throw Tt(pt.CANCEL,new Error(Wt));case 13:bo.next=25;break;case 15:return bo.next=17,on.shouldAskForDevices();case 17:if(oo=bo.sent,!dn()){bo.next=20;break}throw Tt(pt.CANCEL,new Error(Wt));case 20:tn.debug(`${un}: shouldAskForDevices:`,oo),oo.video||(tn.warn(`${un}: Setting video constraint to false, there are no video sources`),Lr.constraints.video=!1),oo.audio||(tn.warn(`${un}: Setting audio constraint to false, there are no audio sources`),Lr.constraints.audio=!1),wr.videoDevices=oo.videoDevices,wr.audioDevices=oo.audioDevices;case 25:if(Yn=Lr.constraints,tn.debug(`${un}: onConstraintsFound`,Yn),!dn()){bo.next=29;break}throw Tt(pt.CANCEL,new Error(Wt));case 29:return yr="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=188088",Ar="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=204106",so=go=>go.originalName==="NotReadableError"&&go.originalMessage==="Failed starting capture of a video track",jr=function(){var go=(0,it.default)(rt.default.mark(function $r(){var Wo,So,Vo,qr,Iu;return rt.default.wrap(function(Co){for(;;)switch(Co.prev=Co.next){case 0:return Wo=yn(Yn,xn),Wo.on("accessDialogOpened",Gn),Wo.on("accessDialogClosed",lr),Co.prev=3,Co.next=6,Wo;case 6:if(So=Co.sent,!(rn.isiOS&&Lr.publishVideo&&So.getVideoTracks().length&&So.getVideoTracks()[0].readyState==="ended")){Co.next=11;break}throw So.getTracks().forEach(es=>es.stop()),Vo=new Error(yr),Vo;case 11:return Co.abrupt("return",So);case 14:if(Co.prev=14,Co.t0=Co.catch(3),!rn.isiOS){Co.next=34;break}if(!(so(Co.t0)&&rn.iOSVersion>=13&&rn.iOSVersion<13.4)){Co.next=32;break}return Co.prev=18,qr=yn({audio:!0,video:!1},!1),Co.next=22,qr;case 22:Iu=Co.sent,Iu.getTracks().forEach(es=>es.stop()),Co.next=29;break;case 26:Co.prev=26,Co.t1=Co.catch(18),tn.debug(`${un}: error disposing audio track`,Co.t1);case 29:throw new Error(Ar);case 32:if(Co.t0.name!==pt.HARDWARE_UNAVAILABLE){Co.next=34;break}throw new Error(yr);case 34:throw Co.t0;case 35:return Co.prev=35,setTimeout(()=>{Wo.off("accessDialogOpened",Gn),Wo.off("accessDialogClosed",lr)}),Co.finish(35);case 38:case"end":return Co.stop()}},$r,null,[[3,14,35,38],[18,26]])}));return function(){return go.apply(this,arguments)}}(),bo.next=35,ft(jr,(go,$r)=>[yr,Ar].includes(go.message)&&$r===1&&!dn()?1e3:!1)();case 35:if(Vr=bo.sent,!dn()){bo.next=39;break}throw Vr.getTracks().forEach(go=>{go.stop()}),Tt(pt.CANCEL,new Error(Wt));case 39:return Jn&&Vr.addTrack(Rn.audioSource),cr&&Vr.addTrack(Rn.videoSource),bo.abrupt("return",Vr);case 42:case"end":return bo.stop()}},Bn)})),wr}}},function(_e,tt,et){const nt=et(289),rt=nt.isMediaStreamTrack,it=et(37),ot=et(2),st=(at,ct,lt)=>{const dt=at&&typeof at=="object"?it(at):{};if(dt.audioSource===!1&&(dt.audioSource=null),dt.videoSource===!1&&(dt.videoSource=null),dt.minVideoBitrate!==void 0&&!(typeof dt.minVideoBitrate=="number"&&dt.minVideoBitrate>0)&&(lt.warn(`${ct}: Invalid minVideoBitrate in publisher properties. minVideoBitrate must be a positive number`),delete dt.minVideoBitrate),dt.audioBitrate!==void 0&&!(dt.audioBitrate>=6*1e3&&dt.audioBitrate<=510*1e3)&&(lt.warn(`${ct}: Invalid audioBitrate in publisher properties. audioBitrate must be a number between ${6*1e3} and ${510*1e3} bits per second`),delete dt.audioBitrate),ot.name==="Firefox"&&ot.version<49){const ut="Firefox 48 and below";rt(dt.audioSource)&&(dt.audioSource=null,lt.warn(`${ct}: Cannot use custom tracks with ${ut}. Setting audioSource to null`)),rt(dt.videoSource)&&(dt.videoSource=null,lt.warn(`${ct}: Cannot use custom tracks with ${ut}. Setting videoSource to null`))}return dt};tt.normaliseOptions=st},function(_e,tt,et){const nt=et(2),rt=nt.name,it=nt.version,ot=et(257);_e.exports=function(at){let ct=at===void 0?{}:at,lt=ct.navigator,dt=lt===void 0?window.navigator:lt;return function(ft){return ft&&!ot||!(dt.mediaDevices&&dt.mediaDevices.getUserMedia)||rt==="Chrome"&&it<61}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={}),["processPubOptions"].forEach(ct=>{if(!rt[ct])throw new Error(`${ct} dependency must be injected into OT.getUserMedia`)});const it=rt.logging||et(1)("getUserMedia"),ot=rt,st=ot.processPubOptions;return function(lt){return lt===void 0&&(lt={}),st(lt,"OT.getUserMedia",()=>!1).getUserMedia().catch(ut=>{throw it.error(`OT.getUserMedia failed to getUserMedia: ${ut}`),ut})}}},function(_e,tt,et){_e.exports=function(rt,it){const ot=(st,at)=>()=>{throw new Error(`Cannot ${st} ${at}, ${rt} is destroyed`)};Object.keys(it).forEach(st=>{typeof it[st]=="function"?it[st]=ot("call",st):Object.defineProperty(it,st,{get:ot("get",st),set:ot("set",st)})})}},function(_e,tt,et){_e.exports=nt=>{if("srcObject"in nt)return;const rt=window&&window.URL;"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(nt,"srcObject",{get(){return this._srcObject},set(it){const ot=this;if(this._srcObject=it,this.src&&rt.revokeObjectURL(this.src),!it){this.src="";return}return this.src=rt.createObjectURL(it),it.addEventListener("addtrack",()=>{ot.src&&rt.revokeObjectURL(ot.src),ot.src=rt.createObjectURL(it)}),it.addEventListener("removetrack",()=>{ot.src&&rt.revokeObjectURL(ot.src),ot.src=rt.createObjectURL(it)}),this._srcObject}})}},function(_e,tt,et){const nt=ot=>!(!ot||typeof ot.getBoundingClientRect!="function"),rt=ot=>{const st=ot.getBoundingClientRect(),at=window.innerHeight||document.documentElement.clientHeight,ct=window.innerWidth||document.documentElement.clientWidth,lt=st.top<=at&&st.top+st.height>=0,dt=st.left<=ct&&st.left+st.width>=0;return lt&&dt},it=ot=>{const st=at=>at.style&&at.style.visibility==="hidden"?!0:at.parentNode?st(at.parentNode):!1;return ot.offsetParent!==null&&!st(ot)};_e.exports=ot=>nt(ot)&&rt(ot)&&it(ot)},function(_e,tt,et){const nt=et(105),rt=et(8),it={0:"rotate(0deg)",270:"rotate(90deg)",90:"rotate(-90deg)",180:"rotate(180deg)"};_e.exports=function(st,at,ct){let lt=ct;nt(st,{isRotated:{get(){return this.orientation()&&(this.orientation().videoOrientation===270||this.orientation().videoOrientation===90)}},orientation:{get(){return lt},set(dt){lt=dt;const ut=it[dt.videoOrientation]||it.ROTATED_NORMAL;switch(rt.env.name){case"Chrome":case"Safari":at().style.webkitTransform=ut;break;default:at().style.transform=ut}st.trigger("orientationChanged",lt)}},audioChannelType:{get(){return"mozAudioChannelType"in this.domElement?this.domElement.mozAudioChannelType:"unknown"},set(dt){"mozAudioChannelType"in this.domElement&&(this.domElement.mozAudioChannelType=dt)}}})}},function(_e,tt,et){_e.exports=function(){function rt(it){return it.getTracks().every(ot=>ot.readyState==="ended")}return function(ot,st,at){const ct=[];function lt(pt){setTimeout(()=>{if(ct.length)if(rt(ot))ut(),typeof st=="function"&&st();else{const bt=pt.target;dt(bt),typeof at=="function"&&at(bt)}},100)}function dt(pt){pt.onended===lt&&(pt.onended=null);const bt=ct.indexOf(pt);bt>=0&&ct.splice(bt,1)}function ut(){ct.slice().forEach(dt)}function ft(){ot.getTracks().forEach(pt=>{ct.push(pt),pt.onended=lt})}return ft(),{stop:ut,refresh:()=>{ut(),ft()}}}}},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(18)),it=nt(et(1)),ot=nt(et(108)),st=et(74);const at=(0,it.default)("AudioFallbackState");var lt=()=>{const dt=new rt.default;let ut=st.CongestionLevels.LOW,ft=ot.default.ACTIVE_VIDEO;const pt=vt=>{ft=vt,dt.emit("stateChange",{state:vt})},bt=()=>{ut=st.CongestionLevels.LOW,pt(ot.default.ACTIVE_VIDEO)},Tt=()=>{ut===st.CongestionLevels.LOW&&pt(ot.default.ACTIVE_VIDEO_WITH_WARNING),ut=st.CongestionLevels.MEDIUM},ht=()=>{ut=st.CongestionLevels.CRITICAL,pt(ot.default.SUSPENDED_VIDEO)},gt={[st.CongestionLevels.LOW]:bt,[st.CongestionLevels.MEDIUM]:Tt,[st.CongestionLevels.CRITICAL]:ht};return Object.assign(dt,{setCongestionLevel(vt){if(this.congestionLevel===vt){at.warn(`Congestion level already set: ${vt}`);return}const Ct=gt[vt];Ct?Ct():at.warn(`Invalid congestion level: ${vt}`)},getState(){return ft},reset(){ut=st.CongestionLevels.LOW,ft=ot.default.ACTIVE_VIDEO}})};tt.default=lt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(663)),it=nt(et(664)),ot=nt(et(665)),st=nt(et(667)),at=nt(et(668));const ct=et(18);var dt=function(ft,pt){ft===void 0&&(ft={}),pt===void 0&&(pt={});const bt=new ct,Tt=ft,ht=Tt.videoResolution,gt=Tt.getStats,vt=pt,Ct=vt.createMovingAverageTracker,It=Ct===void 0?st.default:Ct,Zt=vt.createTimeBasedCongestionLevel,Wt=Zt===void 0?rt.default:Zt,kt=vt.createBasicCongestionLevel,Nt=kt===void 0?it.default:kt,Lt=vt.getFairQualityBandwidthForResolution,Mt=Lt===void 0?at.default:Lt,tn=vt.CongestionLevelStats,$t=tn===void 0?ot.default:tn,Ht={bandwidthFairThreshold:Mt(ht)},rn=Wt(Ht),ln=Nt(Ht),mn=It(),on=It(),yn=It(),hn=()=>rn.getLevel({bandwidth:yn.getMovingAverageValue(),audioPacketLoss:mn.getMovingAverageValue()}),un=()=>ln.getLevel({bandwidth:yn.getMovingAverageValue(),audioPacketLoss:mn.getMovingAverageValue()}),dn=()=>{const pn=hn(),Rn=un(),xn=Math.max(pn,Rn);bt.emit("congestionLevel",xn)},Nn=pn=>{let Rn=pn.audioPacketLoss,xn=pn.videoPacketLoss,Jn=pn.bandwidth;mn.addValue(Rn),on.addValue(xn),yn.addValue(Jn),dn()},Wn=new $t(gt);return Wn.on("statsAvailable",pn=>{Nn(pn)}),Object.assign(bt,{start(){Wn.start()},stop(){Wn.stop()}})};tt.default=dt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(297)),it=et(74),st=function(ct){ct===void 0&&(ct={});const lt=Object.assign({},rt.default,ct);let dt=!1,ut;return{getLevel(ft){if(ft.audioPacketLoss<lt.packetLossCriticalThreshold)return dt=!1,it.LOW;const bt=Date.now();return dt||(ut=bt,dt=!0),bt>ut+lt.criticalCongestionPeriod?it.CRITICAL:bt>ut+lt.criticalCongestionPeriod/2?it.MEDIUM:it.LOW}}};tt.default=st},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(297)),it=et(74),st=function(ct){ct===void 0&&(ct={});const lt=Object.assign({},rt.default,ct);return{getLevel(dt){let ut=dt.bandwidth,ft=dt.audioPacketLoss,pt;if(ut<=0)return ft>lt.packetLossCriticalThresholdMediumBw?pt=it.CRITICAL:pt=it.LOW,pt;if(ut>=lt.bandwidthFairThreshold?pt=it.LOW:ut>=lt.bandwidthCriticalThreshold?ut>=(lt.bandwidthCriticalThreshold+lt.bandwidthFairThreshold)/2?ft>lt.packetLossCriticalThresholdMediumBw*2?pt=it.CRITICAL:pt=it.MEDIUM:ft>lt.packetLossCriticalThresholdMediumBw?pt=it.CRITICAL:pt=it.MEDIUM:ft>lt.packetLossCriticalThreshold?pt=it.CRITICAL:pt=it.MEDIUM,pt===void 0)throw new Error("undefined congestion level");return pt}}};tt.default=st},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=it(et(666));function rt(dt){if(typeof WeakMap!="function")return null;var ut=new WeakMap,ft=new WeakMap;return(rt=function(bt){return bt?ft:ut})(dt)}function it(dt,ut){if(!ut&&dt&&dt.__esModule)return dt;if(dt===null||typeof dt!="object"&&typeof dt!="function")return{default:dt};var ft=rt(ut);if(ft&&ft.has(dt))return ft.get(dt);var pt={},bt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Tt in dt)if(Tt!=="default"&&Object.prototype.hasOwnProperty.call(dt,Tt)){var ht=bt?Object.getOwnPropertyDescriptor(dt,Tt):null;ht&&(ht.get||ht.set)?Object.defineProperty(pt,Tt,ht):pt[Tt]=dt[Tt]}return pt.default=dt,ft&&ft.set(dt,pt),pt}const ot=et(18),st=1e3,at=500;var lt=function(ut,ft){ft===void 0&&(ft={});const pt=ft.StatsUtils||nt,bt=new ot;let Tt;const ht=Ct=>{const It=pt.parseStats(Ct);if(!Tt){Tt=It;return}const Zt=pt.getAudioPacketLoss(It,Tt),Wt=pt.getVideoPacketLoss(It,Tt),kt=It.bandwidth;Tt=It,bt.emit("statsAvailable",{audioPacketLoss:Zt,videoPacketLoss:Wt,bandwidth:kt})},gt=()=>{ut((Ct,It)=>{Ct||ht(It)})};let vt;return Object.assign(bt,{start(){vt=setTimeout(()=>{gt(),vt=setInterval(()=>{gt()},at)},st)},stop(){clearInterval(vt)}})};tt.default=lt},function(_e,tt,et){tt.__esModule=!0,tt.parseStats=tt.getVideoResolution=tt.getVideoPacketStats=tt.getVideoPacketLoss=tt.getBandwidth=tt.getAudioPacketStats=tt.getAudioPacketLoss=void 0;const nt=(ft,pt)=>{const bt=ft.filter(vt=>{let Ct=vt.type,It=vt.kind;return Ct==="outbound-rtp"&&It===pt}),Tt=ft.filter(vt=>{let Ct=vt.type,It=vt.kind;return Ct==="remote-inbound-rtp"&&It===pt}),ht=bt.reduce((vt,Ct)=>vt+Ct.packetsSent,0),gt=Tt.reduce((vt,Ct)=>vt+Ct.packetsLost,0);return{packetsSent:ht,packetsLost:gt}},rt=ft=>ft.filter(Tt=>{let ht=Tt.type,gt=Tt.kind;return ht==="outbound-rtp"&&gt==="video"}).reduce((Tt,ht)=>({width:Math.max(Tt.width,ht.frameWidth),height:Math.max(Tt.height,ht.frameHeight)}),{width:0,height:0});tt.getVideoResolution=rt;const it=ft=>{const pt=nt(ft,"audio"),bt=pt.packetsSent;return{audioPacketsLost:pt.packetsLost,audioPacketsSent:bt}};tt.getAudioPacketStats=it;const ot=ft=>{const pt=nt(ft,"video"),bt=pt.packetsSent;return{videoPacketsLost:pt.packetsLost,videoPacketsSent:bt}};tt.getVideoPacketStats=ot;const st=ft=>ft.find(bt=>bt.type==="candidate-pair").availableOutgoingBitrate;tt.getBandwidth=st;const at=ft=>{const pt=it(ft),bt=pt.audioPacketsSent,Tt=pt.audioPacketsLost,ht=ot(ft),gt=ht.videoPacketsSent,vt=ht.videoPacketsLost;return{bandwidth:st(ft),audioPacketsSent:bt,audioPacketsLost:Tt,videoPacketsSent:gt,videoPacketsLost:vt}};tt.parseStats=at;const ct=(ft,pt)=>pt===0?0:ft/pt,lt=(ft,pt,bt)=>{const Tt=pt[`${ft}PacketsSent`]-bt[`${ft}PacketsSent`],ht=pt[`${ft}PacketsLost`]-bt[`${ft}PacketsLost`];return ct(ht,Tt)},dt=(ft,pt)=>lt("audio",ft,pt);tt.getAudioPacketLoss=dt;const ut=(ft,pt)=>lt("video",ft,pt);tt.getVideoPacketLoss=ut},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt=function(ot){ot===void 0&&(ot=0);let st=ot,at=1e4,ct;const lt=()=>{const dt=Date.now();if(!ct)return ct=dt,1;const ut=dt-ct,ft=1-Math.exp(-ut/at);return ct=dt,ft};return{setPeriod(dt){at=dt},getMovingAverageValue(){return st},addValue(dt){const ut=lt();st=dt*ut+st*(1-ut)}}};tt.default=rt},function(_e,tt,et){const nt=[{width:"320",height:"180",fairQualityBitrate:12e4},{width:"320",height:"240",fairQualityBitrate:12e4},{width:"352",height:"288",fairQualityBitrate:125e3},{width:"480",height:"270",fairQualityBitrate:125e3},{width:"640",height:"360",fairQualityBitrate:15e4},{width:"640",height:"480",fairQualityBitrate:15e4},{width:"960",height:"540",fairQualityBitrate:15e4},{width:"1280",height:"720",fairQualityBitrate:4e5},{width:"1920",height:"1080",fairQualityBitrate:5e5}].sort((st,at)=>st.fairQualityBitrate-at.fairQualityBitrate),rt=25e4,it=nt.reduce((st,at)=>{let ct=at.fairQualityBitrate;return Math.max(st,ct)},rt),ot=(st,at)=>{var ct;return!st||!at?rt:((ct=nt.find(dt=>{let ut=dt.height,ft=dt.width;return at*st<=ut*ft}))==null?void 0:ct.fairQualityBitrate)||it};_e.exports=ot},function(_e,tt,et){const nt=rt=>rt>=15&&rt<15.4;_e.exports=rt=>(rt=rt||et(2),rt.isiPad?!0:rt.isiPhone?nt(rt.iOSVersion):rt.isSafari?nt(rt.version):!1)},function(_e,tt,et){const nt=[{width:320,height:180,maxBitrate:3e5},{width:320,height:240,maxBitrate:4e5},{width:352,height:288,maxBitrate:5e5},{width:480,height:270,maxBitrate:55e4},{width:640,height:360,maxBitrate:8e5},{width:640,height:480,maxBitrate:8e5},{width:960,height:540,maxBitrate:11e5},{width:1280,height:720,maxBitrate:25e5},{width:1920,height:1080,maxBitrate:45e5}].sort((ot,st)=>ot.maxBitrate-st.maxBitrate),rt=45e5,it=(ot,st)=>{var at;return!ot||!st?rt:((at=nt.find(lt=>{let dt=lt.height,ut=lt.width;return st*ot<=dt*ut}))==null?void 0:at.maxBitrate)||rt};_e.exports=it},function(_e,tt,et){var nt=et(62),rt=et(99),it=et(35);function ot(st,at){var ct={};return at=it(at,3),rt(st,function(lt,dt,ut){nt(ct,dt,at(lt,dt,ut))}),ct}_e.exports=ot},function(_e,tt,et){_e.exports=function(rt,it){const ot=setTimeout(()=>{rt((st,at)=>{if(!st)for(let ct=0;ct<at.length;ct+=1){const lt=at[ct];lt.id.indexOf("_send")!==-1&&lt.type==="ssrc"&&(lt.kind==="audio"||lt.mediaType==="audio")&&parseInt(lt.bytesSent,10)===0&&it()}})},3e3);return function(){clearTimeout(ot)}}},function(_e,tt,et){const nt=et(6),rt=et(301),it=et(15);_e.exports=function(){return function(at,ct){const lt={},dt=[];let ut=!1,ft=!1;this._id=it();const pt=()=>{this.trigger("iceConnected"),ut=!0},bt=()=>this.trigger("close"),Tt=kt=>this.trigger("remoteVideoSupported",kt),ht=kt=>{let Nt=kt.reason,Lt=kt.prefix;return this.trigger("error",Nt,Lt)},gt=kt=>this.trigger("iceConnectionStateChange",kt),vt=kt=>this.trigger("signalingStateChange",kt),Ct=kt=>this.trigger("signalingStateStable",kt),It=()=>{ft&&(ft=!1,ct.removeFromSinglePeerConnection(this._id))};nt(this);const Zt=ct.getPeerConnection(at,this);Zt.on({iceConnected:pt,close:bt,signalingStateChange:vt,signalingStateStable:Ct,error:ht,qos:kt=>this.trigger("qos",kt),iceConnectionStateChange:gt,remoteVideoSupported:Tt,negotiationNeeded:It},this);const Wt=()=>Zt.iceConnectionStateIsConnected()&&!ut;this._onTrackAdded=kt=>{const Nt=kt.track,Lt=kt.transceiver;lt[Nt.id]=Lt.mid,dt.push(Nt),Wt()&&pt(),this.trigger("trackAdded",kt)},this.disconnect=()=>{ft=!0,ct.removeSubscriber(this._id,Object.values(lt))},this.removeTrack=kt=>{lt[kt.id]&&ct.removeSubscriber(this._id,[lt[kt.id]]),rt(dt,kt),ct.removeTrack(kt,this._id)},this.remoteTracks=()=>dt,this.generateOfferAndSend=()=>Zt.generateOfferAndSend(),this.getDataChannel=(kt,Nt,Lt)=>{Zt.getDataChannel(kt,Nt,Lt)},this.getSourceStreamId=()=>Zt.getSourceStreamId(),this.processMessage=(kt,Nt)=>{(kt==="offer"||kt==="answer")&&ct.cacheOfferAnswer(Nt.content.sdp),Zt.processMessage(kt,Nt)},this.remoteDescription=()=>Zt.remoteDescription(),this.getStats=kt=>{Zt.getStats(kt)},this.getSynchronizationSources=kt=>{Zt.getSynchronizationSources(kt)},this.getRtcStatsReport=kt=>{Zt.getRtcStatsReport(kt)},this.remoteStreams=()=>Zt.remoteStreams(),this.hasRelayCandidates=()=>Zt.hasRelayCandidates(),this.iceRestart=()=>Zt.iceRestart(),this.iceConnectionStateIsConnected=()=>Zt.iceConnectionStateIsConnected()}}},function(_e,tt,et){_e.exports=function(it,ot,st){st===void 0&&(st=!1);let at=null,ct=0,lt=null,dt=st;const ut=gt=>gt.type==="inbound-rtp"&&(gt.kind||gt.mediaType)==="audio",ft=gt=>gt.id===lt&&gt.type==="track"&&(gt.kind||gt.mediaType)==="audio",pt=(gt,vt)=>gt===at&&vt===ct,bt=(gt,vt)=>!dt&&gt===0&&at===0&&vt>ct,Tt=()=>{setTimeout(()=>{dt=!0},3e3)},ht=setInterval(()=>{it((gt,vt)=>{if(gt)return;lt=(vt.find(ut)||{}).trackId;const It=vt.find(ft);if(It){const Zt=It.audioLevel,Wt=It.totalSamplesReceived;if(Zt===void 0)return;pt(Zt,Wt)?(clearInterval(ht),ot("audioLevelStuck")):bt(Zt,Wt)&&(clearInterval(ht),ot("audioLevelStuckAt0")),at=Zt,ct=Wt}})},500);return st||Tt(),{stop:()=>{clearInterval(ht)}}}},function(_e,tt,et){(function(nt){const rt=et(20),it=new rt;_e.exports=function(st){st===void 0&&(st={});const at=st.analytics||it,ct=st.errors||et(7),lt=st.ExceptionCodes||et(10),dt=st.otError||et(13)(),ut=st.sessionObjects||et(21),ft=st.uuid||et(15);return function(bt){bt===void 0&&(bt=()=>{});const Tt=ft();function ht(gt){gt?bt(dt(ct.REPORT_ISSUE_FAILED,new Error("Error calling OT.reportIssue(). Check the client's network connection."),lt.REPORT_ISSUE_ERROR)):bt(null,Tt)}ut.sessions.length()===0?at.logEvent({action:"ReportIssue",variation:"Event",payload:{reportIssueId:Tt}},null,ht):nt.all(ut.sessions.map(gt=>gt.reportIssue({id:Tt}))).then(()=>ht(),gt=>ht(gt))}}}).call(this,et(0))},function(_e,tt,et){_e.exports=nt=>{let rt=nt.window,it=!1;try{const ot=Object.defineProperty({},"passive",{get(){it=!0}});rt.addEventListener("testPassive",null,ot),rt.removeEventListener("testPassive",null,ot)}catch{}return it}},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0});var nt=function(){function lt(dt,ut){for(var ft=0;ft<ut.length;ft++){var pt=ut[ft];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(dt,pt.key,pt)}}return function(dt,ut,ft){return ut&&lt(dt.prototype,ut),ft&&lt(dt,ft),dt}}(),rt=et(303),it=ot(rt);function ot(lt){return lt&&lt.__esModule?lt:{default:lt}}function st(lt,dt){if(!(lt instanceof dt))throw new TypeError("Cannot call a class as a function")}var at=function(){},ct=function(){function lt(){st(this,lt),this.internalIsCanceled=!1,this.listeners=[]}return nt(lt,[{key:"isCanceled",value:function(){return this.internalIsCanceled}},{key:"cancel",value:function(){this.internalIsCanceled||(this.internalIsCanceled=!0,this.listeners.forEach(function(ut){return ut()}),this.listeners=null)}},{key:"throwIfCanceled",value:function(){if(this.internalIsCanceled)throw new it.default("Operation has been canceled.")}},{key:"onCancel",value:function(ut){var ft=this;return this.internalIsCanceled?at:(this.listeners.push(ut),function(){if(ft.listeners){var pt=ft.listeners.indexOf(ut);pt!==-1&&ft.listeners.splice(pt,1)}})}},{key:"fork",value:function(){if(this.internalIsCanceled)return lt.CANCELED;var ut=new lt;return this.onCancel(function(){return ut.cancel()}),ut}}]),lt}();tt.default=ct,ct.CANCELED=new ct,ct.CANCELED.internalIsCanceled=!0},function(_e,tt,et){(function(nt){const rt=et(61),it=et(304).default,ot=et(154);et(109)();function st(at,ct){const lt=rt(at),dt=new nt(ut=>{const ft=()=>{(at.videoWidth()>2||at.videoHeight()>2)&&ut(!0)};lt.on("videoDimensionsChanged",ft),ft()});return it(ot(dt,ct,()=>!1),()=>lt.removeAll())}_e.exports=st}).call(this,et(0))},function(_e,tt,et){(function(nt){const rt=et(61),it=et(304).default,ot=et(154);et(109)();function st(at,ct){ct===void 0&&(ct=5e3);const lt=rt(at),dt=new nt(ut=>{lt.on("timeupdate",ut),lt.on("loadedmetadata",ut)});return it(ot(dt,ct,()=>!1),()=>lt.removeAll())}_e.exports=st}).call(this,et(0))},function(_e,tt,et){const nt=et(1)("WidgetView:fixMini"),rt=128,it=128,ot=64,st=64;_e.exports=function(ct){const lt=ct.clientWidth,dt=ct.clientHeight;ct.classList.remove("OT_micro"),ct.classList.remove("OT_mini"),(lt<ot||dt<st)&&(ct.classList.add("OT_micro"),nt.debug("OT_micro class added",{clientWidth:lt,clientHeight:dt,microWidth:ot,microHeight:st})),(lt<rt||dt<it)&&(ct.classList.add("OT_mini"),nt.debug("OT_mini class added",{clientWidth:lt,clientHeight:dt,miniWidth:rt,miniHeight:it}))}},function(_e,tt,et){const nt=et(15);_e.exports=function(it,ot){let st,at;if(it&&it.nodeName?(st=it,(!st.getAttribute("id")||st.getAttribute("id").length===0)&&st.setAttribute("id",`OT_${nt()}`),at=st.getAttribute("id")):it&&(st=document.getElementById(it),st&&(at=it)),at||(at=`OT_${nt().replace(/-/g,"_")}`),!st)return st=document.createElement("div"),st.id=at,st.setAttribute("id",at),st.style.backgroundColor="#000000",document.body.appendChild(st),st;const ct=document.createElement("div");switch(ct.id=`OT_${nt()}`,ot){case"append":return st.appendChild(ct),ct;case"before":return st.parentNode.insertBefore(ct,st),ct;case"after":return st.parentNode.insertBefore(ct,st.nextSibling),ct;case"replace":default:for(;st.firstChild;)st.removeChild(st.firstChild);return st}}},function(_e,tt,et){_e.exports=function(rt,it){return it===void 0&&(it="px"),String(parseFloat(rt,10))===String(rt).trim()?`${String(rt).trim()}${it}`:rt}},function(_e,tt,et){const nt=()=>{const it=document.createElementNS("http://www.w3.org/2000/svg","circle");return it.setAttribute("cx","50%"),it.setAttribute("cy","50%"),it.setAttribute("r","50%"),it.setAttribute("fill","%23000000"),it},rt=it=>{const ot=document.createElementNS("http://www.w3.org/2000/svg","text");ot.setAttribute("x","50%"),ot.setAttribute("y","50%"),ot.setAttribute("dy","5%"),ot.setAttribute("line-height","133%"),ot.setAttribute("font-size","108"),ot.setAttribute("font-weight","500"),ot.setAttribute("font-style","normal"),ot.setAttribute("fill","%23FFFFFF"),ot.setAttribute("font-family","spezia,sans-serif"),ot.setAttribute("dominant-baseline","middle"),ot.setAttribute("text-anchor","middle");const st=document.createTextNode(it);return ot.appendChild(st),ot};_e.exports=it=>{const ot=document.createElementNS("http://www.w3.org/2000/svg","svg");ot.setAttribute("viewBox","0 0 300 300"),ot.setAttribute("style","width: 50%; dominant-baseline: middle; text-anchor: middle;");const st=nt(),at=rt(it);return ot.appendChild(st),ot.appendChild(at),ot}},function(_e,tt,et){(function(nt){const rt=et(73);_e.exports=function(ot,st){let at=st===void 0?{}:st,ct=at.frequency,lt=ct===void 0?60:ct,dt=at.timeout,ut=dt===void 0?2e3:dt;return new nt((ft,pt)=>{let bt;const Tt=new rt(()=>{function ht(){try{return ot()}catch{return!1}}ht()&&(clearTimeout(bt),Tt.stop(),ft())},lt);bt=setTimeout(()=>{Tt.stop(),pt(new Error("TIMEOUT"))},ut),Tt.start()})}}).call(this,et(0))},function(_e,tt,et){const nt=et(13)(),rt=et(7),it=et(10);_e.exports=ot=>String(ot.code)==="404"?nt(rt.STREAM_NOT_FOUND,new Error("stream not found"),it.UNABLE_TO_SUBSCRIBE):String(ot.code)==="409"&&ot.message==="streamLimitExceeded"?nt(rt.STREAM_LIMIT_EXCEEDED,new Error("The limit for concurrent streams in the session has been reached"),it.STREAM_LIMIT_EXCEEDED):String(ot.code)==="405"&&ot.message==="IncompatibleEncryptionSettings"?nt(rt.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to an encrypted stream without enabling encryption"),it.UNABLE_TO_SUBSCRIBE):String(ot.code)==="500"&&ot.message==="Not connected."?nt(rt.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to a stream while disconnected."),it.UNABLE_TO_SUBSCRIBE):nt(rt.UNABLE_TO_SUBSCRIBE,new Error(`subscriberCreate failed with unexpected code ${ot.code}: ${ot.message}`),it.UNEXPECTED_SERVER_RESPONSE)},function(_e,tt,et){const nt=et(26),rt=et(49),it=et(104),ot=et(23)();_e.exports=st=>{let at=st.subscriber,ct=st.audioLevelSampler,lt=0,dt=0;const ut=new it(()=>{const ft=at.listenerCount(nt.AUDIO_LEVEL_UPDATED);if((()=>rt()-dt>1e4&&ft===0)()){ut.stop();return}lt=ct.sample(),ft>0&&at.dispatchEvent(new ot.AudioLevelUpdatedEvent(lt))});return Object.defineProperty(at,"loudness",{get(){return ut.start(),dt=rt(),lt},set(){throw new TypeError("Cannot set readonly property loudness")},configurable:!0}),at.listenerCount(nt.AUDIO_LEVEL_UPDATED)&&ut.start(),at.on("audioLevelUpdated:added",()=>{ut.start()}),at.once(nt.SUBSCRIBER_DESTROYED,()=>{ut.stop()}),{destroy(){ct.destroy(),ut.stop()}}}},function(_e,tt,et){const nt=et(252),rt=et(146),it=et(688),ot=et(306),st=et(307),at=et(158)(),ct=et(689),lt=et(1)("Subscriber");_e.exports=function(dt,ut){ut===void 0&&(ut={});const ft=ut.hasGetSynchronizationSupport;if(dt){if(it({hasGetSynchronizationSupport:ft}))return new nt(dt.getSynchronizationSources);if(ot())return new nt(dt.getStats);if(st()){let pt;try{pt=ut.audioContext||at()}catch(bt){lt.warn("Failed to get AudioContext()",bt)}if(ct(pt))return new rt(pt)}}}},function(_e,tt,et){const rt=et(2),it=()=>window.RTCRtpReceiver&&"getSynchronizationSources"in window.RTCRtpReceiver.prototype;_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.hasGetSynchronizationSupport||it;return(typeof ot.isEnabled=="boolean"?ot.isEnabled:!1)&&st()&&!rt.isFirefox}},function(_e,tt,et){_e.exports=nt=>(typeof window!==void 0?window:commonjsGlobal).AudioContext&&nt instanceof(typeof window!==void 0?window:commonjsGlobal).AudioContext||(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext&&nt instanceof(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext},function(_e,tt,et){const nt=et(36),rt=et(8);_e.exports=function(ot){let st=!1;const at=lt=>{const dt=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(lt,["OT_audio-blocked","OT_active"].join(" ")),dt&&(st&&rt.addClass(lt,"OT_audio-blocked"),rt.addClass(lt,"OT_active"))};this.setAudioBlocked=lt=>{st=lt,at(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-blocked-indicator"}});const ct=this.setDisplayMode.bind(this);this.setDisplayMode=lt=>{ct(lt),at(this.domElement)}}},function(_e,tt,et){const nt=et(36),rt=et(8);_e.exports=function(ot){let st=!1;const at=lt=>{const dt=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(lt,["OT_active"].join(" ")),!(!dt||!st)&&rt.addClass(lt,"OT_active")};this.setVideoUnsupported=lt=>{st=lt,at(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-unsupported"},htmlContent:'<div class="OT_video-unsupported-bar"></div><div class="OT_video-unsupported-img"></div><span class="OT_video-unsupported-text">Video format not supported</span>'});const ct=this.setDisplayMode.bind(this);this.setDisplayMode=lt=>{ct(lt),at(this.domElement)}}},function(_e,tt,et){const nt=et(47),rt=et(9),it=et(60),ot=et(75),st=et(157),at=function(lt,dt){dt===void 0&&(dt=5e3);let ut,ft=!1;const pt={},bt=function(gt){return gt===void 0&&(gt=[]),it(gt,vt=>ot.isVideoInboundRtpStat(vt))},Tt=()=>{ft||lt((ht,gt)=>{if(!ft){if(!ht){const vt=bt(gt);vt?rt(pt,nt(vt,["timestamp","framesDecoded"])):pt.timestamp||rt(pt,{timestamp:Date.now(),framesDecoded:0})}ut=setTimeout(Tt,dt)}})};return Tt(),{getFrameRateFromStat(ht){return st({currentStatFrames:ht.framesDecoded,currentTimestamp:ht.timestamp,prevStatFrames:pt.framesDecoded,prevTimestamp:pt.timestamp})},destroy(){ft=!0,ut&&(clearTimeout(ut),ut=null)}}};_e.exports=at},function(_e,tt,et){_e.exports=nt=>{let rt=nt.connectivityState,it=nt.onWarning,ot=nt.onTimeout,st=nt.warningMs,at=nt.timeoutMs;const ct=[],lt=()=>{ct.forEach(dt=>clearTimeout(dt))};rt.observe({onEnterConnecting(){ct.push(setTimeout(it,st),setTimeout(ot,at))},onEnterConnected:lt,onEnterDisconnected:lt})}},function(_e,tt,et){const nt=et(310);_e.exports=rt=>{let it=rt.onInvalidTransition;return new nt({init:"disconnected",transitions:[{name:"beginConnect",from:"disconnected",to:"connecting"},{name:"connect",from:"connecting",to:"connected"},{name:"fail",from:["connecting","connected"],to:"disconnected"},{name:"cancel",from:["connecting","connected"],to:"disconnected"},{name:"disconnect",from:["connecting","connected"],to:"disconnected"}],methods:{onInvalidTransition:it}})}},function(_e,tt,et){const nt=et(73);_e.exports=rt=>{let it=rt.connectivityState,ot=rt.logAttempt;const st=new nt(ot,1/5,6);it.observe({onEnterConnecting(){st.start()},onEnterDisconnected(){st.stop()},onEnterConnected(){st.stop()}})}},function(_e,tt){function et(nt){if(nt==null)throw new TypeError("Cannot destructure undefined")}_e.exports=et},function(_e,tt){function et(){return _e.exports=et=Object.assign||function(nt){for(var rt=1;rt<arguments.length;rt++){var it=arguments[rt];for(var ot in it)Object.prototype.hasOwnProperty.call(it,ot)&&(nt[ot]=it[ot])}return nt},et.apply(this,arguments)}_e.exports=et},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(18)),st=nt(et(699)),at=nt(et(108)),ct=nt(et(313)),lt=et(74);const dt=at.default.ACTIVE_VIDEO,ut=at.default.ACTIVE_VIDEO_WITH_WARNING,ft=at.default.SUSPENDED_VIDEO;var bt=Tt=>{let ht=Tt.getAllPeerConnections,gt=Tt.setEncodersActiveState,vt=gt===void 0?ct.default:gt;const Ct=new ot.default,It=(0,st.default)();It.on("stateChange",function(){for(var kt=arguments.length,Nt=new Array(kt),Lt=0;Lt<kt;Lt++)Nt[Lt]=arguments[Lt];return Ct.emit("stateChange",...Nt)});const Zt=function(){var kt=(0,it.default)(rt.default.mark(function Nt(){var Lt,Mt;return rt.default.wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return $t.next=2,ht();case 2:Lt=$t.sent,Mt=Lt.reduce((Ht,rn)=>Math.max(Ht,rn.getAudioFallbackState()),dt),It.setState(Mt);case 5:case"end":return $t.stop()}},Nt)}));return function(){return kt.apply(this,arguments)}}();return Object.assign(Ct,{onPeerConnectionStateChange:kt=>{let Nt=kt.state,Lt=kt.peerConnection,Mt=kt.publishVideo,tn=kt.stream,$t=kt.peerId;if(Mt){const Ht=Lt.getSourceStreamId()==="MANTIS"?void 0:$t;switch(Nt){case dt:vt(Lt,!0),tn.setChannelActiveState("video",!0,"auto",lt.LOW,Ht);break;case ut:tn.setChannelActiveState("video",!0,"auto",lt.MEDIUM,Ht);break;case ft:vt(Lt,!1),tn.setChannelActiveState("video",!1,"auto",lt.CRITICAL,Ht);break}}Zt()},onPeerConnectionDisconnected:()=>{Zt()},reset:()=>It.reset()})};tt.default=bt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(18)),it=nt(et(108)),st=()=>{const at=new rt.default;let ct=it.default.ACTIVE_VIDEO;return Object.assign(at,{setState(lt){if(!Object.values(it.default).includes(lt))throw new Error("Invalid video state: ",lt);if(lt===ct)return;const dt=ct;ct=lt,at.emit("stateChange",{state:ct,previousState:dt})},reset(){ct=it.default.ACTIVE_VIDEO}})};tt.default=st},function(_e,tt,et){var nt=et(701),rt=et(259),it=nt(function(ot,st,at){return ot+(at?" ":"")+rt(st)});_e.exports=it},function(_e,tt,et){var nt=et(702),rt=et(703),it=et(706),ot="[']",st=RegExp(ot,"g");function at(ct){return function(lt){return nt(it(rt(lt).replace(st,"")),ct,"")}}_e.exports=at},function(_e,tt){function et(nt,rt,it,ot){var st=-1,at=nt==null?0:nt.length;for(ot&&at&&(it=nt[++st]);++st<at;)it=rt(it,nt[st],st,nt);return it}_e.exports=et},function(_e,tt,et){var nt=et(704),rt=et(59),it=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ot="\\u0300-\\u036f",st="\\ufe20-\\ufe2f",at="\\u20d0-\\u20ff",ct=ot+st+at,lt="["+ct+"]",dt=RegExp(lt,"g");function ut(ft){return ft=rt(ft),ft&&ft.replace(it,nt).replace(dt,"")}_e.exports=ut},function(_e,tt,et){var nt=et(705),rt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},it=nt(rt);_e.exports=it},function(_e,tt){function et(nt){return function(rt){return nt==null?void 0:nt[rt]}}_e.exports=et},function(_e,tt,et){var nt=et(707),rt=et(708),it=et(59),ot=et(709);function st(at,ct,lt){return at=it(at),ct=lt?void 0:ct,ct===void 0?rt(at)?ot(at):nt(at):at.match(ct)||[]}_e.exports=st},function(_e,tt){var et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function nt(rt){return rt.match(et)||[]}_e.exports=nt},function(_e,tt){var et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function nt(rt){return et.test(rt)}_e.exports=nt},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\u2700-\\u27bf",at="a-z\\xdf-\\xf6\\xf8-\\xff",ct="\\xac\\xb1\\xd7\\xf7",lt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dt="\\u2000-\\u206f",ut=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",bt=ct+lt+dt+ut,Tt="[']",ht="["+bt+"]",gt="["+ot+"]",vt="\\d+",Ct="["+st+"]",It="["+at+"]",Zt="[^"+et+bt+vt+st+at+ft+"]",Wt="\\ud83c[\\udffb-\\udfff]",kt="(?:"+gt+"|"+Wt+")",Nt="[^"+et+"]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",Mt="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+ft+"]",$t="\\u200d",Ht="(?:"+It+"|"+Zt+")",rn="(?:"+tn+"|"+Zt+")",ln="(?:"+Tt+"(?:d|ll|m|re|s|t|ve))?",mn="(?:"+Tt+"(?:D|LL|M|RE|S|T|VE))?",on=kt+"?",yn="["+pt+"]?",hn="(?:"+$t+"(?:"+[Nt,Lt,Mt].join("|")+")"+yn+on+")*",un="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nn=yn+on+hn,Wn="(?:"+[Ct,Lt,Mt].join("|")+")"+Nn,pn=RegExp([tn+"?"+It+"+"+ln+"(?="+[ht,tn,"$"].join("|")+")",rn+"+"+mn+"(?="+[ht,tn+Ht,"$"].join("|")+")",tn+"?"+Ht+"+"+ln,tn+"+"+mn,dn,un,vt,Wn].join("|"),"g");function Rn(xn){return xn.match(pn)||[]}_e.exports=Rn},function(_e,tt,et){const nt=et(47),rt=et(268),it=et(315);_e.exports=ot=>{const st=nt(ot,["audioDeviceId","audioFallback","audioFallbackEnabled","audioSource","channels","classNames","constraints","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl","enableRenegotiation","enableStereo","facingMode","fitMode","frameRate","height","insertDefaultUI","insertMode","audioBitrate","maxResolution","minVideoBitrate","mirror","name","publishAudio","publishVideo","publishCaptions","resolution","scalableScreenshare","scalableVideo","showControls","style","videoContentHint","videoDeviceId","videoDimensions","videoFilter","videoSource","width"]);return st.style&&(st.style=rt(st.style)),st.videoFilter&&(st.videoFilter=it(st.videoFilter)),st}},function(_e,tt,et){const nt=et(26),rt=et(49),it=et(104),ot=et(23)();_e.exports=st=>{let at=st.publisher,ct=st.widgetView,lt=0,dt=0;const ut=new it(()=>{const ft=at.listenerCount(nt.AUDIO_LEVEL_UPDATED);if((()=>rt()-dt>1e4&&ft===0)()){ut.stop();return}const bt=ct&&ct.video();if(bt){const Tt=bt.getAudioInputLevel();lt=Tt,ft>0&&at.dispatchEvent(new ot.AudioLevelUpdatedEvent(Tt))}});Object.defineProperty(at,"loudness",{get(){return ut.start(),dt=rt(),lt},set(){throw new TypeError("Cannot set readonly property loudness")}}),at.listenerCount(nt.AUDIO_LEVEL_UPDATED)&&ut.start(),at.on("audioLevelUpdated:added",()=>{ut.start()}),at.once(nt.PUBLISHER_DESTROYED,()=>{ut.stop()})}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));_e.exports=function(st){let at=!1;return function(){var ct=(0,it.default)(rt.default.mark(function dt(){var ut,ft,pt,bt=arguments;return rt.default.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(!at){ht.next=2;break}throw new Error("The previous call to this function has not yet completed.");case 2:for(at=!0,ht.prev=3,ut=bt.length,ft=new Array(ut),pt=0;pt<ut;pt++)ft[pt]=bt[pt];return ht.next=7,st.call(this,...ft);case 7:return ht.abrupt("return",ht.sent);case 8:return ht.prev=8,at=!1,ht.finish(8);case 11:case"end":return ht.stop()}},dt,this,[[3,,8,11]])}));function lt(){return ct.apply(this,arguments)}return lt}()}},function(_e,tt,et){const nt=et(13)(),rt=et(7);_e.exports=function(ot){const st=document.createElement("canvas");if(!st.captureStream)throw nt(rt.NOT_SUPPORTED,new Error("Your browser does not support HTMLCanvasElement.captureStream()"));st.width=ot.width,st.height=ot.height,st.getContext("2d").fillRect(0,0,1,1);const at=st.captureStream().getVideoTracks(),ct=at[0];return ct.isCreatedCanvas=!0,ct.enabled=!1,ct}},function(_e,tt,et){const nt=st=>st.getSettings&&st.getSettings().deviceId,rt=st=>{let at;return st.getConstraints&&st.getConstraints().deviceId&&(at=st.getConstraints().deviceId.exact),at},it=(st,at)=>{let ct;if(at&&at.length){const lt=at.find(dt=>dt.label===st.label);lt&&(ct=lt.deviceId)}return ct},ot=(st,at)=>nt(st)||rt(st)||it(st,at);_e.exports=(st,at)=>{if(!st)return null;const ct=st.getVideoTracks(),lt=ct[0];return lt?ot(lt,at):null}},function(_e,tt,et){const nt=et(7),rt=et(10),it=et(13)();_e.exports=ot=>{const st=["403","404","409"],at=String(ot.code);return at==="405"&&ot.message==="IncompatibleEncryptionSettings"?it(nt.STREAM_CREATE_FAILED,new Error("IncompatibleEncryptionSettings: Tried to publish a stream to an encrypted session without enabling encryption"),rt.UNABLE_TO_PUBLISH):st.includes(at)?it(nt.STREAM_CREATE_FAILED,new Error(`Failed to create stream in server model: ${ot.message}`),rt.UNABLE_TO_PUBLISH):it(nt.UNEXPECTED_SERVER_RESPONSE,new Error(`Unexpected server response: ${ot.message}`),rt.UNEXPECTED_SERVER_RESPONSE)}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(2),st=et(316),at=et(718),ct=et(1)("MediaProcessor"),lt=et(101),dt=lt.getProxyUrl;function ut(ft){var pt=this;ft===void 0&&(ft={});const bt=ft,Tt=bt.ML,ht=Tt===void 0?st:Tt,gt=bt.MediaTransform,vt=gt===void 0?at:gt,Ct=bt.getProxyUrl,It=Ct===void 0?dt:Ct;let Zt,Wt,kt,Nt;this.isValidVideoFilter=Lt=>{const Mt=Lt.type;return vt.isSupported(Mt)&&vt.isValidConfig(Lt)},this.canUpdateVideoFilter=Lt=>["backgroundBlur","backgroundReplacement"].includes(Lt),this.updateVideoFilter=function(){var Lt=(0,it.default)(rt.default.mark(function Mt(tn){var $t,Ht,rn;return rt.default.wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:if($t=tn.type,pt.canUpdateVideoFilter($t)){mn.next=4;break}return ct.warn(`Ignoring: filter "${$t}" doesn't support real-time updates`),mn.abrupt("return");case 4:return Ht=vt.getConfigurator($t),rn=Ht.getConfig(Object.assign({proxyUrl:It()},tn)),mn.next=8,Wt.setBackgroundOptions(rn);case 8:kt=tn;case 9:case"end":return mn.stop()}},Mt)}));return function(Mt){return Lt.apply(this,arguments)}}(),this.setVideoFilter=function(){var Lt=(0,it.default)(rt.default.mark(function Mt(tn){var $t,Ht,rn,ln;return rt.default.wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if($t=tn.type,Ht=vt.getConfigurator($t),Ht){on.next=5;break}return ct.warn(`Ignoring: filter "${$t}" isn't supported`),on.abrupt("return");case 5:if(rn=Ht.getConfig(Object.assign({proxyUrl:It()},tn)),rn){on.next=9;break}return ct.warn(`Ignoring: couldn't configure filter ${$t}`),on.abrupt("return");case 9:if(ln=!!pt.getVideoFilter(),!ln){on.next=20;break}return on.prev=11,on.next=14,pt.destroy();case 14:on.next=20;break;case 16:return on.prev=16,on.t0=on.catch(11),ct.warn(`Ignoring, couldn't remove previous filter: ${on.t0}`),on.abrupt("return");case 20:return on.next=22,ht.createProcessor(rn);case 22:return Wt=on.sent,on.next=25,Wt.getConnector();case 25:Zt=on.sent,kt=tn;case 27:case"end":return on.stop()}},Mt,null,[[11,16]])}));return function(Mt){return Lt.apply(this,arguments)}}(),this.getVideoFilter=()=>kt,this.getOriginalVideoTrack=()=>Nt,this.setMediaStream=function(){var Lt=(0,it.default)(rt.default.mark(function Mt(tn){var $t,Ht,rn;return rt.default.wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:if($t=tn.getVideoTracks(),Ht=$t[0],Ht){mn.next=4;break}return ct.warn("Ignoring. No video track found"),mn.abrupt("return",null);case 4:return rn=null,mn.prev=5,mn.next=8,Zt.setTrack(Ht);case 8:rn=mn.sent,Nt=Ht,mn.next=15;break;case 12:mn.prev=12,mn.t0=mn.catch(5),ct.error(`Error setting media stream: ${mn.t0}`);case 15:return mn.abrupt("return",rn);case 16:case"end":return mn.stop()}},Mt,null,[[5,12]])}));return function(Mt){return Lt.apply(this,arguments)}}(),this.setVideoTrack=function(){var Lt=(0,it.default)(rt.default.mark(function Mt(tn){var $t;return rt.default.wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:return $t=null,rn.prev=1,rn.next=4,Zt.setTrack(tn);case 4:$t=rn.sent,Nt=tn,rn.next=11;break;case 8:rn.prev=8,rn.t0=rn.catch(1),ct.error(`Error setting video track: ${rn.t0}`);case 11:return rn.abrupt("return",$t);case 12:case"end":return rn.stop()}},Mt,null,[[1,8]])}));return function(Mt){return Lt.apply(this,arguments)}}(),this._setConnector=Lt=>{Zt=Lt},this.destroy=(0,it.default)(rt.default.mark(function Lt(){return rt.default.wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:return tn.prev=0,tn.next=3,Zt.destroy();case 3:tn.next=8;break;case 5:tn.prev=5,tn.t0=tn.catch(0),ct.warn(`Error destroying connector: ${tn.t0}`);case 8:Zt=null,kt=null,Nt=null;case 11:case"end":return tn.stop()}},Lt,null,[[0,5]])})),this.enableLogging=Lt=>{if(!Lt){ct.warn("Error enabling logging: invalid API key");return}const Mt={appId:Lt,sourceType:"video"},tn=It();tn&&(Mt.proxyUrl=tn),ht.setMetadata(Mt)},this.disableLogging=()=>{ht.setMetadata()}}ut.isSupported=function(ft){ft===void 0&&(ft={});const pt=ft,bt=pt.env,Tt=bt===void 0?ot:bt,ht=pt.ML,gt=ht===void 0?st:ht;return!!Tt.isChromium&&gt.isSupported()},_e.exports=ut},function(_e,tt,et){et.r(tt),function(nt,rt){et.d(tt,"ErrorFunction",function(){return Kp}),et.d(tt,"MediaProcessor",function(){return pm}),et.d(tt,"MediaProcessorConnector",function(){return Yu}),et.d(tt,"PipelineInfoData",function(){return rm}),et.d(tt,"VonageSourceType",function(){return Ir}),et.d(tt,"WarningType",function(){return Mp}),et.d(tt,"getVonageMetadata",function(){return ko}),et.d(tt,"isSupported",function(){return it}),et.d(tt,"setVonageMetadata",function(){return Zr});function it(){return new nt((Fn,en)=>{typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?en("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):Fn()})}class ot{}ot.updates={transformer_new:"New transformer",transformer_null:"Null transformer"},ot.errors={transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"};var st={exports:{}},at=function(en,Zn){return function(){for(var ir=new Array(arguments.length),eo=0;eo<ir.length;eo++)ir[eo]=arguments[eo];return en.apply(Zn,ir)}},ct=at,lt=Object.prototype.toString;function dt(Fn){return Array.isArray(Fn)}function ut(Fn){return typeof Fn>"u"}function ft(Fn){return Fn!==null&&!ut(Fn)&&Fn.constructor!==null&&!ut(Fn.constructor)&&typeof Fn.constructor.isBuffer=="function"&&Fn.constructor.isBuffer(Fn)}function pt(Fn){return lt.call(Fn)==="[object ArrayBuffer]"}function bt(Fn){return lt.call(Fn)==="[object FormData]"}function Tt(Fn){var en;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?en=ArrayBuffer.isView(Fn):en=Fn&&Fn.buffer&&pt(Fn.buffer),en}function ht(Fn){return typeof Fn=="string"}function gt(Fn){return typeof Fn=="number"}function vt(Fn){return Fn!==null&&typeof Fn=="object"}function Ct(Fn){if(lt.call(Fn)!=="[object Object]")return!1;var en=Object.getPrototypeOf(Fn);return en===null||en===Object.prototype}function It(Fn){return lt.call(Fn)==="[object Date]"}function Zt(Fn){return lt.call(Fn)==="[object File]"}function Wt(Fn){return lt.call(Fn)==="[object Blob]"}function kt(Fn){return lt.call(Fn)==="[object Function]"}function Nt(Fn){return vt(Fn)&&kt(Fn.pipe)}function Lt(Fn){return lt.call(Fn)==="[object URLSearchParams]"}function Mt(Fn){return Fn.trim?Fn.trim():Fn.replace(/^\s+|\s+$/g,"")}function tn(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function $t(Fn,en){if(!(Fn===null||typeof Fn>"u"))if(typeof Fn!="object"&&(Fn=[Fn]),dt(Fn))for(var Zn=0,rr=Fn.length;Zn<rr;Zn++)en.call(null,Fn[Zn],Zn,Fn);else for(var ir in Fn)Object.prototype.hasOwnProperty.call(Fn,ir)&&en.call(null,Fn[ir],ir,Fn)}function Ht(){var Fn={};function en(ir,eo){Ct(Fn[eo])&&Ct(ir)?Fn[eo]=Ht(Fn[eo],ir):Ct(ir)?Fn[eo]=Ht({},ir):dt(ir)?Fn[eo]=ir.slice():Fn[eo]=ir}for(var Zn=0,rr=arguments.length;Zn<rr;Zn++)$t(arguments[Zn],en);return Fn}function rn(Fn,en,Zn){return $t(en,function(ir,eo){Zn&&typeof ir=="function"?Fn[eo]=ct(ir,Zn):Fn[eo]=ir}),Fn}function ln(Fn){return Fn.charCodeAt(0)===65279&&(Fn=Fn.slice(1)),Fn}var mn={isArray:dt,isArrayBuffer:pt,isBuffer:ft,isFormData:bt,isArrayBufferView:Tt,isString:ht,isNumber:gt,isObject:vt,isPlainObject:Ct,isUndefined:ut,isDate:It,isFile:Zt,isBlob:Wt,isFunction:kt,isStream:Nt,isURLSearchParams:Lt,isStandardBrowserEnv:tn,forEach:$t,merge:Ht,extend:rn,trim:Mt,stripBOM:ln},on=mn;function yn(Fn){return encodeURIComponent(Fn).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var hn=function(en,Zn,rr){if(!Zn)return en;var ir;if(rr)ir=rr(Zn);else if(on.isURLSearchParams(Zn))ir=Zn.toString();else{var eo=[];on.forEach(Zn,function(uo,pu){uo===null||typeof uo>"u"||(on.isArray(uo)?pu=pu+"[]":uo=[uo],on.forEach(uo,function(Nl){on.isDate(Nl)?Nl=Nl.toISOString():on.isObject(Nl)&&(Nl=JSON.stringify(Nl)),eo.push(yn(pu)+"="+yn(Nl))}))}),ir=eo.join("&")}if(ir){var no=en.indexOf("#");no!==-1&&(en=en.slice(0,no)),en+=(en.indexOf("?")===-1?"?":"&")+ir}return en},un=mn;function dn(){this.handlers=[]}dn.prototype.use=function(en,Zn,rr){return this.handlers.push({fulfilled:en,rejected:Zn,synchronous:rr?rr.synchronous:!1,runWhen:rr?rr.runWhen:null}),this.handlers.length-1},dn.prototype.eject=function(en){this.handlers[en]&&(this.handlers[en]=null)},dn.prototype.forEach=function(en){un.forEach(this.handlers,function(rr){rr!==null&&en(rr)})};var Nn=dn,Wn=mn,pn=function(en,Zn){Wn.forEach(en,function(ir,eo){eo!==Zn&&eo.toUpperCase()===Zn.toUpperCase()&&(en[Zn]=ir,delete en[eo])})},Rn=function(en,Zn,rr,ir,eo){return en.config=Zn,rr&&(en.code=rr),en.request=ir,en.response=eo,en.isAxiosError=!0,en.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},en},xn=Rn,Jn=function(en,Zn,rr,ir,eo){var no=new Error(en);return xn(no,Zn,rr,ir,eo)},cr=Jn,er=function(en,Zn,rr){var ir=rr.config.validateStatus;!rr.status||!ir||ir(rr.status)?en(rr):Zn(cr("Request failed with status code "+rr.status,rr.config,null,rr.request,rr))},_n=mn,Sr=_n.isStandardBrowserEnv()?function(){return{write:function(Zn,rr,ir,eo,no,po){var uo=[];uo.push(Zn+"="+encodeURIComponent(rr)),_n.isNumber(ir)&&uo.push("expires="+new Date(ir).toGMTString()),_n.isString(eo)&&uo.push("path="+eo),_n.isString(no)&&uo.push("domain="+no),po===!0&&uo.push("secure"),document.cookie=uo.join("; ")},read:function(Zn){var rr=document.cookie.match(new RegExp("(^|;\\s*)("+Zn+")=([^;]*)"));return rr?decodeURIComponent(rr[3]):null},remove:function(Zn){this.write(Zn,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),vr=function(en){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(en)},Gr=function(en,Zn){return Zn?en.replace(/\/+$/,"")+"/"+Zn.replace(/^\/+/,""):en},Lr=vr,Ur=Gr,co=function(en,Zn){return en&&!Lr(Zn)?Ur(en,Zn):Zn},Tr=mn,wr=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Bn=function(en){var Zn={},rr,ir,eo;return en&&Tr.forEach(en.split(`
`),function(po){if(eo=po.indexOf(":"),rr=Tr.trim(po.substr(0,eo)).toLowerCase(),ir=Tr.trim(po.substr(eo+1)),rr){if(Zn[rr]&&wr.indexOf(rr)>=0)return;rr==="set-cookie"?Zn[rr]=(Zn[rr]?Zn[rr]:[]).concat([ir]):Zn[rr]=Zn[rr]?Zn[rr]+", "+ir:ir}}),Zn},Gn=mn,lr=Gn.isStandardBrowserEnv()?function(){var en=/(msie|trident)/i.test(navigator.userAgent),Zn=document.createElement("a"),rr;function ir(eo){var no=eo;return en&&(Zn.setAttribute("href",no),no=Zn.href),Zn.setAttribute("href",no),{href:Zn.href,protocol:Zn.protocol?Zn.protocol.replace(/:$/,""):"",host:Zn.host,search:Zn.search?Zn.search.replace(/^\?/,""):"",hash:Zn.hash?Zn.hash.replace(/^#/,""):"",hostname:Zn.hostname,port:Zn.port,pathname:Zn.pathname.charAt(0)==="/"?Zn.pathname:"/"+Zn.pathname}}return rr=ir(window.location.href),function(no){var po=Gn.isString(no)?ir(no):no;return po.protocol===rr.protocol&&po.host===rr.host}}():function(){return function(){return!0}}();function Vr(Fn){this.message=Fn}Vr.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Vr.prototype.__CANCEL__=!0;var oo=Vr,Yn=mn,yr=er,Ar=Sr,so=hn,jr=co,mo=Bn,bo=lr,go=Jn,$r=Is,Wo=oo,So=function(en){return new nt(function(rr,ir){var eo=en.data,no=en.headers,po=en.responseType,uo;function pu(){en.cancelToken&&en.cancelToken.unsubscribe(uo),en.signal&&en.signal.removeEventListener("abort",uo)}Yn.isFormData(eo)&&delete no["Content-Type"];var No=new XMLHttpRequest;if(en.auth){var Nl=en.auth.username||"",Fp=en.auth.password?unescape(encodeURIComponent(en.auth.password)):"";no.Authorization="Basic "+btoa(Nl+":"+Fp)}var Eu=jr(en.baseURL,en.url);No.open(en.method.toUpperCase(),so(Eu,en.params,en.paramsSerializer),!0),No.timeout=en.timeout;function Dp(){if(No){var ku="getAllResponseHeaders"in No?mo(No.getAllResponseHeaders()):null,cp=!po||po==="text"||po==="json"?No.responseText:No.response,Rp={data:cp,status:No.status,statusText:No.statusText,headers:ku,config:en,request:No};yr(function(Jp){rr(Jp),pu()},function(Jp){ir(Jp),pu()},Rp),No=null}}if("onloadend"in No?No.onloadend=Dp:No.onreadystatechange=function(){!No||No.readyState!==4||No.status===0&&!(No.responseURL&&No.responseURL.indexOf("file:")===0)||setTimeout(Dp)},No.onabort=function(){No&&(ir(go("Request aborted",en,"ECONNABORTED",No)),No=null)},No.onerror=function(){ir(go("Network Error",en,null,No)),No=null},No.ontimeout=function(){var cp=en.timeout?"timeout of "+en.timeout+"ms exceeded":"timeout exceeded",Rp=en.transitional||$r.transitional;en.timeoutErrorMessage&&(cp=en.timeoutErrorMessage),ir(go(cp,en,Rp.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",No)),No=null},Yn.isStandardBrowserEnv()){var Au=(en.withCredentials||bo(Eu))&&en.xsrfCookieName?Ar.read(en.xsrfCookieName):void 0;Au&&(no[en.xsrfHeaderName]=Au)}"setRequestHeader"in No&&Yn.forEach(no,function(cp,Rp){typeof eo>"u"&&Rp.toLowerCase()==="content-type"?delete no[Rp]:No.setRequestHeader(Rp,cp)}),Yn.isUndefined(en.withCredentials)||(No.withCredentials=!!en.withCredentials),po&&po!=="json"&&(No.responseType=en.responseType),typeof en.onDownloadProgress=="function"&&No.addEventListener("progress",en.onDownloadProgress),typeof en.onUploadProgress=="function"&&No.upload&&No.upload.addEventListener("progress",en.onUploadProgress),(en.cancelToken||en.signal)&&(uo=function(ku){No&&(ir(!ku||ku&&ku.type?new Wo("canceled"):ku),No.abort(),No=null)},en.cancelToken&&en.cancelToken.subscribe(uo),en.signal&&(en.signal.aborted?uo():en.signal.addEventListener("abort",uo))),eo||(eo=null),No.send(eo)})},Vo=mn,qr=pn,Iu=Rn,Ho={"Content-Type":"application/x-www-form-urlencoded"};function Co(Fn,en){!Vo.isUndefined(Fn)&&Vo.isUndefined(Fn["Content-Type"])&&(Fn["Content-Type"]=en)}function es(){var Fn;return(typeof XMLHttpRequest<"u"||typeof rt<"u"&&Object.prototype.toString.call(rt)==="[object process]")&&(Fn=So),Fn}function Hs(Fn,en,Zn){if(Vo.isString(Fn))try{return(en||JSON.parse)(Fn),Vo.trim(Fn)}catch(rr){if(rr.name!=="SyntaxError")throw rr}return(Zn||JSON.stringify)(Fn)}var eu={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:es(),transformRequest:[function(en,Zn){return qr(Zn,"Accept"),qr(Zn,"Content-Type"),Vo.isFormData(en)||Vo.isArrayBuffer(en)||Vo.isBuffer(en)||Vo.isStream(en)||Vo.isFile(en)||Vo.isBlob(en)?en:Vo.isArrayBufferView(en)?en.buffer:Vo.isURLSearchParams(en)?(Co(Zn,"application/x-www-form-urlencoded;charset=utf-8"),en.toString()):Vo.isObject(en)||Zn&&Zn["Content-Type"]==="application/json"?(Co(Zn,"application/json"),Hs(en)):en}],transformResponse:[function(en){var Zn=this.transitional||eu.transitional,rr=Zn&&Zn.silentJSONParsing,ir=Zn&&Zn.forcedJSONParsing,eo=!rr&&this.responseType==="json";if(eo||ir&&Vo.isString(en)&&en.length)try{return JSON.parse(en)}catch(no){if(eo)throw no.name==="SyntaxError"?Iu(no,this,"E_JSON_PARSE"):no}return en}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(en){return en>=200&&en<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Vo.forEach(["delete","get","head"],function(en){eu.headers[en]={}}),Vo.forEach(["post","put","patch"],function(en){eu.headers[en]=Vo.merge(Ho)});var Is=eu,_a=mn,wu=Is,Wu=function(en,Zn,rr){var ir=this||wu;return _a.forEach(rr,function(no){en=no.call(ir,en,Zn)}),en},Bp=function(en){return!!(en&&en.__CANCEL__)},_u=mn,qu=Wu,_r=Bp,qs=Is,lu=oo;function Gs(Fn){if(Fn.cancelToken&&Fn.cancelToken.throwIfRequested(),Fn.signal&&Fn.signal.aborted)throw new lu("canceled")}var El=function(en){Gs(en),en.headers=en.headers||{},en.data=qu.call(en,en.data,en.headers,en.transformRequest),en.headers=_u.merge(en.headers.common||{},en.headers[en.method]||{},en.headers),_u.forEach(["delete","get","head","post","put","patch","common"],function(ir){delete en.headers[ir]});var Zn=en.adapter||qs.adapter;return Zn(en).then(function(ir){return Gs(en),ir.data=qu.call(en,ir.data,ir.headers,en.transformResponse),ir},function(ir){return _r(ir)||(Gs(en),ir&&ir.response&&(ir.response.data=qu.call(en,ir.response.data,ir.response.headers,en.transformResponse))),nt.reject(ir)})},Hr=mn,Qs=function(en,Zn){Zn=Zn||{};var rr={};function ir(No,Nl){return Hr.isPlainObject(No)&&Hr.isPlainObject(Nl)?Hr.merge(No,Nl):Hr.isPlainObject(Nl)?Hr.merge({},Nl):Hr.isArray(Nl)?Nl.slice():Nl}function eo(No){if(Hr.isUndefined(Zn[No])){if(!Hr.isUndefined(en[No]))return ir(void 0,en[No])}else return ir(en[No],Zn[No])}function no(No){if(!Hr.isUndefined(Zn[No]))return ir(void 0,Zn[No])}function po(No){if(Hr.isUndefined(Zn[No])){if(!Hr.isUndefined(en[No]))return ir(void 0,en[No])}else return ir(void 0,Zn[No])}function uo(No){if(No in Zn)return ir(en[No],Zn[No]);if(No in en)return ir(void 0,en[No])}var pu={url:no,method:no,data:no,baseURL:po,transformRequest:po,transformResponse:po,paramsSerializer:po,timeout:po,timeoutMessage:po,withCredentials:po,adapter:po,responseType:po,xsrfCookieName:po,xsrfHeaderName:po,onUploadProgress:po,onDownloadProgress:po,decompress:po,maxContentLength:po,maxBodyLength:po,transport:po,httpAgent:po,httpsAgent:po,cancelToken:po,socketPath:po,responseEncoding:po,validateStatus:uo};return Hr.forEach(Object.keys(en).concat(Object.keys(Zn)),function(Nl){var Fp=pu[Nl]||eo,Eu=Fp(Nl);Hr.isUndefined(Eu)&&Fp!==uo||(rr[Nl]=Eu)}),rr},Yp={version:"0.25.0"},uu=Yp.version,du={};["object","boolean","number","function","string","symbol"].forEach(function(Fn,en){du[Fn]=function(rr){return typeof rr===Fn||"a"+(en<1?"n ":" ")+Fn}});var ts={};du.transitional=function(en,Zn,rr){function ir(eo,no){return"[Axios v"+uu+"] Transitional option '"+eo+"'"+no+(rr?". "+rr:"")}return function(eo,no,po){if(en===!1)throw new Error(ir(no," has been removed"+(Zn?" in "+Zn:"")));return Zn&&!ts[no]&&(ts[no]=!0,console.warn(ir(no," has been deprecated since v"+Zn+" and will be removed in the near future"))),en?en(eo,no,po):!0}};function Wl(Fn,en,Zn){if(typeof Fn!="object")throw new TypeError("options must be an object");for(var rr=Object.keys(Fn),ir=rr.length;ir-- >0;){var eo=rr[ir],no=en[eo];if(no){var po=Fn[eo],uo=po===void 0||no(po,eo,Fn);if(uo!==!0)throw new TypeError("option "+eo+" must be "+uo);continue}if(Zn!==!0)throw Error("Unknown option "+eo)}}var ns={assertOptions:Wl,validators:du},Hu=mn,fp=hn,_c=Nn,rp=El,_d=Qs,ba=ns,zo=ba.validators;function tu(Fn){this.defaults=Fn,this.interceptors={request:new _c,response:new _c}}tu.prototype.request=function(en,Zn){if(typeof en=="string"?(Zn=Zn||{},Zn.url=en):Zn=en||{},!Zn.url)throw new Error("Provided config url is not valid");Zn=_d(this.defaults,Zn),Zn.method?Zn.method=Zn.method.toLowerCase():this.defaults.method?Zn.method=this.defaults.method.toLowerCase():Zn.method="get";var rr=Zn.transitional;rr!==void 0&&ba.assertOptions(rr,{silentJSONParsing:zo.transitional(zo.boolean),forcedJSONParsing:zo.transitional(zo.boolean),clarifyTimeoutError:zo.transitional(zo.boolean)},!1);var ir=[],eo=!0;this.interceptors.request.forEach(function(Eu){typeof Eu.runWhen=="function"&&Eu.runWhen(Zn)===!1||(eo=eo&&Eu.synchronous,ir.unshift(Eu.fulfilled,Eu.rejected))});var no=[];this.interceptors.response.forEach(function(Eu){no.push(Eu.fulfilled,Eu.rejected)});var po;if(!eo){var uo=[rp,void 0];for(Array.prototype.unshift.apply(uo,ir),uo=uo.concat(no),po=nt.resolve(Zn);uo.length;)po=po.then(uo.shift(),uo.shift());return po}for(var pu=Zn;ir.length;){var No=ir.shift(),Nl=ir.shift();try{pu=No(pu)}catch(Fp){Nl(Fp);break}}try{po=rp(pu)}catch(Fp){return nt.reject(Fp)}for(;no.length;)po=po.then(no.shift(),no.shift());return po},tu.prototype.getUri=function(en){if(!en.url)throw new Error("Provided config url is not valid");return en=_d(this.defaults,en),fp(en.url,en.params,en.paramsSerializer).replace(/^\?/,"")},Hu.forEach(["delete","get","head","options"],function(en){tu.prototype[en]=function(Zn,rr){return this.request(_d(rr||{},{method:en,url:Zn,data:(rr||{}).data}))}}),Hu.forEach(["post","put","patch"],function(en){tu.prototype[en]=function(Zn,rr,ir){return this.request(_d(ir||{},{method:en,url:Zn,data:rr}))}});var vo=tu,ip=oo;function Ou(Fn){if(typeof Fn!="function")throw new TypeError("executor must be a function.");var en;this.promise=new nt(function(ir){en=ir});var Zn=this;this.promise.then(function(rr){if(Zn._listeners){var ir,eo=Zn._listeners.length;for(ir=0;ir<eo;ir++)Zn._listeners[ir](rr);Zn._listeners=null}}),this.promise.then=function(rr){var ir,eo=new nt(function(no){Zn.subscribe(no),ir=no}).then(rr);return eo.cancel=function(){Zn.unsubscribe(ir)},eo},Fn(function(ir){Zn.reason||(Zn.reason=new ip(ir),en(Zn.reason))})}Ou.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ou.prototype.subscribe=function(en){if(this.reason){en(this.reason);return}this._listeners?this._listeners.push(en):this._listeners=[en]},Ou.prototype.unsubscribe=function(en){if(this._listeners){var Zn=this._listeners.indexOf(en);Zn!==-1&&this._listeners.splice(Zn,1)}},Ou.source=function(){var en,Zn=new Ou(function(ir){en=ir});return{token:Zn,cancel:en}};var Ap=Ou,bs=function(en){return function(rr){return en.apply(null,rr)}},kp=mn,_p=function(en){return kp.isObject(en)&&en.isAxiosError===!0},Lp=mn,Sp=at,zp=vo,op=Qs,fu=Is;function Gu(Fn){var en=new zp(Fn),Zn=Sp(zp.prototype.request,en);return Lp.extend(Zn,zp.prototype,en),Lp.extend(Zn,en),Zn.create=function(ir){return Gu(op(Fn,ir))},Zn}var Ul=Gu(fu);Ul.Axios=zp,Ul.Cancel=oo,Ul.CancelToken=Ap,Ul.isCancel=Bp,Ul.VERSION=Yp.version,Ul.all=function(en){return nt.all(en)},Ul.spread=bs,Ul.isAxiosError=_p,st.exports=Ul,st.exports.default=Ul;var Wp=st.exports;class Qn{isEmpty(){return!this.isPresent()}static of(en){if(en!=null)return new An(en);throw new TypeError("The passed value was null or undefined.")}static ofNonNull(en){return Qn.of(en)}static ofNullable(en){return en!=null?new An(en):new Pn}static empty(){return new Pn}static from(en){switch(en.kind){case"present":return Qn.of(en.value);case"empty":return Qn.empty();default:throw new TypeError("The passed value was not an Option type.")}}}class An extends Qn{constructor(en){super(),this.payload=en}isPresent(){return!0}get(){return this.payload}ifPresent(en){en(this.payload)}ifPresentOrElse(en,Zn){en(this.payload)}filter(en){return en(this.payload)?this:Qn.empty()}map(en){const Zn=en(this.payload);return Qn.ofNullable(Zn)}flatMap(en){return en(this.payload)}or(en){return this}orElse(en){return this.payload}orElseGet(en){return this.payload}orElseThrow(en){return this.payload}orNull(){return this.payload}orUndefined(){return this.payload}toOption(){return{kind:"present",value:this.payload}}matches(en){return en.present(this.payload)}toJSON(en){return this.payload}}class Pn extends Qn{isPresent(){return!1}constructor(){super()}get(){throw new TypeError("The optional is not present.")}ifPresent(en){}ifPresentOrElse(en,Zn){Zn()}filter(en){return this}map(en){return Qn.empty()}flatMap(en){return Qn.empty()}or(en){return en()}orElse(en){return en}orElseGet(en){return this.orElse(en())}orElseThrow(en){throw en()}orNull(){return null}orUndefined(){}toOption(){return{kind:"empty"}}matches(en){return en.empty()}toJSON(en){return null}}const nr="2.0.0";var Ir=(Fn=>(Fn.automation="automation",Fn.test="test",Fn.vbc="vbc",Fn.video="video",Fn.voice="voice",Fn))(Ir||{});function Zr(Fn){globalThis._vonageMediaProcessorMetadata=Fn}function ko(){return globalThis._vonageMediaProcessorMetadata}class Go{constructor(){const en=ko();this._report={action:Qn.empty(),applicationId:Qn.ofNullable(en!==void 0&&en!=null?en.appId:null),timestamp:Date.now(),fps:Qn.empty(),framesTransformed:Qn.empty(),guid:Qn.empty(),highestFrameTransformCpu:Qn.empty(),message:Qn.empty(),source:Qn.ofNullable(en!==void 0&&en!=null?en.sourceType:null),transformedFps:Qn.empty(),transformerType:Qn.empty(),variation:Qn.empty(),videoHeight:Qn.empty(),videoWidth:Qn.empty(),version:nr,error:Qn.empty(),proxyUrl:Qn.ofNullable(en!==void 0&&en!=null?en.proxyUrl:null)}}action(en){return this._report.action=Qn.ofNullable(en),this}framesTransformed(en){return this._report.framesTransformed=Qn.ofNullable(en),this}fps(en){return this._report.fps=Qn.ofNullable(en),this}guid(en){return this._report.guid=Qn.ofNullable(en),this}message(en){return this._report.message=Qn.ofNullable(en),this}transformedFps(en){return this._report.transformedFps=Qn.ofNullable(en),this}transformerType(en){return this._report.transformerType=Qn.ofNullable(en),this}variation(en){return this._report.variation=Qn.ofNullable(en),this}videoHeight(en){return this._report.videoHeight=Qn.ofNullable(en),this}videoWidth(en){return this._report.videoWidth=Qn.ofNullable(en),this}error(en){return this._report.error=Qn.ofNullable(en),this}build(){return this._report}}const As=Fn=>JSON.stringify(Fn,(en,Zn)=>{if(Zn!==null)return Zn});class os{static report(en){return new nt((Zn,rr)=>{if(en.applicationId.isEmpty()||en.source.isEmpty()){Zn("success");return}let ir=Wp.create(),eo={timeout:1e4,timeoutErrorMessage:"Request timeout",headers:{"Content-Type":"application/json"}},no="hlg.tokbox.com/prod/logging/vcp_webrtc";if(en.proxyUrl.isEmpty())no="https://"+no;else{let po;en.proxyUrl.get().slice(en.proxyUrl.get().length-1)!=="/"?po=en.proxyUrl.get()+"/":po=en.proxyUrl.get(),no=po+no}ir.post(no,As(en),eo).then(po=>{console.log(po),Zn("success")}).catch(po=>{console.log(po),rr(po)})})}}var ps,Vs=new Uint8Array(16);function _s(){if(!ps&&(ps=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ps))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ps(Vs)}var Vp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Fs(Fn){return typeof Fn=="string"&&Vp.test(Fn)}for(var Gl=[],Bs=0;Bs<256;++Bs)Gl.push((Bs+256).toString(16).substr(1));function nu(Fn){var en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Zn=(Gl[Fn[en+0]]+Gl[Fn[en+1]]+Gl[Fn[en+2]]+Gl[Fn[en+3]]+"-"+Gl[Fn[en+4]]+Gl[Fn[en+5]]+"-"+Gl[Fn[en+6]]+Gl[Fn[en+7]]+"-"+Gl[Fn[en+8]]+Gl[Fn[en+9]]+"-"+Gl[Fn[en+10]]+Gl[Fn[en+11]]+Gl[Fn[en+12]]+Gl[Fn[en+13]]+Gl[Fn[en+14]]+Gl[Fn[en+15]]).toLowerCase();if(!Fs(Zn))throw TypeError("Stringified UUID is invalid");return Zn}function Tp(Fn,en,Zn){Fn=Fn||{};var rr=Fn.random||(Fn.rng||_s)();if(rr[6]=rr[6]&15|64,rr[8]=rr[8]&63|128,en){Zn=Zn||0;for(var ir=0;ir<16;++ir)en[Zn+ir]=rr[ir];return en}return nu(rr)}const sp=new WeakMap,tm=new WeakMap,na=new WeakMap,Bu=Symbol("anyProducer"),ap=nt.resolve(),Zp=Symbol("listenerAdded"),Su=Symbol("listenerRemoved");let pp=!1;function Fl(Fn){if(typeof Fn!="string"&&typeof Fn!="symbol")throw new TypeError("eventName must be a string or a symbol")}function fo(Fn){if(typeof Fn!="function")throw new TypeError("listener must be a function")}function qo(Fn,en){const Zn=tm.get(Fn);return Zn.has(en)||Zn.set(en,new Set),Zn.get(en)}function hp(Fn,en){const Zn=typeof en=="string"||typeof en=="symbol"?en:Bu,rr=na.get(Fn);return rr.has(Zn)||rr.set(Zn,new Set),rr.get(Zn)}function to(Fn,en,Zn){const rr=na.get(Fn);if(rr.has(en))for(const ir of rr.get(en))ir.enqueue(Zn);if(rr.has(Bu)){const ir=nt.all([en,Zn]);for(const eo of rr.get(Bu))eo.enqueue(ir)}}function qp(Fn,en){en=Array.isArray(en)?en:[en];let Zn=!1,rr=()=>{},ir=[];const eo={enqueue(no){ir.push(no),rr()},finish(){Zn=!0,rr()}};for(const no of en)hp(Fn,no).add(eo);return{async next(){return ir?ir.length===0?Zn?(ir=void 0,this.next()):(await new nt(no=>{rr=no}),this.next()):{done:!1,value:await ir.shift()}:{done:!0}},async return(no){ir=void 0;for(const po of en)hp(Fn,po).delete(eo);return rr(),arguments.length>0?{done:!0,value:await no}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Js(Fn){if(Fn===void 0)return Zo;if(!Array.isArray(Fn))throw new TypeError("`methodNames` must be an array of strings");for(const en of Fn)if(!Zo.includes(en))throw typeof en!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${en} is not Emittery method`);return Fn}const mp=Fn=>Fn===Zp||Fn===Su;class Np{static mixin(en,Zn){return Zn=Js(Zn),rr=>{if(typeof rr!="function")throw new TypeError("`target` must be function");for(const no of Zn)if(rr.prototype[no]!==void 0)throw new Error(`The property \`${no}\` already exists on \`target\``);function ir(){return Object.defineProperty(this,en,{enumerable:!1,value:new Np}),this[en]}Object.defineProperty(rr.prototype,en,{enumerable:!1,get:ir});const eo=no=>function(...po){return this[en][no](...po)};for(const no of Zn)Object.defineProperty(rr.prototype,no,{enumerable:!1,value:eo(no)});return rr}}static get isDebugEnabled(){if(typeof rt!="object")return pp;const{env:en}=rt||{env:{}};return en.DEBUG==="emittery"||en.DEBUG==="*"||pp}static set isDebugEnabled(en){pp=en}constructor(en={}){sp.set(this,new Set),tm.set(this,new Map),na.set(this,new Map),this.debug=en.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(Zn,rr,ir,eo)=>{eo=JSON.stringify(eo),typeof ir=="symbol"&&(ir=ir.toString());const no=new Date,po=`${no.getHours()}:${no.getMinutes()}:${no.getSeconds()}.${no.getMilliseconds()}`;console.log(`[${po}][emittery:${Zn}][${rr}] Event Name: ${ir}
	data: ${eo}`)})}logIfDebugEnabled(en,Zn,rr){(Np.isDebugEnabled||this.debug.enabled)&&this.debug.logger(en,this.debug.name,Zn,rr)}on(en,Zn){fo(Zn),en=Array.isArray(en)?en:[en];for(const rr of en)Fl(rr),qo(this,rr).add(Zn),this.logIfDebugEnabled("subscribe",rr,void 0),mp(rr)||this.emit(Zp,{eventName:rr,listener:Zn});return this.off.bind(this,en,Zn)}off(en,Zn){fo(Zn),en=Array.isArray(en)?en:[en];for(const rr of en)Fl(rr),qo(this,rr).delete(Zn),this.logIfDebugEnabled("unsubscribe",rr,void 0),mp(rr)||this.emit(Su,{eventName:rr,listener:Zn})}once(en){return new nt(Zn=>{const rr=this.on(en,ir=>{rr(),Zn(ir)})})}events(en){en=Array.isArray(en)?en:[en];for(const Zn of en)Fl(Zn);return qp(this,en)}async emit(en,Zn){Fl(en),this.logIfDebugEnabled("emit",en,Zn),to(this,en,Zn);const rr=qo(this,en),ir=sp.get(this),eo=[...rr],no=mp(en)?[]:[...ir];await ap,await nt.all([...eo.map(async po=>{if(rr.has(po))return po(Zn)}),...no.map(async po=>{if(ir.has(po))return po(en,Zn)})])}async emitSerial(en,Zn){Fl(en),this.logIfDebugEnabled("emitSerial",en,Zn);const rr=qo(this,en),ir=sp.get(this),eo=[...rr],no=[...ir];await ap;for(const po of eo)rr.has(po)&&await po(Zn);for(const po of no)ir.has(po)&&await po(en,Zn)}onAny(en){return fo(en),this.logIfDebugEnabled("subscribeAny",void 0,void 0),sp.get(this).add(en),this.emit(Zp,{listener:en}),this.offAny.bind(this,en)}anyEvent(){return qp(this)}offAny(en){fo(en),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(Su,{listener:en}),sp.get(this).delete(en)}clearListeners(en){en=Array.isArray(en)?en:[en];for(const Zn of en)if(this.logIfDebugEnabled("clear",Zn,void 0),typeof Zn=="string"||typeof Zn=="symbol"){qo(this,Zn).clear();const rr=hp(this,Zn);for(const ir of rr)ir.finish();rr.clear()}else{sp.get(this).clear();for(const rr of tm.get(this).values())rr.clear();for(const rr of na.get(this).values()){for(const ir of rr)ir.finish();rr.clear()}}}listenerCount(en){en=Array.isArray(en)?en:[en];let Zn=0;for(const rr of en){if(typeof rr=="string"){Zn+=sp.get(this).size+qo(this,rr).size+hp(this,rr).size+hp(this).size;continue}typeof rr<"u"&&Fl(rr),Zn+=sp.get(this).size;for(const ir of tm.get(this).values())Zn+=ir.size;for(const ir of na.get(this).values())Zn+=ir.size}return Zn}bindMethods(en,Zn){if(typeof en!="object"||en===null)throw new TypeError("`target` must be an object");Zn=Js(Zn);for(const rr of Zn){if(en[rr]!==void 0)throw new Error(`The property \`${rr}\` already exists on \`target\``);Object.defineProperty(en,rr,{enumerable:!1,value:this[rr].bind(this)})}}}const Zo=Object.getOwnPropertyNames(Np.prototype).filter(Fn=>Fn!=="constructor");Object.defineProperty(Np,"listenerAdded",{value:Zp,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Np,"listenerRemoved",{value:Su,writable:!1,enumerable:!0,configurable:!1});var Gp=Np;function _f(Fn){return typeof Fn=="object"&&Fn!==null&&"message"in Fn&&typeof Fn.message=="string"}function nm(Fn){if(_f(Fn))return Fn;try{return new Error(JSON.stringify(Fn))}catch{return new Error(String(Fn))}}function am(Fn){return nm(Fn).message}var Mp=(Fn=>(Fn.FPS_DROP="fps_drop",Fn))(Mp||{}),Kp=(Fn=>(Fn.start="start",Fn.transform="transform",Fn.flush="flush",Fn))(Kp||{}),rm=(Fn=>(Fn.pipeline_ended="pipeline_ended",Fn.pipeline_ended_with_error="pipeline_ended_with_error",Fn.pipeline_started="pipeline_started",Fn.pipeline_started_with_error="pipeline_started_with_error",Fn.pipeline_restarted="pipeline_restarted",Fn.pipeline_restarted_with_error="pipeline_restarted_with_error",Fn))(rm||{});const ss=500,Io=.8;class fm extends Gp{constructor(en,Zn){super(),this.index_=Zn,this.uuid_=Tp(),this.framesTransformed_=0,this.transformer_=en,this.shouldStop_=!1,this.isFlashed_=!1,this.framesFromSource_=0,this.fps_=0,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in en&&(this.transformerType_=en.getTransformerType());const rr=new Go().action("MediaTransformer").guid(this.uuid_).transformerType(this.transformerType_).variation("Create").build();os.report(rr)}setTrackExpectedRate(en){this.trackExpectedRate_=en}async start(en){if(this.controller_=en,this.transformer_&&typeof this.transformer_.start=="function")try{await this.transformer_.start(en)}catch(Zn){const rr=new Go().action("MediaTransformer").guid(this.uuid_).message(ot.errors.transformer_start).transformerType(this.transformerType_).variation("Error").error(am(Zn)).build();os.report(rr);const ir={eventMetaData:{transformerIndex:this.index_},error:Zn,function:"start"};this.emit("error",ir)}}async transform(en,Zn){var rr,ir,eo,no;if(this.mediaTransformerQosReportStartTimestamp_===0&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),en instanceof VideoFrame&&(this.videoHeight_=(rr=en==null?void 0:en.displayHeight)!=null?rr:0,this.videoWidth_=(ir=en==null?void 0:en.displayWidth)!=null?ir:0),++this.framesFromSource_,this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),en.close(),this.flush(Zn),Zn.terminate();else try{await((no=(eo=this.transformer_).transform)==null?void 0:no.call(eo,en,Zn)),++this.framesTransformed_,this.framesTransformed_===ss&&this.mediaTransformerQosReport()}catch(po){const uo=new Go().action("MediaTransformer").guid(this.uuid_).message(ot.errors.transformer_transform).transformerType(this.transformerType_).variation("Error").error(am(po)).build();os.report(uo);const pu={eventMetaData:{transformerIndex:this.index_},error:po,function:"transform"};this.emit("error",pu)}}async flush(en){if(this.transformer_&&typeof this.transformer_.flush=="function"&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(en)}catch(rr){const ir=new Go().action("MediaTransformer").guid(this.uuid_).message(ot.errors.transformer_flush).transformerType(this.transformerType_).variation("Error").error(am(rr)).build();os.report(ir);const eo={eventMetaData:{transformerIndex:this.index_},error:rr,function:"flush"};this.emit("error",eo)}}this.mediaTransformerQosReport();const Zn=new Go().action("MediaTransformer").guid(this.uuid_).transformerType(this.transformerType_).variation("Delete").build();os.report(Zn)}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}mediaTransformerQosReport(){let en=(Date.now()-this.mediaTransformerQosReportStartTimestamp_)/1e3,Zn=this.framesFromSource_/en,rr=this.framesTransformed_/en;if(this.trackExpectedRate_!=-1&&this.trackExpectedRate_*Io>Zn){const eo={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:Zn}};this.emit("warn",eo)}const ir=new Go().action("MediaTransformer").fps(Zn).transformedFps(rr).framesTransformed(this.framesTransformed_).guid(this.uuid_).transformerType(this.transformerType_).videoHeight(this.videoHeight_).videoWidth(this.videoWidth_).variation("QoS").build();os.report(ir),this.mediaTransformerQosReportStartTimestamp_=0,this.framesFromSource_=0,this.framesTransformed_=0}}class Sm extends Gp{constructor(en){super(),this.transformers_=[],this.trackExpectedRate_=-1;for(let Zn=0;Zn<en.length;Zn++){let rr=new fm(en[Zn],Zn);rr.on("error",ir=>{this.emit("error",ir)}),rr.on("warn",ir=>{this.emit("warn",ir)}),this.transformers_.push(rr)}}setTrackExpectedRate(en){this.trackExpectedRate_=en;for(let Zn of this.transformers_)Zn.setTrackExpectedRate(this.trackExpectedRate_)}async start(en,Zn){if(!this.transformers_||this.transformers_.length===0){console.log("[Pipeline] No transformers.");return}try{let rr=en;for(let ir of this.transformers_)en=en.pipeThrough(new TransformStream(ir));en.pipeTo(Zn).then(async()=>{console.log("[Pipeline] Setup."),await Zn.abort(),await rr.cancel(),this.emit("pipelineInfo","pipeline_ended")}).catch(async ir=>{en.cancel().then(()=>{console.log("[Pipeline] Shutting down streams after abort.")}).catch(eo=>{console.error("[Pipeline] Error from stream transform:",eo)}),await Zn.abort(ir),await rr.cancel(ir),this.emit("pipelineInfo","pipeline_ended_with_error")})}catch{this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy();return}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let en of this.transformers_)en.stop()}}class pm extends Gp{constructor(){super(),this.uuid_=Tp(),this.trackExpectedRate_=-1;const en=new Go().action("MediaProcessor").guid(this.uuid_).variation("Create").build();os.report(en)}setTrackExpectedRate(en){this.trackExpectedRate_=en,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(en,Zn){return this.readable_=en,this.writable_=Zn,this.transformInternal()}transformInternal(){return new nt((en,Zn)=>{if(!this.transformers_||this.transformers_.length===0){const ir=new Go().action("MediaProcessor").guid(this.uuid_).message(ot.errors.transformer_none).variation("Error").build();os.report(ir),Zn("[MediaProcessor] Need to set transformers.");return}if(!this.readable_){const ir=new Go().action("MediaProcessor").guid(this.uuid_).message(ot.errors.readable_null).variation("Error").build();os.report(ir),Zn("[MediaProcessor] Readable is null.");return}if(!this.writable_){const ir=new Go().action("MediaProcessor").guid(this.uuid_).message(ot.errors.writable_null).variation("Error").build();os.report(ir),Zn("[MediaProcessor] Writable is null.");return}let rr=!1;this.pipeline_&&(rr=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new Sm(this.transformers_),this.pipeline_.on("warn",ir=>{this.emit("warn",ir)}),this.pipeline_.on("error",ir=>{this.emit("error",ir)}),this.pipeline_.on("pipelineInfo",ir=>{rr&&(ir==="pipeline_started"?ir=rm.pipeline_restarted:ir==="pipeline_started_with_error"&&(ir=rm.pipeline_restarted_with_error)),this.emit("pipelineInfo",ir)}),this.trackExpectedRate_!=-1&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then(()=>{en()}).catch(ir=>{Zn(ir)})})}setTransformers(en){const Zn=new Go().action("MediaProcessor").guid(this.uuid_).message(ot.updates.transformer_new).variation("Update").build();return os.report(Zn),this.transformers_=en,this.readable_&&this.writable_?this.transformInternal():nt.resolve()}destroy(){return new nt(en=>{this.pipeline_&&this.pipeline_.destroy();const Zn=new Go().action("MediaProcessor").guid(this.uuid_).variation("Delete").build();os.report(Zn),en()})}}class xp{constructor(){this.processor_=null,this.generator_=null}init(en){return new nt((Zn,rr)=>{try{this.processor_=new MediaStreamTrackProcessor(en)}catch(ir){console.log(`[InsertableStreamHelper] MediaStreamTrackProcessor failed: ${ir}`),rr(ir)}try{en.kind==="audio"?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):en.kind==="video"?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):rr("kind not supported")}catch(ir){console.log(`[InsertableStreamHelper] MediaStreamTrackGenerator failed: ${ir}`),rr(ir)}Zn()})}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class Yu{constructor(en){this.insertableStreamHelper_=new xp,this.mediaProcessor_=en}setTrack(en){return new nt((Zn,rr)=>{this.insertableStreamHelper_.init(en).then(()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then(()=>{Zn(this.insertableStreamHelper_.getProccesorTrack())}).catch(ir=>{rr(ir)})}).catch(ir=>{rr(ir)})})}destroy(){return new nt((en,Zn)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then(()=>{en()}).catch(rr=>{Zn(rr)}):Zn("no processor")})}}}.call(this,et(0),et(42))},function(_e,tt,et){const nt={backgroundBlur:et(719),backgroundReplacement:et(720)},rt=at=>!!nt[at],it=at=>rt(at)?nt[at]:null,st={isSupported:rt,getConfigurator:it,isValidConfig:at=>{const ct=at.type;return rt(ct)?it(ct).isValidConfig(at):!1}};_e.exports=st},function(_e,tt,et){const nt=et(317).BlurRadius,rt=et(318),it=nt.High,ot=dt=>Object.assign({},rt.getConfig(dt),{transformerType:"BackgroundBlur",radius:it}),st=dt=>dt==="low"||dt==="high",at=dt=>dt==="low"?nt.Low:nt.High,lt={isValidConfig:dt=>{if((dt==null?void 0:dt.type)!=="backgroundBlur")return!1;const ut=dt.blurStrength;return ut?st(ut):!0},getConfig:function(ut){ut===void 0&&(ut={});const ft=ot(ut),pt=ut,bt=pt.blurStrength;return st(bt)&&(ft.radius=at(bt)),ft}};_e.exports=lt},function(_e,tt,et){const nt=et(318),rt=at=>Object.assign({},nt.getConfig(at),{transformerType:"VirtualBackground"}),it=at=>/^data:image\/(?:png|jpeg|bmp|gif);base64/.test(at)||/\.(?:png|jpe?g|bmp|gif)$/i.test(at),st={isValidConfig:at=>{if((at==null?void 0:at.type)!=="backgroundReplacement")return!1;const ct=at.backgroundImgUrl;return it(ct)},getConfig:function(ct){ct===void 0&&(ct={});const lt=rt(ct),dt=ct,ut=dt.backgroundImgUrl;return it(ut)&&(lt.backgroundAssetUri=ut),lt}};_e.exports=st},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(1)("MediaProcessorConnector");let st=function(ct){var lt=this;this.setTrack=function(){var dt=(0,it.default)(rt.default.mark(function ut(ft){var pt;return rt.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return pt=null,Tt.prev=1,Tt.next=4,lt.connector.setTrack(ft);case 4:pt=Tt.sent,lt.originalTrack=ft,Tt.next=11;break;case 8:Tt.prev=8,Tt.t0=Tt.catch(1),ot.error(`Error setting track: ${Tt.t0}`);case 11:return Tt.abrupt("return",pt);case 12:case"end":return Tt.stop()}},ut,null,[[1,8]])}));return function(ut){return dt.apply(this,arguments)}}(),this.destroy=(0,it.default)(rt.default.mark(function dt(){return rt.default.wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ft.prev=0,ft.next=3,lt.connector.destroy();case 3:ft.next=8;break;case 5:ft.prev=5,ft.t0=ft.catch(0),ot.warn(`Error destroying connector: ${ft.t0}`);case 8:case"end":return ft.stop()}},dt,null,[[0,5]])})),this.stopOriginalTrack=()=>{this.originalTrack&&(this.originalTrack.stop(),this.originalTrack=null)},this.connector=ct};st.isValidConnector=at=>typeof(at==null?void 0:at.setTrack)=="function"&&typeof(at==null?void 0:at.destroy)=="function",_e.exports=st},function(_e,tt,et){_e.exports=nt=>nt?!!nt.apiKey:!1},function(_e,tt,et){const nt=rt=>rt===null||rt===!1;_e.exports=nt},function(_e,tt,et){_e.exports=nt=>{var rt;const it=!!(nt&&(rt=nt.videoSource)!=null&&rt.canvas),ot=!!(nt&&"videoContentHint"in nt);it&&!ot&&(nt.videoContentHint="detail")}},function(_e,tt,et){const nt=et(149),rt=it=>!!(it!=null&&it.scalableScreenshare);_e.exports=it=>{var ot;it||(it={});const st=!!nt((ot=it)==null?void 0:ot.videoSource);it.capableSimulcastScreenshare=st&&rt(it)}},function(_e,tt,et){var nt=et(727),rt=et(99),it=et(35);function ot(st,at){return nt(st,it(at,3),rt)}_e.exports=ot},function(_e,tt){function et(nt,rt,it){var ot;return it(nt,function(st,at,ct){if(rt(st,at,ct))return ot=at,!1}),ot}_e.exports=et},function(_e,tt,et){(function(nt){const rt=et(28),it=et(72);_e.exports=ot=>{let st=ot.RTCPeerConnection,at=ot.env,ct=ot.stream,lt=ot.codecFlags;if(at.isLegacyEdge)return!0;let dt,ut;const ft=()=>{try{dt.close()}catch{}try{ut.close()}catch{}dt=null,ut=null};try{const pt={iceServers:[]};it()&&(pt.sdpSemantics="plan-b"),dt=new st(pt),ut=new st(pt),ct.getTracks().forEach(bt=>dt.addTrack(bt,ct))}catch{return ft(),nt.resolve(!1)}return dt.createOffer().then(pt=>{const bt={type:pt.type,sdp:pt.sdp};return Object.keys(lt).forEach(Tt=>{lt[Tt]||(bt.sdp=rt.removeVideoCodec(bt.sdp,Tt))}),ut.setRemoteDescription(bt)}).then(()=>!0).catch(()=>!1).then(pt=>(ft(),pt))}}).call(this,et(0))},function(_e,tt,et){const nt=et(7),rt=nt.INVALID_PARAMETER;_e.exports=it=>{let ot=it.otError;return st=>{if(!st)return;const at=(ct,lt)=>{if(!ct)throw ot(rt,new Error(`iceConfig invalid: ${lt}`))};"includeServers"in st&&at(["all","custom"].indexOf(st.includeServers)!==-1,".includeServers must be all or custom"),"transportPolicy"in st&&at(["all","relay"].indexOf(st.transportPolicy)!==-1,".transportPolicy must be all or relay"),at(Array.isArray(st.customServers),".customServers must be an array"),st.customServers.forEach(ct=>{at(ct.urls||!("url"in ct),"ice servers need .urls, not .url"),at(typeof ct.urls=="string"||Array.isArray(ct.urls),"ice server .urls must be a string or an array"),at(!ct.username||typeof ct.username=="string","ice server .username must be a string if present"),at(!ct.credential||typeof ct.credential=="string","ice server .credential must be a string if present")})}}},function(_e,tt,et){const nt=et(2),rt=()=>nt.isChrome&&nt.version>=98;_e.exports=(it,ot)=>it.p2pEnabled?!1:ot===!0&&rt()},function(_e,tt,et){const it=ot=>{if(typeof ot!="string")throw new Error("secret must be a string");if(ot.length<8)throw new Error("secret must have at least 8 characters");if(ot.length>256)throw new Error("secret must not exceed 256 characters")};_e.exports=it},function(_e,tt,et){const nt=et(10);_e.exports=function(it){switch(it){case nt.AUTHENTICATION_ERROR:case nt.INVALID_SESSION_ID:case nt.TERMS_OF_SERVICE_FAILURE:case nt.UNEXPECTED_SERVER_RESPONSE:return it;case nt.ANVIL_EMPTY_RESPONSE_BODY:case nt.ANVIL_CONNECT_FAILED:return nt.CONNECT_FAILED;case nt.ANVIL_BADLY_FORMED_RESPONSE:case nt.ANVIL_INVALID_HTTP_STATUS:case nt.ANVIL_XDOMAIN_OR_PARSING_ERROR:case nt.ANVIL_UNKNOWN_HTTP_ERROR:case nt.ANVIL_UNEXPECTED_ERROR_CODE:default:return nt.UNEXPECTED_SERVER_RESPONSE}}},function(_e,tt,et){const nt=et(10),rt=et(7);_e.exports={NOT_CONNECTED:{code:rt.NOT_CONNECTED,message:"Cannot use forceMute functionality. You are not connected to the session.",exceptionCode:nt.NOT_CONNECTED},PERMISSION_DENIED:{code:rt.PERMISSION_DENIED,message:"This token does not allow forceMute usage. The role must be at least `moderator` to enable this functionality",exceptionCode:nt.UNABLE_TO_FORCE_MUTE},INVALID_PARAMETER:{code:rt.INVALID_PARAMETER,message:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",exceptionCode:nt.INVALID_PARAMETER},NOT_FOUND:{code:rt.NOT_FOUND,message:"The stream does not exist."},UNEXPECTED_SERVER_RESPONSE:{code:rt.UNEXPECTED_SERVER_RESPONSE,message:"An unexpected error occurred.",exceptionCode:nt.UNEXPECTED_SERVER_RESPONSE}}},function(_e,tt,et){(function(nt){var rt=et(3);tt.__esModule=!0,tt.default=dt;var it=rt(et(16)),ot=rt(et(9)),st=rt(et(50)),at=rt(et(15)),ct=rt(et(323)),lt=rt(et(735));function dt(ut){ut===void 0&&(ut={});const ft=ut.convertRumorError||et(321),pt=ut.Dispatcher||et(326),bt=ut.ExceptionCodes||et(10),Tt=ut.hasIceRestartsCapability||et(322),ht=ut.hasRenegotiationCapability||et(751),gt=ut.hasE2eeCapability||et(110),vt=ut.logging||et(1)("RaptorSocket"),Ct=ut.Message||et(327),It=ut.OTHelpers||et(8),Zt=ut.RumorSocket||(0,lt.default)(),Wt=ut.Signal||et(328),kt=ut.SignalError||et(756),Nt=function Lt(Mt){var tn=this;let $t=Mt.connectionId,Ht=Mt.sessionId,rn=Mt.messagingSocketUrl,ln=Mt.symphonyUrl,mn=Mt.dispatcher,on=Mt.analytics,yn=Mt.requestedCapabilities,hn=yn===void 0?[]:yn,un,dn,Nn,Wn,pn,Rn,xn,Jn;const cr=["disconnected","connecting","connected","error","disconnecting"],er=mn||new pt,_n=It.statable(this,cr,"disconnected"),Sr=function(Gn){(!Gn.action||!Gn.variation)&&vt.debug("Expected action and variation"),on.logEvent((0,ot.default)({sessionId:dn,partnerId:un,p2p:Rn,messagingServer:xn,connectionId:$t},Gn))},vr=function(){for(var Gn=arguments.length,lr=new Array(Gn),Vr=0;Vr<Gn;Vr++)lr[Vr]=arguments[Vr];const oo=lr[0];_n(oo?"error":"connected"),pn(...lr)},Gr=Bn=>{let Gn="clientDisconnected";!this.is("disconnecting")&&Jn&&(Gn="networkDisconnected"),Bn&&Bn.code===4001&&(Gn="networkTimedout"),_n("disconnected"),er.onClose(Gn)},Lr=Bn=>{Jn=!0,vt.error(Bn)},Ur=()=>{er.onReconnecting()},co=()=>{Sr({action:"Reconnect",variation:"Success",retries:this._rumor.reconnectRetriesCount(),messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId}),er.onReconnected()},Tr=()=>{Sr({action:"Reconnect",variation:"Attempt",retries:this._rumor.reconnectRetriesCount(),messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId})},wr=Bn=>{Bn.message==="connectionLimitExceeded"&&(Bn.code=bt.CONNECTION_LIMIT_EXCEEDED),Bn.reason="ConnectToSession";const Gn=ft(Bn);Sr({action:"Reconnect",variation:"Failure",failureReason:Bn.reason,failureCode:Gn.code,failureMessage:Gn.message,messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId})};Object.defineProperty(this,"socketId",{get(){return this._rumor.socketID}}),this.connect=function(Gn,lr,Vr,oo){if(!this.is("disconnected","error")){vt.warn("Cannot connect the Raptor Socket as it is currently connected. You should disconnect first.");return}_n("connecting"),un=lr.partnerId,dn=lr.sessionId,Rn=lr.p2pEnabled,xn=lr.messagingServer,Nn=Gn,pn=oo,Wn={apiKey:un,sessionId:dn};const Yn=`/v2/partner/${un}/session/${dn}`;this._rumor=new Lt.RumorSocket({messagingURL:rn,notifyDisconnectAddress:ln,connectionId:$t,sessionId:Ht,enableReconnection:lr.reconnection}),this._rumor.on("close",Gr),this._rumor.on("error",Lr),this._rumor.on("reconnecting",Ur),this._rumor.on("reconnectAttempt",Tr),this._rumor.on("reconnectFailure",wr),this._rumor.on("reconnected",co),this._rumor.on("message",er.dispatch.bind(er));const yr=Ar=>{vr({reason:"WebSocketConnection",code:Ar.code,message:Ar.message})};this._rumor.once("error",yr),this._rumor.once("open",()=>{this._rumor.removeListener("error",yr),vt.debug(`connected. Subscribing to ${Yn} on ${rn}`),this._rumor.subscribe([Yn]);const Ar=hn;(Lt.hasIceRestartsCapability()||Lt.hasRenegotiationCapability())&&lr.renegotiation&&Ar.push("renegotiation"),Lt.hasE2eeCapability()&&lr.e2ee&&Ar.push("e2ee");const mo=Ct.connections.create({apiKey:un,sessionId:dn,connectionId:this._rumor.id,connectionEventsSuppressed:Vr.connectionEventsSuppressed,capabilities:Ar}),bo=new nt(go=>{const $r=Wo=>{Wo.id===this._rumor.id&&(go(Wo),mn.off("connection#created",$r))};mn.on("connection#created",$r)});this.publish(mo,{"X-TB-TOKEN-AUTH":Nn},!0,(go,$r)=>{if(go){go.message==="connectionLimitExceeded"&&(go.code=bt.CONNECTION_LIMIT_EXCEEDED),vr({reason:"ConnectToSession",code:go.code,message:go.message,socketId:this.socketId});return}const Wo=$r&&$r.data?JSON.parse($r.data):null;Wo&&(!Wo.connection||Wo.connection.length===0)&&(Wo.connection=[],Array.isArray(Wo.stream)&&Wo.stream.forEach(Vo=>{let qr=Vo.connection;return Wo.connection.push(qr)}));const So=(Vo,qr)=>{Vo?vr({reason:"GetSessionState",code:Vo.code,message:Vo.message,socketId:this.socketId}):vr(void 0,qr)};bo.then(Vo=>{Wo.connection.some(Iu=>Iu.id===Vo.id)||Wo.connection.unshift(Vo);const qr=(0,at.default)();er.registerCallback(qr,So),er.emit("session#read",Wo,qr)})})})},this.disconnect=function(){this.is("disconnected")||(_n("disconnecting"),this._rumor.disconnect())},this.publish=function(Bn,Gn,lr,Vr){Vr=Vr||function(){};const oo=(0,st.default)(Vr),Yn=(0,at.default)();if(vt.debug(`Publish (ID:${Yn}) ${Bn}`),this._rumor.readyState!==Zt.OPEN||this._rumor.reconnecting&&!lr){const yr=new Error("Not connected.");yr.code=500,oo(yr),vt.error("cannot publish until the socket is connected.");return}return er.registerCallback(Yn,oo),this._rumor.publish([ln],Bn,(0,ot.default)({},Gn,{"Content-Type":"application/x-raptor+v2","TRANSACTION-ID":Yn,"X-TB-FROM-ADDRESS":this._rumor.id}),lr,function(yr){yr&&oo(...arguments)}),Yn},this.send=function(Bn,Gn,lr,Vr){lr===void 0&&(lr=!0),Vr===void 0&&(Vr=()=>{}),tn.publish((0,ct.default)(Bn),Gn,lr,Vr)},this.streamCreate=function(Bn,Gn){Bn===void 0&&(Bn={}),Gn===void 0&&(Gn=()=>{});const lr=Bn,Vr=lr.name,oo=lr.streamId,Yn=lr.subscriberAudioFallbackEnabled,yr=lr.channels,Ar=lr.minBitrate,so=lr.maxBitrate,jr=lr.sourceStreamId,mo=lr.e2ee,bo=lr.publisherAudioFallbackEnabled,go=lr.customProperties,$r={apiKey:un,sessionId:dn,streamId:oo,name:Vr,audioFallbackEnabled:Yn,subscriberAudioFallbackEnabled:Yn,channels:yr,minBitrate:Ar,maxBitrate:so,sourceStreamId:jr,e2ee:mo,publisherAudioFallbackEnabled:bo,customProperties:go},Wo=Ct.streams.create($r);this.publish(Wo,{},!0,(So,Vo)=>{Gn(So,oo,Vo)})},this.streamDestroy=function(Bn,Gn){this.publish(Ct.streams.destroy(un,dn,Bn,Gn),{},!0)},this.streamChannelUpdate=function(Bn,Gn,lr){this.publish(Ct.streamChannels.update(un,dn,Bn,Gn,lr),{},!0)},this.subscriberCreate=function(Bn,Gn,lr,Vr,oo,Yn){const yr={apiKey:un,sessionId:dn,streamId:Bn,subscriberId:Gn,connectionId:this._rumor.id,channelsToSubscribeTo:lr,sourceStreamId:Vr,e2ee:oo};this.publish(Ct.subscribers.create(yr),{},!0,Yn)},this.subscriberDestroy=function(Bn,Gn){this.publish(Ct.subscribers.destroy(un,dn,Bn,Gn),{},!0)},this.subscriberUpdate=function(Bn,Gn,lr){this.publish(Ct.subscribers.update(un,dn,Bn,Gn,lr),{},!0)},this.subscriberChannelUpdate=function(Bn,Gn,lr,Vr){this.publish(Ct.subscriberChannels.update(un,dn,Bn,Gn,lr,Vr),{},!0)},this.forceDisconnect=function(Bn,Gn){this.publish(Ct.connections.destroy({apiKey:un,sessionId:dn,connectionId:Bn}),{},!0,Gn)},this.forceUnpublish=function(Bn,Gn){this.publish(Ct.streams.destroy(un,dn,Bn),{},!0,Gn)},this.forceMuteStream=function(Bn,Gn){const lr={streamId:Bn,active:!0};this.publish(Ct.forceMute.update(Object.assign({},Wn,lr)),{},!0,Gn)},this.forceMuteAll=function(Bn,Gn,lr){const Vr={excludedStreamIds:Bn,active:Gn};this.publish(Ct.forceMute.update(Object.assign({},Wn,Vr)),{},!0,lr)},this.signal=function(Bn,Gn,lr){const Vr=new Wt(dn,this._rumor.id,Bn||{});if(!Vr.valid){Gn&&(0,it.default)(Gn)&&Gn(new kt(Vr.error.code,Vr.error.reason),Vr.toHash());return}this.publish(Vr.toRaptorMessage(),{},Vr.retryAfterReconnect,oo=>{let Yn,yr,Ar;const so=[400,403,404,413,500];if(oo){const jr=parseInt(oo.code,10);so.includes(jr)?(yr=jr,Ar=oo.message):(yr=bt.UNEXPECTED_SERVER_RESPONSE,Ar="Unexpected server response. Try this operation again later."),Yn=new kt(yr,Ar)}else{const jr=Vr.data?typeof Vr.data:null;lr("signal","send",{type:jr})}Gn&&(0,it.default)(Gn)&&Gn(Yn,Vr.toHash())})},this.id=function(){return this._rumor&&this._rumor.id}};return Nt.hasIceRestartsCapability=Tt,Nt.hasRenegotiationCapability=ht,Nt.hasE2eeCapability=gt,Nt.RumorSocket=Zt,Nt}}).call(this,et(0))},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=dt;var rt=nt(et(18)),it=nt(et(736)),ot=nt(et(1)),st=nt(et(737)),at=nt(et(742)),ct=nt(et(747)),lt=nt(et(20));function dt(ut){let ft=ut===void 0?{}:ut,pt=ft.WebSocket,bt=pt===void 0?ct.default:pt;const Tt=(0,it.default)(),ht=(0,st.default)({AnalyticsHelper:lt.default,EventEmitter:rt.default,WebSocket:bt,logging:ot.default,allocateId:Tt});return(0,at.default)({EventEmitter:rt.default,ReconnectableSocket:ht,logging:ot.default,allocateId:Tt})}},function(_e,tt,et){tt.__esModule=!0,tt.default=nt;function nt(){let rt=0;return()=>(rt+=1,rt)}},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(45)),st=nt(et(324)),at=nt(et(48)),ct=nt(et(325)),lt=et(76),dt=nt(et(738)),ut=nt(et(61)),ft=nt(et(739)),pt=nt(et(741));const bt=vt=>function(){vt(...arguments)},Tt=vt=>vt===1e3||vt>=3e3&&vt<=4999,ht=lt.codes.CLOSE_TIMEOUT;var gt=vt=>{var Ct;let It=vt.AnalyticsHelper,Zt=vt.EventEmitter,Wt=vt.WebSocket,kt=vt.logging,Nt=vt.allocateId,Lt=vt.BUFFER_DRAIN_INTERVAL,Mt=Lt===void 0?100:Lt,tn=vt.BUFFER_DRAIN_MAX_RETRIES,$t=tn===void 0?10:tn;return Ct=function(Ht){(0,at.default)(rn,Ht);function rn(mn){var on;on=Ht.call(this)||this,on._url=void 0,on._id=Nt(),on._logger=kt(`ReconnectableSocket:${on._id}`),on._webSocket=void 0,on._connectTimer=void 0,on._pingTimer=void 0,on._pingWarningTimer=void 0,on._disconnectTimer=void 0,on._queuedMessages=[],on._draining=!1,on._analytics=new It,on._logAnalyticsEvent=vr=>{let Gr=vr.action,Lr=vr.variation,Ur=vr.payload;on._analytics.logEvent({action:Gr,variation:Lr,payload:Ur,sessionId:on.sessionId,connectionId:on.connectionId})};const yn=mn.url,hn=mn.connectionId,un=mn.sessionId,dn=mn.connectTimeout,Nn=dn===void 0?15e3:dn,Wn=mn.pingThreshold,pn=Wn===void 0?3e3:Wn,Rn=mn.pingWarningDelay,xn=Rn===void 0?100:Rn,Jn=mn.disconnectThreshold,cr=Jn===void 0?5900:Jn,er=mn.reconnectMaxDuration,_n=er===void 0?6e4:er;if(!yn)throw new Error("Must provide url");on.connectionId=hn,on.sessionId=un,on.readyStateMachine=(0,ft.default)({reconnectMaxDuration:_n,CLOSED:rn.CLOSED,CLOSING:rn.CLOSING}),on._url=yn,(0,ct.default)({logger:on._logger,obj:(0,st.default)(on),eventNames:["error","open","message","needsPing","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),on.readyStateMachine.observe("onEnterOpen",vr=>{let Gr=vr.from;on._resetPingTimers(),on._resetDisconnectTimer(),on._connectTimer.clear(),Gr==="reconnecting"?(on._queuedMessages.forEach(Lr=>on.send(Lr,!0)),on._queuedMessages=[],on.emit("reconnected"),on._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Success"})):(on.emit("open"),on._logAnalyticsEvent({action:"WebSocket:open"}))}),on.readyStateMachine.observe("onEnterClosed",(vr,Gr)=>{let Lr=vr.from,Ur=vr.code,co=vr.reason;on.emit("close",Gr),Lr==="reconnecting"&&on._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure",payload:{code:Ur,reason:co}})}),on.readyStateMachine.observe("onEnterClosing",bt(function(){var vr=(0,it.default)(rt.default.mark(function Gr(Lr,Ur){var co,Tr,wr;return rt.default.wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:return co=Lr.from,Tr=Ur.code,wr=Ur.reason,on._clearTimers(),Gn.next=5,on._clearSocket({drain:co==="open",code:Tr,reason:wr});case 5:co==="reconnecting"&&(on.emit("reconnectFailure",{code:Tr,reason:wr}),on._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure"})),setTimeout(()=>{on.readyStateMachine.closed({code:Tr,reason:wr})});case 7:case"end":return Gn.stop()}},Gr)}));return function(Gr,Lr){return vr.apply(this,arguments)}}())),on.readyStateMachine.observe("onEnterReconnecting",()=>{on.emit("reconnecting"),on._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Attempt"})}),on.readyStateMachine.observe("onDisconnect",bt(function(){var vr=(0,it.default)(rt.default.mark(function Gr(Lr,Ur){var co,Tr,wr,Bn;return rt.default.wrap(function(lr){for(;;)switch(lr.prev=lr.next){case 0:if(co=Lr.from,Tr=Lr.to,wr=Ur.code,Bn=Ur.reason,Tr!=="reconnecting"){lr.next=12;break}if(!on._draining){lr.next=5;break}return lr.abrupt("return");case 5:return on._clearTimers(),on.emit("reconnectAttempt"),lr.next=9,on._clearSocket({drain:co==="open",code:wr,reason:Bn});case 9:on._createSocket(),lr.next=13;break;case 12:on._logAnalyticsEvent({action:"WebSocket:disconnect",payload:{code:wr,reason:Bn}});case 13:case"end":return lr.stop()}},Gr)}));return function(Gr,Lr){return vr.apply(this,arguments)}}()));const Sr=(vr,Gr)=>new dt.default({name:vr,duration:Gr,logger:on._logger});return on._connectTimer=Sr("connect",Nn),on._pingTimer=Sr("ping",pn),on._pingWarningTimer=Sr("pingWarning",xn),on._disconnectTimer=Sr("disconnect",cr),on._createSocket(),on}var ln=rn.prototype;return ln._createSocket=function(){const on=new Wt(this.url);on.binaryType="arraybuffer";const yn=(0,ut.default)(on);yn.on("open",()=>{this.readyStateMachine.open()}),yn.on("close",hn=>{let un=hn.code,dn=hn.reason;this.readyStateMachine.disconnect({code:un,reason:dn})}),yn.on("error",hn=>{this.emit("error",hn)}),yn.on("message",hn=>{this.readyState!==rn.CLOSING&&this._resetDisconnectTimer(),this.emit("message",hn)}),this._webSocket=on,this._webSocketEvents=yn,this._connectTimer.reset(()=>{const hn={code:ht,reason:"Timeout while opening connection"},un=new Error(hn.reason);un.code=ht,this.emit("error",un),this.readyStateMachine.disconnect(hn)})},ln._clearSocket=function(){var mn=(0,it.default)(rt.default.mark(function yn(hn){var un,dn,Nn,Wn,pn;return rt.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:if(un=hn===void 0?{}:hn,dn=un.drain,Nn=dn===void 0?!1:dn,Wn=un.code,pn=un.reason,this._draining=!0,this._webSocketEvents&&this._webSocketEvents.removeAll(),this._webSocket.readyState===rn.CLOSED){xn.next=9;break}if(!Nn){xn.next=7;break}return xn.next=7,(0,pt.default)(this._webSocket,{BUFFER_DRAIN_INTERVAL:Mt,BUFFER_DRAIN_MAX_RETRIES:$t});case 7:this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:Wn,reason:pn},variation:"Attempt"});try{!Tt(Wn)||Wn===void 0&&pn===void 0?this._webSocket.close():this._webSocket.close(Wn,pn),this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:Wn,reason:pn},variation:"Success"})}catch(Jn){kt.error("Could not close websocket",Jn),this._logAnalyticsEvent({action:"WebSocket:close",payload:{err:Jn},variation:"Failure"})}case 9:this._draining=!1;case 10:case"end":return xn.stop()}},yn,this)}));function on(yn){return mn.apply(this,arguments)}return on}(),ln.send=function(on,yn){yn===void 0&&(yn=!0),this.readyState===rn.OPEN&&this._resetPingTimers();const hn=()=>{try{return this._webSocket.send(on),"sent"}catch(un){if(this._webSocket.readyState===Wt.OPEN)return this._logger.debug("webSocket.send threw exception even though it was open:",un),"dropped";throw un}};if(this.readyStateMachine.state==="reconnecting"){if(this._webSocket.readyState===Wt.OPEN)try{hn()}catch{}return yn?(this._queuedMessages.push(on),"queued"):(this._logger.debug("Dropping message during reconnection since retryAfterReconnect is false:",on),"dropped")}return hn()},ln.close=function(on,yn){if(this.readyState===rn.CLOSING)throw new Error("Can not call close on a closing ReconnectableSocket");if(this.readyState===rn.CLOSED)throw new Error("Can not call close on an already closed ReconnectableSocket");this.readyStateMachine.close({code:on,reason:yn})},ln._resetPingTimers=function(){this._pingWarningTimer.clear(),this._pingTimer.reset(()=>{this._pingWarningTimer.reset(()=>{this._logger.warn("Did not send message after needsPing event. Other side may disconnect.")}),this.emit("needsPing")})},ln._resetDisconnectTimer=function(){this._disconnectTimer.reset(()=>this.readyStateMachine.disconnect({code:ht,reason:"No activity"}))},ln._clearTimers=function(){[this._disconnectTimer,this._connectTimer,this._pingTimer,this._pingWarningTimer].forEach(on=>on.clear())},(0,ot.default)(rn,[{key:"url",get:function(){return typeof this._url=="function"?this._url():this._url}},{key:"reconnecting",get:function(){return this.readyStateMachine.state==="reconnecting"}},{key:"binaryType",get:function(){return this._webSocket.binaryType}},{key:"bufferedAmount",get:function(){return this._webSocket.bufferedAmount}},{key:"protocol",get:function(){return this._webSocket.protocol}},{key:"extensions",get:function(){return this._webSocket.extensions}},{key:"readyState",get:function(){return{reconnecting:rn.OPEN,open:rn.OPEN,closing:rn.CLOSING,closed:rn.CLOSED,connecting:rn.CONNECTING}[this.readyStateMachine.state]}}]),rn}(Zt),Ct.CONNECTING=Wt.CONNECTING,Ct.OPEN=Wt.OPEN,Ct.CLOSING=Wt.CLOSING,Ct.CLOSED=Wt.CLOSED,Ct};tt.default=gt},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;let nt=function(){function rt(ot){let st=ot.name,at=ot.logger,ct=ot.duration;this.name=void 0,this.logger=void 0,this.duration=void 0,this.currId=void 0,this.name=st,this.logger=at,this.duration=ct}var it=rt.prototype;return it.reset=function(st){this.clear();const at=setTimeout(()=>{this.currId!==void 0&&(this.logger.spam(`${this.name} timer with id ${this.currId} expired, entering callback`),this.currId=void 0,st())},this.duration);this.currId=at,this.logger.spam(`Started ${this.name} timer with id ${this.currId}, expires in ${this.duration}ms`)},it.clear=function(){this.currId!==void 0&&(clearTimeout(this.currId),this.logger.spam(`Cleared ${this.name} timer with id ${this.currId}`),this.currId=void 0)},it.isRunning=function(){return this.currId!==void 0},rt}();tt.default=nt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(310)),it=nt(et(740)),ot=et(76),st=nt(et(1));const at=(0,st.default)("ReconnectableSocketStateMachine"),ct=ot.codes.CLOSE_UNSUPPORTED,lt=ot.codes.CLOSE_UNEXPECTED_CONDITION;var dt=ut=>{let ft=ut.reconnectMaxDuration,pt=ut.CLOSED,bt=ut.CLOSING,Tt;function ht(gt){let vt=gt.code;return(this.state==="open"||!Tt)&&(Tt=(0,it.default)(ft)),ft>0&&!Tt()&&[ct,lt].indexOf(vt)===-1&&[pt,bt].indexOf(this.readyState)===-1?"reconnecting":"closing"}return new rt.default({init:"connecting",methods:{onInvalidTransition(gt,vt,Ct){at.error("Invalid state transition",{transition:gt,from:vt,to:Ct})}},transitions:[{name:"open",from:["connecting","reconnecting"],to:"open"},{name:"close",from:["connecting","reconnecting","open"],to:"closing"},{name:"closed",from:"closing",to:"closed"},{name:"disconnect",from:["reconnecting","open","connecting"],to:ht}]})};tt.default=dt},function(_e,tt,et){_e.exports=nt=>{let rt=!1;return setTimeout(()=>{rt=!0},nt),()=>rt}},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(107)),st=function(){var at=(0,it.default)(rt.default.mark(function ct(lt,dt){var ut,ft,pt,bt,Tt,ht;return rt.default.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:ut=dt===void 0?{}:dt,ft=ut.BUFFER_DRAIN_INTERVAL,pt=ft===void 0?100:ft,bt=ut.BUFFER_DRAIN_MAX_RETRIES,Tt=bt===void 0?10:bt,ht=0;case 2:if(!(ht<Tt)){vt.next=10;break}if(lt.bufferedAmount!==0){vt.next=5;break}return vt.abrupt("break",10);case 5:return vt.next=7,(0,ot.default)(pt);case 7:ht+=1,vt.next=2;break;case 10:case"end":return vt.stop()}},ct)}));return function(ct,lt){return at.apply(this,arguments)}}();tt.default=st},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(45)),it=nt(et(324)),ot=nt(et(48)),st=nt(et(15)),at=nt(et(325)),ct=nt(et(743)),lt=pt(et(171)),dt=nt(et(746)),ut=et(76);function ft(Tt){if(typeof WeakMap!="function")return null;var ht=new WeakMap,gt=new WeakMap;return(ft=function(Ct){return Ct?gt:ht})(Tt)}function pt(Tt,ht){if(!ht&&Tt&&Tt.__esModule)return Tt;if(Tt===null||typeof Tt!="object"&&typeof Tt!="function")return{default:Tt};var gt=ft(ht);if(gt&&gt.has(Tt))return gt.get(Tt);var vt={},Ct=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var It in Tt)if(It!=="default"&&Object.prototype.hasOwnProperty.call(Tt,It)){var Zt=Ct?Object.getOwnPropertyDescriptor(Tt,It):null;Zt&&(Zt.get||Zt.set)?Object.defineProperty(vt,It,Zt):vt[It]=Tt[It]}return vt.default=Tt,gt&&gt.set(Tt,vt),vt}var bt=Tt=>{var ht;let gt=Tt.EventEmitter,vt=Tt.ReconnectableSocket,Ct=Tt.logging,It=Tt.allocateId;return ht=function(Zt){(0,ot.default)(Wt,Zt);function Wt(Nt){var Lt;let Mt=Nt.messagingURL,tn=Nt.notifyDisconnectAddress,$t=Nt.connectionId,Ht=Nt.sessionId,rn=Nt.enableReconnection,ln=Nt.pingThreshold,mn=ln===void 0?2e3:ln,on=Nt.disconnectThreshold,yn=on===void 0?(rn?3:25)*mn-100:on,hn=Nt.reconnectMaxDuration,un=hn===void 0?rn?6e4:0:hn;Lt=Zt.call(this)||this,Lt.url=void 0,Lt.id=void 0,Lt._opened=!1,Lt._socket=void 0,Lt._reconnectAttempts=0,Lt._socketID=(0,st.default)(),Lt._receivedTransactionIDs=[],Lt._notifyDisconnectAddress=void 0,Lt._enableReconnection=void 0,Lt._pendingMessages=[],Lt._logger=Ct(`RumorSocket:${It()}`),(0,at.default)({logger:Lt._logger,obj:(0,it.default)(Lt),eventNames:["open","message","error","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),Lt.url=Mt,Lt.id=$t,Lt._notifyDisconnectAddress=tn,Lt._enableReconnection=rn,Lt.on("error",Nn=>{Lt._logger.error(Nn.message)});try{Lt._socket=new vt({url:()=>Lt._enableReconnection?[Lt.url,Lt.url.indexOf("?")>=0?"&":"?",`socketId=${Lt._socketID}`,Lt._socket&&Lt._socket.reconnecting?"&reconnect=true":"",`&attempt=${(0,st.default)()}`].join(""):Lt.url,pingThreshold:mn,disconnectThreshold:yn,reconnectMaxDuration:un,connectionId:$t,sessionId:Ht})}catch(Nn){Lt._logger.error(Nn),Lt.emit("error",new dt.default(ut.codes.CLOSE_CONNECT_EXCEPTION))}const dn=()=>{Lt._opened=!0,Lt._socket.send(ct.default.Connect(Lt.id,tn).serialize()),Lt.emit("open",Lt.id)};return Lt._socket.once("open",dn),Lt._socket.on("message",Nn=>Lt._receiveMessage(Nn)),Lt._socket.once("close",Nn=>{Lt._logger.debug(`ReconnectableSocket closed (code: ${Nn.code})`),Lt._clearPendingMessages();const Wn=ut.codes.CLOSE_NORMAL,pn=ut.codes.CLOSE_GOING_AWAY,Rn=ut.codes.CLOSE_TIMEOUT;[Wn,pn,Rn].indexOf(Nn.code)===-1&&Lt.emit("error",new dt.default(Nn.code)),Lt.emit("close",Nn)}),Lt._socket.on("error",Nn=>{let Wn=Nn.code;return Lt.emit("error",new dt.default(Wn))}),Lt._socket.on("needsPing",()=>{Lt._socket.send(ct.default.Ping().serialize())}),Lt._socket.on("reconnecting",()=>{Lt._opened&&(Lt._clearPendingMessagesWhichShouldntRetry(),Lt.emit("reconnecting"),Lt._reconnectAttempts=0)}),Lt._socket.on("reconnectAttempt",()=>{Lt._opened&&(Lt._reconnectAttempts+=1,Lt._socket.send(ct.default.Disconnect("1").serialize(),!1),Lt.emit("reconnectAttempt"))}),Lt._socket.on("reconnected",()=>{if(!Lt._opened){dn();return}Lt._pendingMessages.forEach(Nn=>{Lt._socket.send(Nn.rumorMessage.serialize())}),Lt.emit("reconnected")}),Lt._socket.on("reconnectFailure",()=>{Lt._opened&&(Lt._logger.debug(`Reconnecting failed as connectivity was not restored within ${un}ms`),Lt.emit("reconnectFailure",new dt.default))}),Lt}var kt=Wt.prototype;return kt._clearPendingMessagesWhichShouldntRetry=function(){const Lt=this._pendingMessages.filter(Mt=>!Mt.retryAfterReconnect);this._pendingMessages=this._pendingMessages.filter(Mt=>Mt.retryAfterReconnect),Lt.forEach(Mt=>{const tn=new Error("Not connected.");tn.code=500,Mt.completion(tn)})},kt._clearPendingMessages=function(){this._pendingMessages.forEach(Lt=>{const Mt=new Error("Not connected.");Mt.code=500,Lt.completion(Mt)}),this._pendingMessages=[]},kt._sendAck=function(Lt){this._socket.send(ct.default.Status([Lt.fromAddress],{"TRANSACTION-ID":Lt.headers["TRANSACTION-ID"],"X-TB-FROM-ADDRESS":this.id}).serialize())},kt._receiveMessage=function(Lt){const Mt=ct.default.deserialize(Lt.data);if(Mt.type!==lt.PONG){if(this._logger.debug("Received:",Mt),Mt.transactionId&&(this._pendingMessages=this._pendingMessages.filter(tn=>(tn.rumorMessage.transactionId===Mt.transactionId&&(this._logger.debug("Marking",Mt.transactionId," as received"),tn.completion(void 0,Mt)),tn.rumorMessage.transactionId!==Mt.transactionId))),Mt.transactionId&&Mt.type!==lt.STATUS){if(this._sendAck(Mt),this._receivedTransactionIDs.indexOf(Mt.transactionId)>=0)return;this._receivedTransactionIDs.push(Mt.transactionId)}this.emit("message",Mt)}},kt.publish=function(Lt,Mt,tn,$t,Ht){Ht===void 0&&(Ht=()=>{});const rn=ct.default.Publish(Lt,Mt,tn);if(this._socket.send(rn.serialize(),!1)==="dropped"&&!$t){const mn=new Error("Not connected.");mn.code=500,Ht(mn);return}this._pendingMessages.push({rumorMessage:rn,retryAfterReconnect:$t,completion:Ht})},kt.subscribe=function(Lt){this._socket.send(ct.default.Subscribe(Lt).serialize())},kt.unsubscribe=function(Lt){this._socket.send(ct.default.Unsubscribe(Lt).serialize())},kt.disconnect=function(){if(this.readyState===Wt.OPEN&&this._socket.send(ct.default.Disconnect().serialize()),this._socket.readyState!==vt.CLOSED&&this._socket.readyState!==vt.CLOSING){const Lt=ut.codes.CLOSE_NORMAL;this._socket.close(Lt,ut.messages[Lt])}},kt.status=function(Lt,Mt){this._socket.send(ct.default.Status(Lt,{"TRANSACTION-ID":Mt,"X-TB-FROM-ADDRESS":this.id}).serialize())},kt.reconnectRetriesCount=function(){return this._reconnectAttempts},kt.messageQueueSize=function(){return this._pendingMessages.length},(0,rt.default)(Wt,[{key:"readyState",get:function(){return this._socket?this._socket.readyState:vt.CONNECTING}},{key:"reconnecting",get:function(){return this._opened&&this._socket&&this._socket.reconnecting}},{key:"socketID",get:function(){return this._socketID}}]),Wt}(gt),ht.CONNECTING=vt.CONNECTING,ht.OPEN=vt.OPEN,ht.CLOSING=vt.CLOSING,ht.CLOSED=vt.CLOSED,ht};tt.default=bt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(15)),it=et(744),ot=at(et(171));function st(dt){if(typeof WeakMap!="function")return null;var ut=new WeakMap,ft=new WeakMap;return(st=function(bt){return bt?ft:ut})(dt)}function at(dt,ut){if(!ut&&dt&&dt.__esModule)return dt;if(dt===null||typeof dt!="object"&&typeof dt!="function")return{default:dt};var ft=st(ut);if(ft&&ft.has(dt))return ft.get(dt);var pt={},bt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Tt in dt)if(Tt!=="default"&&Object.prototype.hasOwnProperty.call(dt,Tt)){var ht=bt?Object.getOwnPropertyDescriptor(dt,Tt):null;ht&&(ht.get||ht.set)?Object.defineProperty(pt,Tt,ht):pt[Tt]=dt[Tt]}return pt.default=dt,ft&&ft.set(dt,pt),pt}const ct=dt=>{const ut=new ArrayBuffer(dt.length),ft=new Uint8Array(ut);for(let pt=0;pt<dt.length;++pt)ft[pt]=dt[pt];return ut};let lt=function(){function dt(ft,pt,bt,Tt){this.type=void 0,this.toAddress=void 0,this.headers=void 0,this.data=void 0,this.type=ft,this.toAddress=pt,this.headers=bt,this.data=Tt,this.fromAddress=this.headers["X-TB-FROM-ADDRESS"],this.transactionId=this.headers["TRANSACTION-ID"],this.status=this.headers.STATUS,this.isError=this.status&&this.status[0]!=="2"}var ut=dt.prototype;return ut.serialize=function(){let pt,bt,Tt,ht,gt=8,vt=7;const Ct=[],It=[],Zt=[];for(vt++,Tt=0;Tt<this.toAddress.length;Tt++)Ct.push(new it.TextEncoder("utf-8").encode(this.toAddress[Tt])),vt+=2,vt+=Ct[Tt].length;vt++,Tt=0;for(const Nt in this.headers)this.headers.hasOwnProperty(Nt)&&(It.push(new it.TextEncoder("utf-8").encode(Nt)),Zt.push(new it.TextEncoder("utf-8").encode(this.headers[Nt])),vt+=4,vt+=It[Tt].length,vt+=Zt[Tt].length,Tt++);bt=new it.TextEncoder("utf-8").encode(this.data),vt+=bt.length;const Wt=new ArrayBuffer(vt),kt=new Uint8Array(Wt,0,vt);for(vt-=4,kt[0]=(vt&4278190080)>>>24,kt[1]=(vt&16711680)>>>16,kt[2]=(vt&65280)>>>8,kt[3]=(vt&255)>>>0,kt[4]=0,kt[5]=0,kt[6]=this.type,kt[7]=this.toAddress.length,Tt=0;Tt<Ct.length;Tt++)for(pt=Ct[Tt],kt[gt++]=pt.length>>8&255,kt[gt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)kt[gt++]=pt[ht];for(kt[gt++]=It.length,Tt=0;Tt<It.length;Tt++){for(pt=It[Tt],kt[gt++]=pt.length>>8&255,kt[gt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)kt[gt++]=pt[ht];for(pt=Zt[Tt],kt[gt++]=pt.length>>8&255,kt[gt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)kt[gt++]=pt[ht]}for(Tt=0;Tt<bt.length;Tt++)kt[gt++]=bt[Tt];return Wt},dt.deserialize=function(pt){(typeof window!==void 0?window:commonjsGlobal).Buffer&&(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer(pt)&&(pt=ct(pt));let bt,Tt,ht,gt,vt,Ct,It,Zt,Wt=8;const kt=new Uint8Array(pt);bt=kt[6];const Nt=[];for(Zt=0;Zt<kt[7];Zt++)It=kt[Wt++]<<8,It+=kt[Wt++],Tt=new Uint8Array(pt,Wt,It),Nt[Zt]=new it.TextDecoder("utf-8").decode(Tt),Wt+=It;for(ht=kt[Wt++],gt={},Zt=0;Zt<ht;Zt++)It=kt[Wt++]<<8,It+=kt[Wt++],Tt=new Uint8Array(pt,Wt,It),vt=new it.TextDecoder("utf-8").decode(Tt),Wt+=It,It=kt[Wt++]<<8,It+=kt[Wt++],Tt=new Uint8Array(pt,Wt,It),Ct=new it.TextDecoder("utf-8").decode(Tt),gt[vt]=Ct,Wt+=It;const Lt=new Uint8Array(pt,Wt),Mt=new it.TextDecoder("utf-8").decode(Lt);return new dt(bt,Nt,gt,Mt)},dt.Connect=function(pt,bt){const Tt={uniqueId:pt,"TRANSACTION-ID":(0,rt.default)(),notifyDisconnectAddress:bt};return new dt(ot.CONNECT,[],Tt,"")},dt.Disconnect=function(pt){return new dt(ot.DISCONNECT,[],{reconnect:pt},"")},dt.Subscribe=function(pt){return new dt(ot.SUBSCRIBE,pt,{},"")},dt.Unsubscribe=function(pt){return new dt(ot.UNSUBSCRIBE,pt,{},"")},dt.Publish=function(pt,bt,Tt){return new dt(ot.MESSAGE,pt,Tt||{},bt||"")},dt.Status=function(pt,bt){return new dt(ot.STATUS,pt,bt||{},"")},dt.Ping=function(){return new dt(ot.PING,[],{},"")},dt}();tt.default=lt},function(_e,tt,et){tt.__esModule=!0,tt.TextEncoder=tt.TextDecoder=void 0;var nt=it(et(745));function rt(at){if(typeof WeakMap!="function")return null;var ct=new WeakMap,lt=new WeakMap;return(rt=function(ut){return ut?lt:ct})(at)}function it(at,ct){if(!ct&&at&&at.__esModule)return at;if(at===null||typeof at!="object"&&typeof at!="function")return{default:at};var lt=rt(ct);if(lt&&lt.has(at))return lt.get(at);var dt={},ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ft in at)if(ft!=="default"&&Object.prototype.hasOwnProperty.call(at,ft)){var pt=ut?Object.getOwnPropertyDescriptor(at,ft):null;pt&&(pt.get||pt.set)?Object.defineProperty(dt,ft,pt):dt[ft]=at[ft]}return dt.default=at,lt&&lt.set(at,dt),dt}const ot=(typeof window!==void 0?window:commonjsGlobal).TextEncoder||nt.TextEncoder;tt.TextEncoder=ot;const st=(typeof window!==void 0?window:commonjsGlobal).TextDecoder||nt.TextDecoder;tt.TextDecoder=st},function(_e,tt,et){et.r(tt),et.d(tt,"TextEncoder",function(){return ft}),et.d(tt,"TextDecoder",function(){return ut});function nt(Tt,ht,gt){return ht<=Tt&&Tt<=gt}function rt(Tt){if(Tt===void 0)return{};if(Tt===Object(Tt))return Tt;throw TypeError("Could not convert argument to dictionary")}function it(Tt){for(var ht=String(Tt),gt=ht.length,vt=0,Ct=[];vt<gt;){var It=ht.charCodeAt(vt);if(It<55296||It>57343)Ct.push(It);else if(56320<=It&&It<=57343)Ct.push(65533);else if(55296<=It&&It<=56319)if(vt===gt-1)Ct.push(65533);else{var Zt=Tt.charCodeAt(vt+1);if(56320<=Zt&&Zt<=57343){var Wt=It&1023,kt=Zt&1023;Ct.push(65536+(Wt<<10)+kt),vt+=1}else Ct.push(65533)}vt+=1}return Ct}function ot(Tt){for(var ht="",gt=0;gt<Tt.length;++gt){var vt=Tt[gt];vt<=65535?ht+=String.fromCharCode(vt):(vt-=65536,ht+=String.fromCharCode((vt>>10)+55296,(vt&1023)+56320))}return ht}var st=-1;function at(Tt){this.tokens=[].slice.call(Tt)}at.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():st},prepend:function(Tt){if(Array.isArray(Tt))for(var ht=Tt;ht.length;)this.tokens.unshift(ht.pop());else this.tokens.unshift(Tt)},push:function(Tt){if(Array.isArray(Tt))for(var ht=Tt;ht.length;)this.tokens.push(ht.shift());else this.tokens.push(Tt)}};var ct=-1;function lt(Tt,ht){if(Tt)throw TypeError("Decoder error");return ht||65533}var dt="utf-8";function ut(Tt,ht){if(!(this instanceof ut))return new ut(Tt,ht);if(Tt=Tt!==void 0?String(Tt).toLowerCase():dt,Tt!==dt)throw new Error("Encoding not supported. Only utf-8 is supported");ht=rt(ht),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!ht.fatal,this._ignoreBOM=!!ht.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ut.prototype={decode:function(ht,gt){var vt;typeof ht=="object"&&ht instanceof ArrayBuffer?vt=new Uint8Array(ht):typeof ht=="object"&&"buffer"in ht&&ht.buffer instanceof ArrayBuffer?vt=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):vt=new Uint8Array(0),gt=rt(gt),this._streaming||(this._decoder=new pt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!gt.stream;for(var Ct=new at(vt),It=[],Zt;!Ct.endOfStream()&&(Zt=this._decoder.handler(Ct,Ct.read()),Zt!==ct);)Zt!==null&&(Array.isArray(Zt)?It.push.apply(It,Zt):It.push(Zt));if(!this._streaming){do{if(Zt=this._decoder.handler(Ct,Ct.read()),Zt===ct)break;Zt!==null&&(Array.isArray(Zt)?It.push.apply(It,Zt):It.push(Zt))}while(!Ct.endOfStream());this._decoder=null}return It.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(It[0]===65279?(this._BOMseen=!0,It.shift()):this._BOMseen=!0),ot(It)}};function ft(Tt,ht){if(!(this instanceof ft))return new ft(Tt,ht);if(Tt=Tt!==void 0?String(Tt).toLowerCase():dt,Tt!==dt)throw new Error("Encoding not supported. Only utf-8 is supported");ht=rt(ht),this._streaming=!1,this._encoder=null,this._options={fatal:!!ht.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ft.prototype={encode:function(ht,gt){ht=ht?String(ht):"",gt=rt(gt),this._streaming||(this._encoder=new bt(this._options)),this._streaming=!!gt.stream;for(var vt=[],Ct=new at(it(ht)),It;!Ct.endOfStream()&&(It=this._encoder.handler(Ct,Ct.read()),It!==ct);)Array.isArray(It)?vt.push.apply(vt,It):vt.push(It);if(!this._streaming){for(;It=this._encoder.handler(Ct,Ct.read()),It!==ct;)Array.isArray(It)?vt.push.apply(vt,It):vt.push(It);this._encoder=null}return new Uint8Array(vt)}};function pt(Tt){var ht=Tt.fatal,gt=0,vt=0,Ct=0,It=128,Zt=191;this.handler=function(Wt,kt){if(kt===st&&Ct!==0)return Ct=0,lt(ht);if(kt===st)return ct;if(Ct===0){if(nt(kt,0,127))return kt;if(nt(kt,194,223))Ct=1,gt=kt-192;else if(nt(kt,224,239))kt===224&&(It=160),kt===237&&(Zt=159),Ct=2,gt=kt-224;else if(nt(kt,240,244))kt===240&&(It=144),kt===244&&(Zt=143),Ct=3,gt=kt-240;else return lt(ht);return gt=gt<<6*Ct,null}if(!nt(kt,It,Zt))return gt=Ct=vt=0,It=128,Zt=191,Wt.prepend(kt),lt(ht);if(It=128,Zt=191,vt+=1,gt+=kt-128<<6*(Ct-vt),vt!==Ct)return null;var Nt=gt;return gt=Ct=vt=0,Nt}}function bt(Tt){Tt.fatal,this.handler=function(ht,gt){if(gt===st)return ct;if(nt(gt,0,127))return gt;var vt,Ct;nt(gt,128,2047)?(vt=1,Ct=192):nt(gt,2048,65535)?(vt=2,Ct=224):nt(gt,65536,1114111)&&(vt=3,Ct=240);for(var It=[(gt>>6*vt)+Ct];vt>0;){var Zt=gt>>6*(vt-1);It.push(128|Zt&63),vt-=1}return It}}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=it(et(76));function rt(at){if(typeof WeakMap!="function")return null;var ct=new WeakMap,lt=new WeakMap;return(rt=function(ut){return ut?lt:ct})(at)}function it(at,ct){if(!ct&&at&&at.__esModule)return at;if(at===null||typeof at!="object"&&typeof at!="function")return{default:at};var lt=rt(ct);if(lt&&lt.has(at))return lt.get(at);var dt={},ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ft in at)if(ft!=="default"&&Object.prototype.hasOwnProperty.call(at,ft)){var pt=ut?Object.getOwnPropertyDescriptor(at,ft):null;pt&&(pt.get||pt.set)?Object.defineProperty(dt,ft,pt):dt[ft]=at[ft]}return dt.default=at,lt&&lt.set(at,dt),dt}const ot=et(7);let st=function(ct){if(this.code=void 0,this.message=void 0,this.name=void 0,this.code=nt.codes.CLOSE_FALLBACK_CODE,Object.values(nt.codes).includes(ct))switch(this.code=ct,this.code){case nt.codes.CLOSE_GOING_AWAY:case nt.codes.CLOSE_PROTOCOL_ERROR:case nt.codes.CLOSE_UNSUPPORTED:case nt.codes.CLOSE_NO_STATUS:case nt.codes.CLOSE_ABNORMAL:case nt.codes.CLOSE_INCONSISTENT_DATA:case nt.codes.CLOSE_POLICY_VIOLATION:case nt.codes.CLOSE_TOO_LARGE:case nt.codes.CLOSE_UNEXPECTED_CONDITION:case nt.codes.CLOSE_CONNECTIVITY_LOSS:case nt.codes.CLOSE_CONNECT_EXCEPTION:case nt.codes.CLOSE_TIMEOUT:this.name=ot.DISCONNECTED,this.message="Action failed due to session disconnection.";return}this.message=nt.messages[this.code]||"No message available from code."};tt.default=st},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(748)),it=(()=>(typeof window!==void 0?window:commonjsGlobal).WebSocket?(typeof window!==void 0?window:commonjsGlobal).WebSocket:rt.default)();tt.default=it},function(_e,tt,et){_e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(_e,tt,et){const nt=et(750);_e.exports=function(it){const ot=nt(it.data);return ot.transactionId=it.transactionId,ot.fromAddress=it.headers["X-TB-FROM-ADDRESS"],ot}},function(_e,tt,et){_e.exports=function(rt){if(rt.length===0)return{};const it=JSON.parse(rt),ot=it.uri.substr(1).split("/");ot.shift(),ot[ot.length-1]===""&&ot.pop(),it.params={};for(let st=0,at=ot.length;st<at-1;st+=2)it.params[ot[st]]=ot[st+1];return ot.length%2===0?ot[ot.length-2]==="channel"&&ot.length>6?it.resource=`${ot[ot.length-4]}_${ot[ot.length-2]}`:it.resource=ot[ot.length-2]:ot[ot.length-1]==="channel"&&ot.length>5?it.resource=`${ot[ot.length-3]}_${ot[ot.length-1]}`:it.resource=ot[ot.length-1],it.signature=`${it.resource}#${it.method}`,it}},function(_e,tt,et){const nt=et(2),rt=nt.name,it=et(51).once;_e.exports=()=>it()&&["Chrome","Firefox","Safari"].indexOf(rt)>-1},function(_e,tt,et){const nt=et(2),rt=et(51).once;_e.exports=()=>rt()&&(nt.name==="Chrome"||nt.name==="Firefox"||nt.name==="Node"||nt.name==="Safari"||nt.name==="Edge")},function(_e,tt,et){const nt=et(51).once;_e.exports=()=>nt()},function(_e,tt,et){_e.exports="DTLS_SRTP"},function(_e,tt,et){_e.exports=function(rt){let it=rt.supportsWebRTC;return{supportsWebRTC:it==="true"||it===!0}}},function(_e,tt,et){_e.exports=function(rt,it){this.code=rt,this.message=it,this.reason=it}},function(_e,tt,et){const nt=function(it){const ot=[];this.enqueue=function(){ot.push(Array.prototype.slice.call(arguments))},this.triggerAll=function(){let at;for(;at=ot.shift();)it.trigger(...at)}};_e.exports=nt},function(_e,tt,et){const nt=et(206),rt=et(239),it=et(57),ot=et(9),st=et(142),at=et(10),ct=et(759),lt=et(760),dt=et(290).default,ut={EMPTY_RESPONSE:"Response body was empty, probably due to connectivity loss",BADLY_FORMED:"Unknown error: JSON response was badly formed",NO_ERROR:"No error message",UNEXPECTED_SERVER_RESPONSE:bt=>`Unexpected server response (${bt}). Try this operation again later.`},ft=[0,600,1200];function pt(bt){let Tt=bt===void 0?{}:bt,ht=Tt.axios,gt=ht===void 0?nt:ht,vt=Tt.retryDelays,Ct=vt===void 0?ft:vt;function It(Wt){let kt=Wt.anvilUrl,Nt=Wt.sessionId,Lt=Wt.token,Mt=Wt.clientVersion,tn=Wt.connectionId;const $t=rt.parse(kt,!0),Ht=rt.format({protocol:$t.protocol,auth:$t.auth,host:$t.host,pathname:rt.resolve(($t.pathname||"").replace(/\/?$/,"/"),`session/${Nt}`),query:Object.assign({},$t.query,{extended:!0})});return gt.get(Ht,{validateStatus:rn=>rn>=200&&rn<300,headers:{"X-OPENTOK-AUTH":Lt,"X-TB-VERSION":1,"X-TB-CLIENT-VERSION":Mt,"X-TB-CONNECTIONID":tn,Accept:"application/json"}}).catch(rn=>{if(rn.response){const ln=new Error(ut.UNEXPECTED_SERVER_RESPONSE(`${rn.response.statusCode}${rn.response.status?` ${rn.response.status}`:""}`));throw ln.code=at.ANVIL_INVALID_HTTP_STATUS,ln.name=ct(ln.code),ln}else if(rn.request){const ln=new Error(ut.CONNECT_FAILED);throw ln.code=at.ANVIL_CONNECT_FAILED,ln.name=ct(ln.code),ln}else{const ln=at.ANVIL_UNKNOWN_HTTP_ERROR,mn=ct(rn.code);throw ot(rn,{code:ln,name:mn}),rn}}).then(rn=>{let ln=rn.data;if(typeof ln=="string"){if(ln.length>0)try{JSON.parse(ln)}catch(hn){throw hn.message=ut.UNEXPECTED_SERVER_RESPONSE(hn.toString()),hn.code=at.ANVIL_XDOMAIN_OR_PARSING_ERROR,hn.name=ct(hn.code),hn}const yn=new Error(ln.length===0?ut.EMPTY_RESPONSE:ut.BADLY_FORMED);throw yn.code=ln.length===0?at.ANVIL_EMPTY_RESPONSE_BODY:at.ANVIL_BADLY_FORMED_RESPONSE,yn.name=ct(yn.code),yn}if(ln===null||ln.length===0){const yn=new Error(ut.EMPTY_RESPONSE);throw yn.code=at.ANVIL_EMPTY_RESPONSE_BODY,yn.name=ct(yn.code),yn}const mn=ln.filter(yn=>yn.error!=null),on=mn[0];if(on){const yn=lt(it(on,"error.code","500"));it(on,"error.errorMessage.message")==="Invalid token format"&&(on.error.errorMessage.message+=` Token: ${Lt}`);const hn=new Error(it(on,"error.errorMessage.message",yn===void 0?`Unknown error: ${on.error.code}`:ut.NO_ERROR));throw hn.code=yn||at.ANVIL_UNEXPECTED_ERROR_CODE,hn.name=ct(hn.code),hn}return new st(ln[0])})}return dt(It,(Wt,kt)=>Wt.code&&Wt.code>=3e3&&Wt.code<=3007&&Ct[kt])}_e.exports=pt},function(_e,tt,et){const nt=et(10),rt=et(7),it={[nt.ANVIL_BADLY_FORMED_RESPONSE]:rt.BADLY_FORMED_RESPONSE,[nt.ANVIL_INVALID_HTTP_STATUS]:rt.INVALID_HTTP_STATUS,[nt.ANVIL_XDOMAIN_OR_PARSING_ERROR]:rt.XDOMAIN_OR_PARSING_ERROR,[nt.ANVIL_UNKNOWN_HTTP_ERROR]:rt.UNKNOWN_HTTP_ERROR,[nt.ANVIL_UNEXPECTED_ERROR_CODE]:rt.UNEXPECTED_ERROR_CODE,[nt.ANVIL_EMPTY_RESPONSE_BODY]:rt.EMPTY_RESPONSE_BODY,[nt.ANVIL_CONNECT_FAILED]:rt.CONNECT_FAILED,[nt.AUTHENTICATION_ERROR]:rt.AUTHENTICATION_ERROR,[nt.INVALID_SESSION_ID]:rt.INVALID_SESSION_ID,[nt.TERMS_OF_SERVICE_FAILURE]:rt.TERMS_OF_SERVICE_FAILURE,[nt.UNEXPECTED_SERVER_RESPONSE]:rt.UNEXPECTED_SERVER_RESPONSE};function ot(st){return it[st]}_e.exports=ot},function(_e,tt,et){const nt=et(10),rt={400:nt.INVALID_SESSION_ID,403:nt.AUTHENTICATION_ERROR,404:nt.INVALID_SESSION_ID,409:nt.TERMS_OF_SERVICE_FAILURE,500:nt.UNEXPECTED_SERVER_RESPONSE};function it(ot){return rt[ot]}_e.exports=it},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(48));const st=et(18),at=et(762);let ct=function(lt){(0,ot.default)(dt,lt);function dt(ft){var pt;return ft===void 0&&(ft={}),pt=lt.call(this)||this,pt._generateKey=ft.generateKey||at,pt}var ut=dt.prototype;return ut.set=function(){var ft=(0,it.default)(rt.default.mark(function bt(Tt,ht){var gt;return rt.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return this.keyPromise=this._generateKey(Tt,ht),Ct.next=3,this.keyPromise;case 3:gt=Ct.sent,this.emit("keyChanged",gt);case 5:case"end":return Ct.stop()}},bt,this)}));function pt(bt,Tt){return ft.apply(this,arguments)}return pt}(),ut.get=function(){var ft=(0,it.default)(rt.default.mark(function bt(){var Tt;return rt.default.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.next=2,this.keyPromise;case 2:return Tt=gt.sent,gt.abrupt("return",Tt);case 4:case"end":return gt.stop()}},bt,this)}));function pt(){return ft.apply(this,arguments)}return pt}(),ut.clear=function(){this.keyPromise=void 0},dt}(st);_e.exports=ct},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=function(){var st=(0,it.default)(rt.default.mark(function at(ct,lt){var dt,ut,ft,pt;return rt.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return dt=!1,ut=!0,ft=new TextEncoder,Tt.next=5,window.crypto.subtle.importKey("raw",ft.encode(lt),{name:"PBKDF2"},dt,["deriveBits","deriveKey"]);case 5:return pt=Tt.sent,Tt.abrupt("return",window.crypto.subtle.deriveKey({name:"PBKDF2",salt:ft.encode(ct),iterations:1e5,hash:"SHA-256"},pt,{name:"AES-CTR",length:256},ut,["encrypt","decrypt"]));case 7:case"end":return Tt.stop()}},at)}));return function(ct,lt){return st.apply(this,arguments)}}();_e.exports=ot},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(2);let st={SFrame:{}};ot.isNode||(st=et(764));const at=st,ct=at.SFrame,lt=ut=>ct.createClient(ut,{skipVp8PayloadHeader:!0});let dt=function(){function ut(){this._clientStore={}}var ft=ut.prototype;return ft.createSender=function(){var pt=(0,it.default)(rt.default.mark(function Tt(ht){return rt.default.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(ht===void 0&&(ht=0),!this.getSender(ht)){vt.next=3;break}return vt.abrupt("return",this.getSender(ht));case 3:return this._clientStore[ht]||(this._clientStore[ht]={}),vt.next=6,lt(ht);case 6:return this._clientStore[ht].sender=vt.sent,vt.abrupt("return",this.getSender(ht));case 8:case"end":return vt.stop()}},Tt,this)}));function bt(Tt){return pt.apply(this,arguments)}return bt}(),ft.createReceiver=function(){var pt=(0,it.default)(rt.default.mark(function Tt(ht){return rt.default.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(!this.getReceiver(ht)){vt.next=2;break}return vt.abrupt("return",this.getReceiver(ht));case 2:return this._clientStore[ht]||(this._clientStore[ht]={}),vt.next=5,lt(ht);case 5:return this._clientStore[ht].receiver=vt.sent,vt.abrupt("return",this.getReceiver(ht));case 7:case"end":return vt.stop()}},Tt,this)}));function bt(Tt){return pt.apply(this,arguments)}return bt}(),ft.getSender=function(bt){var Tt;return(Tt=this._clientStore[bt])==null?void 0:Tt.sender},ft.getReceiver=function(bt){var Tt;return(Tt=this._clientStore[bt])==null?void 0:Tt.receiver},ft.deleteReceiver=function(bt){this.getReceiver(bt)&&(this._clientStore[bt].receiver.deleteReceiver(bt),delete this._clientStore[bt].receiver)},ft.deleteSender=function(bt){var Tt;(Tt=this._clientStore[bt])==null||delete Tt.sender},ut}();_e.exports=dt},function(_e,tt,et){(function(nt){(function(it,ot){_e.exports=ot()})(this,function(){return function(rt){var it={};function ot(st){if(it[st])return it[st].exports;var at=it[st]={i:st,l:!1,exports:{}};return rt[st].call(at.exports,at,at.exports,ot),at.l=!0,at.exports}return ot.m=rt,ot.c=it,ot.d=function(st,at,ct){ot.o(st,at)||Object.defineProperty(st,at,{enumerable:!0,get:ct})},ot.r=function(st){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(st,"__esModule",{value:!0})},ot.t=function(st,at){if(at&1&&(st=ot(st)),at&8||at&4&&typeof st=="object"&&st&&st.__esModule)return st;var ct=Object.create(null);if(ot.r(ct),Object.defineProperty(ct,"default",{enumerable:!0,value:st}),at&2&&typeof st!="string")for(var lt in st)ot.d(ct,lt,function(dt){return st[dt]}.bind(null,lt));return ct},ot.n=function(st){var at=st&&st.__esModule?function(){return st.default}:function(){return st};return ot.d(at,"a",at),at},ot.o=function(st,at){return Object.prototype.hasOwnProperty.call(st,at)},ot.p="",ot(ot.s="./index.js")}({"./Client.js":function(rt,it,ot){ot.r(it),ot.d(it,"SFrame",function(){return at});var st=ot("./Worker.js");const at={createClient:async function(dt,ut){const ft=new lt;return await ft.init(dt,ut),ft}};async function ct(dt){return dt instanceof CryptoKey&&dt.type=="private"?await crypto.subtle.exportKey("pkcs8",dt):dt instanceof CryptoKey?await crypto.subtle.exportKey("raw",dt):dt instanceof Uint8Array?dt.buffer.slice(0):dt.slice(0)}class lt extends EventTarget{constructor(){super(),this.worker=new st.default,this.transId=1,this.transactions=new Map,this.worker.addEventListener("message",async ut=>{const ft=ut.data;if(ft.transId){const pt=this.transactions.get(ft.transId);this.transactions.delete(ft.transId),ft.error?pt.reject(new Error(ft.error)):pt.resolve(ft.result)}else if(ft.event){const pt=new Event(ft.event.name);pt.id=ft.event.data.id,pt.senderId=ft.event.data.senderId,this.dispatchEvent(pt)}}),this.postMessage=(ut,ft,pt)=>new nt((bt,Tt)=>{const ht=this.transId++;this.worker.postMessage({transId:ht,cmd:ut,args:ft},pt),this.transactions.set(ht,{resolve:bt,reject:Tt})})}async init(ut,ft){return this.postMessage("init",{senderId:ut,config:ft})}async setSenderEncryptionKey(ut){const ft=await ct(ut);return this.postMessage("setSenderEncryptionKey",[ft],[ft])}async ratchetSenderEncryptionKey(){return this.postMessage("ratchetSenderEncryptionKey")}async setSenderSigningKey(ut){const ft=await ct(ut);return this.postMessage("setSenderSigningKey",[ft])}async addReceiver(ut){return this.postMessage("addReceiver",[ut])}async setReceiverEncryptionKey(ut,ft){const pt=await ct(ft);return this.postMessage("setReceiverEncryptionKey",[ut,pt],[pt])}async setReceiverVerifyKey(ut,ft){const pt=await ct(ft);return this.postMessage("setReceiverVerifyKey",[ut,pt],[pt])}deleteReceiver(ut){return this.postMessage("deleteReceiver",[ut])}async encrypt(ut,ft){const pt=ft.track.kind,{readable:bt,writable:Tt}=ft.createEncodedStreams?ft.createEncodedStreams():ft.createEncodedVideoStreams?ft.createEncodedVideoStreams():ft.createEncodedAudioStreams();return this.postMessage("encrypt",{id:ut,kind:pt,readableStream:bt,writableStream:Tt},[bt,Tt])}async decrypt(ut,ft){const pt=ft.track.kind,{readable:bt,writable:Tt}=ft.createEncodedStreams?ft.createEncodedStreams():ft.createEncodedVideoStreams?ft.createEncodedVideoStreams():ft.createEncodedAudioStreams();return this.postMessage("decrypt",{id:ut,kind:pt,readableStream:bt,writableStream:Tt},[bt,Tt])}close(){this.worker.terminate();for(let ut of this.transactions.values())ut.reject(new Error("Client closed"));this.transactions.clear()}}},"./Worker.js":function(rt,it,ot){ot.r(it),ot.d(it,"default",function(){return ct});var st=ot("./node_modules/worker-loader/dist/runtime/inline.js"),at=ot.n(st);function ct(){return at()(`/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./Worker.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./Worker.js":
/*!*******************!*\\
  !*** ./Worker.js ***!
  \\*******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_Context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/Context.js */ "./lib/Context.js");
/* harmony import */ var _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/VP8PayloadHeader.js */ "./lib/VP8PayloadHeader.js");
/* harmony import */ var _lib_Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/Utils.js */ "./lib/Utils.js");
/* harmony import */ var _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/TaskQueue.js */ "./lib/TaskQueue.js");






const postDecryptStatusMessage = lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()((message) => {
	postMessage(message)
},  1000, { leading: false, trailing: true });

let context; 

onmessage = async (event) => {
	//Get data
	const {transId,cmd,args} = event.data;
	
	try {
		let result = true;
		
		//Depending on the cmd
		switch(event.data.cmd)
		{
			case "init":
			{
				//Get info
				const {senderId, config} = args;
				//Crate context
				context = new _lib_Context_js__WEBPACK_IMPORTED_MODULE_1__["Context"](senderId, config);
				break;
			}
			case "encrypt":
			{
				//The recrypt queue
				const tasks = new _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__["TaskQueue"]();
				//Get event data
				const{id, kind, readableStream, writableStream} = args;
				//Create transform stream foo encrypting
				const transformStream = new TransformStream({
					transform: async (chunk, controller)=>{
						//Nothing in clear
						let skip = 0;
						//Check if it is video and we are skipping vp8 payload header
						if (kind=="video" && context.isSkippingVp8PayloadHeader())
						{
							//Get VP8 header
							const vp8 = _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__["VP8PayloadHeader"].parse(chunk.data);
							//Skip it
							skip = vp8.byteLength;
						}
						//Enqueue task
						tasks.enqueue (
							context.encrypt(kind, id, chunk.data, skip),
							(encrypted) => {
								//Set back encrypted payload
								chunk.data = encrypted.buffer;
								//write back
								controller.enqueue(chunk);
							},
							(error)=>{
								//TODO: handle errors
							}
						);
					}
				});
				//Encrypt
				readableStream
					.pipeThrough(transformStream)
					.pipeTo(writableStream);
				break;
			}
			case "decrypt":
			{
				//The recrypt queue
				const tasks = new _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__["TaskQueue"]();
				//Last reveiced senderId
				let senderId = -1;
				//Get event data
				const{id, kind, readableStream, writableStream} = args;
				//Create transform stream for encrypting
				const transformStream = new TransformStream({
					transform: async (chunk, controller)=>{
						//Nothing in clear
						let skip = 0;
						//Check if it is video and we are skipping vp8 payload header
						if (kind=="video" && context.isSkippingVp8PayloadHeader())
						{
							//Get VP8 header
							const vp8 = _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__["VP8PayloadHeader"].parse(chunk.data);
							//Skip it
							skip = vp8.byteLength;
						}

						//Enqueue task
						tasks.enqueue(
							context.decrypt(kind, id, chunk.data, skip),
							(decrypted) => {
								//Set back decrypted payload
								chunk.data = decrypted.buffer;
								//write back
								controller.enqueue(chunk);
								//If it is a sender
								if (decrypted.senderId!=senderId)
								{
									//Store it
									senderId = decrypted.senderId;
									//Launch event
									postMessage ({event: {
										name	: "authenticated",
										data	: {
											id	 : id,
											senderId : senderId
										}
									}});
								}
								if (decrypted.decryptionRestored) {
									postDecryptStatusMessage({
										event: {
											name: "decryptionRestored",
											data: {
												id,
												senderId,
											},
										},
									});
								}
							},
							(error) => {
								if (error.message === 'decryptFailed') {
									postDecryptStatusMessage({
										event: {
											name: "decryptFailed",
											data: {
												id,
												senderId,
											},
										},
								});
								}
							}
						);
					}
				});
				//Decrypt
				readableStream
					.pipeThrough(transformStream)
					.pipeTo(writableStream);
				break;
			}
			default:
				//Excute "cmd" method on context
				result = await context[cmd](...args || []);
		}
		//Send result back
		postMessage ({transId,result});
	} catch (error) {
		console.error(error);
		//Send error back
		postMessage({transId,error});
	}
};


/***/ }),

/***/ "./lib/AesCm128HmacSha256EncryptionKey.js":
/*!************************************************!*\\
  !*** ./lib/AesCm128HmacSha256EncryptionKey.js ***!
  \\************************************************/
/*! exports provided: AesCm128HmacSha256EncryptionKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AesCm128HmacSha256EncryptionKey", function() { return AesCm128HmacSha256EncryptionKey; });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./lib/Utils.js");
/* harmony import */ var _Salts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Salts.js */ "./lib/Salts.js");
/* harmony import */ var _IV_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IV.js */ "./lib/IV.js");




const ratchetKey = (key) => 
	crypto.subtle.deriveBits(
		{
			name : "HKDF",
			hash : "SHA-256",
			salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].RatchetKey,
			info : new ArrayBuffer()
		},
		key,
		256
	);

class AesCm128HmacSha256EncryptionKey 
{
	constructor(){
		this.ratchets = [];
	}

	async setKey(key)
	{
		if (key instanceof CryptoKey)
		{
			//Check private key algorithm
			if (key.algorithm.name!="HKDF")
				//Error
				throw new Error("Invalid key");
		} else {
			//Import key
			key = await crypto.subtle.importKey(
				"raw",
				key,
				"HKDF",
				false,
				["deriveBits", "deriveKey"]
			);
		}
		this.key = key;
		
		//Get salt key
		this.saltKey = new Uint8Array(await crypto.subtle.deriveBits(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].SaltKey,
				info : new ArrayBuffer()
			},
			key,
			128
		));
	
		//Get encryption key
		this.encryptionKey = await crypto.subtle.deriveKey(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].EncryptionKey,
				info : new ArrayBuffer()
			},
			key,
			{
				name : "AES-CTR",
				length : 128
			},
			false,
			["encrypt","decrypt"]
		);
	
		//Get authentication key
		this.authKey = await crypto.subtle.deriveKey(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].AuthenticationKey,
				info : new ArrayBuffer()
			},
			key,
			{
				name : "HMAC",
				hash : "SHA-256",
				length : 256
			},
			false,
			["sign","verify"]
		);
	}

	
	async encrypt(type,header,payload,extraBytes,skip)
	{
		//Encure int
		skip = skip ? skip : 0;
		
		//Create IV
		const iv = _IV_js__WEBPACK_IMPORTED_MODULE_2__["IV"].generate(header.keyId, header.counter, this.saltKey);
		
		//Encrypt
		const encrypted = await crypto.subtle.encrypt(
			{
				name	: "AES-CTR",
				counter : iv,
				length  : 128
			},
			this.encryptionKey,
			payload
		);
	
		//Get auth tag length from media type
		const authTagLength = AesCm128HmacSha256EncryptionKey.getAuthTagLen(type);
		
		//Create encrypted frame
		const encryptedFrame = new Uint8Array(header.byteLength + payload.byteLength + authTagLength + extraBytes + skip);
		
		//Set header and encrypted payolad
		encryptedFrame.set(header, skip);
		encryptedFrame.set(new Uint8Array(encrypted), skip + header.length);
		
		//Authenticate
		const signature = new Uint8Array(await crypto.subtle.sign(
			"HMAC",
			this.authKey, 
			encryptedFrame.subarray(skip, skip + header.byteLength + encrypted.byteLength)
		));
	
		//Truncate
		const authTag = signature.subarray(0, authTagLength);
	
		//Append authentication tag
		encryptedFrame.set(authTag, skip + encrypted.byteLength + header.byteLength );
		
		//Done
		return [encryptedFrame,authTag];
		
	}
	
	async decrypt(type, header, encryptedFrame, extrabytes, skip)
	{
		//Encure int
		skip = skip ? skip : 0;
		
		//Create IV
		const iv = _IV_js__WEBPACK_IMPORTED_MODULE_2__["IV"].generate(header.keyId, header.counter, this.saltKey);
		
		//Get auth tag length from media type
		const authTagLength = AesCm128HmacSha256EncryptionKey.getAuthTagLen(type);
		
		//Get encrypted frame length (without extra bytes from signature)
		const frameLength = encryptedFrame.byteLength - extrabytes - skip;
		
		//Get authentication tag
		const authTag = encryptedFrame.subarray(skip + frameLength - authTagLength, skip + frameLength);
		
		//Get encrypted payload
		const encrypted = encryptedFrame.subarray(skip + header.byteLength, skip + frameLength - authTagLength);
		
		//Calculate signature
		const signature = new Uint8Array(await crypto.subtle.sign(
			"HMAC",
			this.authKey, 
			encryptedFrame.subarray(skip, skip + header.byteLength + encrypted.byteLength)
		));
	
		//Authenticate authTag
		let authenticated = true;
		//Avoid timimg attacks by iterating over all bytes
		for (let i=0;i<authTagLength;++i)
			//check signature
			authenticated &= authTag[i]===signature[i];
		
		//If not all where equal
		if (!authenticated)
			//Authentication error
			throw new Error("Authentication error");
		
		//Decrypt
		const payload = new Uint8Array (await crypto.subtle.decrypt(
			{
				name	: "AES-CTR",
				counter : iv,
				length  : 128
			},
			this.encryptionKey,
			encrypted
		));
		
		//Done
		return [payload, authTag];
	}
	
	async ratchet(index)
	{
		// return stored key if exists
		if (this.ratchets[index]) {
			return this.ratchets[index];
		}
		
		//Create new key
		const key = new AesCm128HmacSha256EncryptionKey();

		// Get previous ratchet
		const previousRatchetKey = index === 0 ? this.key : this.ratchets[index - 1].key;
		
		//Set ratchet key
		await key.setKey(await ratchetKey(previousRatchetKey));
		
		this.ratchets[index] = key;
		//Done
		return key;
	}
	
	static getAuthTagLen(type)
	{
		return type.toLowerCase()==="video" ? 10 : 4;
	};
	
	static async create(raw) 
	{
		//Create new key
		const key = new AesCm128HmacSha256EncryptionKey();
		//Set raw key
		await key.setKey(raw);
		//Done
		return key;
	}
};



/***/ }),

/***/ "./lib/Context.js":
/*!************************!*\\
  !*** ./lib/Context.js ***!
  \\************************/
/*! exports provided: Context */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Context", function() { return Context; });
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _Sender_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Sender.js */ "./lib/Sender.js");
/* harmony import */ var _Receiver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Receiver.js */ "./lib/Receiver.js");




class Context
{
	
	constructor(senderId, config)
	{
		//Store config
		this.config = Object.assign({}, config);
		//Only one sender per context
		this.sender = new _Sender_js__WEBPACK_IMPORTED_MODULE_1__["Sender"](senderId);
		
		//The map of known remote senders
		this.receivers = new Map();
	}
	
	isSkippingVp8PayloadHeader()
	{
		return !!this.config.skipVp8PayloadHeader;
	}
		
	async setSenderEncryptionKey(key)
	{
		//Set it
		return this.sender.setEncryptionKey(key);
	}
	
	async ratchetSenderEncryptionKey()
	{
		//Set it
		return this.sender.ratchetEncryptionKey();
	}
	
	async setSenderSigningKey(key)
	{
		//Set it
		return this.sender.setSigningKey(key);
	}
	
	addReceiver(receiverkKeyId)
	{
		//Check we don't have a receiver already for that id
		if(this.receivers.has(receiverkKeyId))
			//Error
			throw new Error("There was already a receiver for keyId "+receiverkKeyId);
		//Add new
		this.receivers.set(receiverkKeyId, new _Receiver_js__WEBPACK_IMPORTED_MODULE_2__["Receiver"](receiverkKeyId));
	}
	
	async setReceiverEncryptionKey(receiverkKeyId, key)
	{
		//Get receiver for the sender
		const receiver = this.receivers.get(receiverkKeyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId "+receiverkKeyId);
		
		//Rachet
		return receiver.setEncryptionKey(key);
	}
	
	async setReceiverVerifyKey(receiverkKeyId,key)
	{
		//Get receiver for the sender
		const receiver = this.receivers.get(receiverkKeyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId "+receiverkKeyId);
		
		//Rachet
		return receiver.setVerifyKey(key);
	}
	
	deleteReceiver(receiverkKeyId)
	{
		//Delete receiver
		return this.receivers.delete(receiverkKeyId);
	}
	
	async encrypt(type, ssrcId, frame, skip)
	{
		//Encrypt it
		return this.sender.encrypt(type, ssrcId, frame, skip);
	}
	
	async decrypt(type, ssrcId, encryptedFrame, skip)
	{
		//convert if needed
		if (!(encryptedFrame instanceof Uint8Array))
			encryptedFrame = new Uint8Array (encryptedFrame);
		
		//Parse encrypted payload
		const header = _Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].parse(encryptedFrame.subarray(skip));
		
		//Get receiver for the sender
		const receiver = this.receivers.get(header.keyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId " + header.keyId);
		
		//Decrypt it
		return receiver.decrypt(type, ssrcId, header, encryptedFrame, skip);
	}
	
};


/***/ }),

/***/ "./lib/EcdsaSignKey.js":
/*!*****************************!*\\
  !*** ./lib/EcdsaSignKey.js ***!
  \\*****************************/
/*! exports provided: EcdsaSignKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EcdsaSignKey", function() { return EcdsaSignKey; });
//TODO: Update to Ed25519 when available
// https://chromestatus.com/features/4913922408710144
// https://chromium.googlesource.com/chromium/src/+log/master/components/webcrypto/algorithms/ed25519.cc

class EcdsaSignKey
{
	
	async setKey(privKey)
	{
		//If it is a crypto key already
		if (privKey instanceof CryptoKey)
		{
			//Check private key algorithm
			if (privKey.algorithm.name!="ECDSA" || !privKey.usages.includes("sign"))
				//Error
				throw new Error("Invalid key");
			//Set it
			this.privKey = privKey;
		} else {
			//Import it
			this.privKey = await crypto.subtle.importKey(
				"pkcs8",
				privKey,
				{
					name		: "ECDSA",
					namedCurve	: "P-521"
				},
				false,
				["sign"]
			);
		}
	}
	
	async sign(authTags)
	{
		//Verify
		return new Uint8Array(await crypto.subtle.sign(
			{
			  name: "ECDSA",
			  hash: "SHA-512"
			},
			this.privKey,
			authTags
		));
	}
	
	static getSignatureLen()
	{
		return 64;
	}
	
	static async create(privKey)
	{
		//Craete key
		const key = new EcdsaSignKey();
		//Set key
		await key.setKey(privKey);
		//Done
		return key;
		
	}
};


/***/ }),

/***/ "./lib/EcdsaVerifyKey.js":
/*!*******************************!*\\
  !*** ./lib/EcdsaVerifyKey.js ***!
  \\*******************************/
/*! exports provided: EcdsaVerifyKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EcdsaVerifyKey", function() { return EcdsaVerifyKey; });

class EcdsaVerifyKey
{
	async setKey(pubKey)
	{
		//If it is a crypto key already
		if (pubKey instanceof CryptoKey)
		{
			//Check 
			if (pubKey.algorithm.name!="ECDSA" || !pubKey.usages.includes("verify"))
				//Error
				throw new Error("Invalid key");
			//Set it
			this.pubKey = pubKey;
		} else {
			//Import it
			this.pubKey = await crypto.subtle.importKey(
				"raw",
				pubKey,
				{
					name		: "ECDSA",
					namedCurve	: "P-521"
				},
				false,
				["verify"]
			);
		}
	}
	
	async verify(signed,signature)
	{
		//Verify
		return await window.crypto.subtle.verify(
			{
				name: "ECDSA",
				hash: "SHA-512"
			},
			this.pubKey,
			signature,
			signed
		);
	}
	
	static getSignatureLen()
	{
		return 64;
	}
	
	static async create(pubKey)
	{
		//Craete key
		const key = new EcdsaVerifyKey();
		//Set key
		await key.setKey(pubKey);
		//Done
		return key;
		
	}
};


/***/ }),

/***/ "./lib/Header.js":
/*!***********************!*\\
  !*** ./lib/Header.js ***!
  \\***********************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return Header; });
/*
	0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+
	|S|LEN  |X|  K  |
	+-+-+-+-+-+-+-+-+
	SFrame header metadata

	Signature flag (S): 1 bit This field indicates the payload contains a signature of set. Counter Length (LEN): 3 bits This field indicates the length of the CTR fields in bytes. Extended Key Id Flag (X): 1 bit
	Indicates if the key field contains the key id or the key length. Key or Key Length: 3 bits This field contains the key id (KID) if the X flag is set to 0, or the key length (KLEN) if set to 1.

	If X flag is 0 then the KID is in the range of 0-7 and the frame counter (CTR) is found in the next LEN bytes:

	 0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+---------------------------------+
	|S|LEN  |0| KID |    CTR... (length=LEN)          |
	+-+-+-+-+-+-+-+-+---------------------------------+
	Key id (KID): 3 bits The key id (0-7). Frame counter (CTR): (Variable length) Frame counter value up to 8 bytes long.

	if X flag is 1 then KLEN is the length of the key (KID), that is found after the SFrame header metadata byte. After the key id (KID), the frame counter (CTR) will be found in the next LEN bytes:

	 0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+---------------------------+---------------------------+
	|S|LEN  |1|KLEN |   KID... (length=KLEN)    |    CTR... (length=LEN)    |
	+-+-+-+-+-+-+-+-+---------------------------+---------------------------+
*/
const Header = {
	
	parse : function(buffer) 
	{
		//Create uint view
		const view = new Uint8Array(buffer);
		
		//Get metadata
		const metadata = view[0];
		
		//Get values
		const s		= !!(metadata & 0x80);
		const len	= (metadata >> 4) & 0x07;
		const x		= !!(metadata & 0x08);
		const k		= metadata & 0x07;
		
		//Get key id
		let keyId = 0;
		//Check if it is the extented key format
		if (x)
		{
			//Read length
			for (let i=0;i<k;i++)
				keyId = (keyId * 256) + view[i+1];
		} else {
			//Short version
			keyId = k;
		}
		
		//Get ctr
		const ini = x ? k + 1 : 1;
		let counter = 0;
		//Read length
		for (let i=0;i<len;i++)
			counter = (counter * 256) + view[ini+i];
		
		//Get header buffer view
		const header = view.subarray(0, x ? k + len + 1 : len + 1);
		
		//Add parsed atributes
		header.signature   = s;
		header.keyId	   = keyId;
		header.counter	   = counter;
		
		//Done
		return header; 
	},
	generate: function(signature,keyId,counter)
	{
		//Check keyId
		Header.checkKeyId(keyId);
		
		//Calcultate variavle length
		const varlen = (x) => x ? parseInt(Math.log(x) / Math.log(256))+1 : 1;
		
		//Get key extension and length
		const x = keyId > 7;
		const k = x ? varlen(keyId) : keyId;
		
		//Get counter length
		const len = varlen(counter);
		
		//Ensure counter is not huge
		if (len>7)
			//Error
			throw new Error("Counter is too big");
		
		//Generate header
		const header = new Uint8Array( x ? 1 + k + len : 1 + len);
		
		//Set metadata header
		header[0] = !!signature;
		header[0] = header[0] << 3  | ( len & 0x07);
		header[0] = header[0] << 1  | x;
		header[0] = header[0] << 3  | ( k & 0x07);
		
		//Add parsed atributes
		header.signature   = !!signature;
		header.keyId	   = keyId;
		header.counter	   = counter;
		
		//If extended key
		if (x)
			//Add key id
			for (let i=0; i<k; ++i)
				header[i+1] = (keyId >> (k-1-i)*8) & 0xff;
		//The coutner init
		const ini = x ? k + 1 : 1;
		//Add counter
		for (let i=0; i<len; ++i)
			header[ini+i] = (counter >> (len-1-i)*8) & 0xff;
			
		
		//Done
		return header;
	}
};

Header.MaxKeyId = 0xFFFFFFFFFF;

Header.checkKeyId = function(keyId)
{
	//Check it is possitive
	if (keyId<0)
		//Error
		throw new Error("keyId must be possitive");
	//Check it is possitive
	if (keyId>Header.MaxKeyId)
		//Error
		throw new Error("keyId must be 5 bytes long at most");
};


/***/ }),

/***/ "./lib/IV.js":
/*!*******************!*\\
  !*** ./lib/IV.js ***!
  \\*******************/
/*! exports provided: IV */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IV", function() { return IV; });
const IV = 
{
	generate : function(keyId,counter,salt)
	{
		//128 bits
		const iv = new Uint8Array (16);
		//Get view
		const view = new DataView(iv.buffer);
		//Set keyId
		view.setBigUint64(0, BigInt(counter));
		//Set coutner
		view.setBigUint64(8, BigInt(keyId));
		//Xor with salt key
		for (let i=0; i<iv.byteLength; ++i)
			//xor
			view.setUint8(i,iv[i]^salt[i]); 
		//return buffer
		return iv;
	}
};


/***/ }),

/***/ "./lib/Receiver.js":
/*!*************************!*\\
  !*** ./lib/Receiver.js ***!
  \\*************************/
/*! exports provided: Receiver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Receiver", function() { return Receiver; });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./lib/Utils.js");
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _EcdsaVerifyKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EcdsaVerifyKey.js */ "./lib/EcdsaVerifyKey.js");
/* harmony import */ var _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AesCm128HmacSha256EncryptionKey.js */ "./lib/AesCm128HmacSha256EncryptionKey.js");





const MaxRatchetAttempts = 5;
const ReplayWindow = 128;
const KeyTimeout = 1000;

class Receiver
{
	constructor(senderId)
	{
		//Check keyId
		_Header_js__WEBPACK_IMPORTED_MODULE_1__["Header"].checkKeyId(senderId);
		
		//Store sender id
		this.senderId = senderId;
		//Last received counter
		this.maxReceivedCounter = -1;
		//Number or ratchets of current key
		this.numKeyRatchets = 0;
		//Create keyring
		this.keyring = [];
		//Pending verified tags
		this.pending = new Map();
		// has failed decryption
		this.keyFailing = false;

		//Scheduled keys
		this.scheduledKeys = new WeakSet ();

		//Function to clear up keys up to given one
		this.schedulePreviousKeysTimeout = (key) =>{
			//If this is the only key
			if (this.keyring.length==1 && this.keyring[0]===key)
				//Do nothing
				return;
			//If has been already scheduled
			if (this.scheduledKeys.has(key))
				//Not do it twice
				return;
			//Add it
			this.scheduledKeys.add(key);
			//Schedule key timeout of previous keys
			setTimeout(()=>{
				//Find key index
				const i = this.keyring.findIndex(k=>k===key);
				//Remove previous keys
				this.keyring = this.keyring.splice(i);
			}, KeyTimeout);
		};
	}
	
	async decrypt(type, ssrcId, header, encryptedFrame, skip)
	{
		let authTag, payload, extrabytes = 0, signature, signed;
		const prevAuthTags = [];
		
		//convert if needed
		if (!(encryptedFrame instanceof Uint8Array))
			encryptedFrame = new Uint8Array (encryptedFrame);

		// Replay attack protection
		if (header.counter < this.maxReceivedCounter && (this.maxReceivedCounter - header.counter) > ReplayWindow) {
			//Error
			throw new Error("Replay check failed, frame counter too old");
		}
		
		//Check if frame contains signature
		if (header.signature)
		{
			//Start from the end
			let end = encryptedFrame.byteLength;
			
			//Get lengths
			const singatureLength = ECDSAVerifyKey.getSignatureLen();
			const authTagLength   = _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type);
			
			//Get signature
			signature = encryptedFrame.subarray(end - singatureLength, end);
			//Move backward
			end -= singatureLength;
			
			//Get number of tags
			const num = encryptedFrame[end--];
			
			//Read all tags
			for (let i=0; i<num; ++i)
			{
				//Get previous tag
				const prevTag = encryptedFrame.subarray(end - authTagLength, end);
				//Move backward
				end -= authTagLength;
				//Add tag to previous tags in hex
				prevAuthTags.push(_Utils_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].toHex(prevTag))
			}
			//Get the extra bytes
			extrabytes = encryptedFrame.byteLength - end;
			
			//Move backward to start oth current frame auth tag
			end -= authTagLength;
			
			//Get singed part
			signed = encryptedFrame.subarray(end, encryptedFrame.byteLength - singatureLength)
		}

		//For each key in key ring
		for (let i=0;i<this.keyring.length;++i)
		{
			//Get key from ring
			const key = this.keyring[i];
			try {
				//Try to decrypt payload
				[payload, authTag] = await key.decrypt(type, header, encryptedFrame, extrabytes, skip);
				//Done
				break;
			} catch(e) {
				
			}
		}

		//If not found yet
		if (!payload)
		{
			//Get last key
			const key = this.keyring[this.keyring.length-1];
			//Try ratchet last key
			for (let i = 0; i < MaxRatchetAttempts; ++i)
			{
				//Ratchet key
				const ratchetKey = await key.ratchet(i);
				try {
					//Try to decrypt payload
					[payload, authTag] = await ratchetKey.decrypt(type, header, encryptedFrame, extrabytes, skip);
					// Set working ratchet as new key
					this.keyring.push(ratchetKey);
					this.schedulePreviousKeysTimeout(ratchetKey);
					//Done
					break;
				} catch(e) {

				}
			}
		}

		//Last check
		if (!payload) {
			//Decryption failed
			if (this.keyFailing)  {
				throw new Error('decryptStillFailing')
			} else {
				this.keyFailing = true;
				throw new Error("decryptFailed");
			}
		}

		//If we are sending part of the frame in clear
		if (skip)
			//Copy skiped payload
			payload.set(encryptedFrame.subarray(0,skip),0);

		//Check if have received anything from this ssrc before
		if (!this.pending.has(ssrcId))
			//Add it
			this.pending.set(ssrcId,new Set());

		//Get pending list
		const pending = this.pending.get(ssrcId);

		//Check if it constains signatures
		if (header.signed)
		{
			//try to verify list
			if (!await this.verifyKey.verify(signed,signature))
				//Error
				throw new Error("Could not verify signature");
			//For each signed tag
			for (const tag in prevAuthTags)
				//Delete from pending to be verified tags
				pending.delete(tag);
		} else {
			//Push this tag to
			pending.add(_Utils_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].toHex(authTag));
		}

		//Set authenticated sender id and frame Id
		payload.senderId = header.keyId;
		payload.frameId  = header.counter;

		// inform that decryption is working after previously failing
		if (this.keyFailing) {
			payload.decryptionRestored = true;
			this.keyFailing = false;
		}

		//Store last received counter
		this.maxReceivedCounter = Math.max(header.counter, this.maxReceivedCounter);

		//Return decrypted payload
		return payload;
	}

	async setVerifyKey(key)
	{
		//Create new singing key
		this.verifyKey = _EcdsaVerifyKey_js__WEBPACK_IMPORTED_MODULE_2__["EcdsaVerifyKey"].create(key);
	}

	async setEncryptionKey(raw)
	{
		//Create new encryption key
		const key = await _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__["AesCm128HmacSha256EncryptionKey"].create(raw);
		//Append to the keyring
		this.keyring.push(key);
		//Restart ratchet count number
		this.numKeyRatchets = 0;
		//Activate
		this.schedulePreviousKeysTimeout(key);
	}
};


/***/ }),

/***/ "./lib/Salts.js":
/*!**********************!*\\
  !*** ./lib/Salts.js ***!
  \\**********************/
/*! exports provided: Salts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Salts", function() { return Salts; });
const textEncoder = new TextEncoder()

const Salts =  {
	"SaltKey"		: textEncoder.encode("SFrameSaltKey"),
	"EncryptionKey"		: textEncoder.encode("SFrameEncryptionKey"),
	"AuthenticationKey"	: textEncoder.encode("SFrameAuthenticationKey"),
	"RatchetKey"		: textEncoder.encode("SFrameRatchetKey")
};


/***/ }),

/***/ "./lib/Sender.js":
/*!***********************!*\\
  !*** ./lib/Sender.js ***!
  \\***********************/
/*! exports provided: Sender */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sender", function() { return Sender; });
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EcdsaSignKey.js */ "./lib/EcdsaSignKey.js");
/* harmony import */ var _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AesCm128HmacSha256EncryptionKey.js */ "./lib/AesCm128HmacSha256EncryptionKey.js");





const SigningFrameInterval = 10;

class Sender
{
	constructor(senderId)
	{
		//Check keyId
		_Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].checkKeyId(senderId);
		
		//The global frame counter
		this.counter = 0;
		
		//Store senderId/keyId
		this.senderId = senderId;
		
		//Pending frames for signing
		this.pending = new Map();
	}
	
	async encrypt(type, ssrcId, payload, skip)
	{
		//Check we have a valid key
		if (!this.key)
			throw Error("Encryption key not set");
		
		//convert if needed
		if (!(payload instanceof Uint8Array))
			payload = new Uint8Array (payload);
		
		//Encure int
		skip = skip ? skip : 0;
		
		//Get counter for frame
		const counter = this.counter++;
		
		//If we don't have the ssrc
		// TODO FIX https://github.com/medooze/sframe/issues/15 and uncomment line below
		// if (!this.pending.has(ssrcId))
		//Create new pending frames array
			this.pending.set(ssrcId,[]);
		
		//Get pending frames for signature
		const pending = this.pending.get(ssrcId);		
		
		//Do we need to sign the frames?
		const signing = this.signingKey && pending.length > SigningFrameInterval;
		
		//Get auth tag len for type
		const authTagLen = _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type);
		
		//Calculae extra bytes
		const extraBytes = signing ? pending.length * _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type) + 1 + _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__["EcdsaSignKey"].getSignatureLen() : 0;
		
		//Generate header
		const header = _Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].generate(signing,this.senderId,counter);
		
		//Encrypt frame
		const [encryptedFrame,authTag] = await this.key.encrypt(type, header, payload, extraBytes, skip);
		
		//If we are sending part of the frame in clear
		if (skip)
			//Copy skiped payload
			encryptedFrame.set(payload.subarray(0,skip),0);
		
		//If we need to sign the frame
		if (signing)
		{
			//Append after auth tag
			let ini = skip + encryptedFrame.byteLength - extraBytes;
			
			//Get tag list view
			const authTags = encryptedFrame.subarray(ini - authTagLen, (pending.length + 1) * authTagLen);
			
			//Add all previous tags 
			for (const previousTag of pending)
			{
				//Append to frame
				encryptedFrame.set(previousTag, ini);
				//Move
				ini += authTagLen;
			}
			
			//Add number of bytes
			encryptedFrame[ini++] = pending.length;
			
			//Create signature with all auth tags (including this frame's one)
			const signature = await this.signingKey.sign(authTags);
			
			//Add signature
			encryptedFrame.set(signature, ini);
			
			//Empty pending list 
			this.pending.set(ssrcId,[]);
			
		//If we can sign
		} else if (this.signingKey) {
			//Append a copy of current tag at the begining
			pending.unshift(authTag.slice());
		}
		
		//Set authenticated sender id and frame Id
		encryptedFrame.senderId = header.keyId;
		encryptedFrame.frameId  = header.counter;
		
		//Done
		return encryptedFrame;
	}
	
	async setSigningKey(key)
	{
		//Create new singing key
		this.signingKey = await _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__["EcdsaSignKey"].create(key);
	}
	
	async setEncryptionKey(key)
	{
		//Create new encryption key
		this.key = await _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].create(key);
	}
	
	async ratchetEncryptionKey()
	{
		//Check we have a valid key
		if (!this.key)
			throw Error("Encryption key not set");
		
		//Rachet the key and store it
		this.key = await this.key.ratchet();
	}
};


/***/ }),

/***/ "./lib/TaskQueue.js":
/*!**************************!*\\
  !*** ./lib/TaskQueue.js ***!
  \\**************************/
/*! exports provided: TaskQueue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskQueue", function() { return TaskQueue; });
class TaskQueue
{
	constructor()
	{
		this.tasks = [];
		this.running = false;
	}
	
	enqueue(promise,callback,error)
	{
		//enqueue task
		this.tasks.push({promise,callback,error});
		//Try run 
		this.run();
	}
	
	async run()
	{
		//If already running 
		if (this.running)
			//Nothing
			return;
		//Running
		this.running = true;
		//Run all pending tasks
		while(this.tasks.length)
		{
			try {
				//Wait for first promise to finish
				const result = await this.tasks[0].promise;
				//Run callback
				this.tasks[0].callback(result); 
			} catch(e) {
				//Run error callback
				this.tasks[0].error(e); 
			}
			//Remove task from queue
			this.tasks.shift();
		}
		//Ended
		this.running = false;
	}
}


/***/ }),

/***/ "./lib/Utils.js":
/*!**********************!*\\
  !*** ./lib/Utils.js ***!
  \\**********************/
/*! exports provided: Utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return Utils; });
const Utils = 
{
	toHex : function(buffer)
	{
		return Array.prototype.map.call(buffer instanceof Uint8Array ? buffer : new Uint8Array (buffer), x =>x.toString(16).padStart(2,"0")).join("");
	},
	fromHex: function(str)
	{
		const bytes = [];
		for (let i=0;i<str.length/2;++i)
			bytes.push(parseInt(str.substring(i*2, (i+1)*2), 16));

		return new Uint8Array(bytes);
	},
	equals : function(a,b)
	{
		if (a.byteLength != b.byteLength) return false;
		for (let i = 0 ; i != a.byteLength ; i++)
			if (a[i] != b[i]) return false;
		return true;
	}
};


/***/ }),

/***/ "./lib/VP8PayloadHeader.js":
/*!*********************************!*\\
  !*** ./lib/VP8PayloadHeader.js ***!
  \\*********************************/
/*! exports provided: VP8PayloadHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VP8PayloadHeader", function() { return VP8PayloadHeader; });

const VP8PayloadHeader = {
	
	parse : function(buffer) 
	{
		//Check size
		if (buffer.byteLength<3)
			//Invalid
			return null;
		
		//Create uint view
		const view = new Uint8Array(buffer);
		
		//Read comon 3 bytes
		//   0 1 2 3 4 5 6 7
                //  +-+-+-+-+-+-+-+-+
                //  |Size0|H| VER |P|
                //  +-+-+-+-+-+-+-+-+
                //  |     Size1     |
                //  +-+-+-+-+-+-+-+-+
                //  |     Size2     |
                //  +-+-+-+-+-+-+-+-+
		const firstPartitionSize	= view[0] >> 5;
		const showFrame			= view[0] >> 4 & 0x01;
		const version			= view[0] >> 1 & 0x07;
		const isKeyFrame		= (view[0] & 0x01) == 0;

		//check if more
		if (isKeyFrame)
		{
			//Check size
			if (buffer.byteLength<10)
				//Invalid
				return null;
			//Get size in le
			const hor = view[7]<<8 | view[6];
			const ver = view[9]<<8 | view[8];
			//Get dimensions and scale
			const width		= hor & 0x3fff;
			const horizontalScale   = hor >> 14;
			const height		= ver & 0x3fff;
			const verticalScale	= ver >> 14;
			//Key frame
			return view.subarray (0,10);
		}
		
		//No key frame
		return view.subarray (0,3);
	}
};

		


/***/ }),

/***/ "./node_modules/lodash/_Symbol.js":
/*!****************************************!*\\
  !*** ./node_modules/lodash/_Symbol.js ***!
  \\****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/** Built-in value references. */
var Symbol = root.Symbol;

module.exports = Symbol;


/***/ }),

/***/ "./node_modules/lodash/_baseGetTag.js":
/*!********************************************!*\\
  !*** ./node_modules/lodash/_baseGetTag.js ***!
  \\********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js"),
    getRawTag = __webpack_require__(/*! ./_getRawTag */ "./node_modules/lodash/_getRawTag.js"),
    objectToString = __webpack_require__(/*! ./_objectToString */ "./node_modules/lodash/_objectToString.js");

/** \`Object#toString\` result references. */
var nullTag = '[object Null]',
    undefinedTag = '[object Undefined]';

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * The base implementation of \`getTag\` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the \`toStringTag\`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

module.exports = baseGetTag;


/***/ }),

/***/ "./node_modules/lodash/_baseTrim.js":
/*!******************************************!*\\
  !*** ./node_modules/lodash/_baseTrim.js ***!
  \\******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var trimmedEndIndex = __webpack_require__(/*! ./_trimmedEndIndex */ "./node_modules/lodash/_trimmedEndIndex.js");

/** Used to match leading whitespace. */
var reTrimStart = /^\\s+/;

/**
 * The base implementation of \`_.trim\`.
 *
 * @private
 * @param {string} string The string to trim.
 * @returns {string} Returns the trimmed string.
 */
function baseTrim(string) {
  return string
    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')
    : string;
}

module.exports = baseTrim;


/***/ }),

/***/ "./node_modules/lodash/_freeGlobal.js":
/*!********************************************!*\\
  !*** ./node_modules/lodash/_freeGlobal.js ***!
  \\********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable \`global\` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

module.exports = freeGlobal;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/lodash/_getRawTag.js":
/*!*******************************************!*\\
  !*** ./node_modules/lodash/_getRawTag.js ***!
  \\*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [\`toStringTag\`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * A specialized version of \`baseGetTag\` which ignores \`Symbol.toStringTag\` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw \`toStringTag\`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

module.exports = getRawTag;


/***/ }),

/***/ "./node_modules/lodash/_objectToString.js":
/*!************************************************!*\\
  !*** ./node_modules/lodash/_objectToString.js ***!
  \\************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [\`toStringTag\`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/**
 * Converts \`value\` to a string using \`Object.prototype.toString\`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

module.exports = objectToString;


/***/ }),

/***/ "./node_modules/lodash/_root.js":
/*!**************************************!*\\
  !*** ./node_modules/lodash/_root.js ***!
  \\**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ "./node_modules/lodash/_freeGlobal.js");

/** Detect free variable \`self\`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

module.exports = root;


/***/ }),

/***/ "./node_modules/lodash/_trimmedEndIndex.js":
/*!*************************************************!*\\
  !*** ./node_modules/lodash/_trimmedEndIndex.js ***!
  \\*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Used to match a single whitespace character. */
var reWhitespace = /\\s/;

/**
 * Used by \`_.trim\` and \`_.trimEnd\` to get the index of the last non-whitespace
 * character of \`string\`.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {number} Returns the index of the last non-whitespace character.
 */
function trimmedEndIndex(string) {
  var index = string.length;

  while (index-- && reWhitespace.test(string.charAt(index))) {}
  return index;
}

module.exports = trimmedEndIndex;


/***/ }),

/***/ "./node_modules/lodash/debounce.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/debounce.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    now = __webpack_require__(/*! ./now */ "./node_modules/lodash/now.js"),
    toNumber = __webpack_require__(/*! ./toNumber */ "./node_modules/lodash/toNumber.js");

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/* Built-in method references for those with the same name as other \`lodash\` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Creates a debounced function that delays invoking \`func\` until after \`wait\`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a \`cancel\` method to cancel
 * delayed \`func\` invocations and a \`flush\` method to immediately invoke them.
 * Provide \`options\` to indicate whether \`func\` should be invoked on the
 * leading and/or trailing edge of the \`wait\` timeout. The \`func\` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last \`func\`
 * invocation.
 *
 * **Note:** If \`leading\` and \`trailing\` options are \`true\`, \`func\` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the \`wait\` timeout.
 *
 * If \`wait\` is \`0\` and \`leading\` is \`false\`, \`func\` invocation is deferred
 * until to the next tick, similar to \`setTimeout\` with a timeout of \`0\`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between \`_.debounce\` and \`_.throttle\`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time \`func\` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke \`sendMail\` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure \`batchLog\` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any \`maxWait\` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        timeWaiting = wait - timeSinceLastCall;

    return maxing
      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
      : timeWaiting;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the \`maxWait\` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have \`lastArgs\` which means \`func\` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        clearTimeout(timerId);
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

module.exports = debounce;


/***/ }),

/***/ "./node_modules/lodash/isObject.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/isObject.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Checks if \`value\` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of \`Object\`. (e.g. arrays, functions, objects, regexes, \`new Number(0)\`, and \`new String('')\`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is an object, else \`false\`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

module.exports = isObject;


/***/ }),

/***/ "./node_modules/lodash/isObjectLike.js":
/*!*********************************************!*\\
  !*** ./node_modules/lodash/isObjectLike.js ***!
  \\*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Checks if \`value\` is object-like. A value is object-like if it's not \`null\`
 * and has a \`typeof\` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is object-like, else \`false\`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

module.exports = isObjectLike;


/***/ }),

/***/ "./node_modules/lodash/isSymbol.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/isSymbol.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ "./node_modules/lodash/_baseGetTag.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/** \`Object#toString\` result references. */
var symbolTag = '[object Symbol]';

/**
 * Checks if \`value\` is classified as a \`Symbol\` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is a symbol, else \`false\`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && baseGetTag(value) == symbolTag);
}

module.exports = isSymbol;


/***/ }),

/***/ "./node_modules/lodash/now.js":
/*!************************************!*\\
  !*** ./node_modules/lodash/now.js ***!
  \\************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

module.exports = now;


/***/ }),

/***/ "./node_modules/lodash/toNumber.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/toNumber.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseTrim = __webpack_require__(/*! ./_baseTrim */ "./node_modules/lodash/_baseTrim.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isSymbol = __webpack_require__(/*! ./isSymbol */ "./node_modules/lodash/isSymbol.js");

/** Used as references for various \`Number\` constants. */
var NAN = 0 / 0;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on \`root\`. */
var freeParseInt = parseInt;

/**
 * Converts \`value\` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = baseTrim(value);
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = toNumber;


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\\
  !*** (webpack)/buildin/global.js ***!
  \\***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ })

/******/ });
`,"Worker",void 0,void 0)}},"./index.js":function(rt,it,ot){ot.r(it);var st=ot("./lib/Utils.js");ot.d(it,"Utils",function(){return st.Utils});var at=ot("./Client.js");ot.d(it,"SFrame",function(){return at.SFrame})},"./lib/Utils.js":function(rt,it,ot){ot.r(it),ot.d(it,"Utils",function(){return st});const st={toHex:function(at){return Array.prototype.map.call(at instanceof Uint8Array?at:new Uint8Array(at),ct=>ct.toString(16).padStart(2,"0")).join("")},fromHex:function(at){const ct=[];for(let lt=0;lt<at.length/2;++lt)ct.push(parseInt(at.substring(lt*2,(lt+1)*2),16));return new Uint8Array(ct)},equals:function(at,ct){if(at.byteLength!=ct.byteLength)return!1;for(let lt=0;lt!=at.byteLength;lt++)if(at[lt]!=ct[lt])return!1;return!0}}},"./node_modules/worker-loader/dist/runtime/inline.js":function(rt,it,ot){rt.exports=function(st,at,ct,lt){var dt=self||window;try{try{var ut;try{ut=new dt.Blob([st])}catch{var ft=dt.BlobBuilder||dt.WebKitBlobBuilder||dt.MozBlobBuilder||dt.MSBlobBuilder;ut=new ft,ut.append(st),ut=ut.getBlob()}var pt=dt.URL||dt.webkitURL,bt=pt.createObjectURL(ut),Tt=new dt[at](bt,ct);return pt.revokeObjectURL(bt),Tt}catch{return new dt[at]("data:application/javascript,".concat(encodeURIComponent(st)),ct)}}catch{if(!lt)throw Error("Inline worker is not supported");return new dt[at](lt,ct)}}}})})}).call(this,et(0))},function(_e,tt,et){const nt=et(6),rt=et(301),it=et(71)(),ot=et(766),st=et(28);let at=function(){function ct(dt,ut){ut===void 0&&(ut={}),this._session=dt,this.PeerConnection=ut.PeerConnection||it,this._subscriberCreateQueue=new ot,this._originalSendMessages={},this._tracks=[],this._subscriberPcs={},this._sendMessage=()=>{},nt(this)}var lt=ct.prototype;return lt.parseOptions=function(ut){return Object.assign({},ut,{removeUnusedCodecs:!0,sendMessage:(ft,pt)=>this.trigger("sendMessage",ft,pt)})},lt.addTrackAddedListener=function(){this._peerConnection&&this._peerConnection.on("trackAdded",ut=>{const ft=ut.track;this._tracks.includes(ft.id)||(this._subscriberPcs[this._subscriberPcToAdd._id].push(ft.id),this._tracks.push(ft.id),this._subscriberPcToAdd._onTrackAdded(ut))})},lt.getPeerConnection=function(ut,ft){if(this._subscriberPcToAdd=ft,this._sendMessage=ut.sendMessage,this._originalSendMessages[ft._id]=this._sendMessage,this._peerConnection)this._peerConnection.addOptions(ut);else{this._firstSubscriberPc=ft._id,this.on("sendMessage",(bt,Tt)=>{this._sendMessage(bt,Tt)});const pt=this.parseOptions(ut);this._peerConnection=new this.PeerConnection(pt),this.addTrackAddedListener()}return this._subscriberPcs[ft._id]=[],this._peerConnection},lt.removeMessageSender=function(ut){delete this._originalSendMessages[ut];const ft=Object.values(this._originalSendMessages);this._sendMessage=ft[ft.length-1]||function(){}},lt.removeSubscriber=function(ut,ft){this.removeMessageSender(ut),this._peerConnection.stopTransceivers(ft)},lt.removeFromSinglePeerConnection=function(ut){if(this._firstSubscriberPc===ut)this._peerConnection.iceRestart(),this._peerConnection.generateOfferAndSend();else{const ft=pt=>{this.cachedSdp=st.updateSDPWithNewOffer(this.cachedSdp,pt.sdp);const bt=st.createSDP(this.cachedSdp.headers,this.cachedSdp.trackSections);this._peerConnection.processMessage("answer",{content:{sdp:bt}})};this._peerConnection.generateOfferAndAnswer(ft)}delete this._subscriberPcs[ut],Object.keys(this._subscriberPcs).length||(this._peerConnection.disconnect(),this._peerConnection=null)},lt.removeTrack=function(ut,ft){rt(this._tracks,ut.id),rt(this._subscriberPcs[ft]||[],ut.id)},lt.destroy=function(){this._subscriberPcToAdd=null,this._subscriberPcs=null,this._session=null,this._tracks=null,this._peerConnection&&(this._peerConnection.disconnect(),this._peerConnection=null)},lt.addSubscriber=function(ut){this._subscriberCreateQueue.add(ut)},lt.subscriberComplete=function(){this._subscriberCreateQueue.next()},lt.cacheOfferAnswer=function(ut){this.cachedSdp=st.parseSDP(ut)},ct}();_e.exports=at},function(_e,tt,et){let nt=function(){function rt(){this.queue=[],this.isAddingSubscriber=!1}var it=rt.prototype;return it.add=function(st){this.isAddingSubscriber?this.queue.push(st):(this.isAddingSubscriber=!0,st())},it.next=function(){const st=this.queue.shift();st?st():this.isAddingSubscriber=!1},rt}();_e.exports=nt},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Session||et(320)(),ot=rt.sessionObjects||et(21);return function(at,ct,lt){ct==null&&(ct=at,at=null),Array.isArray(ct)&&ct.length===1&&(ct=ct[0]);let dt=ot.sessions.get(ct);return dt||(dt=new it(at,ct,lt),ot.sessions.add(dt)),dt}}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(769),st=et(273),at=et(2),ct=et(7),lt=et(10),dt=et(13)(),ut=et(28),ft=et(72),pt=et(143)(typeof window!==void 0?window:commonjsGlobal);function bt(ht){return st(ot(ht,["AV1X","AV1","VP9","rtx","red","ulpfec","H265","X-H264UC","x-ulpfecuc"]))}const Tt=function(){var ht=(0,it.default)(rt.default.mark(function gt(){var vt,Ct,It,Zt,Wt,kt,Nt;return rt.default.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:if(!(typeof window>"u")){Mt.next=2;break}return Mt.abrupt("return",{videoEncoders:[],videoDecoders:[]});case 2:if(vt=pt.RTCPeerConnection,!(window.RTCRtpSender&&"getCapabilities"in window.RTCRtpSender)){Mt.next=7;break}return Ct=window.RTCRtpSender.getCapabilities("video").codecs.map(tn=>tn.mimeType||tn.name).map(tn=>tn.replace("video/","")),Ct=bt(Ct),Mt.abrupt("return",{videoEncoders:Ct,videoDecoders:Ct});case 7:if(!(at.name==="Chrome"&&!("captureStream"in window.HTMLCanvasElement.prototype))){Mt.next=9;break}return Mt.abrupt("return",{videoEncoders:["VP8"],videoDecoders:["VP8"]});case 9:if(!at.isLegacyEdge){Mt.next=11;break}return Mt.abrupt("return",{videoEncoders:["H264","VP8"],videoDecoders:["H264","VP8"]});case 11:return It=window.document.createElement("canvas"),It.getContext("2d"),Zt=It.captureStream(),Mt.prev=14,kt={iceServers:[]},ft()&&(kt.sdpSemantics="plan-b"),Wt=new vt(kt),Wt.addTrack?Wt.addTrack(Zt.getVideoTracks()[0],Zt):Wt.addStream&&Wt.addStream(Zt),Mt.next=21,Wt.createOffer();case 21:return Nt=Mt.sent,Ct=ut.getCodecs(Nt.sdp,"video")||[],Ct=bt(Ct),Mt.abrupt("return",{videoEncoders:Ct,videoDecoders:Ct});case 27:throw Mt.prev=27,Mt.t0=Mt.catch(14),dt(ct.UNABLE_TO_ACCESS_MEDIA_ENGINE,new Error("OT.getSupportedCodecs was not able to get the list of supported codecs"),lt.UNABLE_TO_ACCESS_MEDIA_ENGINE);case 30:return Mt.prev=30,Wt.close(),Mt.finish(30);case 33:case"end":return Mt.stop()}},gt,null,[[14,27,30,33]])}));return function(){return ht.apply(this,arguments)}}();_e.exports=Tt},function(_e,tt,et){var nt=et(770),rt=et(237),it=et(87),ot=et(131),st=it(function(at,ct){return ot(at)?nt(at,rt(ct,1,ot,!0)):[]});_e.exports=st},function(_e,tt,et){var nt=et(92),rt=et(93),it=et(130),ot=et(33),st=et(66),at=et(94),ct=200;function lt(dt,ut,ft,pt){var bt=-1,Tt=rt,ht=!0,gt=dt.length,vt=[],Ct=ut.length;if(!gt)return vt;ft&&(ut=ot(ut,st(ft))),pt?(Tt=it,ht=!1):ut.length>=ct&&(Tt=at,ht=!1,ut=new nt(ut));e:for(;++bt<gt;){var It=dt[bt],Zt=ft==null?It:ft(It);if(It=pt||It!==0?It:0,ht&&Zt===Zt){for(var Wt=Ct;Wt--;)if(ut[Wt]===Zt)continue e;vt.push(It)}else Tt(ut,Zt,pt)||vt.push(It)}return vt}_e.exports=lt},function(_e,tt,et){const nt=et(316),rt=nt.isSupported;_e.exports=rt},function(_e,tt,et){const nt=et(110);_e.exports=nt},function(_e,tt,et){const nt=et(24)(),rt=nt.getInputMediaDevices;_e.exports=function(ot){rt().then(st=>ot(void 0,st),ot)}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.deviceHelpers||et(24)(),at=st.hasAudioOutputApiSupport,ct=st.hasDevice,lt=ot.getAudioOutputDevices||et(332),dt=ot.updateSubscribersSinkId||et(334),ut=et(13)(),ft=et(7);return function(){var bt=(0,it.default)(rt.default.mark(function Tt(ht){var gt,vt;return rt.default.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:if(at()){It.next=2;break}throw ut(ft.UNSUPPORTED_BROWSER,new Error("setAudioOutputDevice is not supported in your browser."));case 2:return It.next=4,lt();case 4:if(gt=It.sent,vt=ct(gt,ht),vt){It.next=8;break}throw ut(ft.INVALID_AUDIO_OUTPUT_SOURCE,new Error("The requested device is not valid."));case 8:return It.prev=8,It.next=11,dt(ht);case 11:It.next=16;break;case 13:throw It.prev=13,It.t0=It.catch(8),ut(ft.REQUESTED_DEVICE_PERMISSION_DENIED,new Error("No permission to use the requested device."));case 16:case"end":return It.stop()}},Tt,null,[[8,13]])}));return function(ht){return bt.apply(this,arguments)}}()}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(776)(),st=et(24)(),at=st.hasAudioOutputApiSupport,ct=st.getNativeMediaDevices;_e.exports=()=>{if(at()){const lt=ct();let dt=!1;lt.addEventListener("devicechange",(0,it.default)(rt.default.mark(function ut(){return rt.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(!dt){pt.next=2;break}return pt.abrupt("return");case 2:return dt=!0,pt.next=5,ot();case 5:dt=!1;case 6:case"end":return pt.stop()}},ut)})))}}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.deviceHelpers||et(24)(),at=st.getAudioOutputMediaDevices,ct=st.getDefaultAudioOutputDeviceId,lt=st.hasDevice,dt=ot.currentAudioOutputDevice||et(106),ut=dt.getCurrentAudioOutputDeviceId,ft=dt.setCurrentAudioOutputDeviceId,pt=ot.updateSubscribersSinkId||et(334),bt=ot.logging||et(1)("currentAudioOutputDevice");return function(){var ht=(0,it.default)(rt.default.mark(function gt(){var vt,Ct,It;return rt.default.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return Wt.next=2,at();case 2:if(vt=Wt.sent,vt.length!==0){Wt.next=6;break}return ft(""),Wt.abrupt("return");case 6:if(Ct=lt(vt,ut()),!Ct){Wt.next=9;break}return Wt.abrupt("return");case 9:return It=ct(vt),ft(It),Wt.prev=11,Wt.next=14,pt(It);case 14:Wt.next=19;break;case 16:Wt.prev=16,Wt.t0=Wt.catch(11),bt.debug("Failed to set the default audio output device.",Wt.t0);case 19:case"end":return Wt.stop()}},gt,null,[[11,16]])}));return function(){return ht.apply(this,arguments)}}()}}])})})(opentok);const OT$1=getDefaultExportFromCjs(opentokExports),apiKey="45828062",useOpentokSession=()=>{const[_e,tt]=reactExports.useState(),[et,nt]=reactExports.useState(""),[rt,it]=reactExports.useState("");return reactExports.useEffect(()=>{let ot;const st=new AbortController;return getOpentokCredentials(1,st.signal).then(ct=>{console.log({credentials:ct});const{openTokSessionId:lt,openTokAccessToken:dt}=ct;console.log("session component is mounted"),ot=OT$1.initSession(apiKey,lt),ot.connect(dt,handleError);const ut=createSessionListenersMap();ot.on({...ut,"signal:therapist":ft=>{if(!ot)return;const pt=ft.data,bt=ft.from===ot.connection?"You have emitted a signal":`You have received a signal ${pt?`from ${pt}`:""}`;nt(bt)}}),tt(ot)}).catch(()=>it("Error getting opentok credentials")),()=>{st.abort(),ot==null||ot.off(),ot==null||ot.disconnect(),console.log("session disconnected")}},[]),{opentokSession:_e,signalText:et,error:rt}},Call=({userId:_e,sendSignal:tt})=>{const et=useLocation(),{videoDeviceId:nt,microphoneDeviceId:rt}=et.state||{},{opentokSession:it,signalText:ot,error:st}=useOpentokSession();console.log({videoDeviceId:nt,microphoneDeviceId:rt});const at=reactExports.useRef(null);if(console.log("session",it),reactExports.useEffect(()=>it?((async()=>{try{await addMember(_e)}catch(dt){console.error(dt)}})(),it.on({}),()=>{var dt;console.log("unmounting component"),at.current&&((dt=at.current)==null||dt.remove())}):void 0,[it]),st)return jsxRuntimeExports.jsx("div",{children:st});if(!it)return jsxRuntimeExports.jsxs("div",{id:"videos",children:[jsxRuntimeExports.jsx("div",{id:"subscriber"}),jsxRuntimeExports.jsx("div",{id:"publisher"})]});const ct=tt&&it;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"videos",children:[jsxRuntimeExports.jsx(Publisher,{session:it,videoSource:nt,audioSource:rt}),jsxRuntimeExports.jsx(Subscriber,{session:it})]}),ot&&jsxRuntimeExports.jsx("div",{style:{marginTop:"10px"},children:ot}),ct&&jsxRuntimeExports.jsx("button",{onClick:()=>{tt(it)},children:"Emit Signal"})]})},Member=({userId:_e})=>jsxRuntimeExports.jsx(Call,{userId:_e}),Therapist=({userId:_e})=>{const tt=et=>{et.signal({data:_e,type:"therapist"},handleError)};return jsxRuntimeExports.jsx(Call,{userId:_e,sendSignal:tt})},deviceSelect="",DeviceSelect=({label:_e,devices:tt,updateDeviceId:et})=>{const[nt,rt]=reactExports.useState(tt[0].deviceId),it=tt.map(({deviceId:ot,label:st})=>jsxRuntimeExports.jsx("option",{value:ot,children:st},ot));return jsxRuntimeExports.jsxs("div",{className:"device-select",children:[jsxRuntimeExports.jsx("label",{children:_e}),jsxRuntimeExports.jsx("select",{value:nt,onChange:ot=>{const st=ot.target.value;rt(st),et(st)},children:it})]})},useDevices=()=>{const[_e,tt]=reactExports.useState([]),[et,nt]=reactExports.useState([]),[rt,it]=reactExports.useState([]),[ot,st]=reactExports.useState();return reactExports.useEffect(()=>{var at;if(!((at=navigator.mediaDevices)!=null&&at.enumerateDevices)){const ct="enumerateDevices() not supported in this browser.";st(ct),console.log(ct);return}navigator.mediaDevices.enumerateDevices().then(ct=>{const lt=[],dt=[],ut=[];ct.forEach(ft=>{switch(ft.kind){case"audioinput":ut.push(ft);break;case"audiooutput":dt.push(ft);break;case"videoinput":lt.push(ft)}}),tt(lt),nt(dt),it(ut)}).catch(ct=>{console.error(`${ct.name}: ${ct.message}`)})},[]),{videoDevices:_e,speakerDevices:et,microphoneDevices:rt,error:ot}},devices="";class InputsSelect extends s{static get properties(){return{devices:{type:Array,state:!0},audioLabel:{attribute:"audio-label"},videoLabel:{attribute:"video-label"},buttonText:{attribute:"button-text"}}}constructor(){super(),this.devices=[],this.audioLabel="Audio Source:",this.videoLabel="Video Source:",this.buttonText="Publish",this.disabled=!0}connectedCallback(){super.connectedCallback(),window.OT?(this.disabled=!0,OT.getUserMedia().then(tt=>{OT.getDevices((et,nt)=>{if(et){alert(`getDevices error: ${et.message}`);return}this.devices=nt,console.log("this.devices: ",this.devices),this.disabled=!1}),tt.getTracks().forEach(et=>et.stop())})):console.error("Please load Vonage Video library.")}__filterDevices(tt){return this.devices.filter(et=>et.kind===tt)}__inputsSelected(){var et,nt;const tt={detail:{audioSource:(et=this.renderRoot)==null?void 0:et.querySelector("#audio-source-select").value,videoSource:(nt=this.renderRoot)==null?void 0:nt.querySelector("#video-source-select").value},bubbles:!0,composed:!0};this.dispatchEvent(new CustomEvent("inputsSelected",tt))}render(){return x$1`
      <form part="form">
        <label for="audio-source-select" part="label audio">${this.audioLabel}</label>
        <select id="audio-source-select" part="select audio">
          ${this.__filterDevices("audioInput").map((tt,et)=>(et+=1,x$1`<option value="${tt.deviceId}" part="option audio">${tt.label||tt.kind+et}</option>`))}
        </select><br/>
        <label for="video-source-select" part="label video">${this.videoLabel}</label>
        <select id="video-source-select" part="select video">
          ${this.__filterDevices("videoInput").map((tt,et)=>(et+=1,x$1`<option value="${tt.deviceId}" part="option video">${tt.label||tt.kind+et}</option>`))}
        </select>
        <button id="inputs-btn" type="button" @click="${this.__inputsSelected}" ?disabled=${this.disabled} part="button">${this.buttonText}</button>
      </form>
    `}}window.customElements.define("inputs-select",InputsSelect);const Lobby=({linkTo:_e})=>{const{videoDevices:tt,microphoneDevices:et}=useDevices(),[nt,rt]=reactExports.useState(),[it,ot]=reactExports.useState(),{opentokSession:st,error:at}=useOpentokSession();reactExports.useEffect(()=>{!tt.length||!et.length||(rt(tt[0].deviceId),ot(et[0].deviceId))},[tt,et]);const ct=!!nt&&!!it;return at?jsxRuntimeExports.jsx("div",{children:"There was an error connecting to the session. Please try again later."}):(console.log("allDevicesAvailable",ct),!st||!ct?jsxRuntimeExports.jsx("div",{id:"publisher"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx(Publisher,{session:st,publishToSession:!1,audioSource:it,videoSource:nt,style:{position:"unset"}}),jsxRuntimeExports.jsxs("div",{id:"devices",children:[tt.length>0&&jsxRuntimeExports.jsx(DeviceSelect,{label:"Pick your video input",devices:tt,updateDeviceId:rt}),et.length>0&&jsxRuntimeExports.jsx(DeviceSelect,{label:"Pick your audio input",devices:et,updateDeviceId:ot})]}),jsxRuntimeExports.jsx(Link$2,{to:`/opentok-react/${_e}`,state:{videoDeviceId:nt,microphoneDeviceId:it},children:jsxRuntimeExports.jsx("button",{children:`Go to ${_e}`})})]})}))},common={black:"#000",white:"#fff"},common$1=common,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function isPlainObject(_e){return _e!==null&&typeof _e=="object"&&_e.constructor===Object}function deepClone(_e){if(!isPlainObject(_e))return _e;const tt={};return Object.keys(_e).forEach(et=>{tt[et]=deepClone(_e[et])}),tt}function deepmerge(_e,tt,et={clone:!0}){const nt=et.clone?{..._e}:_e;return isPlainObject(_e)&&isPlainObject(tt)&&Object.keys(tt).forEach(rt=>{rt!=="__proto__"&&(isPlainObject(tt[rt])&&rt in _e&&isPlainObject(_e[rt])?nt[rt]=deepmerge(_e[rt],tt[rt],et):et.clone?nt[rt]=isPlainObject(tt[rt])?deepClone(tt[rt]):tt[rt]:nt[rt]=tt[rt])}),nt}function formatMuiErrorMessage(_e){let tt="https://mui.com/production-error/?code="+_e;for(let et=1;et<arguments.length;et+=1)tt+="&args[]="+encodeURIComponent(arguments[et]);return"Minified MUI error #"+_e+"; visit "+tt+" for the full message."}var reactIsExports$1={},reactIs$2={get exports(){return reactIsExports$1},set exports(_e){reactIsExports$1=_e}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v$1(_e){if(typeof _e=="object"&&_e!==null){var tt=_e.$$typeof;switch(tt){case b$1:switch(_e=_e.type,_e){case d$1:case f$1:case e$1:case m$1:case n$1:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$1:case h$1:case l$1:case q$1:case p$1:case g$1:return _e;default:return tt}}case c$1:return tt}}}reactIs_production_min$1.ContextConsumer=h$1;reactIs_production_min$1.ContextProvider=g$1;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$1;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$1;reactIs_production_min$1.Memo=p$1;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$1;reactIs_production_min$1.StrictMode=e$1;reactIs_production_min$1.Suspense=m$1;reactIs_production_min$1.SuspenseList=n$1;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(_e){return v$1(_e)===h$1};reactIs_production_min$1.isContextProvider=function(_e){return v$1(_e)===g$1};reactIs_production_min$1.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function(_e){return v$1(_e)===l$1};reactIs_production_min$1.isFragment=function(_e){return v$1(_e)===d$1};reactIs_production_min$1.isLazy=function(_e){return v$1(_e)===q$1};reactIs_production_min$1.isMemo=function(_e){return v$1(_e)===p$1};reactIs_production_min$1.isPortal=function(_e){return v$1(_e)===c$1};reactIs_production_min$1.isProfiler=function(_e){return v$1(_e)===f$1};reactIs_production_min$1.isStrictMode=function(_e){return v$1(_e)===e$1};reactIs_production_min$1.isSuspense=function(_e){return v$1(_e)===m$1};reactIs_production_min$1.isSuspenseList=function(_e){return v$1(_e)===n$1};reactIs_production_min$1.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d$1||_e===f$1||_e===e$1||_e===m$1||_e===n$1||_e===t$1||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q$1||_e.$$typeof===p$1||_e.$$typeof===g$1||_e.$$typeof===h$1||_e.$$typeof===l$1||_e.$$typeof===u||_e.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$1;(function(_e){_e.exports=reactIs_production_min$1})(reactIs$2);function capitalize(_e){if(typeof _e!="string")throw new Error(formatMuiErrorMessage(7));return _e.charAt(0).toUpperCase()+_e.slice(1)}function createChainedFunction(..._e){return _e.reduce((tt,et)=>et==null?tt:function(...rt){tt.apply(this,rt),et.apply(this,rt)},()=>{})}function debounce(_e,tt=166){let et;function nt(...rt){const it=()=>{_e.apply(this,rt)};clearTimeout(et),et=setTimeout(it,tt)}return nt.clear=()=>{clearTimeout(et)},nt}function deprecatedPropType(_e,tt){return()=>null}function isMuiElement(_e,tt){return reactExports.isValidElement(_e)&&tt.indexOf(_e.type.muiName)!==-1}function ownerDocument(_e){return _e&&_e.ownerDocument||document}function ownerWindow(_e){return ownerDocument(_e).defaultView||window}function requirePropFactory(_e,tt){return()=>null}function setRef(_e,tt){typeof _e=="function"?_e(tt):_e&&(_e.current=tt)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(_e){const[tt,et]=reactExports.useState(_e),nt=_e||tt;return reactExports.useEffect(()=>{tt==null&&(globalId+=1,et(`mui-${globalId}`))},[tt]),nt}const maybeReactUseId=React$1["useId".toString()];function useId(_e){if(maybeReactUseId!==void 0){const tt=maybeReactUseId();return _e??tt}return useGlobalId(_e)}function unsupportedProp(_e,tt,et,nt,rt){return null}function useControlled({controlled:_e,default:tt,name:et,state:nt="value"}){const{current:rt}=reactExports.useRef(_e!==void 0),[it,ot]=reactExports.useState(tt),st=rt?_e:it,at=reactExports.useCallback(ct=>{rt||ot(ct)},[]);return[st,at]}function useEventCallback(_e){const tt=reactExports.useRef(_e);return useEnhancedEffect$1(()=>{tt.current=_e}),reactExports.useCallback((...et)=>(0,tt.current)(...et),[])}function useForkRef(..._e){return reactExports.useMemo(()=>_e.every(tt=>tt==null)?null:tt=>{_e.forEach(et=>{setRef(et,tt)})},_e)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(_e){const{type:tt,tagName:et}=_e;return!!(et==="INPUT"&&inputTypesWhitelist[tt]&&!_e.readOnly||et==="TEXTAREA"&&!_e.readOnly||_e.isContentEditable)}function handleKeyDown(_e){_e.metaKey||_e.altKey||_e.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(_e){_e.addEventListener("keydown",handleKeyDown,!0),_e.addEventListener("mousedown",handlePointerDown,!0),_e.addEventListener("pointerdown",handlePointerDown,!0),_e.addEventListener("touchstart",handlePointerDown,!0),_e.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(_e){const{target:tt}=_e;try{return tt.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(tt)}function useIsFocusVisible(){const _e=reactExports.useCallback(rt=>{rt!=null&&prepare(rt.ownerDocument)},[]),tt=reactExports.useRef(!1);function et(){return tt.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),tt.current=!1,!0):!1}function nt(rt){return isFocusVisible(rt)?(tt.current=!0,!0):!1}return{isFocusVisibleRef:tt,onFocus:nt,onBlur:et,ref:_e}}function getScrollbarSize(_e){const tt=_e.documentElement.clientWidth;return Math.abs(window.innerWidth-tt)}function resolveProps(_e,tt){const et={...tt};return Object.keys(_e).forEach(nt=>{if(nt.toString().match(/^(components|slots)$/))et[nt]={..._e[nt],...et[nt]};else if(nt.toString().match(/^(componentsProps|slotProps)$/)){const rt=_e[nt]||{},it=tt[nt];et[nt]={},!it||!Object.keys(it)?et[nt]=rt:!rt||!Object.keys(rt)?et[nt]=it:(et[nt]={...it},Object.keys(rt).forEach(ot=>{et[nt][ot]=resolveProps(rt[ot],it[ot])}))}else et[nt]===void 0&&(et[nt]=_e[nt])}),et}function composeClasses(_e,tt,et=void 0){const nt={};return Object.keys(_e).forEach(rt=>{nt[rt]=_e[rt].reduce((it,ot)=>{if(ot){const st=tt(ot);st!==""&&it.push(st),et&&et[ot]&&it.push(et[ot])}return it},[]).join(" ")}),nt}const defaultGenerator=_e=>_e,createClassNameGenerator=()=>{let _e=defaultGenerator;return{configure(tt){_e=tt},generate(tt){return _e(tt)},reset(){_e=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(_e,tt,et="Mui"){const nt=globalStateClassesMapping[tt];return nt?`${et}-${nt}`:`${ClassNameGenerator$1.generate(_e)}-${tt}`}function generateUtilityClasses(_e,tt,et="Mui"){const nt={};return tt.forEach(rt=>{nt[rt]=generateUtilityClass(_e,rt,et)}),nt}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(_e,tt){if(_e==null)return{};var et={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(tt.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function memoize$1(_e){var tt=Object.create(null);return function(et){return tt[et]===void 0&&(tt[et]=_e(et)),tt[et]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(_e){return reactPropsRegex.test(_e)||_e.charCodeAt(0)===111&&_e.charCodeAt(1)===110&&_e.charCodeAt(2)<91});function sheetForTag(_e){if(_e.sheet)return _e.sheet;for(var tt=0;tt<document.styleSheets.length;tt++)if(document.styleSheets[tt].ownerNode===_e)return document.styleSheets[tt]}function createStyleElement(_e){var tt=document.createElement("style");return tt.setAttribute("data-emotion",_e.key),_e.nonce!==void 0&&tt.setAttribute("nonce",_e.nonce),tt.appendChild(document.createTextNode("")),tt.setAttribute("data-s",""),tt}var StyleSheet=function(){function _e(et){var nt=this;this._insertTag=function(rt){var it;nt.tags.length===0?nt.insertionPoint?it=nt.insertionPoint.nextSibling:nt.prepend?it=nt.container.firstChild:it=nt.before:it=nt.tags[nt.tags.length-1].nextSibling,nt.container.insertBefore(rt,it),nt.tags.push(rt)},this.isSpeedy=et.speedy===void 0?!0:et.speedy,this.tags=[],this.ctr=0,this.nonce=et.nonce,this.key=et.key,this.container=et.container,this.prepend=et.prepend,this.insertionPoint=et.insertionPoint,this.before=null}var tt=_e.prototype;return tt.hydrate=function(nt){nt.forEach(this._insertTag)},tt.insert=function(nt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var rt=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(rt);try{it.insertRule(nt,it.cssRules.length)}catch{}}else rt.appendChild(document.createTextNode(nt));this.ctr++},tt.flush=function(){this.tags.forEach(function(nt){return nt.parentNode&&nt.parentNode.removeChild(nt)}),this.tags=[],this.ctr=0},_e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(_e,tt){return charat(_e,0)^45?(((tt<<2^charat(_e,0))<<2^charat(_e,1))<<2^charat(_e,2))<<2^charat(_e,3):0}function trim(_e){return _e.trim()}function match(_e,tt){return(_e=tt.exec(_e))?_e[0]:_e}function replace(_e,tt,et){return _e.replace(tt,et)}function indexof(_e,tt){return _e.indexOf(tt)}function charat(_e,tt){return _e.charCodeAt(tt)|0}function substr(_e,tt,et){return _e.slice(tt,et)}function strlen(_e){return _e.length}function sizeof(_e){return _e.length}function append(_e,tt){return tt.push(_e),_e}function combine(_e,tt){return _e.map(tt).join("")}var line=1,column=1,length$1=0,position=0,character=0,characters="";function node(_e,tt,et,nt,rt,it,ot){return{value:_e,root:tt,parent:et,type:nt,props:rt,children:it,line,column,length:ot,return:""}}function copy(_e,tt){return assign(node("",null,null,"",null,null,0),_e,{length:-_e.length},tt)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$1?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(_e,tt){return substr(characters,_e,tt)}function token(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_e){return line=column=1,length$1=strlen(characters=_e),position=0,[]}function dealloc(_e){return characters="",_e}function delimit(_e){return trim(slice(position-1,delimiter(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace(_e){for(;(character=peek())&&character<33;)next();return token(_e)>2||token(character)>3?"":" "}function escaping(_e,tt){for(;--tt&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(_e,caret()+(tt<6&&peek()==32&&next()==32))}function delimiter(_e){for(;next();)switch(character){case _e:return position;case 34:case 39:_e!==34&&_e!==39&&delimiter(character);break;case 40:_e===41&&delimiter(_e);break;case 92:next();break}return position}function commenter(_e,tt){for(;next()&&_e+character!==47+10;)if(_e+character===42+42&&peek()===47)break;return"/*"+slice(tt,position-1)+"*"+from(_e===47?_e:next())}function identifier(_e){for(;!token(peek());)next();return slice(_e,position)}function compile(_e){return dealloc(parse("",null,null,null,[""],_e=alloc(_e),0,[0],_e))}function parse(_e,tt,et,nt,rt,it,ot,st,at){for(var ct=0,lt=0,dt=ot,ut=0,ft=0,pt=0,bt=1,Tt=1,ht=1,gt=0,vt="",Ct=rt,It=it,Zt=nt,Wt=vt;Tt;)switch(pt=gt,gt=next()){case 40:if(pt!=108&&charat(Wt,dt-1)==58){indexof(Wt+=replace(delimit(gt),"&","&\f"),"&\f")!=-1&&(ht=-1);break}case 34:case 39:case 91:Wt+=delimit(gt);break;case 9:case 10:case 13:case 32:Wt+=whitespace(pt);break;case 92:Wt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),tt,et),at);break;default:Wt+="/"}break;case 123*bt:st[ct++]=strlen(Wt)*ht;case 125*bt:case 59:case 0:switch(gt){case 0:case 125:Tt=0;case 59+lt:ht==-1&&(Wt=replace(Wt,/\f/g,"")),ft>0&&strlen(Wt)-dt&&append(ft>32?declaration(Wt+";",nt,et,dt-1):declaration(replace(Wt," ","")+";",nt,et,dt-2),at);break;case 59:Wt+=";";default:if(append(Zt=ruleset(Wt,tt,et,ct,lt,rt,st,vt,Ct=[],It=[],dt),it),gt===123)if(lt===0)parse(Wt,tt,Zt,Zt,Ct,it,dt,st,It);else switch(ut===99&&charat(Wt,3)===110?100:ut){case 100:case 108:case 109:case 115:parse(_e,Zt,Zt,nt&&append(ruleset(_e,Zt,Zt,0,0,rt,st,vt,rt,Ct=[],dt),It),rt,It,dt,st,nt?Ct:It);break;default:parse(Wt,Zt,Zt,Zt,[""],It,0,st,It)}}ct=lt=ft=0,bt=ht=1,vt=Wt="",dt=ot;break;case 58:dt=1+strlen(Wt),ft=pt;default:if(bt<1){if(gt==123)--bt;else if(gt==125&&bt++==0&&prev()==125)continue}switch(Wt+=from(gt),gt*bt){case 38:ht=lt>0?1:(Wt+="\f",-1);break;case 44:st[ct++]=(strlen(Wt)-1)*ht,ht=1;break;case 64:peek()===45&&(Wt+=delimit(next())),ut=peek(),lt=dt=strlen(vt=Wt+=identifier(caret())),gt++;break;case 45:pt===45&&strlen(Wt)==2&&(bt=0)}}return it}function ruleset(_e,tt,et,nt,rt,it,ot,st,at,ct,lt){for(var dt=rt-1,ut=rt===0?it:[""],ft=sizeof(ut),pt=0,bt=0,Tt=0;pt<nt;++pt)for(var ht=0,gt=substr(_e,dt+1,dt=abs(bt=ot[pt])),vt=_e;ht<ft;++ht)(vt=trim(bt>0?ut[ht]+" "+gt:replace(gt,/&\f/g,ut[ht])))&&(at[Tt++]=vt);return node(_e,tt,et,rt===0?RULESET:st,at,ct,lt)}function comment(_e,tt,et){return node(_e,tt,et,COMMENT,from(char()),substr(_e,2,-2),0)}function declaration(_e,tt,et,nt){return node(_e,tt,et,DECLARATION,substr(_e,0,nt),substr(_e,nt+1,-1),nt)}function serialize(_e,tt){for(var et="",nt=sizeof(_e),rt=0;rt<nt;rt++)et+=tt(_e[rt],rt,_e,tt)||"";return et}function stringify(_e,tt,et,nt){switch(_e.type){case LAYER:if(_e.children.length)break;case IMPORT:case DECLARATION:return _e.return=_e.return||_e.value;case COMMENT:return"";case KEYFRAMES:return _e.return=_e.value+"{"+serialize(_e.children,nt)+"}";case RULESET:_e.value=_e.props.join(",")}return strlen(et=serialize(_e.children,nt))?_e.return=_e.value+"{"+et+"}":""}function middleware(_e){var tt=sizeof(_e);return function(et,nt,rt,it){for(var ot="",st=0;st<tt;st++)ot+=_e[st](et,nt,rt,it)||"";return ot}}function rulesheet(_e){return function(tt){tt.root||(tt=tt.return)&&_e(tt)}}var identifierWithPointTracking=function _e(tt,et,nt){for(var rt=0,it=0;rt=it,it=peek(),rt===38&&it===12&&(et[nt]=1),!token(it);)next();return slice(tt,position)},toRules=function _e(tt,et){var nt=-1,rt=44;do switch(token(rt)){case 0:rt===38&&peek()===12&&(et[nt]=1),tt[nt]+=identifierWithPointTracking(position-1,et,nt);break;case 2:tt[nt]+=delimit(rt);break;case 4:if(rt===44){tt[++nt]=peek()===58?"&\f":"",et[nt]=tt[nt].length;break}default:tt[nt]+=from(rt)}while(rt=next());return tt},getRules=function _e(tt,et){return dealloc(toRules(alloc(tt),et))},fixedElements=new WeakMap,compat=function _e(tt){if(!(tt.type!=="rule"||!tt.parent||tt.length<1)){for(var et=tt.value,nt=tt.parent,rt=tt.column===nt.column&&tt.line===nt.line;nt.type!=="rule";)if(nt=nt.parent,!nt)return;if(!(tt.props.length===1&&et.charCodeAt(0)!==58&&!fixedElements.get(nt))&&!rt){fixedElements.set(tt,!0);for(var it=[],ot=getRules(et,it),st=nt.props,at=0,ct=0;at<ot.length;at++)for(var lt=0;lt<st.length;lt++,ct++)tt.props[ct]=it[at]?ot[at].replace(/&\f/g,st[lt]):st[lt]+" "+ot[at]}}},removeLabel=function _e(tt){if(tt.type==="decl"){var et=tt.value;et.charCodeAt(0)===108&&et.charCodeAt(2)===98&&(tt.return="",tt.value="")}};function prefix(_e,tt){switch(hash(_e,tt)){case 5103:return WEBKIT+"print-"+_e+_e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+_e+_e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+_e+MOZ+_e+MS+_e+_e;case 6828:case 4268:return WEBKIT+_e+MS+_e+_e;case 6165:return WEBKIT+_e+MS+"flex-"+_e+_e;case 5187:return WEBKIT+_e+replace(_e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+_e;case 5443:return WEBKIT+_e+MS+"flex-item-"+replace(_e,/flex-|-self/,"")+_e;case 4675:return WEBKIT+_e+MS+"flex-line-pack"+replace(_e,/align-content|flex-|-self/,"")+_e;case 5548:return WEBKIT+_e+MS+replace(_e,"shrink","negative")+_e;case 5292:return WEBKIT+_e+MS+replace(_e,"basis","preferred-size")+_e;case 6060:return WEBKIT+"box-"+replace(_e,"-grow","")+WEBKIT+_e+MS+replace(_e,"grow","positive")+_e;case 4554:return WEBKIT+replace(_e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+_e;case 6187:return replace(replace(replace(_e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),_e,"")+_e;case 5495:case 3959:return replace(_e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(_e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+_e+_e;case 4095:case 3583:case 4068:case 2532:return replace(_e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+_e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(_e)-1-tt>6)switch(charat(_e,tt+1)){case 109:if(charat(_e,tt+4)!==45)break;case 102:return replace(_e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(_e,tt+3)==108?"$3":"$2-$3"))+_e;case 115:return~indexof(_e,"stretch")?prefix(replace(_e,"stretch","fill-available"),tt)+_e:_e}break;case 4949:if(charat(_e,tt+1)!==115)break;case 6444:switch(charat(_e,strlen(_e)-3-(~indexof(_e,"!important")&&10))){case 107:return replace(_e,":",":"+WEBKIT)+_e;case 101:return replace(_e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(_e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+_e}break;case 5936:switch(charat(_e,tt+11)){case 114:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb")+_e;case 108:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb-rl")+_e;case 45:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"lr")+_e}return WEBKIT+_e+MS+_e+_e}return _e}var prefixer=function _e(tt,et,nt,rt){if(tt.length>-1&&!tt.return)switch(tt.type){case DECLARATION:tt.return=prefix(tt.value,tt.length);break;case KEYFRAMES:return serialize([copy(tt,{value:replace(tt.value,"@","@"+WEBKIT)})],rt);case RULESET:if(tt.length)return combine(tt.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(tt,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],rt);case"::placeholder":return serialize([copy(tt,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(tt,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(tt,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],rt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function _e(tt){var et=tt.key;if(et==="css"){var nt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(nt,function(bt){var Tt=bt.getAttribute("data-emotion");Tt.indexOf(" ")!==-1&&(document.head.appendChild(bt),bt.setAttribute("data-s",""))})}var rt=tt.stylisPlugins||defaultStylisPlugins,it={},ot,st=[];ot=tt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+et+' "]'),function(bt){for(var Tt=bt.getAttribute("data-emotion").split(" "),ht=1;ht<Tt.length;ht++)it[Tt[ht]]=!0;st.push(bt)});var at,ct=[compat,removeLabel];{var lt,dt=[stringify,rulesheet(function(bt){lt.insert(bt)})],ut=middleware(ct.concat(rt,dt)),ft=function(Tt){return serialize(compile(Tt),ut)};at=function(Tt,ht,gt,vt){lt=gt,ft(Tt?Tt+"{"+ht.styles+"}":ht.styles),vt&&(pt.inserted[ht.name]=!0)}}var pt={key:et,sheet:new StyleSheet({key:et,container:ot,nonce:tt.nonce,speedy:tt.speedy,prepend:tt.prepend,insertionPoint:tt.insertionPoint}),nonce:tt.nonce,inserted:it,registered:{},insert:at};return pt.sheet.hydrate(st),pt},reactIsExports={},reactIs$1={get exports(){return reactIsExports},set exports(_e){reactIsExports=_e}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(_e){if(typeof _e=="object"&&_e!==null){var tt=_e.$$typeof;switch(tt){case c:switch(_e=_e.type,_e){case l:case m:case e:case g:case f:case p:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k:case n:case t:case r$1:case h:return _e;default:return tt}}case d:return tt}}}function A(_e){return z(_e)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(_e){return A(_e)||z(_e)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(_e){return z(_e)===k};reactIs_production_min.isContextProvider=function(_e){return z(_e)===h};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c};reactIs_production_min.isForwardRef=function(_e){return z(_e)===n};reactIs_production_min.isFragment=function(_e){return z(_e)===e};reactIs_production_min.isLazy=function(_e){return z(_e)===t};reactIs_production_min.isMemo=function(_e){return z(_e)===r$1};reactIs_production_min.isPortal=function(_e){return z(_e)===d};reactIs_production_min.isProfiler=function(_e){return z(_e)===g};reactIs_production_min.isStrictMode=function(_e){return z(_e)===f};reactIs_production_min.isSuspense=function(_e){return z(_e)===p};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e||_e===m||_e===g||_e===f||_e===p||_e===q||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t||_e.$$typeof===r$1||_e.$$typeof===h||_e.$$typeof===k||_e.$$typeof===n||_e.$$typeof===w||_e.$$typeof===x||_e.$$typeof===y||_e.$$typeof===v)};reactIs_production_min.typeOf=z;(function(_e){_e.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(_e,tt,et){var nt="";return et.split(" ").forEach(function(rt){_e[rt]!==void 0?tt.push(_e[rt]+";"):nt+=rt+" "}),nt}var registerStyles=function _e(tt,et,nt){var rt=tt.key+"-"+et.name;(nt===!1||isBrowser===!1)&&tt.registered[rt]===void 0&&(tt.registered[rt]=et.styles)},insertStyles=function _e(tt,et,nt){registerStyles(tt,et,nt);var rt=tt.key+"-"+et.name;if(tt.inserted[et.name]===void 0){var it=et;do tt.insert(et===it?"."+rt:"",it,tt.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(_e){for(var tt=0,et,nt=0,rt=_e.length;rt>=4;++nt,rt-=4)et=_e.charCodeAt(nt)&255|(_e.charCodeAt(++nt)&255)<<8|(_e.charCodeAt(++nt)&255)<<16|(_e.charCodeAt(++nt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,tt=(et&65535)*1540483477+((et>>>16)*59797<<16)^(tt&65535)*1540483477+((tt>>>16)*59797<<16);switch(rt){case 3:tt^=(_e.charCodeAt(nt+2)&255)<<16;case 2:tt^=(_e.charCodeAt(nt+1)&255)<<8;case 1:tt^=_e.charCodeAt(nt)&255,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16)}return tt^=tt>>>13,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),((tt^tt>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function _e(tt){return tt.charCodeAt(1)===45},isProcessableValue=function _e(tt){return tt!=null&&typeof tt!="boolean"},processStyleName=memoize$1(function(_e){return isCustomProperty(_e)?_e:_e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function _e(tt,et){switch(tt){case"animation":case"animationName":if(typeof et=="string")return et.replace(animationRegex,function(nt,rt,it){return cursor={name:rt,styles:it,next:cursor},rt})}return unitlessKeys[tt]!==1&&!isCustomProperty(tt)&&typeof et=="number"&&et!==0?et+"px":et},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(_e,tt,et){if(et==null)return"";if(et.__emotion_styles!==void 0)return et;switch(typeof et){case"boolean":return"";case"object":{if(et.anim===1)return cursor={name:et.name,styles:et.styles,next:cursor},et.name;if(et.styles!==void 0){var nt=et.next;if(nt!==void 0)for(;nt!==void 0;)cursor={name:nt.name,styles:nt.styles,next:cursor},nt=nt.next;var rt=et.styles+";";return rt}return createStringFromObject(_e,tt,et)}case"function":{if(_e!==void 0){var it=cursor,ot=et(_e);return cursor=it,handleInterpolation(_e,tt,ot)}break}}if(tt==null)return et;var st=tt[et];return st!==void 0?st:et}function createStringFromObject(_e,tt,et){var nt="";if(Array.isArray(et))for(var rt=0;rt<et.length;rt++)nt+=handleInterpolation(_e,tt,et[rt])+";";else for(var it in et){var ot=et[it];if(typeof ot!="object")tt!=null&&tt[ot]!==void 0?nt+=it+"{"+tt[ot]+"}":isProcessableValue(ot)&&(nt+=processStyleName(it)+":"+processStyleValue(it,ot)+";");else if(Array.isArray(ot)&&typeof ot[0]=="string"&&(tt==null||tt[ot[0]]===void 0))for(var st=0;st<ot.length;st++)isProcessableValue(ot[st])&&(nt+=processStyleName(it)+":"+processStyleValue(it,ot[st])+";");else{var at=handleInterpolation(_e,tt,ot);switch(it){case"animation":case"animationName":{nt+=processStyleName(it)+":"+at+";";break}default:nt+=it+"{"+at+"}"}}}return nt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function _e(tt,et,nt){if(tt.length===1&&typeof tt[0]=="object"&&tt[0]!==null&&tt[0].styles!==void 0)return tt[0];var rt=!0,it="";cursor=void 0;var ot=tt[0];ot==null||ot.raw===void 0?(rt=!1,it+=handleInterpolation(nt,et,ot)):it+=ot[0];for(var st=1;st<tt.length;st++)it+=handleInterpolation(nt,et,tt[st]),rt&&(it+=ot[st]);labelPattern.lastIndex=0;for(var at="",ct;(ct=labelPattern.exec(it))!==null;)at+="-"+ct[1];var lt=murmur2(it)+at;return{name:lt,styles:it,next:cursor}},syncFallback=function _e(tt){return tt()},useInsertionEffect=reactExports.useInsertionEffect?reactExports.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function _e(tt){return reactExports.forwardRef(function(et,nt){var rt=reactExports.useContext(EmotionCacheContext);return tt(et,rt,nt)})},ThemeContext=reactExports.createContext({});function css(){for(var _e=arguments.length,tt=new Array(_e),et=0;et<_e;et++)tt[et]=arguments[et];return serializeStyles(tt)}var keyframes=function _e(){var tt=css.apply(void 0,arguments),et="animation-"+tt.name;return{name:et,styles:"@keyframes "+et+"{"+tt.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function _e(tt){return tt!=="theme"},getDefaultShouldForwardProp=function _e(tt){return typeof tt=="string"&&tt.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function _e(tt,et,nt){var rt;if(et){var it=et.shouldForwardProp;rt=tt.__emotion_forwardProp&&it?function(ot){return tt.__emotion_forwardProp(ot)&&it(ot)}:it}return typeof rt!="function"&&nt&&(rt=tt.__emotion_forwardProp),rt},Insertion=function _e(tt){var et=tt.cache,nt=tt.serialized,rt=tt.isStringTag;return registerStyles(et,nt,rt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,nt,rt)}),null},createStyled$1=function _e(tt,et){var nt=tt.__emotion_real===tt,rt=nt&&tt.__emotion_base||tt,it,ot;et!==void 0&&(it=et.label,ot=et.target);var st=composeShouldForwardProps(tt,et,nt),at=st||getDefaultShouldForwardProp(rt),ct=!at("as");return function(){var lt=arguments,dt=nt&&tt.__emotion_styles!==void 0?tt.__emotion_styles.slice(0):[];if(it!==void 0&&dt.push("label:"+it+";"),lt[0]==null||lt[0].raw===void 0)dt.push.apply(dt,lt);else{dt.push(lt[0][0]);for(var ut=lt.length,ft=1;ft<ut;ft++)dt.push(lt[ft],lt[0][ft])}var pt=withEmotionCache(function(bt,Tt,ht){var gt=ct&&bt.as||rt,vt="",Ct=[],It=bt;if(bt.theme==null){It={};for(var Zt in bt)It[Zt]=bt[Zt];It.theme=reactExports.useContext(ThemeContext)}typeof bt.className=="string"?vt=getRegisteredStyles(Tt.registered,Ct,bt.className):bt.className!=null&&(vt=bt.className+" ");var Wt=serializeStyles(dt.concat(Ct),Tt.registered,It);vt+=Tt.key+"-"+Wt.name,ot!==void 0&&(vt+=" "+ot);var kt=ct&&st===void 0?getDefaultShouldForwardProp(gt):at,Nt={};for(var Lt in bt)ct&&Lt==="as"||kt(Lt)&&(Nt[Lt]=bt[Lt]);return Nt.className=vt,Nt.ref=ht,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Tt,serialized:Wt,isStringTag:typeof gt=="string"}),reactExports.createElement(gt,Nt))});return pt.displayName=it!==void 0?it:"Styled("+(typeof rt=="string"?rt:rt.displayName||rt.name||"Component")+")",pt.defaultProps=tt.defaultProps,pt.__emotion_real=pt,pt.__emotion_base=rt,pt.__emotion_styles=dt,pt.__emotion_forwardProp=st,Object.defineProperty(pt,"toString",{value:function(){return"."+ot}}),pt.withComponent=function(bt,Tt){return _e(bt,_extends({},et,Tt,{shouldForwardProp:composeShouldForwardProps(pt,Tt,!0)})).apply(void 0,dt)},pt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(_e){newStyled[_e]=newStyled(_e)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(_e,tt){return newStyled(_e,tt)}const internal_processStyles=(_e,tt)=>{Array.isArray(_e.__emotion_styles)&&(_e.__emotion_styles=tt(_e.__emotion_styles))},_excluded$p=["values","unit","step"],sortBreakpointsValues=_e=>{const tt=Object.keys(_e).map(et=>({key:et,val:_e[et]}))||[];return tt.sort((et,nt)=>et.val-nt.val),tt.reduce((et,nt)=>_extends({},et,{[nt.key]:nt.val}),{})};function createBreakpoints(_e){const{values:tt={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:et="px",step:nt=5}=_e,rt=_objectWithoutPropertiesLoose(_e,_excluded$p),it=sortBreakpointsValues(tt),ot=Object.keys(it);function st(ut){return`@media (min-width:${typeof tt[ut]=="number"?tt[ut]:ut}${et})`}function at(ut){return`@media (max-width:${(typeof tt[ut]=="number"?tt[ut]:ut)-nt/100}${et})`}function ct(ut,ft){const pt=ot.indexOf(ft);return`@media (min-width:${typeof tt[ut]=="number"?tt[ut]:ut}${et}) and (max-width:${(pt!==-1&&typeof tt[ot[pt]]=="number"?tt[ot[pt]]:ft)-nt/100}${et})`}function lt(ut){return ot.indexOf(ut)+1<ot.length?ct(ut,ot[ot.indexOf(ut)+1]):st(ut)}function dt(ut){const ft=ot.indexOf(ut);return ft===0?st(ot[1]):ft===ot.length-1?at(ot[ft]):ct(ut,ot[ot.indexOf(ut)+1]).replace("@media","@media not all and")}return _extends({keys:ot,values:it,up:st,down:at,between:ct,only:lt,not:dt,unit:et},rt)}const shape={borderRadius:4},shape$1=shape;function merge(_e,tt){return tt?deepmerge(_e,tt,{clone:!1}):_e}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:_e=>`@media (min-width:${values$1[_e]}px)`};function handleBreakpoints(_e,tt,et){const nt=_e.theme||{};if(Array.isArray(tt)){const it=nt.breakpoints||defaultBreakpoints;return tt.reduce((ot,st,at)=>(ot[it.up(it.keys[at])]=et(tt[at]),ot),{})}if(typeof tt=="object"){const it=nt.breakpoints||defaultBreakpoints;return Object.keys(tt).reduce((ot,st)=>{if(Object.keys(it.values||values$1).indexOf(st)!==-1){const at=it.up(st);ot[at]=et(tt[st],st)}else{const at=st;ot[at]=tt[at]}return ot},{})}return et(tt)}function createEmptyBreakpointObject(_e={}){var tt;return((tt=_e.keys)==null?void 0:tt.reduce((nt,rt)=>{const it=_e.up(rt);return nt[it]={},nt},{}))||{}}function removeUnusedBreakpoints(_e,tt){return _e.reduce((et,nt)=>{const rt=et[nt];return(!rt||Object.keys(rt).length===0)&&delete et[nt],et},tt)}function getPath(_e,tt,et=!0){if(!tt||typeof tt!="string")return null;if(_e&&_e.vars&&et){const nt=`vars.${tt}`.split(".").reduce((rt,it)=>rt&&rt[it]?rt[it]:null,_e);if(nt!=null)return nt}return tt.split(".").reduce((nt,rt)=>nt&&nt[rt]!=null?nt[rt]:null,_e)}function getStyleValue(_e,tt,et,nt=et){let rt;return typeof _e=="function"?rt=_e(et):Array.isArray(_e)?rt=_e[et]||nt:rt=getPath(_e,et)||nt,tt&&(rt=tt(rt,nt,_e)),rt}function style$1(_e){const{prop:tt,cssProperty:et=_e.prop,themeKey:nt,transform:rt}=_e,it=ot=>{if(ot[tt]==null)return null;const st=ot[tt],at=ot.theme,ct=getPath(at,nt)||{};return handleBreakpoints(ot,st,dt=>{let ut=getStyleValue(ct,rt,dt);return dt===ut&&typeof dt=="string"&&(ut=getStyleValue(ct,rt,`${tt}${dt==="default"?"":capitalize(dt)}`,dt)),et===!1?ut:{[et]:ut}})};return it.propTypes={},it.filterProps=[tt],it}function memoize(_e){const tt={};return et=>(tt[et]===void 0&&(tt[et]=_e(et)),tt[et])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(_e=>{if(_e.length>2)if(aliases[_e])_e=aliases[_e];else return[_e];const[tt,et]=_e.split(""),nt=properties[tt],rt=directions[et]||"";return Array.isArray(rt)?rt.map(it=>nt+it):[nt+rt]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(_e,tt,et,nt){var rt;const it=(rt=getPath(_e,tt,!1))!=null?rt:et;return typeof it=="number"?ot=>typeof ot=="string"?ot:it*ot:Array.isArray(it)?ot=>typeof ot=="string"?ot:it[ot]:typeof it=="function"?it:()=>{}}function createUnarySpacing(_e){return createUnaryUnit(_e,"spacing",8)}function getValue(_e,tt){if(typeof tt=="string"||tt==null)return tt;const et=Math.abs(tt),nt=_e(et);return tt>=0?nt:typeof nt=="number"?-nt:`-${nt}`}function getStyleFromPropValue(_e,tt){return et=>_e.reduce((nt,rt)=>(nt[rt]=getValue(tt,et),nt),{})}function resolveCssProperty(_e,tt,et,nt){if(tt.indexOf(et)===-1)return null;const rt=getCssProperties(et),it=getStyleFromPropValue(rt,nt),ot=_e[et];return handleBreakpoints(_e,ot,it)}function style(_e,tt){const et=createUnarySpacing(_e.theme);return Object.keys(_e).map(nt=>resolveCssProperty(_e,tt,nt,et)).reduce(merge,{})}function margin(_e){return style(_e,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(_e){return style(_e,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(_e=8){if(_e.mui)return _e;const tt=createUnarySpacing({spacing:_e}),et=(...nt)=>(nt.length===0?[1]:nt).map(it=>{const ot=tt(it);return typeof ot=="number"?`${ot}px`:ot}).join(" ");return et.mui=!0,et}function compose(..._e){const tt=_e.reduce((nt,rt)=>(rt.filterProps.forEach(it=>{nt[it]=rt}),nt),{}),et=nt=>Object.keys(nt).reduce((rt,it)=>tt[it]?merge(rt,tt[it](nt)):rt,{});return et.propTypes={},et.filterProps=_e.reduce((nt,rt)=>nt.concat(rt.filterProps),[]),et}function borderTransform(_e){return typeof _e!="number"?_e:`${_e}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=_e=>{if(_e.borderRadius!==void 0&&_e.borderRadius!==null){const tt=createUnaryUnit(_e.theme,"shape.borderRadius",4),et=nt=>({borderRadius:getValue(tt,nt)});return handleBreakpoints(_e,_e.borderRadius,et)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=_e=>{if(_e.gap!==void 0&&_e.gap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({gap:getValue(tt,nt)});return handleBreakpoints(_e,_e.gap,et)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=_e=>{if(_e.columnGap!==void 0&&_e.columnGap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({columnGap:getValue(tt,nt)});return handleBreakpoints(_e,_e.columnGap,et)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=_e=>{if(_e.rowGap!==void 0&&_e.rowGap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({rowGap:getValue(tt,nt)});return handleBreakpoints(_e,_e.rowGap,et)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(_e,tt){return tt==="grey"?tt:_e}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(_e){return _e<=1&&_e!==0?`${_e*100}%`:_e}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=_e=>{if(_e.maxWidth!==void 0&&_e.maxWidth!==null){const tt=et=>{var nt,rt,it;return{maxWidth:((nt=_e.theme)==null||(rt=nt.breakpoints)==null||(it=rt.values)==null?void 0:it[et])||values$1[et]||sizingTransform(et)}};return handleBreakpoints(_e,_e.maxWidth,tt)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:_e=>({"@media print":{display:_e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(..._e){const tt=_e.reduce((nt,rt)=>nt.concat(Object.keys(rt)),[]),et=new Set(tt);return _e.every(nt=>et.size===Object.keys(nt).length)}function callIfFn(_e,tt){return typeof _e=="function"?_e(tt):_e}function unstable_createStyleFunctionSx(){function _e(et,nt,rt,it){const ot={[et]:nt,theme:rt},st=it[et];if(!st)return{[et]:nt};const{cssProperty:at=et,themeKey:ct,transform:lt,style:dt}=st;if(nt==null)return null;if(ct==="typography"&&nt==="inherit")return{[et]:nt};const ut=getPath(rt,ct)||{};return dt?dt(ot):handleBreakpoints(ot,nt,pt=>{let bt=getStyleValue(ut,lt,pt);return pt===bt&&typeof pt=="string"&&(bt=getStyleValue(ut,lt,`${et}${pt==="default"?"":capitalize(pt)}`,pt)),at===!1?bt:{[at]:bt}})}function tt(et){var nt;const{sx:rt,theme:it={}}=et||{};if(!rt)return null;const ot=(nt=it.unstable_sxConfig)!=null?nt:defaultSxConfig$1;function st(at){let ct=at;if(typeof at=="function")ct=at(it);else if(typeof at!="object")return at;if(!ct)return null;const lt=createEmptyBreakpointObject(it.breakpoints),dt=Object.keys(lt);let ut=lt;return Object.keys(ct).forEach(ft=>{const pt=callIfFn(ct[ft],it);if(pt!=null)if(typeof pt=="object")if(ot[ft])ut=merge(ut,_e(ft,pt,it,ot));else{const bt=handleBreakpoints({theme:it},pt,Tt=>({[ft]:Tt}));objectsHaveSameKeys(bt,pt)?ut[ft]=tt({sx:pt,theme:it}):ut=merge(ut,bt)}else ut=merge(ut,_e(ft,pt,it,ot))}),removeUnusedBreakpoints(dt,ut)}return Array.isArray(rt)?rt.map(st):st(rt)}return tt}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$o=["breakpoints","palette","spacing","shape"];function createTheme$1(_e={},...tt){const{breakpoints:et={},palette:nt={},spacing:rt,shape:it={}}=_e,ot=_objectWithoutPropertiesLoose(_e,_excluded$o),st=createBreakpoints(et),at=createSpacing(rt);let ct=deepmerge({breakpoints:st,direction:"ltr",components:{},palette:_extends({mode:"light"},nt),spacing:at,shape:_extends({},shape$1,it)},ot);return ct=tt.reduce((lt,dt)=>deepmerge(lt,dt),ct),ct.unstable_sxConfig=_extends({},defaultSxConfig$1,ot==null?void 0:ot.unstable_sxConfig),ct.unstable_sx=function(dt){return styleFunctionSx$1({sx:dt,theme:this})},ct}function isObjectEmpty(_e){return Object.keys(_e).length===0}function useTheme$2(_e=null){const tt=reactExports.useContext(ThemeContext);return!tt||isObjectEmpty(tt)?_e:tt}const systemDefaultTheme$1=createTheme$1();function useTheme$1(_e=systemDefaultTheme$1){return useTheme$2(_e)}const _excluded$n=["sx"],splitProps=_e=>{var tt,et;const nt={systemProps:{},otherProps:{}},rt=(tt=_e==null||(et=_e.theme)==null?void 0:et.unstable_sxConfig)!=null?tt:defaultSxConfig$1;return Object.keys(_e).forEach(it=>{rt[it]?nt.systemProps[it]=_e[it]:nt.otherProps[it]=_e[it]}),nt};function extendSxProp(_e){const{sx:tt}=_e,et=_objectWithoutPropertiesLoose(_e,_excluded$n),{systemProps:nt,otherProps:rt}=splitProps(et);let it;return Array.isArray(tt)?it=[nt,...tt]:typeof tt=="function"?it=(...ot)=>{const st=tt(...ot);return isPlainObject(st)?_extends({},nt,st):nt}:it=_extends({},nt,tt),_extends({},rt,{sx:it})}function r(_e){var tt,et,nt="";if(typeof _e=="string"||typeof _e=="number")nt+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(tt=0;tt<_e.length;tt++)_e[tt]&&(et=r(_e[tt]))&&(nt&&(nt+=" "),nt+=et);else for(tt in _e)_e[tt]&&(nt&&(nt+=" "),nt+=tt);return nt}function clsx(){for(var _e,tt,et=0,nt="";et<arguments.length;)(_e=arguments[et++])&&(tt=r(_e))&&(nt&&(nt+=" "),nt+=tt);return nt}const _excluded$m=["variant"];function isEmpty$1(_e){return _e.length===0}function propsToClassKey(_e){const{variant:tt}=_e,et=_objectWithoutPropertiesLoose(_e,_excluded$m);let nt=tt||"";return Object.keys(et).sort().forEach(rt=>{rt==="color"?nt+=isEmpty$1(nt)?_e[rt]:capitalize(_e[rt]):nt+=`${isEmpty$1(nt)?rt:capitalize(rt)}${capitalize(_e[rt].toString())}`}),nt}const _excluded$l=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty(_e){return Object.keys(_e).length===0}function isStringTag(_e){return typeof _e=="string"&&_e.charCodeAt(0)>96}const getStyleOverrides=(_e,tt)=>tt.components&&tt.components[_e]&&tt.components[_e].styleOverrides?tt.components[_e].styleOverrides:null,getVariantStyles=(_e,tt)=>{let et=[];tt&&tt.components&&tt.components[_e]&&tt.components[_e].variants&&(et=tt.components[_e].variants);const nt={};return et.forEach(rt=>{const it=propsToClassKey(rt.props);nt[it]=rt.style}),nt},variantsResolver=(_e,tt,et,nt)=>{var rt,it;const{ownerState:ot={}}=_e,st=[],at=et==null||(rt=et.components)==null||(it=rt[nt])==null?void 0:it.variants;return at&&at.forEach(ct=>{let lt=!0;Object.keys(ct.props).forEach(dt=>{ot[dt]!==ct.props[dt]&&_e[dt]!==ct.props[dt]&&(lt=!1)}),lt&&st.push(tt[propsToClassKey(ct.props)])}),st};function shouldForwardProp(_e){return _e!=="ownerState"&&_e!=="theme"&&_e!=="sx"&&_e!=="as"}const systemDefaultTheme=createTheme$1();function resolveTheme({defaultTheme:_e,theme:tt,themeId:et}){return isEmpty(tt)?_e:tt[et]||tt}function createStyled(_e={}){const{themeId:tt,defaultTheme:et=systemDefaultTheme,rootShouldForwardProp:nt=shouldForwardProp,slotShouldForwardProp:rt=shouldForwardProp}=_e,it=ot=>styleFunctionSx$1(_extends({},ot,{theme:resolveTheme(_extends({},ot,{defaultTheme:et,themeId:tt}))}));return it.__mui_systemSx=!0,(ot,st={})=>{internal_processStyles(ot,Ct=>Ct.filter(It=>!(It!=null&&It.__mui_systemSx)));const{name:at,slot:ct,skipVariantsResolver:lt,skipSx:dt,overridesResolver:ut}=st,ft=_objectWithoutPropertiesLoose(st,_excluded$l),pt=lt!==void 0?lt:ct&&ct!=="Root"||!1,bt=dt||!1;let Tt,ht=shouldForwardProp;ct==="Root"?ht=nt:ct?ht=rt:isStringTag(ot)&&(ht=void 0);const gt=styled$2(ot,_extends({shouldForwardProp:ht,label:Tt},ft)),vt=(Ct,...It)=>{const Zt=It?It.map(Lt=>typeof Lt=="function"&&Lt.__emotion_real!==Lt?Mt=>Lt(_extends({},Mt,{theme:resolveTheme(_extends({},Mt,{defaultTheme:et,themeId:tt}))})):Lt):[];let Wt=Ct;at&&ut&&Zt.push(Lt=>{const Mt=resolveTheme(_extends({},Lt,{defaultTheme:et,themeId:tt})),tn=getStyleOverrides(at,Mt);if(tn){const $t={};return Object.entries(tn).forEach(([Ht,rn])=>{$t[Ht]=typeof rn=="function"?rn(_extends({},Lt,{theme:Mt})):rn}),ut(Lt,$t)}return null}),at&&!pt&&Zt.push(Lt=>{const Mt=resolveTheme(_extends({},Lt,{defaultTheme:et,themeId:tt}));return variantsResolver(Lt,getVariantStyles(at,Mt),Mt,at)}),bt||Zt.push(it);const kt=Zt.length-It.length;if(Array.isArray(Ct)&&kt>0){const Lt=new Array(kt).fill("");Wt=[...Ct,...Lt],Wt.raw=[...Ct.raw,...Lt]}else typeof Ct=="function"&&Ct.__emotion_real!==Ct&&(Wt=Lt=>Ct(_extends({},Lt,{theme:resolveTheme(_extends({},Lt,{defaultTheme:et,themeId:tt}))})));const Nt=gt(Wt,...Zt);return ot.muiName&&(Nt.muiName=ot.muiName),Nt};return gt.withConfig&&(vt.withConfig=gt.withConfig),vt}}function getThemeProps(_e){const{theme:tt,name:et,props:nt}=_e;return!tt||!tt.components||!tt.components[et]||!tt.components[et].defaultProps?nt:resolveProps(tt.components[et].defaultProps,nt)}function useThemeProps$1({props:_e,name:tt,defaultTheme:et,themeId:nt}){let rt=useTheme$1(et);return nt&&(rt=rt[nt]||rt),getThemeProps({theme:rt,name:tt,props:_e})}function clamp(_e,tt=0,et=1){return Math.min(Math.max(tt,_e),et)}function hexToRgb(_e){_e=_e.slice(1);const tt=new RegExp(`.{1,${_e.length>=6?2:1}}`,"g");let et=_e.match(tt);return et&&et[0].length===1&&(et=et.map(nt=>nt+nt)),et?`rgb${et.length===4?"a":""}(${et.map((nt,rt)=>rt<3?parseInt(nt,16):Math.round(parseInt(nt,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(_e){if(_e.type)return _e;if(_e.charAt(0)==="#")return decomposeColor(hexToRgb(_e));const tt=_e.indexOf("("),et=_e.substring(0,tt);if(["rgb","rgba","hsl","hsla","color"].indexOf(et)===-1)throw new Error(formatMuiErrorMessage(9,_e));let nt=_e.substring(tt+1,_e.length-1),rt;if(et==="color"){if(nt=nt.split(" "),rt=nt.shift(),nt.length===4&&nt[3].charAt(0)==="/"&&(nt[3]=nt[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(rt)===-1)throw new Error(formatMuiErrorMessage(10,rt))}else nt=nt.split(",");return nt=nt.map(it=>parseFloat(it)),{type:et,values:nt,colorSpace:rt}}function recomposeColor(_e){const{type:tt,colorSpace:et}=_e;let{values:nt}=_e;return tt.indexOf("rgb")!==-1?nt=nt.map((rt,it)=>it<3?parseInt(rt,10):rt):tt.indexOf("hsl")!==-1&&(nt[1]=`${nt[1]}%`,nt[2]=`${nt[2]}%`),tt.indexOf("color")!==-1?nt=`${et} ${nt.join(" ")}`:nt=`${nt.join(", ")}`,`${tt}(${nt})`}function hslToRgb(_e){_e=decomposeColor(_e);const{values:tt}=_e,et=tt[0],nt=tt[1]/100,rt=tt[2]/100,it=nt*Math.min(rt,1-rt),ot=(ct,lt=(ct+et/30)%12)=>rt-it*Math.max(Math.min(lt-3,9-lt,1),-1);let st="rgb";const at=[Math.round(ot(0)*255),Math.round(ot(8)*255),Math.round(ot(4)*255)];return _e.type==="hsla"&&(st+="a",at.push(tt[3])),recomposeColor({type:st,values:at})}function getLuminance(_e){_e=decomposeColor(_e);let tt=_e.type==="hsl"||_e.type==="hsla"?decomposeColor(hslToRgb(_e)).values:_e.values;return tt=tt.map(et=>(_e.type!=="color"&&(et/=255),et<=.03928?et/12.92:((et+.055)/1.055)**2.4)),Number((.2126*tt[0]+.7152*tt[1]+.0722*tt[2]).toFixed(3))}function getContrastRatio(_e,tt){const et=getLuminance(_e),nt=getLuminance(tt);return(Math.max(et,nt)+.05)/(Math.min(et,nt)+.05)}function alpha(_e,tt){return _e=decomposeColor(_e),tt=clamp(tt),(_e.type==="rgb"||_e.type==="hsl")&&(_e.type+="a"),_e.type==="color"?_e.values[3]=`/${tt}`:_e.values[3]=tt,recomposeColor(_e)}function darken(_e,tt){if(_e=decomposeColor(_e),tt=clamp(tt),_e.type.indexOf("hsl")!==-1)_e.values[2]*=1-tt;else if(_e.type.indexOf("rgb")!==-1||_e.type.indexOf("color")!==-1)for(let et=0;et<3;et+=1)_e.values[et]*=1-tt;return recomposeColor(_e)}function lighten(_e,tt){if(_e=decomposeColor(_e),tt=clamp(tt),_e.type.indexOf("hsl")!==-1)_e.values[2]+=(100-_e.values[2])*tt;else if(_e.type.indexOf("rgb")!==-1)for(let et=0;et<3;et+=1)_e.values[et]+=(255-_e.values[et])*tt;else if(_e.type.indexOf("color")!==-1)for(let et=0;et<3;et+=1)_e.values[et]+=(1-_e.values[et])*tt;return recomposeColor(_e)}function createMixins(_e,tt){return _extends({toolbar:{minHeight:56,[_e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[_e.up("sm")]:{minHeight:64}}},tt)}const _excluded$k=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(_e,tt,et,nt){const rt=nt.light||nt,it=nt.dark||nt*1.5;_e[tt]||(_e.hasOwnProperty(et)?_e[tt]=_e[et]:tt==="light"?_e.light=lighten(_e.main,rt):tt==="dark"&&(_e.dark=darken(_e.main,it)))}function getDefaultPrimary(_e="light"){return _e==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(_e="light"){return _e==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(_e="light"){return _e==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(_e="light"){return _e==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(_e="light"){return _e==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(_e="light"){return _e==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(_e){const{mode:tt="light",contrastThreshold:et=3,tonalOffset:nt=.2}=_e,rt=_objectWithoutPropertiesLoose(_e,_excluded$k),it=_e.primary||getDefaultPrimary(tt),ot=_e.secondary||getDefaultSecondary(tt),st=_e.error||getDefaultError(tt),at=_e.info||getDefaultInfo(tt),ct=_e.success||getDefaultSuccess(tt),lt=_e.warning||getDefaultWarning(tt);function dt(bt){return getContrastRatio(bt,dark.text.primary)>=et?dark.text.primary:light.text.primary}const ut=({color:bt,name:Tt,mainShade:ht=500,lightShade:gt=300,darkShade:vt=700})=>{if(bt=_extends({},bt),!bt.main&&bt[ht]&&(bt.main=bt[ht]),!bt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Tt?` (${Tt})`:"",ht));if(typeof bt.main!="string")throw new Error(formatMuiErrorMessage(12,Tt?` (${Tt})`:"",JSON.stringify(bt.main)));return addLightOrDark(bt,"light",gt,nt),addLightOrDark(bt,"dark",vt,nt),bt.contrastText||(bt.contrastText=dt(bt.main)),bt},ft={dark,light};return deepmerge(_extends({common:_extends({},common$1),mode:tt,primary:ut({color:it,name:"primary"}),secondary:ut({color:ot,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ut({color:st,name:"error"}),warning:ut({color:lt,name:"warning"}),info:ut({color:at,name:"info"}),success:ut({color:ct,name:"success"}),grey:grey$1,contrastThreshold:et,getContrastText:dt,augmentColor:ut,tonalOffset:nt},ft[tt]),rt)}const _excluded$j=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(_e){return Math.round(_e*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(_e,tt){const et=typeof tt=="function"?tt(_e):tt,{fontFamily:nt=defaultFontFamily,fontSize:rt=14,fontWeightLight:it=300,fontWeightRegular:ot=400,fontWeightMedium:st=500,fontWeightBold:at=700,htmlFontSize:ct=16,allVariants:lt,pxToRem:dt}=et,ut=_objectWithoutPropertiesLoose(et,_excluded$j),ft=rt/14,pt=dt||(ht=>`${ht/ct*ft}rem`),bt=(ht,gt,vt,Ct,It)=>_extends({fontFamily:nt,fontWeight:ht,fontSize:pt(gt),lineHeight:vt},nt===defaultFontFamily?{letterSpacing:`${round(Ct/gt)}em`}:{},It,lt),Tt={h1:bt(it,96,1.167,-1.5),h2:bt(it,60,1.2,-.5),h3:bt(ot,48,1.167,0),h4:bt(ot,34,1.235,.25),h5:bt(ot,24,1.334,0),h6:bt(st,20,1.6,.15),subtitle1:bt(ot,16,1.75,.15),subtitle2:bt(st,14,1.57,.1),body1:bt(ot,16,1.5,.15),body2:bt(ot,14,1.43,.15),button:bt(st,14,1.75,.4,caseAllCaps),caption:bt(ot,12,1.66,.4),overline:bt(ot,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:ct,pxToRem:pt,fontFamily:nt,fontSize:rt,fontWeightLight:it,fontWeightRegular:ot,fontWeightMedium:st,fontWeightBold:at},Tt),ut,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(..._e){return[`${_e[0]}px ${_e[1]}px ${_e[2]}px ${_e[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${_e[4]}px ${_e[5]}px ${_e[6]}px ${_e[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${_e[8]}px ${_e[9]}px ${_e[10]}px ${_e[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$i=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(_e){return`${Math.round(_e)}ms`}function getAutoHeightDuration(_e){if(!_e)return 0;const tt=_e/36;return Math.round((4+15*tt**.25+tt/5)*10)}function createTransitions(_e){const tt=_extends({},easing,_e.easing),et=_extends({},duration,_e.duration);return _extends({getAutoHeightDuration,create:(rt=["all"],it={})=>{const{duration:ot=et.standard,easing:st=tt.easeInOut,delay:at=0}=it;return _objectWithoutPropertiesLoose(it,_excluded$i),(Array.isArray(rt)?rt:[rt]).map(ct=>`${ct} ${typeof ot=="string"?ot:formatMs(ot)} ${st} ${typeof at=="string"?at:formatMs(at)}`).join(",")}},_e,{easing:tt,duration:et})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$h=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(_e={},...tt){const{mixins:et={},palette:nt={},transitions:rt={},typography:it={}}=_e,ot=_objectWithoutPropertiesLoose(_e,_excluded$h);if(_e.vars)throw new Error(formatMuiErrorMessage(18));const st=createPalette(nt),at=createTheme$1(_e);let ct=deepmerge(at,{mixins:createMixins(at.breakpoints,et),palette:st,shadows:shadows$1.slice(),typography:createTypography(st,it),transitions:createTransitions(rt),zIndex:_extends({},zIndex$1)});return ct=deepmerge(ct,ot),ct=tt.reduce((lt,dt)=>deepmerge(lt,dt),ct),ct.unstable_sxConfig=_extends({},defaultSxConfig$1,ot==null?void 0:ot.unstable_sxConfig),ct.unstable_sx=function(dt){return styleFunctionSx$1({sx:dt,theme:this})},ct}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useTheme(){const _e=useTheme$1(defaultTheme$1);return _e[THEME_ID]||_e}function useThemeProps({props:_e,name:tt}){return useThemeProps$1({props:_e,name:tt,defaultTheme:defaultTheme$1,themeId:THEME_ID})}const rootShouldForwardProp=_e=>shouldForwardProp(_e)&&_e!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp}),styled$1=styled,getOverlayAlpha=_e=>{let tt;return _e<1?tt=5.11916*_e**2:tt=4.5*Math.log(_e+1)+2,(tt/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent(_e){return typeof _e=="string"}function appendOwnerState(_e,tt,et){return _e===void 0||isHostComponent(_e)?tt:_extends({},tt,{ownerState:_extends({},tt.ownerState,et)})}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(_e){const{disableDefaultClasses:tt}=reactExports.useContext(ClassNameConfiguratorContext);return et=>tt?"":_e(et)}function extractEventHandlers(_e,tt=[]){if(_e===void 0)return{};const et={};return Object.keys(_e).filter(nt=>nt.match(/^on[A-Z]/)&&typeof _e[nt]=="function"&&!tt.includes(nt)).forEach(nt=>{et[nt]=_e[nt]}),et}function resolveComponentProps(_e,tt){return typeof _e=="function"?_e(tt):_e}function omitEventHandlers(_e){if(_e===void 0)return{};const tt={};return Object.keys(_e).filter(et=>!(et.match(/^on[A-Z]/)&&typeof _e[et]=="function")).forEach(et=>{tt[et]=_e[et]}),tt}function mergeSlotProps(_e){const{getSlotProps:tt,additionalProps:et,externalSlotProps:nt,externalForwardedProps:rt,className:it}=_e;if(!tt){const ft=clsx(rt==null?void 0:rt.className,nt==null?void 0:nt.className,it,et==null?void 0:et.className),pt=_extends({},et==null?void 0:et.style,rt==null?void 0:rt.style,nt==null?void 0:nt.style),bt=_extends({},et,rt,nt);return ft.length>0&&(bt.className=ft),Object.keys(pt).length>0&&(bt.style=pt),{props:bt,internalRef:void 0}}const ot=extractEventHandlers(_extends({},rt,nt)),st=omitEventHandlers(nt),at=omitEventHandlers(rt),ct=tt(ot),lt=clsx(ct==null?void 0:ct.className,et==null?void 0:et.className,it,rt==null?void 0:rt.className,nt==null?void 0:nt.className),dt=_extends({},ct==null?void 0:ct.style,et==null?void 0:et.style,rt==null?void 0:rt.style,nt==null?void 0:nt.style),ut=_extends({},ct,et,at,st);return lt.length>0&&(ut.className=lt),Object.keys(dt).length>0&&(ut.style=dt),{props:ut,internalRef:ct.ref}}const _excluded$g=["elementType","externalSlotProps","ownerState"];function useSlotProps(_e){var tt;const{elementType:et,externalSlotProps:nt,ownerState:rt}=_e,it=_objectWithoutPropertiesLoose(_e,_excluded$g),ot=resolveComponentProps(nt,rt),{props:st,internalRef:at}=mergeSlotProps(_extends({},it,{externalSlotProps:ot})),ct=useForkRef(at,ot==null?void 0:ot.ref,(tt=_e.additionalProps)==null?void 0:tt.ref);return appendOwnerState(et,_extends({},st,{ref:ct}),rt)}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(_e){const tt=parseInt(_e.getAttribute("tabindex")||"",10);return Number.isNaN(tt)?_e.contentEditable==="true"||(_e.nodeName==="AUDIO"||_e.nodeName==="VIDEO"||_e.nodeName==="DETAILS")&&_e.getAttribute("tabindex")===null?0:_e.tabIndex:tt}function isNonTabbableRadio(_e){if(_e.tagName!=="INPUT"||_e.type!=="radio"||!_e.name)return!1;const tt=nt=>_e.ownerDocument.querySelector(`input[type="radio"]${nt}`);let et=tt(`[name="${_e.name}"]:checked`);return et||(et=tt(`[name="${_e.name}"]`)),et!==_e}function isNodeMatchingSelectorFocusable(_e){return!(_e.disabled||_e.tagName==="INPUT"&&_e.type==="hidden"||isNonTabbableRadio(_e))}function defaultGetTabbable(_e){const tt=[],et=[];return Array.from(_e.querySelectorAll(candidatesSelector)).forEach((nt,rt)=>{const it=getTabIndex(nt);it===-1||!isNodeMatchingSelectorFocusable(nt)||(it===0?tt.push(nt):et.push({documentOrder:rt,tabIndex:it,node:nt}))}),et.sort((nt,rt)=>nt.tabIndex===rt.tabIndex?nt.documentOrder-rt.documentOrder:nt.tabIndex-rt.tabIndex).map(nt=>nt.node).concat(tt)}function defaultIsEnabled(){return!0}function FocusTrap(_e){const{children:tt,disableAutoFocus:et=!1,disableEnforceFocus:nt=!1,disableRestoreFocus:rt=!1,getTabbable:it=defaultGetTabbable,isEnabled:ot=defaultIsEnabled,open:st}=_e,at=reactExports.useRef(!1),ct=reactExports.useRef(null),lt=reactExports.useRef(null),dt=reactExports.useRef(null),ut=reactExports.useRef(null),ft=reactExports.useRef(!1),pt=reactExports.useRef(null),bt=useForkRef(tt.ref,pt),Tt=reactExports.useRef(null);reactExports.useEffect(()=>{!st||!pt.current||(ft.current=!et)},[et,st]),reactExports.useEffect(()=>{if(!st||!pt.current)return;const vt=ownerDocument(pt.current);return pt.current.contains(vt.activeElement)||(pt.current.hasAttribute("tabIndex")||pt.current.setAttribute("tabIndex","-1"),ft.current&&pt.current.focus()),()=>{rt||(dt.current&&dt.current.focus&&(at.current=!0,dt.current.focus()),dt.current=null)}},[st]),reactExports.useEffect(()=>{if(!st||!pt.current)return;const vt=ownerDocument(pt.current),Ct=Wt=>{const{current:kt}=pt;if(kt!==null){if(!vt.hasFocus()||nt||!ot()||at.current){at.current=!1;return}if(!kt.contains(vt.activeElement)){if(Wt&&ut.current!==Wt.target||vt.activeElement!==ut.current)ut.current=null;else if(ut.current!==null)return;if(!ft.current)return;let Mt=[];if((vt.activeElement===ct.current||vt.activeElement===lt.current)&&(Mt=it(pt.current)),Mt.length>0){var Nt,Lt;const tn=!!((Nt=Tt.current)!=null&&Nt.shiftKey&&((Lt=Tt.current)==null?void 0:Lt.key)==="Tab"),$t=Mt[0],Ht=Mt[Mt.length-1];typeof $t!="string"&&typeof Ht!="string"&&(tn?Ht.focus():$t.focus())}else kt.focus()}}},It=Wt=>{Tt.current=Wt,!(nt||!ot()||Wt.key!=="Tab")&&vt.activeElement===pt.current&&Wt.shiftKey&&(at.current=!0,lt.current&&lt.current.focus())};vt.addEventListener("focusin",Ct),vt.addEventListener("keydown",It,!0);const Zt=setInterval(()=>{vt.activeElement&&vt.activeElement.tagName==="BODY"&&Ct(null)},50);return()=>{clearInterval(Zt),vt.removeEventListener("focusin",Ct),vt.removeEventListener("keydown",It,!0)}},[et,nt,rt,ot,st,it]);const ht=vt=>{dt.current===null&&(dt.current=vt.relatedTarget),ft.current=!0,ut.current=vt.target;const Ct=tt.props.onFocus;Ct&&Ct(vt)},gt=vt=>{dt.current===null&&(dt.current=vt.relatedTarget),ft.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:st?0:-1,onFocus:gt,ref:ct,"data-testid":"sentinelStart"}),reactExports.cloneElement(tt,{ref:bt,onFocus:ht}),jsxRuntimeExports.jsx("div",{tabIndex:st?0:-1,onFocus:gt,ref:lt,"data-testid":"sentinelEnd"})]})}function getContainer$1(_e){return typeof _e=="function"?_e():_e}const Portal=reactExports.forwardRef(function _e(tt,et){const{children:nt,container:rt,disablePortal:it=!1}=tt,[ot,st]=reactExports.useState(null),at=useForkRef(reactExports.isValidElement(nt)?nt.ref:null,et);if(useEnhancedEffect$1(()=>{it||st(getContainer$1(rt)||document.body)},[rt,it]),useEnhancedEffect$1(()=>{if(ot&&!it)return setRef(et,ot),()=>{setRef(et,null)}},[et,ot,it]),it){if(reactExports.isValidElement(nt)){const ct={ref:at};return reactExports.cloneElement(nt,ct)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:nt})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:ot&&reactDomExports.createPortal(nt,ot)})}),Portal$1=Portal;function isOverflowing(_e){const tt=ownerDocument(_e);return tt.body===_e?ownerWindow(_e).innerWidth>tt.documentElement.clientWidth:_e.scrollHeight>_e.clientHeight}function ariaHidden(_e,tt){tt?_e.setAttribute("aria-hidden","true"):_e.removeAttribute("aria-hidden")}function getPaddingRight(_e){return parseInt(ownerWindow(_e).getComputedStyle(_e).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(_e){const et=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(_e.tagName)!==-1,nt=_e.tagName==="INPUT"&&_e.getAttribute("type")==="hidden";return et||nt}function ariaHiddenSiblings(_e,tt,et,nt,rt){const it=[tt,et,...nt];[].forEach.call(_e.children,ot=>{const st=it.indexOf(ot)===-1,at=!isAriaHiddenForbiddenOnElement(ot);st&&at&&ariaHidden(ot,rt)})}function findIndexOf(_e,tt){let et=-1;return _e.some((nt,rt)=>tt(nt)?(et=rt,!0):!1),et}function handleContainer(_e,tt){const et=[],nt=_e.container;if(!tt.disableScrollLock){if(isOverflowing(nt)){const ot=getScrollbarSize(ownerDocument(nt));et.push({value:nt.style.paddingRight,property:"padding-right",el:nt}),nt.style.paddingRight=`${getPaddingRight(nt)+ot}px`;const st=ownerDocument(nt).querySelectorAll(".mui-fixed");[].forEach.call(st,at=>{et.push({value:at.style.paddingRight,property:"padding-right",el:at}),at.style.paddingRight=`${getPaddingRight(at)+ot}px`})}let it;if(nt.parentNode instanceof DocumentFragment)it=ownerDocument(nt).body;else{const ot=nt.parentElement,st=ownerWindow(nt);it=(ot==null?void 0:ot.nodeName)==="HTML"&&st.getComputedStyle(ot).overflowY==="scroll"?ot:nt}et.push({value:it.style.overflow,property:"overflow",el:it},{value:it.style.overflowX,property:"overflow-x",el:it},{value:it.style.overflowY,property:"overflow-y",el:it}),it.style.overflow="hidden"}return()=>{et.forEach(({value:it,el:ot,property:st})=>{it?ot.style.setProperty(st,it):ot.style.removeProperty(st)})}}function getHiddenSiblings(_e){const tt=[];return[].forEach.call(_e.children,et=>{et.getAttribute("aria-hidden")==="true"&&tt.push(et)}),tt}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(tt,et){let nt=this.modals.indexOf(tt);if(nt!==-1)return nt;nt=this.modals.length,this.modals.push(tt),tt.modalRef&&ariaHidden(tt.modalRef,!1);const rt=getHiddenSiblings(et);ariaHiddenSiblings(et,tt.mount,tt.modalRef,rt,!0);const it=findIndexOf(this.containers,ot=>ot.container===et);return it!==-1?(this.containers[it].modals.push(tt),nt):(this.containers.push({modals:[tt],container:et,restore:null,hiddenSiblings:rt}),nt)}mount(tt,et){const nt=findIndexOf(this.containers,it=>it.modals.indexOf(tt)!==-1),rt=this.containers[nt];rt.restore||(rt.restore=handleContainer(rt,et))}remove(tt,et=!0){const nt=this.modals.indexOf(tt);if(nt===-1)return nt;const rt=findIndexOf(this.containers,ot=>ot.modals.indexOf(tt)!==-1),it=this.containers[rt];if(it.modals.splice(it.modals.indexOf(tt),1),this.modals.splice(nt,1),it.modals.length===0)it.restore&&it.restore(),tt.modalRef&&ariaHidden(tt.modalRef,et),ariaHiddenSiblings(it.container,tt.mount,tt.modalRef,it.hiddenSiblings,!1),this.containers.splice(rt,1);else{const ot=it.modals[it.modals.length-1];ot.modalRef&&ariaHidden(ot.modalRef,!1)}return nt}isTopModal(tt){return this.modals.length>0&&this.modals[this.modals.length-1]===tt}}function getModalUtilityClass(_e){return generateUtilityClass("MuiModal",_e)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$f=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$c=_e=>{const{open:tt,exited:et}=_e;return composeClasses({root:["root",!tt&&et&&"hidden"],backdrop:["backdrop"]},useClassNamesOverride(getModalUtilityClass))};function getContainer(_e){return typeof _e=="function"?_e():_e}function getHasTransition(_e){return _e?_e.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,Modal$2=reactExports.forwardRef(function _e(tt,et){var nt,rt;const{children:it,closeAfterTransition:ot=!1,container:st,disableAutoFocus:at=!1,disableEnforceFocus:ct=!1,disableEscapeKeyDown:lt=!1,disablePortal:dt=!1,disableRestoreFocus:ut=!1,disableScrollLock:ft=!1,hideBackdrop:pt=!1,keepMounted:bt=!1,manager:Tt=defaultManager,onBackdropClick:ht,onClose:gt,onKeyDown:vt,open:Ct,onTransitionEnter:It,onTransitionExited:Zt,slotProps:Wt={},slots:kt={}}=tt,Nt=_objectWithoutPropertiesLoose(tt,_excluded$f),Lt=Tt,[Mt,tn]=reactExports.useState(!Ct),$t=reactExports.useRef({}),Ht=reactExports.useRef(null),rn=reactExports.useRef(null),ln=useForkRef(rn,et),mn=getHasTransition(it),on=(nt=tt["aria-hidden"])!=null?nt:!0,yn=()=>ownerDocument(Ht.current),hn=()=>($t.current.modalRef=rn.current,$t.current.mountNode=Ht.current,$t.current),un=()=>{Lt.mount(hn(),{disableScrollLock:ft}),rn.current&&(rn.current.scrollTop=0)},dn=useEventCallback(()=>{const co=getContainer(st)||yn().body;Lt.add(hn(),co),rn.current&&un()}),Nn=reactExports.useCallback(()=>Lt.isTopModal(hn()),[Lt]),Wn=useEventCallback(co=>{Ht.current=co,!(!co||!rn.current)&&(Ct&&Nn()?un():ariaHidden(rn.current,on))}),pn=reactExports.useCallback(()=>{Lt.remove(hn(),on)},[Lt,on]);reactExports.useEffect(()=>()=>{pn()},[pn]),reactExports.useEffect(()=>{Ct?dn():(!mn||!ot)&&pn()},[Ct,pn,mn,ot,dn]);const Rn=_extends({},tt,{closeAfterTransition:ot,disableAutoFocus:at,disableEnforceFocus:ct,disableEscapeKeyDown:lt,disablePortal:dt,disableRestoreFocus:ut,disableScrollLock:ft,exited:Mt,hideBackdrop:pt,keepMounted:bt}),xn=useUtilityClasses$c(Rn),Jn=()=>{tn(!1),It&&It()},cr=()=>{tn(!0),Zt&&Zt(),ot&&pn()},er=co=>{co.target===co.currentTarget&&(ht&&ht(co),gt&&gt(co,"backdropClick"))},_n=co=>{vt&&vt(co),!(co.key!=="Escape"||!Nn())&&(lt||(co.stopPropagation(),gt&&gt(co,"escapeKeyDown")))},Sr={};it.props.tabIndex===void 0&&(Sr.tabIndex="-1"),mn&&(Sr.onEnter=createChainedFunction(Jn,it.props.onEnter),Sr.onExited=createChainedFunction(cr,it.props.onExited));const vr=(rt=kt.root)!=null?rt:"div",Gr=useSlotProps({elementType:vr,externalSlotProps:Wt.root,externalForwardedProps:Nt,additionalProps:{ref:ln,role:"presentation",onKeyDown:_n},className:xn.root,ownerState:Rn}),Lr=kt.backdrop,Ur=useSlotProps({elementType:Lr,externalSlotProps:Wt.backdrop,additionalProps:{"aria-hidden":!0,onClick:er,open:Ct},className:xn.backdrop,ownerState:Rn});return!bt&&!Ct&&(!mn||Mt)?null:jsxRuntimeExports.jsx(Portal$1,{ref:Wn,container:st,disablePortal:dt,children:jsxRuntimeExports.jsxs(vr,_extends({},Gr,{children:[!pt&&Lr?jsxRuntimeExports.jsx(Lr,_extends({},Ur)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:ct,disableAutoFocus:at,disableRestoreFocus:ut,isEnabled:Nn,open:Ct,children:reactExports.cloneElement(it,Sr)})]}))})}),ModalUnstyled=Modal$2;function getSvgIconUtilityClass(_e){return generateUtilityClass("MuiSvgIcon",_e)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$b=_e=>{const{color:tt,fontSize:et,classes:nt}=_e,rt={root:["root",tt!=="inherit"&&`color${capitalize(tt)}`,`fontSize${capitalize(et)}`]};return composeClasses(rt,getSvgIconUtilityClass,nt)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.color!=="inherit"&&tt[`color${capitalize(et.color)}`],tt[`fontSize${capitalize(et.fontSize)}`]]}})(({theme:_e,ownerState:tt})=>{var et,nt,rt,it,ot,st,at,ct,lt,dt,ut,ft,pt,bt,Tt,ht,gt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(et=_e.transitions)==null||(nt=et.create)==null?void 0:nt.call(et,"fill",{duration:(rt=_e.transitions)==null||(it=rt.duration)==null?void 0:it.shorter}),fontSize:{inherit:"inherit",small:((ot=_e.typography)==null||(st=ot.pxToRem)==null?void 0:st.call(ot,20))||"1.25rem",medium:((at=_e.typography)==null||(ct=at.pxToRem)==null?void 0:ct.call(at,24))||"1.5rem",large:((lt=_e.typography)==null||(dt=lt.pxToRem)==null?void 0:dt.call(lt,35))||"2.1875rem"}[tt.fontSize],color:(ut=(ft=(_e.vars||_e).palette)==null||(pt=ft[tt.color])==null?void 0:pt.main)!=null?ut:{action:(bt=(_e.vars||_e).palette)==null||(Tt=bt.action)==null?void 0:Tt.active,disabled:(ht=(_e.vars||_e).palette)==null||(gt=ht.action)==null?void 0:gt.disabled,inherit:void 0}[tt.color]}}),SvgIcon=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiSvgIcon"}),{children:rt,className:it,color:ot="inherit",component:st="svg",fontSize:at="medium",htmlColor:ct,inheritViewBox:lt=!1,titleAccess:dt,viewBox:ut="0 0 24 24"}=nt,ft=_objectWithoutPropertiesLoose(nt,_excluded$e),pt=_extends({},nt,{color:ot,component:st,fontSize:at,instanceFontSize:tt.fontSize,inheritViewBox:lt,viewBox:ut}),bt={};lt||(bt.viewBox=ut);const Tt=useUtilityClasses$b(pt);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends({as:st,className:clsx(Tt.root,it),focusable:"false",color:ct,"aria-hidden":dt?void 0:!0,role:dt?"img":void 0,ref:et},bt,ft,{ownerState:pt,children:[rt,dt?jsxRuntimeExports.jsx("title",{children:dt}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(_e,tt){function et(nt,rt){return jsxRuntimeExports.jsx(SvgIcon$1,_extends({"data-testid":`${tt}Icon`,ref:rt},nt,{children:_e}))}return et.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(et))}const unstable_ClassNameGenerator={configure:_e=>{ClassNameGenerator$1.configure(_e)}},utils=Object.freeze(Object.defineProperty({__proto__:null,capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function _setPrototypeOf(_e,tt){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,rt){return nt.__proto__=rt,nt},_setPrototypeOf(_e,tt)}function _inheritsLoose(_e,tt){_e.prototype=Object.create(tt.prototype),_e.prototype.constructor=_e,_setPrototypeOf(_e,tt)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function _e(tt){return tt.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(_e){_inheritsLoose(tt,_e);function tt(nt,rt){var it;it=_e.call(this,nt,rt)||this;var ot=rt,st=ot&&!ot.isMounting?nt.enter:nt.appear,at;return it.appearStatus=null,nt.in?st?(at=EXITED,it.appearStatus=ENTERING):at=ENTERED:nt.unmountOnExit||nt.mountOnEnter?at=UNMOUNTED:at=EXITED,it.state={status:at},it.nextCallback=null,it}tt.getDerivedStateFromProps=function(rt,it){var ot=rt.in;return ot&&it.status===UNMOUNTED?{status:EXITED}:null};var et=tt.prototype;return et.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},et.componentDidUpdate=function(rt){var it=null;if(rt!==this.props){var ot=this.state.status;this.props.in?ot!==ENTERING&&ot!==ENTERED&&(it=ENTERING):(ot===ENTERING||ot===ENTERED)&&(it=EXITING)}this.updateStatus(!1,it)},et.componentWillUnmount=function(){this.cancelNextCallback()},et.getTimeouts=function(){var rt=this.props.timeout,it,ot,st;return it=ot=st=rt,rt!=null&&typeof rt!="number"&&(it=rt.exit,ot=rt.enter,st=rt.appear!==void 0?rt.appear:ot),{exit:it,enter:ot,appear:st}},et.updateStatus=function(rt,it){if(rt===void 0&&(rt=!1),it!==null)if(this.cancelNextCallback(),it===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);ot&&forceReflow(ot)}this.performEnter(rt)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},et.performEnter=function(rt){var it=this,ot=this.props.enter,st=this.context?this.context.isMounting:rt,at=this.props.nodeRef?[st]:[ReactDOM.findDOMNode(this),st],ct=at[0],lt=at[1],dt=this.getTimeouts(),ut=st?dt.appear:dt.enter;if(!rt&&!ot||config.disabled){this.safeSetState({status:ENTERED},function(){it.props.onEntered(ct)});return}this.props.onEnter(ct,lt),this.safeSetState({status:ENTERING},function(){it.props.onEntering(ct,lt),it.onTransitionEnd(ut,function(){it.safeSetState({status:ENTERED},function(){it.props.onEntered(ct,lt)})})})},et.performExit=function(){var rt=this,it=this.props.exit,ot=this.getTimeouts(),st=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!it||config.disabled){this.safeSetState({status:EXITED},function(){rt.props.onExited(st)});return}this.props.onExit(st),this.safeSetState({status:EXITING},function(){rt.props.onExiting(st),rt.onTransitionEnd(ot.exit,function(){rt.safeSetState({status:EXITED},function(){rt.props.onExited(st)})})})},et.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},et.safeSetState=function(rt,it){it=this.setNextCallback(it),this.setState(rt,it)},et.setNextCallback=function(rt){var it=this,ot=!0;return this.nextCallback=function(st){ot&&(ot=!1,it.nextCallback=null,rt(st))},this.nextCallback.cancel=function(){ot=!1},this.nextCallback},et.onTransitionEnd=function(rt,it){this.setNextCallback(it);var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),st=rt==null&&!this.props.addEndListener;if(!ot||st){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var at=this.props.nodeRef?[this.nextCallback]:[ot,this.nextCallback],ct=at[0],lt=at[1];this.props.addEndListener(ct,lt)}rt!=null&&setTimeout(this.nextCallback,rt)},et.render=function(){var rt=this.state.status;if(rt===UNMOUNTED)return null;var it=this.props,ot=it.children;it.in,it.mountOnEnter,it.unmountOnExit,it.appear,it.enter,it.exit,it.timeout,it.addEndListener,it.onEnter,it.onEntering,it.onEntered,it.onExit,it.onExiting,it.onExited,it.nodeRef;var st=_objectWithoutPropertiesLoose(it,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof ot=="function"?ot(rt,st):React.cloneElement(React.Children.only(ot),st))},tt}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function getChildMapping(_e,tt){var et=function(it){return tt&&reactExports.isValidElement(it)?tt(it):it},nt=Object.create(null);return _e&&reactExports.Children.map(_e,function(rt){return rt}).forEach(function(rt){nt[rt.key]=et(rt)}),nt}function mergeChildMappings(_e,tt){_e=_e||{},tt=tt||{};function et(lt){return lt in tt?tt[lt]:_e[lt]}var nt=Object.create(null),rt=[];for(var it in _e)it in tt?rt.length&&(nt[it]=rt,rt=[]):rt.push(it);var ot,st={};for(var at in tt){if(nt[at])for(ot=0;ot<nt[at].length;ot++){var ct=nt[at][ot];st[nt[at][ot]]=et(ct)}st[at]=et(at)}for(ot=0;ot<rt.length;ot++)st[rt[ot]]=et(rt[ot]);return st}function getProp(_e,tt,et){return et[tt]!=null?et[tt]:_e.props[tt]}function getInitialChildMapping(_e,tt){return getChildMapping(_e.children,function(et){return reactExports.cloneElement(et,{onExited:tt.bind(null,et),in:!0,appear:getProp(et,"appear",_e),enter:getProp(et,"enter",_e),exit:getProp(et,"exit",_e)})})}function getNextChildMapping(_e,tt,et){var nt=getChildMapping(_e.children),rt=mergeChildMappings(tt,nt);return Object.keys(rt).forEach(function(it){var ot=rt[it];if(reactExports.isValidElement(ot)){var st=it in tt,at=it in nt,ct=tt[it],lt=reactExports.isValidElement(ct)&&!ct.props.in;at&&(!st||lt)?rt[it]=reactExports.cloneElement(ot,{onExited:et.bind(null,ot),in:!0,exit:getProp(ot,"exit",_e),enter:getProp(ot,"enter",_e)}):!at&&st&&!lt?rt[it]=reactExports.cloneElement(ot,{in:!1}):at&&st&&reactExports.isValidElement(ct)&&(rt[it]=reactExports.cloneElement(ot,{onExited:et.bind(null,ot),in:ct.props.in,exit:getProp(ot,"exit",_e),enter:getProp(ot,"enter",_e)}))}}),rt}var values=Object.values||function(_e){return Object.keys(_e).map(function(tt){return _e[tt]})},defaultProps={component:"div",childFactory:function _e(tt){return tt}},TransitionGroup=function(_e){_inheritsLoose(tt,_e);function tt(nt,rt){var it;it=_e.call(this,nt,rt)||this;var ot=it.handleExited.bind(_assertThisInitialized(it));return it.state={contextValue:{isMounting:!0},handleExited:ot,firstRender:!0},it}var et=tt.prototype;return et.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},et.componentWillUnmount=function(){this.mounted=!1},tt.getDerivedStateFromProps=function(rt,it){var ot=it.children,st=it.handleExited,at=it.firstRender;return{children:at?getInitialChildMapping(rt,st):getNextChildMapping(rt,ot,st),firstRender:!1}},et.handleExited=function(rt,it){var ot=getChildMapping(this.props.children);rt.key in ot||(rt.props.onExited&&rt.props.onExited(it),this.mounted&&this.setState(function(st){var at=_extends({},st.children);return delete at[rt.key],{children:at}}))},et.render=function(){var rt=this.props,it=rt.component,ot=rt.childFactory,st=_objectWithoutPropertiesLoose(rt,["component","childFactory"]),at=this.state.contextValue,ct=values(this.state.children).map(ot);return delete st.appear,delete st.enter,delete st.exit,it===null?React.createElement(TransitionGroupContext.Provider,{value:at},ct):React.createElement(TransitionGroupContext.Provider,{value:at},React.createElement(it,st,ct))},tt}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=_e=>_e.scrollTop;function getTransitionProps(_e,tt){var et,nt;const{timeout:rt,easing:it,style:ot={}}=_e;return{duration:(et=ot.transitionDuration)!=null?et:typeof rt=="number"?rt:rt[tt.mode]||0,easing:(nt=ot.transitionTimingFunction)!=null?nt:typeof it=="object"?it[tt.mode]:it,delay:ot.transitionDelay}}function getCollapseUtilityClass(_e){return generateUtilityClass("MuiCollapse",_e)}generateUtilityClasses("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const _excluded$d=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],useUtilityClasses$a=_e=>{const{orientation:tt,classes:et}=_e,nt={root:["root",`${tt}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${tt}`],wrapperInner:["wrapperInner",`${tt}`]};return composeClasses(nt,getCollapseUtilityClass,et)},CollapseRoot=styled$1("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.orientation],et.state==="entered"&&tt.entered,et.state==="exited"&&!et.in&&et.collapsedSize==="0px"&&tt.hidden]}})(({theme:_e,ownerState:tt})=>_extends({height:0,overflow:"hidden",transition:_e.transitions.create("height")},tt.orientation==="horizontal"&&{height:"auto",width:0,transition:_e.transitions.create("width")},tt.state==="entered"&&_extends({height:"auto",overflow:"visible"},tt.orientation==="horizontal"&&{width:"auto"}),tt.state==="exited"&&!tt.in&&tt.collapsedSize==="0px"&&{visibility:"hidden"})),CollapseWrapper=styled$1("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(_e,tt)=>tt.wrapper})(({ownerState:_e})=>_extends({display:"flex",width:"100%"},_e.orientation==="horizontal"&&{width:"auto",height:"100%"})),CollapseWrapperInner=styled$1("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(_e,tt)=>tt.wrapperInner})(({ownerState:_e})=>_extends({width:"100%"},_e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Collapse=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiCollapse"}),{addEndListener:rt,children:it,className:ot,collapsedSize:st="0px",component:at,easing:ct,in:lt,onEnter:dt,onEntered:ut,onEntering:ft,onExit:pt,onExited:bt,onExiting:Tt,orientation:ht="vertical",style:gt,timeout:vt=duration.standard,TransitionComponent:Ct=Transition$1}=nt,It=_objectWithoutPropertiesLoose(nt,_excluded$d),Zt=_extends({},nt,{orientation:ht,collapsedSize:st}),Wt=useUtilityClasses$a(Zt),kt=useTheme(),Nt=reactExports.useRef(),Lt=reactExports.useRef(null),Mt=reactExports.useRef(),tn=typeof st=="number"?`${st}px`:st,$t=ht==="horizontal",Ht=$t?"width":"height";reactExports.useEffect(()=>()=>{clearTimeout(Nt.current)},[]);const rn=reactExports.useRef(null),ln=useForkRef(et,rn),mn=Rn=>xn=>{if(Rn){const Jn=rn.current;xn===void 0?Rn(Jn):Rn(Jn,xn)}},on=()=>Lt.current?Lt.current[$t?"clientWidth":"clientHeight"]:0,yn=mn((Rn,xn)=>{Lt.current&&$t&&(Lt.current.style.position="absolute"),Rn.style[Ht]=tn,dt&&dt(Rn,xn)}),hn=mn((Rn,xn)=>{const Jn=on();Lt.current&&$t&&(Lt.current.style.position="");const{duration:cr,easing:er}=getTransitionProps({style:gt,timeout:vt,easing:ct},{mode:"enter"});if(vt==="auto"){const _n=kt.transitions.getAutoHeightDuration(Jn);Rn.style.transitionDuration=`${_n}ms`,Mt.current=_n}else Rn.style.transitionDuration=typeof cr=="string"?cr:`${cr}ms`;Rn.style[Ht]=`${Jn}px`,Rn.style.transitionTimingFunction=er,ft&&ft(Rn,xn)}),un=mn((Rn,xn)=>{Rn.style[Ht]="auto",ut&&ut(Rn,xn)}),dn=mn(Rn=>{Rn.style[Ht]=`${on()}px`,pt&&pt(Rn)}),Nn=mn(bt),Wn=mn(Rn=>{const xn=on(),{duration:Jn,easing:cr}=getTransitionProps({style:gt,timeout:vt,easing:ct},{mode:"exit"});if(vt==="auto"){const er=kt.transitions.getAutoHeightDuration(xn);Rn.style.transitionDuration=`${er}ms`,Mt.current=er}else Rn.style.transitionDuration=typeof Jn=="string"?Jn:`${Jn}ms`;Rn.style[Ht]=tn,Rn.style.transitionTimingFunction=cr,Tt&&Tt(Rn)}),pn=Rn=>{vt==="auto"&&(Nt.current=setTimeout(Rn,Mt.current||0)),rt&&rt(rn.current,Rn)};return jsxRuntimeExports.jsx(Ct,_extends({in:lt,onEnter:yn,onEntered:un,onEntering:hn,onExit:dn,onExited:Nn,onExiting:Wn,addEndListener:pn,nodeRef:rn,timeout:vt==="auto"?null:vt},It,{children:(Rn,xn)=>jsxRuntimeExports.jsx(CollapseRoot,_extends({as:at,className:clsx(Wt.root,ot,{entered:Wt.entered,exited:!lt&&tn==="0px"&&Wt.hidden}[Rn]),style:_extends({[$t?"minWidth":"minHeight"]:tn},gt),ownerState:_extends({},Zt,{state:Rn}),ref:ln},xn,{children:jsxRuntimeExports.jsx(CollapseWrapper,{ownerState:_extends({},Zt,{state:Rn}),className:Wt.wrapper,ref:Lt,children:jsxRuntimeExports.jsx(CollapseWrapperInner,{ownerState:_extends({},Zt,{state:Rn}),className:Wt.wrapperInner,children:it})})}))}))});Collapse.muiSupportAuto=!0;const Collapse$1=Collapse;function getPaperUtilityClass(_e){return generateUtilityClass("MuiPaper",_e)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$c=["className","component","elevation","square","variant"],useUtilityClasses$9=_e=>{const{square:tt,elevation:et,variant:nt,classes:rt}=_e,it={root:["root",nt,!tt&&"rounded",nt==="elevation"&&`elevation${et}`]};return composeClasses(it,getPaperUtilityClass,rt)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.variant],!et.square&&tt.rounded,et.variant==="elevation"&&tt[`elevation${et.elevation}`]]}})(({theme:_e,ownerState:tt})=>{var et;return _extends({backgroundColor:(_e.vars||_e).palette.background.paper,color:(_e.vars||_e).palette.text.primary,transition:_e.transitions.create("box-shadow")},!tt.square&&{borderRadius:_e.shape.borderRadius},tt.variant==="outlined"&&{border:`1px solid ${(_e.vars||_e).palette.divider}`},tt.variant==="elevation"&&_extends({boxShadow:(_e.vars||_e).shadows[tt.elevation]},!_e.vars&&_e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(tt.elevation))}, ${alpha("#fff",getOverlayAlpha$1(tt.elevation))})`},_e.vars&&{backgroundImage:(et=_e.vars.overlays)==null?void 0:et[tt.elevation]}))}),Paper=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiPaper"}),{className:rt,component:it="div",elevation:ot=1,square:st=!1,variant:at="elevation"}=nt,ct=_objectWithoutPropertiesLoose(nt,_excluded$c),lt=_extends({},nt,{component:it,elevation:ot,square:st,variant:at}),dt=useUtilityClasses$9(lt);return jsxRuntimeExports.jsx(PaperRoot,_extends({as:it,ownerState:lt,className:clsx(dt.root,rt),ref:et},ct))}),Paper$1=Paper,AccordionContext=reactExports.createContext({}),AccordionContext$1=AccordionContext;function getAccordionUtilityClass(_e){return generateUtilityClass("MuiAccordion",_e)}const accordionClasses=generateUtilityClasses("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),accordionClasses$1=accordionClasses,_excluded$b=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],useUtilityClasses$8=_e=>{const{classes:tt,square:et,expanded:nt,disabled:rt,disableGutters:it}=_e;return composeClasses({root:["root",!et&&"rounded",nt&&"expanded",rt&&"disabled",!it&&"gutters"],region:["region"]},getAccordionUtilityClass,tt)},AccordionRoot=styled$1(Paper$1,{name:"MuiAccordion",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[{[`& .${accordionClasses$1.region}`]:tt.region},tt.root,!et.square&&tt.rounded,!et.disableGutters&&tt.gutters]}})(({theme:_e})=>{const tt={duration:_e.transitions.duration.shortest};return{position:"relative",transition:_e.transitions.create(["margin"],tt),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(_e.vars||_e).palette.divider,transition:_e.transitions.create(["opacity","background-color"],tt)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${accordionClasses$1.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${accordionClasses$1.disabled}`]:{backgroundColor:(_e.vars||_e).palette.action.disabledBackground}}},({theme:_e,ownerState:tt})=>_extends({},!tt.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(_e.vars||_e).shape.borderRadius,borderTopRightRadius:(_e.vars||_e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(_e.vars||_e).shape.borderRadius,borderBottomRightRadius:(_e.vars||_e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!tt.disableGutters&&{[`&.${accordionClasses$1.expanded}`]:{margin:"16px 0"}})),Accordion=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordion"}),{children:rt,className:it,defaultExpanded:ot=!1,disabled:st=!1,disableGutters:at=!1,expanded:ct,onChange:lt,square:dt=!1,TransitionComponent:ut=Collapse$1,TransitionProps:ft}=nt,pt=_objectWithoutPropertiesLoose(nt,_excluded$b),[bt,Tt]=useControlled({controlled:ct,default:ot,name:"Accordion",state:"expanded"}),ht=reactExports.useCallback(Wt=>{Tt(!bt),lt&&lt(Wt,!bt)},[bt,lt,Tt]),[gt,...vt]=reactExports.Children.toArray(rt),Ct=reactExports.useMemo(()=>({expanded:bt,disabled:st,disableGutters:at,toggle:ht}),[bt,st,at,ht]),It=_extends({},nt,{square:dt,disabled:st,disableGutters:at,expanded:bt}),Zt=useUtilityClasses$8(It);return jsxRuntimeExports.jsxs(AccordionRoot,_extends({className:clsx(Zt.root,it),ref:et,ownerState:It,square:dt},pt,{children:[jsxRuntimeExports.jsx(AccordionContext$1.Provider,{value:Ct,children:gt}),jsxRuntimeExports.jsx(ut,_extends({in:bt,timeout:"auto"},ft,{children:jsxRuntimeExports.jsx("div",{"aria-labelledby":gt.props.id,id:gt.props["aria-controls"],role:"region",className:Zt.region,children:vt})}))]}))}),Accordion$1=Accordion;function getAccordionDetailsUtilityClass(_e){return generateUtilityClass("MuiAccordionDetails",_e)}generateUtilityClasses("MuiAccordionDetails",["root"]);const _excluded$a=["className"],useUtilityClasses$7=_e=>{const{classes:tt}=_e;return composeClasses({root:["root"]},getAccordionDetailsUtilityClass,tt)},AccordionDetailsRoot=styled$1("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(_e,tt)=>tt.root})(({theme:_e})=>({padding:_e.spacing(1,2,2)})),AccordionDetails=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordionDetails"}),{className:rt}=nt,it=_objectWithoutPropertiesLoose(nt,_excluded$a),ot=nt,st=useUtilityClasses$7(ot);return jsxRuntimeExports.jsx(AccordionDetailsRoot,_extends({className:clsx(st.root,rt),ref:et,ownerState:ot},it))}),AccordionDetails$1=AccordionDetails;function Ripple(_e){const{className:tt,classes:et,pulsate:nt=!1,rippleX:rt,rippleY:it,rippleSize:ot,in:st,onExited:at,timeout:ct}=_e,[lt,dt]=reactExports.useState(!1),ut=clsx(tt,et.ripple,et.rippleVisible,nt&&et.ripplePulsate),ft={width:ot,height:ot,top:-(ot/2)+it,left:-(ot/2)+rt},pt=clsx(et.child,lt&&et.childLeaving,nt&&et.childPulsate);return!st&&!lt&&dt(!0),reactExports.useEffect(()=>{if(!st&&at!=null){const bt=setTimeout(at,ct);return()=>{clearTimeout(bt)}}},[at,st,ct]),jsxRuntimeExports.jsx("span",{className:ut,style:ft,children:jsxRuntimeExports.jsx("span",{className:pt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$9=["center","classes","className"];let _=_e=>_e,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:_e})=>_e.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:_e})=>_e.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:_e})=>_e.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:_e})=>_e.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiTouchRipple"}),{center:rt=!1,classes:it={},className:ot}=nt,st=_objectWithoutPropertiesLoose(nt,_excluded$9),[at,ct]=reactExports.useState([]),lt=reactExports.useRef(0),dt=reactExports.useRef(null);reactExports.useEffect(()=>{dt.current&&(dt.current(),dt.current=null)},[at]);const ut=reactExports.useRef(!1),ft=reactExports.useRef(null),pt=reactExports.useRef(null),bt=reactExports.useRef(null);reactExports.useEffect(()=>()=>{clearTimeout(ft.current)},[]);const Tt=reactExports.useCallback(Ct=>{const{pulsate:It,rippleX:Zt,rippleY:Wt,rippleSize:kt,cb:Nt}=Ct;ct(Lt=>[...Lt,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(it.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(it.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(it.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(it.child,touchRippleClasses$1.child),childLeaving:clsx(it.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(it.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:It,rippleX:Zt,rippleY:Wt,rippleSize:kt},lt.current)]),lt.current+=1,dt.current=Nt},[it]),ht=reactExports.useCallback((Ct={},It={},Zt=()=>{})=>{const{pulsate:Wt=!1,center:kt=rt||It.pulsate,fakeElement:Nt=!1}=It;if((Ct==null?void 0:Ct.type)==="mousedown"&&ut.current){ut.current=!1;return}(Ct==null?void 0:Ct.type)==="touchstart"&&(ut.current=!0);const Lt=Nt?null:bt.current,Mt=Lt?Lt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let tn,$t,Ht;if(kt||Ct===void 0||Ct.clientX===0&&Ct.clientY===0||!Ct.clientX&&!Ct.touches)tn=Math.round(Mt.width/2),$t=Math.round(Mt.height/2);else{const{clientX:rn,clientY:ln}=Ct.touches&&Ct.touches.length>0?Ct.touches[0]:Ct;tn=Math.round(rn-Mt.left),$t=Math.round(ln-Mt.top)}if(kt)Ht=Math.sqrt((2*Mt.width**2+Mt.height**2)/3),Ht%2===0&&(Ht+=1);else{const rn=Math.max(Math.abs((Lt?Lt.clientWidth:0)-tn),tn)*2+2,ln=Math.max(Math.abs((Lt?Lt.clientHeight:0)-$t),$t)*2+2;Ht=Math.sqrt(rn**2+ln**2)}Ct!=null&&Ct.touches?pt.current===null&&(pt.current=()=>{Tt({pulsate:Wt,rippleX:tn,rippleY:$t,rippleSize:Ht,cb:Zt})},ft.current=setTimeout(()=>{pt.current&&(pt.current(),pt.current=null)},DELAY_RIPPLE)):Tt({pulsate:Wt,rippleX:tn,rippleY:$t,rippleSize:Ht,cb:Zt})},[rt,Tt]),gt=reactExports.useCallback(()=>{ht({},{pulsate:!0})},[ht]),vt=reactExports.useCallback((Ct,It)=>{if(clearTimeout(ft.current),(Ct==null?void 0:Ct.type)==="touchend"&&pt.current){pt.current(),pt.current=null,ft.current=setTimeout(()=>{vt(Ct,It)});return}pt.current=null,ct(Zt=>Zt.length>0?Zt.slice(1):Zt),dt.current=It},[]);return reactExports.useImperativeHandle(et,()=>({pulsate:gt,start:ht,stop:vt}),[gt,ht,vt]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends({className:clsx(touchRippleClasses$1.root,it.root,ot),ref:bt},st,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:at})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(_e){return generateUtilityClass("MuiButtonBase",_e)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$8=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$6=_e=>{const{disabled:tt,focusVisible:et,focusVisibleClassName:nt,classes:rt}=_e,ot=composeClasses({root:["root",tt&&"disabled",et&&"focusVisible"]},getButtonBaseUtilityClass,rt);return et&&nt&&(ot.root+=` ${nt}`),ot},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(_e,tt)=>tt.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiButtonBase"}),{action:rt,centerRipple:it=!1,children:ot,className:st,component:at="button",disabled:ct=!1,disableRipple:lt=!1,disableTouchRipple:dt=!1,focusRipple:ut=!1,LinkComponent:ft="a",onBlur:pt,onClick:bt,onContextMenu:Tt,onDragLeave:ht,onFocus:gt,onFocusVisible:vt,onKeyDown:Ct,onKeyUp:It,onMouseDown:Zt,onMouseLeave:Wt,onMouseUp:kt,onTouchEnd:Nt,onTouchMove:Lt,onTouchStart:Mt,tabIndex:tn=0,TouchRippleProps:$t,touchRippleRef:Ht,type:rn}=nt,ln=_objectWithoutPropertiesLoose(nt,_excluded$8),mn=reactExports.useRef(null),on=reactExports.useRef(null),yn=useForkRef(on,Ht),{isFocusVisibleRef:hn,onFocus:un,onBlur:dn,ref:Nn}=useIsFocusVisible(),[Wn,pn]=reactExports.useState(!1);ct&&Wn&&pn(!1),reactExports.useImperativeHandle(rt,()=>({focusVisible:()=>{pn(!0),mn.current.focus()}}),[]);const[Rn,xn]=reactExports.useState(!1);reactExports.useEffect(()=>{xn(!0)},[]);const Jn=Rn&&!lt&&!ct;reactExports.useEffect(()=>{Wn&&ut&&!lt&&Rn&&on.current.pulsate()},[lt,ut,Wn,Rn]);function cr(jr,mo,bo=dt){return useEventCallback(go=>(mo&&mo(go),!bo&&on.current&&on.current[jr](go),!0))}const er=cr("start",Zt),_n=cr("stop",Tt),Sr=cr("stop",ht),vr=cr("stop",kt),Gr=cr("stop",jr=>{Wn&&jr.preventDefault(),Wt&&Wt(jr)}),Lr=cr("start",Mt),Ur=cr("stop",Nt),co=cr("stop",Lt),Tr=cr("stop",jr=>{dn(jr),hn.current===!1&&pn(!1),pt&&pt(jr)},!1),wr=useEventCallback(jr=>{mn.current||(mn.current=jr.currentTarget),un(jr),hn.current===!0&&(pn(!0),vt&&vt(jr)),gt&&gt(jr)}),Bn=()=>{const jr=mn.current;return at&&at!=="button"&&!(jr.tagName==="A"&&jr.href)},Gn=reactExports.useRef(!1),lr=useEventCallback(jr=>{ut&&!Gn.current&&Wn&&on.current&&jr.key===" "&&(Gn.current=!0,on.current.stop(jr,()=>{on.current.start(jr)})),jr.target===jr.currentTarget&&Bn()&&jr.key===" "&&jr.preventDefault(),Ct&&Ct(jr),jr.target===jr.currentTarget&&Bn()&&jr.key==="Enter"&&!ct&&(jr.preventDefault(),bt&&bt(jr))}),Vr=useEventCallback(jr=>{ut&&jr.key===" "&&on.current&&Wn&&!jr.defaultPrevented&&(Gn.current=!1,on.current.stop(jr,()=>{on.current.pulsate(jr)})),It&&It(jr),bt&&jr.target===jr.currentTarget&&Bn()&&jr.key===" "&&!jr.defaultPrevented&&bt(jr)});let oo=at;oo==="button"&&(ln.href||ln.to)&&(oo=ft);const Yn={};oo==="button"?(Yn.type=rn===void 0?"button":rn,Yn.disabled=ct):(!ln.href&&!ln.to&&(Yn.role="button"),ct&&(Yn["aria-disabled"]=ct));const yr=useForkRef(et,Nn,mn),Ar=_extends({},nt,{centerRipple:it,component:at,disabled:ct,disableRipple:lt,disableTouchRipple:dt,focusRipple:ut,tabIndex:tn,focusVisible:Wn}),so=useUtilityClasses$6(Ar);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends({as:oo,className:clsx(so.root,st),ownerState:Ar,onBlur:Tr,onClick:bt,onContextMenu:_n,onFocus:wr,onKeyDown:lr,onKeyUp:Vr,onMouseDown:er,onMouseLeave:Gr,onMouseUp:vr,onDragLeave:Sr,onTouchEnd:Ur,onTouchMove:co,onTouchStart:Lr,ref:yr,tabIndex:ct?-1:tn,type:rn},Yn,ln,{children:[ot,Jn?jsxRuntimeExports.jsx(TouchRipple$1,_extends({ref:yn,center:it},$t)):null]}))}),ButtonBase$1=ButtonBase;function getAccordionSummaryUtilityClass(_e){return generateUtilityClass("MuiAccordionSummary",_e)}const accordionSummaryClasses=generateUtilityClasses("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),accordionSummaryClasses$1=accordionSummaryClasses,_excluded$7=["children","className","expandIcon","focusVisibleClassName","onClick"],useUtilityClasses$5=_e=>{const{classes:tt,expanded:et,disabled:nt,disableGutters:rt}=_e;return composeClasses({root:["root",et&&"expanded",nt&&"disabled",!rt&&"gutters"],focusVisible:["focusVisible"],content:["content",et&&"expanded",!rt&&"contentGutters"],expandIconWrapper:["expandIconWrapper",et&&"expanded"]},getAccordionSummaryUtilityClass,tt)},AccordionSummaryRoot=styled$1(ButtonBase$1,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(_e,tt)=>tt.root})(({theme:_e,ownerState:tt})=>{const et={duration:_e.transitions.duration.shortest};return _extends({display:"flex",minHeight:48,padding:_e.spacing(0,2),transition:_e.transitions.create(["min-height","background-color"],et),[`&.${accordionSummaryClasses$1.focusVisible}`]:{backgroundColor:(_e.vars||_e).palette.action.focus},[`&.${accordionSummaryClasses$1.disabled}`]:{opacity:(_e.vars||_e).palette.action.disabledOpacity},[`&:hover:not(.${accordionSummaryClasses$1.disabled})`]:{cursor:"pointer"}},!tt.disableGutters&&{[`&.${accordionSummaryClasses$1.expanded}`]:{minHeight:64}})}),AccordionSummaryContent=styled$1("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(_e,tt)=>tt.content})(({theme:_e,ownerState:tt})=>_extends({display:"flex",flexGrow:1,margin:"12px 0"},!tt.disableGutters&&{transition:_e.transitions.create(["margin"],{duration:_e.transitions.duration.shortest}),[`&.${accordionSummaryClasses$1.expanded}`]:{margin:"20px 0"}})),AccordionSummaryExpandIconWrapper=styled$1("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(_e,tt)=>tt.expandIconWrapper})(({theme:_e})=>({display:"flex",color:(_e.vars||_e).palette.action.active,transform:"rotate(0deg)",transition:_e.transitions.create("transform",{duration:_e.transitions.duration.shortest}),[`&.${accordionSummaryClasses$1.expanded}`]:{transform:"rotate(180deg)"}})),AccordionSummary=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordionSummary"}),{children:rt,className:it,expandIcon:ot,focusVisibleClassName:st,onClick:at}=nt,ct=_objectWithoutPropertiesLoose(nt,_excluded$7),{disabled:lt=!1,disableGutters:dt,expanded:ut,toggle:ft}=reactExports.useContext(AccordionContext$1),pt=ht=>{ft&&ft(ht),at&&at(ht)},bt=_extends({},nt,{expanded:ut,disabled:lt,disableGutters:dt}),Tt=useUtilityClasses$5(bt);return jsxRuntimeExports.jsxs(AccordionSummaryRoot,_extends({focusRipple:!1,disableRipple:!0,disabled:lt,component:"div","aria-expanded":ut,className:clsx(Tt.root,it),focusVisibleClassName:clsx(Tt.focusVisible,st),onClick:pt,ref:et,ownerState:bt},ct,{children:[jsxRuntimeExports.jsx(AccordionSummaryContent,{className:Tt.content,ownerState:bt,children:rt}),ot&&jsxRuntimeExports.jsx(AccordionSummaryExpandIconWrapper,{className:Tt.expandIconWrapper,ownerState:bt,children:ot})]}))}),AccordionSummary$1=AccordionSummary;function getTypographyUtilityClass(_e){return generateUtilityClass("MuiTypography",_e)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$6=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$4=_e=>{const{align:tt,gutterBottom:et,noWrap:nt,paragraph:rt,variant:it,classes:ot}=_e,st={root:["root",it,_e.align!=="inherit"&&`align${capitalize(tt)}`,et&&"gutterBottom",nt&&"noWrap",rt&&"paragraph"]};return composeClasses(st,getTypographyUtilityClass,ot)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.variant&&tt[et.variant],et.align!=="inherit"&&tt[`align${capitalize(et.align)}`],et.noWrap&&tt.noWrap,et.gutterBottom&&tt.gutterBottom,et.paragraph&&tt.paragraph]}})(({theme:_e,ownerState:tt})=>_extends({margin:0},tt.variant&&_e.typography[tt.variant],tt.align!=="inherit"&&{textAlign:tt.align},tt.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},tt.gutterBottom&&{marginBottom:"0.35em"},tt.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations$1={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors$1=_e=>colorTransformations$1[_e]||_e,Typography=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiTypography"}),rt=transformDeprecatedColors$1(nt.color),it=extendSxProp(_extends({},nt,{color:rt})),{align:ot="inherit",className:st,component:at,gutterBottom:ct=!1,noWrap:lt=!1,paragraph:dt=!1,variant:ut="body1",variantMapping:ft=defaultVariantMapping}=it,pt=_objectWithoutPropertiesLoose(it,_excluded$6),bt=_extends({},it,{align:ot,color:rt,className:st,component:at,gutterBottom:ct,noWrap:lt,paragraph:dt,variant:ut,variantMapping:ft}),Tt=at||(dt?"p":ft[ut]||defaultVariantMapping[ut])||"span",ht=useUtilityClasses$4(bt);return jsxRuntimeExports.jsx(TypographyRoot,_extends({as:Tt,ref:et,ownerState:bt,className:clsx(ht.root,st)},pt))}),Typography$1=Typography,_excluded$5=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function _e(tt,et){const nt=useTheme(),rt={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:it,appear:ot=!0,children:st,easing:at,in:ct,onEnter:lt,onEntered:dt,onEntering:ut,onExit:ft,onExited:pt,onExiting:bt,style:Tt,timeout:ht=rt,TransitionComponent:gt=Transition$1}=tt,vt=_objectWithoutPropertiesLoose(tt,_excluded$5),Ct=reactExports.useRef(null),It=useForkRef(Ct,st.ref,et),Zt=Ht=>rn=>{if(Ht){const ln=Ct.current;rn===void 0?Ht(ln):Ht(ln,rn)}},Wt=Zt(ut),kt=Zt((Ht,rn)=>{reflow(Ht);const ln=getTransitionProps({style:Tt,timeout:ht,easing:at},{mode:"enter"});Ht.style.webkitTransition=nt.transitions.create("opacity",ln),Ht.style.transition=nt.transitions.create("opacity",ln),lt&&lt(Ht,rn)}),Nt=Zt(dt),Lt=Zt(bt),Mt=Zt(Ht=>{const rn=getTransitionProps({style:Tt,timeout:ht,easing:at},{mode:"exit"});Ht.style.webkitTransition=nt.transitions.create("opacity",rn),Ht.style.transition=nt.transitions.create("opacity",rn),ft&&ft(Ht)}),tn=Zt(pt),$t=Ht=>{it&&it(Ct.current,Ht)};return jsxRuntimeExports.jsx(gt,_extends({appear:ot,in:ct,nodeRef:Ct,onEnter:kt,onEntered:Nt,onEntering:Wt,onExit:Mt,onExited:tn,onExiting:Lt,addEndListener:$t,timeout:ht},vt,{children:(Ht,rn)=>reactExports.cloneElement(st,_extends({style:_extends({opacity:0,visibility:Ht==="exited"&&!ct?"hidden":void 0},styles[Ht],Tt,st.props.style),ref:It},rn))}))}),Fade$1=Fade;function getBackdropUtilityClass(_e){return generateUtilityClass("MuiBackdrop",_e)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$4=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$3=_e=>{const{classes:tt,invisible:et}=_e;return composeClasses({root:["root",et&&"invisible"]},getBackdropUtilityClass,tt)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.invisible&&tt.invisible]}})(({ownerState:_e})=>_extends({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},_e.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function _e(tt,et){var nt,rt,it;const ot=useThemeProps({props:tt,name:"MuiBackdrop"}),{children:st,className:at,component:ct="div",components:lt={},componentsProps:dt={},invisible:ut=!1,open:ft,slotProps:pt={},slots:bt={},TransitionComponent:Tt=Fade$1,transitionDuration:ht}=ot,gt=_objectWithoutPropertiesLoose(ot,_excluded$4),vt=_extends({},ot,{component:ct,invisible:ut}),Ct=useUtilityClasses$3(vt),It=(nt=pt.root)!=null?nt:dt.root;return jsxRuntimeExports.jsx(Tt,_extends({in:ft,timeout:ht},gt,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends({"aria-hidden":!0},It,{as:(rt=(it=bt.root)!=null?it:lt.Root)!=null?rt:ct,className:clsx(Ct.root,at,It==null?void 0:It.className),ownerState:_extends({},vt,It==null?void 0:It.ownerState),classes:Ct,ref:et,children:st}))}))}),Backdrop$1=Backdrop;function getButtonUtilityClass(_e){return generateUtilityClass("MuiButton",_e)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$3=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$2=_e=>{const{color:tt,disableElevation:et,fullWidth:nt,size:rt,variant:it,classes:ot}=_e,st={root:["root",it,`${it}${capitalize(tt)}`,`size${capitalize(rt)}`,`${it}Size${capitalize(rt)}`,tt==="inherit"&&"colorInherit",et&&"disableElevation",nt&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(rt)}`],endIcon:["endIcon",`iconSize${capitalize(rt)}`]},at=composeClasses(st,getButtonUtilityClass,ot);return _extends({},ot,at)},commonIconStyles=_e=>_extends({},_e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},_e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},_e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:_e=>rootShouldForwardProp(_e)||_e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.variant],tt[`${et.variant}${capitalize(et.color)}`],tt[`size${capitalize(et.size)}`],tt[`${et.variant}Size${capitalize(et.size)}`],et.color==="inherit"&&tt.colorInherit,et.disableElevation&&tt.disableElevation,et.fullWidth&&tt.fullWidth]}})(({theme:_e,ownerState:tt})=>{var et,nt;const rt=_e.palette.mode==="light"?_e.palette.grey[300]:_e.palette.grey[800],it=_e.palette.mode==="light"?_e.palette.grey.A100:_e.palette.grey[700];return _extends({},_e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(_e.vars||_e).shape.borderRadius,transition:_e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:_e.transitions.duration.short}),"&:hover":_extends({textDecoration:"none",backgroundColor:_e.vars?`rgba(${_e.vars.palette.text.primaryChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette.text.primary,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="text"&&tt.color!=="inherit"&&{backgroundColor:_e.vars?`rgba(${_e.vars.palette[tt.color].mainChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette[tt.color].main,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="outlined"&&tt.color!=="inherit"&&{border:`1px solid ${(_e.vars||_e).palette[tt.color].main}`,backgroundColor:_e.vars?`rgba(${_e.vars.palette[tt.color].mainChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette[tt.color].main,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="contained"&&{backgroundColor:_e.vars?_e.vars.palette.Button.inheritContainedHoverBg:it,boxShadow:(_e.vars||_e).shadows[4],"@media (hover: none)":{boxShadow:(_e.vars||_e).shadows[2],backgroundColor:(_e.vars||_e).palette.grey[300]}},tt.variant==="contained"&&tt.color!=="inherit"&&{backgroundColor:(_e.vars||_e).palette[tt.color].dark,"@media (hover: none)":{backgroundColor:(_e.vars||_e).palette[tt.color].main}}),"&:active":_extends({},tt.variant==="contained"&&{boxShadow:(_e.vars||_e).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends({},tt.variant==="contained"&&{boxShadow:(_e.vars||_e).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends({color:(_e.vars||_e).palette.action.disabled},tt.variant==="outlined"&&{border:`1px solid ${(_e.vars||_e).palette.action.disabledBackground}`},tt.variant==="contained"&&{color:(_e.vars||_e).palette.action.disabled,boxShadow:(_e.vars||_e).shadows[0],backgroundColor:(_e.vars||_e).palette.action.disabledBackground})},tt.variant==="text"&&{padding:"6px 8px"},tt.variant==="text"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].main},tt.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},tt.variant==="outlined"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].main,border:_e.vars?`1px solid rgba(${_e.vars.palette[tt.color].mainChannel} / 0.5)`:`1px solid ${alpha(_e.palette[tt.color].main,.5)}`},tt.variant==="contained"&&{color:_e.vars?_e.vars.palette.text.primary:(et=(nt=_e.palette).getContrastText)==null?void 0:et.call(nt,_e.palette.grey[300]),backgroundColor:_e.vars?_e.vars.palette.Button.inheritContainedBg:rt,boxShadow:(_e.vars||_e).shadows[2]},tt.variant==="contained"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].contrastText,backgroundColor:(_e.vars||_e).palette[tt.color].main},tt.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},tt.size==="small"&&tt.variant==="text"&&{padding:"4px 5px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="text"&&{padding:"8px 11px",fontSize:_e.typography.pxToRem(15)},tt.size==="small"&&tt.variant==="outlined"&&{padding:"3px 9px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="outlined"&&{padding:"7px 21px",fontSize:_e.typography.pxToRem(15)},tt.size==="small"&&tt.variant==="contained"&&{padding:"4px 10px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="contained"&&{padding:"8px 22px",fontSize:_e.typography.pxToRem(15)},tt.fullWidth&&{width:"100%"})},({ownerState:_e})=>_e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.startIcon,tt[`iconSize${capitalize(et.size)}`]]}})(({ownerState:_e})=>_extends({display:"inherit",marginRight:8,marginLeft:-4},_e.size==="small"&&{marginLeft:-2},commonIconStyles(_e))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.endIcon,tt[`iconSize${capitalize(et.size)}`]]}})(({ownerState:_e})=>_extends({display:"inherit",marginRight:-4,marginLeft:8},_e.size==="small"&&{marginRight:-2},commonIconStyles(_e))),Button=reactExports.forwardRef(function _e(tt,et){const nt=reactExports.useContext(ButtonGroupContext$1),rt=resolveProps(nt,tt),it=useThemeProps({props:rt,name:"MuiButton"}),{children:ot,color:st="primary",component:at="button",className:ct,disabled:lt=!1,disableElevation:dt=!1,disableFocusRipple:ut=!1,endIcon:ft,focusVisibleClassName:pt,fullWidth:bt=!1,size:Tt="medium",startIcon:ht,type:gt,variant:vt="text"}=it,Ct=_objectWithoutPropertiesLoose(it,_excluded$3),It=_extends({},it,{color:st,component:at,disabled:lt,disableElevation:dt,disableFocusRipple:ut,fullWidth:bt,size:Tt,type:gt,variant:vt}),Zt=useUtilityClasses$2(It),Wt=ht&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:Zt.startIcon,ownerState:It,children:ht}),kt=ft&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:Zt.endIcon,ownerState:It,children:ft});return jsxRuntimeExports.jsxs(ButtonRoot,_extends({ownerState:It,className:clsx(nt.className,Zt.root,ct),component:at,disabled:lt,focusRipple:!ut,focusVisibleClassName:clsx(Zt.focusVisible,pt),ref:et,type:gt},Ct,{classes:Zt,children:[Wt,ot,kt]}))}),Button$1=Button,_excluded$2=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,!et.open&&et.exited&&tt.hidden]}})(({theme:_e,ownerState:tt})=>_extends({position:"fixed",zIndex:(_e.vars||_e).zIndex.modal,right:0,bottom:0,top:0,left:0},!tt.open&&tt.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(_e,tt)=>tt.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function _e(tt,et){var nt,rt,it,ot,st,at;const ct=useThemeProps({name:"MuiModal",props:tt}),{BackdropComponent:lt=ModalBackdrop,BackdropProps:dt,classes:ut,className:ft,closeAfterTransition:pt=!1,children:bt,container:Tt,component:ht,components:gt={},componentsProps:vt={},disableAutoFocus:Ct=!1,disableEnforceFocus:It=!1,disableEscapeKeyDown:Zt=!1,disablePortal:Wt=!1,disableRestoreFocus:kt=!1,disableScrollLock:Nt=!1,hideBackdrop:Lt=!1,keepMounted:Mt=!1,onBackdropClick:tn,onClose:$t,open:Ht,slotProps:rn,slots:ln,theme:mn}=ct,on=_objectWithoutPropertiesLoose(ct,_excluded$2),[yn,hn]=reactExports.useState(!0),un={container:Tt,closeAfterTransition:pt,disableAutoFocus:Ct,disableEnforceFocus:It,disableEscapeKeyDown:Zt,disablePortal:Wt,disableRestoreFocus:kt,disableScrollLock:Nt,hideBackdrop:Lt,keepMounted:Mt,onBackdropClick:tn,onClose:$t,open:Ht},dn=_extends({},ct,un,{exited:yn}),Nn=(nt=(rt=ln==null?void 0:ln.root)!=null?rt:gt.Root)!=null?nt:ModalRoot,Wn=(it=(ot=ln==null?void 0:ln.backdrop)!=null?ot:gt.Backdrop)!=null?it:lt,pn=(st=rn==null?void 0:rn.root)!=null?st:vt.root,Rn=(at=rn==null?void 0:rn.backdrop)!=null?at:vt.backdrop;return jsxRuntimeExports.jsx(ModalUnstyled,_extends({slots:{root:Nn,backdrop:Wn},slotProps:{root:()=>_extends({},resolveComponentProps(pn,dn),!isHostComponent(Nn)&&{as:ht,theme:mn},{className:clsx(ft,pn==null?void 0:pn.className,ut==null?void 0:ut.root,!dn.open&&dn.exited&&(ut==null?void 0:ut.hidden))}),backdrop:()=>_extends({},dt,resolveComponentProps(Rn,dn),{className:clsx(Rn==null?void 0:Rn.className,dt==null?void 0:dt.className,ut==null?void 0:ut.backdrop)})},onTransitionEnter:()=>hn(!1),onTransitionExited:()=>hn(!0),ref:et},on,un,{children:bt}))}),Modal$1=Modal;function getDialogUtilityClass(_e){return generateUtilityClass("MuiDialog",_e)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext=reactExports.createContext({}),DialogContext$1=DialogContext,_excluded$1=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$1(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(_e,tt)=>tt.backdrop})({zIndex:-1}),useUtilityClasses$1=_e=>{const{classes:tt,scroll:et,maxWidth:nt,fullWidth:rt,fullScreen:it}=_e,ot={root:["root"],container:["container",`scroll${capitalize(et)}`],paper:["paper",`paperScroll${capitalize(et)}`,`paperWidth${capitalize(String(nt))}`,rt&&"paperFullWidth",it&&"paperFullScreen"]};return composeClasses(ot,getDialogUtilityClass,tt)},DialogRoot=styled$1(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(_e,tt)=>tt.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$1("div",{name:"MuiDialog",slot:"Container",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.container,tt[`scroll${capitalize(et.scroll)}`]]}})(({ownerState:_e})=>_extends({height:"100%","@media print":{height:"auto"},outline:0},_e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},_e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$1(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.paper,tt[`scrollPaper${capitalize(et.scroll)}`],tt[`paperWidth${capitalize(String(et.maxWidth))}`],et.fullWidth&&tt.paperFullWidth,et.fullScreen&&tt.paperFullScreen]}})(({theme:_e,ownerState:tt})=>_extends({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},tt.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},tt.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!tt.maxWidth&&{maxWidth:"calc(100% - 64px)"},tt.maxWidth==="xs"&&{maxWidth:_e.breakpoints.unit==="px"?Math.max(_e.breakpoints.values.xs,444):`max(${_e.breakpoints.values.xs}${_e.breakpoints.unit}, 444px)`,[`&.${dialogClasses$1.paperScrollBody}`]:{[_e.breakpoints.down(Math.max(_e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},tt.maxWidth&&tt.maxWidth!=="xs"&&{maxWidth:`${_e.breakpoints.values[tt.maxWidth]}${_e.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[_e.breakpoints.down(_e.breakpoints.values[tt.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},tt.fullWidth&&{width:"calc(100% - 64px)"},tt.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses$1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiDialog"}),rt=useTheme(),it={enter:rt.transitions.duration.enteringScreen,exit:rt.transitions.duration.leavingScreen},{"aria-describedby":ot,"aria-labelledby":st,BackdropComponent:at,BackdropProps:ct,children:lt,className:dt,disableEscapeKeyDown:ut=!1,fullScreen:ft=!1,fullWidth:pt=!1,maxWidth:bt="sm",onBackdropClick:Tt,onClose:ht,open:gt,PaperComponent:vt=Paper$1,PaperProps:Ct={},scroll:It="paper",TransitionComponent:Zt=Fade$1,transitionDuration:Wt=it,TransitionProps:kt}=nt,Nt=_objectWithoutPropertiesLoose(nt,_excluded$1),Lt=_extends({},nt,{disableEscapeKeyDown:ut,fullScreen:ft,fullWidth:pt,maxWidth:bt,scroll:It}),Mt=useUtilityClasses$1(Lt),tn=reactExports.useRef(),$t=mn=>{tn.current=mn.target===mn.currentTarget},Ht=mn=>{tn.current&&(tn.current=null,Tt&&Tt(mn),ht&&ht(mn,"backdropClick"))},rn=useId(st),ln=reactExports.useMemo(()=>({titleId:rn}),[rn]);return jsxRuntimeExports.jsx(DialogRoot,_extends({className:clsx(Mt.root,dt),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends({transitionDuration:Wt,as:at},ct)},disableEscapeKeyDown:ut,onClose:ht,open:gt,ref:et,onClick:Ht,ownerState:Lt},Nt,{children:jsxRuntimeExports.jsx(Zt,_extends({appear:!0,in:gt,timeout:Wt,role:"presentation"},kt,{children:jsxRuntimeExports.jsx(DialogContainer,{className:clsx(Mt.container),onMouseDown:$t,ownerState:Lt,children:jsxRuntimeExports.jsx(DialogPaper,_extends({as:vt,elevation:24,role:"dialog","aria-describedby":ot,"aria-labelledby":rn},Ct,{className:clsx(Mt.paper,Ct.className),ownerState:Lt,children:jsxRuntimeExports.jsx(DialogContext$1.Provider,{value:ln,children:lt})}))})}))}))}),Dialog$1=Dialog;function getLinkUtilityClass(_e){return generateUtilityClass("MuiLink",_e)}const linkClasses=generateUtilityClasses("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),linkClasses$1=linkClasses,colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=_e=>colorTransformations[_e]||_e,getTextDecoration=({theme:_e,ownerState:tt})=>{const et=transformDeprecatedColors(tt.color),nt=getPath(_e,`palette.${et}`,!1)||tt.color,rt=getPath(_e,`palette.${et}Channel`);return"vars"in _e&&rt?`rgba(${rt} / 0.4)`:alpha(nt,.4)},getTextDecoration$1=getTextDecoration,_excluded=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses=_e=>{const{classes:tt,component:et,focusVisible:nt,underline:rt}=_e,it={root:["root",`underline${capitalize(rt)}`,et==="button"&&"button",nt&&"focusVisible"]};return composeClasses(it,getLinkUtilityClass,tt)},LinkRoot=styled$1(Typography$1,{name:"MuiLink",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[`underline${capitalize(et.underline)}`],et.component==="button"&&tt.button]}})(({theme:_e,ownerState:tt})=>_extends({},tt.underline==="none"&&{textDecoration:"none"},tt.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},tt.underline==="always"&&_extends({textDecoration:"underline"},tt.color!=="inherit"&&{textDecorationColor:getTextDecoration$1({theme:_e,ownerState:tt})},{"&:hover":{textDecorationColor:"inherit"}}),tt.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${linkClasses$1.focusVisible}`]:{outline:"auto"}})),Link=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiLink"}),{className:rt,color:it="primary",component:ot="a",onBlur:st,onFocus:at,TypographyClasses:ct,underline:lt="always",variant:dt="inherit",sx:ut}=nt,ft=_objectWithoutPropertiesLoose(nt,_excluded),{isFocusVisibleRef:pt,onBlur:bt,onFocus:Tt,ref:ht}=useIsFocusVisible(),[gt,vt]=reactExports.useState(!1),Ct=useForkRef(et,ht),It=Nt=>{bt(Nt),pt.current===!1&&vt(!1),st&&st(Nt)},Zt=Nt=>{Tt(Nt),pt.current===!0&&vt(!0),at&&at(Nt)},Wt=_extends({},nt,{color:it,component:ot,focusVisible:gt,underline:lt,variant:dt}),kt=useUtilityClasses(Wt);return jsxRuntimeExports.jsx(LinkRoot,_extends({color:it,className:clsx(kt.root,rt),classes:ct,component:ot,onBlur:It,onFocus:Zt,ref:Ct,ownerState:Wt,variant:dt,sx:[...Object.keys(colorTransformations).includes(it)?[]:[{color:it}],...Array.isArray(ut)?ut:[ut]]},ft))}),Link$1=Link;var ExpandMoreRounded={},interopRequireDefaultExports={},interopRequireDefault={get exports(){return interopRequireDefaultExports},set exports(_e){interopRequireDefaultExports=_e}};(function(_e){function tt(et){return et&&et.__esModule?et:{default:et}}_e.exports=tt,_e.exports.__esModule=!0,_e.exports.default=_e.exports})(interopRequireDefault);var createSvgIcon={};const require$$0$1=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return tt.createSvgIcon}});var tt=require$$0$1}(createSvgIcon)),createSvgIcon}var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(ExpandMoreRounded,"__esModule",{value:!0});var default_1=ExpandMoreRounded.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M15.88 9.29 12 13.17 8.12 9.29a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0z"}),"ExpandMoreRounded");default_1=ExpandMoreRounded.default=_default;const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(tt,et){const nt=et.match(tt);return nt&&nt.length>0&&nt[1]||""}static getSecondMatch(tt,et){const nt=et.match(tt);return nt&&nt.length>1&&nt[2]||""}static matchAndReturnConst(tt,et,nt){if(tt.test(et))return nt}static getWindowsVersionName(tt){switch(tt){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(tt){const et=tt.split(".").splice(0,2).map(nt=>parseInt(nt,10)||0);if(et.push(0),et[0]===10)switch(et[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(tt){const et=tt.split(".").splice(0,2).map(nt=>parseInt(nt,10)||0);if(et.push(0),!(et[0]===1&&et[1]<5)){if(et[0]===1&&et[1]<6)return"Cupcake";if(et[0]===1&&et[1]>=6)return"Donut";if(et[0]===2&&et[1]<2)return"Eclair";if(et[0]===2&&et[1]===2)return"Froyo";if(et[0]===2&&et[1]>2)return"Gingerbread";if(et[0]===3)return"Honeycomb";if(et[0]===4&&et[1]<1)return"Ice Cream Sandwich";if(et[0]===4&&et[1]<4)return"Jelly Bean";if(et[0]===4&&et[1]>=4)return"KitKat";if(et[0]===5)return"Lollipop";if(et[0]===6)return"Marshmallow";if(et[0]===7)return"Nougat";if(et[0]===8)return"Oreo";if(et[0]===9)return"Pie"}}static getVersionPrecision(tt){return tt.split(".").length}static compareVersions(tt,et,nt=!1){const rt=Utils.getVersionPrecision(tt),it=Utils.getVersionPrecision(et);let ot=Math.max(rt,it),st=0;const at=Utils.map([tt,et],ct=>{const lt=ot-Utils.getVersionPrecision(ct),dt=ct+new Array(lt+1).join(".0");return Utils.map(dt.split("."),ut=>new Array(20-ut.length).join("0")+ut).reverse()});for(nt&&(st=ot-Math.min(rt,it)),ot-=1;ot>=st;){if(at[0][ot]>at[1][ot])return 1;if(at[0][ot]===at[1][ot]){if(ot===st)return 0;ot-=1}else if(at[0][ot]<at[1][ot])return-1}}static map(tt,et){const nt=[];let rt;if(Array.prototype.map)return Array.prototype.map.call(tt,et);for(rt=0;rt<tt.length;rt+=1)nt.push(et(tt[rt]));return nt}static find(tt,et){let nt,rt;if(Array.prototype.find)return Array.prototype.find.call(tt,et);for(nt=0,rt=tt.length;nt<rt;nt+=1){const it=tt[nt];if(et(it,nt))return it}}static assign(tt,...et){const nt=tt;let rt,it;if(Object.assign)return Object.assign(tt,...et);for(rt=0,it=et.length;rt<it;rt+=1){const ot=et[rt];typeof ot=="object"&&ot!==null&&Object.keys(ot).forEach(at=>{nt[at]=ot[at]})}return tt}static getBrowserAlias(tt){return BROWSER_ALIASES_MAP[tt]}static getBrowserTypeByAlias(tt){return BROWSER_MAP[tt]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(_e){const tt={name:"Googlebot"},et=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/opera/i],describe(_e){const tt={name:"Opera"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/opr\/|opios/i],describe(_e){const tt={name:"Opera"},et=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/SamsungBrowser/i],describe(_e){const tt={name:"Samsung Internet for Android"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/Whale/i],describe(_e){const tt={name:"NAVER Whale Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/MZBrowser/i],describe(_e){const tt={name:"MZ Browser"},et=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/focus/i],describe(_e){const tt={name:"Focus"},et=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/swing/i],describe(_e){const tt={name:"Swing"},et=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/coast/i],describe(_e){const tt={name:"Opera Coast"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(_e){const tt={name:"Opera Touch"},et=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/yabrowser/i],describe(_e){const tt={name:"Yandex Browser"},et=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/ucbrowser/i],describe(_e){const tt={name:"UC Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/Maxthon|mxios/i],describe(_e){const tt={name:"Maxthon"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/epiphany/i],describe(_e){const tt={name:"Epiphany"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/puffin/i],describe(_e){const tt={name:"Puffin"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/sleipnir/i],describe(_e){const tt={name:"Sleipnir"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/k-meleon/i],describe(_e){const tt={name:"K-Meleon"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/micromessenger/i],describe(_e){const tt={name:"WeChat"},et=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/qqbrowser/i],describe(_e){const tt={name:/qqbrowserlite/i.test(_e)?"QQ Browser Lite":"QQ Browser"},et=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/msie|trident/i],describe(_e){const tt={name:"Internet Explorer"},et=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/\sedg\//i],describe(_e){const tt={name:"Microsoft Edge"},et=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/edg([ea]|ios)/i],describe(_e){const tt={name:"Microsoft Edge"},et=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/vivaldi/i],describe(_e){const tt={name:"Vivaldi"},et=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/seamonkey/i],describe(_e){const tt={name:"SeaMonkey"},et=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/sailfish/i],describe(_e){const tt={name:"Sailfish"},et=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,_e);return et&&(tt.version=et),tt}},{test:[/silk/i],describe(_e){const tt={name:"Amazon Silk"},et=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/phantom/i],describe(_e){const tt={name:"PhantomJS"},et=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/slimerjs/i],describe(_e){const tt={name:"SlimerJS"},et=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(_e){const tt={name:"BlackBerry"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/(web|hpw)[o0]s/i],describe(_e){const tt={name:"WebOS Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/bada/i],describe(_e){const tt={name:"Bada"},et=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/tizen/i],describe(_e){const tt={name:"Tizen"},et=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/qupzilla/i],describe(_e){const tt={name:"QupZilla"},et=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/firefox|iceweasel|fxios/i],describe(_e){const tt={name:"Firefox"},et=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/electron/i],describe(_e){const tt={name:"Electron"},et=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/MiuiBrowser/i],describe(_e){const tt={name:"Miui"},et=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/chromium/i],describe(_e){const tt={name:"Chromium"},et=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/chrome|crios|crmo/i],describe(_e){const tt={name:"Chrome"},et=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/GSA/i],describe(_e){const tt={name:"Google Search"},et=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){const tt=!_e.test(/like android/i),et=_e.test(/android/i);return tt&&et},describe(_e){const tt={name:"Android Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/playstation 4/i],describe(_e){const tt={name:"PlayStation 4"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/safari|applewebkit/i],describe(_e){const tt={name:"Safari"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/.*/i],describe(_e){const tt=/^(.*)\/(.*) /,et=/^(.*)\/(.*)[ \t]\((.*)/,rt=_e.search("\\(")!==-1?et:tt;return{name:Utils.getFirstMatch(rt,_e),version:Utils.getSecondMatch(rt,_e)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(_e){const tt=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,_e);return{name:OS_MAP.Roku,version:tt}}},{test:[/windows phone/i],describe(_e){const tt=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,_e);return{name:OS_MAP.WindowsPhone,version:tt}}},{test:[/windows /i],describe(_e){const tt=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,_e),et=Utils.getWindowsVersionName(tt);return{name:OS_MAP.Windows,version:tt,versionName:et}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(_e){const tt={name:OS_MAP.iOS},et=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,_e);return et&&(tt.version=et),tt}},{test:[/macintosh/i],describe(_e){const tt=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,_e).replace(/[_\s]/g,"."),et=Utils.getMacOSVersionName(tt),nt={name:OS_MAP.MacOS,version:tt};return et&&(nt.versionName=et),nt}},{test:[/(ipod|iphone|ipad)/i],describe(_e){const tt=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,_e).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:tt}}},{test(_e){const tt=!_e.test(/like android/i),et=_e.test(/android/i);return tt&&et},describe(_e){const tt=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,_e),et=Utils.getAndroidVersionName(tt),nt={name:OS_MAP.Android,version:tt};return et&&(nt.versionName=et),nt}},{test:[/(web|hpw)[o0]s/i],describe(_e){const tt=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,_e),et={name:OS_MAP.WebOS};return tt&&tt.length&&(et.version=tt),et}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(_e){const tt=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,_e)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,_e)||Utils.getFirstMatch(/\bbb(\d+)/i,_e);return{name:OS_MAP.BlackBerry,version:tt}}},{test:[/bada/i],describe(_e){const tt=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,_e);return{name:OS_MAP.Bada,version:tt}}},{test:[/tizen/i],describe(_e){const tt=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,_e);return{name:OS_MAP.Tizen,version:tt}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(_e){const tt=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,_e);return{name:OS_MAP.PlayStation4,version:tt}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(_e){const tt=Utils.getFirstMatch(/(can-l01)/i,_e)&&"Nova",et={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return tt&&(et.model=tt),et}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(_e){const tt=_e.test(/ipod|iphone/i),et=_e.test(/like (ipod|iphone)/i);return tt&&!et},describe(_e){const tt=Utils.getFirstMatch(/(ipod|iphone)/i,_e);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:tt}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(_e){return _e.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(_e){const tt=Number(String(_e.getOSVersion()).split(".")[0]);return _e.getOSName(!0)==="android"&&tt>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(_e){return _e.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(_e){return _e.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(_e){return _e.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(_e){return _e.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(_e){return _e.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(_e){return _e.getBrowserName(!0)==="microsoft edge"},describe(_e){if(/\sedg\//i.test(_e))return{name:ENGINE_MAP.Blink};const et=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,_e);return{name:ENGINE_MAP.EdgeHTML,version:et}}},{test:[/trident/i],describe(_e){const tt={name:ENGINE_MAP.Trident},et=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){return _e.test(/presto/i)},describe(_e){const tt={name:ENGINE_MAP.Presto},et=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){const tt=_e.test(/gecko/i),et=_e.test(/like gecko/i);return tt&&!et},describe(_e){const tt={name:ENGINE_MAP.Gecko},et=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(_e){const tt={name:ENGINE_MAP.WebKit},et=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}}];class Parser{constructor(tt,et=!1){if(tt==null||tt==="")throw new Error("UserAgent parameter can't be empty");this._ua=tt,this.parsedResult={},et!==!0&&this.parse()}getUA(){return this._ua}test(tt){return tt.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const tt=Utils.find(browsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.browser=tt.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(tt){return tt?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const tt=Utils.find(osParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.os=tt.describe(this.getUA())),this.parsedResult.os}getOSName(tt){const{name:et}=this.getOS();return tt?String(et).toLowerCase()||"":et||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(tt=!1){const{type:et}=this.getPlatform();return tt?String(et).toLowerCase()||"":et||""}parsePlatform(){this.parsedResult.platform={};const tt=Utils.find(platformParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.platform=tt.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(tt){return tt?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const tt=Utils.find(enginesParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.engine=tt.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(tt){const et={};let nt=0;const rt={};let it=0;if(Object.keys(tt).forEach(st=>{const at=tt[st];typeof at=="string"?(rt[st]=at,it+=1):typeof at=="object"&&(et[st]=at,nt+=1)}),nt>0){const st=Object.keys(et),at=Utils.find(st,lt=>this.isOS(lt));if(at){const lt=this.satisfies(et[at]);if(lt!==void 0)return lt}const ct=Utils.find(st,lt=>this.isPlatform(lt));if(ct){const lt=this.satisfies(et[ct]);if(lt!==void 0)return lt}}if(it>0){const st=Object.keys(rt),at=Utils.find(st,ct=>this.isBrowser(ct,!0));if(at!==void 0)return this.compareVersion(rt[at])}}isBrowser(tt,et=!1){const nt=this.getBrowserName().toLowerCase();let rt=tt.toLowerCase();const it=Utils.getBrowserTypeByAlias(rt);return et&&it&&(rt=it.toLowerCase()),rt===nt}compareVersion(tt){let et=[0],nt=tt,rt=!1;const it=this.getBrowserVersion();if(typeof it=="string")return tt[0]===">"||tt[0]==="<"?(nt=tt.substr(1),tt[1]==="="?(rt=!0,nt=tt.substr(2)):et=[],tt[0]===">"?et.push(1):et.push(-1)):tt[0]==="="?nt=tt.substr(1):tt[0]==="~"&&(rt=!0,nt=tt.substr(1)),et.indexOf(Utils.compareVersions(it,nt,rt))>-1}isOS(tt){return this.getOSName(!0)===String(tt).toLowerCase()}isPlatform(tt){return this.getPlatformType(!0)===String(tt).toLowerCase()}isEngine(tt){return this.getEngineName(!0)===String(tt).toLowerCase()}is(tt,et=!1){return this.isBrowser(tt,et)||this.isOS(tt)||this.isPlatform(tt)}some(tt=[]){return tt.some(et=>this.is(et))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(tt,et=!1){if(typeof tt!="string")throw new Error("UserAgent should be a string");return new Parser(tt,et)}static parse(tt){return new Parser(tt).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}const bowser=Object.freeze(Object.defineProperty({__proto__:null,default:Bowser},Symbol.toStringTag,{value:"Module"}));var lib={},requestMediaPermissions={};const require$$0=getAugmentedNamespace(bowser);(function(_e){var tt=commonjsGlobal&&commonjsGlobal.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.requestVideoPermissions=_e.requestAudioPermissions=_e.requestMediaPermissions=_e.MediaPermissionsErrorType=void 0;const et=tt(require$$0);var nt;(function(st){st.SystemPermissionDenied="SystemPermissionDenied",st.UserPermissionDenied="UserPermissionDenied",st.CouldNotStartVideoSource="CouldNotStartVideoSource",st.Generic="Generic"})(nt=_e.MediaPermissionsErrorType||(_e.MediaPermissionsErrorType={}));const rt=st=>new Promise((at,ct)=>{navigator.mediaDevices.getUserMedia(st??{audio:!0,video:!0}).then(lt=>{lt.getTracks().forEach(dt=>{dt.stop()}),at(!0)}).catch(lt=>{const ut=et.default.getParser(window.navigator.userAgent).getBrowserName(),ft=lt.name,pt=lt.message;let bt=nt.Generic;ut==="Chrome"?ft==="NotAllowedError"?pt==="Permission denied by system"?bt=nt.SystemPermissionDenied:pt==="Permission denied"&&(bt=nt.UserPermissionDenied):ft==="NotReadableError"&&(bt=nt.CouldNotStartVideoSource):ut==="Safari"?ft==="NotAllowedError"&&(bt=nt.UserPermissionDenied):ut==="Microsoft Edge"?ft==="NotAllowedError"?bt=nt.UserPermissionDenied:ft==="NotReadableError"&&(bt=nt.CouldNotStartVideoSource):ut==="Firefox"&&(ft==="NotFoundError"||ft==="NotReadableError"?bt=nt.SystemPermissionDenied:ft==="NotAllowedError"?bt=nt.UserPermissionDenied:ft==="AbortError"&&(bt=nt.CouldNotStartVideoSource)),ct({type:bt,name:lt.name,message:lt.message})})});_e.requestMediaPermissions=rt;const it=()=>(0,_e.requestMediaPermissions)({audio:!0,video:!1});_e.requestAudioPermissions=it;const ot=()=>(0,_e.requestMediaPermissions)({audio:!1,video:!0});_e.requestVideoPermissions=ot})(requestMediaPermissions);(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.requestMediaPermissions=_e.MediaPermissionsErrorType=void 0;var tt=requestMediaPermissions;Object.defineProperty(_e,"MediaPermissionsErrorType",{enumerable:!0,get:function(){return tt.MediaPermissionsErrorType}}),Object.defineProperty(_e,"requestMediaPermissions",{enumerable:!0,get:function(){return tt.requestMediaPermissions}})})(lib);const browser=Bowser.getParser(window.navigator.userAgent),MediaOnboardingDialog=()=>{const[_e,tt]=React.useState(null),[et,nt]=React.useState(!1),[rt,it]=React.useState(!1),[ot,st]=React.useState(),at=reactExports.useRef(_e);at.current=_e;const ct=reactExports.useRef(et);ct.current=et;const lt=reactExports.useRef(rt);lt.current=rt,React.useEffect(()=>{ut()},[]),React.useEffect(()=>{console.log("audio allowed permission changed: ",et)},[et,rt]);const dt=()=>{(!ct.current||!lt.current)&&at.current===null&&tt("explanation")},ut=()=>{lib.requestMediaPermissions().then(()=>{nt(!0),it(!0),tt(null)}).catch(Ct=>{console.log("MediaOnboardingDialog: ",Ct),Ct.type===lib.MediaPermissionsErrorType.SystemPermissionDenied?tt("systemDenied"):Ct.type===lib.MediaPermissionsErrorType.UserPermissionDenied?tt("userDenied"):Ct.type===lib.MediaPermissionsErrorType.CouldNotStartVideoSource&&tt("trackError"),st(Ct)}),setTimeout(()=>{dt()},500)},ft=Ct=>jsxRuntimeExports.jsx("div",{style:{width:"100%",marginTop:20},children:jsxRuntimeExports.jsx(Button$1,{onClick:()=>{browser.getBrowserName()==="Safari"?window.location.reload():ut()},color:"primary",style:{float:"right"},children:Ct||"Retry"})}),pt=()=>ot?jsxRuntimeExports.jsx("div",{style:{marginTop:10},children:jsxRuntimeExports.jsxs(Accordion$1,{children:[jsxRuntimeExports.jsx(AccordionSummary$1,{expandIcon:jsxRuntimeExports.jsx(default_1,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:jsxRuntimeExports.jsx(Typography$1,{variant:"caption",style:{color:"red"},children:"Error Details"})}),jsxRuntimeExports.jsx(AccordionDetails$1,{children:jsxRuntimeExports.jsxs(Typography$1,{variant:"caption",children:[ot.name,": ",ot.message]})})]})}):null,bt=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Allow App to use your camera and microphone"}),jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle1",children:"App needs access to your camera and microphone so that other participants can see and hear you."})]}),Tt=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Camera and microphone are blocked"}),jsxRuntimeExports.jsxs(Typography$1,{children:["App requires access to your camera and microphone."," ",browser.getBrowserName()!=="Safari"&&jsxRuntimeExports.jsxs(Typography$1,{children:["Click the camera blocked icon"," ",jsxRuntimeExports.jsx("img",{alt:"icon",src:"https://www.gstatic.com/meet/ic_blocked_camera_dark_f401bc8ec538ede48315b75286c1511b.svg",style:{display:"inline"}})," ","in your browser's address bar."]})]}),pt(),ft()]}),ht=()=>{const Ct={macOS:{name:"System Preferences",link:"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Can't use your camera or microphone"}),jsxRuntimeExports.jsxs(Typography$1,{children:["Your browser might not have access to your camera or microphone. To fix this problem, open"," ",Ct[browser.getOSName()]?jsxRuntimeExports.jsx(Link$1,{onClick:()=>{window.open(Ct[browser.getOSName()].link,"_blank")},children:Ct[browser.getOSName()].name}):"Settings","."]}),pt(),ft()]})},gt=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Can't start your camera or microphone"}),jsxRuntimeExports.jsx(Typography$1,{children:"Another application (Zoom, Webex) or browser tab (Google Meet, Messenger Video) might already be using your webcam. Please turn off other cameras before proceeding."}),pt(),ft()]}),vt=()=>{switch(_e){case"explanation":return bt();case"systemDenied":return ht();case"userDenied":return Tt();case"trackError":return gt()}};return jsxRuntimeExports.jsx(Dialog$1,{open:!!_e,children:_e&&vt()})},memberName="John Kennedy",therapistName="Nikita Khrushev",App=()=>jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/opentok-react/onboarding",element:jsxRuntimeExports.jsx(MediaOnboardingDialog,{})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/lobby/member",element:jsxRuntimeExports.jsx(Lobby,{memberId:memberName,linkTo:"member"})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/lobby/therapist",element:jsxRuntimeExports.jsx(Lobby,{memberId:therapistName,linkTo:"therapist"})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/member",element:jsxRuntimeExports.jsx(Member,{userId:memberName})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/therapist",element:jsxRuntimeExports.jsx(Therapist,{userId:therapistName})})]}),index="";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})}));
