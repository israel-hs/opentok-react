function _mergeNamespaces(_e,tt){for(var et=0;et<tt.length;et++){const nt=tt[et];if(typeof nt!="string"&&!Array.isArray(nt)){for(const rt in nt)if(rt!=="default"&&!(rt in _e)){const it=Object.getOwnPropertyDescriptor(nt,rt);it&&Object.defineProperty(_e,rt,it.get?it:{enumerable:!0,get:()=>nt[rt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const tt=document.createElement("link").relList;if(tt&&tt.supports&&tt.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))nt(rt);new MutationObserver(rt=>{for(const it of rt)if(it.type==="childList")for(const ot of it.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&nt(ot)}).observe(document,{childList:!0,subtree:!0});function et(rt){const it={};return rt.integrity&&(it.integrity=rt.integrity),rt.referrerPolicy&&(it.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?it.credentials="include":rt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(rt){if(rt.ep)return;rt.ep=!0;const it=et(rt);fetch(rt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var tt=_e.default;if(typeof tt=="function"){var et=function nt(){if(this instanceof nt){var rt=[null];rt.push.apply(rt,arguments);var it=Function.bind.apply(tt,rt);return new it}return tt.apply(this,arguments)};et.prototype=tt.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(_e).forEach(function(nt){var rt=Object.getOwnPropertyDescriptor(_e,nt);Object.defineProperty(et,nt,rt.get?rt:{enumerable:!0,get:function(){return _e[nt]}})}),et}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(_e){jsxRuntimeExports=_e}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(_e){reactExports=_e}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$8=Symbol.for("react.element"),n$a=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$8=Symbol.for("react.profiler"),t$7=Symbol.for("react.provider"),u$5=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$4&&_e[z$4]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$3(_e,tt,et){this.props=_e,this.context=tt,this.refs=D$2,this.updater=et||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(_e,tt){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,tt,"setState")};E$3.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$2(_e,tt,et){this.props=_e,this.context=tt,this.refs=D$2,this.updater=et||B$3}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$2(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(_e,tt,et){var nt,rt={},it=null,ot=null;if(tt!=null)for(nt in tt.ref!==void 0&&(ot=tt.ref),tt.key!==void 0&&(it=""+tt.key),tt)J.call(tt,nt)&&!L$3.hasOwnProperty(nt)&&(rt[nt]=tt[nt]);var st=arguments.length-2;if(st===1)rt.children=et;else if(1<st){for(var at=Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct+2];rt.children=at}if(_e&&_e.defaultProps)for(nt in st=_e.defaultProps,st)rt[nt]===void 0&&(rt[nt]=st[nt]);return{$$typeof:l$8,type:_e,key:it,ref:ot,props:rt,_owner:K$1.current}}function N$3(_e,tt){return{$$typeof:l$8,type:_e.type,key:tt,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$2(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$8}function escape$1(_e){var tt={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(et){return tt[et]})}var P$3=/\/+/g;function Q$2(_e,tt){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):tt.toString(36)}function R$3(_e,tt,et,nt,rt){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var ot=!1;if(_e===null)ot=!0;else switch(it){case"string":case"number":ot=!0;break;case"object":switch(_e.$$typeof){case l$8:case n$a:ot=!0}}if(ot)return ot=_e,rt=rt(ot),_e=nt===""?"."+Q$2(ot,0):nt,I$3(rt)?(et="",_e!=null&&(et=_e.replace(P$3,"$&/")+"/"),R$3(rt,tt,et,"",function(ct){return ct})):rt!=null&&(O$2(rt)&&(rt=N$3(rt,et+(!rt.key||ot&&ot.key===rt.key?"":(""+rt.key).replace(P$3,"$&/")+"/")+_e)),tt.push(rt)),1;if(ot=0,nt=nt===""?".":nt+":",I$3(_e))for(var st=0;st<_e.length;st++){it=_e[st];var at=nt+Q$2(it,st);ot+=R$3(it,tt,et,at,rt)}else if(at=A$4(_e),typeof at=="function")for(_e=at.call(_e),st=0;!(it=_e.next()).done;)it=it.value,at=nt+Q$2(it,st++),ot+=R$3(it,tt,et,at,rt);else if(it==="object")throw tt=String(_e),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$4(_e,tt,et){if(_e==null)return _e;var nt=[],rt=0;return R$3(_e,nt,"","",function(it){return tt.call(et,it,rt++)}),nt}function T$2(_e){if(_e._status===-1){var tt=_e._result;tt=tt(),tt.then(function(et){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=et)},function(et){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=et)}),_e._status===-1&&(_e._status=0,_e._result=tt)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};react_production_min.Children={map:S$4,forEach:function(_e,tt,et){S$4(_e,function(){tt.apply(this,arguments)},et)},count:function(_e){var tt=0;return S$4(_e,function(){tt++}),tt},toArray:function(_e){return S$4(_e,function(tt){return tt})||[]},only:function(_e){if(!O$2(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$3;react_production_min.Fragment=p$8;react_production_min.Profiler=r$8;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(_e,tt,et){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var nt=C$2({},_e.props),rt=_e.key,it=_e.ref,ot=_e._owner;if(tt!=null){if(tt.ref!==void 0&&(it=tt.ref,ot=K$1.current),tt.key!==void 0&&(rt=""+tt.key),_e.type&&_e.type.defaultProps)var st=_e.type.defaultProps;for(at in tt)J.call(tt,at)&&!L$3.hasOwnProperty(at)&&(nt[at]=tt[at]===void 0&&st!==void 0?st[at]:tt[at])}var at=arguments.length-2;if(at===1)nt.children=et;else if(1<at){st=Array(at);for(var ct=0;ct<at;ct++)st[ct]=arguments[ct+2];nt.children=st}return{$$typeof:l$8,type:_e.type,key:rt,ref:it,props:nt,_owner:ot}};react_production_min.createContext=function(_e){return _e={$$typeof:u$5,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$7,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$3;react_production_min.createFactory=function(_e){var tt=M$3.bind(null,_e);return tt.type=_e,tt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$6,render:_e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(_e){return{$$typeof:y$3,_payload:{_status:-1,_result:_e},_init:T$2}};react_production_min.memo=function(_e,tt){return{$$typeof:x$3,type:_e,compare:tt===void 0?null:tt}};react_production_min.startTransition=function(_e){var tt=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=tt}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,tt){return U$2.current.useCallback(_e,tt)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,tt){return U$2.current.useEffect(_e,tt)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,tt,et){return U$2.current.useImperativeHandle(_e,tt,et)};react_production_min.useInsertionEffect=function(_e,tt){return U$2.current.useInsertionEffect(_e,tt)};react_production_min.useLayoutEffect=function(_e,tt){return U$2.current.useLayoutEffect(_e,tt)};react_production_min.useMemo=function(_e,tt){return U$2.current.useMemo(_e,tt)};react_production_min.useReducer=function(_e,tt,et){return U$2.current.useReducer(_e,tt,et)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,tt,et){return U$2.current.useSyncExternalStore(_e,tt,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(_e){_e.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$5=Symbol.for("react.element"),l$7=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$9=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$5(_e,tt,et){var nt,rt={},it=null,ot=null;et!==void 0&&(it=""+et),tt.key!==void 0&&(it=""+tt.key),tt.ref!==void 0&&(ot=tt.ref);for(nt in tt)m$6.call(tt,nt)&&!p$7.hasOwnProperty(nt)&&(rt[nt]=tt[nt]);if(_e&&_e.defaultProps)for(nt in tt=_e.defaultProps,tt)rt[nt]===void 0&&(rt[nt]=tt[nt]);return{$$typeof:k$5,type:_e,key:it,ref:ot,props:rt,_owner:n$9.current}}reactJsxRuntime_production_min.Fragment=l$7;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;(function(_e){_e.exports=reactJsxRuntime_production_min})(jsxRuntime);var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(_e){reactDomExports=_e}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(_e){schedulerExports=_e}},scheduler_production_min={};(function(_e){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function tt(pn,In){var Cn=pn.length;pn.push(In);e:for(;0<Cn;){var yn=Cn-1>>>1,bn=pn[yn];if(0<rt(bn,In))pn[yn]=In,pn[Cn]=bn,Cn=yn;else break e}}function et(pn){return pn.length===0?null:pn[0]}function nt(pn){if(pn.length===0)return null;var In=pn[0],Cn=pn.pop();if(Cn!==In){pn[0]=Cn;e:for(var yn=0,bn=pn.length,Xn=bn>>>1;yn<Xn;){var Hn=2*(yn+1)-1,En=pn[Hn],Zn=Hn+1,Vn=pn[Zn];if(0>rt(En,Cn))Zn<bn&&0>rt(Vn,En)?(pn[yn]=Vn,pn[Zn]=Cn,yn=Zn):(pn[yn]=En,pn[Hn]=Cn,yn=Hn);else if(Zn<bn&&0>rt(Vn,Cn))pn[yn]=Vn,pn[Zn]=Cn,yn=Zn;else break e}}return In}function rt(pn,In){var Cn=pn.sortIndex-In.sortIndex;return Cn!==0?Cn:pn.id-In.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var ot=Date,st=ot.now();_e.unstable_now=function(){return ot.now()-st}}var at=[],ct=[],lt=1,dt=null,ut=3,ft=!1,pt=!1,yt=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vt(pn){for(var In=et(ct);In!==null;){if(In.callback===null)nt(ct);else if(In.startTime<=pn)nt(ct),In.sortIndex=In.expirationTime,tt(at,In);else break;In=et(ct)}}function Ct(pn){if(yt=!1,vt(pn),!pt)if(et(at)!==null)pt=!0,vn(It);else{var In=et(ct);In!==null&&Tn(Ct,In.startTime-pn)}}function It(pn,In){pt=!1,yt&&(yt=!1,ht(kt),kt=-1),ft=!0;var Cn=ut;try{for(vt(In),dt=et(at);dt!==null&&(!(dt.expirationTime>In)||pn&&!Pt());){var yn=dt.callback;if(typeof yn=="function"){dt.callback=null,ut=dt.priorityLevel;var bn=yn(dt.expirationTime<=In);In=_e.unstable_now(),typeof bn=="function"?dt.callback=bn:dt===et(at)&&nt(at),vt(In)}else nt(at);dt=et(at)}if(dt!==null)var Xn=!0;else{var Hn=et(ct);Hn!==null&&Tn(Ct,Hn.startTime-In),Xn=!1}return Xn}finally{dt=null,ut=Cn,ft=!1}}var Zt=!1,Mt=null,kt=-1,Nt=5,Lt=-1;function Pt(){return!(_e.unstable_now()-Lt<Nt)}function cn(){if(Mt!==null){var pn=_e.unstable_now();Lt=pn;var In=!0;try{In=Mt(!0,pn)}finally{In?Jt():(Zt=!1,Mt=null)}}else Zt=!1}var Jt;if(typeof gt=="function")Jt=function(){gt(cn)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,dn=Bt.port2;Bt.port1.onmessage=cn,Jt=function(){dn.postMessage(null)}}else Jt=function(){Tt(cn,0)};function vn(pn){Mt=pn,Zt||(Zt=!0,Jt())}function Tn(pn,In){kt=Tt(function(){pn(_e.unstable_now())},In)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(pn){pn.callback=null},_e.unstable_continueExecution=function(){pt||ft||(pt=!0,vn(It))},_e.unstable_forceFrameRate=function(pn){0>pn||125<pn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Nt=0<pn?Math.floor(1e3/pn):5},_e.unstable_getCurrentPriorityLevel=function(){return ut},_e.unstable_getFirstCallbackNode=function(){return et(at)},_e.unstable_next=function(pn){switch(ut){case 1:case 2:case 3:var In=3;break;default:In=ut}var Cn=ut;ut=In;try{return pn()}finally{ut=Cn}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(pn,In){switch(pn){case 1:case 2:case 3:case 4:case 5:break;default:pn=3}var Cn=ut;ut=pn;try{return In()}finally{ut=Cn}},_e.unstable_scheduleCallback=function(pn,In,Cn){var yn=_e.unstable_now();switch(typeof Cn=="object"&&Cn!==null?(Cn=Cn.delay,Cn=typeof Cn=="number"&&0<Cn?yn+Cn:yn):Cn=yn,pn){case 1:var bn=-1;break;case 2:bn=250;break;case 5:bn=1073741823;break;case 4:bn=1e4;break;default:bn=5e3}return bn=Cn+bn,pn={id:lt++,callback:In,priorityLevel:pn,startTime:Cn,expirationTime:bn,sortIndex:-1},Cn>yn?(pn.sortIndex=Cn,tt(ct,pn),et(at)===null&&pn===et(ct)&&(yt?(ht(kt),kt=-1):yt=!0,Tn(Ct,Cn-yn))):(pn.sortIndex=bn,tt(at,pn),pt||ft||(pt=!0,vn(It))),pn},_e.unstable_shouldYield=Pt,_e.unstable_wrapCallback=function(pn){var In=ut;return function(){var Cn=ut;ut=In;try{return pn.apply(this,arguments)}finally{ut=Cn}}}})(scheduler_production_min);(function(_e){_e.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$6(_e){for(var tt="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)tt+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+tt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,tt){ha(_e,tt),ha(_e+"Capture",tt)}function ha(_e,tt){for(ea[_e]=tt,_e=0;_e<tt.length;_e++)da.add(tt[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,tt,et,nt){if(et!==null&&et.type===0)return!1;switch(typeof tt){case"function":case"symbol":return!0;case"boolean":return nt?!1:et!==null?!et.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,tt,et,nt){if(tt===null||typeof tt>"u"||pa(_e,tt,et,nt))return!0;if(nt)return!1;if(et!==null)switch(et.type){case 3:return!tt;case 4:return tt===!1;case 5:return isNaN(tt);case 6:return isNaN(tt)||1>tt}return!1}function v$5(_e,tt,et,nt,rt,it,ot){this.acceptsBooleans=tt===2||tt===3||tt===4,this.attributeName=nt,this.attributeNamespace=rt,this.mustUseProperty=et,this.propertyName=_e,this.type=tt,this.sanitizeURL=it,this.removeEmptyString=ot}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$3[_e]=new v$5(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var tt=_e[0];z$3[tt]=new v$5(tt,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$3[_e]=new v$5(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$3[_e]=new v$5(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$3[_e]=new v$5(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$3[_e]=new v$5(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$3[_e]=new v$5(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$3[_e]=new v$5(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$3[_e]=new v$5(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var tt=_e.replace(ra,sa);z$3[tt]=new v$5(tt,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var tt=_e.replace(ra,sa);z$3[tt]=new v$5(tt,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var tt=_e.replace(ra,sa);z$3[tt]=new v$5(tt,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$3[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$3[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,tt,et,nt){var rt=z$3.hasOwnProperty(tt)?z$3[tt]:null;(rt!==null?rt.type!==0:nt||!(2<tt.length)||tt[0]!=="o"&&tt[0]!=="O"||tt[1]!=="n"&&tt[1]!=="N")&&(qa(tt,et,rt,nt)&&(et=null),nt||rt===null?oa(tt)&&(et===null?_e.removeAttribute(tt):_e.setAttribute(tt,""+et)):rt.mustUseProperty?_e[rt.propertyName]=et===null?rt.type===3?!1:"":et:(tt=rt.attributeName,nt=rt.attributeNamespace,et===null?_e.removeAttribute(tt):(rt=rt.type,et=rt===3||rt===4&&et===!0?"":""+et,nt?_e.setAttributeNS(nt,tt,et):_e.setAttribute(tt,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(et){var tt=et.stack.trim().match(/\n( *(at )?)/);La=tt&&tt[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,tt){if(!_e||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(tt)if(tt=function(){throw Error()},Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(ct){var nt=ct}Reflect.construct(_e,[],tt)}else{try{tt.call()}catch(ct){nt=ct}_e.call(tt.prototype)}else{try{throw Error()}catch(ct){nt=ct}_e()}}catch(ct){if(ct&&nt&&typeof ct.stack=="string"){for(var rt=ct.stack.split(`
`),it=nt.stack.split(`
`),ot=rt.length-1,st=it.length-1;1<=ot&&0<=st&&rt[ot]!==it[st];)st--;for(;1<=ot&&0<=st;ot--,st--)if(rt[ot]!==it[st]){if(ot!==1||st!==1)do if(ot--,st--,0>st||rt[ot]!==it[st]){var at=`
`+rt[ot].replace(" at new "," at ");return _e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",_e.displayName)),at}while(1<=ot&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var tt=_e.render;return _e=_e.displayName,_e||(_e=tt.displayName||tt.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return tt=_e.displayName||null,tt!==null?tt:Qa(_e.type)||"Memo";case Ha:tt=_e._payload,_e=_e._init;try{return Qa(_e(tt))}catch{}}return null}function Ra(_e){var tt=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(tt.displayName||"Context")+".Consumer";case 10:return(tt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=tt.render,_e=_e.displayName||_e.name||"",tt.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return tt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(tt);case 8:return tt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var tt=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(tt==="checkbox"||tt==="radio")}function Ua(_e){var tt=Ta(_e)?"checked":"value",et=Object.getOwnPropertyDescriptor(_e.constructor.prototype,tt),nt=""+_e[tt];if(!_e.hasOwnProperty(tt)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var rt=et.get,it=et.set;return Object.defineProperty(_e,tt,{configurable:!0,get:function(){return rt.call(this)},set:function(ot){nt=""+ot,it.call(this,ot)}}),Object.defineProperty(_e,tt,{enumerable:et.enumerable}),{getValue:function(){return nt},setValue:function(ot){nt=""+ot},stopTracking:function(){_e._valueTracker=null,delete _e[tt]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var tt=_e._valueTracker;if(!tt)return!0;var et=tt.getValue(),nt="";return _e&&(nt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=nt,_e!==et?(tt.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,tt){var et=tt.checked;return A$3({},tt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??_e._wrapperState.initialChecked})}function Za(_e,tt){var et=tt.defaultValue==null?"":tt.defaultValue,nt=tt.checked!=null?tt.checked:tt.defaultChecked;et=Sa(tt.value!=null?tt.value:et),_e._wrapperState={initialChecked:nt,initialValue:et,controlled:tt.type==="checkbox"||tt.type==="radio"?tt.checked!=null:tt.value!=null}}function ab(_e,tt){tt=tt.checked,tt!=null&&ta(_e,"checked",tt,!1)}function bb(_e,tt){ab(_e,tt);var et=Sa(tt.value),nt=tt.type;if(et!=null)nt==="number"?(et===0&&_e.value===""||_e.value!=et)&&(_e.value=""+et):_e.value!==""+et&&(_e.value=""+et);else if(nt==="submit"||nt==="reset"){_e.removeAttribute("value");return}tt.hasOwnProperty("value")?cb(_e,tt.type,et):tt.hasOwnProperty("defaultValue")&&cb(_e,tt.type,Sa(tt.defaultValue)),tt.checked==null&&tt.defaultChecked!=null&&(_e.defaultChecked=!!tt.defaultChecked)}function db(_e,tt,et){if(tt.hasOwnProperty("value")||tt.hasOwnProperty("defaultValue")){var nt=tt.type;if(!(nt!=="submit"&&nt!=="reset"||tt.value!==void 0&&tt.value!==null))return;tt=""+_e._wrapperState.initialValue,et||tt===_e.value||(_e.value=tt),_e.defaultValue=tt}et=_e.name,et!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,et!==""&&(_e.name=et)}function cb(_e,tt,et){(tt!=="number"||Xa(_e.ownerDocument)!==_e)&&(et==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+et&&(_e.defaultValue=""+et))}var eb=Array.isArray;function fb(_e,tt,et,nt){if(_e=_e.options,tt){tt={};for(var rt=0;rt<et.length;rt++)tt["$"+et[rt]]=!0;for(et=0;et<_e.length;et++)rt=tt.hasOwnProperty("$"+_e[et].value),_e[et].selected!==rt&&(_e[et].selected=rt),rt&&nt&&(_e[et].defaultSelected=!0)}else{for(et=""+Sa(et),tt=null,rt=0;rt<_e.length;rt++){if(_e[rt].value===et){_e[rt].selected=!0,nt&&(_e[rt].defaultSelected=!0);return}tt!==null||_e[rt].disabled||(tt=_e[rt])}tt!==null&&(tt.selected=!0)}}function gb(_e,tt){if(tt.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$3({},tt,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,tt){var et=tt.value;if(et==null){if(et=tt.children,tt=tt.defaultValue,et!=null){if(tt!=null)throw Error(p$6(92));if(eb(et)){if(1<et.length)throw Error(p$6(93));et=et[0]}tt=et}tt==null&&(tt=""),et=tt}_e._wrapperState={initialValue:Sa(et)}}function ib(_e,tt){var et=Sa(tt.value),nt=Sa(tt.defaultValue);et!=null&&(et=""+et,et!==_e.value&&(_e.value=et),tt.defaultValue==null&&_e.defaultValue!==et&&(_e.defaultValue=et)),nt!=null&&(_e.defaultValue=""+nt)}function jb(_e){var tt=_e.textContent;tt===_e._wrapperState.initialValue&&tt!==""&&tt!==null&&(_e.value=tt)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,tt){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(tt):_e==="http://www.w3.org/2000/svg"&&tt==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(tt,et,nt,rt){MSApp.execUnsafeLocalFunction(function(){return _e(tt,et,nt,rt)})}:_e}(function(_e,tt){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=tt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+tt.valueOf().toString()+"</svg>",tt=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;tt.firstChild;)_e.appendChild(tt.firstChild)}});function ob(_e,tt){if(tt){var et=_e.firstChild;if(et&&et===_e.lastChild&&et.nodeType===3){et.nodeValue=tt;return}}_e.textContent=tt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(tt){tt=tt+_e.charAt(0).toUpperCase()+_e.substring(1),pb[tt]=pb[_e]})});function rb(_e,tt,et){return tt==null||typeof tt=="boolean"||tt===""?"":et||typeof tt!="number"||tt===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+tt).trim():tt+"px"}function sb(_e,tt){_e=_e.style;for(var et in tt)if(tt.hasOwnProperty(et)){var nt=et.indexOf("--")===0,rt=rb(et,tt[et],nt);et==="float"&&(et="cssFloat"),nt?_e.setProperty(et,rt):_e[et]=rt}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,tt){if(tt){if(tb[_e]&&(tt.children!=null||tt.dangerouslySetInnerHTML!=null))throw Error(p$6(137,_e));if(tt.dangerouslySetInnerHTML!=null){if(tt.children!=null)throw Error(p$6(60));if(typeof tt.dangerouslySetInnerHTML!="object"||!("__html"in tt.dangerouslySetInnerHTML))throw Error(p$6(61))}if(tt.style!=null&&typeof tt.style!="object")throw Error(p$6(62))}}function vb(_e,tt){if(_e.indexOf("-")===-1)return typeof tt.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$6(280));var tt=_e.stateNode;tt&&(tt=Db(tt),yb(_e.stateNode,_e.type,tt))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,tt=Ab;if(Ab=zb=null,Bb(_e),tt)for(_e=0;_e<tt.length;_e++)Bb(tt[_e])}}function Gb(_e,tt){return _e(tt)}function Hb(){}var Ib=!1;function Jb(_e,tt,et){if(Ib)return _e(tt,et);Ib=!0;try{return Gb(_e,tt,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,tt){var et=_e.stateNode;if(et===null)return null;var nt=Db(et);if(nt===null)return null;et=nt[tt];e:switch(tt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(_e=_e.type,nt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!nt;break e;default:_e=!1}if(_e)return null;if(et&&typeof et!="function")throw Error(p$6(231,tt,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,tt,et,nt,rt,it,ot,st,at){var ct=Array.prototype.slice.call(arguments,3);try{tt.apply(et,ct)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,tt,et,nt,rt,it,ot,st,at){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,tt,et,nt,rt,it,ot,st,at){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=ct)}}function Vb(_e){var tt=_e,et=_e;if(_e.alternate)for(;tt.return;)tt=tt.return;else{_e=tt;do tt=_e,tt.flags&4098&&(et=tt.return),_e=tt.return;while(_e)}return tt.tag===3?et:null}function Wb(_e){if(_e.tag===13){var tt=_e.memoizedState;if(tt===null&&(_e=_e.alternate,_e!==null&&(tt=_e.memoizedState)),tt!==null)return tt.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$6(188))}function Yb(_e){var tt=_e.alternate;if(!tt){if(tt=Vb(_e),tt===null)throw Error(p$6(188));return tt!==_e?null:_e}for(var et=_e,nt=tt;;){var rt=et.return;if(rt===null)break;var it=rt.alternate;if(it===null){if(nt=rt.return,nt!==null){et=nt;continue}break}if(rt.child===it.child){for(it=rt.child;it;){if(it===et)return Xb(rt),_e;if(it===nt)return Xb(rt),tt;it=it.sibling}throw Error(p$6(188))}if(et.return!==nt.return)et=rt,nt=it;else{for(var ot=!1,st=rt.child;st;){if(st===et){ot=!0,et=rt,nt=it;break}if(st===nt){ot=!0,nt=rt,et=it;break}st=st.sibling}if(!ot){for(st=it.child;st;){if(st===et){ot=!0,et=it,nt=rt;break}if(st===nt){ot=!0,nt=it,et=rt;break}st=st.sibling}if(!ot)throw Error(p$6(189))}}if(et.alternate!==nt)throw Error(p$6(190))}if(et.tag!==3)throw Error(p$6(188));return et.stateNode.current===et?_e:tt}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var tt=$b(_e);if(tt!==null)return tt;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,tt){var et=_e.pendingLanes;if(et===0)return 0;var nt=0,rt=_e.suspendedLanes,it=_e.pingedLanes,ot=et&268435455;if(ot!==0){var st=ot&~rt;st!==0?nt=tc(st):(it&=ot,it!==0&&(nt=tc(it)))}else ot=et&~rt,ot!==0?nt=tc(ot):it!==0&&(nt=tc(it));if(nt===0)return 0;if(tt!==0&&tt!==nt&&!(tt&rt)&&(rt=nt&-nt,it=tt&-tt,rt>=it||rt===16&&(it&4194240)!==0))return tt;if(nt&4&&(nt|=et&16),tt=_e.entangledLanes,tt!==0)for(_e=_e.entanglements,tt&=nt;0<tt;)et=31-oc(tt),rt=1<<et,nt|=_e[et],tt&=~rt;return nt}function vc(_e,tt){switch(_e){case 1:case 2:case 4:return tt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,tt){for(var et=_e.suspendedLanes,nt=_e.pingedLanes,rt=_e.expirationTimes,it=_e.pendingLanes;0<it;){var ot=31-oc(it),st=1<<ot,at=rt[ot];at===-1?(!(st&et)||st&nt)&&(rt[ot]=vc(st,tt)):at<=tt&&(_e.expiredLanes|=st),it&=~st}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var tt=[],et=0;31>et;et++)tt.push(_e);return tt}function Ac(_e,tt,et){_e.pendingLanes|=tt,tt!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,tt=31-oc(tt),_e[tt]=et}function Bc(_e,tt){var et=_e.pendingLanes&~tt;_e.pendingLanes=tt,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=tt,_e.mutableReadLanes&=tt,_e.entangledLanes&=tt,tt=_e.entanglements;var nt=_e.eventTimes;for(_e=_e.expirationTimes;0<et;){var rt=31-oc(et),it=1<<rt;tt[rt]=0,nt[rt]=-1,_e[rt]=-1,et&=~it}}function Cc(_e,tt){var et=_e.entangledLanes|=tt;for(_e=_e.entanglements;et;){var nt=31-oc(et),rt=1<<nt;rt&tt|_e[nt]&tt&&(_e[nt]|=tt),et&=~rt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,tt){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(tt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(tt.pointerId)}}function Tc(_e,tt,et,nt,rt,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:tt,domEventName:et,eventSystemFlags:nt,nativeEvent:it,targetContainers:[rt]},tt!==null&&(tt=Cb(tt),tt!==null&&Fc(tt)),_e):(_e.eventSystemFlags|=nt,tt=_e.targetContainers,rt!==null&&tt.indexOf(rt)===-1&&tt.push(rt),_e)}function Uc(_e,tt,et,nt,rt){switch(tt){case"focusin":return Lc=Tc(Lc,_e,tt,et,nt,rt),!0;case"dragenter":return Mc=Tc(Mc,_e,tt,et,nt,rt),!0;case"mouseover":return Nc=Tc(Nc,_e,tt,et,nt,rt),!0;case"pointerover":var it=rt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,tt,et,nt,rt)),!0;case"gotpointercapture":return it=rt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,tt,et,nt,rt)),!0}return!1}function Vc(_e){var tt=Wc(_e.target);if(tt!==null){var et=Vb(tt);if(et!==null){if(tt=et.tag,tt===13){if(tt=Wb(et),tt!==null){_e.blockedOn=tt,Ic(_e.priority,function(){Gc(et)});return}}else if(tt===3&&et.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var tt=_e.targetContainers;0<tt.length;){var et=Yc(_e.domEventName,_e.eventSystemFlags,tt[0],_e.nativeEvent);if(et===null){et=_e.nativeEvent;var nt=new et.constructor(et.type,et);wb=nt,et.target.dispatchEvent(nt),wb=null}else return tt=Cb(et),tt!==null&&Fc(tt),_e.blockedOn=et,!1;tt.shift()}return!0}function Zc(_e,tt,et){Xc(_e)&&et.delete(tt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,tt){_e.blockedOn===tt&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function tt(rt){return ad(rt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var et=1;et<Kc.length;et++){var nt=Kc[et];nt.blockedOn===_e&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(tt),Pc.forEach(tt),et=0;et<Qc.length;et++)nt=Qc[et],nt.blockedOn===_e&&(nt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,tt,et,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(_e,tt,et,nt)}finally{C$1=rt,cd.transition=it}}function gd(_e,tt,et,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(_e,tt,et,nt)}finally{C$1=rt,cd.transition=it}}function fd(_e,tt,et,nt){if(dd){var rt=Yc(_e,tt,et,nt);if(rt===null)hd(_e,tt,nt,id,et),Sc(_e,nt);else if(Uc(rt,_e,tt,et,nt))nt.stopPropagation();else if(Sc(_e,nt),tt&4&&-1<Rc.indexOf(_e)){for(;rt!==null;){var it=Cb(rt);if(it!==null&&Ec(it),it=Yc(_e,tt,et,nt),it===null&&hd(_e,tt,nt,id,et),it===rt)break;rt=it}rt!==null&&nt.stopPropagation()}else hd(_e,tt,nt,null,et)}}var id=null;function Yc(_e,tt,et,nt){if(id=null,_e=xb(nt),_e=Wc(_e),_e!==null)if(tt=Vb(_e),tt===null)_e=null;else if(et=tt.tag,et===13){if(_e=Wb(tt),_e!==null)return _e;_e=null}else if(et===3){if(tt.stateNode.current.memoizedState.isDehydrated)return tt.tag===3?tt.stateNode.containerInfo:null;_e=null}else tt!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,tt=ld,et=tt.length,nt,rt="value"in kd?kd.value:kd.textContent,it=rt.length;for(_e=0;_e<et&&tt[_e]===rt[_e];_e++);var ot=et-_e;for(nt=1;nt<=ot&&tt[et-nt]===rt[it-nt];nt++);return md=rt.slice(_e,1<nt?1-nt:void 0)}function od(_e){var tt=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&tt===13&&(_e=13)):_e=tt,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function tt(et,nt,rt,it,ot){this._reactName=et,this._targetInst=rt,this.type=nt,this.nativeEvent=it,this.target=ot,this.currentTarget=null;for(var st in _e)_e.hasOwnProperty(st)&&(et=_e[st],this[st]=et?et(it):it[st]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(tt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),tt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var tt=this.nativeEvent;return tt.getModifierState?tt.getModifierState(_e):(_e=Od[_e])?!!tt[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var tt=Md[_e.key]||_e.key;if(tt!=="Unidentified")return tt}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(_e,tt){switch(_e){case"keyup":return $d.indexOf(tt.keyCode)!==-1;case"keydown":return tt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,tt){switch(_e){case"compositionend":return he(tt);case"keypress":return tt.which!==32?null:(fe=!0,ee);case"textInput":return _e=tt.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,tt){if(ie)return _e==="compositionend"||!ae&&ge(_e,tt)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(tt.ctrlKey||tt.altKey||tt.metaKey)||tt.ctrlKey&&tt.altKey){if(tt.char&&1<tt.char.length)return tt.char;if(tt.which)return String.fromCharCode(tt.which)}return null;case"compositionend":return de&&tt.locale!=="ko"?null:tt.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var tt=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return tt==="input"?!!le[_e.type]:tt==="textarea"}function ne(_e,tt,et,nt){Eb(nt),tt=oe(tt,"onChange"),0<tt.length&&(et=new td("onChange","change",null,et,nt),_e.push({event:et,listeners:tt}))}var pe=null,qe=null;function re(_e){se(_e,0)}function te(_e){var tt=ue(_e);if(Wa(tt))return _e}function ve(_e,tt){if(_e==="change")return tt}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var tt=[];ne(tt,qe,_e,xb(_e)),Jb(re,tt)}}function Ce(_e,tt,et){_e==="focusin"?(Ae(),pe=tt,qe=et,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,tt){if(_e==="click")return te(tt)}function Fe(_e,tt){if(_e==="input"||_e==="change")return te(tt)}function Ge(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,tt){if(He(_e,tt))return!0;if(typeof _e!="object"||_e===null||typeof tt!="object"||tt===null)return!1;var et=Object.keys(_e),nt=Object.keys(tt);if(et.length!==nt.length)return!1;for(nt=0;nt<et.length;nt++){var rt=et[nt];if(!ja.call(tt,rt)||!He(_e[rt],tt[rt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,tt){var et=Je(_e);_e=0;for(var nt;et;){if(et.nodeType===3){if(nt=_e+et.textContent.length,_e<=tt&&nt>=tt)return{node:et,offset:tt-_e};_e=nt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(_e,tt){return _e&&tt?_e===tt?!0:_e&&_e.nodeType===3?!1:tt&&tt.nodeType===3?Le(_e,tt.parentNode):"contains"in _e?_e.contains(tt):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(tt)&16):!1:!1}function Me(){for(var _e=window,tt=Xa();tt instanceof _e.HTMLIFrameElement;){try{var et=typeof tt.contentWindow.location.href=="string"}catch{et=!1}if(et)_e=tt.contentWindow;else break;tt=Xa(_e.document)}return tt}function Ne(_e){var tt=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return tt&&(tt==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||tt==="textarea"||_e.contentEditable==="true")}function Oe(_e){var tt=Me(),et=_e.focusedElem,nt=_e.selectionRange;if(tt!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(nt!==null&&Ne(et)){if(tt=nt.start,_e=nt.end,_e===void 0&&(_e=tt),"selectionStart"in et)et.selectionStart=tt,et.selectionEnd=Math.min(_e,et.value.length);else if(_e=(tt=et.ownerDocument||document)&&tt.defaultView||window,_e.getSelection){_e=_e.getSelection();var rt=et.textContent.length,it=Math.min(nt.start,rt);nt=nt.end===void 0?it:Math.min(nt.end,rt),!_e.extend&&it>nt&&(rt=nt,nt=it,it=rt),rt=Ke(et,it);var ot=Ke(et,nt);rt&&ot&&(_e.rangeCount!==1||_e.anchorNode!==rt.node||_e.anchorOffset!==rt.offset||_e.focusNode!==ot.node||_e.focusOffset!==ot.offset)&&(tt=tt.createRange(),tt.setStart(rt.node,rt.offset),_e.removeAllRanges(),it>nt?(_e.addRange(tt),_e.extend(ot.node,ot.offset)):(tt.setEnd(ot.node,ot.offset),_e.addRange(tt)))}}for(tt=[],_e=et;_e=_e.parentNode;)_e.nodeType===1&&tt.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<tt.length;et++)_e=tt[et],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,tt,et){var nt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se&&Ie(Se,nt)||(Se=nt,nt=oe(Re,"onSelect"),0<nt.length&&(tt=new td("onSelect","select",null,tt,et),_e.push({event:tt,listeners:nt}),tt.target=Qe)))}function Ve(_e,tt){var et={};return et[_e.toLowerCase()]=tt.toLowerCase(),et["Webkit"+_e]="webkit"+tt,et["Moz"+_e]="moz"+tt,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var tt=We[_e],et;for(et in tt)if(tt.hasOwnProperty(et)&&et in Ye)return Xe[_e]=tt[et];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,tt){df.set(_e,tt),fa(tt,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,tt,et){var nt=_e.type||"unknown-event";_e.currentTarget=et,Ub(nt,tt,void 0,_e),_e.currentTarget=null}function se(_e,tt){tt=(tt&4)!==0;for(var et=0;et<_e.length;et++){var nt=_e[et],rt=nt.event;nt=nt.listeners;e:{var it=void 0;if(tt)for(var ot=nt.length-1;0<=ot;ot--){var st=nt[ot],at=st.instance,ct=st.currentTarget;if(st=st.listener,at!==it&&rt.isPropagationStopped())break e;nf(rt,st,ct),it=at}else for(ot=0;ot<nt.length;ot++){if(st=nt[ot],at=st.instance,ct=st.currentTarget,st=st.listener,at!==it&&rt.isPropagationStopped())break e;nf(rt,st,ct),it=at}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,tt){var et=tt[of];et===void 0&&(et=tt[of]=new Set);var nt=_e+"__bubble";et.has(nt)||(pf(tt,_e,2,!1),et.add(nt))}function qf(_e,tt,et){var nt=0;tt&&(nt|=4),pf(et,_e,nt,tt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,_e),qf(et,!0,_e))});var tt=_e.nodeType===9?_e:_e.ownerDocument;tt===null||tt[rf]||(tt[rf]=!0,qf("selectionchange",!1,tt))}}function pf(_e,tt,et,nt){switch(jd(tt)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}et=rt.bind(null,tt,et,_e),rt=void 0,!Lb||tt!=="touchstart"&&tt!=="touchmove"&&tt!=="wheel"||(rt=!0),nt?rt!==void 0?_e.addEventListener(tt,et,{capture:!0,passive:rt}):_e.addEventListener(tt,et,!0):rt!==void 0?_e.addEventListener(tt,et,{passive:rt}):_e.addEventListener(tt,et,!1)}function hd(_e,tt,et,nt,rt){var it=nt;if(!(tt&1)&&!(tt&2)&&nt!==null)e:for(;;){if(nt===null)return;var ot=nt.tag;if(ot===3||ot===4){var st=nt.stateNode.containerInfo;if(st===rt||st.nodeType===8&&st.parentNode===rt)break;if(ot===4)for(ot=nt.return;ot!==null;){var at=ot.tag;if((at===3||at===4)&&(at=ot.stateNode.containerInfo,at===rt||at.nodeType===8&&at.parentNode===rt))return;ot=ot.return}for(;st!==null;){if(ot=Wc(st),ot===null)return;if(at=ot.tag,at===5||at===6){nt=it=ot;continue e}st=st.parentNode}}nt=nt.return}Jb(function(){var ct=it,lt=xb(et),dt=[];e:{var ut=df.get(_e);if(ut!==void 0){var ft=td,pt=_e;switch(_e){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":pt="focus",ft=Fd;break;case"focusout":pt="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var yt=(tt&4)!==0,Tt=!yt&&_e==="scroll",ht=yt?ut!==null?ut+"Capture":null:ut;yt=[];for(var gt=ct,vt;gt!==null;){vt=gt;var Ct=vt.stateNode;if(vt.tag===5&&Ct!==null&&(vt=Ct,ht!==null&&(Ct=Kb(gt,ht),Ct!=null&&yt.push(tf(gt,Ct,vt)))),Tt)break;gt=gt.return}0<yt.length&&(ut=new ft(ut,pt,null,et,lt),dt.push({event:ut,listeners:yt}))}}if(!(tt&7)){e:{if(ut=_e==="mouseover"||_e==="pointerover",ft=_e==="mouseout"||_e==="pointerout",ut&&et!==wb&&(pt=et.relatedTarget||et.fromElement)&&(Wc(pt)||pt[uf]))break e;if((ft||ut)&&(ut=lt.window===lt?lt:(ut=lt.ownerDocument)?ut.defaultView||ut.parentWindow:window,ft?(pt=et.relatedTarget||et.toElement,ft=ct,pt=pt?Wc(pt):null,pt!==null&&(Tt=Vb(pt),pt!==Tt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(ft=null,pt=ct),ft!==pt)){if(yt=Bd,Ct="onMouseLeave",ht="onMouseEnter",gt="mouse",(_e==="pointerout"||_e==="pointerover")&&(yt=Td,Ct="onPointerLeave",ht="onPointerEnter",gt="pointer"),Tt=ft==null?ut:ue(ft),vt=pt==null?ut:ue(pt),ut=new yt(Ct,gt+"leave",ft,et,lt),ut.target=Tt,ut.relatedTarget=vt,Ct=null,Wc(lt)===ct&&(yt=new yt(ht,gt+"enter",pt,et,lt),yt.target=vt,yt.relatedTarget=Tt,Ct=yt),Tt=Ct,ft&&pt)t:{for(yt=ft,ht=pt,gt=0,vt=yt;vt;vt=vf(vt))gt++;for(vt=0,Ct=ht;Ct;Ct=vf(Ct))vt++;for(;0<gt-vt;)yt=vf(yt),gt--;for(;0<vt-gt;)ht=vf(ht),vt--;for(;gt--;){if(yt===ht||ht!==null&&yt===ht.alternate)break t;yt=vf(yt),ht=vf(ht)}yt=null}else yt=null;ft!==null&&wf(dt,ut,ft,yt,!1),pt!==null&&Tt!==null&&wf(dt,Tt,pt,yt,!0)}}e:{if(ut=ct?ue(ct):window,ft=ut.nodeName&&ut.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ut.type==="file")var It=ve;else if(me(ut))if(we)It=Fe;else{It=De;var Zt=Ce}else(ft=ut.nodeName)&&ft.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(It=Ee);if(It&&(It=It(_e,ct))){ne(dt,It,et,lt);break e}Zt&&Zt(_e,ut,ct),_e==="focusout"&&(Zt=ut._wrapperState)&&Zt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(Zt=ct?ue(ct):window,_e){case"focusin":(me(Zt)||Zt.contentEditable==="true")&&(Qe=Zt,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(dt,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,et,lt)}var Mt;if(ae)e:{switch(_e){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else ie?ge(_e,et)&&(kt="onCompositionEnd"):_e==="keydown"&&et.keyCode===229&&(kt="onCompositionStart");kt&&(de&&et.locale!=="ko"&&(ie||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ie&&(Mt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Zt=oe(ct,kt),0<Zt.length&&(kt=new Ld(kt,_e,null,et,lt),dt.push({event:kt,listeners:Zt}),Mt?kt.data=Mt:(Mt=he(et),Mt!==null&&(kt.data=Mt)))),(Mt=ce?je(_e,et):ke(_e,et))&&(ct=oe(ct,"onBeforeInput"),0<ct.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),dt.push({event:lt,listeners:ct}),lt.data=Mt))}se(dt,tt)})}function tf(_e,tt,et){return{instance:_e,listener:tt,currentTarget:et}}function oe(_e,tt){for(var et=tt+"Capture",nt=[];_e!==null;){var rt=_e,it=rt.stateNode;rt.tag===5&&it!==null&&(rt=it,it=Kb(_e,et),it!=null&&nt.unshift(tf(_e,it,rt)),it=Kb(_e,tt),it!=null&&nt.push(tf(_e,it,rt))),_e=_e.return}return nt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,tt,et,nt,rt){for(var it=tt._reactName,ot=[];et!==null&&et!==nt;){var st=et,at=st.alternate,ct=st.stateNode;if(at!==null&&at===nt)break;st.tag===5&&ct!==null&&(st=ct,rt?(at=Kb(et,it),at!=null&&ot.unshift(tf(et,at,st))):rt||(at=Kb(et,it),at!=null&&ot.push(tf(et,at,st)))),et=et.return}ot.length!==0&&_e.push({event:tt,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,tt,et){if(tt=zf(tt),zf(_e)!==tt&&et)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,tt){return _e==="textarea"||_e==="noscript"||typeof tt.children=="string"||typeof tt.children=="number"||typeof tt.dangerouslySetInnerHTML=="object"&&tt.dangerouslySetInnerHTML!==null&&tt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,tt){var et=tt,nt=0;do{var rt=et.nextSibling;if(_e.removeChild(et),rt&&rt.nodeType===8)if(et=rt.data,et==="/$"){if(nt===0){_e.removeChild(rt),bd(tt);return}nt--}else et!=="$"&&et!=="$?"&&et!=="$!"||nt++;et=rt}while(et);bd(tt)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var tt=_e.nodeType;if(tt===1||tt===3)break;if(tt===8){if(tt=_e.data,tt==="$"||tt==="$!"||tt==="$?")break;if(tt==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var tt=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="$"||et==="$!"||et==="$?"){if(tt===0)return _e;tt--}else et==="/$"&&tt++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var tt=_e[Of];if(tt)return tt;for(var et=_e.parentNode;et;){if(tt=et[uf]||et[Of]){if(et=tt.alternate,tt.child!==null||et!==null&&et.child!==null)for(_e=Mf(_e);_e!==null;){if(et=_e[Of])return et;_e=Mf(_e)}return tt}_e=et,et=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$6(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$2(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,tt){Tf++,Sf[Tf]=_e.current,_e.current=tt}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,tt){var et=_e.type.contextTypes;if(!et)return Vf;var nt=_e.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===tt)return nt.__reactInternalMemoizedMaskedChildContext;var rt={},it;for(it in et)rt[it]=tt[it];return nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=tt,_e.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(_e,tt,et){if(H$2.current!==Vf)throw Error(p$6(168));G$1(H$2,tt),G$1(Wf,et)}function bg(_e,tt,et){var nt=_e.stateNode;if(tt=tt.childContextTypes,typeof nt.getChildContext!="function")return et;nt=nt.getChildContext();for(var rt in nt)if(!(rt in tt))throw Error(p$6(108,Ra(_e)||"Unknown",rt));return A$3({},et,nt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,_e),G$1(Wf,Wf.current),!0}function dg(_e,tt,et){var nt=_e.stateNode;if(!nt)throw Error(p$6(169));et?(_e=bg(_e,tt,Xf),nt.__reactInternalMemoizedMergedChildContext=_e,E$2(Wf),E$2(H$2),G$1(H$2,_e)):E$2(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,tt=C$1;try{var et=eg;for(C$1=1;_e<et.length;_e++){var nt=et[_e];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),rt}finally{C$1=tt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,tt){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=tt}function ug(_e,tt,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var nt=rg;_e=sg;var rt=32-oc(nt)-1;nt&=~(1<<rt),et+=1;var it=32-oc(tt)+rt;if(30<it){var ot=rt-rt%5;it=(nt&(1<<ot)-1).toString(32),nt>>=ot,rt-=ot,rg=1<<32-oc(tt)+rt|et<<rt|nt,sg=it+_e}else rg=1<<it|et<<rt|nt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(_e,tt){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=tt,et.return=_e,tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)}function Cg(_e,tt){switch(_e.tag){case 5:var et=_e.type;return tt=tt.nodeType!==1||et.toLowerCase()!==tt.nodeName.toLowerCase()?null:tt,tt!==null?(_e.stateNode=tt,xg=_e,yg=Lf(tt.firstChild),!0):!1;case 6:return tt=_e.pendingProps===""||tt.nodeType!==3?null:tt,tt!==null?(_e.stateNode=tt,xg=_e,yg=null,!0):!1;case 13:return tt=tt.nodeType!==8?null:tt,tt!==null?(et=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:tt,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=tt,et.return=_e,_e.child=et,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$2){var tt=yg;if(tt){var et=tt;if(!Cg(_e,tt)){if(Dg(_e))throw Error(p$6(418));tt=Lf(et.nextSibling);var nt=xg;tt&&Cg(_e,tt)?Ag(nt,et):(_e.flags=_e.flags&-4097|2,I$2=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$6(418));_e.flags=_e.flags&-4097|2,I$2=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$2)return Fg(_e),I$2=!0,!1;var tt;if((tt=_e.tag!==3)&&!(tt=_e.tag!==5)&&(tt=_e.type,tt=tt!=="head"&&tt!=="body"&&!Ef(_e.type,_e.memoizedProps)),tt&&(tt=yg)){if(Dg(_e))throw Hg(),Error(p$6(418));for(;tt;)Ag(_e,tt),tt=Lf(tt.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$6(317));e:{for(_e=_e.nextSibling,tt=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="/$"){if(tt===0){yg=Lf(_e.nextSibling);break e}tt--}else et!=="$"&&et!=="$!"&&et!=="$?"||tt++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,tt){if(_e&&_e.defaultProps){tt=A$3({},tt),_e=_e.defaultProps;for(var et in _e)tt[et]===void 0&&(tt[et]=_e[et]);return tt}return tt}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var tt=Mg.current;E$2(Mg),_e._currentValue=tt}function Sg(_e,tt,et){for(;_e!==null;){var nt=_e.alternate;if((_e.childLanes&tt)!==tt?(_e.childLanes|=tt,nt!==null&&(nt.childLanes|=tt)):nt!==null&&(nt.childLanes&tt)!==tt&&(nt.childLanes|=tt),_e===et)break;_e=_e.return}}function Tg(_e,tt){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&tt&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var tt=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:tt,next:null},Og===null){if(Ng===null)throw Error(p$6(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return tt}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,tt,et,nt){var rt=tt.interleaved;return rt===null?(et.next=et,Xg(tt)):(et.next=rt.next,rt.next=et),tt.interleaved=et,Zg(_e,nt)}function Zg(_e,tt){_e.lanes|=tt;var et=_e.alternate;for(et!==null&&(et.lanes|=tt),et=_e,_e=_e.return;_e!==null;)_e.childLanes|=tt,et=_e.alternate,et!==null&&(et.childLanes|=tt),et=_e,_e=_e.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,tt){_e=_e.updateQueue,tt.updateQueue===_e&&(tt.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,tt){return{eventTime:_e,lane:tt,tag:0,payload:null,callback:null,next:null}}function dh(_e,tt,et){var nt=_e.updateQueue;if(nt===null)return null;if(nt=nt.shared,K&2){var rt=nt.pending;return rt===null?tt.next=tt:(tt.next=rt.next,rt.next=tt),nt.pending=tt,Zg(_e,et)}return rt=nt.interleaved,rt===null?(tt.next=tt,Xg(nt)):(tt.next=rt.next,rt.next=tt),nt.interleaved=tt,Zg(_e,et)}function eh(_e,tt,et){if(tt=tt.updateQueue,tt!==null&&(tt=tt.shared,(et&4194240)!==0)){var nt=tt.lanes;nt&=_e.pendingLanes,et|=nt,tt.lanes=et,Cc(_e,et)}}function fh(_e,tt){var et=_e.updateQueue,nt=_e.alternate;if(nt!==null&&(nt=nt.updateQueue,et===nt)){var rt=null,it=null;if(et=et.firstBaseUpdate,et!==null){do{var ot={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};it===null?rt=it=ot:it=it.next=ot,et=et.next}while(et!==null);it===null?rt=it=tt:it=it.next=tt}else rt=it=tt;et={baseState:nt.baseState,firstBaseUpdate:rt,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},_e.updateQueue=et;return}_e=et.lastBaseUpdate,_e===null?et.firstBaseUpdate=tt:_e.next=tt,et.lastBaseUpdate=tt}function gh(_e,tt,et,nt){var rt=_e.updateQueue;$g=!1;var it=rt.firstBaseUpdate,ot=rt.lastBaseUpdate,st=rt.shared.pending;if(st!==null){rt.shared.pending=null;var at=st,ct=at.next;at.next=null,ot===null?it=ct:ot.next=ct,ot=at;var lt=_e.alternate;lt!==null&&(lt=lt.updateQueue,st=lt.lastBaseUpdate,st!==ot&&(st===null?lt.firstBaseUpdate=ct:st.next=ct,lt.lastBaseUpdate=at))}if(it!==null){var dt=rt.baseState;ot=0,lt=ct=at=null,st=it;do{var ut=st.lane,ft=st.eventTime;if((nt&ut)===ut){lt!==null&&(lt=lt.next={eventTime:ft,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var pt=_e,yt=st;switch(ut=tt,ft=et,yt.tag){case 1:if(pt=yt.payload,typeof pt=="function"){dt=pt.call(ft,dt,ut);break e}dt=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=yt.payload,ut=typeof pt=="function"?pt.call(ft,dt,ut):pt,ut==null)break e;dt=A$3({},dt,ut);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(_e.flags|=64,ut=rt.effects,ut===null?rt.effects=[st]:ut.push(st))}else ft={eventTime:ft,lane:ut,tag:st.tag,payload:st.payload,callback:st.callback,next:null},lt===null?(ct=lt=ft,at=dt):lt=lt.next=ft,ot|=ut;if(st=st.next,st===null){if(st=rt.shared.pending,st===null)break;ut=st,st=ut.next,ut.next=null,rt.lastBaseUpdate=ut,rt.shared.pending=null}}while(1);if(lt===null&&(at=dt),rt.baseState=at,rt.firstBaseUpdate=ct,rt.lastBaseUpdate=lt,tt=rt.shared.interleaved,tt!==null){rt=tt;do ot|=rt.lane,rt=rt.next;while(rt!==tt)}else it===null&&(rt.shared.lanes=0);hh|=ot,_e.lanes=ot,_e.memoizedState=dt}}function ih(_e,tt,et){if(_e=tt.effects,tt.effects=null,_e!==null)for(tt=0;tt<_e.length;tt++){var nt=_e[tt],rt=nt.callback;if(rt!==null){if(nt.callback=null,nt=et,typeof rt!="function")throw Error(p$6(191,rt));rt.call(nt)}}}var jh=new aa.Component().refs;function kh(_e,tt,et,nt){tt=_e.memoizedState,et=et(nt,tt),et=et==null?tt:A$3({},tt,et),_e.memoizedState=et,_e.lanes===0&&(_e.updateQueue.baseState=et)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,tt,et){_e=_e._reactInternals;var nt=L$2(),rt=lh(_e),it=ch(nt,rt);it.payload=tt,et!=null&&(it.callback=et),tt=dh(_e,it,rt),tt!==null&&(mh(tt,_e,rt,nt),eh(tt,_e,rt))},enqueueReplaceState:function(_e,tt,et){_e=_e._reactInternals;var nt=L$2(),rt=lh(_e),it=ch(nt,rt);it.tag=1,it.payload=tt,et!=null&&(it.callback=et),tt=dh(_e,it,rt),tt!==null&&(mh(tt,_e,rt,nt),eh(tt,_e,rt))},enqueueForceUpdate:function(_e,tt){_e=_e._reactInternals;var et=L$2(),nt=lh(_e),rt=ch(et,nt);rt.tag=2,tt!=null&&(rt.callback=tt),tt=dh(_e,rt,nt),tt!==null&&(mh(tt,_e,nt,et),eh(tt,_e,nt))}};function oh(_e,tt,et,nt,rt,it,ot){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(nt,it,ot):tt.prototype&&tt.prototype.isPureReactComponent?!Ie(et,nt)||!Ie(rt,it):!0}function ph(_e,tt,et){var nt=!1,rt=Vf,it=tt.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(rt=Zf(tt)?Xf:H$2.current,nt=tt.contextTypes,it=(nt=nt!=null)?Yf(_e,rt):Vf),tt=new tt(et,it),_e.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,tt.updater=nh,_e.stateNode=tt,tt._reactInternals=_e,nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=rt,_e.__reactInternalMemoizedMaskedChildContext=it),tt}function qh(_e,tt,et,nt){_e=tt.state,typeof tt.componentWillReceiveProps=="function"&&tt.componentWillReceiveProps(et,nt),typeof tt.UNSAFE_componentWillReceiveProps=="function"&&tt.UNSAFE_componentWillReceiveProps(et,nt),tt.state!==_e&&nh.enqueueReplaceState(tt,tt.state,null)}function rh(_e,tt,et,nt){var rt=_e.stateNode;rt.props=et,rt.state=_e.memoizedState,rt.refs=jh,ah(_e);var it=tt.contextType;typeof it=="object"&&it!==null?rt.context=Vg(it):(it=Zf(tt)?Xf:H$2.current,rt.context=Yf(_e,it)),rt.state=_e.memoizedState,it=tt.getDerivedStateFromProps,typeof it=="function"&&(kh(_e,tt,it,et),rt.state=_e.memoizedState),typeof tt.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(tt=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),tt!==rt.state&&nh.enqueueReplaceState(rt,rt.state,null),gh(_e,et,rt,nt),rt.state=_e.memoizedState),typeof rt.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,tt,et){if(_e=et.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$6(309));var nt=et.stateNode}if(!nt)throw Error(p$6(147,_e));var rt=nt,it=""+_e;return tt!==null&&tt.ref!==null&&typeof tt.ref=="function"&&tt.ref._stringRef===it?tt.ref:(tt=function(ot){var st=rt.refs;st===jh&&(st=rt.refs={}),ot===null?delete st[it]:st[it]=ot},tt._stringRef=it,tt)}if(typeof _e!="string")throw Error(p$6(284));if(!et._owner)throw Error(p$6(290,_e))}return _e}function th(_e,tt){throw _e=Object.prototype.toString.call(tt),Error(p$6(31,_e==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":_e))}function uh(_e){var tt=_e._init;return tt(_e._payload)}function vh(_e){function tt(ht,gt){if(_e){var vt=ht.deletions;vt===null?(ht.deletions=[gt],ht.flags|=16):vt.push(gt)}}function et(ht,gt){if(!_e)return null;for(;gt!==null;)tt(ht,gt),gt=gt.sibling;return null}function nt(ht,gt){for(ht=new Map;gt!==null;)gt.key!==null?ht.set(gt.key,gt):ht.set(gt.index,gt),gt=gt.sibling;return ht}function rt(ht,gt){return ht=wh(ht,gt),ht.index=0,ht.sibling=null,ht}function it(ht,gt,vt){return ht.index=vt,_e?(vt=ht.alternate,vt!==null?(vt=vt.index,vt<gt?(ht.flags|=2,gt):vt):(ht.flags|=2,gt)):(ht.flags|=1048576,gt)}function ot(ht){return _e&&ht.alternate===null&&(ht.flags|=2),ht}function st(ht,gt,vt,Ct){return gt===null||gt.tag!==6?(gt=xh(vt,ht.mode,Ct),gt.return=ht,gt):(gt=rt(gt,vt),gt.return=ht,gt)}function at(ht,gt,vt,Ct){var It=vt.type;return It===ya?lt(ht,gt,vt.props.children,Ct,vt.key):gt!==null&&(gt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&uh(It)===gt.type)?(Ct=rt(gt,vt.props),Ct.ref=sh(ht,gt,vt),Ct.return=ht,Ct):(Ct=yh(vt.type,vt.key,vt.props,null,ht.mode,Ct),Ct.ref=sh(ht,gt,vt),Ct.return=ht,Ct)}function ct(ht,gt,vt,Ct){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==vt.containerInfo||gt.stateNode.implementation!==vt.implementation?(gt=zh(vt,ht.mode,Ct),gt.return=ht,gt):(gt=rt(gt,vt.children||[]),gt.return=ht,gt)}function lt(ht,gt,vt,Ct,It){return gt===null||gt.tag!==7?(gt=Ah(vt,ht.mode,Ct,It),gt.return=ht,gt):(gt=rt(gt,vt),gt.return=ht,gt)}function dt(ht,gt,vt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=xh(""+gt,ht.mode,vt),gt.return=ht,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return vt=yh(gt.type,gt.key,gt.props,null,ht.mode,vt),vt.ref=sh(ht,null,gt),vt.return=ht,vt;case wa:return gt=zh(gt,ht.mode,vt),gt.return=ht,gt;case Ha:var Ct=gt._init;return dt(ht,Ct(gt._payload),vt)}if(eb(gt)||Ka(gt))return gt=Ah(gt,ht.mode,vt,null),gt.return=ht,gt;th(ht,gt)}return null}function ut(ht,gt,vt,Ct){var It=gt!==null?gt.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return It!==null?null:st(ht,gt,""+vt,Ct);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return vt.key===It?at(ht,gt,vt,Ct):null;case wa:return vt.key===It?ct(ht,gt,vt,Ct):null;case Ha:return It=vt._init,ut(ht,gt,It(vt._payload),Ct)}if(eb(vt)||Ka(vt))return It!==null?null:lt(ht,gt,vt,Ct,null);th(ht,vt)}return null}function ft(ht,gt,vt,Ct,It){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return ht=ht.get(vt)||null,st(gt,ht,""+Ct,It);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case va:return ht=ht.get(Ct.key===null?vt:Ct.key)||null,at(gt,ht,Ct,It);case wa:return ht=ht.get(Ct.key===null?vt:Ct.key)||null,ct(gt,ht,Ct,It);case Ha:var Zt=Ct._init;return ft(ht,gt,vt,Zt(Ct._payload),It)}if(eb(Ct)||Ka(Ct))return ht=ht.get(vt)||null,lt(gt,ht,Ct,It,null);th(gt,Ct)}return null}function pt(ht,gt,vt,Ct){for(var It=null,Zt=null,Mt=gt,kt=gt=0,Nt=null;Mt!==null&&kt<vt.length;kt++){Mt.index>kt?(Nt=Mt,Mt=null):Nt=Mt.sibling;var Lt=ut(ht,Mt,vt[kt],Ct);if(Lt===null){Mt===null&&(Mt=Nt);break}_e&&Mt&&Lt.alternate===null&&tt(ht,Mt),gt=it(Lt,gt,kt),Zt===null?It=Lt:Zt.sibling=Lt,Zt=Lt,Mt=Nt}if(kt===vt.length)return et(ht,Mt),I$2&&tg(ht,kt),It;if(Mt===null){for(;kt<vt.length;kt++)Mt=dt(ht,vt[kt],Ct),Mt!==null&&(gt=it(Mt,gt,kt),Zt===null?It=Mt:Zt.sibling=Mt,Zt=Mt);return I$2&&tg(ht,kt),It}for(Mt=nt(ht,Mt);kt<vt.length;kt++)Nt=ft(Mt,ht,kt,vt[kt],Ct),Nt!==null&&(_e&&Nt.alternate!==null&&Mt.delete(Nt.key===null?kt:Nt.key),gt=it(Nt,gt,kt),Zt===null?It=Nt:Zt.sibling=Nt,Zt=Nt);return _e&&Mt.forEach(function(Pt){return tt(ht,Pt)}),I$2&&tg(ht,kt),It}function yt(ht,gt,vt,Ct){var It=Ka(vt);if(typeof It!="function")throw Error(p$6(150));if(vt=It.call(vt),vt==null)throw Error(p$6(151));for(var Zt=It=null,Mt=gt,kt=gt=0,Nt=null,Lt=vt.next();Mt!==null&&!Lt.done;kt++,Lt=vt.next()){Mt.index>kt?(Nt=Mt,Mt=null):Nt=Mt.sibling;var Pt=ut(ht,Mt,Lt.value,Ct);if(Pt===null){Mt===null&&(Mt=Nt);break}_e&&Mt&&Pt.alternate===null&&tt(ht,Mt),gt=it(Pt,gt,kt),Zt===null?It=Pt:Zt.sibling=Pt,Zt=Pt,Mt=Nt}if(Lt.done)return et(ht,Mt),I$2&&tg(ht,kt),It;if(Mt===null){for(;!Lt.done;kt++,Lt=vt.next())Lt=dt(ht,Lt.value,Ct),Lt!==null&&(gt=it(Lt,gt,kt),Zt===null?It=Lt:Zt.sibling=Lt,Zt=Lt);return I$2&&tg(ht,kt),It}for(Mt=nt(ht,Mt);!Lt.done;kt++,Lt=vt.next())Lt=ft(Mt,ht,kt,Lt.value,Ct),Lt!==null&&(_e&&Lt.alternate!==null&&Mt.delete(Lt.key===null?kt:Lt.key),gt=it(Lt,gt,kt),Zt===null?It=Lt:Zt.sibling=Lt,Zt=Lt);return _e&&Mt.forEach(function(cn){return tt(ht,cn)}),I$2&&tg(ht,kt),It}function Tt(ht,gt,vt,Ct){if(typeof vt=="object"&&vt!==null&&vt.type===ya&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:e:{for(var It=vt.key,Zt=gt;Zt!==null;){if(Zt.key===It){if(It=vt.type,It===ya){if(Zt.tag===7){et(ht,Zt.sibling),gt=rt(Zt,vt.props.children),gt.return=ht,ht=gt;break e}}else if(Zt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&uh(It)===Zt.type){et(ht,Zt.sibling),gt=rt(Zt,vt.props),gt.ref=sh(ht,Zt,vt),gt.return=ht,ht=gt;break e}et(ht,Zt);break}else tt(ht,Zt);Zt=Zt.sibling}vt.type===ya?(gt=Ah(vt.props.children,ht.mode,Ct,vt.key),gt.return=ht,ht=gt):(Ct=yh(vt.type,vt.key,vt.props,null,ht.mode,Ct),Ct.ref=sh(ht,gt,vt),Ct.return=ht,ht=Ct)}return ot(ht);case wa:e:{for(Zt=vt.key;gt!==null;){if(gt.key===Zt)if(gt.tag===4&&gt.stateNode.containerInfo===vt.containerInfo&&gt.stateNode.implementation===vt.implementation){et(ht,gt.sibling),gt=rt(gt,vt.children||[]),gt.return=ht,ht=gt;break e}else{et(ht,gt);break}else tt(ht,gt);gt=gt.sibling}gt=zh(vt,ht.mode,Ct),gt.return=ht,ht=gt}return ot(ht);case Ha:return Zt=vt._init,Tt(ht,gt,Zt(vt._payload),Ct)}if(eb(vt))return pt(ht,gt,vt,Ct);if(Ka(vt))return yt(ht,gt,vt,Ct);th(ht,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,gt!==null&&gt.tag===6?(et(ht,gt.sibling),gt=rt(gt,vt),gt.return=ht,ht=gt):(et(ht,gt),gt=xh(vt,ht.mode,Ct),gt.return=ht,ht=gt),ot(ht)):et(ht,gt)}return Tt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$6(174));return _e}function Ih(_e,tt){switch(G$1(Gh,tt),G$1(Fh,_e),G$1(Eh,Dh),_e=tt.nodeType,_e){case 9:case 11:tt=(tt=tt.documentElement)?tt.namespaceURI:lb(null,"");break;default:_e=_e===8?tt.parentNode:tt,tt=_e.namespaceURI||null,_e=_e.tagName,tt=lb(tt,_e)}E$2(Eh),G$1(Eh,tt)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(_e){Hh(Gh.current);var tt=Hh(Eh.current),et=lb(tt,_e.type);tt!==et&&(G$1(Fh,_e),G$1(Eh,et))}function Lh(_e){Fh.current===_e&&(E$2(Eh),E$2(Fh))}var M$2=Uf(0);function Mh(_e){for(var tt=_e;tt!==null;){if(tt.tag===13){var et=tt.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return tt}else if(tt.tag===19&&tt.memoizedProps.revealOrder!==void 0){if(tt.flags&128)return tt}else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return null;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$1=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$6(321))}function Wh(_e,tt){if(tt===null)return!1;for(var et=0;et<tt.length&&et<_e.length;et++)if(!He(_e[et],tt[et]))return!1;return!0}function Xh(_e,tt,et,nt,rt,it){if(Rh=it,N$2=tt,tt.memoizedState=null,tt.updateQueue=null,tt.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=et(nt,rt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$6(301));it+=1,P$2=O$1=null,tt.updateQueue=null,Ph.current=$h,_e=et(nt,rt)}while(Th)}if(Ph.current=ai,tt=O$1!==null&&O$1.next!==null,Rh=0,P$2=O$1=N$2=null,Sh=!1,tt)throw Error(p$6(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$2.memoizedState=P$2=_e:P$2=P$2.next=_e,P$2}function di(){if(O$1===null){var _e=N$2.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$1.next;var tt=P$2===null?N$2.memoizedState:P$2.next;if(tt!==null)P$2=tt,O$1=_e;else{if(_e===null)throw Error(p$6(310));O$1=_e,_e={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$2===null?N$2.memoizedState=P$2=_e:P$2=P$2.next=_e}return P$2}function ei(_e,tt){return typeof tt=="function"?tt(_e):tt}function fi(_e){var tt=di(),et=tt.queue;if(et===null)throw Error(p$6(311));et.lastRenderedReducer=_e;var nt=O$1,rt=nt.baseQueue,it=et.pending;if(it!==null){if(rt!==null){var ot=rt.next;rt.next=it.next,it.next=ot}nt.baseQueue=rt=it,et.pending=null}if(rt!==null){it=rt.next,nt=nt.baseState;var st=ot=null,at=null,ct=it;do{var lt=ct.lane;if((Rh&lt)===lt)at!==null&&(at=at.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),nt=ct.hasEagerState?ct.eagerState:_e(nt,ct.action);else{var dt={lane:lt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};at===null?(st=at=dt,ot=nt):at=at.next=dt,N$2.lanes|=lt,hh|=lt}ct=ct.next}while(ct!==null&&ct!==it);at===null?ot=nt:at.next=st,He(nt,tt.memoizedState)||(Ug=!0),tt.memoizedState=nt,tt.baseState=ot,tt.baseQueue=at,et.lastRenderedState=nt}if(_e=et.interleaved,_e!==null){rt=_e;do it=rt.lane,N$2.lanes|=it,hh|=it,rt=rt.next;while(rt!==_e)}else rt===null&&(et.lanes=0);return[tt.memoizedState,et.dispatch]}function gi(_e){var tt=di(),et=tt.queue;if(et===null)throw Error(p$6(311));et.lastRenderedReducer=_e;var nt=et.dispatch,rt=et.pending,it=tt.memoizedState;if(rt!==null){et.pending=null;var ot=rt=rt.next;do it=_e(it,ot.action),ot=ot.next;while(ot!==rt);He(it,tt.memoizedState)||(Ug=!0),tt.memoizedState=it,tt.baseQueue===null&&(tt.baseState=it),et.lastRenderedState=it}return[it,nt]}function hi(){}function ii(_e,tt){var et=N$2,nt=di(),rt=tt(),it=!He(nt.memoizedState,rt);if(it&&(nt.memoizedState=rt,Ug=!0),nt=nt.queue,ji(ki.bind(null,et,nt,_e),[_e]),nt.getSnapshot!==tt||it||P$2!==null&&P$2.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,nt,rt,tt),void 0,null),R$2===null)throw Error(p$6(349));Rh&30||ni(et,tt,rt)}return rt}function ni(_e,tt,et){_e.flags|=16384,_e={getSnapshot:tt,value:et},tt=N$2.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$2.updateQueue=tt,tt.stores=[_e]):(et=tt.stores,et===null?tt.stores=[_e]:et.push(_e))}function mi(_e,tt,et,nt){tt.value=et,tt.getSnapshot=nt,oi(tt)&&pi(_e)}function ki(_e,tt,et){return et(function(){oi(tt)&&pi(_e)})}function oi(_e){var tt=_e.getSnapshot;_e=_e.value;try{var et=tt();return!He(_e,et)}catch{return!0}}function pi(_e){var tt=Zg(_e,1);tt!==null&&mh(tt,_e,1,-1)}function qi(_e){var tt=ci();return typeof _e=="function"&&(_e=_e()),tt.memoizedState=tt.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},tt.queue=_e,_e=_e.dispatch=ri.bind(null,N$2,_e),[tt.memoizedState,_e]}function li(_e,tt,et,nt){return _e={tag:_e,create:tt,destroy:et,deps:nt,next:null},tt=N$2.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$2.updateQueue=tt,tt.lastEffect=_e.next=_e):(et=tt.lastEffect,et===null?tt.lastEffect=_e.next=_e:(nt=et.next,et.next=_e,_e.next=nt,tt.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,tt,et,nt){var rt=ci();N$2.flags|=_e,rt.memoizedState=li(1|tt,et,void 0,nt===void 0?null:nt)}function ui(_e,tt,et,nt){var rt=di();nt=nt===void 0?null:nt;var it=void 0;if(O$1!==null){var ot=O$1.memoizedState;if(it=ot.destroy,nt!==null&&Wh(nt,ot.deps)){rt.memoizedState=li(tt,et,it,nt);return}}N$2.flags|=_e,rt.memoizedState=li(1|tt,et,it,nt)}function vi(_e,tt){return ti(8390656,8,_e,tt)}function ji(_e,tt){return ui(2048,8,_e,tt)}function wi(_e,tt){return ui(4,2,_e,tt)}function xi(_e,tt){return ui(4,4,_e,tt)}function yi(_e,tt){if(typeof tt=="function")return _e=_e(),tt(_e),function(){tt(null)};if(tt!=null)return _e=_e(),tt.current=_e,function(){tt.current=null}}function zi(_e,tt,et){return et=et!=null?et.concat([_e]):null,ui(4,4,yi.bind(null,tt,_e),et)}function Ai(){}function Bi(_e,tt){var et=di();tt=tt===void 0?null:tt;var nt=et.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(et.memoizedState=[_e,tt],_e)}function Ci(_e,tt){var et=di();tt=tt===void 0?null:tt;var nt=et.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(_e=_e(),et.memoizedState=[_e,tt],_e)}function Di(_e,tt,et){return Rh&21?(He(et,tt)||(et=yc(),N$2.lanes|=et,hh|=et,_e.baseState=!0),tt):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=et)}function Ei(_e,tt){var et=C$1;C$1=et!==0&&4>et?et:4,_e(!0);var nt=Qh.transition;Qh.transition={};try{_e(!1),tt()}finally{C$1=et,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(_e,tt,et){var nt=lh(_e);if(et={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(tt,et);else if(et=Yg(_e,tt,et,nt),et!==null){var rt=L$2();mh(et,_e,nt,rt),Ji(et,tt,nt)}}function ri(_e,tt,et){var nt=lh(_e),rt={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(tt,rt);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=tt.lastRenderedReducer,it!==null))try{var ot=tt.lastRenderedState,st=it(ot,et);if(rt.hasEagerState=!0,rt.eagerState=st,He(st,ot)){var at=tt.interleaved;at===null?(rt.next=rt,Xg(tt)):(rt.next=at.next,at.next=rt),tt.interleaved=rt;return}}catch{}finally{}et=Yg(_e,tt,rt,nt),et!==null&&(rt=L$2(),mh(et,_e,nt,rt),Ji(et,tt,nt))}}function Hi(_e){var tt=_e.alternate;return _e===N$2||tt!==null&&tt===N$2}function Ii(_e,tt){Th=Sh=!0;var et=_e.pending;et===null?tt.next=tt:(tt.next=et.next,et.next=tt),_e.pending=tt}function Ji(_e,tt,et){if(et&4194240){var nt=tt.lanes;nt&=_e.pendingLanes,et|=nt,tt.lanes=et,Cc(_e,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,tt){return ci().memoizedState=[_e,tt===void 0?null:tt],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,tt,et){return et=et!=null?et.concat([_e]):null,ti(4194308,4,yi.bind(null,tt,_e),et)},useLayoutEffect:function(_e,tt){return ti(4194308,4,_e,tt)},useInsertionEffect:function(_e,tt){return ti(4,2,_e,tt)},useMemo:function(_e,tt){var et=ci();return tt=tt===void 0?null:tt,_e=_e(),et.memoizedState=[_e,tt],_e},useReducer:function(_e,tt,et){var nt=ci();return tt=et!==void 0?et(tt):tt,nt.memoizedState=nt.baseState=tt,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:tt},nt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$2,_e),[nt.memoizedState,_e]},useRef:function(_e){var tt=ci();return _e={current:_e},tt.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),tt=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[tt,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,tt,et){var nt=N$2,rt=ci();if(I$2){if(et===void 0)throw Error(p$6(407));et=et()}else{if(et=tt(),R$2===null)throw Error(p$6(349));Rh&30||ni(nt,tt,et)}rt.memoizedState=et;var it={value:et,getSnapshot:tt};return rt.queue=it,vi(ki.bind(null,nt,it,_e),[_e]),nt.flags|=2048,li(9,mi.bind(null,nt,it,et,tt),void 0,null),et},useId:function(){var _e=ci(),tt=R$2.identifierPrefix;if(I$2){var et=sg,nt=rg;et=(nt&~(1<<32-oc(nt)-1)).toString(32)+et,tt=":"+tt+"R"+et,et=Uh++,0<et&&(tt+="H"+et.toString(32)),tt+=":"}else et=Vh++,tt=":"+tt+"r"+et.toString(32)+":";return _e.memoizedState=tt},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var tt=di();return Di(tt,O$1.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],tt=di().memoizedState;return[_e,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var tt=di();return O$1===null?tt.memoizedState=_e:Di(tt,O$1.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],tt=di().memoizedState;return[_e,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,tt){try{var et="",nt=tt;do et+=Pa(nt),nt=nt.return;while(nt);var rt=et}catch(it){rt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:tt,stack:rt,digest:null}}function Li(_e,tt,et){return{value:_e,source:null,stack:et??null,digest:tt??null}}function Mi(_e,tt){try{console.error(tt.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,tt,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var nt=tt.value;return et.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(_e,tt)},et}function Ri(_e,tt,et){et=ch(-1,et),et.tag=3;var nt=_e.type.getDerivedStateFromError;if(typeof nt=="function"){var rt=tt.value;et.payload=function(){return nt(rt)},et.callback=function(){Mi(_e,tt)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(et.callback=function(){Mi(_e,tt),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=tt.stack;this.componentDidCatch(tt.value,{componentStack:ot!==null?ot:""})}),et}function Ti(_e,tt,et){var nt=_e.pingCache;if(nt===null){nt=_e.pingCache=new Ni;var rt=new Set;nt.set(tt,rt)}else rt=nt.get(tt),rt===void 0&&(rt=new Set,nt.set(tt,rt));rt.has(et)||(rt.add(et),_e=Ui.bind(null,_e,tt,et),tt.then(_e,_e))}function Vi(_e){do{var tt;if((tt=_e.tag===13)&&(tt=_e.memoizedState,tt=tt!==null?tt.dehydrated!==null:!0),tt)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,tt,et,nt,rt){return _e.mode&1?(_e.flags|=65536,_e.lanes=rt,_e):(_e===tt?_e.flags|=65536:(_e.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(tt=ch(-1,1),tt.tag=2,dh(et,tt,1))),et.lanes|=1),_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,tt,et,nt){tt.child=_e===null?Ch(tt,null,et,nt):Bh(tt,_e.child,et,nt)}function Zi(_e,tt,et,nt,rt){et=et.render;var it=tt.ref;return Tg(tt,rt),nt=Xh(_e,tt,et,nt,it,rt),et=bi(),_e!==null&&!Ug?(tt.updateQueue=_e.updateQueue,tt.flags&=-2053,_e.lanes&=~rt,$i(_e,tt,rt)):(I$2&&et&&vg(tt),tt.flags|=1,Yi(_e,tt,nt,rt),tt.child)}function aj(_e,tt,et,nt,rt){if(_e===null){var it=et.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(tt.tag=15,tt.type=it,cj(_e,tt,it,nt,rt)):(_e=yh(et.type,null,nt,tt,tt.mode,rt),_e.ref=tt.ref,_e.return=tt,tt.child=_e)}if(it=_e.child,!(_e.lanes&rt)){var ot=it.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(ot,nt)&&_e.ref===tt.ref)return $i(_e,tt,rt)}return tt.flags|=1,_e=wh(it,nt),_e.ref=tt.ref,_e.return=tt,tt.child=_e}function cj(_e,tt,et,nt,rt){if(_e!==null){var it=_e.memoizedProps;if(Ie(it,nt)&&_e.ref===tt.ref)if(Ug=!1,tt.pendingProps=nt=it,(_e.lanes&rt)!==0)_e.flags&131072&&(Ug=!0);else return tt.lanes=_e.lanes,$i(_e,tt,rt)}return dj(_e,tt,et,nt,rt)}function ej(_e,tt,et){var nt=tt.pendingProps,rt=nt.children,it=_e!==null?_e.memoizedState:null;if(nt.mode==="hidden")if(!(tt.mode&1))tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if(!(et&1073741824))return _e=it!==null?it.baseLanes|et:et,tt.lanes=tt.childLanes=1073741824,tt.memoizedState={baseLanes:_e,cachePool:null,transitions:null},tt.updateQueue=null,G$1(fj,gj),gj|=_e,null;tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:et,G$1(fj,gj),gj|=nt}else it!==null?(nt=it.baseLanes|et,tt.memoizedState=null):nt=et,G$1(fj,gj),gj|=nt;return Yi(_e,tt,rt,et),tt.child}function hj(_e,tt){var et=tt.ref;(_e===null&&et!==null||_e!==null&&_e.ref!==et)&&(tt.flags|=512,tt.flags|=2097152)}function dj(_e,tt,et,nt,rt){var it=Zf(et)?Xf:H$2.current;return it=Yf(tt,it),Tg(tt,rt),et=Xh(_e,tt,et,nt,it,rt),nt=bi(),_e!==null&&!Ug?(tt.updateQueue=_e.updateQueue,tt.flags&=-2053,_e.lanes&=~rt,$i(_e,tt,rt)):(I$2&&nt&&vg(tt),tt.flags|=1,Yi(_e,tt,et,rt),tt.child)}function ij(_e,tt,et,nt,rt){if(Zf(et)){var it=!0;cg(tt)}else it=!1;if(Tg(tt,rt),tt.stateNode===null)jj(_e,tt),ph(tt,et,nt),rh(tt,et,nt,rt),nt=!0;else if(_e===null){var ot=tt.stateNode,st=tt.memoizedProps;ot.props=st;var at=ot.context,ct=et.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(et)?Xf:H$2.current,ct=Yf(tt,ct));var lt=et.getDerivedStateFromProps,dt=typeof lt=="function"||typeof ot.getSnapshotBeforeUpdate=="function";dt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==nt||at!==ct)&&qh(tt,ot,nt,ct),$g=!1;var ut=tt.memoizedState;ot.state=ut,gh(tt,nt,ot,rt),at=tt.memoizedState,st!==nt||ut!==at||Wf.current||$g?(typeof lt=="function"&&(kh(tt,et,lt,nt),at=tt.memoizedState),(st=$g||oh(tt,et,st,nt,ut,at,ct))?(dt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(tt.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(tt.flags|=4194308),tt.memoizedProps=nt,tt.memoizedState=at),ot.props=nt,ot.state=at,ot.context=ct,nt=st):(typeof ot.componentDidMount=="function"&&(tt.flags|=4194308),nt=!1)}else{ot=tt.stateNode,bh(_e,tt),st=tt.memoizedProps,ct=tt.type===tt.elementType?st:Lg(tt.type,st),ot.props=ct,dt=tt.pendingProps,ut=ot.context,at=et.contextType,typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(et)?Xf:H$2.current,at=Yf(tt,at));var ft=et.getDerivedStateFromProps;(lt=typeof ft=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==dt||ut!==at)&&qh(tt,ot,nt,at),$g=!1,ut=tt.memoizedState,ot.state=ut,gh(tt,nt,ot,rt);var pt=tt.memoizedState;st!==dt||ut!==pt||Wf.current||$g?(typeof ft=="function"&&(kh(tt,et,ft,nt),pt=tt.memoizedState),(ct=$g||oh(tt,et,ct,nt,ut,pt,at)||!1)?(lt||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(nt,pt,at),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(nt,pt,at)),typeof ot.componentDidUpdate=="function"&&(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(tt.flags|=1024)):(typeof ot.componentDidUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=1024),tt.memoizedProps=nt,tt.memoizedState=pt),ot.props=nt,ot.state=pt,ot.context=at,nt=ct):(typeof ot.componentDidUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=1024),nt=!1)}return kj(_e,tt,et,nt,it,rt)}function kj(_e,tt,et,nt,rt,it){hj(_e,tt);var ot=(tt.flags&128)!==0;if(!nt&&!ot)return rt&&dg(tt,et,!1),$i(_e,tt,it);nt=tt.stateNode,Xi.current=tt;var st=ot&&typeof et.getDerivedStateFromError!="function"?null:nt.render();return tt.flags|=1,_e!==null&&ot?(tt.child=Bh(tt,_e.child,null,it),tt.child=Bh(tt,null,st,it)):Yi(_e,tt,st,it),tt.memoizedState=nt.state,rt&&dg(tt,et,!0),tt.child}function lj(_e){var tt=_e.stateNode;tt.pendingContext?ag(_e,tt.pendingContext,tt.pendingContext!==tt.context):tt.context&&ag(_e,tt.context,!1),Ih(_e,tt.containerInfo)}function mj(_e,tt,et,nt,rt){return Ig(),Jg(rt),tt.flags|=256,Yi(_e,tt,et,nt),tt.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,tt,et){var nt=tt.pendingProps,rt=M$2.current,it=!1,ot=(tt.flags&128)!==0,st;if((st=ot)||(st=_e!==null&&_e.memoizedState===null?!1:(rt&2)!==0),st?(it=!0,tt.flags&=-129):(_e===null||_e.memoizedState!==null)&&(rt|=1),G$1(M$2,rt&1),_e===null)return Eg(tt),_e=tt.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(tt.mode&1?_e.data==="$!"?tt.lanes=8:tt.lanes=1073741824:tt.lanes=1,null):(ot=nt.children,_e=nt.fallback,it?(nt=tt.mode,it=tt.child,ot={mode:"hidden",children:ot},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=ot):it=qj(ot,nt,0,null),_e=Ah(_e,nt,et,null),it.return=tt,_e.return=tt,it.sibling=_e,tt.child=it,tt.child.memoizedState=oj(et),tt.memoizedState=nj,_e):rj(tt,ot));if(rt=_e.memoizedState,rt!==null&&(st=rt.dehydrated,st!==null))return sj(_e,tt,ot,nt,st,rt,et);if(it){it=nt.fallback,ot=tt.mode,rt=_e.child,st=rt.sibling;var at={mode:"hidden",children:nt.children};return!(ot&1)&&tt.child!==rt?(nt=tt.child,nt.childLanes=0,nt.pendingProps=at,tt.deletions=null):(nt=wh(rt,at),nt.subtreeFlags=rt.subtreeFlags&14680064),st!==null?it=wh(st,it):(it=Ah(it,ot,et,null),it.flags|=2),it.return=tt,nt.return=tt,nt.sibling=it,tt.child=nt,nt=it,it=tt.child,ot=_e.child.memoizedState,ot=ot===null?oj(et):{baseLanes:ot.baseLanes|et,cachePool:null,transitions:ot.transitions},it.memoizedState=ot,it.childLanes=_e.childLanes&~et,tt.memoizedState=nj,nt}return it=_e.child,_e=it.sibling,nt=wh(it,{mode:"visible",children:nt.children}),!(tt.mode&1)&&(nt.lanes=et),nt.return=tt,nt.sibling=null,_e!==null&&(et=tt.deletions,et===null?(tt.deletions=[_e],tt.flags|=16):et.push(_e)),tt.child=nt,tt.memoizedState=null,nt}function rj(_e,tt){return tt=qj({mode:"visible",children:tt},_e.mode,0,null),tt.return=_e,_e.child=tt}function tj(_e,tt,et,nt){return nt!==null&&Jg(nt),Bh(tt,_e.child,null,et),_e=rj(tt,tt.pendingProps.children),_e.flags|=2,tt.memoizedState=null,_e}function sj(_e,tt,et,nt,rt,it,ot){if(et)return tt.flags&256?(tt.flags&=-257,nt=Li(Error(p$6(422))),tj(_e,tt,ot,nt)):tt.memoizedState!==null?(tt.child=_e.child,tt.flags|=128,null):(it=nt.fallback,rt=tt.mode,nt=qj({mode:"visible",children:nt.children},rt,0,null),it=Ah(it,rt,ot,null),it.flags|=2,nt.return=tt,it.return=tt,nt.sibling=it,tt.child=nt,tt.mode&1&&Bh(tt,_e.child,null,ot),tt.child.memoizedState=oj(ot),tt.memoizedState=nj,it);if(!(tt.mode&1))return tj(_e,tt,ot,null);if(rt.data==="$!"){if(nt=rt.nextSibling&&rt.nextSibling.dataset,nt)var st=nt.dgst;return nt=st,it=Error(p$6(419)),nt=Li(it,nt,void 0),tj(_e,tt,ot,nt)}if(st=(ot&_e.childLanes)!==0,Ug||st){if(nt=R$2,nt!==null){switch(ot&-ot){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(nt.suspendedLanes|ot)?0:rt,rt!==0&&rt!==it.retryLane&&(it.retryLane=rt,Zg(_e,rt),mh(nt,_e,rt,-1))}return uj(),nt=Li(Error(p$6(421))),tj(_e,tt,ot,nt)}return rt.data==="$?"?(tt.flags|=128,tt.child=_e.child,tt=vj.bind(null,_e),rt._reactRetry=tt,null):(_e=it.treeContext,yg=Lf(rt.nextSibling),xg=tt,I$2=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=tt),tt=rj(tt,nt.children),tt.flags|=4096,tt)}function wj(_e,tt,et){_e.lanes|=tt;var nt=_e.alternate;nt!==null&&(nt.lanes|=tt),Sg(_e.return,tt,et)}function xj(_e,tt,et,nt,rt){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:tt,rendering:null,renderingStartTime:0,last:nt,tail:et,tailMode:rt}:(it.isBackwards=tt,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=et,it.tailMode=rt)}function yj(_e,tt,et){var nt=tt.pendingProps,rt=nt.revealOrder,it=nt.tail;if(Yi(_e,tt,nt.children,et),nt=M$2.current,nt&2)nt=nt&1|2,tt.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=tt.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,et,tt);else if(_e.tag===19)wj(_e,et,tt);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===tt)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===tt)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}nt&=1}if(G$1(M$2,nt),!(tt.mode&1))tt.memoizedState=null;else switch(rt){case"forwards":for(et=tt.child,rt=null;et!==null;)_e=et.alternate,_e!==null&&Mh(_e)===null&&(rt=et),et=et.sibling;et=rt,et===null?(rt=tt.child,tt.child=null):(rt=et.sibling,et.sibling=null),xj(tt,!1,rt,et,it);break;case"backwards":for(et=null,rt=tt.child,tt.child=null;rt!==null;){if(_e=rt.alternate,_e!==null&&Mh(_e)===null){tt.child=rt;break}_e=rt.sibling,rt.sibling=et,et=rt,rt=_e}xj(tt,!0,et,null,it);break;case"together":xj(tt,!1,null,null,void 0);break;default:tt.memoizedState=null}return tt.child}function jj(_e,tt){!(tt.mode&1)&&_e!==null&&(_e.alternate=null,tt.alternate=null,tt.flags|=2)}function $i(_e,tt,et){if(_e!==null&&(tt.dependencies=_e.dependencies),hh|=tt.lanes,!(et&tt.childLanes))return null;if(_e!==null&&tt.child!==_e.child)throw Error(p$6(153));if(tt.child!==null){for(_e=tt.child,et=wh(_e,_e.pendingProps),tt.child=et,et.return=tt;_e.sibling!==null;)_e=_e.sibling,et=et.sibling=wh(_e,_e.pendingProps),et.return=tt;et.sibling=null}return tt.child}function zj(_e,tt,et){switch(tt.tag){case 3:lj(tt),Ig();break;case 5:Kh(tt);break;case 1:Zf(tt.type)&&cg(tt);break;case 4:Ih(tt,tt.stateNode.containerInfo);break;case 10:var nt=tt.type._context,rt=tt.memoizedProps.value;G$1(Mg,nt._currentValue),nt._currentValue=rt;break;case 13:if(nt=tt.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(M$2,M$2.current&1),tt.flags|=128,null):et&tt.child.childLanes?pj(_e,tt,et):(G$1(M$2,M$2.current&1),_e=$i(_e,tt,et),_e!==null?_e.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(nt=(et&tt.childLanes)!==0,_e.flags&128){if(nt)return yj(_e,tt,et);tt.flags|=128}if(rt=tt.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G$1(M$2,M$2.current),nt)break;return null;case 22:case 23:return tt.lanes=0,ej(_e,tt,et)}return $i(_e,tt,et)}var Aj,Bj,Cj,Dj;Aj=function(_e,tt){for(var et=tt.child;et!==null;){if(et.tag===5||et.tag===6)_e.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function(_e,tt,et,nt){var rt=_e.memoizedProps;if(rt!==nt){_e=tt.stateNode,Hh(Eh.current);var it=null;switch(et){case"input":rt=Ya(_e,rt),nt=Ya(_e,nt),it=[];break;case"select":rt=A$3({},rt,{value:void 0}),nt=A$3({},nt,{value:void 0}),it=[];break;case"textarea":rt=gb(_e,rt),nt=gb(_e,nt),it=[];break;default:typeof rt.onClick!="function"&&typeof nt.onClick=="function"&&(_e.onclick=Bf)}ub(et,nt);var ot;et=null;for(ct in rt)if(!nt.hasOwnProperty(ct)&&rt.hasOwnProperty(ct)&&rt[ct]!=null)if(ct==="style"){var st=rt[ct];for(ot in st)st.hasOwnProperty(ot)&&(et||(et={}),et[ot]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?it||(it=[]):(it=it||[]).push(ct,null));for(ct in nt){var at=nt[ct];if(st=rt!=null?rt[ct]:void 0,nt.hasOwnProperty(ct)&&at!==st&&(at!=null||st!=null))if(ct==="style")if(st){for(ot in st)!st.hasOwnProperty(ot)||at&&at.hasOwnProperty(ot)||(et||(et={}),et[ot]="");for(ot in at)at.hasOwnProperty(ot)&&st[ot]!==at[ot]&&(et||(et={}),et[ot]=at[ot])}else et||(it||(it=[]),it.push(ct,et)),et=at;else ct==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,st=st?st.__html:void 0,at!=null&&st!==at&&(it=it||[]).push(ct,at)):ct==="children"?typeof at!="string"&&typeof at!="number"||(it=it||[]).push(ct,""+at):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(at!=null&&ct==="onScroll"&&D$1("scroll",_e),it||st===at||(it=[])):(it=it||[]).push(ct,at))}et&&(it=it||[]).push("style",et);var ct=it;(tt.updateQueue=ct)&&(tt.flags|=4)}};Dj=function(_e,tt,et,nt){et!==nt&&(tt.flags|=4)};function Ej(_e,tt){if(!I$2)switch(_e.tailMode){case"hidden":tt=_e.tail;for(var et=null;tt!==null;)tt.alternate!==null&&(et=tt),tt=tt.sibling;et===null?_e.tail=null:et.sibling=null;break;case"collapsed":et=_e.tail;for(var nt=null;et!==null;)et.alternate!==null&&(nt=et),et=et.sibling;nt===null?tt||_e.tail===null?_e.tail=null:_e.tail.sibling=null:nt.sibling=null}}function S$3(_e){var tt=_e.alternate!==null&&_e.alternate.child===_e.child,et=0,nt=0;if(tt)for(var rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags&14680064,nt|=rt.flags&14680064,rt.return=_e,rt=rt.sibling;else for(rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags,nt|=rt.flags,rt.return=_e,rt=rt.sibling;return _e.subtreeFlags|=nt,_e.childLanes=et,tt}function Fj(_e,tt,et){var nt=tt.pendingProps;switch(wg(tt),tt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(tt),null;case 1:return Zf(tt.type)&&$f(),S$3(tt),null;case 3:return nt=tt.stateNode,Jh(),E$2(Wf),E$2(H$2),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(tt)?tt.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(tt.flags&256)||(tt.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,tt),S$3(tt),null;case 5:Lh(tt);var rt=Hh(Gh.current);if(et=tt.type,_e!==null&&tt.stateNode!=null)Cj(_e,tt,et,nt,rt),_e.ref!==tt.ref&&(tt.flags|=512,tt.flags|=2097152);else{if(!nt){if(tt.stateNode===null)throw Error(p$6(166));return S$3(tt),null}if(_e=Hh(Eh.current),Gg(tt)){nt=tt.stateNode,et=tt.type;var it=tt.memoizedProps;switch(nt[Of]=tt,nt[Pf]=it,_e=(tt.mode&1)!==0,et){case"dialog":D$1("cancel",nt),D$1("close",nt);break;case"iframe":case"object":case"embed":D$1("load",nt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],nt);break;case"source":D$1("error",nt);break;case"img":case"image":case"link":D$1("error",nt),D$1("load",nt);break;case"details":D$1("toggle",nt);break;case"input":Za(nt,it),D$1("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$1("invalid",nt);break;case"textarea":hb(nt,it),D$1("invalid",nt)}ub(et,it),rt=null;for(var ot in it)if(it.hasOwnProperty(ot)){var st=it[ot];ot==="children"?typeof st=="string"?nt.textContent!==st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,_e),rt=["children",st]):typeof st=="number"&&nt.textContent!==""+st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,_e),rt=["children",""+st]):ea.hasOwnProperty(ot)&&st!=null&&ot==="onScroll"&&D$1("scroll",nt)}switch(et){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=rt,tt.updateQueue=nt,nt!==null&&(tt.flags|=4)}else{ot=rt.nodeType===9?rt:rt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(et)),_e==="http://www.w3.org/1999/xhtml"?et==="script"?(_e=ot.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof nt.is=="string"?_e=ot.createElement(et,{is:nt.is}):(_e=ot.createElement(et),et==="select"&&(ot=_e,nt.multiple?ot.multiple=!0:nt.size&&(ot.size=nt.size))):_e=ot.createElementNS(_e,et),_e[Of]=tt,_e[Pf]=nt,Aj(_e,tt,!1,!1),tt.stateNode=_e;e:{switch(ot=vb(et,nt),et){case"dialog":D$1("cancel",_e),D$1("close",_e),rt=nt;break;case"iframe":case"object":case"embed":D$1("load",_e),rt=nt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],_e);rt=nt;break;case"source":D$1("error",_e),rt=nt;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),rt=nt;break;case"details":D$1("toggle",_e),rt=nt;break;case"input":Za(_e,nt),rt=Ya(_e,nt),D$1("invalid",_e);break;case"option":rt=nt;break;case"select":_e._wrapperState={wasMultiple:!!nt.multiple},rt=A$3({},nt,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,nt),rt=gb(_e,nt),D$1("invalid",_e);break;default:rt=nt}ub(et,rt),st=rt;for(it in st)if(st.hasOwnProperty(it)){var at=st[it];it==="style"?sb(_e,at):it==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&nb(_e,at)):it==="children"?typeof at=="string"?(et!=="textarea"||at!=="")&&ob(_e,at):typeof at=="number"&&ob(_e,""+at):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?at!=null&&it==="onScroll"&&D$1("scroll",_e):at!=null&&ta(_e,it,at,ot))}switch(et){case"input":Va(_e),db(_e,nt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":nt.value!=null&&_e.setAttribute("value",""+Sa(nt.value));break;case"select":_e.multiple=!!nt.multiple,it=nt.value,it!=null?fb(_e,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(_e,!!nt.multiple,nt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(_e.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(tt.flags|=4)}tt.ref!==null&&(tt.flags|=512,tt.flags|=2097152)}return S$3(tt),null;case 6:if(_e&&tt.stateNode!=null)Dj(_e,tt,_e.memoizedProps,nt);else{if(typeof nt!="string"&&tt.stateNode===null)throw Error(p$6(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(tt)){if(nt=tt.stateNode,et=tt.memoizedProps,nt[Of]=tt,(it=nt.nodeValue!==et)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(nt.nodeValue,et,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,et,(_e.mode&1)!==0)}it&&(tt.flags|=4)}else nt=(et.nodeType===9?et:et.ownerDocument).createTextNode(nt),nt[Of]=tt,tt.stateNode=nt}return S$3(tt),null;case 13:if(E$2(M$2),nt=tt.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&tt.mode&1&&!(tt.flags&128))Hg(),Ig(),tt.flags|=98560,it=!1;else if(it=Gg(tt),nt!==null&&nt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$6(318));if(it=tt.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$6(317));it[Of]=tt}else Ig(),!(tt.flags&128)&&(tt.memoizedState=null),tt.flags|=4;S$3(tt),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return tt.flags&65536?tt:null}return tt.flags&128?(tt.lanes=et,tt):(nt=nt!==null,nt!==(_e!==null&&_e.memoizedState!==null)&&nt&&(tt.child.flags|=8192,tt.mode&1&&(_e===null||M$2.current&1?T$1===0&&(T$1=3):uj())),tt.updateQueue!==null&&(tt.flags|=4),S$3(tt),null);case 4:return Jh(),Bj(_e,tt),_e===null&&sf(tt.stateNode.containerInfo),S$3(tt),null;case 10:return Rg(tt.type._context),S$3(tt),null;case 17:return Zf(tt.type)&&$f(),S$3(tt),null;case 19:if(E$2(M$2),it=tt.memoizedState,it===null)return S$3(tt),null;if(nt=(tt.flags&128)!==0,ot=it.rendering,ot===null)if(nt)Ej(it,!1);else{if(T$1!==0||_e!==null&&_e.flags&128)for(_e=tt.child;_e!==null;){if(ot=Mh(_e),ot!==null){for(tt.flags|=128,Ej(it,!1),nt=ot.updateQueue,nt!==null&&(tt.updateQueue=nt,tt.flags|=4),tt.subtreeFlags=0,nt=et,et=tt.child;et!==null;)it=et,_e=nt,it.flags&=14680066,ot=it.alternate,ot===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=ot.childLanes,it.lanes=ot.lanes,it.child=ot.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=ot.memoizedProps,it.memoizedState=ot.memoizedState,it.updateQueue=ot.updateQueue,it.type=ot.type,_e=ot.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),et=et.sibling;return G$1(M$2,M$2.current&1|2),tt.child}_e=_e.sibling}it.tail!==null&&B$2()>Hj&&(tt.flags|=128,nt=!0,Ej(it,!1),tt.lanes=4194304)}else{if(!nt)if(_e=Mh(ot),_e!==null){if(tt.flags|=128,nt=!0,et=_e.updateQueue,et!==null&&(tt.updateQueue=et,tt.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!ot.alternate&&!I$2)return S$3(tt),null}else 2*B$2()-it.renderingStartTime>Hj&&et!==1073741824&&(tt.flags|=128,nt=!0,Ej(it,!1),tt.lanes=4194304);it.isBackwards?(ot.sibling=tt.child,tt.child=ot):(et=it.last,et!==null?et.sibling=ot:tt.child=ot,it.last=ot)}return it.tail!==null?(tt=it.tail,it.rendering=tt,it.tail=tt.sibling,it.renderingStartTime=B$2(),tt.sibling=null,et=M$2.current,G$1(M$2,nt?et&1|2:et&1),tt):(S$3(tt),null);case 22:case 23:return Ij(),nt=tt.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==nt&&(tt.flags|=8192),nt&&tt.mode&1?gj&1073741824&&(S$3(tt),tt.subtreeFlags&6&&(tt.flags|=8192)):S$3(tt),null;case 24:return null;case 25:return null}throw Error(p$6(156,tt.tag))}function Jj(_e,tt){switch(wg(tt),tt.tag){case 1:return Zf(tt.type)&&$f(),_e=tt.flags,_e&65536?(tt.flags=_e&-65537|128,tt):null;case 3:return Jh(),E$2(Wf),E$2(H$2),Oh(),_e=tt.flags,_e&65536&&!(_e&128)?(tt.flags=_e&-65537|128,tt):null;case 5:return Lh(tt),null;case 13:if(E$2(M$2),_e=tt.memoizedState,_e!==null&&_e.dehydrated!==null){if(tt.alternate===null)throw Error(p$6(340));Ig()}return _e=tt.flags,_e&65536?(tt.flags=_e&-65537|128,tt):null;case 19:return E$2(M$2),null;case 4:return Jh(),null;case 10:return Rg(tt.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(_e,tt){var et=_e.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(nt){W$1(_e,tt,nt)}else et.current=null}function Nj(_e,tt,et){try{et()}catch(nt){W$1(_e,tt,nt)}}var Oj=!1;function Pj(_e,tt){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var et={start:_e.selectionStart,end:_e.selectionEnd};else e:{et=(et=_e.ownerDocument)&&et.defaultView||window;var nt=et.getSelection&&et.getSelection();if(nt&&nt.rangeCount!==0){et=nt.anchorNode;var rt=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{et.nodeType,it.nodeType}catch{et=null;break e}var ot=0,st=-1,at=-1,ct=0,lt=0,dt=_e,ut=null;t:for(;;){for(var ft;dt!==et||rt!==0&&dt.nodeType!==3||(st=ot+rt),dt!==it||nt!==0&&dt.nodeType!==3||(at=ot+nt),dt.nodeType===3&&(ot+=dt.nodeValue.length),(ft=dt.firstChild)!==null;)ut=dt,dt=ft;for(;;){if(dt===_e)break t;if(ut===et&&++ct===rt&&(st=ot),ut===it&&++lt===nt&&(at=ot),(ft=dt.nextSibling)!==null)break;dt=ut,ut=dt.parentNode}dt=ft}et=st===-1||at===-1?null:{start:st,end:at}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:_e,selectionRange:et},dd=!1,V$1=tt;V$1!==null;)if(tt=V$1,_e=tt.child,(tt.subtreeFlags&1028)!==0&&_e!==null)_e.return=tt,V$1=_e;else for(;V$1!==null;){tt=V$1;try{var pt=tt.alternate;if(tt.flags&1024)switch(tt.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var yt=pt.memoizedProps,Tt=pt.memoizedState,ht=tt.stateNode,gt=ht.getSnapshotBeforeUpdate(tt.elementType===tt.type?yt:Lg(tt.type,yt),Tt);ht.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var vt=tt.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(Ct){W$1(tt,tt.return,Ct)}if(_e=tt.sibling,_e!==null){_e.return=tt.return,V$1=_e;break}V$1=tt.return}return pt=Oj,Oj=!1,pt}function Qj(_e,tt,et){var nt=tt.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var rt=nt=nt.next;do{if((rt.tag&_e)===_e){var it=rt.destroy;rt.destroy=void 0,it!==void 0&&Nj(tt,et,it)}rt=rt.next}while(rt!==nt)}}function Rj(_e,tt){if(tt=tt.updateQueue,tt=tt!==null?tt.lastEffect:null,tt!==null){var et=tt=tt.next;do{if((et.tag&_e)===_e){var nt=et.create;et.destroy=nt()}et=et.next}while(et!==tt)}}function Sj(_e){var tt=_e.ref;if(tt!==null){var et=_e.stateNode;switch(_e.tag){case 5:_e=et;break;default:_e=et}typeof tt=="function"?tt(_e):tt.current=_e}}function Tj(_e){var tt=_e.alternate;tt!==null&&(_e.alternate=null,Tj(tt)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(tt=_e.stateNode,tt!==null&&(delete tt[Of],delete tt[Pf],delete tt[of],delete tt[Qf],delete tt[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,tt,et){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,tt?et.nodeType===8?et.parentNode.insertBefore(_e,tt):et.insertBefore(_e,tt):(et.nodeType===8?(tt=et.parentNode,tt.insertBefore(_e,et)):(tt=et,tt.appendChild(_e)),et=et._reactRootContainer,et!=null||tt.onclick!==null||(tt.onclick=Bf));else if(nt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,tt,et),_e=_e.sibling;_e!==null;)Wj(_e,tt,et),_e=_e.sibling}function Xj(_e,tt,et){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,tt?et.insertBefore(_e,tt):et.appendChild(_e);else if(nt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,tt,et),_e=_e.sibling;_e!==null;)Xj(_e,tt,et),_e=_e.sibling}var X$1=null,Yj=!1;function Zj(_e,tt,et){for(et=et.child;et!==null;)ak(_e,tt,et),et=et.sibling}function ak(_e,tt,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,tt);case 6:var nt=X$1,rt=Yj;X$1=null,Zj(_e,tt,et),X$1=nt,Yj=rt,X$1!==null&&(Yj?(_e=X$1,et=et.stateNode,_e.nodeType===8?_e.parentNode.removeChild(et):_e.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?(_e=X$1,et=et.stateNode,_e.nodeType===8?Kf(_e.parentNode,et):_e.nodeType===1&&Kf(_e,et),bd(_e)):Kf(X$1,et.stateNode));break;case 4:nt=X$1,rt=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj(_e,tt,et),X$1=nt,Yj=rt;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=et.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){rt=nt=nt.next;do{var it=rt,ot=it.destroy;it=it.tag,ot!==void 0&&(it&2||it&4)&&Nj(et,tt,ot),rt=rt.next}while(rt!==nt)}Zj(_e,tt,et);break;case 1:if(!U$1&&(Mj(et,tt),nt=et.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=et.memoizedProps,nt.state=et.memoizedState,nt.componentWillUnmount()}catch(st){W$1(et,tt,st)}Zj(_e,tt,et);break;case 21:Zj(_e,tt,et);break;case 22:et.mode&1?(U$1=(nt=U$1)||et.memoizedState!==null,Zj(_e,tt,et),U$1=nt):Zj(_e,tt,et);break;default:Zj(_e,tt,et)}}function bk(_e){var tt=_e.updateQueue;if(tt!==null){_e.updateQueue=null;var et=_e.stateNode;et===null&&(et=_e.stateNode=new Lj),tt.forEach(function(nt){var rt=ck.bind(null,_e,nt);et.has(nt)||(et.add(nt),nt.then(rt,rt))})}}function dk(_e,tt){var et=tt.deletions;if(et!==null)for(var nt=0;nt<et.length;nt++){var rt=et[nt];try{var it=_e,ot=tt,st=ot;e:for(;st!==null;){switch(st.tag){case 5:X$1=st.stateNode,Yj=!1;break e;case 3:X$1=st.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X$1===null)throw Error(p$6(160));ak(it,ot,rt),X$1=null,Yj=!1;var at=rt.alternate;at!==null&&(at.return=null),rt.return=null}catch(ct){W$1(rt,tt,ct)}}if(tt.subtreeFlags&12854)for(tt=tt.child;tt!==null;)ek(tt,_e),tt=tt.sibling}function ek(_e,tt){var et=_e.alternate,nt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(tt,_e),fk(_e),nt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(yt){W$1(_e,_e.return,yt)}try{Qj(5,_e,_e.return)}catch(yt){W$1(_e,_e.return,yt)}}break;case 1:dk(tt,_e),fk(_e),nt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(tt,_e),fk(_e),nt&512&&et!==null&&Mj(et,et.return),_e.flags&32){var rt=_e.stateNode;try{ob(rt,"")}catch(yt){W$1(_e,_e.return,yt)}}if(nt&4&&(rt=_e.stateNode,rt!=null)){var it=_e.memoizedProps,ot=et!==null?et.memoizedProps:it,st=_e.type,at=_e.updateQueue;if(_e.updateQueue=null,at!==null)try{st==="input"&&it.type==="radio"&&it.name!=null&&ab(rt,it),vb(st,ot);var ct=vb(st,it);for(ot=0;ot<at.length;ot+=2){var lt=at[ot],dt=at[ot+1];lt==="style"?sb(rt,dt):lt==="dangerouslySetInnerHTML"?nb(rt,dt):lt==="children"?ob(rt,dt):ta(rt,lt,dt,ct)}switch(st){case"input":bb(rt,it);break;case"textarea":ib(rt,it);break;case"select":var ut=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!it.multiple;var ft=it.value;ft!=null?fb(rt,!!it.multiple,ft,!1):ut!==!!it.multiple&&(it.defaultValue!=null?fb(rt,!!it.multiple,it.defaultValue,!0):fb(rt,!!it.multiple,it.multiple?[]:"",!1))}rt[Pf]=it}catch(yt){W$1(_e,_e.return,yt)}}break;case 6:if(dk(tt,_e),fk(_e),nt&4){if(_e.stateNode===null)throw Error(p$6(162));rt=_e.stateNode,it=_e.memoizedProps;try{rt.nodeValue=it}catch(yt){W$1(_e,_e.return,yt)}}break;case 3:if(dk(tt,_e),fk(_e),nt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(tt.containerInfo)}catch(yt){W$1(_e,_e.return,yt)}break;case 4:dk(tt,_e),fk(_e);break;case 13:dk(tt,_e),fk(_e),rt=_e.child,rt.flags&8192&&(it=rt.memoizedState!==null,rt.stateNode.isHidden=it,!it||rt.alternate!==null&&rt.alternate.memoizedState!==null||(gk=B$2())),nt&4&&bk(_e);break;case 22:if(lt=et!==null&&et.memoizedState!==null,_e.mode&1?(U$1=(ct=U$1)||lt,dk(tt,_e),U$1=ct):dk(tt,_e),fk(_e),nt&8192){if(ct=_e.memoizedState!==null,(_e.stateNode.isHidden=ct)&&!lt&&_e.mode&1)for(V$1=_e,lt=_e.child;lt!==null;){for(dt=V$1=lt;V$1!==null;){switch(ut=V$1,ft=ut.child,ut.tag){case 0:case 11:case 14:case 15:Qj(4,ut,ut.return);break;case 1:Mj(ut,ut.return);var pt=ut.stateNode;if(typeof pt.componentWillUnmount=="function"){nt=ut,et=ut.return;try{tt=nt,pt.props=tt.memoizedProps,pt.state=tt.memoizedState,pt.componentWillUnmount()}catch(yt){W$1(nt,et,yt)}}break;case 5:Mj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){hk(dt);continue}}ft!==null?(ft.return=ut,V$1=ft):hk(dt)}lt=lt.sibling}e:for(lt=null,dt=_e;;){if(dt.tag===5){if(lt===null){lt=dt;try{rt=dt.stateNode,ct?(it=rt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(st=dt.stateNode,at=dt.memoizedProps.style,ot=at!=null&&at.hasOwnProperty("display")?at.display:null,st.style.display=rb("display",ot))}catch(yt){W$1(_e,_e.return,yt)}}}else if(dt.tag===6){if(lt===null)try{dt.stateNode.nodeValue=ct?"":dt.memoizedProps}catch(yt){W$1(_e,_e.return,yt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===_e)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===_e)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===_e)break e;lt===dt&&(lt=null),dt=dt.return}lt===dt&&(lt=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk(tt,_e),fk(_e),nt&4&&bk(_e);break;case 21:break;default:dk(tt,_e),fk(_e)}}function fk(_e){var tt=_e.flags;if(tt&2){try{e:{for(var et=_e.return;et!==null;){if(Uj(et)){var nt=et;break e}et=et.return}throw Error(p$6(160))}switch(nt.tag){case 5:var rt=nt.stateNode;nt.flags&32&&(ob(rt,""),nt.flags&=-33);var it=Vj(_e);Xj(_e,it,rt);break;case 3:case 4:var ot=nt.stateNode.containerInfo,st=Vj(_e);Wj(_e,st,ot);break;default:throw Error(p$6(161))}}catch(at){W$1(_e,_e.return,at)}_e.flags&=-3}tt&4096&&(_e.flags&=-4097)}function ik(_e,tt,et){V$1=_e,jk(_e)}function jk(_e,tt,et){for(var nt=(_e.mode&1)!==0;V$1!==null;){var rt=V$1,it=rt.child;if(rt.tag===22&&nt){var ot=rt.memoizedState!==null||Kj;if(!ot){var st=rt.alternate,at=st!==null&&st.memoizedState!==null||U$1;st=Kj;var ct=U$1;if(Kj=ot,(U$1=at)&&!ct)for(V$1=rt;V$1!==null;)ot=V$1,at=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(rt):at!==null?(at.return=ot,V$1=at):kk(rt);for(;it!==null;)V$1=it,jk(it),it=it.sibling;V$1=rt,Kj=st,U$1=ct}lk(_e)}else rt.subtreeFlags&8772&&it!==null?(it.return=rt,V$1=it):lk(_e)}}function lk(_e){for(;V$1!==null;){var tt=V$1;if(tt.flags&8772){var et=tt.alternate;try{if(tt.flags&8772)switch(tt.tag){case 0:case 11:case 15:U$1||Rj(5,tt);break;case 1:var nt=tt.stateNode;if(tt.flags&4&&!U$1)if(et===null)nt.componentDidMount();else{var rt=tt.elementType===tt.type?et.memoizedProps:Lg(tt.type,et.memoizedProps);nt.componentDidUpdate(rt,et.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=tt.updateQueue;it!==null&&ih(tt,it,nt);break;case 3:var ot=tt.updateQueue;if(ot!==null){if(et=null,tt.child!==null)switch(tt.child.tag){case 5:et=tt.child.stateNode;break;case 1:et=tt.child.stateNode}ih(tt,ot,et)}break;case 5:var st=tt.stateNode;if(et===null&&tt.flags&4){et=st;var at=tt.memoizedProps;switch(tt.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&et.focus();break;case"img":at.src&&(et.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(tt.memoizedState===null){var ct=tt.alternate;if(ct!==null){var lt=ct.memoizedState;if(lt!==null){var dt=lt.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$1||tt.flags&512&&Sj(tt)}catch(ut){W$1(tt,tt.return,ut)}}if(tt===_e){V$1=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,V$1=et;break}V$1=tt.return}}function hk(_e){for(;V$1!==null;){var tt=V$1;if(tt===_e){V$1=null;break}var et=tt.sibling;if(et!==null){et.return=tt.return,V$1=et;break}V$1=tt.return}}function kk(_e){for(;V$1!==null;){var tt=V$1;try{switch(tt.tag){case 0:case 11:case 15:var et=tt.return;try{Rj(4,tt)}catch(at){W$1(tt,et,at)}break;case 1:var nt=tt.stateNode;if(typeof nt.componentDidMount=="function"){var rt=tt.return;try{nt.componentDidMount()}catch(at){W$1(tt,rt,at)}}var it=tt.return;try{Sj(tt)}catch(at){W$1(tt,it,at)}break;case 5:var ot=tt.return;try{Sj(tt)}catch(at){W$1(tt,ot,at)}}}catch(at){W$1(tt,tt.return,at)}if(tt===_e){V$1=null;break}var st=tt.sibling;if(st!==null){st.return=tt.return,V$1=st;break}V$1=tt.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$2=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(_e){return _e.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function mh(_e,tt,et,nt){if(50<zk)throw zk=0,Ak=null,Error(p$6(185));Ac(_e,et,nt),(!(K&2)||_e!==R$2)&&(_e===R$2&&(!(K&2)&&(rk|=et),T$1===4&&Dk(_e,Z$1)),Ek(_e,nt),et===1&&K===0&&!(tt.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(_e,tt){var et=_e.callbackNode;wc(_e,tt);var nt=uc(_e,_e===R$2?Z$1:0);if(nt===0)et!==null&&bc(et),_e.callbackNode=null,_e.callbackPriority=0;else if(tt=nt&-nt,_e.callbackPriority!==tt){if(et!=null&&bc(et),tt===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(nt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,_e))}_e.callbackPriority=tt,_e.callbackNode=et}}function Hk(_e,tt){if(Bk=-1,Ck=0,K&6)throw Error(p$6(327));var et=_e.callbackNode;if(Ik()&&_e.callbackNode!==et)return null;var nt=uc(_e,_e===R$2?Z$1:0);if(nt===0)return null;if(nt&30||nt&_e.expiredLanes||tt)tt=Jk(_e,nt);else{tt=nt;var rt=K;K|=2;var it=Kk();(R$2!==_e||Z$1!==tt)&&(vk=null,Hj=B$2()+500,Lk(_e,tt));do try{Mk();break}catch(st){Nk(_e,st)}while(1);Qg(),nk.current=it,K=rt,Y!==null?tt=0:(R$2=null,Z$1=0,tt=T$1)}if(tt!==0){if(tt===2&&(rt=xc(_e),rt!==0&&(nt=rt,tt=Ok(_e,rt))),tt===1)throw et=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$2()),et;if(tt===6)Dk(_e,nt);else{if(rt=_e.current.alternate,!(nt&30)&&!Pk(rt)&&(tt=Jk(_e,nt),tt===2&&(it=xc(_e),it!==0&&(nt=it,tt=Ok(_e,it))),tt===1))throw et=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$2()),et;switch(_e.finishedWork=rt,_e.finishedLanes=nt,tt){case 0:case 1:throw Error(p$6(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,nt),(nt&130023424)===nt&&(tt=gk+500-B$2(),10<tt)){if(uc(_e,0)!==0)break;if(rt=_e.suspendedLanes,(rt&nt)!==nt){L$2(),_e.pingedLanes|=_e.suspendedLanes&rt;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),tt);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,nt),(nt&4194240)===nt)break;for(tt=_e.eventTimes,rt=-1;0<nt;){var ot=31-oc(nt);it=1<<ot,ot=tt[ot],ot>rt&&(rt=ot),nt&=~it}if(nt=rt,nt=B$2()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),nt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$6(329))}}}return Ek(_e,B$2()),_e.callbackNode===et?Hk.bind(null,_e):null}function Ok(_e,tt){var et=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,tt).flags|=256),_e=Jk(_e,tt),_e!==2&&(tt=uk,uk=et,tt!==null&&Gj(tt)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var tt=_e;;){if(tt.flags&16384){var et=tt.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var nt=0;nt<et.length;nt++){var rt=et[nt],it=rt.getSnapshot;rt=rt.value;try{if(!He(it(),rt))return!1}catch{return!1}}}if(et=tt.child,tt.subtreeFlags&16384&&et!==null)et.return=tt,tt=et;else{if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return!0;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}}return!0}function Dk(_e,tt){for(tt&=~sk,tt&=~rk,_e.suspendedLanes|=tt,_e.pingedLanes&=~tt,_e=_e.expirationTimes;0<tt;){var et=31-oc(tt),nt=1<<et;_e[et]=-1,tt&=~nt}}function Fk(_e){if(K&6)throw Error(p$6(327));Ik();var tt=uc(_e,0);if(!(tt&1))return Ek(_e,B$2()),null;var et=Jk(_e,tt);if(_e.tag!==0&&et===2){var nt=xc(_e);nt!==0&&(tt=nt,et=Ok(_e,nt))}if(et===1)throw et=qk,Lk(_e,0),Dk(_e,tt),Ek(_e,B$2()),et;if(et===6)throw Error(p$6(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=tt,Qk(_e,uk,vk),Ek(_e,B$2()),null}function Rk(_e,tt){var et=K;K|=1;try{return _e(tt)}finally{K=et,K===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var tt=K;K|=1;var et=pk.transition,nt=C$1;try{if(pk.transition=null,C$1=1,_e)return _e()}finally{C$1=nt,pk.transition=et,K=tt,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(_e,tt){_e.finishedWork=null,_e.finishedLanes=0;var et=_e.timeoutHandle;if(et!==-1&&(_e.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var nt=et;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$2),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$2(M$2);break;case 19:E$2(M$2);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$2=_e,Y=_e=wh(_e.current,null),Z$1=gj=tt,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(tt=0;tt<Wg.length;tt++)if(et=Wg[tt],nt=et.interleaved,nt!==null){et.interleaved=null;var rt=nt.next,it=et.pending;if(it!==null){var ot=it.next;it.next=rt,nt.next=ot}et.pending=nt}Wg=null}return _e}function Nk(_e,tt){do{var et=Y;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$2.memoizedState;nt!==null;){var rt=nt.queue;rt!==null&&(rt.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$2=O$1=N$2=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T$1=1,qk=tt,Y=null;break}e:{var it=_e,ot=et.return,st=et,at=tt;if(tt=Z$1,st.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var ct=at,lt=st,dt=lt.tag;if(!(lt.mode&1)&&(dt===0||dt===11||dt===15)){var ut=lt.alternate;ut?(lt.updateQueue=ut.updateQueue,lt.memoizedState=ut.memoizedState,lt.lanes=ut.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var ft=Vi(ot);if(ft!==null){ft.flags&=-257,Wi(ft,ot,st,it,tt),ft.mode&1&&Ti(it,ct,tt),tt=ft,at=ct;var pt=tt.updateQueue;if(pt===null){var yt=new Set;yt.add(at),tt.updateQueue=yt}else pt.add(at);break e}else{if(!(tt&1)){Ti(it,ct,tt),uj();break e}at=Error(p$6(426))}}else if(I$2&&st.mode&1){var Tt=Vi(ot);if(Tt!==null){!(Tt.flags&65536)&&(Tt.flags|=256),Wi(Tt,ot,st,it,tt),Jg(Ki(at,st));break e}}it=at=Ki(at,st),T$1!==4&&(T$1=2),tk===null?tk=[it]:tk.push(it),it=ot;do{switch(it.tag){case 3:it.flags|=65536,tt&=-tt,it.lanes|=tt;var ht=Oi(it,at,tt);fh(it,ht);break e;case 1:st=at;var gt=it.type,vt=it.stateNode;if(!(it.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(Si===null||!Si.has(vt)))){it.flags|=65536,tt&=-tt,it.lanes|=tt;var Ct=Ri(it,st,tt);fh(it,Ct);break e}}it=it.return}while(it!==null)}Tk(et)}catch(It){tt=It,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(1)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$1)}function Jk(_e,tt){var et=K;K|=2;var nt=Kk();(R$2!==_e||Z$1!==tt)&&(vk=null,Lk(_e,tt));do try{Uk();break}catch(rt){Nk(_e,rt)}while(1);if(Qg(),K=et,nk.current=nt,Y!==null)throw Error(p$6(261));return R$2=null,Z$1=0,T$1}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(_e){var tt=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,tt===null?Tk(_e):Y=tt,ok.current=null}function Tk(_e){var tt=_e;do{var et=tt.alternate;if(_e=tt.return,tt.flags&32768){if(et=Jj(et,tt),et!==null){et.flags&=32767,Y=et;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$1=6,Y=null;return}}else if(et=Fj(et,tt,gj),et!==null){Y=et;return}if(tt=tt.sibling,tt!==null){Y=tt;return}Y=tt=_e}while(tt!==null);T$1===0&&(T$1=5)}function Qk(_e,tt,et){var nt=C$1,rt=pk.transition;try{pk.transition=null,C$1=1,Xk(_e,tt,et,nt)}finally{pk.transition=rt,C$1=nt}return null}function Xk(_e,tt,et,nt){do Ik();while(xk!==null);if(K&6)throw Error(p$6(327));et=_e.finishedWork;var rt=_e.finishedLanes;if(et===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,et===_e.current)throw Error(p$6(177));_e.callbackNode=null,_e.callbackPriority=0;var it=et.lanes|et.childLanes;if(Bc(_e,it),_e===R$2&&(Y=R$2=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(et.flags&15990)!==0,et.subtreeFlags&15990||it){it=pk.transition,pk.transition=null;var ot=C$1;C$1=1;var st=K;K|=4,ok.current=null,Pj(_e,et),ek(et,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=et,ik(et),dc(),K=st,C$1=ot,pk.transition=it}else _e.current=et;if(wk&&(wk=!1,xk=_e,yk=rt),it=_e.pendingLanes,it===0&&(Si=null),mc(et.stateNode),Ek(_e,B$2()),tt!==null)for(nt=_e.onRecoverableError,et=0;et<tt.length;et++)rt=tt[et],nt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),it=_e.pendingLanes,it&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),tt=pk.transition,et=C$1;try{if(pk.transition=null,C$1=16>_e?16:_e,xk===null)var nt=!1;else{if(_e=xk,xk=null,yk=0,K&6)throw Error(p$6(331));var rt=K;for(K|=4,V$1=_e.current;V$1!==null;){var it=V$1,ot=it.child;if(V$1.flags&16){var st=it.deletions;if(st!==null){for(var at=0;at<st.length;at++){var ct=st[at];for(V$1=ct;V$1!==null;){var lt=V$1;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,it)}var dt=lt.child;if(dt!==null)dt.return=lt,V$1=dt;else for(;V$1!==null;){lt=V$1;var ut=lt.sibling,ft=lt.return;if(Tj(lt),lt===ct){V$1=null;break}if(ut!==null){ut.return=ft,V$1=ut;break}V$1=ft}}}var pt=it.alternate;if(pt!==null){var yt=pt.child;if(yt!==null){pt.child=null;do{var Tt=yt.sibling;yt.sibling=null,yt=Tt}while(yt!==null)}}V$1=it}}if(it.subtreeFlags&2064&&ot!==null)ot.return=it,V$1=ot;else e:for(;V$1!==null;){if(it=V$1,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var ht=it.sibling;if(ht!==null){ht.return=it.return,V$1=ht;break e}V$1=it.return}}var gt=_e.current;for(V$1=gt;V$1!==null;){ot=V$1;var vt=ot.child;if(ot.subtreeFlags&2064&&vt!==null)vt.return=ot,V$1=vt;else e:for(ot=gt;V$1!==null;){if(st=V$1,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(It){W$1(st,st.return,It)}if(st===ot){V$1=null;break e}var Ct=st.sibling;if(Ct!==null){Ct.return=st.return,V$1=Ct;break e}V$1=st.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}nt=!0}return nt}finally{C$1=et,pk.transition=tt}}return!1}function Yk(_e,tt,et){tt=Ki(et,tt),tt=Oi(_e,tt,1),_e=dh(_e,tt,1),tt=L$2(),_e!==null&&(Ac(_e,1,tt),Ek(_e,tt))}function W$1(_e,tt,et){if(_e.tag===3)Yk(_e,_e,et);else for(;tt!==null;){if(tt.tag===3){Yk(tt,_e,et);break}else if(tt.tag===1){var nt=tt.stateNode;if(typeof tt.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){_e=Ki(et,_e),_e=Ri(tt,_e,1),tt=dh(tt,_e,1),_e=L$2(),tt!==null&&(Ac(tt,1,_e),Ek(tt,_e));break}}tt=tt.return}}function Ui(_e,tt,et){var nt=_e.pingCache;nt!==null&&nt.delete(tt),tt=L$2(),_e.pingedLanes|=_e.suspendedLanes&et,R$2===_e&&(Z$1&et)===et&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(_e,0):sk|=et),Ek(_e,tt)}function Zk(_e,tt){tt===0&&(_e.mode&1?(tt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):tt=1);var et=L$2();_e=Zg(_e,tt),_e!==null&&(Ac(_e,tt,et),Ek(_e,et))}function vj(_e){var tt=_e.memoizedState,et=0;tt!==null&&(et=tt.retryLane),Zk(_e,et)}function ck(_e,tt){var et=0;switch(_e.tag){case 13:var nt=_e.stateNode,rt=_e.memoizedState;rt!==null&&(et=rt.retryLane);break;case 19:nt=_e.stateNode;break;default:throw Error(p$6(314))}nt!==null&&nt.delete(tt),Zk(_e,et)}var Wk;Wk=function(_e,tt,et){if(_e!==null)if(_e.memoizedProps!==tt.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&et)&&!(tt.flags&128))return Ug=!1,zj(_e,tt,et);Ug=!!(_e.flags&131072)}else Ug=!1,I$2&&tt.flags&1048576&&ug(tt,ng,tt.index);switch(tt.lanes=0,tt.tag){case 2:var nt=tt.type;jj(_e,tt),_e=tt.pendingProps;var rt=Yf(tt,H$2.current);Tg(tt,et),rt=Xh(null,tt,nt,_e,rt,et);var it=bi();return tt.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(tt.tag=1,tt.memoizedState=null,tt.updateQueue=null,Zf(nt)?(it=!0,cg(tt)):it=!1,tt.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,ah(tt),rt.updater=nh,tt.stateNode=rt,rt._reactInternals=tt,rh(tt,nt,_e,et),tt=kj(null,tt,nt,!0,it,et)):(tt.tag=0,I$2&&it&&vg(tt),Yi(null,tt,rt,et),tt=tt.child),tt;case 16:nt=tt.elementType;e:{switch(jj(_e,tt),_e=tt.pendingProps,rt=nt._init,nt=rt(nt._payload),tt.type=nt,rt=tt.tag=$k(nt),_e=Lg(nt,_e),rt){case 0:tt=dj(null,tt,nt,_e,et);break e;case 1:tt=ij(null,tt,nt,_e,et);break e;case 11:tt=Zi(null,tt,nt,_e,et);break e;case 14:tt=aj(null,tt,nt,Lg(nt.type,_e),et);break e}throw Error(p$6(306,nt,""))}return tt;case 0:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),dj(_e,tt,nt,rt,et);case 1:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),ij(_e,tt,nt,rt,et);case 3:e:{if(lj(tt),_e===null)throw Error(p$6(387));nt=tt.pendingProps,it=tt.memoizedState,rt=it.element,bh(_e,tt),gh(tt,nt,null,et);var ot=tt.memoizedState;if(nt=ot.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},tt.updateQueue.baseState=it,tt.memoizedState=it,tt.flags&256){rt=Ki(Error(p$6(423)),tt),tt=mj(_e,tt,nt,et,rt);break e}else if(nt!==rt){rt=Ki(Error(p$6(424)),tt),tt=mj(_e,tt,nt,et,rt);break e}else for(yg=Lf(tt.stateNode.containerInfo.firstChild),xg=tt,I$2=!0,zg=null,et=Ch(tt,null,nt,et),tt.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),nt===rt){tt=$i(_e,tt,et);break e}Yi(_e,tt,nt,et)}tt=tt.child}return tt;case 5:return Kh(tt),_e===null&&Eg(tt),nt=tt.type,rt=tt.pendingProps,it=_e!==null?_e.memoizedProps:null,ot=rt.children,Ef(nt,rt)?ot=null:it!==null&&Ef(nt,it)&&(tt.flags|=32),hj(_e,tt),Yi(_e,tt,ot,et),tt.child;case 6:return _e===null&&Eg(tt),null;case 13:return pj(_e,tt,et);case 4:return Ih(tt,tt.stateNode.containerInfo),nt=tt.pendingProps,_e===null?tt.child=Bh(tt,null,nt,et):Yi(_e,tt,nt,et),tt.child;case 11:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),Zi(_e,tt,nt,rt,et);case 7:return Yi(_e,tt,tt.pendingProps,et),tt.child;case 8:return Yi(_e,tt,tt.pendingProps.children,et),tt.child;case 12:return Yi(_e,tt,tt.pendingProps.children,et),tt.child;case 10:e:{if(nt=tt.type._context,rt=tt.pendingProps,it=tt.memoizedProps,ot=rt.value,G$1(Mg,nt._currentValue),nt._currentValue=ot,it!==null)if(He(it.value,ot)){if(it.children===rt.children&&!Wf.current){tt=$i(_e,tt,et);break e}}else for(it=tt.child,it!==null&&(it.return=tt);it!==null;){var st=it.dependencies;if(st!==null){ot=it.child;for(var at=st.firstContext;at!==null;){if(at.context===nt){if(it.tag===1){at=ch(-1,et&-et),at.tag=2;var ct=it.updateQueue;if(ct!==null){ct=ct.shared;var lt=ct.pending;lt===null?at.next=at:(at.next=lt.next,lt.next=at),ct.pending=at}}it.lanes|=et,at=it.alternate,at!==null&&(at.lanes|=et),Sg(it.return,et,tt),st.lanes|=et;break}at=at.next}}else if(it.tag===10)ot=it.type===tt.type?null:it.child;else if(it.tag===18){if(ot=it.return,ot===null)throw Error(p$6(341));ot.lanes|=et,st=ot.alternate,st!==null&&(st.lanes|=et),Sg(ot,et,tt),ot=it.sibling}else ot=it.child;if(ot!==null)ot.return=it;else for(ot=it;ot!==null;){if(ot===tt){ot=null;break}if(it=ot.sibling,it!==null){it.return=ot.return,ot=it;break}ot=ot.return}it=ot}Yi(_e,tt,rt.children,et),tt=tt.child}return tt;case 9:return rt=tt.type,nt=tt.pendingProps.children,Tg(tt,et),rt=Vg(rt),nt=nt(rt),tt.flags|=1,Yi(_e,tt,nt,et),tt.child;case 14:return nt=tt.type,rt=Lg(nt,tt.pendingProps),rt=Lg(nt.type,rt),aj(_e,tt,nt,rt,et);case 15:return cj(_e,tt,tt.type,tt.pendingProps,et);case 17:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),jj(_e,tt),tt.tag=1,Zf(nt)?(_e=!0,cg(tt)):_e=!1,Tg(tt,et),ph(tt,nt,rt),rh(tt,nt,rt,et),kj(null,tt,nt,!0,_e,et);case 19:return yj(_e,tt,et);case 22:return ej(_e,tt,et)}throw Error(p$6(156,tt.tag))};function Gk(_e,tt){return ac(_e,tt)}function al(_e,tt,et,nt){this.tag=_e,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=tt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,tt,et,nt){return new al(_e,tt,et,nt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,tt){var et=_e.alternate;return et===null?(et=Bg(_e.tag,tt,_e.key,_e.mode),et.elementType=_e.elementType,et.type=_e.type,et.stateNode=_e.stateNode,et.alternate=_e,_e.alternate=et):(et.pendingProps=tt,et.type=_e.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=_e.flags&14680064,et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,tt=_e.dependencies,et.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext},et.sibling=_e.sibling,et.index=_e.index,et.ref=_e.ref,et}function yh(_e,tt,et,nt,rt,it){var ot=2;if(nt=_e,typeof _e=="function")bj(_e)&&(ot=1);else if(typeof _e=="string")ot=5;else e:switch(_e){case ya:return Ah(et.children,rt,it,tt);case za:ot=8,rt|=8;break;case Aa:return _e=Bg(12,et,tt,rt|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,et,tt,rt),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,et,tt,rt),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return qj(et,rt,it,tt);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,nt=null;break e}throw Error(p$6(130,_e==null?_e:typeof _e,""))}return tt=Bg(ot,et,tt,rt),tt.elementType=_e,tt.type=nt,tt.lanes=it,tt}function Ah(_e,tt,et,nt){return _e=Bg(7,_e,nt,tt),_e.lanes=et,_e}function qj(_e,tt,et,nt){return _e=Bg(22,_e,nt,tt),_e.elementType=Ia,_e.lanes=et,_e.stateNode={isHidden:!1},_e}function xh(_e,tt,et){return _e=Bg(6,_e,null,tt),_e.lanes=et,_e}function zh(_e,tt,et){return tt=Bg(4,_e.children!==null?_e.children:[],_e.key,tt),tt.lanes=et,tt.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},tt}function bl(_e,tt,et,nt,rt){this.tag=tt,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function cl(_e,tt,et,nt,rt,it,ot,st,at){return _e=new bl(_e,tt,et,st,at),tt===1?(tt=1,it===!0&&(tt|=8)):tt=0,it=Bg(3,null,null,tt),_e.current=it,it.stateNode=_e,it.memoizedState={element:nt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),_e}function dl(_e,tt,et){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:_e,containerInfo:tt,implementation:et}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$6(170));var tt=_e;do{switch(tt.tag){case 3:tt=tt.stateNode.context;break e;case 1:if(Zf(tt.type)){tt=tt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}tt=tt.return}while(tt!==null);throw Error(p$6(171))}if(_e.tag===1){var et=_e.type;if(Zf(et))return bg(_e,et,tt)}return tt}function fl(_e,tt,et,nt,rt,it,ot,st,at){return _e=cl(et,nt,!0,_e,rt,it,ot,st,at),_e.context=el(null),et=_e.current,nt=L$2(),rt=lh(et),it=ch(nt,rt),it.callback=tt??null,dh(et,it,rt),_e.current.lanes=rt,Ac(_e,rt,nt),Ek(_e,nt),_e}function gl(_e,tt,et,nt){var rt=tt.current,it=L$2(),ot=lh(rt);return et=el(et),tt.context===null?tt.context=et:tt.pendingContext=et,tt=ch(it,ot),tt.payload={element:_e},nt=nt===void 0?null:nt,nt!==null&&(tt.callback=nt),_e=dh(rt,tt,ot),_e!==null&&(mh(_e,rt,ot,it),eh(_e,rt,ot)),ot}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,tt){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var et=_e.retryLane;_e.retryLane=et!==0&&et<tt?et:tt}}function jl(_e,tt){il(_e,tt),(_e=_e.alternate)&&il(_e,tt)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var tt=this._internalRoot;if(tt===null)throw Error(p$6(409));gl(_e,tt,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var tt=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),tt[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var tt=Hc();_e={blockedOn:null,target:_e,priority:tt};for(var et=0;et<Qc.length&&tt!==0&&tt<Qc[et].priority;et++);Qc.splice(et,0,_e),et===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,tt,et,nt,rt){if(rt){if(typeof nt=="function"){var it=nt;nt=function(){var ct=hl(ot);it.call(ct)}}var ot=fl(tt,nt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=ot,_e[uf]=ot.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),ot}for(;rt=_e.lastChild;)_e.removeChild(rt);if(typeof nt=="function"){var st=nt;nt=function(){var ct=hl(at);st.call(ct)}}var at=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=at,_e[uf]=at.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(tt,at,et,nt)}),at}function sl(_e,tt,et,nt,rt){var it=et._reactRootContainer;if(it){var ot=it;if(typeof rt=="function"){var st=rt;rt=function(){var at=hl(ot);st.call(at)}}gl(tt,ot,_e,rt)}else ot=rl(et,tt,_e,rt,nt);return hl(ot)}Ec=function(_e){switch(_e.tag){case 3:var tt=_e.stateNode;if(tt.current.memoizedState.isDehydrated){var et=tc(tt.pendingLanes);et!==0&&(Cc(tt,et|1),Ek(tt,B$2()),!(K&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(_e,1);if(nt!==null){var rt=L$2();mh(nt,_e,1,rt)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var tt=Zg(_e,134217728);if(tt!==null){var et=L$2();mh(tt,_e,134217728,et)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var tt=lh(_e),et=Zg(_e,tt);if(et!==null){var nt=L$2();mh(et,_e,tt,nt)}jl(_e,tt)}};Hc=function(){return C$1};Ic=function(_e,tt){var et=C$1;try{return C$1=_e,tt()}finally{C$1=et}};yb=function(_e,tt,et){switch(tt){case"input":if(bb(_e,et),tt=et.name,et.type==="radio"&&tt!=null){for(et=_e;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+tt)+'][type="radio"]'),tt=0;tt<et.length;tt++){var nt=et[tt];if(nt!==_e&&nt.form===_e.form){var rt=Db(nt);if(!rt)throw Error(p$6(90));Wa(nt),bb(nt,rt)}}}break;case"textarea":ib(_e,et);break;case"select":tt=et.value,tt!=null&&fb(_e,!!et.multiple,tt,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,tt){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(tt))throw Error(p$6(200));return dl(_e,tt,null,et)};reactDom_production_min.createRoot=function(_e,tt){if(!ol(_e))throw Error(p$6(299));var et=!1,nt="",rt=ll;return tt!=null&&(tt.unstable_strictMode===!0&&(et=!0),tt.identifierPrefix!==void 0&&(nt=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(rt=tt.onRecoverableError)),tt=cl(_e,1,!1,null,null,et,!1,nt,rt),_e[uf]=tt.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(tt)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var tt=_e._reactInternals;if(tt===void 0)throw typeof _e.render=="function"?Error(p$6(188)):(_e=Object.keys(_e).join(","),Error(p$6(268,_e)));return _e=Zb(tt),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,tt,et){if(!pl(tt))throw Error(p$6(200));return sl(null,_e,tt,!0,et)};reactDom_production_min.hydrateRoot=function(_e,tt,et){if(!ol(_e))throw Error(p$6(405));var nt=et!=null&&et.hydratedSources||null,rt=!1,it="",ot=ll;if(et!=null&&(et.unstable_strictMode===!0&&(rt=!0),et.identifierPrefix!==void 0&&(it=et.identifierPrefix),et.onRecoverableError!==void 0&&(ot=et.onRecoverableError)),tt=fl(tt,null,_e,1,et??null,rt,!1,it,ot),_e[uf]=tt.current,sf(_e),nt)for(_e=0;_e<nt.length;_e++)et=nt[_e],rt=et._getVersion,rt=rt(et._source),tt.mutableSourceEagerHydrationData==null?tt.mutableSourceEagerHydrationData=[et,rt]:tt.mutableSourceEagerHydrationData.push(et,rt);return new nl(tt)};reactDom_production_min.render=function(_e,tt,et){if(!pl(tt))throw Error(p$6(200));return sl(null,_e,tt,!1,et)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$6(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,tt,et,nt){if(!pl(et))throw Error(p$6(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$6(38));return sl(_e,tt,et,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(_e){function tt(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tt)}catch(et){console.error(et)}}tt(),_e.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$5=reactDomExports;client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$3.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function tt(nt,rt){let{pathname:it,search:ot,hash:st}=nt.location;return createLocation("",{pathname:it,search:ot,hash:st},rt.state&&rt.state.usr||null,rt.state&&rt.state.key||"default")}function et(nt,rt){return typeof rt=="string"?rt:createPath(rt)}return getUrlBasedHistory(tt,et,null,_e)}function invariant(_e,tt){if(_e===!1||_e===null||typeof _e>"u")throw new Error(tt)}function warning(_e,tt){if(!_e){typeof console<"u"&&console.warn(tt);try{throw new Error(tt)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,tt){return{usr:_e.state,key:_e.key,idx:tt}}function createLocation(_e,tt,et,nt){return et===void 0&&(et=null),_extends$3({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof tt=="string"?parsePath(tt):tt,{state:et,key:tt&&tt.key||nt||createKey()})}function createPath(_e){let{pathname:tt="/",search:et="",hash:nt=""}=_e;return et&&et!=="?"&&(tt+=et.charAt(0)==="?"?et:"?"+et),nt&&nt!=="#"&&(tt+=nt.charAt(0)==="#"?nt:"#"+nt),tt}function parsePath(_e){let tt={};if(_e){let et=_e.indexOf("#");et>=0&&(tt.hash=_e.substr(et),_e=_e.substr(0,et));let nt=_e.indexOf("?");nt>=0&&(tt.search=_e.substr(nt),_e=_e.substr(0,nt)),_e&&(tt.pathname=_e)}return tt}function getUrlBasedHistory(_e,tt,et,nt){nt===void 0&&(nt={});let{window:rt=document.defaultView,v5Compat:it=!1}=nt,ot=rt.history,st=Action.Pop,at=null,ct=lt();ct==null&&(ct=0,ot.replaceState(_extends$3({},ot.state,{idx:ct}),""));function lt(){return(ot.state||{idx:null}).idx}function dt(){st=Action.Pop;let Tt=lt(),ht=Tt==null?null:Tt-ct;ct=Tt,at&&at({action:st,location:yt.location,delta:ht})}function ut(Tt,ht){st=Action.Push;let gt=createLocation(yt.location,Tt,ht);et&&et(gt,Tt),ct=lt()+1;let vt=getHistoryState(gt,ct),Ct=yt.createHref(gt);try{ot.pushState(vt,"",Ct)}catch{rt.location.assign(Ct)}it&&at&&at({action:st,location:yt.location,delta:1})}function ft(Tt,ht){st=Action.Replace;let gt=createLocation(yt.location,Tt,ht);et&&et(gt,Tt),ct=lt();let vt=getHistoryState(gt,ct),Ct=yt.createHref(gt);ot.replaceState(vt,"",Ct),it&&at&&at({action:st,location:yt.location,delta:0})}function pt(Tt){let ht=rt.location.origin!=="null"?rt.location.origin:rt.location.href,gt=typeof Tt=="string"?Tt:createPath(Tt);return invariant(ht,"No window.location.(origin|href) available to create URL for href: "+gt),new URL(gt,ht)}let yt={get action(){return st},get location(){return _e(rt,ot)},listen(Tt){if(at)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,dt),at=Tt,()=>{rt.removeEventListener(PopStateEventType,dt),at=null}},createHref(Tt){return tt(rt,Tt)},createURL:pt,encodeLocation(Tt){let ht=pt(Tt);return{pathname:ht.pathname,search:ht.search,hash:ht.hash}},push:ut,replace:ft,go(Tt){return ot.go(Tt)}};return yt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,tt,et){et===void 0&&(et="/");let nt=typeof tt=="string"?parsePath(tt):tt,rt=stripBasename(nt.pathname||"/",et);if(rt==null)return null;let it=flattenRoutes(_e);rankRouteBranches(it);let ot=null;for(let st=0;ot==null&&st<it.length;++st)ot=matchRouteBranch(it[st],safelyDecodeURI(rt));return ot}function flattenRoutes(_e,tt,et,nt){tt===void 0&&(tt=[]),et===void 0&&(et=[]),nt===void 0&&(nt="");let rt=(it,ot,st)=>{let at={relativePath:st===void 0?it.path||"":st,caseSensitive:it.caseSensitive===!0,childrenIndex:ot,route:it};at.relativePath.startsWith("/")&&(invariant(at.relativePath.startsWith(nt),'Absolute route path "'+at.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),at.relativePath=at.relativePath.slice(nt.length));let ct=joinPaths([nt,at.relativePath]),lt=et.concat(at);it.children&&it.children.length>0&&(invariant(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(it.children,tt,lt,ct)),!(it.path==null&&!it.index)&&tt.push({path:ct,score:computeScore(ct,it.index),routesMeta:lt})};return _e.forEach((it,ot)=>{var st;if(it.path===""||!((st=it.path)!=null&&st.includes("?")))rt(it,ot);else for(let at of explodeOptionalSegments(it.path))rt(it,ot,at)}),tt}function explodeOptionalSegments(_e){let tt=_e.split("/");if(tt.length===0)return[];let[et,...nt]=tt,rt=et.endsWith("?"),it=et.replace(/\?$/,"");if(nt.length===0)return rt?[it,""]:[it];let ot=explodeOptionalSegments(nt.join("/")),st=[];return st.push(...ot.map(at=>at===""?it:[it,at].join("/"))),rt&&st.push(...ot),st.map(at=>_e.startsWith("/")&&at===""?"/":at)}function rankRouteBranches(_e){_e.sort((tt,et)=>tt.score!==et.score?et.score-tt.score:compareIndexes(tt.routesMeta.map(nt=>nt.childrenIndex),et.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,tt){let et=_e.split("/"),nt=et.length;return et.some(isSplat)&&(nt+=splatPenalty),tt&&(nt+=indexRouteValue),et.filter(rt=>!isSplat(rt)).reduce((rt,it)=>rt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(_e,tt){return _e.length===tt.length&&_e.slice(0,-1).every((nt,rt)=>nt===tt[rt])?_e[_e.length-1]-tt[tt.length-1]:0}function matchRouteBranch(_e,tt){let{routesMeta:et}=_e,nt={},rt="/",it=[];for(let ot=0;ot<et.length;++ot){let st=et[ot],at=ot===et.length-1,ct=rt==="/"?tt:tt.slice(rt.length)||"/",lt=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:at},ct);if(!lt)return null;Object.assign(nt,lt.params);let dt=st.route;it.push({params:nt,pathname:joinPaths([rt,lt.pathname]),pathnameBase:normalizePathname(joinPaths([rt,lt.pathnameBase])),route:dt}),lt.pathnameBase!=="/"&&(rt=joinPaths([rt,lt.pathnameBase]))}return it}function matchPath(_e,tt){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[et,nt]=compilePath(_e.path,_e.caseSensitive,_e.end),rt=tt.match(et);if(!rt)return null;let it=rt[0],ot=it.replace(/(.)\/+$/,"$1"),st=rt.slice(1);return{params:nt.reduce((ct,lt,dt)=>{if(lt==="*"){let ut=st[dt]||"";ot=it.slice(0,it.length-ut.length).replace(/(.)\/+$/,"$1")}return ct[lt]=safelyDecodeURIComponent(st[dt]||"",lt),ct},{}),pathname:it,pathnameBase:ot,pattern:_e}}function compilePath(_e,tt,et){tt===void 0&&(tt=!1),et===void 0&&(et=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let nt=[],rt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(ot,st)=>(nt.push(st),"/([^\\/]+)"));return _e.endsWith("*")?(nt.push("*"),rt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?rt+="\\/*$":_e!==""&&_e!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,tt?void 0:"i"),nt]}function safelyDecodeURI(_e){try{return decodeURI(_e)}catch(tt){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+tt+").")),_e}}function safelyDecodeURIComponent(_e,tt){try{return decodeURIComponent(_e)}catch(et){return warning(!1,'The value for the URL param "'+tt+'" will not be decoded because'+(' the string "'+_e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+et+").")),_e}}function stripBasename(_e,tt){if(tt==="/")return _e;if(!_e.toLowerCase().startsWith(tt.toLowerCase()))return null;let et=tt.endsWith("/")?tt.length-1:tt.length,nt=_e.charAt(et);return nt&&nt!=="/"?null:_e.slice(et)||"/"}function resolvePath(_e,tt){tt===void 0&&(tt="/");let{pathname:et,search:nt="",hash:rt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,tt):tt,search:normalizeSearch(nt),hash:normalizeHash(rt)}}function resolvePathname(_e,tt){let et=tt.replace(/\/+$/,"").split("/");return _e.split("/").forEach(rt=>{rt===".."?et.length>1&&et.pop():rt!=="."&&et.push(rt)}),et.length>1?et.join("/"):"/"}function getInvalidPathError(_e,tt,et,nt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+tt+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter((tt,et)=>et===0||tt.route.path&&tt.route.path.length>0)}function resolveTo(_e,tt,et,nt){nt===void 0&&(nt=!1);let rt;typeof _e=="string"?rt=parsePath(_e):(rt=_extends$3({},_e),invariant(!rt.pathname||!rt.pathname.includes("?"),getInvalidPathError("?","pathname","search",rt)),invariant(!rt.pathname||!rt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rt)),invariant(!rt.search||!rt.search.includes("#"),getInvalidPathError("#","search","hash",rt)));let it=_e===""||rt.pathname==="",ot=it?"/":rt.pathname,st;if(nt||ot==null)st=et;else{let dt=tt.length-1;if(ot.startsWith("..")){let ut=ot.split("/");for(;ut[0]==="..";)ut.shift(),dt-=1;rt.pathname=ut.join("/")}st=dt>=0?tt[dt]:"/"}let at=resolvePath(rt,st),ct=ot&&ot!=="/"&&ot.endsWith("/"),lt=(it||ot===".")&&et.endsWith("/");return!at.pathname.endsWith("/")&&(ct||lt)&&(at.pathname+="/"),at}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function isPolyfill(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2(_e,tt,et){const nt=tt(),[{inst:rt},it]=useState({inst:{value:nt,getSnapshot:tt}});return useLayoutEffect(()=>{rt.value=nt,rt.getSnapshot=tt,checkIfSnapshotChanged(rt)&&it({inst:rt})},[_e,nt,tt]),useEffect(()=>(checkIfSnapshotChanged(rt)&&it({inst:rt}),_e(()=>{checkIfSnapshotChanged(rt)&&it({inst:rt})})),[_e]),useDebugValue(nt),nt}function checkIfSnapshotChanged(_e){const tt=_e.getSnapshot,et=_e.value;try{const nt=tt();return!is(et,nt)}catch{return!0}}function useSyncExternalStore$1(_e,tt,et){return tt()}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM$1,shim$1=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&(_e=>_e.useSyncExternalStore)(React$1);const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]}),RouteErrorContext=reactExports.createContext(null);function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$2.apply(this,arguments)}function useHref(_e,tt){let{relative:et}=tt===void 0?{}:tt;useInRouterContext()||invariant(!1);let{basename:nt,navigator:rt}=reactExports.useContext(NavigationContext),{hash:it,pathname:ot,search:st}=useResolvedPath(_e,{relative:et}),at=ot;return nt!=="/"&&(at=ot==="/"?nt:joinPaths([nt,ot])),rt.createHref({pathname:at,search:st,hash:it})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:_e,navigator:tt}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getPathContributingMatches(et).map(st=>st.pathnameBase)),it=reactExports.useRef(!1);return reactExports.useEffect(()=>{it.current=!0}),reactExports.useCallback(function(st,at){if(at===void 0&&(at={}),!it.current)return;if(typeof st=="number"){tt.go(st);return}let ct=resolveTo(st,JSON.parse(rt),nt,at.relative==="path");_e!=="/"&&(ct.pathname=ct.pathname==="/"?_e:joinPaths([_e,ct.pathname])),(at.replace?tt.replace:tt.push)(ct,at.state,at)},[_e,tt,rt,nt])}function useResolvedPath(_e,tt){let{relative:et}=tt===void 0?{}:tt,{matches:nt}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),it=JSON.stringify(getPathContributingMatches(nt).map(ot=>ot.pathnameBase));return reactExports.useMemo(()=>resolveTo(_e,JSON.parse(it),rt,et==="path"),[_e,it,rt,et])}function useRoutes(_e,tt){useInRouterContext()||invariant(!1);let{navigator:et}=reactExports.useContext(NavigationContext),nt=reactExports.useContext(DataRouterStateContext),{matches:rt}=reactExports.useContext(RouteContext),it=rt[rt.length-1],ot=it?it.params:{};it&&it.pathname;let st=it?it.pathnameBase:"/";it&&it.route;let at=useLocation(),ct;if(tt){var lt;let yt=typeof tt=="string"?parsePath(tt):tt;st==="/"||(lt=yt.pathname)!=null&&lt.startsWith(st)||invariant(!1),ct=yt}else ct=at;let dt=ct.pathname||"/",ut=st==="/"?dt:dt.slice(st.length)||"/",ft=matchRoutes(_e,{pathname:ut}),pt=_renderMatches(ft&&ft.map(yt=>Object.assign({},yt,{params:Object.assign({},ot,yt.params),pathname:joinPaths([st,et.encodeLocation?et.encodeLocation(yt.pathname).pathname:yt.pathname]),pathnameBase:yt.pathnameBase==="/"?st:joinPaths([st,et.encodeLocation?et.encodeLocation(yt.pathnameBase).pathname:yt.pathnameBase])})),rt,nt||void 0);return tt&&pt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},ct),navigationType:Action.Pop}},pt):pt}function DefaultErrorComponent(){let _e=useRouteError(),tt=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),et=_e instanceof Error?_e.stack:null,rt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},it=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},tt),et?reactExports.createElement("pre",{style:rt},et):null,it)}class RenderErrorBoundary extends reactExports.Component{constructor(tt){super(tt),this.state={location:tt.location,error:tt.error}}static getDerivedStateFromError(tt){return{error:tt}}static getDerivedStateFromProps(tt,et){return et.location!==tt.location?{error:tt.error,location:tt.location}:{error:tt.error||et.error,location:et.location}}componentDidCatch(tt,et){console.error("React Router caught the following error during render",tt,et)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:tt,match:et,children:nt}=_e,rt=reactExports.useContext(DataRouterContext);return rt&&rt.static&&rt.staticContext&&(et.route.errorElement||et.route.ErrorBoundary)&&(rt.staticContext._deepestRenderedBoundaryId=et.route.id),reactExports.createElement(RouteContext.Provider,{value:tt},nt)}function _renderMatches(_e,tt,et){if(tt===void 0&&(tt=[]),_e==null)if(et!=null&&et.errors)_e=et.matches;else return null;let nt=_e,rt=et==null?void 0:et.errors;if(rt!=null){let it=nt.findIndex(ot=>ot.route.id&&(rt==null?void 0:rt[ot.route.id]));it>=0||invariant(!1),nt=nt.slice(0,Math.min(nt.length,it+1))}return nt.reduceRight((it,ot,st)=>{let at=ot.route.id?rt==null?void 0:rt[ot.route.id]:null,ct=null;et&&(ot.route.ErrorBoundary?ct=reactExports.createElement(ot.route.ErrorBoundary,null):ot.route.errorElement?ct=ot.route.errorElement:ct=reactExports.createElement(DefaultErrorComponent,null));let lt=tt.concat(nt.slice(0,st+1)),dt=()=>{let ut=it;return at?ut=ct:ot.route.Component?ut=reactExports.createElement(ot.route.Component,null):ot.route.element&&(ut=ot.route.element),reactExports.createElement(RenderedRoute,{match:ot,routeContext:{outlet:it,matches:lt},children:ut})};return et&&(ot.route.ErrorBoundary||ot.route.errorElement||st===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,component:ct,error:at,children:dt(),routeContext:{outlet:null,matches:lt}}):dt()},null)}var DataRouterHook$1;(function(_e){_e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(_e){_e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(_e){let tt=reactExports.useContext(DataRouterStateContext);return tt||invariant(!1),tt}function useRouteContext(_e){let tt=reactExports.useContext(RouteContext);return tt||invariant(!1),tt}function useCurrentRouteId(_e){let tt=useRouteContext(),et=tt.matches[tt.matches.length-1];return et.route.id||invariant(!1),et.route.id}function useRouteError(){var _e;let tt=reactExports.useContext(RouteErrorContext),et=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return tt||((_e=et.errors)==null?void 0:_e[nt])}function Route(_e){invariant(!1)}function Router(_e){let{basename:tt="/",children:et=null,location:nt,navigationType:rt=Action.Pop,navigator:it,static:ot=!1}=_e;useInRouterContext()&&invariant(!1);let st=tt.replace(/^\/*/,"/"),at=reactExports.useMemo(()=>({basename:st,navigator:it,static:ot}),[st,it,ot]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:ct="/",search:lt="",hash:dt="",state:ut=null,key:ft="default"}=nt,pt=reactExports.useMemo(()=>{let yt=stripBasename(ct,st);return yt==null?null:{location:{pathname:yt,search:lt,hash:dt,state:ut,key:ft},navigationType:rt}},[st,ct,lt,dt,ut,ft,rt]);return pt==null?null:reactExports.createElement(NavigationContext.Provider,{value:at},reactExports.createElement(LocationContext.Provider,{children:et,value:pt}))}function Routes(_e){let{children:tt,location:et}=_e,nt=reactExports.useContext(DataRouterContext),rt=nt&&!tt?nt.router.routes:createRoutesFromChildren(tt);return useRoutes(rt,et)}var AwaitRenderStatus;(function(_e){_e[_e.pending=0]="pending",_e[_e.success=1]="success",_e[_e.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(_e,tt){tt===void 0&&(tt=[]);let et=[];return reactExports.Children.forEach(_e,(nt,rt)=>{if(!reactExports.isValidElement(nt))return;let it=[...tt,rt];if(nt.type===reactExports.Fragment){et.push.apply(et,createRoutesFromChildren(nt.props.children,it));return}nt.type!==Route&&invariant(!1),!nt.props.index||!nt.props.children||invariant(!1);let ot={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(ot.children=createRoutesFromChildren(nt.props.children,it)),et.push(ot)}),et}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(_e,tt){if(_e==null)return{};var et={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(tt.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}function shouldProcessLinkClick(_e,tt){return _e.button===0&&(!tt||tt==="_self")&&!isModifiedEvent(_e)}const _excluded$q=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter(_e){let{basename:tt,children:et,window:nt}=_e,rt=reactExports.useRef();rt.current==null&&(rt.current=createBrowserHistory({window:nt,v5Compat:!0}));let it=rt.current,[ot,st]=reactExports.useState({action:it.action,location:it.location});return reactExports.useLayoutEffect(()=>it.listen(st),[it]),reactExports.createElement(Router,{basename:tt,children:et,location:ot.location,navigationType:ot.action,navigator:it})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$2=reactExports.forwardRef(function(tt,et){let{onClick:nt,relative:rt,reloadDocument:it,replace:ot,state:st,target:at,to:ct,preventScrollReset:lt}=tt,dt=_objectWithoutPropertiesLoose$1(tt,_excluded$q),{basename:ut}=reactExports.useContext(NavigationContext),ft,pt=!1;if(typeof ct=="string"&&ABSOLUTE_URL_REGEX.test(ct)&&(ft=ct,isBrowser$1)){let gt=new URL(window.location.href),vt=ct.startsWith("//")?new URL(gt.protocol+ct):new URL(ct),Ct=stripBasename(vt.pathname,ut);vt.origin===gt.origin&&Ct!=null?ct=Ct+vt.search+vt.hash:pt=!0}let yt=useHref(ct,{relative:rt}),Tt=useLinkClickHandler(ct,{replace:ot,state:st,target:at,preventScrollReset:lt,relative:rt});function ht(gt){nt&&nt(gt),gt.defaultPrevented||Tt(gt)}return reactExports.createElement("a",_extends$1({},dt,{href:ft||yt,onClick:pt||it?nt:ht,ref:et,target:at}))});var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmitImpl="useSubmitImpl",_e.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(_e,tt){let{target:et,replace:nt,state:rt,preventScrollReset:it,relative:ot}=tt===void 0?{}:tt,st=useNavigate(),at=useLocation(),ct=useResolvedPath(_e,{relative:ot});return reactExports.useCallback(lt=>{if(shouldProcessLinkClick(lt,et)){lt.preventDefault();let dt=nt!==void 0?nt:createPath(at)===createPath(ct);st(_e,{replace:dt,state:rt,preventScrollReset:it,relative:ot})}},[at,st,ct,nt,rt,et,_e,it,ot])}const Home=()=>jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/lobby/member",children:"Member Lobby"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/lobby/therapist",children:"Therapist Lobby"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/onboarding",children:"Onboarding test"})})]}),baseURL="https://opentok-node.onrender.com",addMember=async _e=>{try{if(!(await fetch(`${baseURL}/add-member`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({member:_e})})).ok)throw Error("error while adding a member")}catch(tt){throw tt}},getOpentokCredentials=async(_e,tt)=>{try{const et=await fetch(`${baseURL}/call-v2/room/${_e}`,{headers:{"Content-Type":"application/json"},signal:tt});if(!et.ok)throw Error("error while retrieving opentok credentials");return et.json()}catch(et){throw et}};function handleError(_e){_e&&alert(_e.message)}function createPublisherListernerMap(){return createMapFor(["accessAllowed","accessDenied","accessDialogClosed","accessDialogOpened","destroyed","mediaStopped","muteForced","streamCreated","streamDestroyed","videoDimensionsChanged","videoElementCreated"],"publisher")}function createSubscriberListenerMap(){return createMapFor(["connected","captionReceived","destroyed","disconnected","encryptionSecretMismatch","encryptionSecretMatch","videoDisabled","videoDimensionsChanged","videoDisabled","videoDisableWarning","videoDisableWarningLifted","videoElementCreated","videoEnabled"],"subscriber")}function createSessionListenersMap(){return createMapFor(["archiveStarted","archiveStopped","connectionCreated","connectionDestroyed","sessionDisconnected","sessionConnected","sessionReconnected","sessionReconnecting","signal","streamCreated","streamDestroyed","streamPropertyChanged","muteForced"],"session")}function createMapFor(_e,tt){return _e.reduce((et,nt)=>({...et,[nt]:()=>console.log(`triggered from ${tt}: ${nt}`)}),{})}const callProperties={insertMode:"append",width:"100%",height:"100%"},publisherProperties={insertMode:"append",width:"100%",height:"100%",showControls:!0};function createPublisher(_e,tt){let et={...publisherProperties,videoSource:tt,audioSource:_e};const nt=OT.initPublisher("publisher",et,it=>{it&&alert("error while initializing the publisher "+(it==null?void 0:it.message))}),rt=createPublisherListernerMap();return nt.on({...rt,streamDestroyed:it=>{console.log("streamDestroyed @ Publisher"),it.preventDefault()}}),nt}function setVideoSource(_e,tt){_e.setVideoSource(tt).then(()=>console.log("video source set")).catch(et=>console.error(et.name))}function setAudioSource(_e,tt){_e.setAudioSource(tt).then(()=>console.log("audio source set")).catch(et=>console.error(et.name))}const Publisher=({session:_e,audioSource:tt,videoSource:et,publishToSession:nt=!0,style:rt={}})=>{const[it,ot]=React.useState();return reactExports.useEffect(()=>{if(_e)return _e.on({sessionConnected:()=>{console.log("on session connected");const st=createPublisher(tt,et);ot(st),nt&&_e.publish(st,handleError)}}),()=>{it&&(it.stream&&_e.unpublish(it),it.off(),it.destroy(),console.log("session unpublished the publisher, publisher destroyed"))}},[_e,it]),reactExports.useEffect(()=>{!it||!et||setVideoSource(it,et)},[et]),reactExports.useEffect(()=>{!it||!tt||setAudioSource(it,tt)},[tt]),jsxRuntimeExports.jsx("div",{id:"publisher",style:rt})},subscribeToSession=(_e,tt)=>_e.subscribe(tt,"subscriber",callProperties,handleError),Subscriber=({session:_e})=>{let tt;return reactExports.useEffect(()=>{if(_e)return _e.on({streamCreated:et=>{if(console.log("streamCreated",et),tt=subscribeToSession(_e,et.stream),!tt)return;const nt=createSubscriberListenerMap();tt.on({...nt})}}),()=>{tt&&(tt.stream&&_e.unsubscribe(tt),tt.off(),console.log("subscriber unsubscribed from session"))}},[]),jsxRuntimeExports.jsx("div",{id:"subscriber"})};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$6=window,e$5=t$6.ShadowRoot&&(t$6.ShadyCSS===void 0||t$6.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),n$8=new WeakMap;let o$4=class{constructor(tt,et,nt){if(this._$cssResult$=!0,nt!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=tt,this.t=et}get styleSheet(){let tt=this.o;const et=this.t;if(e$5&&tt===void 0){const nt=et!==void 0&&et.length===1;nt&&(tt=n$8.get(et)),tt===void 0&&((this.o=tt=new CSSStyleSheet).replaceSync(this.cssText),nt&&n$8.set(et,tt))}return tt}toString(){return this.cssText}};const r$7=_e=>new o$4(typeof _e=="string"?_e:_e+"",void 0,s$4),i$2=(_e,...tt)=>{const et=_e.length===1?_e[0]:tt.reduce((nt,rt,it)=>nt+(ot=>{if(ot._$cssResult$===!0)return ot.cssText;if(typeof ot=="number")return ot;throw Error("Value passed to 'css' function must be a 'css' function result: "+ot+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(rt)+_e[it+1],_e[0]);return new o$4(et,_e,s$4)},S$2=(_e,tt)=>{e$5?_e.adoptedStyleSheets=tt.map(et=>et instanceof CSSStyleSheet?et:et.styleSheet):tt.forEach(et=>{const nt=document.createElement("style"),rt=t$6.litNonce;rt!==void 0&&nt.setAttribute("nonce",rt),nt.textContent=et.cssText,_e.appendChild(nt)})},c$4=e$5?_e=>_e:_e=>_e instanceof CSSStyleSheet?(tt=>{let et="";for(const nt of tt.cssRules)et+=nt.cssText;return r$7(et)})(_e):_e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var s$3;const e$4=window,r$6=e$4.trustedTypes,h$6=r$6?r$6.emptyScript:"",o$3=e$4.reactiveElementPolyfillSupport,n$7={toAttribute(_e,tt){switch(tt){case Boolean:_e=_e?h$6:null;break;case Object:case Array:_e=_e==null?_e:JSON.stringify(_e)}return _e},fromAttribute(_e,tt){let et=_e;switch(tt){case Boolean:et=_e!==null;break;case Number:et=_e===null?null:Number(_e);break;case Object:case Array:try{et=JSON.parse(_e)}catch{et=null}}return et}},a$2=(_e,tt)=>tt!==_e&&(tt==tt||_e==_e),l$6={attribute:!0,type:String,converter:n$7,reflect:!1,hasChanged:a$2};let d$4=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(tt){var et;this.finalize(),((et=this.h)!==null&&et!==void 0?et:this.h=[]).push(tt)}static get observedAttributes(){this.finalize();const tt=[];return this.elementProperties.forEach((et,nt)=>{const rt=this._$Ep(nt,et);rt!==void 0&&(this._$Ev.set(rt,nt),tt.push(rt))}),tt}static createProperty(tt,et=l$6){if(et.state&&(et.attribute=!1),this.finalize(),this.elementProperties.set(tt,et),!et.noAccessor&&!this.prototype.hasOwnProperty(tt)){const nt=typeof tt=="symbol"?Symbol():"__"+tt,rt=this.getPropertyDescriptor(tt,nt,et);rt!==void 0&&Object.defineProperty(this.prototype,tt,rt)}}static getPropertyDescriptor(tt,et,nt){return{get(){return this[et]},set(rt){const it=this[tt];this[et]=rt,this.requestUpdate(tt,it,nt)},configurable:!0,enumerable:!0}}static getPropertyOptions(tt){return this.elementProperties.get(tt)||l$6}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const tt=Object.getPrototypeOf(this);if(tt.finalize(),tt.h!==void 0&&(this.h=[...tt.h]),this.elementProperties=new Map(tt.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const et=this.properties,nt=[...Object.getOwnPropertyNames(et),...Object.getOwnPropertySymbols(et)];for(const rt of nt)this.createProperty(rt,et[rt])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(tt){const et=[];if(Array.isArray(tt)){const nt=new Set(tt.flat(1/0).reverse());for(const rt of nt)et.unshift(c$4(rt))}else tt!==void 0&&et.push(c$4(tt));return et}static _$Ep(tt,et){const nt=et.attribute;return nt===!1?void 0:typeof nt=="string"?nt:typeof tt=="string"?tt.toLowerCase():void 0}u(){var tt;this._$E_=new Promise(et=>this.enableUpdating=et),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(tt=this.constructor.h)===null||tt===void 0||tt.forEach(et=>et(this))}addController(tt){var et,nt;((et=this._$ES)!==null&&et!==void 0?et:this._$ES=[]).push(tt),this.renderRoot!==void 0&&this.isConnected&&((nt=tt.hostConnected)===null||nt===void 0||nt.call(tt))}removeController(tt){var et;(et=this._$ES)===null||et===void 0||et.splice(this._$ES.indexOf(tt)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((tt,et)=>{this.hasOwnProperty(et)&&(this._$Ei.set(et,this[et]),delete this[et])})}createRenderRoot(){var tt;const et=(tt=this.shadowRoot)!==null&&tt!==void 0?tt:this.attachShadow(this.constructor.shadowRootOptions);return S$2(et,this.constructor.elementStyles),et}connectedCallback(){var tt;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(tt=this._$ES)===null||tt===void 0||tt.forEach(et=>{var nt;return(nt=et.hostConnected)===null||nt===void 0?void 0:nt.call(et)})}enableUpdating(tt){}disconnectedCallback(){var tt;(tt=this._$ES)===null||tt===void 0||tt.forEach(et=>{var nt;return(nt=et.hostDisconnected)===null||nt===void 0?void 0:nt.call(et)})}attributeChangedCallback(tt,et,nt){this._$AK(tt,nt)}_$EO(tt,et,nt=l$6){var rt;const it=this.constructor._$Ep(tt,nt);if(it!==void 0&&nt.reflect===!0){const ot=(((rt=nt.converter)===null||rt===void 0?void 0:rt.toAttribute)!==void 0?nt.converter:n$7).toAttribute(et,nt.type);this._$El=tt,ot==null?this.removeAttribute(it):this.setAttribute(it,ot),this._$El=null}}_$AK(tt,et){var nt;const rt=this.constructor,it=rt._$Ev.get(tt);if(it!==void 0&&this._$El!==it){const ot=rt.getPropertyOptions(it),st=typeof ot.converter=="function"?{fromAttribute:ot.converter}:((nt=ot.converter)===null||nt===void 0?void 0:nt.fromAttribute)!==void 0?ot.converter:n$7;this._$El=it,this[it]=st.fromAttribute(et,ot.type),this._$El=null}}requestUpdate(tt,et,nt){let rt=!0;tt!==void 0&&(((nt=nt||this.constructor.getPropertyOptions(tt)).hasChanged||a$2)(this[tt],et)?(this._$AL.has(tt)||this._$AL.set(tt,et),nt.reflect===!0&&this._$El!==tt&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(tt,nt))):rt=!1),!this.isUpdatePending&&rt&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(et){Promise.reject(et)}const tt=this.scheduleUpdate();return tt!=null&&await tt,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var tt;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((rt,it)=>this[it]=rt),this._$Ei=void 0);let et=!1;const nt=this._$AL;try{et=this.shouldUpdate(nt),et?(this.willUpdate(nt),(tt=this._$ES)===null||tt===void 0||tt.forEach(rt=>{var it;return(it=rt.hostUpdate)===null||it===void 0?void 0:it.call(rt)}),this.update(nt)):this._$Ek()}catch(rt){throw et=!1,this._$Ek(),rt}et&&this._$AE(nt)}willUpdate(tt){}_$AE(tt){var et;(et=this._$ES)===null||et===void 0||et.forEach(nt=>{var rt;return(rt=nt.hostUpdated)===null||rt===void 0?void 0:rt.call(nt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(tt)),this.updated(tt)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(tt){return!0}update(tt){this._$EC!==void 0&&(this._$EC.forEach((et,nt)=>this._$EO(nt,this[nt],et)),this._$EC=void 0),this._$Ek()}updated(tt){}firstUpdated(tt){}};d$4.finalized=!0,d$4.elementProperties=new Map,d$4.elementStyles=[],d$4.shadowRootOptions={mode:"open"},o$3==null||o$3({ReactiveElement:d$4}),((s$3=e$4.reactiveElementVersions)!==null&&s$3!==void 0?s$3:e$4.reactiveElementVersions=[]).push("1.6.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$5;const i$1=window,s$2=i$1.trustedTypes,e$3=s$2?s$2.createPolicy("lit-html",{createHTML:_e=>_e}):void 0,o$2="$lit$",n$6=`lit$${(Math.random()+"").slice(9)}$`,l$5="?"+n$6,h$5=`<${l$5}>`,r$5=document,d$3=()=>r$5.createComment(""),u$4=_e=>_e===null||typeof _e!="object"&&typeof _e!="function",c$3=Array.isArray,v$4=_e=>c$3(_e)||typeof(_e==null?void 0:_e[Symbol.iterator])=="function",a$1=`[ 	
\f\r]`,f$3=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_$2=/-->/g,m$4=/>/g,p$5=RegExp(`>|${a$1}(?:([^\\s"'>=/]+)(${a$1}*=${a$1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g$3=/'/g,$=/"/g,y$2=/^(?:script|style|textarea|title)$/i,w$3=_e=>(tt,...et)=>({_$litType$:_e,strings:tt,values:et}),x$2=w$3(1),T=Symbol.for("lit-noChange"),A$2=Symbol.for("lit-nothing"),E$1=new WeakMap,C=r$5.createTreeWalker(r$5,129,null,!1),P$1=(_e,tt)=>{const et=_e.length-1,nt=[];let rt,it=tt===2?"<svg>":"",ot=f$3;for(let at=0;at<et;at++){const ct=_e[at];let lt,dt,ut=-1,ft=0;for(;ft<ct.length&&(ot.lastIndex=ft,dt=ot.exec(ct),dt!==null);)ft=ot.lastIndex,ot===f$3?dt[1]==="!--"?ot=_$2:dt[1]!==void 0?ot=m$4:dt[2]!==void 0?(y$2.test(dt[2])&&(rt=RegExp("</"+dt[2],"g")),ot=p$5):dt[3]!==void 0&&(ot=p$5):ot===p$5?dt[0]===">"?(ot=rt??f$3,ut=-1):dt[1]===void 0?ut=-2:(ut=ot.lastIndex-dt[2].length,lt=dt[1],ot=dt[3]===void 0?p$5:dt[3]==='"'?$:g$3):ot===$||ot===g$3?ot=p$5:ot===_$2||ot===m$4?ot=f$3:(ot=p$5,rt=void 0);const pt=ot===p$5&&_e[at+1].startsWith("/>")?" ":"";it+=ot===f$3?ct+h$5:ut>=0?(nt.push(lt),ct.slice(0,ut)+o$2+ct.slice(ut)+n$6+pt):ct+n$6+(ut===-2?(nt.push(void 0),at):pt)}const st=it+(_e[et]||"<?>")+(tt===2?"</svg>":"");if(!Array.isArray(_e)||!_e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e$3!==void 0?e$3.createHTML(st):st,nt]};class V{constructor({strings:tt,_$litType$:et},nt){let rt;this.parts=[];let it=0,ot=0;const st=tt.length-1,at=this.parts,[ct,lt]=P$1(tt,et);if(this.el=V.createElement(ct,nt),C.currentNode=this.el.content,et===2){const dt=this.el.content,ut=dt.firstChild;ut.remove(),dt.append(...ut.childNodes)}for(;(rt=C.nextNode())!==null&&at.length<st;){if(rt.nodeType===1){if(rt.hasAttributes()){const dt=[];for(const ut of rt.getAttributeNames())if(ut.endsWith(o$2)||ut.startsWith(n$6)){const ft=lt[ot++];if(dt.push(ut),ft!==void 0){const pt=rt.getAttribute(ft.toLowerCase()+o$2).split(n$6),yt=/([.?@])?(.*)/.exec(ft);at.push({type:1,index:it,name:yt[2],strings:pt,ctor:yt[1]==="."?k$4:yt[1]==="?"?I$1:yt[1]==="@"?L$1:R$1})}else at.push({type:6,index:it})}for(const ut of dt)rt.removeAttribute(ut)}if(y$2.test(rt.tagName)){const dt=rt.textContent.split(n$6),ut=dt.length-1;if(ut>0){rt.textContent=s$2?s$2.emptyScript:"";for(let ft=0;ft<ut;ft++)rt.append(dt[ft],d$3()),C.nextNode(),at.push({type:2,index:++it});rt.append(dt[ut],d$3())}}}else if(rt.nodeType===8)if(rt.data===l$5)at.push({type:2,index:it});else{let dt=-1;for(;(dt=rt.data.indexOf(n$6,dt+1))!==-1;)at.push({type:7,index:it}),dt+=n$6.length-1}it++}}static createElement(tt,et){const nt=r$5.createElement("template");return nt.innerHTML=tt,nt}}function N$1(_e,tt,et=_e,nt){var rt,it,ot,st;if(tt===T)return tt;let at=nt!==void 0?(rt=et._$Co)===null||rt===void 0?void 0:rt[nt]:et._$Cl;const ct=u$4(tt)?void 0:tt._$litDirective$;return(at==null?void 0:at.constructor)!==ct&&((it=at==null?void 0:at._$AO)===null||it===void 0||it.call(at,!1),ct===void 0?at=void 0:(at=new ct(_e),at._$AT(_e,et,nt)),nt!==void 0?((ot=(st=et)._$Co)!==null&&ot!==void 0?ot:st._$Co=[])[nt]=at:et._$Cl=at),at!==void 0&&(tt=N$1(_e,at._$AS(_e,tt.values),at,nt)),tt}let S$1=class{constructor(tt,et){this._$AV=[],this._$AN=void 0,this._$AD=tt,this._$AM=et}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(tt){var et;const{el:{content:nt},parts:rt}=this._$AD,it=((et=tt==null?void 0:tt.creationScope)!==null&&et!==void 0?et:r$5).importNode(nt,!0);C.currentNode=it;let ot=C.nextNode(),st=0,at=0,ct=rt[0];for(;ct!==void 0;){if(st===ct.index){let lt;ct.type===2?lt=new M$1(ot,ot.nextSibling,this,tt):ct.type===1?lt=new ct.ctor(ot,ct.name,ct.strings,this,tt):ct.type===6&&(lt=new z$2(ot,this,tt)),this._$AV.push(lt),ct=rt[++at]}st!==(ct==null?void 0:ct.index)&&(ot=C.nextNode(),st++)}return it}v(tt){let et=0;for(const nt of this._$AV)nt!==void 0&&(nt.strings!==void 0?(nt._$AI(tt,nt,et),et+=nt.strings.length-2):nt._$AI(tt[et])),et++}},M$1=class ty{constructor(tt,et,nt,rt){var it;this.type=2,this._$AH=A$2,this._$AN=void 0,this._$AA=tt,this._$AB=et,this._$AM=nt,this.options=rt,this._$Cp=(it=rt==null?void 0:rt.isConnected)===null||it===void 0||it}get _$AU(){var tt,et;return(et=(tt=this._$AM)===null||tt===void 0?void 0:tt._$AU)!==null&&et!==void 0?et:this._$Cp}get parentNode(){let tt=this._$AA.parentNode;const et=this._$AM;return et!==void 0&&(tt==null?void 0:tt.nodeType)===11&&(tt=et.parentNode),tt}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(tt,et=this){tt=N$1(this,tt,et),u$4(tt)?tt===A$2||tt==null||tt===""?(this._$AH!==A$2&&this._$AR(),this._$AH=A$2):tt!==this._$AH&&tt!==T&&this._(tt):tt._$litType$!==void 0?this.g(tt):tt.nodeType!==void 0?this.$(tt):v$4(tt)?this.T(tt):this._(tt)}k(tt){return this._$AA.parentNode.insertBefore(tt,this._$AB)}$(tt){this._$AH!==tt&&(this._$AR(),this._$AH=this.k(tt))}_(tt){this._$AH!==A$2&&u$4(this._$AH)?this._$AA.nextSibling.data=tt:this.$(r$5.createTextNode(tt)),this._$AH=tt}g(tt){var et;const{values:nt,_$litType$:rt}=tt,it=typeof rt=="number"?this._$AC(tt):(rt.el===void 0&&(rt.el=V.createElement(rt.h,this.options)),rt);if(((et=this._$AH)===null||et===void 0?void 0:et._$AD)===it)this._$AH.v(nt);else{const ot=new S$1(it,this),st=ot.u(this.options);ot.v(nt),this.$(st),this._$AH=ot}}_$AC(tt){let et=E$1.get(tt.strings);return et===void 0&&E$1.set(tt.strings,et=new V(tt)),et}T(tt){c$3(this._$AH)||(this._$AH=[],this._$AR());const et=this._$AH;let nt,rt=0;for(const it of tt)rt===et.length?et.push(nt=new ty(this.k(d$3()),this.k(d$3()),this,this.options)):nt=et[rt],nt._$AI(it),rt++;rt<et.length&&(this._$AR(nt&&nt._$AB.nextSibling,rt),et.length=rt)}_$AR(tt=this._$AA.nextSibling,et){var nt;for((nt=this._$AP)===null||nt===void 0||nt.call(this,!1,!0,et);tt&&tt!==this._$AB;){const rt=tt.nextSibling;tt.remove(),tt=rt}}setConnected(tt){var et;this._$AM===void 0&&(this._$Cp=tt,(et=this._$AP)===null||et===void 0||et.call(this,tt))}},R$1=class{constructor(tt,et,nt,rt,it){this.type=1,this._$AH=A$2,this._$AN=void 0,this.element=tt,this.name=et,this._$AM=rt,this.options=it,nt.length>2||nt[0]!==""||nt[1]!==""?(this._$AH=Array(nt.length-1).fill(new String),this.strings=nt):this._$AH=A$2}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(tt,et=this,nt,rt){const it=this.strings;let ot=!1;if(it===void 0)tt=N$1(this,tt,et,0),ot=!u$4(tt)||tt!==this._$AH&&tt!==T,ot&&(this._$AH=tt);else{const st=tt;let at,ct;for(tt=it[0],at=0;at<it.length-1;at++)ct=N$1(this,st[nt+at],et,at),ct===T&&(ct=this._$AH[at]),ot||(ot=!u$4(ct)||ct!==this._$AH[at]),ct===A$2?tt=A$2:tt!==A$2&&(tt+=(ct??"")+it[at+1]),this._$AH[at]=ct}ot&&!rt&&this.j(tt)}j(tt){tt===A$2?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,tt??"")}},k$4=class extends R$1{constructor(){super(...arguments),this.type=3}j(tt){this.element[this.name]=tt===A$2?void 0:tt}};const H$1=s$2?s$2.emptyScript:"";let I$1=class extends R$1{constructor(){super(...arguments),this.type=4}j(tt){tt&&tt!==A$2?this.element.setAttribute(this.name,H$1):this.element.removeAttribute(this.name)}},L$1=class extends R$1{constructor(tt,et,nt,rt,it){super(tt,et,nt,rt,it),this.type=5}_$AI(tt,et=this){var nt;if((tt=(nt=N$1(this,tt,et,0))!==null&&nt!==void 0?nt:A$2)===T)return;const rt=this._$AH,it=tt===A$2&&rt!==A$2||tt.capture!==rt.capture||tt.once!==rt.once||tt.passive!==rt.passive,ot=tt!==A$2&&(rt===A$2||it);it&&this.element.removeEventListener(this.name,this,rt),ot&&this.element.addEventListener(this.name,this,tt),this._$AH=tt}handleEvent(tt){var et,nt;typeof this._$AH=="function"?this._$AH.call((nt=(et=this.options)===null||et===void 0?void 0:et.host)!==null&&nt!==void 0?nt:this.element,tt):this._$AH.handleEvent(tt)}},z$2=class{constructor(tt,et,nt){this.element=tt,this.type=6,this._$AN=void 0,this._$AM=et,this.options=nt}get _$AU(){return this._$AM._$AU}_$AI(tt){N$1(this,tt)}};const j$1=i$1.litHtmlPolyfillSupport;j$1==null||j$1(V,M$1),((t$5=i$1.litHtmlVersions)!==null&&t$5!==void 0?t$5:i$1.litHtmlVersions=[]).push("2.7.3");const B$1=(_e,tt,et)=>{var nt,rt;const it=(nt=et==null?void 0:et.renderBefore)!==null&&nt!==void 0?nt:tt;let ot=it._$litPart$;if(ot===void 0){const st=(rt=et==null?void 0:et.renderBefore)!==null&&rt!==void 0?rt:null;it._$litPart$=ot=new M$1(tt.insertBefore(d$3(),st),st,void 0,et??{})}return ot._$AI(_e),ot};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var l$4,o$1;let s$1=class extends d$4{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var tt,et;const nt=super.createRenderRoot();return(tt=(et=this.renderOptions).renderBefore)!==null&&tt!==void 0||(et.renderBefore=nt.firstChild),nt}update(tt){const et=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(tt),this._$Do=B$1(et,this.renderRoot,this.renderOptions)}connectedCallback(){var tt;super.connectedCallback(),(tt=this._$Do)===null||tt===void 0||tt.setConnected(!0)}disconnectedCallback(){var tt;super.disconnectedCallback(),(tt=this._$Do)===null||tt===void 0||tt.setConnected(!1)}render(){return T}};s$1.finalized=!0,s$1._$litElement$=!0,(l$4=globalThis.litElementHydrateSupport)===null||l$4===void 0||l$4.call(globalThis,{LitElement:s$1});const n$5=globalThis.litElementPolyfillSupport;n$5==null||n$5({LitElement:s$1});((o$1=globalThis.litElementVersions)!==null&&o$1!==void 0?o$1:globalThis.litElementVersions=[]).push("3.3.2");class ScreenShare extends s$1{static get styles(){return i$2`
      :host {
        display: block;
        padding: 25px;
        color: var(--screen-share-text-color, #000);
      }
    `}static get properties(){return{publisher:{},session:{},token:{},properties:{type:Object},buttonStartText:{type:String,attribute:"start-text"},buttonStopText:{type:String,attribute:"stop-text"},isSharing:{type:Boolean}}}constructor(){super(),this.session={},this.token="",this.properties={},this.buttonStartText="start screenshare",this.buttonStopText="stop screenshare",this.isSharing=!1}updated(tt){tt.get("session")&&this.session.connect(this.token)}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.publisher.destroy()}async __handleStartScreenshare(){this.properties={...this.properties,videoSource:"screen",insertMode:"append"},window.OT?this.publisher=OT.initPublisher(document.querySelector("screen-share"),this.properties,tt=>{tt?console.error("error: ",tt):this.session.publish(this.publisher,et=>{et?console.error("session error: ",et.message):this.isSharing=!0})}):console.error("Please load Vonage Video library.")}async __handleStopScreenshare(){this.publisher.destroy(),this.isSharing=!1}displayButton(){return this.isSharing?x$2`<button part="button" @click=${this.__handleStopScreenshare}>${this.buttonStopText}</button>`:x$2`<button part="button" @click=${this.__handleStartScreenshare}>${this.buttonStartText}</button>`}render(){return x$2`
      ${this.displayButton()}
      <br/>
      <slot></slot>
    `}}window.customElements.define("screen-share",ScreenShare);var opentokExports={},opentok={get exports(){return opentokExports},set exports(_e){opentokExports=_e}};/**
 * @license OpenTok.js 2.25.1 8d76a4b67
 *
 * Copyright (c) 2010-2023 TokBox, Inc.
 * Subject to the applicable Software Development Kit (SDK) License Agreement:
 * https://www.vonage.com/legal/communications-apis/terms-of-use/
 *
 * Date: Fri, 14 Apr 2023 14:30:20 GMT
 */(function(module,exports){(function(tt,et){module.exports=et()})(window,function(){return function(_e){var tt={};function et(nt){if(tt[nt])return tt[nt].exports;var rt=tt[nt]={i:nt,l:!1,exports:{}};return _e[nt].call(rt.exports,rt,rt.exports,et),rt.l=!0,rt.exports}return et.m=_e,et.c=tt,et.d=function(nt,rt,it){et.o(nt,rt)||Object.defineProperty(nt,rt,{enumerable:!0,get:it})},et.r=function(nt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(nt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(nt,"__esModule",{value:!0})},et.t=function(nt,rt){if(rt&1&&(nt=et(nt)),rt&8||rt&4&&typeof nt=="object"&&nt&&nt.__esModule)return nt;var it=Object.create(null);if(et.r(it),Object.defineProperty(it,"default",{enumerable:!0,value:nt}),rt&2&&typeof nt!="string")for(var ot in nt)et.d(it,ot,function(st){return nt[st]}.bind(null,ot));return it},et.n=function(nt){var rt=nt&&nt.__esModule?function(){return nt.default}:function(){return nt};return et.d(rt,"a",rt),rt},et.o=function(nt,rt){return Object.prototype.hasOwnProperty.call(nt,rt)},et.p="",et(et.s=335)}([function(_e,tt,et){(function(nt){/*!
* @overview es6-promise - a tiny implementation of Promises/A+.
* @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
* @license   Licensed under MIT license
*            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
* @version   v4.2.8+1e68dce6
*/(function(rt,it){_e.exports=it()})(this,function(){function rt(er){var Ir=typeof er;return er!==null&&(Ir==="object"||Ir==="function")}function it(er){return typeof er=="function"}var ot=void 0;Array.isArray?ot=Array.isArray:ot=function(er){return Object.prototype.toString.call(er)==="[object Array]"};var st=ot,at=0,ct=void 0,lt=void 0,dt=function(Ir,Wr){kt[at]=Ir,kt[at+1]=Wr,at+=2,at===2&&(lt?lt(Nt):Pt())};function ut(er){lt=er}function ft(er){dt=er}var pt=typeof window<"u"?window:void 0,yt=pt||{},Tt=yt.MutationObserver||yt.WebKitMutationObserver,ht=typeof self>"u"&&typeof nt<"u"&&{}.toString.call(nt)==="[object process]",gt=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function vt(){return function(){return nt.nextTick(Nt)}}function Ct(){return typeof ct<"u"?function(){ct(Nt)}:Mt()}function It(){var er=0,Ir=new Tt(Nt),Wr=document.createTextNode("");return Ir.observe(Wr,{characterData:!0}),function(){Wr.data=er=++er%2}}function Zt(){var er=new MessageChannel;return er.port1.onmessage=Nt,function(){return er.port2.postMessage(0)}}function Mt(){var er=setTimeout;return function(){return er(Nt,1)}}var kt=new Array(1e3);function Nt(){for(var er=0;er<at;er+=2){var Ir=kt[er],Wr=kt[er+1];Ir(Wr),kt[er]=void 0,kt[er+1]=void 0}at=0}function Lt(){try{var er=Function("return this")().require("vertx");return ct=er.runOnLoop||er.runOnContext,Ct()}catch{return Mt()}}var Pt=void 0;ht?Pt=vt():Tt?Pt=It():gt?Pt=Zt():pt===void 0?Pt=Lt():Pt=Mt();function cn(er,Ir){var Wr=this,mo=new this.constructor(dn);mo[Bt]===void 0&&Fr(mo);var Jr=Wr._state;if(Jr){var To=arguments[Jr-1];dt(function(){return sr(Jr,mo,To,Wr._result)})}else gr(Wr,mo,er,Ir);return mo}function Jt(er){var Ir=this;if(er&&typeof er=="object"&&er.constructor===Ir)return er;var Wr=new Ir(dn);return En(Wr,er),Wr}var Bt=Math.random().toString(36).substring(2);function dn(){}var vn=void 0,Tn=1,pn=2;function In(){return new TypeError("You cannot resolve a promise with itself")}function Cn(){return new TypeError("A promises callback cannot return that same promise.")}function yn(er,Ir,Wr,mo){try{er.call(Ir,Wr,mo)}catch(Jr){return Jr}}function bn(er,Ir,Wr){dt(function(mo){var Jr=!1,To=yn(Wr,Ir,function(wo){Jr||(Jr=!0,Ir!==wo?En(mo,wo):Vn(mo,wo))},function(wo){Jr||(Jr=!0,rr(mo,wo))},"Settle: "+(mo._label||" unknown promise"));!Jr&&To&&(Jr=!0,rr(mo,To))},er)}function Xn(er,Ir){Ir._state===Tn?Vn(er,Ir._result):Ir._state===pn?rr(er,Ir._result):gr(Ir,void 0,function(Wr){return En(er,Wr)},function(Wr){return rr(er,Wr)})}function Hn(er,Ir,Wr){Ir.constructor===er.constructor&&Wr===cn&&Ir.constructor.resolve===Jt?Xn(er,Ir):Wr===void 0?Vn(er,Ir):it(Wr)?bn(er,Ir,Wr):Vn(er,Ir)}function En(er,Ir){if(er===Ir)rr(er,In());else if(rt(Ir)){var Wr=void 0;try{Wr=Ir.then}catch(mo){rr(er,mo);return}Hn(er,Ir,Wr)}else Vn(er,Ir)}function Zn(er){er._onerror&&er._onerror(er._result),cr(er)}function Vn(er,Ir){er._state===vn&&(er._result=Ir,er._state=Tn,er._subscribers.length!==0&&dt(cr,er))}function rr(er,Ir){er._state===vn&&(er._state=pn,er._result=Ir,dt(Zn,er))}function gr(er,Ir,Wr,mo){var Jr=er._subscribers,To=Jr.length;er._onerror=null,Jr[To]=Ir,Jr[To+Tn]=Wr,Jr[To+pn]=mo,To===0&&er._state&&dt(cr,er)}function cr(er){var Ir=er._subscribers,Wr=er._state;if(Ir.length!==0){for(var mo=void 0,Jr=void 0,To=er._result,wo=0;wo<Ir.length;wo+=3)mo=Ir[wo],Jr=Ir[wo+Wr],mo?sr(Wr,mo,Jr,To):Jr(To);er._subscribers.length=0}}function sr(er,Ir,Wr,mo){var Jr=it(Wr),To=void 0,wo=void 0,xo=!0;if(Jr){try{To=Wr(mo)}catch(ro){xo=!1,wo=ro}if(Ir===To){rr(Ir,Cn());return}}else To=mo;Ir._state!==vn||(Jr&&xo?En(Ir,To):xo===!1?rr(Ir,wo):er===Tn?Vn(Ir,To):er===pn&&rr(Ir,To))}function Or(er,Ir){try{Ir(function(mo){En(er,mo)},function(mo){rr(er,mo)})}catch(Wr){rr(er,Wr)}}var Rr=0;function Yr(){return Rr++}function Fr(er){er[Bt]=Rr++,er._state=void 0,er._result=void 0,er._subscribers=[]}function Qr(){return new Error("Array Methods must be provided an Array")}var vo=function(){function er(Ir,Wr){this._instanceConstructor=Ir,this.promise=new Ir(dn),this.promise[Bt]||Fr(this.promise),st(Wr)?(this.length=Wr.length,this._remaining=Wr.length,this._result=new Array(this.length),this.length===0?Vn(this.promise,this._result):(this.length=this.length||0,this._enumerate(Wr),this._remaining===0&&Vn(this.promise,this._result))):rr(this.promise,Qr())}return er.prototype._enumerate=function(Wr){for(var mo=0;this._state===vn&&mo<Wr.length;mo++)this._eachEntry(Wr[mo],mo)},er.prototype._eachEntry=function(Wr,mo){var Jr=this._instanceConstructor,To=Jr.resolve;if(To===Jt){var wo=void 0,xo=void 0,ro=!1;try{wo=Wr.then}catch(Oo){ro=!0,xo=Oo}if(wo===cn&&Wr._state!==vn)this._settledAt(Wr._state,mo,Wr._result);else if(typeof wo!="function")this._remaining--,this._result[mo]=Wr;else if(Jr===Dr){var Ho=new Jr(dn);ro?rr(Ho,xo):Hn(Ho,Wr,wo),this._willSettleAt(Ho,mo)}else this._willSettleAt(new Jr(function(Oo){return Oo(Wr)}),mo)}else this._willSettleAt(To(Wr),mo)},er.prototype._settledAt=function(Wr,mo,Jr){var To=this.promise;To._state===vn&&(this._remaining--,Wr===pn?rr(To,Jr):this._result[mo]=Jr),this._remaining===0&&Vn(To,this._result)},er.prototype._willSettleAt=function(Wr,mo){var Jr=this;gr(Wr,void 0,function(To){return Jr._settledAt(Tn,mo,To)},function(To){return Jr._settledAt(pn,mo,To)})},er}();function Lr(er){return new vo(this,er).promise}function Pr(er){var Ir=this;return st(er)?new Ir(function(Wr,mo){for(var Jr=er.length,To=0;To<Jr;To++)Ir.resolve(er[To]).then(Wr,mo)}):new Ir(function(Wr,mo){return mo(new TypeError("You must pass an array to race."))})}function qn(er){var Ir=this,Wr=new Ir(dn);return rr(Wr,er),Wr}function Yn(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function vr(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Dr=function(){function er(Ir){this[Bt]=Yr(),this._result=this._state=void 0,this._subscribers=[],dn!==Ir&&(typeof Ir!="function"&&Yn(),this instanceof er?Or(this,Ir):vr())}return er.prototype.catch=function(Wr){return this.then(null,Wr)},er.prototype.finally=function(Wr){var mo=this,Jr=mo.constructor;return it(Wr)?mo.then(function(To){return Jr.resolve(Wr()).then(function(){return To})},function(To){return Jr.resolve(Wr()).then(function(){throw To})}):mo.then(Wr,Wr)},er}();Dr.prototype.then=cn,Dr.all=Lr,Dr.race=Pr,Dr.resolve=Jt,Dr.reject=qn,Dr._setScheduler=ut,Dr._setAsap=ft,Dr._asap=dt;function ho(){var er=void 0;if(typeof(typeof window!==void 0?window:commonjsGlobal)<"u")er=typeof window!==void 0?window:commonjsGlobal;else if(typeof self<"u")er=self;else try{er=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ir=er.Promise;if(Ir){var Wr=null;try{Wr=Object.prototype.toString.call(Ir.resolve())}catch{}if(Wr==="[object Promise]"&&!Ir.cast)return}er.Promise=Dr}return Dr.polyfill=ho,Dr.Promise=Dr,Dr})}).call(this,et(42))},function(_e,tt,et){const nt=et(403),rt=et(190),it=et(121),ot=rt(st=>{const at={};return(()=>{Object.keys(it).forEach(lt=>{const dt=it[lt].method,ut=nt(`OpenTok:${st}:${lt.toLowerCase()}`);ut.log=console[dt].bind(console),at[lt.toLowerCase()]=ut})})(),at});ot.setLogLevel=st=>{let at;try{at=(typeof window!==void 0?window:commonjsGlobal).localStorage.debug}catch{at=""}const lt=[...Object.keys(it).map(dt=>`${st>=it[dt].priority?"":"-"}(autogen)?OpenTok:*:${dt.toLowerCase()}`),...(at||"").split(/[\s,]/).filter(dt=>dt.indexOf("(autogen)?")===-1)].filter(dt=>dt).join(",");nt.enable(lt)},_e.exports=ot},function(_e,tt,et){const rt=et(546).parse();_e.exports=rt},function(_e,tt){function et(nt){return nt&&nt.__esModule?nt:{default:nt}}_e.exports=et},function(_e,tt,et){_e.exports=et(538)},function(_e,tt,et){(function(nt){function rt(ot,st,at,ct,lt,dt,ut){try{var ft=ot[dt](ut),pt=ft.value}catch(yt){at(yt);return}ft.done?st(pt):nt.resolve(pt).then(ct,lt)}function it(ot){return function(){var st=this,at=arguments;return new nt(function(ct,lt){var dt=ot.apply(st,at);function ut(pt){rt(dt,ct,lt,ut,ft,"next",pt)}function ft(pt){rt(dt,ct,lt,ut,ft,"throw",pt)}ut(void 0)})}}_e.exports=it}).call(this,et(0))},function(_e,tt,et){const nt=et(18),rt=et(16),it=et(1)("Events"),ot=et(9),st=et(408);_e.exports=function(ct){const lt=new nt;return lt.on("newListener",ut=>{lt.emit(`${ut}:added`)}),lt.on("removeListener",ut=>{lt.emit(`${ut}:removed`)}),ot(ct,{eventsDispatched:{},on(ut,ft,pt){return typeof ut=="string"&&ft?ut.split(" ").forEach(yt=>{lt.on(yt,st(ft,pt))}):Object.keys(ut).forEach(yt=>{lt.on(yt,st(ut[yt],ft))}),this},off(ut,ft,pt){return typeof ut=="string"?this.off(ut.split(" "),ft,pt):Array.isArray(ut)?ut.forEach(yt=>{ft&&rt(ft)?lt.removeListener(yt,st(ft,pt)):lt.removeAllListeners(yt)}):ut?Object.keys(ut).forEach(yt=>{lt.removeListener(yt,st(ut[yt],ft))}):lt.removeAllListeners(),this},once(ut,ft,pt){return typeof ut=="string"&&ft?ut.split(" ").forEach(yt=>{lt.once(yt,st(ft,pt))}):Object.keys(ut).forEach(yt=>{lt.once(yt,st(ut[yt],ft))}),this},dispatchEvent(ut){if(!ut.type)throw new Error("dispatchEvent: Event has no type");return ut.target||(ut.target=this),this.trigger(ut.type,ut),this},dispatchEventOnce(ut,ft){this.isEventDispatched(ut.type,ft)||(this.dispatchEvent(ut),this.eventsDispatched[ut.type]?this.eventsDispatched[ut.type].push(ft):this.eventsDispatched[ut.type]=[ft])},isEventDispatched(ut,ft){var pt;return(pt=this.eventsDispatched[ut])==null?void 0:pt.includes(ft)},trigger(ut){try{for(var ft=arguments.length,pt=new Array(ft>1?ft-1:0),yt=1;yt<ft;yt++)pt[yt-1]=arguments[yt];lt.emit(ut,...pt)}catch(Tt){it.error("An error occurred in an event handler",Tt)}return this},emit(){return ct.trigger(...arguments)},addEventListener(ut,ft,pt){return it.warn("The addEventListener() method is deprecated. Use on() or once() instead."),ct.on(ut,ft,pt)},removeEventListener(ut,ft,pt){return it.warn("The removeEventListener() method is deprecated. Use off() instead."),ct.off(ut,ft,pt)},listenerCount(ut){return lt.listenerCount(ut)}})}},function(_e,tt,et){_e.exports={AUTHENTICATION_ERROR:"OT_AUTHENTICATION_ERROR",BADLY_FORMED_RESPONSE:"OT_BADLY_FORMED_RESPONSE",CHROME_MICROPHONE_ACQUISITION_ERROR:"OT_CHROME_MICROPHONE_ACQUISITION_ERROR",CONNECT_FAILED:"OT_CONNECT_FAILED",CONNECTION_LIMIT_EXCEEDED:"OT_CONNECTION_LIMIT_EXCEEDED",CONSTRAINTS_NOT_SATISFIED:"OT_CONSTRAINTS_NOT_SATISFIED",CREATE_PEER_CONNECTION_FAILED:"OT_CREATE_PEER_CONNECTION_FAILED",DISCONNECTED:"OT_DISCONNECTED",EMPTY_RESPONSE_BODY:"OT_EMPTY_RESPONSE_BODY",GET_RTC_STATS_REPORT_NOT_SUPPORTED:"OT_GET_RTC_STATS_REPORT_NOT_SUPPORTED",HARDWARE_UNAVAILABLE:"OT_HARDWARE_UNAVAILABLE",ICE_WORKFLOW_FAILED:"OT_ICE_WORKFLOW_FAILED",INVALID_HTTP_STATUS:"OT_INVALID_HTTP_STATUS",INVALID_PARAMETER:"OT_INVALID_PARAMETER",INVALID_SESSION_ID:"OT_INVALID_SESSION_ID",MEDIA_ERR_ABORTED:"OT_MEDIA_ERR_ABORTED",MEDIA_ERR_DECODE:"OT_MEDIA_ERR_DECODE",MEDIA_ERR_NETWORK:"OT_MEDIA_ERR_NETWORK",MEDIA_ERR_SRC_NOT_SUPPORTED:"OT_MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ENDED:"OT_MEDIA_ENDED",NO_DEVICES_FOUND:"OT_NO_DEVICES_FOUND",NO_VALID_CONSTRAINTS:"OT_NO_VALID_CONSTRAINTS",NOT_CONNECTED:"OT_NOT_CONNECTED",NOT_FOUND:"OT_NOT_FOUND",NOT_SUPPORTED:"OT_NOT_SUPPORTED",PEER_CONNECTION_NOT_CONNECTED:"OT_PEER_CONNECTION_NOT_CONNECTED",PERMISSION_DENIED:"OT_PERMISSION_DENIED",RATE_LIMIT_EXCEEDED:"OT_RATE_LIMIT_EXCEEDED",REPORT_ISSUE_FAILED:"OT_REPORT_ISSUE_FAILED",SCREEN_SHARING_EXTENSION_NOT_INSTALLED:"OT_SCREEN_SHARING_EXTENSION_NOT_INSTALLED",SCREEN_SHARING_EXTENSION_NOT_REGISTERED:"OT_SCREEN_SHARING_EXTENSION_NOT_REGISTERED",SCREEN_SHARING_NOT_SUPPORTED:"OT_SCREEN_SHARING_NOT_SUPPORTED",SET_REMOTE_DESCRIPTION_FAILED:"OT_SET_REMOTE_DESCRIPTION_FAILED",FAILED_SET_CONFIGURATION:"OT_FAILED_SET_CONFIGURATION",SOCKET_ALREADY_CONNECTED_CONNECTING:"OT_SOCKET_ALREADY_CONNECTED_CONNECTING",SOCKET_CLOSE_ABNORMAL:"OT_SOCKET_CLOSE_ABNORMAL",SOCKET_CLOSE_CONNECT_EXCEPTION:"OT_SOCKET_CLOSE_CONNECT_EXCEPTION",SOCKET_CLOSE_CONNECTIVITY_LOSS:"OT_SOCKET_CLOSE_CONNECTIVITY_LOSS",SOCKET_CLOSE_FALLBACK_CODE:"OT_SOCKET_CLOSE_FALLBACK_CODE",SOCKET_CLOSE_INCONSISTENT_DATA:"OT_SOCKET_CLOSE_INCONSISTENT_DATA",SOCKET_CLOSE_NO_STATUS:"OT_SOCKET_CLOSE_NO_STATUS",SOCKET_CLOSE_POLICY_VIOLATION:"OT_SOCKET_CLOSE_POLICY_VIOLATION",SOCKET_CLOSE_GOING_AWAY:"OT_SOCKET_CLOSE_GOING_AWAY",SOCKET_CLOSE_PROTOCOL_ERROR:"OT_SOCKET_CLOSE_PROTOCOL_ERROR",SOCKET_CLOSE_TIMEOUT:"OT_SOCKET_CLOSE_TIMEOUT",SOCKET_CLOSE_TOO_LARGE:"OT_SOCKET_CLOSE_TOO_LARGE",SOCKET_CLOSE_UNEXPECTED_CONDITION:"OT_SOCKET_CLOSE_UNEXPECTED_CONDITION",SOCKET_CLOSE_UNSUPPORTED:"OT_SOCKET_CLOSE_UNSUPPORTED",STREAM_CREATE_FAILED:"OT_STREAM_CREATE_FAILED",STREAM_DESTROYED:"OT_STREAM_DESTROYED",STREAM_LIMIT_EXCEEDED:"OT_STREAM_LIMIT_EXCEEDED",STREAM_NOT_FOUND:"OT_STREAM_NOT_FOUND",UNABLE_TO_SUBSCRIBE:"OT_UNABLE_TO_SUBSCRIBE",TERMS_OF_SERVICE_FAILURE:"OT_TERMS_OF_SERVICE_FAILURE",TIMEOUT:"OT_TIMEOUT",CANCEL:"OT_CANCEL",UNABLE_TO_CAPTURE_MEDIA:"OT_UNABLE_TO_CAPTURE_MEDIA",UNABLE_TO_CAPTURE_SCREEN:"OT_UNABLE_TO_CAPTURE_SCREEN",UNEXPECTED_ERROR_CODE:"OT_UNEXPECTED_ERROR_CODE",UNEXPECTED_HTTP_STATUS:"OT_UNEXPECTED_HTTP_STATUS",UNEXPECTED_SERVER_RESPONSE:"OT_UNEXPECTED_SERVER_RESPONSE",UNKNOWN_HTTP_ERROR:"OT_UNKNOWN_HTTP_ERROR",UNSUPPORTED_BROWSER:"OT_UNSUPPORTED_BROWSER",USER_MEDIA_ACCESS_DENIED:"OT_USER_MEDIA_ACCESS_DENIED",XDOMAIN_OR_PARSING_ERROR:"OT_XDOMAIN_OR_PARSING_ERROR",API_KEY_DISABLED:"OT_API_KEY_DISABLED",UNABLE_TO_ACCESS_MEDIA_ENGINE:"OT_UNABLE_TO_ACCESS_MEDIA_ENGINE",SET_PROXY_URL_TIMING_ERROR:"OT_SET_PROXY_URL_TIMING_ERROR",PROXY_URL_ALREADY_SET_ERROR:"OT_PROXY_URL_ALREADY_SET_ERROR",SET_VIDEO_SOURCE_FAILURE:"OT_SET_VIDEO_SOURCE_FAILURE",INVALID_VIDEO_SOURCE:"OT_INVALID_VIDEO_SOURCE",REQUESTED_DEVICE_PERMISSION_DENIED:"OT_REQUESTED_DEVICE_PERMISSION_DENIED",INVALID_AUDIO_OUTPUT_SOURCE:"OT_INVALID_AUDIO_OUTPUT_SOURCE",INVALID_ENCRYPTION_SECRET:"OT_INVALID_ENCRYPTION_SECRET"}},function(_e,tt,et){const nt=et(244),rt=et(248),it=et(6),ot=et(1);nt.logging=ot("OT.$"),nt.ElementCollection=et(245),nt.env=et(2),nt.ajax=et(243),nt.statable=et(555),nt.Analytics=et(20),nt.Collection=et(247),nt.domExtras=et(556),nt.Error=et(249),rt(nt,"useLogHelpers",{value(st){const at=ot("useLogHelpersDeprecatedMixin");return Object.keys(at).forEach(ct=>{st[ct]=at[ct]}),st},name:"OT.useLogHelpers",getWarning:"Please use an external library for your debugging needs"}),nt.defaults=et(141),rt(nt,"eventing",{value:it,name:"OT.$.eventing",getWarning:"Please use an external library to create an event emitter."}),Object.keys(nt).forEach(st=>{const ct=nt[st]._attachToOTHelpers||{};Object.keys(ct).forEach(lt=>{Object.hasOwnProperty.call(nt,lt)&&!(st==="util"&&lt==="bind")&&console.warn(`More than one module is trying to define ${lt} on OTHelpers.`),nt[lt]=ct[lt]})}),_e.exports=nt},function(_e,tt,et){var nt=et(83),rt=et(40),it=et(191),ot=et(25),st=et(67),at=et(30),ct=Object.prototype,lt=ct.hasOwnProperty,dt=it(function(ut,ft){if(st(ft)||ot(ft)){rt(ft,at(ft),ut);return}for(var pt in ft)lt.call(ft,pt)&&nt(ut,pt,ft[pt])});_e.exports=dt},function(_e,tt,et){_e.exports={JS_EXCEPTION:2e3,AUTHENTICATION_ERROR:1004,INVALID_SESSION_ID:1005,CONNECT_FAILED:1006,CONNECT_REJECTED:1007,CONNECTION_TIMEOUT:1008,NOT_CONNECTED:1010,INVALID_PARAMETER:1011,P2P_CONNECTION_FAILED:1013,API_RESPONSE_FAILURE:1014,PEER_CONNECTION_NOT_CONNECTED:1015,TERMS_OF_SERVICE_FAILURE:1026,CONNECTION_LIMIT_EXCEEDED:1027,UNABLE_TO_PUBLISH:1500,UNABLE_TO_SUBSCRIBE:1501,UNSUPPORTED_VIDEO_CODEC:1502,UNABLE_TO_FORCE_DISCONNECT:1520,UNABLE_TO_FORCE_UNPUBLISH:1530,UNABLE_TO_FORCE_MUTE:1540,PUBLISHER_ICE_WORKFLOW_FAILED:1553,SUBSCRIBER_ICE_WORKFLOW_FAILED:1554,STREAM_LIMIT_EXCEEDED:1605,UNEXPECTED_SERVER_RESPONSE:2001,REPORT_ISSUE_ERROR:2011,SET_PROXY_URL_TIMING_ERROR:2021,PROXY_URL_ALREADY_SET_ERROR:2022,GET_RTC_STATS_REPORT_NOT_SUPPORTED:2031,ANVIL_BADLY_FORMED_RESPONSE:3001,ANVIL_INVALID_HTTP_STATUS:3002,ANVIL_XDOMAIN_OR_PARSING_ERROR:3003,ANVIL_UNKNOWN_HTTP_ERROR:3004,ANVIL_UNEXPECTED_ERROR_CODE:3005,ANVIL_EMPTY_RESPONSE_BODY:3006,ANVIL_CONNECT_FAILED:3007,UNABLE_TO_ACCESS_MEDIA_ENGINE:5001}},function(_e,tt){function et(nt){var rt=typeof nt;return nt!=null&&(rt=="object"||rt=="function")}_e.exports=et},function(_e,tt){var et=Array.isArray;_e.exports=et},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.OTErrorClass||et(22),st=Object.keys(it).map(at=>it[at]);return function(ct,lt,dt){if(st.indexOf(ct)===-1)return new Error(`Attempt to use invalid error name (${ct}). Original message: ${lt.message}`);if(!(lt instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(lt))))return new Error(`Did not pass Error as second argument: ${lt}`);const ut=new ot(void 0,lt.message);if(ut.name=ct,!lt.stack)try{throw lt}catch{}return ut.stack=lt.stack,dt&&(ut.code=dt),ut}}},function(_e,tt,et){var nt=et(173),rt=typeof self=="object"&&self&&self.Object===Object&&self,it=nt||rt||Function("return this")();_e.exports=it},function(_e,tt,et){var nt=et(540),rt=et(541),it=rt;it.v1=nt,it.v4=rt,_e.exports=it},function(_e,tt,et){var nt=et(29),rt=et(11),it="[object AsyncFunction]",ot="[object Function]",st="[object GeneratorFunction]",at="[object Proxy]";function ct(lt){if(!rt(lt))return!1;var dt=nt(lt);return dt==ot||dt==st||dt==it||dt==at}_e.exports=ct},function(_e,tt){function et(nt){return nt!=null&&typeof nt=="object"}_e.exports=et},function(_e,tt,et){(function(nt){var rt=typeof Reflect=="object"?Reflect:null,it=rt&&typeof rt.apply=="function"?rt.apply:function(Nt,Lt,Pt){return Function.prototype.apply.call(Nt,Lt,Pt)},ot;rt&&typeof rt.ownKeys=="function"?ot=rt.ownKeys:Object.getOwnPropertySymbols?ot=function(Nt){return Object.getOwnPropertyNames(Nt).concat(Object.getOwnPropertySymbols(Nt))}:ot=function(Nt){return Object.getOwnPropertyNames(Nt)};function st(kt){console&&console.warn&&console.warn(kt)}var at=Number.isNaN||function(Nt){return Nt!==Nt};function ct(){ct.init.call(this)}_e.exports=ct,_e.exports.once=It,ct.EventEmitter=ct,ct.prototype._events=void 0,ct.prototype._eventsCount=0,ct.prototype._maxListeners=void 0;var lt=10;function dt(kt){if(typeof kt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof kt)}Object.defineProperty(ct,"defaultMaxListeners",{enumerable:!0,get:function(){return lt},set:function(kt){if(typeof kt!="number"||kt<0||at(kt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+kt+".");lt=kt}}),ct.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ct.prototype.setMaxListeners=function(Nt){if(typeof Nt!="number"||Nt<0||at(Nt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Nt+".");return this._maxListeners=Nt,this};function ut(kt){return kt._maxListeners===void 0?ct.defaultMaxListeners:kt._maxListeners}ct.prototype.getMaxListeners=function(){return ut(this)},ct.prototype.emit=function(Nt){for(var Lt=[],Pt=1;Pt<arguments.length;Pt++)Lt.push(arguments[Pt]);var cn=Nt==="error",Jt=this._events;if(Jt!==void 0)cn=cn&&Jt.error===void 0;else if(!cn)return!1;if(cn){var Bt;if(Lt.length>0&&(Bt=Lt[0]),Bt instanceof Error)throw Bt;var dn=new Error("Unhandled error."+(Bt?" ("+Bt.message+")":""));throw dn.context=Bt,dn}var vn=Jt[Nt];if(vn===void 0)return!1;if(typeof vn=="function")it(vn,this,Lt);else for(var Tn=vn.length,pn=gt(vn,Tn),Pt=0;Pt<Tn;++Pt)it(pn[Pt],this,Lt);return!0};function ft(kt,Nt,Lt,Pt){var cn,Jt,Bt;if(dt(Lt),Jt=kt._events,Jt===void 0?(Jt=kt._events=Object.create(null),kt._eventsCount=0):(Jt.newListener!==void 0&&(kt.emit("newListener",Nt,Lt.listener?Lt.listener:Lt),Jt=kt._events),Bt=Jt[Nt]),Bt===void 0)Bt=Jt[Nt]=Lt,++kt._eventsCount;else if(typeof Bt=="function"?Bt=Jt[Nt]=Pt?[Lt,Bt]:[Bt,Lt]:Pt?Bt.unshift(Lt):Bt.push(Lt),cn=ut(kt),cn>0&&Bt.length>cn&&!Bt.warned){Bt.warned=!0;var dn=new Error("Possible EventEmitter memory leak detected. "+Bt.length+" "+String(Nt)+" listeners added. Use emitter.setMaxListeners() to increase limit");dn.name="MaxListenersExceededWarning",dn.emitter=kt,dn.type=Nt,dn.count=Bt.length,st(dn)}return kt}ct.prototype.addListener=function(Nt,Lt){return ft(this,Nt,Lt,!1)},ct.prototype.on=ct.prototype.addListener,ct.prototype.prependListener=function(Nt,Lt){return ft(this,Nt,Lt,!0)};function pt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yt(kt,Nt,Lt){var Pt={fired:!1,wrapFn:void 0,target:kt,type:Nt,listener:Lt},cn=pt.bind(Pt);return cn.listener=Lt,Pt.wrapFn=cn,cn}ct.prototype.once=function(Nt,Lt){return dt(Lt),this.on(Nt,yt(this,Nt,Lt)),this},ct.prototype.prependOnceListener=function(Nt,Lt){return dt(Lt),this.prependListener(Nt,yt(this,Nt,Lt)),this},ct.prototype.removeListener=function(Nt,Lt){var Pt,cn,Jt,Bt,dn;if(dt(Lt),cn=this._events,cn===void 0)return this;if(Pt=cn[Nt],Pt===void 0)return this;if(Pt===Lt||Pt.listener===Lt)--this._eventsCount===0?this._events=Object.create(null):(delete cn[Nt],cn.removeListener&&this.emit("removeListener",Nt,Pt.listener||Lt));else if(typeof Pt!="function"){for(Jt=-1,Bt=Pt.length-1;Bt>=0;Bt--)if(Pt[Bt]===Lt||Pt[Bt].listener===Lt){dn=Pt[Bt].listener,Jt=Bt;break}if(Jt<0)return this;Jt===0?Pt.shift():vt(Pt,Jt),Pt.length===1&&(cn[Nt]=Pt[0]),cn.removeListener!==void 0&&this.emit("removeListener",Nt,dn||Lt)}return this},ct.prototype.off=ct.prototype.removeListener,ct.prototype.removeAllListeners=function(Nt){var Lt,Pt,cn;if(Pt=this._events,Pt===void 0)return this;if(Pt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Pt[Nt]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Pt[Nt]),this;if(arguments.length===0){var Jt=Object.keys(Pt),Bt;for(cn=0;cn<Jt.length;++cn)Bt=Jt[cn],Bt!=="removeListener"&&this.removeAllListeners(Bt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Lt=Pt[Nt],typeof Lt=="function")this.removeListener(Nt,Lt);else if(Lt!==void 0)for(cn=Lt.length-1;cn>=0;cn--)this.removeListener(Nt,Lt[cn]);return this};function Tt(kt,Nt,Lt){var Pt=kt._events;if(Pt===void 0)return[];var cn=Pt[Nt];return cn===void 0?[]:typeof cn=="function"?Lt?[cn.listener||cn]:[cn]:Lt?Ct(cn):gt(cn,cn.length)}ct.prototype.listeners=function(Nt){return Tt(this,Nt,!0)},ct.prototype.rawListeners=function(Nt){return Tt(this,Nt,!1)},ct.listenerCount=function(kt,Nt){return typeof kt.listenerCount=="function"?kt.listenerCount(Nt):ht.call(kt,Nt)},ct.prototype.listenerCount=ht;function ht(kt){var Nt=this._events;if(Nt!==void 0){var Lt=Nt[kt];if(typeof Lt=="function")return 1;if(Lt!==void 0)return Lt.length}return 0}ct.prototype.eventNames=function(){return this._eventsCount>0?ot(this._events):[]};function gt(kt,Nt){for(var Lt=new Array(Nt),Pt=0;Pt<Nt;++Pt)Lt[Pt]=kt[Pt];return Lt}function vt(kt,Nt){for(;Nt+1<kt.length;Nt++)kt[Nt]=kt[Nt+1];kt.pop()}function Ct(kt){for(var Nt=new Array(kt.length),Lt=0;Lt<Nt.length;++Lt)Nt[Lt]=kt[Lt].listener||kt[Lt];return Nt}function It(kt,Nt){return new nt(function(Lt,Pt){function cn(Bt){kt.removeListener(Nt,Jt),Pt(Bt)}function Jt(){typeof kt.removeListener=="function"&&kt.removeListener("error",cn),Lt([].slice.call(arguments))}Mt(kt,Nt,Jt,{once:!0}),Nt!=="error"&&Zt(kt,cn,{once:!0})})}function Zt(kt,Nt,Lt){typeof kt.on=="function"&&Mt(kt,"error",Nt,Lt)}function Mt(kt,Nt,Lt,Pt){if(typeof kt.on=="function")Pt.once?kt.once(Nt,Lt):kt.on(Nt,Lt);else if(typeof kt.addEventListener=="function")kt.addEventListener(Nt,function cn(Jt){Pt.once&&kt.removeEventListener(Nt,cn),Lt(Jt)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof kt)}}).call(this,et(0))},function(_e,tt,et){var nt=et(207),rt=Object.prototype.toString;function it(Pt){return rt.call(Pt)==="[object Array]"}function ot(Pt){return typeof Pt>"u"}function st(Pt){return Pt!==null&&!ot(Pt)&&Pt.constructor!==null&&!ot(Pt.constructor)&&typeof Pt.constructor.isBuffer=="function"&&Pt.constructor.isBuffer(Pt)}function at(Pt){return rt.call(Pt)==="[object ArrayBuffer]"}function ct(Pt){return typeof FormData<"u"&&Pt instanceof FormData}function lt(Pt){var cn;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?cn=ArrayBuffer.isView(Pt):cn=Pt&&Pt.buffer&&Pt.buffer instanceof ArrayBuffer,cn}function dt(Pt){return typeof Pt=="string"}function ut(Pt){return typeof Pt=="number"}function ft(Pt){return Pt!==null&&typeof Pt=="object"}function pt(Pt){if(rt.call(Pt)!=="[object Object]")return!1;var cn=Object.getPrototypeOf(Pt);return cn===null||cn===Object.prototype}function yt(Pt){return rt.call(Pt)==="[object Date]"}function Tt(Pt){return rt.call(Pt)==="[object File]"}function ht(Pt){return rt.call(Pt)==="[object Blob]"}function gt(Pt){return rt.call(Pt)==="[object Function]"}function vt(Pt){return ft(Pt)&&gt(Pt.pipe)}function Ct(Pt){return typeof URLSearchParams<"u"&&Pt instanceof URLSearchParams}function It(Pt){return Pt.trim?Pt.trim():Pt.replace(/^\s+|\s+$/g,"")}function Zt(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Mt(Pt,cn){if(!(Pt===null||typeof Pt>"u"))if(typeof Pt!="object"&&(Pt=[Pt]),it(Pt))for(var Jt=0,Bt=Pt.length;Jt<Bt;Jt++)cn.call(null,Pt[Jt],Jt,Pt);else for(var dn in Pt)Object.prototype.hasOwnProperty.call(Pt,dn)&&cn.call(null,Pt[dn],dn,Pt)}function kt(){var Pt={};function cn(dn,vn){pt(Pt[vn])&&pt(dn)?Pt[vn]=kt(Pt[vn],dn):pt(dn)?Pt[vn]=kt({},dn):it(dn)?Pt[vn]=dn.slice():Pt[vn]=dn}for(var Jt=0,Bt=arguments.length;Jt<Bt;Jt++)Mt(arguments[Jt],cn);return Pt}function Nt(Pt,cn,Jt){return Mt(cn,function(dn,vn){Jt&&typeof dn=="function"?Pt[vn]=nt(dn,Jt):Pt[vn]=dn}),Pt}function Lt(Pt){return Pt.charCodeAt(0)===65279&&(Pt=Pt.slice(1)),Pt}_e.exports={isArray:it,isArrayBuffer:at,isBuffer:st,isFormData:ct,isArrayBufferView:lt,isString:dt,isNumber:ut,isObject:ft,isPlainObject:pt,isUndefined:ot,isDate:yt,isFile:Tt,isBlob:ht,isFunction:gt,isStream:vt,isURLSearchParams:Ct,isStandardBrowserEnv:Zt,forEach:Mt,merge:kt,extend:Nt,trim:It,stripBOM:Lt}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(45));const st=et(240),at=et(542),ct=et(142),lt=et(34)(),dt=et(557),ut=et(6),ft=et(559),pt=et(562),yt="2";let Tt=function(){function ht(vt){let Ct=vt===void 0?{}:vt,It=Ct.staticConfig,Zt=It===void 0?lt.onlyLocal():It,Mt=Ct.sessionInfo,kt=Mt===void 0?new ct:Mt,Nt=Ct.ajax,Lt=Ct.queue,Pt=Ct.getUserAgentClientHintData,cn=Pt===void 0?pt:Pt,Jt=Ct.userAgentData,Bt=Jt===void 0?typeof navigator<"u"&&navigator.userAgentData:Jt;this.getTurnServerName=dn=>{let vn,Tn;return!dn||typeof dn!="object"?vn:((Array.isArray(dn)?dn:[dn]).forEach(In=>{const Cn=In.urls||In.url;(Array.isArray(Cn)?Cn:[Cn]).forEach(bn=>{const Xn=bn.indexOf(":")+1,Hn=bn.lastIndexOf(":");bn.includes("turns")?Tn=bn.substring(Xn,Hn):vn=bn.substring(Xn,Hn)})}),Tn||vn)},this.ajax=Nt,this.queue=Lt,this.sessionInfo=kt,this.getUserAgentClientHintData=cn,this.userAgentData=Bt,this.staticConfig=Zt}var gt=ht.prototype;return gt._getCachedUserAgentData=function(){var vt=(0,it.default)(rt.default.mark(function It(){return rt.default.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:if(this.cachedUserAgentData){Mt.next=4;break}return Mt.next=3,this.getUserAgentClientHintData(this.userAgentData);case 3:this.cachedUserAgentData=Mt.sent;case 4:return Mt.abrupt("return",this.cachedUserAgentData);case 5:case"end":return Mt.stop()}},It,this)}));function Ct(){return vt.apply(this,arguments)}return Ct}(),gt.commonQoSFields=function(){const Ct=this._analytics.proxyUrl,It=this.sessionInfo.messagingURL;return{clientVersion:this.staticConfig.clientVersion,buildHash:this.staticConfig.buildHash,source:(typeof window!==void 0?window:commonjsGlobal).location&&(typeof window!==void 0?window:commonjsGlobal).location.href,logVersion:yt,apiServer:this.staticConfig.apiUrl,clientSystemTime:new Date().getTime(),sessionId:this.sessionInfo.sessionId,mediaServerName:this.sessionInfo.mediaServerName,relayServer:this.getTurnServerName(this.sessionInfo.iceServers),p2p:this.sessionInfo.p2pEnabled,messagingServer:this.sessionInfo.messagingServer,messagingUrl:dt(Ct,It),version:this.staticConfig.version,partnerId:this.sessionInfo.partnerId}},gt._getCommonDataFields=function(){var vt=(0,it.default)(rt.default.mark(function It(){var Zt,Mt;return rt.default.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.next=2,st.getAsync();case 2:return Zt=Nt.sent,Nt.next=5,this._getCachedUserAgentData();case 5:return Mt=Nt.sent,Nt.abrupt("return",Object.assign({guid:Zt},this.commonQoSFields(),Mt));case 7:case"end":return Nt.stop()}},It,this)}));function Ct(){return vt.apply(this,arguments)}return Ct}(),gt.logError=function(Ct,It,Zt,Mt,kt){kt===void 0&&(kt={}),this._getCommonDataFields().then(Nt=>{const Lt=[Ct,It,Zt,Mt,Object.assign({},Nt,kt)];ht.emit("logError",...Lt),this._analytics.logError(...Lt)})},gt.logEvent=function(Ct,It,Zt){Ct===void 0&&(Ct={}),this._getCommonDataFields().then(Mt=>{const kt=Object.assign({},Mt,Ct);ht.emit("logEvent",kt),this._analytics.logEvent(kt,!1,It,Zt)})},gt.logQOS=function(Ct){Ct===void 0&&(Ct={}),this._getCommonDataFields().then(It=>{const Zt=Object.assign({duration:0},It,Ct);ft(Zt),ht.emit("logQOS",Zt),this._analytics.logQOS(Zt)})},(0,ot.default)(ht,[{key:"staticConfig",get:function(){return this._staticConfig},set:function(Ct){this._staticConfig=Ct,this._analytics=new at({loggingUrl:this.staticConfig.loggingUrl,ajax:this.ajax,queue:this.queue})}}]),ht}();ut(Tt),_e.exports=Tt},function(_e,tt,et){const nt=et(247),rt={publishers:new nt("guid"),subscribers:new nt("widgetId"),sessions:new nt};_e.exports=rt},function(_e,tt,et){const nt=et(1)("GlobalExceptionHandler"),rt=et(6),it=et(26),ot=et(554),st=et(23)(),at=function(lt,dt){Error.call(this),this.code=lt,this.message=dt};at.prototype=Object.create(Error.prototype),at.prototype.constructor=at,_e.exports=at,rt(at),at.getTitleByCode=function(ct){return ot[+ct]},at.handleJsException=ct=>{let lt=ct.error,dt=ct.errorMsg,ut=ct.code,ft=ct.target,pt=ct.analytics;if(!ft)throw new Error("handleJsException requires target");const yt=()=>ut!==void 0?ut:lt&&lt.code,Tt=()=>dt!==void 0?dt:lt&&lt.message,ht=at.getTitleByCode(yt());nt.error(`OT.exception :: title: ${ht} (${yt()}) msg: ${Tt()}`);try{const gt={partnerId:ft.session?ft.session.apiKey:ft.apiKey,sessionId:ft.session?ft.session.sessionId:ft.sessionId};pt.logError(yt(),"tb.exception",ht,{details:Tt()},gt);const vt=new st.ExceptionEvent(it.EXCEPTION,Tt(),ht,yt(),ft,ft,lt);if(lt)vt.stack=lt.stack;else try{throw new Error}catch(Ct){vt.stack=Ct.stack}at.dispatchEvent(vt)}catch(gt){nt.error(`OT.exception :: Failed to dispatch exception - ${gt.toString()}`)}}},function(_e,tt,et){var nt=et(3),rt=nt(et(45)),it=nt(et(48));const ot=et(128),st=et(26);_e.exports=function(ct){ct===void 0&&(ct={});const lt=ct.logging||et(1)("Events"),dt={};dt.ExceptionEvent=function(gt,vt,Ct,It,Zt,Mt,kt){return new ot(gt,!1,{error:kt,message:vt,title:Ct,code:It,component:Zt,target:Mt})},dt.IssueReportedEvent=function(gt,vt){return new ot(gt,!1,{issueId:vt})},dt.EnvLoadedEvent=function(gt){return new ot(gt,!1)};let ut=!1;dt.ConnectionEvent=function(ht){(0,it.default)(gt,ht);function gt(vt,Ct,It){return ht.call(this,vt,!1,{connection:Ct,reason:It})||this}return(0,rt.default)(gt,[{key:"connections",get:function(){return ut||(lt.warn("OT.ConnectionEvent connections property is deprecated, use connection instead."),ut=!0),[this.connection]}}]),gt}(ot);let ft=!1;dt.StreamEvent=function(ht){(0,it.default)(gt,ht);function gt(vt,Ct,It,Zt){return ht.call(this,vt,Zt,{stream:Ct,reason:It})||this}return(0,rt.default)(gt,[{key:"streams",get:function(){return ft||(lt.warn("OT.StreamEvent streams property is deprecated, use stream instead."),ft=!0),[this.stream]}}]),gt}(ot);let pt=!1,yt=!1,Tt=!1;return dt.SessionConnectEvent=function(ht){(0,it.default)(gt,ht);function gt(vt){return ht.call(this,vt,!1)||this}return(0,rt.default)(gt,[{key:"connections",get:function(){return pt||(lt.warn("OT.SessionConnectedEvent no longer includes connections. Listen for connectionCreated events instead."),pt=!0),[]}},{key:"streams",get:function(){return yt||(lt.warn("OT.SessionConnectedEvent no longer includes streams. Listen for streamCreated events instead."),yt=!0),[]}},{key:"archives",get:function(){return Tt||(lt.warn("OT.SessionConnectedEvent no longer includes archives. Listen for archiveStarted events instead."),Tt=!0),[]}}]),gt}(ot),dt.SessionReconnectingEvent=function(){return new ot(st.SESSION_RECONNECTING,!1)},dt.SessionReconnectedEvent=function(){return new ot(st.SESSION_RECONNECTED)},dt.SessionDisconnectEvent=function(gt,vt,Ct){return new ot(gt,Ct,{reason:vt})},dt.StreamPropertyChangedEvent=function(gt,vt,Ct,It,Zt){return new ot(gt,!1,{stream:vt,changedProperty:Ct,oldValue:It,newValue:Zt})},dt.VideoDimensionsChangedEvent=function(gt,vt,Ct){return new ot("videoDimensionsChanged",!1,{target:gt,oldValue:vt,newValue:Ct})},dt.ArchiveEvent=function(gt,vt){return new ot(gt,!1,{id:vt.id,name:vt.name,status:vt.status,archive:vt})},dt.ArchiveUpdatedEvent=function(gt,vt,Ct,It){return new ot("updated",!1,{target:gt,changedProperty:vt,oldValue:Ct,newValue:It})},dt.SignalEvent=function(gt,vt,Ct){return new ot(gt?`signal:${gt}`:st.SIGNAL,!1,{data:vt,from:Ct})},dt.CaptionReceivedEvent=function(gt,vt,Ct){return new ot("caption",!1,{caption:gt,streamId:vt,isFinal:Ct})},dt.PublisherCaptionsEnabled=function(gt){return new ot("publisherCaptionsEnabled",!1,{captionsEnabled:gt})},dt.StreamUpdatedEvent=function(gt,vt,Ct,It){return new ot("updated",!1,{target:gt,changedProperty:vt,oldValue:Ct,newValue:It})},dt.DestroyedEvent=function(gt,vt,Ct){return new ot(gt,!1,{target:vt,reason:Ct})},dt.ConnectionStateChangedEvent=function(gt,vt){return new ot(gt,!1,{target:vt})},dt.VideoEnabledChangedEvent=function(gt,vt){return new ot(gt,!1,{reason:vt.reason})},dt.VideoDisableWarningEvent=function(gt){return new ot(gt,!1)},dt.AudioLevelUpdatedEvent=function(gt){return new ot(st.AUDIO_LEVEL_UPDATED,!1,{audioLevel:gt})},dt.MediaStoppedEvent=function(gt,vt){return new ot(st.MEDIA_STOPPED,!0,{target:gt,track:vt})},dt.MuteForcedEvent=function(gt){return new ot(st.MUTE_FORCED,!1,gt)},dt.VideoElementCreatedEvent=function(gt){return new ot(st.VIDEO_ELEMENT_CREATED,!1,{element:gt})},dt}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));_e.exports=function(st){st===void 0&&(st={});const at=st.getNativeEnumerateDevices||et(287)(),ct=st.getNativeMediaDevices||et(646)(),lt=st.currentAudioOutputDevice||et(106),dt=lt.getCurrentAudioOutputDeviceId,ut=st.env||et(2),ft=st.global||(typeof window!==void 0?window:commonjsGlobal),pt={},yt={audio:"audioInput",video:"videoInput",audioinput:"audioInput",videoinput:"videoInput",audiooutput:"audioOutput",audioInput:"audioInput",videoInput:"videoInput",audioOutput:"audioOutput"},Tt=()=>at()();return pt.getNativeMediaDevices=()=>ct(),pt.hasEnumerateDevicesCapability=()=>typeof at()=="function",pt.hasDeviceChangeCapability=()=>{const ht=ct();return!!(ht&&"ondevicechange"in ht)},pt.hasSetSinkIdCapability=()=>"setSinkId"in(ft==null?void 0:ft.HTMLMediaElement.prototype),pt.hasAudioOutputApiSupport=()=>pt.hasSetSinkIdCapability()&&pt.hasDeviceChangeCapability(),pt.hasEnumerateDevicesBug=()=>ut.isSafari&&ut.version===13.1,pt.getMediaDevices=()=>pt.hasEnumerateDevicesCapability()?Tt().then(ht=>ht.map(gt=>({deviceId:gt.deviceId||gt.id,label:gt.label,kind:yt[gt.kind]}))):nt.reject(new Error("This browser does not support enumerateDevices APIs")),pt.getInputMediaDevices=()=>pt.getMediaDevices().then(ht=>ht.filter(gt=>/^(audio|video)Input$/.test(gt.kind))),pt.getAudioOutputMediaDevices=()=>pt.getMediaDevices().then(ht=>ht.filter(gt=>gt.kind==="audioOutput").map(gt=>{let vt=gt.deviceId,Ct=gt.label;return{deviceId:vt,label:Ct}})),pt.shouldAskForDevices=()=>pt.hasEnumerateDevicesCapability()?pt.getInputMediaDevices().then(ht=>{if(ht.length===0)return{video:!0,audio:!0};const gt=ht.filter(Ct=>Ct.kind==="audioInput"),vt=ht.filter(Ct=>Ct.kind==="videoInput");return pt.hasEnumerateDevicesBug()&&vt.length===0?{audio:!0,video:!0}:{video:vt.length>0,audio:gt.length>0,videoDevices:vt,audioDevices:gt}}).catch(()=>({video:!0,audio:!0})):nt.resolve({video:!0,audio:!0}),pt.getDefaultAudioOutputDeviceId=ht=>!Array.isArray(ht)||ht.length===0?"":(ht.find(Ct=>Ct.deviceId==="default")||ht[0]).deviceId,pt.hasDevice=(ht,gt)=>{let vt=ht;return Array.isArray(vt)||(vt=[]),vt.some(Ct=>Ct.deviceId===gt)},pt.getActiveAudioOutputDevice=(0,ot.default)(it.default.mark(function ht(){var gt,vt,Ct;return it.default.wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return Zt.prev=0,Zt.next=3,pt.getAudioOutputMediaDevices();case 3:gt=Zt.sent,Zt.next=9;break;case 6:throw Zt.prev=6,Zt.t0=Zt.catch(0),Zt.t0;case 9:if(gt.length!==0){Zt.next=11;break}return Zt.abrupt("return",{deviceId:null,label:null});case 11:return vt=gt.find(Mt=>Mt.deviceId===dt()),vt||(Ct=pt.getDefaultAudioOutputDeviceId(gt),vt=gt.find(Mt=>Mt.deviceId===Ct)),Zt.abrupt("return",vt);case 14:case"end":return Zt.stop()}},ht,null,[[0,6]])})),pt}}).call(this,et(0))},function(_e,tt,et){var nt=et(16),rt=et(114);function it(ot){return ot!=null&&rt(ot.length)&&!nt(ot)}_e.exports=it},function(_e,tt,et){_e.exports={ACTIVE:"active",INACTIVE:"inactive",UNKNOWN:"unknown",PER_SESSION:"perSession",PER_STREAM:"perStream",EXCEPTION:"exception",ISSUE_REPORTED:"issueReported",SESSION_CONNECTED:"sessionConnected",SESSION_RECONNECTING:"sessionReconnecting",SESSION_RECONNECTED:"sessionReconnected",SESSION_DISCONNECTED:"sessionDisconnected",STREAM_CREATED:"streamCreated",STREAM_DESTROYED:"streamDestroyed",CONNECTION_CREATED:"connectionCreated",CONNECTION_DESTROYED:"connectionDestroyed",SIGNAL:"signal",STREAM_PROPERTY_CHANGED:"streamPropertyChanged",MICROPHONE_LEVEL_CHANGED:"microphoneLevelChanged",RESIZE:"resize",SETTINGS_BUTTON_CLICK:"settingsButtonClick",DEVICE_INACTIVE:"deviceInactive",INVALID_DEVICE_NAME:"invalidDeviceName",ACCESS_ALLOWED:"accessAllowed",ACCESS_DENIED:"accessDenied",ACCESS_DIALOG_OPENED:"accessDialogOpened",ACCESS_DIALOG_CLOSED:"accessDialogClosed",ECHO_CANCELLATION_MODE_CHANGED:"echoCancellationModeChanged",MEDIA_STOPPED:"mediaStopped",PUBLISHER_DESTROYED:"destroyed",MUTE_FORCED:"muteForced",SUBSCRIBER_DESTROYED:"destroyed",SUBSCRIBER_CONNECTED:"connected",SUBSCRIBER_DISCONNECTED:"disconnected",SUBSCRIBER_CAPTION_RECEIVED:"captionReceived",DEVICES_DETECTED:"devicesDetected",DEVICES_SELECTED:"devicesSelected",CLOSE_BUTTON_CLICK:"closeButtonClick",MICLEVEL:"microphoneActivityLevel",MICGAINCHANGED:"microphoneGainChanged",ENV_LOADED:"envLoaded",ENV_UNLOADED:"envUnloaded",AUDIO_LEVEL_UPDATED:"audioLevelUpdated",VIDEO_ELEMENT_CREATED:"videoElementCreated"}},function(_e,tt,et){var nt=!0,rt=!0;function it(st,at,ct){var lt=st.match(at);return lt&&lt.length>=ct&&parseInt(lt[ct],10)}function ot(st,at,ct){if(st.RTCPeerConnection){var lt=st.RTCPeerConnection.prototype,dt=lt.addEventListener;lt.addEventListener=function(ft,pt){if(ft!==at)return dt.apply(this,arguments);var yt=function(Tt){var ht=ct(Tt);ht&&pt(ht)};return this._eventMap=this._eventMap||{},this._eventMap[pt]=yt,dt.apply(this,[ft,yt])};var ut=lt.removeEventListener;lt.removeEventListener=function(ft,pt){if(ft!==at||!this._eventMap||!this._eventMap[pt])return ut.apply(this,arguments);var yt=this._eventMap[pt];return delete this._eventMap[pt],ut.apply(this,[ft,yt])},Object.defineProperty(lt,"on"+at,{get:function(){return this["_on"+at]},set:function(ft){this["_on"+at]&&(this.removeEventListener(at,this["_on"+at]),delete this["_on"+at]),ft&&this.addEventListener(at,this["_on"+at]=ft)},enumerable:!0,configurable:!0})}}_e.exports={extractVersion:it,wrapPeerConnectionEvent:ot,disableLog:function(st){return typeof st!="boolean"?new Error("Argument type: "+typeof st+". Please use a boolean."):(nt=st,st?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(st){return typeof st!="boolean"?new Error("Argument type: "+typeof st+". Please use a boolean."):(rt=!st,"adapter.js deprecation warnings "+(st?"disabled":"enabled"))},log:function(){if(typeof window=="object"){if(nt)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}},deprecated:function(st,at){rt&&console.warn(st+" is deprecated, please use "+at+" instead.")},detectBrowser:function(st){var at=st&&st.navigator,ct={};if(ct.browser=null,ct.version=null,typeof st>"u"||!st.navigator)return ct.browser="Not a browser.",ct;if(at.mozGetUserMedia)ct.browser="firefox",ct.version=it(at.userAgent,/Firefox\/(\d+)\./,1);else if(at.webkitGetUserMedia)ct.browser="chrome",ct.version=it(at.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(at.mediaDevices&&at.userAgent.match(/Edge\/(\d+).(\d+)$/))ct.browser="edge",ct.version=it(at.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(st.RTCPeerConnection&&at.userAgent.match(/AppleWebKit\/(\d+)\./))ct.browser="safari",ct.version=it(at.userAgent,/AppleWebKit\/(\d+)\./,1);else return ct.browser="Not a supported browser.",ct;return ct}}},function(_e,tt,et){function nt(ht,gt){var vt=typeof Symbol<"u"&&ht[Symbol.iterator]||ht["@@iterator"];if(vt)return(vt=vt.call(ht)).next.bind(vt);if(Array.isArray(ht)||(vt=rt(ht))||gt&&ht&&typeof ht.length=="number"){vt&&(ht=vt);var Ct=0;return function(){return Ct>=ht.length?{done:!0}:{done:!1,value:ht[Ct++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(ht,gt){if(ht){if(typeof ht=="string")return it(ht,gt);var vt=Object.prototype.toString.call(ht).slice(8,-1);if(vt==="Object"&&ht.constructor&&(vt=ht.constructor.name),vt==="Map"||vt==="Set")return Array.from(ht);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return it(ht,gt)}}function it(ht,gt){(gt==null||gt>ht.length)&&(gt=ht.length);for(var vt=0,Ct=new Array(gt);vt<gt;vt++)Ct[vt]=ht[vt];return Ct}const ot=et(9),st=et(60),at=et(272),ct=et(129),lt=et(273),dt=et(1)("SDPHelpers"),ut=1e4,ft=2e4,pt={getSections(ht){return ht.split(/\r\n|\r|\n/).reduce((gt,vt)=>{const Ct=vt.match(/^m=(\w+) \d+/);return Ct&&(gt.sections[gt.section=Ct[1]]=[]),gt.sections[gt.section].push(vt),gt},{sections:{header:[]},section:"header"}).sections},getCodecsFromSection(ht){const gt=ht[0].match(/m=\w+ \d+ [A-Z/]+ ([\d ]+)$/)[1].split(" "),vt=ot(...ht.filter(Ct=>Ct.match(/^a=rtpmap:\d+/)).map(Ct=>Ct.match(/^a=rtpmap:(\d+) ([\w-]+)/).splice(1)).map(Ct=>{let It=Ct[0],Zt=Ct[1];return{[It]:Zt}}));return{codecs:gt,codecMap:vt}},getCodecsAndCodecMap(ht,gt){const vt=pt.getSections(ht)[gt];if(!vt)throw new Error(`no mediaType ${gt}`);return pt.getCodecsFromSection(vt)},getCodecs(ht,gt){const vt=pt.getCodecsAndCodecMap(ht,gt);return vt.codecs.map(Ct=>vt.codecMap[Ct]||"Unknown codec")},mediaDirections:{INACTIVE:"inactive",RECVONLY:"recvonly",SENDONLY:"sendonly",SENDRECV:"sendrecv"}};_e.exports=pt,pt.getMLineIndex=function(gt,vt){const Ct=`m=${vt}`;return at(gt,It=>It.indexOf(Ct)!==-1)},pt.getMLine=function(gt,vt){const Ct=pt.getMLineIndex(gt,vt);return Ct>-1?gt[Ct]:void 0},pt.hasMediaType=(ht,gt)=>{const vt=new RegExp(`^m=${gt}`),Ct=ht.split(`\r
`);return at(Ct,It=>vt.test(It))>=0},pt.hasMLinePayloadType=function(gt,vt,Ct){const It=pt.getMLine(gt,vt);return pt.getMLinePayloadTypes(It,vt).indexOf(Ct)>-1},pt.getMLinePayloadTypes=function(gt,vt){const Ct=new RegExp(`^m=${vt} \\d+(/\\d+)? [a-zA-Z0-9/]+(( [a-zA-Z0-9/]+)+)$`,"i"),It=gt.match(Ct);return!It||It.length<2?[]:It[2].trim().split(" ")},pt.splitSections=function(gt){return gt.split(`
m=`).map((Ct,It)=>(It>0?"m="+Ct:Ct).trim()+`\r
`)},pt.changeMediaDirection=function(gt,vt){const Ct=kt=>{const Nt=vt===pt.mediaDirections.RECVONLY?"a=inactive":"a=recvonly",Lt=new RegExp(Nt,"g");return kt.replace(Lt,`a=${vt}`)},It=pt.splitSections(gt);let Mt=It.shift();return It.forEach(kt=>{const Nt=kt.includes("m=video")?Ct(kt):kt;Mt+=Nt}),Mt},pt.removeTypesFromMLine=function(gt,vt){const Ct=/[0-9 ]*$/.exec(gt)[0],It=Ct.split(" ").filter(Zt=>Zt!==""&&vt.indexOf(Zt)===-1);return gt.replace(Ct,` ${It.join(" ")}`)},pt.removeMediaEncoding=function(gt,vt,Ct){let It,Zt,Mt,kt,Nt=gt.split(`\r
`);const Lt=pt.getMLineIndex(Nt,vt),Pt=Lt>-1?Nt[Lt]:void 0,cn=[];if(Lt===-1||(It=pt.getMLinePayloadTypes(Pt,vt),It.length===0))return Nt.join(`\r
`);for(Zt=Lt;Zt<Nt.length;Zt++){const Jt=new RegExp(Ct,"i");Nt[Zt].indexOf("a=rtpmap:")===0&&(kt=Nt[Zt].split(" "),kt.length===2&&Jt.test(kt[1])&&cn.push(kt[0].substr(9)))}if(!cn.length)return Nt.join(`\r
`);for(Zt=Lt;Zt<Nt.length;Zt++)if(Nt[Zt].indexOf("a=fmtp:")===0)for(kt=Nt[Zt].split(" "),Mt=0;Mt<cn.length;Mt++)kt.length===2&&kt[1]===`apt=${cn[Mt]}`&&cn.push(kt[0].substr(7));return Nt=Nt.filter(Jt=>{for(let Bt=0;Bt<cn.length;Bt++)if(Jt.indexOf(`a=rtpmap:${cn[Bt]} `)===0||Jt.indexOf(`a=fmtp:${cn[Bt]} `)===0||Jt.indexOf(`a=rtcp-fb:${cn[Bt]} `)===0)return!1;return!0}),cn.length>0&&Lt>-1&&(Nt[Lt]=pt.removeTypesFromMLine(Pt,cn)),Nt.join(`\r
`)},pt.disableMediaType=function(gt,vt){const Ct=gt.split(`\r
`),It=[];let Zt;Ct.forEach(Nt=>{let Lt=Nt;/^m=/.test(Lt)&&(Zt=void 0),Zt||(Zt=[],It.push(Zt)),Zt.push(Lt)});const Mt=new RegExp(`^m=${vt} \\d+ ([^ ]+) [0-9 ]+$`),kt=It.map(Nt=>{const Lt=Nt[0].match(Mt);return Lt?[`m=${vt} 0 ${Lt[1]} 0`,"a=inactive",...Nt.filter(Pt=>/^c=/.test(Pt)||/^a=mid:/.test(Pt)||Pt==="")]:Nt});return[].concat(...kt).join(`\r
`)},pt.removeVideoCodec=function(gt,vt){return pt.removeMediaEncoding(gt,"video",vt)};const yt=function(gt,vt){let Ct=vt.filterByName("ssrc-group:FID");switch(Ct.length===0?Ct=[]:Ct=Ct[0].value.split(" "),Ct.length){case 0:case 1:var Zt=vt.find(kt=>kt.name.indexOf("rtpmap:")===0&&kt.value.indexOf("rtx/90000")>-1);if(!Zt)return!1;var Mt=Zt.name.split(":")[1];return Mt.indexOf("/")>-1&&(Mt=Mt.split("/")[0]),pt.hasMLinePayloadType(gt,"video",Mt);default:return dt.debug("SDP Helpers: There are more than two FIDs, RTX is definitely enabled"),!0}};pt.getAttributesForMediaType=function(gt,vt){let Ct,It,Zt,Mt,kt,Nt,Lt,Pt,cn,Jt;const Bt=pt.getMLineIndex(gt,vt),dn=new RegExp(`m=(?!${vt}).+ `,"i"),vn=new RegExp("a=ssrc:\\d+ .*","i"),Tn=new RegExp("a=ssrc-group:(SIM|FID) (\\d+).*?","i"),pn=new RegExp("a=([a-z0-9:/-]+) (.*)","i"),In=[];for(let Cn=Bt+1;Cn<gt.length;Cn++){if(dn.test(gt[Cn])){Ct!==void 0&&(It=Cn-1);break}kt=gt[Cn].match(Tn),Nt=gt[Cn].match(vn),Ct===void 0&&(kt||Nt)&&(Ct=Cn,kt&&(Mt=/^(FID|SIM)$/.test(kt[1])?kt[2]:kt[1])),Lt=gt[Cn].match(`a=ssrc:${Mt} msid:(.+)`),Lt&&(Pt=Lt[1]);const yn=vn.test(gt[Cn]),bn=Tn.test(gt[Cn]);Ct!==void 0&&(It===void 0&&!yn&&!bn?It=Cn-1:Cn===gt.length-1&&(It=Cn));const Xn=gt[Cn].match(/a=mid:(.+)/);Xn&&(cn=Xn[1],Jt=Cn),Zt=pn.exec(gt[Cn]),Zt&&Zt.length===3&&In.push({lineIndex:Cn,name:Zt[1],value:Zt[2]})}return In.ssrcStartIndex=Ct,In.ssrcEndIndex=It,In.msid=Pt,In.mid=cn,In.midIndex=Jt,In.isUsingRTX=yt.bind(null,gt,In),In.filterByName=function(yn){return this.filter(bn=>bn.name===yn)},In.getRtpNumber=Cn=>{const yn=new RegExp("rtpmap:(.+)");return st(In.map(bn=>{const Xn=bn.name.match(yn);return Xn&&bn.value.indexOf(Cn)>=0?Xn[1]:null}),bn=>bn!==null)},In},pt.modifyDtx=(ht,gt)=>{const vt=ht.split(`\r
`);if(!pt.getMLine(vt,"audio"))return dt.debug("No audio m-line, not enabling dtx."),ht;const Ct=pt.getAttributesForMediaType(vt,"audio"),It=Ct.getRtpNumber("opus");if(!It)return dt.debug("Could not find rtp number for opus, not enabling dtx."),ht;const Zt=Ct.find(Nt=>Nt.name===`fmtp:${It}`);if(!Zt)return dt.debug("Could not find a=fmtp line for opus, not enabling dtx."),ht;let Mt=vt[Zt.lineIndex];const kt=/usedtx=\d+([\s;]*)/;return kt.test(Zt.value)?Mt=Mt.replace(kt,gt?"usedtx=1$1":""):gt&&(Mt+="; usedtx=1"),Mt=Mt.replace(/[;\s]*$/,""),vt[Zt.lineIndex]=Mt,vt.join(`\r
`)};const Tt=(ht,gt,vt)=>{const Ct=gt.split(`\r
`);if(!pt.getMLine(Ct,"audio"))return dt.debug("No audio m-line, not enabling stereo."),gt;const It=pt.getAttributesForMediaType(Ct,"audio"),Zt=It.getRtpNumber("opus");if(!Zt)return dt.debug("Could not find rtp number for opus, not enabling stereo."),gt;const Mt=It.find(Lt=>Lt.name===`fmtp:${Zt}`);if(!Mt)return dt.debug("Could not find a=fmtp line for opus, not enabling stereo."),gt;let kt=Ct[Mt.lineIndex],Nt;switch(ht){case"send":Nt=/sprop-stereo=\d+([\s;]*)/,Nt.test(Mt.value)?kt=kt.replace(Nt,vt?"sprop-stereo=1$1":""):vt&&(kt+="; sprop-stereo=1");break;case"receive":Nt=/([^-])stereo=\d+([\s;]*)/,Nt.test(Mt.value)?kt=kt.replace(Nt,vt?"$1stereo=1$2":"$1"):vt&&(kt+="; stereo=1");break;default:throw new Error(`Invalid type ${ht} passed into enableStereo`)}return kt=kt.replace(/[;\s]*$/,""),Ct[Mt.lineIndex]=kt,Ct.join(`\r
`)};pt.modifySendStereo=Tt.bind(null,"send"),pt.modifyReceiveStereo=Tt.bind(null,"receive"),pt.setAudioBitrate=(ht,gt)=>{const vt=pt.getAudioBitrate(ht);if(vt!==void 0)return dt.debug(`Audio bitrate already set to ${vt}, not setting audio bitrate`),ht;const Ct=ht.split(`\r
`);if(!pt.getMLine(Ct,"audio"))return dt.debug("No audio m-line, not setting audio bitrate"),ht;const It=pt.getAttributesForMediaType(Ct,"audio"),Zt=It.getRtpNumber("opus");if(!Zt)return dt.debug("Could not find rtp number for opus, not setting audio bitrate."),ht;const Mt=It.find(Nt=>Nt.name===`fmtp:${Zt}`);if(!Mt)return dt.debug("Could not find a=fmtp line for opus, not setting audio bitrate."),ht;let kt=Ct[Mt.lineIndex];return kt+=`; maxaveragebitrate=${gt}`,kt=kt.replace(/[;\s]*$/,""),Ct[Mt.lineIndex]=kt,Ct.join(`\r
`)},pt.removeVideoOrientation=ht=>{let gt=ht.split(`\r
`);return gt=gt.filter(vt=>!vt.includes("urn:3gpp:video-orientation")),gt.join(`\r
`)},pt.hasSendStereo=ht=>/[\s;]sprop-stereo=1/.test(ht),pt.hasSendDtx=ht=>/[\s;]usedtx=1/.test(ht),pt.getAudioBitrate=ht=>{const gt=ht.match(/[\s;]maxaveragebitrate=(\d+)/);if(gt)return Number(gt[1])},pt.MAX_SSRCS=10,pt.getSSRCGroupType=ht=>["SIM","FID"].find(vt=>ht.filterByName(`ssrc-group:${vt}`)[0]),pt.getSSRCGroup=ht=>{const gt=pt.getSSRCGroupType(ht);return ht.filterByName(`ssrc-group:${gt}`)[0]},pt.getSSRCGroupSSRCs=ht=>{const gt=pt.getSSRCGroup(ht);return gt?gt.value.split(" ").slice(0,pt.MAX_SSRCS):[]},pt.getAllowedSSRCs=(ht,gt)=>{const vt=gt.slice();return ht.filterByName("ssrc-group:FID").forEach(Ct=>{const It=Ct.value.split(" ");ct(vt,It).length&&Array.prototype.push.apply(vt,It)}),lt(vt)},pt.filterExcessSSRCs=ht=>{const gt=ht.split(`\r
`),vt=pt.getAttributesForMediaType(gt,"video"),Ct=pt.getSSRCGroupType(vt),It=vt.ssrcStartIndex;if(It===void 0)return ht;let Zt;const Mt=Nt=>{let Lt=null;return Nt.match(/^a=ssrc:(\d+)/)&&(Lt=RegExp.$1),Lt};if(Ct){const Nt=pt.getSSRCGroupSSRCs(vt),Lt=[`a=ssrc-group:${Ct}`,...Nt].join(" "),Pt=vt.find(cn=>cn.name.startsWith("ssrc-group:")).lineIndex;gt[Pt]=Lt,Zt=pt.getAllowedSSRCs(vt,Nt)}else Zt=[],vt.ssrcStartIndex&&Zt.push(Mt(gt[vt.ssrcStartIndex]));return gt.filter((Nt,Lt)=>{if(Lt<It||Lt>vt.ssrcEndIndex)return!0;if(Lt===It){if(!Ct){const cn=Mt(Nt);return cn?Zt.includes(cn):!/^a=ssrc:(\d+)/.test(Nt)}return!0}const Pt=Mt(Nt);if(Pt)return Zt.includes(Pt);if(Nt.match(/^a=ssrc-group:FID (\d+)/)){const cn=RegExp.$1;return Zt.includes(cn)}return!Nt.match(/^a=ssrc-group:SIM /)}).join(`\r
`)},pt.enableSimulcast=function(gt,vt){let Ct,It;const Zt=gt.split(`\r
`);if(!pt.getMLine(Zt,"video"))return dt.debug("No video m-line, not enabling simulcast."),gt;const Mt=pt.getAttributesForMediaType(Zt,"video");if(Mt.filterByName("ssrc-group:SIM").length>0)return dt.debug("Simulcast is already enabled in this SDP, not attempting to enable again."),pt.filterExcessSSRCs(gt);if(!Mt.msid)return dt.debug("No local stream attached, not enabling simulcast."),gt;const kt=Mt.isUsingRTX(),Nt=[],Lt=[];for(It=0;It<vt;++It)Nt.push(ut+It),kt&&Lt.push(ft+It);if(Ct=[`a=ssrc-group:SIM ${Nt.join(" ")}`],kt)for(It=0;It<vt;++It)Ct.push(`a=ssrc-group:FID ${Nt[It]} ${Lt[It]}`);for(It=0;It<vt;++It)Ct.push(`a=ssrc:${Nt[It]} cname:localCname`,`a=ssrc:${Nt[It]} msid:${Mt.msid}`);if(kt)for(It=0;It<vt;++It)Ct.push(`a=ssrc:${Lt[It]} cname:localCname`,`a=ssrc:${Lt[It]} msid:${Mt.msid}`);return Ct.unshift(Mt.ssrcStartIndex,Mt.ssrcEndIndex-Mt.ssrcStartIndex+1),Zt.splice(...Ct),Zt.join(`\r
`)},pt.reprioritizeVideoCodec=function(gt,vt,Ct){const It=gt.split(`\r
`),Zt=pt.getMLineIndex(It,"video");if(Zt===-1)return gt;const Mt=pt.getMLinePayloadTypes(It[Zt],"video"),kt=new RegExp(`^a=rtpmap:(\\d+).* ${vt}`,"i"),Nt=It.map(Jt=>Jt.match(kt)).filter(Jt=>Jt!==null);if(Nt.length===0)return gt;const Lt=Nt.map(Jt=>Jt[1]);let Pt=Mt.filter(Jt=>Lt.indexOf(Jt)===-1);Ct==="top"?Pt.unshift(...Lt):Ct==="bottom"?Pt.push(...Lt):(dt.error(`Unexpected location param: ${Ct}; not changing ${vt} priority`),Pt=Mt);const cn=It[Zt].replace(Mt.join(" "),Pt.join(" "));return It[Zt]=cn,It.join(`\r
`)},pt.getSetupRole=ht=>{for(var gt=nt(ht.split(/\r\n|\r|\n/)),vt;!(vt=gt()).done;){const It=vt.value.match(/^a=setup:(\w+)/);if(It)return It[1]}return""},pt.setSetupRole=(ht,gt)=>ht.split(/\r\n|\r|\n/).map(vt=>vt.match(/^a=setup:(\w+)/)?`a=setup:${gt}`:vt).join(`\r
`),pt.changeSetupRole=(ht,gt,vt)=>ht.map(Ct=>Ct.includes(`a=setup:${gt}`)?`a=setup:${vt}`:Ct),pt.patterns={bundle:"a=group:BUNDLE",address:"c=IN IP4",rtcp:"a=rtcp:",direction:["a=inactive","a=sendonly","a=recvonly","a=sendrecv"],rsize:"a=rtcp-rsize",ssrc:"a=ssrc:",msid:"a=msid:"},pt.getIndexStartingWith=(ht,gt,vt)=>{const Ct=ht.slice(vt),It=gt.map(Zt=>Ct.findIndex(Mt=>Mt.includes(Zt))).filter(Zt=>Zt>-1);return It.length?vt+Math.min(...It):ht.length},pt.getLastIndexPriorTo=(ht,gt,vt)=>ht.slice(0,vt).findLastIndex(It=>It.includes(gt)),pt.includesAny=(ht,gt)=>{for(let vt=0;vt<gt.length;vt++)if(ht.includes(gt[vt]))return!0;return!1},pt.isVersionLine=ht=>/^o=/.test(ht),pt.getVersionLine=ht=>ht.find(pt.isVersionLine),pt.getVersion=ht=>{const gt=pt.getVersionLine(ht);if(gt===void 0)return;const vt=Number(gt.match(/ (\d+) IN /)[1]);return Number.isInteger(vt)?vt:void 0},pt.updateVersion=(ht,gt,vt)=>{const Ct=[...ht],It=Ct.findIndex(Zt=>pt.isVersionLine(Zt));return Ct[It]=Ct[It].replace(` ${gt} `,` ${vt} `),Ct},pt.isBundleLine=ht=>ht.includes(pt.patterns.bundle),pt.getBundleLine=ht=>ht.find(pt.isBundleLine),pt.createBundleLine=ht=>`${pt.patterns.bundle} ${ht.join(" ")}`,pt.updateBundleLine=(ht,gt)=>{const vt=[...ht],Ct=pt.createBundleLine(gt),It=vt.findIndex(Zt=>pt.isBundleLine(Zt));return vt[It]=Ct,vt},pt.parseMLine=ht=>{const gt=ht.match(/^(m=(?:audio|video)) (\d+) (.+)/),vt=gt[1],Ct=gt[2],It=gt[3];return{port:Ct,transport:It,mediaType:vt}},pt.disableTrack=ht=>{const gt=pt.parseMLine(ht),vt=gt.mediaType,Ct=gt.transport;return`${vt} 0 ${Ct}`},pt.setMediaDirection=(ht,gt)=>{if(!Object.values(pt.mediaDirections).includes(gt))return ht;const Ct=ht.slice(),It=Ct.findIndex(Zt=>pt.includesAny(Zt,pt.patterns.direction));return It===-1||(Ct[It]=`a=${gt}`),Ct},pt.disableTrackSection=ht=>{const gt=ht.mid,vt=ht.sdp;let Ct=vt.filter(It=>{const Zt=pt.patterns,Mt=Zt.address,kt=Zt.rtcp,Nt=Zt.rsize,Lt=Zt.ssrc,Pt=Zt.msid;return!pt.includesAny(It,[Mt,kt,Nt,Lt,Pt])});return Ct[0]=pt.disableTrack(vt[0]),Ct=pt.setMediaDirection(Ct,pt.mediaDirections.INACTIVE),{mid:gt,sdp:Ct}},pt.getEnabledTracks=ht=>pt.getBundleLine(ht).match(new RegExp(`^${pt.patterns.bundle} (.+)$`))[1].split(" "),pt.getDisabledTracks=(ht,gt)=>ht.filter(vt=>!gt.includes(vt)),pt.getTrackSection=(ht,gt)=>{const vt=ht.findIndex(kt=>kt.includes(`a=mid:${gt}`)),Ct=gt.includes("a")?"audio":"video",It=pt.getLastIndexPriorTo(ht,`m=${Ct}`,vt),Zt=pt.getIndexStartingWith(ht,["m=audio","m=video"],vt),Mt=ht.slice(It,Zt);return{mid:gt,sdp:Mt}},pt.getHeaders=ht=>{const gt=ht.findIndex(vt=>vt.includes("m=audio")||vt.includes("m=video"));return ht.slice(0,gt)},pt.disableTracks=(ht,gt)=>ht.map(vt=>gt.includes(vt.mid)?pt.disableTrackSection(vt):vt),pt.getSDPLines=ht=>ht.split(`\r
`).filter(gt=>gt),pt.parseSDP=ht=>{const gt=pt.getSDPLines(ht),vt=pt.changeSetupRole(gt,"actpass","passive"),Ct={bundle:pt.getBundleLine(vt),headers:pt.getHeaders(vt),version:pt.getVersion(vt),tracks:pt.getEnabledTracks(vt)};return Ct.trackSections=Ct.tracks.map(It=>pt.getTrackSection(vt,It)),Ct},pt.createSDP=(ht,gt)=>{const vt=ht;return gt.forEach(Ct=>vt.push(...Ct.sdp)),vt.push(""),vt.join(`\r
`)},pt.removePayloadTypeFromSection=(ht,gt)=>ht.filter(vt=>!vt.includes(`a=rtpmap:${gt} `)&&!vt.includes(`a=fmtp:${gt} `)&&!vt.includes(`a=rtcp-fb:${gt} `)),pt.getRtxPayloadType=(ht,gt)=>{const vt=ht.filter(It=>It.includes(`apt=${gt}`))[0];return vt==null?void 0:vt.match(/^a=fmtp:(\d+) /)[1]},pt.removeRtxPayloadTypeFromSection=(ht,gt)=>{let vt=[...ht];const Ct=pt.getRtxPayloadType(vt,gt);return Ct&&(vt=pt.removePayloadTypeFromSection(vt,Ct)),vt},pt.trimUnusedCodecs=(ht,gt)=>{const vt=ht[0].split(" "),Ct=vt.slice(3),It=vt.slice(0,3),Zt=pt.getCodecsFromSection(ht);let Mt=[...ht];return Ct.forEach(kt=>{const Nt=Zt.codecMap[kt];if(!gt.includes(Nt))Mt=pt.removePayloadTypeFromSection(Mt,kt),Mt=pt.removeRtxPayloadTypeFromSection(Mt,kt);else{It.push(kt);const Lt=pt.getRtxPayloadType(Mt,kt);Lt&&It.push(Lt)}}),Mt[0]=It.join(" "),Mt},pt.removeUnusedCodecs=(ht,gt)=>{if(!gt)return ht;const vt=pt.getSDPLines(ht),Ct=pt.getSDPLines(gt),It={header:pt.getHeaders(vt)};pt.getEnabledTracks(Ct).forEach(kt=>{const Nt=pt.getTrackSection(vt,kt).sdp,Lt=pt.getTrackSection(Ct,kt).sdp,Pt=Object.values(pt.getCodecsFromSection(Lt).codecMap);It[kt]=pt.trimUnusedCodecs(Nt,Pt)});const Mt=[];return Object.values(It).forEach(kt=>Mt.push(...kt)),Mt.push(""),Mt.join(`\r
`)},pt.updateSDPWithNewOffer=(ht,gt)=>{const vt=ht.headers,Ct=ht.version,It=ht.tracks,Zt=ht.trackSections,Mt=pt.getSDPLines(gt),kt={};kt.version=pt.getVersion(Mt),kt.headers=pt.updateVersion(vt,Ct,kt.version),kt.tracks=pt.getEnabledTracks(Mt);const Nt=pt.getDisabledTracks(It,kt.tracks);return kt.headers=pt.updateBundleLine(kt.headers,kt.tracks),kt.trackSections=pt.disableTracks(Zt,Nt),kt}},function(_e,tt,et){var nt=et(39),rt=et(364),it=et(365),ot="[object Null]",st="[object Undefined]",at=nt?nt.toStringTag:void 0;function ct(lt){return lt==null?lt===void 0?st:ot:at&&at in Object(lt)?rt(lt):it(lt)}_e.exports=ct},function(_e,tt,et){var nt=et(177),rt=et(116),it=et(25);function ot(st){return it(st)?nt(st):rt(st)}_e.exports=ot},function(_e,tt,et){var nt=et(43);_e.exports=function(rt){if(!nt(rt))throw new TypeError("Cannot use null or undefined");return rt}},function(_e,tt,et){var nt=et(55),rt=et(198),it=et(127),ot=et(199),st=et(200),at=_e.exports=function(ct,lt){var dt,ut,ft,pt,yt;return arguments.length<2||typeof ct!="string"?(pt=lt,lt=ct,ct=null):pt=arguments[2],nt(ct)?(dt=st.call(ct,"c"),ut=st.call(ct,"e"),ft=st.call(ct,"w")):(dt=ft=!0,ut=!1),yt={value:lt,configurable:dt,enumerable:ut,writable:ft},pt?it(ot(pt),yt):yt};at.gs=function(ct,lt,dt){var ut,ft,pt,yt;return typeof ct!="string"?(pt=dt,dt=lt,lt=ct,ct=null):pt=arguments[3],nt(lt)?rt(lt)?nt(dt)?rt(dt)||(pt=dt,dt=void 0):dt=void 0:(pt=lt,lt=dt=void 0):lt=void 0,nt(ct)?(ut=st.call(ct,"c"),ft=st.call(ct,"e")):(ut=!0,ft=!1),yt={get:lt,set:dt,configurable:ut,enumerable:ft},pt?it(ot(pt),yt):yt}},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length,st=Array(ot);++it<ot;)st[it]=rt(nt[it],it,nt);return st}_e.exports=et},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(45));const ot=et(206),st=et(56),at=et(483),ct=et(530),lt=et(1)("StaticConfig"),dt=et(100),ut=dt.prependProxyToUrlIfNeeded,ft=st({version:"v2.25.1",buildHash:"8d76a4b67",minimumVersion:{firefox:52,chrome:49},debug:!1,websiteURL:"http://www.tokbox.com",configURL:"https://config.opentok.com",ipWhitelistConfigURL:"",cdnURL:"https://static.opentok.com",loggingURL:"https://hlg.tokbox.com/prod",apiURL:"https://anvil.opentok.com"}),pt=at(["apiURL","assetURL","cdnURL","sessionInfoOverrides","loggingURL"]),yt={apiUrl:"apiURL",loggingUrl:"loggingURL"},Tt=ct(gt=>yt[gt]);function ht(gt){let vt=gt===void 0?{}:gt,Ct=vt.axios,It=Ct===void 0?ot:Ct;return function(){Mt.onlyLocal=function(){const Nt=st((typeof window!==void 0?window:commonjsGlobal).OTProperties);return new Mt(Object.assign({},ft,pt(Nt)))},Mt.get=function(Nt){let Lt=Nt.partnerId,Pt=Nt.token,cn=Nt.useIpWhitelistConfigUrl,Jt=Nt.proxyUrl;return(()=>{const dn=this.onlyLocal();if(!dn.configUrl)return nt.resolve({});if(cn===!0&&!dn.ipWhitelistConfigUrl)return nt.resolve({});let vn=cn===!0?dn.ipWhitelistConfigUrl:dn.configUrl;return vn=ut(vn,Jt),It.get(`${vn}/project/${Lt}/config.json`,{headers:{"X-TB-TOKEN-AUTH":Pt}}).then(Tn=>Tn.data)})().catch(dn=>(lt.error("could not reach live config service",dn),{})).then(dn=>{const vn=st((typeof window!==void 0?window:commonjsGlobal).OTProperties),Tn=Object.assign({},ft,pt(vn),Tt(dn));return new Mt(Tn)})};function Mt(kt){Object.defineProperty(this,"config",{value:Object.freeze(st(kt))})}return(0,it.default)(Mt,[{key:"configUrl",get:function(){return this.config.configURL}},{key:"ipWhitelistConfigUrl",get:function(){return this.config.ipWhitelistConfigURL}},{key:"apiUrl",get:function(){return this.config.apiURL}},{key:"loggingUrl",get:function(){return this.config.loggingURL}},{key:"apiEnabled",get:function(){return typeof this.config.apiEnabled<"u"?this.config.apiEnabled:!0}},{key:"version",get:function(){return this.config.version}},{key:"clientVersion",get:function(){return`js-${(this.version||"unknown").replace("v","")}`}},{key:"buildHash",get:function(){return this.config.buildHash}},{key:"minimumVersion",get:function(){return this.config.minimumVersion}},{key:"websiteUrl",get:function(){return this.config.websiteURL}},{key:"debug",get:function(){return this.config.debug==="true"||this.config.debug===!0}},{key:"sessionInfoOverrides",get:function(){return this.config.sessionInfoOverrides}},{key:"cdnUrl",get:function(){return this.config.cdnURL||`${(typeof window!==void 0?window:commonjsGlobal).location.protocol}//${(typeof window!==void 0?window:commonjsGlobal).location.host}`}},{key:"assetUrl",get:function(){return this.config.assetURL||`${this.cdnUrl}/webrtc/${this.version}`}}]),Mt}()}_e.exports=ht}).call(this,et(0))},function(_e,tt,et){var nt=et(509),rt=et(515),it=et(88),ot=et(12),st=et(520);function at(ct){return typeof ct=="function"?ct:ct==null?it:typeof ct=="object"?ot(ct)?rt(ct[0],ct[1]):nt(ct):st(ct)}_e.exports=at},function(_e,tt,et){const nt=et(8);_e.exports=function(it,ot){let st;const at=ot||{};it.setDisplayMode=function(ct){const lt=ct||"auto";st!==lt&&(nt.removeClass(this.domElement,`OT_mode-${st}`),nt.addClass(this.domElement,`OT_mode-${lt}`),st=lt)},it.getDisplayMode=function(){return st},it.showAfterLoading=function(){nt.removeClass(this.domElement,"OT_hide-forced")},it.hideWhileLoading=function(){nt.addClass(this.domElement,"OT_hide-forced")},it.destroy=function(){return at.onDestroy&&at.onDestroy(this.domElement),this.domElement&&nt.removeElement(this.domElement),it},it.appendTo=function(ct){return this.domElement=nt.createElement(at.nodeName||"div",at.htmlAttributes,at.htmlContent),at.onCreate&&at.onCreate(this.domElement),it.setDisplayMode(at.mode),at.mode==="auto"&&(nt.addClass(it.domElement,"OT_mode-on-hold"),setTimeout(()=>{nt.removeClass(it.domElement,"OT_mode-on-hold")},2e3)),ct.appendChild(this.domElement),it}}},function(_e,tt,et){var nt=et(77),rt=4;function it(ot){return nt(ot,rt)}_e.exports=it},function(_e,tt,et){var nt=et(363),rt=et(368);function it(ot,st){var at=rt(ot,st);return nt(at)?at:void 0}_e.exports=it},function(_e,tt,et){var nt=et(14),rt=nt.Symbol;_e.exports=rt},function(_e,tt,et){var nt=et(83),rt=et(62);function it(ot,st,at,ct){var lt=!at;at||(at={});for(var dt=-1,ut=st.length;++dt<ut;){var ft=st[dt],pt=ct?ct(at[ft],ot[ft],ft,at,ot):void 0;pt===void 0&&(pt=ot[ft]),lt?rt(at,ft,pt):nt(at,ft,pt)}return at}_e.exports=it},function(_e,tt,et){var nt=et(392),rt=et(111),it=et(393),ot=et(185),st=et(186),at=et(29),ct=et(174),lt="[object Map]",dt="[object Object]",ut="[object Promise]",ft="[object Set]",pt="[object WeakMap]",yt="[object DataView]",Tt=ct(nt),ht=ct(rt),gt=ct(it),vt=ct(ot),Ct=ct(st),It=at;(nt&&It(new nt(new ArrayBuffer(1)))!=yt||rt&&It(new rt)!=lt||it&&It(it.resolve())!=ut||ot&&It(new ot)!=ft||st&&It(new st)!=pt)&&(It=function(Zt){var Mt=at(Zt),kt=Mt==dt?Zt.constructor:void 0,Nt=kt?ct(kt):"";if(Nt)switch(Nt){case Tt:return yt;case ht:return lt;case gt:return ut;case vt:return ft;case Ct:return pt}return Mt}),_e.exports=It},function(_e,tt){var et=_e.exports={},nt,rt;function it(){throw new Error("setTimeout has not been defined")}function ot(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?nt=setTimeout:nt=it}catch{nt=it}try{typeof clearTimeout=="function"?rt=clearTimeout:rt=ot}catch{rt=ot}})();function st(ht){if(nt===setTimeout)return setTimeout(ht,0);if((nt===it||!nt)&&setTimeout)return nt=setTimeout,setTimeout(ht,0);try{return nt(ht,0)}catch{try{return nt.call(null,ht,0)}catch{return nt.call(this,ht,0)}}}function at(ht){if(rt===clearTimeout)return clearTimeout(ht);if((rt===ot||!rt)&&clearTimeout)return rt=clearTimeout,clearTimeout(ht);try{return rt(ht)}catch{try{return rt.call(null,ht)}catch{return rt.call(this,ht)}}}var ct=[],lt=!1,dt,ut=-1;function ft(){!lt||!dt||(lt=!1,dt.length?ct=dt.concat(ct):ut=-1,ct.length&&pt())}function pt(){if(!lt){var ht=st(ft);lt=!0;for(var gt=ct.length;gt;){for(dt=ct,ct=[];++ut<gt;)dt&&dt[ut].run();ut=-1,gt=ct.length}dt=null,lt=!1,at(ht)}}et.nextTick=function(ht){var gt=new Array(arguments.length-1);if(arguments.length>1)for(var vt=1;vt<arguments.length;vt++)gt[vt-1]=arguments[vt];ct.push(new yt(ht,gt)),ct.length===1&&!lt&&st(pt)};function yt(ht,gt){this.fun=ht,this.array=gt}yt.prototype.run=function(){this.fun.apply(null,this.array)},et.title="browser",et.browser=!0,et.env={},et.argv=[],et.version="",et.versions={};function Tt(){}et.on=Tt,et.addListener=Tt,et.once=Tt,et.off=Tt,et.removeListener=Tt,et.removeAllListeners=Tt,et.emit=Tt,et.prependListener=Tt,et.prependOnceListener=Tt,et.listeners=function(ht){return[]},et.binding=function(ht){throw new Error("process.binding is not supported")},et.cwd=function(){return"/"},et.chdir=function(ht){throw new Error("process.chdir is not supported")},et.umask=function(){return 0}},function(_e,tt,et){var nt=et(411)();_e.exports=function(rt){return rt!==nt&&rt!==null}},function(_e,tt,et){_e.exports=et(425)()?et(91).Symbol:et(428)},function(_e,tt){function et(rt,it){for(var ot=0;ot<it.length;ot++){var st=it[ot];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(rt,st.key,st)}}function nt(rt,it,ot){return it&&et(rt.prototype,it),ot&&et(rt,ot),rt}_e.exports=nt},function(_e,tt,et){var nt=et(69),rt=1/0;function it(ot){if(typeof ot=="string"||nt(ot))return ot;var st=ot+"";return st=="0"&&1/ot==-rt?"-0":st}_e.exports=it},function(_e,tt,et){var nt=et(527),rt=et(140),it=rt(function(ot,st){return ot==null?{}:nt(ot,st)});_e.exports=it},function(_e,tt){function et(nt,rt){nt.prototype=Object.create(rt.prototype),nt.prototype.constructor=nt,nt.__proto__=rt}_e.exports=et},function(_e,tt,et){const nt=(typeof window!==void 0?window:commonjsGlobal).performance||{};_e.exports=function(){return nt.now?nt.timing.navigationStart+nt.now():Date.now()}},function(_e,tt,et){var nt=et(593);function rt(it){return nt(2,it)}_e.exports=rt},function(_e,tt,et){const nt=et(50),rt=et(34)();tt.check=function(it){it===void 0&&(it={});const ot=it.env||et(2),st=it.hasGetUserMediaCapability||et(601),at=it.hasPeerConnectionCapability||et(602),ct=it.logging||et(1)("hasOpenTokSupport"),ut=((it.staticConfig||rt.onlyLocal()).minimumVersion||{})[ot.name.toLowerCase()];return ut&&ut>ot.version?(ct.debug("Support for",ot.name,"is disabled because we require",ut,"but this is",ot.version),!1):ot.name==="Node"?!0:st()&&at()},tt.once=nt(()=>tt.check())},function(_e,tt){function et(nt,rt){return nt===rt||nt!==nt&&rt!==rt}_e.exports=et},function(_e,tt,et){var nt=et(177),rt=et(387),it=et(25);function ot(st){return it(st)?nt(st,!0):rt(st)}_e.exports=ot},function(_e,tt){function et(nt,rt){var it=-1,ot=nt.length;for(rt||(rt=Array(ot));++it<ot;)rt[it]=nt[it];return rt}_e.exports=et},function(_e,tt,et){var nt=void 0;_e.exports=function(rt){return rt!==nt&&rt!==null}},function(_e,tt,et){var nt=et(77),rt=1,it=4;function ot(st){return nt(st,rt|it)}_e.exports=ot},function(_e,tt,et){var nt=et(98);function rt(it,ot,st){var at=it==null?void 0:nt(it,ot);return at===void 0?st:at}_e.exports=rt},function(_e,tt,et){var nt=et(12),rt=et(139),it=et(235),ot=et(59);function st(at,ct){return nt(at)?at:rt(at,ct)?[at]:it(ot(at))}_e.exports=st},function(_e,tt,et){var nt=et(517);function rt(it){return it==null?"":nt(it)}_e.exports=rt},function(_e,tt,et){var nt=et(616),rt=et(272),it=nt(rt);_e.exports=it},function(_e,tt,et){_e.exports=function(rt){const it=[];return{on(ot,st){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];if(it.push({eventName:ot,handler:st,args:ct}),rt.on)rt.on(ot,st);else if(rt.addEventListener)rt.addEventListener(ot,st,...ct);else throw new Error("Object does not support events",rt)},off(ot,st){if(rt.off)rt.off(ot,st);else if(rt.removeEventListener){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];rt.removeEventListener(ot,st,...ct)}else throw new Error("Object does not support events",rt)},once(ot,st){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];it.push({eventName:ot,handler:st,args:ct}),rt.once(ot,st)},removeAll(){it.forEach(ot=>{let st=ot.eventName,at=ot.handler,ct=ot.args;this.off(st,at,...ct)}),it.splice(0,it.length)}}}},function(_e,tt,et){var nt=et(175);function rt(it,ot,st){ot=="__proto__"&&nt?nt(it,ot,{configurable:!0,enumerable:!0,value:st,writable:!0}):it[ot]=st}_e.exports=rt},function(_e,tt,et){var nt=et(382),rt=et(17),it=Object.prototype,ot=it.hasOwnProperty,st=it.propertyIsEnumerable,at=nt(function(){return arguments}())?nt:function(ct){return rt(ct)&&ot.call(ct,"callee")&&!st.call(ct,"callee")};_e.exports=at},function(_e,tt,et){(function(nt){var rt=et(14),it=et(383),ot=tt&&!tt.nodeType&&tt,st=ot&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,at=st&&st.exports===ot,ct=at?rt.Buffer:void 0,lt=ct?ct.isBuffer:void 0,dt=lt||it;nt.exports=dt}).call(this,et(84)(_e))},function(_e,tt){var et=9007199254740991,nt=/^(?:0|[1-9]\d*)$/;function rt(it,ot){var st=typeof it;return ot=ot??et,!!ot&&(st=="number"||st!="symbol"&&nt.test(it))&&it>-1&&it%1==0&&it<ot}_e.exports=rt},function(_e,tt){function et(nt){return function(rt){return nt(rt)}}_e.exports=et},function(_e,tt){var et=Object.prototype;function nt(rt){var it=rt&&rt.constructor,ot=typeof it=="function"&&it.prototype||et;return rt===ot}_e.exports=nt},function(_e,tt,et){_e.exports=function(nt){if(typeof nt!="function")throw new TypeError(nt+" is not a function");return nt}},function(_e,tt,et){var nt=et(29),rt=et(17),it="[object Symbol]";function ot(st){return typeof st=="symbol"||rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){if(et(8).env.name==="Node")_e.exports={value:""};else{var rt,it;const ot=(rt=Array.prototype.slice.call(document.getElementsByTagName("script")))==null||(it=rt.pop())==null?void 0:it.getAttribute("src"),st=ot&&ot.match(/[?&]apikey=([^&]+)/i)||[],at=st[1];_e.exports={value:at||""}}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(154),at=et(49),ct=et(9),lt=et(56),dt=et(129),ut=et(271),ft=et(15),pt=et(6),yt=et(249),Tt=et(155),ht=et(28),gt=et(72),vt=et(619);_e.exports=function(It){It===void 0&&(It={});const Zt=It.hasValidPeerConnection||et(620),Mt=It.applySdpTransform||et(156),kt=It.createPeerConnection||et(621),Nt=It.env||et(2),Lt=It.sdpTransformDefaults||et(623),Pt=It.getStatsAdapter||et(274),cn=It.getRtcStatsReportAdapter||et(277),Jt=It.getSynchronizationSources||et(627),Bt=It.IceCandidateProcessor||et(628),dn=It.logging||et(1),vn=It.offerProcessor||et(630),Tn=It.PeerConnectionChannels||et(632),pn=It.subscribeProcessor||et(634),In=et(635),Cn=It.changeMediaDirection||et(637),yn=Cn.changeMediaDirectionToInactive,bn=Cn.changeMediaDirectionToRecvOnly,Xn=It.Qos||et(278).default,Hn=It.global||(typeof window!==void 0?window:commonjsGlobal),En=It.debounce||et(641),Zn=It.needsToSwapH264Profiles||et(643).once,Vn=()=>Zt(Hn.RTCPeerConnection),rr=It.NativeRTCIceCandidate||Hn.RTCIceCandidate,gr=It.NativeRTCSessionDescription||Hn.RTCSessionDescription,cr=It.Errors||et(7),sr=It.OTErrorClass||et(22),Or=It.ExceptionCodes||et(10),Rr=It.hasPictureInPictureBug||et(644),Yr=1e4,Fr=vo=>{let Lr=vo.sendMessage,Pr=vo.logging;const qn={};return Yn=>{Yn.candidate?(qn[Yn.candidate.sdpMid]=Yn.candidate.sdpMLineIndex,Lr("candidate",{candidate:Yn.candidate.candidate,sdpMid:Yn.candidate.sdpMid||"",sdpMLineIndex:Yn.candidate.sdpMLineIndex||0})):Pr.debug("IceCandidateForwarder: No more ICE candidates.")}},Qr=()=>{};return function(Lr){Lr===void 0&&(Lr={});let Pr=!1;const qn=Lr,Yn=qn.iceConfig,vr=Yn===void 0?{servers:[]}:Yn,Dr=qn.sendMessage,ho=qn.isPublisher,er=qn.offerOverrides,Ir=qn.answerOverrides,Wr=qn.p2p,mo=qn.codecFlags,Jr=qn.sourceStreamId,To=qn.keyStore,wo=qn.sFrameClientStore,xo=qn.isE2ee,ro=qn.removeUnusedCodecs;let Ho=Lr,Oo=Ho.logAnalyticsEvent,Do=Oo===void 0?Qr:Oo,so=Ho.remoteConnectionId,Nu=!1,_o;const ko=Zn();let ls=0,_s=!1,cu,Ns,Rl,Pu;const Hu=new In(Do),qp=Tt();function ip(Wn,Bn){Pr||["candidate","offer","answer","pranswer"].indexOf(Wn)>-1&&(Pr=(Wn==="candidate"?Bn.candidate:Bn.sdp).indexOf("typ relay")!==-1),Dr(Wn,Bn)}const op=at();Do("createPeerConnection","Attempt");const oo={};oo.id=ft();const yl=dn(`PeerConnection:${oo.id}`);yl.debug("construct",{id:oo.id,options:Lr});const vu=Lt,Ys=Wn=>vr.transportPolicy==="relay"&&Wn!=null&&Wn.candidate.indexOf("typ relay")===-1,Ll=ut(Lr,["isPublisher","logAnalyticsEvent","offerOverrides","answerOverrides","sendMessage"]);let _r,_a,_h,yu,bu,us=[];const Yl=(()=>{let Wn=Ll.overrideSimulcastEnabled||!1;return{get(){return Wn},set(Bn){const ur=!!Bn&&Ll.capableSimulcastStreams>1;ur!==Wn&&Ll.overrideSimulcastEnabled===void 0&&(Wn=ur,oo.generateOfferAndSend())}}})(),ds=()=>{oo.iceConnectionStateIsConnected()?yl.debug("iceRestart is going to wait until we disconnect or negotiationNeeded and then restart ice"):oo.generateOfferAndSend()},_u=(()=>{let Wn=!1;return{get(){return Wn},set(Bn){const ur=!!Bn;ur!==Wn&&(Wn=ur,Wn&&ds())}}})(),Sp={clean(){delete this.promise,delete this.resolve,delete this.reject}};Sp.promise=new nt((Wn,Bn)=>{Sp.resolve=Wn,Sp.reject=Bn});let Il=new Bt,dp="new";Object.defineProperty(oo,"signalingState",{get(){return _r.signalingState},set(Wn){return _r.signalingState=Wn,Wn}}),pt(oo),oo.addOptions=Wn=>{so=Wn.remoteConnectionId,Do=Wn.logAnalyticsEvent},oo.startEncryption=function(){var Wn=(0,ot.default)(it.default.mark(function Bn(ur){var Nr;return it.default.wrap(function(Go){for(;;)switch(Go.prev=Go.next){case 0:if(xo){Go.next=2;break}return Go.abrupt("return");case 2:return Rl=vt(ur),Go.next=5,wo.createSender(Rl);case 5:return Ns=Go.sent,Go.next=8,To.get();case 8:return Nr=Go.sent,Go.next=11,Ns.setSenderEncryptionKey(Nr);case 11:Pu=Yo=>{Ns.setSenderEncryptionKey(Yo)},To.on("keyChanged",Pu),_r.getTransceivers().forEach(Yo=>Ns.encrypt(Yo.mid,Yo.sender));case 14:case"end":return Go.stop()}},Bn)}));return function(Bn){return Wn.apply(this,arguments)}}(),oo.once("iceConnected",(0,ot.default)(it.default.mark(function Wn(){var Bn,ur;return it.default.wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:Bn="",ur={pcc:parseInt(at()-op,10),hasRelayCandidates:Pr,proxyInfo:Bn},_r&&_r.proxyInfo&&(ur.proxyInfo=_r.proxyInfo),Do("createPeerConnection","Success",ur);case 4:case"end":return jr.stop()}},Wn)}))),Sp.resolve();const sp=function(){var Wn=(0,ot.default)(it.default.mark(function Bn(){var ur;return it.default.wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:return jr.next=2,To.get();case 2:if(ur=jr.sent,Rl=vt(so),cu=wo.getReceiver(Rl),cu){jr.next=14;break}return jr.next=8,wo.createReceiver(Rl);case 8:cu=jr.sent,cu.addReceiver(Rl),cu.setReceiverEncryptionKey(Rl,ur),To.on("keyChanged",Go=>{cu.setReceiverEncryptionKey(Rl,Go)}),cu.addEventListener("decryptFailed",()=>{oo.trigger("decryptFailed")}),cu.addEventListener("decryptionRestored",()=>{oo.trigger("decryptRestored")});case 14:case"end":return jr.stop()}},Bn)}));return function(){return Wn.apply(this,arguments)}}(),Cl=Wn=>{if(yl.debug("internalCreatePeerConnection: called"),_r){yl.debug("internalCreatePeerConnection: resolving synchronously"),Wn.call(null,null,_r);return}if(us.push(Wn),!(us.length>1)){if(yl.debug(`Creating peer connection config "${JSON.stringify(Ll)}".`),vr.servers.length===0&&(yl.error("No ice servers present"),Do("Error","noIceServers")),vr.transportPolicy==="relay"){const Bn=ur=>ur&&ur.indexOf("turn")===0;vr.servers=vr.servers.map(ur=>{const Nr=lt(ur);return Array.isArray(Nr.urls)||(Nr.urls=[Nr.urls]),Nr.urls=Nr.urls.filter(Bn),Nr.urls.length===0?void 0:Nr}).filter(ur=>ur!==void 0)}Ll.iceTransportPolicy=vr.transportPolicy,Ll.iceServers=vr.servers,xo&&(Ll.forceEncodedVideoInsertableStreams=!0,Ll.forceEncodedAudioInsertableStreams=!0,Ll.encodedInsertableStreams=!0),Vn().then(Bn=>{if(!Bn)throw yl.error("createPeerConnection: Invalid RTCPeerConnection object"),new Error("Failed to create valid RTCPeerConnection object");return kt({window:Hn,config:Ll})}).then(function(){var Bn=(0,ot.default)(it.default.mark(function ur(Nr){return it.default.wrap(function(Go){for(;;)switch(Go.prev=Go.next){case 0:if(!(!ho&&xo)){Go.next=3;break}return Go.next=3,sp();case 3:ts(null,Nr);case 4:case"end":return Go.stop()}},ur)}));return function(ur){return Bn.apply(this,arguments)}}(),Bn=>ts(Bn))}},ts=(Wn,Bn)=>{if(Wn){pp({reason:`Failed to create PeerConnection, exception: ${Wn}`,prefix:"NewPeerConnection"}),us=[];return}yl.debug("OT attachEventsToPeerConnection"),_r=Bn,Il&&Il.setPeerConnection(Bn),_a=new Tn(_r),Ll.channels&&_a.addMany(Ll.channels);const ur=Fr({sendMessage:ip,logging:yl}),Nr=ps=>{if(Sp.resolve(),Ys(ps.candidate)){yl.debug("Ignore candidate",ps.candidate.candidate);return}ur(ps)},jr=function(){var ps=(0,ot.default)(it.default.mark(function Es(Ds){return it.default.wrap(function(Dp){for(;;)switch(Dp.prev=Dp.next){case 0:ws(Ds),!ho&&cu&&cu.decrypt(Ds.transceiver.mid,Ds.receiver);case 2:case"end":return Dp.stop()}},Es)}));return function(Ds){return ps.apply(this,arguments)}}();let Go=_r.iceConnectionState;const Yo=ps=>{_r?(yl.debug("iceconnectionstatechange",_r.iceConnectionState),_r.iceConnectionState==="connected"?(Go==="disconnected"&&oo.clearFailedTimeout(),oo.emit("iceConnected"),_u.set(!1)):_r.iceConnectionState==="completed"&&Nt.isLegacyEdge&&setTimeout(()=>or.startCollecting(_r),1e3)):yl.debug("iceconnectionstatechange on peerConnection that no longer exists",oo);const Es=ps.target.iceConnectionState;oo.trigger("iceConnectionStateChange",Es),Do("attachEventsToPeerConnection","iceconnectionstatechange",Es),Es==="disconnected"&&(_u.get()?(yl.debug("Restarting ice!"),oo.generateOfferAndSend()):gt()||(bu=setTimeout(()=>{const Ds="failed";Do("attachEventsToPeerConnection","iceconnectionstatechange",Ds),Go=Ds,oo.trigger("iceConnectionStateChange",Ds)},Yr))),Go!=="disconnected"&&Es==="failed"&&pp({reason:"The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",prefix:"ICEWorkflow"}),Go=Es},Ws=()=>{Do("peerConnection:negotiationNeeded","Event"),ho&&oo.generateOfferAndSend(),oo.trigger("negotiationNeeded")};_r.addEventListener("track",jr),_r.addEventListener("icecandidate",Nr),_r.addEventListener("signalingstatechange",fp),_r.addEventListener("negotiationneeded",Ws),_r.addEventListener("iceconnectionstatechange",Yo),qp.add(()=>{_r&&(_r.removeEventListener("track",jr),_r.removeEventListener("icecandidate",Nr),_r.removeEventListener("signalingstatechange",fp),_r.removeEventListener("negotiationneeded",Ws),_r.removeEventListener("iceconnectionstatechange",Yo))}),lu()},lu=()=>{for(;us.length;)us.shift().call(null)},Ro=()=>{Il&&(Il.destroy(),Il=null),us=[],or.stopCollecting(),qp.releaseAll(),Sp.clean(),_r!==null&&(_r.destroy&&_r.destroy(),_r=null,oo.trigger("close")),oo.off()},fp=Wn=>{const Bn=Wn.target.signalingState;if(oo.emit("signalingStateChange",Bn),Bn==="stable"&&oo.emit("signalingStateStable"),Bn&&Bn!==dp)switch(dp=Bn,yl.debug(`stateChange: ${dp}`),dp){case"closed":Ro();break}},Mu=Wn=>{Wn.dataChannels=_a.sampleQos(),oo.trigger("qos",{parsedStats:Wn,simulcastEnabled:Yl.get()})},Wp=()=>{let Wn;if(_r.getRemoteStreams)Wn=_r.getRemoteStreams();else if(_r.remoteStreams)Wn=_r.remoteStreams;else throw new Error("Invalid Peer Connection object implements no method for retrieving remote streams");return Array.prototype.slice.call(Wn)},ws=Wn=>{var Bn;const ur=Wn.track,Nr=Wn.transceiver,jr=Wn.stream||((Bn=Wn.streams)==null?void 0:Bn[0]);Do("createPeerConnection","TrackAdded"),oo.trigger("trackAdded",{stream:jr,track:ur,transceiver:Nr})},Gp=(Wn,Bn,ur)=>{Nu=!1,pp({reason:`PeerConnection.offerProcessor ${Wn}: ${Bn}`,prefix:ur})},om=Wn=>{if(Nu){_o=Wn;return}Nu=!0,Do("peerConnection:processOffer","Event");const Bn=new gr({type:"offer",sdp:Wn.content.sdp}),ur=jr=>{Nu=!1,Il&&Il.process(),ip("answer",jr),Nt.isLegacyEdge||or.startCollecting(_r,ho),_o&&(om(_o),_o=null)},Nr=jr=>oo.trigger("remoteVideoSupported",jr);Cl(()=>{vn(_r,Hn.RTCPeerConnection,Hn.RTCSessionDescription,gr,vu,Bn,mo,Wr,ur,Gp,Nr,ko,Jr)})},Fp=Wn=>{Do("peerConnection:processAnswer","Event");const Bn="Failed to parse SessionDescription. a=extmap-allow-mixed Expects at least 2 fields.",ur=Nr=>{Nr.includes(Bn)&&(Nr="SessionDescription issue has been fixed in Chrome 71 and above. Please update your browser."),pp({reason:`Error while setting RemoteDescription ${Nr}`,prefix:"SetRemoteDescription"})};if(!Wn.content.sdp){ur("Weird answer message, no SDP.");return}yu=new gr({type:"answer",sdp:Mt(vu,"remote","answer",ct({replaceBaselineProfile:ko},Ir),Wn.content.sdp).local}),(()=>{const Nr=()=>{yl.debug("processAnswer: setRemoteDescription Success"),Il&&Il.process()};_r.setRemoteDescription(yu).then(Nr).catch(ur),Hu.setResolved()})(),Nt.isLegacyEdge||or.startCollecting(_r,ho)},Op=Wn=>{var Bn,ur;if(((Bn=_r)==null||(ur=Bn.signalingState)==null?void 0:ur.toLowerCase())==="closed")return;Do("peerConnection:processSubscribe","Event"),yl.debug("processSubscribe: Sending offer to subscriber.");let Nr=Yl.get()?Ll.capableSimulcastStreams:1;Jr==="P2P"&&!Wr&&(Nr=1),Cl(()=>{pn({peerConnection:_r,NativeRTCSessionDescription:gr,sdpTransforms:vu,numSimulcastStreams:Nr,removeVideoOrientation:Rr(),offerOverrides:er,offerConstraints:{iceRestart:_u.get()},replaceBaselineProfile:ko,removeUnusedCodecs:ro}).then(Go=>{yl.debug("processSubscribe: got offer, waiting for _readyToCompleteOffer"),_h=Go,Sp.promise.then(()=>Wn(_h))},Go=>{pp({reason:`subscribeProcessor ${Go.message}: ${Go.reason}`,prefix:Go.prefix})}),_u.set(!1)})},em=()=>{typeof Pu=="function"&&To.off("keyChanged",Pu),Ns=null,Rl=null};oo.generateOfferAndSend=()=>{const Wn=Bn=>{yl.debug("processSubscribe: sending offer"),ip("offer",Bn)};oo.generateOffer(Wn)},oo.generateOfferAndAnswer=Wn=>{const Bn=ur=>{Wn(ur)};oo.generateOffer(Bn)},oo.generateOffer=En(function(Wn){Wn===void 0&&(Wn=()=>{}),Hu.enqueueOfferAnswer(()=>Op(Wn))},100);const pp=Wn=>{let Bn=Wn.reason,ur=Wn.prefix;yl.error(Bn,"in state",_r?{connectionState:_r.connectionState,iceConnectionState:_r.iceConnectionState,iceGatheringState:_r.iceGatheringState,signalingState:_r.signalingState}:"(none)"),oo.trigger("error",{reason:Bn,prefix:ur})};oo.addTrack=(Wn,Bn)=>{const ur=new nt((Nr,jr)=>{Cl(Go=>{if(Go)return jr(Go);Nr()})}).then(()=>{if(_r.addTrack)return _r.addTrack(Wn,Bn);const Nr=_r.getLocalStreams()[0];if(Nr===void 0)throw new Error("PeerConnection has no existing streams, cannot addTrack");Nr.addTrack(Wn),oo.generateOfferAndSend()}).then(()=>new nt(Nr=>{oo.once("signalingStateStable",()=>{Nr()})}));return st(ur,15e3,"Renegotiation timed out")};function Su(Wn){this.track=Wn}oo.setIceConfig=Wn=>{try{Nt.isFirefox&&(Wn.certificates=_r.getConfiguration().certificates),_r.setConfiguration(Wn)}catch(Bn){throw new yt(`A peer connection failed to set configuration with ${Bn.message}`,cr.FAILED_SET_CONFIGURATION)}return _u.set(!0),_r},oo.removeTrack=Wn=>{const Bn=nt.resolve().then(()=>{if(Wn instanceof Su){_r.getLocalStreams()[0].removeTrack(Wn.track),oo.generateOfferAndSend();return}return _r.removeTrack(Wn)}).then(()=>new nt(ur=>{oo.once("signalingStateStable",()=>{ur()})}));return st(Bn,15e3,"Renegotiation timed out")},oo.addLocalStream=Wn=>new nt((Bn,ur)=>{Cl(Nr=>{if(Nr){ur(Nr);return}try{Wn.getTracks&&Wn.getTracks().forEach(jr=>_r.addTrack(jr,Wn))}catch(jr){ur(jr);return}Bn()})}),oo.getLocalStreams=()=>_r.getLocalStreams(),oo.getSenders=()=>_r.getSenders?_r.getSenders():_r.getLocalStreams()[0].getTracks().map(Wn=>new Su(Wn)),oo.disconnect=()=>{var Wn;Il&&(Il.destroy(),Il=null),(Wn=_r)!=null&&Wn.signalingState&&_r.signalingState.toLowerCase()!=="closed"&&(_r.close(),em(),setTimeout(Ro))},oo.iceRestart=()=>_u.set(!0),oo.clearFailedTimeout=()=>clearTimeout(bu);const Yu=Wn=>{const Bn=Wn?yn:bn;return new nt(Nr=>{Hu.enqueueOfferAnswer((0,ot.default)(it.default.mark(function jr(){return it.default.wrap(function(Yo){for(;;)switch(Yo.prev=Yo.next){case 0:return Yo.next=2,Bn(_r);case 2:Hu.setResolved(),Nr();case 4:case"end":return Yo.stop()}},jr)})))})};oo.changeMediaDirectionToRecvOnly=()=>Yu(!1),oo.changeMediaDirectionToInactive=()=>Yu(!0),oo.processMessage=(Wn,Bn)=>{switch(yl.debug(`processMessage: Received ${Wn} from ${Bn.fromAddress}`,Bn),yl.debug(Bn),Wn){case"generateoffer":Bn.content&&Bn.content.simulcastEnabled!==void 0&&Yl.set(Bn.content.simulcastEnabled),oo.generateOfferAndSend(),Nr();break;case"offer":om(Bn),Nr();break;case"answer":case"pranswer":Fp(Bn);break;case"candidate":var ur=new rr(Bn.content);if(Ys(ur))return yl.debug("Ignore candidate",ur.candidate),oo;Il&&Il.addIceCandidate(ur).catch(jr=>{yl.warn(`Error while adding ICE candidate: ${JSON.stringify(ur)}: ${jr.toString()}`)});break;default:yl.debug(`processMessage: Received an unexpected message of type ${Wn} from ${Bn.fromAddress}: ${JSON.stringify(Bn)}`)}function Nr(){ls+=1,or.handleOfferMessageReceived(),ls>1&&(Do("Renegotiation","Attempt"),_s=!0)}return oo};const Ql=Wn=>{const Bn=(ur,Nr)=>ur.mid<Nr.mid?1:ur.mid>Nr.mid?-1:0;return Wn.sort(Bn)};oo.stopTransceivers=Wn=>{const Bn=_r.getTransceivers().filter(ur=>Wn.includes(ur.mid));Ql(Bn).forEach(ur=>ur.stop())},oo.remoteStreams=()=>_r?Wp():[],oo.remoteTracks=()=>_r?_r.getReceivers?Array.prototype.slice.apply(_r.getReceivers()).map(Wn=>Wn.track):Array.prototype.concat.apply([],Wp().map(Wn=>Wn.getTracks())):[],oo.remoteDescription=()=>_r.remoteDescription,oo.getStats=Wn=>{if(!_r){const Bn=Or.PEER_CONNECTION_NOT_CONNECTED;Wn(new yt(sr.getTitleByCode(Bn),cr.PEER_CONNECTION_NOT_CONNECTED,{code:Bn}));return}Pt(_r,Wn)},oo.getRtcStatsReport=Wn=>{if(!_r){const Bn=Or.PEER_CONNECTION_NOT_CONNECTED;Wn(new yt(sr.getTitleByCode(Bn),cr.PEER_CONNECTION_NOT_CONNECTED,{code:Bn}));return}cn(_r,Wn)},oo.getSynchronizationSources=Wn=>{if(!ho){if(!_r){const Bn=Or.PEER_CONNECTION_NOT_CONNECTED;Wn(new yt(sr.getTitleByCode(Bn),cr.PEER_CONNECTION_NOT_CONNECTED,{code:Bn}));return}Jt(_r,Wn)}};const Hp=function Wn(Bn,ur,Nr,jr){let Go;const Yo=_a.get(ur,Nr);if(!Yo){if(Bn>0){setTimeout(Wn.bind(null,Bn-1,ur,Nr,jr),200);return}Go=new yt(`A channel with that label and options could not be found. Label:${ur}. Options: ${JSON.stringify(Nr)}`)}jr(Go,Yo)};oo.getDataChannel=(Wn,Bn,ur)=>{if(!_r){ur(new yt("Cannot create a DataChannel before there is a connection."));return}Hp(100,Wn,Bn,ur)},oo.getSourceStreamId=()=>Jr,oo.iceConnectionStateIsConnected=()=>_r&&["connected","completed"].indexOf(_r.iceConnectionState)>-1,oo.findAndReplaceTrack=(Wn,Bn)=>nt.resolve().then(()=>{const ur=_r.getSenders().filter(Nr=>Nr.track===Wn)[0];if(!ur)return nt.resolve();if(typeof ur.replaceTrack!="function")throw new Error("Sender does not support replaceTrack");return ur.replaceTrack(Bn)}),oo.hasRelayCandidates=()=>Pr,oo.getNegotiatedCodecs=()=>{if(!_r.localDescription||!_r.remoteDescription)return null;const Wn=Bn=>dt(ht.getCodecs(_r.localDescription.sdp,Bn),ht.getCodecs(_r.remoteDescription.sdp,Bn));return{audio:Wn("audio"),video:Wn("video")}},oo.on("signalingStateStable",()=>{_s&&(_s=!1,Do("Renegotiation","Success",oo.getNegotiatedCodecs()))}),oo.on("error",Wn=>{let Bn=Wn.prefix;_s&&["CreateOffer","SetRemoteDescription"].indexOf(Bn)!==-1&&(_s=!1,Do("Renegotiation","Failure"))}),oo.on("close",()=>{_s&&(_s=!1,Do("Renegotiation","Cancel"))});const or=new Xn;return or.on("stats",Mu),oo}}}).call(this,et(0))},function(_e,tt,et){const nt=et(2),rt=()=>(nt.isChrome||nt.isElectron)&&nt.version>=90||nt.isOpera&&nt.version>=76;_e.exports=()=>!rt()&&(nt.isChrome&&nt.version>71||nt.isChromiumEdge&&nt.version<90||nt.isOpera&&nt.version>58)},function(_e,tt,et){function nt(rt,it,ot){ot===void 0&&(ot=1/0);let st=null,at=!1,ct=1;const lt=1e3/it,dt=()=>{!at||ct>ot||(ct+=1,rt(),st=setTimeout(dt,lt))};this.start=()=>{at||(at=!0,setTimeout(dt,lt))},this.stop=()=>{(typeof window!==void 0?window:commonjsGlobal).clearTimeout(st),at=!1}}_e.exports=nt},function(_e,tt,et){tt.__esModule=!0,tt.MEDIUM=tt.LOW=tt.CongestionLevels=tt.CRITICAL=void 0;const nt=2;tt.CRITICAL=nt;const rt=1;tt.MEDIUM=rt;const it=0;tt.LOW=it;const ot={CRITICAL:nt,MEDIUM:rt,LOW:it};tt.CongestionLevels=ot},function(_e,tt,et){const nt=et(47),rt=et(671),it=et(11),ot=et(157),st={};function at(pt){return Number(pt.framerateMean||pt.googFrameRateSent||pt.googFrameRateReceived||pt.googFrameRateInput||pt.googFrameRateOutput||0)}function ct(pt){return Number(pt.framesEncoded||pt.framesDecoded)}function lt(pt,yt){if(at(pt))return at(pt);if(!ct(pt))return;let Tt=0;const ht=st[pt.id]?st[pt.id].frames:0,gt=st[pt.id]?st[pt.id].timestamp:yt;return Tt=ot({currentStatFrames:ct(pt),currentTimestamp:pt.timestamp,prevStatFrames:ht,prevTimestamp:gt}),st[pt.id]={frames:ct(pt),timestamp:pt.timestamp},Tt}function dt(pt,yt){if(!yt)return{};const Tt=yt.filter(ht=>ht.id===pt.mediaTrackId);return Tt.length?Tt[0]:{}}function ut(pt,yt){return"packetsLost"in yt?pt+yt.packetsLost:pt}const ft={isVideoStat(pt,yt){const Tt=dt(pt,yt);return pt.kind==="video"&&["outbound-rtp","inbound-rtp"].includes(pt.type)||pt.mediaType==="video"||"googFrameWidthReceived"in pt||"googFrameWidthInput"in pt||pt.type==="inbound-rtp"&&pt.id.indexOf("Video")!==-1||pt.type==="inboundrtp"&&Tt.frameWidth!==0},isAudioStat(pt,yt){const Tt=dt(pt,yt);return pt.kind==="audio"&&["outbound-rtp","inbound-rtp"].includes(pt.type)||pt.mediaType==="audio"||"audioInputLevel"in pt||"audioOutputLevel"in pt||pt.type==="inbound-rtp"&&pt.id.indexOf("Audio")!==-1||pt.type==="inboundrtp"&&Tt.frameWidth===0},isInboundStat(pt){return"bytesReceived"in pt||"packetsReceived"in pt},isOutboundStat(pt){return"bytesSent"in pt||"packetsSent"in pt},isVideoTrackStat(pt){return pt.type==="track"&&(pt.frameHeight>0||pt.frameWidth>0||pt.framesCorrupted>0||pt.framesDecoded>0||pt.framesPerSecond>0||pt.framesSent>0||pt.framesReceived>0)},isVideoRemoteInboundRtpStat(pt){return pt.type==="remote-inbound-rtp"&&pt.kind==="video"},isAudioRemoteInboundRtpStat(pt){return pt.type==="remote-inbound-rtp"&&pt.kind==="audio"},isVideoInboundRtpStat(pt){return pt.type==="inbound-rtp"&&pt.kind==="video"},parseStatCategory(pt){const yt={packetsLost:0,packetsReceived:0,bytesReceived:0};return"packetsReceived"in pt&&(yt.packetsReceived=parseInt(pt.packetsReceived,10)),"packetsLost"in pt&&(yt.packetsLost=parseInt(pt.packetsLost,10)),"bytesReceived"in pt&&(yt.bytesReceived=parseInt(pt.bytesReceived,10)),this.isVideoStat(pt)&&("framerateMean"in pt?yt.frameRate=Number(pt.framerateMean):"googFrameRateOutput"in pt?yt.frameRate=Number(pt.googFrameRateOutput):"googFrameRateInput"in pt&&(yt.frameRate=Number(pt.googFrameRateInput))),yt},getVideoPacketsLost(pt){return pt.filter(yt=>this.isVideoRemoteInboundRtpStat(yt,pt)).reduce(ut,0)},getAudioPacketsLost(pt){return pt.filter(yt=>this.isAudioRemoteInboundRtpStat(yt,pt)).reduce(ut,0)},normalizeTimestamp(pt,yt){return yt===void 0&&(yt=Date.now()),it(pt)&&"getTime"in pt?pt.getTime():Math.abs(pt/(1e3*yt)-1)<.05?pt/1e3:pt},normalizeStats(pt,yt,Tt){yt===void 0&&(yt=!0);const ht=pt.filter(Pt=>ft.isVideoStat(Pt,pt)).filter(Pt=>ft.isInboundStat(Pt)===yt),gt=pt.filter(Pt=>this.isAudioStat(Pt,pt)).filter(Pt=>this.isInboundStat(Pt)===yt)[0],vt=ht[0];if(!gt&&!vt)throw new Error("could not find stats for either audio or video");const Ct=ft.normalizeTimestamp(vt?vt.timestamp:gt.timestamp),It={timestamp:Ct};vt&&!yt&&vt.packetsLost===void 0&&(vt.packetsLost=this.getVideoPacketsLost(pt)),gt&&!yt&&gt.packetsLost===void 0&&(gt.packetsLost=this.getAudioPacketsLost(pt));const Zt=["packetsSent","packetsLost","bytesSent"],Nt=yt?Pt=>nt(Pt,["packetsReceived","packetsLost","bytesReceived"]):Pt=>nt(Pt,Zt),Lt=Pt=>{const cn=["framerateMean","googFrameRateSent","googFrameRateReceived","googFrameRateInput","googFrameRateOutput","framesEncoded","framesDecoded"],Jt=Zt.concat(cn),Bt={timestamp:Ct,id:vt.id};return Jt.forEach(dn=>{Bt[dn]=Pt.map(vn=>Number(vn[dn]||0)).reduce((vn,Tn)=>vn+Tn,0)}),Bt};if(ht&&ht.length>0){const Pt=Lt(ht);It.video=Object.assign({frameRate:lt(Pt,Tt)},rt(Nt(Pt),Number))}return gt&&(It.audio=rt(Nt(gt),Number)),It}};_e.exports=ft},function(_e,tt,et){tt.__esModule=!0,tt.messages=tt.codes=void 0;const nt={1e3:"The connection successfully completed the purpose for which it was created.",1001:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.",1002:"The endpoint is terminating the connection due to a protocol error. (CLOSE_PROTOCOL_ERROR)",1003:"The connection is being terminated because the endpoint has indicated that reconnections are not available. (CLOSE_UNSUPPORTED)",1005:"Indicates that no status code was provided even though one was expected. (CLOSE_NO_STATUS)",1006:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected. (CLOSE_ABNORMAL)",1007:"Indicates that an endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [RFC3629] data within a text message)",1008:"Indicates that an endpoint is terminating the connection because it has received a message that violates its policy.  This is a generic status code that can be returned when there is no other more suitable status code (e.g., 1003 or 1009) or if there is a need to hide specific details about the policy",1009:"Indicates that an endpoint is terminating the connection because it has received a message that is too big for it to process (CLOSE_TOO_LARGE)",1011:"Indicates that a server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request",4001:"Connectivity loss was detected as it was too long since the socket received the last PONG message",4010:"Timed out while waiting for the Rumor socket to connect.",4020:"Error code unavailable.",4030:"Exception was thrown during Rumor connection, possibly because of a blocked port."};tt.messages=nt;const rt={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006,CLOSE_INCONSISTENT_DATA:1007,CLOSE_POLICY_VIOLATION:1008,CLOSE_TOO_LARGE:1009,CLOSE_UNEXPECTED_CONDITION:1011,CLOSE_CONNECTIVITY_LOSS:4001,CLOSE_TIMEOUT:4010,CLOSE_FALLBACK_CODE:4020,CLOSE_CONNECT_EXCEPTION:4030,ALREADY_CONNECTED_CONNECTING:null};tt.codes=rt},function(_e,tt,et){var nt=et(78),rt=et(113),it=et(83),ot=et(176),st=et(386),at=et(179),ct=et(54),lt=et(389),dt=et(391),ut=et(182),ft=et(184),pt=et(41),yt=et(394),Tt=et(395),ht=et(189),gt=et(12),vt=et(64),Ct=et(399),It=et(11),Zt=et(401),Mt=et(30),kt=et(53),Nt=1,Lt=2,Pt=4,cn="[object Arguments]",Jt="[object Array]",Bt="[object Boolean]",dn="[object Date]",vn="[object Error]",Tn="[object Function]",pn="[object GeneratorFunction]",In="[object Map]",Cn="[object Number]",yn="[object Object]",bn="[object RegExp]",Xn="[object Set]",Hn="[object String]",En="[object Symbol]",Zn="[object WeakMap]",Vn="[object ArrayBuffer]",rr="[object DataView]",gr="[object Float32Array]",cr="[object Float64Array]",sr="[object Int8Array]",Or="[object Int16Array]",Rr="[object Int32Array]",Yr="[object Uint8Array]",Fr="[object Uint8ClampedArray]",Qr="[object Uint16Array]",vo="[object Uint32Array]",Lr={};Lr[cn]=Lr[Jt]=Lr[Vn]=Lr[rr]=Lr[Bt]=Lr[dn]=Lr[gr]=Lr[cr]=Lr[sr]=Lr[Or]=Lr[Rr]=Lr[In]=Lr[Cn]=Lr[yn]=Lr[bn]=Lr[Xn]=Lr[Hn]=Lr[En]=Lr[Yr]=Lr[Fr]=Lr[Qr]=Lr[vo]=!0,Lr[vn]=Lr[Tn]=Lr[Zn]=!1;function Pr(qn,Yn,vr,Dr,ho,er){var Ir,Wr=Yn&Nt,mo=Yn&Lt,Jr=Yn&Pt;if(vr&&(Ir=ho?vr(qn,Dr,ho,er):vr(qn)),Ir!==void 0)return Ir;if(!It(qn))return qn;var To=gt(qn);if(To){if(Ir=yt(qn),!Wr)return ct(qn,Ir)}else{var wo=pt(qn),xo=wo==Tn||wo==pn;if(vt(qn))return at(qn,Wr);if(wo==yn||wo==cn||xo&&!ho){if(Ir=mo||xo?{}:ht(qn),!Wr)return mo?dt(qn,st(Ir,qn)):lt(qn,ot(Ir,qn))}else{if(!Lr[wo])return ho?qn:{};Ir=Tt(qn,wo,Wr)}}er||(er=new nt);var ro=er.get(qn);if(ro)return ro;er.set(qn,Ir),Zt(qn)?qn.forEach(function(Do){Ir.add(Pr(Do,Yn,vr,Do,qn,er))}):Ct(qn)&&qn.forEach(function(Do,so){Ir.set(so,Pr(Do,Yn,vr,so,qn,er))});var Ho=Jr?mo?ft:ut:mo?kt:Mt,Oo=To?void 0:Ho(qn);return rt(Oo||qn,function(Do,so){Oo&&(so=Do,Do=qn[so]),it(Ir,so,Pr(Do,Yn,vr,so,qn,er))}),Ir}_e.exports=Pr},function(_e,tt,et){var nt=et(79),rt=et(358),it=et(359),ot=et(360),st=et(361),at=et(362);function ct(lt){var dt=this.__data__=new nt(lt);this.size=dt.size}ct.prototype.clear=rt,ct.prototype.delete=it,ct.prototype.get=ot,ct.prototype.has=st,ct.prototype.set=at,_e.exports=ct},function(_e,tt,et){var nt=et(353),rt=et(354),it=et(355),ot=et(356),st=et(357);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt,et){var nt=et(52);function rt(it,ot){for(var st=it.length;st--;)if(nt(it[st][0],ot))return st;return-1}_e.exports=rt},function(_e,tt,et){var nt=et(38),rt=nt(Object,"create");_e.exports=rt},function(_e,tt,et){var nt=et(377);function rt(it,ot){var st=it.__data__;return nt(ot)?st[typeof ot=="string"?"string":"hash"]:st.map}_e.exports=rt},function(_e,tt,et){var nt=et(62),rt=et(52),it=Object.prototype,ot=it.hasOwnProperty;function st(at,ct,lt){var dt=at[ct];(!(ot.call(at,ct)&&rt(dt,lt))||lt===void 0&&!(ct in at))&&nt(at,ct,lt)}_e.exports=st},function(_e,tt){_e.exports=function(et){return et.webpackPolyfill||(et.deprecate=function(){},et.paths=[],et.children||(et.children=[]),Object.defineProperty(et,"loaded",{enumerable:!0,get:function(){return et.l}}),Object.defineProperty(et,"id",{enumerable:!0,get:function(){return et.i}}),et.webpackPolyfill=1),et}},function(_e,tt,et){var nt=et(384),rt=et(66),it=et(115),ot=it&&it.isTypedArray,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(11),rt=Object.create,it=function(){function ot(){}return function(st){if(!nt(st))return{};if(rt)return rt(st);ot.prototype=st;var at=new ot;return ot.prototype=void 0,at}}();_e.exports=it},function(_e,tt,et){var nt=et(88),rt=et(192),it=et(123);function ot(st,at){return it(rt(st,at,nt),st+"")}_e.exports=ot},function(_e,tt){function et(nt){return nt}_e.exports=et},function(_e,tt,et){var nt=Object.prototype.toString,rt=nt.call(function(){return arguments}());_e.exports=function(it){return nt.call(it)===rt}},function(_e,tt,et){var nt=Object.prototype.toString,rt=nt.call("");_e.exports=function(it){return typeof it=="string"||it&&typeof it=="object"&&(it instanceof String||nt.call(it)===rt)||!1}},function(_e,tt,et){_e.exports=et(426)()?globalThis:et(427)},function(_e,tt,et){var nt=et(112),rt=et(459),it=et(460);function ot(st){var at=-1,ct=st==null?0:st.length;for(this.__data__=new nt;++at<ct;)this.add(st[at])}ot.prototype.add=ot.prototype.push=rt,ot.prototype.has=it,_e.exports=ot},function(_e,tt,et){var nt=et(461);function rt(it,ot){var st=it==null?0:it.length;return!!st&&nt(it,ot,0)>-1}_e.exports=rt},function(_e,tt){function et(nt,rt){return nt.has(rt)}_e.exports=et},function(_e,tt,et){var nt=et(86),rt=et(11);function it(ot){return function(){var st=arguments;switch(st.length){case 0:return new ot;case 1:return new ot(st[0]);case 2:return new ot(st[0],st[1]);case 3:return new ot(st[0],st[1],st[2]);case 4:return new ot(st[0],st[1],st[2],st[3]);case 5:return new ot(st[0],st[1],st[2],st[3],st[4]);case 6:return new ot(st[0],st[1],st[2],st[3],st[4],st[5]);case 7:return new ot(st[0],st[1],st[2],st[3],st[4],st[5],st[6])}var at=nt(ot.prototype),ct=ot.apply(at,st);return rt(ct)?ct:at}}_e.exports=it},function(_e,tt,et){var nt=et(502);function rt(it){var ot=nt(it),st=ot%1;return ot===ot?st?ot-st:ot:0}_e.exports=rt},function(_e,tt){function et(nt){var rt=-1,it=Array(nt.size);return nt.forEach(function(ot){it[++rt]=ot}),it}_e.exports=et},function(_e,tt,et){var nt=et(58),rt=et(46);function it(ot,st){st=nt(st,ot);for(var at=0,ct=st.length;ot!=null&&at<ct;)ot=ot[rt(st[at++])];return at&&at==ct?ot:void 0}_e.exports=it},function(_e,tt,et){var nt=et(238),rt=et(30);function it(ot,st){return ot&&nt(ot,st,rt)}_e.exports=it},function(_e,tt,et){const nt=et(239),rt=ot=>ot.replace(/\/$/,""),it=(ot,st)=>{if(!st)return ot;const at=nt.parse(st),ct=nt.parse(ot);if(!at.protocol||!ct.protocol)return ot;const lt=at.protocol.match(/^https/),ut=(ct.protocol.match(/^ws/i)?"ws":"http")+(lt?"s":""),ft=rt(`${ut}://${at.host}${at.pathname}`),pt=rt(`${ct.host}${ct.pathname}${ct.search||""}`);return`${ft}/${pt}`};_e.exports={prependProxyToUrlIfNeeded:it}},function(_e,tt,et){const nt=et(21),rt=et(13),it=et(7),ot=et(10),st=et(22);let at;const ct={SET_PROXY_URL_TIMING_ERROR:"The proxyUrl was set after a session or publisher was created.",PROXY_URL_ALREADY_SET_ERROR:"The proxyUrl has already been set. Setting it again will not have any effect."};_e.exports={errorMessages:ct,setProxyUrl:lt=>{const dt=et(20),ut=et(70),ft=new dt,pt=nt.sessions.length()>0,yt=nt.publishers.length()>0;let Tt;if(pt){const gt=nt.sessions.find(vt=>vt.currentState==="connected");Tt=gt?gt.sessionId:nt.sessions.find().sessionId}else Tt="";const ht={sessionId:Tt,apiKey:ut.value};if(yt||pt){const gt=rt()(it.SET_PROXY_URL_TIMING_ERROR,new Error(ct.SET_PROXY_URL_TIMING_ERROR),ot.SET_PROXY_URL_TIMING_ERROR);st.handleJsException({error:gt,target:ht,analytics:ft})}else if(at){const gt=rt()(it.PROXY_URL_ALREADY_SET_ERROR,new Error(ct.PROXY_URL_ALREADY_SET_ERROR),ot.PROXY_URL_ALREADY_SET_ERROR);st.handleJsException({error:gt,target:ht,analytics:ft})}else at=lt},getProxyUrl:()=>at,clearProxyUrl:()=>{at=null}}},function(_e,tt,et){tt.adaptIceServers=function(rt){return rt.map(it=>({url:it.url,urls:it.urls||[it.url],username:it.username,credential:it.credential}))},tt.parseIceServers=function(rt){let it;try{it=JSON.parse(rt.data).content.iceServers}catch{return[]}return tt.adaptIceServers(it)}},function(_e,tt,et){const nt=et(2);_e.exports=()=>nt.name==="Chrome"&&nt.version>=58||["Firefox","Edge","Safari","Opera"].indexOf(nt.name)!==-1},function(_e,tt,et){_e.exports=function(rt){let it=null,ot=!1;const st=()=>{ot&&(rt(),it=window.requestAnimationFrame(st))};this.start=()=>{ot||(ot=!0,window.requestAnimationFrame(st))},this.stop=()=>{window.cancelAnimationFrame(it),ot=!1}}},function(_e,tt,et){const nt=et(9),rt=(it,ot,st)=>ot&&!st?()=>ot.call(it):ot&&st?at=>(at!==void 0&&st.call(it,at),ot.call(it)):at=>{at!==void 0&&st.call(it,at)};_e.exports=(it,ot)=>{const st={};Object.keys(ot).forEach(at=>{st[at]=rt(it,ot[at].get,ot[at].set)}),nt(it,st)}},function(_e,tt,et){let nt="";const rt=ot=>{nt=ot},it=()=>nt;_e.exports={getCurrentAudioOutputDeviceId:it,setCurrentAudioOutputDeviceId:rt}},function(_e,tt,et){(function(nt){_e.exports=function(it){return new nt(ot=>setTimeout(ot,it))}}).call(this,et(0))},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt={ACTIVE_VIDEO:0,ACTIVE_VIDEO_WITH_WARNING:1,SUSPENDED_VIDEO:2};tt.default=rt},function(_e,tt,et){const nt=et(294);function rt(it){let ot=it===void 0?{}:it,st=ot.NativeVideoElementWrapper;const ct=st===void 0?nt():st,lt=50;function dt(ut){let ft=ut===void 0?{}:ut,pt=ft.fallbackText,yt=pt===void 0?"Sorry, Web RTC is not available in your browser":pt,Tt=ft.fitMode,ht=ft.muted,gt=ft._inject,vt=ft.widgetType;return new ct({fallbackText:yt,fitMode:Tt,muted:ht,defaultAudioVolume:lt,_inject:gt,widgetType:vt})}return dt}_e.exports=rt},function(_e,tt,et){const nt=!!window.crypto,rt=!!window.RTCRtpSender.prototype.createEncodedStreams||!!window.RTCRtpSender.prototype.createdEncodedVideoStreams,it=!!window.Worker,ot=()=>nt&&rt&&it;_e.exports=function(st){st===void 0&&(st={});const at=st.hasOpenTokSupport||et(51).once,ct=st.isE2eeSupported||ot;return at()&&ct()}},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"Map");_e.exports=it},function(_e,tt,et){var nt=et(369),rt=et(376),it=et(378),ot=et(379),st=et(380);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length;++it<ot&&rt(nt[it],it,nt)!==!1;);return nt}_e.exports=et},function(_e,tt){var et=9007199254740991;function nt(rt){return typeof rt=="number"&&rt>-1&&rt%1==0&&rt<=et}_e.exports=nt},function(_e,tt,et){(function(nt){var rt=et(173),it=tt&&!tt.nodeType&&tt,ot=it&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,st=ot&&ot.exports===it,at=st&&rt.process,ct=function(){try{var lt=ot&&ot.require&&ot.require("util").types;return lt||at&&at.binding&&at.binding("util")}catch{}}();nt.exports=ct}).call(this,et(84)(_e))},function(_e,tt,et){var nt=et(67),rt=et(385),it=Object.prototype,ot=it.hasOwnProperty;function st(at){if(!nt(at))return rt(at);var ct=[];for(var lt in Object(at))ot.call(at,lt)&&lt!="constructor"&&ct.push(lt);return ct}_e.exports=st},function(_e,tt,et){var nt=et(390),rt=et(180),it=Object.prototype,ot=it.propertyIsEnumerable,st=Object.getOwnPropertySymbols,at=st?function(ct){return ct==null?[]:(ct=Object(ct),nt(st(ct),function(lt){return ot.call(ct,lt)}))}:rt;_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=rt.length,st=nt.length;++it<ot;)nt[st+it]=rt[it];return nt}_e.exports=et},function(_e,tt,et){var nt=et(178),rt=nt(Object.getPrototypeOf,Object);_e.exports=rt},function(_e,tt,et){var nt=et(187);function rt(it){var ot=new it.constructor(it.byteLength);return new nt(ot).set(new nt(it)),ot}_e.exports=rt},function(_e,tt,et){_e.exports={error:{priority:1,method:"error"},warn:{priority:2,method:"warn"},info:{priority:3,method:"info"},log:{priority:4,method:"log"},debug:{priority:5,method:"debug"},spam:{priority:6,method:"log"}}},function(_e,tt){function et(nt,rt,it){switch(it.length){case 0:return nt.call(rt);case 1:return nt.call(rt,it[0]);case 2:return nt.call(rt,it[0],it[1]);case 3:return nt.call(rt,it[0],it[1],it[2])}return nt.apply(rt,it)}_e.exports=et},function(_e,tt,et){var nt=et(406),rt=et(193),it=rt(nt);_e.exports=it},function(_e,tt,et){var nt=et(52),rt=et(25),it=et(65),ot=et(11);function st(at,ct,lt){if(!ot(lt))return!1;var dt=typeof ct;return(dt=="number"?rt(lt)&&it(ct,lt.length):dt=="string"&&ct in lt)?nt(lt[ct],at):!1}_e.exports=st},function(_e,tt,et){_e.exports=et(195)()?Object.setPrototypeOf:et(196)},function(_e,tt,et){var nt=et(55),rt={object:!0,function:!0,undefined:!0};_e.exports=function(it){return nt(it)?hasOwnProperty.call(rt,typeof it):!1}},function(_e,tt,et){_e.exports=et(417)()?Object.assign:et(418)},function(_e,tt,et){const nt=et(1)("Event"),rt=et(9),it=et(129);_e.exports=function(){function ot(at,ct,lt){ct===void 0&&(ct=!0),lt===void 0&&(lt={}),this.type=at,this.cancelable=ct,this._defaultPrevented=!1;const dt=it(Object.keys(this),Object.keys(lt));if(dt.length>0)throw new Error(`Cannot used reserved property names: ${dt.join(",")}`);rt(this,lt)}var st=ot.prototype;return st.preventDefault=function(){this.cancelable?this._defaultPrevented=!0:nt.warn("Event.preventDefault :: Trying to preventDefault on an event that isn't cancelable")},st.isDefaultPrevented=function(){return this._defaultPrevented},ot}()},function(_e,tt,et){var nt=et(33),rt=et(458),it=et(87),ot=et(464),st=it(function(at){var ct=nt(at,ot);return ct.length&&ct[0]===at[0]?rt(ct):[]});_e.exports=st},function(_e,tt){function et(nt,rt,it){for(var ot=-1,st=nt==null?0:nt.length;++ot<st;)if(it(rt,nt[ot]))return!0;return!1}_e.exports=et},function(_e,tt,et){var nt=et(25),rt=et(17);function it(ot){return rt(ot)&&nt(ot)}_e.exports=it},function(_e,tt,et){(function(nt){var rt=et(19),it=et(470),ot=et(209),st={"Content-Type":"application/x-www-form-urlencoded"};function at(ut,ft){!rt.isUndefined(ut)&&rt.isUndefined(ut["Content-Type"])&&(ut["Content-Type"]=ft)}function ct(){var ut;return(typeof XMLHttpRequest<"u"||typeof nt<"u"&&Object.prototype.toString.call(nt)==="[object process]")&&(ut=et(210)),ut}function lt(ut,ft,pt){if(rt.isString(ut))try{return(ft||JSON.parse)(ut),rt.trim(ut)}catch(yt){if(yt.name!=="SyntaxError")throw yt}return(pt||JSON.stringify)(ut)}var dt={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:ct(),transformRequest:[function(ft,pt){return it(pt,"Accept"),it(pt,"Content-Type"),rt.isFormData(ft)||rt.isArrayBuffer(ft)||rt.isBuffer(ft)||rt.isStream(ft)||rt.isFile(ft)||rt.isBlob(ft)?ft:rt.isArrayBufferView(ft)?ft.buffer:rt.isURLSearchParams(ft)?(at(pt,"application/x-www-form-urlencoded;charset=utf-8"),ft.toString()):rt.isObject(ft)||pt&&pt["Content-Type"]==="application/json"?(at(pt,"application/json"),lt(ft)):ft}],transformResponse:[function(ft){var pt=this.transitional,yt=pt&&pt.silentJSONParsing,Tt=pt&&pt.forcedJSONParsing,ht=!yt&&this.responseType==="json";if(ht||Tt&&rt.isString(ft)&&ft.length)try{return JSON.parse(ft)}catch(gt){if(ht)throw gt.name==="SyntaxError"?ot(gt,this,"E_JSON_PARSE"):gt}return ft}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(ft){return ft>=200&&ft<300}};dt.headers={common:{Accept:"application/json, text/plain, */*"}},rt.forEach(["delete","get","head"],function(ft){dt.headers[ft]={}}),rt.forEach(["post","put","patch"],function(ft){dt.headers[ft]=rt.merge(st)}),_e.exports=dt}).call(this,et(42))},function(_e,tt){_e.exports={}},function(_e,tt,et){var nt=et(216),rt=et(488),it=et(489),ot=et(218),st=et(500),at=et(222),ct=et(501),lt=et(225),dt=et(226),ut=et(96),ft="Expected a function",pt=1,yt=2,Tt=8,ht=16,gt=32,vt=64,Ct=Math.max;function It(Zt,Mt,kt,Nt,Lt,Pt,cn,Jt){var Bt=Mt&yt;if(!Bt&&typeof Zt!="function")throw new TypeError(ft);var dn=Nt?Nt.length:0;if(dn||(Mt&=~(gt|vt),Nt=Lt=void 0),cn=cn===void 0?cn:Ct(ut(cn),0),Jt=Jt===void 0?Jt:ut(Jt),dn-=Lt?Lt.length:0,Mt&vt){var vn=Nt,Tn=Lt;Nt=Lt=void 0}var pn=Bt?void 0:at(Zt),In=[Zt,Mt,kt,Nt,Lt,vn,Tn,Pt,cn,Jt];if(pn&&ct(In,pn),Zt=In[0],Mt=In[1],kt=In[2],Nt=In[3],Lt=In[4],Jt=In[9]=In[9]===void 0?Bt?0:Zt.length:Ct(In[9]-dn,0),!Jt&&Mt&(Tt|ht)&&(Mt&=~(Tt|ht)),!Mt||Mt==pt)var Cn=rt(Zt,Mt,kt);else Mt==Tt||Mt==ht?Cn=it(Zt,Mt,Jt):(Mt==gt||Mt==(pt|gt))&&!Lt.length?Cn=st(Zt,Mt,kt,Nt):Cn=ot.apply(void 0,In);var yn=pn?nt:lt;return dt(yn(Cn,In),Zt,Mt)}_e.exports=It},function(_e,tt,et){var nt=et(86),rt=et(136),it=4294967295;function ot(st){this.__wrapped__=st,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}ot.prototype=nt(rt.prototype),ot.prototype.constructor=ot,_e.exports=ot},function(_e,tt){function et(){}_e.exports=et},function(_e,tt){var et="__lodash_placeholder__";function nt(rt,it){for(var ot=-1,st=rt.length,at=0,ct=[];++ot<st;){var lt=rt[ot];(lt===it||lt===et)&&(rt[ot]=et,ct[at++]=ot)}return ct}_e.exports=nt},function(_e,tt,et){var nt=et(29),rt=et(119),it=et(17),ot="[object Object]",st=Function.prototype,at=Object.prototype,ct=st.toString,lt=at.hasOwnProperty,dt=ct.call(Object);function ut(ft){if(!it(ft)||nt(ft)!=ot)return!1;var pt=rt(ft);if(pt===null)return!0;var yt=lt.call(pt,"constructor")&&pt.constructor;return typeof yt=="function"&&yt instanceof yt&&ct.call(yt)==dt}_e.exports=ut},function(_e,tt,et){var nt=et(12),rt=et(69),it=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ot=/^\w*$/;function st(at,ct){if(nt(at))return!1;var lt=typeof at;return lt=="number"||lt=="symbol"||lt=="boolean"||at==null||rt(at)?!0:ot.test(at)||!it.test(at)||ct!=null&&at in Object(ct)}_e.exports=st},function(_e,tt,et){var nt=et(524),rt=et(192),it=et(123);function ot(st){return it(rt(st,void 0,nt),st+"")}_e.exports=ot},function(_e,tt,et){var nt=et(87),rt=et(52),it=et(124),ot=et(53),st=Object.prototype,at=st.hasOwnProperty,ct=nt(function(lt,dt){lt=Object(lt);var ut=-1,ft=dt.length,pt=ft>2?dt[2]:void 0;for(pt&&it(dt[0],dt[1],pt)&&(ft=1);++ut<ft;)for(var yt=dt[ut],Tt=ot(yt),ht=-1,gt=Tt.length;++ht<gt;){var vt=Tt[ht],Ct=lt[vt];(Ct===void 0||rt(Ct,st[vt])&&!at.call(lt,vt))&&(lt[vt]=yt[vt])}return lt});_e.exports=ct},function(_e,tt,et){var nt=et(3),rt=nt(et(45));const it=et(57),ot=et(56);let st=function(){function at(ct){ct===void 0&&(ct={}),Object.defineProperty(this,"_rawSessionInfo",{value:ot(ct)})}return(0,rt.default)(at,[{key:"sessionId",get:function(){return this._rawSessionInfo.session_id}},{key:"partnerId",get:function(){return this._rawSessionInfo.partner_id}},{key:"messagingServer",get:function(){return this._rawSessionInfo.messaging_server_url}},{key:"mediaServerName",get:function(){return this._rawSessionInfo.media_server_hostname}},{key:"messagingURL",get:function(){return this._rawSessionInfo.messaging_url}},{key:"symphonyAddress",get:function(){return this._rawSessionInfo.symphony_address}},{key:"iceServers",get:function(){return this._rawSessionInfo.ice_servers}},{key:"simulcast",get:function(){return it(this._rawSessionInfo,"properties.simulcast")}},{key:"e2ee",get:function(){return it(this._rawSessionInfo,"properties.e2ee",!1)}},{key:"reconnection",get:function(){return it(this._rawSessionInfo,"properties.reconnection",!1)}},{key:"renegotiation",get:function(){return it(this._rawSessionInfo,"properties.renegotiation",!1)}},{key:"p2pEnabled",get:function(){return it(this._rawSessionInfo,"properties.p2p.preference.value")==="enabled"}},{key:"hybridSession",get:function(){return it(this._rawSessionInfo,"properties.hybridSession",!1)}},{key:"isAdaptiveEnabled",get:function(){return it(this._rawSessionInfo,"properties.p2p.preference.value")==="adaptive"}},{key:"priorityVideoCodec",get:function(){return it(this._rawSessionInfo,"properties.priorityVideoCodec","")}},{key:"h264",get:function(){return it(this._rawSessionInfo,"properties.h264",!0)}},{key:"vp8",get:function(){return it(this._rawSessionInfo,"properties.vp8",!0)}},{key:"vp9",get:function(){return it(this._rawSessionInfo,"properties.vp9",!0)}},{key:"clientCandidates",get:function(){const lt=it(this._rawSessionInfo,"properties.clientCandidates");return lt==="relayed"?"relay":lt}}]),at}();_e.exports=st},function(module,exports,__webpack_require__){const extendES5Native=__webpack_require__(566),webrtcAdapter=__webpack_require__(567),logging=__webpack_require__(1)("createWindowMock"),env=__webpack_require__(2),windowKeys=[{key:"location",type:"object"},{key:"setTimeout",type:"function"},{key:"requestAnimationFrame",type:"function"},{key:"URL",type:"function"},{key:"MediaStream",type:"class"},{key:"webkitMediaStream",type:"class"},{key:"RTCIceCandidate",type:"class"},{key:"mozRTCIceCandidate",type:"class"},{key:"RTCSessionDescription",type:"class"},{key:"mozRTCSessionDescription",type:"class"},{key:"RTCIceGatherer",type:"class"},{key:"RTCIceTransport",type:"class"},{key:"RTCDtlsTransport",type:"class"},{key:"RTCSctpTransport",type:"class"},{key:"RTCRtpReceiver",type:"class"},{key:"HTMLMediaElement",type:"class"},{key:"RTCPeerConnection",type:"class"},{key:"webkitRTCPeerConnection",type:"class"},{key:"mozRTCPeerConnection",type:"class"},{key:"MediaStreamTrack",type:"class"},{key:"RTCRtpSender",type:"class"},{key:"RTCTrackEvent",type:"class"},{key:"RTCTransceiver",type:"class"},{key:"RTCDtmfSender",type:"class"},{key:"RTCDTMFSender",type:"class"},{key:"MediaStreamTrackEvent",type:"class"}],navigatorKeys=[{key:"userAgent",type:"string"},{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"webkitGetUserMedia",type:"function"},{key:"mozGetUserMedia",type:"function"}],mediaDevicesKeys=[{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"enumerateDevices",type:"function"},{key:"getSupportedConstraints",type:"function"},{key:"addEventListener",type:"function"},{key:"removeEventListener",type:"function"}],bindWithStaticProperties=(_e,tt)=>{if(typeof tt!="function")return logging.warn("Non-function passed into bindWithStaticProperties()"),tt;const et=tt.bind(_e);return Object.keys(tt).forEach(nt=>{et[nt]=tt[nt]}),et},extendParentClass=ParentClass=>{try{const ChildClass=eval(`
      "use strict"; // Chrome<49 requires strict mode

      const getOwnProperties = (target) => {
        const properties = {};
        Object.getOwnPropertyNames(target).forEach((key) => {
          properties[key] = Object.getOwnPropertyDescriptor(target, key);
        });
        return properties;
      };

      class ChildClass extends ParentClass {
        constructor(...args) {
          super(...args);
          try {
            this.__proto__ = ChildClass.prototype;
          } catch (e) {}
        }
      };

      Object.defineProperties(ChildClass.prototype, getOwnProperties(ParentClass.prototype));
      Object.keys(ParentClass)
        .forEach((staticKey) => {
          ChildClass[staticKey] = ParentClass[staticKey];
        });

      ChildClass; // Ensure the final statement is returned in FF
    `);if(ChildClass&&ChildClass.prototype instanceof ParentClass)return ChildClass}catch(_e){}return null},canUseES6Class=_e=>{const tt=_e.RTCPeerConnection||_e.webkitRTCPeerConnection||_e.mozRTCPeerConnection,et=extendParentClass(tt);if(et)try{et.prototype.foo="bar";const nt=new et({iceServers:[]}),rt=nt.foo==="bar";try{nt.close()}catch{}return rt}catch{}return!1},extendClass=(_e,tt,et)=>{if(typeof _e!="function")return logging.warn("Non-function passed into extendClass()"),_e;let nt=et&&extendParentClass(_e);return nt||(nt=extendES5Native(_e)),nt},getCopyProperties=_e=>(tt,et,nt)=>{nt.forEach(rt=>{let it=rt.key,ot=rt.type,st=et[it];if(st!==void 0){switch(ot){case"function":st=bindWithStaticProperties(et,st);break;case"class":st=extendClass(st,it,_e);break;case"string":case"object":break;default:throw new Error(`Invalid type of window key: ${ot}`)}tt[it]=st}})},cloneWindow=_e=>{const tt={},et=getCopyProperties(canUseES6Class(_e));return et(tt,_e,windowKeys),_e.navigator!==void 0&&(tt.navigator={},et(tt.navigator,_e.navigator,navigatorKeys),_e.navigator.mediaDevices!==void 0&&(tt.navigator.mediaDevices={},et(tt.navigator.mediaDevices,_e.navigator.mediaDevices,mediaDevicesKeys))),tt};module.exports=function _e(tt){if(tt.adapter!==void 0||env.isLegacyEdge)return tt;const et=cloneWindow(tt);return webrtcAdapter({window:et}),et}},function(_e,tt,et){_e.exports=function(){let rt=null;this.transform=it=>{rt===null||it>=rt?rt=it:rt=it*.3+rt*.7;const ot=Math.log(rt)/Math.LN10/1.5+1;return Math.min(Math.max(ot,0),1)}}},function(_e,tt,et){const nt=et(6),rt=ot=>Object.keys(ot).map(st=>ot[st]),it=et(9);_e.exports=function(st){const at={},ct=(lt,dt)=>{it(dt,{parent:this}),dt.appendTo(st.parent),at[lt]=dt,this[lt]=dt};st.parent&&(nt(this),this.destroy=()=>{this.off(),this.hideWhileLoading(),rt(at).forEach(lt=>lt.destroy())},this.showAfterLoading=()=>{rt(at).forEach(lt=>lt.showAfterLoading())},this.hideWhileLoading=()=>{rt(at).forEach(lt=>lt.hideWhileLoading())},this.set=(lt,dt)=>(typeof lt=="string"&&dt?ct(lt,dt):Object.keys(lt).forEach(ut=>{ct(ut,lt[ut])}),this))}},function(_e,tt,et){_e.exports=function(){function nt(it){this._analyser=null,this._timeDomainData=null,this._sourceNode=null,this._audioContext=it}var rt=nt.prototype;return rt._initAudioAnalyser=function(ot){this._analyser=this._audioContext.createAnalyser(),this._sourceNode=this._audioContext.createMediaStreamSource(ot),this._sourceNode.connect(this._analyser),this._timeDomainData=new Uint8Array(this._analyser.frequencyBinCount)},rt.webRTCStream=function(ot){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._audioContext.state==="suspended"&&this._audioContext.resume(),this._initAudioAnalyser(ot)},rt.destroy=function(){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._timeDomainData=null},rt.sample=function(ot){if(typeof ot=="function")throw new Error("sample no longer takes a callback");if(this._analyser&&this._timeDomainData){this._analyser.getByteTimeDomainData(this._timeDomainData);let st=0;for(let at=this._timeDomainData.length-1;at>=0;at-=1)st=Math.max(st,Math.abs(this._timeDomainData[at]-128));return st/128}return null},nt}()},function(_e,tt,et){const nt=et(578),rt=et(26),it=et(6),ot=et(23)();function st(){const at=this;it(at);function ct(){return nt.isDomLoaded()&&!nt.isDomUnloaded()}function lt(){ct()&&at.dispatchEvent(new ot.EnvLoadedEvent(rt.ENV_LOADED))}function dt(){nt.whenUnloaded.then(ut),lt()}function ut(){at.dispatchEvent(new ot.EnvLoadedEvent(rt.ENV_UNLOADED))}nt.whenLoaded.then(dt),this.onLoad=function(ft,pt){if(ct()){ft.call(pt);return}at.on(rt.ENV_LOADED,ft,pt)},this.onUnload=function(ft,pt){if(this.isUnloaded()){ft.call(pt);return}at.on(rt.ENV_UNLOADED,ft,pt)},this.isUnloaded=function(){return nt.isDomUnloaded()}}_e.exports=new st},function(_e,tt,et){var nt=et(583);/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function rt(Jt,Bt){if(Jt===Bt)return 0;for(var dn=Jt.length,vn=Bt.length,Tn=0,pn=Math.min(dn,vn);Tn<pn;++Tn)if(Jt[Tn]!==Bt[Tn]){dn=Jt[Tn],vn=Bt[Tn];break}return dn<vn?-1:vn<dn?1:0}function it(Jt){return(typeof window!==void 0?window:commonjsGlobal).Buffer&&typeof(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer=="function"?(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer(Jt):!!(Jt!=null&&Jt._isBuffer)}var ot=et(584),st=Object.prototype.hasOwnProperty,at=Array.prototype.slice,ct=function(){return function(){}.name==="foo"}();function lt(Jt){return Object.prototype.toString.call(Jt)}function dt(Jt){return it(Jt)||typeof(typeof window!==void 0?window:commonjsGlobal).ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(Jt):Jt?!!(Jt instanceof DataView||Jt.buffer&&Jt.buffer instanceof ArrayBuffer):!1}var ut=_e.exports=vt,ft=/\s*function\s+([^\(\s]*)\s*/;function pt(Jt){if(ot.isFunction(Jt)){if(ct)return Jt.name;var Bt=Jt.toString(),dn=Bt.match(ft);return dn&&dn[1]}}ut.AssertionError=function(Bt){this.name="AssertionError",this.actual=Bt.actual,this.expected=Bt.expected,this.operator=Bt.operator,Bt.message?(this.message=Bt.message,this.generatedMessage=!1):(this.message=ht(this),this.generatedMessage=!0);var dn=Bt.stackStartFunction||gt;if(Error.captureStackTrace)Error.captureStackTrace(this,dn);else{var vn=new Error;if(vn.stack){var Tn=vn.stack,pn=pt(dn),In=Tn.indexOf(`
`+pn);if(In>=0){var Cn=Tn.indexOf(`
`,In+1);Tn=Tn.substring(Cn+1)}this.stack=Tn}}},ot.inherits(ut.AssertionError,Error);function yt(Jt,Bt){return typeof Jt=="string"?Jt.length<Bt?Jt:Jt.slice(0,Bt):Jt}function Tt(Jt){if(ct||!ot.isFunction(Jt))return ot.inspect(Jt);var Bt=pt(Jt),dn=Bt?": "+Bt:"";return"[Function"+dn+"]"}function ht(Jt){return yt(Tt(Jt.actual),128)+" "+Jt.operator+" "+yt(Tt(Jt.expected),128)}function gt(Jt,Bt,dn,vn,Tn){throw new ut.AssertionError({message:dn,actual:Jt,expected:Bt,operator:vn,stackStartFunction:Tn})}ut.fail=gt;function vt(Jt,Bt){Jt||gt(Jt,!0,Bt,"==",ut.ok)}ut.ok=vt,ut.equal=function(Bt,dn,vn){Bt!=dn&&gt(Bt,dn,vn,"==",ut.equal)},ut.notEqual=function(Bt,dn,vn){Bt==dn&&gt(Bt,dn,vn,"!=",ut.notEqual)},ut.deepEqual=function(Bt,dn,vn){Ct(Bt,dn,!1)||gt(Bt,dn,vn,"deepEqual",ut.deepEqual)},ut.deepStrictEqual=function(Bt,dn,vn){Ct(Bt,dn,!0)||gt(Bt,dn,vn,"deepStrictEqual",ut.deepStrictEqual)};function Ct(Jt,Bt,dn,vn){if(Jt===Bt)return!0;if(it(Jt)&&it(Bt))return rt(Jt,Bt)===0;if(ot.isDate(Jt)&&ot.isDate(Bt))return Jt.getTime()===Bt.getTime();if(ot.isRegExp(Jt)&&ot.isRegExp(Bt))return Jt.source===Bt.source&&Jt.global===Bt.global&&Jt.multiline===Bt.multiline&&Jt.lastIndex===Bt.lastIndex&&Jt.ignoreCase===Bt.ignoreCase;if((Jt===null||typeof Jt!="object")&&(Bt===null||typeof Bt!="object"))return dn?Jt===Bt:Jt==Bt;if(dt(Jt)&&dt(Bt)&&lt(Jt)===lt(Bt)&&!(Jt instanceof Float32Array||Jt instanceof Float64Array))return rt(new Uint8Array(Jt.buffer),new Uint8Array(Bt.buffer))===0;if(it(Jt)!==it(Bt))return!1;vn=vn||{actual:[],expected:[]};var Tn=vn.actual.indexOf(Jt);return Tn!==-1&&Tn===vn.expected.indexOf(Bt)?!0:(vn.actual.push(Jt),vn.expected.push(Bt),Zt(Jt,Bt,dn,vn))}function It(Jt){return Object.prototype.toString.call(Jt)=="[object Arguments]"}function Zt(Jt,Bt,dn,vn){if(Jt==null||Bt===null||Bt===void 0)return!1;if(ot.isPrimitive(Jt)||ot.isPrimitive(Bt))return Jt===Bt;if(dn&&Object.getPrototypeOf(Jt)!==Object.getPrototypeOf(Bt))return!1;var Tn=It(Jt),pn=It(Bt);if(Tn&&!pn||!Tn&&pn)return!1;if(Tn)return Jt=at.call(Jt),Bt=at.call(Bt),Ct(Jt,Bt,dn);var In=cn(Jt),Cn=cn(Bt),yn,bn;if(In.length!==Cn.length)return!1;for(In.sort(),Cn.sort(),bn=In.length-1;bn>=0;bn--)if(In[bn]!==Cn[bn])return!1;for(bn=In.length-1;bn>=0;bn--)if(yn=In[bn],!Ct(Jt[yn],Bt[yn],dn,vn))return!1;return!0}ut.notDeepEqual=function(Bt,dn,vn){Ct(Bt,dn,!1)&&gt(Bt,dn,vn,"notDeepEqual",ut.notDeepEqual)},ut.notDeepStrictEqual=Mt;function Mt(Jt,Bt,dn){Ct(Jt,Bt,!0)&&gt(Jt,Bt,dn,"notDeepStrictEqual",Mt)}ut.strictEqual=function(Bt,dn,vn){Bt!==dn&&gt(Bt,dn,vn,"===",ut.strictEqual)},ut.notStrictEqual=function(Bt,dn,vn){Bt===dn&&gt(Bt,dn,vn,"!==",ut.notStrictEqual)};function kt(Jt,Bt){if(!Jt||!Bt)return!1;if(Object.prototype.toString.call(Bt)=="[object RegExp]")return Bt.test(Jt);try{if(Jt instanceof Bt)return!0}catch{}return Error.isPrototypeOf(Bt)?!1:Bt.call({},Jt)===!0}function Nt(Jt){var Bt;try{Jt()}catch(dn){Bt=dn}return Bt}function Lt(Jt,Bt,dn,vn){var Tn;if(typeof Bt!="function")throw new TypeError('"block" argument must be a function');typeof dn=="string"&&(vn=dn,dn=null),Tn=Nt(Bt),vn=(dn&&dn.name?" ("+dn.name+").":".")+(vn?" "+vn:"."),Jt&&!Tn&&gt(Tn,dn,"Missing expected exception"+vn);var pn=typeof vn=="string",In=!Jt&&ot.isError(Tn),Cn=!Jt&&Tn&&!dn;if((In&&pn&&kt(Tn,dn)||Cn)&&gt(Tn,dn,"Got unwanted exception"+vn),Jt&&Tn&&dn&&!kt(Tn,dn)||!Jt&&Tn)throw Tn}ut.throws=function(Jt,Bt,dn){Lt(!0,Jt,Bt,dn)},ut.doesNotThrow=function(Jt,Bt,dn){Lt(!1,Jt,Bt,dn)},ut.ifError=function(Jt){if(Jt)throw Jt};function Pt(Jt,Bt){Jt||gt(Jt,!0,Bt,"==",Pt)}ut.strict=nt(Pt,ut,{equal:ut.strictEqual,deepEqual:ut.deepStrictEqual,notEqual:ut.notStrictEqual,notDeepEqual:ut.notDeepStrictEqual}),ut.strict.strict=ut.strict;var cn=Object.keys||function(Jt){var Bt=[];for(var dn in Jt)st.call(Jt,dn)&&Bt.push(dn);return Bt}},function(_e,tt,et){const nt=et(591),rt=et(264),it=et(2);_e.exports=ot=>it.isElectron?ot==="screen"?!0:rt(ot):nt.indexOf(ot)>-1},function(_e,tt,et){const nt=et(267),rt=et(6),it=et(1)("StreamChannel"),ot=et(151)();_e.exports=function(at){this.id=at.id,this.type=at.type,this.active=nt(at.active),this.orientation=at.orientation||ot.ROTATED_NORMAL,at.frameRate&&(this.frameRate=parseFloat(at.frameRate)),at.preferredFrameRate&&(this.preferredFrameRate=parseFloat(at.preferredFrameRate)),at.preferredWidth&&(this.preferredWidth=parseInt(at.preferredWidth,10)),at.preferredHeight&&(this.preferredHeight=parseInt(at.preferredHeight,10)),this.width=parseInt(at.width,10),this.height=parseInt(at.height,10),this.source=at.source||"camera",this.fitMode=at.fitMode||"cover",rt(this),this.update=function(ct){const lt={},dt={};for(const ut in ct){if(!ct.hasOwnProperty(ut))continue;const ft=this[ut];switch(ut){case"active":this.active=nt(ct[ut]);break;case"disableWarning":this.disableWarning=nt(ct[ut]);break;case"frameRate":this.frameRate=parseFloat(ct[ut],10);break;case"width":case"height":this[ut]=parseInt(ct[ut],10),lt[ut]=this[ut],dt[ut]=ft;break;case"orientation":this[ut]=ct[ut],lt[ut]=this[ut],dt[ut]=ft;break;case"fitMode":this[ut]=ct[ut];break;case"source":this[ut]=ct[ut];break;default:return it.warn(`Tried to update unknown key ${ut} on ${this.type} channel ${this.id}`),!1}this.trigger("update",this,ut,ft,this[ut])}return Object.keys(lt).length&&this.trigger("update",this,"videoDimensions",dt,lt),!0}}},function(_e,tt,et){_e.exports=function(){return{ROTATED_NORMAL:0,ROTATED_LEFT:270,ROTATED_RIGHT:90,ROTATED_UPSIDE_DOWN:180}}},function(_e,tt,et){const nt=et(599),rt=et(1)("StylableComponent"),it=et(600),ot=et(268);_e.exports=function(at,ct,lt,dt){if(!at.trigger)throw new Error("OT.StylableComponent is dependent on the eventing mixin. Ensure that this is included in the object before StylableComponent.");dt=dt||function(){};let ut=!1;const ft=function(Tt,ht,gt){gt?at.trigger("styleValueChanged",Tt,ht,gt):at.trigger("styleValueChanged",Tt,ht)};lt===!1&&(ct={buttonDisplayMode:"off",nameDisplayMode:"off",audioLevelDisplayMode:"off",videoDisabledDisplayMode:"off",audioBlockedDisplayMode:"off"},ut=!0,dt({showControls:!1}));const pt=new it(ct,ft);at.getStyle=function(yt){return pt.get(yt)},at.setStyle=function(yt,Tt,ht){if(ut)return rt.warn("Calling setStyle() has no effect because theshowControls option was set to false"),this;let gt;return typeof yt!="string"?gt=yt:(gt={},gt[yt]=Tt),gt.backgroundImageURI&&(gt.backgroundImageURI=nt(gt.backgroundImageURI)),pt.setAll(gt,ht),dt(ot(gt)),this}}},function(_e,tt,et){const nt=et(50),rt=et(34)(),it=et(20),ot=et(70),st=et(147),at=et(51).once,ct=et(603),lt=et(8),dt=et(1)("systemRequirements"),ut=et(604),ft=et(605),pt=rt.onlyLocal(),yt=new it,Tt=nt(()=>{yt.logEvent({action:"checkSystemRequirements",variation:"notHasRequirements",partnerId:ot.value,payload:{userAgent:lt.env.userAgent}})}),ht=nt(()=>{et(606)()});let gt=!1;_e.exports={check(){dt.debug("OT.checkSystemRequirements()");const vt=Number(ct&&at());return ht(),vt||Tt(),vt},upgrade(vt){let Ct=vt===void 0?{}:vt,It=Ct.isSupportedButOld,Zt=It===void 0?lt.env.name.toLowerCase()in pt.minimumVersion:It,Mt=Ct.userAgent,kt=Mt===void 0?navigator.userAgent:Mt;st.onLoad(()=>{if(gt)return;const Nt=new ft(ut);gt=!0,Nt.on("close",()=>{gt=!1}),Nt.open();let Lt;kt.match(/(iPad|iPhone|iPod|android|webOS)/i)?Lt=`${Zt?"supported-":""}mobile-browser`:Lt=`${Zt?"upgrade":"normal"}-install`,Nt.el(`#section-${Lt}`).style.display="block"})}}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(48)),ot=rt(et(607));const st=et(611);let at=function(ct){(0,it.default)(lt,ct);function lt(dt){var ut;return ut=ct.call(this,dt)||this,ut.name="TimeoutError",ut}return lt}((0,ot.default)(Error));_e.exports=(ct,lt,dt)=>new nt((ut,ft)=>{if(typeof lt!="number"||lt<0)throw new TypeError("Expected `ms` to be a positive number");const pt=setTimeout(()=>{if(typeof dt=="function"){try{ut(dt())}catch(ht){ft(ht)}return}const yt=typeof dt=="string"?dt:`Promise timed out after ${lt} milliseconds`,Tt=dt instanceof Error?dt:new at(yt);typeof ct.cancel=="function"&&ct.cancel(),ft(Tt)},lt);st(ct.then(ut,ft),()=>{clearTimeout(pt)})}),_e.exports.TimeoutError=at}).call(this,et(0))},function(_e,tt,et){function nt(){const rt=[];return{add(it){rt.push(it)},remove(it){const ot=rt.indexOf(it);ot>=0&&rt.splice(ot,1)},releaseAll(){const it=[];for(;rt.length>0;){const st=rt.pop();try{st()}catch(at){it.push(at)}}const ot=it.length;if(ot>0)throw new Error(`Failed to complete ${ot} cleanup job${ot===1?"":"s"}: ${it.map(st=>`<${st}>`).join(", ")}`)}}}_e.exports=nt},function(_e,tt,et){const nt=et(1)("applySdpTransform");_e.exports=(rt,it,ot,st,at)=>{const ct=rt[it][ot],lt=`${it} ${ot}`,ut=`sdpTransforms (${lt==="local offer"||lt==="remote answer"?"publisher":"subscriber"}): ${it} ${ot}`,ft=it==="local"?"created":"received";nt.debug(`${ut}: ${ft}:
${at}`);const pt=ct(st,at);return pt.local===at?nt.debug(`${ut}: not modified`):nt.debug(`${ut}: modified to:
${pt.local}`),pt}},function(_e,tt,et){const nt=function(it){if(it===void 0&&(it={}),!it)return 0;const ot=it,st=ot.currentStatFrames,at=st===void 0?0:st,ct=ot.prevStatFrames,lt=ct===void 0?0:ct,dt=ot.currentTimestamp,ut=dt===void 0?0:dt,ft=ot.prevTimestamp,pt=ft===void 0?0:ft;if(at>=lt&&ut>pt){const yt=(at-lt)/((ut-pt)/1e3);return Math.round(yt*100)/100}return 0};_e.exports=nt},function(_e,tt,et){let nt;_e.exports=function(it){it===void 0&&(it={});const ot=it.AudioContext||(typeof window!==void 0?window:commonjsGlobal).AudioContext||(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext;return function(){if(nt=nt||ot&&new ot,nt==null)throw new Error("AudioContext could not be created, hardware limit reached.");return nt}}},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(57)),ot=typeof(0,rt.default)(typeof window!==void 0?window:commonjsGlobal,"navigator.getDisplayMedia",(0,rt.default)(typeof window!==void 0?window:commonjsGlobal,"navigator.mediaDevices.getDisplayMedia"))=="function";tt.default=ot},function(_e,tt,et){const nt=et(37);_e.exports=function(){return function(ot,st,at){const ct=st.slice(),lt=nt(at),dt=function(pt){return ct.indexOf(pt)!==-1},ut=function(pt,yt){return lt[pt]&&lt[pt].indexOf(yt)!==-1};return function(ft){let pt=ot,yt=null;this.current=pt;function Tt(gt,vt){ft({message:gt,newState:vt,currentState:pt,previousState:yt})}function ht(gt){return dt(gt)?ut(pt,gt)?!0:(Tt(`'${pt}' cannot transition to '${gt}'`,gt),!1):(Tt(`'${gt}' is not a valid state`,gt),!1)}this.set=function(gt){ht(gt)&&(yt=pt,this.current=gt,pt=gt)}}}}},function(_e,tt,et){(function(nt){const rt=et(60);_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.chromeExtensionHelper||et(280)(),at=ot.electronExtensionHelper||et(649)(),ct=ot.Errors||et(7),lt=ot.firefoxExtensionHelper||et(651),dt=ot.getDisplayMediaExtensionHelper||et(288),ut=ot.otError||et(13)(),ft=ot.OTHelpers||et(8),pt={};pt.extensionByKind={},pt.extensionClasses={},pt.registerExtensionHelper=(ht,gt)=>{pt.extensionClasses[ht]=gt,gt.autoRegisters&&gt.isSupportedInThisBrowser&&pt.registerExtension(ht)},pt.registerExtension=function(ht){if(pt.extensionClasses[ht]==null)throw new Error("Unsupported kind passed to OT.registerScreenSharingExtension");for(var gt=arguments.length,vt=new Array(gt>1?gt-1:0),Ct=1;Ct<gt;Ct++)vt[Ct-1]=arguments[Ct];const It=pt.extensionClasses[ht].register(...vt);pt.extensionByKind[ht]=It};const yt=()=>{const ht=rt(Object.keys(pt.extensionClasses).sort(gt=>gt==="electron"?-1:1),gt=>pt.extensionClasses[gt].isSupportedInThisBrowser);return ht===void 0?{}:{name:ht,proto:pt.extensionClasses[ht],instance:pt.extensionByKind[ht]}};pt.pickHelper=()=>yt(),pt.checkCapability=ht=>{const gt={supported:!1,extensionRequired:void 0,extensionRegistered:void 0,extensionInstalled:void 0,supportedSources:{}},vt=yt();if(vt.name===void 0){setTimeout(ht.bind(null,gt));return}if(gt.supported=!0,gt.extensionRequired=vt.proto.extensionRequired?vt.name:void 0,gt.supportedSources={screen:vt.proto.sources.screen,application:vt.proto.sources.application,window:vt.proto.sources.window,browser:vt.proto.sources.browser},!vt.instance){gt.extensionRegistered=!1,gt.extensionRequired&&(gt.extensionInstalled=!1),setTimeout(ht.bind(null,gt));return}gt.extensionRegistered=gt.extensionRequired?!0:void 0,vt.instance.isInstalled(Ct=>{gt.extensionInstalled=gt.extensionRequired||ft.env.name==="Firefox"?Ct:void 0,ht(gt)})},pt.registerExtensionHelper("electron",at),pt.registerExtensionHelper("getDisplayMedia",dt),pt.registerExtensionHelper("chrome",st),pt.registerExtensionHelper("firefox",lt);const Tt=()=>{};return pt.getConstraints=ht=>{const gt=ht.onAccessDialogOpened,vt=gt===void 0?Tt:gt,Ct=ht.onAccessDialogClosed,It=Ct===void 0?Tt:Ct,Zt=ht.videoSource,Mt=ht.constraints;return new nt((kt,Nt)=>{pt.checkCapability(Lt=>{if(Lt.supported)if(Lt.extensionRegistered===!1)Nt(ut(ct.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,new Error("Screen Sharing support in this browser requires an extension, but one has not been registered.")));else if(Lt.extensionRequired&&Lt.extensionInstalled===!1)Nt(ut(ct.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Screen Sharing support in this browser requires an extension, but the extension is not installed.")));else{const Pt=pt.pickHelper();Pt.proto.getConstraintsShowsPermissionUI&&vt(),Pt.instance.getConstraints(Zt,Mt,(cn,Jt)=>{Pt.proto.getConstraintsShowsPermissionUI&&It(),cn?Nt(cn):kt(Jt)})}else{let Pt="Screen Sharing is not supported in this browser";ft.env.isElectron?Pt="Set the webPreferences.contextIsolation option of the Electron BrowserWindow to false or use a preload script to access the desktop capturer. For more information, see https://tokbox.com/developer/guides/screen-sharing/js/.":ft.env.name==="Chrome"&&ft.env.version>73&&(typeof window!==void 0?window:commonjsGlobal).location.protocol!=="https:"&&(Pt="https:// is required for screen sharing"),Nt(ut(ct.SCREEN_SHARING_NOT_SUPPORTED,new Error(Pt)))}})})},pt}}).call(this,et(0))},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.ExceptionCodes||et(10),st=rt.otError||et(13)(),at={ICEWorkflow:it.ICE_WORKFLOW_FAILED,NewPeerConnection:it.CREATE_PEER_CONNECTION_FAILED,SetRemoteDescription:it.SET_REMOTE_DESCRIPTION_FAILED,Subscribe:{404:it.STREAM_NOT_FOUND,[ot.STREAM_LIMIT_EXCEEDED]:it.STREAM_LIMIT_EXCEEDED}};return function(lt,dt,ut,ft,pt){const yt=`${(ut?`${ut}: `:"")+pt} PeerConnection with connection ${ft} failed: ${dt}`,Tt=at[ut]||{},ht=typeof Tt=="string"?Tt:Tt[lt],gt=pt==="Publisher"?ot.UNABLE_TO_PUBLISH:ot.UNABLE_TO_SUBSCRIBE;if(!ht){const Ct=new Error(yt);return Ct.code=gt,Ct}const vt=(()=>ut==="ICEWorkflow"?pt==="Publisher"?ot.PUBLISHER_ICE_WORKFLOW_FAILED:ot.SUBSCRIBER_ICE_WORKFLOW_FAILED:ht===it.STREAM_LIMIT_EXCEEDED?ot.STREAM_LIMIT_EXCEEDED:gt)();return st(ht,new Error(yt),vt)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.OTHelpers||et(8),st=(rt.global||(typeof window!==void 0?window:commonjsGlobal)).RTCPeerConnection;return function(ct,lt){it.env.name==="Firefox"&&st&&st.generateCertificate?st.generateCertificate({name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])}).catch(dt=>{lt(dt)}).then(dt=>{ct.certificates=[dt],lt(void 0,ct)}):setTimeout(()=>{lt(void 0,ct)})}}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(45));const st=et(6),at=et(676),ct=et(1)("WidgetView"),lt=et(8),dt=et(2),ut=et(165),ft=ut.default,pt=ut.CancellationError,yt=et(166),Tt=et(678),ht=et(679),gt=et(680),vt=et(681),Ct=et(682),It=et(61),Zt=et(683),Mt=et(109);Mt();function kt(Nt){let Lt=Nt===void 0?{}:Nt,Pt=Lt.logging,cn=Pt===void 0?ct:Pt,Jt=Lt.OTHelpers,Bt=Jt===void 0?lt:Jt,dn=Lt.waitForVideoToBePlaying,vn=dn===void 0?ht:dn,Tn=Lt.VideoElementFacade,pn=Tn===void 0?Mt():Tn,In=Lt.env,Cn=In===void 0?dt:In;const yn=at({window:typeof window!==void 0?window:commonjsGlobal}),bn=Hn=>{if(Hn.isCanceled())throw cn.debug("bindVideo bailing due to cancellation"),new pt("CANCEL")};return function(){function Hn(Zn,Vn){let rr=Vn===void 0?{}:Vn,gr=rr.insertDefaultUI,cr=gr===void 0?!0:gr,sr=rr.width,Or=sr===void 0?264:sr,Rr=rr.height,Yr=Rr===void 0?198:Rr,Fr=rr.fitMode,Qr=Fr===void 0?"cover":Fr,vo=rr.mirror,Lr=vo===void 0?!1:vo,Pr=rr.insertMode,qn=rr.classNames,Yn=rr.style,vr=rr.widgetType,Dr=rr.initials;this._videoElementFacade=void 0,this._container=void 0,this._posterContainer=document.createElement("div"),this._widgetContainer=document.createElement("div"),this._loading=!0,this._audioOnly=!1,this._showPoster=void 0,this._poster=void 0,this._cancelBind=void 0,this.MAX_VIDEO_LOADED=5*1e3,st(this),/^(contain|cover)$/.test(Qr)===!1&&cn.warn(`Invalid fit value "${Qr}" passed. Only "contain" and "cover" can be used.`),this._widgetType=vr,this._fitMode=Qr,this._insertDefaultUI=cr;const ho=It(this._widgetContainer);if(ho.on("click",this.userGesture.bind(this)),ho.on("touchstart",this.userGesture.bind(this),yn?{passive:!0}:!1),this.once("destroy",()=>ho.removeAll()),this._widgetContainer.classList.add("OT_widget-container"),this._widgetContainer.style.width="100%",this._widgetContainer.style.height="100%",cr!==!1){this._container=vt(Zn,Pr),Cn.isSafari&&Cn.isiOS&&Cn.iOSVersion&&Cn.iOSVersion<11.2&&this._container.classList.add("OT_ForceContain"),this._container.style.width=Ct(Or),this._container.style.height=Ct(Yr),this._container.style.overflow="hidden",gt(this._container),Lr&&Bt.addClass(this._container,"OT_mirrored"),qn&&qn.trim().split(/\s+/).forEach(wo=>this._container.classList.add(wo)),this._container.classList.add("OT_loading"),this._container.classList.add(`OT_fit-mode-${Qr}`),this._container.appendChild(this._widgetContainer);const mo=Bt(this._container).observeSize(()=>gt(this._container)),Jr=mo[0],To=Bt.observeNodeOrChildNodeRemoval(this._container,wo=>{if(!this._videoElementFacade)return;wo.some(ro=>ro===this._widgetContainer||ro===this._videoElementFacade.domElement())&&this.destroyVideo()});this.once("destroy",()=>{cn.debug("disconnecting observers"),Jr.disconnect(),To.disconnect()})}this._posterContainer.classList.add("OT_video-poster"),this._widgetContainer.appendChild(this._posterContainer);const er=document.createElement("div");er.classList.add("OT_video-loading");const Ir=document.createElement("div");Ir.classList.add("OT_video-loading-spinner"),er.appendChild(Ir),this._widgetContainer.appendChild(er),Yn&&Yn.backgroundImageURI?this.setBackgroundImageURI(Yn.backgroundImageURI):Dr&&this.setInitials(Dr)}var En=Hn.prototype;return En.addError=function(Vn,rr,gr){this._container&&(this._container.innerHTML=`<p>${Vn}${rr?` <span class="ot-help-message">${rr}</span>`:""}</p>`,Bt.addClass(this._container,gr||"OT_subscriber_error"),this._container.querySelector("p").offsetHeight>this._container.offsetHeight&&(this._container.querySelector("span").style.display="none"))},En.destroy=function(){this.emit("destroy"),this.destroyVideo(),this._container&&(Bt.removeElement(this._container),this._container=null)},En.setBackgroundImageURI=function(Vn){Bt.css(this._posterContainer,"backgroundImage",`url(${Vn})`),Bt.css(this._posterContainer,"backgroundSize","contain"),Bt.css(this._posterContainer,"opacity","1.0")},En.setInitials=function(Vn){const rr=Zt(Vn),gr=new XMLSerializer().serializeToString(rr);Bt.css(this._posterContainer,"backgroundImage",`url('data:image/svg+xml,${gr}')`),Bt.css(this._posterContainer,"backgroundSize","auto 55%"),Bt.css(this._posterContainer,"opacity","1.0")},En.isAudioBlocked=function(){return!!(this._videoElementFacade&&this._videoElementFacade.isAudioBlocked())},En.unblockAudio=function(){return this._videoElementFacade.unblockAudio()},En.userGesture=function(){this.isAudioBlocked()&&yt().then(()=>cn.debug("Successfully unblocked audio"),Vn=>cn.error("Error retrying audio on user interaction:",Vn))},En.setAudioBlockedUi=function(Vn){this._container&&(Vn?this._container.classList.add("OT_container-audio-blocked"):this._container.classList.remove("OT_container-audio-blocked"))},En.rebindSrcObject=function(){this._videoElementFacade&&this._videoElementFacade._rebindSrcObject()},En.pauseAndPlayVideoElement=function(){this._videoElementFacade&&this._videoElementFacade._pauseAndPlay()},En._createBufferVideoElement=function(){var Zn=(0,it.default)(rt.default.mark(function rr(gr,cr){var sr,Or,Rr;return rt.default.wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:return cr===void 0&&(cr={}),sr=cr.createElement?cr:document,Or=!1,Rr=sr.createElement("video"),Rr.srcObject=gr,Fr.prev=5,Rr.play(),Fr.next=9,vn(Rr,this.MAX_VIDEO_LOADED);case 9:return Or=Fr.sent,Fr.abrupt("return",Or?Rr:null);case 13:return Fr.prev=13,Fr.t0=Fr.catch(5),Fr.abrupt("return",null);case 16:case"end":return Fr.stop()}},rr,this,[[5,13]])}));function Vn(rr,gr){return Zn.apply(this,arguments)}return Vn}(),En._emitAMREvent=function(Vn,rr,gr){this.emit("amrLogEvent",Vn,rr,gr)},En._createVideoElementFacade=function(Vn){let rr=Vn._inject,gr=Vn.audioVolume,cr=Vn.fallbackText,sr=Vn.muted;this._videoElementFacade=new pn({defaultAudioVolume:parseFloat(gr),fallbackText:cr,fitMode:this._fitMode,_inject:rr,muted:sr,widgetType:this._widgetType});const Or=It(this._videoElementFacade);if(this._videoFacadeEvents=Or,Or.on("error",()=>{this.trigger("error")}),Or.on("videoDimensionsChanged",(Rr,Yr)=>{this.trigger("videoDimensionsChanged",Rr,Yr)}),Or.on("mediaStopped",Rr=>{this.trigger("mediaStopped",Rr)}),Or.on("audioBlocked",()=>this.trigger("audioBlocked")),Or.on("audioUnblocked",()=>this.trigger("audioUnblocked")),this._videoElementFacade.audioChannelType("telephony"),cn.debug("Appending the video facade"),this._videoElementFacade.appendTo(this._widgetContainer),typeof gr<"u")try{this._videoElementFacade.setAudioVolume(gr)}catch(Rr){cn.warn(`bindVideo ${Rr}`)}},En._bindToStream=function(){var Zn=(0,it.default)(rt.default.mark(function rr(gr,cr){return rt.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:return Or.prev=0,Or.next=3,this._videoElementFacade.bindToStream(gr);case 3:Or.next=14;break;case 5:if(Or.prev=5,Or.t0=Or.catch(0),!cr.isCanceled()){Or.next=12;break}throw cn.debug("Refusing to destroyVideo as bindVideo was cancelled"),new pt("CANCEL");case 12:throw this.destroyVideo(),Or.t0;case 14:case"end":return Or.stop()}},rr,this,[[0,5]])}));function Vn(rr,gr){return Zn.apply(this,arguments)}return Vn}(),En._getNewBindCancellation=function(){this._cancelBind&&(cn.debug("Cancelling last bindVideo request"),this._cancelBind.cancel());const Vn=new ft;return this._cancelBind=Vn,this.once("destroy",()=>Vn.cancel()),Vn},En._triggerVideoElementCreated=function(){const Vn=rr=>{this.trigger("videoElementCreated",rr),this._insertDefaultUI&&Bt.addClass(rr,"OT_video-element")};this._videoElementFacade.domElement()?Vn(this._videoElementFacade.domElement()):this._videoFacadeEvents.on("videoElementCreated",rr=>{Vn(rr)})},En._waitForVideoResolution=function(){var Zn=(0,it.default)(rt.default.mark(function rr(gr){return rt.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:if(!(!this.audioOnly()&&gr.getVideoTracks().length>0)){sr.next=5;break}return cn.debug("Waiting for correct resolution"),sr.next=4,Tt(this._videoElementFacade,5e3);case 4:cn.debug(`Resolution: ${this._videoElementFacade.videoWidth()}x${this._videoElementFacade.videoHeight()}`);case 5:case"end":return sr.stop()}},rr,this)}));function Vn(rr){return Zn.apply(this,arguments)}return Vn}(),En.bindVideo=function(){var Zn=(0,it.default)(rt.default.mark(function rr(gr,cr,sr){var Or,Rr,Yr,Fr,Qr,vo,Lr,Pr;return rt.default.wrap(function(Yn){for(;;)switch(Yn.prev=Yn.next){case 0:if(Or=cr.audioVolume,Rr=cr.muted,Yr=cr.fallbackText,Fr=cr._inject,sr===void 0&&(sr=!1),cn.debug("bindVideo ",{webRTCStream:gr}),Qr=!!this._videoElementFacade,Lr=this._getNewBindCancellation(),Qr){Yn.next=9;break}this._createVideoElementFacade({_inject:Fr,audioVolume:Or,fallbackText:Yr,muted:Rr}),Yn.next=22;break;case 9:if(!(gr instanceof MediaStream)){Yn.next=22;break}return this._emitAMREvent("AMRLoadVideoBuffer","Attempt"),Yn.next=13,this._createBufferVideoElement(gr);case 13:if(vo=Yn.sent,vo){Yn.next=20;break}if(this._emitAMREvent("AMRLoadVideoBuffer","Failure"),!sr){Yn.next=18;break}throw new Error("bufferFailed: videoBuffer failed to load or timeout");case 18:Yn.next=21;break;case 20:this._emitAMREvent("AMRLoadVideoBuffer","Success");case 21:this._videoFacadeEvents.on("amrLogEvent",(vr,Dr,ho)=>{this._emitAMREvent(vr,Dr,ho)});case 22:return Yn.next=24,this._bindToStream(gr,Lr);case 24:return Qr||this._triggerVideoElementCreated(),bn(Lr),Pr=vn(this._videoElementFacade,5e3),Yn.next=29,this._waitForVideoResolution(gr);case 29:return cn.debug("Waiting for video to be playing"),Yn.next=32,Pr;case 32:cn.debug("Video is playing"),bn(Lr),vo&&(vo.remove&&vo.remove(),vo=null);case 35:case"end":return Yn.stop()}},rr,this)}));function Vn(rr,gr,cr){return Zn.apply(this,arguments)}return Vn}(),En.bindAudioTrackOnly=function(){this._videoElementFacade&&this._videoElementFacade.bindAudioTrackOnly()},En.destroyVideo=function(){this._videoElementFacade&&(this._videoElementFacade.destroy(),this._videoElementFacade=null)},En.video=function(){return this._videoElementFacade},En.showPoster=function(Vn){return Vn===void 0?!Bt.isDisplayNone(this._posterContainer):(this._showPoster=Vn,Bt[Vn?"show":"hide"](this._posterContainer),this.showPoster())},En.poster=function(Vn){return Vn===void 0?Bt.css(this._posterContainer,"backgroundImage"):(this._poster=Vn,Bt.css(this._posterContainer,"backgroundImage",`url(${Vn})`),this.poster())},En.loading=function(Vn){return Vn===void 0?this._loading:(this._loading=!!Vn,this._container&&this._container.classList[Vn?"add":"remove"]("OT_loading"),this.loading())},En.audioOnly=function(Vn){return Vn===void 0?this._audioOnly:(this._audioOnly=Vn,this._container&&this._container.classList[Vn?"add":"remove"]("OT_audio-only"),this.audioOnly())},En.domId=function(){return this._container&&this._container.getAttribute("id")},En.setSinkId=function(Vn){if(this._videoElementFacade)return this._videoElementFacade.setSinkId(Vn)},(0,ot.default)(Hn,[{key:"domElement",get:function(){return this._container}},{key:"videoElement",get:function(){return this._videoElementFacade&&this._videoElementFacade.domElement()||void 0}},{key:"width",get:function(){return this.videoElement&&this.videoElement.offsetWidth}},{key:"height",get:function(){return this.videoElement&&this.videoElement.offsetHeight}}]),Hn}()}_e.exports=kt},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0}),tt.CancellationError=tt.default=void 0;var nt=et(677),rt=st(nt),it=et(303),ot=st(it);function st(at){return at&&at.__esModule?at:{default:at}}tt.default=rt.default,tt.CancellationError=ot.default},function(_e,tt,et){(function(nt){const rt=et(21);_e.exports=()=>nt.all(rt.subscribers.where().map(it=>{if(it.isAudioBlocked())return it._.unblockAudio()}))}).call(this,et(0))},function(_e,tt,et){_e.exports=nt=>nt==="P2P"?"RELAYED":"ROUTED"},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5)),st=rt(et(696)),at=rt(et(697)),ct=rt(et(108)),lt=et(74),dt=rt(et(698));const ut=et(57),ft=et(148),pt=et(9),yt=et(56),Tt=et(60),ht=et(275),gt=et(47),vt=et(50),Ct=et(700),It=et(15),Zt=et(258),Mt=et(194),kt=et(165),Nt=kt.CancellationError,Lt=kt.default,Pt=et(2),cn=et(313),Jt=et(314),Bt=et(75),dn=et(26),vn=et(6),Tn=et(107),pn=et(128),In=et(20),Cn=et(73),yn=et(155),bn=et(710),Xn=et(164)(),Hn=et(711),En=et(712),Zn=et(166),Vn=et(24)(),rr=Vn.getInputMediaDevices,gr=et(713),cr=et(269),sr=et(311),Or=et(714),Rr=et(715),Yr=et(291),Fr=Yr.setVideoContentHint,Qr=Yr.getVideoContentHint,vo=et(167),Lr=et(312),Pr=5*1e3,qn=3*1e3,Yn=30*1e3;_e.exports=function(Dr){Dr===void 0&&(Dr={});let ho=Dr,er=(0,at.default)({},((0,st.default)(ho),ho));["processPubOptions"].forEach(yu=>{ft(er[yu],`${yu} dependency must be injected into Publisher`)});const Ir=er.AnalyticsHelper||In,Wr=er.createAudioFallbackCoordinator||dt.default,mo=er.calculateCapableSimulcastStreams||et(251),Jr=er.createChromeMixin||et(281)(),To=er.deviceHelpers||et(24)(),wo=er.EnvironmentLoader||et(147),xo=er.Errors||et(7),ro=er.Events||et(23)(),Ho=er.ExceptionCodes||et(10),Oo=er.interpretPeerConnectionError||et(162)(),Do=er.IntervalRunner||Cn,so=er.logging||et(1)("Publisher"),Nu=er.Microphone||et(292)(),_o=er.otError||et(13)(),ko=er.OTErrorClass||et(22),ls=er.OTHelpers||et(8),_s=er.parseIceServers||et(102).parseIceServers,cu=er.PUBLISH_MAX_DELAY||et(266),Ns=er.PublisherPeerConnection||et(296)(),Rl=er.PublishingState||et(302)(),Pu=er.StreamChannel||et(150),Hu=er.systemRequirements||et(153),qp=er.VideoOrientation||et(151)(),ip=er.WidgetView||Xn,op=er.global||(typeof window!==void 0?window:commonjsGlobal),oo=er.createSendMethod||et(309),yl=er.setEncodersActiveState||cn,vu=er.MediaProcessor||et(716),Ys=et(721),Ll=er.shouldLogMediaProcessorEvents||et(722),_r=et(315),_a=er.processPubOptions;return function(bu){var us=this;bu===void 0&&(bu={});let Yl=vn({});const ds=new Mt,_u=new Lr;let Sp=!1;const Il=Pn=>ds.get(Pn),dp=(Pn,An)=>ds.set(Pn,An);vn(this);const sp=yn();let Cl=new Ir;Hu.check()||Hu.upgrade();let ts,lu,Ro;const fp={};let Mu,Wp,ws,Gp,om,Fp,Op,em,pp,Su,Yu=!1,Ql,Hp,or,Wn,Bn;const ur={},Nr={};let jr;const Go=5e3;let Yo=!1,Ws,ps;const Es=()=>this.session||ps||{isConnected(){return!1}},Ds=[],_c=new vu;this.once("publishComplete",Pn=>{if(!Pn){var An;Yu=!0,Ql=(An=this.session)!=null&&An.sessionInfo.p2pEnabled?"P2P":"MANTIS"}}),this.on("sourceStreamIdChanged",Pn=>{Ql=Pn,_u.finishTransitionTo(Ql)}),this.on("audioAcquisitionProblem",Pn=>{let An=Pn.method;jo("publisher:audioAcquisitionProblem","Event",{didPublishComplete:Yu,method:An})});function Dp(){return{connectionId:Es().isConnected()?Es().connection.connectionId:null,streamId:lu,widgetType:"Publisher"}}const zs=Pn=>{const An=Object.keys(xo).map(xn=>xo[xn]),Dn=_o(An.indexOf(Pn.name)>-1?Pn.name:xo.MEDIA_ERR_ABORTED,Pn,Ho.UNABLE_TO_PUBLISH);so.error(`onStreamAvailableError ${Dn.name}: ${Dn.message}`),ws.set("Failed"),ts&&(ts.destroy(),ts=null);const qt={failureReason:"GetUserMedia",failureCode:Ho.UNABLE_TO_PUBLISH,failureMessage:`OT.Publisher failed to access camera/mic: ${Dn.message}`};ap("Failure",{},qt),ko.handleJsException({error:Dn,errorMsg:qt.failureReason,code:qt.failureCode,target:this,analytics:Cl}),this.trigger("publishComplete",Dn)},zl=Pn=>{const An=yt(Pn);An.code=Ho.UNABLE_TO_PUBLISH,so.error(`OT.Publisher.onScreenSharingError ${An.message}`),ws.set("Failed"),An.message=`Screensharing: ${An.message}`,this.trigger("publishComplete",An),ap("Failure",{},{failureReason:"ScreenSharing",failureMessage:An.message}),ts&&(ts.destroy(),ts=null)},qs=Pn=>{const An=yt(Pn);let Dn;try{Dn=window.self!==window.top}catch{}(typeof window!==void 0?window:commonjsGlobal).location.protocol!=="https:"&&($l?An.message+=" Note: https:// is required for screen sharing.":cr()&&ls.env.hostName!=="localhost"&&(An.message+=` Note: ${ls.env.name} requires HTTPS for camera and microphone access.`)),Dn&&!$l&&(An.message+=" Note: Check that the iframe has the allow attribute for camera and microphone"),so.error(An.message),ws.set("Failed"),An.message=`OT.Publisher Access Denied: Permission Denied: ${An.message}`,An.code=Ho.UNABLE_TO_PUBLISH,ts&&(ts.destroy(),ts=null),ap("Cancel",{reason:"AccessDenied"}),this.trigger("publishComplete",An),this.dispatchEvent(new pn(dn.ACCESS_DENIED))},uu=Pn=>{throw Pn instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(Pn))||(Pn=new Error("Unknown error has occurred. Stream is not available.")),Pn.name===xo.USER_MEDIA_ACCESS_DENIED||Pn.name===xo.NOT_SUPPORTED&&Pn.originalMessage.match(/Only secure origins/)?qs(Pn):_a.isScreenSharing?zl(Pn):zs(Pn),Pn},Lp=()=>{jo("accessDialog","Opened"),this.dispatchEvent(new pn(dn.ACCESS_DIALOG_OPENED,!0))},hp=()=>{jo("accessDialog","Closed"),this.dispatchEvent(new pn(dn.ACCESS_DIALOG_CLOSED,!1))},lm=It(),Sl={};let qu=!1,mp={},jp=!1,Ou=_a(bu,"OT.Publisher",()=>ws&&ws.isDestroyed());Ou.on({accessDialogOpened:Lp,accessDialogClosed:hp});const Ep=Ou,$l=Ep.isScreenSharing,So=Ep.isCustomAudioTrack,cs=Ep.isCustomVideoTrack,Cp=Ep.shouldAllowAudio,lo=Ep.properties,sm=Ep.getUserMedia;Object.defineProperty(this,"loudness",{writable:!1,value:void 0,configurable:!0});function xa(Pn){Pn.forEach(An=>An())}const Tp=(Pn,An,Dn)=>Pn.addEventListener?(Pn.addEventListener(An,Dn),()=>Pn.removeEventListener(An,Dn)):()=>{};(function(){const An=[];Yl.on("streamDestroy",()=>xa(An)),Yl.on("streamChange",()=>{xa(An);const Dn=Ro.getAudioTracks().map(qt=>Tp(qt,"ended",()=>{jp=!0,this.trigger("audioAcquisitionProblem",{method:"trackEndedEvent"})}));An.splice(0,An.length,...Dn)})}).call(this),function(){const An=[];Yl.on("streamDestroy",()=>xa(An)),Yl.on("streamChange",()=>{xa(An),Xp()||Ro.getTracks().forEach(Dn=>{Dn.addEventListener&&(An.push(Tp(Dn,"mute",()=>{js()})),An.push(Tp(Dn,"unmute",()=>{js()})))})})}();const Xp=()=>{if($l)return!0;const An=["text","detail"].includes(lo.videoContentHint);return cs&&An},jo=bu.logAnalyticsEvent||((Pn,An,Dn,qt,xn)=>{let On=pt({action:Pn,variation:An,payload:Dn},Dp(),qt);An==="Failure"&&(On=pt(mp,On)),mp=gt(On,"sessionId","connectionId","partnerId"),Cl.logEvent(On,xn)}),Yp=()=>{if(!Ll(this.session)){_c.disableLogging();return}const An=this.session.apiKey;_c.enableLogging(An)},ap=function(An,Dn,qt){Dn===void 0&&(Dn={}),qt===void 0&&(qt={}),qt.failureReason!=="Non-fatal"&&(An==="Attempt"&&(om=new Date().getTime(),Ws&&(Ws.stop(),so.error("_connectivityAttemptPinger should have been cleaned up")),Ws=new Do(()=>{jo("Publish","Attempting",Dn,Object.assign({},Dp(),qt))},1/5,6)),An==="Failure"||An==="Success"||An==="Cancel"?(Ws?(Ws.stop(),Ws=void 0):so.warn(`Received connectivity event: "${An}" without "Attempt"`),jo("Publish",An,Object.assign({videoInputDevices:Op,audioInputDevices:Fp,videoInputDeviceCount:Op?Op.length:void 0,audioInputDeviceCount:Fp?Fp.length:void 0,selectedVideoInputDeviceId:em,selectedAudioInputDeviceId:pp},Dn),Object.assign({attemptDuration:new Date().getTime()-om},qt))):jo("Publish",An,Dn,qt))},um=(Pn,An)=>{jo("ICERestart",Pn,An)},mm=(Pn,An,Dn)=>{An==="Attempt"?(ur[Pn]=new Date().getTime(),jo(Pn,An,Dn)):(An==="Failure"||An==="Success")&&jo(Pn,An,Dn,{attemptDuration:new Date().getTime()-ur[Pn]})},Up=function(An,Dn){Dn===void 0&&(Dn={}),mm("RoutedToRelayedTransition",An,Dn)},tm=function(An,Dn){Dn===void 0&&(Dn={}),mm("RelayedToRoutedTransition",An,Dn)},dm=vt(()=>{jo("GetStats","Called")}),hs=vt(()=>{jo("GetRtcStatsReport","Called")}),No=Pn=>{let An=Pn.parsedStats,Dn=Pn.simulcastEnabled,qt=Pn.remoteConnectionId,xn=Pn.peerId,On=Pn.sourceStreamId;const $n={peerId:xn,widgetType:"Publisher",connectionId:this.session&&this.session.isConnected()?this.session.connection.connectionId:null,streamId:lu,width:ts.width,height:ts.height,audioTrack:Ro&&Ro.getAudioTracks().length>0,hasAudio:Np(),publishAudio:lo.publishAudio,videoTrack:Ro&&Ro.getVideoTracks().length>0,hasVideo:gm(),publishVideo:lo.publishVideo,audioSource:So?"Custom":void 0,duration:Mu?Math.round((new Date().getTime()-Mu.getTime())/1e3):0,remoteConnectionId:qt,scalableVideo:Dn,sourceStreamId:vo(On)};let Qn=$l&&cs&&"Screen"||$l&&bu.videoSource||cs&&"Custom"||lo.constraints.video&&"Camera"||null;ht(Qn)&&(Qn=Ct(Qn)),$n.videoSource=Qn;const hr={videoWidth:this.videoWidth(),videoHeight:this.videoHeight()},yr=pt({},$n,An,hr);Cl.logQOS(yr),this.trigger("qos",yr)},Sm=()=>{var Pn,An;let Dn=((Pn=lo.videoDimensions)==null?void 0:Pn.width)||640,qt=((An=lo.videoDimensions)==null?void 0:An.height)||480;if(lo.publishVideo){var xn;const On=(xn=ts)==null?void 0:xn.video();Dn=(On==null?void 0:On.videoWidth())||Dn,qt=(On==null?void 0:On.videoHeight())||qt}return{width:Dn,height:qt}},Om=Pn=>{so.error("OT.Publisher State Change Failed: ",Pn.message),so.debug(Pn)},Em=()=>{if(ws.isDestroyed()){ts&&ts.destroyVideo();return}so.debug("OT.Publisher.onLoaded; resolution:",`${this.videoWidth()}x${this.videoHeight()}`),ws.set("MediaBound"),Zn().catch(so.error),ts.loading(this.session?!this.stream:!1),qu=!0},Vp=Pn=>{const An=_o(xo.CONNECT_FAILED,Pn,Ho.P2P_CONNECTION_FAILED);An.message=`OT.Publisher PeerConnection Error: ${An.message}`,ap("Failure",{},{failureReason:"PeerConnectionError",failureCode:An.code,failureMessage:An.message}),ws.set("Failed"),this.trigger("publishComplete",An),ko.handleJsException({error:An,target:this,analytics:Cl})},_d=()=>{Ro&&(Yl.emit("streamDestroy"),op.MediaStreamTrack&&op.MediaStreamTrack.prototype.stop?Ro.getTracks().forEach(Pn=>Pn.stop()):Ro.stop())},zn=()=>{const Pn=Pt.isiOS&&Pt.iOSVersion>=15&&Pt.iOSVersion<15.2,An=Ro.getVideoTracks()[0];if(!Pn||!An)return;const Dn=()=>{!document.hidden&&ts&&ts.rebindSrcObject()};document.addEventListener("visibilitychange",Dn)},sn=()=>{const Pn=Pt.isiOS&&Pt.iOSVersion>=13.3,An=Ro.getAudioTracks()[0];Pn&&An&&(An.onmute=()=>Km(An),An.onunmute=()=>Jm(An))},jn=function(){var Pn=(0,ot.default)(it.default.mark(function An(){var Dn;return it.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:if(Dn={muted:!0},ts){xn.next=3;break}throw new Error("Cannot bind video after widget view has been destroyed");case 3:return xn.abrupt("return",ts.bindVideo(Ro,Dn));case 4:case"end":return xn.stop()}},An)}));return function(){return Pn.apply(this,arguments)}}(),dr=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt;return it.default.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:if(so.debug("OT.Publisher.onStreamAvailable"),ws.set("BindingMedia"),lo.videoContentHint!==void 0&&Fr(Dn,lo.videoContentHint),_d(),Ro=Dn,!lo.videoFilter){On.next=14;break}return On.prev=6,On.next=9,us.applyVideoFilter(lo.videoFilter);case 9:On.next=14;break;case 11:On.prev=11,On.t0=On.catch(6),so.error(`Error applying video filter: ${On.t0}`);case 14:Yl.emit("streamChange"),sn(),zn(),qt=($n,Qn)=>{let hr;return $n.forEach(yr=>{if(yr.deviceId)hr=yr.deviceId.toString();else if(yr.label&&Qn){const pr=Tt(Qn,$o=>$o.label===yr.label);pr&&(hr=pr.deviceId)}}),hr},em=qt(Ro.getVideoTracks(),Op),pp=qt(Ro.getAudioTracks(),Fp),Wp=new Nu(Ro,!lo.publishAudio),Dm(),Lm(),us.accessAllowed=!0,us.dispatchEvent(new pn(dn.ACCESS_ALLOWED,!1));case 25:case"end":return On.stop()}},An,null,[[6,11]])}));return function(Dn){return Pn.apply(this,arguments)}}(),fr=Pn=>{so.error("OT.Publisher.onPublishingTimeout");let An,Dn;jp?(An=xo.CHROME_MICROPHONE_ACQUISITION_ERROR,Dn="Unable to publish because your browser failed to get access to your microphone. You may need to fully quit and restart your browser to get it to work. See https://bugs.chromium.org/p/webrtc/issues/detail?id=4799 for more details."):(An=xo.TIMEOUT,Dn="Could not publish in a reasonable amount of time");const qt={failureReason:"ICEWorkflow",failureCode:Ho.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to publish in a reasonable amount of time (timeout)"};ap("Failure",{},qt),ko.handleJsException({errorMsg:qt.failureReason,code:qt.failureCode,target:this,analytics:Cl}),Pn.isConnected()&&this.streamId&&Pn._.streamDestroy(this.streamId),this.disconnect(),this.session=null,ws.isDestroyed()||ws.set("MediaBound"),this.trigger("publishComplete",_o(An,new Error(Dn),Ho.UNABLE_TO_PUBLISH))},co=Pn=>{const An=_o(xo.MEDIA_ERR_DECODE,Pn,Ho.UNABLE_TO_PUBLISH);An.message=`OT.Publisher while playing stream: ${An.message}`,so.error("OT.Publisher.onVideoError:",An),jo("stream",null,{reason:An.message});const Dn=ws.isAttemptingToPublish();ws.set("Failed"),Dn?this.trigger("publishComplete",An):this.trigger("error",An.message),ko.handleJsException({error:An,target:this,analytics:Cl})};this._setWebRTCStream=Pn=>{Ro=Pn},this._setCurrentVideoFilter=Pn=>{$u=Pn},this._getCurrentVideoFilter=()=>$u,this._getMediaProcessor=()=>_c,this._removePeerConnection=Pn=>{var An;if(!Pn)return;const Dn=Il(Pn),qt=Dn.peerConnectionId;delete Sl[qt],Pn.destroy(),(An=Vm)==null||An.onPeerConnectionDisconnected()},this._removeSubscriber=Pn=>{this.session.sessionInfo.isAdaptiveEnabled&&Ql==="P2P"&&this._.startRelayedToRoutedTransition(),Gu(Pn).then(Dn=>{Dn.forEach(qt=>this._removePeerConnection(qt))})};const uo=Pn=>{const An=Il(Pn),Dn=An.remoteSubscriberId,qt=An.peerConnectionId;so.debug("Subscriber has been disconnected from the Publisher's PeerConnection"),jo("disconnect","PeerConnection",{subscriberConnection:qt}),this._removeSubscriber(Dn)},Eo=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn,qt){var xn,On,$n,Qn,hr,yr,pr,$o,fo,_i,$s;return it.default.wrap(function(Lo){for(;;)switch(Lo.prev=Lo.next){case 0:if(xn=qt.reason,On=qt.prefix,$n=us.session&&us.session.sessionInfo,!(On==="ICEWorkflow"&&$n&&$n.reconnection&&qu)){Lo.next=5;break}return so.debug("Ignoring peer connection failure due to possibility of reconnection."),Lo.abrupt("return");case 5:return Qn=Il(Dn)||{},hr=Qn.remoteConnectionId,yr=hr===void 0?"(not found)":hr,pr=Qn.peerConnectionId,$o=Oo(void 0,xn,On,yr,"Publisher"),fo={hasRelayCandidates:Dn&&Dn.hasRelayCandidates()},_i={failureReason:On||"PeerConnectionError",failureCode:$o.code,failureMessage:$o.message},ws.isPublishing()?_i.reason="Non-fatal":us.trigger("publishComplete",$o),ap("Failure",fo,_i),ko.handleJsException({errorMsg:`OT.Publisher PeerConnection Error: ${xn}`,code:$o.code,target:us,analytics:Cl}),Lo.next=14,Sl[pr];case 14:$s=Lo.sent,$s.destroy(),delete Sl[pr];case 17:case"end":return Lo.stop()}},An)}));return function(Dn,qt){return Pn.apply(this,arguments)}}(),bo=Pn=>this.session.sessionInfo.isAdaptiveEnabled&&Pn.getSourceStreamId()==="P2P",Eu=Pn=>{const An=Il(Pn),Dn=An.remoteConnectionId;um("Success",{remoteConnectionId:Dn})},Xo=Pn=>{const An=Il(Pn),Dn=An.remoteConnectionId;um("Failure",{reason:"ICEWorkflow",message:"OT.Publisher PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",remoteConnectionId:Dn})},Ul=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn,qt){var xn,On,$n,Qn,hr,yr,pr;return it.default.wrap(function(fo){for(;;)switch(fo.prev=fo.next){case 0:if(xn=us.session.sessionInfo.isAdaptiveEnabled,On=qt.getSourceStreamId(),Nr[On]=Dn,Dn==="disconnected"&&setTimeout(()=>{const _i=us.session._.isSocketReconnecting,Cu=us.session._.getSocket().is("connected")&&!_i();if(Nr[On]==="disconnected"&&Cu){const Lo=Il(qt),eu=Lo.remoteConnectionId;um("Attempt",{remoteConnectionId:eu}),qt.iceRestart()}},2e3),Dn!=="connected"){fo.next=14;break}if(clearTimeout(jr),!xn){fo.next=14;break}return fo.next=9,fm();case 9:return $n=fo.sent.iceConnectionStateIsConnected(),fo.next=12,nm();case 12:Qn=fo.sent.iceConnectionStateIsConnected(),$n&&Qn&&vm();case 14:if(Dn!=="failed"){fo.next=21;break}if(hr=us.session._.isSocketReconnecting,yr=us.session._.getSocket(),pr=yr.is("connected")&&!hr(),pr){fo.next=20;break}return fo.abrupt("return");case 20:xn&&On===Ql&&On==="P2P"?us._.startRelayedToRoutedTransition():jr=setTimeout(()=>{us.session._.streamDestroy(us.streamId,On)},Go);case 21:case"end":return fo.stop()}},An)}));return function(Dn,qt){return Pn.apply(this,arguments)}}(),zp=Pn=>{Pn.setP2PMaxBitrate(),Pn.startEncryption(this.session.connection.id),bo(Pn)&&Up("Success")},Au=Pn=>{if(ws.current!=="PublishingToSession")throw new Error("assignStream called when publisher is not successfully publishing");sp.releaseAll(),this.stream=Pn,this.stream.on("destroyed",this.disconnect,this),sp.add(()=>{this.stream&&this.stream.off("destroyed",this.disconnect,this)}),ws.set("Publishing"),ts.loading(!qu),Mu=new Date,this.dispatchEvent(new ro.StreamEvent("streamCreated",Pn,null,!1)),ap("Success"),this.trigger("publishComplete",null,this)},$p=Pn=>{let An=Pn.peerConnectionId,Dn=Pn.send,qt=Pn.log,xn=Pn.logQoS,On=Pn.sourceStreamId;if(gp(An))return nt.reject(new Error("PeerConnection already exists"));const $n=mo({isChromiumEdge:ls.env.isChromiumEdge,browserName:ls.env.name,isScreenSharing:$l,isCustomVideoTrack:cs,sessionInfo:this.session.sessionInfo,constraints:lo.constraints,videoDimensions:Sm(),capableSimulcastScreenshare:lo.capableSimulcastScreenshare,scalableVideo:lo.scalableVideo});return Sl[An]=nt.all([this.session._.getIceConfig(),this.session._.getVideoCodecsCompatible(Ro)]).then(Qn=>{let hr=Qn[0],yr=Qn[1],pr=Ro;if(!yr){pr=Ro.clone();const fo=pr.getVideoTracks(),_i=fo[0];_i&&(_i.stop(),pr.removeTrack(_i))}const $o=new Ns({iceConfig:hr,sendMessage:(fo,_i)=>{fo==="offer"&&this.trigger("connected"),Dn(fo,_i)},webRTCStream:pr,channels:lo.channels,capableSimulcastStreams:$n,overrideSimulcastEnabled:bu._enableSimulcast,logAnalyticsEvent:qt,offerOverrides:{enableDtx:lo.enableDtx,enableStereo:lo.enableStereo,audioBitrate:lo.audioBitrate,priorityVideoCodec:lo._priorityVideoCodec||this.session.sessionInfo.priorityVideoCodec,codecFlags:lo._codecFlags||this.session._.getCodecFlags()},answerOverrides:this.session.sessionInfo.p2pEnabled?void 0:{audioBitrate:lo.audioBitrate},sourceStreamId:On,isP2pEnabled:this.session.sessionInfo.p2pEnabled,sessionId:this.session.id,keyStore:this.session.keyStore,sFrameClientStore:this.session.sFrameClientStore,isE2ee:this.session._.isE2ee(),audioFallbackEnabled:lo.publisherAudioFallbackEnabled,resolution:{width:this.videoWidth(),height:this.videoHeight()}});return $o.on({disconnected:()=>uo($o),error:fo=>{let _i=fo.reason,$s=fo.prefix;return Eo($o,{reason:_i,prefix:$s})},qos:xn,iceRestartSuccess:()=>Eu($o),iceRestartFailure:()=>Xo($o),iceConnectionStateChange:fo=>Ul(fo,$o),audioAcquisitionProblem:()=>{jp=!0,this.trigger("audioAcquisitionProblem",{method:"getStats"})},audioFallbackStateChange:fo=>Vm.onPeerConnectionStateChange(Object.assign({},fo,{peerConnection:$o,publishVideo:lo.publishVideo,stream:this.stream,peerId:Il($o).peerId}))}),$o.once("connected",()=>zp($o)),new nt((fo,_i)=>{const $s=Cu=>{_i(Cu)};$o.once("error",$s),$o.init(Gp,Cu=>{if(Cu)return _i(Cu);$o.off("error",$s),fo($o)})})}),gp(An)},Wu=()=>nt.all(Object.keys(Sl).map(gp)),Gu=Pn=>Wu().then(An=>An.filter(Dn=>Il(Dn).remoteSubscriberId===Pn)),gp=Pn=>Sl[Pn],Zp=Pn=>{const An=Object.keys(Sl).find(Dn=>Dn.endsWith(`~${Pn}`));return Sl[An]},fm=()=>Zp("MANTIS"),nm=()=>Zp("P2P");let _l=Jr(this,{name:lo.name,publishAudio:lo.publishAudio,publishVideo:lo.publishVideo,audioSource:lo.audioSource,showControls:lo.showControls,shouldAllowAudio:Cp,logAnalyticsEvent:jo});const pm=()=>{this.off("publishComplete",js),_l&&_l.reset(),sp.releaseAll(),this.disconnect(),Wp=null,_d(),Ro=null,ts&&(ts.destroy(),ts=null),this.session&&this._.unpublishFromSession(this.session,"reset"),_c.getVideoFilter()&&Hm(),this.id=null,this.stream=null,qu=!1,this.session=null,ws.isDestroyed()||ws.set("NotPublishing")},gm=()=>{if(!Ro||Ro.getVideoTracks().length===0)return!1;const An=["text","detail"].includes(lo.videoContentHint),Dn=cs&&An,qt=ls.env.isChromium&&($l||Dn);return Ro.getVideoTracks().reduce((xn,On)=>xn&&(!On.muted||!!qt)&&On.enabled&&On.readyState!=="ended",lo.publishVideo)},Np=()=>!Ro||Ro.getAudioTracks().length===0?!1:Ro.getAudioTracks().length>0&&Ro.getAudioTracks().reduce((Pn,An)=>Pn&&!An.muted&&An.enabled&&An.readyState!=="ended",lo.publishAudio),js=Pn=>{if(ts&&(ts.audioOnly(!gm()),ts.showPoster(!gm())),_l&&_l.setAudioOnly(!gm()&&Np()),this.stream){let An;Yo&&(An=lt.CongestionLevels.LOW,Yo=!1),this.stream.setChannelActiveState("audio",Np(),Pn),this.stream.setChannelActiveState("video",gm(),Pn,An)}else this.off("publishComplete",js),this.once("publishComplete",js)},Cm=(Pn,An)=>{let Dn=!1;if(typeof Pn=="function"?An=Pn:Dn=Pn==="rtcStatsReport",Dn?hs():dm(),Dn&&!sr){const qt=Ho.GET_RTC_STATS_REPORT_NOT_SUPPORTED;An(_o(xo.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(ko.getTitleByCode(qt)),qt));return}Wu().then(qt=>{if(qt.length===0){const xn=Ho.PEER_CONNECTION_NOT_CONNECTED;throw _o(xo.PEER_CONNECTION_NOT_CONNECTED,new Error(ko.getTitleByCode(xn)),xn)}return qt}).then(qt=>this.session.sessionInfo.isAdaptiveEnabled?qt.filter(On=>On.getSourceStreamId()===Ql):qt).then(qt=>nt.all(qt.map(xn=>Jt(Dn?xn.getRtcStatsReport.bind(xn):xn.getStats.bind(xn))().then(On=>({pc:xn,stats:On}))))).then(qt=>{const xn=Mu?Mu.getTime():Date.now(),On=qt.map($n=>{let Qn=$n.pc,hr=$n.stats;const yr=Il(Qn),pr=yr.remoteConnectionId,$o=yr.remoteSubscriberId;return pt(pr.match(/^symphony\./)?{}:{subscriberId:$o,connectionId:pr},Dn?{rtcStatsReport:hr}:{stats:Bt.normalizeStats(hr,!1,xn)})});An(null,On)}).catch(An)},Am=Pn=>Cm(Pn),s0=Pn=>Cm("rtcStatsReport",Pn),zu=(Pn,An)=>{const Dn={name:lo.name||"",streamId:this.streamId,subscriberAudioFallbackEnabled:lo.subscriberAudioFallbackEnabled,channels:Ds,minBitrate:lo.minVideoBitrate,sourceStreamId:Pn,e2ee:this.session._.isE2ee(),publisherAudioFallbackEnabled:lo.publisherAudioFallbackEnabled,customProperties:{initials:lo.initials}};this.session._.streamCreate(Dn,An)},Um=Pn=>{Sp||(Sp=!0,Ro.getAudioTracks().forEach(function(){var An=(0,ot.default)(it.default.mark(function Dn(qt){var xn;return it.default.wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:return xn=qt.clone(),xn.enabled=!1,$n.prev=2,$n.next=5,Pn.findAndReplaceTrack(qt,xn);case 5:$n.next=10;break;case 7:return $n.prev=7,$n.t0=$n.catch(2),$n.abrupt("return");case 10:fp[qt.id]=xn;case 11:case"end":return $n.stop()}},Dn,null,[[2,7]])}));return function(Dn){return An.apply(this,arguments)}}()))},km=Pn=>{Ro.getAudioTracks().forEach(function(){var An=(0,ot.default)(it.default.mark(function Dn(qt){return it.default.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:return On.prev=0,On.next=3,Pn.findAndReplaceTrack(fp[qt.id],qt);case 3:On.next=8;break;case 5:return On.prev=5,On.t0=On.catch(0),On.abrupt("return");case 8:delete fp[qt.id];case 9:case"end":return On.stop()}},Dn,null,[[0,5]])}));return function(Dn){return An.apply(this,arguments)}}()),Sp=!1},vm=function(){var Pn=(0,ot.default)(it.default.mark(function An(){var Dn;return it.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return or=!1,xn.next=3,fm();case 3:if(Dn=xn.sent,!Dn){xn.next=17;break}return us.trigger("sourceStreamIdChanged","P2P"),xn.next=8,Tn(Pr);case 8:if(!or){xn.next=11;break}return so.debug("Cancelling stop sending RTP to MANTIS."),xn.abrupt("return");case 11:return Um(Dn),xn.next=14,Dn.changeMediaDirectionToInactive();case 14:if(!(ls.env.isFirefox&&ls.env.version<96)){xn.next=17;break}return xn.next=17,Tm();case 17:case"end":return xn.stop()}},An)}));return function(){return Pn.apply(this,arguments)}}(),Bm=function(){var Pn=(0,ot.default)(it.default.mark(function An(){var Dn;return it.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return or=!0,xn.next=3,fm();case 3:if(Dn=xn.sent,!Dn){xn.next=10;break}return km(Dn),xn.next=8,Dn.changeMediaDirectionToRecvOnly();case 8:Hp&&clearTimeout(Hp),us.trigger("sourceStreamIdChanged","MANTIS");case 10:case"end":return xn.stop()}},An)}));return function(){return Pn.apply(this,arguments)}}(),Tm=function(){var Pn=(0,ot.default)(it.default.mark(function An(){var Dn;return it.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return xn.next=2,fm();case 2:Dn=xn.sent,Dn&&(Hp=setTimeout((0,ot.default)(it.default.mark(function On(){return it.default.wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:if(Ql!=="P2P"){Qn.next=9;break}return Qn.next=3,Dn.changeMediaDirectionToRecvOnly();case 3:return Qn.next=5,Tn(qn);case 5:return Qn.next=7,Dn.changeMediaDirectionToInactive();case 7:return Qn.next=9,Tm();case 9:case"end":return Qn.stop()}},On)})),Yn));case 4:case"end":return xn.stop()}},An)}));return function(){return Pn.apply(this,arguments)}}(),Gm=()=>{Up("Attempt");const Pn=Dn=>{const qt=Rr(Dn);this.trigger("streamCreateForP2PComplete",qt),Up("Failure",{reason:qt.message})};if(!this.session){Up("Failure",{reason:"Not connected to the session."});return}const An=setTimeout(()=>{Up("Failure",{reason:"Timeout"})},cu);this.once("streamCreateForP2PComplete",()=>{clearTimeout(An)}),so.debug(`streamCreateWithSource: send a message to RUMOR for creating the stream with the sourceStreaId P2P and stream ${this.streamId}`),zu("P2P",Dn=>{Dn?Pn(Dn):this.trigger("streamCreateForP2PComplete")})},w0=function(){var Pn=(0,ot.default)(it.default.mark(function An(){return it.default.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:if(Ql==="P2P"){qt.next=2;break}return qt.abrupt("return");case 2:if(tm("Attempt"),us.session){qt.next=6;break}return tm("Failure",{reason:"Not connected to the session."}),qt.abrupt("return");case 6:if(us.streamId){qt.next=9;break}return tm("Failure",{reason:"No streamId available"}),qt.abrupt("return");case 9:return qt.next=11,Bm();case 11:return us.session._.streamDestroy(us.streamId,"P2P"),qt.t0=us,qt.next=15,nm();case 15:qt.t1=qt.sent,qt.t0._removePeerConnection.call(qt.t0,qt.t1),tm("Success"),us.trigger("streamDestroyForP2PComplete");case 19:case"end":return qt.stop()}},An)}));return function(){return Pn.apply(this,arguments)}}();this.publish=Pn=>(so.debug("OT.Publisher: publish"),(ws.isAttemptingToPublish()||ws.isPublishing())&&pm(),ws.set("GetUserMedia"),lo.style&&this.setStyle(lo.style,null,!0),lo.classNames="OT_root OT_publisher",wo.onLoad(()=>{so.debug("OT.Publisher: publish: environment loaded"),ts=new ip(Pn,Object.assign({},lo,{widgetType:"publisher"})),Cp&&Hn({publisher:this,widgetView:ts}),ts.on("error",co),this.id=ts.domId(),this.element=ts.domElement,this.element&&_l&&_l.init(ts),ts.on("videoDimensionsChanged",(An,Dn)=>{lo.publishVideo&&(this.stream&&this.stream.setVideoDimensions(Dn.width,Dn.height),this.dispatchEvent(new ro.VideoDimensionsChangedEvent(this,An,Dn)))}),ts.on("mediaStopped",An=>{const Dn=new ro.MediaStoppedEvent(this,An);if(this.dispatchEvent(Dn),!Dn.isDefaultPrevented()){if(An){const qt=String(An.kind).toLowerCase();qt==="audio"?Lm():qt==="video"?Dm():so.warn(`Track with invalid kind has ended: ${An.kind}`);return}this.session?this._.unpublishFromSession(this.session,"mediaStopped"):this.destroy("mediaStopped")}}),ts.on("videoElementCreated",An=>{const Dn=new ro.VideoElementCreatedEvent(An);this.dispatchEvent(Dn)}),sm().catch(uu).then(function(){var An=(0,ot.default)(it.default.mark(function Dn(qt){var xn;return it.default.wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:return Fp=Ou.audioDevices,Op=Ou.videoDevices,xn=!!lo.videoFilter,xn&&(Fu=Or(qt,Op)),$n.next=6,dr(qt);case 6:return lo.publishVideo||us._toggleVideo(lo.publishVideo,Sm()),!$l&&!cs&&!xn&&(Fu=Or(qt,Op),lo.publishVideo&&Nm(Fu)),$n.abrupt("return",jn().catch(Qn=>{if(!(Qn instanceof Nt))throw Qn}).then(()=>{Em(),ws.isDestroyed()||(us.trigger("initSuccess"),us.trigger("loaded",us))},Qn=>{so.error(`OT.Publisher.publish failed to bind video: ${Qn}`),Vp(Qn)}));case 9:case"end":return $n.stop()}},Dn)}));return function(Dn){return An.apply(this,arguments)}}())}),this),this._setScalableValues=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn,qt){var xn,On,$n;return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:return hr.next=2,Wu().then(yr=>yr[0].getSenders().filter(pr=>pr.track.kind==="video"));case 2:return xn=hr.sent,On=xn[0],$n=On.getParameters(),$n.encodings.forEach((yr,pr)=>{yr[Dn]=qt[pr]}),hr.next=8,On.setParameters($n);case 8:case"end":return hr.stop()}},An)}));return function(An,Dn){return Pn.apply(this,arguments)}}(),this._setScalableFramerates=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt;return it.default.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:if(qt=Fm(Dn),!(qt&&h0(qt))){On.next=4;break}return On.next=4,us._setScalableValues("maxFramerate",qt);case 4:case"end":return On.stop()}},An)}));return function(An){return Pn.apply(this,arguments)}}(),this._setScalableVideoLayers=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt;return it.default.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:if(qt=Fm(Dn),!(qt&&m0(qt))){On.next=4;break}return On.next=4,us._setScalableValues("scaleResolutionDownBy",qt);case 4:case"end":return On.stop()}},An)}));return function(An){return Pn.apply(this,arguments)}}();const h0=Pn=>{let An=0;return Pn.every(Dn=>Dn!==15&&Dn!==30||Dn<An?!1:(An=Dn,!0))},m0=Pn=>{let An=17;return Pn.every(Dn=>Dn<1||Dn>=An?!1:(An=Dn,!0))},Fm=Pn=>{let An;if(typeof Pn!="string")return An;const Dn=Pn.split(":");return Dn.length===0||Dn.length>3||!Dn.every(qt=>!isNaN(qt))||(An=Dn.map(qt=>parseInt(qt,10)).reverse()),An},ym=Pn=>Ro&&Ro[`get${Zt(Pn)}Tracks`]().length>0&&Ro[`get${Zt(Pn)}Tracks`]().every(An=>An.readyState!=="ended"),Lm=Pn=>{const An=ym("audio")&&lo.publishAudio;_l&&_l.setMuted(!An),Wp&&Wp.muted(!An),Bn&&Bn.originalTrack&&(Bn.originalTrack.enabled=An),js(Pn)};this.publishAudio=Pn=>{jo("publishAudio","Attempt",{publishAudio:Pn}),lo.publishAudio=Pn;try{Lm(),jo("publishAudio","Success",{publishAudio:Pn})}catch(An){jo("publishAudio","Failure",{message:An.message})}return this},this.publishCaptions=Pn=>{jo("publishCaptions","Attempt");try{Yl.dispatchEvent(new ro.PublisherCaptionsEnabled(Pn)),this.stream.setChannelActiveState("data",Pn),jo("publishCaptions","Success")}catch(An){jo("publishCaptions","Failure",{message:An.message})}};let bm,hm=!1;const Dm=()=>{const Pn=ym("video")&&lo.publishVideo;if(Pt.name==="Chrome"&&Pt.version>=69&&(0,ot.default)(it.default.mark(function An(){var Dn,qt;return it.default.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:return bm&&bm.cancel(),bm=new Lt,Dn=bm,On.next=5,Wu();case 5:qt=On.sent,Dn.isCanceled()||qt.forEach($n=>{yl($n,Pn)});case 7:case"end":return On.stop()}},An)}))(),cs&&_c){const An=_c.getOriginalVideoTrack();An&&(An.enabled=Pn)}if(cs&&Wn){const An=Wn.originalTrack;An&&(An.enabled=Pn)}Ro&&Ro.getVideoTracks().forEach(An=>{An.enabled=Pn,An.isCreatedCanvas&&(An.enabled=!1)}),js()},Hm=function(){var Pn=(0,ot.default)(it.default.mark(function An(){var Dn;return it.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return Dn=_c.getOriginalVideoTrack(),xn.prev=1,xn.next=4,_c.destroy();case 4:xn.next=9;break;case 6:xn.prev=6,xn.t0=xn.catch(1),so.warn(`Error cleaning up mediaProcessor: ${xn.t0}`);case 9:Dn.stop();case 10:case"end":return xn.stop()}},An,null,[[1,6]])}));return function(){return Pn.apply(this,arguments)}}(),Ym=Pn=>!$u&&!Wn&&Pn===b0(),g0=(Pn,An)=>$u||Wn?!0:Pn?Fu!==An:An!==void 0;let Fu,$u;this._toggleVideo=En(function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn,qt){var xn,On,$n,Qn,hr,yr,pr,$o;return it.default.wrap(function(_i){for(;;)switch(_i.prev=_i.next){case 0:if(!($l||cs||hm)){_i.next=2;break}return _i.abrupt("return");case 2:return _i.next=4,Xm();case 4:if(On=_i.sent,$n=jm(),$n){_i.next=8;break}throw _o(xo.NOT_SUPPORTED,new Error("Publisher._toggleVideo cannot toggleVideo when you have no video source."));case 8:if(Qn=(xn=On.find($s=>$s.label===$n.label))==null?void 0:xn.deviceId,g0(Dn,Qn)){_i.next=11;break}return _i.abrupt("return");case 11:if($n.readyState!=="ended"){_i.next=14;break}return hm=!0,_i.abrupt("return");case 14:if(Dn&&ls.env.isAndroid&&ls.env.isChrome&&$n&&$n.stop&&$n.stop(),Dn){_i.next=31;break}_i.prev=16,hr=gr(qt),_i.next=23;break;case 20:return _i.prev=20,_i.t0=_i.catch(16),_i.abrupt("return");case 23:if(Qn&&(Fu=Qn),Nm(hr.label),yr=_c.getVideoFilter(),!yr){_i.next=30;break}return $u=yr,_i.next=30,Hm();case 30:Wn&&(Wn.destroy(),Wn.stopOriginalTrack());case 31:if(!(Fu&&On.findIndex($s=>$s.deviceId===Fu)===-1)){_i.next=33;break}throw _o(xo.NO_DEVICES_FOUND,new Error("Previous device no longer available - deviceId not found"));case 33:if(Yl.emit("streamDestroy"),!Dn){_i.next=64;break}if(!Ym(Fu)){_i.next=37;break}return _i.abrupt("return");case 37:return _i.prev=37,_i.next=40,Zm(Fu);case 40:hr=_i.sent,_i.next=47;break;case 43:throw _i.prev=43,_i.t1=_i.catch(37),so.error(`Error getting new track for current device(${Fu}): ${_i.t1}`),_i.t1;case 47:if(hr){_i.next=50;break}return so.error("Failed to enable video. It was not possible to get a new track from the camera"),_i.abrupt("return");case 50:if(!$u){_i.next=59;break}return pr=_c.getOriginalVideoTrack(),_i.next=54,_c.setVideoFilter($u);case 54:return _i.next=56,_c.setMediaStream(Ro);case 56:return _i.next=58,_c.setVideoTrack(hr);case 58:hr=_i.sent;case 59:if(!Wn){_i.next=64;break}return pr=Wn.originalTrack,_i.next=63,Wn.setTrack(hr);case 63:hr=_i.sent;case 64:return _i.prev=64,_i.next=67,xm($n,hr);case 67:($o=pr)==null||$o.stop(),_i.next=73;break;case 70:throw _i.prev=70,_i.t2=_i.catch(64),_i.t2;case 73:case"end":return _i.stop()}},An,null,[[16,20],[37,43],[64,70]])}));return function(An,Dn){return Pn.apply(this,arguments)}}());const zm=()=>{var Pn,An;Vm.reset(),(Pn=_l)==null||Pn.videoDisabledIndicator.disableVideo(!1),(An=_l)==null||An.videoDisabledIndicator.setWarning(!1)},O0=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt,xn;return it.default.wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:(qt=_l)==null||qt.videoDisabledIndicator.disableVideo(!1),(xn=_l)==null||xn.videoDisabledIndicator.setWarning(!1),Dn===ct.default.SUSPENDED_VIDEO?us.trigger("videoEnabled",{reason:"quality"}):us.trigger("videoDisableWarningLifted");case 3:case"end":return $n.stop()}},An)}));return function(Dn){return Pn.apply(this,arguments)}}(),v0=()=>{if(lo.publishVideo){var Pn;(Pn=_l)==null||Pn.videoDisabledIndicator.setWarning(!0)}this.trigger("videoDisableWarning")},y0=function(){var Pn=(0,ot.default)(it.default.mark(function An(){var Dn;return it.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:lo.publishVideo&&((Dn=_l)==null||Dn.videoDisabledIndicator.disableVideo(!0)),us.trigger("videoDisabled",{reason:"quality"});case 2:case"end":return xn.stop()}},An)}));return function(){return Pn.apply(this,arguments)}}();let Vm;if(lo.publisherAudioFallbackEnabled){Vm=Wr({getAllPeerConnections:Wu});const Pn={[ct.default.ACTIVE_VIDEO]:O0,[ct.default.ACTIVE_VIDEO_WITH_WARNING]:v0,[ct.default.SUSPENDED_VIDEO]:y0};Vm.on("stateChange",An=>{let Dn=An.previousState,qt=An.state;try{Pn[qt](Dn)}catch(xn){throw so.error(`Audio fallback error: ${xn}`),xn}})}this.publishVideo=Pn=>{if(lo.publishVideo===Pn)return this;jo("publishVideo","Attempt",{publishVideo:Pn});const An=Sm();lo.publishVideo=Pn,lo.publisherAudioFallbackEnabled&&(zm(),Yo=!0);try{this._toggleVideo(lo.publishVideo,An),Dm(),jo("publishVideo","Success",{publishVideo:Pn})}catch(Dn){jo("publishVideo","Failure",{message:Dn.message})}return this},this.setVideoContentHint=Pn=>Fr(Ro,Pn),this.getVideoContentHint=()=>Qr(Ro),this.destroy=function(Pn,An){return ws.isAttemptingToPublish()&&this.session&&ap("Cancel",{reason:"destroy"}),ws.isDestroyed()?this:(ws.set("Destroyed"),pm(),Ou&&(Ou.off(),Ou=null),_l&&(_l.destroy(),_l=null),Yl&&(Yl.off(),Yl=null),An!==!0&&this.dispatchEvent(new ro.DestroyedEvent(dn.PUBLISHER_DESTROYED,this,Pn)),this.off(),Wn&&(Wn.destroy(),Wn.stopOriginalTrack()),Bn&&(Bn.destroy(),Bn.stopOriginalTrack()),this)},this.disconnect=()=>{Object.keys(Sl).forEach(Pn=>{const An=gp(Pn);delete Sl[Pn],An.then(Dn=>this._removePeerConnection(Dn))}),Ds.length=0},this.processMessage=(Pn,An,Dn)=>{const qt=ut(Dn,"params.subscriber",An).replace(/^INVALID-STREAM$/,An),xn=ut(Dn,"content.peerId"),On=ut(Dn,"content.sourceStreamId","MANTIS"),$n=`${qt}~${xn}~${On}`;so.debug(`OT.Publisher.processMessage: Received ${Pn} from ${An} for ${$n}`),so.debug(Dn);const Qn=gp($n),hr=()=>{const pr=oo({socket:this.session._.getSocket(),uri:Dn.uri,content:{peerId:xn,sourceStreamId:On}});$p({peerConnectionId:$n,send:pr,log:function($s,Cu,Lo,eu,Rm){eu===void 0&&(eu={});const Mm=Object.assign({peerId:xn,sourceStreamId:vo(On)},eu);return jo($s,Cu,Lo,Mm,Rm)},logQoS:_i=>{On===Ql&&No(Object.assign({},_i,{peerId:xn,remoteConnectionId:An,sourceStreamId:On}))},sourceStreamId:On}).then(_i=>(dp(_i,{remoteConnectionId:An,remoteSubscriberId:qt,peerId:xn,sourceStreamId:On,peerConnectionId:$n}),_i.processMessage(Pn,Dn),null)).catch(_i=>{so.error("OT.Publisher failed to create a peerConnection",_i)})},yr=this.session.sessionInfo.isAdaptiveEnabled;switch(Pn){case"unsubscribe":this._removeSubscriber(qt);break;default:if(Qn)Qn.then(pr=>pr.processMessage(Pn,Dn));else{if(yr&&nm())return;hr()}break}},this.getImgData=function(){if(!qu)return so.error("OT.Publisher.getImgData: Cannot getImgData before the Publisher is publishing."),null;const Pn=ts&&ts.video();return Pn?Pn.imgData():null};const A0=Pn=>{_d(),Ro=Pn,Yl.emit("streamChange"),Wp=new Nu(Ro,!lo.publishAudio)},k0=Pn=>{Pn.getSenders().forEach(An=>{if(An.track.kind==="audio"&&Ro.getAudioTracks().length)return An.replaceTrack(Ro.getAudioTracks()[0]);if(An.track.kind==="video"&&Ro.getVideoTracks().length)return An.replaceTrack(Ro.getVideoTracks()[0])})},L0=function(An){return An===void 0&&(An=k0),Wu().then(Dn=>{const qt=[];return Dn.map(An),nt.all(qt)})};{let Pn=0;const An=function(){var Dn=(0,ot.default)(it.default.mark(function qt(){var xn,On,$n,Qn,hr;return it.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:if(!(ls.env.isLegacyEdge||!op.RTCRtpSender||typeof op.RTCRtpSender.prototype.replaceTrack!="function")){pr.next=2;break}throw _o(xo.UNSUPPORTED_BROWSER,new Error("Publisher#cycleVideo is not supported in your browser."),Ho.UNABLE_TO_PUBLISH);case 2:if(!(cs||$l)){pr.next=4;break}throw _o(xo.NOT_SUPPORTED,new Error("Publisher#cycleVideo: The publisher is not using a camera video source"));case 4:if(xn=jm(),xn){pr.next=7;break}throw _o(xo.NOT_SUPPORTED,new Error("Publisher#cycleVideo cannot cycleVideo when you have no video source."));case 7:return Pn+=1,pr.next=10,Xm();case 10:if(On=pr.sent,$n=On.filter($o=>$o.deviceId!==Fu).length>0,$n){pr.next=14;break}return pr.abrupt("return",Fu);case 14:for(;On[Pn%On.length].deviceId===Fu;)Pn+=1;return Yl.emit("streamDestroy"),Qn=On[Pn%On.length],hr=Qn.deviceId,pr.next=20,E0(hr);case 20:return pr.abrupt("return",Fu);case 21:case"end":return pr.stop()}},qt)}));return function(){return Dn.apply(this,arguments)}}();this.cycleVideo=En((0,ot.default)(it.default.mark(function Dn(){var qt;return it.default.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:return On.prev=0,On.next=3,An();case 3:qt=On.sent,On.next=10;break;case 6:throw On.prev=6,On.t0=On.catch(0),so.error(`Publisher#cycleVideo: could not cycle video: ${On.t0}`),On.t0;case 10:return On.abrupt("return",{deviceId:qt});case 11:case"end":return On.stop()}},Dn,null,[[0,6]])})))}const xm=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn,qt){var xn,On,$n;return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:return hr.next=2,Wu();case 2:return xn=hr.sent,hr.next=5,nt.all(xn.map(function(){var yr=(0,ot.default)(it.default.mark(function pr($o){return it.default.wrap(function(_i){for(;;)switch(_i.prev=_i.next){case 0:return _i.next=2,$o.findAndReplaceTrack(Dn,qt);case 2:$o.setP2PMaxBitrate();case 3:case"end":return _i.stop()}},pr)}));return function(pr){return yr.apply(this,arguments)}}()));case 5:if(Ro.removeTrack(Dn),Ro.addTrack(qt),Dn&&Dn.stop){try{On=qt instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(qt).toString().includes("MediaStreamTrackGenerator")}catch{On=!1}On||Dn.stop()}(ls.env.name==="Firefox"||ls.env.name==="Safari")&&(us.videoElement().srcObject=null,us.videoElement().srcObject=Ro),$n=ts&&ts.video(),$n&&$n.refreshTracks(),Yl.emit("streamChange"),Dm();case 13:case"end":return hr.stop()}},An)}));return function(Dn,qt){return Pn.apply(this,arguments)}}(),Zm=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt,xn,On,$n,Qn,hr,yr,pr;return it.default.wrap(function(fo){for(;;)switch(fo.prev=fo.next){case 0:return xn=b0(),Nm(Dn),On=yt(bu),On.audioSource=null,On.videoSource=Dn,Ou=_a(On,"OT.Publisher.getTrackFromDeviceId",()=>ws&&ws.isDestroyed()),Ou.on({accessDialogOpened:Lp,accessDialogClosed:hp}),$n=Ou,Qn=$n.getUserMedia,fo.prev=8,fo.next=11,Qn();case 11:hr=fo.sent,fo.next=18;break;case 14:throw fo.prev=14,fo.t0=fo.catch(8),so.error(fo.t0),fo.t0;case 18:return yr=(qt=hr)==null?void 0:qt.getVideoTracks(),pr=yr[0],pr||Nm(xn),fo.abrupt("return",pr);case 21:case"end":return fo.stop()}},An,null,[[8,14]])}));return function(Dn){return Pn.apply(this,arguments)}}(),jm=()=>Ro.getVideoTracks()[0],b0=()=>Su,Nm=Pn=>{Su=Pn},Xm=function(){var Pn=(0,ot.default)(it.default.mark(function An(){var Dn,qt;return it.default.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:return On.next=2,To.shouldAskForDevices();case 2:if(Dn=On.sent,qt=Dn.videoDevices,!(!Dn.video||!qt||!qt.length)){On.next=6;break}throw _o(xo.NO_DEVICES_FOUND,new Error("No video devices available"),Ho.UNABLE_TO_PUBLISH);case 6:return On.abrupt("return",qt);case 7:case"end":return On.stop()}},An)}));return function(){return Pn.apply(this,arguments)}}(),Pm=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn,qt){var xn,On,$n;return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:return hr.next=2,Wu();case 2:return xn=hr.sent,hr.next=5,nt.all(xn.map(yr=>yr.findAndReplaceTrack(Dn,qt)));case 5:qt&&Ro.addTrack(qt),Dn&&Ro.removeTrack(Dn),On=ts&&ts.video(),On&&On.refreshTracks(),_l&&(qt&&!Dn&&_l.addAudioTrack(),Dn&&!qt&&_l.removeAudioTrack());try{$n=qt instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(qt).toString().includes("MediaStreamTrackGenerator")}catch{$n=!1}Dn&&Dn.stop&&!$n&&Dn.stop(),qt&&(Lm(),Wp=new Nu(Ro,!lo.publishAudio)),Yl.emit("streamChange"),js();case 15:case"end":return hr.stop()}},An)}));return function(Dn,qt){return Pn.apply(this,arguments)}}(),$m=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt,xn;return it.default.wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:return qt=Dn.getSettings().deviceId,$n.prev=1,$n.next=4,us.setAudioSource(qt);case 4:xn=Ro.getAudioTracks()[0],xn&&(xn.onmute=()=>Km(xn),xn.onunmute=()=>Jm(xn)),$n.next=11;break;case 8:$n.prev=8,$n.t0=$n.catch(1),so.error($n.t0);case 11:case"end":return $n.stop()}},An,null,[[1,8]])}));return function(Dn){return Pn.apply(this,arguments)}}(),Km=Pn=>{let An=!1;lo.publishVideo&&document.hidden&&(An=!0,this.publishVideo(!1));const Dn=function(){var qt=(0,ot.default)(it.default.mark(function xn(){return it.default.wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:if(document.hidden){$n.next=5;break}return $n.next=3,$m(Pn);case 3:An&&us.publishVideo(!0),document.removeEventListener("visibilitychange",Dn);case 5:case"end":return $n.stop()}},xn)}));return function(){return qt.apply(this,arguments)}}();document.addEventListener("visibilitychange",Dn)},Jm=Pn=>{var An;Np()&&(gm()?this.videoElement().pause():$m(Pn)),this==null||(An=this.session)==null||An.trigger("gsmCallEnded")},Qm=!(ls.env.isLegacyEdge||!op.RTCRtpSender||typeof op.RTCRtpSender.prototype.replaceTrack!="function"),V0=()=>_o(xo.UNSUPPORTED_BROWSER,new Error("Publisher#setAudioSource is not supported in your browser.")),_m=()=>_o(xo.CANCEL,new Error("Operation did not succeed due to a new request."));let qm;const S0=()=>(qm&&qm.cancel(),qm=new Lt,qm),a0=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt,xn,On,$n,Qn,hr,yr,pr,$o,fo,_i,$s;return it.default.wrap(function(Lo){for(;;)switch(Lo.prev=Lo.next){case 0:if(Qm){Lo.next=2;break}throw V0();case 2:if(qt=S0(),xn=eu=>{if(qt.isCanceled())throw eu.getTracks(Rm=>Rm.stop()),_m();return a0(eu.getAudioTracks()[0])},On=us.getAudioSource(),On){Lo.next=7;break}throw _o(xo.NOT_SUPPORTED,new Error("Publisher#setAudioSource cannot add an audio source when you started without one."));case 7:if(!(Dn instanceof MediaStreamTrack)){Lo.next=26;break}if(!qt.isCanceled()){Lo.next=10;break}throw _m();case 10:if(!Bn){Lo.next=23;break}return Lo.prev=11,Lo.next=14,Bn.setTrack(Dn);case 14:return $n=Lo.sent,Lo.next=17,Pm(On,$n);case 17:return Lo.abrupt("return",Lo.sent);case 20:Lo.prev=20,Lo.t0=Lo.catch(11),so.error(`Error setting track on audioMediaProcessorConnector: ${Lo.t0}`);case 23:return Lo.abrupt("return",Pm(On,Dn));case 26:if(typeof Dn!="string"){Lo.next=73;break}return Qn=yt(bu),Qn.audioSource=Dn,Qn.videoSource=null,Ou=_a(Qn,"OT.Publisher.setAudioSource",()=>qt.isCanceled()||ws&&ws.isDestroyed()),Ou.on({accessDialogOpened:Lp,accessDialogClosed:hp}),hr=On.label,yr=On.getConstraints&&On.getSettings().deviceId||void 0,On&&On.stop(),pr=Ou,$o=pr.getUserMedia,Lo.prev=36,Lo.t1=xn,Lo.next=40,$o();case 40:return Lo.t2=Lo.sent,Lo.next=43,(0,Lo.t1)(Lo.t2);case 43:return Lo.abrupt("return",Lo.sent);case 46:if(Lo.prev=46,Lo.t3=Lo.catch(36),!qt.isCanceled()){Lo.next=50;break}throw _m();case 50:if(fo=yt(bu),fo.videoSource=null,fo.audioSource=yr,!(!fo.audioSource&&hr)){Lo.next=60;break}return Lo.next=56,rr();case 56:if(_i=Lo.sent.find(eu=>eu.label===hr),!qt.isCanceled()){Lo.next=59;break}throw _m();case 59:_i&&(fo.audioSource=_i.deviceId);case 60:if(fo.audioSource){Lo.next=63;break}throw Lo.t3.message+=" (could not determine previous audio device)",_o(xo.NOT_FOUND,Lo.t3);case 63:return Ou=_a(fo,"OT.Publisher.setAudioSource",()=>qt.isCanceled()||ws&&ws.isDestroyed()),Lo.next=66,Ou.getUserMedia().catch(eu=>{throw eu.message+=" (could not obtain previous audio device)",eu});case 66:return $s=Lo.sent,Lo.next=69,xn($s);case 69:throw Lo.t3.message+=" (reverted to previous audio device)",Lo.t3;case 71:Lo.next=74;break;case 73:throw _o(xo.INVALID_PARAMETER,new Error("Invalid parameter passed to OT.Publisher.setAudioSource(). Expected string or MediaStreamTrack."));case 74:case"end":return Lo.stop()}},An,null,[[11,20],[36,46]])}));return function(Dn){return Pn.apply(this,arguments)}}();this.setAudioSource=a0,this.getAudioSource=()=>Ro&&Ro.getAudioTracks().length>0?Ro.getAudioTracks()[0]:null;const c0=function(){var Pn=(0,ot.default)(it.default.mark(function Dn(qt){var xn,On,$n,Qn,hr;return it.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:if(xn=_o(xo.INVALID_VIDEO_SOURCE,new Error("Invalid video source. Video source must be a valid video input deviceId"),1041),On=_o(xo.SET_VIDEO_SOURCE_FAILURE,new Error("You cannot reset the video source on a publisher that does not currently use a camera source."),1040),!(ls.env.isLegacyEdge||!op.RTCRtpSender||typeof op.RTCRtpSender.prototype.replaceTrack!="function")){pr.next=4;break}throw _o(xo.UNSUPPORTED_BROWSER,new Error("setVideoSource is not supported in your browser."),Ho.UNABLE_TO_PUBLISH);case 4:if(typeof qt=="string"){pr.next=6;break}throw xn;case 6:if($n=!Ro||Ro.getVideoTracks().length===0,!(cs||$l||$n)){pr.next=9;break}throw On;case 9:return pr.next=11,rr();case 11:if(Qn=pr.sent,hr=Qn.find($o=>$o.kind==="videoInput"&&$o.deviceId===qt),hr){pr.next=15;break}throw xn;case 15:return pr.next=17,E0(qt);case 17:case"end":return pr.stop()}},Dn)}));function An(Dn){return Pn.apply(this,arguments)}return An}();this.setVideoSource=c0;const E0=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt,xn,On,$n,Qn,hr;return it.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:if(xn=Fu,Fu=Dn,lo.publishVideo){pr.next=4;break}return pr.abrupt("return");case 4:if(On=jm(),!(lo.publishVideo&&ls.env.isAndroid&&(ls.env.isChrome||ls.env.isFirefox))){pr.next=12;break}if(!$u){pr.next=11;break}return $n=$u,pr.next=10,Hm();case 10:$u=null;case 11:On&&On.stop&&On.stop();case 12:if(!Ym(Dn)){pr.next=14;break}return pr.abrupt("return");case 14:return pr.prev=14,pr.next=17,Zm(Dn);case 17:Qn=pr.sent,pr.next=25;break;case 20:throw pr.prev=20,pr.t0=pr.catch(14),Fu=xn,so.error(pr.t0),pr.t0;case 25:if(Qn){pr.next=28;break}return so.warn("Unable to aquire video track. Moving to next device."),pr.abrupt("return");case 28:if(!$u){pr.next=33;break}return hr=_c.getOriginalVideoTrack(),pr.next=32,_c.setVideoTrack(Qn);case 32:Qn=pr.sent;case 33:if(!Wn){pr.next=38;break}return hr=Wn.originalTrack,pr.next=37,Wn.setTrack(Qn);case 37:Qn=pr.sent;case 38:return pr.next=40,xm(On,Qn);case 40:if(!$n){pr.next=43;break}return pr.next=43,us.applyVideoFilter($n);case 43:(qt=hr)==null||qt.stop(),lo.publishVideo&&(hm=!1);case 45:case"end":return pr.stop()}},An,null,[[14,20]])}));return function(Dn){return Pn.apply(this,arguments)}}();this.getVideoSource=()=>{const Pn={},An=!Ro||Ro.getVideoTracks().length===0;return Pn.track=Ro&&lo.publishVideo&&Ro.getVideoTracks()[0]||null,Pn.deviceId=!$l&&!cs&&Fu?Fu:null,cs?Pn.type="custom":$l?Pn.type="screen":An?Pn.type=null:Pn.type="camera",Pn},this._={privateEvents:Yl,setIceConfig(Pn){return(0,ot.default)(it.default.mark(function An(){var Dn;return it.default.wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return xn.next=2,Wu();case 2:Dn=xn.sent,Dn.forEach(On=>On.setIceConfig(Pn));case 4:case"end":return xn.stop()}},An)}))()},publishToSession:(Pn,An)=>{An&&(Cl=An),ps=Pn,this.session=Pn;const Dn=It();lu=Dn,this.streamId=Dn,ap("Attempt",{dataChannels:lo.channels,properties:bn(lo)});const qt=new nt((Qn,hr)=>{if(qu){Qn();return}this.once("initSuccess",Qn),this.once("destroyed",yr=>{let pr=yr.reason,$o="";pr&&($o=` Reason: ${pr}`),hr(new Error(`Publisher destroyed before it finished loading.${$o}`))})});so.debug("publishToSession: waiting for publishComplete, which is triggered by stream#created from rumor");const xn=new nt((Qn,hr)=>{this.once("publishComplete",yr=>{if(yr){hr(yr);return}this._setScalableFramerates(lo.scalableFramerates),this._setScalableVideoLayers(lo.scalableVideoLayers),this.stream&&(this.stream.setChannelActiveState("audio",Np()),this.stream.setChannelActiveState("video",gm())),so.debug("publishToSession: got publishComplete"),Qn()})}),On=Qn=>{const hr=Rr(Qn);throw ap("Failure",{},{failureReason:"Publish",failureCode:hr.code,failureMessage:hr.message}),ws.isAttemptingToPublish()&&this.trigger("publishComplete",hr),ko.handleJsException({errorMsg:Qn.message,code:hr.code,target:this,error:Qn,analytics:Cl}),hr};so.debug("publishToSession: waiting for loaded");const $n=qt.then(()=>Pn._.getVideoCodecsCompatible(Ro)).then(Qn=>{if(so.debug("publishToSession: loaded"),!this.session)return;const hr=setTimeout(()=>{fr(Pn)},cu);this.once("publishComplete",()=>{clearTimeout(hr)}),ws.set("PublishingToSession");const yr=Qn&&ts&&ts.video(),pr=Ro.getVideoTracks().length>0,$o=lo.videoSource!==null&&lo.videoSource!==!1;yr&&pr&&$o&&Ds.push(new Pu({id:"video1",type:"video",active:lo.publishVideo,orientation:qp.ROTATED_NORMAL,frameRate:lo.frameRate,width:this.videoWidth(),height:this.videoHeight(),e2ee:Pn._.isE2ee(),source:(()=>$l?"screen":cs?"custom":"camera")(),fitMode:lo.fitMode}));const fo=Ro.getAudioTracks().length>0,_i=lo.audioSource!==null&&lo.audioSource!==!1;return _i&&fo&&Ds.push(new Pu({id:"audio1",type:"audio",active:lo.publishAudio})),_i&&fo&&Ds.push(new Pu({id:"caption1",type:"data",active:lo.publishCaptions})),this._.streamChannels=Ds,so.debug("publishToSession: creating rumor stream id"),new nt(($s,Cu)=>{zu(null,(Lo,eu,Rm)=>{if(Lo){Cu(On(Lo));return}$s({streamId:eu,message:Rm})})})}).then(Qn=>{if(Qn===void 0)return;const hr=Qn.streamId,yr=Qn.message;if(so.debug("publishToSession: rumor stream id created:",hr,"(this is different from stream#created, which requires media to actually be flowing for mantis sessions)"),hr!==Dn)throw new Error("streamId response does not match request");this.streamId=hr,Gp=_s(yr)}).catch(Qn=>{throw this.trigger("publishComplete",Qn),Qn});return nt.all([$n,xn])},unpublishFromSession:(Pn,An)=>{if(!this.session||Pn.id!==this.session.id){if(An==="unpublished"){const Dn=this.session&&this.session.id||"no session";so.warn(`The publisher ${lm} is trying to unpublish from a session ${Pn.id} it is not attached to (it is attached to ${Dn})`)}return this}if(Pn.isConnected()&&(this.stream||ws.isAttemptingToPublish())&&Pn._.streamDestroy(this.streamId),sp.releaseAll(),this.disconnect(),ws.isAttemptingToPublish()){ap("Cancel",{reason:"unpublish"});const Dn=()=>{switch(An){case"mediaStopped":return"The video element fired the ended event, indicating there is an issue with the media";case"unpublished":return"The publisher was unpublished before it could be published";case"reset":return"The publisher was reset";default:return`The publisher was destroyed due to ${An}`}},qt=new Error(Dn());this.trigger("publishComplete",_o(An==="mediaStopped"?xo.MEDIA_ENDED:xo.CANCEL,qt))}return this.session=null,jo("unpublish","Success"),this._.streamDestroyed(An),this},unpublishStreamFromSession:(Pn,An,Dn)=>!lu||Pn.id!==lu?(so.warn(`The publisher ${lm} is trying to destroy a stream ${Pn.id} that is not attached to it (it has ${lu||"no stream"} attached to it)`),this):this._.unpublishFromSession(An,Dn),streamDestroyed:Pn=>{["reset"].indexOf(Pn)<0&&(ws.isDestroyed()||ws.set("MediaBound"));const An=new ro.StreamEvent("streamDestroyed",this.stream,Pn,!0);this.dispatchEventOnce(An,this.streamId),An.isDefaultPrevented()||this.destroy()},archivingStatus(Pn){return _l&&_l.setArchivingStatus(Pn),Pn},webRtcStream(){return Ro},switchTracks(){return(0,ot.default)(it.default.mark(function Pn(){var An;return it.default.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return qt.prev=0,qt.next=3,sm().catch(uu);case 3:An=qt.sent,qt.next=10;break;case 6:throw qt.prev=6,qt.t0=qt.catch(0),so.error(`OT.Publisher.switchTracks failed to getUserMedia: ${qt.t0}`),qt.t0;case 10:A0(An),qt.prev=11,jn(),qt.next=21;break;case 15:if(qt.prev=15,qt.t1=qt.catch(11),!(qt.t1 instanceof Nt)){qt.next=19;break}return qt.abrupt("return");case 19:throw so.error("Error while binding video",qt.t1),qt.t1;case 21:qt.prev=21,L0(),qt.next=29;break;case 25:throw qt.prev=25,qt.t2=qt.catch(21),so.error("Error replacing tracks",qt.t2),qt.t2;case 29:case"end":return qt.stop()}},Pn,null,[[0,6],[11,15],[21,25]])}))()},getDataChannel(Pn,An,Dn){const qt=gp(Object.keys(Sl)[0]);if(!qt){Dn(new ls.Error("Cannot create a DataChannel before there is a subscriber."));return}qt.then(xn=>{xn.getDataChannel(Pn,An,Dn)})},iceRestart(Pn){Pn===void 0&&(Pn=!1),Wu().then(An=>{An.forEach(Dn=>{const qt=Il(Dn),xn=qt.remoteConnectionId;um("Attempt",{remoteConnectionId:xn}),so.debug("Publisher: ice restart attempt"),Dn.iceRestart(),Pn&&Dn.generateOffer()})})},getState(){return ws},demoOnlyCycleVideo:this.cycleVideo,testOnlyGetFramesEncoded(){return(0,ot.default)(it.default.mark(function Pn(){var An;return it.default.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return qt.next=2,Wu();case 2:if(An=qt.sent,An.length){qt.next=5;break}throw new Error("No established PeerConnections yet");case 5:return qt.abrupt("return",An[0]._testOnlyGetFramesEncoded());case 6:case"end":return qt.stop()}},Pn)}))()},onStreamAvailable:dr,startRoutedToRelayedTransition:()=>{_u.startTransitionTo("P2P"),Gm()},startRelayedToRoutedTransition:()=>{_u.startTransitionTo("MANTIS",()=>w0())},forceMuteAudio:function(){jo("publishAudio","Attempt",{publishAudio:!1}),lo.publishAudio=!1;try{Lm("auto"),this.dispatchEvent(new ro.MuteForcedEvent),jo("publishAudio","Success",{publishAudio:!1})}catch(Pn){jo("publishAudio","Failure",{message:Pn.message})}}.bind(this),setCongestionLevel:function(){var Pn=(0,ot.default)(it.default.mark(function Dn(qt,xn){var On;return it.default.wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:if(!Vm){Qn.next=15;break}if(!xn){Qn.next=8;break}return Qn.next=4,gp(xn);case 4:Qn.t1=Qn.sent,Qn.t0=[Qn.t1],Qn.next=11;break;case 8:return Qn.next=10,Wu();case 10:Qn.t0=Qn.sent;case 11:On=Qn.t0,On.forEach(hr=>{hr.setCongestionLevel(qt)}),Qn.next=16;break;case 15:so.warn("Audio Fallback is not enabled");case 16:case"end":return Qn.stop()}},Dn)}));function An(Dn,qt){return Pn.apply(this,arguments)}return An}()},this.detectDevices=function(){so.warn("Publisher.detectDevices() is not implemented.")},this.detectMicActivity=function(){so.warn("Publisher.detectMicActivity() is not implemented.")},this.getEchoCancellationMode=function(){return so.warn("Publisher.getEchoCancellationMode() is not implemented."),"fullDuplex"},this.setMicrophoneGain=function(){so.warn("Publisher.setMicrophoneGain() is not implemented.")},this.getMicrophoneGain=function(){return so.warn("Publisher.getMicrophoneGain() is not implemented."),.5},this.setCamera=function(){so.warn("Publisher.setCamera() is not implemented.")},this.setMicrophone=function(){so.warn("Publisher.setMicrophone() is not implemented.")},this.guid=function(){return lm},this.videoElement=function(){const Pn=ts&&ts.video();return Pn?Pn.domElement():null},this.setStream=Au,this.isWebRTC=!0,this.isLoading=function(){return ts&&ts.loading()},this.videoWidth=()=>Sm().width,this.videoHeight=()=>Sm().height,this.getStats=function(An){Am((Dn,qt)=>{Dn?An(Dn):An(null,qt)})},this.getRtcStatsReport=()=>new nt((Pn,An)=>{s0((Dn,qt)=>{Dn?An(Dn):Pn(qt)})}),ws=new Rl(Om),this.accessAllowed=!1,this.applyVideoFilter=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt,xn,On,$n,Qn,hr;return it.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:if(qt=_r(Dn),jo("applyVideoFilter","Attempt",{videoFilter:qt}),pr.prev=2,!Wn){pr.next=5;break}throw _o(xo.NOT_SUPPORTED,new Error("Cannot apply video filter when videoMediaProcessorConnector is set."));case 5:if(xn=vu.isSupported(),xn){pr.next=8;break}throw _o(xo.NOT_SUPPORTED,new Error("Browser does not support video filters (Insertable Streams and Worker APIs are required)"));case 8:if(_c.isValidVideoFilter(Dn)){pr.next=10;break}throw _o(xo.INVALID_PARAMETER,new Error("Video filter has invalid configuration"));case 10:if(Ro){pr.next=15;break}return On="Ignoring. No mediaStream",jo("applyVideoFilter","Failure",{message:On}),so.warn(On),pr.abrupt("return");case 15:if(!$l){pr.next=17;break}throw _o(xo.INVALID_PARAMETER,new Error("Video filters can not be applied to screen share"));case 17:if(Yp(),lo.publishVideo){pr.next=22;break}return $u=Dn,jo("applyVideoFilter","Success",{videoFilter:qt}),pr.abrupt("return");case 22:if(!_c.getVideoFilter()){pr.next=37;break}if(!_c.canUpdateVideoFilter(Dn.type)){pr.next=35;break}return pr.prev=24,pr.next=27,_c.updateVideoFilter(Dn);case 27:return $u=Dn,jo("applyVideoFilter","Success",{videoFilter:qt}),pr.abrupt("return");case 32:pr.prev=32,pr.t0=pr.catch(24),so.warn(`Error updating video filter: ${pr.t0}`);case 35:return pr.next=37,us.clearVideoFilter();case 37:if($n=Ro.getVideoTracks(),Qn=$n[0],Qn){pr.next=43;break}return On="Ignoring. No video",jo("applyVideoFilter","Failure",{message:On}),so.warn(On),pr.abrupt("return");case 43:return pr.next=45,_c.setVideoFilter(Dn);case 45:return pr.next=47,_c.setMediaStream(Ro);case 47:if(hr=pr.sent,!hr){pr.next=51;break}return pr.next=51,xm(Qn,hr);case 51:pr.next=58;break;case 53:throw pr.prev=53,pr.t1=pr.catch(2),so.error(`Error applying video filter: ${pr.t1}`),jo("applyVideoFilter","Failure",{message:pr.t1.message}),pr.t1;case 58:$u=Dn,jo("applyVideoFilter","Success",{videoFilter:qt});case 60:case"end":return pr.stop()}},An,null,[[2,53],[24,32]])}));return function(An){return Pn.apply(this,arguments)}}(),this.getVideoFilter=()=>(jo("getVideoFilter","Attempt"),jo("getVideoFilter","Success"),$u||null),this.setVideoMediaProcessorConnector=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt,xn,On,$n,Qn,hr;return it.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:if(jo("setVideoMediaProcessorConnector","Attempt",{message:Dn?"setting the connector":"clearing the connector"}),!us.getVideoFilter()){pr.next=4;break}throw jo("setVideoMediaProcessorConnector","Failure",{message:"Tried to set video MediaProcessorConnector when video filter applied."}),_o(xo.NOT_SUPPORTED,new Error("setVideoMediaProcessorConnector: Cannot use this method when videoFilter is set."));case 4:if(!Wn){pr.next=14;break}return qt=Ro.getVideoTracks(),xn=qt[0],pr.next=8,Zm(Fu);case 8:return On=pr.sent,pr.next=11,xm(xn,On);case 11:Wn.destroy(),Wn.stopOriginalTrack(),Wn=null;case 14:if(Dn){pr.next=17;break}return jo("setVideoMediaProcessorConnector","Success",{message:"clearing the connector"}),pr.abrupt("return");case 17:if(Ys.isValidConnector(Dn)){pr.next=20;break}throw jo("setVideoMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),_o(xo.INVALID_PARAMETER,new Error("setVideoMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 20:if(Wn=new Ys(Dn),$n=Ro.getVideoTracks(),Qn=$n[0],Qn){pr.next=28;break}return hr="Connector not set as no video track is present.",jo("setVideoMediaProcessorConnector","Failure",{message:hr}),so.warn(`setVideoMediaProcessorConnector: ${hr}`),Wn=null,pr.abrupt("return");case 28:return pr.prev=28,pr.next=31,Wn.setTrack(Qn);case 31:return xn=pr.sent,pr.next=34,xm(Qn,xn);case 34:pr.next=42;break;case 36:throw pr.prev=36,pr.t0=pr.catch(28),Wn=null,so.error(`setVideoMediaProcessorConnector: Error getting track from MediaProcessorConnector: ${pr.t0}`),jo("setVideoMediaProcessorConnector","Failure",{message:pr.t0.message}),pr.t0;case 42:jo("setVideoMediaProcessorConnector","Success");case 43:case"end":return pr.stop()}},An,null,[[28,36]])}));return function(An){return Pn.apply(this,arguments)}}(),this.setAudioMediaProcessorConnector=function(){var Pn=(0,ot.default)(it.default.mark(function An(Dn){var qt,xn,On,$n,Qn;return it.default.wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:if(jo("setAudioMediaProcessorConnector","Attempt",{message:Dn?"setting the connector":"clearing the connector"}),!Bn){yr.next=7;break}return qt=Ro.getAudioTracks(),xn=qt[0],yr.next=5,Pm(xn,Bn.originalTrack);case 5:Bn.destroy(),Bn=null;case 7:if(Dn){yr.next=10;break}return jo("setAudioMediaProcessorConnector","Success",{message:"clearing the connector"}),yr.abrupt("return");case 10:if(Ys.isValidConnector(Dn)){yr.next=13;break}throw jo("setAudioMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),_o(xo.INVALID_PARAMETER,new Error("setAudioMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 13:if(On=Ro.getAudioTracks(),$n=On[0],$n){yr.next=20;break}return Qn="Connector not set as no audio track is present.",jo("setAudioMediaProcessorConnector","Failure",{message:Qn}),so.warn(`setAudioMediaProcessorConnector: ${Qn}`),Bn=null,yr.abrupt("return");case 20:return Bn=new Ys(Dn),yr.prev=21,yr.next=24,Bn.setTrack($n);case 24:return xn=yr.sent,yr.next=27,Pm(us.getAudioSource(),xn);case 27:yr.next=35;break;case 29:throw yr.prev=29,yr.t0=yr.catch(21),Bn=null,so.error(`setAudioMediaProcessorConnector: Error getting track from MediaProcessorConnector: ${yr.t0}`),jo("setAudioMediaProcessorConnector","Failure",{message:yr.t0.message}),yr.t0;case 35:jo("setAudioMediaProcessorConnector","Success");case 36:case"end":return yr.stop()}},An,null,[[21,29]])}));return function(An){return Pn.apply(this,arguments)}}(),this.clearVideoFilter=(0,ot.default)(it.default.mark(function Pn(){var An,Dn,qt,xn,On;return it.default.wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:if(jo("clearVideoFilter","Attempt"),!(!lo.publishVideo&&!_c.getVideoFilter())){Qn.next=5;break}return $u=null,jo("clearVideoFilter","Success"),Qn.abrupt("return");case 5:if(!(!_c.getVideoFilter()&&!$u)){Qn.next=10;break}return An="Ignoring. No video filter applied",jo("clearVideoFilter","Success",{message:An}),so.debug(An),Qn.abrupt("return");case 10:if(vu.isSupported()){Qn.next=15;break}return An='Ignoring. "clearVideoFilter" not supported.',jo("clearVideoFilter","Success",{message:An}),so.warn(An),Qn.abrupt("return");case 15:if(Ro){Qn.next=20;break}return An="Ignoring. No mediaStream",jo("clearVideoFilter","Success",{message:An}),so.warn(An),Qn.abrupt("return");case 20:return Dn=$u,$u=null,qt=Ro.getVideoTracks(),xn=qt[0],Qn.prev=23,Qn.next=26,Zm(Fu);case 26:On=Qn.sent,Qn.next=33;break;case 29:return Qn.prev=29,Qn.t0=Qn.catch(23),so.error(Qn.t0),Qn.abrupt("return");case 33:if(On){Qn.next=36;break}return so.warn("Failed to clear filter because there is no video track."),Qn.abrupt("return");case 36:return Qn.prev=36,Qn.next=39,xm(xn,On);case 39:return Qn.next=41,Hm();case 41:Qn.next=46;break;case 43:Qn.prev=43,Qn.t1=Qn.catch(36),$u=Dn;case 46:jo("clearVideoFilter","Success");case 47:case"end":return Qn.stop()}},Pn,null,[[23,29],[36,43]])}))}}}).call(this,et(0))},function(_e,tt,et){const nt=et(51).once;_e.exports=function(it,ot){ot===void 0&&(ot={});const st=ot.hasE2eeCapability||et(110),at=ot.hasOpenTokSupport||nt;this.publish=it.indexOf("publish")!==-1?1:0,this.subscribe=it.indexOf("subscribe")!==-1?1:0,this.forceUnpublish=it.indexOf("forceunpublish")!==-1?1:0,this.forceDisconnect=it.indexOf("forcedisconnect")!==-1?1:0,this.forceMute=it.indexOf("forcemute")!==-1?1:0,this.supportsE2ee=st()?1:0,this.supportsWebRTC=at()?1:0,this.permittedTo=ct=>Object.prototype.hasOwnProperty.call(this,ct)&&this[ct]===1}},function(_e,tt,et){const nt=et(1)("Stream"),rt=et(8),it=et(21),ot=et(6),st=et(23)(),at=["name","archiving"];_e.exports=function(lt,dt,ut,ft,pt,yt,Tt){const ht=this;let gt;this.id=lt,this.streamId=lt,this.name=dt,this.creationTime=Number(ut),this.initials=Tt||"",this.connection=ft,this.channel=yt,this.publisher=it.publishers.find({streamId:this.id}),ot(this);const vt=function(Lt,Pt,cn,Jt){let Bt=Pt;switch(Bt){case"active":Bt=Lt.type==="audio"?"hasAudio":"hasVideo",ht[Bt]=Jt;break;case"disableWarning":if(Bt=Lt.type==="audio"?"audioDisableWarning":"videoDisableWarning",ht[Bt]=Jt,!ht[Lt.type==="audio"?"hasAudio":"hasVideo"])return;break;case"fitMode":Bt="defaultFitMode",ht[Bt]=Jt;break;case"source":Bt=Lt.type==="audio"?"audioType":"videoType",ht[Bt]=Jt;break;case"videoDimensions":ht.videoDimensions=Jt;break;case"orientation":case"width":case"height":return}ht.dispatchEvent(new st.StreamUpdatedEvent(ht,Bt,cn,Jt))},Ct=function(){return ht.publisher?ht.publisher:it.subscribers.find(Lt=>Lt.stream&&Lt.stream.id===ht.id&&Lt.session.id===pt.id)},It=function(){return!ht.publisher};this.getChannelsOfType=function(Lt){return ht.channel.filter(Pt=>Pt.type===Lt)},this.getChannel=function(Lt){for(let Pt=0;Pt<ht.channel.length;++Pt)if(ht.channel[Pt].id===Lt)return ht.channel[Pt];return null};const Zt=this.getChannelsOfType("audio")[0],Mt=this.getChannelsOfType("video")[0];this.hasAudio=Zt!=null&&Zt.active,this.hasVideo=Mt!=null&&Mt.active,this.videoType=Mt&&Mt.source,this.defaultFitMode=Mt&&Mt.fitMode,this.videoDimensions={},Mt&&(this.videoDimensions.width=Mt.width,this.videoDimensions.height=Mt.height,this.videoDimensions.orientation=Mt.orientation,Mt.on("update",vt),this.frameRate=Mt.frameRate),Zt&&Zt.on("update",vt),this.setChannelActiveState=function(Lt,Pt,cn,Jt,Bt){const dn={active:Pt};cn&&(dn.activeReason=cn),Jt!==void 0&&(dn.congestionLevel=Jt),Bt&&(dn.subscriberId=Bt),kt(Lt,dn)},this.setVideoDimensions=function(Lt,Pt){kt("video",{width:Lt,height:Pt,orientation:0})},this.setRestrictFrameRate=function(Lt){kt("video",{restrictFrameRate:Lt})},this.setPreferredResolution=function(Lt){if(!It()){nt.warn("setPreferredResolution has no affect when called by a publisher");return}if(pt.sessionInfo.p2pEnabled){nt.warn("Stream.setPreferredResolution will not work in a P2P Session");return}if(Lt&&Lt.width===void 0&&Lt.height===void 0)return;const Pt=ht.getChannelsOfType("video")[0];if(Pt){if(Lt&&Lt.width){if(isNaN(parseInt(Lt.width,10)))throw new rt.Error("stream preferred width must be an integer","Subscriber");Pt.preferredWidth=parseInt(Lt.width,10)}else Pt.preferredWidth=void 0;if(Lt&&Lt.height){if(isNaN(parseInt(Lt.height,10)))throw new rt.Error("stream preferred height must be an integer","Subscriber");Pt.preferredHeight=parseInt(Lt.height,10)}else Pt.preferredHeight=void 0;pt._.subscriberChannelUpdate(ht,Ct(),Pt,{preferredWidth:Pt.preferredWidth||0,preferredHeight:Pt.preferredHeight||0})}},this.getPreferredResolution=function(){const Lt=ht.getChannelsOfType("video")[0];if(!(!Lt||!Lt.preferredWidth&&!Lt.preferredHeight))return{width:Lt.preferredWidth,height:Lt.preferredHeight}},this.setPreferredFrameRate=function(Lt){if(!It()){nt.warn("setPreferredFrameRate has no affect when called by a publisher");return}if(pt.sessionInfo.p2pEnabled){nt.warn("Stream.setPreferredFrameRate will not work in a P2P Session");return}if(Lt&&isNaN(parseFloat(Lt)))throw new rt.Error("stream preferred frameRate must be a number","Subscriber");const Pt=ht.getChannelsOfType("video")[0];Pt&&(Pt.preferredFrameRate=Lt?parseFloat(Lt):null,pt._.subscriberChannelUpdate(ht,Ct(),Pt,{preferredFrameRate:Pt.preferredFrameRate||0}))},this.getPreferredFrameRate=function(){const Lt=ht.getChannelsOfType("video")[0];return Lt?Lt.preferredFrameRate:null};let kt=function(Lt,Pt){let cn;if(ht.publisher)cn=Jt=>pt._.streamChannelUpdate(ht,Jt,Pt);else{const Jt=Ct();cn=Bt=>pt._.subscriberChannelUpdate(ht,Jt,Bt,Pt)}ht.getChannelsOfType(Lt).forEach(cn)};this.destroyed=!1,this.destroyedReason=void 0,this.destroy=function(Lt,Pt){Lt===void 0&&(Lt="clientDisconnected"),gt=Lt,ht.destroyed=!0,ht.destroyedReason=gt,Pt!==!0&&ht.dispatchEvent(new st.DestroyedEvent("destroyed",ht,gt))},this._={},this._.updateProperty=function(Lt,Pt){if(at.indexOf(Lt)===-1){nt.warn(`Unknown stream property "${Lt}" was modified to "${Pt}".`);return}const cn=ht[Lt],Jt=Pt;switch(Lt){case"name":ht[Lt]=Jt;break;case"archiving":var Bt=Ct();ht.publisher&&Bt&&Bt._.archivingStatus(Jt),ht[Lt]=Jt;break}const dn=new st.StreamUpdatedEvent(ht,Lt,cn,Jt);ht.dispatchEvent(dn)},this._.update=function(Lt){for(const Pt in Lt)Lt.hasOwnProperty(Pt)&&ht._.updateProperty(Pt,Lt[Pt])},this._.forceMute=function(Lt){Lt.hasOwnProperty("channels")&&Lt.channels.includes("audio")&&ht.publisher&&ht.publisher._.forceMuteAudio()},this._.updateChannel=function(Lt,Pt){const cn=ht.getChannel(Lt);cn&&cn.update(Pt)}}},function(_e,tt,et){tt.__esModule=!0,tt.UNSUBSCRIBE=tt.SUBSCRIBE=tt.STATUS=tt.PONG=tt.PING=tt.MESSAGE=tt.DISCONNECT=tt.CONNECT=void 0;const nt=0;tt.SUBSCRIBE=nt;const rt=1;tt.UNSUBSCRIBE=rt;const it=2;tt.MESSAGE=it;const ot=3;tt.CONNECT=ot;const st=4;tt.DISCONNECT=st;const at=7;tt.PING=at;const ct=8;tt.PONG=ct;const lt=9;tt.STATUS=lt},function(_e,tt,et){const nt=et(9),rt=et(169),it=et(6),ot=et(23)(),st=et(755);function at(ct,lt,dt,ut,ft){let pt;this.id=ct,this.connectionId=ct,this.creationTime=lt?Number(lt):null,this.data=dt,this.capabilities=st(ut),this.permissions=new rt(ft),this.quality=null,it(this),this.destroy=(yt,Tt)=>{pt=yt||"clientDisconnected",Tt!==!0&&this.dispatchEvent(new ot.DestroyedEvent("destroyed",this,pt))},this.destroyed=()=>pt!==void 0,this.destroyedReason=()=>pt}at.fromHash=ct=>{let lt=ct.id,dt=ct.creationTime,ut=ct.data,ft=ct.capablities,pt=ct.permissions;return new at(lt,dt,ut,nt(ft||{},{supportsWebRTC:!0}),pt||[])},_e.exports=at},function(_e,tt){var et=typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)&&(typeof window!==void 0?window:commonjsGlobal).Object===Object&&(typeof window!==void 0?window:commonjsGlobal);_e.exports=et},function(_e,tt){var et=Function.prototype,nt=et.toString;function rt(it){if(it!=null){try{return nt.call(it)}catch{}try{return it+""}catch{}}return""}_e.exports=rt},function(_e,tt,et){var nt=et(38),rt=function(){try{var it=nt(Object,"defineProperty");return it({},"",{}),it}catch{}}();_e.exports=rt},function(_e,tt,et){var nt=et(40),rt=et(30);function it(ot,st){return ot&&nt(st,rt(st),ot)}_e.exports=it},function(_e,tt,et){var nt=et(381),rt=et(63),it=et(12),ot=et(64),st=et(65),at=et(85),ct=Object.prototype,lt=ct.hasOwnProperty;function dt(ut,ft){var pt=it(ut),yt=!pt&&rt(ut),Tt=!pt&&!yt&&ot(ut),ht=!pt&&!yt&&!Tt&&at(ut),gt=pt||yt||Tt||ht,vt=gt?nt(ut.length,String):[],Ct=vt.length;for(var It in ut)(ft||lt.call(ut,It))&&!(gt&&(It=="length"||Tt&&(It=="offset"||It=="parent")||ht&&(It=="buffer"||It=="byteLength"||It=="byteOffset")||st(It,Ct)))&&vt.push(It);return vt}_e.exports=dt},function(_e,tt){function et(nt,rt){return function(it){return nt(rt(it))}}_e.exports=et},function(_e,tt,et){(function(nt){var rt=et(14),it=tt&&!tt.nodeType&&tt,ot=it&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,st=ot&&ot.exports===it,at=st?rt.Buffer:void 0,ct=at?at.allocUnsafe:void 0;function lt(dt,ut){if(ut)return dt.slice();var ft=dt.length,pt=ct?ct(ft):new dt.constructor(ft);return dt.copy(pt),pt}nt.exports=lt}).call(this,et(84)(_e))},function(_e,tt){function et(){return[]}_e.exports=et},function(_e,tt,et){var nt=et(118),rt=et(119),it=et(117),ot=et(180),st=Object.getOwnPropertySymbols,at=st?function(ct){for(var lt=[];ct;)nt(lt,it(ct)),ct=rt(ct);return lt}:ot;_e.exports=at},function(_e,tt,et){var nt=et(183),rt=et(117),it=et(30);function ot(st){return nt(st,it,rt)}_e.exports=ot},function(_e,tt,et){var nt=et(118),rt=et(12);function it(ot,st,at){var ct=st(ot);return rt(ot)?ct:nt(ct,at(ot))}_e.exports=it},function(_e,tt,et){var nt=et(183),rt=et(181),it=et(53);function ot(st){return nt(st,it,rt)}_e.exports=ot},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"Set");_e.exports=it},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"WeakMap");_e.exports=it},function(_e,tt,et){var nt=et(14),rt=nt.Uint8Array;_e.exports=rt},function(_e,tt,et){var nt=et(120);function rt(it,ot){var st=ot?nt(it.buffer):it.buffer;return new it.constructor(st,it.byteOffset,it.length)}_e.exports=rt},function(_e,tt,et){var nt=et(86),rt=et(119),it=et(67);function ot(st){return typeof st.constructor=="function"&&!it(st)?nt(rt(st)):{}}_e.exports=ot},function(_e,tt,et){var nt=et(112),rt="Expected a function";function it(ot,st){if(typeof ot!="function"||st!=null&&typeof st!="function")throw new TypeError(rt);var at=function(){var ct=arguments,lt=st?st.apply(this,ct):ct[0],dt=at.cache;if(dt.has(lt))return dt.get(lt);var ut=ot.apply(this,ct);return at.cache=dt.set(lt,ut)||dt,ut};return at.cache=new(it.Cache||nt),at}it.Cache=nt,_e.exports=it},function(_e,tt,et){var nt=et(87),rt=et(124);function it(ot){return nt(function(st,at){var ct=-1,lt=at.length,dt=lt>1?at[lt-1]:void 0,ut=lt>2?at[2]:void 0;for(dt=ot.length>3&&typeof dt=="function"?(lt--,dt):void 0,ut&&rt(at[0],at[1],ut)&&(dt=lt<3?void 0:dt,lt=1),st=Object(st);++ct<lt;){var ft=at[ct];ft&&ot(st,ft,ct,dt)}return st})}_e.exports=it},function(_e,tt,et){var nt=et(122),rt=Math.max;function it(ot,st,at){return st=rt(st===void 0?ot.length-1:st,0),function(){for(var ct=arguments,lt=-1,dt=rt(ct.length-st,0),ut=Array(dt);++lt<dt;)ut[lt]=ct[st+lt];lt=-1;for(var ft=Array(st+1);++lt<st;)ft[lt]=ct[lt];return ft[st]=at(ut),nt(ot,this,ft)}}_e.exports=it},function(_e,tt){var et=800,nt=16,rt=Date.now;function it(ot){var st=0,at=0;return function(){var ct=rt(),lt=nt-(ct-at);if(at=ct,lt>0){if(++st>=et)return arguments[0]}else st=0;return ot.apply(void 0,arguments)}}_e.exports=it},function(_e,tt,et){_e.exports=et(409)()?WeakMap:et(410)},function(_e,tt,et){var nt=Object.create,rt=Object.getPrototypeOf,it={};_e.exports=function(){var ot=Object.setPrototypeOf,st=arguments[0]||nt;return typeof ot!="function"?!1:rt(ot(st(null),it))===it}},function(_e,tt,et){var nt=et(197),rt=et(31),it=Object.prototype.isPrototypeOf,ot=Object.defineProperty,st={configurable:!0,enumerable:!1,writable:!0,value:void 0},at;at=function(ct,lt){if(rt(ct),lt===null||nt(lt))return ct;throw new TypeError("Prototype must be null or an object")},_e.exports=function(ct){var lt,dt;return ct?(ct.level===2?ct.set?(dt=ct.set,lt=function(ut,ft){return dt.call(at(ut,ft),ft),ut}):lt=function(ut,ft){return at(ut,ft).__proto__=ft,ut}:lt=function ut(ft,pt){var yt;return at(ft,pt),yt=it.call(ut.nullPolyfill,ft),yt&&delete ut.nullPolyfill.__proto__,pt===null&&(pt=ut.nullPolyfill),ft.__proto__=pt,yt&&ot(ut.nullPolyfill,"__proto__",st),ft},Object.defineProperty(lt,"level",{configurable:!1,enumerable:!1,writable:!1,value:ct.level})):null}(function(){var ct=Object.create(null),lt={},dt,ut=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(ut){try{dt=ut.set,dt.call(ct,lt)}catch{}if(Object.getPrototypeOf(ct)===lt)return{set:dt,level:2}}return ct.__proto__=lt,Object.getPrototypeOf(ct)===lt?{level:2}:(ct={},ct.__proto__=lt,Object.getPrototypeOf(ct)===lt?{level:1}:!1)}()),et(412)},function(_e,tt,et){var nt=et(43),rt={function:!0,object:!0};_e.exports=function(it){return nt(it)&&rt[typeof it]||!1}},function(_e,tt,et){var nt=et(415),rt=/^\s*class[\s{/}]/,it=Function.prototype.toString;_e.exports=function(ot){return!(!nt(ot)||rt.test(it.call(ot)))}},function(_e,tt,et){var nt=et(43),rt=Array.prototype.forEach,it=Object.create,ot=function(st,at){var ct;for(ct in st)at[ct]=st[ct]};_e.exports=function(st){var at=it(null);return rt.call(arguments,function(ct){nt(ct)&&ot(Object(ct),at)}),at}},function(_e,tt,et){_e.exports=et(422)()?String.prototype.contains:et(423)},function(_e,tt,et){var nt=et(89),rt=et(90),it=et(424),ot=et(453),st=et(454),at=et(44).iterator;_e.exports=function(ct){return typeof st(ct)[at]=="function"?ct[at]():nt(ct)?new it(ct):rt(ct)?new ot(ct):new it(ct)}},function(_e,tt,et){var nt=et(429);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not a symbol");return rt}},function(_e,tt,et){var nt=et(433),rt=et(127),it=et(68),ot=et(31),st=et(32),at=et(434),ct=et(44),lt=Object.defineProperty,dt=Object.defineProperties,ut;_e.exports=ut=function(ft,pt){if(!(this instanceof ut))throw new TypeError("Constructor requires 'new'");dt(this,{__list__:st("w",ot(ft)),__context__:st("w",pt),__nextIndex__:st("w",0)}),pt&&(it(pt.on),pt.on("_add",this._onAdd),pt.on("_delete",this._onDelete),pt.on("_clear",this._onClear))},delete ut.prototype.constructor,dt(ut.prototype,rt({_next:st(function(){var ft;if(this.__list__){if(this.__redo__&&(ft=this.__redo__.shift(),ft!==void 0))return ft;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:st(function(){return this._createResult(this._next())}),_createResult:st(function(ft){return ft===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(ft)}}),_resolve:st(function(ft){return this.__list__[ft]}),_unBind:st(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:st(function(){return"[object "+(this[ct.toStringTag]||"Object")+"]"})},at({_onAdd:st(function(ft){if(!(ft>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){lt(this,"__redo__",st("c",[ft]));return}this.__redo__.forEach(function(pt,yt){pt>=ft&&(this.__redo__[yt]=++pt)},this),this.__redo__.push(ft)}}),_onDelete:st(function(ft){var pt;ft>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(pt=this.__redo__.indexOf(ft),pt!==-1&&this.__redo__.splice(pt,1),this.__redo__.forEach(function(yt,Tt){yt>ft&&(this.__redo__[Tt]=--yt)},this)))}),_onClear:st(function(){this.__redo__&&nt.call(this.__redo__),this.__nextIndex__=0})}))),lt(ut.prototype,ct.iterator,st(function(){return this}))},function(_e,tt,et){var nt=et(55),rt=et(126),it=et(436),ot=et(437),st=function(at,ct){return at.replace("%v",ot(ct))};_e.exports=function(at,ct,lt){if(!rt(lt))throw new TypeError(st(ct,at));if(!nt(at)){if("default"in lt)return lt.default;if(lt.isOptional)return null}var dt=it(lt.errorMessage);throw nt(dt)||(dt=ct),new TypeError(st(dt,at))}},function(_e,tt){function et(nt,rt,it,ot){for(var st=nt.length,at=it+(ot?1:-1);ot?at--:++at<st;)if(rt(nt[at],at,nt))return at;return-1}_e.exports=et},function(_e,tt,et){_e.exports=et(465)},function(_e,tt,et){_e.exports=function(rt,it){return function(){for(var st=new Array(arguments.length),at=0;at<st.length;at++)st[at]=arguments[at];return rt.apply(it,st)}}},function(_e,tt,et){var nt=et(19);function rt(it){return encodeURIComponent(it).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}_e.exports=function(ot,st,at){if(!st)return ot;var ct;if(at)ct=at(st);else if(nt.isURLSearchParams(st))ct=st.toString();else{var lt=[];nt.forEach(st,function(ft,pt){ft===null||typeof ft>"u"||(nt.isArray(ft)?pt=pt+"[]":ft=[ft],nt.forEach(ft,function(Tt){nt.isDate(Tt)?Tt=Tt.toISOString():nt.isObject(Tt)&&(Tt=JSON.stringify(Tt)),lt.push(rt(pt)+"="+rt(Tt))}))}),ct=lt.join("&")}if(ct){var dt=ot.indexOf("#");dt!==-1&&(ot=ot.slice(0,dt)),ot+=(ot.indexOf("?")===-1?"?":"&")+ct}return ot}},function(_e,tt,et){_e.exports=function(rt,it,ot,st,at){return rt.config=it,ot&&(rt.code=ot),rt.request=st,rt.response=at,rt.isAxiosError=!0,rt.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},rt}},function(_e,tt,et){(function(nt){var rt=et(19),it=et(471),ot=et(472),st=et(208),at=et(473),ct=et(476),lt=et(477),dt=et(211);_e.exports=function(ft){return new nt(function(yt,Tt){var ht=ft.data,gt=ft.headers,vt=ft.responseType;rt.isFormData(ht)&&delete gt["Content-Type"];var Ct=new XMLHttpRequest;if(ft.auth){var It=ft.auth.username||"",Zt=ft.auth.password?unescape(encodeURIComponent(ft.auth.password)):"";gt.Authorization="Basic "+btoa(It+":"+Zt)}var Mt=at(ft.baseURL,ft.url);Ct.open(ft.method.toUpperCase(),st(Mt,ft.params,ft.paramsSerializer),!0),Ct.timeout=ft.timeout;function kt(){if(Ct){var Lt="getAllResponseHeaders"in Ct?ct(Ct.getAllResponseHeaders()):null,Pt=!vt||vt==="text"||vt==="json"?Ct.responseText:Ct.response,cn={data:Pt,status:Ct.status,statusText:Ct.statusText,headers:Lt,config:ft,request:Ct};it(yt,Tt,cn),Ct=null}}if("onloadend"in Ct?Ct.onloadend=kt:Ct.onreadystatechange=function(){!Ct||Ct.readyState!==4||Ct.status===0&&!(Ct.responseURL&&Ct.responseURL.indexOf("file:")===0)||setTimeout(kt)},Ct.onabort=function(){Ct&&(Tt(dt("Request aborted",ft,"ECONNABORTED",Ct)),Ct=null)},Ct.onerror=function(){Tt(dt("Network Error",ft,null,Ct)),Ct=null},Ct.ontimeout=function(){var Pt="timeout of "+ft.timeout+"ms exceeded";ft.timeoutErrorMessage&&(Pt=ft.timeoutErrorMessage),Tt(dt(Pt,ft,ft.transitional&&ft.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Ct)),Ct=null},rt.isStandardBrowserEnv()){var Nt=(ft.withCredentials||lt(Mt))&&ft.xsrfCookieName?ot.read(ft.xsrfCookieName):void 0;Nt&&(gt[ft.xsrfHeaderName]=Nt)}"setRequestHeader"in Ct&&rt.forEach(gt,function(Pt,cn){typeof ht>"u"&&cn.toLowerCase()==="content-type"?delete gt[cn]:Ct.setRequestHeader(cn,Pt)}),rt.isUndefined(ft.withCredentials)||(Ct.withCredentials=!!ft.withCredentials),vt&&vt!=="json"&&(Ct.responseType=ft.responseType),typeof ft.onDownloadProgress=="function"&&Ct.addEventListener("progress",ft.onDownloadProgress),typeof ft.onUploadProgress=="function"&&Ct.upload&&Ct.upload.addEventListener("progress",ft.onUploadProgress),ft.cancelToken&&ft.cancelToken.promise.then(function(Pt){Ct&&(Ct.abort(),Tt(Pt),Ct=null)}),ht||(ht=null),Ct.send(ht)})}}).call(this,et(0))},function(_e,tt,et){var nt=et(209);_e.exports=function(it,ot,st,at,ct){var lt=new Error(it);return nt(lt,ot,st,at,ct)}},function(_e,tt,et){_e.exports=function(rt){return!!(rt&&rt.__CANCEL__)}},function(_e,tt,et){var nt=et(19);_e.exports=function(it,ot){ot=ot||{};var st={},at=["url","method","data"],ct=["headers","auth","proxy","params"],lt=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],dt=["validateStatus"];function ut(Tt,ht){return nt.isPlainObject(Tt)&&nt.isPlainObject(ht)?nt.merge(Tt,ht):nt.isPlainObject(ht)?nt.merge({},ht):nt.isArray(ht)?ht.slice():ht}function ft(Tt){nt.isUndefined(ot[Tt])?nt.isUndefined(it[Tt])||(st[Tt]=ut(void 0,it[Tt])):st[Tt]=ut(it[Tt],ot[Tt])}nt.forEach(at,function(ht){nt.isUndefined(ot[ht])||(st[ht]=ut(void 0,ot[ht]))}),nt.forEach(ct,ft),nt.forEach(lt,function(ht){nt.isUndefined(ot[ht])?nt.isUndefined(it[ht])||(st[ht]=ut(void 0,it[ht])):st[ht]=ut(void 0,ot[ht])}),nt.forEach(dt,function(ht){ht in ot?st[ht]=ut(it[ht],ot[ht]):ht in it&&(st[ht]=ut(void 0,it[ht]))});var pt=at.concat(ct).concat(lt).concat(dt),yt=Object.keys(it).concat(Object.keys(ot)).filter(function(ht){return pt.indexOf(ht)===-1});return nt.forEach(yt,ft),st}},function(_e,tt,et){function nt(rt){this.message=rt}nt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},nt.prototype.__CANCEL__=!0,_e.exports=nt},function(_e,tt,et){var nt=et(484),rt=et(486);function it(ot,st,at){return nt(rt,ot,st,at)}_e.exports=it},function(_e,tt,et){var nt=et(88),rt=et(217),it=rt?function(ot,st){return rt.set(ot,st),ot}:nt;_e.exports=it},function(_e,tt,et){var nt=et(186),rt=nt&&new nt;_e.exports=rt},function(_e,tt,et){var nt=et(219),rt=et(220),it=et(490),ot=et(95),st=et(221),at=et(227),ct=et(499),lt=et(137),dt=et(14),ut=1,ft=2,pt=8,yt=16,Tt=128,ht=512;function gt(vt,Ct,It,Zt,Mt,kt,Nt,Lt,Pt,cn){var Jt=Ct&Tt,Bt=Ct&ut,dn=Ct&ft,vn=Ct&(pt|yt),Tn=Ct&ht,pn=dn?void 0:ot(vt);function In(){for(var Cn=arguments.length,yn=Array(Cn),bn=Cn;bn--;)yn[bn]=arguments[bn];if(vn)var Xn=at(In),Hn=it(yn,Xn);if(Zt&&(yn=nt(yn,Zt,Mt,vn)),kt&&(yn=rt(yn,kt,Nt,vn)),Cn-=Hn,vn&&Cn<cn){var En=lt(yn,Xn);return st(vt,Ct,gt,In.placeholder,It,yn,En,Lt,Pt,cn-Cn)}var Zn=Bt?It:this,Vn=dn?Zn[vt]:vt;return Cn=yn.length,Lt?yn=ct(yn,Lt):Tn&&Cn>1&&yn.reverse(),Jt&&Pt<Cn&&(yn.length=Pt),this&&this!==dt&&this instanceof In&&(Vn=pn||ot(Vn)),Vn.apply(Zn,yn)}return In}_e.exports=gt},function(_e,tt){var et=Math.max;function nt(rt,it,ot,st){for(var at=-1,ct=rt.length,lt=ot.length,dt=-1,ut=it.length,ft=et(ct-lt,0),pt=Array(ut+ft),yt=!st;++dt<ut;)pt[dt]=it[dt];for(;++at<lt;)(yt||at<ct)&&(pt[ot[at]]=rt[at]);for(;ft--;)pt[dt++]=rt[at++];return pt}_e.exports=nt},function(_e,tt){var et=Math.max;function nt(rt,it,ot,st){for(var at=-1,ct=rt.length,lt=-1,dt=ot.length,ut=-1,ft=it.length,pt=et(ct-dt,0),yt=Array(pt+ft),Tt=!st;++at<pt;)yt[at]=rt[at];for(var ht=at;++ut<ft;)yt[ht+ut]=it[ut];for(;++lt<dt;)(Tt||at<ct)&&(yt[ht+ot[lt]]=rt[at++]);return yt}_e.exports=nt},function(_e,tt,et){var nt=et(491),rt=et(225),it=et(226),ot=1,st=2,at=4,ct=8,lt=32,dt=64;function ut(ft,pt,yt,Tt,ht,gt,vt,Ct,It,Zt){var Mt=pt&ct,kt=Mt?vt:void 0,Nt=Mt?void 0:vt,Lt=Mt?gt:void 0,Pt=Mt?void 0:gt;pt|=Mt?lt:dt,pt&=~(Mt?dt:lt),pt&at||(pt&=~(ot|st));var cn=[ft,pt,ht,Lt,kt,Pt,Nt,Ct,It,Zt],Jt=yt.apply(void 0,cn);return nt(ft)&&rt(Jt,cn),Jt.placeholder=Tt,it(Jt,ft,pt)}_e.exports=ut},function(_e,tt,et){var nt=et(217),rt=et(223),it=nt?function(ot){return nt.get(ot)}:rt;_e.exports=it},function(_e,tt){function et(){}_e.exports=et},function(_e,tt,et){var nt=et(86),rt=et(136);function it(ot,st){this.__wrapped__=ot,this.__actions__=[],this.__chain__=!!st,this.__index__=0,this.__values__=void 0}it.prototype=nt(rt.prototype),it.prototype.constructor=it,_e.exports=it},function(_e,tt,et){var nt=et(216),rt=et(193),it=rt(nt);_e.exports=it},function(_e,tt,et){var nt=et(496),rt=et(497),it=et(123),ot=et(498);function st(at,ct,lt){var dt=ct+"";return it(at,rt(dt,ot(nt(dt),lt)))}_e.exports=st},function(_e,tt){function et(nt){var rt=nt;return rt.placeholder}_e.exports=et},function(_e,tt,et){var nt=et(503),rt=et(11),it=et(69),ot=0/0,st=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,ct=/^0o[0-7]+$/i,lt=parseInt;function dt(ut){if(typeof ut=="number")return ut;if(it(ut))return ot;if(rt(ut)){var ft=typeof ut.valueOf=="function"?ut.valueOf():ut;ut=rt(ft)?ft+"":ft}if(typeof ut!="string")return ut===0?ut:+ut;ut=nt(ut);var pt=at.test(ut);return pt||ct.test(ut)?lt(ut.slice(2),pt?2:8):st.test(ut)?ot:+ut}_e.exports=dt},function(_e,tt,et){var nt=et(511),rt=et(17);function it(ot,st,at,ct,lt){return ot===st?!0:ot==null||st==null||!rt(ot)&&!rt(st)?ot!==ot&&st!==st:nt(ot,st,at,ct,it,lt)}_e.exports=it},function(_e,tt,et){var nt=et(92),rt=et(231),it=et(94),ot=1,st=2;function at(ct,lt,dt,ut,ft,pt){var yt=dt&ot,Tt=ct.length,ht=lt.length;if(Tt!=ht&&!(yt&&ht>Tt))return!1;var gt=pt.get(ct),vt=pt.get(lt);if(gt&&vt)return gt==lt&&vt==ct;var Ct=-1,It=!0,Zt=dt&st?new nt:void 0;for(pt.set(ct,lt),pt.set(lt,ct);++Ct<Tt;){var Mt=ct[Ct],kt=lt[Ct];if(ut)var Nt=yt?ut(kt,Mt,Ct,lt,ct,pt):ut(Mt,kt,Ct,ct,lt,pt);if(Nt!==void 0){if(Nt)continue;It=!1;break}if(Zt){if(!rt(lt,function(Lt,Pt){if(!it(Zt,Pt)&&(Mt===Lt||ft(Mt,Lt,dt,ut,pt)))return Zt.push(Pt)})){It=!1;break}}else if(!(Mt===kt||ft(Mt,kt,dt,ut,pt))){It=!1;break}}return pt.delete(ct),pt.delete(lt),It}_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length;++it<ot;)if(rt(nt[it],it,nt))return!0;return!1}_e.exports=et},function(_e,tt){function et(nt){var rt=-1,it=Array(nt.size);return nt.forEach(function(ot,st){it[++rt]=[st,ot]}),it}_e.exports=et},function(_e,tt,et){var nt=et(11);function rt(it){return it===it&&!nt(it)}_e.exports=rt},function(_e,tt){function et(nt,rt){return function(it){return it==null?!1:it[nt]===rt&&(rt!==void 0||nt in Object(it))}}_e.exports=et},function(_e,tt,et){var nt=et(516),rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/\\(\\)?/g,ot=nt(function(st){var at=[];return st.charCodeAt(0)===46&&at.push(""),st.replace(rt,function(ct,lt,dt,ut){at.push(dt?ut.replace(it,"$1"):lt||ct)}),at});_e.exports=ot},function(_e,tt,et){var nt=et(518),rt=et(519);function it(ot,st){return ot!=null&&rt(ot,st,nt)}_e.exports=it},function(_e,tt,et){var nt=et(118),rt=et(525);function it(ot,st,at,ct,lt){var dt=-1,ut=ot.length;for(at||(at=rt),lt||(lt=[]);++dt<ut;){var ft=ot[dt];st>0&&at(ft)?st>1?it(ft,st-1,at,ct,lt):nt(lt,ft):ct||(lt[lt.length]=ft)}return lt}_e.exports=it},function(_e,tt,et){var nt=et(532),rt=nt();_e.exports=rt},function(_e,tt,et){var nt=et(533),rt=et(534);tt.parse=It,tt.resolve=Mt,tt.resolveObject=kt,tt.format=Zt,tt.Url=it;function it(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ot=/^([a-z0-9.+-]+:)/i,st=/:[0-9]*$/,at=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ct=["<",">",'"',"`"," ","\r",`
`,"	"],lt=["{","}","|","\\","^","`"].concat(ct),dt=["'"].concat(lt),ut=["%","/","?",";","#"].concat(dt),ft=["/","?","#"],pt=255,yt=/^[+a-z0-9A-Z_-]{0,63}$/,Tt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ht={javascript:!0,"javascript:":!0},gt={javascript:!0,"javascript:":!0},vt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ct=et(535);function It(Nt,Lt,Pt){if(Nt&&rt.isObject(Nt)&&Nt instanceof it)return Nt;var cn=new it;return cn.parse(Nt,Lt,Pt),cn}it.prototype.parse=function(Nt,Lt,Pt){if(!rt.isString(Nt))throw new TypeError("Parameter 'url' must be a string, not "+typeof Nt);var cn=Nt.indexOf("?"),Jt=cn!==-1&&cn<Nt.indexOf("#")?"?":"#",Bt=Nt.split(Jt),dn=/\\/g;Bt[0]=Bt[0].replace(dn,"/"),Nt=Bt.join(Jt);var vn=Nt;if(vn=vn.trim(),!Pt&&Nt.split("#").length===1){var Tn=at.exec(vn);if(Tn)return this.path=vn,this.href=vn,this.pathname=Tn[1],Tn[2]?(this.search=Tn[2],Lt?this.query=Ct.parse(this.search.substr(1)):this.query=this.search.substr(1)):Lt&&(this.search="",this.query={}),this}var pn=ot.exec(vn);if(pn){pn=pn[0];var In=pn.toLowerCase();this.protocol=In,vn=vn.substr(pn.length)}if(Pt||pn||vn.match(/^\/\/[^@\/]+@[^@\/]+/)){var Cn=vn.substr(0,2)==="//";Cn&&!(pn&&gt[pn])&&(vn=vn.substr(2),this.slashes=!0)}if(!gt[pn]&&(Cn||pn&&!vt[pn])){for(var yn=-1,bn=0;bn<ft.length;bn++){var Xn=vn.indexOf(ft[bn]);Xn!==-1&&(yn===-1||Xn<yn)&&(yn=Xn)}var Hn,En;yn===-1?En=vn.lastIndexOf("@"):En=vn.lastIndexOf("@",yn),En!==-1&&(Hn=vn.slice(0,En),vn=vn.slice(En+1),this.auth=decodeURIComponent(Hn)),yn=-1;for(var bn=0;bn<ut.length;bn++){var Xn=vn.indexOf(ut[bn]);Xn!==-1&&(yn===-1||Xn<yn)&&(yn=Xn)}yn===-1&&(yn=vn.length),this.host=vn.slice(0,yn),vn=vn.slice(yn),this.parseHost(),this.hostname=this.hostname||"";var Zn=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Zn)for(var Vn=this.hostname.split(/\./),bn=0,rr=Vn.length;bn<rr;bn++){var gr=Vn[bn];if(gr&&!gr.match(yt)){for(var cr="",sr=0,Or=gr.length;sr<Or;sr++)gr.charCodeAt(sr)>127?cr+="x":cr+=gr[sr];if(!cr.match(yt)){var Rr=Vn.slice(0,bn),Yr=Vn.slice(bn+1),Fr=gr.match(Tt);Fr&&(Rr.push(Fr[1]),Yr.unshift(Fr[2])),Yr.length&&(vn="/"+Yr.join(".")+vn),this.hostname=Rr.join(".");break}}}this.hostname.length>pt?this.hostname="":this.hostname=this.hostname.toLowerCase(),Zn||(this.hostname=nt.toASCII(this.hostname));var Qr=this.port?":"+this.port:"",vo=this.hostname||"";this.host=vo+Qr,this.href+=this.host,Zn&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),vn[0]!=="/"&&(vn="/"+vn))}if(!ht[In])for(var bn=0,rr=dt.length;bn<rr;bn++){var Lr=dt[bn];if(vn.indexOf(Lr)!==-1){var Pr=encodeURIComponent(Lr);Pr===Lr&&(Pr=escape(Lr)),vn=vn.split(Lr).join(Pr)}}var qn=vn.indexOf("#");qn!==-1&&(this.hash=vn.substr(qn),vn=vn.slice(0,qn));var Yn=vn.indexOf("?");if(Yn!==-1?(this.search=vn.substr(Yn),this.query=vn.substr(Yn+1),Lt&&(this.query=Ct.parse(this.query)),vn=vn.slice(0,Yn)):Lt&&(this.search="",this.query={}),vn&&(this.pathname=vn),vt[In]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Qr=this.pathname||"",vr=this.search||"";this.path=Qr+vr}return this.href=this.format(),this};function Zt(Nt){return rt.isString(Nt)&&(Nt=It(Nt)),Nt instanceof it?Nt.format():it.prototype.format.call(Nt)}it.prototype.format=function(){var Nt=this.auth||"";Nt&&(Nt=encodeURIComponent(Nt),Nt=Nt.replace(/%3A/i,":"),Nt+="@");var Lt=this.protocol||"",Pt=this.pathname||"",cn=this.hash||"",Jt=!1,Bt="";this.host?Jt=Nt+this.host:this.hostname&&(Jt=Nt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Jt+=":"+this.port)),this.query&&rt.isObject(this.query)&&Object.keys(this.query).length&&(Bt=Ct.stringify(this.query));var dn=this.search||Bt&&"?"+Bt||"";return Lt&&Lt.substr(-1)!==":"&&(Lt+=":"),this.slashes||(!Lt||vt[Lt])&&Jt!==!1?(Jt="//"+(Jt||""),Pt&&Pt.charAt(0)!=="/"&&(Pt="/"+Pt)):Jt||(Jt=""),cn&&cn.charAt(0)!=="#"&&(cn="#"+cn),dn&&dn.charAt(0)!=="?"&&(dn="?"+dn),Pt=Pt.replace(/[?#]/g,function(vn){return encodeURIComponent(vn)}),dn=dn.replace("#","%23"),Lt+Jt+Pt+dn+cn};function Mt(Nt,Lt){return It(Nt,!1,!0).resolve(Lt)}it.prototype.resolve=function(Nt){return this.resolveObject(It(Nt,!1,!0)).format()};function kt(Nt,Lt){return Nt?It(Nt,!1,!0).resolveObject(Lt):Lt}it.prototype.resolveObject=function(Nt){if(rt.isString(Nt)){var Lt=new it;Lt.parse(Nt,!1,!0),Nt=Lt}for(var Pt=new it,cn=Object.keys(this),Jt=0;Jt<cn.length;Jt++){var Bt=cn[Jt];Pt[Bt]=this[Bt]}if(Pt.hash=Nt.hash,Nt.href==="")return Pt.href=Pt.format(),Pt;if(Nt.slashes&&!Nt.protocol){for(var dn=Object.keys(Nt),vn=0;vn<dn.length;vn++){var Tn=dn[vn];Tn!=="protocol"&&(Pt[Tn]=Nt[Tn])}return vt[Pt.protocol]&&Pt.hostname&&!Pt.pathname&&(Pt.path=Pt.pathname="/"),Pt.href=Pt.format(),Pt}if(Nt.protocol&&Nt.protocol!==Pt.protocol){if(!vt[Nt.protocol]){for(var pn=Object.keys(Nt),In=0;In<pn.length;In++){var Cn=pn[In];Pt[Cn]=Nt[Cn]}return Pt.href=Pt.format(),Pt}if(Pt.protocol=Nt.protocol,!Nt.host&&!gt[Nt.protocol]){for(var rr=(Nt.pathname||"").split("/");rr.length&&!(Nt.host=rr.shift()););Nt.host||(Nt.host=""),Nt.hostname||(Nt.hostname=""),rr[0]!==""&&rr.unshift(""),rr.length<2&&rr.unshift(""),Pt.pathname=rr.join("/")}else Pt.pathname=Nt.pathname;if(Pt.search=Nt.search,Pt.query=Nt.query,Pt.host=Nt.host||"",Pt.auth=Nt.auth,Pt.hostname=Nt.hostname||Nt.host,Pt.port=Nt.port,Pt.pathname||Pt.search){var yn=Pt.pathname||"",bn=Pt.search||"";Pt.path=yn+bn}return Pt.slashes=Pt.slashes||Nt.slashes,Pt.href=Pt.format(),Pt}var Xn=Pt.pathname&&Pt.pathname.charAt(0)==="/",Hn=Nt.host||Nt.pathname&&Nt.pathname.charAt(0)==="/",En=Hn||Xn||Pt.host&&Nt.pathname,Zn=En,Vn=Pt.pathname&&Pt.pathname.split("/")||[],rr=Nt.pathname&&Nt.pathname.split("/")||[],gr=Pt.protocol&&!vt[Pt.protocol];if(gr&&(Pt.hostname="",Pt.port=null,Pt.host&&(Vn[0]===""?Vn[0]=Pt.host:Vn.unshift(Pt.host)),Pt.host="",Nt.protocol&&(Nt.hostname=null,Nt.port=null,Nt.host&&(rr[0]===""?rr[0]=Nt.host:rr.unshift(Nt.host)),Nt.host=null),En=En&&(rr[0]===""||Vn[0]==="")),Hn)Pt.host=Nt.host||Nt.host===""?Nt.host:Pt.host,Pt.hostname=Nt.hostname||Nt.hostname===""?Nt.hostname:Pt.hostname,Pt.search=Nt.search,Pt.query=Nt.query,Vn=rr;else if(rr.length)Vn||(Vn=[]),Vn.pop(),Vn=Vn.concat(rr),Pt.search=Nt.search,Pt.query=Nt.query;else if(!rt.isNullOrUndefined(Nt.search)){if(gr){Pt.hostname=Pt.host=Vn.shift();var cr=Pt.host&&Pt.host.indexOf("@")>0?Pt.host.split("@"):!1;cr&&(Pt.auth=cr.shift(),Pt.host=Pt.hostname=cr.shift())}return Pt.search=Nt.search,Pt.query=Nt.query,(!rt.isNull(Pt.pathname)||!rt.isNull(Pt.search))&&(Pt.path=(Pt.pathname?Pt.pathname:"")+(Pt.search?Pt.search:"")),Pt.href=Pt.format(),Pt}if(!Vn.length)return Pt.pathname=null,Pt.search?Pt.path="/"+Pt.search:Pt.path=null,Pt.href=Pt.format(),Pt;for(var sr=Vn.slice(-1)[0],Or=(Pt.host||Nt.host||Vn.length>1)&&(sr==="."||sr==="..")||sr==="",Rr=0,Yr=Vn.length;Yr>=0;Yr--)sr=Vn[Yr],sr==="."?Vn.splice(Yr,1):sr===".."?(Vn.splice(Yr,1),Rr++):Rr&&(Vn.splice(Yr,1),Rr--);if(!En&&!Zn)for(;Rr--;Rr)Vn.unshift("..");En&&Vn[0]!==""&&(!Vn[0]||Vn[0].charAt(0)!=="/")&&Vn.unshift(""),Or&&Vn.join("/").substr(-1)!=="/"&&Vn.push("");var Fr=Vn[0]===""||Vn[0]&&Vn[0].charAt(0)==="/";if(gr){Pt.hostname=Pt.host=Fr?"":Vn.length?Vn.shift():"";var cr=Pt.host&&Pt.host.indexOf("@")>0?Pt.host.split("@"):!1;cr&&(Pt.auth=cr.shift(),Pt.host=Pt.hostname=cr.shift())}return En=En||Pt.host&&Vn.length,En&&!Fr&&Vn.unshift(""),Vn.length?Pt.pathname=Vn.join("/"):(Pt.pathname=null,Pt.path=null),(!rt.isNull(Pt.pathname)||!rt.isNull(Pt.search))&&(Pt.path=(Pt.pathname?Pt.pathname:"")+(Pt.search?Pt.search:"")),Pt.auth=Nt.auth||Pt.auth,Pt.slashes=Pt.slashes||Nt.slashes,Pt.href=Pt.format(),Pt},it.prototype.parseHost=function(){var Nt=this.host,Lt=st.exec(Nt);Lt&&(Lt=Lt[0],Lt!==":"&&(this.port=Lt.substr(1)),Nt=Nt.substr(0,Nt.length-Lt.length)),Nt&&(this.hostname=Nt)}},function(_e,tt,et){(function(nt){const rt=et(16),it=et(15),ot=et(1)("guidStorage"),st={};_e.exports=st;let at,ct;const lt=function(ft){return!(rt(ft.get)&&rt(ft.set))},dt=function(ft){if(ct){ft(null,ct);return}at.get(ft)};st.override=ut=>{if(lt(ut))throw new Error("The storageInterface argument does not seem to be valid, it must implement get and set methods");at!==ut&&(at=ut,ct&&at.set(ct,ft=>{ft&&ot.error(`Failed to send initial Guid value (${ct}) to the newly assigned Guid Storage. The error was: ${ft}`)}))},st.get=ut=>{dt((ft,pt)=>{if(ft){ut(ft);return}pt?ct||(ct=pt):(pt=it(),at.set(pt,yt=>{if(yt){ut(yt);return}ct=pt})),ut(null,ct)})},st.getAsync=()=>new nt((ut,ft)=>{st.get((pt,yt)=>pt?ft(pt):ut(yt))}),st.override({get(ut){let ft;try{ft=(typeof window!==void 0?window:commonjsGlobal).localStorage.getItem("opentok_client_id")}catch{ft||(ft=it())}ut(null,ft)},set(ut,ft){try{(typeof window!==void 0?window:commonjsGlobal).localStorage.setItem("opentok_client_id",ut)}catch{}ft(null)}}),st.set=ut=>{ct=ut}}).call(this,et(0))},function(_e,tt){var et=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(et){var nt=new Uint8Array(16);_e.exports=function(){return et(nt),nt}}else{var rt=new Array(16);_e.exports=function(){for(var ot=0,st;ot<16;ot++)ot&3||(st=Math.random()*4294967296),rt[ot]=st>>>((ot&3)<<3)&255;return rt}}},function(_e,tt){for(var et=[],nt=0;nt<256;++nt)et[nt]=(nt+256).toString(16).substr(1);function rt(it,ot){var st=ot||0,at=et;return[at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]]].join("")}_e.exports=rt},function(_e,tt,et){const nt=et(244),rt=et(2),it=et(246),ot=et(9),st={};_e.exports=st;function at(ct){if(typeof ct=="string")return ct;const lt=[];return Object.keys(ct).forEach(dt=>{lt.push(`${encodeURIComponent(dt)}=${encodeURIComponent(ct[dt])}`)}),lt.join("&").replace(/\+/g,"%20")}rt.name!=="Node"&&(st.request=function(ct,lt,dt){const ut=new(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest,ft=lt||{};if(!ft.method){dt(new Error("No HTTP method specified in options"));return}lt.overrideMimeType&&(ut.overrideMimeType&&ut.overrideMimeType(lt.overrideMimeType),delete lt.overrideMimeType),dt&&(nt(ut).on("load",yt=>{const Tt=yt.target.status;Tt>=200&&(Tt<300||Tt===304)?dt(null,yt):dt(yt)}),nt(ut).on("error",dt)),ut.open(lt.method,ct,!0),ft.headers||(ft.headers={});for(const yt in ft.headers)Object.prototype.hasOwnProperty.call(ft.headers,yt)&&ut.setRequestHeader(yt,ft.headers[yt]);ut.send(lt.body&&at(lt.body))},st.get=function(ct,lt,dt){const ut=ot(lt||{},{method:"GET"});st.request(ct,ut,dt)},st.post=function(ct,lt,dt){const ut=ot(lt||{},{method:"POST"});st.request(ct,ut,dt)},st.getJSON=function(ct,lt,dt){lt=lt||{};const ut=function(yt,Tt){if(yt)dt(yt,Tt&&Tt.target&&Tt.target.responseText);else{let ht;try{ht=JSON.parse(Tt.target.responseText)}catch(gt){dt(gt,Tt&&Tt.target&&Tt.target.responseText);return}dt(null,ht,Tt)}},ft=ot({Accept:"application/json"},lt.headers||{});st.get(ct,ot(lt||{},{headers:ft}),ut)},it(st))},function(_e,tt,et){const nt=et(245);_e.exports=function(rt,it){return new nt(rt,it)}},function(_e,tt,et){const nt=et(16),rt={attributes:et(544),css:et(545),classNames:et(550),observers:et(552)},it=/^#([\w-]*)$/,ot=function(dt){return Array.prototype.slice.call(dt)},st=function(dt,ut){let ft;if(typeof dt>"u")return[];if(typeof dt=="string"){ft=[];const pt=it.exec(dt);if(ut=ut||document,pt&&pt[1]){const yt=ut.getElementById(pt[1]);yt&&ft.push(yt)}else ft=ut.querySelectorAll(dt)}else dt&&(dt.nodeType||(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest&&dt instanceof(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest||dt===(typeof window!==void 0?window:commonjsGlobal))?(ft=[dt],ut=dt):Array.isArray(dt)?(ft=dt.slice(),ut=null):ft=ot(ft);return ft},at=function(dt,ut){const ft=st(dt,ut);this.context=ut,this.toArray=function(){return ft},this.length=ft.length,this.first=ft[0],this.last=ft[ft.length-1],this.get=function(pt){return pt===void 0?ft:ft[pt]}};_e.exports=at,at._attachToOTHelpers={},at._attachToOTHelpers.removeElement=function(lt){return new at(lt).remove()},at.prototype.getAsArray=function(){let lt=this.get();return nt(lt.forEach)||(lt=ot(lt)),lt},at.prototype.some=function(lt,dt){return this.getAsArray().some(lt,dt)},at.prototype.forEach=function(lt,dt){return this.getAsArray().forEach(lt,dt),this},at.prototype.map=function(lt,dt){return new at(this.getAsArray().map(lt,dt),this.context)},at.prototype.filter=function(lt,dt){return new at(this.getAsArray().filter(lt,dt),this.context)},at.prototype.find=function(lt){return new at(lt,this.first)},at.prototype.on=function(lt,dt){return this.forEach(ut=>{ut.addEventListener(lt,dt,!1)})},at.prototype.off=function(lt,dt){return this.forEach(ut=>{ut.removeEventListener(lt,dt,!1)})},at.prototype.once=function(lt,dt){const ut=function(){this.off(lt,ut),dt(...arguments)}.bind(this);return this.on(lt,ut)},at.prototype.appendTo=function(lt){if(!lt)throw new Error("appendTo requires a DOMElement to append to.");return this.forEach(dt=>{lt.appendChild(dt)})},at.prototype.append=function(){const lt=this.first;return lt?(Array.prototype.forEach.call(arguments,dt=>{lt.appendChild(dt)}),this):this},at.prototype.prepend=function(){if(arguments.length===0)return this;const lt=this.first;let dt;return lt?(dt=Array.prototype.slice.call(arguments),lt.firstElementChild||lt.appendChild(dt.shift()),dt.forEach(ut=>{lt.insertBefore(ut,lt.firstElementChild)}),this):this},at.prototype.after=function(lt){if(!lt)throw new Error("after requires a DOMElement to insert after");return this.forEach(dt=>{dt.parentElement&&(lt!==dt.parentNode.lastChild?dt.parentElement.insertBefore(dt,lt):dt.parentElement.appendChild(dt))})},at.prototype.before=function(lt){if(!lt)throw new Error("before requires a DOMElement to insert before");return this.forEach(dt=>{dt.parentElement&&dt.parentElement.insertBefore(dt,lt)})},at.prototype.remove=function(){return this.forEach(lt=>{lt.parentNode&&lt.parentNode.removeChild(lt)})},at.prototype.empty=function(){return this.forEach(lt=>{for(;lt.firstChild;)lt.removeChild(lt.firstChild)})},at.prototype.isDisplayNone=function(){return this.some(lt=>(lt.offsetWidth===0||lt.offsetHeight===0)&&new at(lt).css("display")==="none"?!0:lt.parentNode&&lt.parentNode.style?new at(lt.parentNode).isDisplayNone():!1)};const ct=function lt(dt){return(dt.offsetWidth===0||dt.offsetHeight===0)&&new at(dt).css("display")==="none"?dt:dt.parentNode&&dt.parentNode.style?lt(dt.parentNode):null};at._attachToOTHelpers.emptyElement=function(lt){return new at(lt).empty()},at._attachToOTHelpers._findElementWithDisplayNone=ct,rt.css(at,ct),rt.attributes(at),rt.classNames(at),rt.observers(at),["on","off","isDisplayNone","show","hide","css","makeVisibleAndYield","addClass","removeClass"].forEach(lt=>{at._attachToOTHelpers[lt]=function(){const dt=Array.prototype.slice.apply(arguments),ut=dt.shift(),ft=new at(ut);return at.prototype[lt].apply(ft,dt)}})},function(_e,tt,et){_e.exports=function(nt){const rt={};Object.keys(nt).forEach(it=>{rt[it]=nt[it]}),nt._attachToOTHelpers=rt}},function(_e,tt,et){const nt=et(16),rt=et(6),it=et(1)("Collection");_e.exports=function(st){let at=[],ct={};const lt=st||"id";rt(this);const dt=function(yt,Tt){return nt(yt[Tt])?yt[Tt]():yt[Tt]},ut=function(yt){this.trigger("update",yt),this.trigger(`update:${yt.target.id}`,yt)}.bind(this),ft=function(yt){this.remove(yt.target,yt.reason)}.bind(this);this.reset=function(){at.forEach(function(pt){pt.off("updated",ut,this),pt.off("destroyed",ft,this)},this),at=[],ct={}},this.destroy=function(pt){at.forEach(yt=>{yt&&typeof yt.destroy=="function"&&yt.destroy(pt,!0)}),this.reset(),this.off()},this.get=function(pt){return pt&&ct[pt]!==void 0?at[ct[pt]]:void 0},this.has=function(pt){return pt&&ct[pt]!==void 0},this.toString=function(){return at.toString()},this.where=function(pt,yt){return nt(pt)?at.filter(pt,yt):at.filter(Tt=>{for(const ht in pt)if(pt.hasOwnProperty(ht)&&dt(Tt,ht)!==pt[ht])return!1;return!0})},this.find=function(pt,yt){let Tt;nt(pt)?Tt=pt:Tt=function(gt){for(const vt in pt)if(pt.hasOwnProperty(vt)&&dt(gt,vt)!==pt[vt])return!1;return!0},Tt=Tt.bind(yt);for(let ht=0;ht<at.length;++ht)if(Tt(at[ht])===!0)return at[ht];return null},this.forEach=function(pt,yt){return at.forEach(pt,yt),this},this.map=function(pt){return at.map(pt)},this.add=function(pt){const yt=dt(pt,lt);return this.has(yt)?(it.warn(`Model ${yt} is already in the collection`,at),this):(ct[yt]=at.push(pt)-1,pt.on("updated",ut,this),pt.on("destroyed",ft,this),this.trigger("add",pt),this.trigger(`add:${yt}`,pt),this)},this.remove=function(pt,yt){const Tt=dt(pt,lt);at.splice(ct[Tt],1);for(let ht=ct[Tt];ht<at.length;++ht)ct[dt(at[ht],lt)]=ht;return delete ct[Tt],pt.off("updated",ut,this),pt.off("destroyed",ft,this),this.trigger("remove",pt,yt),this.trigger(`remove:${Tt}`,pt,yt),this},this._triggerAddEvents=function(){this.where.apply(this,arguments).forEach(function(pt){this.trigger("add",pt),this.trigger(`add:${dt(pt,lt)}`,pt)},this)},this.length=function(){return at.length}}},function(_e,tt,et){const nt=et(1)("deprecation");_e.exports=function(it,ot,st){let at=st===void 0?{}:st,ct=at.value,lt=at.name,dt=lt===void 0?`${ot}`:lt,ut=at.getWarning,ft=ut===void 0?"":ut,pt=at.setWarning,yt=pt===void 0?"":pt,Tt=at.canSet,ht=Tt===void 0?!1:Tt,gt=at.warnOnSet,vt=gt===void 0?!1:gt,Ct=ct,It=!1,Zt=!vt;Object.defineProperty(it,ot,{get(){return It||(It=!0,nt.warn(`${dt} is deprecated, and will be removed in the future. ${ft}`.trim())),Ct},set(kt){ht&&(Ct=kt),Zt||(Zt=!0,ht?nt.warn(`${dt} is deprecated. ${yt}`.trim()):nt.warn(`${dt} is deprecated, and will be removed in the future. ${yt}`.trim()))}})}},function(_e,tt,et){const nt=et(2),rt=et(11);let it;const ot=["description","fileName","lineNumber","message","name","number","stack"],st=function(lt,dt,ut){switch(arguments.length){case 1:rt(lt)&&(ut=lt,dt=void 0,lt=void 0);break;case 2:rt(dt)&&(ut=dt,dt=void 0);break}if(ut instanceof Error)for(let ft=0,pt=ot.length;ft<pt;++ft)this[ot[ft]]=ut[ot[ft]];else if(rt(ut))for(const ft in ut)ut.hasOwnProperty(ft)&&(this[ft]=ut[ft]);if(!(this.fileName&&this.lineNumber&&this.columnNumber&&this.stack)){const ft=it();!this.fileName&&ft.fileName&&(this.fileName=ft.fileName),!this.lineNumber&&ft.lineNumber&&(this.lineNumber=ft.lineNumber),!this.columnNumber&&ft.columnNumber&&(this.columnNumber=ft.columnNumber),!this.stack&&ft.stack&&(this.stack=ft.stack)}!this.message&&lt&&(this.message=lt),(!this.name||this.name==="Error")&&dt&&(this.name=dt)};_e.exports=st,st.prototype=Object.create(Error.prototype),st.prototype.toString=function(){let ct="";return this.fileName&&(ct+=` ${this.fileName}`),this.lineNumber&&(ct+=` ${this.lineNumber}`,this.columnNumber&&(ct+=`:${this.columnNumber}`)),`<${this.name?`${this.name} `:""}${this.message}${ct}>`},st.prototype.valueOf=st.prototype.toString;const at=function(lt,dt){return dt.slice(2).map(ut=>{const ft={fileName:ut.getFileName(),linenumber:ut.getLineNumber(),columnNumber:ut.getColumnNumber()};return ut.getFunctionName()&&(ft.functionName=ut.getFunctionName()),ut.getMethodName()&&(ft.methodName=ut.getMethodName()),ut.getThis()&&(ft.self=ut.getThis()),ft})};it=function(){const lt={};let dt,ut,ft;switch(nt.name){case"Firefox":case"Safari":try{(typeof window!==void 0?window:commonjsGlobal).call.js.is.explody()}catch(Tt){ft=Tt}dt=(ft.stack||"").split(`
`),dt.shift(),dt.shift(),lt.stack=dt,ut=/@(.+?):([0-9]+)(:([0-9]+))?$/.exec(dt[0]),ut&&(lt.fileName=ut[1],lt.lineNumber=parseInt(ut[2],10),ut.length>3&&(lt.columnNumber=parseInt(ut[4],10)));break;case"Chrome":case"Node":case"Opera":var pt=Error.prepareStackTrace;Error.prepareStackTrace=at,ft=new Error,lt.stack=ft.stack,Error.prepareStackTrace=pt;var yt=lt.stack[0];lt.lineNumber=yt.lineNumber,lt.columnNumber=yt.columnNumber,lt.fileName=yt.fileName,yt.functionName&&(lt.functionName=yt.functionName),yt.methodName&&(lt.methodName=yt.methodName),yt.self&&(lt.self=yt.self);break;default:ft=new Error,ft.stack&&(lt.stack=ft.stack.split(`
`));break}return ft.message&&(lt.message=ft.message),lt}},function(_e,tt,et){var nt={};nt.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},nt.localCName=nt.generateIdentifier(),nt.splitLines=function(rt){return rt.trim().split(`
`).map(function(it){return it.trim()})},nt.splitSections=function(rt){var it=rt.split(`
m=`);return it.map(function(ot,st){return(st>0?"m="+ot:ot).trim()+`\r
`})},nt.getDescription=function(rt){var it=nt.splitSections(rt);return it&&it[0]},nt.getMediaSections=function(rt){var it=nt.splitSections(rt);return it.shift(),it},nt.matchPrefix=function(rt,it){return nt.splitLines(rt).filter(function(ot){return ot.indexOf(it)===0})},nt.parseCandidate=function(rt){var it;rt.indexOf("a=candidate:")===0?it=rt.substring(12).split(" "):it=rt.substring(10).split(" ");for(var ot={foundation:it[0],component:parseInt(it[1],10),protocol:it[2].toLowerCase(),priority:parseInt(it[3],10),ip:it[4],address:it[4],port:parseInt(it[5],10),type:it[7]},st=8;st<it.length;st+=2)switch(it[st]){case"raddr":ot.relatedAddress=it[st+1];break;case"rport":ot.relatedPort=parseInt(it[st+1],10);break;case"tcptype":ot.tcpType=it[st+1];break;case"ufrag":ot.ufrag=it[st+1],ot.usernameFragment=it[st+1];break;default:ot[it[st]]=it[st+1];break}return ot},nt.writeCandidate=function(rt){var it=[];it.push(rt.foundation),it.push(rt.component),it.push(rt.protocol.toUpperCase()),it.push(rt.priority),it.push(rt.address||rt.ip),it.push(rt.port);var ot=rt.type;return it.push("typ"),it.push(ot),ot!=="host"&&rt.relatedAddress&&rt.relatedPort&&(it.push("raddr"),it.push(rt.relatedAddress),it.push("rport"),it.push(rt.relatedPort)),rt.tcpType&&rt.protocol.toLowerCase()==="tcp"&&(it.push("tcptype"),it.push(rt.tcpType)),(rt.usernameFragment||rt.ufrag)&&(it.push("ufrag"),it.push(rt.usernameFragment||rt.ufrag)),"candidate:"+it.join(" ")},nt.parseIceOptions=function(rt){return rt.substr(14).split(" ")},nt.parseRtpMap=function(rt){var it=rt.substr(9).split(" "),ot={payloadType:parseInt(it.shift(),10)};return it=it[0].split("/"),ot.name=it[0],ot.clockRate=parseInt(it[1],10),ot.channels=it.length===3?parseInt(it[2],10):1,ot.numChannels=ot.channels,ot},nt.writeRtpMap=function(rt){var it=rt.payloadType;rt.preferredPayloadType!==void 0&&(it=rt.preferredPayloadType);var ot=rt.channels||rt.numChannels||1;return"a=rtpmap:"+it+" "+rt.name+"/"+rt.clockRate+(ot!==1?"/"+ot:"")+`\r
`},nt.parseExtmap=function(rt){var it=rt.substr(9).split(" ");return{id:parseInt(it[0],10),direction:it[0].indexOf("/")>0?it[0].split("/")[1]:"sendrecv",uri:it[1]}},nt.writeExtmap=function(rt){return"a=extmap:"+(rt.id||rt.preferredId)+(rt.direction&&rt.direction!=="sendrecv"?"/"+rt.direction:"")+" "+rt.uri+`\r
`},nt.parseFmtp=function(rt){for(var it={},ot,st=rt.substr(rt.indexOf(" ")+1).split(";"),at=0;at<st.length;at++)ot=st[at].trim().split("="),it[ot[0].trim()]=ot[1];return it},nt.writeFmtp=function(rt){var it="",ot=rt.payloadType;if(rt.preferredPayloadType!==void 0&&(ot=rt.preferredPayloadType),rt.parameters&&Object.keys(rt.parameters).length){var st=[];Object.keys(rt.parameters).forEach(function(at){rt.parameters[at]?st.push(at+"="+rt.parameters[at]):st.push(at)}),it+="a=fmtp:"+ot+" "+st.join(";")+`\r
`}return it},nt.parseRtcpFb=function(rt){var it=rt.substr(rt.indexOf(" ")+1).split(" ");return{type:it.shift(),parameter:it.join(" ")}},nt.writeRtcpFb=function(rt){var it="",ot=rt.payloadType;return rt.preferredPayloadType!==void 0&&(ot=rt.preferredPayloadType),rt.rtcpFeedback&&rt.rtcpFeedback.length&&rt.rtcpFeedback.forEach(function(st){it+="a=rtcp-fb:"+ot+" "+st.type+(st.parameter&&st.parameter.length?" "+st.parameter:"")+`\r
`}),it},nt.parseSsrcMedia=function(rt){var it=rt.indexOf(" "),ot={ssrc:parseInt(rt.substr(7,it-7),10)},st=rt.indexOf(":",it);return st>-1?(ot.attribute=rt.substr(it+1,st-it-1),ot.value=rt.substr(st+1)):ot.attribute=rt.substr(it+1),ot},nt.parseSsrcGroup=function(rt){var it=rt.substr(13).split(" ");return{semantics:it.shift(),ssrcs:it.map(function(ot){return parseInt(ot,10)})}},nt.getMid=function(rt){var it=nt.matchPrefix(rt,"a=mid:")[0];if(it)return it.substr(6)},nt.parseFingerprint=function(rt){var it=rt.substr(14).split(" ");return{algorithm:it[0].toLowerCase(),value:it[1]}},nt.getDtlsParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=fingerprint:");return{role:"auto",fingerprints:ot.map(nt.parseFingerprint)}},nt.writeDtlsParameters=function(rt,it){var ot="a=setup:"+it+`\r
`;return rt.fingerprints.forEach(function(st){ot+="a=fingerprint:"+st.algorithm+" "+st.value+`\r
`}),ot},nt.parseCryptoLine=function(rt){var it=rt.substr(9).split(" ");return{tag:parseInt(it[0],10),cryptoSuite:it[1],keyParams:it[2],sessionParams:it.slice(3)}},nt.writeCryptoLine=function(rt){return"a=crypto:"+rt.tag+" "+rt.cryptoSuite+" "+(typeof rt.keyParams=="object"?nt.writeCryptoKeyParams(rt.keyParams):rt.keyParams)+(rt.sessionParams?" "+rt.sessionParams.join(" "):"")+`\r
`},nt.parseCryptoKeyParams=function(rt){if(rt.indexOf("inline:")!==0)return null;var it=rt.substr(7).split("|");return{keyMethod:"inline",keySalt:it[0],lifeTime:it[1],mkiValue:it[2]?it[2].split(":")[0]:void 0,mkiLength:it[2]?it[2].split(":")[1]:void 0}},nt.writeCryptoKeyParams=function(rt){return rt.keyMethod+":"+rt.keySalt+(rt.lifeTime?"|"+rt.lifeTime:"")+(rt.mkiValue&&rt.mkiLength?"|"+rt.mkiValue+":"+rt.mkiLength:"")},nt.getCryptoParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=crypto:");return ot.map(nt.parseCryptoLine)},nt.getIceParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=ice-ufrag:")[0],st=nt.matchPrefix(rt+it,"a=ice-pwd:")[0];return ot&&st?{usernameFragment:ot.substr(12),password:st.substr(10)}:null},nt.writeIceParameters=function(rt){return"a=ice-ufrag:"+rt.usernameFragment+`\r
a=ice-pwd:`+rt.password+`\r
`},nt.parseRtpParameters=function(rt){for(var it={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},ot=nt.splitLines(rt),st=ot[0].split(" "),at=3;at<st.length;at++){var ct=st[at],lt=nt.matchPrefix(rt,"a=rtpmap:"+ct+" ")[0];if(lt){var dt=nt.parseRtpMap(lt),ut=nt.matchPrefix(rt,"a=fmtp:"+ct+" ");switch(dt.parameters=ut.length?nt.parseFmtp(ut[0]):{},dt.rtcpFeedback=nt.matchPrefix(rt,"a=rtcp-fb:"+ct+" ").map(nt.parseRtcpFb),it.codecs.push(dt),dt.name.toUpperCase()){case"RED":case"ULPFEC":it.fecMechanisms.push(dt.name.toUpperCase());break}}}return nt.matchPrefix(rt,"a=extmap:").forEach(function(ft){it.headerExtensions.push(nt.parseExtmap(ft))}),it},nt.writeRtpDescription=function(rt,it){var ot="";ot+="m="+rt+" ",ot+=it.codecs.length>0?"9":"0",ot+=" UDP/TLS/RTP/SAVPF ",ot+=it.codecs.map(function(at){return at.preferredPayloadType!==void 0?at.preferredPayloadType:at.payloadType}).join(" ")+`\r
`,ot+=`c=IN IP4 0.0.0.0\r
`,ot+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,it.codecs.forEach(function(at){ot+=nt.writeRtpMap(at),ot+=nt.writeFmtp(at),ot+=nt.writeRtcpFb(at)});var st=0;return it.codecs.forEach(function(at){at.maxptime>st&&(st=at.maxptime)}),st>0&&(ot+="a=maxptime:"+st+`\r
`),ot+=`a=rtcp-mux\r
`,it.headerExtensions&&it.headerExtensions.forEach(function(at){ot+=nt.writeExtmap(at)}),ot},nt.parseRtpEncodingParameters=function(rt){var it=[],ot=nt.parseRtpParameters(rt),st=ot.fecMechanisms.indexOf("RED")!==-1,at=ot.fecMechanisms.indexOf("ULPFEC")!==-1,ct=nt.matchPrefix(rt,"a=ssrc:").map(function(pt){return nt.parseSsrcMedia(pt)}).filter(function(pt){return pt.attribute==="cname"}),lt=ct.length>0&&ct[0].ssrc,dt,ut=nt.matchPrefix(rt,"a=ssrc-group:FID").map(function(pt){var yt=pt.substr(17).split(" ");return yt.map(function(Tt){return parseInt(Tt,10)})});ut.length>0&&ut[0].length>1&&ut[0][0]===lt&&(dt=ut[0][1]),ot.codecs.forEach(function(pt){if(pt.name.toUpperCase()==="RTX"&&pt.parameters.apt){var yt={ssrc:lt,codecPayloadType:parseInt(pt.parameters.apt,10)};lt&&dt&&(yt.rtx={ssrc:dt}),it.push(yt),st&&(yt=JSON.parse(JSON.stringify(yt)),yt.fec={ssrc:lt,mechanism:at?"red+ulpfec":"red"},it.push(yt))}}),it.length===0&&lt&&it.push({ssrc:lt});var ft=nt.matchPrefix(rt,"b=");return ft.length&&(ft[0].indexOf("b=TIAS:")===0?ft=parseInt(ft[0].substr(7),10):ft[0].indexOf("b=AS:")===0?ft=parseInt(ft[0].substr(5),10)*1e3*.95-50*40*8:ft=void 0,it.forEach(function(pt){pt.maxBitrate=ft})),it},nt.parseRtcpParameters=function(rt){var it={},ot=nt.matchPrefix(rt,"a=ssrc:").map(function(ct){return nt.parseSsrcMedia(ct)}).filter(function(ct){return ct.attribute==="cname"})[0];ot&&(it.cname=ot.value,it.ssrc=ot.ssrc);var st=nt.matchPrefix(rt,"a=rtcp-rsize");it.reducedSize=st.length>0,it.compound=st.length===0;var at=nt.matchPrefix(rt,"a=rtcp-mux");return it.mux=at.length>0,it},nt.parseMsid=function(rt){var it,ot=nt.matchPrefix(rt,"a=msid:");if(ot.length===1)return it=ot[0].substr(7).split(" "),{stream:it[0],track:it[1]};var st=nt.matchPrefix(rt,"a=ssrc:").map(function(at){return nt.parseSsrcMedia(at)}).filter(function(at){return at.attribute==="msid"});if(st.length>0)return it=st[0].value.split(" "),{stream:it[0],track:it[1]}},nt.parseSctpDescription=function(rt){var it=nt.parseMLine(rt),ot=nt.matchPrefix(rt,"a=max-message-size:"),st;ot.length>0&&(st=parseInt(ot[0].substr(19),10)),isNaN(st)&&(st=65536);var at=nt.matchPrefix(rt,"a=sctp-port:");if(at.length>0)return{port:parseInt(at[0].substr(12),10),protocol:it.fmt,maxMessageSize:st};var ct=nt.matchPrefix(rt,"a=sctpmap:");if(ct.length>0){var lt=nt.matchPrefix(rt,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(lt[0],10),protocol:lt[1],maxMessageSize:st}}},nt.writeSctpDescription=function(rt,it){var ot=[];return rt.protocol!=="DTLS/SCTP"?ot=["m="+rt.kind+" 9 "+rt.protocol+" "+it.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+it.port+`\r
`]:ot=["m="+rt.kind+" 9 "+rt.protocol+" "+it.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+it.port+" "+it.protocol+` 65535\r
`],it.maxMessageSize!==void 0&&ot.push("a=max-message-size:"+it.maxMessageSize+`\r
`),ot.join("")},nt.generateSessionId=function(){return Math.random().toString().substr(2,21)},nt.writeSessionBoilerplate=function(rt,it,ot){var st,at=it!==void 0?it:2;rt?st=rt:st=nt.generateSessionId();var ct=ot||"thisisadapterortc";return`v=0\r
o=`+ct+" "+st+" "+at+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},nt.writeMediaSection=function(rt,it,ot,st){var at=nt.writeRtpDescription(rt.kind,it);if(at+=nt.writeIceParameters(rt.iceGatherer.getLocalParameters()),at+=nt.writeDtlsParameters(rt.dtlsTransport.getLocalParameters(),ot==="offer"?"actpass":"active"),at+="a=mid:"+rt.mid+`\r
`,rt.direction?at+="a="+rt.direction+`\r
`:rt.rtpSender&&rt.rtpReceiver?at+=`a=sendrecv\r
`:rt.rtpSender?at+=`a=sendonly\r
`:rt.rtpReceiver?at+=`a=recvonly\r
`:at+=`a=inactive\r
`,rt.rtpSender){var ct="msid:"+st.id+" "+rt.rtpSender.track.id+`\r
`;at+="a="+ct,at+="a=ssrc:"+rt.sendEncodingParameters[0].ssrc+" "+ct,rt.sendEncodingParameters[0].rtx&&(at+="a=ssrc:"+rt.sendEncodingParameters[0].rtx.ssrc+" "+ct,at+="a=ssrc-group:FID "+rt.sendEncodingParameters[0].ssrc+" "+rt.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return at+="a=ssrc:"+rt.sendEncodingParameters[0].ssrc+" cname:"+nt.localCName+`\r
`,rt.rtpSender&&rt.sendEncodingParameters[0].rtx&&(at+="a=ssrc:"+rt.sendEncodingParameters[0].rtx.ssrc+" cname:"+nt.localCName+`\r
`),at},nt.getDirection=function(rt,it){for(var ot=nt.splitLines(rt),st=0;st<ot.length;st++)switch(ot[st]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return ot[st].substr(2)}return it?nt.getDirection(it):"sendrecv"},nt.getKind=function(rt){var it=nt.splitLines(rt),ot=it[0].split(" ");return ot[0].substr(2)},nt.isRejected=function(rt){return rt.split(" ",2)[1]==="0"},nt.parseMLine=function(rt){var it=nt.splitLines(rt),ot=it[0].substr(2).split(" ");return{kind:ot[0],port:parseInt(ot[1],10),protocol:ot[2],fmt:ot.slice(3).join(" ")}},nt.parseOLine=function(rt){var it=nt.matchPrefix(rt,"o=")[0],ot=it.substr(2).split(" ");return{username:ot[0],sessionId:ot[1],sessionVersion:parseInt(ot[2],10),netType:ot[3],addressType:ot[4],address:ot[5]}},nt.isValidSDP=function(rt){if(typeof rt!="string"||rt.length===0)return!1;for(var it=nt.splitLines(rt),ot=0;ot<it.length;ot++)if(it[ot].length<2||it[ot].charAt(1)!=="=")return!1;return!0},_e.exports=nt},function(_e,tt,et){_e.exports=function(rt){return["Chrome","Safari","Edge","Opera"].indexOf(rt.browserName)===-1||rt.browserName==="Edge"&&!rt.isChromiumEdge||rt.isScreenSharing&&!rt.capableSimulcastScreenshare||rt.sessionInfo.p2pEnabled||!rt.constraints.video&&!rt.isCustomVideoTrack||rt.scalableVideo===!1?1:rt.videoDimensions.width>640&&rt.videoDimensions.height>480?3:2}},function(_e,tt,et){const nt=et(49);_e.exports=function(){function rt(ot,st){var at;let ct=st===void 0?{}:st,lt=ct.requestAnimationFrame,dt=lt===void 0?(at=window).requestAnimationFrame.bind(at):lt;this._lastCalled=nt(),this._audioLevel=void 0,this._running=!1,this._requestAnimationFrame=dt,this._getAudioLevel=ot,this._startLoop()}var it=rt.prototype;return it._startLoop=function(){this._running||(this._running=!0,this._requestAnimationFrame(this._loop.bind(this)))},it._loop=function(){this._getAudioLevel((st,at)=>{let ct=null;if(!st){for(let lt=0;lt<at.length;lt+=1){const dt=at[lt];let ut=null;if(dt.audioOutputLevel!==void 0){const ft=parseFloat(dt.audioOutputLevel)/32768;isNaN(ft)||(ut=ft)}else dt.audioLevel!==void 0&&(ut=dt.audioLevel);ut!==null&&(ct===null||ut>ct)&&(ct=ut)}this._audioLevel=ct,this._running&&nt()-this._lastCalled<1e4?this._requestAnimationFrame(this._loop.bind(this)):this._running=!1}})},it.destroy=function(){this._running=!1},it.sample=function(st){if(typeof st=="function")throw new Error("sample no longer takes a callback");return this._startLoop(),this._lastCalled=nt(),this._audioLevel},rt}()},function(_e,tt,et){const nt=et(254),rt=et(582),it=et(149);function ot(lt,dt,ut){return!lt.publish&&dt?!1:typeof lt.source=="boolean"?lt.source:ut?{mandatory:{sourceId:lt.source}}:it(lt.source)?{}:{deviceId:{exact:lt.source}}}function st(lt){let dt=ot(lt.audio,lt.enableRenegotiation,lt.usingOptionalMandatoryStyle);if(dt===!1)return!1;const ut=lt.usingOptionalMandatoryStyle,ft=lt.enableStereo,pt=lt.echoCancellation,yt=lt.noiseSuppression,Tt=lt.autoGainControl,ht=lt.disableAudioProcessing,gt=vt=>{typeof dt=="object"&&(ut?(nt(dt,{optional:[]}),dt.optional.push(vt)):nt(dt,vt))};return(ft||ht||!pt||!yt||!Tt)&&dt===!0&&(dt={}),ft&&gt({channelCount:2}),["echoCancellation","autoGainControl","noiseSuppression"].forEach(vt=>{const Ct=!ht&&lt[vt];gt({[vt]:Ct})}),dt}function at(lt){let dt=ot(lt.video,lt.enableRenegotiation,lt.usingOptionalMandatoryStyle);if(dt===!1)return!1;const ut=lt.videoDimensions,ft=lt.frameRate,pt=lt.maxResolution,yt=lt.facingMode,Tt=lt.usingOptionalMandatoryStyle;if((ut||ft||pt||yt)&&dt===!0&&(dt={}),ut){const ht=ut.width,gt=ut.height;Tt?(nt(dt,{optional:[]}),dt.optional.push({minWidth:ht},{maxWidth:ht},{minHeight:gt},{maxHeight:gt})):nt(dt,{width:{ideal:ht},height:{ideal:gt}})}return ft&&(Tt?(nt(dt,{optional:[]}),dt.optional.push({minFrameRate:ft},{maxFrameRate:ft})):nt(dt,{frameRate:{ideal:ft}})),pt&&(Tt?nt(dt,{mandatory:{maxWidth:pt.width,maxHeight:pt.height}}):nt(dt,{width:{max:pt.width},height:{max:pt.height}})),yt&&(Tt?(nt(dt,{optional:[]}),dt.optional.push({facingMode:yt})):nt(dt,{facingMode:{ideal:yt}})),dt}function ct(lt){return{audio:st(lt),video:at(lt)}}_e.exports=function(dt){const ut=rt(dt);return{constraints:ct(ut),publishAudio:ut.audio.publish,publishVideo:ut.video.publish,frameRate:ut.frameRate,videoDimensions:ut.videoDimensions,audioDeviceId:typeof ut.audio.source=="string"?ut.audio.source:void 0,videoDeviceId:typeof ut.video.source=="string"?ut.video.source:void 0}}},function(_e,tt,et){var nt=et(579),rt=et(191),it=rt(function(ot,st,at){nt(ot,st,at)});_e.exports=it},function(_e,tt,et){var nt=et(62),rt=et(52);function it(ot,st,at){(at!==void 0&&!rt(ot[st],at)||at===void 0&&!(st in ot))&&nt(ot,st,at)}_e.exports=it},function(_e,tt){function et(nt,rt){if(!(rt==="constructor"&&typeof nt[rt]=="function")&&rt!="__proto__")return nt[rt]}_e.exports=et},function(_e,tt,et){const nt=et(2),rt=nt.name,it=nt.version,ot=nt.isChromiumEdge;_e.exports=ot||rt==="Chrome"&&it>=72||rt==="Firefox"&&it>=66||rt==="Opera"&&it>=60||rt==="Safari"},function(_e,tt,et){var nt=et(59),rt=et(259);function it(ot){return rt(nt(ot).toLowerCase())}_e.exports=it},function(_e,tt,et){var nt=et(587),rt=nt("toUpperCase");_e.exports=rt},function(_e,tt){function et(nt,rt,it){var ot=-1,st=nt.length;rt<0&&(rt=-rt>st?0:st+rt),it=it>st?st:it,it<0&&(it+=st),st=rt>it?0:it-rt>>>0,rt>>>=0;for(var at=Array(st);++ot<st;)at[ot]=nt[ot+rt];return at}_e.exports=et},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\ufe0e\\ufe0f",at="\\u200d",ct=RegExp("["+at+et+ot+st+"]");function lt(dt){return ct.test(dt)}_e.exports=lt},function(_e,tt,et){var nt=et(589),rt=et(261),it=et(590);function ot(st){return rt(st)?it(st):nt(st)}_e.exports=ot},function(_e,tt,et){const nt=et(2);_e.exports=!!(nt.isChrome&&nt.version>=74||nt.isEdge&&nt.version>=79)},function(_e,tt,et){const nt=et(2);_e.exports=rt=>nt.isElectron?rt instanceof MediaStreamTrack&&rt.label==="Screen":!1},function(_e,tt,et){var nt=et(99),rt=et(596),it=rt(nt);_e.exports=it},function(_e,tt,et){_e.exports=15e3},function(_e,tt,et){_e.exports=function(nt,rt){return rt===void 0&&(rt=!1),nt===void 0?rt:nt==="true"||nt===!0}},function(_e,tt,et){const nt=et(56);_e.exports=function(it){const ot=nt(it);if(ot.backgroundImageURI){const st=ot.backgroundImageURI.split(":")[0];ot.backgroundImageURI=["http","https","data"].indexOf(st)!==-1?st:"other"}return ot}},function(_e,tt,et){const nt=et(2);_e.exports=()=>!nt.isNode&&!nt.isElectron?(nt.isChrome||nt.isOpera||nt.isChromiumEdge)&&nt.version>=74||nt.isFirefox&&nt.version>=68||nt.isSafari&&nt.version>=11:!1},function(_e,tt){function et(nt,rt){return _e.exports=et=Object.setPrototypeOf||function(ot,st){return ot.__proto__=st,ot},et(nt,rt)}_e.exports=et},function(_e,tt,et){var nt=et(33),rt=et(77),it=et(612),ot=et(58),st=et(40),at=et(615),ct=et(140),lt=et(184),dt=1,ut=2,ft=4,pt=ct(function(yt,Tt){var ht={};if(yt==null)return ht;var gt=!1;Tt=nt(Tt,function(Ct){return Ct=ot(Ct,yt),gt||(gt=Ct.length>1),Ct}),st(yt,lt(yt),ht),gt&&(ht=rt(ht,dt|ut|ft,at));for(var vt=Tt.length;vt--;)it(ht,Tt[vt]);return ht});_e.exports=pt},function(_e,tt,et){var nt=et(205),rt=et(35),it=et(96),ot=Math.max;function st(at,ct,lt){var dt=at==null?0:at.length;if(!dt)return-1;var ut=lt==null?0:it(lt);return ut<0&&(ut=ot(dt+ut,0)),nt(at,rt(ct,3),ut)}_e.exports=st},function(_e,tt,et){var nt=et(617);function rt(it){return it&&it.length?nt(it):[]}_e.exports=rt},function(_e,tt,et){const nt=et(624),rt=et(277),it=et(103)();_e.exports=(ot,st)=>{rt(ot,(at,ct)=>{let lt=[];it?typeof ct.values=="function"?lt=nt(ct.values()):typeof ct.forEach!="function"?lt=Object.keys(ct).map(dt=>ct[dt]):ct.forEach(dt=>{lt.push(dt)}):ct.result().forEach(dt=>{const ut={};dt.names().forEach(ft=>{ut[ft]=dt.stat(ft)}),ut.id=dt.id,ut.type=dt.type,ut.timestamp=dt.timestamp,lt.push(ut)}),st(null,lt)})}},function(_e,tt,et){var nt=et(29),rt=et(12),it=et(17),ot="[object String]";function st(at){return typeof at=="string"||!rt(at)&&it(at)&&nt(at)==ot}_e.exports=st},function(_e,tt,et){var nt=et(626),rt=et(30);function it(ot){return ot==null?[]:nt(ot,rt(ot))}_e.exports=it},function(_e,tt,et){const nt=et(103)(),rt=(st,at)=>{st.getStats(null).then(ct=>at(null,ct)).catch(at)},it=(st,at)=>{st.getStats(ct=>{at(null,ct)},at)},ot=(st,at)=>{(nt?rt:it)(st,at)};_e.exports=ot},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(48)),it=et(18),ot=nt(et(37)),st=nt(et(638)),at=nt(et(640)),ct=nt(et(49)),lt=nt(et(1));const dt=(0,lt.default)("QoS");let ut=function(pt){(0,rt.default)(yt,pt);function yt(){for(var ht,gt=arguments.length,vt=new Array(gt),Ct=0;Ct<gt;Ct++)vt[Ct]=arguments[Ct];return ht=pt.call(this,...vt)||this,ht._peerConnection=void 0,ht._isPublisher=void 0,ht.timeoutId=void 0,ht._creationTime=(0,ct.default)(),ht.offerMessagesReceived=0,ht.prevStats={timeStamp:(0,ct.default)()},ht.changeCounters={videoCodec:new at.default,audioCodec:new at.default},ht}var Tt=yt.prototype;return Tt.startCollecting=function(gt,vt){if(!gt||!gt.getStats)return;this._isPublisher=vt;const Ct=!!this._peerConnection;if(this._peerConnection=gt,Ct)return;const It=Zt=>{const Mt=(0,ct.default)(),kt={timeStamp:Mt,duration:Math.round((Mt-this._creationTime)/1e3),period:Math.round((Mt-this.prevStats.timeStamp)/1e3)};(0,st.default)(this._peerConnection,this.prevStats,kt,this._isPublisher,(Nt,Lt)=>{if(Nt){dt.error("Failed to Parse QOS Stats:",Nt);return}this.handleParsedStats(Lt),clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>It(yt.INTERVAL),Zt)})};this.timeoutId=setTimeout(()=>It(yt.INTERVAL-yt.INITIAL_INTERVAL),yt.INITIAL_INTERVAL)},Tt.stopCollecting=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this._peerConnection=null},Tt.handleOfferMessageReceived=function(){this.offerMessagesReceived+=1},Tt.handleParsedStats=function(gt){Object.keys(this.changeCounters).forEach(It=>{this.changeCounters[It].onValue(gt[It]),gt[`${It}ChangeCount`]=this.changeCounters[It].changeCount}),gt.offerMessagesReceived=this.offerMessagesReceived;const vt=(0,ot.default)(gt);if(["audioSentBytes","audioSentPackets","audioSentPacketsLost","videoSentBytes","videoSentPackets","videoSentPacketsLost","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost"].forEach(It=>{vt[It]=this.prevStats&&this.prevStats[It]?gt[It]-this.prevStats[It]:gt[It]}),this.prevStats&&this.prevStats.videoFramesReceived){const It=gt.videoFramesReceived-this.prevStats.videoFramesReceived,Zt=gt.period;vt.videoFrameRateReceived=Math.round(It/Zt)}this.prevStats=gt,delete vt.framesDecoded,delete vt.framesEncoded,this.emit("stats",vt)},yt}(it.EventEmitter);ut.INITIAL_INTERVAL=1e3,ut.INTERVAL=3e4;var ft=ut;tt.default=ft},function(_e,tt,et){_e.exports=nt=>{switch(nt>>24){case 0:return"TURN/TLS";case 1:return"TURN/TCP";case 2:return"TURN/UDP";default:return""}}},function(_e,tt,et){const nt=et(15),rt=et(159),it=rt.default,ot=et(7),st=et(13);_e.exports=function(ct){let lt=ct===void 0?{}:ct,dt=lt.haveGetDisplayMedia,ut=dt===void 0?it:dt,ft=lt.global,pt=ft===void 0?typeof window!==void 0?window:commonjsGlobal:ft,yt=lt.Errors,Tt=yt===void 0?ot:yt,ht=lt.otError,gt=ht===void 0?st():ht;const vt=!ut&&!!pt.navigator.webkitGetUserMedia&&!pt.navigator.userAgent.match(/android/i)&&typeof pt.chrome<"u";return{isSupportedInThisBrowser:vt,autoRegisters:!1,extensionRequired:!0,getConstraintsShowsPermissionUI:!0,sources:{screen:!0,application:!1,window:!0,browser:!0},register(Ct,It){return It===2?this.registerVersion2(Ct):this.registerVersion1(Ct)},registerVersion1(Ct){if(!Ct)throw new Error("initChromeScreenSharingExtensionHelper: extensionID is required.");const It=vt,Zt={};let Mt;const kt=`com.tokbox.screenSharing.${Ct}`,Nt=function(Bt,dn){const vn={payload:dn,from:"jsapi"};return vn[kt]=Bt,vn},Lt=function(Bt,dn){let vn;const Tn=nt();return Zt[Tn]=function(){clearTimeout(vn),vn=null,Bt(...arguments)},dn&&(vn=setTimeout(()=>{delete Zt[Tn],Bt(gt(Tt.TIMEOUT,new Error("Timeout waiting for response to screensharing request.")))},dn)),Tn},Pt=function(Bt){if(!Bt)throw new Error("isAvailable: callback is required.");if(!It){setTimeout(Bt.bind(null,!1));return}if(Mt!==void 0)setTimeout(Bt.bind(null,Mt));else{const dn=Lt(Tn=>{Mt!==!0&&(Mt=Tn==="extensionLoaded"),Bt(Mt)},2e3),vn=Nt("isExtensionInstalled",{requestId:dn});pt.postMessage(vn,"*")}},cn=function(Bt,dn,vn){if(!vn)throw new Error("getSourceId: callback is required");Pt(Tn=>{if(!Tn)return vn(gt(Tt.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));const pn=Lt((In,Cn)=>{typeof In=="object"&&In.name&&In.stack?vn(In):In==="permissionDenied"?vn(gt(Tt.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):(dn.video||(dn.video={}),dn.video.mandatory||(dn.video.mandatory={}),dn.video.mandatory.chromeMediaSource="desktop",dn.video.mandatory.chromeMediaSourceId=Cn.sourceId,vn(void 0,dn))});pt.postMessage(Nt("getSourceId",{requestId:pn,source:Bt}),"*")})};return pt.addEventListener("message",Jt=>{if(Jt.origin!==pt.location.origin||!(Jt.data!=null&&typeof Jt.data=="object")||Jt.data.from!=="extension")return;const Bt=Jt.data[kt],dn=Jt.data.payload;if(dn&&dn.requestId){const vn=Zt[dn.requestId];delete Zt[dn.requestId],vn&&vn(Bt,dn)}Bt==="extensionLoaded"&&(Mt=!0)}),{extensionAPIVersion:1,extensionID:Ct,isInstalled:Pt,getConstraints:cn}},registerVersion2(Ct){const It=vt&&typeof pt.chrome.runtime<"u",Zt=function(Nt){if(!Nt)throw new Error("isAvailable: callback is required.");if(!It){setTimeout(Nt.bind(null,!1));return}pt.chrome.runtime.sendMessage(Ct,{type:"isInstalled"},null,Lt=>{setTimeout(Nt.bind(null,!!Lt))})};return{extensionAPIVersion:2,extensionID:Ct,isInstalled:Zt,getConstraints:function(Nt,Lt,Pt){if(!Pt)throw new Error("getSourceId: callback is required");Zt(cn=>{if(!cn)return Pt(gt(Tt.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));pt.chrome.runtime.sendMessage(Ct,{type:"getSourceId",source:Nt},null,Jt=>{Jt.error==="permissionDenied"?Pt(gt(Tt.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):Jt.error?Pt(new Error(`UnexpectError: ${Jt.error}`)):(Lt.video||(Lt.video={}),Lt.video.mandatory||(Lt.video.mandatory={}),Lt.video.mandatory.chromeMediaSource="desktop",Lt.video.mandatory.chromeMediaSourceId=Jt.sourceId,Pt(void 0,Lt))})})}}}}}},function(_e,tt,et){(function(nt){const rt=et(155),it=et(104);_e.exports=function(st){st===void 0&&(st={});const at=st.Archiving||et(645),ct=st.AudioLevelMeter||et(282),lt=st.AudioLevelTransformer||et(144),dt=st.BackingBar||et(283),ut=st.Chrome||et(145),ft=st.MuteButton||et(284)(),pt=st.NamePanel||et(285),yt=st.VideoDisabledIndicator||et(286),Tt=st.StylableComponent||et(152),ht=st.logging||et(1)("createChromeMixin");return function(vt,Ct){let It=Ct===void 0?{}:Ct,Zt=It.name,Mt=It.publishAudio,kt=It.publishVideo,Nt=It.audioSource,Lt=It.showControls,Pt=It.shouldAllowAudio,cn=It.logAnalyticsEvent,Jt,Bt,dn;const vn={},Tn=rt(),pn=yn=>{if(yn===!1)return"off";const bn=vt.getStyle("buttonDisplayMode");return bn===!1?"on":bn};let In=new nt((yn,bn)=>{vn.init=Xn=>{vt.getStyle("showArchiveStatus")||cn("showArchiveStatus","createChrome",{mode:"off"});const Hn={backingBar:new dt({nameMode:Zt?vt.getStyle("nameDisplayMode"):"off",muteMode:pn(vt.getStyle("buttonDisplayMode"))}),name:new pt({name:Zt,mode:vt.getStyle("nameDisplayMode")}),archive:new at({show:!!vt.getStyle("showArchiveStatus")&&vt.getStyle("archiveStatusDisplayMode")!=="off",archiving:!1}),muteButton:new ft({muted:Mt===!1,mode:pn.call(null,vt.getStyle("buttonDisplayMode"))})};Jt=new ct({mode:vt.getStyle("audioLevelDisplayMode")});const En=new lt,Zn=new it(()=>{const Vn=Mt?En.transform(vt.loudness):0;Jt.setValue(Vn)});Jt.watchVisibilityChanged(Vn=>{Vn?Zn.start():Zn.stop()}),Jt.audioOnly(!kt&&Mt),Hn.audioLevel=Jt,Hn.videoDisabledIndicator=new yt({mode:vt.getStyle("videoDisabledDisplayMode")}),Xn&&Xn.domElement&&(dn=Xn,Bt=new ut({parent:dn.domElement}).set(Hn).on({muted:()=>vt.publishAudio(!1),unmuted:()=>vt.publishAudio(!0)}),(Nt===null||Nt===!1)&&vn.removeAudioTrack(),yn())},vn.reset=()=>{bn(new Error("Chrome still being created")),Bt&&(Bt.destroy(),Bt=null)},vn.destroy=()=>{vn.reset(),Tn.releaseAll(),In=null}});In.catch(yn=>{(!yn||yn.message!=="Chrome still being created")&&ht.error("createChromeMixin failed to setup UI",yn)}),vn.setAudioOnly=yn=>{Jt&&Jt.audioOnly(yn)},vn.setArchivingStatus=yn=>{Bt&&Bt.archive.setArchiving(yn)},vn.setMuted=yn=>{Bt&&Bt.muteButton&&Bt.muteButton.muted(yn)},vn.removeAudioTrack=()=>{Bt&&Bt.muteButton&&Bt.muteButton.remove()},vn.addAudioTrack=()=>{Bt&&Bt.muteButton&&Bt.muteButton.add()},vn.videoDisabledIndicator={disableVideo:function(){for(var bn,Xn=arguments.length,Hn=new Array(Xn),En=0;En<Xn;En++)Hn[En]=arguments[En];return(bn=Bt)==null?void 0:bn.videoDisabledIndicator.disableVideo(...Hn)},setWarning:function(){for(var bn,Xn=arguments.length,Hn=new Array(Xn),En=0;En<Xn;En++)Hn[En]=arguments[En];return(bn=Bt)==null?void 0:bn.videoDisabledIndicator.setWarning(...Hn)}},Tt(vt,{showArchiveStatus:!0,nameDisplayMode:"auto",buttonDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioLevelDisplayMode:Pt?"auto":"off",archiveStatusDisplayMode:"auto",backgroundImageURI:null},Lt,yn=>{cn("SetStyle","Publisher",yn,null,.1)});const Cn=(yn,bn)=>{In.then(()=>{switch(yn){case"nameDisplayMode":Bt.name.setDisplayMode(bn),Bt.backingBar.setNameMode(bn);break;case"showArchiveStatus":cn("showArchiveStatus","styleChange",{mode:bn?"on":"off"}),Bt.archive.setShowArchiveStatus(!!bn);break;case"archiveStatusDisplayMode":Bt.archive.setShowArchiveStatus(bn!=="off");break;case"buttonDisplayMode":Bt.muteButton.setDisplayMode(bn),Bt.backingBar.setMuteMode(bn);break;case"audioLevelDisplayMode":Bt.audioLevel.setDisplayMode(bn);break;case"backgroundImageURI":dn.setBackgroundImageURI(bn);break}})};return vt.on("styleValueChanged",Cn),Tn.add(()=>vt.off("styleValueChanged",Cn)),vn}}}).call(this,et(0))},function(_e,tt,et){(function(nt){const rt=et(105),it=et(36),ot=et(8),st=et(18);_e.exports=function(ct){const lt=this,dt=new st;let ut,ft,pt,yt,Tt=!0,ht=!1,gt="auto";const vt=ct.maxValue||1,Ct=ct.minValue||0;function It(){ft=ot.createElement("div",{className:"OT_audio-level-meter__value"},""),ut=ot.createElement("div",{className:"OT_audio-level-meter__audio-only-img"},"");const Lt=lt.domElement;Lt.appendChild(ut),Lt.appendChild(ft),lt.watchVisibilityChanged(Pt=>{Pt?ot.removeClass(lt.domElement,"OT_hide-forced"):ot.addClass(lt.domElement,"OT_hide-forced")})}function Zt(){dt.removeAllListeners("visibilityChanged")}function Mt(){const Lt=(pt-Ct)/(vt-Ct);ft.style.transform=`scale(${Math.sqrt(Lt)})`}function kt(){const Lt=(ht&&gt==="auto"||gt==="on")&&Tt;yt!==Lt&&(yt=Lt,dt.emit("visibilityChanged",Lt))}rt(lt,{audioOnly:{get(){return ht},set(Lt){ht=Lt,kt()}}}),lt.setValue=function(Lt){pt=Lt,Mt()},lt.watchVisibilityChanged=function(Lt){return dt.on("visibilityChanged",Lt),nt.resolve().then(()=>{Lt(yt)}),function(){dt.removeListener("visibilityChanged",Lt)}};const Nt={mode:ct?ct.mode:"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-level-meter"},onCreate:It,onDestroy:Zt};it(this,Nt),lt.setDisplayMode=function(Lt){gt=Lt,kt()},lt.getDisplayMode=function(){return gt},lt.showAfterLoading=function(){Tt=!0,kt()},lt.hideWhileLoading=function(){Tt=!1,kt()},kt()}}).call(this,et(0))},function(_e,tt,et){const nt=et(36);_e.exports=function(it){let ot=it.nameMode,st=it.muteMode;function at(){return ot==="on"||st==="on"?"on":ot==="mini"||st==="mini"?"mini":ot==="mini-auto"||st==="mini-auto"?"mini-auto":ot==="auto"||st==="auto"?"auto":"off"}nt(this,{mode:at(),nodeName:"div",htmlContent:"",htmlAttributes:{className:"OT_bar OT_edge-bar-item"}}),this.setNameMode=function(ct){ot=ct,this.setDisplayMode(at())},this.setMuteMode=function(ct){st=ct,this.setDisplayMode(at())}}},function(_e,tt,et){const nt=et(8),rt=et(36),it=et(105);_e.exports=function(st){st===void 0&&(st={});const at=st.OTHelpers||nt,ct=st.Widget||rt;return function(dt){let ut=dt.muted||!1;const ft=()=>{ut?at.addClass(this.domElement,"OT_active"):at.removeClass(this.domElement,"OT_active ")},pt=()=>(ut=!ut,ft(),ut?this.parent.trigger("muted",this):this.parent.trigger("unmuted",this),!1),yt=vt=>{at.on(vt,"click",pt)},Tt=vt=>{at.off(vt,"click",pt)};it(this,{muted:{get(){return ut},set(vt){ut=vt,ft()}}});const ht=ut?"OT_edge-bar-item OT_mute OT_active":"OT_edge-bar-item OT_mute";ct(this,{mode:dt.mode,nodeName:"button",htmlContent:"Mute",htmlAttributes:{className:ht,type:"button"},onCreate:yt,onDestroy:Tt});let gt;this.remove=()=>{this.domElement&&this.domElement.parentNode&&(gt=this.domElement.parentNode,this.domElement.parentNode.removeChild(this.domElement))},this.add=()=>{gt&&this.domElement&&!this.domElement.parentNode&&gt.appendChild(this.domElement)}}}},function(_e,tt,et){const nt=et(36),rt=it=>{const ot=document.createElement("div");return ot.textContent=it,ot.innerHTML};_e.exports=function(ot){let st=ot.name;(!st||st.trim().length==="")&&(st=null,ot.mode="off"),this.setName=function(at){st||this.setDisplayMode("auto"),st=rt(at),this.domElement.innerHTML=st}.bind(this),st=rt(st),nt(this,{mode:ot.mode,nodeName:"h1",htmlContent:st,htmlAttributes:{className:"OT_name OT_edge-bar-item"}})}},function(_e,tt,et){const nt=et(36),rt=et(8);_e.exports=function(ot){let st=!1,at=!1;const ct=function(dt){const ut=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(dt,"OT_video-disabled OT_video-disabled-warning OT_active"),ut&&(st?rt.addClass(dt,"OT_video-disabled"):at&&rt.addClass(dt,"OT_video-disabled-warning"),rt.addClass(dt,"OT_active"))}.bind(this);this.disableVideo=function(dt){st=dt,dt===!0&&(at=!1),ct(this.domElement)},this.setWarning=function(dt){at=dt,ct(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-disabled-indicator"}});const lt=this.setDisplayMode.bind(this);this.setDisplayMode=function(dt){lt(dt),ct(this.domElement)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.global||(typeof window!==void 0?window:commonjsGlobal);return function(){if(it.navigator.mediaDevices){const st=it.navigator.mediaDevices;return st.enumerateDevices&&st.enumerateDevices.bind(st)}}}},function(_e,tt,et){const nt=et(2),rt=et(159).default,it=()=>!nt.isLegacyEdge&&!nt.isElectron&&rt&&!nt.isAndroid;_e.exports={isSupportedInThisBrowser:it(),autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:nt.name!=="Safari",browser:nt.name!=="Safari"},register(){return{isInstalled(ot){ot(void 0)},getConstraints(ot,st,at){at(void 0,{video:st.video,audio:st.audio})}}}}},function(_e,tt,et){const nt=rt=>rt&&typeof rt=="object"&&typeof rt.kind=="string"&&typeof rt.stop=="function"&&typeof rt.enabled=="boolean";tt.isMediaStreamTrack=nt},function(_e,tt,et){et.r(tt),function(nt){var rt=function(ct,lt,dt,ut){return new(dt||(dt=nt))(function(ft,pt){function yt(gt){try{ht(ut.next(gt))}catch(vt){pt(vt)}}function Tt(gt){try{ht(ut.throw(gt))}catch(vt){pt(vt)}}function ht(gt){gt.done?ft(gt.value):new dt(function(vt){vt(gt.value)}).then(yt,Tt)}ht((ut=ut.apply(ct,lt||[])).next())})},it=function(ct,lt){var dt={label:0,sent:function(){if(pt[0]&1)throw pt[1];return pt[1]},trys:[],ops:[]},ut,ft,pt,yt;return yt={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(yt[Symbol.iterator]=function(){return this}),yt;function Tt(gt){return function(vt){return ht([gt,vt])}}function ht(gt){if(ut)throw new TypeError("Generator is already executing.");for(;dt;)try{if(ut=1,ft&&(pt=ft[gt[0]&2?"return":gt[0]?"throw":"next"])&&!(pt=pt.call(ft,gt[1])).done)return pt;switch(ft=0,pt&&(gt=[0,pt.value]),gt[0]){case 0:case 1:pt=gt;break;case 4:return dt.label++,{value:gt[1],done:!1};case 5:dt.label++,ft=gt[1],gt=[0];continue;case 7:gt=dt.ops.pop(),dt.trys.pop();continue;default:if(pt=dt.trys,!(pt=pt.length>0&&pt[pt.length-1])&&(gt[0]===6||gt[0]===2)){dt=0;continue}if(gt[0]===3&&(!pt||gt[1]>pt[0]&&gt[1]<pt[3])){dt.label=gt[1];break}if(gt[0]===6&&dt.label<pt[1]){dt.label=pt[1],pt=gt;break}if(pt&&dt.label<pt[2]){dt.label=pt[2],dt.ops.push(gt);break}pt[2]&&dt.ops.pop(),dt.trys.pop();continue}gt=lt.call(ct,dt)}catch(vt){gt=[6,vt],ft=0}finally{ut=pt=0}if(gt[0]&5)throw gt[1];return{value:gt[0]?gt[1]:void 0,done:!0}}};function ot(){return typeof window<"u"||typeof window!==void 0?window:commonjsGlobal}var st="onFailure must return boolean, or delay in ms";function at(ct,lt,dt){return dt===void 0&&(dt=10),function(){for(var ut=[],ft=0;ft<arguments.length;ft++)ut[ft]=arguments[ft];return rt(this,void 0,void 0,function(){var pt,yt,Tt;return it(this,function(ht){switch(ht.label){case 0:pt=0,yt=function(){var gt,vt,Ct;return it(this,function(It){switch(It.label){case 0:return It.trys.push([0,2,,6]),gt={},[4,ct.apply(void 0,ut)];case 1:return[2,(gt.value=It.sent(),gt)];case 2:if(vt=It.sent(),Ct=lt(vt,pt),Ct===!1||Ct==null||pt>=dt)throw vt;return typeof Ct!="number"?[3,4]:[4,new nt(function(Zt){return ot().setTimeout(Zt,Ct)})];case 3:return It.sent(),[3,5];case 4:if(Ct!==!0)throw new Error(st);It.label=5;case 5:return[3,6];case 6:return[2]}})},ht.label=1;case 1:return(pt+=1)?[5,yt()]:[3,3];case 2:return Tt=ht.sent(),typeof Tt=="object"?[2,Tt.value]:[3,1];case 3:return[2]}})})}}tt.default=at}.call(this,et(0))},function(_e,tt,et){const nt=et(1)("videoContentHint"),rt=["","text","motion","detail"],it=ct=>rt.includes(ct),ot=ct=>{var lt;return ct==null||(lt=ct.getVideoTracks())==null?void 0:lt[0]},st=(ct,lt)=>{if(!it(lt)){nt.warn('Invalid content hint. Valid content hints are "text", "detail", "motion", or ""');return}const dt=ot(ct);if(!dt){nt.warn("Tried to set contentHint but no video track is present");return}if(dt.contentHint===void 0){nt.warn("contentHint not supported by this browser");return}dt.contentHint=lt},at=ct=>{const lt=ot(ct);return(lt==null?void 0:lt.contentHint)||""};_e.exports={isValidVideoContentHint:it,setVideoContentHint:st,getVideoContentHint:at}},function(_e,tt,et){const nt=et(105);_e.exports=function(){return function(ot,st){let at;nt(this,{muted:{get(){return at},set(ct){if(at===ct)return;at=ct;const lt=ot.getAudioTracks();for(let dt=0,ut=lt.length;dt<ut;++dt)lt[dt].enabled=!at}}}),st!==void 0?this.muted(st===!0):ot.getAudioTracks().length?this.muted(!ot.getAudioTracks()[0].enabled):this.muted(!1)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.otError||et(13)(),st={};return(typeof window!==void 0?window:commonjsGlobal).MediaError&&(st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_ABORTED]={name:it.MEDIA_ERR_ABORTED,message:"The fetching process for the media resource was aborted by the user agent at the user's request."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_NETWORK]={name:it.MEDIA_ERR_NETWORK,message:"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_DECODE]={name:it.MEDIA_ERR_DECODE,message:"An error of some description occurred while decoding the media resource, after the resource was established to be usable."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]={name:it.MEDIA_ERR_SRC_NOT_SUPPORTED,message:"The media resource indicated by the src attribute was not suitable."}),function(ct){const lt=st[ct.code];return lt?ot(lt.name,new Error(`There was an unexpected problem with the Video Stream: ${lt.message}`)):new Error(`An unknown error occurred${ct.message?`: ${ct.message}`:"."}`)}}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(6),at=et(61),ct=et(656),lt=et(657),dt=et(658),ut=et(107),ft=et(2),pt=et(24)(),yt=pt.hasAudioOutputApiSupport,Tt=et(295),ht=et(106),gt=ht.getCurrentAudioOutputDeviceId;function vt(Zt,Mt){const kt=document.createElement("video");return lt(kt),kt.autoplay=!0,kt.playsinline=!0,kt.innerHTML=Zt,kt.setAttribute("autoplay",""),kt.setAttribute("playsinline",""),Mt===!0&&(kt.muted="true"),kt}function Ct(){const Zt=vt("");return Zt.setAttribute("style","display:none"),Zt}function It(Zt){Zt===void 0&&(Zt={});const Mt=Zt.audioContext||et(158)(),kt=Zt.canBeOrientatedMixin||et(659),Nt=Zt.document||(typeof window!==void 0?window:commonjsGlobal).document,Lt=Zt.listenForTracksEnded||et(660)(),Pt=Zt.logging||et(1),cn=Zt.OTHelpers||et(8),Jt=Zt.videoElementErrorMap||et(293)(),Bt=Zt.WebaudioAudioLevelSampler||et(146),dn=Zt.global||(typeof window!==void 0?window:commonjsGlobal);let vn=1;return function(){function pn(Cn,yn){var bn=this;let Xn=Cn._inject,Hn=Xn===void 0?{}:Xn,En=Hn.createVideoElement,Zn=En===void 0?vt:En,Vn=Hn.createAudioOnlyVideoElement,rr=Vn===void 0?Ct:Vn,gr=Cn.muted,cr=Cn.fallbackText,sr=Cn.widgetType;this._domElement=void 0,this._domAudioOnlyVideoElement=void 0,this._blockedVolume=void 0,this._mediaStoppedListener=void 0,this._audioLevelSampler=void 0,this._playInterrupts=0,this._isVideoLoadedMetaData=!1,this._audioOnlyVideoElementWatcher=void 0,this._blinkStartTime=null,this.logging=Pt(`NativeVideoElementWrapper:${vn}`),vn+=1,st(this),this._defaultAudioVolume=yn,this._widgetType=sr,this._emitVideoPlayAttempt=()=>{this._blinkStartTime=new Date().getTime(),this.trigger("amrLogEvent","AMRTransitionVideo","Attempt")},this._emitVideoPlaySuccess=()=>{const Fr=new Date().getTime()-this._blinkStartTime;this.trigger("amrLogEvent","AMRTransitionVideo","Success",{attemptDuration:Fr}),this._blinkStartTime=null},this._emitVideoPlayFailure=()=>{this.trigger("amrLogEvent","AMRTransitionVideo","Failure")};let Or=!1;const Rr=()=>{Or||(this.logging.warn("Video element paused, auto-resuming. If you intended to do this, use publishVideo(false) or subscribeToVideo(false) instead."),Or=!0),this.play()};this._domElement=Zn(cr,gr),this.trigger("videoElementCreated",this._domElement),this._domElementEvents=at(this._domElement),this._domElementEvents.on("loadstart",()=>this._onDomElementLoadStart()),this._domElementEvents.on("timeupdate",function(){for(var Fr=arguments.length,Qr=new Array(Fr),vo=0;vo<Fr;vo++)Qr[vo]=arguments[vo];return bn.trigger("timeupdate",...Qr)}),this._domElementEvents.on("loadedmetadata",(0,ot.default)(it.default.mark(function Fr(){var Qr,vo,Lr,Pr,qn=arguments;return it.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:for(bn._isVideoLoadedMetaData=!0,Qr=qn.length,vo=new Array(Qr),Lr=0;Lr<Qr;Lr++)vo[Lr]=qn[Lr];if(bn.trigger("loadedmetadata",...vo),!bn._domAudioOnlyVideoElement){vr.next=10;break}if(Pr=bn._domAudioOnlyVideoElement.srcObject,bn._removeAudioOnlyVideoElement(),!Pr){vr.next=10;break}return vr.next=9,Tt();case 9:bn.play();case 10:case"end":return vr.stop()}},Fr)})));const Yr=Fr=>{this.trigger("error",Jt(Fr.target.error))};this._domElementEvents.on("error",Yr,!1),this._domElementEvents.on("pause",Rr),this.on("destroyed",()=>{this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll()}),kt(this,()=>this._domElement),ft.isSafari&&this._widgetType==="subscriber"&&(this._domAudioOnlyVideoElement=rr(),this._bindAudioOnlyVideoElementEvents())}var In=pn.prototype;return In._onDomElementLoadStart=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){return it.default.wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:if(!(this._widgetType==="subscriber"&&yt())){Hn.next=3;break}return Hn.next=3,this._setActiveAudioOutputDevice();case 3:case"end":return Hn.stop()}},bn,this)}));function yn(){return Cn.apply(this,arguments)}return yn}(),In._setActiveAudioOutputDevice=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){var Xn;return it.default.wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(Xn=gt(),!(Xn===""||Xn==="default")){En.next=3;break}return En.abrupt("return");case 3:return En.next=5,this.setSinkId(Xn);case 5:case"end":return En.stop()}},bn,this)}));function yn(){return Cn.apply(this,arguments)}return yn}(),In._rebindSrcObject=function(){this._domElement&&(this._domElement.srcObject=this._domElement.srcObject)},In._pauseAndPlay=function(){this._domElement&&(this._domElement.pause(),this._domElement.play())},In._startAudioOnlyVideoElementWatcher=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){var Xn,Hn;return it.default.wrap(function(Zn){for(;;)switch(Zn.prev=Zn.next){case 0:return Xn=1e3,Hn=ft.isiOS,this._audioOnlyVideoElementWatcher=setInterval(()=>{this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.paused&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject,Hn&&this._domAudioOnlyVideoElement.play())},100),Zn.next=5,ut(Xn);case 5:clearInterval(this._audioOnlyVideoElementWatcher),this._audioOnlyVideoElementWatcher=null;case 7:case"end":return Zn.stop()}},bn,this)}));function yn(){return Cn.apply(this,arguments)}return yn}(),In._removeAudioOnlyVideoElement=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){return it.default.wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:this._domAudioOnlyVideoElement.srcObject=null,this._domAudioOnlyVideoElement.parentNode.removeChild(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._domAudioOnlyVideoElement=null;case 4:case"end":return Hn.stop()}},bn,this)}));function yn(){return Cn.apply(this,arguments)}return yn}(),In.bindAudioTrackOnly=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){var Xn,Hn,En,Zn,Vn,rr,gr;return it.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return Xn=this._stream.getVideoTracks(),Hn=this._stream.getAudioTracks(),En=Xn[0],Zn=En===void 0?{}:En,Vn=Hn[0],rr=Vn===void 0?{}:Vn,sr.next=6,Tt();case 6:gr=!Zn.enabled&&rr.enabled,!this._isVideoLoadedMetaData&&gr&&this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=new dn.MediaStream(Hn),this._startAudioOnlyVideoElementWatcher());case 8:case"end":return sr.stop()}},bn,this)}));function yn(){return Cn.apply(this,arguments)}return yn}(),In._bindAudioOnlyVideoElementEvents=function(){var yn=this;this._domAudioOnlyVideoElementEvents=at(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents.on("pause",()=>this.play()),this._domAudioOnlyVideoElementEvents.on("timeupdate",function(){for(var bn=arguments.length,Xn=new Array(bn),Hn=0;Hn<bn;Hn++)Xn[Hn]=arguments[Hn];return yn.trigger("timeupdate",...Xn)}),this._domAudioOnlyVideoElementEvents.on("loadedmetadata",function(){for(var bn=arguments.length,Xn=new Array(bn),Hn=0;Hn<bn;Hn++)Xn[Hn]=arguments[Hn];return yn.trigger("loadedmetadata",...Xn)})},In.whenTimeIncrements=function(yn,bn){this.once("timeupdate",()=>{yn.call(bn,this)})},In.domElement=function(){return this._domElement},In.videoWidth=function(){return this._domElement?Number(this._domElement[`video${this.isRotated()?"Height":"Width"}`]):0},In.videoHeight=function(){return this._domElement?Number(this._domElement[`video${this.isRotated()?"Width":"Height"}`]):0},In.aspectRatio=function(){return this.videoWidth()/this.videoHeight()},In.imgData=function(){const yn=cn.createElement("canvas",{width:this.videoWidth(),height:this.videoHeight(),style:{display:"none"}});Nt.body.appendChild(yn);let bn=null;try{yn.getContext("2d").drawImage(this._domElement,0,0,yn.width,yn.height),bn=yn.toDataURL("image/png")}catch{}return cn.removeElement(yn),bn===null||bn==="data:,"?(this.logging.warn("Cannot get image data yet"),null):bn.replace("data:image/png;base64,","").trim()},In.appendTo=function(yn){return yn.appendChild(this._domElement),this._domAudioOnlyVideoElement&&yn.appendChild(this._domAudioOnlyVideoElement),this},In.isAudioBlocked=function(){return this._blockedVolume!==void 0},In.unblockAudio=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){var Xn;return it.default.wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(this.isAudioBlocked()){En.next=3;break}return this.logging.warn("Unexpected call to unblockAudio() without blocked audio"),En.abrupt("return");case 3:return Xn=this._blockedVolume,this._blockedVolume=void 0,this.setAudioVolume(Xn),En.prev=6,En.next=9,this.play();case 9:En.next=16;break;case 11:throw En.prev=11,En.t0=En.catch(6),this._blockedVolume=Xn,this._domElement.muted=!0,En.t0;case 16:this.trigger("audioUnblocked");case 17:case"end":return En.stop()}},bn,this,[[6,11]])}));function yn(){return Cn.apply(this,arguments)}return yn}(),In.rebind=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){return it.default.wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:if(this._domElement){Hn.next=2;break}throw new Error("Can't rebind because _domElement no longer exists");case 2:this._playInterrupts++,this._domElement.srcObject=this._domElement.srcObject,this._hasAudioOnlyVideoElement()&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject);case 5:case"end":return Hn.stop()}},bn,this)}));function yn(){return Cn.apply(this,arguments)}return yn}(),In._createAudioLevelSampler=function(){if(this._removeAudioLevelSampler(),this._stream.getAudioTracks().length>0){try{this._audioContext=Mt()}catch(yn){this.logging.warn("Failed to get AudioContext(), audio level visualisation will not work",yn)}this._audioContext&&(this._audioLevelSampler=new Bt(this._audioContext),this._audioLevelSampler.webRTCStream(this._stream))}},In._removeAudioLevelSampler=function(){this._audioContext&&(delete this._audioContext,delete this._audioLevelSampler)},In._toggleVideoTracks=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){var Xn,Hn,En;return it.default.wrap(function(Vn){for(;;)switch(Vn.prev=Vn.next){case 0:if(Xn=this._domElement.srcObject.getTracks().filter(rr=>rr.enabled),Hn=Xn.length>1,!Hn){Vn.next=8;break}return En=Xn.filter(rr=>rr.kind==="video"),En.forEach(rr=>{rr.enabled=!1}),Vn.next=7,Tt();case 7:En.forEach(rr=>{rr.enabled=!0});case 8:case"end":return Vn.stop()}},bn,this)}));function yn(){return Cn.apply(this,arguments)}return yn}(),In._hasAudioOnlyVideoElement=function(){return this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.srcObject},In.play=function(){var Cn=(0,ot.default)(it.default.mark(function bn(){var Xn,Hn,En,Zn,Vn,rr,gr,cr,sr,Or,Rr,Yr;return it.default.wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(Xn=this._playInterrupts,Hn=this._hasAudioOnlyVideoElement()?this._domAudioOnlyVideoElement:this._domElement,!ft.isSafari){Qr.next=5;break}return Qr.next=5,Tt();case 5:if(!(ft.isiOS&&ft.isSafari)){Qr.next=15;break}if(this._widgetType!=="publisher"){Qr.next=14;break}if(En=ft.iOSVersion>=14&&ft.iOSVersion<=14.2,Zn=this._stream.getVideoTracks(),Vn=Zn[0],rr=Vn===void 0?{}:Vn,gr=this._stream.getAudioTracks(),cr=gr[0],sr=cr===void 0?{}:cr,!(En&&!dt(Hn)&&rr.enabled)){Qr.next=12;break}return Qr.abrupt("return");case 12:if(!sr.muted){Qr.next=14;break}return Qr.abrupt("return");case 14:this._toggleVideoTracks();case 15:return Qr.prev=15,this._emitVideoPlayAttempt(),Qr.next=19,Hn.play();case 19:return this._emitVideoPlaySuccess(),Qr.abrupt("return");case 23:if(Qr.prev=23,Qr.t0=Qr.catch(15),this._emitVideoPlayFailure(),Or=Qr.t0||{},Rr=Or.name,Yr=Rr==="AbortError",Yr&&this._playInterrupts++,!(this._playInterrupts>Xn)){Qr.next=33;break}return Qr.next=32,this.play();case 32:return Qr.abrupt("return");case 33:throw Qr.t0;case 34:case"end":return Qr.stop()}},bn,this,[[15,23]])}));function yn(){return Cn.apply(this,arguments)}return yn}(),In._bindToStream=function(yn){this._stream=yn,this._domElement.srcObject=yn,this._domAudioOnlyVideoElement&&this.bindAudioTrackOnly()},In.bindToStream=function(){var Cn=(0,ot.default)(it.default.mark(function bn(Xn){var Hn=this,En,Zn,Vn;return it.default.wrap(function(gr){for(;;)switch(gr.prev=gr.next){case 0:if(this._domElement){gr.next=2;break}throw new Error("Can't bind because _domElement no longer exists");case 2:return this._bindToStream(Xn),(0,ot.default)(it.default.mark(function cr(){var sr;return it.default.wrap(function(Rr){for(;;)switch(Rr.prev=Rr.next){case 0:return Rr.prev=0,Rr.next=3,Hn.play();case 3:Rr.next=26;break;case 5:if(Rr.prev=5,Rr.t0=Rr.catch(0),sr=!!Xn.getAudioTracks().length,!(Hn._hasAudioOnlyVideoElement()&&Rr.t0.name==="NotAllowedError")){Rr.next=15;break}return Hn._domAudioOnlyVideoElement.muted=!0,Rr.next=12,Hn.play();case 12:Hn._domAudioOnlyVideoElement.muted=!1,Rr.next=26;break;case 15:if(!sr){Rr.next=23;break}return Hn._blockedVolume=Hn.getAudioVolume(),Hn._domElement.muted=!0,Rr.next=20,Hn.play();case 20:Hn.trigger("audioBlocked"),Rr.next=26;break;case 23:return Hn._domElement.muted=!0,Rr.next=26,Hn.play();case 26:case"end":return Rr.stop()}},cr,null,[[0,5]])}))().catch(cr=>{this.logging.debug(".play() failed: ",cr)}),En={width:this._domElement.videoWidth,height:this._domElement.videoHeight},this.trigger("videoDimensionsChanged",Object.assign({},En),Object.assign({},En)),this._domElementEvents.on("resize",()=>{const cr=this._domElement,sr=cr.videoWidth,Or=cr.videoHeight,Rr=sr!==En.width,Yr=Or!==En.height;(Rr||Yr)&&(this.trigger("videoDimensionsChanged",Object.assign({},En),{width:sr,height:Or}),En.width=sr,En.height=Or)}),Zn=()=>{this._mediaStoppedListener.stop(),this._domElement&&(this._domElement.onended=null),this.trigger("mediaStopped")},Vn=cr=>{this.trigger("mediaStopped",cr)},this._domElement.onended=()=>Zn(),this._mediaStoppedListener=Lt(Xn,Zn,Vn),this._createAudioLevelSampler(),gr.abrupt("return",void 0);case 13:case"end":return gr.stop()}},bn,this)}));function yn(bn){return Cn.apply(this,arguments)}return yn}(),In.unbindStream=function(){return this._domElement&&(this._domElement.srcObject=null),this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=null),this._removeAudioLevelSampler(),this},In.setAudioVolume=function(yn){if(this.isAudioBlocked()){this._blockedVolume=yn;return}const bn=parseFloat(yn)/100,Xn=[this.domElement()];this._domAudioOnlyVideoElement&&Xn.push(this._domAudioOnlyVideoElement),Xn.forEach(Hn=>{Hn&&(Hn.volume=bn,Hn.muted=bn===0)})},In.getAudioVolume=function(){if(this.isAudioBlocked())return this._blockedVolume;const yn=this.domElement();return yn?yn.muted?0:yn.volume*100:this._defaultAudioVolume},In.audioChannelType=function(yn){const bn=this.domElement();return yn!==void 0&&(bn.mozAudioChannelType=yn),"mozAudioChannelType"in this._domElement?bn.mozAudioChannelType:"unknown"},In.getAudioInputLevel=function(){return this._audioLevelSampler.sample()},In.refreshTracks=function(){this._mediaStoppedListener&&this._mediaStoppedListener.refresh(),this._createAudioLevelSampler()},In.destroy=function(){this._mediaStoppedListener&&this._mediaStoppedListener.stop(),this.logging.debug("removing domElementEvents"),this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._audioOnlyVideoElementWatcher&&clearInterval(this._audioOnlyVideoElementWatcher),this.unbindStream(),this._domElement&&(cn.removeElement(this._domElement),this._domElement=null),this._domAudioOnlyVideoElement&&(cn.removeElement(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElement=null),this.trigger("destroyed"),ct("NativeVideoElementWrapper",this)},In.setSinkId=function(yn){const Xn=[this._domElement,this._domAudioOnlyVideoElement].map(Hn=>{if(Hn)return Hn.setSinkId(yn)});return nt.all(Xn)},pn}()}_e.exports=It}).call(this,et(0))},function(_e,tt,et){(function(nt){_e.exports=()=>new nt(rt=>setTimeout(rt))}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5)),st=rt(et(661)),at=rt(et(662)),ct=rt(et(1));const lt=et(9),dt=et(47),ut=et(60),ft=et(6),pt=et(298),yt=et(299),Tt=et(670),ht=(0,ct.default)("PublisherPeerConnection");_e.exports=function(vt){vt===void 0&&(vt={});const Ct=vt.getStatsHelpers||et(75),It=vt.OTHelpers||et(8),Zt=vt.PeerConnection||et(71)(),Mt=vt.setCertificates||et(163)(),kt=vt.watchAudioAcquisition||et(672),Nt=vt.createAudioFallbackStateMachine||st.default,Lt=vt.createCongestionLevelEstimator||at.default;return function(cn){var Jt=this;let Bt=cn.iceConfig,dn=cn.webRTCStream,vn=cn.channels,Tn=cn.sendMessage,pn=cn.capableSimulcastStreams,In=cn.overrideSimulcastEnabled,Cn=cn.logAnalyticsEvent,yn=cn.offerOverrides,bn=cn.answerOverrides,Xn=cn.sourceStreamId,Hn=cn.isP2pEnabled,En=cn.sessionId,Zn=cn.keyStore,Vn=cn.sFrameClientStore,rr=cn.isE2ee,gr=cn.audioFallbackEnabled,cr=cn.resolution,sr,Or=!1,Rr,Yr,Fr;const Qr=function(){this.destroy(),Or&&(Or=!1,this.trigger("iceRestartFailure")),this.trigger("disconnected")},vo=function(vr){let Dr=vr.reason,ho=vr.prefix;this.trigger("error",{reason:Dr,prefix:ho})},Lr=function(vr){Or&&sr.iceConnectionStateIsConnected()&&(Or=!1,this.trigger("iceRestartSuccess")),vr==="connected"&&(It.env.name==="Chrome"&&(Rr&&Rr(),Rr=kt(sr.getStats.bind(sr),()=>this.trigger("audioAcquisitionProblem"))),this.trigger("connected")),this.trigger("iceConnectionStateChange",vr)};ft(this),this.setCongestionLevel=Yn=>{var vr;(vr=Yr)==null||vr.setCongestionLevel(Yn)},this.getAudioFallbackState=()=>{var Yn;return(Yn=Yr)==null?void 0:Yn.getState()},this.startEncryption=Yn=>{sr&&sr.startEncryption(Yn)},this.changeMediaDirectionToInactive=()=>{sr&&sr.changeMediaDirectionToInactive()},this.changeMediaDirectionToRecvOnly=()=>{sr&&sr.changeMediaDirectionToRecvOnly()},this.getDataChannel=function(Yn,vr,Dr){sr.getDataChannel(Yn,vr,Dr)},this.getSourceStreamId=()=>sr.getSourceStreamId(),this.destroy=function(){var Yn;(Yn=Fr)==null||Yn.stop(),Rr&&(Rr(),Rr=null),sr&&(sr.disconnect(),sr=null),this.off()},this.processMessage=function(Yn,vr){sr.processMessage(Yn,vr)},this.addTrack=function(Yn,vr,Dr){return sr.addTrack(Yn,vr,Dr)},this.removeTrack=function(Yn){return sr.removeTrack(Yn)},this.getLocalStreams=function(){return sr.getLocalStreams()},this.init=function(Yn,vr){pt(Xn)&&yt(Bt);const Dr={iceConfig:Bt.needRumorIceServersFallback?lt(Bt,{servers:[...Yn,...Bt.servers]}):Bt,channels:vn,capableSimulcastStreams:pn,overrideSimulcastEnabled:In};Mt(Dr,(ho,er)=>{if(ho){vr(ho);return}const Ir=lt({logAnalyticsEvent:Cn,isPublisher:!0,offerOverrides:yn,answerOverrides:bn,sourceStreamId:Xn,p2p:Hn,sessionId:En,keyStore:Zn,sFrameClientStore:Vn,isE2ee:rr},er);sr=new Zt(lt({sendMessage:Tn},Ir)),sr.on({close:Qr,error:vo,qos:Wr=>this.trigger("qos",Wr),iceConnectionStateChange:Lr},this),sr.addLocalStream(dn).then(()=>{vr(void 0)}).catch(vr)})},this.setIceConfig=Yn=>{sr.setIceConfig(Yn)},this.generateOffer=()=>{sr.generateOfferAndSend()},this.getSenders=function(){return sr.getSenders()},this.iceRestart=function(){sr&&(Or=!0,sr.iceRestart())},this.hasRelayCandidates=()=>sr.hasRelayCandidates(),this.iceConnectionStateIsConnected=function(){return sr.iceConnectionStateIsConnected()},this.findAndReplaceTrack=(Yn,vr)=>sr.findAndReplaceTrack(Yn,vr),this._testOnlyGetFramesEncoded=()=>new nt((Yn,vr)=>{sr.getStats((Dr,ho)=>{if(Dr){vr(Dr);return}const er=ut(ho,Ir=>Ct.isVideoStat(Ir,ho)&&Ct.isOutboundStat(Ir));if(!er){vr(new Error("Could not find framesEncoded in getStats report"));return}Yn(dt(er,["timestamp","framesEncoded"]))})}),this.getStats=Yn=>sr.getStats(Yn),this.getRtcStatsReport=Yn=>sr.getRtcStatsReport(Yn),this.setP2PMaxBitrate=(0,ot.default)(it.default.mark(function Yn(){var vr,Dr,ho,er,Ir,Wr,mo;return it.default.wrap(function(To){for(;;)switch(To.prev=To.next){case 0:if(Jt.getSourceStreamId()==="P2P"){To.next=2;break}return To.abrupt("return");case 2:if(Dr=Jt.getSenders().find(wo=>wo.track.kind==="video"),Dr){To.next=5;break}return To.abrupt("return");case 5:return ho=(Dr==null||(vr=Dr.track)==null||vr.getSettings==null?void 0:vr.getSettings())||{},er=ho.width,Ir=ho.height,Wr=Tt(er,Ir),mo=Dr.getParameters(),mo.encodings.forEach(wo=>{wo.maxBitrate=Wr}),To.prev=9,To.next=12,Dr.setParameters(mo);case 12:To.next=16;break;case 14:To.prev=14,To.t0=To.catch(9);case 16:case"end":return To.stop()}},Yn,null,[[9,14]])}));const Pr=()=>{Yr=Nt(),Yr.on("stateChange",Yn=>{let vr=Yn.previousState,Dr=Yn.state;this.trigger("audioFallbackStateChange",{previousState:vr,state:Dr})})},qn=()=>{Fr=Lt({resolution:cr,getStats:this.getStats}),this.on("connected",()=>{Fr.start()})};gr&&(Pr(),qn(),(()=>{let vr;Fr.on("congestionLevel",Dr=>{Dr!==vr&&(vr=Dr,ht.info(`Congestion level changed to: ${Dr}`))})})())}}}).call(this,et(0))},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt={bandwidthCriticalThreshold:7e4,bandwidthFairThreshold:0,packetLossCriticalThreshold:.15,packetLossCriticalThresholdMediumBw:.2,criticalCongestionPeriod:4e3};tt.default=rt},function(_e,tt,et){const nt=et(669);_e.exports=rt=>rt!=="P2P"?!1:nt()},function(_e,tt,et){_e.exports=nt=>{nt.transportPolicy="relay",nt.customServers=nt.customServers||[]}},function(_e,tt,et){const nt=et(9),rt=et(6),it=et(298),ot=et(299);_e.exports=function(at){at===void 0&&(at={});const ct=at.OTHelpers||et(8),lt=at.PeerConnection||et(71)(),dt=at.SinglePeerConnectionAdapter||et(673)(),ut=at.setCertificates||et(163)(),ft=at.Errors||et(7),pt=at.ExceptionCodes||et(10),yt=at.OTErrorClass||et(22),Tt=at.watchSubscriberAudio||et(674);return function(gt){let vt=gt.clientCandidates,Ct=gt.iceConfig,It=gt.send,Zt=gt.logAnalyticsEvent,Mt=gt.p2p,kt=gt.codecFlags,Nt=gt.sourceStreamId,Lt=gt.remoteConnectionId,Pt=gt._singlePeerConnectionController,cn=gt.keyStore,Jt=gt.sFrameClientStore,Bt=gt.isE2ee;const dn=this;let vn,Tn=!1,pn=!1,In=null;const Cn=!!Pt;let yn=!1;const bn=[],Xn=[],Hn=function(){this.destroy(),pn&&this.trigger("iceRestartFailure",this),this.trigger("disconnected",this)},En=qn=>{this.trigger("remoteStreamRemoved",qn,this)},Zn=qn=>{const Yn=qn.kind==="video"?bn:Xn,vr=Yn.indexOf(qn);vr>-1&&Yn.splice(vr,1)},Vn=qn=>{const Yn=qn.kind==="video"?bn:Xn;Yn.includes(qn)||Yn.push(qn)},rr=100,gr=qn=>{yn||(qn.onremovetrack=Yn=>{Zn(Yn),Cn&&vn&&vn.removeTrack(Yn),setTimeout(()=>{!bn.length&&!Xn.length&&En(qn)},rr)},yn=!0)},cr=qn=>{const Yn=qn.stream,vr=qn.track;Vn(vr),gr(Yn),this.trigger("remoteTrackAdded",qn,this)},sr=qn=>{this.trigger("remoteVideoSupported",qn)},Or=()=>{this.trigger("decryptFailed")},Rr=()=>{this.trigger("decryptRestored")},Yr=function(Yn){let vr=Yn.reason,Dr=Yn.prefix;this.trigger("error",null,vr,this,Dr)},Fr=function(Yn){pn&&(Yn==="connected"||Yn==="completed")&&(pn=!1,this.trigger("iceRestartSuccess")),Yn==="connected"&&this.trigger("connected"),this.trigger("iceConnectionStateChange",Yn)},Qr=function(Yn){this.trigger("signalingStateChange",Yn)},vo=function(Yn){this.trigger("signalingStateStable",Yn)},Lr=(qn,Yn)=>{(qn==="answer"||qn==="pranswer")&&this.trigger("connected"),It(qn,Yn)};rt(this),this._hasAudioTracks=()=>Xn.length>0,this._hasVideoTracks=()=>bn.length>0,this._getVideoTracks=()=>bn,this._getAudioTracks=()=>Xn,this._getTracks=()=>[...Xn,...bn],this.close=function(){Tn||(Tn=!0,vn&&(vn.disconnect(),vn=null),this.off())},this.destroy=function(){this.stopAudioStatsWatcher(),!Tn&&this.close()},this.getDataChannel=function(qn,Yn,vr){vn.getDataChannel(qn,Yn,vr)},this.getSourceStreamId=()=>vn.getSourceStreamId(),this.processMessage=function(qn,Yn){vn.processMessage(qn,Yn)},this.remoteDescription=function(){return vn.remoteDescription()},this.getStats=function(qn){if(vn)vn.getStats(qn);else{const Yn=pt.PEER_CONNECTION_NOT_CONNECTED;qn(new ct.Error(yt.getTitleByCode(Yn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Yn}))}},this.getSynchronizationSources=function(qn){if(!vn){const Yn=pt.PEER_CONNECTION_NOT_CONNECTED;qn(new ct.Error(yt.getTitleByCode(Yn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Yn}));return}vn.getSynchronizationSources(qn)},this.getRtcStatsReport=function(qn){if(vn)vn.getRtcStatsReport(qn);else{const Yn=pt.PEER_CONNECTION_NOT_CONNECTED;qn(new ct.Error(yt.getTitleByCode(Yn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Yn}))}},this.setIceConfig=qn=>{vn.setIceConfig(qn)},this.generateOffer=()=>{vn.generateOfferAndSend()},this.startAudioStatsWatcher=function(qn){In||(In=Tt(vn.getStats.bind(vn),Yn=>{this.stopAudioStatsWatcher(),this.trigger("audioLevelStuckWarning",Yn)},qn))},this.stopAudioStatsWatcher=function(){In&&In.stop(),In=null};const Pr=function(Yn){return function(vr){const Dr=Yn==="video"?bn:Xn;vn&&vn.remoteTracks().forEach(ho=>{ho.kind===Yn&&ho.enabled!==vr&&Dr.includes(ho)&&(ho.enabled=vr)})}};this.subscribeToAudio=Pr("audio"),this.subscribeToVideo=Pr("video"),this.hasRelayCandidates=function(){return vn.hasRelayCandidates()},this.iceRestart=function(){return pn=!0,vn.iceRestart()},this.iceConnectionStateIsConnected=function(){return vn.iceConnectionStateIsConnected()},this.init=function(qn){it(Nt)&&ot(Ct),ut({iceConfig:Ct},(vr,Dr)=>{if(vr){qn(vr);return}const ho=nt({logAnalyticsEvent:Zt,clientCandidates:vt,codecFlags:kt,sourceStreamId:Nt,keyStore:cn,sFrameClientStore:Jt,isE2ee:Bt},Dr),er=nt({sendMessage:Lr,p2p:Mt},ho,{remoteConnectionId:Lt});Cn?vn=new dt(er,Pt):vn=new lt(er),vn.on({iceConnected:()=>dn.emit("iceConnected"),close:Hn,trackAdded:cr,signalingStateChange:Qr,signalingStateStable:vo,error:Yr,qos:Ir=>this.trigger("qos",Ir),iceConnectionStateChange:Fr,remoteVideoSupported:sr,decryptFailed:Or,decryptRestored:Rr},dn),!Cn&&vn.remoteTracks().length>0?vn.remoteStreams().forEach(Ir=>{Ir.getTracks().forEach(Wr=>cr({stream:Ir,track:Wr}))}):qn(void 0,dn)})}}}},function(_e,tt,et){_e.exports=(nt,rt)=>{nt.forEach((it,ot)=>{const st=it.id||it,at=rt.id||rt;st===at&&nt.splice(ot,1)})}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const ct=(rt.generateSimpleStateMachine||et(160)())("NotPublishing",["NotPublishing","GetUserMedia","BindingMedia","MediaBound","PublishingToSession","Publishing","Failed","Destroyed"],{NotPublishing:["NotPublishing","GetUserMedia","Destroyed"],GetUserMedia:["BindingMedia","Failed","NotPublishing","Destroyed"],BindingMedia:["MediaBound","Failed","NotPublishing","Destroyed"],MediaBound:["NotPublishing","PublishingToSession","Failed","Destroyed"],PublishingToSession:["NotPublishing","Publishing","Failed","Destroyed","MediaBound"],Publishing:["NotPublishing","MediaBound","Failed","Destroyed"],Failed:["Destroyed"],Destroyed:[]});return ct.prototype.isDestroyed=function(){return this.current==="Destroyed"},ct.prototype.isAttemptingToPublish=function(){return["GetUserMedia","BindingMedia","MediaBound","PublishingToSession"].indexOf(this.current)!==-1},ct.prototype.isPublishing=function(){return this.current==="Publishing"},ct}},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=nt;function nt(rt){this.message=rt||"Operation has been canceled.",this.name="CancellationError",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}nt.prototype=Object.create(Error.prototype),nt.prototype.constructor=nt},function(_e,tt,et){var nt=et(0);Object.defineProperty(tt,"__esModule",{value:!0});function rt(it,ot){return nt.resolve(it).then(st=>nt.resolve(ot()).then(()=>st),st=>nt.resolve(ot()).then(()=>nt.reject(st)))}tt.default=rt},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(141),at=et(254),ct=et(9),lt=et(276),dt=et(57),ut=et(50),ft=et(165),pt=ft.CancellationError,yt=et(15),Tt=et(18),ht=et(49),gt=et(267),vt=et(26),Ct=et(6),It=et(684),Zt=et(104),Mt=et(61),kt=et(685),Nt=et(7),Lt=et(164)(),Pt=et(686),cn=et(282),Jt=et(144),Bt=et(283),dn=et(145),vn=et(2),Tn=et(7),pn=et(23)(),In=et(10),Cn=et(75),yn=et(306),bn=et(307),Xn=et(687),Hn=et(162)(),En=et(1)("Subscriber"),Zn=et(284)(),Vn=et(285),rr=et(13)(),gr=et(22),cr=et(8),sr=et(152),Or=et(143)(typeof window!==void 0?window:commonjsGlobal),Rr=et(71)({global:Or}),Yr=et(300)({PeerConnection:Rr}),Fr=et(308),Qr=et(286),vo=et(690),Lr=et(691),Pr=et(692),qn=et(309),Yn=et(102).parseIceServers,vr=et(693),Dr=et(694),ho=et(695),er=et(311),Ir=et(167),Wr=et(312),mo=100,Jr=(ro,Ho)=>ro.connection.id===Ho.connection.id,To=ro=>{let Ho=ro.apiKey,Oo=ro.sessionId,Do=ro.streamId,so=ro.subscriberId;return["/v2/partner",Ho,"session",Oo,"stream",Do,"subscriber",so].join("/")};function wo(ro){return Math.max(0,Math.min(100,parseInt(ro,10)))}function xo(ro){return ro.audioVolume!==void 0?ro.audioVolume:ro.subscribeToAudio===!1?0:mo}_e.exports=function(Ho){let Oo=Ho===void 0?{}:Ho,Do=Oo.AudioLevelMeter,so=Do===void 0?cn:Do,Nu=Oo.AudioLevelTransformer,_o=Nu===void 0?Jt:Nu,ko=Oo.BackingBar,ls=ko===void 0?Bt:ko,_s=Oo.Chrome,cu=_s===void 0?dn:_s,Ns=Oo.env,Rl=Ns===void 0?vn:Ns,Pu=Oo.Errors,Hu=Pu===void 0?Tn:Pu,qp=Oo.Events,ip=qp===void 0?pn:qp,op=Oo.ExceptionCodes,oo=op===void 0?In:op,yl=Oo.audioLevelSampler,vu=yl===void 0?Xn:yl,Ys=Oo.getStatsHelpers,Ll=Ys===void 0?Cn:Ys,_r=Oo.hasAudioOutputLevelStatCapability,_a=_r===void 0?yn:_r,_h=Oo.hasRemoteStreamsWithWebAudio,yu=_h===void 0?bn:_h,bu=Oo.interpretPeerConnectionError,us=bu===void 0?Hn:bu,Yl=Oo.logging,ds=Yl===void 0?En:Yl,_u=Oo.MuteButton,Sp=_u===void 0?Zn:_u,Il=Oo.NamePanel,dp=Il===void 0?Vn:Il,sp=Oo.otError,Cl=sp===void 0?rr:sp,ts=Oo.OTErrorClass,lu=ts===void 0?gr:ts,Ro=Oo.OTHelpers,fp=Ro===void 0?cr:Ro,Mu=Oo.StylableComponent,Wp=Mu===void 0?sr:Mu,ws=Oo.SubscriberPeerConnection,Gp=ws===void 0?Yr:ws,om=Oo.SubscribingState,Fp=om===void 0?Fr:om,Op=Oo.VideoDisabledIndicator,em=Op===void 0?Qr:Op,pp=Oo.AudioBlockedIndicator,Su=pp===void 0?vo:pp,Yu=Oo.VideoUnsupportedIndicator,Ql=Yu===void 0?Lr:Yu,Hp=Oo.watchFrameRate,or=Hp===void 0?Pr:Hp,Wn=Oo.createSendMethod,Bn=Wn===void 0?qn:Wn,ur=Oo.parseIceServers,Nr=ur===void 0?Yn:ur,jr=Oo.document,Go=jr===void 0?(typeof window!==void 0?window:commonjsGlobal).document:jr,Yo=Oo.WidgetView,Ws=Yo===void 0?Lt:Yo;const ps=3e4,Es=15e3,Ds=function _c(Dp,zs,zl){var qs=this,uu;if(zs===void 0&&(zs={}),zl===void 0&&(zl=()=>{}),zs.analytics===void 0)throw new Error("Subscriber requires an instance of analytics");const Lp=zs.analytics,hp=yt(),lm=_c.hasAudioOutputLevelStatCapability()||yu(),Sl=this,qu={},mp={},jp={},Ou={},Ep={},$l=new Wr;let So,cs,Cp,lo,sm,xa,Tp,Xp,jo,Yp,ap,um,mm,Up,tm=!1,dm=Dp||hp,hs=zs.session,No=zs.stream;const Sm=zs,Om=Sm._singlePeerConnectionController,Em=Om!==void 0;let Vp,_d,zn,sn=!1,jn,dr={},fr=null,co=!1,uo=!0,Eo=[],bo=st({},zs,{showControls:!0,testNetwork:!1,fitMode:No.defaultFitMode||"cover",insertDefaultUI:!0,initials:No.initials}),Eu;const Xo=hs.sessionInfo.isAdaptiveEnabled,Ul={P2P:vt.SUBSCRIBER_DISCONNECTED,MANTIS:vt.SUBSCRIBER_DISCONNECTED},zp=Rl.name==="Chrome"&&Rl.version>=58||Rl.isChromiumEdge||Rl.isOpera,Au=hs._.getSocket(),$p=()=>lt(mp),Wu=qt=>mp[qt],Gu=()=>mp[Eu],gp=function(){var qt=(0,ot.default)(it.default.mark(function xn(On){var $n;return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:return hr.next=2,mp[On];case 2:$n=hr.sent,$n==null||$n.close(),delete mp[On];case 5:case"end":return hr.stop()}},xn)}));return function(On){return qt.apply(this,arguments)}}(),Zp=qt=>{delete jp[qt]},fm=()=>{$p().forEach(function(){var qt=(0,ot.default)(it.default.mark(function xn(On){return it.default.wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:return Qn.next=2,On;case 2:Qn.sent.destroy();case 3:case"end":return Qn.stop()}},xn)}));return function(xn){return qt.apply(this,arguments)}}()),Object.keys(mp).forEach(qt=>{delete mp[qt]})},nm=function(){var qt=(0,ot.default)(it.default.mark(function xn(On){var $n,Qn;return it.default.wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:if(On){yr.next=2;break}return yr.abrupt("return");case 2:return $n={error:bm,audioVolume:_d},Qn=Xo&&Eu==="P2P",yr.prev=4,yr.next=7,So.bindVideo(On,$n,Qn);case 7:yr.next=18;break;case 9:if(yr.prev=9,yr.t0=yr.catch(4),!(yr.t0 instanceof pt||xa.isDestroyed())){yr.next=13;break}return yr.abrupt("return");case 13:if(!yr.t0.message.includes("bufferFailed")){yr.next=16;break}return qs._.startRelayedToRoutedTransition(),yr.abrupt("return");case 16:throw bm(yr.t0),yr.t0;case 18:case"end":return yr.stop()}},xn,null,[[4,9]])}));return function(On){return qt.apply(this,arguments)}}(),_l=function(){var qt=(0,ot.default)(it.default.mark(function xn(On,$n){var Qn,hr,yr,pr;return it.default.wrap(function(fo){for(;;)switch(fo.prev=fo.next){case 0:if(Qn=!1,typeof On=="function"?$n=On:Qn=On==="rtcStatsReport",Qn?Nm():b0(),!(Qn&&!er)){fo.next=7;break}return hr=oo.GET_RTC_STATS_REPORT_NOT_SUPPORTED,$n(Cl(Nt.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(lu.getTitleByCode(hr)),hr)),fo.abrupt("return");case 7:if(Gu()){fo.next=11;break}return hr=oo.PEER_CONNECTION_NOT_CONNECTED,$n(Cl(Hu.PEER_CONNECTION_NOT_CONNECTED,new Error(lu.getTitleByCode(hr)),hr)),fo.abrupt("return");case 11:return fo.next=13,Gu();case 13:yr=fo.sent,pr=Qn?yr.getRtcStatsReport:yr.getStats,pr((_i,$s)=>{_i?(_i.code===oo.PEER_CONNECTION_NOT_CONNECTED&&(_i=Cl(Hu.PEER_CONNECTION_NOT_CONNECTED,_i,oo.PEER_CONNECTION_NOT_CONNECTED)),$n(_i)):$n(null,$s)});case 16:case"end":return fo.stop()}},xn)}));return function(On,$n){return qt.apply(this,arguments)}}(),pm=qt=>_l(qt),gm=qt=>_l("rtcStatsReport",qt),Np=qt=>!jo||!Vp?!1:qt==="video"?jo.getVideoTracks().length>0&&Vp.getVideoTracks().length>0:jo.getAudioTracks().length>0&&Vp.getAudioTracks().length>0,js=(qt,xn,On,$n,Qn)=>{let hr=ct({action:qt,variation:xn,payload:On,streamId:No?No.id:null,sessionId:hs?hs.sessionId:null,connectionId:hs&&hs.isConnected()?hs.connection.connectionId:null,partnerId:hs&&hs.sessionInfo?hs.sessionInfo.partnerId:null,subscriberId:hp,widgetType:"Subscriber"},$n);(xn==="Failure"||xn==="iceconnectionstatechange"&&On==="closed")&&(hr=ct(hr,dr));const yr=[hr];Qn&&yr.push(Qn),Lp.logEvent(...yr)},Cm=(qt,xn,On)=>{xn==="Attempt"?(Ou[qt]=new Date().getTime(),js(qt,xn,On)):(xn==="Failure"||xn==="Success")&&js(qt,xn,On,{attemptDuration:new Date().getTime()-Ou[qt]})},Am=function(xn,On){On===void 0&&(On={}),Cm("RoutedToRelayedTransition",xn,On)},s0=function(xn,On){On===void 0&&(On={}),Cm("RelayedToRoutedTransition",xn,On)},zu=Dr({onInvalidTransition(qt,xn){const On=`Invalid state transition: Event '${qt}' not possible in state '${xn}'`;ds.error(On),js("Subscriber:InvalidStateTransition","Event",{details:On})}});{const qt="Unable to subscribe to stream in a reasonable amount of time";vr({connectivityState:zu,onWarning(){km("Warning",{})},onTimeout:()=>{if(So&&So.addError(qt),xa.isAttemptingToSubscribe()){xa.set("Failed"),this._disconnect({noStateTransition:!0});const xn=Cl(Nt.TIMEOUT,new Error(qt),oo.UNABLE_TO_SUBSCRIBE);zu.fail({options:{failureReason:"Subscribe",failureMessage:qt,failureCode:oo.UNABLE_TO_SUBSCRIBE},error:xn})}},warningMs:Es,timeoutMs:ps})}if(qu.promise=new nt((qt,xn)=>{qu.resolve=qt,qu.reject=xn}),bo.testNetwork&&hs.sessionInfo.p2pEnabled&&ds.warn("You cannot test your network with a relayed session. Use a routed session."),this.id=dm,this.widgetId=hp,this.session=hs,this.stream=bo.stream,No=bo.stream,this.streamId=No.id,!hs)return lu.handleJsException({errorMsg:"OT.Subscriber must be passed a session option",code:2e3,target:this,analytics:Lp}),null;Ct(this),Sl.once("subscribeComplete",function(){try{zl(...arguments)}catch(qt){ds.error("Completion handler threw an exception",qt)}}),hs.on("captionReceived",qt=>{qt.streamId===Sl.streamId&&(this.dispatchEvent(qt),this.trigger(vt.SUBSCRIBER_CAPTION_RECEIVED,qt))});const Um=qt=>{let xn=qt.transition,On=qt.from;return xn==="fail"?On==="connected"?"Disconnect":"Failure":xn==="disconnect"&&On==="connected"?"Disconnect":"Cancel"};zu.observe({onEnterConnecting(){km("Attempt",null,{})},onEnterConnected(){km("Success",null,{})},onEnterDisconnected(qt,xn){let On=xn===void 0?{}:xn,$n=On.options,Qn=$n===void 0?{}:$n,hr=On.payload,yr=hr===void 0?null:hr;km(Um(qt),yr,Qn)}}),zu.observe({onEnterConnected:()=>{this.trigger("subscribeComplete",void 0,this)},onEnterDisconnected:function(xn,On){let $n=xn.from,Qn=On===void 0?{}:On,hr=Qn.error;$n==="connecting"&&qs.trigger("subscribeComplete",hr||new Error("An unknown error occurred"),qs)}}),ho({connectivityState:zu,logAttempt(){js("Subscribe","Attempting",null,{connectionId:hs&&hs.isConnected()?hs.connection.connectionId:null})}});const km=function(xn,On,$n){On===void 0&&(On={}),xn==="Failure"||xn==="Success"||xn==="Cancel"?js("Subscribe",xn,On,Object.assign({},$n,{attemptDuration:new Date().getTime()-um})):xn==="Attempt"?(um=new Date().getTime(),js("Subscribe",xn,Object.assign({},On,{testNetwork:bo.testNetwork}),$n)):js("Subscribe",xn,On,$n)},vm=(qt,xn)=>{js("ICERestart",qt,xn)},Bm=qt=>{var xn,On;let $n=qt.parsedStats,Qn=qt.remoteConnectionId,hr=qt.peerId,yr=qt.sourceStreamId;const pr={widgetType:"Subscriber",width:So.width,height:So.height,audioTrack:Np("audio"),hasAudio:No&&No.hasAudio,subscribeToAudio:Up,audioVolume:this.getAudioVolume(),videoTrack:Np("video"),connectionId:hs?hs.connection.connectionId:null,hasVideo:No&&No.hasVideo,subscribeToVideo:bo.subscribeToVideo,congestionLevel:fr,streamId:No.id,subscriberId:hp,duration:Math.round((ht()-sm)/1e3),remoteConnectionId:Qn,peerId:hr,sourceStreamId:Ir(yr),preferredResolutionHeight:(xn=bo.preferredResolution)==null?void 0:xn.height,preferredResolutionWidth:(On=bo.preferredResolution)==null?void 0:On.width,preferredFrameRate:bo.preferredFrameRate,audioFallback:!Yp&&ap==="auto",initials:No.initials},$o=ct(pr,$n);Lp.logQOS($o),this.trigger("qos",Object.assign({},Lp.commonQoSFields(),$o))},Tm=qt=>{ds.error("OT.Subscriber State Change Failed: ",qt.message),ds.debug(qt)},Gm=()=>{xa.isSubscribing()||!So||!So.video()||(tm=!0,co||(zu.connect(),co=!0),ds.debug("OT.Subscriber.onLoaded"),xa.set("Subscribing"),sm=ht(),So.loading(!1),cs&&cs.showAfterLoading(),sn&&No.setRestrictFrameRate(!0),lo&&lo.audioOnly(So.audioOnly()),this.setAudioVolume(_d),this.trigger("loaded",this))},w0=()=>No&&No.hasAudio&&Up&&this.getAudioVolume()>0&&!this.isAudioBlocked(),h0=()=>No&&No.hasVideo,m0=qt=>{const xn=qt==="audioLevelStuckAt0"&&(!w0()||h0());let On=!1;if(!xn&&(js("subscriber:onAudioWarning","Event",{reason:qt}),So)){if(So.rebindSrcObject(),js("subscriber:rebindSrcObject","Called"),qt==="audioLevelStuck")return;On=!0}Fm(On)},Fm=function(){var qt=(0,ot.default)(it.default.mark(function xn(On){var $n;return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:if(On===void 0&&(On=!1),!zp){hr.next=6;break}return hr.next=4,Gu();case 4:$n=hr.sent,$n.startAudioStatsWatcher(On);case 6:case"end":return hr.stop()}},xn)}));return function(On){return qt.apply(this,arguments)}}(),ym=qt=>{Xo&&qt.getSourceStreamId()==="P2P"&&Am("Success")},Lm=()=>{ds.debug("OT.Subscriber has been disconnected from the Publisher's PeerConnection"),zu.fail({options:{failureReason:"PeerConnectionError",failureCode:oo.UNABLE_TO_PUBLISH,failureMessage:"PeerConnection disconnected"},error:Cl(Hu.DISCONNECTED,new Error("ClientDisconnected"))}),this._disconnect({noStateTransition:!0}),(xa.isAttemptingToSubscribe()||xa.isSubscribing())&&xa.set("Failed")},bm=qt=>{const xn=Cl(Hu.MEDIA_ERR_DECODE,qt,qt.code||oo.P2P_CONNECTION_FAILED);xn.message=`OT.Subscriber while playing stream: ${xn.message}`,ds.error("OT.Subscriber.onVideoError"),zu.fail({options:{failureReason:"VideoElement",failureMessage:xn.message,failureCode:xn.code||oo.P2P_CONNECTION_FAILED},error:xn});const On=xa.isAttemptingToSubscribe();xa.set("Failed"),On||Sl.trigger("error",xn.message),lu.handleJsException({error:xn,code:oo.UNABLE_TO_SUBSCRIBE,target:Sl,analytics:Lp})},hm=qt=>{const xn=kt(qt);lu.handleJsException({error:xn,code:xn.code,target:Sl,analytics:Lp}),this._disconnect({noStateTransition:!0});const On={failureReason:"Subscribe",failureMessage:`OT.Subscriber PeerConnection Error: ${xn.message}`,failureCode:oo.P2P_CONNECTION_FAILED};Zm(xn.code,xn.message),zu.fail({options:On,error:Cl(xn.name,new Error(`Subscribe: Subscriber PeerConnection with connection (not found) failed: ${xn.message}`),xn.code)}),xn.name===Nt.STREAM_NOT_FOUND&&this._destroy({reason:"streamNotFound",noStateTransition:!0})},Dm=(qt,xn,On,$n)=>{if($n==="SetRemoteDescription"&&!uo&&xn.match(/Unsupported video without audio for fallback/)){So&&So.addError("The stream is unable to be played.","Your browser does not support the video format.");let pr;fp.env.name==="Safari"?pr=new Error("VP8 is not supported in this version of Safari. You might want to consider switching to an H264 project. See https://tokbox.com/safari for more information."):pr=new Error("Video format not supported in this browser."),pr.code=oo.UNSUPPORTED_VIDEO_CODEC,bm(pr);return}if($n==="ICEWorkflow"&&hs.sessionInfo.reconnection&&tm){ds.debug("Ignoring peer connection failure due to possibility of reconnection.");return}let Qn;$n==="ICEWorkflow"?Qn=oo.SUBSCRIBER_ICE_WORKFLOW_FAILED:qt===oo.STREAM_LIMIT_EXCEEDED?Qn=qt:Qn=oo.P2P_CONNECTION_FAILED;const hr={failureReason:$n||"PeerConnectionError",failureMessage:`OT.Subscriber PeerConnection Error: ${xn}`,failureCode:Qn},yr=us(qt,xn,$n,"(not found)","Subscriber");if(zu.fail({options:hr,error:yr}),xa.isAttemptingToSubscribe()){const pr={hasRelayCandidates:On&&On.hasRelayCandidates()};js("createPeerConnection","Failure",pr,hr),xa.set("Failed")}else xa.isSubscribing()&&(xa.set("Failed"),this.trigger("error",xn));this._disconnect({noStateTransition:!0}),Number(qt)===404&&this._destroy({noStateTransition:!0}),lu.handleJsException({error:yr,errorMsg:`OT.Subscriber PeerConnection Error: ${xn}`,code:Qn,target:this,analytics:Lp}),Zm(qt)},Hm=qt=>{const xn=qt._hasVideoTracks(),On=qt._hasAudioTracks(),$n=No&&No.hasVideo&&!xn,Qn=No&&No.hasAudio&&!On;return!($n||Qn)},Ym=function(){var qt=(0,ot.default)(it.default.mark(function xn(On,$n){var Qn;return it.default.wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:return yr.prev=0,yr.next=3,It(()=>Hm($n));case 3:yr.next=12;break;case 5:if(yr.prev=5,yr.t0=yr.catch(0),yr.t0.message!=="TIMEOUT"){yr.next=11;break}ds.error("The expected tracks never arrived"),yr.next=12;break;case 11:throw yr.t0;case 12:return Qn=$n.getSourceStreamId(),Em&&Qn==="MANTIS"&&Om.subscriberComplete(),yr.next=16,g0(On.stream,$n);case 16:case"end":return yr.stop()}},xn,null,[[0,5]])}));return function(On,$n){return qt.apply(this,arguments)}}(),g0=function(){var qt=(0,ot.default)(it.default.mark(function xn(On,$n){var Qn,hr,yr,pr,$o,fo,_i,$s;return it.default.wrap(function(Lo){for(;;)switch(Lo.prev=Lo.next){case 0:return Vp=On,Em&&(Vp=new MediaStream($n._getTracks())),Qn=Object.keys(jp).length===1,hr=$n==null?void 0:$n.getSourceStreamId(),yr=hs,pr=yr.sessionInfo,jo=On,hr&&(jp[hr]=On),ds.debug("OT.Subscriber.onRemoteStreamAdded with sourceStreamId",hr),xa.set("BindingRemoteStream"),qs.subscribeToAudio(Up),ap="loading",qs.subscribeToVideo(bo.subscribeToVideo,"loading"),!pr.p2pEnabled&&hr!=="P2P"&&(qs.setPreferredResolution(bo.preferredResolution),qs.setPreferredFrameRate(bo.preferredFrameRate)),$n&&$n._getVideoTracks().forEach(eu=>{(typeof window!==void 0?window:commonjsGlobal).webkitMediaStream?eu.enabled=!1:eu.enabled=No.hasVideo&&bo.subscribeToVideo}),Lo.next=16,nm(Vp);case 16:if(Fm(),!xa.isDestroyed()){Lo.next=19;break}throw new Error("Subscriber destroyed");case 19:return $n&&(typeof window!==void 0?window:commonjsGlobal).webkitMediaStream&&$n._getVideoTracks().forEach(eu=>{eu.enabled=No.hasVideo&&bo.subscribeToVideo}),$o=So&&So.video(),$o&&$o.orientation({width:No.videoDimensions.width,height:No.videoDimensions.height,videoOrientation:No.videoDimensions.orientation}),fo=cs&&cs.videoUnsupportedIndicator,fo&&fo.setVideoUnsupported(!uo),_i=new nt((eu,Rm)=>{const Mm=So&&So.video();if(Mm&&Mm.domElement()){eu();return}So.once("videoElementCreated",eu),Sl.once("destroyed",Rm)}),Lo.next=27,_i;case 27:return Lo.next=29,qu.promise;case 29:Qn?xa.set("Subscribing"):Gm(),Tp&&"webRTCStream"in Tp&&$n._hasAudioTracks()&&Tp.webRTCStream(On),$s=fp.env,($s.isSafari||$s.isChromiumEdge||$s.isOpera||$s.name==="Chrome"&&$s.version>=58||$s.isFirefox&&$s.version>=96)&&(jn&&(jn.destroy(),jn=null),$n&&(jn=or($n.getStats.bind($n)))),Qn||qs.trigger("streamAdded",qs),$l.finishTransitionTo(Eu);case 35:case"end":return Lo.stop()}},xn)}));return function(On,$n){return qt.apply(this,arguments)}}(),Fu=qt=>{ds.debug("OT.Subscriber.onStreamRemoved");const xn=So&&So.video();xn&&xn.stream===qt&&So.destroyVideo(),Zp(Eu),Vp=null,this.trigger("streamRemoved",this)},$u=qt=>{uo!==qt&&this.dispatchEvent(new ip.VideoEnabledChangedEvent(qt?"videoEnabled":"videoDisabled",{reason:qt?"codecChanged":"codecNotSupported"})),uo=qt},zm=qt=>{So.setAudioBlockedUi(qt);const xn=cs&&cs.audioBlockedIndicator;xn&&xn.setAudioBlocked(qt);const On=cs&&cs.videoUnsupportedIndicator;On&&On.setVideoUnsupported(!qt&&!uo)};this.on("audioBlocked",()=>{zm(!0)}),this.on("audioUnblocked",()=>{zm(!1)});const O0={new:vt.SUBSCRIBER_DISCONNECTED,checking:vt.SUBSCRIBER_DISCONNECTED,connected:vt.SUBSCRIBER_CONNECTED,completed:vt.SUBSCRIBER_CONNECTED,disconnected:vt.SUBSCRIBER_DISCONNECTED},v0=(qt,xn)=>{const On=O0[qt],$n=xn.getSourceStreamId(),Qn=Ul[$n];On&&On!==Qn&&(Ul[$n]=On,qt==="disconnected"&&$n!=="P2P"&&setTimeout((0,ot.default)(it.default.mark(function yr(){var pr;return it.default.wrap(function(fo){for(;;)switch(fo.prev=fo.next){case 0:if(pr=hs._.isSocketReconnecting,!(Ul[$n]==="disconnected"&&Au.is("connected")&&!pr())){fo.next=4;break}return fo.next=4,qs._.iceRestart("peer connection disconnected");case 4:case"end":return fo.stop()}},yr)})),2e3),So&&So.loading(On!==vt.SUBSCRIBER_CONNECTED),ds.debug(`OT.Subscriber.connectionStateChanged to ${qt}`),this.dispatchEvent(new ip.ConnectionStateChangedEvent(On,this)))},y0=()=>{vm("Success")},Vm=()=>{vm("Failure",{reason:"ICEWorkflow",message:"OT.Subscriber PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall."})},A0=qt=>{const xn=So&&So.video();switch(qt.changedProperty){case"videoDimensions":if(!xn)break;xn.orientation({width:qt.newValue.width,height:qt.newValue.height,videoOrientation:qt.newValue.orientation}),this.dispatchEvent(new ip.VideoDimensionsChangedEvent(this,qt.oldValue,qt.newValue));break;case"videoDisableWarning":cs&&cs.videoDisabledIndicator.setWarning(qt.newValue),this.dispatchEvent(new ip.VideoDisableWarningEvent(qt.newValue?"videoDisableWarning":"videoDisableWarningLifted")),fr=qt.newValue?1:null;break;case"hasVideo":jm(!No.hasVideo||!bo.subscribeToVideo),Rl.isSafari&&!No.hasVideo&&So&&So.bindAudioTrackOnly(),this.dispatchEvent(new ip.VideoEnabledChangedEvent(No.hasVideo?"videoEnabled":"videoDisabled",{reason:"publishVideo"}));break;case"hasAudio":Cp.update();break}},k0=()=>No.getChannelsOfType("audio").length>0;Cp={get(){return k0()?Sl.getStyle("buttonDisplayMode"):"off"},update(){const qt=Cp.get();cs&&(cs.muteButton.setDisplayMode(qt),cs.backingBar.setMuteMode(qt))}};const L0=(qt,xn)=>{if(cs)switch(qt){case"nameDisplayMode":cs.name.setDisplayMode(xn),cs.backingBar.setNameMode(xn);break;case"videoUnsupportedDisplayMode":cs.videoUnsupportedIndicator.setDisplayMode(xn);break;case"videoDisabledDisplayMode":cs.videoDisabledIndicator.setDisplayMode(xn);break;case"audioBlockedDisplayMode":cs.audioBlockedIndicator.setDisplayMode(xn);break;case"showArchiveStatus":cs.archive.setShowArchiveStatus(xn);break;case"buttonDisplayMode":Cp.update();break;case"audioLevelDisplayMode":cs.audioLevel.setDisplayMode(xn);break;case"bugDisplayMode":break;case"backgroundImageURI":So.setBackgroundImageURI(xn);break}},xm=()=>{const qt={backingBar:new ls({nameMode:bo.name?this.getStyle("nameDisplayMode"):"off",muteMode:Cp.get()}),name:new dp({name:bo.name,mode:this.getStyle("nameDisplayMode")}),muteButton:new Sp({muted:_d===0,mode:Cp.get()})};if(lm){const xn=new _o;lo=new so({mode:Sl.getStyle("audioLevelDisplayMode")});const On=new Zt(()=>{lo.setValue(xn.transform(this.loudness))});lo.watchVisibilityChanged($n=>{$n?On.start():On.stop()}),lo.setDisplayMode(this.getStyle("audioLevelDisplayMode")),lo.audioOnly(!1),qt.audioLevel=lo}qt.videoDisabledIndicator=new em({mode:this.getStyle("videoDisabledDisplayMode")}),qt.audioBlockedIndicator=new Su({mode:this.getStyle("audioBlockedDisplayMode")}),qt.videoUnsupportedIndicator=new Ql({mode:this.getStyle("videoUnsupportedDisplayMode")}),So&&So.domElement&&(cs=new cu({parent:So.domElement}).set(qt).on({muted(){Sl.setAudioVolume(0)},unmuted(){Sl.setAudioVolume(zn)}},this),cs.hideWhileLoading())},Zm=(qt,xn)=>{let On,$n;So&&(qt===oo.STREAM_LIMIT_EXCEEDED?(On="The stream was unable to connect.",$n="The limit for the number of media streams has been reached."):xn==="Tried to subscribe to an encrypted stream without enabling encryption"?(On="Unable to subscribe to an encrypted stream without enabling encryption.",$n=""):(On="The stream was unable to connect due to a network error.",co?$n="Ensure you have a stable connection and try again.":$n="Make sure you have a stable network connection and that it isn't blocked by a firewall."),So.addError(On,$n))};Wp(this,{nameDisplayMode:"auto",buttonDisplayMode:"auto",audioLevelDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioBlockedDisplayMode:"auto",backgroundImageURI:null,showArchiveStatus:!0,showMicButton:!0},bo.showControls,qt=>{js("SetStyle","Subscriber",qt,null,.1)});function jm(qt){$p().forEach(function(){var On=(0,ot.default)(it.default.mark(function $n(Qn){return it.default.wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:return yr.next=2,Qn;case 2:yr.sent.subscribeToVideo(!qt);case 3:case"end":return yr.stop()}},$n)}));return function($n){return On.apply(this,arguments)}}());const xn=qt||!Vp||!Vp.getVideoTracks().length;So&&(So.audioOnly(xn),So.showPoster(xn)),lo&&lo.audioOnly(xn)}const b0=ut(()=>{js("GetStats","Called")}),Nm=ut(()=>{js("GetRtcStatsReport","Called")}),Xm=function(){var qt=(0,ot.default)(it.default.mark(function xn(On){return it.default.wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:return Xp&&(Xp.destroy(),Xp=void 0),Qn.prev=1,Qn.next=4,It(()=>On._hasAudioTracks());case 4:Qn.next=9;break;case 6:return Qn.prev=6,Qn.t0=Qn.catch(1),Qn.abrupt("return");case 9:Tp=vu(On),Tp?Xp=Pt({subscriber:qs,audioLevelSampler:Tp}):Object.prototype.hasOwnProperty.call(qs,"loudness")||(Object.defineProperty(qs,"loudness",{value:void 0,configurable:!0,writable:!1}),ds.error("No suitable audio level samplers found, audio level visualisation will not work"));case 11:case"end":return Qn.stop()}},xn,null,[[1,6]])}));return function(On){return qt.apply(this,arguments)}}(),Pm=(qt,xn)=>{if(Ep[xn]){Ep[xn].removeAll();const $n=()=>{qt.off("error",$n),qt.off("disconnected",$n)};qt.on("error",$n),qt.on("disconnected",$n)}const On=Mt(qt);On.once("connected",()=>ym(qt)),On.on("disconnected",Lm),On.on("error",Dm),On.once("remoteTrackAdded",(0,ot.default)(it.default.mark(function $n(){var Qn=arguments;return it.default.wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:return yr.next=2,Xm(qt);case 2:return yr.prev=2,yr.next=5,Ym(...Qn);case 5:yr.next=10;break;case 7:yr.prev=7,yr.t0=yr.catch(2),ds.error(yr.t0);case 10:case"end":return yr.stop()}},$n,null,[[2,7]])}))),On.on("audioLevelStuckWarning",m0),On.on("signalingStateStable",(0,ot.default)(it.default.mark(function $n(){var Qn;return it.default.wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:Sl.trigger("signalingStateStable"),Qn=So&&So.video(),Qn&&jo&&Tp&&"webRTCStream"in Tp&&qt._hasAudioTracks()&&Tp.webRTCStream(jo);case 3:case"end":return yr.stop()}},$n)}))),On.on("iceConnectionStateChange",$n=>v0($n,qt)),On.on("iceRestartSuccess",y0),On.on("iceRestartFailure",Vm),On.on("remoteVideoSupported",$u),On.on("remoteStreamRemoved",Fu),On.on("decryptFailed",()=>{this.trigger("encryptionSecretMismatch"),js("encryptionSecretMismatch","Event"),ds.warn("Media cannot be decrypted due to an encryption secret mismatch.")}),On.on("decryptRestored",()=>{this.trigger("encryptionSecretMatch"),js("encryptionSecretMatch","Event")}),Ep[xn]=Ep},$m=function(){var qt=(0,ot.default)(it.default.mark(function xn(){var On;return it.default.wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:return Am("Attempt"),Qn.next=3,Wu("MANTIS");case 3:if(On=Qn.sent,On!=null&&On.iceConnectionStateIsConnected()){Qn.next=7;break}return Am("Failure",{reason:"Attempted to transition to Relayed without being connected in Routed mode."}),Qn.abrupt("return");case 7:Au.subscriberCreate(No.id,hp,c0,"P2P",hs._.isE2ee(),(hr,yr)=>{hr&&!zu.is("disconnected")&&Am("Failure",hr),ds.debug("message received when created a subscriber with source",yr)});case 8:case"end":return Qn.stop()}},xn)}));return function(){return qt.apply(this,arguments)}}(),Km=function(){var qt=(0,ot.default)(it.default.mark(function xn(){var On,$n;return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:if(!(bo.testNetwork||Jr(No,hs)||Eu!=="P2P")){hr.next=2;break}return hr.abrupt("return");case 2:if(s0("Attempt"),jo=jp.MANTIS,Vp=jo,!Em){hr.next=10;break}return hr.next=8,Wu("MANTIS");case 8:On=hr.sent,Vp=new MediaStream(On._getTracks());case 10:return hr.next=12,nm(Vp);case 12:return So.loading(!1),gp("P2P"),Eu="MANTIS",Zp("P2P"),hr.next=18,Gu();case 18:return $n=hr.sent,hr.next=21,Xm($n);case 21:s0("Success");case 22:case"end":return hr.stop()}},xn)}));return function(){return qt.apply(this,arguments)}}();this._destroy=qt=>{let xn=qt.reason,On=xn===void 0?"Unknown":xn,$n=qt.quiet,Qn=qt.noStateTransition,hr=Qn===void 0?!1:Qn;return xa.isDestroyed()?this:(xa.set("Destroyed"),jn&&(jn.destroy(),jn=null),dr={sessionId:hs.sessionId,connectionId:hs&&hs.isConnected()?hs.connection.connectionId:null,partnerId:hs&&hs.sessionInfo?hs.sessionInfo.partnerId:null,streamId:No&&!No.destroyed?No.id:null},this._disconnect({reason:On,noStateTransition:hr}),cs&&(cs.destroy(),cs=null),So&&(So.destroy(),So.off(),So=null,this.element=null),No&&!No.destroyed&&js("unsubscribe",null,{streamId:No.id}),No.off(mm,this),this.id=null,dm=null,this.stream=null,No=null,this.streamId=null,this.session=null,hs=null,bo=null,$n!==!0&&(this.dispatchEvent(new ip.DestroyedEvent(vt.SUBSCRIBER_DESTROYED,this,On)),this.off()),this)},this.destroy=function(qt,xn){qt===void 0&&(qt="Unsubscribe"),ds.warn("Subscriber#destroy is deprecated and will be removed. Please use Session#unsubscribe instead"),qs._destroy({reason:qt,quiet:xn})},this._disconnect=function(qt){let xn=qt===void 0?{}:qt,On=xn.reason,$n=On===void 0?"Unknown":On;if(!xn.noStateTransition&&!zu.is("disconnected")){const hr=$n==="Unsubscribe"?void 0:Cl(Hu.STREAM_DESTROYED,new Error("Stream was destroyed before it could be subscribed to"));zu.disconnect({payload:{reason:$n},error:hr})}!xa.isDestroyed()&&!xa.isFailed()&&xa.set("NotSubscribing"),So&&So.destroyVideo(),Au.is("connected")&&No&&!No.destroyed&&Au.subscriberDestroy(No.id,qs.widgetId),fm()},this.disconnect=()=>{ds.warn("Subscriber#disconnect is deprecated and will be removed. Please use Session#unsubscribe instead"),this._disconnect({reason:"Unsubscribe"})};const Jm=function(){var qt=(0,ot.default)(it.default.mark(function xn(On){var $n,Qn,hr,yr,pr,$o,fo;return it.default.wrap(function($s){for(;;)switch($s.prev=$s.next){case 0:return $n=On.peerId,Qn=On.fromConnectionId,hr=On.sourceStreamId,yr=To({apiKey:hs.apiKey,sessionId:hs.sessionId,streamId:No.id,subscriberId:qs.widgetId}),pr=Bn({socket:qs.session._.getSocket(),uri:yr,content:{peerId:$n,sourceStreamId:hr}}),$o=function(Lo,eu,Rm,Mm,s1){Mm===void 0&&(Mm={});const a1=Object.assign({peerId:$n,sourceStreamId:Ir(hr)},Mm);return js(Lo,eu,Rm,a1,s1)},fo=Cu=>{Eu===hr&&Bm(Object.assign({},Cu,{peerId:$n,remoteConnectionId:Qn,sourceStreamId:hr}))},$s.abrupt("return",qs._setupPeerConnection({send:pr,log:$o,logQoS:fo,sourceStreamId:hr}));case 6:case"end":return $s.stop()}},xn)}));return function(On){return qt.apply(this,arguments)}}();this.processMessage=function(){var qt=(0,ot.default)(it.default.mark(function xn(On,$n,Qn){var hr,yr,pr;return it.default.wrap(function(fo){for(;;)switch(fo.prev=fo.next){case 0:return ds.debug(`OT.Subscriber.processMessage: Received ${On} message from ${$n}`),ds.debug(Qn),hr=dt(Qn,"content.peerId"),yr=dt(Qn,"content.sourceStreamId"),fo.next=6,Wu(yr);case 6:if(pr=fo.sent,!pr){fo.next=11;break}pr.processMessage(On,Qn),fo.next=16;break;case 11:if(On!=="offer"){fo.next=16;break}return fo.next=14,Jm({peerId:hr,fromConnectionId:$n,sourceStreamId:yr});case 14:pr=fo.sent,Em?pr.processMessage("offer",Qn):qs.session._.addSubscriberToPeerConnectionsQueue(pr,Qn);case 16:case"end":return fo.stop()}},xn)}));return function(xn,On,$n){return qt.apply(this,arguments)}}(),this.disableVideo=qt=>{if(!qt)ds.warn("Due to high packet loss and low bandwidth, video has been disabled");else if(ap==="auto")ds.info("Video has been re-enabled");else{ds.info("Video was not re-enabled because it was manually disabled");return}this.subscribeToVideo(qt,"auto"),js("updateQuality","video",qt?{videoEnabled:!0}:{videoDisabled:!0})},this.getImgData=()=>{if(!this.isSubscribing())return ds.error("OT.Subscriber.getImgData: Cannot getImgData before the Subscriber is subscribing."),null;const qt=So&&So.video();return qt?qt.imgData():null},this.getStats=qt=>{pm((xn,On)=>{if(xn){qt(xn);return}const $n={timestamp:0};On.forEach(Qn=>{if(Ll.isInboundStat(Qn)){const hr=Ll.isVideoStat(Qn,On),yr=Ll.isAudioStat(Qn,On);(yr||hr)&&($n.timestamp=Ll.normalizeTimestamp(Qn.timestamp)),hr?(at($n,{video:Ll.parseStatCategory(Qn)}),jn&&at($n,{video:{frameRate:jn.getFrameRateFromStat(Qn)}})):yr&&at($n,{audio:Ll.parseStatCategory(Qn)})}}),qt(null,$n)})},this.getRtcStatsReport=()=>new nt((qt,xn)=>{gm((On,$n)=>{On?xn(On):qt($n)})});function Qm(qt){const xn=So&&So.video();if(xn)try{xn.setAudioVolume(qt)}catch(On){ds.warn(`setAudioVolume: ${On}`),_d===0&&(ds.info("Using subscribeToAudio to mute Audio because setAudioVolume(0) failed"),Sl.subscribeToAudio(!1))}cs&&cs.muteButton.muted(qt===0)}this.setAudioVolume=qt=>{const xn=wo(qt);return js("setAudioVolume","Attempt",{audioVolume:xn}),isNaN(xn)?(ds.error("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),js("setAudioVolume","Failure",{message:"value should be an integer between 0 and 100"}),this):(xn!==qt&&ds.warn("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),xn===_d?(Qm(_d),js("setAudioVolume","Success",{audioVolume:_d,message:"Requested volume is same as already set audioVolume"}),this):(_d>0&&(zn=_d),_d=xn,Qm(_d),_d>0&&!Up&&(zn=_d,this.subscribeToAudio(!0)),js("setAudioVolume","Success",{audioVolume:_d}),this))},this.getAudioVolume=()=>{const qt=So&&So.video();if(qt)try{return qt.getAudioVolume()}catch(xn){ds.warn(`getAudioVolume ${xn}`)}return _d},this.subscribeToAudio=qt=>{const xn=gt(qt,!0);$p().forEach(function(){var $n=(0,ot.default)(it.default.mark(function Qn(hr){return it.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:return pr.next=2,hr;case 2:pr.sent.subscribeToAudio(xn);case 3:case"end":return pr.stop()}},Qn)}));return function(Qn){return $n.apply(this,arguments)}}()),No&&$p().length!==0&&No.setChannelActiveState("audio",xn);const On=Up!==xn;return Up=xn,On&&this.setAudioVolume(xn?zn:0),js("subscribeToAudio","Event",{subscribeToAudio:xn}),this};const V0={auto:"quality",publishVideo:"publishVideo",subscribeToVideo:"subscribeToVideo"};if(Rl.name==="Safari"){const qt=()=>{!Go.hidden&&bo.subscribeToVideo&&(ds.debug("document visibility restored in Safari - resubscribing to video"),this.subscribeToVideo(!1),this.subscribeToVideo(!0))};Go.addEventListener("visibilitychange",qt),this.once("destroyed",()=>{Go.removeEventListener("visibilitychange",qt)})}if(this.subscribeToVideo=(qt,xn)=>{const On=gt(qt,!0),$n=!On&&xn==="auto";return $n&&(fr=2),js("subscribeToVideo","Attempt",{subscribeToVideo:On,reason:xn}),jm(!On||!No.hasVideo||!jo),No.hasVideo&&!Np("video")?(On&&ds.info("Subscriber is audio-only due to incompatibility, can't subscribeToVideo."),bo.subscribeToVideo=!1,js("subscribeToVideo","Failure",{message:"No video tracks available"}),this):(cs&&cs.videoDisabledIndicator&&cs.videoDisabledIndicator.disableVideo($n),$p().length>0&&hs&&No&&(On!==bo.subscribeToVideo||xn!==ap)&&No.setChannelActiveState("video",On,xn),bo.subscribeToVideo=On,ap=xn,Yp=On,js("subscribeToVideo","Success",{subscribeToVideo:On,reason:xn}),xn!=="loading"&&this.dispatchEvent(new ip.VideoEnabledChangedEvent(On?"videoEnabled":"videoDisabled",{reason:V0[xn]||"subscribeToVideo"})),this)},this.setPreferredResolution=qt=>{if(xa.isDestroyed()||$p().length===0&&!xa.current==="Connecting"){ds.warn("Cannot set the max Resolution when not subscribing to a publisher");return}if(bo.preferredResolution=qt,hs.sessionInfo.p2pEnabled){ds.warn("OT.Subscriber.setPreferredResolution will not work in a P2P Session");return}if(!xa.isStreamAdded())return;const xn=No.getPreferredResolution();xn&&qt&&xn.width===qt.width&&xn.height===qt.height||!xn&&!qt||No.setPreferredResolution(qt)},this.setPreferredFrameRate=qt=>{if(xa.isDestroyed()||$p().length===0&&!xa.current==="Connecting"){ds.warn("Cannot set the max frameRate when not subscribing to a publisher");return}if(bo.preferredFrameRate=qt,hs.sessionInfo.p2pEnabled){ds.warn("OT.Subscriber.setPreferredFrameRate will not work in a P2P Session");return}const xn=No.getPreferredFrameRate();qt&&xn&&xn===qt||!xn&&!qt||No.setPreferredFrameRate(qt)},this.isSubscribing=()=>xa.isSubscribing(),this.isWebRTC=!0,this.isLoading=()=>So&&So.loading(),this.isAudioBlocked=()=>!!(So&&So.isAudioBlocked()),this.videoElement=()=>{const qt=So&&So.video();return qt?qt.domElement():null},this.videoWidth=()=>{const qt=So&&So.video();return qt?qt.videoWidth():void 0},this.videoHeight=()=>{const qt=So&&So.video();return qt?qt.videoHeight():void 0},this._subscribeToSelf=(0,ot.default)(it.default.mark(function qt(){var xn;return it.default.wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:if(xn=hs.getPublisherForStream(No),xn&&xn._.webRtcStream()){$n.next=5;break}zu.fail({payload:{reason:"streamNotFound"},error:Cl(Hu.STREAM_DESTROYED,new Error("Tried to subscribe to a local publisher, but its stream no longer exists"))}),$n.next=14;break;case 5:return qu.resolve(),$n.prev=6,$n.next=9,g0(xn._.webRtcStream());case 9:$n.next=14;break;case 11:$n.prev=11,$n.t0=$n.catch(6),ds.error($n.t0);case 14:case"end":return $n.stop()}},qt,null,[[6,11]])})),this._setupPeerConnection=function(){var qt=(0,ot.default)(it.default.mark(function xn(On){var $n,Qn,hr,yr;return it.default.wrap(function($o){for(;;)switch($o.prev=$o.next){case 0:return $n=On.send,Qn=On.log,hr=On.logQoS,yr=On.sourceStreamId,bo.testNetwork&&qs.setAudioVolume(0),$p().length===0&&xa.set("Connecting"),Eu=yr,mp[yr]=new nt((fo,_i)=>{hs._.getIceConfig().then($s=>{$s.needRumorIceServersFallback&&($s.servers=[...Eo||[],...$s.servers||[]]);const Cu={iceConfig:$s,subscriberId:qs.widgetId,send:$n,logAnalyticsEvent:Qn,p2p:hs.sessionInfo.p2pEnabled,sourceStreamId:yr,remoteConnectionId:No.connection.id,_singlePeerConnectionController:yr==="MANTIS"&&Om,keyStore:hs.keyStore,sFrameClientStore:hs.sFrameClientStore,isE2ee:hs._.isE2ee()};Object.prototype.hasOwnProperty.call(bo,"codecFlags")&&(Cu.codecFlags=bo.codecFlags);const Lo=new _c.SubscriberPeerConnection(Cu);Lo.once("iceConnected",qu.resolve),Lo.once("error",qu.reject),Lo.on("qos",hr),Pm(Lo,yr),Lo.init(eu=>{eu?_i(eu):fo(Lo)})})}),$o.abrupt("return",mp[yr]);case 6:case"end":return $o.stop()}},xn)}));return function(xn){return qt.apply(this,arguments)}}(),this.restrictFrameRate=qt=>(ds.debug(`OT.Subscriber.restrictFrameRate(${qt})`),js("restrictFrameRate",qt.toString(),{streamId:No.id}),hs.sessionInfo.p2pEnabled&&ds.warn("OT.Subscriber.restrictFrameRate: Cannot restrictFrameRate on a P2P session"),typeof qt!="boolean"?ds.error(`OT.Subscriber.restrictFrameRate: expected a boolean value got a ${typeof qt}`):(sn=qt,No.setRestrictFrameRate(qt)),this),this.on("styleValueChanged",L0,this),this._={getDataChannel(qt,xn,On){return(0,ot.default)(it.default.mark(function $n(){return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:if(Gu()){hr.next=3;break}return On(new fp.Error("Cannot create a DataChannel before there is a publisher connection.")),hr.abrupt("return");case 3:return hr.next=5,Gu();case 5:hr.sent.getDataChannel(qt,xn,On);case 6:case"end":return hr.stop()}},$n)}))()},iceRestart(qt,xn){return(0,ot.default)(it.default.mark(function On(){var $n;return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:return xn===void 0&&(xn=!1),hr.next=3,Wu("MANTIS");case 3:$n=hr.sent,$n?(vm("Attempt",{reason:qt}),ds.debug("Subscriber: iceRestart attempt"),$n.iceRestart(),xn&&$n.generateOffer()):ds.debug("Subscriber: Skipping ice restart, we have no peer connection");case 5:case"end":return hr.stop()}},On)}))()},unblockAudio:()=>So&&So.unblockAudio(),webRtcStream:()=>jo,setIceConfig:function(){var qt=(0,ot.default)(it.default.mark(function On($n){return it.default.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:$p().forEach(function(){var yr=(0,ot.default)(it.default.mark(function pr($o){return it.default.wrap(function(_i){for(;;)switch(_i.prev=_i.next){case 0:return _i.next=2,$o;case 2:return _i.abrupt("return",_i.sent.setIceConfig($n));case 3:case"end":return _i.stop()}},pr)}));return function(pr){return yr.apply(this,arguments)}}());case 1:case"end":return hr.stop()}},On)}));function xn(On){return qt.apply(this,arguments)}return xn}(),privateEvents:new Tt,startRoutedToRelayedTransition(){bo.testNetwork||Jr(No,hs)||($l.startTransitionTo("P2P"),$m())},startRelayedToRoutedTransition(){$l.startTransitionTo("MANTIS",()=>Km())},setSinkId(qt){if(So&&So.video())return So.setSinkId(qt);ds.debug("Called setAudioOutputDevice on a subscriber without a video element")},pauseAndPlayVideoElement(){So&&So.pauseAndPlayVideoElement()}},xa=new Fp(Tm),ds.debug(`OT.Subscriber: subscribe to ${No.id}`),xa.set("Init"),!No)return ds.error("OT.Subscriber: No stream parameter."),!1;mm={updated:A0},No.on(mm,this),bo.name=bo.name||No.name,bo.classNames="OT_root OT_subscriber",bo.style&&this.setStyle(bo.style,null,!0),zn=mo,bo.subscribeToVideo=gt(bo.subscribeToVideo,!0),bo.subscribeToAudio=gt(bo.subscribeToAudio,!0),this.subscribeToAudio(bo.subscribeToAudio),this.setAudioVolume(xo(bo)),So=new _c.WidgetView(Dp,Object.assign({},bo,{widgetType:"subscriber"})),So.on("error",bm),So.on("audioBlocked",()=>this.trigger("audioBlocked")),So.on("audioUnblocked",()=>this.trigger("audioUnblocked")),So.on("amrLogEvent",(qt,xn,On)=>{js(qt,xn,{},On)}),this.id=So.domId(),dm=So.domId(),this.element=So.domElement,So.on("videoElementCreated",qt=>{const xn=new ip.VideoElementCreatedEvent(qt),On=this;tm?this.dispatchEvent(xn):this.once("loaded",()=>{On.dispatchEvent(xn)})}),this.element&&xm.call(this);const _m=No.getChannelsOfType("audio"),qm=No.getChannelsOfType("video"),S0=No.getChannelsOfType("data");let a0=S0.some(qt=>qt.id==="caption1"&&qt.active);this.subscribeToCaptions=function(){var qt=(0,ot.default)(it.default.mark(function xn(On){var $n,Qn;return it.default.wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:$n=gt(On,!0),Qn={active:$n},a0=$n,js("subscribeToCaptions","Attempt",{subscribeToCaptions:$n}),Au.subscriberChannelUpdate(No.id,qs.widgetId,"caption1",Qn),js("subscribeToCaptions","Success",{subscribeToCaptions:$n});case 6:case"end":return yr.stop()}},xn)}));return function(xn){return qt.apply(this,arguments)}}(),this.isSubscribedToCaptions=()=>a0;const c0=_m.map(qt=>({id:qt.id,type:qt.type,active:bo.subscribeToAudio})).concat(qm.map(qt=>{const xn={id:qt.id,type:qt.type,active:bo.subscribeToVideo,restrictFrameRate:bo.restrictFrameRate!==void 0?bo.restrictFrameRate:!1};return bo.preferredFrameRate!==void 0&&(xn.preferredFrameRate=parseFloat(bo.preferredFrameRate)),bo.preferredHeight!==void 0&&(xn.preferredHeight=parseInt(bo.preferredHeight,10)),bo.preferredWidth!==void 0&&(xn.preferredWidth=parseInt(bo.preferredWidth,10)),xn})).concat(S0.map(qt=>({id:qt.id,type:qt.type,active:qt.active}))),E0=(uu=No.getChannelsOfType("data")[0])==null?void 0:uu.active,Pn=!bo.testNetwork&&Jr(No,hs)&&!E0;(()=>{var qt;const xn=hs.getPublisherForStream(No);if(xn!=null&&(qt=xn._)!=null&&qt.privateEvents&&Pn){let On=!1;xn._.privateEvents.on("publisherCaptionsEnabled",$n=>{!On&&$n.captionsEnabled&&(c0.find(Qn=>Qn.id==="caption1").active=!0,Dn(),On=!0)})}})(),zu.beginConnect();const Dn=()=>{Au.subscriberCreate(No.id,hp,c0,null,hs._.isE2ee(),(qt,xn)=>{qt&&!zu.is("disconnected")&&hm(qt),Eo=Nr(xn)})};return Pn?(this._subscribeToSelf(),this):(Em?Om.addSubscriber(Dn):Dn(),this)};return Ds.hasAudioOutputLevelStatCapability=_a,Ds.WidgetView=Ws,Ds.SubscriberPeerConnection=Gp,Ds}}).call(this,et(0))},function(_e,tt,et){const nt=et(2);_e.exports=()=>["Chrome","Opera","Safari"].indexOf(nt.name)>-1},function(_e,tt,et){const nt=et(2),rt=nt.name;_e.exports=()=>["Firefox","Safari","Edge","Chrome","Opera"].indexOf(rt)>-1},function(_e,tt,et){const st=et(160)()("NotSubscribing",["NotSubscribing","Init","Connecting","BindingRemoteStream","Subscribing","Failed","Destroyed"],{NotSubscribing:["NotSubscribing","Init","Destroyed"],Init:["NotSubscribing","Connecting","BindingRemoteStream","Destroyed"],Connecting:["NotSubscribing","BindingRemoteStream","Failed","Destroyed"],BindingRemoteStream:["NotSubscribing","Subscribing","Failed","Destroyed","BindingRemoteStream"],Subscribing:["NotSubscribing","Failed","Destroyed","BindingRemoteStream"],Failed:["Destroyed"],Destroyed:[]});st.prototype.isDestroyed=function(){return this.current==="Destroyed"},st.prototype.isFailed=function(){return this.current==="Failed"},st.prototype.isSubscribing=function(){return this.current==="Subscribing"},st.prototype.isAttemptingToSubscribe=function(){return["Init","Connecting","BindingRemoteStream"].indexOf(this.current)!==-1},st.prototype.isStreamAdded=function(){return this.current==="BindingRemoteStream"||this.isSubscribing()},_e.exports=st},function(_e,tt,et){_e.exports=nt=>{let rt=nt.socket,it=nt.uri,ot=nt.content;return(st,at)=>rt.send({uri:it,method:st,content:Object.assign({},ot,at)})}},function(_e,tt,et){(function(rt,it){_e.exports=it()})(this,function(){return function(nt){var rt={};function it(ot){if(rt[ot])return rt[ot].exports;var st=rt[ot]={i:ot,l:!1,exports:{}};return nt[ot].call(st.exports,st,st.exports,it),st.l=!0,st.exports}return it.m=nt,it.c=rt,it.i=function(ot){return ot},it.d=function(ot,st,at){it.o(ot,st)||Object.defineProperty(ot,st,{configurable:!1,enumerable:!0,get:at})},it.n=function(ot){var st=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return it.d(st,"a",st),st},it.o=function(ot,st){return Object.prototype.hasOwnProperty.call(ot,st)},it.p="",it(it.s=5)}([function(nt,rt,it){nt.exports=function(ot,st){var at,ct,lt;for(at=1;at<arguments.length;at++){ct=arguments[at];for(lt in ct)ct.hasOwnProperty(lt)&&(ot[lt]=ct[lt])}return ot}},function(nt,rt,it){var ot=it(0);nt.exports={build:function(st,at){var ct,lt,dt,ut=at.plugins;for(ct=0,lt=ut.length;ct<lt;ct++)dt=ut[ct],dt.methods&&ot(st,dt.methods),dt.properties&&Object.defineProperties(st,dt.properties)},hook:function(st,at,ct){var lt,dt,ut,ft,pt=st.config.plugins,yt=[st.context];for(ct&&(yt=yt.concat(ct)),lt=0,dt=pt.length;lt<dt;lt++)ft=pt[lt],ut=pt[lt][at],ut&&ut.apply(ft,yt)}}},function(nt,rt,it){function ot(st){if(st.length===0)return st;var at,ct,lt=st.split(/[_-]/);if(lt.length===1&&lt[0][0].toLowerCase()===lt[0][0])return st;for(ct=lt[0].toLowerCase(),at=1;at<lt.length;at++)ct=ct+lt[at].charAt(0).toUpperCase()+lt[at].substring(1).toLowerCase();return ct}ot.prepended=function(st,at){return at=ot(at),st+at[0].toUpperCase()+at.substring(1)},nt.exports=ot},function(nt,rt,it){var ot=it(0),st=it(2);function at(ct,lt){ct=ct||{},this.options=ct,this.defaults=lt.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(ct.init),this.data=this.configureData(ct.data),this.methods=this.configureMethods(ct.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(ct.transitions||[]),this.plugins=this.configurePlugins(ct.plugins,lt.plugin)}ot(at.prototype,{addState:function(ct){this.map[ct]||(this.states.push(ct),this.addStateLifecycleNames(ct),this.map[ct]={})},addStateLifecycleNames:function(ct){this.lifecycle.onEnter[ct]=st.prepended("onEnter",ct),this.lifecycle.onLeave[ct]=st.prepended("onLeave",ct),this.lifecycle.on[ct]=st.prepended("on",ct)},addTransition:function(ct){this.transitions.indexOf(ct)<0&&(this.transitions.push(ct),this.addTransitionLifecycleNames(ct))},addTransitionLifecycleNames:function(ct){this.lifecycle.onBefore[ct]=st.prepended("onBefore",ct),this.lifecycle.onAfter[ct]=st.prepended("onAfter",ct),this.lifecycle.on[ct]=st.prepended("on",ct)},mapTransition:function(ct){var lt=ct.name,dt=ct.from,ut=ct.to;return this.addState(dt),typeof ut!="function"&&this.addState(ut),this.addTransition(lt),this.map[dt][lt]=ct,ct},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(ct){return typeof ct=="string"?this.mapTransition(ot({},this.defaults.init,{to:ct,active:!0})):typeof ct=="object"?this.mapTransition(ot({},this.defaults.init,ct,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(ct){return typeof ct=="function"?ct:typeof ct=="object"?function(){return ct}:function(){return{}}},configureMethods:function(ct){return ct||{}},configurePlugins:function(ct,lt){ct=ct||[];var dt,ut,ft;for(dt=0,ut=ct.length;dt<ut;dt++)ft=ct[dt],typeof ft=="function"&&(ct[dt]=ft=ft()),ft.configure&&ft.configure(this);return ct},configureTransitions:function(ct){var lt,dt,ut,ft,pt,yt=this.defaults.wildcard;for(dt=0;dt<ct.length;dt++)for(ut=ct[dt],ft=Array.isArray(ut.from)?ut.from:[ut.from||yt],pt=ut.to||yt,lt=0;lt<ft.length;lt++)this.mapTransition({name:ut.name,from:ft[lt],to:pt})},transitionFor:function(ct,lt){var dt=this.defaults.wildcard;return this.map[ct][lt]||this.map[dt][lt]},transitionsFor:function(ct){var lt=this.defaults.wildcard;return Object.keys(this.map[ct]).concat(Object.keys(this.map[lt]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),nt.exports=at},function(nt,rt,it){var ot=it(0),st=it(6),at=it(1),ct=[null,[]];function lt(dt,ut){this.context=dt,this.config=ut,this.state=ut.init.from,this.observers=[dt]}ot(lt.prototype,{init:function(dt){if(ot(this.context,this.config.data.apply(this.context,dt)),at.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(dt){return Array.isArray(dt)?dt.indexOf(this.state)>=0:this.state===dt},isPending:function(){return this.pending},can:function(dt){return!this.isPending()&&!!this.seek(dt)},cannot:function(dt){return!this.can(dt)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(dt,ut){var ft=this.config.defaults.wildcard,pt=this.config.transitionFor(this.state,dt),yt=pt&&pt.to;return typeof yt=="function"?yt.apply(this.context,ut):yt===ft?this.state:yt},fire:function(dt,ut){return this.transit(dt,this.state,this.seek(dt,ut),ut)},transit:function(dt,ut,ft,pt){var yt=this.config.lifecycle,Tt=this.config.options.observeUnchangedState||ut!==ft;return ft?this.isPending()?this.context.onPendingTransition(dt,ut,ft):(this.config.addState(ft),this.beginTransit(),pt.unshift({transition:dt,from:ut,to:ft,fsm:this.context}),this.observeEvents([this.observersForEvent(yt.onBefore.transition),this.observersForEvent(yt.onBefore[dt]),Tt?this.observersForEvent(yt.onLeave.state):ct,Tt?this.observersForEvent(yt.onLeave[ut]):ct,this.observersForEvent(yt.on.transition),Tt?["doTransit",[this]]:ct,Tt?this.observersForEvent(yt.onEnter.state):ct,Tt?this.observersForEvent(yt.onEnter[ft]):ct,Tt?this.observersForEvent(yt.on[ft]):ct,this.observersForEvent(yt.onAfter.transition),this.observersForEvent(yt.onAfter[dt]),this.observersForEvent(yt.on[dt])],pt)):this.context.onInvalidTransition(dt,ut,ft)},beginTransit:function(){this.pending=!0},endTransit:function(dt){return this.pending=!1,dt},failTransit:function(dt){throw this.pending=!1,dt},doTransit:function(dt){this.state=dt.to},observe:function(dt){if(dt.length===2){var ut={};ut[dt[0]]=dt[1],this.observers.push(ut)}else this.observers.push(dt[0])},observersForEvent:function(dt){for(var ut=0,ft=this.observers.length,pt,yt=[];ut<ft;ut++)pt=this.observers[ut],pt[dt]&&yt.push(pt);return[dt,yt,!0]},observeEvents:function(dt,ut,ft,pt){if(dt.length===0)return this.endTransit(pt===void 0?!0:pt);var yt=dt[0][0],Tt=dt[0][1],ht=dt[0][2];if(ut[0].event=yt,yt&&ht&&yt!==ft&&at.hook(this,"lifecycle",ut),Tt.length===0)return dt.shift(),this.observeEvents(dt,ut,yt,pt);var gt=Tt.shift(),vt=gt[yt].apply(gt,ut);return vt&&typeof vt.then=="function"?vt.then(this.observeEvents.bind(this,dt,ut,yt)).catch(this.failTransit.bind(this)):vt===!1?this.endTransit(!1):this.observeEvents(dt,ut,yt,vt)},onInvalidTransition:function(dt,ut,ft){throw new st("transition is invalid in current state",dt,ut,ft,this.state)},onPendingTransition:function(dt,ut,ft){throw new st("transition is invalid while previous transition is still in progress",dt,ut,ft,this.state)}}),nt.exports=lt},function(nt,rt,it){var ot=it(0),st=it(2),at=it(1),ct=it(3),lt=it(4),dt={is:function(ht){return this._fsm.is(ht)},can:function(ht){return this._fsm.can(ht)},cannot:function(ht){return this._fsm.cannot(ht)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(ht,gt,vt){return this._fsm.onInvalidTransition(ht,gt,vt)},onPendingTransition:function(ht,gt,vt){return this._fsm.onPendingTransition(ht,gt,vt)}},ut={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(ht){throw Error("use transitions to change state")}}};function ft(ht){return yt(this||{},ht)}function pt(){var ht,gt;typeof arguments[0]=="function"?(ht=arguments[0],gt=arguments[1]||{}):(ht=function(){this._fsm.apply(this,arguments)},gt=arguments[0]||{});var vt=new ct(gt,ft);return Tt(ht.prototype,vt),ht.prototype._fsm.config=vt,ht}function yt(ht,gt){var vt=new ct(gt,ft);return Tt(ht,vt),ht._fsm(),ht}function Tt(ht,gt){if(typeof ht!="object"||Array.isArray(ht))throw Error("StateMachine can only be applied to objects");at.build(ht,gt),Object.defineProperties(ht,ut),ot(ht,dt),ot(ht,gt.methods),gt.allTransitions().forEach(function(vt){ht[st(vt)]=function(){return this._fsm.fire(vt,[].slice.call(arguments))}}),ht._fsm=function(){this._fsm=new lt(this,gt),this._fsm.init(arguments)}}ft.version="3.0.1",ft.factory=pt,ft.apply=yt,ft.defaults={wildcard:"*",init:{name:"init",from:"none"}},nt.exports=ft},function(nt,rt,it){nt.exports=function(ot,st,at,ct,lt){this.message=ot,this.transition=st,this.from=at,this.to=ct,this.current=lt}}])})},function(_e,tt,et){const nt=et(103)();_e.exports=nt},function(_e,tt,et){let nt=function(){function rt(){this.processTransition=()=>{},this.routedToRelayedOngoing=!1,this.relayedToRoutedPending=!1}var it=rt.prototype;return it.startTransitionTo=function(st,at){at===void 0&&(at=()=>{}),st==="P2P"?this.startRoutedToRelayed():st==="MANTIS"&&this.startRelayedToRouted(at)},it.finishTransitionTo=function(st){st==="P2P"&&this.finishRoutedToRelayed()},it.startRoutedToRelayed=function(){this.routedToRelayedOngoing=!0},it.finishRoutedToRelayed=function(){this.routedToRelayedOngoing=!1,this.relayedToRoutedPending&&(this.relayedToRoutedPending=!1,this.processTransition())},it.startRelayedToRouted=function(st){this.routedToRelayedOngoing?(this.relayedToRoutedPending=!0,this.processTransition=st):st()},rt}();_e.exports=nt},function(_e,tt,et){_e.exports=(nt,rt)=>{const it=nt.getSenders().find(st=>st.track.kind==="video"),ot=it.getParameters();ot.encodings.forEach(st=>{st.active=rt}),it.setParameters(ot)}},function(_e,tt,et){(function(nt){_e.exports=function(it){return function(){for(var st=arguments.length,at=new Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct];return new nt((lt,dt)=>{it(...at,function(ut){if(ut){dt(ut);return}for(var ft=arguments.length,pt=new Array(ft>1?ft-1:0),yt=1;yt<ft;yt++)pt[yt-1]=arguments[yt];if(pt.length===1){lt(pt[0]);return}lt(pt)})})}}}).call(this,et(0))},function(_e,tt,et){_e.exports=nt=>{var rt;const it=Object.assign({},nt);return(nt==null||(rt=nt.backgroundImgUrl)==null?void 0:rt.includes("base64"))&&delete it.backgroundImgUrl,it}},function(_e,tt,et){const nt=et(717),rt=nt.setVonageMetadata,it=et(317),ot=it.createVonageMediaProcessor,at={isSupported:()=>typeof MediaStreamTrackProcessor<"u"&&typeof MediaStreamTrackGenerator<"u",setMetadata:rt,createProcessor:ot};_e.exports=at},function(_e,tt,et){et.r(tt),function(nt,rt){et.d(tt,"BackgroundTransformer",function(){return Kv}),et.d(tt,"BackgroundTransformerType",function(){return dr}),et.d(tt,"BlurRadius",function(){return jn}),et.d(tt,"ErrorFunction",function(){return hs}),et.d(tt,"MediapipeHelper",function(){return gm}),et.d(tt,"PipelineInfoData",function(){return No}),et.d(tt,"SelfieSegmentationType",function(){return fr}),et.d(tt,"VonageMediaProcessor",function(){return W1}),et.d(tt,"WarningType",function(){return dm}),et.d(tt,"createVonageMediaProcessor",function(){return k4}),et.d(tt,"getSupportedBrowserFeatures",function(){return Au}),et.d(tt,"getVonageFaceDetection",function(){return I4}),et.d(tt,"getVonageFaceMash",function(){return w4}),et.d(tt,"getVonageHands",function(){return x4}),et.d(tt,"getVonageHolistic",function(){return R4}),et.d(tt,"getVonageObjectron",function(){return O4}),et.d(tt,"getVonagePose",function(){return A4}),et.d(tt,"getVonageSelfieSegmentation",function(){return T4}),et.d(tt,"isSupported",function(){return zp});var it=Object.defineProperty,ot=(Et,St,xt)=>St in Et?it(Et,St,{enumerable:!0,configurable:!0,writable:!0,value:xt}):Et[St]=xt,st=(Et,St,xt)=>(ot(Et,typeof St!="symbol"?St+"":St,xt),xt);function at(){return new nt((Et,St)=>{typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?St("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):Et()})}class ct{}ct.updates={transformer_new:"New transformer",transformer_null:"Null transformer"},ct.errors={transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"};var lt={exports:{}},dt=function(Et,St){return function(){for(var xt=new Array(arguments.length),jt=0;jt<xt.length;jt++)xt[jt]=arguments[jt];return Et.apply(St,xt)}},ut=dt,ft=Object.prototype.toString;function pt(Et){return Array.isArray(Et)}function yt(Et){return typeof Et>"u"}function Tt(Et){return Et!==null&&!yt(Et)&&Et.constructor!==null&&!yt(Et.constructor)&&typeof Et.constructor.isBuffer=="function"&&Et.constructor.isBuffer(Et)}function ht(Et){return ft.call(Et)==="[object ArrayBuffer]"}function gt(Et){return ft.call(Et)==="[object FormData]"}function vt(Et){var St;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?St=ArrayBuffer.isView(Et):St=Et&&Et.buffer&&ht(Et.buffer),St}function Ct(Et){return typeof Et=="string"}function It(Et){return typeof Et=="number"}function Zt(Et){return Et!==null&&typeof Et=="object"}function Mt(Et){if(ft.call(Et)!=="[object Object]")return!1;var St=Object.getPrototypeOf(Et);return St===null||St===Object.prototype}function kt(Et){return ft.call(Et)==="[object Date]"}function Nt(Et){return ft.call(Et)==="[object File]"}function Lt(Et){return ft.call(Et)==="[object Blob]"}function Pt(Et){return ft.call(Et)==="[object Function]"}function cn(Et){return Zt(Et)&&Pt(Et.pipe)}function Jt(Et){return ft.call(Et)==="[object URLSearchParams]"}function Bt(Et){return Et.trim?Et.trim():Et.replace(/^\s+|\s+$/g,"")}function dn(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function vn(Et,St){if(!(Et===null||typeof Et>"u"))if(typeof Et!="object"&&(Et=[Et]),pt(Et))for(var xt=0,jt=Et.length;xt<jt;xt++)St.call(null,Et[xt],xt,Et);else for(var zt in Et)Object.prototype.hasOwnProperty.call(Et,zt)&&St.call(null,Et[zt],zt,Et)}function Tn(){var Et={};function St(zt,Rn){Mt(Et[Rn])&&Mt(zt)?Et[Rn]=Tn(Et[Rn],zt):Mt(zt)?Et[Rn]=Tn({},zt):pt(zt)?Et[Rn]=zt.slice():Et[Rn]=zt}for(var xt=0,jt=arguments.length;xt<jt;xt++)vn(arguments[xt],St);return Et}function pn(Et,St,xt){return vn(St,function(jt,zt){xt&&typeof jt=="function"?Et[zt]=ut(jt,xt):Et[zt]=jt}),Et}function In(Et){return Et.charCodeAt(0)===65279&&(Et=Et.slice(1)),Et}var Cn={isArray:pt,isArrayBuffer:ht,isBuffer:Tt,isFormData:gt,isArrayBufferView:vt,isString:Ct,isNumber:It,isObject:Zt,isPlainObject:Mt,isUndefined:yt,isDate:kt,isFile:Nt,isBlob:Lt,isFunction:Pt,isStream:cn,isURLSearchParams:Jt,isStandardBrowserEnv:dn,forEach:vn,merge:Tn,extend:pn,trim:Bt,stripBOM:In},yn=Cn;function bn(Et){return encodeURIComponent(Et).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xn=function(Et,St,xt){if(!St)return Et;var jt;if(xt)jt=xt(St);else if(yn.isURLSearchParams(St))jt=St.toString();else{var zt=[];yn.forEach(St,function(Mn,Ln){Mn===null||typeof Mn>"u"||(yn.isArray(Mn)?Ln=Ln+"[]":Mn=[Mn],yn.forEach(Mn,function(Un){yn.isDate(Un)?Un=Un.toISOString():yn.isObject(Un)&&(Un=JSON.stringify(Un)),zt.push(bn(Ln)+"="+bn(Un))}))}),jt=zt.join("&")}if(jt){var Rn=Et.indexOf("#");Rn!==-1&&(Et=Et.slice(0,Rn)),Et+=(Et.indexOf("?")===-1?"?":"&")+jt}return Et},Hn=Cn;function En(){this.handlers=[]}En.prototype.use=function(Et,St,xt){return this.handlers.push({fulfilled:Et,rejected:St,synchronous:xt?xt.synchronous:!1,runWhen:xt?xt.runWhen:null}),this.handlers.length-1},En.prototype.eject=function(Et){this.handlers[Et]&&(this.handlers[Et]=null)},En.prototype.forEach=function(Et){Hn.forEach(this.handlers,function(St){St!==null&&Et(St)})};var Zn=En,Vn=Cn,rr=function(Et,St){Vn.forEach(Et,function(xt,jt){jt!==St&&jt.toUpperCase()===St.toUpperCase()&&(Et[St]=xt,delete Et[jt])})},gr=function(Et,St,xt,jt,zt){return Et.config=St,xt&&(Et.code=xt),Et.request=jt,Et.response=zt,Et.isAxiosError=!0,Et.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},Et},cr=gr,sr=function(Et,St,xt,jt,zt){var Rn=new Error(Et);return cr(Rn,St,xt,jt,zt)},Or=sr,Rr=function(Et,St,xt){var jt=xt.config.validateStatus;!xt.status||!jt||jt(xt.status)?Et(xt):St(Or("Request failed with status code "+xt.status,xt.config,null,xt.request,xt))},Yr=Cn,Fr=Yr.isStandardBrowserEnv()?function(){return{write:function(Et,St,xt,jt,zt,Rn){var Mn=[];Mn.push(Et+"="+encodeURIComponent(St)),Yr.isNumber(xt)&&Mn.push("expires="+new Date(xt).toGMTString()),Yr.isString(jt)&&Mn.push("path="+jt),Yr.isString(zt)&&Mn.push("domain="+zt),Rn===!0&&Mn.push("secure"),document.cookie=Mn.join("; ")},read:function(Et){var St=document.cookie.match(new RegExp("(^|;\\s*)("+Et+")=([^;]*)"));return St?decodeURIComponent(St[3]):null},remove:function(Et){this.write(Et,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Qr=function(Et){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Et)},vo=function(Et,St){return St?Et.replace(/\/+$/,"")+"/"+St.replace(/^\/+/,""):Et},Lr=Qr,Pr=vo,qn=function(Et,St){return Et&&!Lr(St)?Pr(Et,St):St},Yn=Cn,vr=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Dr=function(Et){var St={},xt,jt,zt;return Et&&Yn.forEach(Et.split(`
`),function(Rn){if(zt=Rn.indexOf(":"),xt=Yn.trim(Rn.substr(0,zt)).toLowerCase(),jt=Yn.trim(Rn.substr(zt+1)),xt){if(St[xt]&&vr.indexOf(xt)>=0)return;xt==="set-cookie"?St[xt]=(St[xt]?St[xt]:[]).concat([jt]):St[xt]=St[xt]?St[xt]+", "+jt:jt}}),St},ho=Cn,er=ho.isStandardBrowserEnv()?function(){var Et=/(msie|trident)/i.test(navigator.userAgent),St=document.createElement("a"),xt;function jt(zt){var Rn=zt;return Et&&(St.setAttribute("href",Rn),Rn=St.href),St.setAttribute("href",Rn),{href:St.href,protocol:St.protocol?St.protocol.replace(/:$/,""):"",host:St.host,search:St.search?St.search.replace(/^\?/,""):"",hash:St.hash?St.hash.replace(/^#/,""):"",hostname:St.hostname,port:St.port,pathname:St.pathname.charAt(0)==="/"?St.pathname:"/"+St.pathname}}return xt=jt(window.location.href),function(zt){var Rn=ho.isString(zt)?jt(zt):zt;return Rn.protocol===xt.protocol&&Rn.host===xt.host}}():function(){return function(){return!0}}();function Ir(Et){this.message=Et}Ir.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ir.prototype.__CANCEL__=!0;var Wr=Ir,mo=Cn,Jr=Rr,To=Fr,wo=Xn,xo=qn,ro=Dr,Ho=er,Oo=sr,Do=Hu,so=Wr,Nu=function(Et){return new nt(function(St,xt){var jt=Et.data,zt=Et.headers,Rn=Et.responseType,Mn;function Ln(){Et.cancelToken&&Et.cancelToken.unsubscribe(Mn),Et.signal&&Et.signal.removeEventListener("abort",Mn)}mo.isFormData(jt)&&delete zt["Content-Type"];var Un=new XMLHttpRequest;if(Et.auth){var wr=Et.auth.username||"",Xr=Et.auth.password?unescape(encodeURIComponent(Et.auth.password)):"";zt.Authorization="Basic "+btoa(wr+":"+Xr)}var Hr=xo(Et.baseURL,Et.url);Un.open(Et.method.toUpperCase(),wo(Hr,Et.params,Et.paramsSerializer),!0),Un.timeout=Et.timeout;function Wo(){if(Un){var $r="getAllResponseHeaders"in Un?ro(Un.getAllResponseHeaders()):null,qr=!Rn||Rn==="text"||Rn==="json"?Un.responseText:Un.response,ns={data:qr,status:Un.status,statusText:Un.statusText,headers:$r,config:Et,request:Un};Jr(function(qo){St(qo),Ln()},function(qo){xt(qo),Ln()},ns),Un=null}}if("onloadend"in Un?Un.onloadend=Wo:Un.onreadystatechange=function(){!Un||Un.readyState!==4||Un.status===0&&!(Un.responseURL&&Un.responseURL.indexOf("file:")===0)||setTimeout(Wo)},Un.onabort=function(){!Un||(xt(Oo("Request aborted",Et,"ECONNABORTED",Un)),Un=null)},Un.onerror=function(){xt(Oo("Network Error",Et,null,Un)),Un=null},Un.ontimeout=function(){var $r=Et.timeout?"timeout of "+Et.timeout+"ms exceeded":"timeout exceeded",qr=Et.transitional||Do.transitional;Et.timeoutErrorMessage&&($r=Et.timeoutErrorMessage),xt(Oo($r,Et,qr.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Un)),Un=null},mo.isStandardBrowserEnv()){var Uo=(Et.withCredentials||Ho(Hr))&&Et.xsrfCookieName?To.read(Et.xsrfCookieName):void 0;Uo&&(zt[Et.xsrfHeaderName]=Uo)}"setRequestHeader"in Un&&mo.forEach(zt,function($r,qr){typeof jt>"u"&&qr.toLowerCase()==="content-type"?delete zt[qr]:Un.setRequestHeader(qr,$r)}),mo.isUndefined(Et.withCredentials)||(Un.withCredentials=!!Et.withCredentials),Rn&&Rn!=="json"&&(Un.responseType=Et.responseType),typeof Et.onDownloadProgress=="function"&&Un.addEventListener("progress",Et.onDownloadProgress),typeof Et.onUploadProgress=="function"&&Un.upload&&Un.upload.addEventListener("progress",Et.onUploadProgress),(Et.cancelToken||Et.signal)&&(Mn=function($r){!Un||(xt(!$r||$r&&$r.type?new so("canceled"):$r),Un.abort(),Un=null)},Et.cancelToken&&Et.cancelToken.subscribe(Mn),Et.signal&&(Et.signal.aborted?Mn():Et.signal.addEventListener("abort",Mn))),jt||(jt=null),Un.send(jt)})},_o=Cn,ko=rr,ls=gr,_s={"Content-Type":"application/x-www-form-urlencoded"};function cu(Et,St){!_o.isUndefined(Et)&&_o.isUndefined(Et["Content-Type"])&&(Et["Content-Type"]=St)}function Ns(){var Et;return(typeof XMLHttpRequest<"u"||typeof rt<"u"&&Object.prototype.toString.call(rt)==="[object process]")&&(Et=Nu),Et}function Rl(Et,St,xt){if(_o.isString(Et))try{return(St||JSON.parse)(Et),_o.trim(Et)}catch(jt){if(jt.name!=="SyntaxError")throw jt}return(xt||JSON.stringify)(Et)}var Pu={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Ns(),transformRequest:[function(Et,St){return ko(St,"Accept"),ko(St,"Content-Type"),_o.isFormData(Et)||_o.isArrayBuffer(Et)||_o.isBuffer(Et)||_o.isStream(Et)||_o.isFile(Et)||_o.isBlob(Et)?Et:_o.isArrayBufferView(Et)?Et.buffer:_o.isURLSearchParams(Et)?(cu(St,"application/x-www-form-urlencoded;charset=utf-8"),Et.toString()):_o.isObject(Et)||St&&St["Content-Type"]==="application/json"?(cu(St,"application/json"),Rl(Et)):Et}],transformResponse:[function(Et){var St=this.transitional||Pu.transitional,xt=St&&St.silentJSONParsing,jt=St&&St.forcedJSONParsing,zt=!xt&&this.responseType==="json";if(zt||jt&&_o.isString(Et)&&Et.length)try{return JSON.parse(Et)}catch(Rn){if(zt)throw Rn.name==="SyntaxError"?ls(Rn,this,"E_JSON_PARSE"):Rn}return Et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(Et){return Et>=200&&Et<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};_o.forEach(["delete","get","head"],function(Et){Pu.headers[Et]={}}),_o.forEach(["post","put","patch"],function(Et){Pu.headers[Et]=_o.merge(_s)});var Hu=Pu,qp=Cn,ip=Hu,op=function(Et,St,xt){var jt=this||ip;return qp.forEach(xt,function(zt){Et=zt.call(jt,Et,St)}),Et},oo=function(Et){return!!(Et&&Et.__CANCEL__)},yl=Cn,vu=op,Ys=oo,Ll=Hu,_r=Wr;function _a(Et){if(Et.cancelToken&&Et.cancelToken.throwIfRequested(),Et.signal&&Et.signal.aborted)throw new _r("canceled")}var _h=function(Et){_a(Et),Et.headers=Et.headers||{},Et.data=vu.call(Et,Et.data,Et.headers,Et.transformRequest),Et.headers=yl.merge(Et.headers.common||{},Et.headers[Et.method]||{},Et.headers),yl.forEach(["delete","get","head","post","put","patch","common"],function(xt){delete Et.headers[xt]});var St=Et.adapter||Ll.adapter;return St(Et).then(function(xt){return _a(Et),xt.data=vu.call(Et,xt.data,xt.headers,Et.transformResponse),xt},function(xt){return Ys(xt)||(_a(Et),xt&&xt.response&&(xt.response.data=vu.call(Et,xt.response.data,xt.response.headers,Et.transformResponse))),nt.reject(xt)})},yu=Cn,bu=function(Et,St){St=St||{};var xt={};function jt(wr,Xr){return yu.isPlainObject(wr)&&yu.isPlainObject(Xr)?yu.merge(wr,Xr):yu.isPlainObject(Xr)?yu.merge({},Xr):yu.isArray(Xr)?Xr.slice():Xr}function zt(wr){if(yu.isUndefined(St[wr])){if(!yu.isUndefined(Et[wr]))return jt(void 0,Et[wr])}else return jt(Et[wr],St[wr])}function Rn(wr){if(!yu.isUndefined(St[wr]))return jt(void 0,St[wr])}function Mn(wr){if(yu.isUndefined(St[wr])){if(!yu.isUndefined(Et[wr]))return jt(void 0,Et[wr])}else return jt(void 0,St[wr])}function Ln(wr){if(wr in St)return jt(Et[wr],St[wr]);if(wr in Et)return jt(void 0,Et[wr])}var Un={url:Rn,method:Rn,data:Rn,baseURL:Mn,transformRequest:Mn,transformResponse:Mn,paramsSerializer:Mn,timeout:Mn,timeoutMessage:Mn,withCredentials:Mn,adapter:Mn,responseType:Mn,xsrfCookieName:Mn,xsrfHeaderName:Mn,onUploadProgress:Mn,onDownloadProgress:Mn,decompress:Mn,maxContentLength:Mn,maxBodyLength:Mn,transport:Mn,httpAgent:Mn,httpsAgent:Mn,cancelToken:Mn,socketPath:Mn,responseEncoding:Mn,validateStatus:Ln};return yu.forEach(Object.keys(Et).concat(Object.keys(St)),function(wr){var Xr=Un[wr]||zt,Hr=Xr(wr);yu.isUndefined(Hr)&&Xr!==Ln||(xt[wr]=Hr)}),xt},us={version:"0.25.0"},Yl=us.version,ds={};["object","boolean","number","function","string","symbol"].forEach(function(Et,St){ds[Et]=function(xt){return typeof xt===Et||"a"+(St<1?"n ":" ")+Et}});var _u={};ds.transitional=function(Et,St,xt){function jt(zt,Rn){return"[Axios v"+Yl+"] Transitional option '"+zt+"'"+Rn+(xt?". "+xt:"")}return function(zt,Rn,Mn){if(Et===!1)throw new Error(jt(Rn," has been removed"+(St?" in "+St:"")));return St&&!_u[Rn]&&(_u[Rn]=!0,console.warn(jt(Rn," has been deprecated since v"+St+" and will be removed in the near future"))),Et?Et(zt,Rn,Mn):!0}};function Sp(Et,St,xt){if(typeof Et!="object")throw new TypeError("options must be an object");for(var jt=Object.keys(Et),zt=jt.length;zt-- >0;){var Rn=jt[zt],Mn=St[Rn];if(Mn){var Ln=Et[Rn],Un=Ln===void 0||Mn(Ln,Rn,Et);if(Un!==!0)throw new TypeError("option "+Rn+" must be "+Un);continue}if(xt!==!0)throw Error("Unknown option "+Rn)}}var Il={assertOptions:Sp,validators:ds},dp=Cn,sp=Xn,Cl=Zn,ts=_h,lu=bu,Ro=Il,fp=Ro.validators;function Mu(Et){this.defaults=Et,this.interceptors={request:new Cl,response:new Cl}}Mu.prototype.request=function(Et,St){if(typeof Et=="string"?(St=St||{},St.url=Et):St=Et||{},!St.url)throw new Error("Provided config url is not valid");St=lu(this.defaults,St),St.method?St.method=St.method.toLowerCase():this.defaults.method?St.method=this.defaults.method.toLowerCase():St.method="get";var xt=St.transitional;xt!==void 0&&Ro.assertOptions(xt,{silentJSONParsing:fp.transitional(fp.boolean),forcedJSONParsing:fp.transitional(fp.boolean),clarifyTimeoutError:fp.transitional(fp.boolean)},!1);var jt=[],zt=!0;this.interceptors.request.forEach(function(Hr){typeof Hr.runWhen=="function"&&Hr.runWhen(St)===!1||(zt=zt&&Hr.synchronous,jt.unshift(Hr.fulfilled,Hr.rejected))});var Rn=[];this.interceptors.response.forEach(function(Hr){Rn.push(Hr.fulfilled,Hr.rejected)});var Mn;if(!zt){var Ln=[ts,void 0];for(Array.prototype.unshift.apply(Ln,jt),Ln=Ln.concat(Rn),Mn=nt.resolve(St);Ln.length;)Mn=Mn.then(Ln.shift(),Ln.shift());return Mn}for(var Un=St;jt.length;){var wr=jt.shift(),Xr=jt.shift();try{Un=wr(Un)}catch(Hr){Xr(Hr);break}}try{Mn=ts(Un)}catch(Hr){return nt.reject(Hr)}for(;Rn.length;)Mn=Mn.then(Rn.shift(),Rn.shift());return Mn},Mu.prototype.getUri=function(Et){if(!Et.url)throw new Error("Provided config url is not valid");return Et=lu(this.defaults,Et),sp(Et.url,Et.params,Et.paramsSerializer).replace(/^\?/,"")},dp.forEach(["delete","get","head","options"],function(Et){Mu.prototype[Et]=function(St,xt){return this.request(lu(xt||{},{method:Et,url:St,data:(xt||{}).data}))}}),dp.forEach(["post","put","patch"],function(Et){Mu.prototype[Et]=function(St,xt,jt){return this.request(lu(jt||{},{method:Et,url:St,data:xt}))}});var Wp=Mu,ws=Wr;function Gp(Et){if(typeof Et!="function")throw new TypeError("executor must be a function.");var St;this.promise=new nt(function(jt){St=jt});var xt=this;this.promise.then(function(jt){if(xt._listeners){var zt,Rn=xt._listeners.length;for(zt=0;zt<Rn;zt++)xt._listeners[zt](jt);xt._listeners=null}}),this.promise.then=function(jt){var zt,Rn=new nt(function(Mn){xt.subscribe(Mn),zt=Mn}).then(jt);return Rn.cancel=function(){xt.unsubscribe(zt)},Rn},Et(function(jt){xt.reason||(xt.reason=new ws(jt),St(xt.reason))})}Gp.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Gp.prototype.subscribe=function(Et){if(this.reason){Et(this.reason);return}this._listeners?this._listeners.push(Et):this._listeners=[Et]},Gp.prototype.unsubscribe=function(Et){if(this._listeners){var St=this._listeners.indexOf(Et);St!==-1&&this._listeners.splice(St,1)}},Gp.source=function(){var Et,St=new Gp(function(xt){Et=xt});return{token:St,cancel:Et}};var om=Gp,Fp=function(Et){return function(St){return Et.apply(null,St)}},Op=Cn,em=function(Et){return Op.isObject(Et)&&Et.isAxiosError===!0},pp=Cn,Su=dt,Yu=Wp,Ql=bu,Hp=Hu;function or(Et){var St=new Yu(Et),xt=Su(Yu.prototype.request,St);return pp.extend(xt,Yu.prototype,St),pp.extend(xt,St),xt.create=function(jt){return or(Ql(Et,jt))},xt}var Wn=or(Hp);Wn.Axios=Yu,Wn.Cancel=Wr,Wn.CancelToken=om,Wn.isCancel=oo,Wn.VERSION=us.version,Wn.all=function(Et){return nt.all(Et)},Wn.spread=Fp,Wn.isAxiosError=em,lt.exports=Wn,lt.exports.default=Wn;var Bn=lt.exports;class ur{isEmpty(){return!this.isPresent()}static of(St){if(St!=null)return new Nr(St);throw new TypeError("The passed value was null or undefined.")}static ofNonNull(St){return ur.of(St)}static ofNullable(St){return St!=null?new Nr(St):new jr}static empty(){return new jr}static from(St){switch(St.kind){case"present":return ur.of(St.value);case"empty":return ur.empty();default:throw new TypeError("The passed value was not an Option type.")}}}class Nr extends ur{constructor(St){super(),this.payload=St}isPresent(){return!0}get(){return this.payload}ifPresent(St){St(this.payload)}ifPresentOrElse(St,xt){St(this.payload)}filter(St){return St(this.payload)?this:ur.empty()}map(St){const xt=St(this.payload);return ur.ofNullable(xt)}flatMap(St){return St(this.payload)}or(St){return this}orElse(St){return this.payload}orElseGet(St){return this.payload}orElseThrow(St){return this.payload}orNull(){return this.payload}orUndefined(){return this.payload}toOption(){return{kind:"present",value:this.payload}}matches(St){return St.present(this.payload)}toJSON(St){return this.payload}}class jr extends ur{isPresent(){return!1}constructor(){super()}get(){throw new TypeError("The optional is not present.")}ifPresent(St){}ifPresentOrElse(St,xt){xt()}filter(St){return this}map(St){return ur.empty()}flatMap(St){return ur.empty()}or(St){return St()}orElse(St){return St}orElseGet(St){return this.orElse(St())}orElseThrow(St){throw St()}orNull(){return null}orUndefined(){}toOption(){return{kind:"empty"}}matches(St){return St.empty()}toJSON(St){return null}}const Go="2.0.0";function Yo(Et){globalThis._vonageMediaProcessorMetadata=Et}function Ws(){return globalThis._vonageMediaProcessorMetadata}class ps{constructor(){const St=Ws();this._report={action:ur.empty(),applicationId:ur.ofNullable(St!==void 0&&St!=null?St.appId:null),timestamp:Date.now(),fps:ur.empty(),framesTransformed:ur.empty(),guid:ur.empty(),highestFrameTransformCpu:ur.empty(),message:ur.empty(),source:ur.ofNullable(St!==void 0&&St!=null?St.sourceType:null),transformedFps:ur.empty(),transformerType:ur.empty(),variation:ur.empty(),videoHeight:ur.empty(),videoWidth:ur.empty(),version:Go,error:ur.empty(),proxyUrl:ur.ofNullable(St!==void 0&&St!=null?St.proxyUrl:null)}}action(St){return this._report.action=ur.ofNullable(St),this}framesTransformed(St){return this._report.framesTransformed=ur.ofNullable(St),this}fps(St){return this._report.fps=ur.ofNullable(St),this}guid(St){return this._report.guid=ur.ofNullable(St),this}message(St){return this._report.message=ur.ofNullable(St),this}transformedFps(St){return this._report.transformedFps=ur.ofNullable(St),this}transformerType(St){return this._report.transformerType=ur.ofNullable(St),this}variation(St){return this._report.variation=ur.ofNullable(St),this}videoHeight(St){return this._report.videoHeight=ur.ofNullable(St),this}videoWidth(St){return this._report.videoWidth=ur.ofNullable(St),this}error(St){return this._report.error=ur.ofNullable(St),this}build(){return this._report}}const Es=Et=>JSON.stringify(Et,(St,xt)=>{if(xt!==null)return xt});class Ds{static report(St){return new nt((xt,jt)=>{if(St.applicationId.isEmpty()||St.source.isEmpty()){xt("success");return}let zt=Bn.create(),Rn={timeout:1e4,timeoutErrorMessage:"Request timeout",headers:{"Content-Type":"application/json"}},Mn="hlg.tokbox.com/prod/logging/vcp_webrtc";if(St.proxyUrl.isEmpty())Mn="https://"+Mn;else{let Ln;St.proxyUrl.get().slice(St.proxyUrl.get().length-1)!=="/"?Ln=St.proxyUrl.get()+"/":Ln=St.proxyUrl.get(),Mn=Ln+Mn}zt.post(Mn,Es(St),Rn).then(Ln=>{console.log(Ln),xt("success")}).catch(Ln=>{console.log(Ln),jt(Ln)})})}}var _c,Dp=new Uint8Array(16);function zs(){if(!_c&&(_c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!_c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _c(Dp)}var zl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qs(Et){return typeof Et=="string"&&zl.test(Et)}for(var uu=[],Lp=0;Lp<256;++Lp)uu.push((Lp+256).toString(16).substr(1));function hp(Et){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,xt=(uu[Et[St+0]]+uu[Et[St+1]]+uu[Et[St+2]]+uu[Et[St+3]]+"-"+uu[Et[St+4]]+uu[Et[St+5]]+"-"+uu[Et[St+6]]+uu[Et[St+7]]+"-"+uu[Et[St+8]]+uu[Et[St+9]]+"-"+uu[Et[St+10]]+uu[Et[St+11]]+uu[Et[St+12]]+uu[Et[St+13]]+uu[Et[St+14]]+uu[Et[St+15]]).toLowerCase();if(!qs(xt))throw TypeError("Stringified UUID is invalid");return xt}function lm(Et,St,xt){Et=Et||{};var jt=Et.random||(Et.rng||zs)();if(jt[6]=jt[6]&15|64,jt[8]=jt[8]&63|128,St){xt=xt||0;for(var zt=0;zt<16;++zt)St[xt+zt]=jt[zt];return St}return hp(jt)}const Sl=new WeakMap,qu=new WeakMap,mp=new WeakMap,jp=Symbol("anyProducer"),Ou=nt.resolve(),Ep=Symbol("listenerAdded"),$l=Symbol("listenerRemoved");let So=!1;function cs(Et){if(typeof Et!="string"&&typeof Et!="symbol")throw new TypeError("eventName must be a string or a symbol")}function Cp(Et){if(typeof Et!="function")throw new TypeError("listener must be a function")}function lo(Et,St){const xt=qu.get(Et);return xt.has(St)||xt.set(St,new Set),xt.get(St)}function sm(Et,St){const xt=typeof St=="string"||typeof St=="symbol"?St:jp,jt=mp.get(Et);return jt.has(xt)||jt.set(xt,new Set),jt.get(xt)}function xa(Et,St,xt){const jt=mp.get(Et);if(jt.has(St))for(const zt of jt.get(St))zt.enqueue(xt);if(jt.has(jp)){const zt=nt.all([St,xt]);for(const Rn of jt.get(jp))Rn.enqueue(zt)}}function Tp(Et,St){St=Array.isArray(St)?St:[St];let xt=!1,jt=()=>{},zt=[];const Rn={enqueue(Mn){zt.push(Mn),jt()},finish(){xt=!0,jt()}};for(const Mn of St)sm(Et,Mn).add(Rn);return{async next(){return zt?zt.length===0?xt?(zt=void 0,this.next()):(await new nt(Mn=>{jt=Mn}),this.next()):{done:!1,value:await zt.shift()}:{done:!0}},async return(Mn){zt=void 0;for(const Ln of St)sm(Et,Ln).delete(Rn);return jt(),arguments.length>0?{done:!0,value:await Mn}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Xp(Et){if(Et===void 0)return ap;if(!Array.isArray(Et))throw new TypeError("`methodNames` must be an array of strings");for(const St of Et)if(!ap.includes(St))throw typeof St!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${St} is not Emittery method`);return Et}const jo=Et=>Et===Ep||Et===$l;class Yp{static mixin(St,xt){return xt=Xp(xt),jt=>{if(typeof jt!="function")throw new TypeError("`target` must be function");for(const Mn of xt)if(jt.prototype[Mn]!==void 0)throw new Error(`The property \`${Mn}\` already exists on \`target\``);function zt(){return Object.defineProperty(this,St,{enumerable:!1,value:new Yp}),this[St]}Object.defineProperty(jt.prototype,St,{enumerable:!1,get:zt});const Rn=Mn=>function(...Ln){return this[St][Mn](...Ln)};for(const Mn of xt)Object.defineProperty(jt.prototype,Mn,{enumerable:!1,value:Rn(Mn)});return jt}}static get isDebugEnabled(){if(typeof rt!="object")return So;const{env:St}=rt||{env:{}};return St.DEBUG==="emittery"||St.DEBUG==="*"||So}static set isDebugEnabled(St){So=St}constructor(St={}){Sl.set(this,new Set),qu.set(this,new Map),mp.set(this,new Map),this.debug=St.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(xt,jt,zt,Rn)=>{Rn=JSON.stringify(Rn),typeof zt=="symbol"&&(zt=zt.toString());const Mn=new Date,Ln=`${Mn.getHours()}:${Mn.getMinutes()}:${Mn.getSeconds()}.${Mn.getMilliseconds()}`;console.log(`[${Ln}][emittery:${xt}][${jt}] Event Name: ${zt}
	data: ${Rn}`)})}logIfDebugEnabled(St,xt,jt){(Yp.isDebugEnabled||this.debug.enabled)&&this.debug.logger(St,this.debug.name,xt,jt)}on(St,xt){Cp(xt),St=Array.isArray(St)?St:[St];for(const jt of St)cs(jt),lo(this,jt).add(xt),this.logIfDebugEnabled("subscribe",jt,void 0),jo(jt)||this.emit(Ep,{eventName:jt,listener:xt});return this.off.bind(this,St,xt)}off(St,xt){Cp(xt),St=Array.isArray(St)?St:[St];for(const jt of St)cs(jt),lo(this,jt).delete(xt),this.logIfDebugEnabled("unsubscribe",jt,void 0),jo(jt)||this.emit($l,{eventName:jt,listener:xt})}once(St){return new nt(xt=>{const jt=this.on(St,zt=>{jt(),xt(zt)})})}events(St){St=Array.isArray(St)?St:[St];for(const xt of St)cs(xt);return Tp(this,St)}async emit(St,xt){cs(St),this.logIfDebugEnabled("emit",St,xt),xa(this,St,xt);const jt=lo(this,St),zt=Sl.get(this),Rn=[...jt],Mn=jo(St)?[]:[...zt];await Ou,await nt.all([...Rn.map(async Ln=>{if(jt.has(Ln))return Ln(xt)}),...Mn.map(async Ln=>{if(zt.has(Ln))return Ln(St,xt)})])}async emitSerial(St,xt){cs(St),this.logIfDebugEnabled("emitSerial",St,xt);const jt=lo(this,St),zt=Sl.get(this),Rn=[...jt],Mn=[...zt];await Ou;for(const Ln of Rn)jt.has(Ln)&&await Ln(xt);for(const Ln of Mn)zt.has(Ln)&&await Ln(St,xt)}onAny(St){return Cp(St),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Sl.get(this).add(St),this.emit(Ep,{listener:St}),this.offAny.bind(this,St)}anyEvent(){return Tp(this)}offAny(St){Cp(St),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit($l,{listener:St}),Sl.get(this).delete(St)}clearListeners(St){St=Array.isArray(St)?St:[St];for(const xt of St)if(this.logIfDebugEnabled("clear",xt,void 0),typeof xt=="string"||typeof xt=="symbol"){lo(this,xt).clear();const jt=sm(this,xt);for(const zt of jt)zt.finish();jt.clear()}else{Sl.get(this).clear();for(const jt of qu.get(this).values())jt.clear();for(const jt of mp.get(this).values()){for(const zt of jt)zt.finish();jt.clear()}}}listenerCount(St){St=Array.isArray(St)?St:[St];let xt=0;for(const jt of St){if(typeof jt=="string"){xt+=Sl.get(this).size+lo(this,jt).size+sm(this,jt).size+sm(this).size;continue}typeof jt<"u"&&cs(jt),xt+=Sl.get(this).size;for(const zt of qu.get(this).values())xt+=zt.size;for(const zt of mp.get(this).values())xt+=zt.size}return xt}bindMethods(St,xt){if(typeof St!="object"||St===null)throw new TypeError("`target` must be an object");xt=Xp(xt);for(const jt of xt){if(St[jt]!==void 0)throw new Error(`The property \`${jt}\` already exists on \`target\``);Object.defineProperty(St,jt,{enumerable:!1,value:this[jt].bind(this)})}}}const ap=Object.getOwnPropertyNames(Yp.prototype).filter(Et=>Et!=="constructor");Object.defineProperty(Yp,"listenerAdded",{value:Ep,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Yp,"listenerRemoved",{value:$l,writable:!1,enumerable:!0,configurable:!1});var um=Yp;function mm(Et){return typeof Et=="object"&&Et!==null&&"message"in Et&&typeof Et.message=="string"}function Up(Et){if(mm(Et))return Et;try{return new Error(JSON.stringify(Et))}catch{return new Error(String(Et))}}function tm(Et){return Up(Et).message}var dm=(Et=>(Et.FPS_DROP="fps_drop",Et))(dm||{}),hs=(Et=>(Et.start="start",Et.transform="transform",Et.flush="flush",Et))(hs||{}),No=(Et=>(Et.pipeline_ended="pipeline_ended",Et.pipeline_ended_with_error="pipeline_ended_with_error",Et.pipeline_started="pipeline_started",Et.pipeline_started_with_error="pipeline_started_with_error",Et.pipeline_restarted="pipeline_restarted",Et.pipeline_restarted_with_error="pipeline_restarted_with_error",Et))(No||{});const Sm=500,Om=.8;class Em extends um{constructor(St,xt){super(),this.index_=xt,this.uuid_=lm(),this.framesTransformed_=0,this.transformer_=St,this.shouldStop_=!1,this.isFlashed_=!1,this.framesFromSource_=0,this.fps_=0,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in St&&(this.transformerType_=St.getTransformerType());const jt=new ps().action("MediaTransformer").guid(this.uuid_).transformerType(this.transformerType_).variation("Create").build();Ds.report(jt)}setTrackExpectedRate(St){this.trackExpectedRate_=St}async start(St){if(this.controller_=St,this.transformer_&&typeof this.transformer_.start=="function")try{await this.transformer_.start(St)}catch(xt){const jt=new ps().action("MediaTransformer").guid(this.uuid_).message(ct.errors.transformer_start).transformerType(this.transformerType_).variation("Error").error(tm(xt)).build();Ds.report(jt);const zt={eventMetaData:{transformerIndex:this.index_},error:xt,function:"start"};this.emit("error",zt)}}async transform(St,xt){var jt,zt,Rn,Mn;if(this.mediaTransformerQosReportStartTimestamp_===0&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),St instanceof VideoFrame&&(this.videoHeight_=(jt=St==null?void 0:St.displayHeight)!=null?jt:0,this.videoWidth_=(zt=St==null?void 0:St.displayWidth)!=null?zt:0),++this.framesFromSource_,this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),St.close(),this.flush(xt),xt.terminate();else try{await((Mn=(Rn=this.transformer_).transform)==null?void 0:Mn.call(Rn,St,xt)),++this.framesTransformed_,this.framesTransformed_===Sm&&this.mediaTransformerQosReport()}catch(Ln){const Un=new ps().action("MediaTransformer").guid(this.uuid_).message(ct.errors.transformer_transform).transformerType(this.transformerType_).variation("Error").error(tm(Ln)).build();Ds.report(Un);const wr={eventMetaData:{transformerIndex:this.index_},error:Ln,function:"transform"};this.emit("error",wr)}}async flush(St){if(this.transformer_&&typeof this.transformer_.flush=="function"&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(St)}catch(jt){const zt=new ps().action("MediaTransformer").guid(this.uuid_).message(ct.errors.transformer_flush).transformerType(this.transformerType_).variation("Error").error(tm(jt)).build();Ds.report(zt);const Rn={eventMetaData:{transformerIndex:this.index_},error:jt,function:"flush"};this.emit("error",Rn)}}this.mediaTransformerQosReport();const xt=new ps().action("MediaTransformer").guid(this.uuid_).transformerType(this.transformerType_).variation("Delete").build();Ds.report(xt)}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}mediaTransformerQosReport(){let St=(Date.now()-this.mediaTransformerQosReportStartTimestamp_)/1e3,xt=this.framesFromSource_/St,jt=this.framesTransformed_/St;if(this.trackExpectedRate_!=-1&&this.trackExpectedRate_*Om>xt){const Rn={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:xt}};this.emit("warn",Rn)}const zt=new ps().action("MediaTransformer").fps(xt).transformedFps(jt).framesTransformed(this.framesTransformed_).guid(this.uuid_).transformerType(this.transformerType_).videoHeight(this.videoHeight_).videoWidth(this.videoWidth_).variation("QoS").build();Ds.report(zt),this.mediaTransformerQosReportStartTimestamp_=0,this.framesFromSource_=0,this.framesTransformed_=0}}class Vp extends um{constructor(St){super(),this.transformers_=[],this.trackExpectedRate_=-1;for(let xt=0;xt<St.length;xt++){let jt=new Em(St[xt],xt);jt.on("error",zt=>{this.emit("error",zt)}),jt.on("warn",zt=>{this.emit("warn",zt)}),this.transformers_.push(jt)}}setTrackExpectedRate(St){this.trackExpectedRate_=St;for(let xt of this.transformers_)xt.setTrackExpectedRate(this.trackExpectedRate_)}async start(St,xt){if(!this.transformers_||this.transformers_.length===0){console.log("[Pipeline] No transformers.");return}try{let jt=St;for(let zt of this.transformers_)St=St.pipeThrough(new TransformStream(zt));St.pipeTo(xt).then(async()=>{console.log("[Pipeline] Setup."),await xt.abort(),await jt.cancel(),this.emit("pipelineInfo","pipeline_ended")}).catch(async zt=>{St.cancel().then(()=>{console.log("[Pipeline] Shutting down streams after abort.")}).catch(Rn=>{console.error("[Pipeline] Error from stream transform:",Rn)}),await xt.abort(zt),await jt.cancel(zt),this.emit("pipelineInfo","pipeline_ended_with_error")})}catch{this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy();return}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let St of this.transformers_)St.stop()}}class _d extends um{constructor(){super(),this.uuid_=lm(),this.trackExpectedRate_=-1;const St=new ps().action("MediaProcessor").guid(this.uuid_).variation("Create").build();Ds.report(St)}setTrackExpectedRate(St){this.trackExpectedRate_=St,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(St,xt){return this.readable_=St,this.writable_=xt,this.transformInternal()}transformInternal(){return new nt((St,xt)=>{if(!this.transformers_||this.transformers_.length===0){const zt=new ps().action("MediaProcessor").guid(this.uuid_).message(ct.errors.transformer_none).variation("Error").build();Ds.report(zt),xt("[MediaProcessor] Need to set transformers.");return}if(!this.readable_){const zt=new ps().action("MediaProcessor").guid(this.uuid_).message(ct.errors.readable_null).variation("Error").build();Ds.report(zt),xt("[MediaProcessor] Readable is null.");return}if(!this.writable_){const zt=new ps().action("MediaProcessor").guid(this.uuid_).message(ct.errors.writable_null).variation("Error").build();Ds.report(zt),xt("[MediaProcessor] Writable is null.");return}let jt=!1;this.pipeline_&&(jt=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new Vp(this.transformers_),this.pipeline_.on("warn",zt=>{this.emit("warn",zt)}),this.pipeline_.on("error",zt=>{this.emit("error",zt)}),this.pipeline_.on("pipelineInfo",zt=>{jt&&(zt==="pipeline_started"?zt=No.pipeline_restarted:zt==="pipeline_started_with_error"&&(zt=No.pipeline_restarted_with_error)),this.emit("pipelineInfo",zt)}),this.trackExpectedRate_!=-1&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then(()=>{St()}).catch(zt=>{xt(zt)})})}setTransformers(St){const xt=new ps().action("MediaProcessor").guid(this.uuid_).message(ct.updates.transformer_new).variation("Update").build();return Ds.report(xt),this.transformers_=St,this.readable_&&this.writable_?this.transformInternal():nt.resolve()}destroy(){return new nt(St=>{this.pipeline_&&this.pipeline_.destroy();const xt=new ps().action("MediaProcessor").guid(this.uuid_).variation("Delete").build();Ds.report(xt),St()})}}class zn{constructor(){this.processor_=null,this.generator_=null}init(St){return new nt((xt,jt)=>{try{this.processor_=new MediaStreamTrackProcessor(St)}catch(zt){console.log(`[InsertableStreamHelper] MediaStreamTrackProcessor failed: ${zt}`),jt(zt)}try{St.kind==="audio"?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):St.kind==="video"?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):jt("kind not supported")}catch(zt){console.log(`[InsertableStreamHelper] MediaStreamTrackGenerator failed: ${zt}`),jt(zt)}xt()})}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class sn{constructor(St){this.insertableStreamHelper_=new zn,this.mediaProcessor_=St}setTrack(St){return new nt((xt,jt)=>{this.insertableStreamHelper_.init(St).then(()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then(()=>{xt(this.insertableStreamHelper_.getProccesorTrack())}).catch(zt=>{jt(zt)})}).catch(zt=>{jt(zt)})})}destroy(){return new nt((St,xt)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then(()=>{St()}).catch(jt=>{xt(jt)}):xt("no processor")})}}var jn=(Et=>(Et.Low="Low",Et.High="High",Et))(jn||{}),dr=(Et=>(Et.BackgroundBlur="BackgroundBlur",Et.VirtualBackground="VirtualBackground",Et.VideoBackground="VideoBackground",Et.SilhouetteBlur="SilhouetteBlur",Et))(dr||{}),fr=(Et=>(Et.FAST="FAST",Et.PRECISE="PRECISE",Et))(fr||{});const co=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var uo=function(){var Et=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(St){St=St||{};var xt=typeof St<"u"?St:{},jt,zt;xt.ready=new nt(function(Vr,Gr){jt=Vr,zt=Gr});var Rn={},Mn;for(Mn in xt)xt.hasOwnProperty(Mn)&&(Rn[Mn]=xt[Mn]);var Ln="./this.program",Un=function(Vr,Gr){throw Gr},wr=!0,Xr="";function Hr(Vr){return xt.locateFile?xt.locateFile(Vr,Xr):Xr+Vr}var Wo;typeof document<"u"&&document.currentScript&&(Xr=document.currentScript.src),Et&&(Xr=Et),Xr.indexOf("blob:")!==0?Xr=Xr.substr(0,Xr.replace(/[?#].*/,"").lastIndexOf("/")+1):Xr="";var Uo=xt.print||console.log.bind(console),$r=xt.printErr||console.warn.bind(console);for(Mn in Rn)Rn.hasOwnProperty(Mn)&&(xt[Mn]=Rn[Mn]);Rn=null,xt.arguments&&xt.arguments,xt.thisProgram&&(Ln=xt.thisProgram),xt.quit&&(Un=xt.quit);var qr;xt.wasmBinary&&(qr=xt.wasmBinary);var ns=xt.noExitRuntime||!0;typeof WebAssembly!="object"&&Xs("no native wasm support detected");var qo,Is=!1,Er=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ju(Vr,Gr,Kr){for(var ys=Gr+Kr,Gs=Gr;Vr[Gs]&&!(Gs>=ys);)++Gs;if(Gs-Gr>16&&Vr.subarray&&Er)return Er.decode(Vr.subarray(Gr,Gs));for(var Ps="";Gr<Gs;){var Mo=Vr[Gr++];if(!(Mo&128)){Ps+=String.fromCharCode(Mo);continue}var Bs=Vr[Gr++]&63;if((Mo&224)==192){Ps+=String.fromCharCode((Mo&31)<<6|Bs);continue}var Fl=Vr[Gr++]&63;if((Mo&240)==224?Mo=(Mo&15)<<12|Bs<<6|Fl:Mo=(Mo&7)<<18|Bs<<12|Fl<<6|Vr[Gr++]&63,Mo<65536)Ps+=String.fromCharCode(Mo);else{var fu=Mo-65536;Ps+=String.fromCharCode(55296|fu>>10,56320|fu&1023)}}return Ps}function ku(Vr,Gr){return Vr?ju(po,Vr,Gr):""}function Tl(Vr,Gr,Kr){for(var ys=0;ys<Vr.length;++ys)Fs[Gr++>>0]=Vr.charCodeAt(ys);Kr||(Fs[Gr>>0]=0)}function Cs(Vr,Gr){return Vr%Gr>0&&(Vr+=Gr-Vr%Gr),Vr}var Jp,Fs,po,Xu;function Qp(Vr){Jp=Vr,xt.HEAP8=Fs=new Int8Array(Vr),xt.HEAP16=new Int16Array(Vr),xt.HEAP32=Xu=new Int32Array(Vr),xt.HEAPU8=po=new Uint8Array(Vr),xt.HEAPU16=new Uint16Array(Vr),xt.HEAPU32=new Uint32Array(Vr),xt.HEAPF32=new Float32Array(Vr),xt.HEAPF64=new Float64Array(Vr)}xt.INITIAL_MEMORY;var xl,Jo=[],Zl=[],Tu=[],ep=0;function Rp(){return ns||ep>0}function cp(){if(xt.preRun)for(typeof xt.preRun=="function"&&(xt.preRun=[xt.preRun]);xt.preRun.length;)Uu(xt.preRun.shift());bs(Jo)}function Ap(){bs(Zl)}function Lu(){if(xt.postRun)for(typeof xt.postRun=="function"&&(xt.postRun=[xt.postRun]);xt.postRun.length;)Ip(xt.postRun.shift());bs(Tu)}function Uu(Vr){Jo.unshift(Vr)}function Pp(Vr){Zl.unshift(Vr)}function Ip(Vr){Tu.unshift(Vr)}var ru=0,tu=null;function lp(Vr){ru++,xt.monitorRunDependencies&&xt.monitorRunDependencies(ru)}function tp(Vr){if(ru--,xt.monitorRunDependencies&&xt.monitorRunDependencies(ru),ru==0&&tu){var Gr=tu;tu=null,Gr()}}xt.preloadedImages={},xt.preloadedAudios={};function Xs(Vr){xt.onAbort&&xt.onAbort(Vr),Vr="Aborted("+Vr+")",$r(Vr),Is=!0,Vr+=". Build with -s ASSERTIONS=1 for more info.";var Gr=new WebAssembly.RuntimeError(Vr);throw zt(Gr),Gr}var Vl="data:application/octet-stream;base64,";function iu(Vr){return Vr.startsWith(Vl)}var Os;Os="tflite-simd.wasm",iu(Os)||(Os=Hr(Os));function El(Vr){try{if(Vr==Os&&qr)return new Uint8Array(qr);if(!Wo)throw"both async and sync fetching of the wasm failed"}catch(Gr){Xs(Gr)}}function xu(){return!qr&&wr&&typeof fetch=="function"?fetch(Os,{credentials:"same-origin"}).then(function(Vr){if(!Vr.ok)throw"failed to load wasm binary file at '"+Os+"'";return Vr.arrayBuffer()}).catch(function(){return El(Os)}):nt.resolve().then(function(){return El(Os)})}function Kl(){var Vr={a:Us};function Gr(Mo,Bs){var Fl=Mo.exports;xt.asm=Fl,qo=xt.asm.q,Qp(qo.buffer),xl=xt.asm.E,Pp(xt.asm.r),tp()}lp();function Kr(Mo){Gr(Mo.instance)}function ys(Mo){return xu().then(function(Bs){return WebAssembly.instantiate(Bs,Vr)}).then(function(Bs){return Bs}).then(Mo,function(Bs){$r("failed to asynchronously prepare wasm: "+Bs),Xs(Bs)})}function Gs(){return!qr&&typeof WebAssembly.instantiateStreaming=="function"&&!iu(Os)&&typeof fetch=="function"?fetch(Os,{credentials:"same-origin"}).then(function(Mo){var Bs=WebAssembly.instantiateStreaming(Mo,Vr);return Bs.then(Kr,function(Fl){return $r("wasm streaming compile failed: "+Fl),$r("falling back to ArrayBuffer instantiation"),ys(Kr)})}):ys(Kr)}if(xt.instantiateWasm)try{var Ps=xt.instantiateWasm(Vr,Gr);return Ps}catch(Mo){return $r("Module.instantiateWasm callback failed with error: "+Mo),!1}return Gs().catch(zt),{}}function bs(Vr){for(;Vr.length>0;){var Gr=Vr.shift();if(typeof Gr=="function"){Gr(xt);continue}var Kr=Gr.func;typeof Kr=="number"?Gr.arg===void 0?xl.get(Kr)():xl.get(Kr)(Gr.arg):Kr(Gr.arg===void 0?null:Gr.arg)}}function na(Vr,Gr,Kr,ys){Xs("Assertion failed: "+ku(Vr)+", at: "+[Gr?ku(Gr):"unknown filename",Kr,ys?ku(ys):"unknown function"])}function Gl(Vr,Gr){Xs("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function as(Vr,Gr){Xs("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function Ol(){Xs("")}var ms;ms=function(){return performance.now()};var Js=!0;function Nl(Vr){return Xu[Ko()>>2]=Vr,Vr}function du(Vr,Gr){var Kr;if(Vr===0)Kr=Date.now();else if((Vr===1||Vr===4)&&Js)Kr=ms();else return Nl(28),-1;return Xu[Gr>>2]=Kr/1e3|0,Xu[Gr+4>>2]=Kr%1e3*1e3*1e3|0,0}function $a(){return 2147483648}function gs(Vr,Gr,Kr){po.copyWithin(Vr,Gr,Gr+Kr)}function nu(Vr){try{return qo.grow(Vr-Jp.byteLength+65535>>>16),Qp(qo.buffer),1}catch{}}function ou(Vr){var Gr=po.length;Vr=Vr>>>0;var Kr=2147483648;if(Vr>Kr)return!1;for(var ys=1;ys<=4;ys*=2){var Gs=Gr*(1+.2/ys);Gs=Math.min(Gs,Vr+100663296);var Ps=Math.min(Kr,Cs(Math.max(Vr,Gs),65536)),Mo=nu(Ps);if(Mo)return!0}return!1}function Al(Vr){for(var Gr=ms();ms()-Gr<Vr;);}var np={};function Ru(){return Ln||"./this.program"}function su(){if(!su.strings){var Vr=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",Gr={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:Vr,_:Ru()};for(var Kr in np)np[Kr]===void 0?delete Gr[Kr]:Gr[Kr]=np[Kr];var ys=[];for(var Kr in Gr)ys.push(Kr+"="+Gr[Kr]);su.strings=ys}return su.strings}var Iu={mappings:{},buffers:[null,[],[]],printChar:function(Vr,Gr){var Kr=Iu.buffers[Vr];Gr===0||Gr===10?((Vr===1?Uo:$r)(ju(Kr,0)),Kr.length=0):Kr.push(Gr)},varargs:void 0,get:function(){Iu.varargs+=4;var Vr=Xu[Iu.varargs-4>>2];return Vr},getStr:function(Vr){var Gr=ku(Vr);return Gr},get64:function(Vr,Gr){return Vr}};function ga(Vr,Gr){var Kr=0;return su().forEach(function(ys,Gs){var Ps=Gr+Kr;Xu[Vr+Gs*4>>2]=Ps,Tl(ys,Ps),Kr+=ys.length+1}),0}function Pl(Vr,Gr){var Kr=su();Xu[Vr>>2]=Kr.length;var ys=0;return Kr.forEach(function(Gs){ys+=Gs.length+1}),Xu[Gr>>2]=ys,0}function ba(Vr){Rs(Vr)}function As(Vr){return 0}function au(Vr,Gr,Kr,ys,Gs){}function xs(Vr,Gr,Kr,ys){for(var Gs=0,Ps=0;Ps<Kr;Ps++){for(var Mo=Xu[Gr+Ps*8>>2],Bs=Xu[Gr+(Ps*8+4)>>2],Fl=0;Fl<Bs;Fl++)Iu.printChar(Vr,po[Mo+Fl]);Gs+=Bs}return Xu[ys>>2]=Gs,0}function vs(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Vr=new Uint8Array(1);return function(){return crypto.getRandomValues(Vr),Vr[0]}}else return function(){Xs("randomDevice")}}function Vu(Vr,Gr){Vu.randomDevice||(Vu.randomDevice=vs());for(var Kr=0;Kr<Gr;Kr++)Fs[Vr+Kr>>0]=Vu.randomDevice();return 0}var Us={a:na,e:Gl,d:as,b:Ol,n:du,h:$a,l:gs,m:ou,p:Al,f:ga,g:Pl,j:ba,i:As,k:au,c:xs,o:Vu};Kl(),xt.___wasm_call_ctors=function(){return(xt.___wasm_call_ctors=xt.asm.r).apply(null,arguments)},xt._getModelBufferMemoryOffset=function(){return(xt._getModelBufferMemoryOffset=xt.asm.s).apply(null,arguments)},xt._getInputMemoryOffset=function(){return(xt._getInputMemoryOffset=xt.asm.t).apply(null,arguments)},xt._getInputHeight=function(){return(xt._getInputHeight=xt.asm.u).apply(null,arguments)},xt._getInputWidth=function(){return(xt._getInputWidth=xt.asm.v).apply(null,arguments)},xt._getInputChannelCount=function(){return(xt._getInputChannelCount=xt.asm.w).apply(null,arguments)},xt._getOutputMemoryOffset=function(){return(xt._getOutputMemoryOffset=xt.asm.x).apply(null,arguments)},xt._getOutputHeight=function(){return(xt._getOutputHeight=xt.asm.y).apply(null,arguments)},xt._getOutputWidth=function(){return(xt._getOutputWidth=xt.asm.z).apply(null,arguments)},xt._getOutputChannelCount=function(){return(xt._getOutputChannelCount=xt.asm.A).apply(null,arguments)},xt._loadModel=function(){return(xt._loadModel=xt.asm.B).apply(null,arguments)},xt._runInference=function(){return(xt._runInference=xt.asm.C).apply(null,arguments)},xt._isGPUEnabled=function(){return(xt._isGPUEnabled=xt.asm.D).apply(null,arguments)};var Ko=xt.___errno_location=function(){return(Ko=xt.___errno_location=xt.asm.F).apply(null,arguments)},Ao;function ks(Vr){this.name="ExitStatus",this.message="Program terminated with exit("+Vr+")",this.status=Vr}tu=function Vr(){Ao||Ml(),Ao||(tu=Vr)};function Ml(Vr){if(ru>0||(cp(),ru>0))return;function Gr(){Ao||(Ao=!0,xt.calledRun=!0,!Is&&(Ap(),jt(xt),xt.onRuntimeInitialized&&xt.onRuntimeInitialized(),Lu()))}xt.setStatus?(xt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){xt.setStatus("")},1),Gr()},1)):Gr()}xt.run=Ml;function Rs(Vr,Gr){Ls(Vr)}function Ls(Vr){Rp()||(xt.onExit&&xt.onExit(Vr),Is=!0),Un(Vr,new ks(Vr))}if(xt.preInit)for(typeof xt.preInit=="function"&&(xt.preInit=[xt.preInit]);xt.preInit.length>0;)xt.preInit.pop()();return Ml(),St.ready}}();class Eo{constructor(){st(this,"selectedTFLite"),st(this,"isSIMDSupported",!1),st(this,"isThreadsSupported",!1),st(this,"inputWidth",0),st(this,"inputHeight",0),st(this,"inputChannelCount",0),st(this,"inputMemoryOffset",0),st(this,"outputWidth",0),st(this,"outputHeight",0),st(this,"outputChannelCount",0),st(this,"outputMemoryOffset",0)}}const bo="https://d3opqjmqzxf057.cloudfront.net/vonage-tensorflow-wasm/tflite-simd-wasm/1.1.3/",Eu="https://d3opqjmqzxf057.cloudfront.net/ml/selfie_segmentation/4.0.0/";async function Xo(Et=bo,St=Eu){let xt=new Eo;var jt=new nt(function(zt,Rn){async function Mn(){return uo({locateFile:function(Un){return Et+Un}})}async function Ln(Un){return new nt(async(wr,Xr)=>{const Hr=Un;if(typeof Hr>"u")return Xr("TFLite backend unavailable: wasmSimd");const Wo="selfie_segmentation_landscape";console.log("Loading tflite model:",Wo);let Uo=St+`${Wo}.tflite`;console.log("TFLite modelUrl: "+Uo);try{const $r=await(await fetch(Uo)).arrayBuffer();console.log("Model buffer size:",$r.byteLength);const qr=Hr._getModelBufferMemoryOffset();console.log("Model buffer memory offset:",qr),console.log("Loading model buffer..."),Hr.HEAPU8.set(new Uint8Array($r),qr);const ns=Hr._loadModel($r.byteLength);if(console.log("Load model result:",ns),ns!==0){Xr("Cannot load model");return}xt.inputWidth=Hr._getInputWidth(),xt.inputHeight=Hr._getInputHeight(),xt.inputChannelCount=Hr._getInputChannelCount(),xt.inputMemoryOffset=Hr._getInputMemoryOffset(),console.log("Input memory offset:",xt.inputMemoryOffset),console.log("Input height:",xt.inputHeight),console.log("Input width:",xt.inputWidth),console.log("Input channels:",xt.inputChannelCount),xt.outputMemoryOffset=Hr._getOutputMemoryOffset(),xt.outputWidth=Hr._getOutputWidth(),xt.outputHeight=Hr._getOutputHeight(),xt.outputChannelCount=Hr._getOutputChannelCount(),console.log("Output memory offset:",xt.outputMemoryOffset),console.log("Output height:",xt.outputHeight),console.log("Output width:",xt.outputWidth),console.log("Output channels:",xt.outputChannelCount),xt.selectedTFLite=Hr}catch($r){Xr($r);return}wr()})}Mn().then(Un=>{if(Un===null)throw console.error("loadTFLite null"),"loadTFLite null";Ln(Un).then(wr=>{zt(xt)}).catch(wr=>{console.error("loadTFLiteModel error"),Rn("loadTFLiteModel error")})}).catch(Un=>{console.error("loadTFLite error:",Un),Rn("loadTFLite error:"+Un)})});return jt}class Ul{constructor(){st(this,"canvas",new OffscreenCanvas(0,0)),st(this,"context",this.canvas.getContext("2d",{willReadFrequently:!0})),st(this,"pixelCount",0),st(this,"inputOffset",0),st(this,"outputOffset",0),st(this,"infos"),st(this,"mask")}async init(St,xt){await this.initWasm(St,xt),this.infos&&(this.canvas.width=this.infos.inputWidth,this.canvas.height=this.infos.inputHeight,this.pixelCount=this.infos.inputWidth*this.infos.inputHeight,this.mask=new ImageData(this.infos.inputWidth,this.infos.inputHeight),this.inputOffset=this.infos.inputMemoryOffset/4,this.outputOffset=this.infos.outputMemoryOffset/4)}async initWasm(St,xt){this.infos=await Xo(St,xt)}getOutputDimensions(){var St,xt,jt,zt;return{width:(xt=(St=this.infos)==null?void 0:St.outputWidth)!=null?xt:0,height:(zt=(jt=this.infos)==null?void 0:jt.outputHeight)!=null?zt:0}}async process(St){if(!this.mask||!this.infos)return;const xt=this.infos.inputWidth,jt=this.infos.inputHeight;this.context.drawImage(St,0,0,St.width,St.height,0,0,xt,jt);const zt=this.context.getImageData(0,0,xt,jt),Rn=this.infos.selectedTFLite.HEAPF32;for(let Mn=0;Mn<this.pixelCount;Mn++){const Ln=this.inputOffset+Mn*3;Rn[Ln]=zt.data[Mn*4]/255,Rn[Ln+1]=zt.data[Mn*4+1]/255,Rn[Ln+2]=zt.data[Mn*4+2]/255}this.infos.selectedTFLite._runInference();for(let Mn=0;Mn<this.pixelCount;Mn++){const Ln=this.infos.selectedTFLite.HEAPF32[this.outputOffset+Mn];this.mask.data[Mn*4]=this.mask.data[Mn*4+3]=255*Ln}return createImageBitmap(this.mask)}isGpuSupported(){var St,xt,jt;return(jt=(xt=(St=this.infos)==null?void 0:St.selectedTFLite)==null?void 0:xt._isGPUEnabled())!=null?jt:!1}}async function zp(Et,St){const{wasm:xt,insertableStreams:jt,simd:zt,webgl:Rn}=await Au(Et,St);if(!xt.supported)throw xt.message;if(!jt.supported)throw jt.message;if(!zt.supported)throw zt.message;if(!Rn.supported)throw Rn.message}async function Au(Et,St){const xt=new Ul;await xt.initWasm(Et,St);const jt={wasm:{supported:typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function",message:"Your browser does not support WebAssembly features."},simd:{supported:await co(),message:"Your browser does not support simd features."},insertableStreams:{supported:!0},gpu:{supported:xt.isGpuSupported(),message:"Your browser does not support gpu features."},webgl:$p()};try{await at()}catch(zt){jt.insertableStreams.supported=!1,jt.insertableStreams.message=zt}return jt}function $p(){return OffscreenCanvas?new OffscreenCanvas(0,0).getContext("webgl2")?{supported:!0}:{supported:!1,message:"Your browser does not support webgl 2"}:{supported:!1,message:"Your browser does not support offscreen canvas"}}const Wu={};(function(){var Et;function St(Xt){var ln=0;return function(){return ln<Xt.length?{done:!1,value:Xt[ln++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(Xt,ln,hn){return Xt==Array.prototype||Xt==Object.prototype||(Xt[ln]=hn.value),Xt};function jt(Xt){Xt=[typeof globalThis=="object"&&globalThis,Xt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var ln=0;ln<Xt.length;++ln){var hn=Xt[ln];if(hn&&hn.Math==Math)return hn}throw Error("Cannot find global object")}var zt=jt(this);function Rn(Xt,ln){if(ln)e:{var hn=zt;Xt=Xt.split(".");for(var _n=0;_n<Xt.length-1;_n++){var Sr=Xt[_n];if(!(Sr in hn))break e;hn=hn[Sr]}Xt=Xt[Xt.length-1],_n=hn[Xt],ln=ln(_n),ln!=_n&&ln!=null&&xt(hn,Xt,{configurable:!0,writable:!0,value:ln})}}Rn("Symbol",function(Xt){function ln(Ur){if(this instanceof ln)throw new TypeError("Symbol is not a constructor");return new hn(_n+(Ur||"")+"_"+Sr++,Ur)}function hn(Ur,br){this.g=Ur,xt(this,"description",{configurable:!0,writable:!0,value:br})}if(Xt)return Xt;hn.prototype.toString=function(){return this.g};var _n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Sr=0;return ln}),Rn("Symbol.iterator",function(Xt){if(Xt)return Xt;Xt=Symbol("Symbol.iterator");for(var ln="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),hn=0;hn<ln.length;hn++){var _n=zt[ln[hn]];typeof _n=="function"&&typeof _n.prototype[Xt]!="function"&&xt(_n.prototype,Xt,{configurable:!0,writable:!0,value:function(){return Mn(St(this))}})}return Xt});function Mn(Xt){return Xt={next:Xt},Xt[Symbol.iterator]=function(){return this},Xt}function Ln(Xt){var ln=typeof Symbol<"u"&&Symbol.iterator&&Xt[Symbol.iterator];return ln?ln.call(Xt):{next:St(Xt)}}function Un(Xt){if(!(Xt instanceof Array)){Xt=Ln(Xt);for(var ln,hn=[];!(ln=Xt.next()).done;)hn.push(ln.value);Xt=hn}return Xt}var wr=typeof Object.create=="function"?Object.create:function(Xt){function ln(){}return ln.prototype=Xt,new ln},Xr;if(typeof Object.setPrototypeOf=="function")Xr=Object.setPrototypeOf;else{var Hr;e:{var Wo={a:!0},Uo={};try{Uo.__proto__=Wo,Hr=Uo.a;break e}catch{}Hr=!1}Xr=Hr?function(Xt,ln){if(Xt.__proto__=ln,Xt.__proto__!==ln)throw new TypeError(Xt+" is not extensible");return Xt}:null}var $r=Xr;function qr(Xt,ln){if(Xt.prototype=wr(ln.prototype),Xt.prototype.constructor=Xt,$r)$r(Xt,ln);else for(var hn in ln)if(hn!="prototype")if(Object.defineProperties){var _n=Object.getOwnPropertyDescriptor(ln,hn);_n&&Object.defineProperty(Xt,hn,_n)}else Xt[hn]=ln[hn];Xt.ea=ln.prototype}function ns(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function qo(Xt){if(Xt.l)throw new TypeError("Generator is already running");Xt.l=!0}ns.prototype.o=function(Xt){this.h=Xt};function Is(Xt,ln){Xt.j={U:ln,V:!0},Xt.g=Xt.m||Xt.s}ns.prototype.return=function(Xt){this.j={return:Xt},this.g=this.s};function Er(Xt,ln,hn){return Xt.g=hn,{value:ln}}function ju(Xt){this.g=new ns,this.h=Xt}function ku(Xt,ln){qo(Xt.g);var hn=Xt.g.i;return hn?Tl(Xt,"return"in hn?hn.return:function(_n){return{value:_n,done:!0}},ln,Xt.g.return):(Xt.g.return(ln),Cs(Xt))}function Tl(Xt,ln,hn,_n){try{var Sr=ln.call(Xt.g.i,hn);if(!(Sr instanceof Object))throw new TypeError("Iterator result "+Sr+" is not an object");if(!Sr.done)return Xt.g.l=!1,Sr;var Ur=Sr.value}catch(br){return Xt.g.i=null,Is(Xt.g,br),Cs(Xt)}return Xt.g.i=null,_n.call(Xt.g,Ur),Cs(Xt)}function Cs(Xt){for(;Xt.g.g;)try{var ln=Xt.h(Xt.g);if(ln)return Xt.g.l=!1,{value:ln.value,done:!1}}catch(hn){Xt.g.h=void 0,Is(Xt.g,hn)}if(Xt.g.l=!1,Xt.g.j){if(ln=Xt.g.j,Xt.g.j=null,ln.V)throw ln.U;return{value:ln.return,done:!0}}return{value:void 0,done:!0}}function Jp(Xt){this.next=function(ln){return qo(Xt.g),Xt.g.i?ln=Tl(Xt,Xt.g.i.next,ln,Xt.g.o):(Xt.g.o(ln),ln=Cs(Xt)),ln},this.throw=function(ln){return qo(Xt.g),Xt.g.i?ln=Tl(Xt,Xt.g.i.throw,ln,Xt.g.o):(Is(Xt.g,ln),ln=Cs(Xt)),ln},this.return=function(ln){return ku(Xt,ln)},this[Symbol.iterator]=function(){return this}}function Fs(Xt,ln){return ln=new Jp(new ju(ln)),$r&&Xt.prototype&&$r(ln,Xt.prototype),ln}function po(Xt,ln){Xt instanceof String&&(Xt+="");var hn=0,_n=!1,Sr={next:function(){if(!_n&&hn<Xt.length){var Ur=hn++;return{value:ln(Ur,Xt[Ur]),done:!1}}return _n=!0,{done:!0,value:void 0}}};return Sr[Symbol.iterator]=function(){return Sr},Sr}var Xu=typeof Object.assign=="function"?Object.assign:function(Xt,ln){for(var hn=1;hn<arguments.length;hn++){var _n=arguments[hn];if(_n)for(var Sr in _n)Object.prototype.hasOwnProperty.call(_n,Sr)&&(Xt[Sr]=_n[Sr])}return Xt};Rn("Object.assign",function(Xt){return Xt||Xu}),Rn("Promise",function(Xt){function ln(br){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Mr=this.j();try{br(Mr.resolve,Mr.reject)}catch(io){Mr.reject(io)}}function hn(){this.g=null}function _n(br){return br instanceof ln?br:new ln(function(Mr){Mr(br)})}if(Xt)return Xt;hn.prototype.h=function(br){if(this.g==null){this.g=[];var Mr=this;this.i(function(){Mr.l()})}this.g.push(br)};var Sr=zt.setTimeout;hn.prototype.i=function(br){Sr(br,0)},hn.prototype.l=function(){for(;this.g&&this.g.length;){var br=this.g;this.g=[];for(var Mr=0;Mr<br.length;++Mr){var io=br[Mr];br[Mr]=null;try{io()}catch(Vo){this.j(Vo)}}}this.g=null},hn.prototype.j=function(br){this.i(function(){throw br})},ln.prototype.j=function(){function br(Vo){return function(os){io||(io=!0,Vo.call(Mr,os))}}var Mr=this,io=!1;return{resolve:br(this.C),reject:br(this.l)}},ln.prototype.C=function(br){if(br===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(br instanceof ln)this.F(br);else{e:switch(typeof br){case"object":var Mr=br!=null;break e;case"function":Mr=!0;break e;default:Mr=!1}Mr?this.u(br):this.m(br)}},ln.prototype.u=function(br){var Mr=void 0;try{Mr=br.then}catch(io){this.l(io);return}typeof Mr=="function"?this.G(Mr,br):this.m(br)},ln.prototype.l=function(br){this.s(2,br)},ln.prototype.m=function(br){this.s(1,br)},ln.prototype.s=function(br,Mr){if(this.h!=0)throw Error("Cannot settle("+br+", "+Mr+"): Promise already settled in state"+this.h);this.h=br,this.i=Mr,this.h===2&&this.D(),this.A()},ln.prototype.D=function(){var br=this;Sr(function(){if(br.B()){var Mr=zt.console;typeof Mr<"u"&&Mr.error(br.i)}},1)},ln.prototype.B=function(){if(this.o)return!1;var br=zt.CustomEvent,Mr=zt.Event,io=zt.dispatchEvent;return typeof io>"u"?!0:(typeof br=="function"?br=new br("unhandledrejection",{cancelable:!0}):typeof Mr=="function"?br=new Mr("unhandledrejection",{cancelable:!0}):(br=zt.document.createEvent("CustomEvent"),br.initCustomEvent("unhandledrejection",!1,!0,br)),br.promise=this,br.reason=this.i,io(br))},ln.prototype.A=function(){if(this.g!=null){for(var br=0;br<this.g.length;++br)Ur.h(this.g[br]);this.g=null}};var Ur=new hn;return ln.prototype.F=function(br){var Mr=this.j();br.J(Mr.resolve,Mr.reject)},ln.prototype.G=function(br,Mr){var io=this.j();try{br.call(Mr,io.resolve,io.reject)}catch(Vo){io.reject(Vo)}},ln.prototype.then=function(br,Mr){function io(Ts,es){return typeof Ts=="function"?function(Fo){try{Vo(Ts(Fo))}catch(rs){os(rs)}}:es}var Vo,os,Qo=new ln(function(Ts,es){Vo=Ts,os=es});return this.J(io(br,Vo),io(Mr,os)),Qo},ln.prototype.catch=function(br){return this.then(void 0,br)},ln.prototype.J=function(br,Mr){function io(){switch(Vo.h){case 1:br(Vo.i);break;case 2:Mr(Vo.i);break;default:throw Error("Unexpected state: "+Vo.h)}}var Vo=this;this.g==null?Ur.h(io):this.g.push(io),this.o=!0},ln.resolve=_n,ln.reject=function(br){return new ln(function(Mr,io){io(br)})},ln.race=function(br){return new ln(function(Mr,io){for(var Vo=Ln(br),os=Vo.next();!os.done;os=Vo.next())_n(os.value).J(Mr,io)})},ln.all=function(br){var Mr=Ln(br),io=Mr.next();return io.done?_n([]):new ln(function(Vo,os){function Qo(Fo){return function(rs){Ts[Fo]=rs,es--,es==0&&Vo(Ts)}}var Ts=[],es=0;do Ts.push(void 0),es++,_n(io.value).J(Qo(Ts.length-1),os),io=Mr.next();while(!io.done)})},ln}),Rn("Object.is",function(Xt){return Xt||function(ln,hn){return ln===hn?ln!==0||1/ln===1/hn:ln!==ln&&hn!==hn}}),Rn("Array.prototype.includes",function(Xt){return Xt||function(ln,hn){var _n=this;_n instanceof String&&(_n=String(_n));var Sr=_n.length;for(hn=hn||0,0>hn&&(hn=Math.max(hn+Sr,0));hn<Sr;hn++){var Ur=_n[hn];if(Ur===ln||Object.is(Ur,ln))return!0}return!1}}),Rn("String.prototype.includes",function(Xt){return Xt||function(ln,hn){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(ln instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(ln,hn||0)!==-1}}),Rn("Array.prototype.keys",function(Xt){return Xt||function(){return po(this,function(ln){return ln})}});var Qp=this||self;function xl(Xt,ln){Xt=Xt.split(".");var hn=Qp;Xt[0]in hn||typeof hn.execScript>"u"||hn.execScript("var "+Xt[0]);for(var _n;Xt.length&&(_n=Xt.shift());)Xt.length||ln===void 0?hn[_n]&&hn[_n]!==Object.prototype[_n]?hn=hn[_n]:hn=hn[_n]={}:hn[_n]=ln}function Jo(Xt,ln){return ln=String.fromCharCode.apply(null,ln),Xt==null?ln:Xt+ln}var Zl,Tu=typeof TextDecoder<"u",ep,Rp=typeof TextEncoder<"u";function cp(Xt){if(Rp)Xt=(ep||(ep=new TextEncoder)).encode(Xt);else{var ln=void 0;ln=ln===void 0?!1:ln;for(var hn=0,_n=new Uint8Array(3*Xt.length),Sr=0;Sr<Xt.length;Sr++){var Ur=Xt.charCodeAt(Sr);if(128>Ur)_n[hn++]=Ur;else{if(2048>Ur)_n[hn++]=Ur>>6|192;else{if(55296<=Ur&&57343>=Ur){if(56319>=Ur&&Sr<Xt.length){var br=Xt.charCodeAt(++Sr);if(56320<=br&&57343>=br){Ur=1024*(Ur-55296)+br-56320+65536,_n[hn++]=Ur>>18|240,_n[hn++]=Ur>>12&63|128,_n[hn++]=Ur>>6&63|128,_n[hn++]=Ur&63|128;continue}else Sr--}if(ln)throw Error("Found an unpaired surrogate");Ur=65533}_n[hn++]=Ur>>12|224,_n[hn++]=Ur>>6&63|128}_n[hn++]=Ur&63|128}}Xt=_n.subarray(0,hn)}return Xt}var Ap={},Lu=null;function Uu(Xt,ln){ln===void 0&&(ln=0),ru(),ln=Ap[ln];for(var hn=Array(Math.floor(Xt.length/3)),_n=ln[64]||"",Sr=0,Ur=0;Sr<Xt.length-2;Sr+=3){var br=Xt[Sr],Mr=Xt[Sr+1],io=Xt[Sr+2],Vo=ln[br>>2];br=ln[(br&3)<<4|Mr>>4],Mr=ln[(Mr&15)<<2|io>>6],io=ln[io&63],hn[Ur++]=Vo+br+Mr+io}switch(Vo=0,io=_n,Xt.length-Sr){case 2:Vo=Xt[Sr+1],io=ln[(Vo&15)<<2]||_n;case 1:Xt=Xt[Sr],hn[Ur]=ln[Xt>>2]+ln[(Xt&3)<<4|Vo>>4]+io+_n}return hn.join("")}function Pp(Xt){var ln=Xt.length,hn=3*ln/4;hn%3?hn=Math.floor(hn):"=.".indexOf(Xt[ln-1])!=-1&&(hn="=.".indexOf(Xt[ln-2])!=-1?hn-2:hn-1);var _n=new Uint8Array(hn),Sr=0;return Ip(Xt,function(Ur){_n[Sr++]=Ur}),_n.subarray(0,Sr)}function Ip(Xt,ln){function hn(io){for(;_n<Xt.length;){var Vo=Xt.charAt(_n++),os=Lu[Vo];if(os!=null)return os;if(!/^[\s\xa0]*$/.test(Vo))throw Error("Unknown base64 encoding at char: "+Vo)}return io}ru();for(var _n=0;;){var Sr=hn(-1),Ur=hn(0),br=hn(64),Mr=hn(64);if(Mr===64&&Sr===-1)break;ln(Sr<<2|Ur>>4),br!=64&&(ln(Ur<<4&240|br>>2),Mr!=64&&ln(br<<6&192|Mr))}}function ru(){if(!Lu){Lu={};for(var Xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ln=["+/=","+/","-_=","-_.","-_"],hn=0;5>hn;hn++){var _n=Xt.concat(ln[hn].split(""));Ap[hn]=_n;for(var Sr=0;Sr<_n.length;Sr++){var Ur=_n[Sr];Lu[Ur]===void 0&&(Lu[Ur]=Sr)}}}}var tu=typeof Uint8Array.prototype.slice=="function",lp;function tp(Xt,ln,hn){return ln===hn?lp||(lp=new Uint8Array(0)):tu?Xt.slice(ln,hn):new Uint8Array(Xt.subarray(ln,hn))}var Xs=0,Vl=0;function iu(Xt,ln){ln=ln===void 0?{}:ln,ln=ln.v===void 0?!1:ln.v,this.h=null,this.g=this.i=this.j=0,this.l=!1,this.v=ln,Xt&&Os(this,Xt)}function Os(Xt,ln){ln=ln.constructor===Uint8Array?ln:ln.constructor===ArrayBuffer?new Uint8Array(ln):ln.constructor===Array?new Uint8Array(ln):ln.constructor===String?Pp(ln):ln instanceof Uint8Array?new Uint8Array(ln.buffer,ln.byteOffset,ln.byteLength):new Uint8Array(0),Xt.h=ln,Xt.j=0,Xt.i=Xt.h.length,Xt.g=Xt.j}iu.prototype.reset=function(){this.g=this.j};function El(Xt){var ln=Xt.h,hn=ln[Xt.g],_n=hn&127;return 128>hn?(Xt.g+=1,_n):(hn=ln[Xt.g+1],_n|=(hn&127)<<7,128>hn?(Xt.g+=2,_n):(hn=ln[Xt.g+2],_n|=(hn&127)<<14,128>hn?(Xt.g+=3,_n):(hn=ln[Xt.g+3],_n|=(hn&127)<<21,128>hn?(Xt.g+=4,_n):(hn=ln[Xt.g+4],_n|=(hn&15)<<28,128>hn?(Xt.g+=5,_n>>>0):(Xt.g+=5,128<=ln[Xt.g++]&&128<=ln[Xt.g++]&&128<=ln[Xt.g++]&&128<=ln[Xt.g++]&&Xt.g++,_n)))))}function xu(Xt){var ln=Xt.h[Xt.g],hn=Xt.h[Xt.g+1],_n=Xt.h[Xt.g+2],Sr=Xt.h[Xt.g+3];return Xt.g+=4,hn=(ln<<0|hn<<8|_n<<16|Sr<<24)>>>0,Xt=2*(hn>>31)+1,ln=hn>>>23&255,hn&=8388607,ln==255?hn?NaN:1/0*Xt:ln==0?Xt*Math.pow(2,-149)*hn:Xt*Math.pow(2,ln-150)*(hn+Math.pow(2,23))}var Kl=[];function bs(){this.g=new Uint8Array(64),this.h=0}bs.prototype.push=function(Xt){if(!(this.h+1<this.g.length)){var ln=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(ln)}this.g[this.h++]=Xt},bs.prototype.length=function(){return this.h},bs.prototype.end=function(){var Xt=this.g,ln=this.h;return this.h=0,tp(Xt,0,ln)};function na(Xt,ln){for(;127<ln;)Xt.push(ln&127|128),ln>>>=7;Xt.push(ln)}function Gl(Xt){var ln={},hn=ln.N===void 0?!1:ln.N;this.o={v:ln.v===void 0?!1:ln.v},this.N=hn,ln=this.o,Kl.length?(hn=Kl.pop(),ln&&(hn.v=ln.v),Xt&&Os(hn,Xt),Xt=hn):Xt=new iu(Xt,ln),this.g=Xt,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}Gl.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function as(Xt){var ln=Xt.g;if((ln=ln.g==ln.i)||(ln=Xt.j)||(ln=Xt.g,ln=ln.l||0>ln.g||ln.g>ln.i),ln)return!1;Xt.m=Xt.g.g,ln=El(Xt.g);var hn=ln&7;return hn!=0&&hn!=5&&hn!=1&&hn!=2&&hn!=3&&hn!=4?(Xt.j=!0,!1):(Xt.i=ln,Xt.l=ln>>>3,Xt.h=hn,!0)}function Ol(Xt){switch(Xt.h){case 0:if(Xt.h!=0)Ol(Xt);else{for(Xt=Xt.g;Xt.h[Xt.g]&128;)Xt.g++;Xt.g++}break;case 1:Xt.h!=1?Ol(Xt):(Xt=Xt.g,Xt.g+=8);break;case 2:if(Xt.h!=2)Ol(Xt);else{var ln=El(Xt.g);Xt=Xt.g,Xt.g+=ln}break;case 5:Xt.h!=5?Ol(Xt):(Xt=Xt.g,Xt.g+=4);break;case 3:ln=Xt.l;do{if(!as(Xt)){Xt.j=!0;break}if(Xt.h==4){Xt.l!=ln&&(Xt.j=!0);break}Ol(Xt)}while(1);break;default:Xt.j=!0}}function ms(Xt,ln,hn){var _n=Xt.g.i,Sr=El(Xt.g);return Sr=Xt.g.g+Sr,Xt.g.i=Sr,hn(ln,Xt),Xt.g.g=Sr,Xt.g.i=_n,ln}function Js(Xt){var ln=El(Xt.g);Xt=Xt.g;var hn=Xt.g;Xt.g+=ln,Xt=Xt.h;var _n;if(Tu)(_n=Zl)||(_n=Zl=new TextDecoder("utf-8",{fatal:!1})),_n=_n.decode(Xt.subarray(hn,hn+ln));else{ln=hn+ln;for(var Sr=[],Ur=null,br,Mr,io;hn<ln;)br=Xt[hn++],128>br?Sr.push(br):224>br?hn>=ln?Sr.push(65533):(Mr=Xt[hn++],194>br||(Mr&192)!==128?(hn--,Sr.push(65533)):Sr.push((br&31)<<6|Mr&63)):240>br?hn>=ln-1?Sr.push(65533):(Mr=Xt[hn++],(Mr&192)!==128||br===224&&160>Mr||br===237&&160<=Mr||((_n=Xt[hn++])&192)!==128?(hn--,Sr.push(65533)):Sr.push((br&15)<<12|(Mr&63)<<6|_n&63)):244>=br?hn>=ln-2?Sr.push(65533):(Mr=Xt[hn++],(Mr&192)!==128||(br<<28)+(Mr-144)>>30||((_n=Xt[hn++])&192)!==128||((io=Xt[hn++])&192)!==128?(hn--,Sr.push(65533)):(br=(br&7)<<18|(Mr&63)<<12|(_n&63)<<6|io&63,br-=65536,Sr.push((br>>10&1023)+55296,(br&1023)+56320))):Sr.push(65533),8192<=Sr.length&&(Ur=Jo(Ur,Sr),Sr.length=0);_n=Jo(Ur,Sr)}return _n}function Nl(){this.h=[],this.i=0,this.g=new bs}function du(Xt,ln){ln.length!==0&&(Xt.h.push(ln),Xt.i+=ln.length)}function $a(Xt){var ln=Xt.i+Xt.g.length();if(ln===0)return new Uint8Array(0);ln=new Uint8Array(ln);for(var hn=Xt.h,_n=hn.length,Sr=0,Ur=0;Ur<_n;Ur++){var br=hn[Ur];br.length!==0&&(ln.set(br,Sr),Sr+=br.length)}return hn=Xt.g,_n=hn.h,_n!==0&&(ln.set(hn.g.subarray(0,_n),Sr),hn.h=0),Xt.h=[ln],ln}function gs(Xt,ln,hn){if(hn!=null){na(Xt.g,8*ln+5),Xt=Xt.g;var _n=hn;_n=(hn=0>_n?1:0)?-_n:_n,_n===0?0<1/_n?Xs=Vl=0:(Vl=0,Xs=2147483648):isNaN(_n)?(Vl=0,Xs=2147483647):34028234663852886e22<_n?(Vl=0,Xs=(hn<<31|2139095040)>>>0):11754943508222875e-54>_n?(_n=Math.round(_n/Math.pow(2,-149)),Vl=0,Xs=(hn<<31|_n)>>>0):(ln=Math.floor(Math.log(_n)/Math.LN2),_n*=Math.pow(2,-ln),_n=Math.round(8388608*_n)&8388607,Vl=0,Xs=(hn<<31|ln+127<<23|_n)>>>0),hn=Xs,Xt.push(hn>>>0&255),Xt.push(hn>>>8&255),Xt.push(hn>>>16&255),Xt.push(hn>>>24&255)}}var nu=typeof Uint8Array=="function";function ou(Xt,ln,hn){if(Xt!=null)return typeof Xt=="object"?nu&&Xt instanceof Uint8Array?hn(Xt):Al(Xt,ln,hn):ln(Xt)}function Al(Xt,ln,hn){if(Array.isArray(Xt)){for(var _n=Array(Xt.length),Sr=0;Sr<Xt.length;Sr++)_n[Sr]=ou(Xt[Sr],ln,hn);return Array.isArray(Xt)&&Xt.W&&su(_n),_n}_n={};for(Sr in Xt)_n[Sr]=ou(Xt[Sr],ln,hn);return _n}function np(Xt){return typeof Xt=="number"?isFinite(Xt)?Xt:String(Xt):Xt}var Ru={W:{value:!0,configurable:!0}};function su(Xt){return Array.isArray(Xt)&&!Object.isFrozen(Xt)&&Object.defineProperties(Xt,Ru),Xt}var Iu;function ga(Xt,ln,hn){var _n=Iu;Iu=null,Xt||(Xt=_n),_n=this.constructor.ca,Xt||(Xt=_n?[_n]:[]),this.j=_n?0:-1,this.i=null,this.g=Xt;e:{if(_n=this.g.length,Xt=_n-1,_n&&(_n=this.g[Xt],_n!==null&&typeof _n=="object"&&_n.constructor===Object)){this.l=Xt-this.j,this.h=_n;break e}ln!==void 0&&-1<ln?(this.l=Math.max(ln,Xt+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(hn)for(ln=0;ln<hn.length;ln++)Xt=hn[ln],Xt<this.l?(Xt+=this.j,(_n=this.g[Xt])?su(_n):this.g[Xt]=Pl):(ba(this),(_n=this.h[Xt])?su(_n):this.h[Xt]=Pl)}var Pl=Object.freeze(su([]));function ba(Xt){var ln=Xt.l+Xt.j;Xt.g[ln]||(Xt.h=Xt.g[ln]={})}function As(Xt,ln,hn){return ln===-1?null:hn!==void 0&&hn||ln>=Xt.l?Xt.h?Xt.h[ln]:void 0:Xt.g[ln+Xt.j]}function au(Xt){var ln=ln===void 0?!1:ln,hn=As(Xt,1,ln);return hn==null&&(hn=Pl),hn===Pl&&(hn=su([]),vs(Xt,1,hn,ln)),hn}function xs(Xt,ln,hn){return Xt=As(Xt,ln),Xt=Xt==null?Xt:+Xt,Xt??(hn===void 0?0:hn)}function vs(Xt,ln,hn,_n){_n!==void 0&&_n||ln>=Xt.l?(ba(Xt),Xt.h[ln]=hn):Xt.g[ln+Xt.j]=hn}function Vu(Xt,ln){Xt.i||(Xt.i={});var hn=Xt.i[1];if(!hn){var _n=au(Xt);hn=[];for(var Sr=0;Sr<_n.length;Sr++)hn[Sr]=new ln(_n[Sr]);Xt.i[1]=hn}return hn}function Us(Xt,ln,hn,_n){var Sr=Vu(Xt,hn);ln=ln||new hn,Xt=au(Xt),_n!=null?(Sr.splice(_n,0,ln),Xt.splice(_n,0,Ko(ln))):(Sr.push(ln),Xt.push(Ko(ln)))}ga.prototype.toJSON=function(){var Xt=Ko(this);return Al(Xt,np,Uu)};function Ko(Xt,ln){if(Xt.i)for(var hn in Xt.i){var _n=Xt.i[hn];if(Array.isArray(_n))for(var Sr=0;Sr<_n.length;Sr++)_n[Sr]&&Ko(_n[Sr]);else _n&&Ko(_n)}return Xt.g}ga.prototype.toString=function(){return Ko(this).toString()};function Ao(Xt,ln){return Xt=As(Xt,ln),Xt??0}function ks(Xt,ln){return Xt=As(Xt,ln),Xt??""}function Ml(Xt,ln){if(Xt=Xt.m){du(ln,ln.g.end());for(var hn=0;hn<Xt.length;hn++)du(ln,Xt[hn])}}function Rs(Xt,ln){if(ln.h==4)return!1;var hn=ln.m;return Ol(ln),ln.N||(ln=tp(ln.g.h,hn,ln.g.g),(hn=Xt.m)?hn.push(ln):Xt.m=[ln]),!0}function Ls(Xt,ln){var hn=void 0;return new(hn||(hn=nt))(function(_n,Sr){function Ur(io){try{Mr(ln.next(io))}catch(Vo){Sr(Vo)}}function br(io){try{Mr(ln.throw(io))}catch(Vo){Sr(Vo)}}function Mr(io){io.done?_n(io.value):new hn(function(Vo){Vo(io.value)}).then(Ur,br)}Mr((ln=ln.apply(Xt,void 0)).next())})}function Vr(Xt){ga.call(this,Xt)}qr(Vr,ga);function Gr(Xt,ln){for(;as(ln);)switch(ln.i){case 8:var hn=El(ln.g);vs(Xt,1,hn);break;case 21:hn=xu(ln.g),vs(Xt,2,hn);break;case 26:hn=Js(ln),vs(Xt,3,hn);break;case 34:hn=Js(ln),vs(Xt,4,hn);break;default:if(!Rs(Xt,ln))return Xt}return Xt}function Kr(Xt){ga.call(this,Xt,-1,ys)}qr(Kr,ga),Kr.prototype.addClassification=function(Xt,ln){Us(this,Xt,Vr,ln)};var ys=[1];function Gs(Xt){ga.call(this,Xt)}qr(Gs,ga);function Ps(Xt,ln){for(;as(ln);)switch(ln.i){case 13:var hn=xu(ln.g);vs(Xt,1,hn);break;case 21:hn=xu(ln.g),vs(Xt,2,hn);break;case 29:hn=xu(ln.g),vs(Xt,3,hn);break;case 37:hn=xu(ln.g),vs(Xt,4,hn);break;case 45:hn=xu(ln.g),vs(Xt,5,hn);break;default:if(!Rs(Xt,ln))return Xt}return Xt}function Mo(Xt){ga.call(this,Xt,-1,Bs)}qr(Mo,ga);var Bs=[1];function Fl(Xt){ga.call(this,Xt)}qr(Fl,ga);function fu(Xt,ln,hn){if(hn=Xt.createShader(hn===0?Xt.VERTEX_SHADER:Xt.FRAGMENT_SHADER),Xt.shaderSource(hn,ln),Xt.compileShader(hn),!Xt.getShaderParameter(hn,Xt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+Xt.getShaderInfoLog(hn));return hn}function pu(Xt){return Vu(Xt,Vr).map(function(ln){return{index:Ao(ln,1),Y:xs(ln,2),label:As(ln,3)!=null?ks(ln,3):void 0,displayName:As(ln,4)!=null?ks(ln,4):void 0}})}function Zu(Xt){return{x:xs(Xt,1),y:xs(Xt,2),z:xs(Xt,3),visibility:As(Xt,4)!=null?xs(Xt,4):void 0}}function Bu(Xt,ln){this.h=Xt,this.g=ln,this.l=0}function Wl(Xt,ln,hn){return hu(Xt,ln),typeof Xt.g.canvas.transferToImageBitmap=="function"?nt.resolve(Xt.g.canvas.transferToImageBitmap()):hn?nt.resolve(Xt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(Xt.g.canvas):(Xt.i===void 0&&(Xt.i=document.createElement("canvas")),new nt(function(_n){Xt.i.height=Xt.g.canvas.height,Xt.i.width=Xt.g.canvas.width,Xt.i.getContext("2d",{}).drawImage(Xt.g.canvas,0,0,Xt.g.canvas.width,Xt.g.canvas.height),_n(Xt.i)}))}function hu(Xt,ln){var hn=Xt.g;if(Xt.m===void 0){var _n=fu(hn,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Sr=fu(hn,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Ur=hn.createProgram();if(hn.attachShader(Ur,_n),hn.attachShader(Ur,Sr),hn.linkProgram(Ur),!hn.getProgramParameter(Ur,hn.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+hn.getProgramInfoLog(Ur));_n=Xt.m=Ur,hn.useProgram(_n),Sr=hn.getUniformLocation(_n,"sampler0"),Xt.j={I:hn.getAttribLocation(_n,"aVertex"),H:hn.getAttribLocation(_n,"aTex"),da:Sr},Xt.s=hn.createBuffer(),hn.bindBuffer(hn.ARRAY_BUFFER,Xt.s),hn.enableVertexAttribArray(Xt.j.I),hn.vertexAttribPointer(Xt.j.I,2,hn.FLOAT,!1,0,0),hn.bufferData(hn.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),hn.STATIC_DRAW),hn.bindBuffer(hn.ARRAY_BUFFER,null),Xt.o=hn.createBuffer(),hn.bindBuffer(hn.ARRAY_BUFFER,Xt.o),hn.enableVertexAttribArray(Xt.j.H),hn.vertexAttribPointer(Xt.j.H,2,hn.FLOAT,!1,0,0),hn.bufferData(hn.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),hn.STATIC_DRAW),hn.bindBuffer(hn.ARRAY_BUFFER,null),hn.uniform1i(Sr,0)}_n=Xt.j,hn.useProgram(Xt.m),hn.canvas.width=ln.width,hn.canvas.height=ln.height,hn.viewport(0,0,ln.width,ln.height),hn.activeTexture(hn.TEXTURE0),Xt.h.bindTexture2d(ln.glName),hn.enableVertexAttribArray(_n.I),hn.bindBuffer(hn.ARRAY_BUFFER,Xt.s),hn.vertexAttribPointer(_n.I,2,hn.FLOAT,!1,0,0),hn.enableVertexAttribArray(_n.H),hn.bindBuffer(hn.ARRAY_BUFFER,Xt.o),hn.vertexAttribPointer(_n.H,2,hn.FLOAT,!1,0,0),hn.bindFramebuffer(hn.DRAW_FRAMEBUFFER?hn.DRAW_FRAMEBUFFER:hn.FRAMEBUFFER,null),hn.clearColor(0,0,0,0),hn.clear(hn.COLOR_BUFFER_BIT),hn.colorMask(!0,!0,!0,!0),hn.drawArrays(hn.TRIANGLE_FAN,0,4),hn.disableVertexAttribArray(_n.I),hn.disableVertexAttribArray(_n.H),hn.bindBuffer(hn.ARRAY_BUFFER,null),Xt.h.bindTexture2d(0)}function _p(Xt){this.g=Xt}var mu=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Dl(Xt,ln){return ln+Xt}function Ju(Xt,ln){window[Xt]=ln}function up(Xt){var ln=document.createElement("script");return ln.setAttribute("src",Xt),ln.setAttribute("crossorigin","anonymous"),new nt(function(hn){ln.addEventListener("load",function(){hn()},!1),ln.addEventListener("error",function(){hn()},!1),document.body.appendChild(ln)})}function Jl(){return Ls(this,function Xt(){return Fs(Xt,function(ln){switch(ln.g){case 1:return ln.m=2,Er(ln,WebAssembly.instantiate(mu),4);case 4:ln.g=3,ln.m=0;break;case 2:return ln.m=0,ln.j=null,ln.return(!1);case 3:return ln.return(!0)}})})}function Mp(Xt){if(this.g=Xt,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=Xt&&Xt.locateFile||Dl,typeof window=="object")var ln=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")ln=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=ln,Xt.options){ln=Ln(Object.keys(Xt.options));for(var hn=ln.next();!hn.done;hn=ln.next()){hn=hn.value;var _n=Xt.options[hn].default;_n!==void 0&&(this.j[hn]=typeof _n=="function"?_n():_n)}}}Et=Mp.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function gu(Xt,ln){return Xt.g.files===void 0?[]:typeof Xt.g.files=="function"?Xt.g.files(ln):Xt.g.files}function Qu(Xt){return Ls(Xt,function ln(){var hn=this,_n,Sr,Ur,br,Mr,io,Vo,os,Qo,Ts,es;return Fs(ln,function(Fo){switch(Fo.g){case 1:return _n=hn,hn.R?(Sr=gu(hn,hn.j),Er(Fo,Jl(),2)):Fo.return();case 2:if(Ur=Fo.h,typeof window=="object")return Ju("createMediapipeSolutionsWasm",{locateFile:hn.locateFile}),Ju("createMediapipeSolutionsPackedAssets",{locateFile:hn.locateFile}),io=Sr.filter(function(rs){return rs.data!==void 0}),Vo=Sr.filter(function(rs){return rs.data===void 0}),os=nt.all(io.map(function(rs){var Ss=wu(_n,rs.url);if(rs.path!==void 0){var Ms=rs.path;Ss=Ss.then(function(Hs){return _n.overrideFile(Ms,Hs),nt.resolve(Hs)})}return Ss})),Qo=nt.all(Vo.map(function(rs){return rs.simd===void 0||rs.simd&&Ur||!rs.simd&&!Ur?up(_n.locateFile(rs.url,_n.S)):nt.resolve()})).then(function(){return Ls(_n,function rs(){var Ss,Ms,Hs=this;return Fs(rs,function(Qs){if(Qs.g==1)return Ss=window.createMediapipeSolutionsWasm,Ms=window.createMediapipeSolutionsPackedAssets,Er(Qs,Ss(Ms),2);Hs.h=Qs.h,Qs.g=0})})}),Ts=function(){return Ls(_n,function rs(){var Ss=this;return Fs(rs,function(Ms){return Ss.g.graph&&Ss.g.graph.url?Ms=Er(Ms,wu(Ss,Ss.g.graph.url),0):(Ms.g=0,Ms=void 0),Ms})})}(),Er(Fo,nt.all([Qo,os,Ts]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return br=Sr.filter(function(rs){return rs.simd===void 0||rs.simd&&Ur||!rs.simd&&!Ur}).map(function(rs){return _n.locateFile(rs.url,_n.S)}),importScripts.apply(null,Un(br)),Er(Fo,createMediapipeSolutionsWasm(Module),6);case 6:hn.h=Fo.h,hn.l=new OffscreenCanvas(1,1),hn.h.canvas=hn.l,Mr=hn.h.GL.createContext(hn.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),hn.h.GL.makeContextCurrent(Mr),Fo.g=4;break;case 7:if(hn.l=document.createElement("canvas"),es=hn.l.getContext("webgl2",{}),!es&&(es=hn.l.getContext("webgl",{}),!es))return alert("Failed to create WebGL canvas context when passing video frame."),Fo.return();hn.D=es,hn.h.canvas=hn.l,hn.h.createContext(hn.l,!0,!0,{});case 4:hn.i=new hn.h.SolutionWasm,hn.R=!1,Fo.g=0}})})}function vp(Xt){return Ls(Xt,function ln(){var hn=this,_n,Sr,Ur,br,Mr,io,Vo,os;return Fs(ln,function(Qo){if(Qo.g==1){if(hn.g.graph&&hn.g.graph.url&&hn.P===hn.g.graph.url)return Qo.return();if(hn.o=!0,!hn.g.graph||!hn.g.graph.url){Qo.g=2;return}return hn.P=hn.g.graph.url,Er(Qo,wu(hn,hn.g.graph.url),3)}for(Qo.g!=2&&(_n=Qo.h,hn.i.loadGraph(_n)),Sr=Ln(Object.keys(hn.B)),Ur=Sr.next();!Ur.done;Ur=Sr.next())br=Ur.value,hn.i.overrideFile(br,hn.B[br]);if(hn.B={},hn.g.listeners)for(Mr=Ln(hn.g.listeners),io=Mr.next();!io.done;io=Mr.next())Vo=io.value,cm(hn,Vo);os=hn.j,hn.j={},hn.setOptions(os),Qo.g=0})})}Et.reset=function(){return Ls(this,function Xt(){var ln=this;return Fs(Xt,function(hn){ln.i&&(ln.i.reset(),ln.m={},ln.s={}),hn.g=0})})},Et.setOptions=function(Xt,ln){var hn=this;if(ln=ln||this.g.options){for(var _n=[],Sr=[],Ur={},br=Ln(Object.keys(Xt)),Mr=br.next();!Mr.done;Ur={K:Ur.K,L:Ur.L},Mr=br.next()){var io=Mr.value;io in this.j&&this.j[io]===Xt[io]||(this.j[io]=Xt[io],Mr=ln[io],Mr!==void 0&&(Mr.onChange&&(Ur.K=Mr.onChange,Ur.L=Xt[io],_n.push(function(Vo){return function(){return Ls(hn,function os(){var Qo,Ts=this;return Fs(os,function(es){if(es.g==1)return Er(es,Vo.K(Vo.L),2);Qo=es.h,Qo===!0&&(Ts.o=!0),es.g=0})})}}(Ur))),Mr.graphOptionXref&&(io={valueNumber:Mr.type===1?Xt[io]:0,valueBoolean:Mr.type===0?Xt[io]:!1,valueString:Mr.type===2?Xt[io]:""},Mr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Mr.graphOptionXref),io),Sr.push(Mr))))}(_n.length!==0||Sr.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(Sr),this.u=(this.u===void 0?[]:this.u).concat(_n))}};function Bp(Xt){return Ls(Xt,function ln(){var hn=this,_n,Sr,Ur,br,Mr,io,Vo;return Fs(ln,function(os){switch(os.g){case 1:if(!hn.o)return os.return();if(!hn.u){os.g=2;break}_n=Ln(hn.u),Sr=_n.next();case 3:if(Sr.done){os.g=5;break}return Ur=Sr.value,Er(os,Ur(),4);case 4:Sr=_n.next(),os.g=3;break;case 5:hn.u=void 0;case 2:if(hn.A){for(br=new hn.h.GraphOptionChangeRequestList,Mr=Ln(hn.A),io=Mr.next();!io.done;io=Mr.next())Vo=io.value,br.push_back(Vo);hn.i.changeOptions(br),br.delete(),hn.A=void 0}hn.o=!1,os.g=0}})})}Et.initialize=function(){return Ls(this,function Xt(){var ln=this;return Fs(Xt,function(hn){return hn.g==1?Er(hn,Qu(ln),2):hn.g!=3?Er(hn,vp(ln),3):Er(hn,Bp(ln),0)})})};function wu(Xt,ln){return Ls(Xt,function hn(){var _n=this,Sr,Ur;return Fs(hn,function(br){return ln in _n.F?br.return(_n.F[ln]):(Sr=_n.locateFile(ln,""),Ur=fetch(Sr).then(function(Mr){return Mr.arrayBuffer()}),_n.F[ln]=Ur,br.return(Ur))})})}Et.overrideFile=function(Xt,ln){this.i?this.i.overrideFile(Xt,ln):this.B[Xt]=ln},Et.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(Xt,ln){return Ls(this,function hn(){var _n=this,Sr,Ur,br,Mr,io,Vo,os,Qo,Ts;return Fs(hn,function(es){switch(es.g){case 1:return _n.g.inputs?(Sr=1e3*(ln??performance.now()),Er(es,_n.C,2)):es.return();case 2:return Er(es,_n.initialize(),3);case 3:for(Ur=new _n.h.PacketDataList,br=Ln(Object.keys(Xt)),Mr=br.next();!Mr.done;Mr=br.next())if(io=Mr.value,Vo=_n.g.inputs[io]){e:{var Fo=_n,rs=Xt[io];switch(Vo.type){case"video":var Ss=Fo.m[Vo.stream];if(Ss||(Ss=new Bu(Fo.h,Fo.D),Fo.m[Vo.stream]=Ss),Fo=Ss,Fo.l===0&&(Fo.l=Fo.h.createTexture()),typeof HTMLVideoElement<"u"&&rs instanceof HTMLVideoElement){var Ms=rs.videoWidth;Ss=rs.videoHeight}else typeof HTMLImageElement<"u"&&rs instanceof HTMLImageElement?(Ms=rs.naturalWidth,Ss=rs.naturalHeight):(Ms=rs.width,Ss=rs.height);Ss={glName:Fo.l,width:Ms,height:Ss},Ms=Fo.g,Ms.canvas.width=Ss.width,Ms.canvas.height=Ss.height,Ms.activeTexture(Ms.TEXTURE0),Fo.h.bindTexture2d(Fo.l),Ms.texImage2D(Ms.TEXTURE_2D,0,Ms.RGBA,Ms.RGBA,Ms.UNSIGNED_BYTE,rs),Fo.h.bindTexture2d(0),Fo=Ss;break e;case"detections":for(Ss=Fo.m[Vo.stream],Ss||(Ss=new _p(Fo.h),Fo.m[Vo.stream]=Ss),Fo=Ss,Fo.data||(Fo.data=new Fo.g.DetectionListData),Fo.data.reset(rs.length),Ss=0;Ss<rs.length;++Ss){Ms=rs[Ss];var Hs=Fo.data,Qs=Hs.setBoundingBox,Xl=Ss,Ft=Ms.T,Ht=new Fl;vs(Ht,1,Ft.Z),vs(Ht,2,Ft.$),vs(Ht,3,Ft.height),vs(Ht,4,Ft.width),vs(Ht,5,Ft.rotation),vs(Ht,6,Ft.X);var Kt=Ft=new Nl;gs(Kt,1,As(Ht,1)),gs(Kt,2,As(Ht,2)),gs(Kt,3,As(Ht,3)),gs(Kt,4,As(Ht,4)),gs(Kt,5,As(Ht,5));var Fn=As(Ht,6);if(Fn!=null&&Fn!=null){na(Kt.g,48);var ir=Kt.g,Cr=Fn;Fn=0>Cr,Cr=Math.abs(Cr);var ar=Cr>>>0;for(Cr=Math.floor((Cr-ar)/4294967296),Cr>>>=0,Fn&&(Cr=~Cr>>>0,ar=(~ar>>>0)+1,4294967295<ar&&(ar=0,Cr++,4294967295<Cr&&(Cr=0))),Xs=ar,Vl=Cr,Fn=Xs,ar=Vl;0<ar||127<Fn;)ir.push(Fn&127|128),Fn=(Fn>>>7|ar<<25)>>>0,ar>>>=7;ir.push(Fn)}if(Ml(Ht,Kt),Ft=$a(Ft),Qs.call(Hs,Xl,Ft),Ms.O)for(Hs=0;Hs<Ms.O.length;++Hs)Ht=Ms.O[Hs],Kt=!!Ht.visibility,Qs=Fo.data,Xl=Qs.addNormalizedLandmark,Ft=Ss,Ht=Object.assign(Object.assign({},Ht),{visibility:Kt?Ht.visibility:0}),Kt=new Gs,vs(Kt,1,Ht.x),vs(Kt,2,Ht.y),vs(Kt,3,Ht.z),Ht.visibility&&vs(Kt,4,Ht.visibility),ir=Ht=new Nl,gs(ir,1,As(Kt,1)),gs(ir,2,As(Kt,2)),gs(ir,3,As(Kt,3)),gs(ir,4,As(Kt,4)),gs(ir,5,As(Kt,5)),Ml(Kt,ir),Ht=$a(Ht),Xl.call(Qs,Ft,Ht);if(Ms.M)for(Hs=0;Hs<Ms.M.length;++Hs){if(Qs=Fo.data,Xl=Qs.addClassification,Ft=Ss,Ht=Ms.M[Hs],Kt=new Vr,vs(Kt,2,Ht.Y),Ht.index&&vs(Kt,1,Ht.index),Ht.label&&vs(Kt,3,Ht.label),Ht.displayName&&vs(Kt,4,Ht.displayName),ir=Ht=new Nl,ar=As(Kt,1),ar!=null&&ar!=null)if(na(ir.g,8),Fn=ir.g,0<=ar)na(Fn,ar);else{for(Cr=0;9>Cr;Cr++)Fn.push(ar&127|128),ar>>=7;Fn.push(1)}gs(ir,2,As(Kt,2)),Fn=As(Kt,3),Fn!=null&&(Fn=cp(Fn),na(ir.g,26),na(ir.g,Fn.length),du(ir,ir.g.end()),du(ir,Fn)),Fn=As(Kt,4),Fn!=null&&(Fn=cp(Fn),na(ir.g,34),na(ir.g,Fn.length),du(ir,ir.g.end()),du(ir,Fn)),Ml(Kt,ir),Ht=$a(Ht),Xl.call(Qs,Ft,Ht)}}Fo=Fo.data;break e;default:Fo={}}}switch(os=Fo,Qo=Vo.stream,Vo.type){case"video":Ur.pushTexture2d(Object.assign(Object.assign({},os),{stream:Qo,timestamp:Sr}));break;case"detections":Ts=os,Ts.stream=Qo,Ts.timestamp=Sr,Ur.pushDetectionList(Ts);break;default:throw Error("Unknown input config type: '"+Vo.type+"'")}}return _n.i.send(Ur),Er(es,_n.C,4);case 4:Ur.delete(),es.g=0}})})};function yp(Xt,ln,hn){return Ls(Xt,function _n(){var Sr,Ur,br,Mr,io,Vo,os=this,Qo,Ts,es,Fo,rs,Ss,Ms,Hs;return Fs(_n,function(Qs){switch(Qs.g){case 1:if(!hn)return Qs.return(ln);for(Sr={},Ur=0,br=Ln(Object.keys(hn)),Mr=br.next();!Mr.done;Mr=br.next())io=Mr.value,Vo=hn[io],typeof Vo!="string"&&Vo.type==="texture"&&ln[Vo.stream]!==void 0&&++Ur;1<Ur&&(os.G=!1),Qo=Ln(Object.keys(hn)),Mr=Qo.next();case 2:if(Mr.done){Qs.g=4;break}if(Ts=Mr.value,es=hn[Ts],typeof es=="string")return Ms=Sr,Hs=Ts,Er(Qs,am(os,Ts,ln[es]),14);if(Fo=ln[es.stream],es.type==="detection_list"){if(Fo){for(var Xl=Fo.getRectList(),Ft=Fo.getLandmarksList(),Ht=Fo.getClassificationsList(),Kt=[],Fn=0;Fn<Xl.size();++Fn){var ir=Xl.get(Fn);e:{var Cr=new Fl;for(ir=new Gl(ir);as(ir);)switch(ir.i){case 13:var ar=xu(ir.g);vs(Cr,1,ar);break;case 21:ar=xu(ir.g),vs(Cr,2,ar);break;case 29:ar=xu(ir.g),vs(Cr,3,ar);break;case 37:ar=xu(ir.g),vs(Cr,4,ar);break;case 45:ar=xu(ir.g),vs(Cr,5,ar);break;case 48:for(var kr=ir.g,zr=128,wt=0,Qt=ar=0;4>Qt&&128<=zr;Qt++)zr=kr.h[kr.g++],wt|=(zr&127)<<7*Qt;if(128<=zr&&(zr=kr.h[kr.g++],wt|=(zr&127)<<28,ar|=(zr&127)>>4),128<=zr)for(Qt=0;5>Qt&&128<=zr;Qt++)zr=kr.h[kr.g++],ar|=(zr&127)<<7*Qt+3;128>zr?(kr=wt>>>0,zr=ar>>>0,(ar=zr&2147483648)&&(kr=~kr+1>>>0,zr=~zr>>>0,kr==0&&(zr=zr+1>>>0)),kr=4294967296*zr+(kr>>>0),ar=ar?-kr:kr):(kr.l=!0,ar=void 0),vs(Cr,6,ar);break;default:if(!Rs(Cr,ir))break e}}Cr={Z:xs(Cr,1),$:xs(Cr,2),height:xs(Cr,3),width:xs(Cr,4),rotation:xs(Cr,5,0),X:Ao(Cr,6)},ar=Ft.get(Fn);e:for(ir=new Mo,ar=new Gl(ar);as(ar);)switch(ar.i){case 10:kr=ms(ar,new Gs,Ps),Us(ir,kr,Gs,void 0);break;default:if(!Rs(ir,ar))break e}ir=Vu(ir,Gs).map(Zu),kr=Ht.get(Fn);e:for(ar=new Kr,kr=new Gl(kr);as(kr);)switch(kr.i){case 10:ar.addClassification(ms(kr,new Vr,Gr));break;default:if(!Rs(ar,kr))break e}Cr={T:Cr,O:ir,M:pu(ar)},Kt.push(Cr)}Xl=Kt}else Xl=[];Sr[Ts]=Xl,Qs.g=7;break}if(es.type==="proto_list"){if(Fo){for(Xl=Array(Fo.size()),Ft=0;Ft<Fo.size();Ft++)Xl[Ft]=Fo.get(Ft);Fo.delete()}else Xl=[];Sr[Ts]=Xl,Qs.g=7;break}if(Fo===void 0){Qs.g=3;break}if(es.type==="float_list"){Sr[Ts]=Fo,Qs.g=7;break}if(es.type==="proto"){Sr[Ts]=Fo,Qs.g=7;break}if(es.type!=="texture")throw Error("Unknown output config type: '"+es.type+"'");return rs=os.s[Ts],rs||(rs=new Bu(os.h,os.D),os.s[Ts]=rs),Er(Qs,Wl(rs,Fo,os.G),13);case 13:Ss=Qs.h,Sr[Ts]=Ss;case 7:es.transform&&Sr[Ts]&&(Sr[Ts]=es.transform(Sr[Ts])),Qs.g=3;break;case 14:Ms[Hs]=Qs.h;case 3:Mr=Qo.next(),Qs.g=2;break;case 4:return Qs.return(Sr)}})})}function am(Xt,ln,hn){return Ls(Xt,function _n(){var Sr=this,Ur;return Fs(_n,function(br){return typeof hn=="number"||hn instanceof Uint8Array||hn instanceof Sr.h.Uint8BlobList?br.return(hn):hn instanceof Sr.h.Texture2dDataOut?(Ur=Sr.s[ln],Ur||(Ur=new Bu(Sr.h,Sr.D),Sr.s[ln]=Ur),br.return(Wl(Ur,hn,Sr.G))):br.return(void 0)})})}function cm(Xt,ln){for(var hn=ln.name||"$",_n=[].concat(Un(ln.wants)),Sr=new Xt.h.StringList,Ur=Ln(ln.wants),br=Ur.next();!br.done;br=Ur.next())Sr.push_back(br.value);Ur=Xt.h.PacketListener.implement({onResults:function(Mr){for(var io={},Vo=0;Vo<ln.wants.length;++Vo)io[_n[Vo]]=Mr.get(Vo);var os=Xt.listeners[hn];os&&(Xt.C=yp(Xt,io,ln.outs).then(function(Qo){Qo=os(Qo);for(var Ts=0;Ts<ln.wants.length;++Ts){var es=io[_n[Ts]];typeof es=="object"&&es.hasOwnProperty&&es.hasOwnProperty("delete")&&es.delete()}Qo&&(Xt.C=Qo)}))}}),Xt.i.attachMultiListener(Sr,Ur),Sr.delete()}Et.onResults=function(Xt,ln){this.listeners[ln||"$"]=Xt},xl("Solution",Mp),xl("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function bp(Xt){switch(Xt===void 0&&(Xt=0),Xt){case 1:return"selfie_segmentation_landscape.tflite";default:return"selfie_segmentation.tflite"}}function wp(Xt){var ln=this;Xt=Xt||{},this.g=new Mp({locateFile:Xt.locateFile,files:function(hn){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:bp(hn.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(hn){return Ls(ln,function _n(){var Sr,Ur,br=this,Mr;return Fs(_n,function(io){return io.g==1?(Sr=bp(hn),Ur="third_party/mediapipe/modules/selfie_segmentation/"+Sr,Er(io,wu(br.g,Sr),2)):(Mr=io.h,br.g.overrideFile(Ur,Mr),io.return(!0))})})}}}})}Et=wp.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(Xt){this.g.onResults(Xt)},Et.initialize=function(){return Ls(this,function Xt(){var ln=this;return Fs(Xt,function(hn){return Er(hn,ln.g.initialize(),0)})})},Et.reset=function(){this.g.reset()},Et.send=function(Xt){return Ls(this,function ln(){var hn=this;return Fs(ln,function(_n){return Er(_n,hn.g.send(Xt),0)})})},Et.setOptions=function(Xt){this.g.setOptions(Xt)},xl("SelfieSegmentation",wp),xl("VERSION","0.1.1632777926")}).call(Wu);const Gu={};(function(){var Et;function St(At){var $t=0;return function(){return $t<At.length?{done:!1,value:At[$t++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(At,$t,gn){return At==Array.prototype||At==Object.prototype||(At[$t]=gn.value),At};function jt(At){At=[typeof globalThis=="object"&&globalThis,At,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var $t=0;$t<At.length;++$t){var gn=At[$t];if(gn&&gn.Math==Math)return gn}throw Error("Cannot find global object")}var zt=jt(this);function Rn(At,$t){if($t)e:{var gn=zt;At=At.split(".");for(var wn=0;wn<At.length-1;wn++){var Jn=At[wn];if(!(Jn in gn))break e;gn=gn[Jn]}At=At[At.length-1],wn=gn[At],$t=$t(wn),$t!=wn&&$t!=null&&xt(gn,At,{configurable:!0,writable:!0,value:$t})}}Rn("Symbol",function(At){function $t(Rt){if(this instanceof $t)throw new TypeError("Symbol is not a constructor");return new gn(wn+(Rt||"")+"_"+Jn++,Rt)}function gn(Rt,Gt){this.g=Rt,xt(this,"description",{configurable:!0,writable:!0,value:Gt})}if(At)return At;gn.prototype.toString=function(){return this.g};var wn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Jn=0;return $t}),Rn("Symbol.iterator",function(At){if(At)return At;At=Symbol("Symbol.iterator");for(var $t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),gn=0;gn<$t.length;gn++){var wn=zt[$t[gn]];typeof wn=="function"&&typeof wn.prototype[At]!="function"&&xt(wn.prototype,At,{configurable:!0,writable:!0,value:function(){return Mn(St(this))}})}return At});function Mn(At){return At={next:At},At[Symbol.iterator]=function(){return this},At}function Ln(At){var $t=typeof Symbol<"u"&&Symbol.iterator&&At[Symbol.iterator];return $t?$t.call(At):{next:St(At)}}function Un(At){if(!(At instanceof Array)){At=Ln(At);for(var $t,gn=[];!($t=At.next()).done;)gn.push($t.value);At=gn}return At}var wr=typeof Object.create=="function"?Object.create:function(At){function $t(){}return $t.prototype=At,new $t},Xr;if(typeof Object.setPrototypeOf=="function")Xr=Object.setPrototypeOf;else{var Hr;e:{var Wo={a:!0},Uo={};try{Uo.__proto__=Wo,Hr=Uo.a;break e}catch{}Hr=!1}Xr=Hr?function(At,$t){if(At.__proto__=$t,At.__proto__!==$t)throw new TypeError(At+" is not extensible");return At}:null}var $r=Xr;function qr(At,$t){if(At.prototype=wr($t.prototype),At.prototype.constructor=At,$r)$r(At,$t);else for(var gn in $t)if(gn!="prototype")if(Object.defineProperties){var wn=Object.getOwnPropertyDescriptor($t,gn);wn&&Object.defineProperty(At,gn,wn)}else At[gn]=$t[gn];At.ra=$t.prototype}function ns(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function qo(At){if(At.l)throw new TypeError("Generator is already running");At.l=!0}ns.prototype.s=function(At){this.h=At};function Is(At,$t){At.j={fa:$t,ga:!0},At.g=At.o||At.u}ns.prototype.return=function(At){this.j={return:At},this.g=this.u};function Er(At,$t,gn){return At.g=gn,{value:$t}}function ju(At){this.g=new ns,this.h=At}function ku(At,$t){qo(At.g);var gn=At.g.i;return gn?Tl(At,"return"in gn?gn.return:function(wn){return{value:wn,done:!0}},$t,At.g.return):(At.g.return($t),Cs(At))}function Tl(At,$t,gn,wn){try{var Jn=$t.call(At.g.i,gn);if(!(Jn instanceof Object))throw new TypeError("Iterator result "+Jn+" is not an object");if(!Jn.done)return At.g.l=!1,Jn;var Rt=Jn.value}catch(Gt){return At.g.i=null,Is(At.g,Gt),Cs(At)}return At.g.i=null,wn.call(At.g,Rt),Cs(At)}function Cs(At){for(;At.g.g;)try{var $t=At.h(At.g);if($t)return At.g.l=!1,{value:$t.value,done:!1}}catch(gn){At.g.h=void 0,Is(At.g,gn)}if(At.g.l=!1,At.g.j){if($t=At.g.j,At.g.j=null,$t.ga)throw $t.fa;return{value:$t.return,done:!0}}return{value:void 0,done:!0}}function Jp(At){this.next=function($t){return qo(At.g),At.g.i?$t=Tl(At,At.g.i.next,$t,At.g.s):(At.g.s($t),$t=Cs(At)),$t},this.throw=function($t){return qo(At.g),At.g.i?$t=Tl(At,At.g.i.throw,$t,At.g.s):(Is(At.g,$t),$t=Cs(At)),$t},this.return=function($t){return ku(At,$t)},this[Symbol.iterator]=function(){return this}}function Fs(At){function $t(wn){return At.next(wn)}function gn(wn){return At.throw(wn)}return new nt(function(wn,Jn){function Rt(Gt){Gt.done?wn(Gt.value):nt.resolve(Gt.value).then($t,gn).then(Rt,Jn)}Rt(At.next())})}function po(At){return Fs(new Jp(new ju(At)))}Rn("Promise",function(At){function $t(Gt){this.h=0,this.i=void 0,this.g=[],this.s=!1;var Yt=this.j();try{Gt(Yt.resolve,Yt.reject)}catch(bt){Yt.reject(bt)}}function gn(){this.g=null}function wn(Gt){return Gt instanceof $t?Gt:new $t(function(Yt){Yt(Gt)})}if(At)return At;gn.prototype.h=function(Gt){if(this.g==null){this.g=[];var Yt=this;this.i(function(){Yt.l()})}this.g.push(Gt)};var Jn=zt.setTimeout;gn.prototype.i=function(Gt){Jn(Gt,0)},gn.prototype.l=function(){for(;this.g&&this.g.length;){var Gt=this.g;this.g=[];for(var Yt=0;Yt<Gt.length;++Yt){var bt=Gt[Yt];Gt[Yt]=null;try{bt()}catch(Vt){this.j(Vt)}}}this.g=null},gn.prototype.j=function(Gt){this.i(function(){throw Gt})},$t.prototype.j=function(){function Gt(Vt){return function(Dt){bt||(bt=!0,Vt.call(Yt,Dt))}}var Yt=this,bt=!1;return{resolve:Gt(this.D),reject:Gt(this.l)}},$t.prototype.D=function(Gt){if(Gt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Gt instanceof $t)this.H(Gt);else{e:switch(typeof Gt){case"object":var Yt=Gt!=null;break e;case"function":Yt=!0;break e;default:Yt=!1}Yt?this.A(Gt):this.o(Gt)}},$t.prototype.A=function(Gt){var Yt=void 0;try{Yt=Gt.then}catch(bt){this.l(bt);return}typeof Yt=="function"?this.I(Yt,Gt):this.o(Gt)},$t.prototype.l=function(Gt){this.u(2,Gt)},$t.prototype.o=function(Gt){this.u(1,Gt)},$t.prototype.u=function(Gt,Yt){if(this.h!=0)throw Error("Cannot settle("+Gt+", "+Yt+"): Promise already settled in state"+this.h);this.h=Gt,this.i=Yt,this.h===2&&this.G(),this.B()},$t.prototype.G=function(){var Gt=this;Jn(function(){if(Gt.C()){var Yt=zt.console;typeof Yt<"u"&&Yt.error(Gt.i)}},1)},$t.prototype.C=function(){if(this.s)return!1;var Gt=zt.CustomEvent,Yt=zt.Event,bt=zt.dispatchEvent;return typeof bt>"u"?!0:(typeof Gt=="function"?Gt=new Gt("unhandledrejection",{cancelable:!0}):typeof Yt=="function"?Gt=new Yt("unhandledrejection",{cancelable:!0}):(Gt=zt.document.createEvent("CustomEvent"),Gt.initCustomEvent("unhandledrejection",!1,!0,Gt)),Gt.promise=this,Gt.reason=this.i,bt(Gt))},$t.prototype.B=function(){if(this.g!=null){for(var Gt=0;Gt<this.g.length;++Gt)Rt.h(this.g[Gt]);this.g=null}};var Rt=new gn;return $t.prototype.H=function(Gt){var Yt=this.j();Gt.M(Yt.resolve,Yt.reject)},$t.prototype.I=function(Gt,Yt){var bt=this.j();try{Gt.call(Yt,bt.resolve,bt.reject)}catch(Vt){bt.reject(Vt)}},$t.prototype.then=function(Gt,Yt){function bt(Ot,Wt){return typeof Ot=="function"?function(Ut){try{Vt(Ot(Ut))}catch(Sn){Dt(Sn)}}:Wt}var Vt,Dt,mt=new $t(function(Ot,Wt){Vt=Ot,Dt=Wt});return this.M(bt(Gt,Vt),bt(Yt,Dt)),mt},$t.prototype.catch=function(Gt){return this.then(void 0,Gt)},$t.prototype.M=function(Gt,Yt){function bt(){switch(Vt.h){case 1:Gt(Vt.i);break;case 2:Yt(Vt.i);break;default:throw Error("Unexpected state: "+Vt.h)}}var Vt=this;this.g==null?Rt.h(bt):this.g.push(bt),this.s=!0},$t.resolve=wn,$t.reject=function(Gt){return new $t(function(Yt,bt){bt(Gt)})},$t.race=function(Gt){return new $t(function(Yt,bt){for(var Vt=Ln(Gt),Dt=Vt.next();!Dt.done;Dt=Vt.next())wn(Dt.value).M(Yt,bt)})},$t.all=function(Gt){var Yt=Ln(Gt),bt=Yt.next();return bt.done?wn([]):new $t(function(Vt,Dt){function mt(Ut){return function(Sn){Ot[Ut]=Sn,Wt--,Wt==0&&Vt(Ot)}}var Ot=[],Wt=0;do Ot.push(void 0),Wt++,wn(bt.value).M(mt(Ot.length-1),Dt),bt=Yt.next();while(!bt.done)})},$t});function Xu(At,$t){At instanceof String&&(At+="");var gn=0,wn=!1,Jn={next:function(){if(!wn&&gn<At.length){var Rt=gn++;return{value:$t(Rt,At[Rt]),done:!1}}return wn=!0,{done:!0,value:void 0}}};return Jn[Symbol.iterator]=function(){return Jn},Jn}var Qp=typeof Object.assign=="function"?Object.assign:function(At,$t){for(var gn=1;gn<arguments.length;gn++){var wn=arguments[gn];if(wn)for(var Jn in wn)Object.prototype.hasOwnProperty.call(wn,Jn)&&(At[Jn]=wn[Jn])}return At};Rn("Object.assign",function(At){return At||Qp}),Rn("Object.is",function(At){return At||function($t,gn){return $t===gn?$t!==0||1/$t===1/gn:$t!==$t&&gn!==gn}}),Rn("Array.prototype.includes",function(At){return At||function($t,gn){var wn=this;wn instanceof String&&(wn=String(wn));var Jn=wn.length;for(gn=gn||0,0>gn&&(gn=Math.max(gn+Jn,0));gn<Jn;gn++){var Rt=wn[gn];if(Rt===$t||Object.is(Rt,$t))return!0}return!1}}),Rn("String.prototype.includes",function(At){return At||function($t,gn){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if($t instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf($t,gn||0)!==-1}}),Rn("Array.prototype.keys",function(At){return At||function(){return Xu(this,function($t){return $t})}});var xl=this||self;function Jo(At,$t){At=At.split(".");var gn=xl;At[0]in gn||typeof gn.execScript>"u"||gn.execScript("var "+At[0]);for(var wn;At.length&&(wn=At.shift());)At.length||$t===void 0?gn[wn]&&gn[wn]!==Object.prototype[wn]?gn=gn[wn]:gn=gn[wn]={}:gn[wn]=$t}function Zl(){throw Error("Invalid UTF8")}function Tu(At,$t){return $t=String.fromCharCode.apply(null,$t),At==null?$t:At+$t}var ep,Rp=typeof TextDecoder<"u",cp,Ap=typeof TextEncoder<"u",Lu={},Uu=null;function Pp(At){var $t;$t===void 0&&($t=0),tu(),$t=Lu[$t];for(var gn=Array(Math.floor(At.length/3)),wn=$t[64]||"",Jn=0,Rt=0;Jn<At.length-2;Jn+=3){var Gt=At[Jn],Yt=At[Jn+1],bt=At[Jn+2],Vt=$t[Gt>>2];Gt=$t[(Gt&3)<<4|Yt>>4],Yt=$t[(Yt&15)<<2|bt>>6],bt=$t[bt&63],gn[Rt++]=Vt+Gt+Yt+bt}switch(Vt=0,bt=wn,At.length-Jn){case 2:Vt=At[Jn+1],bt=$t[(Vt&15)<<2]||wn;case 1:At=At[Jn],gn[Rt]=$t[At>>2]+$t[(At&3)<<4|Vt>>4]+bt+wn}return gn.join("")}function Ip(At){var $t=At.length,gn=3*$t/4;gn%3?gn=Math.floor(gn):"=.".indexOf(At[$t-1])!=-1&&(gn="=.".indexOf(At[$t-2])!=-1?gn-2:gn-1);var wn=new Uint8Array(gn),Jn=0;return ru(At,function(Rt){wn[Jn++]=Rt}),Jn!==gn?wn.subarray(0,Jn):wn}function ru(At,$t){function gn(bt){for(;wn<At.length;){var Vt=At.charAt(wn++),Dt=Uu[Vt];if(Dt!=null)return Dt;if(!/^[\s\xa0]*$/.test(Vt))throw Error("Unknown base64 encoding at char: "+Vt)}return bt}tu();for(var wn=0;;){var Jn=gn(-1),Rt=gn(0),Gt=gn(64),Yt=gn(64);if(Yt===64&&Jn===-1)break;$t(Jn<<2|Rt>>4),Gt!=64&&($t(Rt<<4&240|Gt>>2),Yt!=64&&$t(Gt<<6&192|Yt))}}function tu(){if(!Uu){Uu={};for(var At="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),$t=["+/=","+/","-_=","-_.","-_"],gn=0;5>gn;gn++){var wn=At.concat($t[gn].split(""));Lu[gn]=wn;for(var Jn=0;Jn<wn.length;Jn++){var Rt=wn[Jn];Uu[Rt]===void 0&&(Uu[Rt]=Jn)}}}}var lp=typeof Uint8Array=="function";function tp(At){return lp&&At!=null&&At instanceof Uint8Array}var Xs;function Vl(At){if(this.L=At,At!==null&&At.length===0)throw Error("ByteString should be constructed with non-empty values")}var iu=typeof Uint8Array.prototype.slice=="function",Os=0,El=0;function xu(At,$t){if(At.constructor===Uint8Array)return At;if(At.constructor===ArrayBuffer)return new Uint8Array(At);if(At.constructor===Array)return new Uint8Array(At);if(At.constructor===String)return Ip(At);if(At.constructor===Vl)return!$t&&($t=At.L)&&$t.constructor===Uint8Array?$t:($t=At.L,$t=$t==null||tp($t)?$t:typeof $t=="string"?Ip($t):null,(At=At.L=$t)?new Uint8Array(At):Xs||(Xs=new Uint8Array(0)));if(At instanceof Uint8Array)return new Uint8Array(At.buffer,At.byteOffset,At.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Kl(At,$t){return Error("Invalid wire type: "+At+" (at position "+$t+")")}function bs(){return Error("Failed to read varint, encoding is invalid.")}function na(At,$t){$t=$t===void 0?{}:$t,$t=$t.v===void 0?!1:$t.v,this.h=null,this.g=this.i=this.j=0,this.v=$t,At&&Gl(this,At)}function Gl(At,$t){At.h=xu($t,At.v),At.j=0,At.i=At.h.length,At.g=At.j}na.prototype.reset=function(){this.g=this.j};function as(At){if(At.g>At.i)throw Error("Tried to read past the end of the data "+At.g+" > "+At.i)}function Ol(At){var $t=At.h,gn=$t[At.g],wn=gn&127;if(128>gn)return At.g+=1,as(At),wn;if(gn=$t[At.g+1],wn|=(gn&127)<<7,128>gn)return At.g+=2,as(At),wn;if(gn=$t[At.g+2],wn|=(gn&127)<<14,128>gn)return At.g+=3,as(At),wn;if(gn=$t[At.g+3],wn|=(gn&127)<<21,128>gn)return At.g+=4,as(At),wn;if(gn=$t[At.g+4],At.g+=5,wn|=(gn&15)<<28,128>gn)return as(At),wn;if(128<=$t[At.g++]&&128<=$t[At.g++]&&128<=$t[At.g++]&&128<=$t[At.g++]&&128<=$t[At.g++])throw bs();return as(At),wn}var ms=[];function Js(){this.g=[]}Js.prototype.length=function(){return this.g.length},Js.prototype.end=function(){var At=this.g;return this.g=[],At};function Nl(At,$t){for(;127<$t;)At.g.push($t&127|128),$t>>>=7;At.g.push($t)}function du(At){var $t={},gn=$t.W===void 0?!1:$t.W;this.l={v:$t.v===void 0?!1:$t.v},this.W=gn,$t=this.l,ms.length?(gn=ms.pop(),$t&&(gn.v=$t.v),At&&Gl(gn,At),At=gn):At=new na(At,$t),this.g=At,this.j=this.g.g,this.h=this.i=-1}du.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function $a(At){var $t=At.g;if($t.g==$t.i)return!1;At.j=At.g.g;var gn=Ol(At.g)>>>0;if($t=gn>>>3,gn&=7,!(0<=gn&&5>=gn))throw Kl(gn,At.j);if(1>$t)throw Error("Invalid field number: "+$t+" (at position "+At.j+")");return At.i=$t,At.h=gn,!0}function gs(At){switch(At.h){case 0:if(At.h!=0)gs(At);else e:{At=At.g;for(var $t=At.g,gn=$t+10;$t<gn;)if(!(At.h[$t++]&128)){At.g=$t,as(At);break e}throw bs()}break;case 1:At=At.g,At.g+=8,as(At);break;case 2:At.h!=2?gs(At):($t=Ol(At.g)>>>0,At=At.g,At.g+=$t,as(At));break;case 5:At=At.g,At.g+=4,as(At);break;case 3:$t=At.i;do{if(!$a(At))throw Error("Unmatched start-group tag: stream EOF");if(At.h==4){if(At.i!=$t)throw Error("Unmatched end-group tag");break}gs(At)}while(1);break;default:throw Kl(At.h,At.j)}}var nu=[];function ou(){this.i=[],this.h=0,this.g=new Js}function Al(At,$t){$t.length!==0&&(At.i.push($t),At.h+=$t.length)}function np(At,$t){if($t=$t.ca){Al(At,At.g.end());for(var gn=0;gn<$t.length;gn++)Al(At,$t[gn])}}var Ru=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function su(At,$t){Object.isFrozen(At)||(Ru?At[Ru]|=$t:At.N!==void 0?At.N|=$t:Object.defineProperties(At,{N:{value:$t,configurable:!0,writable:!0,enumerable:!1}}))}function Iu(At){var $t;return Ru?$t=At[Ru]:$t=At.N,$t??0}function ga(At){return su(At,1),At}function Pl(At){return Array.isArray(At)?!!(Iu(At)&2):!1}function ba(At){if(!Array.isArray(At))throw Error("cannot mark non-array as immutable");su(At,2)}function As(At){return At!==null&&typeof At=="object"&&!Array.isArray(At)&&At.constructor===Object}var au=Object.freeze(ga([]));function xs(At){if(Pl(At.m))throw Error("Cannot mutate an immutable Message")}var vs=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function Vu(At){return{value:At,configurable:!1,writable:!1,enumerable:!1}}function Us(At,$t,gn){return $t===-1?null:$t>=At.i?At.g?At.g[$t]:void 0:gn!==void 0&&gn&&At.g&&(gn=At.g[$t],gn!=null)?gn:At.m[$t+At.h]}function Ko(At,$t,gn,wn){wn=wn===void 0?!1:wn,xs(At),$t<At.i&&!wn?At.m[$t+At.h]=gn:(At.g||(At.g=At.m[At.i+At.h]={}))[$t]=gn}function Ao(At,$t,gn,wn){gn=gn===void 0?!0:gn,wn=wn===void 0?!1:wn;var Jn=Us(At,$t,wn);return Jn==null&&(Jn=au),Pl(At.m)?gn&&(ba(Jn),Object.freeze(Jn)):(Jn===au||Pl(Jn))&&(Jn=ga(Jn.slice()),Ko(At,$t,Jn,wn)),Jn}function ks(At,$t,gn){return At=Us(At,$t),At=At==null?At:+At,At??(gn===void 0?0:gn)}function Ml(At,$t,gn,wn){At.j||(At.j={});var Jn=Pl(At.m),Rt=At.j[gn];if(!Rt){wn=Ao(At,gn,!0,wn===void 0?!1:wn),Rt=[],Jn=Jn||Pl(wn);for(var Gt=0;Gt<wn.length;Gt++)Rt[Gt]=new $t(wn[Gt]),Jn&&ba(Rt[Gt].m);Jn&&(ba(Rt),Object.freeze(Rt)),At.j[gn]=Rt}return Rt}function Rs(At,$t,gn,wn,Jn){var Rt=Rt===void 0?!1:Rt;return xs(At),Rt=Ml(At,gn,$t,Rt),gn=wn||new gn,At=Ao(At,$t),Jn!=null?(Rt.splice(Jn,0,gn),At.splice(Jn,0,gn.m)):(Rt.push(gn),At.push(gn.m)),gn}function Ls(At,$t){return At=Us(At,$t),At??0}function Vr(At,$t){return At=Us(At,$t),At??""}function Gr(At){switch(typeof At){case"number":return isFinite(At)?At:String(At);case"object":if(At&&!Array.isArray(At)){if(tp(At))return Pp(At);if(At instanceof Vl){var $t=At.L;return $t=$t==null||typeof $t=="string"?$t:lp&&$t instanceof Uint8Array?Pp($t):null,(At.L=$t)||""}}}return At}function Kr(At){var $t=Ps;return $t=$t===void 0?Mo:$t,Gs(At,$t)}function ys(At,$t){if(At!=null){if(Array.isArray(At))At=Gs(At,$t);else if(As(At)){var gn={},wn;for(wn in At)gn[wn]=ys(At[wn],$t);At=gn}else At=$t(At);return At}}function Gs(At,$t){for(var gn=At.slice(),wn=0;wn<gn.length;wn++)gn[wn]=ys(gn[wn],$t);return Array.isArray(At)&&Iu(At)&1&&ga(gn),gn}function Ps(At){return At&&typeof At=="object"&&At.toJSON?At.toJSON():(At=Gr(At),Array.isArray(At)?Kr(At):At)}function Mo(At){return tp(At)?new Uint8Array(At):At}function Bs(At,$t,gn){At||(At=Fl),Fl=null;var wn=this.constructor.h;At||(At=wn?[wn]:[]),this.h=(wn?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=At;e:{if(wn=this.m.length,At=wn-1,wn&&(wn=this.m[At],As(wn))){this.i=At-this.h,this.g=wn;break e}$t!==void 0&&-1<$t?(this.i=Math.max($t,At+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(gn)for($t=0;$t<gn.length;$t++)if(At=gn[$t],At<this.i)At+=this.h,(wn=this.m[At])?Array.isArray(wn)&&ga(wn):this.m[At]=au;else{wn=this.g||(this.g=this.m[this.i+this.h]={});var Jn=wn[At];Jn?Array.isArray(Jn)&&ga(Jn):wn[At]=au}}Bs.prototype.toJSON=function(){return Kr(this.m)},Bs.prototype.toString=function(){return this.m.toString()};var Fl;function fu(){Bs.apply(this,arguments)}if(qr(fu,Bs),vs){var pu={};Object.defineProperties(fu,(pu[Symbol.hasInstance]=Vu(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),pu))}function Zu(At,$t,gn){if(gn){var wn={},Jn;for(Jn in gn){var Rt=gn[Jn],Gt=Rt.ja;Gt||(wn.F=Rt.pa||Rt.ha.P,Rt.ba?(wn.U=up(Rt.ba),Gt=function(Yt){return function(bt,Vt,Dt){return Yt.F(bt,Vt,Dt,Yt.U)}}(wn)):Rt.da?(wn.T=Jl(Rt.X.g,Rt.da),Gt=function(Yt){return function(bt,Vt,Dt){return Yt.F(bt,Vt,Dt,Yt.T)}}(wn)):Gt=wn.F,Rt.ja=Gt),Gt($t,At,Rt.X),wn={F:wn.F,U:wn.U,T:wn.T}}}np($t,At)}var Bu=Symbol();function Wl(At,$t,gn){return At[Bu]||(At[Bu]=function(wn,Jn){return $t(wn,Jn,gn)})}function hu(At){var $t=At[Bu];if(!$t){var gn=Xt(At);$t=function(wn,Jn){return ln(wn,Jn,gn)},At[Bu]=$t}return $t}function _p(At){var $t=At.ba;if($t)return hu($t);if($t=At.oa)return Wl(At.X.g,$t,At.da)}function mu(At){var $t=_p(At),gn=At.X,wn=At.ha.O;return $t?function(Jn,Rt){return wn(Jn,Rt,gn,$t)}:function(Jn,Rt){return wn(Jn,Rt,gn)}}function Dl(At,$t,gn,wn,Jn,Rt){At=At();var Gt=0;for(At.length&&typeof At[0]!="number"&&(gn($t,At[0]),Gt++);Gt<At.length;){gn=At[Gt++];for(var Yt=Gt+1;Yt<At.length&&typeof At[Yt]!="number";)Yt++;var bt=At[Gt++];switch(Yt-=Gt,Yt){case 0:wn($t,gn,bt);break;case 1:wn($t,gn,bt,At[Gt++]);break;case 2:Jn($t,gn,bt,At[Gt++],At[Gt++]);break;case 3:Yt=At[Gt++];var Vt=At[Gt++],Dt=At[Gt++];Array.isArray(Dt)?Jn($t,gn,bt,Yt,Vt,Dt):Rt($t,gn,bt,Yt,Vt,Dt);break;case 4:Rt($t,gn,bt,At[Gt++],At[Gt++],At[Gt++],At[Gt++]);break;default:throw Error("unexpected number of binary field arguments: "+Yt)}}return $t}var Ju=Symbol();function up(At){var $t=At[Ju];if(!$t){var gn=wu(At);$t=function(wn,Jn){return _n(wn,Jn,gn)},At[Ju]=$t}return $t}function Jl(At,$t){var gn=At[Ju];return gn||(gn=function(wn,Jn){return Zu(wn,Jn,$t)},At[Ju]=gn),gn}var Mp=Symbol();function gu(At,$t){At.push($t)}function Qu(At,$t,gn){At.push($t,gn.P)}function vp(At,$t,gn,wn,Jn){var Rt=up(Jn),Gt=gn.P;At.push($t,function(Yt,bt,Vt){return Gt(Yt,bt,Vt,wn,Rt)})}function Bp(At,$t,gn,wn,Jn,Rt){var Gt=Jl(wn,Rt),Yt=gn.P;At.push($t,function(bt,Vt,Dt){return Yt(bt,Vt,Dt,wn,Gt)})}function wu(At){var $t=At[Mp];return $t||Dl(At,At[Mp]=[],gu,Qu,vp,Bp)}var yp=Symbol();function am(At,$t){At[0]=$t}function cm(At,$t,gn,wn){var Jn=gn.O;At[$t]=wn?function(Rt,Gt,Yt){return Jn(Rt,Gt,Yt,wn)}:Jn}function bp(At,$t,gn,wn,Jn,Rt){var Gt=gn.O,Yt=hu(Jn);At[$t]=function(bt,Vt,Dt){return Gt(bt,Vt,Dt,wn,Yt,Rt)}}function wp(At,$t,gn,wn,Jn,Rt,Gt){var Yt=gn.O,bt=Wl(wn,Jn,Rt);At[$t]=function(Vt,Dt,mt){return Yt(Vt,Dt,mt,wn,bt,Gt)}}function Xt(At){var $t=At[yp];return $t||Dl(At,At[yp]={},am,cm,bp,wp)}function ln(At,$t,gn){for(;$a($t)&&$t.h!=4;){var wn=$t.i,Jn=gn[wn];if(!Jn){var Rt=gn[0];Rt&&(Rt=Rt[wn])&&(Jn=gn[wn]=mu(Rt))}if((!Jn||!Jn($t,At,wn))&&(Jn=$t,wn=At,Rt=Jn.j,gs(Jn),!Jn.W)){var Gt=Jn.g.h;Jn=Jn.g.g,Jn=Rt===Jn?Xs||(Xs=new Uint8Array(0)):iu?Gt.slice(Rt,Jn):new Uint8Array(Gt.subarray(Rt,Jn)),(Rt=wn.ca)?Rt.push(Jn):wn.ca=[Jn]}}return At}function hn(At,$t,gn){if(nu.length){var wn=nu.pop();At&&(Gl(wn.g,At),wn.i=-1,wn.h=-1),At=wn}else At=new du(At);try{return ln(new $t,At,Xt(gn))}finally{$t=At.g,$t.h=null,$t.j=0,$t.i=0,$t.g=0,$t.v=!1,At.i=-1,At.h=-1,100>nu.length&&nu.push(At)}}function _n(At,$t,gn){for(var wn=gn.length,Jn=wn%2==1,Rt=Jn?1:0;Rt<wn;Rt+=2)(0,gn[Rt+1])($t,At,gn[Rt]);Zu(At,$t,Jn?gn[0]:void 0)}function Sr(At,$t){var gn=new ou;_n(At,gn,wu($t)),Al(gn,gn.g.end()),At=new Uint8Array(gn.h),$t=gn.i;for(var wn=$t.length,Jn=0,Rt=0;Rt<wn;Rt++){var Gt=$t[Rt];At.set(Gt,Jn),Jn+=Gt.length}return gn.i=[At],At}function Ur(At,$t){return{O:At,P:$t}}var br=Ur(function(At,$t,gn){if(At.h!==5)return!1;At=At.g;var wn=At.h[At.g],Jn=At.h[At.g+1],Rt=At.h[At.g+2],Gt=At.h[At.g+3];return At.g+=4,as(At),Jn=(wn<<0|Jn<<8|Rt<<16|Gt<<24)>>>0,At=2*(Jn>>31)+1,wn=Jn>>>23&255,Jn&=8388607,Ko($t,gn,wn==255?Jn?NaN:1/0*At:wn==0?At*Math.pow(2,-149)*Jn:At*Math.pow(2,wn-150)*(Jn+Math.pow(2,23))),!0},function(At,$t,gn){if($t=Us($t,gn),$t!=null){Nl(At.g,8*gn+5),At=At.g;var wn=$t;wn=(gn=0>wn?1:0)?-wn:wn,wn===0?0<1/wn?Os=El=0:(El=0,Os=2147483648):isNaN(wn)?(El=0,Os=2147483647):34028234663852886e22<wn?(El=0,Os=(gn<<31|2139095040)>>>0):11754943508222875e-54>wn?(wn=Math.round(wn/Math.pow(2,-149)),El=0,Os=(gn<<31|wn)>>>0):($t=Math.floor(Math.log(wn)/Math.LN2),wn*=Math.pow(2,-$t),wn=Math.round(8388608*wn),16777216<=wn&&++$t,El=0,Os=(gn<<31|$t+127<<23|wn&8388607)>>>0),gn=Os,At.g.push(gn>>>0&255),At.g.push(gn>>>8&255),At.g.push(gn>>>16&255),At.g.push(gn>>>24&255)}}),Mr=Ur(function(At,$t,gn){if(At.h!==0)return!1;for(var wn=At.g,Jn=128,Rt=0,Gt=At=0;4>Gt&&128<=Jn;Gt++)Jn=wn.h[wn.g++],as(wn),Rt|=(Jn&127)<<7*Gt;if(128<=Jn&&(Jn=wn.h[wn.g++],as(wn),Rt|=(Jn&127)<<28,At|=(Jn&127)>>4),128<=Jn)for(Gt=0;5>Gt&&128<=Jn;Gt++)Jn=wn.h[wn.g++],as(wn),At|=(Jn&127)<<7*Gt+3;if(128>Jn)wn=Rt>>>0,Jn=At>>>0,(At=Jn&2147483648)&&(wn=~wn+1>>>0,Jn=~Jn>>>0,wn==0&&(Jn=Jn+1>>>0)),wn=4294967296*Jn+(wn>>>0);else throw bs();return Ko($t,gn,At?-wn:wn),!0},function(At,$t,gn){if($t=Us($t,gn),$t!=null&&$t!=null){Nl(At.g,8*gn),At=At.g;var wn=$t;for(gn=0>wn,wn=Math.abs(wn),$t=wn>>>0,wn=Math.floor((wn-$t)/4294967296),wn>>>=0,gn&&(wn=~wn>>>0,$t=(~$t>>>0)+1,4294967295<$t&&($t=0,wn++,4294967295<wn&&(wn=0))),Os=$t,El=wn,gn=Os,$t=El;0<$t||127<gn;)At.g.push(gn&127|128),gn=(gn>>>7|$t<<25)>>>0,$t>>>=7;At.g.push(gn)}}),io=Ur(function(At,$t,gn){return At.h!==0?!1:(Ko($t,gn,Ol(At.g)),!0)},function(At,$t,gn){if($t=Us($t,gn),$t!=null&&$t!=null)if(Nl(At.g,8*gn),At=At.g,gn=$t,0<=gn)Nl(At,gn);else{for($t=0;9>$t;$t++)At.g.push(gn&127|128),gn>>=7;At.g.push(1)}}),Vo=Ur(function(At,$t,gn){if(At.h!==2)return!1;var wn=Ol(At.g)>>>0;At=At.g;var Jn=At.g;At.g+=wn,as(At),At=At.h;var Rt;if(Rp)(Rt=ep)||(Rt=ep=new TextDecoder("utf-8",{fatal:!0})),Rt=Rt.decode(At.subarray(Jn,Jn+wn));else{wn=Jn+wn;for(var Gt=[],Yt=null,bt,Vt,Dt;Jn<wn;)bt=At[Jn++],128>bt?Gt.push(bt):224>bt?Jn>=wn?Zl():(Vt=At[Jn++],194>bt||(Vt&192)!==128?(Jn--,Zl()):Gt.push((bt&31)<<6|Vt&63)):240>bt?Jn>=wn-1?Zl():(Vt=At[Jn++],(Vt&192)!==128||bt===224&&160>Vt||bt===237&&160<=Vt||((Rt=At[Jn++])&192)!==128?(Jn--,Zl()):Gt.push((bt&15)<<12|(Vt&63)<<6|Rt&63)):244>=bt?Jn>=wn-2?Zl():(Vt=At[Jn++],(Vt&192)!==128||(bt<<28)+(Vt-144)>>30||((Rt=At[Jn++])&192)!==128||((Dt=At[Jn++])&192)!==128?(Jn--,Zl()):(bt=(bt&7)<<18|(Vt&63)<<12|(Rt&63)<<6|Dt&63,bt-=65536,Gt.push((bt>>10&1023)+55296,(bt&1023)+56320))):Zl(),8192<=Gt.length&&(Yt=Tu(Yt,Gt),Gt.length=0);Rt=Tu(Yt,Gt)}return Ko($t,gn,Rt),!0},function(At,$t,gn){if($t=Us($t,gn),$t!=null){var wn=!1;if(wn=wn===void 0?!1:wn,Ap){if(wn&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test($t))throw Error("Found an unpaired surrogate");$t=(cp||(cp=new TextEncoder)).encode($t)}else{for(var Jn=0,Rt=new Uint8Array(3*$t.length),Gt=0;Gt<$t.length;Gt++){var Yt=$t.charCodeAt(Gt);if(128>Yt)Rt[Jn++]=Yt;else{if(2048>Yt)Rt[Jn++]=Yt>>6|192;else{if(55296<=Yt&&57343>=Yt){if(56319>=Yt&&Gt<$t.length){var bt=$t.charCodeAt(++Gt);if(56320<=bt&&57343>=bt){Yt=1024*(Yt-55296)+bt-56320+65536,Rt[Jn++]=Yt>>18|240,Rt[Jn++]=Yt>>12&63|128,Rt[Jn++]=Yt>>6&63|128,Rt[Jn++]=Yt&63|128;continue}else Gt--}if(wn)throw Error("Found an unpaired surrogate");Yt=65533}Rt[Jn++]=Yt>>12|224,Rt[Jn++]=Yt>>6&63|128}Rt[Jn++]=Yt&63|128}}$t=Rt.subarray(0,Jn)}Nl(At.g,8*gn+2),Nl(At.g,$t.length),Al(At,At.g.end()),Al(At,$t)}}),os=Ur(function(At,$t,gn,wn,Jn){if(At.h!==2)return!1;$t=Rs($t,gn,wn),gn=At.g.i,wn=Ol(At.g)>>>0;var Rt=At.g.g+wn,Gt=Rt-gn;if(0>=Gt&&(At.g.i=Rt,Jn($t,At),Gt=Rt-At.g.g),Gt)throw Error("Message parsing ended unexpectedly. Expected to read "+(wn+" bytes, instead read "+(wn-Gt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return At.g.g=Rt,At.g.i=gn,!0},function(At,$t,gn,wn,Jn){if($t=Ml($t,wn,gn),$t!=null)for(wn=0;wn<$t.length;wn++){var Rt=At;Nl(Rt.g,8*gn+2);var Gt=Rt.g.end();Al(Rt,Gt),Gt.push(Rt.h),Rt=Gt,Jn($t[wn],At),Gt=At;var Yt=Rt.pop();for(Yt=Gt.h+Gt.g.length()-Yt;127<Yt;)Rt.push(Yt&127|128),Yt>>>=7,Gt.h++;Rt.push(Yt),Gt.h++}});function Qo(){fu.apply(this,arguments)}if(qr(Qo,fu),vs){var Ts={};Object.defineProperties(Qo,(Ts[Symbol.hasInstance]=Vu(Object[Symbol.hasInstance]),Ts))}function es(At){Qo.call(this,At)}qr(es,Qo);function Fo(){return[1,io,2,br,3,Vo,4,Vo]}function rs(At){Qo.call(this,At,-1,Ms)}qr(rs,Qo),rs.prototype.addClassification=function(At,$t){return Rs(this,1,es,At,$t),this};function Ss(){return[1,os,es,Fo]}var Ms=[1];function Hs(At){Qo.call(this,At)}qr(Hs,Qo);function Qs(){return[1,br,2,br,3,br,4,br,5,br]}function Xl(At){Qo.call(this,At,-1,Ht)}qr(Xl,Qo);function Ft(){return[1,os,Hs,Qs]}var Ht=[1];function Kt(At){Qo.call(this,At)}qr(Kt,Qo);function Fn(){return[1,br,2,br,3,br,4,br,5,br,6,Mr]}function ir(At,$t,gn){if(gn=At.createShader(gn===0?At.VERTEX_SHADER:At.FRAGMENT_SHADER),At.shaderSource(gn,$t),At.compileShader(gn),!At.getShaderParameter(gn,At.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+At.getShaderInfoLog(gn));return gn}function Cr(At){return Ml(At,es,1).map(function($t){return{index:Ls($t,1),score:ks($t,2),label:Us($t,3)!=null?Vr($t,3):void 0,displayName:Us($t,4)!=null?Vr($t,4):void 0}})}function ar(At){return{x:ks(At,1),y:ks(At,2),z:ks(At,3),visibility:Us(At,4)!=null?ks(At,4):void 0}}function kr(At){return At.map(function($t){return Ml(hn($t,Xl,Ft),Hs,1).map(ar)})}function zr(At,$t){this.h=At,this.g=$t,this.l=0}function wt(At,$t,gn){return Qt(At,$t),typeof At.g.canvas.transferToImageBitmap=="function"?nt.resolve(At.g.canvas.transferToImageBitmap()):gn?nt.resolve(At.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(At.g.canvas):(At.i===void 0&&(At.i=document.createElement("canvas")),new nt(function(wn){At.i.height=At.g.canvas.height,At.i.width=At.g.canvas.width,At.i.getContext("2d",{}).drawImage(At.g.canvas,0,0,At.g.canvas.width,At.g.canvas.height),wn(At.i)}))}function Qt(At,$t){var gn=At.g;if(At.o===void 0){var wn=ir(gn,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Jn=ir(gn,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Rt=gn.createProgram();if(gn.attachShader(Rt,wn),gn.attachShader(Rt,Jn),gn.linkProgram(Rt),!gn.getProgramParameter(Rt,gn.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+gn.getProgramInfoLog(Rt));wn=At.o=Rt,gn.useProgram(wn),Jn=gn.getUniformLocation(wn,"sampler0"),At.j={K:gn.getAttribLocation(wn,"aVertex"),J:gn.getAttribLocation(wn,"aTex"),qa:Jn},At.u=gn.createBuffer(),gn.bindBuffer(gn.ARRAY_BUFFER,At.u),gn.enableVertexAttribArray(At.j.K),gn.vertexAttribPointer(At.j.K,2,gn.FLOAT,!1,0,0),gn.bufferData(gn.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),gn.STATIC_DRAW),gn.bindBuffer(gn.ARRAY_BUFFER,null),At.s=gn.createBuffer(),gn.bindBuffer(gn.ARRAY_BUFFER,At.s),gn.enableVertexAttribArray(At.j.J),gn.vertexAttribPointer(At.j.J,2,gn.FLOAT,!1,0,0),gn.bufferData(gn.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),gn.STATIC_DRAW),gn.bindBuffer(gn.ARRAY_BUFFER,null),gn.uniform1i(Jn,0)}wn=At.j,gn.useProgram(At.o),gn.canvas.width=$t.width,gn.canvas.height=$t.height,gn.viewport(0,0,$t.width,$t.height),gn.activeTexture(gn.TEXTURE0),At.h.bindTexture2d($t.glName),gn.enableVertexAttribArray(wn.K),gn.bindBuffer(gn.ARRAY_BUFFER,At.u),gn.vertexAttribPointer(wn.K,2,gn.FLOAT,!1,0,0),gn.enableVertexAttribArray(wn.J),gn.bindBuffer(gn.ARRAY_BUFFER,At.s),gn.vertexAttribPointer(wn.J,2,gn.FLOAT,!1,0,0),gn.bindFramebuffer(gn.DRAW_FRAMEBUFFER?gn.DRAW_FRAMEBUFFER:gn.FRAMEBUFFER,null),gn.clearColor(0,0,0,0),gn.clear(gn.COLOR_BUFFER_BIT),gn.colorMask(!0,!0,!0,!0),gn.drawArrays(gn.TRIANGLE_FAN,0,4),gn.disableVertexAttribArray(wn.K),gn.disableVertexAttribArray(wn.J),gn.bindBuffer(gn.ARRAY_BUFFER,null),At.h.bindTexture2d(0)}function mn(At){this.g=At}var kn=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Kn(At,$t){return $t+At}function lr(At,$t){window[At]=$t}function nr(At){var $t=document.createElement("script");return $t.setAttribute("src",At),$t.setAttribute("crossorigin","anonymous"),new nt(function(gn){$t.addEventListener("load",function(){gn()},!1),$t.addEventListener("error",function(){gn()},!1),document.body.appendChild($t)})}function Zr(){return po(function(At){switch(At.g){case 1:return At.o=2,Er(At,WebAssembly.instantiate(kn),4);case 4:At.g=3,At.o=0;break;case 2:return At.o=0,At.j=null,At.return(!1);case 3:return At.return(!0)}})}function Ar(At){if(this.g=At,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.$=!0,this.D=nt.resolve(),this.Z="",this.C={},this.locateFile=At&&At.locateFile||Kn,typeof window=="object")var $t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")$t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.aa=$t,At.options){$t=Ln(Object.keys(At.options));for(var gn=$t.next();!gn.done;gn=$t.next()){gn=gn.value;var wn=At.options[gn].default;wn!==void 0&&(this.j[gn]=typeof wn=="function"?wn():wn)}}}Et=Ar.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function ao(At){var $t,gn,wn,Jn,Rt,Gt,Yt,bt,Vt,Dt,mt;return po(function(Ot){switch(Ot.g){case 1:return At.$?($t=At.g.files===void 0?[]:typeof At.g.files=="function"?At.g.files(At.j):At.g.files,Er(Ot,Zr(),2)):Ot.return();case 2:if(gn=Ot.h,typeof window=="object")return lr("createMediapipeSolutionsWasm",{locateFile:At.locateFile}),lr("createMediapipeSolutionsPackedAssets",{locateFile:At.locateFile}),Gt=$t.filter(function(Wt){return Wt.data!==void 0}),Yt=$t.filter(function(Wt){return Wt.data===void 0}),bt=nt.all(Gt.map(function(Wt){var Ut=Zo(At,Wt.url);if(Wt.path!==void 0){var Sn=Wt.path;Ut=Ut.then(function(Nn){return At.overrideFile(Sn,Nn),nt.resolve(Nn)})}return Ut})),Vt=nt.all(Yt.map(function(Wt){return Wt.simd===void 0||Wt.simd&&gn||!Wt.simd&&!gn?nr(At.locateFile(Wt.url,At.aa)):nt.resolve()})).then(function(){var Wt,Ut,Sn;return po(function(Nn){if(Nn.g==1)return Wt=window.createMediapipeSolutionsWasm,Ut=window.createMediapipeSolutionsPackedAssets,Sn=At,Er(Nn,Wt(Ut),2);Sn.h=Nn.h,Nn.g=0})}),Dt=function(){return po(function(Wt){return At.g.graph&&At.g.graph.url?Wt=Er(Wt,Zo(At,At.g.graph.url),0):(Wt.g=0,Wt=void 0),Wt})}(),Er(Ot,nt.all([Vt,bt,Dt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return wn=$t.filter(function(Wt){return Wt.simd===void 0||Wt.simd&&gn||!Wt.simd&&!gn}).map(function(Wt){return At.locateFile(Wt.url,At.aa)}),importScripts.apply(null,Un(wn)),Jn=At,Er(Ot,createMediapipeSolutionsWasm(Module),6);case 6:Jn.h=Ot.h,At.l=new OffscreenCanvas(1,1),At.h.canvas=At.l,Rt=At.h.GL.createContext(At.l,{antialias:!1,alpha:!1,na:typeof WebGL2RenderingContext<"u"?2:1}),At.h.GL.makeContextCurrent(Rt),Ot.g=4;break;case 7:if(At.l=document.createElement("canvas"),mt=At.l.getContext("webgl2",{}),!mt&&(mt=At.l.getContext("webgl",{}),!mt))return alert("Failed to create WebGL canvas context when passing video frame."),Ot.return();At.G=mt,At.h.canvas=At.l,At.h.createContext(At.l,!0,!0,{});case 4:At.i=new At.h.SolutionWasm,At.$=!1,Ot.g=0}})}function Co(At){var $t,gn,wn,Jn,Rt,Gt,Yt,bt;return po(function(Vt){if(Vt.g==1){if(At.g.graph&&At.g.graph.url&&At.Z===At.g.graph.url)return Vt.return();if(At.s=!0,!At.g.graph||!At.g.graph.url){Vt.g=2;return}return At.Z=At.g.graph.url,Er(Vt,Zo(At,At.g.graph.url),3)}for(Vt.g!=2&&($t=Vt.h,At.i.loadGraph($t)),gn=Ln(Object.keys(At.C)),wn=gn.next();!wn.done;wn=gn.next())Jn=wn.value,At.i.overrideFile(Jn,At.C[Jn]);if(At.C={},At.g.listeners)for(Rt=Ln(At.g.listeners),Gt=Rt.next();!Gt.done;Gt=Rt.next())Yt=Gt.value,Po(At,Yt);bt=At.j,At.j={},At.setOptions(bt),Vt.g=0})}Et.reset=function(){var At=this;return po(function($t){At.i&&(At.i.reset(),At.o={},At.u={}),$t.g=0})},Et.setOptions=function(At,$t){var gn=this;if($t=$t||this.g.options){for(var wn=[],Jn=[],Rt={},Gt=Ln(Object.keys(At)),Yt=Gt.next();!Yt.done;Rt={R:Rt.R,S:Rt.S},Yt=Gt.next()){var bt=Yt.value;bt in this.j&&this.j[bt]===At[bt]||(this.j[bt]=At[bt],Yt=$t[bt],Yt!==void 0&&(Yt.onChange&&(Rt.R=Yt.onChange,Rt.S=At[bt],wn.push(function(Vt){return function(){var Dt;return po(function(mt){if(mt.g==1)return Er(mt,Vt.R(Vt.S),2);Dt=mt.h,Dt===!0&&(gn.s=!0),mt.g=0})}}(Rt))),Yt.graphOptionXref&&(bt={valueNumber:Yt.type===1?At[bt]:0,valueBoolean:Yt.type===0?At[bt]:!1,valueString:Yt.type===2?At[bt]:""},Yt=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Yt.graphOptionXref),bt),Jn.push(Yt))))}(wn.length!==0||Jn.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(Jn),this.A=(this.A===void 0?[]:this.A).concat(wn))}};function ss(At){var $t,gn,wn,Jn,Rt,Gt,Yt;return po(function(bt){switch(bt.g){case 1:if(!At.s)return bt.return();if(!At.A){bt.g=2;break}$t=Ln(At.A),gn=$t.next();case 3:if(gn.done){bt.g=5;break}return wn=gn.value,Er(bt,wn(),4);case 4:gn=$t.next(),bt.g=3;break;case 5:At.A=void 0;case 2:if(At.B){for(Jn=new At.h.GraphOptionChangeRequestList,Rt=Ln(At.B),Gt=Rt.next();!Gt.done;Gt=Rt.next())Yt=Gt.value,Jn.push_back(Yt);At.i.changeOptions(Jn),Jn.delete(),At.B=void 0}At.s=!1,bt.g=0}})}Et.initialize=function(){var At=this;return po(function($t){return $t.g==1?Er($t,ao(At),2):$t.g!=3?Er($t,Co(At),3):Er($t,ss(At),0)})};function Zo(At,$t){var gn,wn;return po(function(Jn){return $t in At.H?Jn.return(At.H[$t]):(gn=At.locateFile($t,""),wn=fetch(gn).then(function(Rt){return Rt.arrayBuffer()}),At.H[$t]=wn,Jn.return(wn))})}Et.overrideFile=function(At,$t){this.i?this.i.overrideFile(At,$t):this.C[At]=$t},Et.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(At,$t){var gn=this,wn,Jn,Rt,Gt,Yt,bt,Vt,Dt,mt;return po(function(Ot){switch(Ot.g){case 1:return gn.g.inputs?(wn=1e3*($t??performance.now()),Er(Ot,gn.D,2)):Ot.return();case 2:return Er(Ot,gn.initialize(),3);case 3:for(Jn=new gn.h.PacketDataList,Rt=Ln(Object.keys(At)),Gt=Rt.next();!Gt.done;Gt=Rt.next())if(Yt=Gt.value,bt=gn.g.inputs[Yt]){e:{var Wt=At[Yt];switch(bt.type){case"video":var Ut=gn.o[bt.stream];if(Ut||(Ut=new zr(gn.h,gn.G),gn.o[bt.stream]=Ut),Ut.l===0&&(Ut.l=Ut.h.createTexture()),typeof HTMLVideoElement<"u"&&Wt instanceof HTMLVideoElement)var Sn=Wt.videoWidth,Nn=Wt.videoHeight;else typeof HTMLImageElement<"u"&&Wt instanceof HTMLImageElement?(Sn=Wt.naturalWidth,Nn=Wt.naturalHeight):(Sn=Wt.width,Nn=Wt.height);Nn={glName:Ut.l,width:Sn,height:Nn},Sn=Ut.g,Sn.canvas.width=Nn.width,Sn.canvas.height=Nn.height,Sn.activeTexture(Sn.TEXTURE0),Ut.h.bindTexture2d(Ut.l),Sn.texImage2D(Sn.TEXTURE_2D,0,Sn.RGBA,Sn.RGBA,Sn.UNSIGNED_BYTE,Wt),Ut.h.bindTexture2d(0),Ut=Nn;break e;case"detections":for(Ut=gn.o[bt.stream],Ut||(Ut=new mn(gn.h),gn.o[bt.stream]=Ut),Ut.data||(Ut.data=new Ut.g.DetectionListData),Ut.data.reset(Wt.length),Nn=0;Nn<Wt.length;++Nn){Sn=Wt[Nn];var Gn=Ut.data,tr=Gn.setBoundingBox,mr=Nn,Tr=Sn.ea,xr=new Kt;if(Ko(xr,1,Tr.ka),Ko(xr,2,Tr.la),Ko(xr,3,Tr.height),Ko(xr,4,Tr.width),Ko(xr,5,Tr.rotation),Ko(xr,6,Tr.ia),Tr=Sr(xr,Fn),tr.call(Gn,mr,Tr),Sn.Y)for(Gn=0;Gn<Sn.Y.length;++Gn){xr=Sn.Y[Gn];var Br=!!xr.visibility;tr=Ut.data,mr=tr.addNormalizedLandmark,Tr=Nn,xr=Object.assign(Object.assign({},xr),{visibility:Br?xr.visibility:0}),Br=new Hs,Ko(Br,1,xr.x),Ko(Br,2,xr.y),Ko(Br,3,xr.z),xr.visibility&&Ko(Br,4,xr.visibility),xr=Sr(Br,Qs),mr.call(tr,Tr,xr)}if(Sn.V)for(Gn=0;Gn<Sn.V.length;++Gn)tr=Ut.data,mr=tr.addClassification,Tr=Nn,xr=Sn.V[Gn],Br=new es,Ko(Br,2,xr.score),xr.index&&Ko(Br,1,xr.index),xr.label&&Ko(Br,3,xr.label),xr.displayName&&Ko(Br,4,xr.displayName),xr=Sr(Br,Fo),mr.call(tr,Tr,xr)}Ut=Ut.data;break e;default:Ut={}}}switch(Vt=Ut,Dt=bt.stream,bt.type){case"video":Jn.pushTexture2d(Object.assign(Object.assign({},Vt),{stream:Dt,timestamp:wn}));break;case"detections":mt=Vt,mt.stream=Dt,mt.timestamp=wn,Jn.pushDetectionList(mt);break;default:throw Error("Unknown input config type: '"+bt.type+"'")}}return gn.i.send(Jn),Er(Ot,gn.D,4);case 4:Jn.delete(),Ot.g=0}})};function eo(At,$t,gn){var wn,Jn,Rt,Gt,Yt,bt,Vt,Dt,mt,Ot,Wt,Ut,Sn,Nn;return po(function(Gn){switch(Gn.g){case 1:if(!gn)return Gn.return($t);for(wn={},Jn=0,Rt=Ln(Object.keys(gn)),Gt=Rt.next();!Gt.done;Gt=Rt.next())Yt=Gt.value,bt=gn[Yt],typeof bt!="string"&&bt.type==="texture"&&$t[bt.stream]!==void 0&&++Jn;1<Jn&&(At.I=!1),Vt=Ln(Object.keys(gn)),Gt=Vt.next();case 2:if(Gt.done){Gn.g=4;break}if(Dt=Gt.value,mt=gn[Dt],typeof mt=="string")return Sn=wn,Nn=Dt,Er(Gn,Io(At,Dt,$t[mt]),14);if(Ot=$t[mt.stream],mt.type==="detection_list"){if(Ot){for(var tr=Ot.getRectList(),mr=Ot.getLandmarksList(),Tr=Ot.getClassificationsList(),xr=[],Br=0;Br<tr.size();++Br){var to=hn(tr.get(Br),Kt,Fn);to={ea:{ka:ks(to,1),la:ks(to,2),height:ks(to,3),width:ks(to,4),rotation:ks(to,5,0),ia:Ls(to,6)},Y:Ml(hn(mr.get(Br),Xl,Ft),Hs,1).map(ar),V:Cr(hn(Tr.get(Br),rs,Ss))},xr.push(to)}tr=xr}else tr=[];wn[Dt]=tr,Gn.g=7;break}if(mt.type==="proto_list"){if(Ot){for(tr=Array(Ot.size()),mr=0;mr<Ot.size();mr++)tr[mr]=Ot.get(mr);Ot.delete()}else tr=[];wn[Dt]=tr,Gn.g=7;break}if(Ot===void 0){Gn.g=3;break}if(mt.type==="float_list"){wn[Dt]=Ot,Gn.g=7;break}if(mt.type==="proto"){wn[Dt]=Ot,Gn.g=7;break}if(mt.type!=="texture")throw Error("Unknown output config type: '"+mt.type+"'");return Wt=At.u[Dt],Wt||(Wt=new zr(At.h,At.G),At.u[Dt]=Wt),Er(Gn,wt(Wt,Ot,At.I),13);case 13:Ut=Gn.h,wn[Dt]=Ut;case 7:mt.transform&&wn[Dt]&&(wn[Dt]=mt.transform(wn[Dt])),Gn.g=3;break;case 14:Sn[Nn]=Gn.h;case 3:Gt=Vt.next(),Gn.g=2;break;case 4:return Gn.return(wn)}})}function Io(At,$t,gn){var wn;return po(function(Jn){return typeof gn=="number"||gn instanceof Uint8Array||gn instanceof At.h.Uint8BlobList?Jn.return(gn):gn instanceof At.h.Texture2dDataOut?(wn=At.u[$t],wn||(wn=new zr(At.h,At.G),At.u[$t]=wn),Jn.return(wt(wn,gn,At.I))):Jn.return(void 0)})}function Po(At,$t){for(var gn=$t.name||"$",wn=[].concat(Un($t.wants)),Jn=new At.h.StringList,Rt=Ln($t.wants),Gt=Rt.next();!Gt.done;Gt=Rt.next())Jn.push_back(Gt.value);Rt=At.h.PacketListener.implement({onResults:function(Yt){for(var bt={},Vt=0;Vt<$t.wants.length;++Vt)bt[wn[Vt]]=Yt.get(Vt);var Dt=At.listeners[gn];Dt&&(At.D=eo(At,bt,$t.outs).then(function(mt){mt=Dt(mt);for(var Ot=0;Ot<$t.wants.length;++Ot){var Wt=bt[wn[Ot]];typeof Wt=="object"&&Wt.hasOwnProperty&&Wt.hasOwnProperty("delete")&&Wt.delete()}mt&&(At.D=mt)}))}}),At.i.attachMultiListener(Jn,Rt),Jn.delete()}Et.onResults=function(At,$t){this.listeners[$t||"$"]=At},Jo("Solution",Ar),Jo("OptionType",{BOOL:0,NUMBER:1,ma:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Bo(At){return At===void 0&&(At=0),At===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function zo(At){var $t=this;At=At||{},this.g=new Ar({locateFile:At.locateFile,files:function(gn){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Bo(gn.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:kr},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:kr},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(gn){return gn.map(function(wn){return Cr(hn(wn,rs,Ss))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(gn){var wn,Jn,Rt;return po(function(Gt){return Gt.g==1?(wn=Bo(gn),Jn="third_party/mediapipe/modules/hand_landmark/"+wn,Er(Gt,Zo($t.g,wn),2)):(Rt=Gt.h,$t.g.overrideFile(Jn,Rt),Gt.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}Et=zo.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(At){this.g.onResults(At)},Et.initialize=function(){var At=this;return po(function($t){return Er($t,At.g.initialize(),0)})},Et.reset=function(){this.g.reset()},Et.send=function(At){var $t=this;return po(function(gn){return Er(gn,$t.g.send(At),0)})},Et.setOptions=function(At){this.g.setOptions(At)},Jo("Hands",zo),Jo("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),Jo("VERSION","0.4.1646424915")}).call(Gu);var gp={};(function(){var Et;function St(bt){var Vt=0;return function(){return Vt<bt.length?{done:!1,value:bt[Vt++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(bt,Vt,Dt){return bt==Array.prototype||bt==Object.prototype||(bt[Vt]=Dt.value),bt};function jt(bt){bt=[typeof globalThis=="object"&&globalThis,bt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Vt=0;Vt<bt.length;++Vt){var Dt=bt[Vt];if(Dt&&Dt.Math==Math)return Dt}throw Error("Cannot find global object")}var zt=jt(this);function Rn(bt,Vt){if(Vt)e:{var Dt=zt;bt=bt.split(".");for(var mt=0;mt<bt.length-1;mt++){var Ot=bt[mt];if(!(Ot in Dt))break e;Dt=Dt[Ot]}bt=bt[bt.length-1],mt=Dt[bt],Vt=Vt(mt),Vt!=mt&&Vt!=null&&xt(Dt,bt,{configurable:!0,writable:!0,value:Vt})}}Rn("Symbol",function(bt){function Vt(Wt){if(this instanceof Vt)throw new TypeError("Symbol is not a constructor");return new Dt(mt+(Wt||"")+"_"+Ot++,Wt)}function Dt(Wt,Ut){this.g=Wt,xt(this,"description",{configurable:!0,writable:!0,value:Ut})}if(bt)return bt;Dt.prototype.toString=function(){return this.g};var mt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Ot=0;return Vt}),Rn("Symbol.iterator",function(bt){if(bt)return bt;bt=Symbol("Symbol.iterator");for(var Vt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Dt=0;Dt<Vt.length;Dt++){var mt=zt[Vt[Dt]];typeof mt=="function"&&typeof mt.prototype[bt]!="function"&&xt(mt.prototype,bt,{configurable:!0,writable:!0,value:function(){return Mn(St(this))}})}return bt});function Mn(bt){return bt={next:bt},bt[Symbol.iterator]=function(){return this},bt}function Ln(bt){var Vt=typeof Symbol<"u"&&Symbol.iterator&&bt[Symbol.iterator];return Vt?Vt.call(bt):{next:St(bt)}}function Un(bt){if(!(bt instanceof Array)){bt=Ln(bt);for(var Vt,Dt=[];!(Vt=bt.next()).done;)Dt.push(Vt.value);bt=Dt}return bt}var wr=typeof Object.create=="function"?Object.create:function(bt){function Vt(){}return Vt.prototype=bt,new Vt},Xr;if(typeof Object.setPrototypeOf=="function")Xr=Object.setPrototypeOf;else{var Hr;e:{var Wo={a:!0},Uo={};try{Uo.__proto__=Wo,Hr=Uo.a;break e}catch{}Hr=!1}Xr=Hr?function(bt,Vt){if(bt.__proto__=Vt,bt.__proto__!==Vt)throw new TypeError(bt+" is not extensible");return bt}:null}var $r=Xr;function qr(bt,Vt){if(bt.prototype=wr(Vt.prototype),bt.prototype.constructor=bt,$r)$r(bt,Vt);else for(var Dt in Vt)if(Dt!="prototype")if(Object.defineProperties){var mt=Object.getOwnPropertyDescriptor(Vt,Dt);mt&&Object.defineProperty(bt,Dt,mt)}else bt[Dt]=Vt[Dt];bt.da=Vt.prototype}function ns(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function qo(bt){if(bt.l)throw new TypeError("Generator is already running");bt.l=!0}ns.prototype.o=function(bt){this.h=bt};function Is(bt,Vt){bt.j={U:Vt,V:!0},bt.g=bt.m||bt.s}ns.prototype.return=function(bt){this.j={return:bt},this.g=this.s};function Er(bt,Vt,Dt){return bt.g=Dt,{value:Vt}}function ju(bt){this.g=new ns,this.h=bt}function ku(bt,Vt){qo(bt.g);var Dt=bt.g.i;return Dt?Tl(bt,"return"in Dt?Dt.return:function(mt){return{value:mt,done:!0}},Vt,bt.g.return):(bt.g.return(Vt),Cs(bt))}function Tl(bt,Vt,Dt,mt){try{var Ot=Vt.call(bt.g.i,Dt);if(!(Ot instanceof Object))throw new TypeError("Iterator result "+Ot+" is not an object");if(!Ot.done)return bt.g.l=!1,Ot;var Wt=Ot.value}catch(Ut){return bt.g.i=null,Is(bt.g,Ut),Cs(bt)}return bt.g.i=null,mt.call(bt.g,Wt),Cs(bt)}function Cs(bt){for(;bt.g.g;)try{var Vt=bt.h(bt.g);if(Vt)return bt.g.l=!1,{value:Vt.value,done:!1}}catch(Dt){bt.g.h=void 0,Is(bt.g,Dt)}if(bt.g.l=!1,bt.g.j){if(Vt=bt.g.j,bt.g.j=null,Vt.V)throw Vt.U;return{value:Vt.return,done:!0}}return{value:void 0,done:!0}}function Jp(bt){this.next=function(Vt){return qo(bt.g),bt.g.i?Vt=Tl(bt,bt.g.i.next,Vt,bt.g.o):(bt.g.o(Vt),Vt=Cs(bt)),Vt},this.throw=function(Vt){return qo(bt.g),bt.g.i?Vt=Tl(bt,bt.g.i.throw,Vt,bt.g.o):(Is(bt.g,Vt),Vt=Cs(bt)),Vt},this.return=function(Vt){return ku(bt,Vt)},this[Symbol.iterator]=function(){return this}}function Fs(bt){function Vt(mt){return bt.next(mt)}function Dt(mt){return bt.throw(mt)}return new nt(function(mt,Ot){function Wt(Ut){Ut.done?mt(Ut.value):nt.resolve(Ut.value).then(Vt,Dt).then(Wt,Ot)}Wt(bt.next())})}function po(bt){return Fs(new Jp(new ju(bt)))}Rn("Promise",function(bt){function Vt(Ut){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Sn=this.j();try{Ut(Sn.resolve,Sn.reject)}catch(Nn){Sn.reject(Nn)}}function Dt(){this.g=null}function mt(Ut){return Ut instanceof Vt?Ut:new Vt(function(Sn){Sn(Ut)})}if(bt)return bt;Dt.prototype.h=function(Ut){if(this.g==null){this.g=[];var Sn=this;this.i(function(){Sn.l()})}this.g.push(Ut)};var Ot=zt.setTimeout;Dt.prototype.i=function(Ut){Ot(Ut,0)},Dt.prototype.l=function(){for(;this.g&&this.g.length;){var Ut=this.g;this.g=[];for(var Sn=0;Sn<Ut.length;++Sn){var Nn=Ut[Sn];Ut[Sn]=null;try{Nn()}catch(Gn){this.j(Gn)}}}this.g=null},Dt.prototype.j=function(Ut){this.i(function(){throw Ut})},Vt.prototype.j=function(){function Ut(Gn){return function(tr){Nn||(Nn=!0,Gn.call(Sn,tr))}}var Sn=this,Nn=!1;return{resolve:Ut(this.C),reject:Ut(this.l)}},Vt.prototype.C=function(Ut){if(Ut===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Ut instanceof Vt)this.F(Ut);else{e:switch(typeof Ut){case"object":var Sn=Ut!=null;break e;case"function":Sn=!0;break e;default:Sn=!1}Sn?this.v(Ut):this.m(Ut)}},Vt.prototype.v=function(Ut){var Sn=void 0;try{Sn=Ut.then}catch(Nn){this.l(Nn);return}typeof Sn=="function"?this.G(Sn,Ut):this.m(Ut)},Vt.prototype.l=function(Ut){this.s(2,Ut)},Vt.prototype.m=function(Ut){this.s(1,Ut)},Vt.prototype.s=function(Ut,Sn){if(this.h!=0)throw Error("Cannot settle("+Ut+", "+Sn+"): Promise already settled in state"+this.h);this.h=Ut,this.i=Sn,this.h===2&&this.D(),this.A()},Vt.prototype.D=function(){var Ut=this;Ot(function(){if(Ut.B()){var Sn=zt.console;typeof Sn<"u"&&Sn.error(Ut.i)}},1)},Vt.prototype.B=function(){if(this.o)return!1;var Ut=zt.CustomEvent,Sn=zt.Event,Nn=zt.dispatchEvent;return typeof Nn>"u"?!0:(typeof Ut=="function"?Ut=new Ut("unhandledrejection",{cancelable:!0}):typeof Sn=="function"?Ut=new Sn("unhandledrejection",{cancelable:!0}):(Ut=zt.document.createEvent("CustomEvent"),Ut.initCustomEvent("unhandledrejection",!1,!0,Ut)),Ut.promise=this,Ut.reason=this.i,Nn(Ut))},Vt.prototype.A=function(){if(this.g!=null){for(var Ut=0;Ut<this.g.length;++Ut)Wt.h(this.g[Ut]);this.g=null}};var Wt=new Dt;return Vt.prototype.F=function(Ut){var Sn=this.j();Ut.J(Sn.resolve,Sn.reject)},Vt.prototype.G=function(Ut,Sn){var Nn=this.j();try{Ut.call(Sn,Nn.resolve,Nn.reject)}catch(Gn){Nn.reject(Gn)}},Vt.prototype.then=function(Ut,Sn){function Nn(Tr,xr){return typeof Tr=="function"?function(Br){try{Gn(Tr(Br))}catch(to){tr(to)}}:xr}var Gn,tr,mr=new Vt(function(Tr,xr){Gn=Tr,tr=xr});return this.J(Nn(Ut,Gn),Nn(Sn,tr)),mr},Vt.prototype.catch=function(Ut){return this.then(void 0,Ut)},Vt.prototype.J=function(Ut,Sn){function Nn(){switch(Gn.h){case 1:Ut(Gn.i);break;case 2:Sn(Gn.i);break;default:throw Error("Unexpected state: "+Gn.h)}}var Gn=this;this.g==null?Wt.h(Nn):this.g.push(Nn),this.o=!0},Vt.resolve=mt,Vt.reject=function(Ut){return new Vt(function(Sn,Nn){Nn(Ut)})},Vt.race=function(Ut){return new Vt(function(Sn,Nn){for(var Gn=Ln(Ut),tr=Gn.next();!tr.done;tr=Gn.next())mt(tr.value).J(Sn,Nn)})},Vt.all=function(Ut){var Sn=Ln(Ut),Nn=Sn.next();return Nn.done?mt([]):new Vt(function(Gn,tr){function mr(Br){return function(to){Tr[Br]=to,xr--,xr==0&&Gn(Tr)}}var Tr=[],xr=0;do Tr.push(void 0),xr++,mt(Nn.value).J(mr(Tr.length-1),tr),Nn=Sn.next();while(!Nn.done)})},Vt});function Xu(bt,Vt){bt instanceof String&&(bt+="");var Dt=0,mt=!1,Ot={next:function(){if(!mt&&Dt<bt.length){var Wt=Dt++;return{value:Vt(Wt,bt[Wt]),done:!1}}return mt=!0,{done:!0,value:void 0}}};return Ot[Symbol.iterator]=function(){return Ot},Ot}var Qp=typeof Object.assign=="function"?Object.assign:function(bt,Vt){for(var Dt=1;Dt<arguments.length;Dt++){var mt=arguments[Dt];if(mt)for(var Ot in mt)Object.prototype.hasOwnProperty.call(mt,Ot)&&(bt[Ot]=mt[Ot])}return bt};Rn("Object.assign",function(bt){return bt||Qp}),Rn("Object.is",function(bt){return bt||function(Vt,Dt){return Vt===Dt?Vt!==0||1/Vt===1/Dt:Vt!==Vt&&Dt!==Dt}}),Rn("Array.prototype.includes",function(bt){return bt||function(Vt,Dt){var mt=this;mt instanceof String&&(mt=String(mt));var Ot=mt.length;for(Dt=Dt||0,0>Dt&&(Dt=Math.max(Dt+Ot,0));Dt<Ot;Dt++){var Wt=mt[Dt];if(Wt===Vt||Object.is(Wt,Vt))return!0}return!1}}),Rn("String.prototype.includes",function(bt){return bt||function(Vt,Dt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Vt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Vt,Dt||0)!==-1}}),Rn("Array.prototype.keys",function(bt){return bt||function(){return Xu(this,function(Vt){return Vt})}});var xl=this||self;function Jo(bt,Vt){bt=bt.split(".");var Dt=xl;bt[0]in Dt||typeof Dt.execScript>"u"||Dt.execScript("var "+bt[0]);for(var mt;bt.length&&(mt=bt.shift());)bt.length||Vt===void 0?Dt[mt]&&Dt[mt]!==Object.prototype[mt]?Dt=Dt[mt]:Dt=Dt[mt]={}:Dt[mt]=Vt}function Zl(bt){xl.setTimeout(function(){throw bt},0)}function Tu(bt){Zl(bt)}function ep(bt,Vt){Tu(Error("Invalid wire type: "+bt+" (at position "+Vt+")"))}function Rp(){Tu(Error("Failed to read varint, encoding is invalid."))}function cp(bt,Vt){return Vt=String.fromCharCode.apply(null,Vt),bt==null?Vt:bt+Vt}var Ap,Lu=typeof TextDecoder<"u",Uu,Pp=typeof TextEncoder<"u";function Ip(bt){if(Pp)bt=(Uu||(Uu=new TextEncoder)).encode(bt);else{var Vt=void 0;Vt=Vt===void 0?!1:Vt;for(var Dt=0,mt=new Uint8Array(3*bt.length),Ot=0;Ot<bt.length;Ot++){var Wt=bt.charCodeAt(Ot);if(128>Wt)mt[Dt++]=Wt;else{if(2048>Wt)mt[Dt++]=Wt>>6|192;else{if(55296<=Wt&&57343>=Wt){if(56319>=Wt&&Ot<bt.length){var Ut=bt.charCodeAt(++Ot);if(56320<=Ut&&57343>=Ut){Wt=1024*(Wt-55296)+Ut-56320+65536,mt[Dt++]=Wt>>18|240,mt[Dt++]=Wt>>12&63|128,mt[Dt++]=Wt>>6&63|128,mt[Dt++]=Wt&63|128;continue}else Ot--}if(Vt)throw Error("Found an unpaired surrogate");Wt=65533}mt[Dt++]=Wt>>12|224,mt[Dt++]=Wt>>6&63|128}mt[Dt++]=Wt&63|128}}bt=mt.subarray(0,Dt)}return bt}var ru={},tu=null;function lp(bt){var Vt;Vt===void 0&&(Vt=0),Vl(),Vt=ru[Vt];for(var Dt=Array(Math.floor(bt.length/3)),mt=Vt[64]||"",Ot=0,Wt=0;Ot<bt.length-2;Ot+=3){var Ut=bt[Ot],Sn=bt[Ot+1],Nn=bt[Ot+2],Gn=Vt[Ut>>2];Ut=Vt[(Ut&3)<<4|Sn>>4],Sn=Vt[(Sn&15)<<2|Nn>>6],Nn=Vt[Nn&63],Dt[Wt++]=Gn+Ut+Sn+Nn}switch(Gn=0,Nn=mt,bt.length-Ot){case 2:Gn=bt[Ot+1],Nn=Vt[(Gn&15)<<2]||mt;case 1:bt=bt[Ot],Dt[Wt]=Vt[bt>>2]+Vt[(bt&3)<<4|Gn>>4]+Nn+mt}return Dt.join("")}function tp(bt){var Vt=bt.length,Dt=3*Vt/4;Dt%3?Dt=Math.floor(Dt):"=.".indexOf(bt[Vt-1])!=-1&&(Dt="=.".indexOf(bt[Vt-2])!=-1?Dt-2:Dt-1);var mt=new Uint8Array(Dt),Ot=0;return Xs(bt,function(Wt){mt[Ot++]=Wt}),mt.subarray(0,Ot)}function Xs(bt,Vt){function Dt(Nn){for(;mt<bt.length;){var Gn=bt.charAt(mt++),tr=tu[Gn];if(tr!=null)return tr;if(!/^[\s\xa0]*$/.test(Gn))throw Error("Unknown base64 encoding at char: "+Gn)}return Nn}Vl();for(var mt=0;;){var Ot=Dt(-1),Wt=Dt(0),Ut=Dt(64),Sn=Dt(64);if(Sn===64&&Ot===-1)break;Vt(Ot<<2|Wt>>4),Ut!=64&&(Vt(Wt<<4&240|Ut>>2),Sn!=64&&Vt(Ut<<6&192|Sn))}}function Vl(){if(!tu){tu={};for(var bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Vt=["+/=","+/","-_=","-_.","-_"],Dt=0;5>Dt;Dt++){var mt=bt.concat(Vt[Dt].split(""));ru[Dt]=mt;for(var Ot=0;Ot<mt.length;Ot++){var Wt=mt[Ot];tu[Wt]===void 0&&(tu[Wt]=Ot)}}}}var iu=typeof Uint8Array=="function",Os;function El(bt){if(this.g=bt,bt!==null&&bt.length===0)throw Error("ByteString should be constructed with non-empty values")}El.prototype.toJSON=function(){if(this.g==null)var bt="";else bt=this.g,bt=this.g=bt==null||typeof bt=="string"?bt:iu&&bt instanceof Uint8Array?lp(bt):null;return bt};var xu=typeof Uint8Array.prototype.slice=="function";function Kl(bt,Vt,Dt){return Vt===Dt?Os||(Os=new Uint8Array(0)):xu?bt.slice(Vt,Dt):new Uint8Array(bt.subarray(Vt,Dt))}var bs=0,na=0;function Gl(bt){if(bt.constructor===Uint8Array)return bt;if(bt.constructor===ArrayBuffer)return new Uint8Array(bt);if(bt.constructor===Array)return new Uint8Array(bt);if(bt.constructor===String)return tp(bt);if(bt.constructor===El){if(bt.g==null)var Vt=Os||(Os=new Uint8Array(0));else{Vt=Uint8Array;var Dt=bt.g;Dt=Dt==null||iu&&Dt!=null&&Dt instanceof Uint8Array?Dt:typeof Dt=="string"?tp(Dt):null,bt=bt.g=Dt,Vt=new Vt(bt)}return Vt}if(bt instanceof Uint8Array)return new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function as(bt,Vt){Vt=Vt===void 0?{}:Vt,Vt=Vt.u===void 0?!1:Vt.u,this.h=null,this.g=this.i=this.m=0,this.l=!1,this.u=Vt,bt&&Ol(this,bt)}function Ol(bt,Vt){bt.h=Gl(Vt),bt.m=0,bt.i=bt.h.length,bt.g=bt.m}as.prototype.reset=function(){this.g=this.m};function ms(bt){for(var Vt=128,Dt=0,mt=0,Ot=0;4>Ot&&128<=Vt;Ot++)Vt=bt.h[bt.g++],Dt|=(Vt&127)<<7*Ot;if(128<=Vt&&(Vt=bt.h[bt.g++],Dt|=(Vt&127)<<28,mt|=(Vt&127)>>4),128<=Vt)for(Ot=0;5>Ot&&128<=Vt;Ot++)Vt=bt.h[bt.g++],mt|=(Vt&127)<<7*Ot+3;if(128>Vt)return bt=Dt>>>0,Vt=mt>>>0,(mt=Vt&2147483648)&&(bt=~bt+1>>>0,Vt=~Vt>>>0,bt==0&&(Vt=Vt+1>>>0)),bt=4294967296*Vt+(bt>>>0),mt?-bt:bt;bt.l=!0,Rp()}function Js(bt){bt.g>bt.i&&(bt.l=!0,Tu(Error("Tried to read past the end of the data "+bt.g+" > "+bt.i)))}as.prototype.j=function(){var bt=this.h,Vt=bt[this.g],Dt=Vt&127;return 128>Vt?(this.g+=1,Js(this),Dt):(Vt=bt[this.g+1],Dt|=(Vt&127)<<7,128>Vt?(this.g+=2,Js(this),Dt):(Vt=bt[this.g+2],Dt|=(Vt&127)<<14,128>Vt?(this.g+=3,Js(this),Dt):(Vt=bt[this.g+3],Dt|=(Vt&127)<<21,128>Vt?(this.g+=4,Js(this),Dt):(Vt=bt[this.g+4],Dt|=(Vt&15)<<28,128>Vt?(this.g+=5,Js(this),Dt>>>0):(this.g+=5,128<=bt[this.g++]&&128<=bt[this.g++]&&128<=bt[this.g++]&&128<=bt[this.g++]&&128<=bt[this.g++]?(this.l=!0,Rp(),Dt):(Js(this),Dt))))))},as.prototype.o=function(){var bt=this.h[this.g],Vt=this.h[this.g+1],Dt=this.h[this.g+2],mt=this.h[this.g+3];return this.g+=4,Js(this),Dt=(bt<<0|Vt<<8|Dt<<16|mt<<24)>>>0,bt=2*(Dt>>31)+1,Vt=Dt>>>23&255,Dt&=8388607,Vt==255?Dt?NaN:1/0*bt:Vt==0?bt*Math.pow(2,-149)*Dt:bt*Math.pow(2,Vt-150)*(Dt+Math.pow(2,23))};var Nl=[];function du(){this.g=new Uint8Array(64),this.h=0}function $a(bt,Vt){if(!(bt.h+1<bt.g.length)){var Dt=bt.g;bt.g=new Uint8Array(Math.ceil(1+2*bt.g.length)),bt.g.set(Dt)}bt.g[bt.h++]=Vt}du.prototype.length=function(){return this.h},du.prototype.end=function(){var bt=this.g,Vt=this.h;return this.h=0,Kl(bt,0,Vt)};function gs(bt,Vt){for(;127<Vt;)$a(bt,Vt&127|128),Vt>>>=7;$a(bt,Vt)}function nu(bt){var Vt={},Dt=Vt.N===void 0?!1:Vt.N;this.m={u:Vt.u===void 0?!1:Vt.u},this.N=Dt,Vt=this.m,Nl.length?(Dt=Nl.pop(),Vt&&(Dt.u=Vt.u),bt&&Ol(Dt,bt),bt=Dt):bt=new as(bt,Vt),this.g=bt,this.l=this.g.g,this.h=this.i=-1,this.j=!1}nu.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function ou(bt){var Vt=bt.g;if((Vt=Vt.g==Vt.i)||(Vt=bt.j)||(Vt=bt.g,Vt=Vt.l||0>Vt.g||Vt.g>Vt.i),Vt)return!1;bt.l=bt.g.g;var Dt=bt.g.j();return Vt=Dt>>>3,Dt&=7,0<=Dt&&5>=Dt?(bt.i=Vt,bt.h=Dt,!0):(bt.j=!0,ep(Dt,bt.l),!1)}function Al(bt){switch(bt.h){case 0:if(bt.h!=0)Al(bt);else e:{bt=bt.g;for(var Vt=bt.g,Dt=0;10>Dt;Dt++){if(!(bt.h[Vt]&128)){bt.g=Vt+1,Js(bt);break e}Vt++}bt.l=!0,Rp()}break;case 1:bt=bt.g,bt.g+=8,Js(bt);break;case 2:bt.h!=2?Al(bt):(Vt=bt.g.j(),bt=bt.g,bt.g+=Vt,Js(bt));break;case 5:bt=bt.g,bt.g+=4,Js(bt);break;case 3:Vt=bt.i;do{if(!ou(bt)){bt.j=!0,Tu(Error("Unmatched start-group tag: stream EOF"));break}if(bt.h==4){bt.i!=Vt&&(bt.j=!0,Tu(Error("Unmatched end-group tag")));break}Al(bt)}while(1);break;default:bt.j=!0,ep(bt.h,bt.l)}}function np(bt,Vt,Dt){bt.N||(bt=Kl(bt.g.h,Dt,bt.g.g),(Dt=Vt.o)?Dt.push(bt):Vt.o=[bt])}function Ru(bt,Vt,Dt){var mt=bt.g.i,Ot=bt.g.j(),Wt=bt.g.g+Ot;if(bt.g.i=Wt,Dt(Vt,bt),Dt=Wt-bt.g.g,Dt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(Ot+" bytes, instead read "+(Ot-Dt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return bt.g.g=Wt,bt.g.i=mt,Vt}function su(bt,Vt,Dt){var mt=bt.g.j();for(mt=bt.g.g+mt;bt.g.g<mt;)Dt.push(Vt.call(bt.g))}var Iu=[];function ga(){this.h=[],this.i=0,this.g=new du}function Pl(bt,Vt){Vt.length!==0&&(bt.h.push(Vt),bt.i+=Vt.length)}function ba(bt,Vt,Dt){gs(bt.g,8*Vt+2),gs(bt.g,Dt.length),Pl(bt,bt.g.end()),Pl(bt,Dt)}var As=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function au(bt,Vt){Object.isFrozen(bt)||(As?bt[As]|=Vt:bt.g!==void 0?bt.g|=Vt:Object.defineProperties(bt,{g:{value:Vt,configurable:!0,writable:!0,enumerable:!1}}))}function xs(bt){if(!bt)return 0;var Vt;return As?Vt=bt[As]:Vt=bt.g,Vt??0}function vs(bt){return Array.isArray(bt)&&au(bt,1),bt}function Vu(bt){if(!Array.isArray(bt))throw Error("cannot mark non-array as immutable");au(bt,2)}function Us(bt){return bt!==null&&typeof bt=="object"&&bt.constructor===Object}function Ko(bt){switch(typeof bt){case"number":return isFinite(bt)?bt:String(bt);case"object":return iu&&bt!=null&&bt instanceof Uint8Array?lp(bt):bt;default:return bt}}function Ao(bt,Vt){if(bt!=null)return Array.isArray(bt)||Us(bt)?ks(bt,Vt):Vt(bt)}function ks(bt,Vt){if(Array.isArray(bt)){for(var Dt=Array(bt.length),mt=0;mt<bt.length;mt++)Dt[mt]=Ao(bt[mt],Vt);return xs(bt)&1&&vs(Dt),Dt}Dt={};for(mt in bt)Dt[mt]=Ao(bt[mt],Vt);return Dt}var Ml;function Rs(bt,Vt,Dt){var mt=Ml;Ml=null,bt||(bt=mt),mt=this.constructor.ba,bt||(bt=mt?[mt]:[]),this.j=(mt?0:-1)-(this.constructor.$||0),this.m=this.g=null,this.h=bt;e:{if(mt=this.h.length,bt=mt-1,mt&&(mt=this.h[bt],Us(mt))){this.l=bt-this.j,this.i=mt;break e}Vt!==void 0&&-1<Vt?(this.l=Math.max(Vt,bt+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(Dt)for(Vt=0;Vt<Dt.length;Vt++)bt=Dt[Vt],bt<this.l?(bt+=this.j,(mt=this.h[bt])?vs(mt):this.h[bt]=Ls):(Vr(this),(mt=this.i[bt])?vs(mt):this.i[bt]=Ls)}var Ls=Object.freeze(vs([]));function Vr(bt){var Vt=bt.l+bt.j;bt.h[Vt]||(bt.i=bt.h[Vt]={})}function Gr(bt,Vt,Dt){return Vt===-1?null:Dt!==void 0&&Dt||Vt>=bt.l?bt.i?bt.i[Vt]:void 0:bt.h[Vt+bt.j]}function Kr(bt,Vt,Dt){Dt=Dt===void 0?!0:Dt;var mt=mt===void 0?!1:mt,Ot=Gr(bt,Vt,mt);return Ot==null&&(Ot=Ls),Ot===Ls?(Ot=vs([]),Mo(bt,Vt,Ot,mt)):Dt&&Array.isArray(Ot)&&xs(Ot)&2&&(Ot=Ot.slice(),Mo(bt,Vt,Ot,mt)),Ot}function ys(bt){var Vt=Kr(bt,3,!1);if(bt.m||(bt.m={}),!bt.m[3]){for(var Dt=0;Dt<Vt.length;Dt++)Vt[Dt]=+Vt[Dt];bt.m[3]=!0}return Vt}function Gs(bt,Vt,Dt){return bt=Gr(bt,Vt),bt??Dt}function Ps(bt,Vt,Dt){return bt=Gr(bt,Vt),bt=bt==null?bt:+bt,bt??(Dt===void 0?0:Dt)}function Mo(bt,Vt,Dt,mt){mt!==void 0&&mt||Vt>=bt.l?(Vr(bt),bt.i[Vt]=Dt):bt.h[Vt+bt.j]=Dt}function Bs(bt,Vt,Dt){if(Dt===-1)return null;bt.g||(bt.g={});var mt=bt.g[Dt];if(mt)return mt;var Ot=Gr(bt,Dt,!1);return Ot==null?mt:(Vt=new Vt(Ot),bt.g[Dt]=Vt)}function Fl(bt,Vt,Dt){bt.g||(bt.g={});var mt=bt.g[Dt];if(!mt){var Ot=Kr(bt,Dt,!1);mt=[];for(var Wt=Array.isArray(Ot)?!!(xs(Ot)&2):!1,Ut=0;Ut<Ot.length;Ut++)mt[Ut]=new Vt(Ot[Ut]),Wt&&Vu(mt[Ut].h);Wt&&(Vu(mt),Object.freeze(mt)),bt.g[Dt]=mt}return mt}function fu(bt,Vt,Dt,mt,Ot){var Wt=Fl(bt,mt,Vt);Dt=Dt||new mt,bt=Kr(bt,Vt),Ot!=null?(Wt.splice(Ot,0,Dt),bt.splice(Ot,0,pu(Dt))):(Wt.push(Dt),bt.push(pu(Dt)))}Rs.prototype.toJSON=function(){var bt=pu(this);return ks(bt,Ko)};function pu(bt){if(bt.g)for(var Vt in bt.g){var Dt=bt.g[Vt];if(Array.isArray(Dt))for(var mt=0;mt<Dt.length;mt++)Dt[mt]&&pu(Dt[mt]);else Dt&&pu(Dt)}return bt.h}Rs.prototype.toString=function(){return pu(this).toString()};function Zu(bt,Vt){if(bt=bt.o){Pl(Vt,Vt.g.end());for(var Dt=0;Dt<bt.length;Dt++)Pl(Vt,bt[Dt])}}function Bu(bt){var Vt=bt[0];switch(bt.length){case 2:var Dt=bt[1];return function(Nn,Gn,tr){return Vt(Nn,Gn,tr,Dt)};case 3:var mt=bt[1],Ot=bt[2];return function(Nn,Gn,tr){return Vt(Nn,Gn,tr,mt,Ot)};case 4:var Wt=bt[1],Ut=bt[2],Sn=bt[3];return function(Nn,Gn,tr){return Vt(Nn,Gn,tr,Wt,Ut,Sn)};default:throw Error("unsupported number of parameters, expected [2-4], got "+bt.length)}}function Wl(bt,Vt,Dt){for(;ou(Vt)&&Vt.h!=4;){var mt=Vt.i,Ot=Dt[mt];if(Ot){if(Array.isArray(Ot)&&(Ot=Dt[mt]=Bu(Ot)),!Ot(Vt,bt,mt)){mt=Vt,Ot=bt;var Wt=mt.l;Al(mt),np(mt,Ot,Wt)}}else mt=Vt,Ot=bt,Wt=mt.l,Al(mt),np(mt,Ot,Wt)}return bt}function hu(bt,Vt){var Dt=new ga;if(Vt(bt,Dt),bt=Dt.i+Dt.g.length(),bt===0)Dt=new Uint8Array(0);else{bt=new Uint8Array(bt);for(var mt=Dt.h,Ot=mt.length,Wt=Vt=0;Wt<Ot;Wt++){var Ut=mt[Wt];Ut.length!==0&&(bt.set(Ut,Vt),Vt+=Ut.length)}mt=Dt.g,Ot=mt.h,Ot!==0&&(bt.set(mt.g.subarray(0,Ot),Vt),mt.h=0),Dt.h=[bt],Dt=bt}return Dt}function _p(bt,Vt,Dt){if(Iu.length){var mt=Iu.pop();bt&&(Ol(mt.g,bt),mt.i=-1,mt.h=-1),bt=mt}else bt=new nu(bt);try{return Dt(new Vt,bt)}finally{Vt=bt.g,Vt.h=null,Vt.m=0,Vt.i=0,Vt.g=0,Vt.l=!1,Vt.u=!1,bt.i=-1,bt.h=-1,bt.j=!1,100>Iu.length&&Iu.push(bt)}}function mu(bt,Vt,Dt){if(Vt=Gr(Vt,Dt),Vt!=null){gs(bt.g,8*Dt+5),bt=bt.g;var mt=Vt;mt=(Dt=0>mt?1:0)?-mt:mt,mt===0?0<1/mt?bs=na=0:(na=0,bs=2147483648):isNaN(mt)?(na=0,bs=2147483647):34028234663852886e22<mt?(na=0,bs=(Dt<<31|2139095040)>>>0):11754943508222875e-54>mt?(mt=Math.round(mt/Math.pow(2,-149)),na=0,bs=(Dt<<31|mt)>>>0):(Vt=Math.floor(Math.log(mt)/Math.LN2),mt*=Math.pow(2,-Vt),mt=Math.round(8388608*mt),16777216<=mt&&++Vt,na=0,bs=(Dt<<31|Vt+127<<23|mt&8388607)>>>0),Dt=bs,$a(bt,Dt>>>0&255),$a(bt,Dt>>>8&255),$a(bt,Dt>>>16&255),$a(bt,Dt>>>24&255)}}function Dl(bt,Vt,Dt){return bt.h!==5?!1:(Mo(Vt,Dt,bt.g.o()),!0)}function Ju(bt,Vt,Dt){return bt.h!==5&&bt.h!==2?!1:(Vt=Kr(Vt,Dt),bt.h==2?su(bt,as.prototype.o,Vt):Vt.push(bt.g.o()),!0)}function up(bt,Vt,Dt){return bt.h!==0?!1:(Mo(Vt,Dt,ms(bt.g)),!0)}function Jl(bt,Vt,Dt){return bt.h!==0?!1:(Mo(Vt,Dt,bt.g.j()),!0)}function Mp(bt,Vt,Dt){if(bt.h!==2)return!1;var mt=bt.g.j();bt=bt.g;var Ot=bt.g;bt.g+=mt,Js(bt),bt=bt.h;var Wt;if(Lu)(Wt=Ap)||(Wt=Ap=new TextDecoder("utf-8",{fatal:!1})),Wt=Wt.decode(bt.subarray(Ot,Ot+mt));else{mt=Ot+mt;for(var Ut=[],Sn=null,Nn,Gn,tr;Ot<mt;)Nn=bt[Ot++],128>Nn?Ut.push(Nn):224>Nn?Ot>=mt?Ut.push(65533):(Gn=bt[Ot++],194>Nn||(Gn&192)!==128?(Ot--,Ut.push(65533)):Ut.push((Nn&31)<<6|Gn&63)):240>Nn?Ot>=mt-1?Ut.push(65533):(Gn=bt[Ot++],(Gn&192)!==128||Nn===224&&160>Gn||Nn===237&&160<=Gn||((Wt=bt[Ot++])&192)!==128?(Ot--,Ut.push(65533)):Ut.push((Nn&15)<<12|(Gn&63)<<6|Wt&63)):244>=Nn?Ot>=mt-2?Ut.push(65533):(Gn=bt[Ot++],(Gn&192)!==128||(Nn<<28)+(Gn-144)>>30||((Wt=bt[Ot++])&192)!==128||((tr=bt[Ot++])&192)!==128?(Ot--,Ut.push(65533)):(Nn=(Nn&7)<<18|(Gn&63)<<12|(Wt&63)<<6|tr&63,Nn-=65536,Ut.push((Nn>>10&1023)+55296,(Nn&1023)+56320))):Ut.push(65533),8192<=Ut.length&&(Sn=cp(Sn,Ut),Ut.length=0);Wt=cp(Sn,Ut)}return Mo(Vt,Dt,Wt),!0}function gu(bt,Vt,Dt,mt,Ot){if(bt.h!==2)return!1;bt=Ru(bt,new mt,Ot);var Wt=Wt===void 0?!1:Wt;return Vt.g||(Vt.g={}),mt=bt&&pu(bt),Vt.g[Dt]=bt,Mo(Vt,Dt,mt,Wt),!0}function Qu(bt,Vt,Dt,mt,Ot){return bt.h!==2?!1:(bt=Ru(bt,new mt,Ot),fu(Vt,Dt,bt,mt,void 0),!0)}function vp(bt,Vt,Dt){return bt.h!==0&&bt.h!==2?!1:(Vt=Kr(Vt,Dt),bt.h==2?su(bt,as.prototype.j,Vt):Vt.push(bt.g.j()),!0)}function Bp(bt,Vt,Dt){return bt.h!==0?!1:(Mo(Vt,Dt,ms(bt.g)),!0)}function wu(bt){Rs.call(this,bt,-1,cm)}var yp;qr(wu,Rs),wu.prototype.getRows=function(){return Gr(this,1)},wu.prototype.getCols=function(){return Gr(this,2)},wu.prototype.getPackedDataList=function(){return ys(this)},wu.prototype.getLayout=function(){return Gs(this,4,0)};function am(bt,Vt){return Wl(bt,Vt,yp||(yp={1:Jl,2:Jl,3:Ju,4:Bp}))}var cm=[3];function bp(bt){Rs.call(this,bt)}var wp;qr(bp,Rs);function Xt(bt,Vt){var Dt=Gr(bt,1);if(Dt!=null&&Dt!=null){gs(Vt.g,8);var mt=Vt.g;if(0<=Dt)gs(mt,Dt);else{for(var Ot=0;9>Ot;Ot++)$a(mt,Dt&127|128),Dt>>=7;$a(mt,1)}}mu(Vt,bt,2),mt=Gr(bt,3),mt!=null&&ba(Vt,3,Ip(mt)),mt=Gr(bt,4),mt!=null&&ba(Vt,4,Ip(mt)),Zu(bt,Vt)}function ln(bt,Vt){return Wl(bt,Vt,wp||(wp={1:Jl,2:Dl,3:Mp,4:Mp}))}function hn(bt){Rs.call(this,bt,-1,Ur)}var _n;qr(hn,Rs),hn.prototype.addClassification=function(bt,Vt){return fu(this,1,bt,bp,Vt),this};function Sr(bt,Vt){return Wl(bt,Vt,_n||(_n={1:[Qu,bp,ln]}))}var Ur=[1];function br(bt){Rs.call(this,bt)}var Mr;qr(br,Rs);function io(bt,Vt){mu(Vt,bt,1),mu(Vt,bt,2),mu(Vt,bt,3),mu(Vt,bt,4),mu(Vt,bt,5),Zu(bt,Vt)}function Vo(bt,Vt){return Wl(bt,Vt,Mr||(Mr={1:Dl,2:Dl,3:Dl,4:Dl,5:Dl}))}function os(bt){Rs.call(this,bt,-1,es)}var Qo;qr(os,Rs);function Ts(bt,Vt){return Wl(bt,Vt,Qo||(Qo={1:[Qu,br,Vo]}))}var es=[1];function Fo(bt){Rs.call(this,bt)}var rs;qr(Fo,Rs);function Ss(bt,Vt){mu(Vt,bt,1),mu(Vt,bt,2),mu(Vt,bt,3),mu(Vt,bt,4),mu(Vt,bt,5);var Dt=Gr(bt,6);if(Dt!=null&&Dt!=null){gs(Vt.g,48);var mt=Vt.g,Ot=Dt;Dt=0>Ot,Ot=Math.abs(Ot);var Wt=Ot>>>0;for(Ot=Math.floor((Ot-Wt)/4294967296),Ot>>>=0,Dt&&(Ot=~Ot>>>0,Wt=(~Wt>>>0)+1,4294967295<Wt&&(Wt=0,Ot++,4294967295<Ot&&(Ot=0))),bs=Wt,na=Ot,Dt=bs,Wt=na;0<Wt||127<Dt;)$a(mt,Dt&127|128),Dt=(Dt>>>7|Wt<<25)>>>0,Wt>>>=7;$a(mt,Dt)}Zu(bt,Vt)}function Ms(bt,Vt){return Wl(bt,Vt,rs||(rs={1:Dl,2:Dl,3:Dl,4:Dl,5:Dl,6:up}))}function Hs(bt){Rs.call(this,bt,-1,Ft)}var Qs;qr(Hs,Rs),Hs.prototype.getVertexType=function(){return Gs(this,1,0)},Hs.prototype.getPrimitiveType=function(){return Gs(this,2,0)},Hs.prototype.getVertexBufferList=function(){return ys(this)},Hs.prototype.getIndexBufferList=function(){return Kr(this,4)};function Xl(bt,Vt){return Wl(bt,Vt,Qs||(Qs={1:Bp,2:Bp,3:Ju,4:vp}))}var Ft=[3,4];function Ht(bt){Rs.call(this,bt)}var Kt;qr(Ht,Rs),Ht.prototype.getMesh=function(){return Bs(this,Hs,1)},Ht.prototype.getPoseTransformMatrix=function(){return Bs(this,wu,2)};function Fn(bt,Vt){return Wl(bt,Vt,Kt||(Kt={1:[gu,Hs,Xl],2:[gu,wu,am]}))}var ir=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Cr=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ar=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],kr=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],zr=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],wt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Qt=[].concat(Un(ir),Un(Cr),Un(ar),Un(kr),Un(zr),Un(wt));function mn(bt,Vt,Dt){if(Dt=bt.createShader(Dt===0?bt.VERTEX_SHADER:bt.FRAGMENT_SHADER),bt.shaderSource(Dt,Vt),bt.compileShader(Dt),!bt.getShaderParameter(Dt,bt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+bt.getShaderInfoLog(Dt));return Dt}function kn(bt){return Fl(bt,bp,1).map(function(Vt){return{index:Gs(Vt,1,0),score:Ps(Vt,2),label:Gr(Vt,3)!=null?Gs(Vt,3,""):void 0,displayName:Gr(Vt,4)!=null?Gs(Vt,4,""):void 0}})}function Kn(bt){return{x:Ps(bt,1),y:Ps(bt,2),z:Ps(bt,3),visibility:Gr(bt,4)!=null?Ps(bt,4):void 0}}function lr(bt){return Fl(_p(bt,os,Ts),br,1).map(Kn)}function nr(bt,Vt){this.h=bt,this.g=Vt,this.l=0}function Zr(bt,Vt,Dt){return Ar(bt,Vt),typeof bt.g.canvas.transferToImageBitmap=="function"?nt.resolve(bt.g.canvas.transferToImageBitmap()):Dt?nt.resolve(bt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(bt.g.canvas):(bt.i===void 0&&(bt.i=document.createElement("canvas")),new nt(function(mt){bt.i.height=bt.g.canvas.height,bt.i.width=bt.g.canvas.width,bt.i.getContext("2d",{}).drawImage(bt.g.canvas,0,0,bt.g.canvas.width,bt.g.canvas.height),mt(bt.i)}))}function Ar(bt,Vt){var Dt=bt.g;if(bt.m===void 0){var mt=mn(Dt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Ot=mn(Dt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Wt=Dt.createProgram();if(Dt.attachShader(Wt,mt),Dt.attachShader(Wt,Ot),Dt.linkProgram(Wt),!Dt.getProgramParameter(Wt,Dt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Dt.getProgramInfoLog(Wt));mt=bt.m=Wt,Dt.useProgram(mt),Ot=Dt.getUniformLocation(mt,"sampler0"),bt.j={I:Dt.getAttribLocation(mt,"aVertex"),H:Dt.getAttribLocation(mt,"aTex"),ca:Ot},bt.s=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,bt.s),Dt.enableVertexAttribArray(bt.j.I),Dt.vertexAttribPointer(bt.j.I,2,Dt.FLOAT,!1,0,0),Dt.bufferData(Dt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Dt.STATIC_DRAW),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),bt.o=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,bt.o),Dt.enableVertexAttribArray(bt.j.H),Dt.vertexAttribPointer(bt.j.H,2,Dt.FLOAT,!1,0,0),Dt.bufferData(Dt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Dt.STATIC_DRAW),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),Dt.uniform1i(Ot,0)}mt=bt.j,Dt.useProgram(bt.m),Dt.canvas.width=Vt.width,Dt.canvas.height=Vt.height,Dt.viewport(0,0,Vt.width,Vt.height),Dt.activeTexture(Dt.TEXTURE0),bt.h.bindTexture2d(Vt.glName),Dt.enableVertexAttribArray(mt.I),Dt.bindBuffer(Dt.ARRAY_BUFFER,bt.s),Dt.vertexAttribPointer(mt.I,2,Dt.FLOAT,!1,0,0),Dt.enableVertexAttribArray(mt.H),Dt.bindBuffer(Dt.ARRAY_BUFFER,bt.o),Dt.vertexAttribPointer(mt.H,2,Dt.FLOAT,!1,0,0),Dt.bindFramebuffer(Dt.DRAW_FRAMEBUFFER?Dt.DRAW_FRAMEBUFFER:Dt.FRAMEBUFFER,null),Dt.clearColor(0,0,0,0),Dt.clear(Dt.COLOR_BUFFER_BIT),Dt.colorMask(!0,!0,!0,!0),Dt.drawArrays(Dt.TRIANGLE_FAN,0,4),Dt.disableVertexAttribArray(mt.I),Dt.disableVertexAttribArray(mt.H),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),bt.h.bindTexture2d(0)}function ao(bt){this.g=bt}var Co=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ss(bt,Vt){return Vt+bt}function Zo(bt,Vt){window[bt]=Vt}function eo(bt){var Vt=document.createElement("script");return Vt.setAttribute("src",bt),Vt.setAttribute("crossorigin","anonymous"),new nt(function(Dt){Vt.addEventListener("load",function(){Dt()},!1),Vt.addEventListener("error",function(){Dt()},!1),document.body.appendChild(Vt)})}function Io(){return po(function(bt){switch(bt.g){case 1:return bt.m=2,Er(bt,WebAssembly.instantiate(Co),4);case 4:bt.g=3,bt.m=0;break;case 2:return bt.m=0,bt.j=null,bt.return(!1);case 3:return bt.return(!0)}})}function Po(bt){if(this.g=bt,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=bt&&bt.locateFile||ss,typeof window=="object")var Vt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Vt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Vt,bt.options){Vt=Ln(Object.keys(bt.options));for(var Dt=Vt.next();!Dt.done;Dt=Vt.next()){Dt=Dt.value;var mt=bt.options[Dt].default;mt!==void 0&&(this.j[Dt]=typeof mt=="function"?mt():mt)}}}Et=Po.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Bo(bt){var Vt,Dt,mt,Ot,Wt,Ut,Sn,Nn,Gn,tr,mr;return po(function(Tr){switch(Tr.g){case 1:return bt.R?(Vt=bt.g.files===void 0?[]:typeof bt.g.files=="function"?bt.g.files(bt.j):bt.g.files,Er(Tr,Io(),2)):Tr.return();case 2:if(Dt=Tr.h,typeof window=="object")return Zo("createMediapipeSolutionsWasm",{locateFile:bt.locateFile}),Zo("createMediapipeSolutionsPackedAssets",{locateFile:bt.locateFile}),Ut=Vt.filter(function(xr){return xr.data!==void 0}),Sn=Vt.filter(function(xr){return xr.data===void 0}),Nn=nt.all(Ut.map(function(xr){var Br=$t(bt,xr.url);if(xr.path!==void 0){var to=xr.path;Br=Br.then(function(no){return bt.overrideFile(to,no),nt.resolve(no)})}return Br})),Gn=nt.all(Sn.map(function(xr){return xr.simd===void 0||xr.simd&&Dt||!xr.simd&&!Dt?eo(bt.locateFile(xr.url,bt.S)):nt.resolve()})).then(function(){var xr,Br,to;return po(function(no){if(no.g==1)return xr=window.createMediapipeSolutionsWasm,Br=window.createMediapipeSolutionsPackedAssets,to=bt,Er(no,xr(Br),2);to.h=no.h,no.g=0})}),tr=function(){return po(function(xr){return bt.g.graph&&bt.g.graph.url?xr=Er(xr,$t(bt,bt.g.graph.url),0):(xr.g=0,xr=void 0),xr})}(),Er(Tr,nt.all([Gn,Nn,tr]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return mt=Vt.filter(function(xr){return xr.simd===void 0||xr.simd&&Dt||!xr.simd&&!Dt}).map(function(xr){return bt.locateFile(xr.url,bt.S)}),importScripts.apply(null,Un(mt)),Ot=bt,Er(Tr,createMediapipeSolutionsWasm(Module),6);case 6:Ot.h=Tr.h,bt.l=new OffscreenCanvas(1,1),bt.h.canvas=bt.l,Wt=bt.h.GL.createContext(bt.l,{antialias:!1,alpha:!1,aa:typeof WebGL2RenderingContext<"u"?2:1}),bt.h.GL.makeContextCurrent(Wt),Tr.g=4;break;case 7:if(bt.l=document.createElement("canvas"),mr=bt.l.getContext("webgl2",{}),!mr&&(mr=bt.l.getContext("webgl",{}),!mr))return alert("Failed to create WebGL canvas context when passing video frame."),Tr.return();bt.D=mr,bt.h.canvas=bt.l,bt.h.createContext(bt.l,!0,!0,{});case 4:bt.i=new bt.h.SolutionWasm,bt.R=!1,Tr.g=0}})}function zo(bt){var Vt,Dt,mt,Ot,Wt,Ut,Sn,Nn;return po(function(Gn){if(Gn.g==1){if(bt.g.graph&&bt.g.graph.url&&bt.P===bt.g.graph.url)return Gn.return();if(bt.o=!0,!bt.g.graph||!bt.g.graph.url){Gn.g=2;return}return bt.P=bt.g.graph.url,Er(Gn,$t(bt,bt.g.graph.url),3)}for(Gn.g!=2&&(Vt=Gn.h,bt.i.loadGraph(Vt)),Dt=Ln(Object.keys(bt.B)),mt=Dt.next();!mt.done;mt=Dt.next())Ot=mt.value,bt.i.overrideFile(Ot,bt.B[Ot]);if(bt.B={},bt.g.listeners)for(Wt=Ln(bt.g.listeners),Ut=Wt.next();!Ut.done;Ut=Wt.next())Sn=Ut.value,Jn(bt,Sn);Nn=bt.j,bt.j={},bt.setOptions(Nn),Gn.g=0})}Et.reset=function(){var bt=this;return po(function(Vt){bt.i&&(bt.i.reset(),bt.m={},bt.s={}),Vt.g=0})},Et.setOptions=function(bt,Vt){var Dt=this;if(Vt=Vt||this.g.options){for(var mt=[],Ot=[],Wt={},Ut=Ln(Object.keys(bt)),Sn=Ut.next();!Sn.done;Wt={K:Wt.K,L:Wt.L},Sn=Ut.next()){var Nn=Sn.value;Nn in this.j&&this.j[Nn]===bt[Nn]||(this.j[Nn]=bt[Nn],Sn=Vt[Nn],Sn!==void 0&&(Sn.onChange&&(Wt.K=Sn.onChange,Wt.L=bt[Nn],mt.push(function(Gn){return function(){var tr;return po(function(mr){if(mr.g==1)return Er(mr,Gn.K(Gn.L),2);tr=mr.h,tr===!0&&(Dt.o=!0),mr.g=0})}}(Wt))),Sn.graphOptionXref&&(Nn={valueNumber:Sn.type===1?bt[Nn]:0,valueBoolean:Sn.type===0?bt[Nn]:!1,valueString:Sn.type===2?bt[Nn]:""},Sn=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Sn.graphOptionXref),Nn),Ot.push(Sn))))}(mt.length!==0||Ot.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(Ot),this.v=(this.v===void 0?[]:this.v).concat(mt))}};function At(bt){var Vt,Dt,mt,Ot,Wt,Ut,Sn;return po(function(Nn){switch(Nn.g){case 1:if(!bt.o)return Nn.return();if(!bt.v){Nn.g=2;break}Vt=Ln(bt.v),Dt=Vt.next();case 3:if(Dt.done){Nn.g=5;break}return mt=Dt.value,Er(Nn,mt(),4);case 4:Dt=Vt.next(),Nn.g=3;break;case 5:bt.v=void 0;case 2:if(bt.A){for(Ot=new bt.h.GraphOptionChangeRequestList,Wt=Ln(bt.A),Ut=Wt.next();!Ut.done;Ut=Wt.next())Sn=Ut.value,Ot.push_back(Sn);bt.i.changeOptions(Ot),Ot.delete(),bt.A=void 0}bt.o=!1,Nn.g=0}})}Et.initialize=function(){var bt=this;return po(function(Vt){return Vt.g==1?Er(Vt,Bo(bt),2):Vt.g!=3?Er(Vt,zo(bt),3):Er(Vt,At(bt),0)})};function $t(bt,Vt){var Dt,mt;return po(function(Ot){return Vt in bt.F?Ot.return(bt.F[Vt]):(Dt=bt.locateFile(Vt,""),mt=fetch(Dt).then(function(Wt){return Wt.arrayBuffer()}),bt.F[Vt]=mt,Ot.return(mt))})}Et.overrideFile=function(bt,Vt){this.i?this.i.overrideFile(bt,Vt):this.B[bt]=Vt},Et.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(bt,Vt){var Dt=this,mt,Ot,Wt,Ut,Sn,Nn,Gn,tr,mr;return po(function(Tr){switch(Tr.g){case 1:return Dt.g.inputs?(mt=1e3*(Vt??performance.now()),Er(Tr,Dt.C,2)):Tr.return();case 2:return Er(Tr,Dt.initialize(),3);case 3:for(Ot=new Dt.h.PacketDataList,Wt=Ln(Object.keys(bt)),Ut=Wt.next();!Ut.done;Ut=Wt.next())if(Sn=Ut.value,Nn=Dt.g.inputs[Sn]){e:{var xr=bt[Sn];switch(Nn.type){case"video":var Br=Dt.m[Nn.stream];if(Br||(Br=new nr(Dt.h,Dt.D),Dt.m[Nn.stream]=Br),Br.l===0&&(Br.l=Br.h.createTexture()),typeof HTMLVideoElement<"u"&&xr instanceof HTMLVideoElement)var to=xr.videoWidth,no=xr.videoHeight;else typeof HTMLImageElement<"u"&&xr instanceof HTMLImageElement?(to=xr.naturalWidth,no=xr.naturalHeight):(to=xr.width,no=xr.height);no={glName:Br.l,width:to,height:no},to=Br.g,to.canvas.width=no.width,to.canvas.height=no.height,to.activeTexture(to.TEXTURE0),Br.h.bindTexture2d(Br.l),to.texImage2D(to.TEXTURE_2D,0,to.RGBA,to.RGBA,to.UNSIGNED_BYTE,xr),Br.h.bindTexture2d(0),Br=no;break e;case"detections":for(Br=Dt.m[Nn.stream],Br||(Br=new ao(Dt.h),Dt.m[Nn.stream]=Br),Br.data||(Br.data=new Br.g.DetectionListData),Br.data.reset(xr.length),no=0;no<xr.length;++no){to=xr[no];var yo=Br.data,go=yo.setBoundingBox,fs=no,Vs=to.T,Zs=new Fo;if(Mo(Zs,1,Vs.X),Mo(Zs,2,Vs.Y),Mo(Zs,3,Vs.height),Mo(Zs,4,Vs.width),Mo(Zs,5,Vs.rotation),Mo(Zs,6,Vs.W),Vs=hu(Zs,Ss),go.call(yo,fs,Vs),to.O)for(yo=0;yo<to.O.length;++yo){Zs=to.O[yo];var Bl=!!Zs.visibility;go=Br.data,fs=go.addNormalizedLandmark,Vs=no,Zs=Object.assign(Object.assign({},Zs),{visibility:Bl?Zs.visibility:0}),Bl=new br,Mo(Bl,1,Zs.x),Mo(Bl,2,Zs.y),Mo(Bl,3,Zs.z),Zs.visibility&&Mo(Bl,4,Zs.visibility),Zs=hu(Bl,io),fs.call(go,Vs,Zs)}if(to.M)for(yo=0;yo<to.M.length;++yo)go=Br.data,fs=go.addClassification,Vs=no,Zs=to.M[yo],Bl=new bp,Mo(Bl,2,Zs.score),Zs.index&&Mo(Bl,1,Zs.index),Zs.label&&Mo(Bl,3,Zs.label),Zs.displayName&&Mo(Bl,4,Zs.displayName),Zs=hu(Bl,Xt),fs.call(go,Vs,Zs)}Br=Br.data;break e;default:Br={}}}switch(Gn=Br,tr=Nn.stream,Nn.type){case"video":Ot.pushTexture2d(Object.assign(Object.assign({},Gn),{stream:tr,timestamp:mt}));break;case"detections":mr=Gn,mr.stream=tr,mr.timestamp=mt,Ot.pushDetectionList(mr);break;default:throw Error("Unknown input config type: '"+Nn.type+"'")}}return Dt.i.send(Ot),Er(Tr,Dt.C,4);case 4:Ot.delete(),Tr.g=0}})};function gn(bt,Vt,Dt){var mt,Ot,Wt,Ut,Sn,Nn,Gn,tr,mr,Tr,xr,Br,to,no;return po(function(yo){switch(yo.g){case 1:if(!Dt)return yo.return(Vt);for(mt={},Ot=0,Wt=Ln(Object.keys(Dt)),Ut=Wt.next();!Ut.done;Ut=Wt.next())Sn=Ut.value,Nn=Dt[Sn],typeof Nn!="string"&&Nn.type==="texture"&&Vt[Nn.stream]!==void 0&&++Ot;1<Ot&&(bt.G=!1),Gn=Ln(Object.keys(Dt)),Ut=Gn.next();case 2:if(Ut.done){yo.g=4;break}if(tr=Ut.value,mr=Dt[tr],typeof mr=="string")return to=mt,no=tr,Er(yo,wn(bt,tr,Vt[mr]),14);if(Tr=Vt[mr.stream],mr.type==="detection_list"){if(Tr){for(var go=Tr.getRectList(),fs=Tr.getLandmarksList(),Vs=Tr.getClassificationsList(),Zs=[],Bl=0;Bl<go.size();++Bl){var rp=_p(go.get(Bl),Fo,Ms);rp={T:{X:Ps(rp,1),Y:Ps(rp,2),height:Ps(rp,3),width:Ps(rp,4),rotation:Ps(rp,5,0),W:Gs(rp,6,0)},O:lr(fs.get(Bl)),M:kn(_p(Vs.get(Bl),hn,Sr))},Zs.push(rp)}go=Zs}else go=[];mt[tr]=go,yo.g=7;break}if(mr.type==="proto_list"){if(Tr){for(go=Array(Tr.size()),fs=0;fs<Tr.size();fs++)go[fs]=Tr.get(fs);Tr.delete()}else go=[];mt[tr]=go,yo.g=7;break}if(Tr===void 0){yo.g=3;break}if(mr.type==="float_list"){mt[tr]=Tr,yo.g=7;break}if(mr.type==="proto"){mt[tr]=Tr,yo.g=7;break}if(mr.type!=="texture")throw Error("Unknown output config type: '"+mr.type+"'");return xr=bt.s[tr],xr||(xr=new nr(bt.h,bt.D),bt.s[tr]=xr),Er(yo,Zr(xr,Tr,bt.G),13);case 13:Br=yo.h,mt[tr]=Br;case 7:mr.transform&&mt[tr]&&(mt[tr]=mr.transform(mt[tr])),yo.g=3;break;case 14:to[no]=yo.h;case 3:Ut=Gn.next(),yo.g=2;break;case 4:return yo.return(mt)}})}function wn(bt,Vt,Dt){var mt;return po(function(Ot){return typeof Dt=="number"||Dt instanceof Uint8Array||Dt instanceof bt.h.Uint8BlobList?Ot.return(Dt):Dt instanceof bt.h.Texture2dDataOut?(mt=bt.s[Vt],mt||(mt=new nr(bt.h,bt.D),bt.s[Vt]=mt),Ot.return(Zr(mt,Dt,bt.G))):Ot.return(void 0)})}function Jn(bt,Vt){for(var Dt=Vt.name||"$",mt=[].concat(Un(Vt.wants)),Ot=new bt.h.StringList,Wt=Ln(Vt.wants),Ut=Wt.next();!Ut.done;Ut=Wt.next())Ot.push_back(Ut.value);Wt=bt.h.PacketListener.implement({onResults:function(Sn){for(var Nn={},Gn=0;Gn<Vt.wants.length;++Gn)Nn[mt[Gn]]=Sn.get(Gn);var tr=bt.listeners[Dt];tr&&(bt.C=gn(bt,Nn,Vt.outs).then(function(mr){mr=tr(mr);for(var Tr=0;Tr<Vt.wants.length;++Tr){var xr=Nn[mt[Tr]];typeof xr=="object"&&xr.hasOwnProperty&&xr.hasOwnProperty("delete")&&xr.delete()}mr&&(bt.C=mr)}))}}),bt.i.attachMultiListener(Ot,Wt),Ot.delete()}Et.onResults=function(bt,Vt){this.listeners[Vt||"$"]=bt},Jo("Solution",Po),Jo("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Rt(bt){return bt.map(Gt)}function Gt(bt){bt=_p(bt,Ht,Fn);var Vt=bt.getMesh();if(!Vt)return bt;var Dt=new Float32Array(Vt.getVertexBufferList());Vt.getVertexBufferList=function(){return Dt};var mt=new Uint32Array(Vt.getIndexBufferList());return Vt.getIndexBufferList=function(){return mt},bt}function Yt(bt){var Vt=this;bt=bt||{},this.g=new Po({locateFile:bt.locateFile,files:[{url:"holistic_solution_packed_assets_loader.js"},{simd:!1,url:"holistic_solution_wasm_bin.js"},{simd:!0,url:"holistic_solution_simd_wasm_bin.js"}],graph:{url:"holistic.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:"left_hand_landmarks right_hand_landmarks face_landmarks pose_landmarks world_landmarks segmentation_mask image_transformed multi_face_geometry".split(" "),outs:{image:{type:"texture",stream:"image_transformed"},leftHandLandmarks:{type:"proto",stream:"left_hand_landmarks",transform:lr},rightHandLandmarks:{type:"proto",stream:"right_hand_landmarks",transform:lr},faceLandmarks:{type:"proto",stream:"face_landmarks",transform:lr},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:lr},ea:{type:"proto",stream:"world_landmarks",transform:lr},segmentationMask:{type:"texture",stream:"segmentation_mask"},multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:Rt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,default:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(Dt){var mt,Ot,Wt,Ut;return po(function(Sn){if(Sn.g==1){switch(mt="",Dt){case 1:mt="pose_landmark_full.tflite";break;case 2:mt="pose_landmark_heavy.tflite";break;default:mt="pose_landmark_lite.tflite"}return Ot="third_party/mediapipe/modules/pose_landmark/"+mt,Wt=Vt.g.locateFile(mt,""),Er(Sn,fetch(Wt),3)}return Sn.g!=2?Er(Sn,Sn.h.arrayBuffer(),2):(Ut=Sn.h,Vt.g.overrideFile(Ot,Ut),Er(Sn,Vt.g.reset(),0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},refineFaceLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineFaceLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}})}Et=Yt.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(bt){this.g.onResults(bt)},Et.initialize=function(){var bt=this;return po(function(Vt){return Er(Vt,bt.g.initialize(),0)})},Et.reset=function(){this.g.reset()},Et.send=function(bt){var Vt=this;return po(function(Dt){return Er(Dt,Vt.g.send(bt),0)})},Et.setOptions=function(bt){this.g.setOptions(bt)},Jo("Holistic",Yt),Jo("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),Jo("FACEMESH_LIPS",ir),Jo("FACEMESH_LEFT_EYE",Cr),Jo("FACEMESH_LEFT_EYEBROW",ar),Jo("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),Jo("FACEMESH_RIGHT_EYE",kr),Jo("FACEMESH_RIGHT_EYEBROW",zr),Jo("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),Jo("FACEMESH_FACE_OVAL",wt),Jo("FACEMESH_CONTOURS",Qt),Jo("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),Jo("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),Jo("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),Jo("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),Jo("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),Jo("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),Jo("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),Jo("matrixDataToMatrix",function(bt){for(var Vt=bt.getCols(),Dt=bt.getRows(),mt=bt.getPackedDataList(),Ot=[],Wt=0;Wt<Dt;Wt++)Ot.push(Array(Vt));for(Wt=0;Wt<Dt;Wt++)for(var Ut=0;Ut<Vt;Ut++){var Sn=bt.getLayout()===1?Wt*Vt+Ut:Ut*Dt+Wt;Ot[Wt][Ut]=mt[Sn]}return Ot}),Jo("VERSION","0.5.1635989137")}).call(gp);const Zp={};(function(){var Et;function St(Rt){var Gt=0;return function(){return Gt<Rt.length?{done:!1,value:Rt[Gt++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(Rt,Gt,Yt){return Rt==Array.prototype||Rt==Object.prototype||(Rt[Gt]=Yt.value),Rt};function jt(Rt){Rt=[typeof globalThis=="object"&&globalThis,Rt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Gt=0;Gt<Rt.length;++Gt){var Yt=Rt[Gt];if(Yt&&Yt.Math==Math)return Yt}throw Error("Cannot find global object")}var zt=jt(this);function Rn(Rt,Gt){if(Gt)e:{var Yt=zt;Rt=Rt.split(".");for(var bt=0;bt<Rt.length-1;bt++){var Vt=Rt[bt];if(!(Vt in Yt))break e;Yt=Yt[Vt]}Rt=Rt[Rt.length-1],bt=Yt[Rt],Gt=Gt(bt),Gt!=bt&&Gt!=null&&xt(Yt,Rt,{configurable:!0,writable:!0,value:Gt})}}Rn("Symbol",function(Rt){function Gt(Dt){if(this instanceof Gt)throw new TypeError("Symbol is not a constructor");return new Yt(bt+(Dt||"")+"_"+Vt++,Dt)}function Yt(Dt,mt){this.g=Dt,xt(this,"description",{configurable:!0,writable:!0,value:mt})}if(Rt)return Rt;Yt.prototype.toString=function(){return this.g};var bt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Vt=0;return Gt}),Rn("Symbol.iterator",function(Rt){if(Rt)return Rt;Rt=Symbol("Symbol.iterator");for(var Gt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Yt=0;Yt<Gt.length;Yt++){var bt=zt[Gt[Yt]];typeof bt=="function"&&typeof bt.prototype[Rt]!="function"&&xt(bt.prototype,Rt,{configurable:!0,writable:!0,value:function(){return Mn(St(this))}})}return Rt});function Mn(Rt){return Rt={next:Rt},Rt[Symbol.iterator]=function(){return this},Rt}function Ln(Rt){var Gt=typeof Symbol<"u"&&Symbol.iterator&&Rt[Symbol.iterator];return Gt?Gt.call(Rt):{next:St(Rt)}}function Un(Rt){if(!(Rt instanceof Array)){Rt=Ln(Rt);for(var Gt,Yt=[];!(Gt=Rt.next()).done;)Yt.push(Gt.value);Rt=Yt}return Rt}var wr=typeof Object.create=="function"?Object.create:function(Rt){function Gt(){}return Gt.prototype=Rt,new Gt},Xr;if(typeof Object.setPrototypeOf=="function")Xr=Object.setPrototypeOf;else{var Hr;e:{var Wo={a:!0},Uo={};try{Uo.__proto__=Wo,Hr=Uo.a;break e}catch{}Hr=!1}Xr=Hr?function(Rt,Gt){if(Rt.__proto__=Gt,Rt.__proto__!==Gt)throw new TypeError(Rt+" is not extensible");return Rt}:null}var $r=Xr;function qr(Rt,Gt){if(Rt.prototype=wr(Gt.prototype),Rt.prototype.constructor=Rt,$r)$r(Rt,Gt);else for(var Yt in Gt)if(Yt!="prototype")if(Object.defineProperties){var bt=Object.getOwnPropertyDescriptor(Gt,Yt);bt&&Object.defineProperty(Rt,Yt,bt)}else Rt[Yt]=Gt[Yt];Rt.na=Gt.prototype}function ns(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function qo(Rt){if(Rt.l)throw new TypeError("Generator is already running");Rt.l=!0}ns.prototype.s=function(Rt){this.h=Rt};function Is(Rt,Gt){Rt.j={da:Gt,ea:!0},Rt.g=Rt.o||Rt.u}ns.prototype.return=function(Rt){this.j={return:Rt},this.g=this.u};function Er(Rt,Gt,Yt){return Rt.g=Yt,{value:Gt}}function ju(Rt){this.g=new ns,this.h=Rt}function ku(Rt,Gt){qo(Rt.g);var Yt=Rt.g.i;return Yt?Tl(Rt,"return"in Yt?Yt.return:function(bt){return{value:bt,done:!0}},Gt,Rt.g.return):(Rt.g.return(Gt),Cs(Rt))}function Tl(Rt,Gt,Yt,bt){try{var Vt=Gt.call(Rt.g.i,Yt);if(!(Vt instanceof Object))throw new TypeError("Iterator result "+Vt+" is not an object");if(!Vt.done)return Rt.g.l=!1,Vt;var Dt=Vt.value}catch(mt){return Rt.g.i=null,Is(Rt.g,mt),Cs(Rt)}return Rt.g.i=null,bt.call(Rt.g,Dt),Cs(Rt)}function Cs(Rt){for(;Rt.g.g;)try{var Gt=Rt.h(Rt.g);if(Gt)return Rt.g.l=!1,{value:Gt.value,done:!1}}catch(Yt){Rt.g.h=void 0,Is(Rt.g,Yt)}if(Rt.g.l=!1,Rt.g.j){if(Gt=Rt.g.j,Rt.g.j=null,Gt.ea)throw Gt.da;return{value:Gt.return,done:!0}}return{value:void 0,done:!0}}function Jp(Rt){this.next=function(Gt){return qo(Rt.g),Rt.g.i?Gt=Tl(Rt,Rt.g.i.next,Gt,Rt.g.s):(Rt.g.s(Gt),Gt=Cs(Rt)),Gt},this.throw=function(Gt){return qo(Rt.g),Rt.g.i?Gt=Tl(Rt,Rt.g.i.throw,Gt,Rt.g.s):(Is(Rt.g,Gt),Gt=Cs(Rt)),Gt},this.return=function(Gt){return ku(Rt,Gt)},this[Symbol.iterator]=function(){return this}}function Fs(Rt){function Gt(bt){return Rt.next(bt)}function Yt(bt){return Rt.throw(bt)}return new nt(function(bt,Vt){function Dt(mt){mt.done?bt(mt.value):nt.resolve(mt.value).then(Gt,Yt).then(Dt,Vt)}Dt(Rt.next())})}function po(Rt){return Fs(new Jp(new ju(Rt)))}Rn("Promise",function(Rt){function Gt(mt){this.h=0,this.i=void 0,this.g=[],this.s=!1;var Ot=this.j();try{mt(Ot.resolve,Ot.reject)}catch(Wt){Ot.reject(Wt)}}function Yt(){this.g=null}function bt(mt){return mt instanceof Gt?mt:new Gt(function(Ot){Ot(mt)})}if(Rt)return Rt;Yt.prototype.h=function(mt){if(this.g==null){this.g=[];var Ot=this;this.i(function(){Ot.l()})}this.g.push(mt)};var Vt=zt.setTimeout;Yt.prototype.i=function(mt){Vt(mt,0)},Yt.prototype.l=function(){for(;this.g&&this.g.length;){var mt=this.g;this.g=[];for(var Ot=0;Ot<mt.length;++Ot){var Wt=mt[Ot];mt[Ot]=null;try{Wt()}catch(Ut){this.j(Ut)}}}this.g=null},Yt.prototype.j=function(mt){this.i(function(){throw mt})},Gt.prototype.j=function(){function mt(Ut){return function(Sn){Wt||(Wt=!0,Ut.call(Ot,Sn))}}var Ot=this,Wt=!1;return{resolve:mt(this.D),reject:mt(this.l)}},Gt.prototype.D=function(mt){if(mt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(mt instanceof Gt)this.H(mt);else{e:switch(typeof mt){case"object":var Ot=mt!=null;break e;case"function":Ot=!0;break e;default:Ot=!1}Ot?this.A(mt):this.o(mt)}},Gt.prototype.A=function(mt){var Ot=void 0;try{Ot=mt.then}catch(Wt){this.l(Wt);return}typeof Ot=="function"?this.I(Ot,mt):this.o(mt)},Gt.prototype.l=function(mt){this.u(2,mt)},Gt.prototype.o=function(mt){this.u(1,mt)},Gt.prototype.u=function(mt,Ot){if(this.h!=0)throw Error("Cannot settle("+mt+", "+Ot+"): Promise already settled in state"+this.h);this.h=mt,this.i=Ot,this.h===2&&this.G(),this.B()},Gt.prototype.G=function(){var mt=this;Vt(function(){if(mt.C()){var Ot=zt.console;typeof Ot<"u"&&Ot.error(mt.i)}},1)},Gt.prototype.C=function(){if(this.s)return!1;var mt=zt.CustomEvent,Ot=zt.Event,Wt=zt.dispatchEvent;return typeof Wt>"u"?!0:(typeof mt=="function"?mt=new mt("unhandledrejection",{cancelable:!0}):typeof Ot=="function"?mt=new Ot("unhandledrejection",{cancelable:!0}):(mt=zt.document.createEvent("CustomEvent"),mt.initCustomEvent("unhandledrejection",!1,!0,mt)),mt.promise=this,mt.reason=this.i,Wt(mt))},Gt.prototype.B=function(){if(this.g!=null){for(var mt=0;mt<this.g.length;++mt)Dt.h(this.g[mt]);this.g=null}};var Dt=new Yt;return Gt.prototype.H=function(mt){var Ot=this.j();mt.M(Ot.resolve,Ot.reject)},Gt.prototype.I=function(mt,Ot){var Wt=this.j();try{mt.call(Ot,Wt.resolve,Wt.reject)}catch(Ut){Wt.reject(Ut)}},Gt.prototype.then=function(mt,Ot){function Wt(Gn,tr){return typeof Gn=="function"?function(mr){try{Ut(Gn(mr))}catch(Tr){Sn(Tr)}}:tr}var Ut,Sn,Nn=new Gt(function(Gn,tr){Ut=Gn,Sn=tr});return this.M(Wt(mt,Ut),Wt(Ot,Sn)),Nn},Gt.prototype.catch=function(mt){return this.then(void 0,mt)},Gt.prototype.M=function(mt,Ot){function Wt(){switch(Ut.h){case 1:mt(Ut.i);break;case 2:Ot(Ut.i);break;default:throw Error("Unexpected state: "+Ut.h)}}var Ut=this;this.g==null?Dt.h(Wt):this.g.push(Wt),this.s=!0},Gt.resolve=bt,Gt.reject=function(mt){return new Gt(function(Ot,Wt){Wt(mt)})},Gt.race=function(mt){return new Gt(function(Ot,Wt){for(var Ut=Ln(mt),Sn=Ut.next();!Sn.done;Sn=Ut.next())bt(Sn.value).M(Ot,Wt)})},Gt.all=function(mt){var Ot=Ln(mt),Wt=Ot.next();return Wt.done?bt([]):new Gt(function(Ut,Sn){function Nn(mr){return function(Tr){Gn[mr]=Tr,tr--,tr==0&&Ut(Gn)}}var Gn=[],tr=0;do Gn.push(void 0),tr++,bt(Wt.value).M(Nn(Gn.length-1),Sn),Wt=Ot.next();while(!Wt.done)})},Gt});function Xu(Rt,Gt){Rt instanceof String&&(Rt+="");var Yt=0,bt=!1,Vt={next:function(){if(!bt&&Yt<Rt.length){var Dt=Yt++;return{value:Gt(Dt,Rt[Dt]),done:!1}}return bt=!0,{done:!0,value:void 0}}};return Vt[Symbol.iterator]=function(){return Vt},Vt}var Qp=typeof Object.assign=="function"?Object.assign:function(Rt,Gt){for(var Yt=1;Yt<arguments.length;Yt++){var bt=arguments[Yt];if(bt)for(var Vt in bt)Object.prototype.hasOwnProperty.call(bt,Vt)&&(Rt[Vt]=bt[Vt])}return Rt};Rn("Object.assign",function(Rt){return Rt||Qp}),Rn("Object.is",function(Rt){return Rt||function(Gt,Yt){return Gt===Yt?Gt!==0||1/Gt===1/Yt:Gt!==Gt&&Yt!==Yt}}),Rn("Array.prototype.includes",function(Rt){return Rt||function(Gt,Yt){var bt=this;bt instanceof String&&(bt=String(bt));var Vt=bt.length;for(Yt=Yt||0,0>Yt&&(Yt=Math.max(Yt+Vt,0));Yt<Vt;Yt++){var Dt=bt[Yt];if(Dt===Gt||Object.is(Dt,Gt))return!0}return!1}}),Rn("String.prototype.includes",function(Rt){return Rt||function(Gt,Yt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Gt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Gt,Yt||0)!==-1}}),Rn("Array.prototype.keys",function(Rt){return Rt||function(){return Xu(this,function(Gt){return Gt})}});var xl=this||self;function Jo(Rt,Gt){Rt=Rt.split(".");var Yt=xl;Rt[0]in Yt||typeof Yt.execScript>"u"||Yt.execScript("var "+Rt[0]);for(var bt;Rt.length&&(bt=Rt.shift());)Rt.length||Gt===void 0?Yt[bt]&&Yt[bt]!==Object.prototype[bt]?Yt=Yt[bt]:Yt=Yt[bt]={}:Yt[bt]=Gt}function Zl(){throw Error("Invalid UTF8")}function Tu(Rt,Gt){return Gt=String.fromCharCode.apply(null,Gt),Rt==null?Gt:Rt+Gt}var ep,Rp=typeof TextDecoder<"u",cp,Ap=typeof TextEncoder<"u",Lu={},Uu=null;function Pp(Rt){var Gt;Gt===void 0&&(Gt=0),tu(),Gt=Lu[Gt];for(var Yt=Array(Math.floor(Rt.length/3)),bt=Gt[64]||"",Vt=0,Dt=0;Vt<Rt.length-2;Vt+=3){var mt=Rt[Vt],Ot=Rt[Vt+1],Wt=Rt[Vt+2],Ut=Gt[mt>>2];mt=Gt[(mt&3)<<4|Ot>>4],Ot=Gt[(Ot&15)<<2|Wt>>6],Wt=Gt[Wt&63],Yt[Dt++]=Ut+mt+Ot+Wt}switch(Ut=0,Wt=bt,Rt.length-Vt){case 2:Ut=Rt[Vt+1],Wt=Gt[(Ut&15)<<2]||bt;case 1:Rt=Rt[Vt],Yt[Dt]=Gt[Rt>>2]+Gt[(Rt&3)<<4|Ut>>4]+Wt+bt}return Yt.join("")}function Ip(Rt){var Gt=Rt.length,Yt=3*Gt/4;Yt%3?Yt=Math.floor(Yt):"=.".indexOf(Rt[Gt-1])!=-1&&(Yt="=.".indexOf(Rt[Gt-2])!=-1?Yt-2:Yt-1);var bt=new Uint8Array(Yt),Vt=0;return ru(Rt,function(Dt){bt[Vt++]=Dt}),Vt!==Yt?bt.subarray(0,Vt):bt}function ru(Rt,Gt){function Yt(Wt){for(;bt<Rt.length;){var Ut=Rt.charAt(bt++),Sn=Uu[Ut];if(Sn!=null)return Sn;if(!/^[\s\xa0]*$/.test(Ut))throw Error("Unknown base64 encoding at char: "+Ut)}return Wt}tu();for(var bt=0;;){var Vt=Yt(-1),Dt=Yt(0),mt=Yt(64),Ot=Yt(64);if(Ot===64&&Vt===-1)break;Gt(Vt<<2|Dt>>4),mt!=64&&(Gt(Dt<<4&240|mt>>2),Ot!=64&&Gt(mt<<6&192|Ot))}}function tu(){if(!Uu){Uu={};for(var Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Gt=["+/=","+/","-_=","-_.","-_"],Yt=0;5>Yt;Yt++){var bt=Rt.concat(Gt[Yt].split(""));Lu[Yt]=bt;for(var Vt=0;Vt<bt.length;Vt++){var Dt=bt[Vt];Uu[Dt]===void 0&&(Uu[Dt]=Vt)}}}}var lp=typeof Uint8Array=="function";function tp(Rt){return lp&&Rt!=null&&Rt instanceof Uint8Array}var Xs;function Vl(Rt){if(this.L=Rt,Rt!==null&&Rt.length===0)throw Error("ByteString should be constructed with non-empty values")}var iu=typeof Uint8Array.prototype.slice=="function",Os=0,El=0;function xu(Rt,Gt){if(Rt.constructor===Uint8Array)return Rt;if(Rt.constructor===ArrayBuffer)return new Uint8Array(Rt);if(Rt.constructor===Array)return new Uint8Array(Rt);if(Rt.constructor===String)return Ip(Rt);if(Rt.constructor===Vl)return!Gt&&(Gt=Rt.L)&&Gt.constructor===Uint8Array?Gt:(Gt=Rt.L,Gt=Gt==null||tp(Gt)?Gt:typeof Gt=="string"?Ip(Gt):null,(Rt=Rt.L=Gt)?new Uint8Array(Rt):Xs||(Xs=new Uint8Array(0)));if(Rt instanceof Uint8Array)return new Uint8Array(Rt.buffer,Rt.byteOffset,Rt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Kl(Rt,Gt){return Error("Invalid wire type: "+Rt+" (at position "+Gt+")")}function bs(){return Error("Failed to read varint, encoding is invalid.")}function na(Rt,Gt){Gt=Gt===void 0?{}:Gt,Gt=Gt.v===void 0?!1:Gt.v,this.h=null,this.g=this.i=this.j=0,this.v=Gt,Rt&&Gl(this,Rt)}function Gl(Rt,Gt){Rt.h=xu(Gt,Rt.v),Rt.j=0,Rt.i=Rt.h.length,Rt.g=Rt.j}na.prototype.reset=function(){this.g=this.j};function as(Rt){if(Rt.g>Rt.i)throw Error("Tried to read past the end of the data "+Rt.g+" > "+Rt.i)}function Ol(Rt){var Gt=Rt.h,Yt=Gt[Rt.g],bt=Yt&127;if(128>Yt)return Rt.g+=1,as(Rt),bt;if(Yt=Gt[Rt.g+1],bt|=(Yt&127)<<7,128>Yt)return Rt.g+=2,as(Rt),bt;if(Yt=Gt[Rt.g+2],bt|=(Yt&127)<<14,128>Yt)return Rt.g+=3,as(Rt),bt;if(Yt=Gt[Rt.g+3],bt|=(Yt&127)<<21,128>Yt)return Rt.g+=4,as(Rt),bt;if(Yt=Gt[Rt.g+4],Rt.g+=5,bt|=(Yt&15)<<28,128>Yt)return as(Rt),bt;if(128<=Gt[Rt.g++]&&128<=Gt[Rt.g++]&&128<=Gt[Rt.g++]&&128<=Gt[Rt.g++]&&128<=Gt[Rt.g++])throw bs();return as(Rt),bt}var ms=[];function Js(){this.g=[]}Js.prototype.length=function(){return this.g.length},Js.prototype.end=function(){var Rt=this.g;return this.g=[],Rt};function Nl(Rt,Gt){for(;127<Gt;)Rt.g.push(Gt&127|128),Gt>>>=7;Rt.g.push(Gt)}function du(Rt){var Gt={},Yt=Gt.W===void 0?!1:Gt.W;this.l={v:Gt.v===void 0?!1:Gt.v},this.W=Yt,Gt=this.l,ms.length?(Yt=ms.pop(),Gt&&(Yt.v=Gt.v),Rt&&Gl(Yt,Rt),Rt=Yt):Rt=new na(Rt,Gt),this.g=Rt,this.j=this.g.g,this.h=this.i=-1}du.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function $a(Rt){var Gt=Rt.g;if(Gt.g==Gt.i)return!1;Rt.j=Rt.g.g;var Yt=Ol(Rt.g)>>>0;if(Gt=Yt>>>3,Yt&=7,!(0<=Yt&&5>=Yt))throw Kl(Yt,Rt.j);if(1>Gt)throw Error("Invalid field number: "+Gt+" (at position "+Rt.j+")");return Rt.i=Gt,Rt.h=Yt,!0}function gs(Rt){switch(Rt.h){case 0:if(Rt.h!=0)gs(Rt);else e:{Rt=Rt.g;for(var Gt=Rt.g,Yt=Gt+10;Gt<Yt;)if(!(Rt.h[Gt++]&128)){Rt.g=Gt,as(Rt);break e}throw bs()}break;case 1:Rt=Rt.g,Rt.g+=8,as(Rt);break;case 2:Rt.h!=2?gs(Rt):(Gt=Ol(Rt.g)>>>0,Rt=Rt.g,Rt.g+=Gt,as(Rt));break;case 5:Rt=Rt.g,Rt.g+=4,as(Rt);break;case 3:Gt=Rt.i;do{if(!$a(Rt))throw Error("Unmatched start-group tag: stream EOF");if(Rt.h==4){if(Rt.i!=Gt)throw Error("Unmatched end-group tag");break}gs(Rt)}while(1);break;default:throw Kl(Rt.h,Rt.j)}}var nu=[];function ou(){this.i=[],this.h=0,this.g=new Js}function Al(Rt,Gt){Gt.length!==0&&(Rt.i.push(Gt),Rt.h+=Gt.length)}function np(Rt,Gt){if(Gt=Gt.ba){Al(Rt,Rt.g.end());for(var Yt=0;Yt<Gt.length;Yt++)Al(Rt,Gt[Yt])}}var Ru=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function su(Rt,Gt){Object.isFrozen(Rt)||(Ru?Rt[Ru]|=Gt:Rt.N!==void 0?Rt.N|=Gt:Object.defineProperties(Rt,{N:{value:Gt,configurable:!0,writable:!0,enumerable:!1}}))}function Iu(Rt){var Gt;return Ru?Gt=Rt[Ru]:Gt=Rt.N,Gt??0}function ga(Rt){return su(Rt,1),Rt}function Pl(Rt){return Array.isArray(Rt)?!!(Iu(Rt)&2):!1}function ba(Rt){if(!Array.isArray(Rt))throw Error("cannot mark non-array as immutable");su(Rt,2)}function As(Rt){return Rt!==null&&typeof Rt=="object"&&!Array.isArray(Rt)&&Rt.constructor===Object}var au=Object.freeze(ga([]));function xs(Rt){if(Pl(Rt.m))throw Error("Cannot mutate an immutable Message")}var vs=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function Vu(Rt){return{value:Rt,configurable:!1,writable:!1,enumerable:!1}}function Us(Rt,Gt,Yt){return Gt===-1?null:Gt>=Rt.i?Rt.g?Rt.g[Gt]:void 0:Yt!==void 0&&Yt&&Rt.g&&(Yt=Rt.g[Gt],Yt!=null)?Yt:Rt.m[Gt+Rt.h]}function Ko(Rt,Gt,Yt,bt){bt=bt===void 0?!1:bt,xs(Rt),Gt<Rt.i&&!bt?Rt.m[Gt+Rt.h]=Yt:(Rt.g||(Rt.g=Rt.m[Rt.i+Rt.h]={}))[Gt]=Yt}function Ao(Rt,Gt,Yt,bt){Yt=Yt===void 0?!0:Yt,bt=bt===void 0?!1:bt;var Vt=Us(Rt,Gt,bt);return Vt==null&&(Vt=au),Pl(Rt.m)?Yt&&(ba(Vt),Object.freeze(Vt)):(Vt===au||Pl(Vt))&&(Vt=ga(Vt.slice()),Ko(Rt,Gt,Vt,bt)),Vt}function ks(Rt,Gt,Yt){return Rt=Us(Rt,Gt),Rt=Rt==null?Rt:+Rt,Rt??(Yt===void 0?0:Yt)}function Ml(Rt,Gt,Yt,bt){Rt.j||(Rt.j={});var Vt=Pl(Rt.m),Dt=Rt.j[Yt];if(!Dt){bt=Ao(Rt,Yt,!0,bt===void 0?!1:bt),Dt=[],Vt=Vt||Pl(bt);for(var mt=0;mt<bt.length;mt++)Dt[mt]=new Gt(bt[mt]),Vt&&ba(Dt[mt].m);Vt&&(ba(Dt),Object.freeze(Dt)),Rt.j[Yt]=Dt}return Dt}function Rs(Rt,Gt,Yt,bt,Vt){var Dt=Dt===void 0?!1:Dt;return xs(Rt),Dt=Ml(Rt,Yt,Gt,Dt),Yt=bt||new Yt,Rt=Ao(Rt,Gt),Vt!=null?(Dt.splice(Vt,0,Yt),Rt.splice(Vt,0,Yt.m)):(Dt.push(Yt),Rt.push(Yt.m)),Yt}function Ls(Rt,Gt){return Rt=Us(Rt,Gt),Rt??0}function Vr(Rt,Gt){return Rt=Us(Rt,Gt),Rt??""}function Gr(Rt){switch(typeof Rt){case"number":return isFinite(Rt)?Rt:String(Rt);case"object":if(Rt&&!Array.isArray(Rt)){if(tp(Rt))return Pp(Rt);if(Rt instanceof Vl){var Gt=Rt.L;return Gt=Gt==null||typeof Gt=="string"?Gt:lp&&Gt instanceof Uint8Array?Pp(Gt):null,(Rt.L=Gt)||""}}}return Rt}function Kr(Rt){var Gt=Ps;return Gt=Gt===void 0?Mo:Gt,Gs(Rt,Gt)}function ys(Rt,Gt){if(Rt!=null){if(Array.isArray(Rt))Rt=Gs(Rt,Gt);else if(As(Rt)){var Yt={},bt;for(bt in Rt)Yt[bt]=ys(Rt[bt],Gt);Rt=Yt}else Rt=Gt(Rt);return Rt}}function Gs(Rt,Gt){for(var Yt=Rt.slice(),bt=0;bt<Yt.length;bt++)Yt[bt]=ys(Yt[bt],Gt);return Array.isArray(Rt)&&Iu(Rt)&1&&ga(Yt),Yt}function Ps(Rt){return Rt&&typeof Rt=="object"&&Rt.toJSON?Rt.toJSON():(Rt=Gr(Rt),Array.isArray(Rt)?Kr(Rt):Rt)}function Mo(Rt){return tp(Rt)?new Uint8Array(Rt):Rt}function Bs(Rt,Gt,Yt){Rt||(Rt=Fl),Fl=null;var bt=this.constructor.h;Rt||(Rt=bt?[bt]:[]),this.h=(bt?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=Rt;e:{if(bt=this.m.length,Rt=bt-1,bt&&(bt=this.m[Rt],As(bt))){this.i=Rt-this.h,this.g=bt;break e}Gt!==void 0&&-1<Gt?(this.i=Math.max(Gt,Rt+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(Yt)for(Gt=0;Gt<Yt.length;Gt++)if(Rt=Yt[Gt],Rt<this.i)Rt+=this.h,(bt=this.m[Rt])?Array.isArray(bt)&&ga(bt):this.m[Rt]=au;else{bt=this.g||(this.g=this.m[this.i+this.h]={});var Vt=bt[Rt];Vt?Array.isArray(Vt)&&ga(Vt):bt[Rt]=au}}Bs.prototype.toJSON=function(){return Kr(this.m)},Bs.prototype.toString=function(){return this.m.toString()};var Fl;function fu(){Bs.apply(this,arguments)}if(qr(fu,Bs),vs){var pu={};Object.defineProperties(fu,(pu[Symbol.hasInstance]=Vu(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),pu))}function Zu(Rt,Gt,Yt){if(Yt){var bt={},Vt;for(Vt in Yt){var Dt=Yt[Vt],mt=Dt.ha;mt||(bt.F=Dt.la||Dt.fa.P,Dt.aa?(bt.U=up(Dt.aa),mt=function(Ot){return function(Wt,Ut,Sn){return Ot.F(Wt,Ut,Sn,Ot.U)}}(bt)):Dt.ca?(bt.T=Jl(Dt.X.g,Dt.ca),mt=function(Ot){return function(Wt,Ut,Sn){return Ot.F(Wt,Ut,Sn,Ot.T)}}(bt)):mt=bt.F,Dt.ha=mt),mt(Gt,Rt,Dt.X),bt={F:bt.F,U:bt.U,T:bt.T}}}np(Gt,Rt)}var Bu=Symbol();function Wl(Rt,Gt,Yt){return Rt[Bu]||(Rt[Bu]=function(bt,Vt){return Gt(bt,Vt,Yt)})}function hu(Rt){var Gt=Rt[Bu];if(!Gt){var Yt=Xt(Rt);Gt=function(bt,Vt){return ln(bt,Vt,Yt)},Rt[Bu]=Gt}return Gt}function _p(Rt){var Gt=Rt.aa;if(Gt)return hu(Gt);if(Gt=Rt.ka)return Wl(Rt.X.g,Gt,Rt.ca)}function mu(Rt){var Gt=_p(Rt),Yt=Rt.X,bt=Rt.fa.O;return Gt?function(Vt,Dt){return bt(Vt,Dt,Yt,Gt)}:function(Vt,Dt){return bt(Vt,Dt,Yt)}}function Dl(Rt,Gt,Yt,bt,Vt,Dt){Rt=Rt();var mt=0;for(Rt.length&&typeof Rt[0]!="number"&&(Yt(Gt,Rt[0]),mt++);mt<Rt.length;){Yt=Rt[mt++];for(var Ot=mt+1;Ot<Rt.length&&typeof Rt[Ot]!="number";)Ot++;var Wt=Rt[mt++];switch(Ot-=mt,Ot){case 0:bt(Gt,Yt,Wt);break;case 1:bt(Gt,Yt,Wt,Rt[mt++]);break;case 2:Vt(Gt,Yt,Wt,Rt[mt++],Rt[mt++]);break;case 3:Ot=Rt[mt++];var Ut=Rt[mt++],Sn=Rt[mt++];Array.isArray(Sn)?Vt(Gt,Yt,Wt,Ot,Ut,Sn):Dt(Gt,Yt,Wt,Ot,Ut,Sn);break;case 4:Dt(Gt,Yt,Wt,Rt[mt++],Rt[mt++],Rt[mt++],Rt[mt++]);break;default:throw Error("unexpected number of binary field arguments: "+Ot)}}return Gt}var Ju=Symbol();function up(Rt){var Gt=Rt[Ju];if(!Gt){var Yt=wu(Rt);Gt=function(bt,Vt){return _n(bt,Vt,Yt)},Rt[Ju]=Gt}return Gt}function Jl(Rt,Gt){var Yt=Rt[Ju];return Yt||(Yt=function(bt,Vt){return Zu(bt,Vt,Gt)},Rt[Ju]=Yt),Yt}var Mp=Symbol();function gu(Rt,Gt){Rt.push(Gt)}function Qu(Rt,Gt,Yt){Rt.push(Gt,Yt.P)}function vp(Rt,Gt,Yt,bt,Vt){var Dt=up(Vt),mt=Yt.P;Rt.push(Gt,function(Ot,Wt,Ut){return mt(Ot,Wt,Ut,bt,Dt)})}function Bp(Rt,Gt,Yt,bt,Vt,Dt){var mt=Jl(bt,Dt),Ot=Yt.P;Rt.push(Gt,function(Wt,Ut,Sn){return Ot(Wt,Ut,Sn,bt,mt)})}function wu(Rt){var Gt=Rt[Mp];return Gt||Dl(Rt,Rt[Mp]=[],gu,Qu,vp,Bp)}var yp=Symbol();function am(Rt,Gt){Rt[0]=Gt}function cm(Rt,Gt,Yt,bt){var Vt=Yt.O;Rt[Gt]=bt?function(Dt,mt,Ot){return Vt(Dt,mt,Ot,bt)}:Vt}function bp(Rt,Gt,Yt,bt,Vt,Dt){var mt=Yt.O,Ot=hu(Vt);Rt[Gt]=function(Wt,Ut,Sn){return mt(Wt,Ut,Sn,bt,Ot,Dt)}}function wp(Rt,Gt,Yt,bt,Vt,Dt,mt){var Ot=Yt.O,Wt=Wl(bt,Vt,Dt);Rt[Gt]=function(Ut,Sn,Nn){return Ot(Ut,Sn,Nn,bt,Wt,mt)}}function Xt(Rt){var Gt=Rt[yp];return Gt||Dl(Rt,Rt[yp]={},am,cm,bp,wp)}function ln(Rt,Gt,Yt){for(;$a(Gt)&&Gt.h!=4;){var bt=Gt.i,Vt=Yt[bt];if(!Vt){var Dt=Yt[0];Dt&&(Dt=Dt[bt])&&(Vt=Yt[bt]=mu(Dt))}if((!Vt||!Vt(Gt,Rt,bt))&&(Vt=Gt,bt=Rt,Dt=Vt.j,gs(Vt),!Vt.W)){var mt=Vt.g.h;Vt=Vt.g.g,Vt=Dt===Vt?Xs||(Xs=new Uint8Array(0)):iu?mt.slice(Dt,Vt):new Uint8Array(mt.subarray(Dt,Vt)),(Dt=bt.ba)?Dt.push(Vt):bt.ba=[Vt]}}return Rt}function hn(Rt,Gt,Yt){if(nu.length){var bt=nu.pop();Rt&&(Gl(bt.g,Rt),bt.i=-1,bt.h=-1),Rt=bt}else Rt=new du(Rt);try{return ln(new Gt,Rt,Xt(Yt))}finally{Gt=Rt.g,Gt.h=null,Gt.j=0,Gt.i=0,Gt.g=0,Gt.v=!1,Rt.i=-1,Rt.h=-1,100>nu.length&&nu.push(Rt)}}function _n(Rt,Gt,Yt){for(var bt=Yt.length,Vt=bt%2==1,Dt=Vt?1:0;Dt<bt;Dt+=2)(0,Yt[Dt+1])(Gt,Rt,Yt[Dt]);Zu(Rt,Gt,Vt?Yt[0]:void 0)}function Sr(Rt,Gt){var Yt=new ou;_n(Rt,Yt,wu(Gt)),Al(Yt,Yt.g.end()),Rt=new Uint8Array(Yt.h),Gt=Yt.i;for(var bt=Gt.length,Vt=0,Dt=0;Dt<bt;Dt++){var mt=Gt[Dt];Rt.set(mt,Vt),Vt+=mt.length}return Yt.i=[Rt],Rt}function Ur(Rt,Gt){return{O:Rt,P:Gt}}var br=Ur(function(Rt,Gt,Yt){if(Rt.h!==5)return!1;Rt=Rt.g;var bt=Rt.h[Rt.g],Vt=Rt.h[Rt.g+1],Dt=Rt.h[Rt.g+2],mt=Rt.h[Rt.g+3];return Rt.g+=4,as(Rt),Vt=(bt<<0|Vt<<8|Dt<<16|mt<<24)>>>0,Rt=2*(Vt>>31)+1,bt=Vt>>>23&255,Vt&=8388607,Ko(Gt,Yt,bt==255?Vt?NaN:1/0*Rt:bt==0?Rt*Math.pow(2,-149)*Vt:Rt*Math.pow(2,bt-150)*(Vt+Math.pow(2,23))),!0},function(Rt,Gt,Yt){if(Gt=Us(Gt,Yt),Gt!=null){Nl(Rt.g,8*Yt+5),Rt=Rt.g;var bt=Gt;bt=(Yt=0>bt?1:0)?-bt:bt,bt===0?0<1/bt?Os=El=0:(El=0,Os=2147483648):isNaN(bt)?(El=0,Os=2147483647):34028234663852886e22<bt?(El=0,Os=(Yt<<31|2139095040)>>>0):11754943508222875e-54>bt?(bt=Math.round(bt/Math.pow(2,-149)),El=0,Os=(Yt<<31|bt)>>>0):(Gt=Math.floor(Math.log(bt)/Math.LN2),bt*=Math.pow(2,-Gt),bt=Math.round(8388608*bt),16777216<=bt&&++Gt,El=0,Os=(Yt<<31|Gt+127<<23|bt&8388607)>>>0),Yt=Os,Rt.g.push(Yt>>>0&255),Rt.g.push(Yt>>>8&255),Rt.g.push(Yt>>>16&255),Rt.g.push(Yt>>>24&255)}}),Mr=Ur(function(Rt,Gt,Yt){if(Rt.h!==0)return!1;for(var bt=Rt.g,Vt=128,Dt=0,mt=Rt=0;4>mt&&128<=Vt;mt++)Vt=bt.h[bt.g++],as(bt),Dt|=(Vt&127)<<7*mt;if(128<=Vt&&(Vt=bt.h[bt.g++],as(bt),Dt|=(Vt&127)<<28,Rt|=(Vt&127)>>4),128<=Vt)for(mt=0;5>mt&&128<=Vt;mt++)Vt=bt.h[bt.g++],as(bt),Rt|=(Vt&127)<<7*mt+3;if(128>Vt)bt=Dt>>>0,Vt=Rt>>>0,(Rt=Vt&2147483648)&&(bt=~bt+1>>>0,Vt=~Vt>>>0,bt==0&&(Vt=Vt+1>>>0)),bt=4294967296*Vt+(bt>>>0);else throw bs();return Ko(Gt,Yt,Rt?-bt:bt),!0},function(Rt,Gt,Yt){if(Gt=Us(Gt,Yt),Gt!=null&&Gt!=null){Nl(Rt.g,8*Yt),Rt=Rt.g;var bt=Gt;for(Yt=0>bt,bt=Math.abs(bt),Gt=bt>>>0,bt=Math.floor((bt-Gt)/4294967296),bt>>>=0,Yt&&(bt=~bt>>>0,Gt=(~Gt>>>0)+1,4294967295<Gt&&(Gt=0,bt++,4294967295<bt&&(bt=0))),Os=Gt,El=bt,Yt=Os,Gt=El;0<Gt||127<Yt;)Rt.g.push(Yt&127|128),Yt=(Yt>>>7|Gt<<25)>>>0,Gt>>>=7;Rt.g.push(Yt)}}),io=Ur(function(Rt,Gt,Yt){return Rt.h!==0?!1:(Ko(Gt,Yt,Ol(Rt.g)),!0)},function(Rt,Gt,Yt){if(Gt=Us(Gt,Yt),Gt!=null&&Gt!=null)if(Nl(Rt.g,8*Yt),Rt=Rt.g,Yt=Gt,0<=Yt)Nl(Rt,Yt);else{for(Gt=0;9>Gt;Gt++)Rt.g.push(Yt&127|128),Yt>>=7;Rt.g.push(1)}}),Vo=Ur(function(Rt,Gt,Yt){if(Rt.h!==2)return!1;var bt=Ol(Rt.g)>>>0;Rt=Rt.g;var Vt=Rt.g;Rt.g+=bt,as(Rt),Rt=Rt.h;var Dt;if(Rp)(Dt=ep)||(Dt=ep=new TextDecoder("utf-8",{fatal:!0})),Dt=Dt.decode(Rt.subarray(Vt,Vt+bt));else{bt=Vt+bt;for(var mt=[],Ot=null,Wt,Ut,Sn;Vt<bt;)Wt=Rt[Vt++],128>Wt?mt.push(Wt):224>Wt?Vt>=bt?Zl():(Ut=Rt[Vt++],194>Wt||(Ut&192)!==128?(Vt--,Zl()):mt.push((Wt&31)<<6|Ut&63)):240>Wt?Vt>=bt-1?Zl():(Ut=Rt[Vt++],(Ut&192)!==128||Wt===224&&160>Ut||Wt===237&&160<=Ut||((Dt=Rt[Vt++])&192)!==128?(Vt--,Zl()):mt.push((Wt&15)<<12|(Ut&63)<<6|Dt&63)):244>=Wt?Vt>=bt-2?Zl():(Ut=Rt[Vt++],(Ut&192)!==128||(Wt<<28)+(Ut-144)>>30||((Dt=Rt[Vt++])&192)!==128||((Sn=Rt[Vt++])&192)!==128?(Vt--,Zl()):(Wt=(Wt&7)<<18|(Ut&63)<<12|(Dt&63)<<6|Sn&63,Wt-=65536,mt.push((Wt>>10&1023)+55296,(Wt&1023)+56320))):Zl(),8192<=mt.length&&(Ot=Tu(Ot,mt),mt.length=0);Dt=Tu(Ot,mt)}return Ko(Gt,Yt,Dt),!0},function(Rt,Gt,Yt){if(Gt=Us(Gt,Yt),Gt!=null){var bt=!1;if(bt=bt===void 0?!1:bt,Ap){if(bt&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(Gt))throw Error("Found an unpaired surrogate");Gt=(cp||(cp=new TextEncoder)).encode(Gt)}else{for(var Vt=0,Dt=new Uint8Array(3*Gt.length),mt=0;mt<Gt.length;mt++){var Ot=Gt.charCodeAt(mt);if(128>Ot)Dt[Vt++]=Ot;else{if(2048>Ot)Dt[Vt++]=Ot>>6|192;else{if(55296<=Ot&&57343>=Ot){if(56319>=Ot&&mt<Gt.length){var Wt=Gt.charCodeAt(++mt);if(56320<=Wt&&57343>=Wt){Ot=1024*(Ot-55296)+Wt-56320+65536,Dt[Vt++]=Ot>>18|240,Dt[Vt++]=Ot>>12&63|128,Dt[Vt++]=Ot>>6&63|128,Dt[Vt++]=Ot&63|128;continue}else mt--}if(bt)throw Error("Found an unpaired surrogate");Ot=65533}Dt[Vt++]=Ot>>12|224,Dt[Vt++]=Ot>>6&63|128}Dt[Vt++]=Ot&63|128}}Gt=Dt.subarray(0,Vt)}Nl(Rt.g,8*Yt+2),Nl(Rt.g,Gt.length),Al(Rt,Rt.g.end()),Al(Rt,Gt)}}),os=Ur(function(Rt,Gt,Yt,bt,Vt){if(Rt.h!==2)return!1;Gt=Rs(Gt,Yt,bt),Yt=Rt.g.i,bt=Ol(Rt.g)>>>0;var Dt=Rt.g.g+bt,mt=Dt-Yt;if(0>=mt&&(Rt.g.i=Dt,Vt(Gt,Rt),mt=Dt-Rt.g.g),mt)throw Error("Message parsing ended unexpectedly. Expected to read "+(bt+" bytes, instead read "+(bt-mt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return Rt.g.g=Dt,Rt.g.i=Yt,!0},function(Rt,Gt,Yt,bt,Vt){if(Gt=Ml(Gt,bt,Yt),Gt!=null)for(bt=0;bt<Gt.length;bt++){var Dt=Rt;Nl(Dt.g,8*Yt+2);var mt=Dt.g.end();Al(Dt,mt),mt.push(Dt.h),Dt=mt,Vt(Gt[bt],Rt),mt=Rt;var Ot=Dt.pop();for(Ot=mt.h+mt.g.length()-Ot;127<Ot;)Dt.push(Ot&127|128),Ot>>>=7,mt.h++;Dt.push(Ot),mt.h++}});function Qo(){fu.apply(this,arguments)}if(qr(Qo,fu),vs){var Ts={};Object.defineProperties(Qo,(Ts[Symbol.hasInstance]=Vu(Object[Symbol.hasInstance]),Ts))}function es(Rt){Qo.call(this,Rt)}qr(es,Qo);function Fo(){return[1,io,2,br,3,Vo,4,Vo]}function rs(Rt){Qo.call(this,Rt,-1,Ms)}qr(rs,Qo),rs.prototype.addClassification=function(Rt,Gt){return Rs(this,1,es,Rt,Gt),this};function Ss(){return[1,os,es,Fo]}var Ms=[1];function Hs(Rt){Qo.call(this,Rt)}qr(Hs,Qo);function Qs(){return[1,br,2,br,3,br,4,br,5,br]}function Xl(Rt){Qo.call(this,Rt,-1,Ht)}qr(Xl,Qo);function Ft(){return[1,os,Hs,Qs]}var Ht=[1];function Kt(Rt){Qo.call(this,Rt)}qr(Kt,Qo);function Fn(){return[1,br,2,br,3,br,4,br,5,br,6,Mr]}var ir=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Cr=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ar=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],kr=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],zr=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],wt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Qt=[].concat(Un(ir),Un(Cr),Un(ar),Un(kr),Un(zr),Un(wt));function mn(Rt,Gt,Yt){if(Yt=Rt.createShader(Yt===0?Rt.VERTEX_SHADER:Rt.FRAGMENT_SHADER),Rt.shaderSource(Yt,Gt),Rt.compileShader(Yt),!Rt.getShaderParameter(Yt,Rt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+Rt.getShaderInfoLog(Yt));return Yt}function kn(Rt){return Ml(Rt,es,1).map(function(Gt){return{index:Ls(Gt,1),ga:ks(Gt,2),label:Us(Gt,3)!=null?Vr(Gt,3):void 0,displayName:Us(Gt,4)!=null?Vr(Gt,4):void 0}})}function Kn(Rt){return{x:ks(Rt,1),y:ks(Rt,2),z:ks(Rt,3),visibility:Us(Rt,4)!=null?ks(Rt,4):void 0}}function lr(Rt,Gt){this.h=Rt,this.g=Gt,this.l=0}function nr(Rt,Gt,Yt){return Zr(Rt,Gt),typeof Rt.g.canvas.transferToImageBitmap=="function"?nt.resolve(Rt.g.canvas.transferToImageBitmap()):Yt?nt.resolve(Rt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(Rt.g.canvas):(Rt.i===void 0&&(Rt.i=document.createElement("canvas")),new nt(function(bt){Rt.i.height=Rt.g.canvas.height,Rt.i.width=Rt.g.canvas.width,Rt.i.getContext("2d",{}).drawImage(Rt.g.canvas,0,0,Rt.g.canvas.width,Rt.g.canvas.height),bt(Rt.i)}))}function Zr(Rt,Gt){var Yt=Rt.g;if(Rt.o===void 0){var bt=mn(Yt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Vt=mn(Yt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Dt=Yt.createProgram();if(Yt.attachShader(Dt,bt),Yt.attachShader(Dt,Vt),Yt.linkProgram(Dt),!Yt.getProgramParameter(Dt,Yt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Yt.getProgramInfoLog(Dt));bt=Rt.o=Dt,Yt.useProgram(bt),Vt=Yt.getUniformLocation(bt,"sampler0"),Rt.j={K:Yt.getAttribLocation(bt,"aVertex"),J:Yt.getAttribLocation(bt,"aTex"),ma:Vt},Rt.u=Yt.createBuffer(),Yt.bindBuffer(Yt.ARRAY_BUFFER,Rt.u),Yt.enableVertexAttribArray(Rt.j.K),Yt.vertexAttribPointer(Rt.j.K,2,Yt.FLOAT,!1,0,0),Yt.bufferData(Yt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Yt.STATIC_DRAW),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),Rt.s=Yt.createBuffer(),Yt.bindBuffer(Yt.ARRAY_BUFFER,Rt.s),Yt.enableVertexAttribArray(Rt.j.J),Yt.vertexAttribPointer(Rt.j.J,2,Yt.FLOAT,!1,0,0),Yt.bufferData(Yt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Yt.STATIC_DRAW),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),Yt.uniform1i(Vt,0)}bt=Rt.j,Yt.useProgram(Rt.o),Yt.canvas.width=Gt.width,Yt.canvas.height=Gt.height,Yt.viewport(0,0,Gt.width,Gt.height),Yt.activeTexture(Yt.TEXTURE0),Rt.h.bindTexture2d(Gt.glName),Yt.enableVertexAttribArray(bt.K),Yt.bindBuffer(Yt.ARRAY_BUFFER,Rt.u),Yt.vertexAttribPointer(bt.K,2,Yt.FLOAT,!1,0,0),Yt.enableVertexAttribArray(bt.J),Yt.bindBuffer(Yt.ARRAY_BUFFER,Rt.s),Yt.vertexAttribPointer(bt.J,2,Yt.FLOAT,!1,0,0),Yt.bindFramebuffer(Yt.DRAW_FRAMEBUFFER?Yt.DRAW_FRAMEBUFFER:Yt.FRAMEBUFFER,null),Yt.clearColor(0,0,0,0),Yt.clear(Yt.COLOR_BUFFER_BIT),Yt.colorMask(!0,!0,!0,!0),Yt.drawArrays(Yt.TRIANGLE_FAN,0,4),Yt.disableVertexAttribArray(bt.K),Yt.disableVertexAttribArray(bt.J),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),Rt.h.bindTexture2d(0)}function Ar(Rt){this.g=Rt}var ao=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Co(Rt,Gt){return Gt+Rt}function ss(Rt,Gt){window[Rt]=Gt}function Zo(Rt){var Gt=document.createElement("script");return Gt.setAttribute("src",Rt),Gt.setAttribute("crossorigin","anonymous"),new nt(function(Yt){Gt.addEventListener("load",function(){Yt()},!1),Gt.addEventListener("error",function(){Yt()},!1),document.body.appendChild(Gt)})}function eo(){return po(function(Rt){switch(Rt.g){case 1:return Rt.o=2,Er(Rt,WebAssembly.instantiate(ao),4);case 4:Rt.g=3,Rt.o=0;break;case 2:return Rt.o=0,Rt.j=null,Rt.return(!1);case 3:return Rt.return(!0)}})}function Io(Rt){if(this.g=Rt,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=nt.resolve(),this.Y="",this.C={},this.locateFile=Rt&&Rt.locateFile||Co,typeof window=="object")var Gt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Gt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.$=Gt,Rt.options){Gt=Ln(Object.keys(Rt.options));for(var Yt=Gt.next();!Yt.done;Yt=Gt.next()){Yt=Yt.value;var bt=Rt.options[Yt].default;bt!==void 0&&(this.j[Yt]=typeof bt=="function"?bt():bt)}}}Et=Io.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Po(Rt){var Gt,Yt,bt,Vt,Dt,mt,Ot,Wt,Ut,Sn,Nn;return po(function(Gn){switch(Gn.g){case 1:return Rt.Z?(Gt=Rt.g.files===void 0?[]:typeof Rt.g.files=="function"?Rt.g.files(Rt.j):Rt.g.files,Er(Gn,eo(),2)):Gn.return();case 2:if(Yt=Gn.h,typeof window=="object")return ss("createMediapipeSolutionsWasm",{locateFile:Rt.locateFile}),ss("createMediapipeSolutionsPackedAssets",{locateFile:Rt.locateFile}),mt=Gt.filter(function(tr){return tr.data!==void 0}),Ot=Gt.filter(function(tr){return tr.data===void 0}),Wt=nt.all(mt.map(function(tr){var mr=At(Rt,tr.url);if(tr.path!==void 0){var Tr=tr.path;mr=mr.then(function(xr){return Rt.overrideFile(Tr,xr),nt.resolve(xr)})}return mr})),Ut=nt.all(Ot.map(function(tr){return tr.simd===void 0||tr.simd&&Yt||!tr.simd&&!Yt?Zo(Rt.locateFile(tr.url,Rt.$)):nt.resolve()})).then(function(){var tr,mr,Tr;return po(function(xr){if(xr.g==1)return tr=window.createMediapipeSolutionsWasm,mr=window.createMediapipeSolutionsPackedAssets,Tr=Rt,Er(xr,tr(mr),2);Tr.h=xr.h,xr.g=0})}),Sn=function(){return po(function(tr){return Rt.g.graph&&Rt.g.graph.url?tr=Er(tr,At(Rt,Rt.g.graph.url),0):(tr.g=0,tr=void 0),tr})}(),Er(Gn,nt.all([Ut,Wt,Sn]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return bt=Gt.filter(function(tr){return tr.simd===void 0||tr.simd&&Yt||!tr.simd&&!Yt}).map(function(tr){return Rt.locateFile(tr.url,Rt.$)}),importScripts.apply(null,Un(bt)),Vt=Rt,Er(Gn,createMediapipeSolutionsWasm(Module),6);case 6:Vt.h=Gn.h,Rt.l=new OffscreenCanvas(1,1),Rt.h.canvas=Rt.l,Dt=Rt.h.GL.createContext(Rt.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),Rt.h.GL.makeContextCurrent(Dt),Gn.g=4;break;case 7:if(Rt.l=document.createElement("canvas"),Nn=Rt.l.getContext("webgl2",{}),!Nn&&(Nn=Rt.l.getContext("webgl",{}),!Nn))return alert("Failed to create WebGL canvas context when passing video frame."),Gn.return();Rt.G=Nn,Rt.h.canvas=Rt.l,Rt.h.createContext(Rt.l,!0,!0,{});case 4:Rt.i=new Rt.h.SolutionWasm,Rt.Z=!1,Gn.g=0}})}function Bo(Rt){var Gt,Yt,bt,Vt,Dt,mt,Ot,Wt;return po(function(Ut){if(Ut.g==1){if(Rt.g.graph&&Rt.g.graph.url&&Rt.Y===Rt.g.graph.url)return Ut.return();if(Rt.s=!0,!Rt.g.graph||!Rt.g.graph.url){Ut.g=2;return}return Rt.Y=Rt.g.graph.url,Er(Ut,At(Rt,Rt.g.graph.url),3)}for(Ut.g!=2&&(Gt=Ut.h,Rt.i.loadGraph(Gt)),Yt=Ln(Object.keys(Rt.C)),bt=Yt.next();!bt.done;bt=Yt.next())Vt=bt.value,Rt.i.overrideFile(Vt,Rt.C[Vt]);if(Rt.C={},Rt.g.listeners)for(Dt=Ln(Rt.g.listeners),mt=Dt.next();!mt.done;mt=Dt.next())Ot=mt.value,wn(Rt,Ot);Wt=Rt.j,Rt.j={},Rt.setOptions(Wt),Ut.g=0})}Et.reset=function(){var Rt=this;return po(function(Gt){Rt.i&&(Rt.i.reset(),Rt.o={},Rt.u={}),Gt.g=0})},Et.setOptions=function(Rt,Gt){var Yt=this;if(Gt=Gt||this.g.options){for(var bt=[],Vt=[],Dt={},mt=Ln(Object.keys(Rt)),Ot=mt.next();!Ot.done;Dt={R:Dt.R,S:Dt.S},Ot=mt.next()){var Wt=Ot.value;Wt in this.j&&this.j[Wt]===Rt[Wt]||(this.j[Wt]=Rt[Wt],Ot=Gt[Wt],Ot!==void 0&&(Ot.onChange&&(Dt.R=Ot.onChange,Dt.S=Rt[Wt],bt.push(function(Ut){return function(){var Sn;return po(function(Nn){if(Nn.g==1)return Er(Nn,Ut.R(Ut.S),2);Sn=Nn.h,Sn===!0&&(Yt.s=!0),Nn.g=0})}}(Dt))),Ot.graphOptionXref&&(Wt={valueNumber:Ot.type===1?Rt[Wt]:0,valueBoolean:Ot.type===0?Rt[Wt]:!1,valueString:Ot.type===2?Rt[Wt]:""},Ot=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Ot.graphOptionXref),Wt),Vt.push(Ot))))}(bt.length!==0||Vt.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(Vt),this.A=(this.A===void 0?[]:this.A).concat(bt))}};function zo(Rt){var Gt,Yt,bt,Vt,Dt,mt,Ot;return po(function(Wt){switch(Wt.g){case 1:if(!Rt.s)return Wt.return();if(!Rt.A){Wt.g=2;break}Gt=Ln(Rt.A),Yt=Gt.next();case 3:if(Yt.done){Wt.g=5;break}return bt=Yt.value,Er(Wt,bt(),4);case 4:Yt=Gt.next(),Wt.g=3;break;case 5:Rt.A=void 0;case 2:if(Rt.B){for(Vt=new Rt.h.GraphOptionChangeRequestList,Dt=Ln(Rt.B),mt=Dt.next();!mt.done;mt=Dt.next())Ot=mt.value,Vt.push_back(Ot);Rt.i.changeOptions(Vt),Vt.delete(),Rt.B=void 0}Rt.s=!1,Wt.g=0}})}Et.initialize=function(){var Rt=this;return po(function(Gt){return Gt.g==1?Er(Gt,Po(Rt),2):Gt.g!=3?Er(Gt,Bo(Rt),3):Er(Gt,zo(Rt),0)})};function At(Rt,Gt){var Yt,bt;return po(function(Vt){return Gt in Rt.H?Vt.return(Rt.H[Gt]):(Yt=Rt.locateFile(Gt,""),bt=fetch(Yt).then(function(Dt){return Dt.arrayBuffer()}),Rt.H[Gt]=bt,Vt.return(bt))})}Et.overrideFile=function(Rt,Gt){this.i?this.i.overrideFile(Rt,Gt):this.C[Rt]=Gt},Et.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(Rt,Gt){var Yt=this,bt,Vt,Dt,mt,Ot,Wt,Ut,Sn,Nn;return po(function(Gn){switch(Gn.g){case 1:return Yt.g.inputs?(bt=1e3*(Gt??performance.now()),Er(Gn,Yt.D,2)):Gn.return();case 2:return Er(Gn,Yt.initialize(),3);case 3:for(Vt=new Yt.h.PacketDataList,Dt=Ln(Object.keys(Rt)),mt=Dt.next();!mt.done;mt=Dt.next())if(Ot=mt.value,Wt=Yt.g.inputs[Ot]){e:{var tr=Rt[Ot];switch(Wt.type){case"video":var mr=Yt.o[Wt.stream];if(mr||(mr=new lr(Yt.h,Yt.G),Yt.o[Wt.stream]=mr),mr.l===0&&(mr.l=mr.h.createTexture()),typeof HTMLVideoElement<"u"&&tr instanceof HTMLVideoElement)var Tr=tr.videoWidth,xr=tr.videoHeight;else typeof HTMLImageElement<"u"&&tr instanceof HTMLImageElement?(Tr=tr.naturalWidth,xr=tr.naturalHeight):(Tr=tr.width,xr=tr.height);xr={glName:mr.l,width:Tr,height:xr},Tr=mr.g,Tr.canvas.width=xr.width,Tr.canvas.height=xr.height,Tr.activeTexture(Tr.TEXTURE0),mr.h.bindTexture2d(mr.l),Tr.texImage2D(Tr.TEXTURE_2D,0,Tr.RGBA,Tr.RGBA,Tr.UNSIGNED_BYTE,tr),mr.h.bindTexture2d(0),mr=xr;break e;case"detections":for(mr=Yt.o[Wt.stream],mr||(mr=new Ar(Yt.h),Yt.o[Wt.stream]=mr),mr.data||(mr.data=new mr.g.DetectionListData),mr.data.reset(tr.length),xr=0;xr<tr.length;++xr){Tr=tr[xr];var Br=mr.data,to=Br.setBoundingBox,no=xr,yo=Tr.boundingBox,go=new Kt;if(Ko(go,1,yo.xCenter),Ko(go,2,yo.yCenter),Ko(go,3,yo.height),Ko(go,4,yo.width),Ko(go,5,yo.rotation),Ko(go,6,yo.rectId),yo=Sr(go,Fn),to.call(Br,no,yo),Tr.landmarks)for(Br=0;Br<Tr.landmarks.length;++Br){go=Tr.landmarks[Br];var fs=!!go.visibility;to=mr.data,no=to.addNormalizedLandmark,yo=xr,go=Object.assign(Object.assign({},go),{visibility:fs?go.visibility:0}),fs=new Hs,Ko(fs,1,go.x),Ko(fs,2,go.y),Ko(fs,3,go.z),go.visibility&&Ko(fs,4,go.visibility),go=Sr(fs,Qs),no.call(to,yo,go)}if(Tr.V)for(Br=0;Br<Tr.V.length;++Br)to=mr.data,no=to.addClassification,yo=xr,go=Tr.V[Br],fs=new es,Ko(fs,2,go.ga),go.index&&Ko(fs,1,go.index),go.label&&Ko(fs,3,go.label),go.displayName&&Ko(fs,4,go.displayName),go=Sr(fs,Fo),no.call(to,yo,go)}mr=mr.data;break e;default:mr={}}}switch(Ut=mr,Sn=Wt.stream,Wt.type){case"video":Vt.pushTexture2d(Object.assign(Object.assign({},Ut),{stream:Sn,timestamp:bt}));break;case"detections":Nn=Ut,Nn.stream=Sn,Nn.timestamp=bt,Vt.pushDetectionList(Nn);break;default:throw Error("Unknown input config type: '"+Wt.type+"'")}}return Yt.i.send(Vt),Er(Gn,Yt.D,4);case 4:Vt.delete(),Gn.g=0}})};function $t(Rt,Gt,Yt){var bt,Vt,Dt,mt,Ot,Wt,Ut,Sn,Nn,Gn,tr,mr,Tr,xr;return po(function(Br){switch(Br.g){case 1:if(!Yt)return Br.return(Gt);for(bt={},Vt=0,Dt=Ln(Object.keys(Yt)),mt=Dt.next();!mt.done;mt=Dt.next())Ot=mt.value,Wt=Yt[Ot],typeof Wt!="string"&&Wt.type==="texture"&&Gt[Wt.stream]!==void 0&&++Vt;1<Vt&&(Rt.I=!1),Ut=Ln(Object.keys(Yt)),mt=Ut.next();case 2:if(mt.done){Br.g=4;break}if(Sn=mt.value,Nn=Yt[Sn],typeof Nn=="string")return Tr=bt,xr=Sn,Er(Br,gn(Rt,Sn,Gt[Nn]),14);if(Gn=Gt[Nn.stream],Nn.type==="detection_list"){if(Gn){for(var to=Gn.getRectList(),no=Gn.getLandmarksList(),yo=Gn.getClassificationsList(),go=[],fs=0;fs<to.size();++fs){var Vs=hn(to.get(fs),Kt,Fn);Vs={boundingBox:{xCenter:ks(Vs,1),yCenter:ks(Vs,2),height:ks(Vs,3),width:ks(Vs,4),rotation:ks(Vs,5,0),rectId:Ls(Vs,6)},landmarks:Ml(hn(no.get(fs),Xl,Ft),Hs,1).map(Kn),V:kn(hn(yo.get(fs),rs,Ss))},go.push(Vs)}to=go}else to=[];bt[Sn]=to,Br.g=7;break}if(Nn.type==="proto_list"){if(Gn){for(to=Array(Gn.size()),no=0;no<Gn.size();no++)to[no]=Gn.get(no);Gn.delete()}else to=[];bt[Sn]=to,Br.g=7;break}if(Gn===void 0){Br.g=3;break}if(Nn.type==="float_list"){bt[Sn]=Gn,Br.g=7;break}if(Nn.type==="proto"){bt[Sn]=Gn,Br.g=7;break}if(Nn.type!=="texture")throw Error("Unknown output config type: '"+Nn.type+"'");return tr=Rt.u[Sn],tr||(tr=new lr(Rt.h,Rt.G),Rt.u[Sn]=tr),Er(Br,nr(tr,Gn,Rt.I),13);case 13:mr=Br.h,bt[Sn]=mr;case 7:Nn.transform&&bt[Sn]&&(bt[Sn]=Nn.transform(bt[Sn])),Br.g=3;break;case 14:Tr[xr]=Br.h;case 3:mt=Ut.next(),Br.g=2;break;case 4:return Br.return(bt)}})}function gn(Rt,Gt,Yt){var bt;return po(function(Vt){return typeof Yt=="number"||Yt instanceof Uint8Array||Yt instanceof Rt.h.Uint8BlobList?Vt.return(Yt):Yt instanceof Rt.h.Texture2dDataOut?(bt=Rt.u[Gt],bt||(bt=new lr(Rt.h,Rt.G),Rt.u[Gt]=bt),Vt.return(nr(bt,Yt,Rt.I))):Vt.return(void 0)})}function wn(Rt,Gt){for(var Yt=Gt.name||"$",bt=[].concat(Un(Gt.wants)),Vt=new Rt.h.StringList,Dt=Ln(Gt.wants),mt=Dt.next();!mt.done;mt=Dt.next())Vt.push_back(mt.value);Dt=Rt.h.PacketListener.implement({onResults:function(Ot){for(var Wt={},Ut=0;Ut<Gt.wants.length;++Ut)Wt[bt[Ut]]=Ot.get(Ut);var Sn=Rt.listeners[Yt];Sn&&(Rt.D=$t(Rt,Wt,Gt.outs).then(function(Nn){Nn=Sn(Nn);for(var Gn=0;Gn<Gt.wants.length;++Gn){var tr=Wt[bt[Gn]];typeof tr=="object"&&tr.hasOwnProperty&&tr.hasOwnProperty("delete")&&tr.delete()}Nn&&(Rt.D=Nn)}))}}),Rt.i.attachMultiListener(Vt,Dt),Vt.delete()}Et.onResults=function(Rt,Gt){this.listeners[Gt||"$"]=Rt},Jo("Solution",Io),Jo("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Jn(Rt){var Gt=this;Rt=Rt||{};var Yt={url:"face_detection_short.binarypb"},bt={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Io({locateFile:Rt.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:Yt,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(Vt){var Dt,mt,Ot,Wt,Ut,Sn;return po(function(Nn){switch(Nn.g){case 1:Dt=Vt==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"],mt=Ln(Dt),Ot=mt.next();case 2:if(Ot.done){Nn.g=4;break}return Wt=Ot.value,Ut="third_party/mediapipe/modules/face_detection/"+Wt,Er(Nn,At(Gt.g,Wt),5);case 5:Sn=Nn.h,Gt.g.overrideFile(Ut,Sn),Ot=mt.next(),Nn.g=2;break;case 4:return Yt.url=Vt==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",bt.graphOptionXref.calculatorName=Vt==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",Nn.return(!0)}})}},minDetectionConfidence:bt}})}Et=Jn.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(Rt){this.g.onResults(Rt)},Et.initialize=function(){var Rt=this;return po(function(Gt){return Er(Gt,Rt.g.initialize(),0)})},Et.reset=function(){this.g.reset()},Et.send=function(Rt){var Gt=this;return po(function(Yt){return Er(Yt,Gt.g.send(Rt),0)})},Et.setOptions=function(Rt){this.g.setOptions(Rt)},Jo("FaceDetection",Jn),Jo("FACEDETECTION_LIPS",ir),Jo("FACEDETECTION_LEFT_EYE",Cr),Jo("FACEDETECTION_LEFT_EYEBROW",ar),Jo("FACEDETECTION_RIGHT_EYE",kr),Jo("FACEDETECTION_RIGHT_EYEBROW",zr),Jo("FACEDETECTION_FACE_OVAL",wt),Jo("FACEDETECTION_CONTOURS",Qt),Jo("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),Jo("VERSION","0.4.1646425229")}).call(Zp);const fm={};(function(){var Et;function St(Ft){var Ht=0;return function(){return Ht<Ft.length?{done:!1,value:Ft[Ht++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(Ft,Ht,Kt){return Ft==Array.prototype||Ft==Object.prototype||(Ft[Ht]=Kt.value),Ft};function jt(Ft){Ft=[typeof globalThis=="object"&&globalThis,Ft,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Ht=0;Ht<Ft.length;++Ht){var Kt=Ft[Ht];if(Kt&&Kt.Math==Math)return Kt}throw Error("Cannot find global object")}var zt=jt(this);function Rn(Ft,Ht){if(Ht)e:{var Kt=zt;Ft=Ft.split(".");for(var Fn=0;Fn<Ft.length-1;Fn++){var ir=Ft[Fn];if(!(ir in Kt))break e;Kt=Kt[ir]}Ft=Ft[Ft.length-1],Fn=Kt[Ft],Ht=Ht(Fn),Ht!=Fn&&Ht!=null&&xt(Kt,Ft,{configurable:!0,writable:!0,value:Ht})}}Rn("Symbol",function(Ft){function Ht(Cr){if(this instanceof Ht)throw new TypeError("Symbol is not a constructor");return new Kt(Fn+(Cr||"")+"_"+ir++,Cr)}function Kt(Cr,ar){this.g=Cr,xt(this,"description",{configurable:!0,writable:!0,value:ar})}if(Ft)return Ft;Kt.prototype.toString=function(){return this.g};var Fn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ir=0;return Ht}),Rn("Symbol.iterator",function(Ft){if(Ft)return Ft;Ft=Symbol("Symbol.iterator");for(var Ht="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Kt=0;Kt<Ht.length;Kt++){var Fn=zt[Ht[Kt]];typeof Fn=="function"&&typeof Fn.prototype[Ft]!="function"&&xt(Fn.prototype,Ft,{configurable:!0,writable:!0,value:function(){return Mn(St(this))}})}return Ft});function Mn(Ft){return Ft={next:Ft},Ft[Symbol.iterator]=function(){return this},Ft}function Ln(Ft){var Ht=typeof Symbol<"u"&&Symbol.iterator&&Ft[Symbol.iterator];return Ht?Ht.call(Ft):{next:St(Ft)}}function Un(Ft){if(!(Ft instanceof Array)){Ft=Ln(Ft);for(var Ht,Kt=[];!(Ht=Ft.next()).done;)Kt.push(Ht.value);Ft=Kt}return Ft}var wr=typeof Object.create=="function"?Object.create:function(Ft){function Ht(){}return Ht.prototype=Ft,new Ht},Xr;if(typeof Object.setPrototypeOf=="function")Xr=Object.setPrototypeOf;else{var Hr;e:{var Wo={a:!0},Uo={};try{Uo.__proto__=Wo,Hr=Uo.a;break e}catch{}Hr=!1}Xr=Hr?function(Ft,Ht){if(Ft.__proto__=Ht,Ft.__proto__!==Ht)throw new TypeError(Ft+" is not extensible");return Ft}:null}var $r=Xr;function qr(Ft,Ht){if(Ft.prototype=wr(Ht.prototype),Ft.prototype.constructor=Ft,$r)$r(Ft,Ht);else for(var Kt in Ht)if(Kt!="prototype")if(Object.defineProperties){var Fn=Object.getOwnPropertyDescriptor(Ht,Kt);Fn&&Object.defineProperty(Ft,Kt,Fn)}else Ft[Kt]=Ht[Kt];Ft.ea=Ht.prototype}function ns(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function qo(Ft){if(Ft.l)throw new TypeError("Generator is already running");Ft.l=!0}ns.prototype.o=function(Ft){this.h=Ft};function Is(Ft,Ht){Ft.j={U:Ht,V:!0},Ft.g=Ft.m||Ft.s}ns.prototype.return=function(Ft){this.j={return:Ft},this.g=this.s};function Er(Ft,Ht,Kt){return Ft.g=Kt,{value:Ht}}function ju(Ft){this.g=new ns,this.h=Ft}function ku(Ft,Ht){qo(Ft.g);var Kt=Ft.g.i;return Kt?Tl(Ft,"return"in Kt?Kt.return:function(Fn){return{value:Fn,done:!0}},Ht,Ft.g.return):(Ft.g.return(Ht),Cs(Ft))}function Tl(Ft,Ht,Kt,Fn){try{var ir=Ht.call(Ft.g.i,Kt);if(!(ir instanceof Object))throw new TypeError("Iterator result "+ir+" is not an object");if(!ir.done)return Ft.g.l=!1,ir;var Cr=ir.value}catch(ar){return Ft.g.i=null,Is(Ft.g,ar),Cs(Ft)}return Ft.g.i=null,Fn.call(Ft.g,Cr),Cs(Ft)}function Cs(Ft){for(;Ft.g.g;)try{var Ht=Ft.h(Ft.g);if(Ht)return Ft.g.l=!1,{value:Ht.value,done:!1}}catch(Kt){Ft.g.h=void 0,Is(Ft.g,Kt)}if(Ft.g.l=!1,Ft.g.j){if(Ht=Ft.g.j,Ft.g.j=null,Ht.V)throw Ht.U;return{value:Ht.return,done:!0}}return{value:void 0,done:!0}}function Jp(Ft){this.next=function(Ht){return qo(Ft.g),Ft.g.i?Ht=Tl(Ft,Ft.g.i.next,Ht,Ft.g.o):(Ft.g.o(Ht),Ht=Cs(Ft)),Ht},this.throw=function(Ht){return qo(Ft.g),Ft.g.i?Ht=Tl(Ft,Ft.g.i.throw,Ht,Ft.g.o):(Is(Ft.g,Ht),Ht=Cs(Ft)),Ht},this.return=function(Ht){return ku(Ft,Ht)},this[Symbol.iterator]=function(){return this}}function Fs(Ft,Ht){return Ht=new Jp(new ju(Ht)),$r&&Ft.prototype&&$r(Ht,Ft.prototype),Ht}function po(Ft,Ht){Ft instanceof String&&(Ft+="");var Kt=0,Fn=!1,ir={next:function(){if(!Fn&&Kt<Ft.length){var Cr=Kt++;return{value:Ht(Cr,Ft[Cr]),done:!1}}return Fn=!0,{done:!0,value:void 0}}};return ir[Symbol.iterator]=function(){return ir},ir}var Xu=typeof Object.assign=="function"?Object.assign:function(Ft,Ht){for(var Kt=1;Kt<arguments.length;Kt++){var Fn=arguments[Kt];if(Fn)for(var ir in Fn)Object.prototype.hasOwnProperty.call(Fn,ir)&&(Ft[ir]=Fn[ir])}return Ft};Rn("Object.assign",function(Ft){return Ft||Xu}),Rn("Promise",function(Ft){function Ht(ar){this.h=0,this.i=void 0,this.g=[],this.o=!1;var kr=this.j();try{ar(kr.resolve,kr.reject)}catch(zr){kr.reject(zr)}}function Kt(){this.g=null}function Fn(ar){return ar instanceof Ht?ar:new Ht(function(kr){kr(ar)})}if(Ft)return Ft;Kt.prototype.h=function(ar){if(this.g==null){this.g=[];var kr=this;this.i(function(){kr.l()})}this.g.push(ar)};var ir=zt.setTimeout;Kt.prototype.i=function(ar){ir(ar,0)},Kt.prototype.l=function(){for(;this.g&&this.g.length;){var ar=this.g;this.g=[];for(var kr=0;kr<ar.length;++kr){var zr=ar[kr];ar[kr]=null;try{zr()}catch(wt){this.j(wt)}}}this.g=null},Kt.prototype.j=function(ar){this.i(function(){throw ar})},Ht.prototype.j=function(){function ar(wt){return function(Qt){zr||(zr=!0,wt.call(kr,Qt))}}var kr=this,zr=!1;return{resolve:ar(this.C),reject:ar(this.l)}},Ht.prototype.C=function(ar){if(ar===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(ar instanceof Ht)this.F(ar);else{e:switch(typeof ar){case"object":var kr=ar!=null;break e;case"function":kr=!0;break e;default:kr=!1}kr?this.u(ar):this.m(ar)}},Ht.prototype.u=function(ar){var kr=void 0;try{kr=ar.then}catch(zr){this.l(zr);return}typeof kr=="function"?this.G(kr,ar):this.m(ar)},Ht.prototype.l=function(ar){this.s(2,ar)},Ht.prototype.m=function(ar){this.s(1,ar)},Ht.prototype.s=function(ar,kr){if(this.h!=0)throw Error("Cannot settle("+ar+", "+kr+"): Promise already settled in state"+this.h);this.h=ar,this.i=kr,this.h===2&&this.D(),this.A()},Ht.prototype.D=function(){var ar=this;ir(function(){if(ar.B()){var kr=zt.console;typeof kr<"u"&&kr.error(ar.i)}},1)},Ht.prototype.B=function(){if(this.o)return!1;var ar=zt.CustomEvent,kr=zt.Event,zr=zt.dispatchEvent;return typeof zr>"u"?!0:(typeof ar=="function"?ar=new ar("unhandledrejection",{cancelable:!0}):typeof kr=="function"?ar=new kr("unhandledrejection",{cancelable:!0}):(ar=zt.document.createEvent("CustomEvent"),ar.initCustomEvent("unhandledrejection",!1,!0,ar)),ar.promise=this,ar.reason=this.i,zr(ar))},Ht.prototype.A=function(){if(this.g!=null){for(var ar=0;ar<this.g.length;++ar)Cr.h(this.g[ar]);this.g=null}};var Cr=new Kt;return Ht.prototype.F=function(ar){var kr=this.j();ar.J(kr.resolve,kr.reject)},Ht.prototype.G=function(ar,kr){var zr=this.j();try{ar.call(kr,zr.resolve,zr.reject)}catch(wt){zr.reject(wt)}},Ht.prototype.then=function(ar,kr){function zr(kn,Kn){return typeof kn=="function"?function(lr){try{wt(kn(lr))}catch(nr){Qt(nr)}}:Kn}var wt,Qt,mn=new Ht(function(kn,Kn){wt=kn,Qt=Kn});return this.J(zr(ar,wt),zr(kr,Qt)),mn},Ht.prototype.catch=function(ar){return this.then(void 0,ar)},Ht.prototype.J=function(ar,kr){function zr(){switch(wt.h){case 1:ar(wt.i);break;case 2:kr(wt.i);break;default:throw Error("Unexpected state: "+wt.h)}}var wt=this;this.g==null?Cr.h(zr):this.g.push(zr),this.o=!0},Ht.resolve=Fn,Ht.reject=function(ar){return new Ht(function(kr,zr){zr(ar)})},Ht.race=function(ar){return new Ht(function(kr,zr){for(var wt=Ln(ar),Qt=wt.next();!Qt.done;Qt=wt.next())Fn(Qt.value).J(kr,zr)})},Ht.all=function(ar){var kr=Ln(ar),zr=kr.next();return zr.done?Fn([]):new Ht(function(wt,Qt){function mn(lr){return function(nr){kn[lr]=nr,Kn--,Kn==0&&wt(kn)}}var kn=[],Kn=0;do kn.push(void 0),Kn++,Fn(zr.value).J(mn(kn.length-1),Qt),zr=kr.next();while(!zr.done)})},Ht}),Rn("Object.is",function(Ft){return Ft||function(Ht,Kt){return Ht===Kt?Ht!==0||1/Ht===1/Kt:Ht!==Ht&&Kt!==Kt}}),Rn("Array.prototype.includes",function(Ft){return Ft||function(Ht,Kt){var Fn=this;Fn instanceof String&&(Fn=String(Fn));var ir=Fn.length;for(Kt=Kt||0,0>Kt&&(Kt=Math.max(Kt+ir,0));Kt<ir;Kt++){var Cr=Fn[Kt];if(Cr===Ht||Object.is(Cr,Ht))return!0}return!1}}),Rn("String.prototype.includes",function(Ft){return Ft||function(Ht,Kt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Ht instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Ht,Kt||0)!==-1}}),Rn("Array.prototype.keys",function(Ft){return Ft||function(){return po(this,function(Ht){return Ht})}});var Qp=this||self;function xl(Ft,Ht){Ft=Ft.split(".");var Kt=Qp;Ft[0]in Kt||typeof Kt.execScript>"u"||Kt.execScript("var "+Ft[0]);for(var Fn;Ft.length&&(Fn=Ft.shift());)Ft.length||Ht===void 0?Kt[Fn]&&Kt[Fn]!==Object.prototype[Fn]?Kt=Kt[Fn]:Kt=Kt[Fn]={}:Kt[Fn]=Ht}function Jo(Ft,Ht){return Ht=String.fromCharCode.apply(null,Ht),Ft==null?Ht:Ft+Ht}var Zl,Tu=typeof TextDecoder<"u",ep,Rp=typeof TextEncoder<"u";function cp(Ft){if(Rp)Ft=(ep||(ep=new TextEncoder)).encode(Ft);else{var Ht=void 0;Ht=Ht===void 0?!1:Ht;for(var Kt=0,Fn=new Uint8Array(3*Ft.length),ir=0;ir<Ft.length;ir++){var Cr=Ft.charCodeAt(ir);if(128>Cr)Fn[Kt++]=Cr;else{if(2048>Cr)Fn[Kt++]=Cr>>6|192;else{if(55296<=Cr&&57343>=Cr){if(56319>=Cr&&ir<Ft.length){var ar=Ft.charCodeAt(++ir);if(56320<=ar&&57343>=ar){Cr=1024*(Cr-55296)+ar-56320+65536,Fn[Kt++]=Cr>>18|240,Fn[Kt++]=Cr>>12&63|128,Fn[Kt++]=Cr>>6&63|128,Fn[Kt++]=Cr&63|128;continue}else ir--}if(Ht)throw Error("Found an unpaired surrogate");Cr=65533}Fn[Kt++]=Cr>>12|224,Fn[Kt++]=Cr>>6&63|128}Fn[Kt++]=Cr&63|128}}Ft=Fn.subarray(0,Kt)}return Ft}var Ap={},Lu=null;function Uu(Ft,Ht){Ht===void 0&&(Ht=0),ru(),Ht=Ap[Ht];for(var Kt=Array(Math.floor(Ft.length/3)),Fn=Ht[64]||"",ir=0,Cr=0;ir<Ft.length-2;ir+=3){var ar=Ft[ir],kr=Ft[ir+1],zr=Ft[ir+2],wt=Ht[ar>>2];ar=Ht[(ar&3)<<4|kr>>4],kr=Ht[(kr&15)<<2|zr>>6],zr=Ht[zr&63],Kt[Cr++]=wt+ar+kr+zr}switch(wt=0,zr=Fn,Ft.length-ir){case 2:wt=Ft[ir+1],zr=Ht[(wt&15)<<2]||Fn;case 1:Ft=Ft[ir],Kt[Cr]=Ht[Ft>>2]+Ht[(Ft&3)<<4|wt>>4]+zr+Fn}return Kt.join("")}function Pp(Ft){var Ht=Ft.length,Kt=3*Ht/4;Kt%3?Kt=Math.floor(Kt):"=.".indexOf(Ft[Ht-1])!=-1&&(Kt="=.".indexOf(Ft[Ht-2])!=-1?Kt-2:Kt-1);var Fn=new Uint8Array(Kt),ir=0;return Ip(Ft,function(Cr){Fn[ir++]=Cr}),Fn.subarray(0,ir)}function Ip(Ft,Ht){function Kt(zr){for(;Fn<Ft.length;){var wt=Ft.charAt(Fn++),Qt=Lu[wt];if(Qt!=null)return Qt;if(!/^[\s\xa0]*$/.test(wt))throw Error("Unknown base64 encoding at char: "+wt)}return zr}ru();for(var Fn=0;;){var ir=Kt(-1),Cr=Kt(0),ar=Kt(64),kr=Kt(64);if(kr===64&&ir===-1)break;Ht(ir<<2|Cr>>4),ar!=64&&(Ht(Cr<<4&240|ar>>2),kr!=64&&Ht(ar<<6&192|kr))}}function ru(){if(!Lu){Lu={};for(var Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ht=["+/=","+/","-_=","-_.","-_"],Kt=0;5>Kt;Kt++){var Fn=Ft.concat(Ht[Kt].split(""));Ap[Kt]=Fn;for(var ir=0;ir<Fn.length;ir++){var Cr=Fn[ir];Lu[Cr]===void 0&&(Lu[Cr]=ir)}}}}var tu=typeof Uint8Array.prototype.slice=="function",lp;function tp(Ft,Ht,Kt){return Ht===Kt?lp||(lp=new Uint8Array(0)):tu?Ft.slice(Ht,Kt):new Uint8Array(Ft.subarray(Ht,Kt))}var Xs=0,Vl=0;function iu(Ft,Ht){Ht=Ht===void 0?{}:Ht,Ht=Ht.v===void 0?!1:Ht.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=Ht,Ft&&Os(this,Ft)}function Os(Ft,Ht){Ht=Ht.constructor===Uint8Array?Ht:Ht.constructor===ArrayBuffer?new Uint8Array(Ht):Ht.constructor===Array?new Uint8Array(Ht):Ht.constructor===String?Pp(Ht):Ht instanceof Uint8Array?new Uint8Array(Ht.buffer,Ht.byteOffset,Ht.byteLength):new Uint8Array(0),Ft.h=Ht,Ft.l=0,Ft.j=Ft.h.length,Ft.g=Ft.l}iu.prototype.reset=function(){this.g=this.l};function El(Ft){for(var Ht=128,Kt=0,Fn=0,ir=0;4>ir&&128<=Ht;ir++)Ht=Ft.h[Ft.g++],Kt|=(Ht&127)<<7*ir;if(128<=Ht&&(Ht=Ft.h[Ft.g++],Kt|=(Ht&127)<<28,Fn|=(Ht&127)>>4),128<=Ht)for(ir=0;5>ir&&128<=Ht;ir++)Ht=Ft.h[Ft.g++],Fn|=(Ht&127)<<7*ir+3;if(128>Ht)return Ft=Kt>>>0,Ht=Fn>>>0,(Fn=Ht&2147483648)&&(Ft=~Ft+1>>>0,Ht=~Ht>>>0,Ft==0&&(Ht=Ht+1>>>0)),Ft=4294967296*Ht+(Ft>>>0),Fn?-Ft:Ft;Ft.m=!0}iu.prototype.i=function(){var Ft=this.h,Ht=Ft[this.g],Kt=Ht&127;return 128>Ht?(this.g+=1,Kt):(Ht=Ft[this.g+1],Kt|=(Ht&127)<<7,128>Ht?(this.g+=2,Kt):(Ht=Ft[this.g+2],Kt|=(Ht&127)<<14,128>Ht?(this.g+=3,Kt):(Ht=Ft[this.g+3],Kt|=(Ht&127)<<21,128>Ht?(this.g+=4,Kt):(Ht=Ft[this.g+4],Kt|=(Ht&15)<<28,128>Ht?(this.g+=5,Kt>>>0):(this.g+=5,128<=Ft[this.g++]&&128<=Ft[this.g++]&&128<=Ft[this.g++]&&128<=Ft[this.g++]&&this.g++,Kt)))))},iu.prototype.o=function(){var Ft=this.h[this.g],Ht=this.h[this.g+1],Kt=this.h[this.g+2],Fn=this.h[this.g+3];return this.g+=4,Kt=(Ft<<0|Ht<<8|Kt<<16|Fn<<24)>>>0,Ft=2*(Kt>>31)+1,Ht=Kt>>>23&255,Kt&=8388607,Ht==255?Kt?NaN:1/0*Ft:Ht==0?Ft*Math.pow(2,-149)*Kt:Ft*Math.pow(2,Ht-150)*(Kt+Math.pow(2,23))};var xu=[];function Kl(){this.g=new Uint8Array(64),this.h=0}Kl.prototype.push=function(Ft){if(!(this.h+1<this.g.length)){var Ht=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(Ht)}this.g[this.h++]=Ft},Kl.prototype.length=function(){return this.h},Kl.prototype.end=function(){var Ft=this.g,Ht=this.h;return this.h=0,tp(Ft,0,Ht)};function bs(Ft,Ht){for(;127<Ht;)Ft.push(Ht&127|128),Ht>>>=7;Ft.push(Ht)}function na(Ft){var Ht={},Kt=Ht.N===void 0?!1:Ht.N;this.o={v:Ht.v===void 0?!1:Ht.v},this.N=Kt,Ht=this.o,xu.length?(Kt=xu.pop(),Ht&&(Kt.v=Ht.v),Ft&&Os(Kt,Ft),Ft=Kt):Ft=new iu(Ft,Ht),this.g=Ft,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}na.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function Gl(Ft){var Ht=Ft.g;if((Ht=Ht.g==Ht.j)||(Ht=Ft.j)||(Ht=Ft.g,Ht=Ht.m||0>Ht.g||Ht.g>Ht.j),Ht)return!1;Ft.m=Ft.g.g,Ht=Ft.g.i();var Kt=Ht&7;return Kt!=0&&Kt!=5&&Kt!=1&&Kt!=2&&Kt!=3&&Kt!=4?(Ft.j=!0,!1):(Ft.i=Ht,Ft.l=Ht>>>3,Ft.h=Kt,!0)}function as(Ft){switch(Ft.h){case 0:if(Ft.h!=0)as(Ft);else{for(Ft=Ft.g;Ft.h[Ft.g]&128;)Ft.g++;Ft.g++}break;case 1:Ft.h!=1?as(Ft):(Ft=Ft.g,Ft.g+=8);break;case 2:if(Ft.h!=2)as(Ft);else{var Ht=Ft.g.i();Ft=Ft.g,Ft.g+=Ht}break;case 5:Ft.h!=5?as(Ft):(Ft=Ft.g,Ft.g+=4);break;case 3:Ht=Ft.l;do{if(!Gl(Ft)){Ft.j=!0;break}if(Ft.h==4){Ft.l!=Ht&&(Ft.j=!0);break}as(Ft)}while(1);break;default:Ft.j=!0}}function Ol(Ft,Ht,Kt){var Fn=Ft.g.j,ir=Ft.g.i(),Cr=Ft.g.g+ir;if(Ft.g.j=Cr,Kt(Ht,Ft),Kt=Cr-Ft.g.g,Kt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+ir+" bytes, instead read "+(ir-Kt)+" bytes, either the data ended unexpectedly or the message misreported its own length");return Ft.g.g=Cr,Ft.g.j=Fn,Ht}function ms(Ft){return Ft.g.o()}function Js(Ft){var Ht=Ft.g.i();Ft=Ft.g;var Kt=Ft.g;Ft.g+=Ht,Ft=Ft.h;var Fn;if(Tu)(Fn=Zl)||(Fn=Zl=new TextDecoder("utf-8",{fatal:!1})),Fn=Fn.decode(Ft.subarray(Kt,Kt+Ht));else{Ht=Kt+Ht;for(var ir=[],Cr=null,ar,kr,zr;Kt<Ht;)ar=Ft[Kt++],128>ar?ir.push(ar):224>ar?Kt>=Ht?ir.push(65533):(kr=Ft[Kt++],194>ar||(kr&192)!==128?(Kt--,ir.push(65533)):ir.push((ar&31)<<6|kr&63)):240>ar?Kt>=Ht-1?ir.push(65533):(kr=Ft[Kt++],(kr&192)!==128||ar===224&&160>kr||ar===237&&160<=kr||((Fn=Ft[Kt++])&192)!==128?(Kt--,ir.push(65533)):ir.push((ar&15)<<12|(kr&63)<<6|Fn&63)):244>=ar?Kt>=Ht-2?ir.push(65533):(kr=Ft[Kt++],(kr&192)!==128||(ar<<28)+(kr-144)>>30||((Fn=Ft[Kt++])&192)!==128||((zr=Ft[Kt++])&192)!==128?(Kt--,ir.push(65533)):(ar=(ar&7)<<18|(kr&63)<<12|(Fn&63)<<6|zr&63,ar-=65536,ir.push((ar>>10&1023)+55296,(ar&1023)+56320))):ir.push(65533),8192<=ir.length&&(Cr=Jo(Cr,ir),ir.length=0);Fn=Jo(Cr,ir)}return Fn}function Nl(Ft,Ht,Kt){var Fn=Ft.g.i();for(Fn=Ft.g.g+Fn;Ft.g.g<Fn;)Kt.push(Ht.call(Ft.g))}function du(Ft,Ht){Ft.h==2?Nl(Ft,iu.prototype.o,Ht):Ht.push(ms(Ft))}function $a(){this.h=[],this.i=0,this.g=new Kl}function gs(Ft,Ht){Ht.length!==0&&(Ft.h.push(Ht),Ft.i+=Ht.length)}function nu(Ft){var Ht=Ft.i+Ft.g.length();if(Ht===0)return new Uint8Array(0);Ht=new Uint8Array(Ht);for(var Kt=Ft.h,Fn=Kt.length,ir=0,Cr=0;Cr<Fn;Cr++){var ar=Kt[Cr];ar.length!==0&&(Ht.set(ar,ir),ir+=ar.length)}return Kt=Ft.g,Fn=Kt.h,Fn!==0&&(Ht.set(Kt.g.subarray(0,Fn),ir),Kt.h=0),Ft.h=[Ht],Ht}function ou(Ft,Ht,Kt){if(Kt!=null){bs(Ft.g,8*Ht+5),Ft=Ft.g;var Fn=Kt;Fn=(Kt=0>Fn?1:0)?-Fn:Fn,Fn===0?0<1/Fn?Xs=Vl=0:(Vl=0,Xs=2147483648):isNaN(Fn)?(Vl=0,Xs=2147483647):34028234663852886e22<Fn?(Vl=0,Xs=(Kt<<31|2139095040)>>>0):11754943508222875e-54>Fn?(Fn=Math.round(Fn/Math.pow(2,-149)),Vl=0,Xs=(Kt<<31|Fn)>>>0):(Ht=Math.floor(Math.log(Fn)/Math.LN2),Fn*=Math.pow(2,-Ht),Fn=Math.round(8388608*Fn),16777216<=Fn&&++Ht,Vl=0,Xs=(Kt<<31|Ht+127<<23|Fn&8388607)>>>0),Kt=Xs,Ft.push(Kt>>>0&255),Ft.push(Kt>>>8&255),Ft.push(Kt>>>16&255),Ft.push(Kt>>>24&255)}}var Al=typeof Uint8Array=="function";function np(Ft,Ht,Kt){if(Ft!=null)return typeof Ft=="object"?Al&&Ft instanceof Uint8Array?Kt(Ft):Ru(Ft,Ht,Kt):Ht(Ft)}function Ru(Ft,Ht,Kt){if(Array.isArray(Ft)){for(var Fn=Array(Ft.length),ir=0;ir<Ft.length;ir++)Fn[ir]=np(Ft[ir],Ht,Kt);return Array.isArray(Ft)&&Ft.W&&ga(Fn),Fn}Fn={};for(ir in Ft)Fn[ir]=np(Ft[ir],Ht,Kt);return Fn}function su(Ft){return typeof Ft=="number"?isFinite(Ft)?Ft:String(Ft):Ft}var Iu={W:{value:!0,configurable:!0}};function ga(Ft){return Array.isArray(Ft)&&!Object.isFrozen(Ft)&&Object.defineProperties(Ft,Iu),Ft}var Pl;function ba(Ft,Ht,Kt){var Fn=Pl;Pl=null,Ft||(Ft=Fn),Fn=this.constructor.ca,Ft||(Ft=Fn?[Fn]:[]),this.j=Fn?0:-1,this.m=this.g=null,this.h=Ft;e:{if(Fn=this.h.length,Ft=Fn-1,Fn&&(Fn=this.h[Ft],!(Fn===null||typeof Fn!="object"||Array.isArray(Fn)||Al&&Fn instanceof Uint8Array))){this.l=Ft-this.j,this.i=Fn;break e}Ht!==void 0&&-1<Ht?(this.l=Math.max(Ht,Ft+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(Kt)for(Ht=0;Ht<Kt.length;Ht++)Ft=Kt[Ht],Ft<this.l?(Ft+=this.j,(Fn=this.h[Ft])?ga(Fn):this.h[Ft]=As):(au(this),(Fn=this.i[Ft])?ga(Fn):this.i[Ft]=As)}var As=Object.freeze(ga([]));function au(Ft){var Ht=Ft.l+Ft.j;Ft.h[Ht]||(Ft.i=Ft.h[Ht]={})}function xs(Ft,Ht,Kt){return Ht===-1?null:Kt!==void 0&&Kt||Ht>=Ft.l?Ft.i?Ft.i[Ht]:void 0:Ft.h[Ht+Ft.j]}function vs(Ft,Ht){var Kt=Kt===void 0?!1:Kt,Fn=xs(Ft,Ht,Kt);return Fn==null&&(Fn=As),Fn===As&&(Fn=ga([]),Ao(Ft,Ht,Fn,Kt)),Fn}function Vu(Ft){var Ht=vs(Ft,3);if(Ft.m||(Ft.m={}),!Ft.m[3]){for(var Kt=0;Kt<Ht.length;Kt++)Ht[Kt]=+Ht[Kt];Ft.m[3]=!0}return Ht}function Us(Ft,Ht,Kt){return Ft=xs(Ft,Ht),Ft??Kt}function Ko(Ft,Ht,Kt){return Ft=xs(Ft,Ht),Ft=Ft==null?Ft:+Ft,Ft??(Kt===void 0?0:Kt)}function Ao(Ft,Ht,Kt,Fn){Fn!==void 0&&Fn||Ht>=Ft.l?(au(Ft),Ft.i[Ht]=Kt):Ft.h[Ht+Ft.j]=Kt}function ks(Ft,Ht,Kt){if(Kt===-1)return null;if(Ft.g||(Ft.g={}),!Ft.g[Kt]){var Fn=xs(Ft,Kt,!1);Fn&&(Ft.g[Kt]=new Ht(Fn))}return Ft.g[Kt]}function Ml(Ft,Ht){Ft.g||(Ft.g={});var Kt=Ft.g[1];if(!Kt){var Fn=vs(Ft,1);Kt=[];for(var ir=0;ir<Fn.length;ir++)Kt[ir]=new Ht(Fn[ir]);Ft.g[1]=Kt}return Kt}function Rs(Ft,Ht,Kt){var Fn=Fn===void 0?!1:Fn;Ft.g||(Ft.g={});var ir=Kt&&Vr(Kt);Ft.g[Ht]=Kt,Ao(Ft,Ht,ir,Fn)}function Ls(Ft,Ht,Kt,Fn){var ir=Ml(Ft,Kt);Ht=Ht||new Kt,Ft=vs(Ft,1),Fn!=null?(ir.splice(Fn,0,Ht),Ft.splice(Fn,0,Vr(Ht))):(ir.push(Ht),Ft.push(Vr(Ht)))}ba.prototype.toJSON=function(){var Ft=Vr(this);return Ru(Ft,su,Uu)};function Vr(Ft,Ht){if(Ft.g)for(var Kt in Ft.g){var Fn=Ft.g[Kt];if(Array.isArray(Fn))for(var ir=0;ir<Fn.length;ir++)Fn[ir]&&Vr(Fn[ir]);else Fn&&Vr(Fn)}return Ft.h}ba.prototype.toString=function(){return Vr(this).toString()};function Gr(Ft,Ht){if(Ft=Ft.o){gs(Ht,Ht.g.end());for(var Kt=0;Kt<Ft.length;Kt++)gs(Ht,Ft[Kt])}}function Kr(Ft,Ht){if(Ht.h==4)return!1;var Kt=Ht.m;return as(Ht),Ht.N||(Ht=tp(Ht.g.h,Kt,Ht.g.g),(Kt=Ft.o)?Kt.push(Ht):Ft.o=[Ht]),!0}function ys(Ft){ba.call(this,Ft,-1,Ps)}qr(ys,ba),ys.prototype.getRows=function(){return xs(this,1)},ys.prototype.getCols=function(){return xs(this,2)},ys.prototype.getPackedDataList=function(){return Vu(this)},ys.prototype.getLayout=function(){return Us(this,4,0)};function Gs(Ft,Ht){for(;Gl(Ht);)switch(Ht.i){case 8:var Kt=Ht.g.i();Ao(Ft,1,Kt);break;case 16:Kt=Ht.g.i(),Ao(Ft,2,Kt);break;case 29:case 26:du(Ht,Ft.getPackedDataList());break;case 32:Kt=El(Ht.g),Ao(Ft,4,Kt);break;default:if(!Kr(Ft,Ht))return Ft}return Ft}var Ps=[3];function Mo(Ft,Ht){var Kt=void 0;return new(Kt||(Kt=nt))(function(Fn,ir){function Cr(zr){try{kr(Ht.next(zr))}catch(wt){ir(wt)}}function ar(zr){try{kr(Ht.throw(zr))}catch(wt){ir(wt)}}function kr(zr){zr.done?Fn(zr.value):new Kt(function(wt){wt(zr.value)}).then(Cr,ar)}kr((Ht=Ht.apply(Ft,void 0)).next())})}function Bs(Ft){ba.call(this,Ft)}qr(Bs,ba);function Fl(Ft,Ht){for(;Gl(Ht);)switch(Ht.i){case 8:var Kt=Ht.g.i();Ao(Ft,1,Kt);break;case 21:Kt=ms(Ht),Ao(Ft,2,Kt);break;case 26:Kt=Js(Ht),Ao(Ft,3,Kt);break;case 34:Kt=Js(Ht),Ao(Ft,4,Kt);break;default:if(!Kr(Ft,Ht))return Ft}return Ft}function fu(Ft){ba.call(this,Ft,-1,pu)}qr(fu,ba),fu.prototype.addClassification=function(Ft,Ht){return Ls(this,Ft,Bs,Ht),this};var pu=[1];function Zu(Ft){ba.call(this,Ft)}qr(Zu,ba);function Bu(Ft,Ht){for(;Gl(Ht);)switch(Ht.i){case 13:var Kt=ms(Ht);Ao(Ft,1,Kt);break;case 21:Kt=ms(Ht),Ao(Ft,2,Kt);break;case 29:Kt=ms(Ht),Ao(Ft,3,Kt);break;case 37:Kt=ms(Ht),Ao(Ft,4,Kt);break;case 45:Kt=ms(Ht),Ao(Ft,5,Kt);break;default:if(!Kr(Ft,Ht))return Ft}return Ft}function Wl(Ft){ba.call(this,Ft,-1,_p)}qr(Wl,ba);function hu(Ft){e:{var Ht=new Wl;for(Ft=new na(Ft);Gl(Ft);)switch(Ft.i){case 10:var Kt=Ol(Ft,new Zu,Bu);Ls(Ht,Kt,Zu,void 0);break;default:if(!Kr(Ht,Ft))break e}}return Ht}var _p=[1];function mu(Ft){ba.call(this,Ft)}qr(mu,ba);function Dl(Ft){ba.call(this,Ft,-1,up)}qr(Dl,ba),Dl.prototype.getVertexType=function(){return Us(this,1,0)},Dl.prototype.getPrimitiveType=function(){return Us(this,2,0)},Dl.prototype.getVertexBufferList=function(){return Vu(this)},Dl.prototype.getIndexBufferList=function(){return vs(this,4)};function Ju(Ft,Ht){for(;Gl(Ht);)switch(Ht.i){case 8:var Kt=El(Ht.g);Ao(Ft,1,Kt);break;case 16:Kt=El(Ht.g),Ao(Ft,2,Kt);break;case 29:case 26:du(Ht,Ft.getVertexBufferList());break;case 32:case 34:Kt=Ht;var Fn=Ft.getIndexBufferList();Kt.h==2?Nl(Kt,iu.prototype.i,Fn):Fn.push(Kt.g.i());break;default:if(!Kr(Ft,Ht))return Ft}return Ft}var up=[3,4];function Jl(Ft){ba.call(this,Ft)}qr(Jl,ba),Jl.prototype.getMesh=function(){return ks(this,Dl,1)},Jl.prototype.getPoseTransformMatrix=function(){return ks(this,ys,2)};function Mp(Ft){e:{var Ht=new Jl;for(Ft=new na(Ft);Gl(Ft);)switch(Ft.i){case 10:var Kt=Ol(Ft,new Dl,Ju);Rs(Ht,1,Kt);break;case 18:Kt=Ol(Ft,new ys,Gs),Rs(Ht,2,Kt);break;default:if(!Kr(Ht,Ft))break e}}return Ht}function gu(Ft,Ht,Kt){if(Kt=Ft.createShader(Kt===0?Ft.VERTEX_SHADER:Ft.FRAGMENT_SHADER),Ft.shaderSource(Kt,Ht),Ft.compileShader(Kt),!Ft.getShaderParameter(Kt,Ft.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+Ft.getShaderInfoLog(Kt));return Kt}function Qu(Ft){return Ml(Ft,Bs).map(function(Ht){return{index:Us(Ht,1,0),Y:Ko(Ht,2),label:xs(Ht,3)!=null?Us(Ht,3,""):void 0,displayName:xs(Ht,4)!=null?Us(Ht,4,""):void 0}})}function vp(Ft){return{x:Ko(Ft,1),y:Ko(Ft,2),z:Ko(Ft,3),visibility:xs(Ft,4)!=null?Ko(Ft,4):void 0}}function Bp(Ft,Ht){this.h=Ft,this.g=Ht,this.l=0}function wu(Ft,Ht,Kt){return yp(Ft,Ht),typeof Ft.g.canvas.transferToImageBitmap=="function"?nt.resolve(Ft.g.canvas.transferToImageBitmap()):Kt?nt.resolve(Ft.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(Ft.g.canvas):(Ft.i===void 0&&(Ft.i=document.createElement("canvas")),new nt(function(Fn){Ft.i.height=Ft.g.canvas.height,Ft.i.width=Ft.g.canvas.width,Ft.i.getContext("2d",{}).drawImage(Ft.g.canvas,0,0,Ft.g.canvas.width,Ft.g.canvas.height),Fn(Ft.i)}))}function yp(Ft,Ht){var Kt=Ft.g;if(Ft.m===void 0){var Fn=gu(Kt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),ir=gu(Kt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Cr=Kt.createProgram();if(Kt.attachShader(Cr,Fn),Kt.attachShader(Cr,ir),Kt.linkProgram(Cr),!Kt.getProgramParameter(Cr,Kt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Kt.getProgramInfoLog(Cr));Fn=Ft.m=Cr,Kt.useProgram(Fn),ir=Kt.getUniformLocation(Fn,"sampler0"),Ft.j={I:Kt.getAttribLocation(Fn,"aVertex"),H:Kt.getAttribLocation(Fn,"aTex"),da:ir},Ft.s=Kt.createBuffer(),Kt.bindBuffer(Kt.ARRAY_BUFFER,Ft.s),Kt.enableVertexAttribArray(Ft.j.I),Kt.vertexAttribPointer(Ft.j.I,2,Kt.FLOAT,!1,0,0),Kt.bufferData(Kt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Kt.STATIC_DRAW),Kt.bindBuffer(Kt.ARRAY_BUFFER,null),Ft.o=Kt.createBuffer(),Kt.bindBuffer(Kt.ARRAY_BUFFER,Ft.o),Kt.enableVertexAttribArray(Ft.j.H),Kt.vertexAttribPointer(Ft.j.H,2,Kt.FLOAT,!1,0,0),Kt.bufferData(Kt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Kt.STATIC_DRAW),Kt.bindBuffer(Kt.ARRAY_BUFFER,null),Kt.uniform1i(ir,0)}Fn=Ft.j,Kt.useProgram(Ft.m),Kt.canvas.width=Ht.width,Kt.canvas.height=Ht.height,Kt.viewport(0,0,Ht.width,Ht.height),Kt.activeTexture(Kt.TEXTURE0),Ft.h.bindTexture2d(Ht.glName),Kt.enableVertexAttribArray(Fn.I),Kt.bindBuffer(Kt.ARRAY_BUFFER,Ft.s),Kt.vertexAttribPointer(Fn.I,2,Kt.FLOAT,!1,0,0),Kt.enableVertexAttribArray(Fn.H),Kt.bindBuffer(Kt.ARRAY_BUFFER,Ft.o),Kt.vertexAttribPointer(Fn.H,2,Kt.FLOAT,!1,0,0),Kt.bindFramebuffer(Kt.DRAW_FRAMEBUFFER?Kt.DRAW_FRAMEBUFFER:Kt.FRAMEBUFFER,null),Kt.clearColor(0,0,0,0),Kt.clear(Kt.COLOR_BUFFER_BIT),Kt.colorMask(!0,!0,!0,!0),Kt.drawArrays(Kt.TRIANGLE_FAN,0,4),Kt.disableVertexAttribArray(Fn.I),Kt.disableVertexAttribArray(Fn.H),Kt.bindBuffer(Kt.ARRAY_BUFFER,null),Ft.h.bindTexture2d(0)}function am(Ft){this.g=Ft}var cm=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function bp(Ft,Ht){return Ht+Ft}function wp(Ft,Ht){window[Ft]=Ht}function Xt(Ft){var Ht=document.createElement("script");return Ht.setAttribute("src",Ft),Ht.setAttribute("crossorigin","anonymous"),new nt(function(Kt){Ht.addEventListener("load",function(){Kt()},!1),Ht.addEventListener("error",function(){Kt()},!1),document.body.appendChild(Ht)})}function ln(){return Mo(this,function Ft(){return Fs(Ft,function(Ht){switch(Ht.g){case 1:return Ht.m=2,Er(Ht,WebAssembly.instantiate(cm),4);case 4:Ht.g=3,Ht.m=0;break;case 2:return Ht.m=0,Ht.j=null,Ht.return(!1);case 3:return Ht.return(!0)}})})}function hn(Ft){if(this.g=Ft,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=Ft&&Ft.locateFile||bp,typeof window=="object")var Ht=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Ht=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Ht,Ft.options){Ht=Ln(Object.keys(Ft.options));for(var Kt=Ht.next();!Kt.done;Kt=Ht.next()){Kt=Kt.value;var Fn=Ft.options[Kt].default;Fn!==void 0&&(this.j[Kt]=typeof Fn=="function"?Fn():Fn)}}}Et=hn.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function _n(Ft,Ht){return Ft.g.files===void 0?[]:typeof Ft.g.files=="function"?Ft.g.files(Ht):Ft.g.files}function Sr(Ft){return Mo(Ft,function Ht(){var Kt=this,Fn,ir,Cr,ar,kr,zr,wt,Qt,mn,kn,Kn;return Fs(Ht,function(lr){switch(lr.g){case 1:return Fn=Kt,Kt.R?(ir=_n(Kt,Kt.j),Er(lr,ln(),2)):lr.return();case 2:if(Cr=lr.h,typeof window=="object")return wp("createMediapipeSolutionsWasm",{locateFile:Kt.locateFile}),wp("createMediapipeSolutionsPackedAssets",{locateFile:Kt.locateFile}),zr=ir.filter(function(nr){return nr.data!==void 0}),wt=ir.filter(function(nr){return nr.data===void 0}),Qt=nt.all(zr.map(function(nr){var Zr=Mr(Fn,nr.url);if(nr.path!==void 0){var Ar=nr.path;Zr=Zr.then(function(ao){return Fn.overrideFile(Ar,ao),nt.resolve(ao)})}return Zr})),mn=nt.all(wt.map(function(nr){return nr.simd===void 0||nr.simd&&Cr||!nr.simd&&!Cr?Xt(Fn.locateFile(nr.url,Fn.S)):nt.resolve()})).then(function(){return Mo(Fn,function nr(){var Zr,Ar,ao=this;return Fs(nr,function(Co){if(Co.g==1)return Zr=window.createMediapipeSolutionsWasm,Ar=window.createMediapipeSolutionsPackedAssets,Er(Co,Zr(Ar),2);ao.h=Co.h,Co.g=0})})}),kn=function(){return Mo(Fn,function nr(){var Zr=this;return Fs(nr,function(Ar){return Zr.g.graph&&Zr.g.graph.url?Ar=Er(Ar,Mr(Zr,Zr.g.graph.url),0):(Ar.g=0,Ar=void 0),Ar})})}(),Er(lr,nt.all([mn,Qt,kn]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return ar=ir.filter(function(nr){return nr.simd===void 0||nr.simd&&Cr||!nr.simd&&!Cr}).map(function(nr){return Fn.locateFile(nr.url,Fn.S)}),importScripts.apply(null,Un(ar)),Er(lr,createMediapipeSolutionsWasm(Module),6);case 6:Kt.h=lr.h,Kt.l=new OffscreenCanvas(1,1),Kt.h.canvas=Kt.l,kr=Kt.h.GL.createContext(Kt.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),Kt.h.GL.makeContextCurrent(kr),lr.g=4;break;case 7:if(Kt.l=document.createElement("canvas"),Kn=Kt.l.getContext("webgl2",{}),!Kn&&(Kn=Kt.l.getContext("webgl",{}),!Kn))return alert("Failed to create WebGL canvas context when passing video frame."),lr.return();Kt.D=Kn,Kt.h.canvas=Kt.l,Kt.h.createContext(Kt.l,!0,!0,{});case 4:Kt.i=new Kt.h.SolutionWasm,Kt.R=!1,lr.g=0}})})}function Ur(Ft){return Mo(Ft,function Ht(){var Kt=this,Fn,ir,Cr,ar,kr,zr,wt,Qt;return Fs(Ht,function(mn){if(mn.g==1){if(Kt.g.graph&&Kt.g.graph.url&&Kt.P===Kt.g.graph.url)return mn.return();if(Kt.o=!0,!Kt.g.graph||!Kt.g.graph.url){mn.g=2;return}return Kt.P=Kt.g.graph.url,Er(mn,Mr(Kt,Kt.g.graph.url),3)}for(mn.g!=2&&(Fn=mn.h,Kt.i.loadGraph(Fn)),ir=Ln(Object.keys(Kt.B)),Cr=ir.next();!Cr.done;Cr=ir.next())ar=Cr.value,Kt.i.overrideFile(ar,Kt.B[ar]);if(Kt.B={},Kt.g.listeners)for(kr=Ln(Kt.g.listeners),zr=kr.next();!zr.done;zr=kr.next())wt=zr.value,os(Kt,wt);Qt=Kt.j,Kt.j={},Kt.setOptions(Qt),mn.g=0})})}Et.reset=function(){return Mo(this,function Ft(){var Ht=this;return Fs(Ft,function(Kt){Ht.i&&(Ht.i.reset(),Ht.m={},Ht.s={}),Kt.g=0})})},Et.setOptions=function(Ft,Ht){var Kt=this;if(Ht=Ht||this.g.options){for(var Fn=[],ir=[],Cr={},ar=Ln(Object.keys(Ft)),kr=ar.next();!kr.done;Cr={K:Cr.K,L:Cr.L},kr=ar.next()){var zr=kr.value;zr in this.j&&this.j[zr]===Ft[zr]||(this.j[zr]=Ft[zr],kr=Ht[zr],kr!==void 0&&(kr.onChange&&(Cr.K=kr.onChange,Cr.L=Ft[zr],Fn.push(function(wt){return function(){return Mo(Kt,function Qt(){var mn,kn=this;return Fs(Qt,function(Kn){if(Kn.g==1)return Er(Kn,wt.K(wt.L),2);mn=Kn.h,mn===!0&&(kn.o=!0),Kn.g=0})})}}(Cr))),kr.graphOptionXref&&(zr={valueNumber:kr.type===1?Ft[zr]:0,valueBoolean:kr.type===0?Ft[zr]:!1,valueString:kr.type===2?Ft[zr]:""},kr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),kr.graphOptionXref),zr),ir.push(kr))))}(Fn.length!==0||ir.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(ir),this.u=(this.u===void 0?[]:this.u).concat(Fn))}};function br(Ft){return Mo(Ft,function Ht(){var Kt=this,Fn,ir,Cr,ar,kr,zr,wt;return Fs(Ht,function(Qt){switch(Qt.g){case 1:if(!Kt.o)return Qt.return();if(!Kt.u){Qt.g=2;break}Fn=Ln(Kt.u),ir=Fn.next();case 3:if(ir.done){Qt.g=5;break}return Cr=ir.value,Er(Qt,Cr(),4);case 4:ir=Fn.next(),Qt.g=3;break;case 5:Kt.u=void 0;case 2:if(Kt.A){for(ar=new Kt.h.GraphOptionChangeRequestList,kr=Ln(Kt.A),zr=kr.next();!zr.done;zr=kr.next())wt=zr.value,ar.push_back(wt);Kt.i.changeOptions(ar),ar.delete(),Kt.A=void 0}Kt.o=!1,Qt.g=0}})})}Et.initialize=function(){return Mo(this,function Ft(){var Ht=this;return Fs(Ft,function(Kt){return Kt.g==1?Er(Kt,Sr(Ht),2):Kt.g!=3?Er(Kt,Ur(Ht),3):Er(Kt,br(Ht),0)})})};function Mr(Ft,Ht){return Mo(Ft,function Kt(){var Fn=this,ir,Cr;return Fs(Kt,function(ar){return Ht in Fn.F?ar.return(Fn.F[Ht]):(ir=Fn.locateFile(Ht,""),Cr=fetch(ir).then(function(kr){return kr.arrayBuffer()}),Fn.F[Ht]=Cr,ar.return(Cr))})})}Et.overrideFile=function(Ft,Ht){this.i?this.i.overrideFile(Ft,Ht):this.B[Ft]=Ht},Et.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(Ft,Ht){return Mo(this,function Kt(){var Fn=this,ir,Cr,ar,kr,zr,wt,Qt,mn,kn;return Fs(Kt,function(Kn){switch(Kn.g){case 1:return Fn.g.inputs?(ir=1e3*(Ht??performance.now()),Er(Kn,Fn.C,2)):Kn.return();case 2:return Er(Kn,Fn.initialize(),3);case 3:for(Cr=new Fn.h.PacketDataList,ar=Ln(Object.keys(Ft)),kr=ar.next();!kr.done;kr=ar.next())if(zr=kr.value,wt=Fn.g.inputs[zr]){e:{var lr=Fn,nr=Ft[zr];switch(wt.type){case"video":var Zr=lr.m[wt.stream];if(Zr||(Zr=new Bp(lr.h,lr.D),lr.m[wt.stream]=Zr),lr=Zr,lr.l===0&&(lr.l=lr.h.createTexture()),typeof HTMLVideoElement<"u"&&nr instanceof HTMLVideoElement){var Ar=nr.videoWidth;Zr=nr.videoHeight}else typeof HTMLImageElement<"u"&&nr instanceof HTMLImageElement?(Ar=nr.naturalWidth,Zr=nr.naturalHeight):(Ar=nr.width,Zr=nr.height);Zr={glName:lr.l,width:Ar,height:Zr},Ar=lr.g,Ar.canvas.width=Zr.width,Ar.canvas.height=Zr.height,Ar.activeTexture(Ar.TEXTURE0),lr.h.bindTexture2d(lr.l),Ar.texImage2D(Ar.TEXTURE_2D,0,Ar.RGBA,Ar.RGBA,Ar.UNSIGNED_BYTE,nr),lr.h.bindTexture2d(0),lr=Zr;break e;case"detections":for(Zr=lr.m[wt.stream],Zr||(Zr=new am(lr.h),lr.m[wt.stream]=Zr),lr=Zr,lr.data||(lr.data=new lr.g.DetectionListData),lr.data.reset(nr.length),Zr=0;Zr<nr.length;++Zr){Ar=nr[Zr];var ao=lr.data,Co=ao.setBoundingBox,ss=Zr,Zo=Ar.T,eo=new mu;Ao(eo,1,Zo.Z),Ao(eo,2,Zo.$),Ao(eo,3,Zo.height),Ao(eo,4,Zo.width),Ao(eo,5,Zo.rotation),Ao(eo,6,Zo.X);var Io=Zo=new $a;ou(Io,1,xs(eo,1)),ou(Io,2,xs(eo,2)),ou(Io,3,xs(eo,3)),ou(Io,4,xs(eo,4)),ou(Io,5,xs(eo,5));var Po=xs(eo,6);if(Po!=null&&Po!=null){bs(Io.g,48);var Bo=Io.g,zo=Po;Po=0>zo,zo=Math.abs(zo);var At=zo>>>0;for(zo=Math.floor((zo-At)/4294967296),zo>>>=0,Po&&(zo=~zo>>>0,At=(~At>>>0)+1,4294967295<At&&(At=0,zo++,4294967295<zo&&(zo=0))),Xs=At,Vl=zo,Po=Xs,At=Vl;0<At||127<Po;)Bo.push(Po&127|128),Po=(Po>>>7|At<<25)>>>0,At>>>=7;Bo.push(Po)}if(Gr(eo,Io),Zo=nu(Zo),Co.call(ao,ss,Zo),Ar.O)for(ao=0;ao<Ar.O.length;++ao)eo=Ar.O[ao],Io=!!eo.visibility,Co=lr.data,ss=Co.addNormalizedLandmark,Zo=Zr,eo=Object.assign(Object.assign({},eo),{visibility:Io?eo.visibility:0}),Io=new Zu,Ao(Io,1,eo.x),Ao(Io,2,eo.y),Ao(Io,3,eo.z),eo.visibility&&Ao(Io,4,eo.visibility),Bo=eo=new $a,ou(Bo,1,xs(Io,1)),ou(Bo,2,xs(Io,2)),ou(Bo,3,xs(Io,3)),ou(Bo,4,xs(Io,4)),ou(Bo,5,xs(Io,5)),Gr(Io,Bo),eo=nu(eo),ss.call(Co,Zo,eo);if(Ar.M)for(ao=0;ao<Ar.M.length;++ao){if(Co=lr.data,ss=Co.addClassification,Zo=Zr,eo=Ar.M[ao],Io=new Bs,Ao(Io,2,eo.Y),eo.index&&Ao(Io,1,eo.index),eo.label&&Ao(Io,3,eo.label),eo.displayName&&Ao(Io,4,eo.displayName),Bo=eo=new $a,At=xs(Io,1),At!=null&&At!=null)if(bs(Bo.g,8),Po=Bo.g,0<=At)bs(Po,At);else{for(zo=0;9>zo;zo++)Po.push(At&127|128),At>>=7;Po.push(1)}ou(Bo,2,xs(Io,2)),Po=xs(Io,3),Po!=null&&(Po=cp(Po),bs(Bo.g,26),bs(Bo.g,Po.length),gs(Bo,Bo.g.end()),gs(Bo,Po)),Po=xs(Io,4),Po!=null&&(Po=cp(Po),bs(Bo.g,34),bs(Bo.g,Po.length),gs(Bo,Bo.g.end()),gs(Bo,Po)),Gr(Io,Bo),eo=nu(eo),ss.call(Co,Zo,eo)}}lr=lr.data;break e;default:lr={}}}switch(Qt=lr,mn=wt.stream,wt.type){case"video":Cr.pushTexture2d(Object.assign(Object.assign({},Qt),{stream:mn,timestamp:ir}));break;case"detections":kn=Qt,kn.stream=mn,kn.timestamp=ir,Cr.pushDetectionList(kn);break;default:throw Error("Unknown input config type: '"+wt.type+"'")}}return Fn.i.send(Cr),Er(Kn,Fn.C,4);case 4:Cr.delete(),Kn.g=0}})})};function io(Ft,Ht,Kt){return Mo(Ft,function Fn(){var ir,Cr,ar,kr,zr,wt,Qt=this,mn,kn,Kn,lr,nr,Zr,Ar,ao;return Fs(Fn,function(Co){switch(Co.g){case 1:if(!Kt)return Co.return(Ht);for(ir={},Cr=0,ar=Ln(Object.keys(Kt)),kr=ar.next();!kr.done;kr=ar.next())zr=kr.value,wt=Kt[zr],typeof wt!="string"&&wt.type==="texture"&&Ht[wt.stream]!==void 0&&++Cr;1<Cr&&(Qt.G=!1),mn=Ln(Object.keys(Kt)),kr=mn.next();case 2:if(kr.done){Co.g=4;break}if(kn=kr.value,Kn=Kt[kn],typeof Kn=="string")return Ar=ir,ao=kn,Er(Co,Vo(Qt,kn,Ht[Kn]),14);if(lr=Ht[Kn.stream],Kn.type==="detection_list"){if(lr){for(var ss=lr.getRectList(),Zo=lr.getLandmarksList(),eo=lr.getClassificationsList(),Io=[],Po=0;Po<ss.size();++Po){var Bo=ss.get(Po);e:{var zo=new mu;for(Bo=new na(Bo);Gl(Bo);)switch(Bo.i){case 13:var At=ms(Bo);Ao(zo,1,At);break;case 21:At=ms(Bo),Ao(zo,2,At);break;case 29:At=ms(Bo),Ao(zo,3,At);break;case 37:At=ms(Bo),Ao(zo,4,At);break;case 45:At=ms(Bo),Ao(zo,5,At);break;case 48:At=El(Bo.g),Ao(zo,6,At);break;default:if(!Kr(zo,Bo))break e}}zo={Z:Ko(zo,1),$:Ko(zo,2),height:Ko(zo,3),width:Ko(zo,4),rotation:Ko(zo,5,0),X:Us(zo,6,0)},Bo=Ml(hu(Zo.get(Po)),Zu).map(vp);var $t=eo.get(Po);e:for(At=new fu,$t=new na($t);Gl($t);)switch($t.i){case 10:At.addClassification(Ol($t,new Bs,Fl));break;default:if(!Kr(At,$t))break e}zo={T:zo,O:Bo,M:Qu(At)},Io.push(zo)}ss=Io}else ss=[];ir[kn]=ss,Co.g=7;break}if(Kn.type==="proto_list"){if(lr){for(ss=Array(lr.size()),Zo=0;Zo<lr.size();Zo++)ss[Zo]=lr.get(Zo);lr.delete()}else ss=[];ir[kn]=ss,Co.g=7;break}if(lr===void 0){Co.g=3;break}if(Kn.type==="float_list"){ir[kn]=lr,Co.g=7;break}if(Kn.type==="proto"){ir[kn]=lr,Co.g=7;break}if(Kn.type!=="texture")throw Error("Unknown output config type: '"+Kn.type+"'");return nr=Qt.s[kn],nr||(nr=new Bp(Qt.h,Qt.D),Qt.s[kn]=nr),Er(Co,wu(nr,lr,Qt.G),13);case 13:Zr=Co.h,ir[kn]=Zr;case 7:Kn.transform&&ir[kn]&&(ir[kn]=Kn.transform(ir[kn])),Co.g=3;break;case 14:Ar[ao]=Co.h;case 3:kr=mn.next(),Co.g=2;break;case 4:return Co.return(ir)}})})}function Vo(Ft,Ht,Kt){return Mo(Ft,function Fn(){var ir=this,Cr;return Fs(Fn,function(ar){return typeof Kt=="number"||Kt instanceof Uint8Array||Kt instanceof ir.h.Uint8BlobList?ar.return(Kt):Kt instanceof ir.h.Texture2dDataOut?(Cr=ir.s[Ht],Cr||(Cr=new Bp(ir.h,ir.D),ir.s[Ht]=Cr),ar.return(wu(Cr,Kt,ir.G))):ar.return(void 0)})})}function os(Ft,Ht){for(var Kt=Ht.name||"$",Fn=[].concat(Un(Ht.wants)),ir=new Ft.h.StringList,Cr=Ln(Ht.wants),ar=Cr.next();!ar.done;ar=Cr.next())ir.push_back(ar.value);Cr=Ft.h.PacketListener.implement({onResults:function(kr){for(var zr={},wt=0;wt<Ht.wants.length;++wt)zr[Fn[wt]]=kr.get(wt);var Qt=Ft.listeners[Kt];Qt&&(Ft.C=io(Ft,zr,Ht.outs).then(function(mn){mn=Qt(mn);for(var kn=0;kn<Ht.wants.length;++kn){var Kn=zr[Fn[kn]];typeof Kn=="object"&&Kn.hasOwnProperty&&Kn.hasOwnProperty("delete")&&Kn.delete()}mn&&(Ft.C=mn)}))}}),Ft.i.attachMultiListener(ir,Cr),ir.delete()}Et.onResults=function(Ft,Ht){this.listeners[Ht||"$"]=Ft},xl("Solution",hn),xl("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Qo(Ft){Ft=Mp(Ft);var Ht=Ft.getMesh();if(!Ht)return Ft;var Kt=new Float32Array(Ht.getVertexBufferList());Ht.getVertexBufferList=function(){return Kt};var Fn=new Uint32Array(Ht.getIndexBufferList());return Ht.getIndexBufferList=function(){return Fn},Ft}var Ts={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(Ft){return Ft.map(Qo)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(Ft){return Ft.map(function(Ht){return Ml(hu(Ht),Zu).map(vp)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},es=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Fo=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],rs=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Ss=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Ms=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Hs=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Qs=[].concat(Un(es),Un(Fo),Un(rs),Un(Ss),Un(Ms),Un(Hs));function Xl(Ft){Ft=Ft||{},Ft=Object.assign(Object.assign({},Ts),Ft),this.g=new hn(Ft)}Et=Xl.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(Ft){this.g.onResults(Ft)},Et.initialize=function(){return Mo(this,function Ft(){var Ht=this;return Fs(Ft,function(Kt){return Er(Kt,Ht.g.initialize(),0)})})},Et.reset=function(){this.g.reset()},Et.send=function(Ft){return Mo(this,function Ht(){var Kt=this;return Fs(Ht,function(Fn){return Er(Fn,Kt.g.send(Ft),0)})})},Et.setOptions=function(Ft){this.g.setOptions(Ft)},xl("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),xl("FaceMesh",Xl),xl("FACEMESH_LIPS",es),xl("FACEMESH_LEFT_EYE",Fo),xl("FACEMESH_LEFT_EYEBROW",rs),xl("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),xl("FACEMESH_RIGHT_EYE",Ss),xl("FACEMESH_RIGHT_EYEBROW",Ms),xl("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),xl("FACEMESH_FACE_OVAL",Hs),xl("FACEMESH_CONTOURS",Qs),xl("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),xl("matrixDataToMatrix",function(Ft){for(var Ht=Ft.getCols(),Kt=Ft.getRows(),Fn=Ft.getPackedDataList(),ir=[],Cr=0;Cr<Kt;Cr++)ir.push(Array(Ht));for(Cr=0;Cr<Kt;Cr++)for(var ar=0;ar<Ht;ar++){var kr=Ft.getLayout()===1?Cr*Ht+ar:ar*Kt+Cr;ir[Cr][ar]=Fn[kr]}return ir}),xl("VERSION","0.4.1633559619")}).call(fm);const nm={};(function(){var Et;function St(mt){var Ot=0;return function(){return Ot<mt.length?{done:!1,value:mt[Ot++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(mt,Ot,Wt){return mt==Array.prototype||mt==Object.prototype||(mt[Ot]=Wt.value),mt};function jt(mt){mt=[typeof globalThis=="object"&&globalThis,mt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Ot=0;Ot<mt.length;++Ot){var Wt=mt[Ot];if(Wt&&Wt.Math==Math)return Wt}throw Error("Cannot find global object")}var zt=jt(this);function Rn(mt,Ot){if(Ot)e:{var Wt=zt;mt=mt.split(".");for(var Ut=0;Ut<mt.length-1;Ut++){var Sn=mt[Ut];if(!(Sn in Wt))break e;Wt=Wt[Sn]}mt=mt[mt.length-1],Ut=Wt[mt],Ot=Ot(Ut),Ot!=Ut&&Ot!=null&&xt(Wt,mt,{configurable:!0,writable:!0,value:Ot})}}Rn("Symbol",function(mt){function Ot(Nn){if(this instanceof Ot)throw new TypeError("Symbol is not a constructor");return new Wt(Ut+(Nn||"")+"_"+Sn++,Nn)}function Wt(Nn,Gn){this.g=Nn,xt(this,"description",{configurable:!0,writable:!0,value:Gn})}if(mt)return mt;Wt.prototype.toString=function(){return this.g};var Ut="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Sn=0;return Ot}),Rn("Symbol.iterator",function(mt){if(mt)return mt;mt=Symbol("Symbol.iterator");for(var Ot="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Wt=0;Wt<Ot.length;Wt++){var Ut=zt[Ot[Wt]];typeof Ut=="function"&&typeof Ut.prototype[mt]!="function"&&xt(Ut.prototype,mt,{configurable:!0,writable:!0,value:function(){return Mn(St(this))}})}return mt});function Mn(mt){return mt={next:mt},mt[Symbol.iterator]=function(){return this},mt}function Ln(mt){var Ot=typeof Symbol<"u"&&Symbol.iterator&&mt[Symbol.iterator];return Ot?Ot.call(mt):{next:St(mt)}}function Un(mt){if(!(mt instanceof Array)){mt=Ln(mt);for(var Ot,Wt=[];!(Ot=mt.next()).done;)Wt.push(Ot.value);mt=Wt}return mt}var wr=typeof Object.create=="function"?Object.create:function(mt){function Ot(){}return Ot.prototype=mt,new Ot},Xr;if(typeof Object.setPrototypeOf=="function")Xr=Object.setPrototypeOf;else{var Hr;e:{var Wo={a:!0},Uo={};try{Uo.__proto__=Wo,Hr=Uo.a;break e}catch{}Hr=!1}Xr=Hr?function(mt,Ot){if(mt.__proto__=Ot,mt.__proto__!==Ot)throw new TypeError(mt+" is not extensible");return mt}:null}var $r=Xr;function qr(mt,Ot){if(mt.prototype=wr(Ot.prototype),mt.prototype.constructor=mt,$r)$r(mt,Ot);else for(var Wt in Ot)if(Wt!="prototype")if(Object.defineProperties){var Ut=Object.getOwnPropertyDescriptor(Ot,Wt);Ut&&Object.defineProperty(mt,Wt,Ut)}else mt[Wt]=Ot[Wt];mt.ka=Ot.prototype}function ns(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function qo(mt){if(mt.l)throw new TypeError("Generator is already running");mt.l=!0}ns.prototype.o=function(mt){this.h=mt};function Is(mt,Ot){mt.j={V:Ot,X:!0},mt.g=mt.m||mt.s}ns.prototype.return=function(mt){this.j={return:mt},this.g=this.s};function Er(mt,Ot,Wt){return mt.g=Wt,{value:Ot}}function ju(mt){this.g=new ns,this.h=mt}function ku(mt,Ot){qo(mt.g);var Wt=mt.g.i;return Wt?Tl(mt,"return"in Wt?Wt.return:function(Ut){return{value:Ut,done:!0}},Ot,mt.g.return):(mt.g.return(Ot),Cs(mt))}function Tl(mt,Ot,Wt,Ut){try{var Sn=Ot.call(mt.g.i,Wt);if(!(Sn instanceof Object))throw new TypeError("Iterator result "+Sn+" is not an object");if(!Sn.done)return mt.g.l=!1,Sn;var Nn=Sn.value}catch(Gn){return mt.g.i=null,Is(mt.g,Gn),Cs(mt)}return mt.g.i=null,Ut.call(mt.g,Nn),Cs(mt)}function Cs(mt){for(;mt.g.g;)try{var Ot=mt.h(mt.g);if(Ot)return mt.g.l=!1,{value:Ot.value,done:!1}}catch(Wt){mt.g.h=void 0,Is(mt.g,Wt)}if(mt.g.l=!1,mt.g.j){if(Ot=mt.g.j,mt.g.j=null,Ot.X)throw Ot.V;return{value:Ot.return,done:!0}}return{value:void 0,done:!0}}function Jp(mt){this.next=function(Ot){return qo(mt.g),mt.g.i?Ot=Tl(mt,mt.g.i.next,Ot,mt.g.o):(mt.g.o(Ot),Ot=Cs(mt)),Ot},this.throw=function(Ot){return qo(mt.g),mt.g.i?Ot=Tl(mt,mt.g.i.throw,Ot,mt.g.o):(Is(mt.g,Ot),Ot=Cs(mt)),Ot},this.return=function(Ot){return ku(mt,Ot)},this[Symbol.iterator]=function(){return this}}function Fs(mt){function Ot(Ut){return mt.next(Ut)}function Wt(Ut){return mt.throw(Ut)}return new nt(function(Ut,Sn){function Nn(Gn){Gn.done?Ut(Gn.value):nt.resolve(Gn.value).then(Ot,Wt).then(Nn,Sn)}Nn(mt.next())})}function po(mt){return Fs(new Jp(new ju(mt)))}Rn("Promise",function(mt){function Ot(Gn){this.h=0,this.i=void 0,this.g=[],this.o=!1;var tr=this.j();try{Gn(tr.resolve,tr.reject)}catch(mr){tr.reject(mr)}}function Wt(){this.g=null}function Ut(Gn){return Gn instanceof Ot?Gn:new Ot(function(tr){tr(Gn)})}if(mt)return mt;Wt.prototype.h=function(Gn){if(this.g==null){this.g=[];var tr=this;this.i(function(){tr.l()})}this.g.push(Gn)};var Sn=zt.setTimeout;Wt.prototype.i=function(Gn){Sn(Gn,0)},Wt.prototype.l=function(){for(;this.g&&this.g.length;){var Gn=this.g;this.g=[];for(var tr=0;tr<Gn.length;++tr){var mr=Gn[tr];Gn[tr]=null;try{mr()}catch(Tr){this.j(Tr)}}}this.g=null},Wt.prototype.j=function(Gn){this.i(function(){throw Gn})},Ot.prototype.j=function(){function Gn(Tr){return function(xr){mr||(mr=!0,Tr.call(tr,xr))}}var tr=this,mr=!1;return{resolve:Gn(this.D),reject:Gn(this.l)}},Ot.prototype.D=function(Gn){if(Gn===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Gn instanceof Ot)this.G(Gn);else{e:switch(typeof Gn){case"object":var tr=Gn!=null;break e;case"function":tr=!0;break e;default:tr=!1}tr?this.A(Gn):this.m(Gn)}},Ot.prototype.A=function(Gn){var tr=void 0;try{tr=Gn.then}catch(mr){this.l(mr);return}typeof tr=="function"?this.H(tr,Gn):this.m(Gn)},Ot.prototype.l=function(Gn){this.s(2,Gn)},Ot.prototype.m=function(Gn){this.s(1,Gn)},Ot.prototype.s=function(Gn,tr){if(this.h!=0)throw Error("Cannot settle("+Gn+", "+tr+"): Promise already settled in state"+this.h);this.h=Gn,this.i=tr,this.h===2&&this.F(),this.B()},Ot.prototype.F=function(){var Gn=this;Sn(function(){if(Gn.C()){var tr=zt.console;typeof tr<"u"&&tr.error(Gn.i)}},1)},Ot.prototype.C=function(){if(this.o)return!1;var Gn=zt.CustomEvent,tr=zt.Event,mr=zt.dispatchEvent;return typeof mr>"u"?!0:(typeof Gn=="function"?Gn=new Gn("unhandledrejection",{cancelable:!0}):typeof tr=="function"?Gn=new tr("unhandledrejection",{cancelable:!0}):(Gn=zt.document.createEvent("CustomEvent"),Gn.initCustomEvent("unhandledrejection",!1,!0,Gn)),Gn.promise=this,Gn.reason=this.i,mr(Gn))},Ot.prototype.B=function(){if(this.g!=null){for(var Gn=0;Gn<this.g.length;++Gn)Nn.h(this.g[Gn]);this.g=null}};var Nn=new Wt;return Ot.prototype.G=function(Gn){var tr=this.j();Gn.K(tr.resolve,tr.reject)},Ot.prototype.H=function(Gn,tr){var mr=this.j();try{Gn.call(tr,mr.resolve,mr.reject)}catch(Tr){mr.reject(Tr)}},Ot.prototype.then=function(Gn,tr){function mr(to,no){return typeof to=="function"?function(yo){try{Tr(to(yo))}catch(go){xr(go)}}:no}var Tr,xr,Br=new Ot(function(to,no){Tr=to,xr=no});return this.K(mr(Gn,Tr),mr(tr,xr)),Br},Ot.prototype.catch=function(Gn){return this.then(void 0,Gn)},Ot.prototype.K=function(Gn,tr){function mr(){switch(Tr.h){case 1:Gn(Tr.i);break;case 2:tr(Tr.i);break;default:throw Error("Unexpected state: "+Tr.h)}}var Tr=this;this.g==null?Nn.h(mr):this.g.push(mr),this.o=!0},Ot.resolve=Ut,Ot.reject=function(Gn){return new Ot(function(tr,mr){mr(Gn)})},Ot.race=function(Gn){return new Ot(function(tr,mr){for(var Tr=Ln(Gn),xr=Tr.next();!xr.done;xr=Tr.next())Ut(xr.value).K(tr,mr)})},Ot.all=function(Gn){var tr=Ln(Gn),mr=tr.next();return mr.done?Ut([]):new Ot(function(Tr,xr){function Br(yo){return function(go){to[yo]=go,no--,no==0&&Tr(to)}}var to=[],no=0;do to.push(void 0),no++,Ut(mr.value).K(Br(to.length-1),xr),mr=tr.next();while(!mr.done)})},Ot});function Xu(mt,Ot){mt instanceof String&&(mt+="");var Wt=0,Ut=!1,Sn={next:function(){if(!Ut&&Wt<mt.length){var Nn=Wt++;return{value:Ot(Nn,mt[Nn]),done:!1}}return Ut=!0,{done:!0,value:void 0}}};return Sn[Symbol.iterator]=function(){return Sn},Sn}var Qp=typeof Object.assign=="function"?Object.assign:function(mt,Ot){for(var Wt=1;Wt<arguments.length;Wt++){var Ut=arguments[Wt];if(Ut)for(var Sn in Ut)Object.prototype.hasOwnProperty.call(Ut,Sn)&&(mt[Sn]=Ut[Sn])}return mt};Rn("Object.assign",function(mt){return mt||Qp}),Rn("Object.is",function(mt){return mt||function(Ot,Wt){return Ot===Wt?Ot!==0||1/Ot===1/Wt:Ot!==Ot&&Wt!==Wt}}),Rn("Array.prototype.includes",function(mt){return mt||function(Ot,Wt){var Ut=this;Ut instanceof String&&(Ut=String(Ut));var Sn=Ut.length;for(Wt=Wt||0,0>Wt&&(Wt=Math.max(Wt+Sn,0));Wt<Sn;Wt++){var Nn=Ut[Wt];if(Nn===Ot||Object.is(Nn,Ot))return!0}return!1}}),Rn("String.prototype.includes",function(mt){return mt||function(Ot,Wt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Ot instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Ot,Wt||0)!==-1}}),Rn("Array.prototype.keys",function(mt){return mt||function(){return Xu(this,function(Ot){return Ot})}});var xl=this||self;function Jo(mt,Ot){mt=mt.split(".");var Wt=xl;mt[0]in Wt||typeof Wt.execScript>"u"||Wt.execScript("var "+mt[0]);for(var Ut;mt.length&&(Ut=mt.shift());)mt.length||Ot===void 0?Wt[Ut]&&Wt[Ut]!==Object.prototype[Ut]?Wt=Wt[Ut]:Wt=Wt[Ut]={}:Wt[Ut]=Ot}function Zl(mt){throw mt}function Tu(mt,Ot){Zl(Error("Invalid wire type: "+mt+" (at position "+Ot+")"))}function ep(){Zl(Error("Failed to read varint, encoding is invalid."))}function Rp(mt,Ot){return Ot=String.fromCharCode.apply(null,Ot),mt==null?Ot:mt+Ot}var cp,Ap=typeof TextDecoder<"u",Lu,Uu=typeof TextEncoder<"u";function Pp(mt){if(Uu)mt=(Lu||(Lu=new TextEncoder)).encode(mt);else{var Ot=void 0;Ot=Ot===void 0?!1:Ot;for(var Wt=0,Ut=new Uint8Array(3*mt.length),Sn=0;Sn<mt.length;Sn++){var Nn=mt.charCodeAt(Sn);if(128>Nn)Ut[Wt++]=Nn;else{if(2048>Nn)Ut[Wt++]=Nn>>6|192;else{if(55296<=Nn&&57343>=Nn){if(56319>=Nn&&Sn<mt.length){var Gn=mt.charCodeAt(++Sn);if(56320<=Gn&&57343>=Gn){Nn=1024*(Nn-55296)+Gn-56320+65536,Ut[Wt++]=Nn>>18|240,Ut[Wt++]=Nn>>12&63|128,Ut[Wt++]=Nn>>6&63|128,Ut[Wt++]=Nn&63|128;continue}else Sn--}if(Ot)throw Error("Found an unpaired surrogate");Nn=65533}Ut[Wt++]=Nn>>12|224,Ut[Wt++]=Nn>>6&63|128}Ut[Wt++]=Nn&63|128}}mt=Ut.subarray(0,Wt)}return mt}var Ip={},ru=null;function tu(mt){var Ot;Ot===void 0&&(Ot=0),Xs(),Ot=Ip[Ot];for(var Wt=Array(Math.floor(mt.length/3)),Ut=Ot[64]||"",Sn=0,Nn=0;Sn<mt.length-2;Sn+=3){var Gn=mt[Sn],tr=mt[Sn+1],mr=mt[Sn+2],Tr=Ot[Gn>>2];Gn=Ot[(Gn&3)<<4|tr>>4],tr=Ot[(tr&15)<<2|mr>>6],mr=Ot[mr&63],Wt[Nn++]=Tr+Gn+tr+mr}switch(Tr=0,mr=Ut,mt.length-Sn){case 2:Tr=mt[Sn+1],mr=Ot[(Tr&15)<<2]||Ut;case 1:mt=mt[Sn],Wt[Nn]=Ot[mt>>2]+Ot[(mt&3)<<4|Tr>>4]+mr+Ut}return Wt.join("")}function lp(mt){var Ot=mt.length,Wt=3*Ot/4;Wt%3?Wt=Math.floor(Wt):"=.".indexOf(mt[Ot-1])!=-1&&(Wt="=.".indexOf(mt[Ot-2])!=-1?Wt-2:Wt-1);var Ut=new Uint8Array(Wt),Sn=0;return tp(mt,function(Nn){Ut[Sn++]=Nn}),Ut.subarray(0,Sn)}function tp(mt,Ot){function Wt(mr){for(;Ut<mt.length;){var Tr=mt.charAt(Ut++),xr=ru[Tr];if(xr!=null)return xr;if(!/^[\s\xa0]*$/.test(Tr))throw Error("Unknown base64 encoding at char: "+Tr)}return mr}Xs();for(var Ut=0;;){var Sn=Wt(-1),Nn=Wt(0),Gn=Wt(64),tr=Wt(64);if(tr===64&&Sn===-1)break;Ot(Sn<<2|Nn>>4),Gn!=64&&(Ot(Nn<<4&240|Gn>>2),tr!=64&&Ot(Gn<<6&192|tr))}}function Xs(){if(!ru){ru={};for(var mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ot=["+/=","+/","-_=","-_.","-_"],Wt=0;5>Wt;Wt++){var Ut=mt.concat(Ot[Wt].split(""));Ip[Wt]=Ut;for(var Sn=0;Sn<Ut.length;Sn++){var Nn=Ut[Sn];ru[Nn]===void 0&&(ru[Nn]=Sn)}}}}var Vl=typeof Uint8Array=="function",iu;function Os(mt){if(this.g=mt,mt!==null&&mt.length===0)throw Error("ByteString should be constructed with non-empty values")}var El=typeof Uint8Array.prototype.slice=="function";function xu(mt,Ot,Wt){return Ot===Wt?iu||(iu=new Uint8Array(0)):El?mt.slice(Ot,Wt):new Uint8Array(mt.subarray(Ot,Wt))}var Kl=0,bs=0;function na(mt){if(mt.constructor===Uint8Array)return mt;if(mt.constructor===ArrayBuffer)return new Uint8Array(mt);if(mt.constructor===Array)return new Uint8Array(mt);if(mt.constructor===String)return lp(mt);if(mt.constructor===Os){if(mt.g==null)var Ot=iu||(iu=new Uint8Array(0));else{Ot=Uint8Array;var Wt=mt.g;Wt=Wt==null||Vl&&Wt!=null&&Wt instanceof Uint8Array?Wt:typeof Wt=="string"?lp(Wt):null,mt=mt.g=Wt,Ot=new Ot(mt)}return Ot}if(mt instanceof Uint8Array)return new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Gl(mt,Ot){Ot=Ot===void 0?{}:Ot,Ot=Ot.v===void 0?!1:Ot.v,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.v=Ot,mt&&as(this,mt)}function as(mt,Ot){mt.h=na(Ot),mt.l=0,mt.i=mt.h.length,mt.g=mt.l}Gl.prototype.reset=function(){this.g=this.l};function Ol(mt){for(var Ot=128,Wt=0,Ut=0,Sn=0;4>Sn&&128<=Ot;Sn++)Ot=mt.h[mt.g++],Wt|=(Ot&127)<<7*Sn;if(128<=Ot&&(Ot=mt.h[mt.g++],Wt|=(Ot&127)<<28,Ut|=(Ot&127)>>4),128<=Ot)for(Sn=0;5>Sn&&128<=Ot;Sn++)Ot=mt.h[mt.g++],Ut|=(Ot&127)<<7*Sn+3;if(128>Ot)return mt=Wt>>>0,Ot=Ut>>>0,(Ut=Ot&2147483648)&&(mt=~mt+1>>>0,Ot=~Ot>>>0,mt==0&&(Ot=Ot+1>>>0)),mt=4294967296*Ot+(mt>>>0),Ut?-mt:mt;mt.j=!0,ep()}function ms(mt){mt.g>mt.i&&(mt.j=!0,Zl(Error("Tried to read past the end of the data "+mt.g+" > "+mt.i)))}function Js(mt){var Ot=mt.h,Wt=Ot[mt.g],Ut=Wt&127;return 128>Wt?(mt.g+=1,ms(mt),Ut):(Wt=Ot[mt.g+1],Ut|=(Wt&127)<<7,128>Wt?(mt.g+=2,ms(mt),Ut):(Wt=Ot[mt.g+2],Ut|=(Wt&127)<<14,128>Wt?(mt.g+=3,ms(mt),Ut):(Wt=Ot[mt.g+3],Ut|=(Wt&127)<<21,128>Wt?(mt.g+=4,ms(mt),Ut):(Wt=Ot[mt.g+4],Ut|=(Wt&15)<<28,128>Wt?(mt.g+=5,ms(mt),Ut>>>0):(mt.g+=5,128<=Ot[mt.g++]&&128<=Ot[mt.g++]&&128<=Ot[mt.g++]&&128<=Ot[mt.g++]&&128<=Ot[mt.g++]?(mt.j=!0,ep(),Ut):(ms(mt),Ut))))))}function Nl(mt){var Ot=mt.h[mt.g],Wt=mt.h[mt.g+1],Ut=mt.h[mt.g+2],Sn=mt.h[mt.g+3];return mt.g+=4,ms(mt),(Ot<<0|Wt<<8|Ut<<16|Sn<<24)>>>0}Gl.prototype.m=function(){var mt=Nl(this),Ot=2*(mt>>31)+1,Wt=mt>>>23&255;return mt&=8388607,Wt==255?mt?NaN:1/0*Ot:Wt==0?Ot*Math.pow(2,-149)*mt:Ot*Math.pow(2,Wt-150)*(mt+Math.pow(2,23))};var du=[];function $a(){this.g=new Uint8Array(64),this.h=0}function gs(mt,Ot){if(!(mt.h+1<mt.g.length)){var Wt=mt.g;mt.g=new Uint8Array(Math.ceil(1+2*mt.g.length)),mt.g.set(Wt)}mt.g[mt.h++]=Ot}$a.prototype.length=function(){return this.h},$a.prototype.end=function(){var mt=this.g,Ot=this.h;return this.h=0,xu(mt,0,Ot)};function nu(mt,Ot){for(;127<Ot;)gs(mt,Ot&127|128),Ot>>>=7;gs(mt,Ot)}function ou(mt){var Ot={},Wt=Ot.O===void 0?!1:Ot.O;this.m={v:Ot.v===void 0?!1:Ot.v},this.O=Wt,Ot=this.m,du.length?(Wt=du.pop(),Ot&&(Wt.v=Ot.v),mt&&as(Wt,mt),mt=Wt):mt=new Gl(mt,Ot),this.g=mt,this.l=this.g.g,this.h=this.i=-1,this.j=!1}ou.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function Al(mt){var Ot=mt.g;if((Ot=Ot.g==Ot.i)||(Ot=mt.j)||(Ot=mt.g,Ot=Ot.j||0>Ot.g||Ot.g>Ot.i),Ot)return!1;mt.l=mt.g.g;var Wt=Js(mt.g);return Ot=Wt>>>3,Wt&=7,0<=Wt&&5>=Wt?(mt.i=Ot,mt.h=Wt,!0):(mt.j=!0,Tu(Wt,mt.l),!1)}function np(mt){switch(mt.h){case 0:if(mt.h!=0)np(mt);else e:{mt=mt.g;for(var Ot=mt.g,Wt=0;10>Wt;Wt++){if(!(mt.h[Ot]&128)){mt.g=Ot+1,ms(mt);break e}Ot++}mt.j=!0,ep()}break;case 1:mt=mt.g,mt.g+=8,ms(mt);break;case 2:mt.h!=2?np(mt):(Ot=Js(mt.g),mt=mt.g,mt.g+=Ot,ms(mt));break;case 5:mt=mt.g,mt.g+=4,ms(mt);break;case 3:Ot=mt.i;do{if(!Al(mt)){mt.j=!0,Zl(Error("Unmatched start-group tag: stream EOF"));break}if(mt.h==4){mt.i!=Ot&&(mt.j=!0,Zl(Error("Unmatched end-group tag")));break}np(mt)}while(1);break;default:mt.j=!0,Tu(mt.h,mt.l)}}function Ru(mt,Ot,Wt){var Ut=mt.g.i,Sn=Js(mt.g),Nn=mt.g.g+Sn;if(mt.g.i=Nn,Wt(Ot,mt),Wt=Nn-mt.g.g,Wt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(Sn+" bytes, instead read "+(Sn-Wt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return mt.g.g=Nn,mt.g.i=Ut,Ot}var su=[];function Iu(){this.h=[],this.i=0,this.g=new $a}function ga(mt,Ot){Ot.length!==0&&(mt.h.push(Ot),mt.i+=Ot.length)}function Pl(mt,Ot,Wt){nu(mt.g,8*Ot+2),nu(mt.g,Wt.length),ga(mt,mt.g.end()),ga(mt,Wt)}var ba=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function As(mt){return Object.isFrozen(mt)||(ba?mt[ba]|=1:mt.g!==void 0?mt.g|=1:Object.defineProperties(mt,{g:{value:1,configurable:!0,writable:!0,enumerable:!1}})),mt}function au(mt){return mt!==null&&typeof mt=="object"&&mt.constructor===Object}function xs(mt){switch(typeof mt){case"number":return isFinite(mt)?mt:String(mt);case"object":if(Vl&&mt!=null&&mt instanceof Uint8Array)return tu(mt);if(mt instanceof Os){if(mt.g==null)mt="";else{var Ot=mt.g;Ot=Ot==null||typeof Ot=="string"?Ot:Vl&&Ot instanceof Uint8Array?tu(Ot):null,mt=mt.g=Ot}return mt}}return mt}function vs(mt,Ot){if(mt!=null)return Array.isArray(mt)||au(mt)?Vu(mt,Ot):Ot(mt)}function Vu(mt,Ot){if(Array.isArray(mt)){for(var Wt=Array(mt.length),Ut=0;Ut<mt.length;Ut++)Wt[Ut]=vs(mt[Ut],Ot);if(Ot=Array.isArray(mt)){var Sn;ba?Sn=mt[ba]:Sn=mt.g,Ot=(Sn??0)&1}return Ot&&As(Wt),Wt}Sn={};for(Wt in mt)Sn[Wt]=vs(mt[Wt],Ot);return Sn}function Us(mt){return mt=xs(mt),Array.isArray(mt)?Vu(mt,Us):mt}var Ko;function Ao(mt,Ot,Wt){var Ut=Ko;Ko=null,mt||(mt=Ut),Ut=this.constructor.ha,mt||(mt=Ut?[Ut]:[]),this.i=(Ut?0:-1)-(this.constructor.fa||0),this.l=this.g=null,this.u=mt;e:{if(Ut=this.u.length,mt=Ut-1,Ut&&(Ut=this.u[mt],au(Ut))){this.j=mt-this.i,this.h=Ut;break e}Ot!==void 0&&-1<Ot?(this.j=Math.max(Ot,mt+1-this.i),this.h=null):this.j=Number.MAX_VALUE}if(Wt)for(Ot=0;Ot<Wt.length;Ot++)mt=Wt[Ot],mt<this.j?(mt+=this.i,(Ut=this.u[mt])?Array.isArray(Ut)&&As(Ut):this.u[mt]=ks):(Ml(this),(Ut=this.h[mt])?Array.isArray(Ut)&&As(Ut):this.h[mt]=ks)}var ks=Object.freeze(As([]));function Ml(mt){var Ot=mt.j+mt.i;mt.u[Ot]||(mt.h=mt.u[Ot]={})}function Rs(mt,Ot,Wt){return Ot===-1?null:Wt!==void 0&&Wt||Ot>=mt.j?mt.h?mt.h[Ot]:void 0:mt.u[Ot+mt.i]}function Ls(mt,Ot,Wt){Wt=Wt===void 0?!1:Wt;var Ut=Rs(mt,Ot,Wt);return Ut==null&&(Ut=ks),Ut===ks&&(Ut=As(Ut.slice()),Kr(mt,Ot,Ut,Wt)),Ut}function Vr(mt,Ot){var Wt=Ls(mt,Ot);if(mt.l||(mt.l={}),!mt.l[Ot]){for(var Ut=0;Ut<Wt.length;Ut++)Wt[Ut]=+Wt[Ut];mt.l[Ot]=!0}return Wt}function Gr(mt,Ot,Wt){return mt=Rs(mt,Ot),mt=mt==null?mt:+mt,mt??(Wt===void 0?0:Wt)}function Kr(mt,Ot,Wt,Ut){Ut!==void 0&&Ut||Ot>=mt.j?(Ml(mt),mt.h[Ot]=Wt):mt.u[Ot+mt.i]=Wt}function ys(mt,Ot,Wt,Ut){Wt!==Ut?Kr(mt,Ot,Wt):Kr(mt,Ot,void 0,!1)}function Gs(mt,Ot,Wt){if(Wt===-1)return null;mt.g||(mt.g={});var Ut=mt.g[Wt];if(Ut)return Ut;var Sn=Rs(mt,Wt,!1);return Sn==null?Ut:(Ot=new Ot(Sn),mt.g[Wt]=Ot)}function Ps(mt,Ot,Wt){mt.g||(mt.g={});var Ut=mt.g[Wt];if(!Ut){var Sn=Ls(mt,Wt,!1);Ut=[];for(var Nn=0;Nn<Sn.length;Nn++)Ut[Nn]=new Ot(Sn[Nn]);mt.g[Wt]=Ut}return Ut}function Mo(mt,Ot,Wt,Ut,Sn){var Nn=Ps(mt,Ut,Ot);Wt=Wt||new Ut,mt=Ls(mt,Ot),Sn!=null?(Nn.splice(Sn,0,Wt),mt.splice(Sn,0,Wt.u)):(Nn.push(Wt),mt.push(Wt.u))}Ao.prototype.toJSON=function(){return Vu(this.u,Us)},Ao.prototype.toString=function(){return this.u.toString()};function Bs(mt,Ot){return mt=Rs(mt,Ot),mt??0}function Fl(mt,Ot){return mt=Rs(mt,Ot),mt??""}function fu(mt,Ot){if(mt=mt.m){ga(Ot,Ot.g.end());for(var Wt=0;Wt<mt.length;Wt++)ga(Ot,mt[Wt])}}var pu=Symbol();function Zu(mt,Ot,Wt){return mt[pu]||(mt[pu]=function(Ut,Sn){return Ot(Ut,Sn,Wt)})}function Bu(mt){var Ot=mt[pu];if(!Ot){var Wt=mt[mu]||(mt[mu]=mt());Ot=function(Ut,Sn){return Dl(Ut,Sn,Wt)},mt[pu]=Ot}return Ot}function Wl(mt){var Ot=mt.da;if(Ot)return Bu(Ot);if(Ot=mt.ia){var Wt=mt.Y;return delete mt.Y,Zu(mt.W.g,Ot,Wt)}}function hu(mt){var Ot=Wl(mt),Wt=mt.W,Ut=mt.ea;return Ot?function(Sn,Nn){return Ut(Sn,Nn,Wt,Ot)}:function(Sn,Nn){return Ut(Sn,Nn,Wt)}}function _p(mt){var Ot=mt[0];switch(mt.length){case 2:var Wt=mt[1];return function(no,yo,go){return Ot(no,yo,go,Wt)};case 3:var Ut=mt[1],Sn=Bu(mt[2]);return function(no,yo,go){return Ot(no,yo,go,Ut,Sn)};case 4:var Nn=mt[1],Gn=mt[3],tr=Bu(mt[2]);return function(no,yo,go){return Ot(no,yo,go,Nn,tr,Gn)};case 5:var mr=mt[1],Tr=Zu(mr,mt[3],mt[4]);return function(no,yo,go){return Ot(no,yo,go,mr,Tr)};case 6:var xr=mt[1],Br=mt[5],to=Zu(xr,mt[3],mt[4]);return function(no,yo,go){return Ot(no,yo,go,xr,to,Br)};default:throw Error("Unsupported number of parameters, expected [2-6], got "+mt.length)}}var mu=Symbol();function Dl(mt,Ot,Wt){for(;Al(Ot)&&Ot.h!=4;){var Ut=Ot.i,Sn=Wt[Ut];if(Sn)Array.isArray(Sn)&&(Sn=Wt[Ut]=_p(Sn));else{var Nn=Wt[0];Nn&&(Nn=Nn[Ut])&&(Sn=Wt[Ut]=hu(Nn))}Sn&&Sn(Ot,mt,Ut)||(Sn=Ot,Ut=mt,Nn=Sn.l,np(Sn),Sn.O||(Sn=xu(Sn.g.h,Nn,Sn.g.g),(Nn=Ut.m)?Nn.push(Sn):Ut.m=[Sn]))}return mt}function Ju(mt,Ot){var Wt=new Iu;if(Ot(mt,Wt),mt=Wt.i+Wt.g.length(),mt===0)Wt=new Uint8Array(0);else{mt=new Uint8Array(mt);for(var Ut=Wt.h,Sn=Ut.length,Nn=Ot=0;Nn<Sn;Nn++){var Gn=Ut[Nn];Gn.length!==0&&(mt.set(Gn,Ot),Ot+=Gn.length)}Ut=Wt.g,Sn=Ut.h,Sn!==0&&(mt.set(Ut.g.subarray(0,Sn),Ot),Ut.h=0),Wt.h=[mt],Wt=mt}return Wt}function up(mt,Ot,Wt){if(su.length){var Ut=su.pop();mt&&(as(Ut.g,mt),Ut.i=-1,Ut.h=-1),mt=Ut}else mt=new ou(mt);try{var Sn=new Ot;return Dl(Sn,mt,Wt[mu]||(Wt[mu]=Wt()))}finally{Ot=mt.g,Ot.h=null,Ot.l=0,Ot.i=0,Ot.g=0,Ot.j=!1,Ot.v=!1,mt.i=-1,mt.h=-1,mt.j=!1,100>su.length&&su.push(mt)}}function Jl(mt,Ot,Wt){if(Ot=Rs(Ot,Wt),Ot!=null){nu(mt.g,8*Wt+5),mt=mt.g;var Ut=Ot;Ut=(Wt=0>Ut?1:0)?-Ut:Ut,Ut===0?0<1/Ut?Kl=bs=0:(bs=0,Kl=2147483648):isNaN(Ut)?(bs=0,Kl=2147483647):34028234663852886e22<Ut?(bs=0,Kl=(Wt<<31|2139095040)>>>0):11754943508222875e-54>Ut?(Ut=Math.round(Ut/Math.pow(2,-149)),bs=0,Kl=(Wt<<31|Ut)>>>0):(Ot=Math.floor(Math.log(Ut)/Math.LN2),Ut*=Math.pow(2,-Ot),Ut=Math.round(8388608*Ut),16777216<=Ut&&++Ot,bs=0,Kl=(Wt<<31|Ot+127<<23|Ut&8388607)>>>0),Wt=Kl,gs(mt,Wt>>>0&255),gs(mt,Wt>>>8&255),gs(mt,Wt>>>16&255),gs(mt,Wt>>>24&255)}}function Mp(mt,Ot,Wt){if(mt.h!==1)return!1;var Ut=mt.g;mt=Nl(Ut);var Sn=Nl(Ut);Ut=2*(Sn>>31)+1;var Nn=Sn>>>20&2047;return mt=4294967296*(Sn&1048575)+mt,ys(Ot,Wt,Nn==2047?mt?NaN:1/0*Ut:Nn==0?Ut*Math.pow(2,-1074)*mt:Ut*Math.pow(2,Nn-1075)*(mt+4503599627370496),0),!0}function gu(mt,Ot,Wt){return mt.h!==5?!1:(Kr(Ot,Wt,mt.g.m()),!0)}function Qu(mt,Ot,Wt){if(mt.h!==5&&mt.h!==2)return!1;if(Ot=Ls(Ot,Wt),mt.h==2){Wt=Gl.prototype.m;var Ut=Js(mt.g);for(Ut=mt.g.g+Ut;mt.g.g<Ut;)Ot.push(Wt.call(mt.g))}else Ot.push(mt.g.m());return!0}function vp(mt,Ot,Wt){return mt.h!==5?!1:(mt=mt.g.m(),ys(Ot,Wt,mt,0),!0)}function Bp(mt,Ot,Wt){return mt.h!==0?!1:(Kr(Ot,Wt,Ol(mt.g)),!0)}function wu(mt,Ot,Wt){return mt.h!==0?!1:(Kr(Ot,Wt,Js(mt.g)),!0)}function yp(mt,Ot,Wt){return mt.h!==0?!1:(mt=Js(mt.g),ys(Ot,Wt,mt,0),!0)}function am(mt,Ot,Wt){return mt.h!==0?!1:(mt=!!Js(mt.g),ys(Ot,Wt,mt,!1),!0)}function cm(mt,Ot,Wt){if(mt.h!==2)return!1;var Ut=Js(mt.g);mt=mt.g;var Sn=mt.g;mt.g+=Ut,ms(mt),mt=mt.h;var Nn;if(Ap)(Nn=cp)||(Nn=cp=new TextDecoder("utf-8",{fatal:!1})),Nn=Nn.decode(mt.subarray(Sn,Sn+Ut));else{Ut=Sn+Ut;for(var Gn=[],tr=null,mr,Tr,xr;Sn<Ut;)mr=mt[Sn++],128>mr?Gn.push(mr):224>mr?Sn>=Ut?Gn.push(65533):(Tr=mt[Sn++],194>mr||(Tr&192)!==128?(Sn--,Gn.push(65533)):Gn.push((mr&31)<<6|Tr&63)):240>mr?Sn>=Ut-1?Gn.push(65533):(Tr=mt[Sn++],(Tr&192)!==128||mr===224&&160>Tr||mr===237&&160<=Tr||((Nn=mt[Sn++])&192)!==128?(Sn--,Gn.push(65533)):Gn.push((mr&15)<<12|(Tr&63)<<6|Nn&63)):244>=mr?Sn>=Ut-2?Gn.push(65533):(Tr=mt[Sn++],(Tr&192)!==128||(mr<<28)+(Tr-144)>>30||((Nn=mt[Sn++])&192)!==128||((xr=mt[Sn++])&192)!==128?(Sn--,Gn.push(65533)):(mr=(mr&7)<<18|(Tr&63)<<12|(Nn&63)<<6|xr&63,mr-=65536,Gn.push((mr>>10&1023)+55296,(mr&1023)+56320))):Gn.push(65533),8192<=Gn.length&&(tr=Rp(tr,Gn),Gn.length=0);Nn=Rp(tr,Gn)}return Kr(Ot,Wt,Nn),!0}function bp(mt,Ot,Wt,Ut,Sn){return mt.h!==2?!1:(mt=Ru(mt,new Ut,Sn),Ot.g||(Ot.g={}),Ut=mt&&mt.u,Ot.g[Wt]=mt,Kr(Ot,Wt,Ut,!1),!0)}function wp(mt,Ot,Wt,Ut,Sn){return mt.h!==2?!1:(mt=Ru(mt,new Ut,Sn),Mo(Ot,Wt,mt,Ut,void 0),!0)}function Xt(mt,Ot,Wt){return mt.h!==0?!1:(Kr(Ot,Wt,Ol(mt.g)),!0)}function ln(mt){Ao.call(this,mt)}qr(ln,Ao);function hn(){return{1:wu,2:gu,3:cm,4:cm}}function _n(mt,Ot){var Wt=Rs(mt,1);if(Wt!=null&&Wt!=null){nu(Ot.g,8);var Ut=Ot.g;if(0<=Wt)nu(Ut,Wt);else{for(var Sn=0;9>Sn;Sn++)gs(Ut,Wt&127|128),Wt>>=7;gs(Ut,1)}}Jl(Ot,mt,2),Ut=Rs(mt,3),Ut!=null&&Pl(Ot,3,Pp(Ut)),Ut=Rs(mt,4),Ut!=null&&Pl(Ot,4,Pp(Ut)),fu(mt,Ot)}function Sr(mt){Ao.call(this,mt,-1,br)}qr(Sr,Ao),Sr.prototype.addClassification=function(mt,Ot){return Mo(this,1,mt,ln,Ot),this};function Ur(){return{1:[wp,ln,hn]}}var br=[1];function Mr(mt){Ao.call(this,mt)}qr(Mr,Ao);function io(){return{1:gu,2:gu,3:gu,4:gu,5:gu}}function Vo(mt,Ot){Jl(Ot,mt,1),Jl(Ot,mt,2),Jl(Ot,mt,3),Jl(Ot,mt,4),Jl(Ot,mt,5),fu(mt,Ot)}function os(mt){Ao.call(this,mt,-1,Ts)}qr(os,Ao);function Qo(){return{1:[wp,Mr,io]}}var Ts=[1];function es(mt){Ao.call(this,mt)}qr(es,Ao);function Fo(){return{1:gu,2:gu,3:gu,4:gu,5:gu,6:Bp}}function rs(mt,Ot){Jl(Ot,mt,1),Jl(Ot,mt,2),Jl(Ot,mt,3),Jl(Ot,mt,4),Jl(Ot,mt,5);var Wt=Rs(mt,6);if(Wt!=null&&Wt!=null){nu(Ot.g,48);var Ut=Ot.g,Sn=Wt;Wt=0>Sn,Sn=Math.abs(Sn);var Nn=Sn>>>0;for(Sn=Math.floor((Sn-Nn)/4294967296),Sn>>>=0,Wt&&(Sn=~Sn>>>0,Nn=(~Nn>>>0)+1,4294967295<Nn&&(Nn=0,Sn++,4294967295<Sn&&(Sn=0))),Kl=Nn,bs=Sn,Wt=Kl,Nn=bs;0<Nn||127<Wt;)gs(Ut,Wt&127|128),Wt=(Wt>>>7|Nn<<25)>>>0,Nn>>>=7;gs(Ut,Wt)}fu(mt,Ot)}function Ss(mt){Ao.call(this,mt,-1,Xl)}qr(Ss,Ao);function Ms(){return{1:Xt,2:Xt,3:Qu,4:[bp,Hs,Qs],5:wu,6:wu,7:Qu,8:Qu,9:Qu}}function Hs(mt){Ao.call(this,mt)}qr(Hs,Ao);function Qs(){return{1:gu,2:gu,3:gu}}var Xl=[3,7,8,9];function Ft(mt){Ao.call(this,mt)}qr(Ft,Ao);function Ht(){return{1:vp,2:vp,3:vp}}function Kt(mt){Ao.call(this,mt)}qr(Kt,Ao);function Fn(){return{1:vp,2:vp,3:vp}}function ir(mt){Ao.call(this,mt)}qr(ir,Ao);function Cr(){return{1:yp,2:[bp,Kt,Fn],3:[bp,Ft,Ht],4:am}}function ar(mt){Ao.call(this,mt,-1,zr)}qr(ar,Ao);function kr(){return{1:yp,2:[wp,ir,Cr],3:vp,4:Qu,5:Qu,6:Qu}}var zr=[2,4,5,6];function wt(mt){Ao.call(this,mt,-1,mn)}qr(wt,Ao);function Qt(){return{1:yp,2:[wp,ar,kr],3:[bp,Ss,Ms],4:Mp,5:Qu,6:Qu}}var mn=[2,5,6];function kn(mt,Ot,Wt){if(Wt=mt.createShader(Wt===0?mt.VERTEX_SHADER:mt.FRAGMENT_SHADER),mt.shaderSource(Wt,Ot),mt.compileShader(Wt),!mt.getShaderParameter(Wt,mt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+mt.getShaderInfoLog(Wt));return Wt}function Kn(mt){return Ps(mt,ln,1).map(function(Ot){return{index:Bs(Ot,1),$:Gr(Ot,2),label:Rs(Ot,3)!=null?Fl(Ot,3):void 0,displayName:Rs(Ot,4)!=null?Fl(Ot,4):void 0}})}function lr(mt){return{x:Gr(mt,1),y:Gr(mt,2),z:Gr(mt,3),visibility:Rs(mt,4)!=null?Gr(mt,4):void 0}}function nr(mt,Ot){this.h=mt,this.g=Ot,this.l=0}function Zr(mt,Ot,Wt){return Ar(mt,Ot),typeof mt.g.canvas.transferToImageBitmap=="function"?nt.resolve(mt.g.canvas.transferToImageBitmap()):Wt?nt.resolve(mt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(mt.g.canvas):(mt.i===void 0&&(mt.i=document.createElement("canvas")),new nt(function(Ut){mt.i.height=mt.g.canvas.height,mt.i.width=mt.g.canvas.width,mt.i.getContext("2d",{}).drawImage(mt.g.canvas,0,0,mt.g.canvas.width,mt.g.canvas.height),Ut(mt.i)}))}function Ar(mt,Ot){var Wt=mt.g;if(mt.m===void 0){var Ut=kn(Wt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Sn=kn(Wt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Nn=Wt.createProgram();if(Wt.attachShader(Nn,Ut),Wt.attachShader(Nn,Sn),Wt.linkProgram(Nn),!Wt.getProgramParameter(Nn,Wt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Wt.getProgramInfoLog(Nn));Ut=mt.m=Nn,Wt.useProgram(Ut),Sn=Wt.getUniformLocation(Ut,"sampler0"),mt.j={J:Wt.getAttribLocation(Ut,"aVertex"),I:Wt.getAttribLocation(Ut,"aTex"),ja:Sn},mt.s=Wt.createBuffer(),Wt.bindBuffer(Wt.ARRAY_BUFFER,mt.s),Wt.enableVertexAttribArray(mt.j.J),Wt.vertexAttribPointer(mt.j.J,2,Wt.FLOAT,!1,0,0),Wt.bufferData(Wt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Wt.STATIC_DRAW),Wt.bindBuffer(Wt.ARRAY_BUFFER,null),mt.o=Wt.createBuffer(),Wt.bindBuffer(Wt.ARRAY_BUFFER,mt.o),Wt.enableVertexAttribArray(mt.j.I),Wt.vertexAttribPointer(mt.j.I,2,Wt.FLOAT,!1,0,0),Wt.bufferData(Wt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Wt.STATIC_DRAW),Wt.bindBuffer(Wt.ARRAY_BUFFER,null),Wt.uniform1i(Sn,0)}Ut=mt.j,Wt.useProgram(mt.m),Wt.canvas.width=Ot.width,Wt.canvas.height=Ot.height,Wt.viewport(0,0,Ot.width,Ot.height),Wt.activeTexture(Wt.TEXTURE0),mt.h.bindTexture2d(Ot.glName),Wt.enableVertexAttribArray(Ut.J),Wt.bindBuffer(Wt.ARRAY_BUFFER,mt.s),Wt.vertexAttribPointer(Ut.J,2,Wt.FLOAT,!1,0,0),Wt.enableVertexAttribArray(Ut.I),Wt.bindBuffer(Wt.ARRAY_BUFFER,mt.o),Wt.vertexAttribPointer(Ut.I,2,Wt.FLOAT,!1,0,0),Wt.bindFramebuffer(Wt.DRAW_FRAMEBUFFER?Wt.DRAW_FRAMEBUFFER:Wt.FRAMEBUFFER,null),Wt.clearColor(0,0,0,0),Wt.clear(Wt.COLOR_BUFFER_BIT),Wt.colorMask(!0,!0,!0,!0),Wt.drawArrays(Wt.TRIANGLE_FAN,0,4),Wt.disableVertexAttribArray(Ut.J),Wt.disableVertexAttribArray(Ut.I),Wt.bindBuffer(Wt.ARRAY_BUFFER,null),mt.h.bindTexture2d(0)}function ao(mt){this.g=mt}var Co=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ss(mt,Ot){return Ot+mt}function Zo(mt,Ot){window[mt]=Ot}function eo(mt){var Ot=document.createElement("script");return Ot.setAttribute("src",mt),Ot.setAttribute("crossorigin","anonymous"),new nt(function(Wt){Ot.addEventListener("load",function(){Wt()},!1),Ot.addEventListener("error",function(){Wt()},!1),document.body.appendChild(Ot)})}function Io(){return po(function(mt){switch(mt.g){case 1:return mt.m=2,Er(mt,WebAssembly.instantiate(Co),4);case 4:mt.g=3,mt.m=0;break;case 2:return mt.m=0,mt.j=null,mt.return(!1);case 3:return mt.return(!0)}})}function Po(mt){if(this.g=mt,this.listeners={},this.j={},this.G={},this.m={},this.s={},this.H=this.o=this.S=!0,this.D=nt.resolve(),this.R="",this.C={},this.locateFile=mt&&mt.locateFile||ss,typeof window=="object")var Ot=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Ot=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.T=Ot,mt.options){Ot=Ln(Object.keys(mt.options));for(var Wt=Ot.next();!Wt.done;Wt=Ot.next()){Wt=Wt.value;var Ut=mt.options[Wt].default;Ut!==void 0&&(this.j[Wt]=typeof Ut=="function"?Ut():Ut)}}}Et=Po.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Bo(mt){var Ot,Wt,Ut,Sn,Nn,Gn,tr,mr,Tr,xr,Br;return po(function(to){switch(to.g){case 1:return mt.S?(Ot=mt.g.files===void 0?[]:typeof mt.g.files=="function"?mt.g.files(mt.j):mt.g.files,Er(to,Io(),2)):to.return();case 2:if(Wt=to.h,typeof window=="object")return Zo("createMediapipeSolutionsWasm",{locateFile:mt.locateFile}),Zo("createMediapipeSolutionsPackedAssets",{locateFile:mt.locateFile}),Gn=Ot.filter(function(no){return no.data!==void 0}),tr=Ot.filter(function(no){return no.data===void 0}),mr=nt.all(Gn.map(function(no){var yo=$t(mt,no.url);if(no.path!==void 0){var go=no.path;yo=yo.then(function(fs){return mt.overrideFile(go,fs),nt.resolve(fs)})}return yo})),Tr=nt.all(tr.map(function(no){return no.simd===void 0||no.simd&&Wt||!no.simd&&!Wt?eo(mt.locateFile(no.url,mt.T)):nt.resolve()})).then(function(){var no,yo,go;return po(function(fs){if(fs.g==1)return no=window.createMediapipeSolutionsWasm,yo=window.createMediapipeSolutionsPackedAssets,go=mt,Er(fs,no(yo),2);go.h=fs.h,fs.g=0})}),xr=function(){return po(function(no){return mt.g.graph&&mt.g.graph.url?no=Er(no,$t(mt,mt.g.graph.url),0):(no.g=0,no=void 0),no})}(),Er(to,nt.all([Tr,mr,xr]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return Ut=Ot.filter(function(no){return no.simd===void 0||no.simd&&Wt||!no.simd&&!Wt}).map(function(no){return mt.locateFile(no.url,mt.T)}),importScripts.apply(null,Un(Ut)),Sn=mt,Er(to,createMediapipeSolutionsWasm(Module),6);case 6:Sn.h=to.h,mt.l=new OffscreenCanvas(1,1),mt.h.canvas=mt.l,Nn=mt.h.GL.createContext(mt.l,{antialias:!1,alpha:!1,ga:typeof WebGL2RenderingContext<"u"?2:1}),mt.h.GL.makeContextCurrent(Nn),to.g=4;break;case 7:if(mt.l=document.createElement("canvas"),Br=mt.l.getContext("webgl2",{}),!Br&&(Br=mt.l.getContext("webgl",{}),!Br))return alert("Failed to create WebGL canvas context when passing video frame."),to.return();mt.F=Br,mt.h.canvas=mt.l,mt.h.createContext(mt.l,!0,!0,{});case 4:mt.i=new mt.h.SolutionWasm,mt.S=!1,to.g=0}})}function zo(mt){var Ot,Wt,Ut,Sn,Nn,Gn,tr,mr;return po(function(Tr){if(Tr.g==1){if(mt.g.graph&&mt.g.graph.url&&mt.R===mt.g.graph.url)return Tr.return();if(mt.o=!0,!mt.g.graph||!mt.g.graph.url){Tr.g=2;return}return mt.R=mt.g.graph.url,Er(Tr,$t(mt,mt.g.graph.url),3)}for(Tr.g!=2&&(Ot=Tr.h,mt.i.loadGraph(Ot)),Wt=Ln(Object.keys(mt.C)),Ut=Wt.next();!Ut.done;Ut=Wt.next())Sn=Ut.value,mt.i.overrideFile(Sn,mt.C[Sn]);if(mt.C={},mt.g.listeners)for(Nn=Ln(mt.g.listeners),Gn=Nn.next();!Gn.done;Gn=Nn.next())tr=Gn.value,Jn(mt,tr);mr=mt.j,mt.j={},mt.setOptions(mr),Tr.g=0})}Et.reset=function(){var mt=this;return po(function(Ot){mt.i&&(mt.i.reset(),mt.m={},mt.s={}),Ot.g=0})},Et.setOptions=function(mt,Ot){var Wt=this;if(Ot=Ot||this.g.options){for(var Ut=[],Sn=[],Nn={},Gn=Ln(Object.keys(mt)),tr=Gn.next();!tr.done;Nn={L:Nn.L,M:Nn.M},tr=Gn.next()){var mr=tr.value;mr in this.j&&this.j[mr]===mt[mr]||(this.j[mr]=mt[mr],tr=Ot[mr],tr!==void 0&&(tr.onChange&&(Nn.L=tr.onChange,Nn.M=mt[mr],Ut.push(function(Tr){return function(){var xr;return po(function(Br){if(Br.g==1)return Er(Br,Tr.L(Tr.M),2);xr=Br.h,xr===!0&&(Wt.o=!0),Br.g=0})}}(Nn))),tr.graphOptionXref&&(mr={valueNumber:tr.type===1?mt[mr]:0,valueBoolean:tr.type===0?mt[mr]:!1,valueString:tr.type===2?mt[mr]:""},tr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),tr.graphOptionXref),mr),Sn.push(tr))))}(Ut.length!==0||Sn.length!==0)&&(this.o=!0,this.B=(this.B===void 0?[]:this.B).concat(Sn),this.A=(this.A===void 0?[]:this.A).concat(Ut))}};function At(mt){var Ot,Wt,Ut,Sn,Nn,Gn,tr;return po(function(mr){switch(mr.g){case 1:if(!mt.o)return mr.return();if(!mt.A){mr.g=2;break}Ot=Ln(mt.A),Wt=Ot.next();case 3:if(Wt.done){mr.g=5;break}return Ut=Wt.value,Er(mr,Ut(),4);case 4:Wt=Ot.next(),mr.g=3;break;case 5:mt.A=void 0;case 2:if(mt.B){for(Sn=new mt.h.GraphOptionChangeRequestList,Nn=Ln(mt.B),Gn=Nn.next();!Gn.done;Gn=Nn.next())tr=Gn.value,Sn.push_back(tr);mt.i.changeOptions(Sn),Sn.delete(),mt.B=void 0}mt.o=!1,mr.g=0}})}Et.initialize=function(){var mt=this;return po(function(Ot){return Ot.g==1?Er(Ot,Bo(mt),2):Ot.g!=3?Er(Ot,zo(mt),3):Er(Ot,At(mt),0)})};function $t(mt,Ot){var Wt,Ut;return po(function(Sn){return Ot in mt.G?Sn.return(mt.G[Ot]):(Wt=mt.locateFile(Ot,""),Ut=fetch(Wt).then(function(Nn){return Nn.arrayBuffer()}),mt.G[Ot]=Ut,Sn.return(Ut))})}Et.overrideFile=function(mt,Ot){this.i?this.i.overrideFile(mt,Ot):this.C[mt]=Ot},Et.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(mt,Ot){var Wt=this,Ut,Sn,Nn,Gn,tr,mr,Tr,xr,Br;return po(function(to){switch(to.g){case 1:return Wt.g.inputs?(Ut=1e3*(Ot??performance.now()),Er(to,Wt.D,2)):to.return();case 2:return Er(to,Wt.initialize(),3);case 3:for(Sn=new Wt.h.PacketDataList,Nn=Ln(Object.keys(mt)),Gn=Nn.next();!Gn.done;Gn=Nn.next())if(tr=Gn.value,mr=Wt.g.inputs[tr]){e:{var no=mt[tr];switch(mr.type){case"video":var yo=Wt.m[mr.stream];if(yo||(yo=new nr(Wt.h,Wt.F),Wt.m[mr.stream]=yo),yo.l===0&&(yo.l=yo.h.createTexture()),typeof HTMLVideoElement<"u"&&no instanceof HTMLVideoElement)var go=no.videoWidth,fs=no.videoHeight;else typeof HTMLImageElement<"u"&&no instanceof HTMLImageElement?(go=no.naturalWidth,fs=no.naturalHeight):(go=no.width,fs=no.height);fs={glName:yo.l,width:go,height:fs},go=yo.g,go.canvas.width=fs.width,go.canvas.height=fs.height,go.activeTexture(go.TEXTURE0),yo.h.bindTexture2d(yo.l),go.texImage2D(go.TEXTURE_2D,0,go.RGBA,go.RGBA,go.UNSIGNED_BYTE,no),yo.h.bindTexture2d(0),yo=fs;break e;case"detections":for(yo=Wt.m[mr.stream],yo||(yo=new ao(Wt.h),Wt.m[mr.stream]=yo),yo.data||(yo.data=new yo.g.DetectionListData),yo.data.reset(no.length),fs=0;fs<no.length;++fs){go=no[fs];var Vs=yo.data,Zs=Vs.setBoundingBox,Bl=fs,rp=go.U,Hl=new es;if(Kr(Hl,1,rp.aa),Kr(Hl,2,rp.ba),Kr(Hl,3,rp.height),Kr(Hl,4,rp.width),Kr(Hl,5,rp.rotation),Kr(Hl,6,rp.Z),rp=Ju(Hl,rs),Zs.call(Vs,Bl,rp),go.P)for(Vs=0;Vs<go.P.length;++Vs){Hl=go.P[Vs];var kp=!!Hl.visibility;Zs=yo.data,Bl=Zs.addNormalizedLandmark,rp=fs,Hl=Object.assign(Object.assign({},Hl),{visibility:kp?Hl.visibility:0}),kp=new Mr,Kr(kp,1,Hl.x),Kr(kp,2,Hl.y),Kr(kp,3,Hl.z),Hl.visibility&&Kr(kp,4,Hl.visibility),Hl=Ju(kp,Vo),Bl.call(Zs,rp,Hl)}if(go.N)for(Vs=0;Vs<go.N.length;++Vs)Zs=yo.data,Bl=Zs.addClassification,rp=fs,Hl=go.N[Vs],kp=new ln,Kr(kp,2,Hl.$),Hl.index&&Kr(kp,1,Hl.index),Hl.label&&Kr(kp,3,Hl.label),Hl.displayName&&Kr(kp,4,Hl.displayName),Hl=Ju(kp,_n),Bl.call(Zs,rp,Hl)}yo=yo.data;break e;default:yo={}}}switch(Tr=yo,xr=mr.stream,mr.type){case"video":Sn.pushTexture2d(Object.assign(Object.assign({},Tr),{stream:xr,timestamp:Ut}));break;case"detections":Br=Tr,Br.stream=xr,Br.timestamp=Ut,Sn.pushDetectionList(Br);break;default:throw Error("Unknown input config type: '"+mr.type+"'")}}return Wt.i.send(Sn),Er(to,Wt.D,4);case 4:Sn.delete(),to.g=0}})};function gn(mt,Ot,Wt){var Ut,Sn,Nn,Gn,tr,mr,Tr,xr,Br,to,no,yo,go,fs;return po(function(Vs){switch(Vs.g){case 1:if(!Wt)return Vs.return(Ot);for(Ut={},Sn=0,Nn=Ln(Object.keys(Wt)),Gn=Nn.next();!Gn.done;Gn=Nn.next())tr=Gn.value,mr=Wt[tr],typeof mr!="string"&&mr.type==="texture"&&Ot[mr.stream]!==void 0&&++Sn;1<Sn&&(mt.H=!1),Tr=Ln(Object.keys(Wt)),Gn=Tr.next();case 2:if(Gn.done){Vs.g=4;break}if(xr=Gn.value,Br=Wt[xr],typeof Br=="string")return go=Ut,fs=xr,Er(Vs,wn(mt,xr,Ot[Br]),14);if(to=Ot[Br.stream],Br.type==="detection_list"){if(to){for(var Zs=to.getRectList(),Bl=to.getLandmarksList(),rp=to.getClassificationsList(),Hl=[],kp=0;kp<Zs.size();++kp){var o0=up(Zs.get(kp),es,Fo);o0={U:{aa:Gr(o0,1),ba:Gr(o0,2),height:Gr(o0,3),width:Gr(o0,4),rotation:Gr(o0,5,0),Z:Bs(o0,6)},P:Ps(up(Bl.get(kp),os,Qo),Mr,1).map(lr),N:Kn(up(rp.get(kp),Sr,Ur))},Hl.push(o0)}Zs=Hl}else Zs=[];Ut[xr]=Zs,Vs.g=7;break}if(Br.type==="proto_list"){if(to){for(Zs=Array(to.size()),Bl=0;Bl<to.size();Bl++)Zs[Bl]=to.get(Bl);to.delete()}else Zs=[];Ut[xr]=Zs,Vs.g=7;break}if(to===void 0){Vs.g=3;break}if(Br.type==="float_list"){Ut[xr]=to,Vs.g=7;break}if(Br.type==="proto"){Ut[xr]=to,Vs.g=7;break}if(Br.type!=="texture")throw Error("Unknown output config type: '"+Br.type+"'");return no=mt.s[xr],no||(no=new nr(mt.h,mt.F),mt.s[xr]=no),Er(Vs,Zr(no,to,mt.H),13);case 13:yo=Vs.h,Ut[xr]=yo;case 7:Br.transform&&Ut[xr]&&(Ut[xr]=Br.transform(Ut[xr])),Vs.g=3;break;case 14:go[fs]=Vs.h;case 3:Gn=Tr.next(),Vs.g=2;break;case 4:return Vs.return(Ut)}})}function wn(mt,Ot,Wt){var Ut;return po(function(Sn){return typeof Wt=="number"||Wt instanceof Uint8Array||Wt instanceof mt.h.Uint8BlobList?Sn.return(Wt):Wt instanceof mt.h.Texture2dDataOut?(Ut=mt.s[Ot],Ut||(Ut=new nr(mt.h,mt.F),mt.s[Ot]=Ut),Sn.return(Zr(Ut,Wt,mt.H))):Sn.return(void 0)})}function Jn(mt,Ot){for(var Wt=Ot.name||"$",Ut=[].concat(Un(Ot.wants)),Sn=new mt.h.StringList,Nn=Ln(Ot.wants),Gn=Nn.next();!Gn.done;Gn=Nn.next())Sn.push_back(Gn.value);Nn=mt.h.PacketListener.implement({onResults:function(tr){for(var mr={},Tr=0;Tr<Ot.wants.length;++Tr)mr[Ut[Tr]]=tr.get(Tr);var xr=mt.listeners[Wt];xr&&(mt.D=gn(mt,mr,Ot.outs).then(function(Br){Br=xr(Br);for(var to=0;to<Ot.wants.length;++to){var no=mr[Ut[to]];typeof no=="object"&&no.hasOwnProperty&&no.hasOwnProperty("delete")&&no.delete()}Br&&(mt.D=Br)}))}}),mt.i.attachMultiListener(Sn,Nn),Sn.delete()}Et.onResults=function(mt,Ot){this.listeners[Ot||"$"]=mt},Jo("Solution",Po),Jo("OptionType",{BOOL:0,NUMBER:1,ca:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Rt(mt){var Ot=Bs(mt,1),Wt=Gs(mt,Ft,3);return Wt={x:Gr(Wt,1),y:Gr(Wt,2),depth:Gr(Wt,3)},mt=Gs(mt,Kt,2),{id:Ot,point2d:Wt,point3d:{x:Gr(mt,1),y:Gr(mt,2),z:Gr(mt,3)}}}function Gt(mt){var Ot=up(mt,wt,Qt);mt=[],Ot=Ps(Ot,ar,2);for(var Wt=0;Wt<Ot.length;Wt++)mt.push({id:Bs(Ot[Wt],1),keypoints:Ps(Ot[Wt],ir,2).map(Rt),visibility:Gr(Ot[Wt],3),scale:Vr(Ot[Wt],6),translation:Vr(Ot[Wt],5),rotation:Vr(Ot[Wt],4)});return mt}function Yt(mt){switch(mt){case"Camera":return"object_detection_3d_camera.tflite";case"Chair":return"object_detection_3d_chair.tflite";case"Cup":return"object_detection_3d_cup.tflite";default:return"object_detection_3d_sneakers.tflite"}}function bt(mt){switch(mt){case"Camera":return"Camera";case"Chair":return"Chair";case"Cup":return"Coffee cup, Mug";default:return"Footwear"}}var Vt={focalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_x"}},focalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_y"}},principalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_x"}},principalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_y"}},allowedLabels:{type:2,graphOptionXref:{calculatorName:"ConstantSidePacketCalculatorAllowedLabels",calculatorType:"ConstantSidePacketCalculator",fieldName:"string_value"}}};function Dt(mt){var Ot=this;mt=mt||{},this.g=new Po({locateFile:mt.locateFile,files:[{url:"objectron_solution_packed_assets_loader.js"},{simd:!1,url:"objectron_solution_wasm_bin.js"},{simd:!0,url:"objectron_solution_simd_wasm_bin.js"}],graph:{url:"objectron.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["lifted_objects","image_transformed"],outs:{image:"image_transformed",objectDetections:{type:"proto",stream:"lifted_objects",transform:Gt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,default:!1,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumObjects:{type:1,default:5,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorMaxNumObjects",fieldName:"int_value"}},staticImageMode:{type:0,default:!0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"objectrongpusubgraph__ConstantSidePacketCalculator",fieldName:"bool_value"}},minDetectionConfidence:{type:1,default:.5,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"objectrongpusubgraph__objectdetectionoidv4subgraph__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,default:.99,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"objectrongpusubgraph__boxlandmarksubgraph__ThresholdingCalculator",fieldName:"threshold"}},modelName:{default:"Shoe",onChange:function(Wt){var Ut,Sn,Nn,Gn;return po(function(tr){return tr.g==1?(Ut=Wt,Ot.g.setOptions({allowedLabels:bt(Ut)},Vt),Sn=Yt(Ut),Nn="object_detection_3d.tflite",Er(tr,$t(Ot.g,Sn),2)):(Gn=tr.h,Ot.g.overrideFile(Nn,Gn),tr.return(!0))})}},focalLength:{default:[1,1],onChange:function(Wt){var Ut;return po(function(Sn){return Ut=Wt,Ot.h=Ut,Ot.g.setOptions({focalX:Ut[0],focalY:Ut[1]},Vt),Sn.return(!0)})}},principalPoint:{default:[0,0],onChange:function(Wt){var Ut;return po(function(Sn){return Ut=Wt,Ot.i=Ut,Ot.g.setOptions({principalX:Ut[0],principalY:Ut[1]},Vt),Sn.return(!0)})}},imageSize:{onChange:function(Wt){var Ut,Sn,Nn,Gn;return po(function(tr){if(Ot.h===void 0||Ot.i===void 0)return console.error('"focalLength" and "principalPoint" must be set if setting image size'),tr.return();Ut=Wt,Sn=[Ut[0]/2,Ut[1]/2],Nn=[Ot.h[0]/Sn[0],Ot.h[1]/Sn[1]],Gn=[Ot.i[0]/Sn[0],Ot.i[1]/Sn[1]],Ot.setOptions({focalLength:Nn,principalPoint:Gn}),tr.g=0})}}}})}Et=Dt.prototype,Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(mt){this.g.onResults(mt)},Et.initialize=function(){var mt=this;return po(function(Ot){return Er(Ot,mt.g.initialize(),0)})},Et.reset=function(){this.g.reset()},Et.send=function(mt){var Ot=this;return po(function(Wt){return Er(Wt,Ot.g.send(mt),0)})},Et.setOptions=function(mt){this.g.setOptions(mt)},Jo("Objectron",Dt),Jo("BOX_CONNECTIONS",[[1,2],[2,4],[4,3],[3,1],[5,6],[6,8],[8,7],[7,5],[1,5],[2,6],[3,7],[4,8]]),Jo("BOX_KEYPOINTS",{CENTER:0,BACK_BOTTOM_LEFT:1,FRONT_BOTTOM_LEFT:2,BACK_TOP_LEFT:3,FRONT_TOP_LEFT:4,BACK_BOTTOM_RIGHT:5,FRONT_BOTTOM_RIGHT:6,BACK_TOP_RIGHT:7,FRONT_TOP_RIGHT:8}),Jo("VERSION","0.4.1636596145")}).call(nm);const _l={};(function(){var Et;function St(wt){var Qt=0;return function(){return Qt<wt.length?{done:!1,value:wt[Qt++]}:{done:!0}}}var xt=typeof Object.defineProperties=="function"?Object.defineProperty:function(wt,Qt,mn){return wt==Array.prototype||wt==Object.prototype||(wt[Qt]=mn.value),wt};function jt(wt){wt=[typeof globalThis=="object"&&globalThis,wt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Qt=0;Qt<wt.length;++Qt){var mn=wt[Qt];if(mn&&mn.Math==Math)return mn}throw Error("Cannot find global object")}var zt=jt(this);function Rn(wt,Qt){if(Qt)e:{var mn=zt;wt=wt.split(".");for(var kn=0;kn<wt.length-1;kn++){var Kn=wt[kn];if(!(Kn in mn))break e;mn=mn[Kn]}wt=wt[wt.length-1],kn=mn[wt],Qt=Qt(kn),Qt!=kn&&Qt!=null&&xt(mn,wt,{configurable:!0,writable:!0,value:Qt})}}Rn("Symbol",function(wt){function Qt(lr){if(this instanceof Qt)throw new TypeError("Symbol is not a constructor");return new mn(kn+(lr||"")+"_"+Kn++,lr)}function mn(lr,nr){this.g=lr,xt(this,"description",{configurable:!0,writable:!0,value:nr})}if(wt)return wt;mn.prototype.toString=function(){return this.g};var kn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Kn=0;return Qt}),Rn("Symbol.iterator",function(wt){if(wt)return wt;wt=Symbol("Symbol.iterator");for(var Qt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),mn=0;mn<Qt.length;mn++){var kn=zt[Qt[mn]];typeof kn=="function"&&typeof kn.prototype[wt]!="function"&&xt(kn.prototype,wt,{configurable:!0,writable:!0,value:function(){return Mn(St(this))}})}return wt});function Mn(wt){return wt={next:wt},wt[Symbol.iterator]=function(){return this},wt}function Ln(wt){var Qt=typeof Symbol<"u"&&Symbol.iterator&&wt[Symbol.iterator];return Qt?Qt.call(wt):{next:St(wt)}}function Un(wt){if(!(wt instanceof Array)){wt=Ln(wt);for(var Qt,mn=[];!(Qt=wt.next()).done;)mn.push(Qt.value);wt=mn}return wt}var wr=typeof Object.create=="function"?Object.create:function(wt){function Qt(){}return Qt.prototype=wt,new Qt},Xr;if(typeof Object.setPrototypeOf=="function")Xr=Object.setPrototypeOf;else{var Hr;e:{var Wo={a:!0},Uo={};try{Uo.__proto__=Wo,Hr=Uo.a;break e}catch{}Hr=!1}Xr=Hr?function(wt,Qt){if(wt.__proto__=Qt,wt.__proto__!==Qt)throw new TypeError(wt+" is not extensible");return wt}:null}var $r=Xr;function qr(wt,Qt){if(wt.prototype=wr(Qt.prototype),wt.prototype.constructor=wt,$r)$r(wt,Qt);else for(var mn in Qt)if(mn!="prototype")if(Object.defineProperties){var kn=Object.getOwnPropertyDescriptor(Qt,mn);kn&&Object.defineProperty(wt,mn,kn)}else wt[mn]=Qt[mn];wt.ea=Qt.prototype}function ns(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function qo(wt){if(wt.l)throw new TypeError("Generator is already running");wt.l=!0}ns.prototype.o=function(wt){this.h=wt};function Is(wt,Qt){wt.j={U:Qt,V:!0},wt.g=wt.m||wt.s}ns.prototype.return=function(wt){this.j={return:wt},this.g=this.s};function Er(wt,Qt,mn){return wt.g=mn,{value:Qt}}function ju(wt){this.g=new ns,this.h=wt}function ku(wt,Qt){qo(wt.g);var mn=wt.g.i;return mn?Tl(wt,"return"in mn?mn.return:function(kn){return{value:kn,done:!0}},Qt,wt.g.return):(wt.g.return(Qt),Cs(wt))}function Tl(wt,Qt,mn,kn){try{var Kn=Qt.call(wt.g.i,mn);if(!(Kn instanceof Object))throw new TypeError("Iterator result "+Kn+" is not an object");if(!Kn.done)return wt.g.l=!1,Kn;var lr=Kn.value}catch(nr){return wt.g.i=null,Is(wt.g,nr),Cs(wt)}return wt.g.i=null,kn.call(wt.g,lr),Cs(wt)}function Cs(wt){for(;wt.g.g;)try{var Qt=wt.h(wt.g);if(Qt)return wt.g.l=!1,{value:Qt.value,done:!1}}catch(mn){wt.g.h=void 0,Is(wt.g,mn)}if(wt.g.l=!1,wt.g.j){if(Qt=wt.g.j,wt.g.j=null,Qt.V)throw Qt.U;return{value:Qt.return,done:!0}}return{value:void 0,done:!0}}function Jp(wt){this.next=function(Qt){return qo(wt.g),wt.g.i?Qt=Tl(wt,wt.g.i.next,Qt,wt.g.o):(wt.g.o(Qt),Qt=Cs(wt)),Qt},this.throw=function(Qt){return qo(wt.g),wt.g.i?Qt=Tl(wt,wt.g.i.throw,Qt,wt.g.o):(Is(wt.g,Qt),Qt=Cs(wt)),Qt},this.return=function(Qt){return ku(wt,Qt)},this[Symbol.iterator]=function(){return this}}function Fs(wt){function Qt(kn){return wt.next(kn)}function mn(kn){return wt.throw(kn)}return new nt(function(kn,Kn){function lr(nr){nr.done?kn(nr.value):nt.resolve(nr.value).then(Qt,mn).then(lr,Kn)}lr(wt.next())})}function po(wt){return Fs(new Jp(new ju(wt)))}Rn("Promise",function(wt){function Qt(nr){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Zr=this.j();try{nr(Zr.resolve,Zr.reject)}catch(Ar){Zr.reject(Ar)}}function mn(){this.g=null}function kn(nr){return nr instanceof Qt?nr:new Qt(function(Zr){Zr(nr)})}if(wt)return wt;mn.prototype.h=function(nr){if(this.g==null){this.g=[];var Zr=this;this.i(function(){Zr.l()})}this.g.push(nr)};var Kn=zt.setTimeout;mn.prototype.i=function(nr){Kn(nr,0)},mn.prototype.l=function(){for(;this.g&&this.g.length;){var nr=this.g;this.g=[];for(var Zr=0;Zr<nr.length;++Zr){var Ar=nr[Zr];nr[Zr]=null;try{Ar()}catch(ao){this.j(ao)}}}this.g=null},mn.prototype.j=function(nr){this.i(function(){throw nr})},Qt.prototype.j=function(){function nr(ao){return function(Co){Ar||(Ar=!0,ao.call(Zr,Co))}}var Zr=this,Ar=!1;return{resolve:nr(this.C),reject:nr(this.l)}},Qt.prototype.C=function(nr){if(nr===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(nr instanceof Qt)this.F(nr);else{e:switch(typeof nr){case"object":var Zr=nr!=null;break e;case"function":Zr=!0;break e;default:Zr=!1}Zr?this.v(nr):this.m(nr)}},Qt.prototype.v=function(nr){var Zr=void 0;try{Zr=nr.then}catch(Ar){this.l(Ar);return}typeof Zr=="function"?this.G(Zr,nr):this.m(nr)},Qt.prototype.l=function(nr){this.s(2,nr)},Qt.prototype.m=function(nr){this.s(1,nr)},Qt.prototype.s=function(nr,Zr){if(this.h!=0)throw Error("Cannot settle("+nr+", "+Zr+"): Promise already settled in state"+this.h);this.h=nr,this.i=Zr,this.h===2&&this.D(),this.A()},Qt.prototype.D=function(){var nr=this;Kn(function(){if(nr.B()){var Zr=zt.console;typeof Zr<"u"&&Zr.error(nr.i)}},1)},Qt.prototype.B=function(){if(this.o)return!1;var nr=zt.CustomEvent,Zr=zt.Event,Ar=zt.dispatchEvent;return typeof Ar>"u"?!0:(typeof nr=="function"?nr=new nr("unhandledrejection",{cancelable:!0}):typeof Zr=="function"?nr=new Zr("unhandledrejection",{cancelable:!0}):(nr=zt.document.createEvent("CustomEvent"),nr.initCustomEvent("unhandledrejection",!1,!0,nr)),nr.promise=this,nr.reason=this.i,Ar(nr))},Qt.prototype.A=function(){if(this.g!=null){for(var nr=0;nr<this.g.length;++nr)lr.h(this.g[nr]);this.g=null}};var lr=new mn;return Qt.prototype.F=function(nr){var Zr=this.j();nr.J(Zr.resolve,Zr.reject)},Qt.prototype.G=function(nr,Zr){var Ar=this.j();try{nr.call(Zr,Ar.resolve,Ar.reject)}catch(ao){Ar.reject(ao)}},Qt.prototype.then=function(nr,Zr){function Ar(Zo,eo){return typeof Zo=="function"?function(Io){try{ao(Zo(Io))}catch(Po){Co(Po)}}:eo}var ao,Co,ss=new Qt(function(Zo,eo){ao=Zo,Co=eo});return this.J(Ar(nr,ao),Ar(Zr,Co)),ss},Qt.prototype.catch=function(nr){return this.then(void 0,nr)},Qt.prototype.J=function(nr,Zr){function Ar(){switch(ao.h){case 1:nr(ao.i);break;case 2:Zr(ao.i);break;default:throw Error("Unexpected state: "+ao.h)}}var ao=this;this.g==null?lr.h(Ar):this.g.push(Ar),this.o=!0},Qt.resolve=kn,Qt.reject=function(nr){return new Qt(function(Zr,Ar){Ar(nr)})},Qt.race=function(nr){return new Qt(function(Zr,Ar){for(var ao=Ln(nr),Co=ao.next();!Co.done;Co=ao.next())kn(Co.value).J(Zr,Ar)})},Qt.all=function(nr){var Zr=Ln(nr),Ar=Zr.next();return Ar.done?kn([]):new Qt(function(ao,Co){function ss(Io){return function(Po){Zo[Io]=Po,eo--,eo==0&&ao(Zo)}}var Zo=[],eo=0;do Zo.push(void 0),eo++,kn(Ar.value).J(ss(Zo.length-1),Co),Ar=Zr.next();while(!Ar.done)})},Qt});function Xu(wt,Qt){wt instanceof String&&(wt+="");var mn=0,kn=!1,Kn={next:function(){if(!kn&&mn<wt.length){var lr=mn++;return{value:Qt(lr,wt[lr]),done:!1}}return kn=!0,{done:!0,value:void 0}}};return Kn[Symbol.iterator]=function(){return Kn},Kn}var Qp=typeof Object.assign=="function"?Object.assign:function(wt,Qt){for(var mn=1;mn<arguments.length;mn++){var kn=arguments[mn];if(kn)for(var Kn in kn)Object.prototype.hasOwnProperty.call(kn,Kn)&&(wt[Kn]=kn[Kn])}return wt};Rn("Object.assign",function(wt){return wt||Qp}),Rn("Object.is",function(wt){return wt||function(Qt,mn){return Qt===mn?Qt!==0||1/Qt===1/mn:Qt!==Qt&&mn!==mn}}),Rn("Array.prototype.includes",function(wt){return wt||function(Qt,mn){var kn=this;kn instanceof String&&(kn=String(kn));var Kn=kn.length;for(mn=mn||0,0>mn&&(mn=Math.max(mn+Kn,0));mn<Kn;mn++){var lr=kn[mn];if(lr===Qt||Object.is(lr,Qt))return!0}return!1}}),Rn("String.prototype.includes",function(wt){return wt||function(Qt,mn){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Qt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Qt,mn||0)!==-1}}),Rn("Array.prototype.keys",function(wt){return wt||function(){return Xu(this,function(Qt){return Qt})}});var xl=this||self;function Jo(wt,Qt){wt=wt.split(".");var mn=xl;wt[0]in mn||typeof mn.execScript>"u"||mn.execScript("var "+wt[0]);for(var kn;wt.length&&(kn=wt.shift());)wt.length||Qt===void 0?mn[kn]&&mn[kn]!==Object.prototype[kn]?mn=mn[kn]:mn=mn[kn]={}:mn[kn]=Qt}function Zl(wt){xl.setTimeout(function(){throw wt},0)}function Tu(wt){Zl(wt)}function ep(wt,Qt){Tu(Error("Invalid wire type: "+wt+" (at position "+Qt+")"))}function Rp(){Tu(Error("Failed to read varint, encoding is invalid."))}function cp(wt,Qt){return Qt=String.fromCharCode.apply(null,Qt),wt==null?Qt:wt+Qt}var Ap,Lu=typeof TextDecoder<"u",Uu,Pp=typeof TextEncoder<"u";function Ip(wt){if(Pp)wt=(Uu||(Uu=new TextEncoder)).encode(wt);else{var Qt=void 0;Qt=Qt===void 0?!1:Qt;for(var mn=0,kn=new Uint8Array(3*wt.length),Kn=0;Kn<wt.length;Kn++){var lr=wt.charCodeAt(Kn);if(128>lr)kn[mn++]=lr;else{if(2048>lr)kn[mn++]=lr>>6|192;else{if(55296<=lr&&57343>=lr){if(56319>=lr&&Kn<wt.length){var nr=wt.charCodeAt(++Kn);if(56320<=nr&&57343>=nr){lr=1024*(lr-55296)+nr-56320+65536,kn[mn++]=lr>>18|240,kn[mn++]=lr>>12&63|128,kn[mn++]=lr>>6&63|128,kn[mn++]=lr&63|128;continue}else Kn--}if(Qt)throw Error("Found an unpaired surrogate");lr=65533}kn[mn++]=lr>>12|224,kn[mn++]=lr>>6&63|128}kn[mn++]=lr&63|128}}wt=kn.subarray(0,mn)}return wt}var ru={},tu=null;function lp(wt){var Qt;Qt===void 0&&(Qt=0),Vl(),Qt=ru[Qt];for(var mn=Array(Math.floor(wt.length/3)),kn=Qt[64]||"",Kn=0,lr=0;Kn<wt.length-2;Kn+=3){var nr=wt[Kn],Zr=wt[Kn+1],Ar=wt[Kn+2],ao=Qt[nr>>2];nr=Qt[(nr&3)<<4|Zr>>4],Zr=Qt[(Zr&15)<<2|Ar>>6],Ar=Qt[Ar&63],mn[lr++]=ao+nr+Zr+Ar}switch(ao=0,Ar=kn,wt.length-Kn){case 2:ao=wt[Kn+1],Ar=Qt[(ao&15)<<2]||kn;case 1:wt=wt[Kn],mn[lr]=Qt[wt>>2]+Qt[(wt&3)<<4|ao>>4]+Ar+kn}return mn.join("")}function tp(wt){var Qt=wt.length,mn=3*Qt/4;mn%3?mn=Math.floor(mn):"=.".indexOf(wt[Qt-1])!=-1&&(mn="=.".indexOf(wt[Qt-2])!=-1?mn-2:mn-1);var kn=new Uint8Array(mn),Kn=0;return Xs(wt,function(lr){kn[Kn++]=lr}),kn.subarray(0,Kn)}function Xs(wt,Qt){function mn(Ar){for(;kn<wt.length;){var ao=wt.charAt(kn++),Co=tu[ao];if(Co!=null)return Co;if(!/^[\s\xa0]*$/.test(ao))throw Error("Unknown base64 encoding at char: "+ao)}return Ar}Vl();for(var kn=0;;){var Kn=mn(-1),lr=mn(0),nr=mn(64),Zr=mn(64);if(Zr===64&&Kn===-1)break;Qt(Kn<<2|lr>>4),nr!=64&&(Qt(lr<<4&240|nr>>2),Zr!=64&&Qt(nr<<6&192|Zr))}}function Vl(){if(!tu){tu={};for(var wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Qt=["+/=","+/","-_=","-_.","-_"],mn=0;5>mn;mn++){var kn=wt.concat(Qt[mn].split(""));ru[mn]=kn;for(var Kn=0;Kn<kn.length;Kn++){var lr=kn[Kn];tu[lr]===void 0&&(tu[lr]=Kn)}}}}var iu=typeof Uint8Array=="function",Os;function El(wt){if(this.g=wt,wt!==null&&wt.length===0)throw Error("ByteString should be constructed with non-empty values")}El.prototype.toJSON=function(){if(this.g==null)var wt="";else wt=this.g,wt=this.g=wt==null||typeof wt=="string"?wt:iu&&wt instanceof Uint8Array?lp(wt):null;return wt};var xu=typeof Uint8Array.prototype.slice=="function";function Kl(wt,Qt,mn){return Qt===mn?Os||(Os=new Uint8Array(0)):xu?wt.slice(Qt,mn):new Uint8Array(wt.subarray(Qt,mn))}var bs=0,na=0;function Gl(wt){if(wt.constructor===Uint8Array)return wt;if(wt.constructor===ArrayBuffer)return new Uint8Array(wt);if(wt.constructor===Array)return new Uint8Array(wt);if(wt.constructor===String)return tp(wt);if(wt.constructor===El){if(wt.g==null)var Qt=Os||(Os=new Uint8Array(0));else{Qt=Uint8Array;var mn=wt.g;mn=mn==null||iu&&mn!=null&&mn instanceof Uint8Array?mn:typeof mn=="string"?tp(mn):null,wt=wt.g=mn,Qt=new Qt(wt)}return Qt}if(wt instanceof Uint8Array)return new Uint8Array(wt.buffer,wt.byteOffset,wt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function as(wt,Qt){Qt=Qt===void 0?{}:Qt,Qt=Qt.u===void 0?!1:Qt.u,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.u=Qt,wt&&Ol(this,wt)}function Ol(wt,Qt){wt.h=Gl(Qt),wt.l=0,wt.i=wt.h.length,wt.g=wt.l}as.prototype.reset=function(){this.g=this.l};function ms(wt){wt.g>wt.i&&(wt.j=!0,Tu(Error("Tried to read past the end of the data "+wt.g+" > "+wt.i)))}function Js(wt){var Qt=wt.h,mn=Qt[wt.g],kn=mn&127;return 128>mn?(wt.g+=1,ms(wt),kn):(mn=Qt[wt.g+1],kn|=(mn&127)<<7,128>mn?(wt.g+=2,ms(wt),kn):(mn=Qt[wt.g+2],kn|=(mn&127)<<14,128>mn?(wt.g+=3,ms(wt),kn):(mn=Qt[wt.g+3],kn|=(mn&127)<<21,128>mn?(wt.g+=4,ms(wt),kn):(mn=Qt[wt.g+4],kn|=(mn&15)<<28,128>mn?(wt.g+=5,ms(wt),kn>>>0):(wt.g+=5,128<=Qt[wt.g++]&&128<=Qt[wt.g++]&&128<=Qt[wt.g++]&&128<=Qt[wt.g++]&&128<=Qt[wt.g++]?(wt.j=!0,Rp(),kn):(ms(wt),kn))))))}var Nl=[];function du(){this.g=new Uint8Array(64),this.h=0}function $a(wt,Qt){if(!(wt.h+1<wt.g.length)){var mn=wt.g;wt.g=new Uint8Array(Math.ceil(1+2*wt.g.length)),wt.g.set(mn)}wt.g[wt.h++]=Qt}du.prototype.length=function(){return this.h},du.prototype.end=function(){var wt=this.g,Qt=this.h;return this.h=0,Kl(wt,0,Qt)};function gs(wt,Qt){for(;127<Qt;)$a(wt,Qt&127|128),Qt>>>=7;$a(wt,Qt)}function nu(wt){var Qt={},mn=Qt.N===void 0?!1:Qt.N;this.m={u:Qt.u===void 0?!1:Qt.u},this.N=mn,Qt=this.m,Nl.length?(mn=Nl.pop(),Qt&&(mn.u=Qt.u),wt&&Ol(mn,wt),wt=mn):wt=new as(wt,Qt),this.g=wt,this.l=this.g.g,this.h=this.i=-1,this.j=!1}nu.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function ou(wt){var Qt=wt.g;if((Qt=Qt.g==Qt.i)||(Qt=wt.j)||(Qt=wt.g,Qt=Qt.j||0>Qt.g||Qt.g>Qt.i),Qt)return!1;wt.l=wt.g.g;var mn=Js(wt.g);return Qt=mn>>>3,mn&=7,0<=mn&&5>=mn?(wt.i=Qt,wt.h=mn,!0):(wt.j=!0,ep(mn,wt.l),!1)}function Al(wt){switch(wt.h){case 0:if(wt.h!=0)Al(wt);else e:{wt=wt.g;for(var Qt=wt.g,mn=0;10>mn;mn++){if(!(wt.h[Qt]&128)){wt.g=Qt+1,ms(wt);break e}Qt++}wt.j=!0,Rp()}break;case 1:wt=wt.g,wt.g+=8,ms(wt);break;case 2:wt.h!=2?Al(wt):(Qt=Js(wt.g),wt=wt.g,wt.g+=Qt,ms(wt));break;case 5:wt=wt.g,wt.g+=4,ms(wt);break;case 3:Qt=wt.i;do{if(!ou(wt)){wt.j=!0,Tu(Error("Unmatched start-group tag: stream EOF"));break}if(wt.h==4){wt.i!=Qt&&(wt.j=!0,Tu(Error("Unmatched end-group tag")));break}Al(wt)}while(1);break;default:wt.j=!0,ep(wt.h,wt.l)}}function np(wt,Qt,mn){wt.N||(wt=Kl(wt.g.h,mn,wt.g.g),(mn=Qt.m)?mn.push(wt):Qt.m=[wt])}var Ru=[];function su(){this.h=[],this.i=0,this.g=new du}function Iu(wt,Qt){Qt.length!==0&&(wt.h.push(Qt),wt.i+=Qt.length)}function ga(wt,Qt,mn){gs(wt.g,8*Qt+2),gs(wt.g,mn.length),Iu(wt,wt.g.end()),Iu(wt,mn)}var Pl=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function ba(wt,Qt){Object.isFrozen(wt)||(Pl?wt[Pl]|=Qt:wt.g!==void 0?wt.g|=Qt:Object.defineProperties(wt,{g:{value:Qt,configurable:!0,writable:!0,enumerable:!1}}))}function As(wt){if(!wt)return 0;var Qt;return Pl?Qt=wt[Pl]:Qt=wt.g,Qt??0}function au(wt){return Array.isArray(wt)&&ba(wt,1),wt}function xs(wt){if(!Array.isArray(wt))throw Error("cannot mark non-array as immutable");ba(wt,2)}function vs(wt){return wt!==null&&typeof wt=="object"&&wt.constructor===Object}function Vu(wt){switch(typeof wt){case"number":return isFinite(wt)?wt:String(wt);case"object":return iu&&wt!=null&&wt instanceof Uint8Array?lp(wt):wt;default:return wt}}function Us(wt,Qt){if(wt!=null)return Array.isArray(wt)||vs(wt)?Ko(wt,Qt):Qt(wt)}function Ko(wt,Qt){if(Array.isArray(wt)){for(var mn=Array(wt.length),kn=0;kn<wt.length;kn++)mn[kn]=Us(wt[kn],Qt);return As(wt)&1&&au(mn),mn}mn={};for(kn in wt)mn[kn]=Us(wt[kn],Qt);return mn}var Ao;function ks(wt,Qt,mn){var kn=Ao;Ao=null,wt||(wt=kn),kn=this.constructor.ca,wt||(wt=kn?[kn]:[]),this.j=(kn?0:-1)-(this.constructor.aa||0),this.i=null,this.g=wt;e:{if(kn=this.g.length,wt=kn-1,kn&&(kn=this.g[wt],vs(kn))){this.l=wt-this.j,this.h=kn;break e}Qt!==void 0&&-1<Qt?(this.l=Math.max(Qt,wt+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(mn)for(Qt=0;Qt<mn.length;Qt++)wt=mn[Qt],wt<this.l?(wt+=this.j,(kn=this.g[wt])?au(kn):this.g[wt]=Ml):(Rs(this),(kn=this.h[wt])?au(kn):this.h[wt]=Ml)}var Ml=Object.freeze(au([]));function Rs(wt){var Qt=wt.l+wt.j;wt.g[Qt]||(wt.h=wt.g[Qt]={})}function Ls(wt,Qt,mn){return Qt===-1?null:mn!==void 0&&mn||Qt>=wt.l?wt.h?wt.h[Qt]:void 0:wt.g[Qt+wt.j]}function Vr(wt,Qt,mn){mn=mn===void 0?!0:mn;var kn=kn===void 0?!1:kn,Kn=Ls(wt,Qt,kn);return Kn==null&&(Kn=Ml),Kn===Ml?(Kn=au([]),Kr(wt,Qt,Kn,kn)):mn&&Array.isArray(Kn)&&As(Kn)&2&&(Kn=Kn.slice(),Kr(wt,Qt,Kn,kn)),Kn}function Gr(wt,Qt,mn){return wt=Ls(wt,Qt),wt=wt==null?wt:+wt,wt??(mn===void 0?0:mn)}function Kr(wt,Qt,mn,kn){kn!==void 0&&kn||Qt>=wt.l?(Rs(wt),wt.h[Qt]=mn):wt.g[Qt+wt.j]=mn}function ys(wt,Qt,mn){wt.i||(wt.i={});var kn=wt.i[mn];if(!kn){var Kn=Vr(wt,mn,!1);kn=[];for(var lr=Array.isArray(Kn)?!!(As(Kn)&2):!1,nr=0;nr<Kn.length;nr++)kn[nr]=new Qt(Kn[nr]),lr&&xs(kn[nr].g);lr&&(xs(kn),Object.freeze(kn)),wt.i[mn]=kn}return kn}function Gs(wt,Qt,mn,kn,Kn){var lr=ys(wt,kn,Qt);mn=mn||new kn,wt=Vr(wt,Qt),Kn!=null?(lr.splice(Kn,0,mn),wt.splice(Kn,0,Ps(mn))):(lr.push(mn),wt.push(Ps(mn)))}ks.prototype.toJSON=function(){var wt=Ps(this);return Ko(wt,Vu)};function Ps(wt){if(wt.i)for(var Qt in wt.i){var mn=wt.i[Qt];if(Array.isArray(mn))for(var kn=0;kn<mn.length;kn++)mn[kn]&&Ps(mn[kn]);else mn&&Ps(mn)}return wt.g}ks.prototype.toString=function(){return Ps(this).toString()};function Mo(wt,Qt){return wt=Ls(wt,Qt),wt??0}function Bs(wt,Qt){return wt=Ls(wt,Qt),wt??""}function Fl(wt,Qt){if(wt=wt.m){Iu(Qt,Qt.g.end());for(var mn=0;mn<wt.length;mn++)Iu(Qt,wt[mn])}}function fu(wt){var Qt=wt[0];switch(wt.length){case 2:var mn=wt[1];return function(Ar,ao,Co){return Qt(Ar,ao,Co,mn)};case 3:var kn=wt[1],Kn=wt[2];return function(Ar,ao,Co){return Qt(Ar,ao,Co,kn,Kn)};case 4:var lr=wt[1],nr=wt[2],Zr=wt[3];return function(Ar,ao,Co){return Qt(Ar,ao,Co,lr,nr,Zr)};default:throw Error("unsupported number of parameters, expected [2-4], got "+wt.length)}}function pu(wt,Qt,mn){for(;ou(Qt)&&Qt.h!=4;){var kn=Qt.i,Kn=mn[kn];if(Kn){if(Array.isArray(Kn)&&(Kn=mn[kn]=fu(Kn)),!Kn(Qt,wt,kn)){kn=Qt,Kn=wt;var lr=kn.l;Al(kn),np(kn,Kn,lr)}}else kn=Qt,Kn=wt,lr=kn.l,Al(kn),np(kn,Kn,lr)}return wt}function Zu(wt,Qt){var mn=new su;if(Qt(wt,mn),wt=mn.i+mn.g.length(),wt===0)mn=new Uint8Array(0);else{wt=new Uint8Array(wt);for(var kn=mn.h,Kn=kn.length,lr=Qt=0;lr<Kn;lr++){var nr=kn[lr];nr.length!==0&&(wt.set(nr,Qt),Qt+=nr.length)}kn=mn.g,Kn=kn.h,Kn!==0&&(wt.set(kn.g.subarray(0,Kn),Qt),kn.h=0),mn.h=[wt],mn=wt}return mn}function Bu(wt,Qt,mn){if(Ru.length){var kn=Ru.pop();wt&&(Ol(kn.g,wt),kn.i=-1,kn.h=-1),wt=kn}else wt=new nu(wt);try{return mn(new Qt,wt)}finally{Qt=wt.g,Qt.h=null,Qt.l=0,Qt.i=0,Qt.g=0,Qt.j=!1,Qt.u=!1,wt.i=-1,wt.h=-1,wt.j=!1,100>Ru.length&&Ru.push(wt)}}function Wl(wt,Qt,mn){if(Qt=Ls(Qt,mn),Qt!=null){gs(wt.g,8*mn+5),wt=wt.g;var kn=Qt;kn=(mn=0>kn?1:0)?-kn:kn,kn===0?0<1/kn?bs=na=0:(na=0,bs=2147483648):isNaN(kn)?(na=0,bs=2147483647):34028234663852886e22<kn?(na=0,bs=(mn<<31|2139095040)>>>0):11754943508222875e-54>kn?(kn=Math.round(kn/Math.pow(2,-149)),na=0,bs=(mn<<31|kn)>>>0):(Qt=Math.floor(Math.log(kn)/Math.LN2),kn*=Math.pow(2,-Qt),kn=Math.round(8388608*kn),16777216<=kn&&++Qt,na=0,bs=(mn<<31|Qt+127<<23|kn&8388607)>>>0),mn=bs,$a(wt,mn>>>0&255),$a(wt,mn>>>8&255),$a(wt,mn>>>16&255),$a(wt,mn>>>24&255)}}function hu(wt,Qt,mn){if(wt.h!==5)return!1;wt=wt.g;var kn=wt.h[wt.g],Kn=wt.h[wt.g+1],lr=wt.h[wt.g+2],nr=wt.h[wt.g+3];return wt.g+=4,ms(wt),Kn=(kn<<0|Kn<<8|lr<<16|nr<<24)>>>0,wt=2*(Kn>>31)+1,kn=Kn>>>23&255,Kn&=8388607,Kr(Qt,mn,kn==255?Kn?NaN:1/0*wt:kn==0?wt*Math.pow(2,-149)*Kn:wt*Math.pow(2,kn-150)*(Kn+Math.pow(2,23))),!0}function _p(wt,Qt,mn){if(wt.h!==0)return!1;for(var kn=wt.g,Kn=128,lr=0,nr=wt=0;4>nr&&128<=Kn;nr++)Kn=kn.h[kn.g++],lr|=(Kn&127)<<7*nr;if(128<=Kn&&(Kn=kn.h[kn.g++],lr|=(Kn&127)<<28,wt|=(Kn&127)>>4),128<=Kn)for(nr=0;5>nr&&128<=Kn;nr++)Kn=kn.h[kn.g++],wt|=(Kn&127)<<7*nr+3;return 128>Kn?(kn=lr>>>0,Kn=wt>>>0,(wt=Kn&2147483648)&&(kn=~kn+1>>>0,Kn=~Kn>>>0,kn==0&&(Kn=Kn+1>>>0)),kn=4294967296*Kn+(kn>>>0),wt=wt?-kn:kn):(kn.j=!0,Rp(),wt=void 0),Kr(Qt,mn,wt),!0}function mu(wt,Qt,mn){return wt.h!==0?!1:(Kr(Qt,mn,Js(wt.g)),!0)}function Dl(wt,Qt,mn){if(wt.h!==2)return!1;var kn=Js(wt.g);wt=wt.g;var Kn=wt.g;wt.g+=kn,ms(wt),wt=wt.h;var lr;if(Lu)(lr=Ap)||(lr=Ap=new TextDecoder("utf-8",{fatal:!1})),lr=lr.decode(wt.subarray(Kn,Kn+kn));else{kn=Kn+kn;for(var nr=[],Zr=null,Ar,ao,Co;Kn<kn;)Ar=wt[Kn++],128>Ar?nr.push(Ar):224>Ar?Kn>=kn?nr.push(65533):(ao=wt[Kn++],194>Ar||(ao&192)!==128?(Kn--,nr.push(65533)):nr.push((Ar&31)<<6|ao&63)):240>Ar?Kn>=kn-1?nr.push(65533):(ao=wt[Kn++],(ao&192)!==128||Ar===224&&160>ao||Ar===237&&160<=ao||((lr=wt[Kn++])&192)!==128?(Kn--,nr.push(65533)):nr.push((Ar&15)<<12|(ao&63)<<6|lr&63)):244>=Ar?Kn>=kn-2?nr.push(65533):(ao=wt[Kn++],(ao&192)!==128||(Ar<<28)+(ao-144)>>30||((lr=wt[Kn++])&192)!==128||((Co=wt[Kn++])&192)!==128?(Kn--,nr.push(65533)):(Ar=(Ar&7)<<18|(ao&63)<<12|(lr&63)<<6|Co&63,Ar-=65536,nr.push((Ar>>10&1023)+55296,(Ar&1023)+56320))):nr.push(65533),8192<=nr.length&&(Zr=cp(Zr,nr),nr.length=0);lr=cp(Zr,nr)}return Kr(Qt,mn,lr),!0}function Ju(wt,Qt,mn,kn,Kn){if(wt.h!==2)return!1;var lr=new kn,nr=wt.g.i,Zr=Js(wt.g),Ar=wt.g.g+Zr;if(wt.g.i=Ar,Kn(lr,wt),Kn=Ar-wt.g.g,Kn!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(Zr+" bytes, instead read "+(Zr-Kn)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return wt.g.g=Ar,wt.g.i=nr,Gs(Qt,mn,lr,kn,void 0),!0}function up(wt){ks.call(this,wt)}var Jl;qr(up,ks);function Mp(wt,Qt){var mn=Ls(wt,1);if(mn!=null&&mn!=null){gs(Qt.g,8);var kn=Qt.g;if(0<=mn)gs(kn,mn);else{for(var Kn=0;9>Kn;Kn++)$a(kn,mn&127|128),mn>>=7;$a(kn,1)}}Wl(Qt,wt,2),kn=Ls(wt,3),kn!=null&&ga(Qt,3,Ip(kn)),kn=Ls(wt,4),kn!=null&&ga(Qt,4,Ip(kn)),Fl(wt,Qt)}function gu(wt,Qt){return pu(wt,Qt,Jl||(Jl={1:mu,2:hu,3:Dl,4:Dl}))}function Qu(wt){ks.call(this,wt,-1,wu)}var vp;qr(Qu,ks),Qu.prototype.addClassification=function(wt,Qt){return Gs(this,1,wt,up,Qt),this};function Bp(wt,Qt){return pu(wt,Qt,vp||(vp={1:[Ju,up,gu]}))}var wu=[1];function yp(wt){ks.call(this,wt)}var am;qr(yp,ks);function cm(wt,Qt){Wl(Qt,wt,1),Wl(Qt,wt,2),Wl(Qt,wt,3),Wl(Qt,wt,4),Wl(Qt,wt,5),Fl(wt,Qt)}function bp(wt,Qt){return pu(wt,Qt,am||(am={1:hu,2:hu,3:hu,4:hu,5:hu}))}function wp(wt){ks.call(this,wt,-1,hn)}var Xt;qr(wp,ks);function ln(wt,Qt){return pu(wt,Qt,Xt||(Xt={1:[Ju,yp,bp]}))}var hn=[1];function _n(wt){ks.call(this,wt)}var Sr;qr(_n,ks);function Ur(wt,Qt){Wl(Qt,wt,1),Wl(Qt,wt,2),Wl(Qt,wt,3),Wl(Qt,wt,4),Wl(Qt,wt,5);var mn=Ls(wt,6);if(mn!=null&&mn!=null){gs(Qt.g,48);var kn=Qt.g,Kn=mn;mn=0>Kn,Kn=Math.abs(Kn);var lr=Kn>>>0;for(Kn=Math.floor((Kn-lr)/4294967296),Kn>>>=0,mn&&(Kn=~Kn>>>0,lr=(~lr>>>0)+1,4294967295<lr&&(lr=0,Kn++,4294967295<Kn&&(Kn=0))),bs=lr,na=Kn,mn=bs,lr=na;0<lr||127<mn;)$a(kn,mn&127|128),mn=(mn>>>7|lr<<25)>>>0,lr>>>=7;$a(kn,mn)}Fl(wt,Qt)}function br(wt,Qt){return pu(wt,Qt,Sr||(Sr={1:hu,2:hu,3:hu,4:hu,5:hu,6:_p}))}function Mr(wt,Qt,mn){if(mn=wt.createShader(mn===0?wt.VERTEX_SHADER:wt.FRAGMENT_SHADER),wt.shaderSource(mn,Qt),wt.compileShader(mn),!wt.getShaderParameter(mn,wt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+wt.getShaderInfoLog(mn));return mn}function io(wt){return ys(wt,up,1).map(function(Qt){return{index:Mo(Qt,1),X:Gr(Qt,2),label:Ls(Qt,3)!=null?Bs(Qt,3):void 0,displayName:Ls(Qt,4)!=null?Bs(Qt,4):void 0}})}function Vo(wt){return{x:Gr(wt,1),y:Gr(wt,2),z:Gr(wt,3),visibility:Ls(wt,4)!=null?Gr(wt,4):void 0}}function os(wt){return ys(Bu(wt,wp,ln),yp,1).map(Vo)}function Qo(wt,Qt){this.h=wt,this.g=Qt,this.l=0}function Ts(wt,Qt,mn){return es(wt,Qt),typeof wt.g.canvas.transferToImageBitmap=="function"?nt.resolve(wt.g.canvas.transferToImageBitmap()):mn?nt.resolve(wt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(wt.g.canvas):(wt.i===void 0&&(wt.i=document.createElement("canvas")),new nt(function(kn){wt.i.height=wt.g.canvas.height,wt.i.width=wt.g.canvas.width,wt.i.getContext("2d",{}).drawImage(wt.g.canvas,0,0,wt.g.canvas.width,wt.g.canvas.height),kn(wt.i)}))}function es(wt,Qt){var mn=wt.g;if(wt.m===void 0){var kn=Mr(mn,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Kn=Mr(mn,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),lr=mn.createProgram();if(mn.attachShader(lr,kn),mn.attachShader(lr,Kn),mn.linkProgram(lr),!mn.getProgramParameter(lr,mn.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+mn.getProgramInfoLog(lr));kn=wt.m=lr,mn.useProgram(kn),Kn=mn.getUniformLocation(kn,"sampler0"),wt.j={I:mn.getAttribLocation(kn,"aVertex"),H:mn.getAttribLocation(kn,"aTex"),da:Kn},wt.s=mn.createBuffer(),mn.bindBuffer(mn.ARRAY_BUFFER,wt.s),mn.enableVertexAttribArray(wt.j.I),mn.vertexAttribPointer(wt.j.I,2,mn.FLOAT,!1,0,0),mn.bufferData(mn.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),mn.STATIC_DRAW),mn.bindBuffer(mn.ARRAY_BUFFER,null),wt.o=mn.createBuffer(),mn.bindBuffer(mn.ARRAY_BUFFER,wt.o),mn.enableVertexAttribArray(wt.j.H),mn.vertexAttribPointer(wt.j.H,2,mn.FLOAT,!1,0,0),mn.bufferData(mn.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),mn.STATIC_DRAW),mn.bindBuffer(mn.ARRAY_BUFFER,null),mn.uniform1i(Kn,0)}kn=wt.j,mn.useProgram(wt.m),mn.canvas.width=Qt.width,mn.canvas.height=Qt.height,mn.viewport(0,0,Qt.width,Qt.height),mn.activeTexture(mn.TEXTURE0),wt.h.bindTexture2d(Qt.glName),mn.enableVertexAttribArray(kn.I),mn.bindBuffer(mn.ARRAY_BUFFER,wt.s),mn.vertexAttribPointer(kn.I,2,mn.FLOAT,!1,0,0),mn.enableVertexAttribArray(kn.H),mn.bindBuffer(mn.ARRAY_BUFFER,wt.o),mn.vertexAttribPointer(kn.H,2,mn.FLOAT,!1,0,0),mn.bindFramebuffer(mn.DRAW_FRAMEBUFFER?mn.DRAW_FRAMEBUFFER:mn.FRAMEBUFFER,null),mn.clearColor(0,0,0,0),mn.clear(mn.COLOR_BUFFER_BIT),mn.colorMask(!0,!0,!0,!0),mn.drawArrays(mn.TRIANGLE_FAN,0,4),mn.disableVertexAttribArray(kn.I),mn.disableVertexAttribArray(kn.H),mn.bindBuffer(mn.ARRAY_BUFFER,null),wt.h.bindTexture2d(0)}function Fo(wt){this.g=wt}var rs=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Ss(wt,Qt){return Qt+wt}function Ms(wt,Qt){window[wt]=Qt}function Hs(wt){var Qt=document.createElement("script");return Qt.setAttribute("src",wt),Qt.setAttribute("crossorigin","anonymous"),new nt(function(mn){Qt.addEventListener("load",function(){mn()},!1),Qt.addEventListener("error",function(){mn()},!1),document.body.appendChild(Qt)})}function Qs(){return po(function(wt){switch(wt.g){case 1:return wt.m=2,Er(wt,WebAssembly.instantiate(rs),4);case 4:wt.g=3,wt.m=0;break;case 2:return wt.m=0,wt.j=null,wt.return(!1);case 3:return wt.return(!0)}})}function Xl(wt){if(this.g=wt,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=wt&&wt.locateFile||Ss,typeof window=="object")var Qt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Qt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Qt,wt.options){Qt=Ln(Object.keys(wt.options));for(var mn=Qt.next();!mn.done;mn=Qt.next()){mn=mn.value;var kn=wt.options[mn].default;kn!==void 0&&(this.j[mn]=typeof kn=="function"?kn():kn)}}}Et=Xl.prototype,Et.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Ft(wt){var Qt,mn,kn,Kn,lr,nr,Zr,Ar,ao,Co,ss;return po(function(Zo){switch(Zo.g){case 1:return wt.R?(Qt=wt.g.files===void 0?[]:typeof wt.g.files=="function"?wt.g.files(wt.j):wt.g.files,Er(Zo,Qs(),2)):Zo.return();case 2:if(mn=Zo.h,typeof window=="object")return Ms("createMediapipeSolutionsWasm",{locateFile:wt.locateFile}),Ms("createMediapipeSolutionsPackedAssets",{locateFile:wt.locateFile}),nr=Qt.filter(function(eo){return eo.data!==void 0}),Zr=Qt.filter(function(eo){return eo.data===void 0}),Ar=nt.all(nr.map(function(eo){var Io=Fn(wt,eo.url);if(eo.path!==void 0){var Po=eo.path;Io=Io.then(function(Bo){return wt.overrideFile(Po,Bo),nt.resolve(Bo)})}return Io})),ao=nt.all(Zr.map(function(eo){return eo.simd===void 0||eo.simd&&mn||!eo.simd&&!mn?Hs(wt.locateFile(eo.url,wt.S)):nt.resolve()})).then(function(){var eo,Io,Po;return po(function(Bo){if(Bo.g==1)return eo=window.createMediapipeSolutionsWasm,Io=window.createMediapipeSolutionsPackedAssets,Po=wt,Er(Bo,eo(Io),2);Po.h=Bo.h,Bo.g=0})}),Co=function(){return po(function(eo){return wt.g.graph&&wt.g.graph.url?eo=Er(eo,Fn(wt,wt.g.graph.url),0):(eo.g=0,eo=void 0),eo})}(),Er(Zo,nt.all([ao,Ar,Co]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return kn=Qt.filter(function(eo){return eo.simd===void 0||eo.simd&&mn||!eo.simd&&!mn}).map(function(eo){return wt.locateFile(eo.url,wt.S)}),importScripts.apply(null,Un(kn)),Kn=wt,Er(Zo,createMediapipeSolutionsWasm(Module),6);case 6:Kn.h=Zo.h,wt.l=new OffscreenCanvas(1,1),wt.h.canvas=wt.l,lr=wt.h.GL.createContext(wt.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),wt.h.GL.makeContextCurrent(lr),Zo.g=4;break;case 7:if(wt.l=document.createElement("canvas"),ss=wt.l.getContext("webgl2",{}),!ss&&(ss=wt.l.getContext("webgl",{}),!ss))return alert("Failed to create WebGL canvas context when passing video frame."),Zo.return();wt.D=ss,wt.h.canvas=wt.l,wt.h.createContext(wt.l,!0,!0,{});case 4:wt.i=new wt.h.SolutionWasm,wt.R=!1,Zo.g=0}})}function Ht(wt){var Qt,mn,kn,Kn,lr,nr,Zr,Ar;return po(function(ao){if(ao.g==1){if(wt.g.graph&&wt.g.graph.url&&wt.P===wt.g.graph.url)return ao.return();if(wt.o=!0,!wt.g.graph||!wt.g.graph.url){ao.g=2;return}return wt.P=wt.g.graph.url,Er(ao,Fn(wt,wt.g.graph.url),3)}for(ao.g!=2&&(Qt=ao.h,wt.i.loadGraph(Qt)),mn=Ln(Object.keys(wt.B)),kn=mn.next();!kn.done;kn=mn.next())Kn=kn.value,wt.i.overrideFile(Kn,wt.B[Kn]);if(wt.B={},wt.g.listeners)for(lr=Ln(wt.g.listeners),nr=lr.next();!nr.done;nr=lr.next())Zr=nr.value,ar(wt,Zr);Ar=wt.j,wt.j={},wt.setOptions(Ar),ao.g=0})}Et.reset=function(){var wt=this;return po(function(Qt){wt.i&&(wt.i.reset(),wt.m={},wt.s={}),Qt.g=0})},Et.setOptions=function(wt,Qt){var mn=this;if(Qt=Qt||this.g.options){for(var kn=[],Kn=[],lr={},nr=Ln(Object.keys(wt)),Zr=nr.next();!Zr.done;lr={K:lr.K,L:lr.L},Zr=nr.next()){var Ar=Zr.value;Ar in this.j&&this.j[Ar]===wt[Ar]||(this.j[Ar]=wt[Ar],Zr=Qt[Ar],Zr!==void 0&&(Zr.onChange&&(lr.K=Zr.onChange,lr.L=wt[Ar],kn.push(function(ao){return function(){var Co;return po(function(ss){if(ss.g==1)return Er(ss,ao.K(ao.L),2);Co=ss.h,Co===!0&&(mn.o=!0),ss.g=0})}}(lr))),Zr.graphOptionXref&&(Ar={valueNumber:Zr.type===1?wt[Ar]:0,valueBoolean:Zr.type===0?wt[Ar]:!1,valueString:Zr.type===2?wt[Ar]:""},Zr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Zr.graphOptionXref),Ar),Kn.push(Zr))))}(kn.length!==0||Kn.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(Kn),this.v=(this.v===void 0?[]:this.v).concat(kn))}};function Kt(wt){var Qt,mn,kn,Kn,lr,nr,Zr;return po(function(Ar){switch(Ar.g){case 1:if(!wt.o)return Ar.return();if(!wt.v){Ar.g=2;break}Qt=Ln(wt.v),mn=Qt.next();case 3:if(mn.done){Ar.g=5;break}return kn=mn.value,Er(Ar,kn(),4);case 4:mn=Qt.next(),Ar.g=3;break;case 5:wt.v=void 0;case 2:if(wt.A){for(Kn=new wt.h.GraphOptionChangeRequestList,lr=Ln(wt.A),nr=lr.next();!nr.done;nr=lr.next())Zr=nr.value,Kn.push_back(Zr);wt.i.changeOptions(Kn),Kn.delete(),wt.A=void 0}wt.o=!1,Ar.g=0}})}Et.initialize=function(){var wt=this;return po(function(Qt){return Qt.g==1?Er(Qt,Ft(wt),2):Qt.g!=3?Er(Qt,Ht(wt),3):Er(Qt,Kt(wt),0)})};function Fn(wt,Qt){var mn,kn;return po(function(Kn){return Qt in wt.F?Kn.return(wt.F[Qt]):(mn=wt.locateFile(Qt,""),kn=fetch(mn).then(function(lr){return lr.arrayBuffer()}),wt.F[Qt]=kn,Kn.return(kn))})}Et.overrideFile=function(wt,Qt){this.i?this.i.overrideFile(wt,Qt):this.B[wt]=Qt},Et.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},Et.send=function(wt,Qt){var mn=this,kn,Kn,lr,nr,Zr,Ar,ao,Co,ss;return po(function(Zo){switch(Zo.g){case 1:return mn.g.inputs?(kn=1e3*(Qt??performance.now()),Er(Zo,mn.C,2)):Zo.return();case 2:return Er(Zo,mn.initialize(),3);case 3:for(Kn=new mn.h.PacketDataList,lr=Ln(Object.keys(wt)),nr=lr.next();!nr.done;nr=lr.next())if(Zr=nr.value,Ar=mn.g.inputs[Zr]){e:{var eo=wt[Zr];switch(Ar.type){case"video":var Io=mn.m[Ar.stream];if(Io||(Io=new Qo(mn.h,mn.D),mn.m[Ar.stream]=Io),Io.l===0&&(Io.l=Io.h.createTexture()),typeof HTMLVideoElement<"u"&&eo instanceof HTMLVideoElement)var Po=eo.videoWidth,Bo=eo.videoHeight;else typeof HTMLImageElement<"u"&&eo instanceof HTMLImageElement?(Po=eo.naturalWidth,Bo=eo.naturalHeight):(Po=eo.width,Bo=eo.height);Bo={glName:Io.l,width:Po,height:Bo},Po=Io.g,Po.canvas.width=Bo.width,Po.canvas.height=Bo.height,Po.activeTexture(Po.TEXTURE0),Io.h.bindTexture2d(Io.l),Po.texImage2D(Po.TEXTURE_2D,0,Po.RGBA,Po.RGBA,Po.UNSIGNED_BYTE,eo),Io.h.bindTexture2d(0),Io=Bo;break e;case"detections":for(Io=mn.m[Ar.stream],Io||(Io=new Fo(mn.h),mn.m[Ar.stream]=Io),Io.data||(Io.data=new Io.g.DetectionListData),Io.data.reset(eo.length),Bo=0;Bo<eo.length;++Bo){Po=eo[Bo];var zo=Io.data,At=zo.setBoundingBox,$t=Bo,gn=Po.T,wn=new _n;if(Kr(wn,1,gn.Y),Kr(wn,2,gn.Z),Kr(wn,3,gn.height),Kr(wn,4,gn.width),Kr(wn,5,gn.rotation),Kr(wn,6,gn.W),gn=Zu(wn,Ur),At.call(zo,$t,gn),Po.O)for(zo=0;zo<Po.O.length;++zo){wn=Po.O[zo];var Jn=!!wn.visibility;At=Io.data,$t=At.addNormalizedLandmark,gn=Bo,wn=Object.assign(Object.assign({},wn),{visibility:Jn?wn.visibility:0}),Jn=new yp,Kr(Jn,1,wn.x),Kr(Jn,2,wn.y),Kr(Jn,3,wn.z),wn.visibility&&Kr(Jn,4,wn.visibility),wn=Zu(Jn,cm),$t.call(At,gn,wn)}if(Po.M)for(zo=0;zo<Po.M.length;++zo)At=Io.data,$t=At.addClassification,gn=Bo,wn=Po.M[zo],Jn=new up,Kr(Jn,2,wn.X),wn.index&&Kr(Jn,1,wn.index),wn.label&&Kr(Jn,3,wn.label),wn.displayName&&Kr(Jn,4,wn.displayName),wn=Zu(Jn,Mp),$t.call(At,gn,wn)}Io=Io.data;break e;default:Io={}}}switch(ao=Io,Co=Ar.stream,Ar.type){case"video":Kn.pushTexture2d(Object.assign(Object.assign({},ao),{stream:Co,timestamp:kn}));break;case"detections":ss=ao,ss.stream=Co,ss.timestamp=kn,Kn.pushDetectionList(ss);break;default:throw Error("Unknown input config type: '"+Ar.type+"'")}}return mn.i.send(Kn),Er(Zo,mn.C,4);case 4:Kn.delete(),Zo.g=0}})};function ir(wt,Qt,mn){var kn,Kn,lr,nr,Zr,Ar,ao,Co,ss,Zo,eo,Io,Po,Bo;return po(function(zo){switch(zo.g){case 1:if(!mn)return zo.return(Qt);for(kn={},Kn=0,lr=Ln(Object.keys(mn)),nr=lr.next();!nr.done;nr=lr.next())Zr=nr.value,Ar=mn[Zr],typeof Ar!="string"&&Ar.type==="texture"&&Qt[Ar.stream]!==void 0&&++Kn;1<Kn&&(wt.G=!1),ao=Ln(Object.keys(mn)),nr=ao.next();case 2:if(nr.done){zo.g=4;break}if(Co=nr.value,ss=mn[Co],typeof ss=="string")return Po=kn,Bo=Co,Er(zo,Cr(wt,Co,Qt[ss]),14);if(Zo=Qt[ss.stream],ss.type==="detection_list"){if(Zo){for(var At=Zo.getRectList(),$t=Zo.getLandmarksList(),gn=Zo.getClassificationsList(),wn=[],Jn=0;Jn<At.size();++Jn){var Rt=Bu(At.get(Jn),_n,br);Rt={T:{Y:Gr(Rt,1),Z:Gr(Rt,2),height:Gr(Rt,3),width:Gr(Rt,4),rotation:Gr(Rt,5,0),W:Mo(Rt,6)},O:os($t.get(Jn)),M:io(Bu(gn.get(Jn),Qu,Bp))},wn.push(Rt)}At=wn}else At=[];kn[Co]=At,zo.g=7;break}if(ss.type==="proto_list"){if(Zo){for(At=Array(Zo.size()),$t=0;$t<Zo.size();$t++)At[$t]=Zo.get($t);Zo.delete()}else At=[];kn[Co]=At,zo.g=7;break}if(Zo===void 0){zo.g=3;break}if(ss.type==="float_list"){kn[Co]=Zo,zo.g=7;break}if(ss.type==="proto"){kn[Co]=Zo,zo.g=7;break}if(ss.type!=="texture")throw Error("Unknown output config type: '"+ss.type+"'");return eo=wt.s[Co],eo||(eo=new Qo(wt.h,wt.D),wt.s[Co]=eo),Er(zo,Ts(eo,Zo,wt.G),13);case 13:Io=zo.h,kn[Co]=Io;case 7:ss.transform&&kn[Co]&&(kn[Co]=ss.transform(kn[Co])),zo.g=3;break;case 14:Po[Bo]=zo.h;case 3:nr=ao.next(),zo.g=2;break;case 4:return zo.return(kn)}})}function Cr(wt,Qt,mn){var kn;return po(function(Kn){return typeof mn=="number"||mn instanceof Uint8Array||mn instanceof wt.h.Uint8BlobList?Kn.return(mn):mn instanceof wt.h.Texture2dDataOut?(kn=wt.s[Qt],kn||(kn=new Qo(wt.h,wt.D),wt.s[Qt]=kn),Kn.return(Ts(kn,mn,wt.G))):Kn.return(void 0)})}function ar(wt,Qt){for(var mn=Qt.name||"$",kn=[].concat(Un(Qt.wants)),Kn=new wt.h.StringList,lr=Ln(Qt.wants),nr=lr.next();!nr.done;nr=lr.next())Kn.push_back(nr.value);lr=wt.h.PacketListener.implement({onResults:function(Zr){for(var Ar={},ao=0;ao<Qt.wants.length;++ao)Ar[kn[ao]]=Zr.get(ao);var Co=wt.listeners[mn];Co&&(wt.C=ir(wt,Ar,Qt.outs).then(function(ss){ss=Co(ss);for(var Zo=0;Zo<Qt.wants.length;++Zo){var eo=Ar[kn[Zo]];typeof eo=="object"&&eo.hasOwnProperty&&eo.hasOwnProperty("delete")&&eo.delete()}ss&&(wt.C=ss)}))}}),wt.i.attachMultiListener(Kn,lr),Kn.delete()}Et.onResults=function(wt,Qt){this.listeners[Qt||"$"]=wt},Jo("Solution",Xl),Jo("OptionType",{BOOL:0,NUMBER:1,$:2,0:"BOOL",1:"NUMBER",2:"STRING"});function kr(wt){switch(wt===void 0&&(wt=0),wt){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function zr(wt){var Qt=this;wt=wt||{},this.g=new Xl({locateFile:wt.locateFile,files:function(mn){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:kr(mn.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:os},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:os},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(mn){var kn,Kn,lr;return po(function(nr){return nr.g==1?(kn=kr(mn),Kn="third_party/mediapipe/modules/pose_landmark/"+kn,Er(nr,Fn(Qt.g,kn),2)):(lr=nr.h,Qt.g.overrideFile(Kn,lr),nr.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}Et=zr.prototype,Et.reset=function(){this.g.reset()},Et.close=function(){return this.g.close(),nt.resolve()},Et.onResults=function(wt){this.g.onResults(wt)},Et.initialize=function(){var wt=this;return po(function(Qt){return Er(Qt,wt.g.initialize(),0)})},Et.send=function(wt,Qt){var mn=this;return po(function(kn){return Er(kn,mn.g.send(wt,Qt),0)})},Et.setOptions=function(wt){this.g.setOptions(wt)},Jo("Pose",zr),Jo("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),Jo("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),Jo("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),Jo("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),Jo("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),Jo("VERSION","0.5.1635988162")}).call(_l);const pm=class{constructor(){st(this,"mediapipeMap_",new Map)}getVersion(Et){switch(Et){case"face_detection":return Zp.VERSION;case"face_mesh":return fm.VERSION;case"hands":return Gu.VERSION;case"holistic":return gp.VERSION;case"objectron":return nm.VERSION;case"selfie_segmentation":return Wu.VERSION;case"pose":return _l.VERSION;default:return""}}initialize(Et){return new nt(async(St,xt)=>{if(Et.mediaPipeModelConfigArray.length==0){xt("no model was selected");return}for(let jt=0;jt<Et.mediaPipeModelConfigArray.length;jt++){const zt=Et.mediaPipeModelConfigArray[jt];if(this.mediapipeMap_.has(zt.modelType)){xt("setting same type is not supported");return}if(typeof zt.listener!="function"){xt(`[${zt.modelType}] ResultsListener must be provided`);return}let Rn;switch(zt.modelType){case"face_mesh":Rn=new fm.FaceMesh({locateFile:(Mn,Ln)=>(zt.assetsUri||pm.defaultAssetsBaseUrl+"face_mesh/"+this.getVersion("face_mesh"))+"/"+Mn});break;case"face_detection":Rn=new Zp.FaceDetection({locateFile:(Mn,Ln)=>(zt.assetsUri||pm.defaultAssetsBaseUrl+"face_detection/"+this.getVersion("face_detection"))+"/"+Mn});break;case"hands":Rn=new Gu.Hands({locateFile:(Mn,Ln)=>(zt.assetsUri||pm.defaultAssetsBaseUrl+"hands/"+this.getVersion("hands"))+"/"+Mn});break;case"holistic":Rn=new gp.Holistic({locateFile:(Mn,Ln)=>(zt.assetsUri||pm.defaultAssetsBaseUrl+"holistic/"+this.getVersion("holistic"))+"/"+Mn});break;case"objectron":Rn=new nm.Objectron({locateFile:(Mn,Ln)=>(zt.assetsUri||pm.defaultAssetsBaseUrl+"objectron/"+this.getVersion("objectron"))+"/"+Mn});break;case"selfie_segmentation":Rn=new Wu.SelfieSegmentation({locateFile:(Mn,Ln)=>(zt.assetsUri||pm.defaultAssetsBaseUrl+"selfie_segmentation/"+this.getVersion("selfie_segmentation"))+"/"+Mn});break;case"pose":Rn=new _l.Pose({locateFile:(Mn,Ln)=>(zt.assetsUri||pm.defaultAssetsBaseUrl+"pose/"+this.getVersion("pose"))+"/"+Mn});break;default:xt("unknown model type");return}Rn.onResults(zt.listener),zt.options&&Rn.setOptions(zt.options);try{await Rn.initialize(),this.mediapipeMap_.set(zt.modelType,Rn)}catch(Mn){xt(Mn);return}}St()})}close(Et){return new nt((St,xt)=>{let jt=[];if(Et){let zt=this.mediapipeMap_.get(Et);if(zt)this.mediapipeMap_.delete(Et),jt.push(zt.close());else{xt("model not exit");return}}else{for(const[zt,Rn]of this.mediapipeMap_.entries())jt.push(Rn.close());this.mediapipeMap_.clear()}nt.all(jt).then(()=>{St()}).catch(zt=>{xt(zt)})})}send(Et,St){return new nt((xt,jt)=>{let zt=[];if(St){let Rn=this.mediapipeMap_.get(St);if(Rn)zt.push(Rn.send({image:Et}));else{jt("model not exit");return}}else for(const[Rn,Mn]of this.mediapipeMap_.entries())zt.push(Mn.send({image:Et}));nt.all(zt).then(()=>{xt()}).catch(Rn=>{jt(Rn)})})}reset(Et){if(Et){let St=this.mediapipeMap_.get(Et);St&&typeof St.reset=="function"&&St.reset()}else for(const[St,xt]of this.mediapipeMap_.entries())xt&&typeof xt.reset=="function"&&xt.reset()}};let gm=pm;st(gm,"defaultAssetsBaseUrl","https://d3opqjmqzxf057.cloudfront.net/ml/mediapipe/");const Np=new WeakMap,js=new WeakMap,Cm=new WeakMap,Am=Symbol("anyProducer"),s0=nt.resolve(),zu=Symbol("listenerAdded"),Um=Symbol("listenerRemoved");let km=!1;function vm(Et){if(typeof Et!="string"&&typeof Et!="symbol")throw new TypeError("eventName must be a string or a symbol")}function Bm(Et){if(typeof Et!="function")throw new TypeError("listener must be a function")}function Tm(Et,St){const xt=js.get(Et);return xt.has(St)||xt.set(St,new Set),xt.get(St)}function Gm(Et,St){const xt=typeof St=="string"||typeof St=="symbol"?St:Am,jt=Cm.get(Et);return jt.has(xt)||jt.set(xt,new Set),jt.get(xt)}function w0(Et,St,xt){const jt=Cm.get(Et);if(jt.has(St))for(const zt of jt.get(St))zt.enqueue(xt);if(jt.has(Am)){const zt=nt.all([St,xt]);for(const Rn of jt.get(Am))Rn.enqueue(zt)}}function h0(Et,St){St=Array.isArray(St)?St:[St];let xt=!1,jt=()=>{},zt=[];const Rn={enqueue(Mn){zt.push(Mn),jt()},finish(){xt=!0,jt()}};for(const Mn of St)Gm(Et,Mn).add(Rn);return{async next(){return zt?zt.length===0?xt?(zt=void 0,this.next()):(await new nt(Mn=>{jt=Mn}),this.next()):{done:!1,value:await zt.shift()}:{done:!0}},async return(Mn){zt=void 0;for(const Ln of St)Gm(Et,Ln).delete(Rn);return jt(),arguments.length>0?{done:!0,value:await Mn}:{done:!0}},[Symbol.asyncIterator](){return this}}}function m0(Et){if(Et===void 0)return Lm;if(!Array.isArray(Et))throw new TypeError("`methodNames` must be an array of strings");for(const St of Et)if(!Lm.includes(St))throw typeof St!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${St} is not Emittery method`);return Et}const Fm=Et=>Et===zu||Et===Um;class ym{static mixin(St,xt){return xt=m0(xt),jt=>{if(typeof jt!="function")throw new TypeError("`target` must be function");for(const Mn of xt)if(jt.prototype[Mn]!==void 0)throw new Error(`The property \`${Mn}\` already exists on \`target\``);function zt(){return Object.defineProperty(this,St,{enumerable:!1,value:new ym}),this[St]}Object.defineProperty(jt.prototype,St,{enumerable:!1,get:zt});const Rn=Mn=>function(...Ln){return this[St][Mn](...Ln)};for(const Mn of xt)Object.defineProperty(jt.prototype,Mn,{enumerable:!1,value:Rn(Mn)});return jt}}static get isDebugEnabled(){if(typeof rt!="object")return km;const{env:St}=rt||{env:{}};return St.DEBUG==="emittery"||St.DEBUG==="*"||km}static set isDebugEnabled(St){km=St}constructor(St={}){Np.set(this,new Set),js.set(this,new Map),Cm.set(this,new Map),this.debug=St.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(xt,jt,zt,Rn)=>{try{Rn=JSON.stringify(Rn)}catch{Rn=`Object with the following keys failed to stringify: ${Object.keys(Rn).join(",")}`}typeof zt=="symbol"&&(zt=zt.toString());const Mn=new Date,Ln=`${Mn.getHours()}:${Mn.getMinutes()}:${Mn.getSeconds()}.${Mn.getMilliseconds()}`;console.log(`[${Ln}][emittery:${xt}][${jt}] Event Name: ${zt}
	data: ${Rn}`)})}logIfDebugEnabled(St,xt,jt){(ym.isDebugEnabled||this.debug.enabled)&&this.debug.logger(St,this.debug.name,xt,jt)}on(St,xt){Bm(xt),St=Array.isArray(St)?St:[St];for(const jt of St)vm(jt),Tm(this,jt).add(xt),this.logIfDebugEnabled("subscribe",jt,void 0),Fm(jt)||this.emit(zu,{eventName:jt,listener:xt});return this.off.bind(this,St,xt)}off(St,xt){Bm(xt),St=Array.isArray(St)?St:[St];for(const jt of St)vm(jt),Tm(this,jt).delete(xt),this.logIfDebugEnabled("unsubscribe",jt,void 0),Fm(jt)||this.emit(Um,{eventName:jt,listener:xt})}once(St){return new nt(xt=>{const jt=this.on(St,zt=>{jt(),xt(zt)})})}events(St){St=Array.isArray(St)?St:[St];for(const xt of St)vm(xt);return h0(this,St)}async emit(St,xt){vm(St),this.logIfDebugEnabled("emit",St,xt),w0(this,St,xt);const jt=Tm(this,St),zt=Np.get(this),Rn=[...jt],Mn=Fm(St)?[]:[...zt];await s0,await nt.all([...Rn.map(async Ln=>{if(jt.has(Ln))return Ln(xt)}),...Mn.map(async Ln=>{if(zt.has(Ln))return Ln(St,xt)})])}async emitSerial(St,xt){vm(St),this.logIfDebugEnabled("emitSerial",St,xt);const jt=Tm(this,St),zt=Np.get(this),Rn=[...jt],Mn=[...zt];await s0;for(const Ln of Rn)jt.has(Ln)&&await Ln(xt);for(const Ln of Mn)zt.has(Ln)&&await Ln(St,xt)}onAny(St){return Bm(St),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Np.get(this).add(St),this.emit(zu,{listener:St}),this.offAny.bind(this,St)}anyEvent(){return h0(this)}offAny(St){Bm(St),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(Um,{listener:St}),Np.get(this).delete(St)}clearListeners(St){St=Array.isArray(St)?St:[St];for(const xt of St)if(this.logIfDebugEnabled("clear",xt,void 0),typeof xt=="string"||typeof xt=="symbol"){Tm(this,xt).clear();const jt=Gm(this,xt);for(const zt of jt)zt.finish();jt.clear()}else{Np.get(this).clear();for(const jt of js.get(this).values())jt.clear();for(const jt of Cm.get(this).values()){for(const zt of jt)zt.finish();jt.clear()}}}listenerCount(St){St=Array.isArray(St)?St:[St];let xt=0;for(const jt of St){if(typeof jt=="string"){xt+=Np.get(this).size+Tm(this,jt).size+Gm(this,jt).size+Gm(this).size;continue}typeof jt<"u"&&vm(jt),xt+=Np.get(this).size;for(const zt of js.get(this).values())xt+=zt.size;for(const zt of Cm.get(this).values())xt+=zt.size}return xt}bindMethods(St,xt){if(typeof St!="object"||St===null)throw new TypeError("`target` must be an object");xt=m0(xt);for(const jt of xt){if(St[jt]!==void 0)throw new Error(`The property \`${jt}\` already exists on \`target\``);Object.defineProperty(St,jt,{enumerable:!1,value:this[jt].bind(this)})}}}const Lm=Object.getOwnPropertyNames(ym.prototype).filter(Et=>Et!=="constructor");Object.defineProperty(ym,"listenerAdded",{value:zu,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(ym,"listenerRemoved",{value:Um,writable:!1,enumerable:!0,configurable:!1});var bm=ym,hm=(Et=>(Et[Et.INIT=0]="INIT",Et[Et.FORWARD=1]="FORWARD",Et[Et.TERMINATE=2]="TERMINATE",Et))(hm||{});function Dm(Et){return[ImageBitmap,ReadableStream,WritableStream].some(St=>Et instanceof St)}let Hm=0;function Ym(Et,St,xt,jt,zt){const Rn=Hm++;return Et.postMessage({id:Rn,type:St,functionName:xt,args:jt},jt.filter(Mn=>Dm(Mn))),new nt(Mn=>{zt.set(Rn,Mn)})}async function g0(Et,St,xt){const jt=new St;if(jt.addEventListener("message",({data:zt})=>{var Rn;(Rn=xt.get(zt.id))==null||Rn(zt.result),xt.delete(zt.id)}),!await Ym(jt,hm.INIT,"",[Et.workerId],xt))throw"Failed to instantiate workerized class";return jt}async function Fu(Et,St,xt){const jt={};return Object.getOwnPropertyNames(Et.prototype).forEach(zt=>{jt[zt]=(...Rn)=>Ym(St,hm.FORWARD,zt,Rn,xt)}),jt.terminate=async(...zt)=>{const Rn=await Ym(St,hm.TERMINATE,"",zt,xt);return St.terminate(),jt.worker=void 0,Rn},jt.worker=St,jt}async function $u(Et,St){const xt=new Map,jt=await g0(Et,St,xt);return Fu(Et,jt,xt)}function zm(Et,St){const{id:xt}=Et,jt=Array.isArray(St)?St:[St];postMessage({id:xt,result:St},jt.filter(zt=>Dm(zt)))}async function O0(Et,St){const{functionName:xt,args:jt}=Et;if(!St.instance)throw"instance not initialized";if(!xt)throw"missing function name to call";if(!St.instance[xt])throw`undefined function [${xt}] in class ${St.instance.constructor.workerId}`;zm(Et,await St.instance[xt](...jt??[]))}function v0(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}const y0={};function Vm(Et,St){St.workerId=Et,v0()&&(y0[St.workerId]=St)}function A0(Et,St){if(!Et.args)throw"Missing className while initializing worker";const[xt]=Et.args,jt=y0[xt];if(jt)St.instance=new jt(Et.args.slice(1));else throw`unknown worker class ${xt}`;zm(Et,typeof St.instance!==void 0)}async function k0(Et,St){const{args:xt}=Et;if(!St.instance)throw"instance not initialized";let jt;St.instance.terminate&&(jt=await St.instance.terminate(...xt??[])),zm(Et,jt)}function L0(){const Et={};onmessage=async St=>{const xt=St.data;switch(xt.type){case hm.INIT:A0(xt,Et);break;case hm.FORWARD:O0(xt,Et);break;case hm.TERMINATE:k0(xt,Et);break}}}v0()&&L0();class xm{static async createVideoReadable(St){return new nt((xt,jt)=>{const zt=document.createElement("video");let Rn=new AbortController,Mn=new AbortController;zt.addEventListener("canplay",()=>{Rn.abort(),zt.muted=!0,zt.loop=!0,zt.play().then(()=>{try{const Ln=zt.captureStream(),Un=new MediaStreamTrackProcessor(Ln.getVideoTracks()[0]);xt(Un.readable)}catch(Ln){jt(Ln)}})},{once:!0,signal:Mn.signal}),zt.addEventListener("error",Ln=>{Mn.abort(),jt("loading error:"+Ln)},{once:!0,signal:Rn.signal}),zt.crossOrigin="anonymous",zt.src=St})}static async createImageCanvas(St){const xt=await(await fetch(St)).blob();return await createImageBitmap(xt)}}async function Zm(Et){return new nt(St=>{setTimeout(()=>{St()},Et)})}var jm=(Et=>(Et.PUSH="PUSH",Et.POP="POP",Et))(jm||{});class b0{constructor(St){st(this,"context"),st(this,"extension"),st(this,"queries",[]),st(this,"activeQuery"),this.context=St,this.extension=St.getExtension("EXT_disjoint_timer_query_webgl2")}start(){}stop(){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT)}pushContext(St){this.createQuery("PUSH",St)}popContext(St){this.createQuery("POP",St)}createQuery(St,xt){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT),this.activeQuery=this.context.createQuery(),this.context.beginQuery(this.extension.TIME_ELAPSED_EXT,this.activeQuery),this.queries.push({name:xt,action:St,query:this.activeQuery})}async getResolvedQueries(){const St=(await nt.all([...this.queries].map(xt=>this.resolveQuery(xt)))).filter(xt=>xt);for(let xt=1;xt<St.length;++xt)St[xt].timestamp+=St[xt-1].duration+St[xt-1].timestamp;return St}async resolveQuery(St){if(!await this.awaitQueryAvailable(St)){console.log("Unawaitable query",St);return}if(this.context.getParameter(this.extension.GPU_DISJOINT_EXT)){console.log("Disjointed query",St);return}return{...St,duration:this.context.getQueryParameter(St.query,this.context.QUERY_RESULT),timestamp:0}}async awaitQueryAvailable(St){for(let xt=0;xt<10;++xt){if(this.context.getQueryParameter(St.query,this.context.QUERY_RESULT_AVAILABLE))return St;await Zm(200)}}}/* @license twgl.js 5.2.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const Nm=5120,Xm=5121,Pm=5122,$m=5123,Km=5124,Jm=5125,Qm=5126,V0=32819,_m=32820,qm=33635,S0=5131,a0=33640,c0=35899,E0=35902,Pn=36269,An=34042,Dn={};{const Et=Dn;Et[Nm]=Int8Array,Et[Xm]=Uint8Array,Et[Pm]=Int16Array,Et[$m]=Uint16Array,Et[Km]=Int32Array,Et[Jm]=Uint32Array,Et[Qm]=Float32Array,Et[V0]=Uint16Array,Et[_m]=Uint16Array,Et[qm]=Uint16Array,Et[S0]=Uint16Array,Et[a0]=Uint32Array,Et[c0]=Uint32Array,Et[E0]=Uint32Array,Et[Pn]=Uint32Array,Et[An]=Uint32Array}function qt(Et){if(Et instanceof Int8Array)return Nm;if(Et instanceof Uint8Array||Et instanceof Uint8ClampedArray)return Xm;if(Et instanceof Int16Array)return Pm;if(Et instanceof Uint16Array)return $m;if(Et instanceof Int32Array)return Km;if(Et instanceof Uint32Array)return Jm;if(Et instanceof Float32Array)return Qm;throw new Error("unsupported typed array type")}function xn(Et){if(Et===Int8Array)return Nm;if(Et===Uint8Array||Et===Uint8ClampedArray)return Xm;if(Et===Int16Array)return Pm;if(Et===Uint16Array)return $m;if(Et===Int32Array)return Km;if(Et===Uint32Array)return Jm;if(Et===Float32Array)return Qm;throw new Error("unsupported typed array type")}function On(Et){const St=Dn[Et];if(!St)throw new Error("unknown gl type");return St}const $n=typeof SharedArrayBuffer<"u"?function(Et){return Et&&Et.buffer&&(Et.buffer instanceof ArrayBuffer||Et.buffer instanceof SharedArrayBuffer)}:function(Et){return Et&&Et.buffer&&Et.buffer instanceof ArrayBuffer};function Qn(...Et){console.error(...Et)}const hr=new Map;function yr(Et,St){if(!Et||typeof Et!="object")return!1;let xt=hr.get(St);xt||(xt=new WeakMap,hr.set(St,xt));let jt=xt.get(Et);if(jt===void 0){const zt=Object.prototype.toString.call(Et);jt=zt.substring(8,zt.length-1)===St,xt.set(Et,jt)}return jt}function pr(Et,St){return typeof WebGLBuffer<"u"&&yr(St,"WebGLBuffer")}function $o(Et,St){return typeof WebGLRenderbuffer<"u"&&yr(St,"WebGLRenderbuffer")}function fo(Et,St){return typeof WebGLTexture<"u"&&yr(St,"WebGLTexture")}function _i(Et,St){return typeof WebGLSampler<"u"&&yr(St,"WebGLSampler")}const $s=35044,Cu=34962,Lo=34963,eu=34660,Rm=5120,Mm=5121,s1=5122,a1=5123,ny=5124,ry=5125,G1=5126,F1={attribPrefix:""};function iy(Et,St,xt,jt,zt){Et.bindBuffer(St,xt),Et.bufferData(St,jt,zt||$s)}function D1(Et,St,xt,jt){if(pr(Et,St))return St;xt=xt||Cu;const zt=Et.createBuffer();return iy(Et,xt,zt,St,jt),zt}function j1(Et){return Et==="indices"}function oy(Et){return Et===Int8Array||Et===Uint8Array}function sy(Et){return Et.length?Et:Et.data}const ay=/coord|texture/i,cy=/color|colour/i;function ly(Et,St){let xt;if(ay.test(Et)?xt=2:cy.test(Et)?xt=4:xt=3,St%xt>0)throw new Error(`Can not guess numComponents for attribute '${Et}'. Tried ${xt} but ${St} values is not evenly divisible by ${xt}. You should specify it.`);return xt}function uy(Et,St,xt){return Et.numComponents||Et.size||ly(St,xt||sy(Et).length)}function X1(Et,St){if($n(Et))return Et;if($n(Et.data))return Et.data;Array.isArray(Et)&&(Et={data:Et});let xt=Et.type?c1(Et.type):void 0;return xt||(j1(St)?xt=Uint16Array:xt=Float32Array),new xt(Et.data)}function dy(Et){return typeof Et=="number"?Et:Et?xn(Et):G1}function c1(Et){return typeof Et=="number"?On(Et):Et||Float32Array}function fy(Et,St){return{buffer:St.buffer,numValues:2*3*4,type:dy(St.type),arrayType:c1(St.type)}}function py(Et,St){const xt=St.data||St,jt=c1(St.type),zt=xt*jt.BYTES_PER_ELEMENT,Rn=Et.createBuffer();return Et.bindBuffer(Cu,Rn),Et.bufferData(Cu,zt,St.drawType||$s),{buffer:Rn,numValues:xt,type:xn(jt),arrayType:jt}}function hy(Et,St,xt){const jt=X1(St,xt);return{arrayType:jt.constructor,buffer:D1(Et,jt,void 0,St.drawType),type:qt(jt),numValues:0}}function my(Et,St){const xt={};return Object.keys(St).forEach(function(jt){if(!j1(jt)){const zt=St[jt],Rn=zt.attrib||zt.name||zt.attribName||F1.attribPrefix+jt;if(zt.value){if(!Array.isArray(zt.value)&&!$n(zt.value))throw new Error("array.value is not array or typedarray");xt[Rn]={value:zt.value}}else{let Mn;zt.buffer&&zt.buffer instanceof WebGLBuffer?Mn=fy:typeof zt=="number"||typeof zt.data=="number"?Mn=py:Mn=hy;const{buffer:Ln,type:Un,numValues:wr,arrayType:Xr}=Mn(Et,zt,jt),Hr=zt.normalize!==void 0?zt.normalize:oy(Xr),Wo=uy(zt,jt,wr);xt[Rn]={buffer:Ln,numComponents:Wo,type:Un,normalize:Hr,stride:zt.stride||0,offset:zt.offset||0,divisor:zt.divisor===void 0?void 0:zt.divisor,drawType:zt.drawType}}}}),Et.bindBuffer(Cu,null),xt}function gy(Et,St){return St===Rm||St===Mm?1:St===s1||St===a1?2:St===ny||St===ry||St===G1?4:0}const l1=["position","positions","a_position"];function vy(Et,St){let xt,jt;for(jt=0;jt<l1.length&&(xt=l1[jt],!(xt in St||(xt=F1.attribPrefix+xt,xt in St)));++jt);jt===l1.length&&(xt=Object.keys(St)[0]);const zt=St[xt];if(!zt.buffer)return 1;Et.bindBuffer(Cu,zt.buffer);const Rn=Et.getBufferParameter(Cu,eu);Et.bindBuffer(Cu,null);const Mn=gy(Et,zt.type),Ln=Rn/Mn,Un=zt.numComponents||zt.size,wr=Ln/Un;if(wr%1!==0)throw new Error(`numComponents ${Un} not correct for length ${length}`);return wr}function yy(Et,St,xt){const jt=my(Et,St),zt=Object.assign({},xt||{});zt.attribs=Object.assign({},xt?xt.attribs:{},jt);const Rn=St.indices;if(Rn){const Mn=X1(Rn,"indices");zt.indices=D1(Et,Mn,Lo),zt.numElements=Mn.length,zt.elementType=qt(Mn)}else zt.numElements||(zt.numElements=vy(Et,zt.attribs));return zt}function Z0(Et){return!!Et.texStorage2D}const U1=function(){const Et={},St={};function xt(jt){const zt=jt.constructor.name;if(!Et[zt]){for(const Rn in jt)if(typeof jt[Rn]=="number"){const Mn=St[jt[Rn]];St[jt[Rn]]=Mn?`${Mn} | ${Rn}`:Rn}Et[zt]=!0}}return function(jt,zt){return xt(jt),St[zt]||(typeof zt=="number"?`0x${zt.toString(16)}`:zt)}}(),_g={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},N0=$n,B1=function(){let Et;return function(){return Et=Et||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),Et}}(),H1=6406,Wm=6407,_f=6408,Y1=6409,z1=6410,P0=6402,$1=34041,D0=33071,by=9728,Sy=9729,e0=3553,t0=34067,l0=32879,u0=35866,u1=34069,Ey=34070,Cy=34071,Ty=34072,xy=34073,Ry=34074,d1=10241,f1=10240,j0=10242,X0=10243,K1=32882,Iy=33082,wy=33083,Oy=33084,Ay=33085,p1=3317,J1=3314,Q1=32878,_1=3316,q1=3315,ev=32877,ky=37443,Ly=37441,Vy=37440,Zy=33321,Ny=36756,Py=33325,My=33326,Wy=33330,Gy=33329,Fy=33338,Dy=33337,jy=33340,Xy=33339,Uy=33323,By=36757,Hy=33327,Yy=33328,zy=33336,$y=33335,Ky=33332,Jy=33331,Qy=33334,_y=33333,qy=32849,_b=35905,e2=36194,t2=36758,n2=35898,r2=35901,i2=34843,o2=34837,s2=36221,a2=36239,c2=36215,l2=36233,u2=36209,d2=36227,f2=32856,p2=35907,h2=36759,m2=32855,g2=32854,v2=32857,y2=34842,b2=34836,S2=36220,E2=36238,C2=36975,T2=36214,x2=36232,R2=36226,I2=36208,w2=33189,O2=33190,A2=36012,k2=36013,L2=35056,n0=5120,Ku=5121,U0=5122,C0=5123,B0=5124,d0=5125,Kp=5126,tv=32819,nv=32820,rv=33635,Im=5131,M0=36193,h1=33640,V2=35899,Z2=35902,N2=36269,P2=34042,H0=33319,T0=33320,Y0=6403,x0=36244,R0=36248,f0=36249;let m1;function z0(Et){if(!m1){const St={};St[H1]={textureFormat:H1,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ku,Im,M0,Kp]},St[Y1]={textureFormat:Y1,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ku,Im,M0,Kp]},St[z1]={textureFormat:z1,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Ku,Im,M0,Kp]},St[Wm]={textureFormat:Wm,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Ku,Im,M0,Kp,rv]},St[_f]={textureFormat:_f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Ku,Im,M0,Kp,tv,nv]},St[P0]={textureFormat:P0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[d0,C0]},St[Zy]={textureFormat:Y0,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Ku]},St[Ny]={textureFormat:Y0,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[n0]},St[Py]={textureFormat:Y0,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Kp,Im]},St[My]={textureFormat:Y0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Kp]},St[Wy]={textureFormat:x0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ku]},St[Gy]={textureFormat:x0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[n0]},St[Ky]={textureFormat:x0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[C0]},St[Jy]={textureFormat:x0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[U0]},St[Qy]={textureFormat:x0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[d0]},St[_y]={textureFormat:x0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[B0]},St[Uy]={textureFormat:H0,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Ku]},St[By]={textureFormat:H0,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[n0]},St[Hy]={textureFormat:H0,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Kp,Im]},St[Yy]={textureFormat:H0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Kp]},St[zy]={textureFormat:T0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ku]},St[$y]={textureFormat:T0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[n0]},St[Fy]={textureFormat:T0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[C0]},St[Dy]={textureFormat:T0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[U0]},St[jy]={textureFormat:T0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[d0]},St[Xy]={textureFormat:T0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[B0]},St[qy]={textureFormat:Wm,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Ku]},St[_b]={textureFormat:Wm,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ku]},St[e2]={textureFormat:Wm,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Ku,rv]},St[t2]={textureFormat:Wm,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[n0]},St[n2]={textureFormat:Wm,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Kp,Im,V2]},St[r2]={textureFormat:Wm,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Kp,Im,Z2]},St[i2]={textureFormat:Wm,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Kp,Im]},St[o2]={textureFormat:Wm,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Kp]},St[s2]={textureFormat:R0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ku]},St[a2]={textureFormat:R0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[n0]},St[c2]={textureFormat:R0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[C0]},St[l2]={textureFormat:R0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[U0]},St[u2]={textureFormat:R0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[d0]},St[d2]={textureFormat:R0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[B0]},St[f2]={textureFormat:_f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ku]},St[p2]={textureFormat:_f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ku]},St[h2]={textureFormat:_f,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[n0]},St[m2]={textureFormat:_f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Ku,nv,h1]},St[g2]={textureFormat:_f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Ku,tv]},St[v2]={textureFormat:_f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[h1]},St[y2]={textureFormat:_f,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Kp,Im]},St[b2]={textureFormat:_f,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Kp]},St[S2]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ku]},St[E2]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[n0]},St[C2]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[h1]},St[T2]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[C0]},St[x2]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[U0]},St[R2]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[B0]},St[I2]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[d0]},St[w2]={textureFormat:P0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[C0,d0]},St[O2]={textureFormat:P0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[d0]},St[A2]={textureFormat:P0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Kp]},St[L2]={textureFormat:$1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[P2]},St[k2]={textureFormat:$1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[N2]},Object.keys(St).forEach(function(xt){const jt=St[xt];jt.bytesPerElementMap={},jt.bytesPerElement.forEach(function(zt,Rn){const Mn=jt.type[Rn];jt.bytesPerElementMap[Mn]=zt})}),m1=St}return m1[Et]}function M2(Et,St){const xt=z0(Et);if(!xt)throw"unknown internal format";const jt=xt.bytesPerElementMap[St];if(jt===void 0)throw"unknown internal format";return jt}function W0(Et){const St=z0(Et);if(!St)throw"unknown internal format";return{format:St.textureFormat,type:St.type[0]}}function iv(Et){return(Et&Et-1)===0}function W2(Et,St,xt,jt){if(!Z0(Et))return iv(St)&&iv(xt);const zt=z0(jt);if(!zt)throw"unknown internal format";return zt.colorRenderable&&zt.textureFilterable}function G2(Et){const St=z0(Et);if(!St)throw"unknown internal format";return St.textureFilterable}function F2(Et,St,xt){return N0(St)?qt(St):xt||Ku}function $0(Et,St,xt,jt,zt){if(zt%1!==0)throw"can't guess dimensions";if(!xt&&!jt){const Rn=Math.sqrt(zt/(St===t0?6:1));Rn%1===0?(xt=Rn,jt=Rn):(xt=zt,jt=1)}else if(jt){if(!xt&&(xt=zt/jt,xt%1))throw"can't guess dimensions"}else if(jt=zt/xt,jt%1)throw"can't guess dimensions";return{width:xt,height:jt}}function I0(Et,St){St.colorspaceConversion!==void 0&&Et.pixelStorei(ky,St.colorspaceConversion),St.premultiplyAlpha!==void 0&&Et.pixelStorei(Ly,St.premultiplyAlpha),St.flipY!==void 0&&Et.pixelStorei(Vy,St.flipY)}function ov(Et){Et.pixelStorei(p1,4),Z0(Et)&&(Et.pixelStorei(J1,0),Et.pixelStorei(Q1,0),Et.pixelStorei(_1,0),Et.pixelStorei(q1,0),Et.pixelStorei(ev,0))}function D2(Et,St,xt,jt){jt.minMag&&(xt.call(Et,St,d1,jt.minMag),xt.call(Et,St,f1,jt.minMag)),jt.min&&xt.call(Et,St,d1,jt.min),jt.mag&&xt.call(Et,St,f1,jt.mag),jt.wrap&&(xt.call(Et,St,j0,jt.wrap),xt.call(Et,St,X0,jt.wrap),(St===l0||_i(Et,St))&&xt.call(Et,St,K1,jt.wrap)),jt.wrapR&&xt.call(Et,St,K1,jt.wrapR),jt.wrapS&&xt.call(Et,St,j0,jt.wrapS),jt.wrapT&&xt.call(Et,St,X0,jt.wrapT),jt.minLod&&xt.call(Et,St,Iy,jt.minLod),jt.maxLod&&xt.call(Et,St,wy,jt.maxLod),jt.baseLevel&&xt.call(Et,St,Oy,jt.baseLevel),jt.maxLevel&&xt.call(Et,St,Ay,jt.maxLevel)}function sv(Et,St,xt){const jt=xt.target||e0;Et.bindTexture(jt,St),D2(Et,jt,Et.texParameteri,xt)}function j2(Et){return Et=Et||_g.textureColor,N0(Et)?Et:new Uint8Array([Et[0]*255,Et[1]*255,Et[2]*255,Et[3]*255])}function g1(Et,St,xt,jt,zt,Rn){xt=xt||_g.textureOptions,Rn=Rn||_f;const Mn=xt.target||e0;if(jt=jt||xt.width,zt=zt||xt.height,Et.bindTexture(Mn,St),W2(Et,jt,zt,Rn))Et.generateMipmap(Mn);else{const Ln=G2(Rn)?Sy:by;Et.texParameteri(Mn,d1,Ln),Et.texParameteri(Mn,f1,Ln),Et.texParameteri(Mn,j0,D0),Et.texParameteri(Mn,X0,D0)}}function G0(Et){return Et.auto===!0||Et.auto===void 0&&Et.level===void 0}function v1(Et,St){return St=St||{},St.cubeFaceOrder||[u1,Ey,Cy,Ty,xy,Ry]}function y1(Et,St){const xt=v1(Et,St).map(function(jt,zt){return{face:jt,ndx:zt}});return xt.sort(function(jt,zt){return jt.face-zt.face}),xt}function av(Et,St,xt,jt){jt=jt||_g.textureOptions;const zt=jt.target||e0,Rn=jt.level||0;let Mn=xt.width,Ln=xt.height;const Un=jt.internalFormat||jt.format||_f,wr=W0(Un),Xr=jt.format||wr.format,Hr=jt.type||wr.type;if(I0(Et,jt),Et.bindTexture(zt,St),zt===t0){const Wo=xt.width,Uo=xt.height;let $r,qr;if(Wo/6===Uo)$r=Uo,qr=[0,0,1,0,2,0,3,0,4,0,5,0];else if(Uo/6===Wo)$r=Wo,qr=[0,0,0,1,0,2,0,3,0,4,0,5];else if(Wo/3===Uo/2)$r=Wo/3,qr=[0,0,1,0,2,0,0,1,1,1,2,1];else if(Wo/2===Uo/3)$r=Wo/2,qr=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(xt.src?xt.src:xt.nodeName);const ns=B1();ns?(ns.canvas.width=$r,ns.canvas.height=$r,Mn=$r,Ln=$r,y1(Et,jt).forEach(function(qo){const Is=qr[qo.ndx*2+0]*$r,Er=qr[qo.ndx*2+1]*$r;ns.drawImage(xt,Is,Er,$r,$r,0,0,$r,$r),Et.texImage2D(qo.face,Rn,Un,Xr,Hr,ns.canvas)}),ns.canvas.width=1,ns.canvas.height=1):typeof createImageBitmap<"u"&&(Mn=$r,Ln=$r,y1(Et,jt).forEach(function(qo){const Is=qr[qo.ndx*2+0]*$r,Er=qr[qo.ndx*2+1]*$r;Et.texImage2D(qo.face,Rn,Un,$r,$r,0,Xr,Hr,null),createImageBitmap(xt,Is,Er,$r,$r,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(ju){I0(Et,jt),Et.bindTexture(zt,St),Et.texImage2D(qo.face,Rn,Un,Xr,Hr,ju),G0(jt)&&g1(Et,St,jt,Mn,Ln,Un)})}))}else if(zt===l0||zt===u0){const Wo=Math.min(xt.width,xt.height),Uo=Math.max(xt.width,xt.height),$r=Uo/Wo;if($r%1!==0)throw"can not compute 3D dimensions of element";const qr=xt.width===Uo?1:0,ns=xt.height===Uo?1:0;Et.pixelStorei(p1,1),Et.pixelStorei(J1,xt.width),Et.pixelStorei(Q1,0),Et.pixelStorei(ev,0),Et.texImage3D(zt,Rn,Un,Wo,Wo,Wo,0,Xr,Hr,null);for(let qo=0;qo<$r;++qo){const Is=qo*Wo*qr,Er=qo*Wo*ns;Et.pixelStorei(_1,Is),Et.pixelStorei(q1,Er),Et.texSubImage3D(zt,Rn,0,0,qo,Wo,Wo,1,Xr,Hr,xt)}ov(Et)}else Et.texImage2D(zt,Rn,Un,Xr,Hr,xt);G0(jt)&&g1(Et,St,jt,Mn,Ln,Un),sv(Et,St,jt)}function F0(){}function X2(Et){if(typeof document<"u"){const St=document.createElement("a");return St.href=Et,St.hostname===location.hostname&&St.port===location.port&&St.protocol===location.protocol}else{const St=new URL(location.href).origin;return new URL(Et,location.href).origin===St}}function U2(Et,St){return St===void 0&&!X2(Et)?"anonymous":St}function B2(Et,St,xt){xt=xt||F0;let jt;if(St=St!==void 0?St:_g.crossOrigin,St=U2(Et,St),typeof Image<"u"){jt=new Image,St!==void 0&&(jt.crossOrigin=St);const zt=function(){jt.removeEventListener("error",Rn),jt.removeEventListener("load",Mn),jt=null},Rn=function(){const Ln="couldn't load image: "+Et;Qn(Ln),xt(Ln,jt),zt()},Mn=function(){xt(null,jt),zt()};return jt.addEventListener("error",Rn),jt.addEventListener("load",Mn),jt.src=Et,jt}else if(typeof ImageBitmap<"u"){let zt,Rn;const Mn=function(){xt(zt,Rn)},Ln={};St&&(Ln.mode="cors"),fetch(Et,Ln).then(function(Un){if(!Un.ok)throw Un;return Un.blob()}).then(function(Un){return createImageBitmap(Un,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(Un){Rn=Un,setTimeout(Mn)}).catch(function(Un){zt=Un,setTimeout(Mn)}),jt=null}return jt}function cv(Et){return typeof ImageBitmap<"u"&&Et instanceof ImageBitmap||typeof ImageData<"u"&&Et instanceof ImageData||typeof HTMLElement<"u"&&Et instanceof HTMLElement}function b1(Et,St,xt){return cv(Et)?(setTimeout(function(){xt(null,Et)}),Et):B2(Et,St,xt)}function S1(Et,St,xt){xt=xt||_g.textureOptions;const jt=xt.target||e0;if(Et.bindTexture(jt,St),xt.color===!1)return;const zt=j2(xt.color);if(jt===t0)for(let Rn=0;Rn<6;++Rn)Et.texImage2D(u1+Rn,0,_f,1,1,0,_f,Ku,zt);else jt===l0||jt===u0?Et.texImage3D(jt,0,_f,1,1,1,0,_f,Ku,zt):Et.texImage2D(jt,0,_f,1,1,0,_f,Ku,zt)}function H2(Et,St,xt,jt){return jt=jt||F0,xt=xt||_g.textureOptions,S1(Et,St,xt),xt=Object.assign({},xt),b1(xt.src,xt.crossOrigin,function(zt,Rn){zt?jt(zt,St,Rn):(av(Et,St,Rn,xt),jt(null,St,Rn))})}function Y2(Et,St,xt,jt){jt=jt||F0;const zt=xt.src;if(zt.length!==6)throw"there must be 6 urls for a cubemap";const Rn=xt.level||0,Mn=xt.internalFormat||xt.format||_f,Ln=W0(Mn),Un=xt.format||Ln.format,wr=xt.type||Ku,Xr=xt.target||e0;if(Xr!==t0)throw"target must be TEXTURE_CUBE_MAP";S1(Et,St,xt),xt=Object.assign({},xt);let Hr=6;const Wo=[],Uo=v1(Et,xt);let $r;function qr(ns){return function(qo,Is){--Hr,qo?Wo.push(qo):Is.width!==Is.height?Wo.push("cubemap face img is not a square: "+Is.src):(I0(Et,xt),Et.bindTexture(Xr,St),Hr===5?v1().forEach(function(Er){Et.texImage2D(Er,Rn,Mn,Un,wr,Is)}):Et.texImage2D(ns,Rn,Mn,Un,wr,Is),G0(xt)&&Et.generateMipmap(Xr)),Hr===0&&jt(Wo.length?Wo:void 0,St,$r)}}$r=zt.map(function(ns,qo){return b1(ns,xt.crossOrigin,qr(Uo[qo]))})}function z2(Et,St,xt,jt){jt=jt||F0;const zt=xt.src,Rn=xt.internalFormat||xt.format||_f,Mn=W0(Rn),Ln=xt.format||Mn.format,Un=xt.type||Ku,wr=xt.target||u0;if(wr!==l0&&wr!==u0)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";S1(Et,St,xt),xt=Object.assign({},xt);let Xr=zt.length;const Hr=[];let Wo;const Uo=xt.level||0;let $r=xt.width,qr=xt.height;const ns=zt.length;let qo=!0;function Is(Er){return function(ju,ku){if(--Xr,ju)Hr.push(ju);else{if(I0(Et,xt),Et.bindTexture(wr,St),qo){qo=!1,$r=xt.width||ku.width,qr=xt.height||ku.height,Et.texImage3D(wr,Uo,Rn,$r,qr,ns,0,Ln,Un,null);for(let Tl=0;Tl<ns;++Tl)Et.texSubImage3D(wr,Uo,0,0,Tl,$r,qr,1,Ln,Un,ku)}else{let Tl=ku,Cs;(ku.width!==$r||ku.height!==qr)&&(Cs=B1(),Tl=Cs.canvas,Cs.canvas.width=$r,Cs.canvas.height=qr,Cs.drawImage(ku,0,0,$r,qr)),Et.texSubImage3D(wr,Uo,0,0,Er,$r,qr,1,Ln,Un,Tl),Cs&&Tl===Cs.canvas&&(Cs.canvas.width=0,Cs.canvas.height=0)}G0(xt)&&Et.generateMipmap(wr)}Xr===0&&jt(Hr.length?Hr:void 0,St,Wo)}}Wo=zt.map(function(Er,ju){return b1(Er,xt.crossOrigin,Is(ju))})}function $2(Et,St,xt,jt){jt=jt||_g.textureOptions;const zt=jt.target||e0;Et.bindTexture(zt,St);let Rn=jt.width,Mn=jt.height,Ln=jt.depth;const Un=jt.level||0,wr=jt.internalFormat||jt.format||_f,Xr=W0(wr),Hr=jt.format||Xr.format,Wo=jt.type||F2(Et,xt,Xr.type);if(N0(xt))xt instanceof Uint8ClampedArray&&(xt=new Uint8Array(xt.buffer));else{const ns=On(Wo);xt=new ns(xt)}const Uo=M2(wr,Wo),$r=xt.byteLength/Uo;if($r%1)throw"length wrong size for format: "+U1(Et,Hr);let qr;if(zt===l0||zt===u0)if(!Rn&&!Mn&&!Ln){const ns=Math.cbrt($r);if(ns%1!==0)throw"can't guess cube size of array of numElements: "+$r;Rn=ns,Mn=ns,Ln=ns}else Rn&&(!Mn||!Ln)?(qr=$0(Et,zt,Mn,Ln,$r/Rn),Mn=qr.width,Ln=qr.height):Mn&&(!Rn||!Ln)?(qr=$0(Et,zt,Rn,Ln,$r/Mn),Rn=qr.width,Ln=qr.height):(qr=$0(Et,zt,Rn,Mn,$r/Ln),Rn=qr.width,Mn=qr.height);else qr=$0(Et,zt,Rn,Mn,$r),Rn=qr.width,Mn=qr.height;if(ov(Et),Et.pixelStorei(p1,jt.unpackAlignment||1),I0(Et,jt),zt===t0){const ns=Uo/xt.BYTES_PER_ELEMENT,qo=$r/6*ns;y1(Et,jt).forEach(Is=>{const Er=qo*Is.ndx,ju=xt.subarray(Er,Er+qo);Et.texImage2D(Is.face,Un,wr,Rn,Mn,0,Hr,Wo,ju)})}else zt===l0||zt===u0?Et.texImage3D(zt,Un,wr,Rn,Mn,Ln,0,Hr,Wo,xt):Et.texImage2D(zt,Un,wr,Rn,Mn,0,Hr,Wo,xt);return{width:Rn,height:Mn,depth:Ln,type:Wo}}function K2(Et,St,xt){const jt=xt.target||e0;Et.bindTexture(jt,St);const zt=xt.level||0,Rn=xt.internalFormat||xt.format||_f,Mn=W0(Rn),Ln=xt.format||Mn.format,Un=xt.type||Mn.type;if(I0(Et,xt),jt===t0)for(let wr=0;wr<6;++wr)Et.texImage2D(u1+wr,zt,Rn,xt.width,xt.height,0,Ln,Un,null);else jt===l0||jt===u0?Et.texImage3D(jt,zt,Rn,xt.width,xt.height,xt.depth,0,Ln,Un,null):Et.texImage2D(jt,zt,Rn,xt.width,xt.height,0,Ln,Un,null)}function lv(Et,St,xt){xt=xt||F0,St=St||_g.textureOptions;const jt=Et.createTexture(),zt=St.target||e0;let Rn=St.width||1,Mn=St.height||1;const Ln=St.internalFormat||_f;Et.bindTexture(zt,jt),zt===t0&&(Et.texParameteri(zt,j0,D0),Et.texParameteri(zt,X0,D0));let Un=St.src;if(Un)if(typeof Un=="function"&&(Un=Un(Et,St)),typeof Un=="string")H2(Et,jt,St,xt);else if(N0(Un)||Array.isArray(Un)&&(typeof Un[0]=="number"||Array.isArray(Un[0])||N0(Un[0]))){const wr=$2(Et,jt,Un,St);Rn=wr.width,Mn=wr.height}else Array.isArray(Un)&&(typeof Un[0]=="string"||cv(Un[0]))?zt===t0?Y2(Et,jt,St,xt):z2(Et,jt,St,xt):(av(Et,jt,Un,St),Rn=Un.width,Mn=Un.height);else K2(Et,jt,St);return G0(St)&&g1(Et,jt,St,Rn,Mn,Ln),sv(Et,jt,St),jt}const E1=Qn;function uv(Et){return typeof document<"u"&&document.getElementById?document.getElementById(Et):null}const K0=33984,J0=34962,J2=34963,Q2=35713,_2=35714,q2=35632,e3=35633,t3=35981,dv=35718,n3=35721,r3=35971,i3=35382,o3=35396,s3=35398,a3=35392,c3=35395,Q0=5126,fv=35664,pv=35665,hv=35666,C1=5124,mv=35667,gv=35668,vv=35669,yv=35670,bv=35671,Sv=35672,Ev=35673,Cv=35674,Tv=35675,xv=35676,l3=35678,u3=35680,d3=35679,f3=35682,p3=35685,h3=35686,m3=35687,g3=35688,v3=35689,y3=35690,b3=36289,S3=36292,E3=36293,T1=5125,Rv=36294,Iv=36295,wv=36296,C3=36298,T3=36299,x3=36300,R3=36303,I3=36306,w3=36307,O3=36308,A3=36311,_0=3553,q0=34067,x1=32879,e1=35866,Ks={};function Ov(Et,St){return Ks[St].bindPoint}function k3(Et,St){return function(xt){Et.uniform1f(St,xt)}}function L3(Et,St){return function(xt){Et.uniform1fv(St,xt)}}function V3(Et,St){return function(xt){Et.uniform2fv(St,xt)}}function Z3(Et,St){return function(xt){Et.uniform3fv(St,xt)}}function N3(Et,St){return function(xt){Et.uniform4fv(St,xt)}}function Av(Et,St){return function(xt){Et.uniform1i(St,xt)}}function kv(Et,St){return function(xt){Et.uniform1iv(St,xt)}}function Lv(Et,St){return function(xt){Et.uniform2iv(St,xt)}}function Vv(Et,St){return function(xt){Et.uniform3iv(St,xt)}}function Zv(Et,St){return function(xt){Et.uniform4iv(St,xt)}}function P3(Et,St){return function(xt){Et.uniform1ui(St,xt)}}function M3(Et,St){return function(xt){Et.uniform1uiv(St,xt)}}function W3(Et,St){return function(xt){Et.uniform2uiv(St,xt)}}function G3(Et,St){return function(xt){Et.uniform3uiv(St,xt)}}function F3(Et,St){return function(xt){Et.uniform4uiv(St,xt)}}function D3(Et,St){return function(xt){Et.uniformMatrix2fv(St,!1,xt)}}function j3(Et,St){return function(xt){Et.uniformMatrix3fv(St,!1,xt)}}function X3(Et,St){return function(xt){Et.uniformMatrix4fv(St,!1,xt)}}function U3(Et,St){return function(xt){Et.uniformMatrix2x3fv(St,!1,xt)}}function B3(Et,St){return function(xt){Et.uniformMatrix3x2fv(St,!1,xt)}}function H3(Et,St){return function(xt){Et.uniformMatrix2x4fv(St,!1,xt)}}function Y3(Et,St){return function(xt){Et.uniformMatrix4x2fv(St,!1,xt)}}function z3(Et,St){return function(xt){Et.uniformMatrix3x4fv(St,!1,xt)}}function $3(Et,St){return function(xt){Et.uniformMatrix4x3fv(St,!1,xt)}}function rm(Et,St,xt,jt){const zt=Ov(Et,St);return Z0(Et)?function(Rn){let Mn,Ln;fo(Et,Rn)?(Mn=Rn,Ln=null):(Mn=Rn.texture,Ln=Rn.sampler),Et.uniform1i(jt,xt),Et.activeTexture(K0+xt),Et.bindTexture(zt,Mn),Et.bindSampler(xt,Ln)}:function(Rn){Et.uniform1i(jt,xt),Et.activeTexture(K0+xt),Et.bindTexture(zt,Rn)}}function im(Et,St,xt,jt,zt){const Rn=Ov(Et,St),Mn=new Int32Array(zt);for(let Ln=0;Ln<zt;++Ln)Mn[Ln]=xt+Ln;return Z0(Et)?function(Ln){Et.uniform1iv(jt,Mn),Ln.forEach(function(Un,wr){Et.activeTexture(K0+Mn[wr]);let Xr,Hr;fo(Et,Un)?(Xr=Un,Hr=null):(Xr=Un.texture,Hr=Un.sampler),Et.bindSampler(xt,Hr),Et.bindTexture(Rn,Xr)})}:function(Ln){Et.uniform1iv(jt,Mn),Ln.forEach(function(Un,wr){Et.activeTexture(K0+Mn[wr]),Et.bindTexture(Rn,Un)})}}Ks[Q0]={Type:Float32Array,size:4,setter:k3,arraySetter:L3},Ks[fv]={Type:Float32Array,size:8,setter:V3,cols:2},Ks[pv]={Type:Float32Array,size:12,setter:Z3,cols:3},Ks[hv]={Type:Float32Array,size:16,setter:N3,cols:4},Ks[C1]={Type:Int32Array,size:4,setter:Av,arraySetter:kv},Ks[mv]={Type:Int32Array,size:8,setter:Lv,cols:2},Ks[gv]={Type:Int32Array,size:12,setter:Vv,cols:3},Ks[vv]={Type:Int32Array,size:16,setter:Zv,cols:4},Ks[T1]={Type:Uint32Array,size:4,setter:P3,arraySetter:M3},Ks[Rv]={Type:Uint32Array,size:8,setter:W3,cols:2},Ks[Iv]={Type:Uint32Array,size:12,setter:G3,cols:3},Ks[wv]={Type:Uint32Array,size:16,setter:F3,cols:4},Ks[yv]={Type:Uint32Array,size:4,setter:Av,arraySetter:kv},Ks[bv]={Type:Uint32Array,size:8,setter:Lv,cols:2},Ks[Sv]={Type:Uint32Array,size:12,setter:Vv,cols:3},Ks[Ev]={Type:Uint32Array,size:16,setter:Zv,cols:4},Ks[Cv]={Type:Float32Array,size:32,setter:D3,rows:2,cols:2},Ks[Tv]={Type:Float32Array,size:48,setter:j3,rows:3,cols:3},Ks[xv]={Type:Float32Array,size:64,setter:X3,rows:4,cols:4},Ks[p3]={Type:Float32Array,size:32,setter:U3,rows:2,cols:3},Ks[h3]={Type:Float32Array,size:32,setter:H3,rows:2,cols:4},Ks[m3]={Type:Float32Array,size:48,setter:B3,rows:3,cols:2},Ks[g3]={Type:Float32Array,size:48,setter:z3,rows:3,cols:4},Ks[v3]={Type:Float32Array,size:64,setter:Y3,rows:4,cols:2},Ks[y3]={Type:Float32Array,size:64,setter:$3,rows:4,cols:3},Ks[l3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:_0},Ks[u3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:q0},Ks[d3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:x1},Ks[f3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:_0},Ks[b3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:e1},Ks[S3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:e1},Ks[E3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:q0},Ks[C3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:_0},Ks[T3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:x1},Ks[x3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:q0},Ks[R3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:e1},Ks[I3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:_0},Ks[w3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:x1},Ks[O3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:q0},Ks[A3]={Type:null,size:0,setter:rm,arraySetter:im,bindPoint:e1};function t1(Et,St){return function(xt){if(xt.value)switch(Et.disableVertexAttribArray(St),xt.value.length){case 4:Et.vertexAttrib4fv(St,xt.value);break;case 3:Et.vertexAttrib3fv(St,xt.value);break;case 2:Et.vertexAttrib2fv(St,xt.value);break;case 1:Et.vertexAttrib1fv(St,xt.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else Et.bindBuffer(J0,xt.buffer),Et.enableVertexAttribArray(St),Et.vertexAttribPointer(St,xt.numComponents||xt.size,xt.type||Q0,xt.normalize||!1,xt.stride||0,xt.offset||0),Et.vertexAttribDivisor&&Et.vertexAttribDivisor(St,xt.divisor||0)}}function r0(Et,St){return function(xt){if(xt.value)if(Et.disableVertexAttribArray(St),xt.value.length===4)Et.vertexAttrib4iv(St,xt.value);else throw new Error("The length of an integer constant value must be 4!");else Et.bindBuffer(J0,xt.buffer),Et.enableVertexAttribArray(St),Et.vertexAttribIPointer(St,xt.numComponents||xt.size,xt.type||C1,xt.stride||0,xt.offset||0),Et.vertexAttribDivisor&&Et.vertexAttribDivisor(St,xt.divisor||0)}}function n1(Et,St){return function(xt){if(xt.value)if(Et.disableVertexAttribArray(St),xt.value.length===4)Et.vertexAttrib4uiv(St,xt.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else Et.bindBuffer(J0,xt.buffer),Et.enableVertexAttribArray(St),Et.vertexAttribIPointer(St,xt.numComponents||xt.size,xt.type||T1,xt.stride||0,xt.offset||0),Et.vertexAttribDivisor&&Et.vertexAttribDivisor(St,xt.divisor||0)}}function R1(Et,St,xt){const jt=xt.size,zt=xt.count;return function(Rn){Et.bindBuffer(J0,Rn.buffer);const Mn=Rn.size||Rn.numComponents||jt,Ln=Mn/zt,Un=Rn.type||Q0,wr=Ks[Un].size*Mn,Xr=Rn.normalize||!1,Hr=Rn.offset||0,Wo=wr/zt;for(let Uo=0;Uo<zt;++Uo)Et.enableVertexAttribArray(St+Uo),Et.vertexAttribPointer(St+Uo,Ln,Un,Xr,wr,Hr+Wo*Uo),Et.vertexAttribDivisor&&Et.vertexAttribDivisor(St+Uo,Rn.divisor||0)}}const xp={};xp[Q0]={size:4,setter:t1},xp[fv]={size:8,setter:t1},xp[pv]={size:12,setter:t1},xp[hv]={size:16,setter:t1},xp[C1]={size:4,setter:r0},xp[mv]={size:8,setter:r0},xp[gv]={size:12,setter:r0},xp[vv]={size:16,setter:r0},xp[T1]={size:4,setter:n1},xp[Rv]={size:8,setter:n1},xp[Iv]={size:12,setter:n1},xp[wv]={size:16,setter:n1},xp[yv]={size:4,setter:r0},xp[bv]={size:8,setter:r0},xp[Sv]={size:12,setter:r0},xp[Ev]={size:16,setter:r0},xp[Cv]={size:4,setter:R1,count:2},xp[Tv]={size:9,setter:R1,count:3},xp[xv]={size:16,setter:R1,count:4};const K3=/ERROR:\s*\d+:(\d+)/gi;function J3(Et,St="",xt=0){const jt=[...St.matchAll(K3)],zt=new Map(jt.map((Rn,Mn)=>{const Ln=parseInt(Rn[1]),Un=jt[Mn+1],wr=Un?Un.index:St.length,Xr=St.substring(Rn.index,wr);return[Ln-1,Xr]}));return Et.split(`
`).map((Rn,Mn)=>{const Ln=zt.get(Mn);return`${Mn+1+xt}: ${Rn}${Ln?`

^^^ ${Ln}`:""}`}).join(`
`)}const Nv=/^[ \t]*\n/;function Pv(Et){let St=0;return Nv.test(Et)&&(St=1,Et=Et.replace(Nv,"")),{lineOffset:St,shaderSource:Et}}function Q3(Et,St){return Et.errorCallback(St),Et.callback&&setTimeout(()=>{Et.callback(`${St}
${Et.errors.join(`
`)}`)}),null}function _3(Et,St,xt,jt){if(jt=jt||E1,!Et.getShaderParameter(xt,Q2)){const zt=Et.getShaderInfoLog(xt),{lineOffset:Rn,shaderSource:Mn}=Pv(Et.getShaderSource(xt)),Ln=`${J3(Mn,zt,Rn)}
Error compiling ${U1(Et,St)}: ${zt}`;return jt(Ln),Ln}return""}function I1(Et,St,xt){let jt,zt,Rn;if(typeof St=="function"&&(xt=St,St=void 0),typeof Et=="function")xt=Et,Et=void 0;else if(Et&&!Array.isArray(Et)){const wr=Et;xt=wr.errorCallback,Et=wr.attribLocations,jt=wr.transformFeedbackVaryings,zt=wr.transformFeedbackMode,Rn=wr.callback}const Mn=xt||E1,Ln=[],Un={errorCallback(wr,...Xr){Ln.push(wr),Mn(wr,...Xr)},transformFeedbackVaryings:jt,transformFeedbackMode:zt,callback:Rn,errors:Ln};{let wr={};Array.isArray(Et)?Et.forEach(function(Xr,Hr){wr[Xr]=St?St[Hr]:Hr}):wr=Et||{},Un.attribLocations=wr}return Un}const q3=["VERTEX_SHADER","FRAGMENT_SHADER"];function eS(Et,St){if(St.indexOf("frag")>=0)return q2;if(St.indexOf("vert")>=0)return e3}function tS(Et,St,xt){const jt=Et.getAttachedShaders(St);for(const zt of jt)xt.has(zt)&&Et.deleteShader(zt);Et.deleteProgram(St)}const nS=(Et=0)=>new nt(St=>setTimeout(St,Et));function rS(Et,St,xt){const jt=Et.createProgram(),{attribLocations:zt,transformFeedbackVaryings:Rn,transformFeedbackMode:Mn}=I1(xt);for(let Ln=0;Ln<St.length;++Ln){let Un=St[Ln];if(typeof Un=="string"){const wr=uv(Un),Xr=wr?wr.text:Un;let Hr=Et[q3[Ln]];wr&&wr.type&&(Hr=eS(Et,wr.type)||Hr),Un=Et.createShader(Hr),Et.shaderSource(Un,Pv(Xr).shaderSource),Et.compileShader(Un),Et.attachShader(jt,Un)}}Object.entries(zt).forEach(([Ln,Un])=>Et.bindAttribLocation(jt,Un,Ln));{let Ln=Rn;Ln&&(Ln.attribs&&(Ln=Ln.attribs),Array.isArray(Ln)||(Ln=Object.keys(Ln)),Et.transformFeedbackVaryings(jt,Ln,Mn||t3))}return Et.linkProgram(jt),jt}function iS(Et,St,xt,jt,zt){const Rn=I1(xt,jt,zt),Mn=new Set(St),Ln=rS(Et,St,Rn);function Un(wr,Xr){const Hr=sS(wr,Xr,Rn.errorCallback);return Hr&&tS(wr,Xr,Mn),Hr}if(Rn.callback){oS(Et,Ln).then(()=>{const wr=Un(Et,Ln);Rn.callback(wr,wr?void 0:Ln)});return}return Un(Et,Ln)?void 0:Ln}async function oS(Et,St){const xt=Et.getExtension("KHR_parallel_shader_compile"),jt=xt?(Rn,Mn)=>Rn.getProgramParameter(Mn,xt.COMPLETION_STATUS_KHR):()=>!0;let zt=0;do await nS(zt),zt=1e3/60;while(!jt(Et,St))}function sS(Et,St,xt){if(xt=xt||E1,!Et.getProgramParameter(St,_2)){const jt=Et.getProgramInfoLog(St);xt(`Error in program linking: ${jt}`);const zt=Et.getAttachedShaders(St).map(Rn=>_3(Et,Et.getShaderParameter(Rn,Et.SHADER_TYPE),Rn,xt));return`${jt}
${zt.filter(Rn=>Rn).join(`
`)}`}}function aS(Et,St,xt,jt,zt){return iS(Et,St,xt,jt,zt)}function Mv(Et){const St=Et.name;return St.startsWith("gl_")||St.startsWith("webgl_")}const cS=/(\.|\[|]|\w+)/g,lS=Et=>Et>="0"&&Et<="9";function uS(Et,St,xt,jt){const zt=Et.split(cS).filter(Ln=>Ln!=="");let Rn=0,Mn="";for(;;){const Ln=zt[Rn++];Mn+=Ln;const Un=lS(Ln[0]),wr=Un?parseInt(Ln):Ln;if(Un&&(Mn+=zt[Rn++]),Rn===zt.length){xt[wr]=St;break}else{const Xr=zt[Rn++],Hr=Xr==="[",Wo=xt[wr]||(Hr?[]:{});xt[wr]=Wo,xt=Wo,jt[Mn]=jt[Mn]||function(Uo){return function($r){Wv(Uo,$r)}}(Wo),Mn+=Xr}}}function dS(Et,St){let xt=0;function jt(Ln,Un,wr){const Xr=Un.name.endsWith("[0]"),Hr=Un.type,Wo=Ks[Hr];if(!Wo)throw new Error(`unknown type: 0x${Hr.toString(16)}`);let Uo;if(Wo.bindPoint){const $r=xt;xt+=Un.size,Xr?Uo=Wo.arraySetter(Et,Hr,$r,wr,Un.size):Uo=Wo.setter(Et,Hr,$r,wr,Un.size)}else Wo.arraySetter&&Xr?Uo=Wo.arraySetter(Et,wr):Uo=Wo.setter(Et,wr);return Uo.location=wr,Uo}const zt={},Rn={},Mn=Et.getProgramParameter(St,dv);for(let Ln=0;Ln<Mn;++Ln){const Un=Et.getActiveUniform(St,Ln);if(Mv(Un))continue;let wr=Un.name;wr.endsWith("[0]")&&(wr=wr.substr(0,wr.length-3));const Xr=Et.getUniformLocation(St,Un.name);if(Xr){const Hr=jt(St,Un,Xr);zt[wr]=Hr,uS(wr,Hr,Rn,zt)}}return zt}function fS(Et,St){const xt={},jt=Et.getProgramParameter(St,r3);for(let zt=0;zt<jt;++zt){const Rn=Et.getTransformFeedbackVarying(St,zt);xt[Rn.name]={index:zt,type:Rn.type,size:Rn.size}}return xt}function pS(Et,St){const xt=Et.getProgramParameter(St,dv),jt=[],zt=[];for(let Ln=0;Ln<xt;++Ln){zt.push(Ln),jt.push({});const Un=Et.getActiveUniform(St,Ln);jt[Ln].name=Un.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(Ln){const Un=Ln[0],wr=Ln[1];Et.getActiveUniforms(St,zt,Et[Un]).forEach(function(Xr,Hr){jt[Hr][wr]=Xr})});const Rn={},Mn=Et.getProgramParameter(St,i3);for(let Ln=0;Ln<Mn;++Ln){const Un=Et.getActiveUniformBlockName(St,Ln),wr={index:Et.getUniformBlockIndex(St,Un),usedByVertexShader:Et.getActiveUniformBlockParameter(St,Ln,o3),usedByFragmentShader:Et.getActiveUniformBlockParameter(St,Ln,s3),size:Et.getActiveUniformBlockParameter(St,Ln,a3),uniformIndices:Et.getActiveUniformBlockParameter(St,Ln,c3)};wr.used=wr.usedByVertexShader||wr.usedByFragmentShader,Rn[Un]=wr}return{blockSpecs:Rn,uniformData:jt}}function Wv(Et,St){for(const xt in St){const jt=Et[xt];typeof jt=="function"?jt(St[xt]):Wv(Et[xt],St[xt])}}function Gv(Et,...St){const xt=Et.uniformSetters||Et,jt=St.length;for(let zt=0;zt<jt;++zt){const Rn=St[zt];if(Array.isArray(Rn)){const Mn=Rn.length;for(let Ln=0;Ln<Mn;++Ln)Gv(xt,Rn[Ln])}else for(const Mn in Rn){const Ln=xt[Mn];Ln&&Ln(Rn[Mn])}}}function hS(Et,St){const xt={},jt=Et.getProgramParameter(St,n3);for(let zt=0;zt<jt;++zt){const Rn=Et.getActiveAttrib(St,zt);if(Mv(Rn))continue;const Mn=Et.getAttribLocation(St,Rn.name),Ln=xp[Rn.type],Un=Ln.setter(Et,Mn,Ln);Un.location=Mn,xt[Rn.name]=Un}return xt}function mS(Et,St){for(const xt in St){const jt=Et[xt];jt&&jt(St[xt])}}function gS(Et,St,xt){xt.vertexArrayObject?Et.bindVertexArray(xt.vertexArrayObject):(mS(St.attribSetters||St,xt.attribs),xt.indices&&Et.bindBuffer(J2,xt.indices))}function Fv(Et,St){const xt=dS(Et,St),jt=hS(Et,St),zt={program:St,uniformSetters:xt,attribSetters:jt};return Z0(Et)&&(zt.uniformBlockSpec=pS(Et,St),zt.transformFeedbackInfo=fS(Et,St)),zt}const vS=/\s|{|}|;/;function yS(Et,St,xt,jt,zt){const Rn=I1(xt,jt,zt),Mn=[];if(St=St.map(function(wr){if(!vS.test(wr)){const Xr=uv(wr);if(Xr)wr=Xr.text;else{const Hr=`no element with id: ${wr}`;Rn.errorCallback(Hr),Mn.push(Hr)}}return wr}),Mn.length)return Q3(Rn,"");const Ln=Rn.callback;Ln&&(Rn.callback=(wr,Xr)=>{Ln(wr,wr?void 0:Fv(Et,Xr))});const Un=aS(Et,St,Rn);return Un?Fv(Et,Un):null}const bS=4,Dv=5123;function SS(Et,St,xt,jt,zt,Rn){xt=xt===void 0?bS:xt;const Mn=St.indices,Ln=St.elementType,Un=jt===void 0?St.numElements:jt;zt=zt===void 0?0:zt,Ln||Mn?Rn!==void 0?Et.drawElementsInstanced(xt,Un,Ln===void 0?Dv:St.elementType,zt,Rn):Et.drawElements(xt,Un,Ln===void 0?Dv:St.elementType,zt):Rn!==void 0?Et.drawArraysInstanced(xt,zt,Un,Rn):Et.drawArrays(xt,zt,Un)}const jv=36160,r1=36161,ES=3553,CS=5121,TS=6402,xS=6408,RS=33190,IS=36012,wS=35056,OS=36013,AS=32854,kS=32855,LS=36194,Xv=33189,Uv=6401,Bv=36168,w1=34041,O1=36064,i1=36096,Hv=36128,A1=33306,k1=33071,L1=9729,VS=[{format:xS,type:CS,min:L1,wrap:k1},{format:w1}],wm={};wm[w1]=A1,wm[Uv]=Hv,wm[Bv]=Hv,wm[TS]=i1,wm[Xv]=i1,wm[RS]=i1,wm[IS]=i1,wm[wS]=A1,wm[OS]=A1;function ZS(Et,St){return wm[Et]||wm[St]}const i0={};i0[AS]=!0,i0[kS]=!0,i0[LS]=!0,i0[w1]=!0,i0[Xv]=!0,i0[Uv]=!0,i0[Bv]=!0;function NS(Et){return i0[Et]}const PS=32;function WS(Et){return Et>=O1&&Et<O1+PS}function o1(Et,St,xt,jt){const zt=jv,Rn=Et.createFramebuffer();Et.bindFramebuffer(zt,Rn),xt=xt||Et.drawingBufferWidth,jt=jt||Et.drawingBufferHeight,St=St||VS;const Mn=[],Ln={framebuffer:Rn,attachments:[],width:xt,height:jt};return St.forEach(function(Un,wr){let Xr=Un.attachment;const Hr=Un.samples,Wo=Un.format;let Uo=Un.attachmentPoint||ZS(Wo,Un.internalFormat);if(Uo||(Uo=O1+wr),WS(Uo)&&Mn.push(Uo),!Xr)if(Hr!==void 0||NS(Wo))Xr=Et.createRenderbuffer(),Et.bindRenderbuffer(r1,Xr),Hr>1?Et.renderbufferStorageMultisample(r1,Hr,Wo,xt,jt):Et.renderbufferStorage(r1,Wo,xt,jt);else{const $r=Object.assign({},Un);$r.width=xt,$r.height=jt,$r.auto===void 0&&($r.auto=!1,$r.min=$r.min||$r.minMag||L1,$r.mag=$r.mag||$r.minMag||L1,$r.wrapS=$r.wrapS||$r.wrap||k1,$r.wrapT=$r.wrapT||$r.wrap||k1),Xr=lv(Et,$r)}if($o(Et,Xr))Et.framebufferRenderbuffer(zt,Uo,r1,Xr);else if(fo(Et,Xr))Un.layer!==void 0?Et.framebufferTextureLayer(zt,Uo,Xr,Un.level||0,Un.layer):Et.framebufferTexture2D(zt,Uo,Un.target||ES,Xr,Un.level||0);else throw new Error("unknown attachment type");Ln.attachments.push(Xr)}),Et.drawBuffers&&Et.drawBuffers(Mn),Ln}function GS(Et,St,xt){xt=xt||jv,St?(Et.bindFramebuffer(xt,St.framebuffer),Et.viewport(0,0,St.width,St.height)):(Et.bindFramebuffer(xt,null),Et.viewport(0,0,Et.drawingBufferWidth,Et.drawingBufferHeight))}function Du(Et,St){return()=>St instanceof WebGLTexture?St:lv(Et,{src:St,wrap:Et.CLAMP_TO_EDGE})}const Yv=2;class p0{constructor(St){st(this,"id","_"),st(this,"context"),st(this,"output"),st(this,"fbi"),st(this,"options"),st(this,"programInfo"),st(this,"bufferInfo"),st(this,"profiler"),st(this,"lastRun");const{context:xt,width:jt,height:zt}=St;this.context=xt,this.options=St;const Rn=this.buildDefines();this.programInfo=yS(this.context,[Rn+this.getVertexShader(),Rn+this.getFragmentShader()]),this.bufferInfo=yy(this.context,this.getBuffers()),this.fbi=o1(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],jt,zt),this.output=this.fbi.attachments[0]}resizeOutput(St,xt){this.fbi=o1(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],St,xt),this.options.width=St,this.options.height=xt,this.output=this.fbi.attachments[0]}getDefines(){return{}}getBuffers(){return{position:{numComponents:2,data:[-1,-1,-1,1,1,-1,1,1,-1,1,1,-1]},texture_coord:{numComponents:2,data:[0,0,0,1,1,0,1,1,0,1,1,0]}}}buildDefines(){let St="";const xt=this.getDefines();for(let jt in xt)St+=`#define ${jt} ${xt[jt].toFixed(1)}
`;return St}run(St){var xt,jt,zt,Rn,Mn,Ln;(xt=this.profiler)==null||xt.pushContext(`[${this.id}] PROG : ${this.constructor.name}`),(jt=this.profiler)==null||jt.pushContext(`[${this.id}] UNIFORMS`);for(const Xr in St)typeof St[Xr]=="function"&&((zt=this.profiler)==null||zt.pushContext(`[${this.id}] UNI : ${Xr}`),St[Xr]=St[Xr](),(Rn=this.profiler)==null||Rn.popContext(`[${this.id}] UNI : ${Xr}`));(Mn=this.profiler)==null||Mn.popContext(`[${this.id}] UNIFORMS`);const Un=Date.now();let wr=0;this.lastRun&&(wr=(Un-this.lastRun)/1e3),this.lastRun=Un,this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height),this.context.useProgram(this.programInfo.program),gS(this.context,this.programInfo,this.bufferInfo),Gv(this.programInfo,{delta:wr,canvas:[this.context.canvas.width,this.context.canvas.height],...St}),GS(this.context,this.options.disableFramebuffer?null:this.fbi),SS(this.context,this.bufferInfo),(Ln=this.profiler)==null||Ln.popContext(`[${this.id}] PROG : ${this.constructor.name}`)}setProfiler(St){this.profiler=St}}const FS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;
uniform sampler2D mask;

vec4 loop();

void main() { gl_FragColor = loop(); }
`,DS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class jS extends p0{getDefines(){var St;return{RADIUS:(St=this.options.radius)!=null?St:1}}getFragmentShader(){return FS+this.createLoopFunction()}getVertexShader(){return DS}createLoopFunction(){var St;let xt=(St=this.options.radius)!=null?St:1;return`

        vec4 loop() { 
            vec4 result = vec4(0,0,0,0);
            float factorSum = 0.;

            vec2 normalizedRadius = vec2(-${xt}.) / canvas;
            vec2 normalizedIncrement = vec2(1.) / canvas;
            vec2 diff = normalizedRadius;
            float maxLength = length(normalizedRadius);

            for(int y=-${xt}; y<${xt+1}; ++y) {
                for(int x=-${xt}; x<${xt+1}; ++x) {
                    float factor = (1.- texture2D(mask, _texture_coord + diff).a) * (maxLength - length(diff)) / maxLength;
                    result += factor * texture2D(texture, _texture_coord + diff);
                    factorSum += factor;
                    diff.x += normalizedIncrement.x;
                }
                diff.y += normalizedIncrement.y;
                diff.x = normalizedRadius.x;
            }
            return result / factorSum;
        }`}}const XS=`precision mediump float;

varying vec2 _texture_coord;

uniform sampler2D background;
uniform sampler2D foreground;
uniform sampler2D threshold;

void main() {
  vec4 backgroundColor = texture2D(background, _texture_coord);
  vec4 foregroundColor = texture2D(foreground, _texture_coord);
  vec4 tresholdColor = texture2D(threshold, _texture_coord);
  gl_FragColor = foregroundColor * tresholdColor.a +
                 backgroundColor * (1. - tresholdColor.a);
}
`,US=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
  _texture_coord.y = 1. - texture_coord.y;
}
`;class V1 extends p0{getFragmentShader(){return XS}getVertexShader(){return US}}class Z1{constructor(){st(this,"steps",[]),st(this,"profiler")}addStep(St){this.steps.push(St)}async run(){for(const St of this.steps)St.program.run(St.getUniforms())}resizeOutput(St,xt){var jt,zt;(jt=this.profiler)==null||jt.pushContext(`PIP [${this.constructor.name}]`);for(const Rn of this.steps)Rn.preventResize||Rn.program.resizeOutput(St,xt);(zt=this.profiler)==null||zt.popContext(`PIP [${this.constructor.name}]`)}setProfiler(St){this.profiler=St;for(const xt of this.steps)xt.program.setProfiler(St)}setId(St){for(const xt of this.steps)xt.program.id=St}}class N1 extends Z1{constructor(){super(...arguments),st(this,"preciseMaskEnabled",!1)}}const BS=10,HS=2,YS=8;class zS extends N1{constructor(St,xt){super(),st(this,"inputImage"),st(this,"inputMask"),st(this,"blur"),this.context=St,this.radius=xt;const jt={context:St,height:St.canvas.height,width:St.canvas.width};this.blur=new jS({...jt,radius:xt,...this.getBlurTextureSize(St.canvas.width,St.canvas.height)});const zt=new V1({...jt,disableFramebuffer:!0});this.addStep({program:this.blur,preventResize:!0,getUniforms:()=>({texture:Du(St,this.inputImage),mask:Du(St,this.inputMask)})}),this.addStep({program:zt,getUniforms:()=>({background:Du(St,this.blur.output),foreground:Du(St,this.inputImage),threshold:Du(St,this.inputMask)})})}getBlurTextureSize(St,xt){const jt=this.radius>BS?YS:HS;return{width:Math.max(Yv,St/jt),height:Math.max(Yv,xt/jt)}}setData(St,xt){this.inputImage=St,this.inputMask=xt}resizeOutput(St,xt){super.resizeOutput(St,xt);const jt=this.getBlurTextureSize(St,xt);this.blur.resizeOutput(jt.width,jt.height)}}class zv extends N1{constructor(St){super(),st(this,"inputImage"),st(this,"inputBackgroundImage"),st(this,"inputMask"),st(this,"preciseMaskEnabled",!0),this.context=St;const xt={context:St,height:St.canvas.height,width:St.canvas.width},jt=new V1({...xt,disableFramebuffer:!0});this.addStep({program:jt,getUniforms:()=>({background:Du(St,this.inputBackgroundImage),foreground:Du(St,this.inputImage),threshold:Du(St,this.inputMask)})})}setData(St,xt){this.inputImage=St,this.inputMask=xt}}class $S extends zv{constructor(){super(...arguments),st(this,"frameReader"),st(this,"preciseMaskEnabled",!0)}set inputVideo(St){this.frameReader=St.getReader(),this.readNextVideoFrame()}async run(){this.frameReader&&(await super.run(),this.readNextVideoFrame())}async readNextVideoFrame(){var St;const xt=await((St=this.frameReader)==null?void 0:St.read());xt!=null&&xt.value&&(this.inputBackgroundImage=await createImageBitmap(xt.value),xt.value.close())}}const KS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

vec4 loop();

void main() { gl_FragColor = loop(); }
`,JS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;var P1=(Et=>(Et[Et.LINEAR=0]="LINEAR",Et[Et.GAUSSIAN=1]="GAUSSIAN",Et))(P1||{});class $v extends p0{getDefines(){var St;return{RADIUS:(St=this.options.radius)!=null?St:1}}getFragmentShader(){return KS+this.createLoopFunction()}getVertexShader(){return JS}createLoopFunction(){var St;let xt=(St=this.options.radius)!=null?St:1;return`

        vec4 loop() { 
            vec4 result = vec4(0,0,0,0);
            float factorSum = 0.;

            vec2 normalizedRadius = vec2(-${xt}.) / canvas;
            vec2 normalizedIncrement = vec2(1.) / canvas;
            vec2 diff = normalizedRadius;

            for(int y=-${xt}; y<${xt+1}; ++y) {
                for(int x=-${xt}; x<${xt+1}; ++x) {
                    float factor = 1.;
                    result += factor * texture2D(texture, _texture_coord + diff);
                    factorSum += factor;
                    diff.x += normalizedIncrement.x;
                }
                diff.y += normalizedIncrement.y;
                diff.x = normalizedRadius.x;
            }
            return result / factorSum;
        }`}getFactor(St,xt){switch(this.options.type){case 1:return this.getLinearFactor(St,xt);case 0:default:return this.getLinearFactor(St,xt)}}getLinearFactor(St,xt){return 1}getGaussianFactor(St,xt){var jt;const zt=Math.PI*2,Rn=Math.max((jt=this.options.radius)!=null?jt:1,1),Mn=1/(zt*Rn**2),Ln=-(St**2+xt**2),Un=Mn*Ln;return Mn*Math.E**Un}}class QS extends N1{constructor(St,xt){super(),st(this,"inputImage"),st(this,"inputMask"),this.context=St;const jt={context:St,height:St.canvas.height,width:St.canvas.width},zt=new $v({...jt,radius:xt,type:P1.GAUSSIAN}),Rn=new V1({...jt,disableFramebuffer:!0});this.addStep({program:zt,getUniforms:()=>({texture:Du(St,this.inputImage)})}),this.addStep({program:Rn,getUniforms:()=>({background:Du(St,this.inputImage),foreground:Du(St,zt.output),threshold:Du(St,this.inputMask)})})}setData(St,xt){this.inputImage=St,this.inputMask=xt}}class M1 extends p0{constructor(St){super(St),st(this,"fbi2"),this.fbi2=o1(St.context,[{format:St.context.RGBA,type:St.context.UNSIGNED_BYTE,min:St.context.LINEAR,mag:St.context.LINEAR,wrap:St.context.CLAMP_TO_EDGE}],St.width,St.height)}run(St){const xt=this.fbi;this.fbi=this.fbi2,this.fbi2=xt,this.output=this.fbi.attachments[0],super.run({...St,previous_rendering:this.fbi2.attachments[0]})}resizeOutput(St,xt){super.resizeOutput(St,xt),this.fbi2=o1(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],St,xt)}}const _S=`precision mediump float;

varying vec2 _texture_coord;

// uniform float treshold;
uniform sampler2D image_now;
uniform sampler2D image_before;
uniform sampler2D mask_now;
uniform sampler2D mask_before;
uniform sampler2D previous_rendering;
uniform vec2 canvas;

uniform float delta;

float current_factor = 0.69;
float previous_factor = 0.74;
float threshold_activation = 0.54;

float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float getThreshold() {
  vec4 color = vec4(0.);
  for (float y = -6.; y < 7.; y += 1.) {
    for (float x = -6.; x < 7.; x += 1.) {
      vec4 image_now_color =
          texture2D(image_now, _texture_coord + vec2(x, y) / canvas);
      vec4 image_before_color =
          texture2D(image_before, _texture_coord + vec2(x, y) / canvas);
      color += abs(image_before_color - image_now_color);
    }
  }
  return (color.x + color.y + color.z) / (3. * 9.);
}

void main() {
  float treshold_input = .4;
  float treshold_previous_rendering = .98;

  vec4 mask_now_color = texture2D(mask_now, _texture_coord);
  vec4 mask_before_color = texture2D(mask_before, _texture_coord);
  vec4 previous_rendering_color = texture2D(previous_rendering, _texture_coord);

  vec3 mask_diff = abs(mask_before_color.xyz - mask_now_color.xyz);
  float flickering = mask_diff.x;
  float threshold = getThreshold();
  if (threshold < threshold_activation) {
    gl_FragColor = vec4(flickering, 0., 0., 1.) * current_factor +
                   previous_rendering_color * previous_factor;
    gl_FragColor *= (1. - threshold);
  }
}
`,qS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class e4 extends M1{getFragmentShader(){return _S}getVertexShader(){return qS}}const t4=`#version 300 es
// https://github.com/Volcomix/virtual-background/blob/main/src/pipelines/webgl2/jointBilateralFilterStage.ts

precision highp float;
uniform sampler2D input_frame;
uniform sampler2D segmentation_mask;
uniform sampler2D threshold;
uniform vec2 texel_size;
uniform float step;
uniform float radius;
uniform float offset;
uniform float sigma_texel;
uniform float sigma_color;

in vec2 _texture_coord;
out vec4 outColor;

float gaussian(float x, float sigma) {
  float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);
  return exp((x * x) * coeff);
}

void main() {
  vec2 centerCoord = _texture_coord;
  vec3 centerColor = texture(input_frame, centerCoord).rgb;
  float newVal = 0.0;
  float spaceWeight = 0.0;
  float colorWeight = 0.0;
  float totalWeight = 0.0;
  // Subsample kernel space.
  for (float i = -radius + offset; i <= radius; i += step) {
    for (float j = -radius + offset; j <= radius; j += step) {
      vec2 shift = vec2(j, i) * texel_size;
      vec2 coord = vec2(centerCoord + shift);
      vec3 frameColor = texture(input_frame, coord).rgb;
      float threshold = texture(threshold, coord).a;
      float outVal = texture(segmentation_mask, coord).a;

      spaceWeight = gaussian(distance(centerCoord, coord), sigma_texel);
      colorWeight = gaussian(distance(centerColor, frameColor), sigma_color);
      totalWeight += spaceWeight * colorWeight;
      newVal += spaceWeight * colorWeight * outVal * threshold;
    }
  }
  newVal /= totalWeight;
  outColor = vec4(vec3(0.), newVal);
}`,n4=`#version 300 es
in vec2 position;
in vec2 texture_coord;
out vec2 _texture_coord;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
  _texture_coord = texture_coord;
}`;class r4 extends p0{getFragmentShader(){return t4}getVertexShader(){return n4}}const i4=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

void main() {
  int count = 0;
  for (float y = -1.; y < 2.; y += 1.) {
    for (float x = -1.; x < 2.; x += 1.) {
      vec2 coord = _texture_coord + vec2(y, x) / canvas;
      vec4 color = texture2D(texture, coord);
      if (color.r > .1) {
        count++;
      }
    }
  }
  if (count > 5) {
    gl_FragColor = texture2D(texture, _texture_coord);
  }
}
`,o4=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class s4 extends p0{getFragmentShader(){return i4}getVertexShader(){return o4}}const a4=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

void main() {
  vec4 color = texture2D(texture, _texture_coord);
  for (float y = -2.; y < 3.; y += 1.) {
    for (float x = -2.; x < 3.; x += 1.) {
      vec2 coord = _texture_coord;
      coord += vec2(y, x) / canvas;
      color += texture2D(texture, coord) * (1. / 4.);
    }
  }

  gl_FragColor = color;
}
`,c4=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class l4 extends M1{getFragmentShader(){return a4}getVertexShader(){return c4}}const u4=`precision mediump float;

varying vec2 _texture_coord;

uniform sampler2D threshold;
uniform sampler2D inputs;

void main() {
  vec4 inputs_color = texture2D(inputs, _texture_coord);
  vec4 threshold_color = texture2D(threshold, _texture_coord);
  if (threshold_color.r < .1 && inputs_color.r > .5) {
    gl_FragColor = inputs_color;
  }
}
`,d4=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class f4 extends M1{getFragmentShader(){return u4}getVertexShader(){return d4}}class p4 extends Z1{constructor(St,xt,jt){super(),st(this,"inputImage"),st(this,"inputMask"),st(this,"previousInputImage"),st(this,"previousInputMask"),st(this,"output"),st(this,"options",{currentThresholdMinimum:0,currentThresholdMaximum:1,previousThresholdMinimum:0,previousThresholdMaximum:1,thresholdMinimum:0,thresholdMaximum:1,thresholdFactor:1}),this.context=St;const zt={context:St,height:jt,width:xt},Rn=new e4(zt),Mn=new $v({...zt,radius:1,type:P1.GAUSSIAN}),Ln=new f4(zt),Un=new l4(zt),wr=new s4(zt),Xr=new r4({...zt}),Hr=.66,Wo=640,Uo=480,$r=256,qr=144;let ns=1;ns*=Math.max(Wo/$r,Uo/qr);const qo=Math.max(1,Math.sqrt(ns)*Hr),Is=1/Wo,Er=1/Uo;this.addStep({program:Rn,getUniforms:()=>({image_now:Du(St,this.inputImage),image_before:Du(St,this.previousInputImage),mask_now:Du(St,this.inputMask),mask_before:Du(St,this.previousInputMask),current_threshold_minimum:this.options.currentThresholdMinimum,current_threshold_maximum:this.options.currentThresholdMaximum,previous_threshold_minimum:this.options.previousThresholdMinimum,previous_threshold_maximum:this.options.previousThresholdMaximum,threshold_minimum:this.options.thresholdMinimum,threshold_maximum:this.options.thresholdMaximum,threshold_factor:this.options.thresholdFactor})}),this.addStep({program:Ln,getUniforms:()=>({inputs:Du(St,this.inputMask),threshold:Du(St,Rn.output)})}),this.addStep({program:wr,getUniforms:()=>({texture:Du(St,Ln.output)})}),this.addStep({program:Un,getUniforms:()=>({texture:Du(St,wr.output)})}),this.addStep({program:Mn,getUniforms:()=>({texture:Du(St,Un.output)})}),this.addStep({program:Xr,getUniforms:()=>({input_frame:Du(St,this.inputImage),segmentation_mask:Du(St,this.inputMask),threshold:Du(St,Mn.output),texel_size:[Is,Er],step:qo,radius:ns,offset:qo>1?qo*.5:0,sigma_texel:Math.max(Is,Er)*ns,sigma_color:.1})}),this.output=Xr.output}setData(St,xt){this.previousInputImage=this.inputImage?this.inputImage:St,this.previousInputMask=this.inputMask?this.inputMask:xt,this.inputImage=St,this.inputMask=xt}setOptions(St){this.options=St}}const h4=`precision mediump float;

varying vec2 _texture_coord;
uniform sampler2D texture;

void main() { gl_FragColor = texture2D(texture, _texture_coord); }
`,m4=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;
uniform bool invert_y;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
  if (invert_y) {
    _texture_coord.y = 1. - texture_coord.y;
  }
}
`;class g4 extends p0{getFragmentShader(){return h4}getVertexShader(){return m4}}class v4 extends Z1{constructor(St,xt,jt){super(),st(this,"inputImage"),this.context=St;const zt={context:St,height:jt,width:xt};this.addStep({program:new g4({...zt,disableFramebuffer:!0}),getUniforms:()=>({texture:Du(St,this.inputImage),invert_y:!0})})}setData(St){this.inputImage=St}}class y4{constructor(St){st(this,"resize"),st(this,"canvas"),st(this,"context"),this.canvas=new OffscreenCanvas(0,0),this.context=this.canvas.getContext("webgl2"),this.canvas.width=St.width,this.canvas.height=St.height,this.resize=new v4(this.context,St.width,St.height)}resizeForeground(St,xt){this.canvas.width=St,this.canvas.height=xt,this.resize.resizeOutput(St,xt)}async process(St){var xt,jt;return this.canvas.width=this.canvas.width,(xt=this.resize)==null||xt.setData(St),(jt=this.resize)==null||jt.run(),this.canvas}}class b4{constructor(St,xt){st(this,"improveMaskSegmentation"),st(this,"backgroundResizer"),st(this,"backgroundImage"),st(this,"backgroundVideo"),st(this,"profiler"),st(this,"activePipeline"),st(this,"canvas"),st(this,"options"),st(this,"context"),st(this,"virtualBGImage"),this.id=St,this.canvas=new OffscreenCanvas(0,0),this.context=this.canvas.getContext("webgl2"),this.canvas.width=xt.foregroundWidth,this.canvas.height=xt.foregroundHeight,this.improveMaskSegmentation=new p4(this.context,xt.maskWidth,xt.maskHeight),this.backgroundImage=new zv(this.context),this.backgroundVideo=new $S(this.context),this.backgroundResizer=new y4({width:xt.foregroundWidth,height:xt.foregroundHeight})}setBackgroundOptions(St){switch(St.transformerType){case"BackgroundBlur":this.activePipeline=new zS(this.context,this.getBlurSize(St.radius));break;case"SilhouetteBlur":this.activePipeline=new QS(this.context,this.getBlurSize(St.radius));break;case"VideoBackground":this.activePipeline=this.backgroundVideo;break;case"VirtualBackground":this.activePipeline=this.backgroundImage;break}this.options=St}setFlickeringOptions(St){var xt;(xt=this.improveMaskSegmentation)==null||xt.setOptions(St)}setVideoBGReadable(St){this.backgroundVideo.inputVideo=St}async setVirtualBGImage(St){this.virtualBGImage=St,this.backgroundImage.inputBackgroundImage=await this.backgroundResizer.process(St)}async process(St,xt){var jt,zt,Rn,Mn,Ln,Un,wr;if(this.activePipeline&&St.width&&(xt!=null&&xt.width)){const Xr=`[${this.id}] background-filter`;(jt=this.profiler)==null||jt.pushContext(Xr);let Hr=xt;((zt=this.options)!=null&&zt.selfieSegmentationType&&((Rn=this.options)==null?void 0:Rn.selfieSegmentationType)==="PRECISE"||!((Mn=this.options)!=null&&Mn.selfieSegmentationType)&&this.activePipeline.preciseMaskEnabled)&&(this.improveMaskSegmentation.setId(this.id),this.improveMaskSegmentation.setProfiler(this.profiler),this.improveMaskSegmentation.setData(St,xt),this.improveMaskSegmentation.run(),Hr=this.improveMaskSegmentation.output),this.activePipeline.setId(this.id),this.activePipeline.setProfiler(this.profiler),(Ln=this.activePipeline)==null||Ln.setData(St,Hr),(Un=this.activePipeline)==null||Un.run(),(wr=this.profiler)==null||wr.popContext(Xr)}}async resizeForeground(St,xt){var jt;this.canvas.width=St,this.canvas.height=xt,this.backgroundImage.resizeOutput(St,xt),this.backgroundVideo.resizeOutput(St,xt),this.backgroundResizer.resizeForeground(St,xt),(jt=this.activePipeline)==null||jt.resizeOutput(St,xt),this.virtualBGImage&&(this.backgroundImage.inputBackgroundImage=await this.backgroundResizer.process(this.virtualBGImage))}async profile(St){const xt=new b0(this.context);return this.profiler=xt,xt.start(),await Zm(St),this.profiler=void 0,xt.stop(),xt.getResolvedQueries()}getBlurSize(St=jn.Low){switch(St){case jn.Low:return 5;case jn.High:return 12}return St}}class Kv{constructor(){st(this,"selfieSegmentation",new Ul),st(this,"backgroundFilter"),st(this,"previousDimensions",{width:0,height:0})}async init(St,xt){await this.selfieSegmentation.init(xt.wasmAssetUriPath,xt.tfliteAssetUriPath);const{width:jt,height:zt}=this.selfieSegmentation.getOutputDimensions();this.backgroundFilter=new b4(St,{foregroundWidth:1,foregroundHeight:1,maskWidth:jt,maskHeight:zt})}async transform(St,xt){var jt,zt,Rn,Mn;const Ln=(jt=St.timestamp)!=null?jt:0,Un=await createImageBitmap(St),wr=await this.selfieSegmentation.process(Un);wr?((Un.width!==this.previousDimensions.width||Un.height!==this.previousDimensions.height)&&(this.previousDimensions.width=Un.width,this.previousDimensions.height=Un.height,await((zt=this.backgroundFilter)==null?void 0:zt.resizeForeground(Un.width,Un.height))),await((Rn=this.backgroundFilter)==null?void 0:Rn.process(Un,wr)),St.close(),xt.enqueue(new VideoFrame((Mn=this.backgroundFilter)==null?void 0:Mn.canvas,{timestamp:Ln,alpha:"discard"}))):xt.enqueue(St)}async setBackgroundOptions(St){var xt;await((xt=this.backgroundFilter)==null?void 0:xt.setBackgroundOptions(St))}async setVideoBGReadable(St){var xt;await((xt=this.backgroundFilter)==null?void 0:xt.setVideoBGReadable(St))}async setVirtualBGImage(St){var xt;await((xt=this.backgroundFilter)==null?void 0:xt.setVirtualBGImage(St))}setFlickeringOptions(St){var xt;(xt=this.backgroundFilter)==null||xt.setFlickeringOptions(St)}async profile(St){var xt,jt;return(jt=(xt=this.backgroundFilter)==null?void 0:xt.profile(St))!=null?jt:[]}}const Jv=class{constructor(){st(this,"backgroundTransformer",new Kv),st(this,"mediaProcessor",new _d),st(this,"rate",30),st(this,"resolveOnMediaProcessor"),st(this,"eventsQueue",[])}async init(Et,St){await this.backgroundTransformer.init(Et,St),await this.mediaProcessor.setTransformers([this.backgroundTransformer]),this.mediaProcessor.setTrackExpectedRate(this.rate),this.mediaProcessor.onAny((xt,jt)=>{this.resolveOnMediaProcessor?(this.resolveOnMediaProcessor({name:xt,data:jt}),this.resolveOnMediaProcessor=void 0):this.eventsQueue.push({name:xt,data:jt})})}async onMediaProcessorEvent(){return await new nt(Et=>{this.eventsQueue.length>0?Et(this.eventsQueue.shift()):this.resolveOnMediaProcessor=Et})}async setTrackExpectedRate(Et){this.rate=Et,this.mediaProcessor.setTrackExpectedRate(Et)}async transform(Et,St){this.mediaProcessor.transform(Et,St)}async setBackgroundOptions(Et){var St;await((St=this.backgroundTransformer)==null?void 0:St.setBackgroundOptions(Et))}setVideoBGReadable(Et){this.backgroundTransformer.setVideoBGReadable(Et)}async setVirtualBGImage(Et){await this.backgroundTransformer.setVirtualBGImage(Et)}async terminate(){await this.mediaProcessor.destroy()}setFlickeringOptions(Et){this.backgroundTransformer.setFlickeringOptions(Et)}setVonageMetadata(Et){Yo(Et)}async profile(Et){return JSON.stringify(await this.backgroundTransformer.profile(Et))}};let S4=Jv;Vm("ProcessorWorker",Jv);const Qv="dmFyIGVkPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgdGQ9KEssdGUscmUpPT50ZSBpbiBLP2VkKEssdGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnJlfSk6S1t0ZV09cmU7dmFyIHA9KEssdGUscmUpPT4odGQoSyx0eXBlb2YgdGUhPSJzeW1ib2wiP3RlKyIiOnRlLHJlKSxyZSk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBLPShyPT4ocltyLklOSVQ9MF09IklOSVQiLHJbci5GT1JXQVJEPTFdPSJGT1JXQVJEIixyW3IuVEVSTUlOQVRFPTJdPSJURVJNSU5BVEUiLHIpKShLfHx7fSk7ZnVuY3Rpb24gdGUocil7cmV0dXJuW0ltYWdlQml0bWFwLFJlYWRhYmxlU3RyZWFtLFdyaXRhYmxlU3RyZWFtXS5zb21lKGU9PnIgaW5zdGFuY2VvZiBlKX1mdW5jdGlvbiByZShyLGUpe2NvbnN0e2lkOnR9PXIsbj1BcnJheS5pc0FycmF5KGUpP2U6W2VdO3Bvc3RNZXNzYWdlKHtpZDp0LHJlc3VsdDplfSxuLmZpbHRlcihpPT50ZShpKSkpfWFzeW5jIGZ1bmN0aW9uIHFpKHIsZSl7Y29uc3R7ZnVuY3Rpb25OYW1lOnQsYXJnczpufT1yO2lmKCFlLmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7aWYoIXQpdGhyb3cibWlzc2luZyBmdW5jdGlvbiBuYW1lIHRvIGNhbGwiO2lmKCFlLmluc3RhbmNlW3RdKXRocm93YHVuZGVmaW5lZCBmdW5jdGlvbiBbJHt0fV0gaW4gY2xhc3MgJHtlLmluc3RhbmNlLmNvbnN0cnVjdG9yLndvcmtlcklkfWA7cmUocixhd2FpdCBlLmluc3RhbmNlW3RdKC4uLm4hPW51bGw/bjpbXSkpfWZ1bmN0aW9uICRyKCl7cmV0dXJuIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZTwidSImJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1jb25zdCBHcj17fTtmdW5jdGlvbiBYaShyLGUpe2Uud29ya2VySWQ9ciwkcigpJiYoR3JbZS53b3JrZXJJZF09ZSl9ZnVuY3Rpb24gWWkocixlKXtpZighci5hcmdzKXRocm93Ik1pc3NpbmcgY2xhc3NOYW1lIHdoaWxlIGluaXRpYWxpemluZyB3b3JrZXIiO2NvbnN0W3RdPXIuYXJncyxuPUdyW3RdO2lmKG4pZS5pbnN0YW5jZT1uZXcgbihyLmFyZ3Muc2xpY2UoMSkpO2Vsc2UgdGhyb3dgdW5rbm93biB3b3JrZXIgY2xhc3MgJHt0fWA7cmUocix0eXBlb2YgZS5pbnN0YW5jZSE9PXZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gUWkocixlKXtjb25zdHthcmdzOnR9PXI7aWYoIWUuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtsZXQgbjtlLmluc3RhbmNlLnRlcm1pbmF0ZSYmKG49YXdhaXQgZS5pbnN0YW5jZS50ZXJtaW5hdGUoLi4udCE9bnVsbD90OltdKSkscmUocixuKX1mdW5jdGlvbiBLaSgpe2NvbnN0IHI9e307b25tZXNzYWdlPWFzeW5jIGU9Pntjb25zdCB0PWUuZGF0YTtzd2l0Y2godC50eXBlKXtjYXNlIEsuSU5JVDpZaSh0LHIpO2JyZWFrO2Nhc2UgSy5GT1JXQVJEOnFpKHQscik7YnJlYWs7Y2FzZSBLLlRFUk1JTkFURTpRaSh0LHIpO2JyZWFrfX19JHIoKSYmS2koKTtjbGFzcyBuZXt9bmUudXBkYXRlcz17dHJhbnNmb3JtZXJfbmV3OiJOZXcgdHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyX251bGw6Ik51bGwgdHJhbnNmb3JtZXIifSxuZS5lcnJvcnM9e3RyYW5zZm9ybWVyX25vbmU6Ik5vIHRyYW5zZm9ybWVycyBwcm92aWRlZCIsdHJhbnNmb3JtZXJfc3RhcnQ6IkNhbm5vdCBzdGFydCB0cmFuc2Zvcm1lciIsdHJhbnNmb3JtZXJfdHJhbnNmb3JtOiJDYW5ub3QgdHJhbnNmb3JtIGZyYW1lIix0cmFuc2Zvcm1lcl9mbHVzaDoiQ2Fubm90IGZsdXNoIHRyYW5zZm9ybWVyIixyZWFkYWJsZV9udWxsOiJSZWFkYWJsZSBpcyBudWxsIix3cml0YWJsZV9udWxsOiJXcml0YWJsZSBpcyBudWxsIn07dmFyIE90PXtleHBvcnRzOnt9fSx6cj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgaT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksbz0wO288aS5sZW5ndGg7bysrKWlbb109YXJndW1lbnRzW29dO3JldHVybiBlLmFwcGx5KHQsaSl9fSxKaT16cixvZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIE50KHIpe3JldHVybiBBcnJheS5pc0FycmF5KHIpfWZ1bmN0aW9uIFV0KHIpe3JldHVybiB0eXBlb2Ygcj4idSJ9ZnVuY3Rpb24gWmkocil7cmV0dXJuIHIhPT1udWxsJiYhVXQocikmJnIuY29uc3RydWN0b3IhPT1udWxsJiYhVXQoci5jb25zdHJ1Y3RvcikmJnR5cGVvZiByLmNvbnN0cnVjdG9yLmlzQnVmZmVyPT0iZnVuY3Rpb24iJiZyLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHIpfWZ1bmN0aW9uIEhyKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgQXJyYXlCdWZmZXJdIn1mdW5jdGlvbiBlbyhyKXtyZXR1cm4gb2UuY2FsbChyKT09PSJbb2JqZWN0IEZvcm1EYXRhXSJ9ZnVuY3Rpb24gdG8ocil7dmFyIGU7cmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlcjwidSImJkFycmF5QnVmZmVyLmlzVmlldz9lPUFycmF5QnVmZmVyLmlzVmlldyhyKTplPXImJnIuYnVmZmVyJiZIcihyLmJ1ZmZlciksZX1mdW5jdGlvbiBybyhyKXtyZXR1cm4gdHlwZW9mIHI9PSJzdHJpbmcifWZ1bmN0aW9uIG5vKHIpe3JldHVybiB0eXBlb2Ygcj09Im51bWJlciJ9ZnVuY3Rpb24gVnIocil7cmV0dXJuIHIhPT1udWxsJiZ0eXBlb2Ygcj09Im9iamVjdCJ9ZnVuY3Rpb24gamUocil7aWYob2UuY2FsbChyKSE9PSJbb2JqZWN0IE9iamVjdF0iKXJldHVybiExO3ZhciBlPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtyZXR1cm4gZT09PW51bGx8fGU9PT1PYmplY3QucHJvdG90eXBlfWZ1bmN0aW9uIGlvKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgRGF0ZV0ifWZ1bmN0aW9uIG9vKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgRmlsZV0ifWZ1bmN0aW9uIHNvKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgQmxvYl0ifWZ1bmN0aW9uIFdyKHIpe3JldHVybiBvZS5jYWxsKHIpPT09IltvYmplY3QgRnVuY3Rpb25dIn1mdW5jdGlvbiBhbyhyKXtyZXR1cm4gVnIocikmJldyKHIucGlwZSl9ZnVuY3Rpb24gdW8ocil7cmV0dXJuIG9lLmNhbGwocik9PT0iW29iamVjdCBVUkxTZWFyY2hQYXJhbXNdIn1mdW5jdGlvbiBjbyhyKXtyZXR1cm4gci50cmltP3IudHJpbSgpOnIucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfWZ1bmN0aW9uIGZvKCl7cmV0dXJuIHR5cGVvZiBuYXZpZ2F0b3I8InUiJiYobmF2aWdhdG9yLnByb2R1Y3Q9PT0iUmVhY3ROYXRpdmUifHxuYXZpZ2F0b3IucHJvZHVjdD09PSJOYXRpdmVTY3JpcHQifHxuYXZpZ2F0b3IucHJvZHVjdD09PSJOUyIpPyExOnR5cGVvZiB3aW5kb3c8InUiJiZ0eXBlb2YgZG9jdW1lbnQ8InUifWZ1bmN0aW9uIEJ0KHIsZSl7aWYoIShyPT09bnVsbHx8dHlwZW9mIHI+InUiKSlpZih0eXBlb2YgciE9Im9iamVjdCImJihyPVtyXSksTnQocikpZm9yKHZhciB0PTAsbj1yLmxlbmd0aDt0PG47dCsrKWUuY2FsbChudWxsLHJbdF0sdCxyKTtlbHNlIGZvcih2YXIgaSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGkpJiZlLmNhbGwobnVsbCxyW2ldLGkscil9ZnVuY3Rpb24ga3QoKXt2YXIgcj17fTtmdW5jdGlvbiBlKGksbyl7amUocltvXSkmJmplKGkpP3Jbb109a3QocltvXSxpKTpqZShpKT9yW29dPWt0KHt9LGkpOk50KGkpP3Jbb109aS5zbGljZSgpOnJbb109aX1mb3IodmFyIHQ9MCxuPWFyZ3VtZW50cy5sZW5ndGg7dDxuO3QrKylCdChhcmd1bWVudHNbdF0sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbG8ocixlLHQpe3JldHVybiBCdChlLGZ1bmN0aW9uKGksbyl7dCYmdHlwZW9mIGk9PSJmdW5jdGlvbiI/cltvXT1KaShpLHQpOnJbb109aX0pLHJ9ZnVuY3Rpb24gbW8ocil7cmV0dXJuIHIuY2hhckNvZGVBdCgwKT09PTY1Mjc5JiYocj1yLnNsaWNlKDEpKSxyfXZhciBHPXtpc0FycmF5Ok50LGlzQXJyYXlCdWZmZXI6SHIsaXNCdWZmZXI6WmksaXNGb3JtRGF0YTplbyxpc0FycmF5QnVmZmVyVmlldzp0byxpc1N0cmluZzpybyxpc051bWJlcjpubyxpc09iamVjdDpWcixpc1BsYWluT2JqZWN0OmplLGlzVW5kZWZpbmVkOlV0LGlzRGF0ZTppbyxpc0ZpbGU6b28saXNCbG9iOnNvLGlzRnVuY3Rpb246V3IsaXNTdHJlYW06YW8saXNVUkxTZWFyY2hQYXJhbXM6dW8saXNTdGFuZGFyZEJyb3dzZXJFbnY6Zm8sZm9yRWFjaDpCdCxtZXJnZTprdCxleHRlbmQ6bG8sdHJpbTpjbyxzdHJpcEJPTTptb30sRWU9RztmdW5jdGlvbiBqcihyKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9nLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTIwL2csIisiKS5yZXBsYWNlKC8lNUIvZ2ksIlsiKS5yZXBsYWNlKC8lNUQvZ2ksIl0iKX12YXIgcXI9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0KXJldHVybiBlO3ZhciBpO2lmKG4paT1uKHQpO2Vsc2UgaWYoRWUuaXNVUkxTZWFyY2hQYXJhbXModCkpaT10LnRvU3RyaW5nKCk7ZWxzZXt2YXIgbz1bXTtFZS5mb3JFYWNoKHQsZnVuY3Rpb24odSxmKXt1PT09bnVsbHx8dHlwZW9mIHU+InUifHwoRWUuaXNBcnJheSh1KT9mPWYrIltdIjp1PVt1XSxFZS5mb3JFYWNoKHUsZnVuY3Rpb24oZCl7RWUuaXNEYXRlKGQpP2Q9ZC50b0lTT1N0cmluZygpOkVlLmlzT2JqZWN0KGQpJiYoZD1KU09OLnN0cmluZ2lmeShkKSksby5wdXNoKGpyKGYpKyI9IitqcihkKSl9KSl9KSxpPW8uam9pbigiJiIpfWlmKGkpe3ZhciBzPWUuaW5kZXhPZigiIyIpO3MhPT0tMSYmKGU9ZS5zbGljZSgwLHMpKSxlKz0oZS5pbmRleE9mKCI/Iik9PT0tMT8iPyI6IiYiKStpfXJldHVybiBlfSxobz1HO2Z1bmN0aW9uIHFlKCl7dGhpcy5oYW5kbGVycz1bXX1xZS5wcm90b3R5cGUudXNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5oYW5kbGVycy5wdXNoKHtmdWxmaWxsZWQ6ZSxyZWplY3RlZDp0LHN5bmNocm9ub3VzOm4/bi5zeW5jaHJvbm91czohMSxydW5XaGVuOm4/bi5ydW5XaGVuOm51bGx9KSx0aGlzLmhhbmRsZXJzLmxlbmd0aC0xfSxxZS5wcm90b3R5cGUuZWplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVyc1tlXSYmKHRoaXMuaGFuZGxlcnNbZV09bnVsbCl9LHFlLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2hvLmZvckVhY2godGhpcy5oYW5kbGVycyxmdW5jdGlvbihuKXtuIT09bnVsbCYmZShuKX0pfTt2YXIgcG89cWUseW89Ryxfbz1mdW5jdGlvbihlLHQpe3lvLmZvckVhY2goZSxmdW5jdGlvbihpLG8pe28hPT10JiZvLnRvVXBwZXJDYXNlKCk9PT10LnRvVXBwZXJDYXNlKCkmJihlW3RdPWksZGVsZXRlIGVbb10pfSl9LFhyPWZ1bmN0aW9uKGUsdCxuLGksbyl7cmV0dXJuIGUuY29uZmlnPXQsbiYmKGUuY29kZT1uKSxlLnJlcXVlc3Q9aSxlLnJlc3BvbnNlPW8sZS5pc0F4aW9zRXJyb3I9ITAsZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57bWVzc2FnZTp0aGlzLm1lc3NhZ2UsbmFtZTp0aGlzLm5hbWUsZGVzY3JpcHRpb246dGhpcy5kZXNjcmlwdGlvbixudW1iZXI6dGhpcy5udW1iZXIsZmlsZU5hbWU6dGhpcy5maWxlTmFtZSxsaW5lTnVtYmVyOnRoaXMubGluZU51bWJlcixjb2x1bW5OdW1iZXI6dGhpcy5jb2x1bW5OdW1iZXIsc3RhY2s6dGhpcy5zdGFjayxjb25maWc6dGhpcy5jb25maWcsY29kZTp0aGlzLmNvZGUsc3RhdHVzOnRoaXMucmVzcG9uc2UmJnRoaXMucmVzcG9uc2Uuc3RhdHVzP3RoaXMucmVzcG9uc2Uuc3RhdHVzOm51bGx9fSxlfSx4bz1YcixZcj1mdW5jdGlvbihlLHQsbixpLG8pe3ZhciBzPW5ldyBFcnJvcihlKTtyZXR1cm4geG8ocyx0LG4saSxvKX0sZ289WXIsYm89ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4uY29uZmlnLnZhbGlkYXRlU3RhdHVzOyFuLnN0YXR1c3x8IWl8fGkobi5zdGF0dXMpP2Uobik6dChnbygiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAiK24uc3RhdHVzLG4uY29uZmlnLG51bGwsbi5yZXF1ZXN0LG4pKX0sWGU9Ryx2bz1YZS5pc1N0YW5kYXJkQnJvd3NlckVudigpP2Z1bmN0aW9uKCl7cmV0dXJue3dyaXRlOmZ1bmN0aW9uKHQsbixpLG8scyxhKXt2YXIgdT1bXTt1LnB1c2godCsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxYZS5pc051bWJlcihpKSYmdS5wdXNoKCJleHBpcmVzPSIrbmV3IERhdGUoaSkudG9HTVRTdHJpbmcoKSksWGUuaXNTdHJpbmcobykmJnUucHVzaCgicGF0aD0iK28pLFhlLmlzU3RyaW5nKHMpJiZ1LnB1c2goImRvbWFpbj0iK3MpLGE9PT0hMCYmdS5wdXNoKCJzZWN1cmUiKSxkb2N1bWVudC5jb29raWU9dS5qb2luKCI7ICIpfSxyZWFkOmZ1bmN0aW9uKHQpe3ZhciBuPWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCIoXnw7XFxzKikoIit0KyIpPShbXjtdKikiKSk7cmV0dXJuIG4/ZGVjb2RlVVJJQ29tcG9uZW50KG5bM10pOm51bGx9LHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLndyaXRlKHQsIiIsRGF0ZS5ub3coKS04NjRlNSl9fX0oKTpmdW5jdGlvbigpe3JldHVybnt3cml0ZTpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXt9fX0oKSxFbz1mdW5jdGlvbihlKXtyZXR1cm4vXihbYS16XVthLXpcZCtcLS5dKjopP1wvXC8vaS50ZXN0KGUpfSxUbz1mdW5jdGlvbihlLHQpe3JldHVybiB0P2UucmVwbGFjZSgvXC8rJC8sIiIpKyIvIit0LnJlcGxhY2UoL15cLysvLCIiKTplfSxBbz1Fbyx3bz1UbyxSbz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiYhQW8odCk/d28oZSx0KTp0fSxMdD1HLFNvPVsiYWdlIiwiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtbGVuZ3RoIiwiY29udGVudC10eXBlIiwiZXRhZyIsImV4cGlyZXMiLCJmcm9tIiwiaG9zdCIsImlmLW1vZGlmaWVkLXNpbmNlIiwiaWYtdW5tb2RpZmllZC1zaW5jZSIsImxhc3QtbW9kaWZpZWQiLCJsb2NhdGlvbiIsIm1heC1mb3J3YXJkcyIsInByb3h5LWF1dGhvcml6YXRpb24iLCJyZWZlcmVyIiwicmV0cnktYWZ0ZXIiLCJ1c2VyLWFnZW50Il0sSW89ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbixpLG87cmV0dXJuIGUmJkx0LmZvckVhY2goZS5zcGxpdChgCmApLGZ1bmN0aW9uKGEpe2lmKG89YS5pbmRleE9mKCI6Iiksbj1MdC50cmltKGEuc3Vic3RyKDAsbykpLnRvTG93ZXJDYXNlKCksaT1MdC50cmltKGEuc3Vic3RyKG8rMSkpLG4pe2lmKHRbbl0mJlNvLmluZGV4T2Yobik+PTApcmV0dXJuO249PT0ic2V0LWNvb2tpZSI/dFtuXT0odFtuXT90W25dOltdKS5jb25jYXQoW2ldKTp0W25dPXRbbl0/dFtuXSsiLCAiK2k6aX19KSx0fSxRcj1HLEZvPVFyLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/ZnVuY3Rpb24oKXt2YXIgZT0vKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLG47ZnVuY3Rpb24gaShvKXt2YXIgcz1vO3JldHVybiBlJiYodC5zZXRBdHRyaWJ1dGUoImhyZWYiLHMpLHM9dC5ocmVmKSx0LnNldEF0dHJpYnV0ZSgiaHJlZiIscykse2hyZWY6dC5ocmVmLHByb3RvY29sOnQucHJvdG9jb2w/dC5wcm90b2NvbC5yZXBsYWNlKC86JC8sIiIpOiIiLGhvc3Q6dC5ob3N0LHNlYXJjaDp0LnNlYXJjaD90LnNlYXJjaC5yZXBsYWNlKC9eXD8vLCIiKToiIixoYXNoOnQuaGFzaD90Lmhhc2gucmVwbGFjZSgvXiMvLCIiKToiIixob3N0bmFtZTp0Lmhvc3RuYW1lLHBvcnQ6dC5wb3J0LHBhdGhuYW1lOnQucGF0aG5hbWUuY2hhckF0KDApPT09Ii8iP3QucGF0aG5hbWU6Ii8iK3QucGF0aG5hbWV9fXJldHVybiBuPWkod2luZG93LmxvY2F0aW9uLmhyZWYpLGZ1bmN0aW9uKHMpe3ZhciBhPVFyLmlzU3RyaW5nKHMpP2kocyk6cztyZXR1cm4gYS5wcm90b2NvbD09PW4ucHJvdG9jb2wmJmEuaG9zdD09PW4uaG9zdH19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMH19KCk7ZnVuY3Rpb24gJHQocil7dGhpcy5tZXNzYWdlPXJ9JHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkNhbmNlbCIrKHRoaXMubWVzc2FnZT8iOiAiK3RoaXMubWVzc2FnZToiIil9LCR0LnByb3RvdHlwZS5fX0NBTkNFTF9fPSEwO3ZhciBZZT0kdCxRZT1HLFBvPWJvLERvPXZvLE1vPXFyLENvPVJvLE9vPUlvLE5vPUZvLEd0PVlyLFVvPUplLEJvPVllLEtyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLGkpe3ZhciBvPWUuZGF0YSxzPWUuaGVhZGVycyxhPWUucmVzcG9uc2VUeXBlLHU7ZnVuY3Rpb24gZigpe2UuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUodSksZS5zaWduYWwmJmUuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0Iix1KX1RZS5pc0Zvcm1EYXRhKG8pJiZkZWxldGUgc1siQ29udGVudC1UeXBlIl07dmFyIGM9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGUuYXV0aCl7dmFyIGQ9ZS5hdXRoLnVzZXJuYW1lfHwiIix5PWUuYXV0aC5wYXNzd29yZD91bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZS5hdXRoLnBhc3N3b3JkKSk6IiI7cy5BdXRob3JpemF0aW9uPSJCYXNpYyAiK2J0b2EoZCsiOiIreSl9dmFyIF89Q28oZS5iYXNlVVJMLGUudXJsKTtjLm9wZW4oZS5tZXRob2QudG9VcHBlckNhc2UoKSxNbyhfLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplciksITApLGMudGltZW91dD1lLnRpbWVvdXQ7ZnVuY3Rpb24gbSgpe2lmKCEhYyl7dmFyIHY9ImdldEFsbFJlc3BvbnNlSGVhZGVycyJpbiBjP09vKGMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpOm51bGwsYj0hYXx8YT09PSJ0ZXh0Inx8YT09PSJqc29uIj9jLnJlc3BvbnNlVGV4dDpjLnJlc3BvbnNlLEE9e2RhdGE6YixzdGF0dXM6Yy5zdGF0dXMsc3RhdHVzVGV4dDpjLnN0YXR1c1RleHQsaGVhZGVyczp2LGNvbmZpZzplLHJlcXVlc3Q6Y307UG8oZnVuY3Rpb24oQyl7bihDKSxmKCl9LGZ1bmN0aW9uKEMpe2koQyksZigpfSxBKSxjPW51bGx9fWlmKCJvbmxvYWRlbmQiaW4gYz9jLm9ubG9hZGVuZD1tOmMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7IWN8fGMucmVhZHlTdGF0ZSE9PTR8fGMuc3RhdHVzPT09MCYmIShjLnJlc3BvbnNlVVJMJiZjLnJlc3BvbnNlVVJMLmluZGV4T2YoImZpbGU6Iik9PT0wKXx8c2V0VGltZW91dChtKX0sYy5vbmFib3J0PWZ1bmN0aW9uKCl7IWN8fChpKEd0KCJSZXF1ZXN0IGFib3J0ZWQiLGUsIkVDT05OQUJPUlRFRCIsYykpLGM9bnVsbCl9LGMub25lcnJvcj1mdW5jdGlvbigpe2koR3QoIk5ldHdvcmsgRXJyb3IiLGUsbnVsbCxjKSksYz1udWxsfSxjLm9udGltZW91dD1mdW5jdGlvbigpe3ZhciBiPWUudGltZW91dD8idGltZW91dCBvZiAiK2UudGltZW91dCsibXMgZXhjZWVkZWQiOiJ0aW1lb3V0IGV4Y2VlZGVkIixBPWUudHJhbnNpdGlvbmFsfHxVby50cmFuc2l0aW9uYWw7ZS50aW1lb3V0RXJyb3JNZXNzYWdlJiYoYj1lLnRpbWVvdXRFcnJvck1lc3NhZ2UpLGkoR3QoYixlLEEuY2xhcmlmeVRpbWVvdXRFcnJvcj8iRVRJTUVET1VUIjoiRUNPTk5BQk9SVEVEIixjKSksYz1udWxsfSxRZS5pc1N0YW5kYXJkQnJvd3NlckVudigpKXt2YXIgeD0oZS53aXRoQ3JlZGVudGlhbHN8fE5vKF8pKSYmZS54c3JmQ29va2llTmFtZT9Eby5yZWFkKGUueHNyZkNvb2tpZU5hbWUpOnZvaWQgMDt4JiYoc1tlLnhzcmZIZWFkZXJOYW1lXT14KX0ic2V0UmVxdWVzdEhlYWRlciJpbiBjJiZRZS5mb3JFYWNoKHMsZnVuY3Rpb24oYixBKXt0eXBlb2Ygbz4idSImJkEudG9Mb3dlckNhc2UoKT09PSJjb250ZW50LXR5cGUiP2RlbGV0ZSBzW0FdOmMuc2V0UmVxdWVzdEhlYWRlcihBLGIpfSksUWUuaXNVbmRlZmluZWQoZS53aXRoQ3JlZGVudGlhbHMpfHwoYy53aXRoQ3JlZGVudGlhbHM9ISFlLndpdGhDcmVkZW50aWFscyksYSYmYSE9PSJqc29uIiYmKGMucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlKSx0eXBlb2YgZS5vbkRvd25sb2FkUHJvZ3Jlc3M9PSJmdW5jdGlvbiImJmMuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLGUub25Eb3dubG9hZFByb2dyZXNzKSx0eXBlb2YgZS5vblVwbG9hZFByb2dyZXNzPT0iZnVuY3Rpb24iJiZjLnVwbG9hZCYmYy51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLGUub25VcGxvYWRQcm9ncmVzcyksKGUuY2FuY2VsVG9rZW58fGUuc2lnbmFsKSYmKHU9ZnVuY3Rpb24odil7IWN8fChpKCF2fHx2JiZ2LnR5cGU/bmV3IEJvKCJjYW5jZWxlZCIpOnYpLGMuYWJvcnQoKSxjPW51bGwpfSxlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnN1YnNjcmliZSh1KSxlLnNpZ25hbCYmKGUuc2lnbmFsLmFib3J0ZWQ/dSgpOmUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0Iix1KSkpLG98fChvPW51bGwpLGMuc2VuZChvKX0pfSxPPUcsSnI9X28sa289WHIsTG89eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQifTtmdW5jdGlvbiBacihyLGUpeyFPLmlzVW5kZWZpbmVkKHIpJiZPLmlzVW5kZWZpbmVkKHJbIkNvbnRlbnQtVHlwZSJdKSYmKHJbIkNvbnRlbnQtVHlwZSJdPWUpfWZ1bmN0aW9uICRvKCl7dmFyIHI7cmV0dXJuKHR5cGVvZiBYTUxIdHRwUmVxdWVzdDwidSJ8fHR5cGVvZiBwcm9jZXNzPCJ1IiYmT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb2Nlc3MpPT09IltvYmplY3QgcHJvY2Vzc10iKSYmKHI9S3IpLHJ9ZnVuY3Rpb24gR28ocixlLHQpe2lmKE8uaXNTdHJpbmcocikpdHJ5e3JldHVybihlfHxKU09OLnBhcnNlKShyKSxPLnRyaW0ocil9Y2F0Y2gobil7aWYobi5uYW1lIT09IlN5bnRheEVycm9yIil0aHJvdyBufXJldHVybih0fHxKU09OLnN0cmluZ2lmeSkocil9dmFyIEtlPXt0cmFuc2l0aW9uYWw6e3NpbGVudEpTT05QYXJzaW5nOiEwLGZvcmNlZEpTT05QYXJzaW5nOiEwLGNsYXJpZnlUaW1lb3V0RXJyb3I6ITF9LGFkYXB0ZXI6JG8oKSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihlLHQpe3JldHVybiBKcih0LCJBY2NlcHQiKSxKcih0LCJDb250ZW50LVR5cGUiKSxPLmlzRm9ybURhdGEoZSl8fE8uaXNBcnJheUJ1ZmZlcihlKXx8Ty5pc0J1ZmZlcihlKXx8Ty5pc1N0cmVhbShlKXx8Ty5pc0ZpbGUoZSl8fE8uaXNCbG9iKGUpP2U6Ty5pc0FycmF5QnVmZmVyVmlldyhlKT9lLmJ1ZmZlcjpPLmlzVVJMU2VhcmNoUGFyYW1zKGUpPyhacih0LCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCIpLGUudG9TdHJpbmcoKSk6Ty5pc09iamVjdChlKXx8dCYmdFsiQ29udGVudC1UeXBlIl09PT0iYXBwbGljYXRpb24vanNvbiI/KFpyKHQsImFwcGxpY2F0aW9uL2pzb24iKSxHbyhlKSk6ZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zaXRpb25hbHx8S2UudHJhbnNpdGlvbmFsLG49dCYmdC5zaWxlbnRKU09OUGFyc2luZyxpPXQmJnQuZm9yY2VkSlNPTlBhcnNpbmcsbz0hbiYmdGhpcy5yZXNwb25zZVR5cGU9PT0ianNvbiI7aWYob3x8aSYmTy5pc1N0cmluZyhlKSYmZS5sZW5ndGgpdHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKHMpe2lmKG8pdGhyb3cgcy5uYW1lPT09IlN5bnRheEVycm9yIj9rbyhzLHRoaXMsIkVfSlNPTl9QQVJTRSIpOnN9cmV0dXJuIGV9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6IlhTUkYtVE9LRU4iLHhzcmZIZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4iLG1heENvbnRlbnRMZW5ndGg6LTEsbWF4Qm9keUxlbmd0aDotMSx2YWxpZGF0ZVN0YXR1czpmdW5jdGlvbihlKXtyZXR1cm4gZT49MjAwJiZlPDMwMH0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiJ9fX07Ty5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCJdLGZ1bmN0aW9uKGUpe0tlLmhlYWRlcnNbZV09e319KSxPLmZvckVhY2goWyJwb3N0IiwicHV0IiwicGF0Y2giXSxmdW5jdGlvbihlKXtLZS5oZWFkZXJzW2VdPU8ubWVyZ2UoTG8pfSk7dmFyIEplPUtlLHpvPUcsSG89SmUsVm89ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXN8fEhvO3JldHVybiB6by5mb3JFYWNoKG4sZnVuY3Rpb24ocyl7ZT1zLmNhbGwoaSxlLHQpfSksZX0sZW49ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5fX0NBTkNFTF9fKX0sdG49Ryx6dD1WbyxXbz1lbixqbz1KZSxxbz1ZZTtmdW5jdGlvbiBIdChyKXtpZihyLmNhbmNlbFRva2VuJiZyLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKSxyLnNpZ25hbCYmci5zaWduYWwuYWJvcnRlZCl0aHJvdyBuZXcgcW8oImNhbmNlbGVkIil9dmFyIFhvPWZ1bmN0aW9uKGUpe0h0KGUpLGUuaGVhZGVycz1lLmhlYWRlcnN8fHt9LGUuZGF0YT16dC5jYWxsKGUsZS5kYXRhLGUuaGVhZGVycyxlLnRyYW5zZm9ybVJlcXVlc3QpLGUuaGVhZGVycz10bi5tZXJnZShlLmhlYWRlcnMuY29tbW9ufHx7fSxlLmhlYWRlcnNbZS5tZXRob2RdfHx7fSxlLmhlYWRlcnMpLHRuLmZvckVhY2goWyJkZWxldGUiLCJnZXQiLCJoZWFkIiwicG9zdCIsInB1dCIsInBhdGNoIiwiY29tbW9uIl0sZnVuY3Rpb24oaSl7ZGVsZXRlIGUuaGVhZGVyc1tpXX0pO3ZhciB0PWUuYWRhcHRlcnx8am8uYWRhcHRlcjtyZXR1cm4gdChlKS50aGVuKGZ1bmN0aW9uKGkpe3JldHVybiBIdChlKSxpLmRhdGE9enQuY2FsbChlLGkuZGF0YSxpLmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSksaX0sZnVuY3Rpb24oaSl7cmV0dXJuIFdvKGkpfHwoSHQoZSksaSYmaS5yZXNwb25zZSYmKGkucmVzcG9uc2UuZGF0YT16dC5jYWxsKGUsaS5yZXNwb25zZS5kYXRhLGkucmVzcG9uc2UuaGVhZGVycyxlLnRyYW5zZm9ybVJlc3BvbnNlKSkpLFByb21pc2UucmVqZWN0KGkpfSl9LHo9Ryxybj1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49e307ZnVuY3Rpb24gaShjLGQpe3JldHVybiB6LmlzUGxhaW5PYmplY3QoYykmJnouaXNQbGFpbk9iamVjdChkKT96Lm1lcmdlKGMsZCk6ei5pc1BsYWluT2JqZWN0KGQpP3oubWVyZ2Uoe30sZCk6ei5pc0FycmF5KGQpP2Quc2xpY2UoKTpkfWZ1bmN0aW9uIG8oYyl7aWYoei5pc1VuZGVmaW5lZCh0W2NdKSl7aWYoIXouaXNVbmRlZmluZWQoZVtjXSkpcmV0dXJuIGkodm9pZCAwLGVbY10pfWVsc2UgcmV0dXJuIGkoZVtjXSx0W2NdKX1mdW5jdGlvbiBzKGMpe2lmKCF6LmlzVW5kZWZpbmVkKHRbY10pKXJldHVybiBpKHZvaWQgMCx0W2NdKX1mdW5jdGlvbiBhKGMpe2lmKHouaXNVbmRlZmluZWQodFtjXSkpe2lmKCF6LmlzVW5kZWZpbmVkKGVbY10pKXJldHVybiBpKHZvaWQgMCxlW2NdKX1lbHNlIHJldHVybiBpKHZvaWQgMCx0W2NdKX1mdW5jdGlvbiB1KGMpe2lmKGMgaW4gdClyZXR1cm4gaShlW2NdLHRbY10pO2lmKGMgaW4gZSlyZXR1cm4gaSh2b2lkIDAsZVtjXSl9dmFyIGY9e3VybDpzLG1ldGhvZDpzLGRhdGE6cyxiYXNlVVJMOmEsdHJhbnNmb3JtUmVxdWVzdDphLHRyYW5zZm9ybVJlc3BvbnNlOmEscGFyYW1zU2VyaWFsaXplcjphLHRpbWVvdXQ6YSx0aW1lb3V0TWVzc2FnZTphLHdpdGhDcmVkZW50aWFsczphLGFkYXB0ZXI6YSxyZXNwb25zZVR5cGU6YSx4c3JmQ29va2llTmFtZTphLHhzcmZIZWFkZXJOYW1lOmEsb25VcGxvYWRQcm9ncmVzczphLG9uRG93bmxvYWRQcm9ncmVzczphLGRlY29tcHJlc3M6YSxtYXhDb250ZW50TGVuZ3RoOmEsbWF4Qm9keUxlbmd0aDphLHRyYW5zcG9ydDphLGh0dHBBZ2VudDphLGh0dHBzQWdlbnQ6YSxjYW5jZWxUb2tlbjphLHNvY2tldFBhdGg6YSxyZXNwb25zZUVuY29kaW5nOmEsdmFsaWRhdGVTdGF0dXM6dX07cmV0dXJuIHouZm9yRWFjaChPYmplY3Qua2V5cyhlKS5jb25jYXQoT2JqZWN0LmtleXModCkpLGZ1bmN0aW9uKGQpe3ZhciB5PWZbZF18fG8sXz15KGQpO3ouaXNVbmRlZmluZWQoXykmJnkhPT11fHwobltkXT1fKX0pLG59LG5uPXt2ZXJzaW9uOiIwLjI1LjAifSxZbz1ubi52ZXJzaW9uLFZ0PXt9O1sib2JqZWN0IiwiYm9vbGVhbiIsIm51bWJlciIsImZ1bmN0aW9uIiwic3RyaW5nIiwic3ltYm9sIl0uZm9yRWFjaChmdW5jdGlvbihyLGUpe1Z0W3JdPWZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09PXJ8fCJhIisoZTwxPyJuICI6IiAiKStyfX0pO3ZhciBvbj17fTtWdC50cmFuc2l0aW9uYWw9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGkobyxzKXtyZXR1cm4iW0F4aW9zIHYiK1lvKyJdIFRyYW5zaXRpb25hbCBvcHRpb24gJyIrbysiJyIrcysobj8iLiAiK246IiIpfXJldHVybiBmdW5jdGlvbihvLHMsYSl7aWYoZT09PSExKXRocm93IG5ldyBFcnJvcihpKHMsIiBoYXMgYmVlbiByZW1vdmVkIisodD8iIGluICIrdDoiIikpKTtyZXR1cm4gdCYmIW9uW3NdJiYob25bc109ITAsY29uc29sZS53YXJuKGkocywiIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdiIrdCsiIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlIikpKSxlP2UobyxzLGEpOiEwfX07ZnVuY3Rpb24gUW8ocixlLHQpe2lmKHR5cGVvZiByIT0ib2JqZWN0Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iik7Zm9yKHZhciBuPU9iamVjdC5rZXlzKHIpLGk9bi5sZW5ndGg7aS0tID4wOyl7dmFyIG89bltpXSxzPWVbb107aWYocyl7dmFyIGE9cltvXSx1PWE9PT12b2lkIDB8fHMoYSxvLHIpO2lmKHUhPT0hMCl0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb24gIitvKyIgbXVzdCBiZSAiK3UpO2NvbnRpbnVlfWlmKHQhPT0hMCl0aHJvdyBFcnJvcigiVW5rbm93biBvcHRpb24gIitvKX19dmFyIEtvPXthc3NlcnRPcHRpb25zOlFvLHZhbGlkYXRvcnM6VnR9LHNuPUcsSm89cXIsYW49cG8sdW49WG8sWmU9cm4sY249S28sVGU9Y24udmFsaWRhdG9ycztmdW5jdGlvbiBNZShyKXt0aGlzLmRlZmF1bHRzPXIsdGhpcy5pbnRlcmNlcHRvcnM9e3JlcXVlc3Q6bmV3IGFuLHJlc3BvbnNlOm5ldyBhbn19TWUucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgZT09InN0cmluZyI/KHQ9dHx8e30sdC51cmw9ZSk6dD1lfHx7fSwhdC51cmwpdGhyb3cgbmV3IEVycm9yKCJQcm92aWRlZCBjb25maWcgdXJsIGlzIG5vdCB2YWxpZCIpO3Q9WmUodGhpcy5kZWZhdWx0cyx0KSx0Lm1ldGhvZD90Lm1ldGhvZD10Lm1ldGhvZC50b0xvd2VyQ2FzZSgpOnRoaXMuZGVmYXVsdHMubWV0aG9kP3QubWV0aG9kPXRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk6dC5tZXRob2Q9ImdldCI7dmFyIG49dC50cmFuc2l0aW9uYWw7biE9PXZvaWQgMCYmY24uYXNzZXJ0T3B0aW9ucyhuLHtzaWxlbnRKU09OUGFyc2luZzpUZS50cmFuc2l0aW9uYWwoVGUuYm9vbGVhbiksZm9yY2VkSlNPTlBhcnNpbmc6VGUudHJhbnNpdGlvbmFsKFRlLmJvb2xlYW4pLGNsYXJpZnlUaW1lb3V0RXJyb3I6VGUudHJhbnNpdGlvbmFsKFRlLmJvb2xlYW4pfSwhMSk7dmFyIGk9W10sbz0hMDt0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24oXyl7dHlwZW9mIF8ucnVuV2hlbj09ImZ1bmN0aW9uIiYmXy5ydW5XaGVuKHQpPT09ITF8fChvPW8mJl8uc3luY2hyb25vdXMsaS51bnNoaWZ0KF8uZnVsZmlsbGVkLF8ucmVqZWN0ZWQpKX0pO3ZhciBzPVtdO3RoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24oXyl7cy5wdXNoKF8uZnVsZmlsbGVkLF8ucmVqZWN0ZWQpfSk7dmFyIGE7aWYoIW8pe3ZhciB1PVt1bix2b2lkIDBdO2ZvcihBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseSh1LGkpLHU9dS5jb25jYXQocyksYT1Qcm9taXNlLnJlc29sdmUodCk7dS5sZW5ndGg7KWE9YS50aGVuKHUuc2hpZnQoKSx1LnNoaWZ0KCkpO3JldHVybiBhfWZvcih2YXIgZj10O2kubGVuZ3RoOyl7dmFyIGM9aS5zaGlmdCgpLGQ9aS5zaGlmdCgpO3RyeXtmPWMoZil9Y2F0Y2goeSl7ZCh5KTticmVha319dHJ5e2E9dW4oZil9Y2F0Y2goeSl7cmV0dXJuIFByb21pc2UucmVqZWN0KHkpfWZvcig7cy5sZW5ndGg7KWE9YS50aGVuKHMuc2hpZnQoKSxzLnNoaWZ0KCkpO3JldHVybiBhfSxNZS5wcm90b3R5cGUuZ2V0VXJpPWZ1bmN0aW9uKGUpe2lmKCFlLnVybCl0aHJvdyBuZXcgRXJyb3IoIlByb3ZpZGVkIGNvbmZpZyB1cmwgaXMgbm90IHZhbGlkIik7cmV0dXJuIGU9WmUodGhpcy5kZWZhdWx0cyxlKSxKbyhlLnVybCxlLnBhcmFtcyxlLnBhcmFtc1NlcmlhbGl6ZXIpLnJlcGxhY2UoL15cPy8sIiIpfSxzbi5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCIsIm9wdGlvbnMiXSxmdW5jdGlvbihlKXtNZS5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KFplKG58fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOihufHx7fSkuZGF0YX0pKX19KSxzbi5mb3JFYWNoKFsicG9zdCIsInB1dCIsInBhdGNoIl0sZnVuY3Rpb24oZSl7TWUucHJvdG90eXBlW2VdPWZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KFplKGl8fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOm59KSl9fSk7dmFyIFpvPU1lLGVzPVllO2Z1bmN0aW9uIEFlKHIpe2lmKHR5cGVvZiByIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoImV4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4iKTt2YXIgZTt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24oaSl7ZT1pfSk7dmFyIHQ9dGhpczt0aGlzLnByb21pc2UudGhlbihmdW5jdGlvbihuKXtpZighIXQuX2xpc3RlbmVycyl7dmFyIGksbz10Ll9saXN0ZW5lcnMubGVuZ3RoO2ZvcihpPTA7aTxvO2krKyl0Ll9saXN0ZW5lcnNbaV0obik7dC5fbGlzdGVuZXJzPW51bGx9fSksdGhpcy5wcm9taXNlLnRoZW49ZnVuY3Rpb24obil7dmFyIGksbz1uZXcgUHJvbWlzZShmdW5jdGlvbihzKXt0LnN1YnNjcmliZShzKSxpPXN9KS50aGVuKG4pO3JldHVybiBvLmNhbmNlbD1mdW5jdGlvbigpe3QudW5zdWJzY3JpYmUoaSl9LG99LHIoZnVuY3Rpb24oaSl7dC5yZWFzb258fCh0LnJlYXNvbj1uZXcgZXMoaSksZSh0LnJlYXNvbikpfSl9QWUucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJlYXNvbil0aHJvdyB0aGlzLnJlYXNvbn0sQWUucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlKXtpZih0aGlzLnJlYXNvbil7ZSh0aGlzLnJlYXNvbik7cmV0dXJufXRoaXMuX2xpc3RlbmVycz90aGlzLl9saXN0ZW5lcnMucHVzaChlKTp0aGlzLl9saXN0ZW5lcnM9W2VdfSxBZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7aWYoISF0aGlzLl9saXN0ZW5lcnMpe3ZhciB0PXRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGUpO3QhPT0tMSYmdGhpcy5fbGlzdGVuZXJzLnNwbGljZSh0LDEpfX0sQWUuc291cmNlPWZ1bmN0aW9uKCl7dmFyIGUsdD1uZXcgQWUoZnVuY3Rpb24oaSl7ZT1pfSk7cmV0dXJue3Rva2VuOnQsY2FuY2VsOmV9fTt2YXIgdHM9QWUscnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlLmFwcGx5KG51bGwsbil9fSxucz1HLGlzPWZ1bmN0aW9uKGUpe3JldHVybiBucy5pc09iamVjdChlKSYmZS5pc0F4aW9zRXJyb3I9PT0hMH0sZm49Ryxvcz16cixldD1abyxzcz1ybixhcz1KZTtmdW5jdGlvbiBsbihyKXt2YXIgZT1uZXcgZXQociksdD1vcyhldC5wcm90b3R5cGUucmVxdWVzdCxlKTtyZXR1cm4gZm4uZXh0ZW5kKHQsZXQucHJvdG90eXBlLGUpLGZuLmV4dGVuZCh0LGUpLHQuY3JlYXRlPWZ1bmN0aW9uKGkpe3JldHVybiBsbihzcyhyLGkpKX0sdH12YXIgSj1sbihhcyk7Si5BeGlvcz1ldCxKLkNhbmNlbD1ZZSxKLkNhbmNlbFRva2VuPXRzLEouaXNDYW5jZWw9ZW4sSi5WRVJTSU9OPW5uLnZlcnNpb24sSi5hbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UuYWxsKGUpfSxKLnNwcmVhZD1ycyxKLmlzQXhpb3NFcnJvcj1pcyxPdC5leHBvcnRzPUosT3QuZXhwb3J0cy5kZWZhdWx0PUo7dmFyIHVzPU90LmV4cG9ydHM7Y2xhc3MgVHtpc0VtcHR5KCl7cmV0dXJuIXRoaXMuaXNQcmVzZW50KCl9c3RhdGljIG9mKGUpe2lmKGUhPW51bGwpcmV0dXJuIG5ldyBkbihlKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgcGFzc2VkIHZhbHVlIHdhcyBudWxsIG9yIHVuZGVmaW5lZC4iKX1zdGF0aWMgb2ZOb25OdWxsKGUpe3JldHVybiBULm9mKGUpfXN0YXRpYyBvZk51bGxhYmxlKGUpe3JldHVybiBlIT1udWxsP25ldyBkbihlKTpuZXcgbW59c3RhdGljIGVtcHR5KCl7cmV0dXJuIG5ldyBtbn1zdGF0aWMgZnJvbShlKXtzd2l0Y2goZS5raW5kKXtjYXNlInByZXNlbnQiOnJldHVybiBULm9mKGUudmFsdWUpO2Nhc2UiZW1wdHkiOnJldHVybiBULmVtcHR5KCk7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgcGFzc2VkIHZhbHVlIHdhcyBub3QgYW4gT3B0aW9uIHR5cGUuIil9fX1jbGFzcyBkbiBleHRlbmRzIFR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnBheWxvYWQ9ZX1pc1ByZXNlbnQoKXtyZXR1cm4hMH1nZXQoKXtyZXR1cm4gdGhpcy5wYXlsb2FkfWlmUHJlc2VudChlKXtlKHRoaXMucGF5bG9hZCl9aWZQcmVzZW50T3JFbHNlKGUsdCl7ZSh0aGlzLnBheWxvYWQpfWZpbHRlcihlKXtyZXR1cm4gZSh0aGlzLnBheWxvYWQpP3RoaXM6VC5lbXB0eSgpfW1hcChlKXtjb25zdCB0PWUodGhpcy5wYXlsb2FkKTtyZXR1cm4gVC5vZk51bGxhYmxlKHQpfWZsYXRNYXAoZSl7cmV0dXJuIGUodGhpcy5wYXlsb2FkKX1vcihlKXtyZXR1cm4gdGhpc31vckVsc2UoZSl7cmV0dXJuIHRoaXMucGF5bG9hZH1vckVsc2VHZXQoZSl7cmV0dXJuIHRoaXMucGF5bG9hZH1vckVsc2VUaHJvdyhlKXtyZXR1cm4gdGhpcy5wYXlsb2FkfW9yTnVsbCgpe3JldHVybiB0aGlzLnBheWxvYWR9b3JVbmRlZmluZWQoKXtyZXR1cm4gdGhpcy5wYXlsb2FkfXRvT3B0aW9uKCl7cmV0dXJue2tpbmQ6InByZXNlbnQiLHZhbHVlOnRoaXMucGF5bG9hZH19bWF0Y2hlcyhlKXtyZXR1cm4gZS5wcmVzZW50KHRoaXMucGF5bG9hZCl9dG9KU09OKGUpe3JldHVybiB0aGlzLnBheWxvYWR9fWNsYXNzIG1uIGV4dGVuZHMgVHtpc1ByZXNlbnQoKXtyZXR1cm4hMX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCl9Z2V0KCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIG9wdGlvbmFsIGlzIG5vdCBwcmVzZW50LiIpfWlmUHJlc2VudChlKXt9aWZQcmVzZW50T3JFbHNlKGUsdCl7dCgpfWZpbHRlcihlKXtyZXR1cm4gdGhpc31tYXAoZSl7cmV0dXJuIFQuZW1wdHkoKX1mbGF0TWFwKGUpe3JldHVybiBULmVtcHR5KCl9b3IoZSl7cmV0dXJuIGUoKX1vckVsc2UoZSl7cmV0dXJuIGV9b3JFbHNlR2V0KGUpe3JldHVybiB0aGlzLm9yRWxzZShlKCkpfW9yRWxzZVRocm93KGUpe3Rocm93IGUoKX1vck51bGwoKXtyZXR1cm4gbnVsbH1vclVuZGVmaW5lZCgpe310b09wdGlvbigpe3JldHVybntraW5kOiJlbXB0eSJ9fW1hdGNoZXMoZSl7cmV0dXJuIGUuZW1wdHkoKX10b0pTT04oZSl7cmV0dXJuIG51bGx9fWNvbnN0IGNzPSIyLjAuMCI7ZnVuY3Rpb24gZnMocil7Z2xvYmFsVGhpcy5fdm9uYWdlTWVkaWFQcm9jZXNzb3JNZXRhZGF0YT1yfWZ1bmN0aW9uIGxzKCl7cmV0dXJuIGdsb2JhbFRoaXMuX3ZvbmFnZU1lZGlhUHJvY2Vzc29yTWV0YWRhdGF9Y2xhc3MgSHtjb25zdHJ1Y3Rvcigpe2NvbnN0IGU9bHMoKTt0aGlzLl9yZXBvcnQ9e2FjdGlvbjpULmVtcHR5KCksYXBwbGljYXRpb25JZDpULm9mTnVsbGFibGUoZSE9PXZvaWQgMCYmZSE9bnVsbD9lLmFwcElkOm51bGwpLHRpbWVzdGFtcDpEYXRlLm5vdygpLGZwczpULmVtcHR5KCksZnJhbWVzVHJhbnNmb3JtZWQ6VC5lbXB0eSgpLGd1aWQ6VC5lbXB0eSgpLGhpZ2hlc3RGcmFtZVRyYW5zZm9ybUNwdTpULmVtcHR5KCksbWVzc2FnZTpULmVtcHR5KCksc291cmNlOlQub2ZOdWxsYWJsZShlIT09dm9pZCAwJiZlIT1udWxsP2Uuc291cmNlVHlwZTpudWxsKSx0cmFuc2Zvcm1lZEZwczpULmVtcHR5KCksdHJhbnNmb3JtZXJUeXBlOlQuZW1wdHkoKSx2YXJpYXRpb246VC5lbXB0eSgpLHZpZGVvSGVpZ2h0OlQuZW1wdHkoKSx2aWRlb1dpZHRoOlQuZW1wdHkoKSx2ZXJzaW9uOmNzLGVycm9yOlQuZW1wdHkoKSxwcm94eVVybDpULm9mTnVsbGFibGUoZSE9PXZvaWQgMCYmZSE9bnVsbD9lLnByb3h5VXJsOm51bGwpfX1hY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC5hY3Rpb249VC5vZk51bGxhYmxlKGUpLHRoaXN9ZnJhbWVzVHJhbnNmb3JtZWQoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC5mcmFtZXNUcmFuc2Zvcm1lZD1ULm9mTnVsbGFibGUoZSksdGhpc31mcHMoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC5mcHM9VC5vZk51bGxhYmxlKGUpLHRoaXN9Z3VpZChlKXtyZXR1cm4gdGhpcy5fcmVwb3J0Lmd1aWQ9VC5vZk51bGxhYmxlKGUpLHRoaXN9bWVzc2FnZShlKXtyZXR1cm4gdGhpcy5fcmVwb3J0Lm1lc3NhZ2U9VC5vZk51bGxhYmxlKGUpLHRoaXN9dHJhbnNmb3JtZWRGcHMoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC50cmFuc2Zvcm1lZEZwcz1ULm9mTnVsbGFibGUoZSksdGhpc310cmFuc2Zvcm1lclR5cGUoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC50cmFuc2Zvcm1lclR5cGU9VC5vZk51bGxhYmxlKGUpLHRoaXN9dmFyaWF0aW9uKGUpe3JldHVybiB0aGlzLl9yZXBvcnQudmFyaWF0aW9uPVQub2ZOdWxsYWJsZShlKSx0aGlzfXZpZGVvSGVpZ2h0KGUpe3JldHVybiB0aGlzLl9yZXBvcnQudmlkZW9IZWlnaHQ9VC5vZk51bGxhYmxlKGUpLHRoaXN9dmlkZW9XaWR0aChlKXtyZXR1cm4gdGhpcy5fcmVwb3J0LnZpZGVvV2lkdGg9VC5vZk51bGxhYmxlKGUpLHRoaXN9ZXJyb3IoZSl7cmV0dXJuIHRoaXMuX3JlcG9ydC5lcnJvcj1ULm9mTnVsbGFibGUoZSksdGhpc31idWlsZCgpe3JldHVybiB0aGlzLl9yZXBvcnR9fWNvbnN0IGRzPXI9PkpTT04uc3RyaW5naWZ5KHIsKGUsdCk9PntpZih0IT09bnVsbClyZXR1cm4gdH0pO2NsYXNzIFZ7c3RhdGljIHJlcG9ydChlKXtyZXR1cm4gbmV3IFByb21pc2UoKHQsbik9PntpZihlLmFwcGxpY2F0aW9uSWQuaXNFbXB0eSgpfHxlLnNvdXJjZS5pc0VtcHR5KCkpe3QoInN1Y2Nlc3MiKTtyZXR1cm59bGV0IGk9dXMuY3JlYXRlKCksbz17dGltZW91dDoxZTQsdGltZW91dEVycm9yTWVzc2FnZToiUmVxdWVzdCB0aW1lb3V0IixoZWFkZXJzOnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9fSxzPSJobGcudG9rYm94LmNvbS9wcm9kL2xvZ2dpbmcvdmNwX3dlYnJ0YyI7aWYoZS5wcm94eVVybC5pc0VtcHR5KCkpcz0iaHR0cHM6Ly8iK3M7ZWxzZXtsZXQgYTtlLnByb3h5VXJsLmdldCgpLnNsaWNlKGUucHJveHlVcmwuZ2V0KCkubGVuZ3RoLTEpIT09Ii8iP2E9ZS5wcm94eVVybC5nZXQoKSsiLyI6YT1lLnByb3h5VXJsLmdldCgpLHM9YStzfWkucG9zdChzLGRzKGUpLG8pLnRoZW4oYT0+e2NvbnNvbGUubG9nKGEpLHQoInN1Y2Nlc3MiKX0pLmNhdGNoKGE9Pntjb25zb2xlLmxvZyhhKSxuKGEpfSl9KX19dmFyIHR0LG1zPW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBocygpe2lmKCF0dCYmKHR0PXR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8dHlwZW9mIG1zQ3J5cHRvPCJ1IiYmdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcz09ImZ1bmN0aW9uIiYmbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pLCF0dCkpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiB0dChtcyl9dmFyIHBzPS9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtmdW5jdGlvbiB5cyhyKXtyZXR1cm4gdHlwZW9mIHI9PSJzdHJpbmciJiZwcy50ZXN0KHIpfWZvcih2YXIgTj1bXSxXdD0wO1d0PDI1NjsrK1d0KU4ucHVzaCgoV3QrMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpKTtmdW5jdGlvbiBfcyhyKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MCx0PShOW3JbZSswXV0rTltyW2UrMV1dK05bcltlKzJdXStOW3JbZSszXV0rIi0iK05bcltlKzRdXStOW3JbZSs1XV0rIi0iK05bcltlKzZdXStOW3JbZSs3XV0rIi0iK05bcltlKzhdXStOW3JbZSs5XV0rIi0iK05bcltlKzEwXV0rTltyW2UrMTFdXStOW3JbZSsxMl1dK05bcltlKzEzXV0rTltyW2UrMTRdXStOW3JbZSsxNV1dKS50b0xvd2VyQ2FzZSgpO2lmKCF5cyh0KSl0aHJvdyBUeXBlRXJyb3IoIlN0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCIpO3JldHVybiB0fWZ1bmN0aW9uIGhuKHIsZSx0KXtyPXJ8fHt9O3ZhciBuPXIucmFuZG9tfHwoci5ybmd8fGhzKSgpO2lmKG5bNl09bls2XSYxNXw2NCxuWzhdPW5bOF0mNjN8MTI4LGUpe3Q9dHx8MDtmb3IodmFyIGk9MDtpPDE2OysraSllW3QraV09bltpXTtyZXR1cm4gZX1yZXR1cm4gX3Mobil9Y29uc3Qgc2U9bmV3IFdlYWtNYXAscnQ9bmV3IFdlYWtNYXAsQ2U9bmV3IFdlYWtNYXAsanQ9U3ltYm9sKCJhbnlQcm9kdWNlciIpLHBuPVByb21pc2UucmVzb2x2ZSgpLG50PVN5bWJvbCgibGlzdGVuZXJBZGRlZCIpLGl0PVN5bWJvbCgibGlzdGVuZXJSZW1vdmVkIik7bGV0IHF0PSExO2Z1bmN0aW9uIHdlKHIpe2lmKHR5cGVvZiByIT0ic3RyaW5nIiYmdHlwZW9mIHIhPSJzeW1ib2wiKXRocm93IG5ldyBUeXBlRXJyb3IoImV2ZW50TmFtZSBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgc3ltYm9sIil9ZnVuY3Rpb24gb3Qocil7aWYodHlwZW9mIHIhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gUmUocixlKXtjb25zdCB0PXJ0LmdldChyKTtyZXR1cm4gdC5oYXMoZSl8fHQuc2V0KGUsbmV3IFNldCksdC5nZXQoZSl9ZnVuY3Rpb24gT2UocixlKXtjb25zdCB0PXR5cGVvZiBlPT0ic3RyaW5nInx8dHlwZW9mIGU9PSJzeW1ib2wiP2U6anQsbj1DZS5nZXQocik7cmV0dXJuIG4uaGFzKHQpfHxuLnNldCh0LG5ldyBTZXQpLG4uZ2V0KHQpfWZ1bmN0aW9uIHhzKHIsZSx0KXtjb25zdCBuPUNlLmdldChyKTtpZihuLmhhcyhlKSlmb3IoY29uc3QgaSBvZiBuLmdldChlKSlpLmVucXVldWUodCk7aWYobi5oYXMoanQpKXtjb25zdCBpPVByb21pc2UuYWxsKFtlLHRdKTtmb3IoY29uc3QgbyBvZiBuLmdldChqdCkpby5lbnF1ZXVlKGkpfX1mdW5jdGlvbiB5bihyLGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtsZXQgdD0hMSxuPSgpPT57fSxpPVtdO2NvbnN0IG89e2VucXVldWUocyl7aS5wdXNoKHMpLG4oKX0sZmluaXNoKCl7dD0hMCxuKCl9fTtmb3IoY29uc3QgcyBvZiBlKU9lKHIscykuYWRkKG8pO3JldHVybnthc3luYyBuZXh0KCl7cmV0dXJuIGk/aS5sZW5ndGg9PT0wP3Q/KGk9dm9pZCAwLHRoaXMubmV4dCgpKTooYXdhaXQgbmV3IFByb21pc2Uocz0+e249c30pLHRoaXMubmV4dCgpKTp7ZG9uZTohMSx2YWx1ZTphd2FpdCBpLnNoaWZ0KCl9Ontkb25lOiEwfX0sYXN5bmMgcmV0dXJuKHMpe2k9dm9pZCAwO2Zvcihjb25zdCBhIG9mIGUpT2UocixhKS5kZWxldGUobyk7cmV0dXJuIG4oKSxhcmd1bWVudHMubGVuZ3RoPjA/e2RvbmU6ITAsdmFsdWU6YXdhaXQgc306e2RvbmU6ITB9fSxbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9fX1mdW5jdGlvbiBfbihyKXtpZihyPT09dm9pZCAwKXJldHVybiB4bjtpZighQXJyYXkuaXNBcnJheShyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpO2Zvcihjb25zdCBlIG9mIHIpaWYoIXhuLmluY2x1ZGVzKGUpKXRocm93IHR5cGVvZiBlIT0ic3RyaW5nIj9uZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIGVsZW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpOm5ldyBFcnJvcihgJHtlfSBpcyBub3QgRW1pdHRlcnkgbWV0aG9kYCk7cmV0dXJuIHJ9Y29uc3QgWHQ9cj0+cj09PW50fHxyPT09aXQ7Y2xhc3MgaGV7c3RhdGljIG1peGluKGUsdCl7cmV0dXJuIHQ9X24odCksbj0+e2lmKHR5cGVvZiBuIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoImB0YXJnZXRgIG11c3QgYmUgZnVuY3Rpb24iKTtmb3IoY29uc3QgcyBvZiB0KWlmKG4ucHJvdG90eXBlW3NdIT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgVGhlIHByb3BlcnR5IFxgJHtzfVxgIGFscmVhZHkgZXhpc3RzIG9uIFxgdGFyZ2V0XGBgKTtmdW5jdGlvbiBpKCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2VudW1lcmFibGU6ITEsdmFsdWU6bmV3IGhlfSksdGhpc1tlXX1PYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsZSx7ZW51bWVyYWJsZTohMSxnZXQ6aX0pO2NvbnN0IG89cz0+ZnVuY3Rpb24oLi4uYSl7cmV0dXJuIHRoaXNbZV1bc10oLi4uYSl9O2Zvcihjb25zdCBzIG9mIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLHMse2VudW1lcmFibGU6ITEsdmFsdWU6byhzKX0pO3JldHVybiBufX1zdGF0aWMgZ2V0IGlzRGVidWdFbmFibGVkKCl7aWYodHlwZW9mIHByb2Nlc3MhPSJvYmplY3QiKXJldHVybiBxdDtjb25zdHtlbnY6ZX09cHJvY2Vzc3x8e2Vudjp7fX07cmV0dXJuIGUuREVCVUc9PT0iZW1pdHRlcnkifHxlLkRFQlVHPT09IioifHxxdH1zdGF0aWMgc2V0IGlzRGVidWdFbmFibGVkKGUpe3F0PWV9Y29uc3RydWN0b3IoZT17fSl7c2Uuc2V0KHRoaXMsbmV3IFNldCkscnQuc2V0KHRoaXMsbmV3IE1hcCksQ2Uuc2V0KHRoaXMsbmV3IE1hcCksdGhpcy5kZWJ1Zz1lLmRlYnVnfHx7fSx0aGlzLmRlYnVnLmVuYWJsZWQ9PT12b2lkIDAmJih0aGlzLmRlYnVnLmVuYWJsZWQ9ITEpLHRoaXMuZGVidWcubG9nZ2VyfHwodGhpcy5kZWJ1Zy5sb2dnZXI9KHQsbixpLG8pPT57bz1KU09OLnN0cmluZ2lmeShvKSx0eXBlb2YgaT09InN5bWJvbCImJihpPWkudG9TdHJpbmcoKSk7Y29uc3Qgcz1uZXcgRGF0ZSxhPWAke3MuZ2V0SG91cnMoKX06JHtzLmdldE1pbnV0ZXMoKX06JHtzLmdldFNlY29uZHMoKX0uJHtzLmdldE1pbGxpc2Vjb25kcygpfWA7Y29uc29sZS5sb2coYFske2F9XVtlbWl0dGVyeToke3R9XVske259XSBFdmVudCBOYW1lOiAke2l9CglkYXRhOiAke299YCl9KX1sb2dJZkRlYnVnRW5hYmxlZChlLHQsbil7KGhlLmlzRGVidWdFbmFibGVkfHx0aGlzLmRlYnVnLmVuYWJsZWQpJiZ0aGlzLmRlYnVnLmxvZ2dlcihlLHRoaXMuZGVidWcubmFtZSx0LG4pfW9uKGUsdCl7b3QodCksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCBuIG9mIGUpd2UobiksUmUodGhpcyxuKS5hZGQodCksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlIixuLHZvaWQgMCksWHQobil8fHRoaXMuZW1pdChudCx7ZXZlbnROYW1lOm4sbGlzdGVuZXI6dH0pO3JldHVybiB0aGlzLm9mZi5iaW5kKHRoaXMsZSx0KX1vZmYoZSx0KXtvdCh0KSxlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07Zm9yKGNvbnN0IG4gb2YgZSl3ZShuKSxSZSh0aGlzLG4pLmRlbGV0ZSh0KSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZSIsbix2b2lkIDApLFh0KG4pfHx0aGlzLmVtaXQoaXQse2V2ZW50TmFtZTpuLGxpc3RlbmVyOnR9KX1vbmNlKGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57Y29uc3Qgbj10aGlzLm9uKGUsaT0+e24oKSx0KGkpfSl9KX1ldmVudHMoZSl7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCB0IG9mIGUpd2UodCk7cmV0dXJuIHluKHRoaXMsZSl9YXN5bmMgZW1pdChlLHQpe3dlKGUpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImVtaXQiLGUsdCkseHModGhpcyxlLHQpO2NvbnN0IG49UmUodGhpcyxlKSxpPXNlLmdldCh0aGlzKSxvPVsuLi5uXSxzPVh0KGUpP1tdOlsuLi5pXTthd2FpdCBwbixhd2FpdCBQcm9taXNlLmFsbChbLi4uby5tYXAoYXN5bmMgYT0+e2lmKG4uaGFzKGEpKXJldHVybiBhKHQpfSksLi4ucy5tYXAoYXN5bmMgYT0+e2lmKGkuaGFzKGEpKXJldHVybiBhKGUsdCl9KV0pfWFzeW5jIGVtaXRTZXJpYWwoZSx0KXt3ZShlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0U2VyaWFsIixlLHQpO2NvbnN0IG49UmUodGhpcyxlKSxpPXNlLmdldCh0aGlzKSxvPVsuLi5uXSxzPVsuLi5pXTthd2FpdCBwbjtmb3IoY29uc3QgYSBvZiBvKW4uaGFzKGEpJiZhd2FpdCBhKHQpO2Zvcihjb25zdCBhIG9mIHMpaS5oYXMoYSkmJmF3YWl0IGEoZSx0KX1vbkFueShlKXtyZXR1cm4gb3QoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlQW55Iix2b2lkIDAsdm9pZCAwKSxzZS5nZXQodGhpcykuYWRkKGUpLHRoaXMuZW1pdChudCx7bGlzdGVuZXI6ZX0pLHRoaXMub2ZmQW55LmJpbmQodGhpcyxlKX1hbnlFdmVudCgpe3JldHVybiB5bih0aGlzKX1vZmZBbnkoZSl7b3QoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmVBbnkiLHZvaWQgMCx2b2lkIDApLHRoaXMuZW1pdChpdCx7bGlzdGVuZXI6ZX0pLHNlLmdldCh0aGlzKS5kZWxldGUoZSl9Y2xlYXJMaXN0ZW5lcnMoZSl7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCB0IG9mIGUpaWYodGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiY2xlYXIiLHQsdm9pZCAwKSx0eXBlb2YgdD09InN0cmluZyJ8fHR5cGVvZiB0PT0ic3ltYm9sIil7UmUodGhpcyx0KS5jbGVhcigpO2NvbnN0IG49T2UodGhpcyx0KTtmb3IoY29uc3QgaSBvZiBuKWkuZmluaXNoKCk7bi5jbGVhcigpfWVsc2V7c2UuZ2V0KHRoaXMpLmNsZWFyKCk7Zm9yKGNvbnN0IG4gb2YgcnQuZ2V0KHRoaXMpLnZhbHVlcygpKW4uY2xlYXIoKTtmb3IoY29uc3QgbiBvZiBDZS5nZXQodGhpcykudmFsdWVzKCkpe2Zvcihjb25zdCBpIG9mIG4paS5maW5pc2goKTtuLmNsZWFyKCl9fX1saXN0ZW5lckNvdW50KGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtsZXQgdD0wO2Zvcihjb25zdCBuIG9mIGUpe2lmKHR5cGVvZiBuPT0ic3RyaW5nIil7dCs9c2UuZ2V0KHRoaXMpLnNpemUrUmUodGhpcyxuKS5zaXplK09lKHRoaXMsbikuc2l6ZStPZSh0aGlzKS5zaXplO2NvbnRpbnVlfXR5cGVvZiBuPCJ1IiYmd2UobiksdCs9c2UuZ2V0KHRoaXMpLnNpemU7Zm9yKGNvbnN0IGkgb2YgcnQuZ2V0KHRoaXMpLnZhbHVlcygpKXQrPWkuc2l6ZTtmb3IoY29uc3QgaSBvZiBDZS5nZXQodGhpcykudmFsdWVzKCkpdCs9aS5zaXplfXJldHVybiB0fWJpbmRNZXRob2RzKGUsdCl7aWYodHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJgdGFyZ2V0YCBtdXN0IGJlIGFuIG9iamVjdCIpO3Q9X24odCk7Zm9yKGNvbnN0IG4gb2YgdCl7aWYoZVtuXSE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm9wZXJ0eSBcYCR7bn1cYCBhbHJlYWR5IGV4aXN0cyBvbiBcYHRhcmdldFxgYCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMSx2YWx1ZTp0aGlzW25dLmJpbmQodGhpcyl9KX19fWNvbnN0IHhuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlLnByb3RvdHlwZSkuZmlsdGVyKHI9PnIhPT0iY29uc3RydWN0b3IiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaGUsImxpc3RlbmVyQWRkZWQiLHt2YWx1ZTpudCx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoZSwibGlzdGVuZXJSZW1vdmVkIix7dmFsdWU6aXQsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KTt2YXIgWXQ9aGU7ZnVuY3Rpb24gZ3Mocil7cmV0dXJuIHR5cGVvZiByPT0ib2JqZWN0IiYmciE9PW51bGwmJiJtZXNzYWdlImluIHImJnR5cGVvZiByLm1lc3NhZ2U9PSJzdHJpbmcifWZ1bmN0aW9uIGJzKHIpe2lmKGdzKHIpKXJldHVybiByO3RyeXtyZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHIpKX1jYXRjaHtyZXR1cm4gbmV3IEVycm9yKFN0cmluZyhyKSl9fWZ1bmN0aW9uIFF0KHIpe3JldHVybiBicyhyKS5tZXNzYWdlfXZhciBLdD0ocj0+KHIucGlwZWxpbmVfZW5kZWQ9InBpcGVsaW5lX2VuZGVkIixyLnBpcGVsaW5lX2VuZGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX2VuZGVkX3dpdGhfZXJyb3IiLHIucGlwZWxpbmVfc3RhcnRlZD0icGlwZWxpbmVfc3RhcnRlZCIsci5waXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciIsci5waXBlbGluZV9yZXN0YXJ0ZWQ9InBpcGVsaW5lX3Jlc3RhcnRlZCIsci5waXBlbGluZV9yZXN0YXJ0ZWRfd2l0aF9lcnJvcj0icGlwZWxpbmVfcmVzdGFydGVkX3dpdGhfZXJyb3IiLHIpKShLdHx8e30pO2NvbnN0IHZzPTUwMCxFcz0uODtjbGFzcyBUcyBleHRlbmRzIFl0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLmluZGV4Xz10LHRoaXMudXVpZF89aG4oKSx0aGlzLmZyYW1lc1RyYW5zZm9ybWVkXz0wLHRoaXMudHJhbnNmb3JtZXJfPWUsdGhpcy5zaG91bGRTdG9wXz0hMSx0aGlzLmlzRmxhc2hlZF89ITEsdGhpcy5mcmFtZXNGcm9tU291cmNlXz0wLHRoaXMuZnBzXz0wLHRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXz0wLHRoaXMudmlkZW9IZWlnaHRfPTAsdGhpcy52aWRlb1dpZHRoXz0wLHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfPS0xLHRoaXMudHJhbnNmb3JtZXJUeXBlXz0iQ3VzdG9tIiwiZ2V0VHJhbnNmb3JtZXJUeXBlImluIGUmJih0aGlzLnRyYW5zZm9ybWVyVHlwZV89ZS5nZXRUcmFuc2Zvcm1lclR5cGUoKSk7Y29uc3Qgbj1uZXcgSCgpLmFjdGlvbigiTWVkaWFUcmFuc2Zvcm1lciIpLmd1aWQodGhpcy51dWlkXykudHJhbnNmb3JtZXJUeXBlKHRoaXMudHJhbnNmb3JtZXJUeXBlXykudmFyaWF0aW9uKCJDcmVhdGUiKS5idWlsZCgpO1YucmVwb3J0KG4pfXNldFRyYWNrRXhwZWN0ZWRSYXRlKGUpe3RoaXMudHJhY2tFeHBlY3RlZFJhdGVfPWV9YXN5bmMgc3RhcnQoZSl7aWYodGhpcy5jb250cm9sbGVyXz1lLHRoaXMudHJhbnNmb3JtZXJfJiZ0eXBlb2YgdGhpcy50cmFuc2Zvcm1lcl8uc3RhcnQ9PSJmdW5jdGlvbiIpdHJ5e2F3YWl0IHRoaXMudHJhbnNmb3JtZXJfLnN0YXJ0KGUpfWNhdGNoKHQpe2NvbnN0IG49bmV3IEgoKS5hY3Rpb24oIk1lZGlhVHJhbnNmb3JtZXIiKS5ndWlkKHRoaXMudXVpZF8pLm1lc3NhZ2UobmUuZXJyb3JzLnRyYW5zZm9ybWVyX3N0YXJ0KS50cmFuc2Zvcm1lclR5cGUodGhpcy50cmFuc2Zvcm1lclR5cGVfKS52YXJpYXRpb24oIkVycm9yIikuZXJyb3IoUXQodCkpLmJ1aWxkKCk7Vi5yZXBvcnQobik7Y29uc3QgaT17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sZXJyb3I6dCxmdW5jdGlvbjoic3RhcnQifTt0aGlzLmVtaXQoImVycm9yIixpKX19YXN5bmMgdHJhbnNmb3JtKGUsdCl7dmFyIG4saSxvLHM7aWYodGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPT09MCYmKHRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXz1EYXRlLm5vdygpKSxlIGluc3RhbmNlb2YgVmlkZW9GcmFtZSYmKHRoaXMudmlkZW9IZWlnaHRfPShuPWU9PW51bGw/dm9pZCAwOmUuZGlzcGxheUhlaWdodCkhPW51bGw/bjowLHRoaXMudmlkZW9XaWR0aF89KGk9ZT09bnVsbD92b2lkIDA6ZS5kaXNwbGF5V2lkdGgpIT1udWxsP2k6MCksKyt0aGlzLmZyYW1lc0Zyb21Tb3VyY2VfLHRoaXMudHJhbnNmb3JtZXJfKWlmKHRoaXMuc2hvdWxkU3RvcF8pY29uc29sZS53YXJuKCJbUGlwZWxpbmVdIGZsdXNoIGZyb20gdHJhbnNmb3JtIiksZS5jbG9zZSgpLHRoaXMuZmx1c2godCksdC50ZXJtaW5hdGUoKTtlbHNlIHRyeXthd2FpdCgocz0obz10aGlzLnRyYW5zZm9ybWVyXykudHJhbnNmb3JtKT09bnVsbD92b2lkIDA6cy5jYWxsKG8sZSx0KSksKyt0aGlzLmZyYW1lc1RyYW5zZm9ybWVkXyx0aGlzLmZyYW1lc1RyYW5zZm9ybWVkXz09PXZzJiZ0aGlzLm1lZGlhVHJhbnNmb3JtZXJRb3NSZXBvcnQoKX1jYXRjaChhKXtjb25zdCB1PW5ldyBIKCkuYWN0aW9uKCJNZWRpYVRyYW5zZm9ybWVyIikuZ3VpZCh0aGlzLnV1aWRfKS5tZXNzYWdlKG5lLmVycm9ycy50cmFuc2Zvcm1lcl90cmFuc2Zvcm0pLnRyYW5zZm9ybWVyVHlwZSh0aGlzLnRyYW5zZm9ybWVyVHlwZV8pLnZhcmlhdGlvbigiRXJyb3IiKS5lcnJvcihRdChhKSkuYnVpbGQoKTtWLnJlcG9ydCh1KTtjb25zdCBmPXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjphLGZ1bmN0aW9uOiJ0cmFuc2Zvcm0ifTt0aGlzLmVtaXQoImVycm9yIixmKX19YXN5bmMgZmx1c2goZSl7aWYodGhpcy50cmFuc2Zvcm1lcl8mJnR5cGVvZiB0aGlzLnRyYW5zZm9ybWVyXy5mbHVzaD09ImZ1bmN0aW9uIiYmIXRoaXMuaXNGbGFzaGVkXyl7dGhpcy5pc0ZsYXNoZWRfPSEwO3RyeXthd2FpdCB0aGlzLnRyYW5zZm9ybWVyXy5mbHVzaChlKX1jYXRjaChuKXtjb25zdCBpPW5ldyBIKCkuYWN0aW9uKCJNZWRpYVRyYW5zZm9ybWVyIikuZ3VpZCh0aGlzLnV1aWRfKS5tZXNzYWdlKG5lLmVycm9ycy50cmFuc2Zvcm1lcl9mbHVzaCkudHJhbnNmb3JtZXJUeXBlKHRoaXMudHJhbnNmb3JtZXJUeXBlXykudmFyaWF0aW9uKCJFcnJvciIpLmVycm9yKFF0KG4pKS5idWlsZCgpO1YucmVwb3J0KGkpO2NvbnN0IG89e2V2ZW50TWV0YURhdGE6e3RyYW5zZm9ybWVySW5kZXg6dGhpcy5pbmRleF99LGVycm9yOm4sZnVuY3Rpb246ImZsdXNoIn07dGhpcy5lbWl0KCJlcnJvciIsbyl9fXRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydCgpO2NvbnN0IHQ9bmV3IEgoKS5hY3Rpb24oIk1lZGlhVHJhbnNmb3JtZXIiKS5ndWlkKHRoaXMudXVpZF8pLnRyYW5zZm9ybWVyVHlwZSh0aGlzLnRyYW5zZm9ybWVyVHlwZV8pLnZhcmlhdGlvbigiRGVsZXRlIikuYnVpbGQoKTtWLnJlcG9ydCh0KX1zdG9wKCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gU3RvcCBzdHJlYW0uIiksdGhpcy5jb250cm9sbGVyXyYmKHRoaXMuZmx1c2godGhpcy5jb250cm9sbGVyXyksdGhpcy5jb250cm9sbGVyXy50ZXJtaW5hdGUoKSksdGhpcy5zaG91bGRTdG9wXz0hMH1tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0KCl7bGV0IGU9KERhdGUubm93KCktdGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfKS8xZTMsdD10aGlzLmZyYW1lc0Zyb21Tb3VyY2VfL2Usbj10aGlzLmZyYW1lc1RyYW5zZm9ybWVkXy9lO2lmKHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfIT0tMSYmdGhpcy50cmFja0V4cGVjdGVkUmF0ZV8qRXM+dCl7Y29uc3Qgbz17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sd2FybmluZ1R5cGU6ImZwc19kcm9wIixkcm9wSW5mbzp7cmVxdWVzdGVkOnRoaXMudHJhY2tFeHBlY3RlZFJhdGVfLGN1cnJlbnQ6dH19O3RoaXMuZW1pdCgid2FybiIsbyl9Y29uc3QgaT1uZXcgSCgpLmFjdGlvbigiTWVkaWFUcmFuc2Zvcm1lciIpLmZwcyh0KS50cmFuc2Zvcm1lZEZwcyhuKS5mcmFtZXNUcmFuc2Zvcm1lZCh0aGlzLmZyYW1lc1RyYW5zZm9ybWVkXykuZ3VpZCh0aGlzLnV1aWRfKS50cmFuc2Zvcm1lclR5cGUodGhpcy50cmFuc2Zvcm1lclR5cGVfKS52aWRlb0hlaWdodCh0aGlzLnZpZGVvSGVpZ2h0XykudmlkZW9XaWR0aCh0aGlzLnZpZGVvV2lkdGhfKS52YXJpYXRpb24oIlFvUyIpLmJ1aWxkKCk7Vi5yZXBvcnQoaSksdGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPTAsdGhpcy5mcmFtZXNGcm9tU291cmNlXz0wLHRoaXMuZnJhbWVzVHJhbnNmb3JtZWRfPTB9fWNsYXNzIEFzIGV4dGVuZHMgWXR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnRyYW5zZm9ybWVyc189W10sdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTE7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2xldCBuPW5ldyBUcyhlW3RdLHQpO24ub24oImVycm9yIixpPT57dGhpcy5lbWl0KCJlcnJvciIsaSl9KSxuLm9uKCJ3YXJuIixpPT57dGhpcy5lbWl0KCJ3YXJuIixpKX0pLHRoaXMudHJhbnNmb3JtZXJzXy5wdXNoKG4pfX1zZXRUcmFja0V4cGVjdGVkUmF0ZShlKXt0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz1lO2ZvcihsZXQgdCBvZiB0aGlzLnRyYW5zZm9ybWVyc18pdC5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyl9YXN5bmMgc3RhcnQoZSx0KXtpZighdGhpcy50cmFuc2Zvcm1lcnNffHx0aGlzLnRyYW5zZm9ybWVyc18ubGVuZ3RoPT09MCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gTm8gdHJhbnNmb3JtZXJzLiIpO3JldHVybn10cnl7bGV0IG49ZTtmb3IobGV0IGkgb2YgdGhpcy50cmFuc2Zvcm1lcnNfKWU9ZS5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKGkpKTtlLnBpcGVUbyh0KS50aGVuKGFzeW5jKCk9Pntjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBTZXR1cC4iKSxhd2FpdCB0LmFib3J0KCksYXdhaXQgbi5jYW5jZWwoKSx0aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsInBpcGVsaW5lX2VuZGVkIil9KS5jYXRjaChhc3luYyBpPT57ZS5jYW5jZWwoKS50aGVuKCgpPT57Y29uc29sZS5sb2coIltQaXBlbGluZV0gU2h1dHRpbmcgZG93biBzdHJlYW1zIGFmdGVyIGFib3J0LiIpfSkuY2F0Y2gobz0+e2NvbnNvbGUuZXJyb3IoIltQaXBlbGluZV0gRXJyb3IgZnJvbSBzdHJlYW0gdHJhbnNmb3JtOiIsbyl9KSxhd2FpdCB0LmFib3J0KGkpLGF3YWl0IG4uY2FuY2VsKGkpLHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIiwicGlwZWxpbmVfZW5kZWRfd2l0aF9lcnJvciIpfSl9Y2F0Y2h7dGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3IiKSx0aGlzLmRlc3Ryb3koKTtyZXR1cm59dGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9zdGFydGVkIiksY29uc29sZS5sb2coIltQaXBlbGluZV0gUGlwZWxpbmUgc3RhcnRlZC4iKX1hc3luYyBkZXN0cm95KCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gRGVzdHJveWluZyBQaXBlbGluZS4iKTtmb3IobGV0IGUgb2YgdGhpcy50cmFuc2Zvcm1lcnNfKWUuc3RvcCgpfX1jbGFzcyB3cyBleHRlbmRzIFl0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnV1aWRfPWhuKCksdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTE7Y29uc3QgZT1uZXcgSCgpLmFjdGlvbigiTWVkaWFQcm9jZXNzb3IiKS5ndWlkKHRoaXMudXVpZF8pLnZhcmlhdGlvbigiQ3JlYXRlIikuYnVpbGQoKTtWLnJlcG9ydChlKX1zZXRUcmFja0V4cGVjdGVkUmF0ZShlKXt0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz1lLHRoaXMucGlwZWxpbmVfJiZ0aGlzLnBpcGVsaW5lXy5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyl9dHJhbnNmb3JtKGUsdCl7cmV0dXJuIHRoaXMucmVhZGFibGVfPWUsdGhpcy53cml0YWJsZV89dCx0aGlzLnRyYW5zZm9ybUludGVybmFsKCl9dHJhbnNmb3JtSW50ZXJuYWwoKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsdCk9PntpZighdGhpcy50cmFuc2Zvcm1lcnNffHx0aGlzLnRyYW5zZm9ybWVyc18ubGVuZ3RoPT09MCl7Y29uc3QgaT1uZXcgSCgpLmFjdGlvbigiTWVkaWFQcm9jZXNzb3IiKS5ndWlkKHRoaXMudXVpZF8pLm1lc3NhZ2UobmUuZXJyb3JzLnRyYW5zZm9ybWVyX25vbmUpLnZhcmlhdGlvbigiRXJyb3IiKS5idWlsZCgpO1YucmVwb3J0KGkpLHQoIltNZWRpYVByb2Nlc3Nvcl0gTmVlZCB0byBzZXQgdHJhbnNmb3JtZXJzLiIpO3JldHVybn1pZighdGhpcy5yZWFkYWJsZV8pe2NvbnN0IGk9bmV3IEgoKS5hY3Rpb24oIk1lZGlhUHJvY2Vzc29yIikuZ3VpZCh0aGlzLnV1aWRfKS5tZXNzYWdlKG5lLmVycm9ycy5yZWFkYWJsZV9udWxsKS52YXJpYXRpb24oIkVycm9yIikuYnVpbGQoKTtWLnJlcG9ydChpKSx0KCJbTWVkaWFQcm9jZXNzb3JdIFJlYWRhYmxlIGlzIG51bGwuIik7cmV0dXJufWlmKCF0aGlzLndyaXRhYmxlXyl7Y29uc3QgaT1uZXcgSCgpLmFjdGlvbigiTWVkaWFQcm9jZXNzb3IiKS5ndWlkKHRoaXMudXVpZF8pLm1lc3NhZ2UobmUuZXJyb3JzLndyaXRhYmxlX251bGwpLnZhcmlhdGlvbigiRXJyb3IiKS5idWlsZCgpO1YucmVwb3J0KGkpLHQoIltNZWRpYVByb2Nlc3Nvcl0gV3JpdGFibGUgaXMgbnVsbC4iKTtyZXR1cm59bGV0IG49ITE7dGhpcy5waXBlbGluZV8mJihuPSEwLHRoaXMucGlwZWxpbmVfLmNsZWFyTGlzdGVuZXJzKCksdGhpcy5waXBlbGluZV8uZGVzdHJveSgpKSx0aGlzLnBpcGVsaW5lXz1uZXcgQXModGhpcy50cmFuc2Zvcm1lcnNfKSx0aGlzLnBpcGVsaW5lXy5vbigid2FybiIsaT0+e3RoaXMuZW1pdCgid2FybiIsaSl9KSx0aGlzLnBpcGVsaW5lXy5vbigiZXJyb3IiLGk9Pnt0aGlzLmVtaXQoImVycm9yIixpKX0pLHRoaXMucGlwZWxpbmVfLm9uKCJwaXBlbGluZUluZm8iLGk9PntuJiYoaT09PSJwaXBlbGluZV9zdGFydGVkIj9pPUt0LnBpcGVsaW5lX3Jlc3RhcnRlZDppPT09InBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciImJihpPUt0LnBpcGVsaW5lX3Jlc3RhcnRlZF93aXRoX2Vycm9yKSksdGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLGkpfSksdGhpcy50cmFja0V4cGVjdGVkUmF0ZV8hPS0xJiZ0aGlzLnBpcGVsaW5lXy5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyksdGhpcy5waXBlbGluZV8uc3RhcnQodGhpcy5yZWFkYWJsZV8sdGhpcy53cml0YWJsZV8pLnRoZW4oKCk9PntlKCl9KS5jYXRjaChpPT57dChpKX0pfSl9c2V0VHJhbnNmb3JtZXJzKGUpe2NvbnN0IHQ9bmV3IEgoKS5hY3Rpb24oIk1lZGlhUHJvY2Vzc29yIikuZ3VpZCh0aGlzLnV1aWRfKS5tZXNzYWdlKG5lLnVwZGF0ZXMudHJhbnNmb3JtZXJfbmV3KS52YXJpYXRpb24oIlVwZGF0ZSIpLmJ1aWxkKCk7cmV0dXJuIFYucmVwb3J0KHQpLHRoaXMudHJhbnNmb3JtZXJzXz1lLHRoaXMucmVhZGFibGVfJiZ0aGlzLndyaXRhYmxlXz90aGlzLnRyYW5zZm9ybUludGVybmFsKCk6UHJvbWlzZS5yZXNvbHZlKCl9ZGVzdHJveSgpe3JldHVybiBuZXcgUHJvbWlzZShlPT57dGhpcy5waXBlbGluZV8mJnRoaXMucGlwZWxpbmVfLmRlc3Ryb3koKTtjb25zdCB0PW5ldyBIKCkuYWN0aW9uKCJNZWRpYVByb2Nlc3NvciIpLmd1aWQodGhpcy51dWlkXykudmFyaWF0aW9uKCJEZWxldGUiKS5idWlsZCgpO1YucmVwb3J0KHQpLGUoKX0pfX12YXIgc3Q9KHI9PihyLkxvdz0iTG93IixyLkhpZ2g9IkhpZ2giLHIpKShzdHx8e30pO2FzeW5jIGZ1bmN0aW9uIGduKHIpe3JldHVybiBuZXcgUHJvbWlzZShlPT57c2V0VGltZW91dCgoKT0+e2UoKX0scil9KX1jbGFzcyBSc3tjb25zdHJ1Y3RvcihlKXtwKHRoaXMsImNvbnRleHQiKTtwKHRoaXMsImV4dGVuc2lvbiIpO3AodGhpcywicXVlcmllcyIsW10pO3AodGhpcywiYWN0aXZlUXVlcnkiKTt0aGlzLmNvbnRleHQ9ZSx0aGlzLmV4dGVuc2lvbj1lLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiIpfXN0YXJ0KCl7fXN0b3AoKXt0aGlzLmFjdGl2ZVF1ZXJ5JiZ0aGlzLmNvbnRleHQuZW5kUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCl9cHVzaENvbnRleHQoZSl7dGhpcy5jcmVhdGVRdWVyeSgiUFVTSCIsZSl9cG9wQ29udGV4dChlKXt0aGlzLmNyZWF0ZVF1ZXJ5KCJQT1AiLGUpfWNyZWF0ZVF1ZXJ5KGUsdCl7dGhpcy5hY3RpdmVRdWVyeSYmdGhpcy5jb250ZXh0LmVuZFF1ZXJ5KHRoaXMuZXh0ZW5zaW9uLlRJTUVfRUxBUFNFRF9FWFQpLHRoaXMuYWN0aXZlUXVlcnk9dGhpcy5jb250ZXh0LmNyZWF0ZVF1ZXJ5KCksdGhpcy5jb250ZXh0LmJlZ2luUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCx0aGlzLmFjdGl2ZVF1ZXJ5KSx0aGlzLnF1ZXJpZXMucHVzaCh7bmFtZTp0LGFjdGlvbjplLHF1ZXJ5OnRoaXMuYWN0aXZlUXVlcnl9KX1hc3luYyBnZXRSZXNvbHZlZFF1ZXJpZXMoKXtjb25zdCBlPShhd2FpdCBQcm9taXNlLmFsbChbLi4udGhpcy5xdWVyaWVzXS5tYXAodD0+dGhpcy5yZXNvbHZlUXVlcnkodCkpKSkuZmlsdGVyKHQ9PnQpO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7Kyt0KWVbdF0udGltZXN0YW1wKz1lW3QtMV0uZHVyYXRpb24rZVt0LTFdLnRpbWVzdGFtcDtyZXR1cm4gZX1hc3luYyByZXNvbHZlUXVlcnkoZSl7aWYoIWF3YWl0IHRoaXMuYXdhaXRRdWVyeUF2YWlsYWJsZShlKSl7Y29uc29sZS5sb2coIlVuYXdhaXRhYmxlIHF1ZXJ5IixlKTtyZXR1cm59aWYodGhpcy5jb250ZXh0LmdldFBhcmFtZXRlcih0aGlzLmV4dGVuc2lvbi5HUFVfRElTSk9JTlRfRVhUKSl7Y29uc29sZS5sb2coIkRpc2pvaW50ZWQgcXVlcnkiLGUpO3JldHVybn1yZXR1cm57Li4uZSxkdXJhdGlvbjp0aGlzLmNvbnRleHQuZ2V0UXVlcnlQYXJhbWV0ZXIoZS5xdWVyeSx0aGlzLmNvbnRleHQuUVVFUllfUkVTVUxUKSx0aW1lc3RhbXA6MH19YXN5bmMgYXdhaXRRdWVyeUF2YWlsYWJsZShlKXtmb3IobGV0IHQ9MDt0PDEwOysrdCl7aWYodGhpcy5jb250ZXh0LmdldFF1ZXJ5UGFyYW1ldGVyKGUucXVlcnksdGhpcy5jb250ZXh0LlFVRVJZX1JFU1VMVF9BVkFJTEFCTEUpKXJldHVybiBlO2F3YWl0IGduKDIwMCl9fX0vKiBAbGljZW5zZSB0d2dsLmpzIDUuMi4wIENvcHlyaWdodCAoYykgMjAxNSwgR3JlZ2cgVGF2YXJlcyBBbGwgUmlnaHRzIFJlc2VydmVkLgpBdmFpbGFibGUgdmlhIHRoZSBNSVQgbGljZW5zZS4Kc2VlOiBodHRwOi8vZ2l0aHViLmNvbS9ncmVnZ21hbi90d2dsLmpzIGZvciBkZXRhaWxzICovY29uc3QgSnQ9NTEyMCxOZT01MTIxLFp0PTUxMjIsZXI9NTEyMyx0cj01MTI0LHJyPTUxMjUsbnI9NTEyNixTcz0zMjgxOSxJcz0zMjgyMCxGcz0zMzYzNSxQcz01MTMxLERzPTMzNjQwLE1zPTM1ODk5LENzPTM1OTAyLE9zPTM2MjY5LE5zPTM0MDQyLGJuPXt9O3tjb25zdCByPWJuO3JbSnRdPUludDhBcnJheSxyW05lXT1VaW50OEFycmF5LHJbWnRdPUludDE2QXJyYXkscltlcl09VWludDE2QXJyYXksclt0cl09SW50MzJBcnJheSxyW3JyXT1VaW50MzJBcnJheSxyW25yXT1GbG9hdDMyQXJyYXkscltTc109VWludDE2QXJyYXkscltJc109VWludDE2QXJyYXkscltGc109VWludDE2QXJyYXkscltQc109VWludDE2QXJyYXkscltEc109VWludDMyQXJyYXkscltNc109VWludDMyQXJyYXkscltDc109VWludDMyQXJyYXkscltPc109VWludDMyQXJyYXkscltOc109VWludDMyQXJyYXl9ZnVuY3Rpb24gaXIocil7aWYociBpbnN0YW5jZW9mIEludDhBcnJheSlyZXR1cm4gSnQ7aWYociBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHIgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSlyZXR1cm4gTmU7aWYociBpbnN0YW5jZW9mIEludDE2QXJyYXkpcmV0dXJuIFp0O2lmKHIgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlyZXR1cm4gZXI7aWYociBpbnN0YW5jZW9mIEludDMyQXJyYXkpcmV0dXJuIHRyO2lmKHIgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gcnI7aWYociBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlyZXR1cm4gbnI7dGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlIil9ZnVuY3Rpb24gdm4ocil7aWYocj09PUludDhBcnJheSlyZXR1cm4gSnQ7aWYocj09PVVpbnQ4QXJyYXl8fHI9PT1VaW50OENsYW1wZWRBcnJheSlyZXR1cm4gTmU7aWYocj09PUludDE2QXJyYXkpcmV0dXJuIFp0O2lmKHI9PT1VaW50MTZBcnJheSlyZXR1cm4gZXI7aWYocj09PUludDMyQXJyYXkpcmV0dXJuIHRyO2lmKHI9PT1VaW50MzJBcnJheSlyZXR1cm4gcnI7aWYocj09PUZsb2F0MzJBcnJheSlyZXR1cm4gbnI7dGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlIil9ZnVuY3Rpb24gRW4ocil7Y29uc3QgZT1ibltyXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gZ2wgdHlwZSIpO3JldHVybiBlfWNvbnN0IGF0PXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjwidSI/ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYnVmZmVyJiYoZS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ZS5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcil9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmJ1ZmZlciYmZS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn07ZnVuY3Rpb24gVG4oLi4ucil7Y29uc29sZS5lcnJvciguLi5yKX1jb25zdCBBbj1uZXcgTWFwO2Z1bmN0aW9uIHV0KHIsZSl7aWYoIXJ8fHR5cGVvZiByIT0ib2JqZWN0IilyZXR1cm4hMTtsZXQgdD1Bbi5nZXQoZSk7dHx8KHQ9bmV3IFdlYWtNYXAsQW4uc2V0KGUsdCkpO2xldCBuPXQuZ2V0KHIpO2lmKG49PT12b2lkIDApe2NvbnN0IGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpO249aS5zdWJzdHJpbmcoOCxpLmxlbmd0aC0xKT09PWUsdC5zZXQocixuKX1yZXR1cm4gbn1mdW5jdGlvbiBVcyhyLGUpe3JldHVybiB0eXBlb2YgV2ViR0xCdWZmZXI8InUiJiZ1dChlLCJXZWJHTEJ1ZmZlciIpfWZ1bmN0aW9uIEJzKHIsZSl7cmV0dXJuIHR5cGVvZiBXZWJHTFJlbmRlcmJ1ZmZlcjwidSImJnV0KGUsIldlYkdMUmVuZGVyYnVmZmVyIil9ZnVuY3Rpb24gb3IocixlKXtyZXR1cm4gdHlwZW9mIFdlYkdMVGV4dHVyZTwidSImJnV0KGUsIldlYkdMVGV4dHVyZSIpfWZ1bmN0aW9uIGtzKHIsZSl7cmV0dXJuIHR5cGVvZiBXZWJHTFNhbXBsZXI8InUiJiZ1dChlLCJXZWJHTFNhbXBsZXIiKX1jb25zdCB3bj0zNTA0NCxwZT0zNDk2MixMcz0zNDk2Mywkcz0zNDY2MCxHcz01MTIwLHpzPTUxMjEsSHM9NTEyMixWcz01MTIzLFdzPTUxMjQsanM9NTEyNSxSbj01MTI2LFNuPXthdHRyaWJQcmVmaXg6IiJ9O2Z1bmN0aW9uIHFzKHIsZSx0LG4saSl7ci5iaW5kQnVmZmVyKGUsdCksci5idWZmZXJEYXRhKGUsbixpfHx3bil9ZnVuY3Rpb24gSW4ocixlLHQsbil7aWYoVXMocixlKSlyZXR1cm4gZTt0PXR8fHBlO2NvbnN0IGk9ci5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gcXMocix0LGksZSxuKSxpfWZ1bmN0aW9uIEZuKHIpe3JldHVybiByPT09ImluZGljZXMifWZ1bmN0aW9uIFhzKHIpe3JldHVybiByPT09SW50OEFycmF5fHxyPT09VWludDhBcnJheX1mdW5jdGlvbiBZcyhyKXtyZXR1cm4gci5sZW5ndGg/cjpyLmRhdGF9Y29uc3QgUXM9L2Nvb3JkfHRleHR1cmUvaSxLcz0vY29sb3J8Y29sb3VyL2k7ZnVuY3Rpb24gSnMocixlKXtsZXQgdDtpZihRcy50ZXN0KHIpP3Q9MjpLcy50ZXN0KHIpP3Q9NDp0PTMsZSV0PjApdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IGd1ZXNzIG51bUNvbXBvbmVudHMgZm9yIGF0dHJpYnV0ZSAnJHtyfScuIFRyaWVkICR7dH0gYnV0ICR7ZX0gdmFsdWVzIGlzIG5vdCBldmVubHkgZGl2aXNpYmxlIGJ5ICR7dH0uIFlvdSBzaG91bGQgc3BlY2lmeSBpdC5gKTtyZXR1cm4gdH1mdW5jdGlvbiBacyhyLGUsdCl7cmV0dXJuIHIubnVtQ29tcG9uZW50c3x8ci5zaXplfHxKcyhlLHR8fFlzKHIpLmxlbmd0aCl9ZnVuY3Rpb24gUG4ocixlKXtpZihhdChyKSlyZXR1cm4gcjtpZihhdChyLmRhdGEpKXJldHVybiByLmRhdGE7QXJyYXkuaXNBcnJheShyKSYmKHI9e2RhdGE6cn0pO2xldCB0PXIudHlwZT9zcihyLnR5cGUpOnZvaWQgMDtyZXR1cm4gdHx8KEZuKGUpP3Q9VWludDE2QXJyYXk6dD1GbG9hdDMyQXJyYXkpLG5ldyB0KHIuZGF0YSl9ZnVuY3Rpb24gZWEocil7cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIj9yOnI/dm4ocik6Um59ZnVuY3Rpb24gc3Iocil7cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIj9FbihyKTpyfHxGbG9hdDMyQXJyYXl9ZnVuY3Rpb24gdGEocixlKXtyZXR1cm57YnVmZmVyOmUuYnVmZmVyLG51bVZhbHVlczoyKjMqNCx0eXBlOmVhKGUudHlwZSksYXJyYXlUeXBlOnNyKGUudHlwZSl9fWZ1bmN0aW9uIHJhKHIsZSl7Y29uc3QgdD1lLmRhdGF8fGUsbj1zcihlLnR5cGUpLGk9dCpuLkJZVEVTX1BFUl9FTEVNRU5ULG89ci5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gci5iaW5kQnVmZmVyKHBlLG8pLHIuYnVmZmVyRGF0YShwZSxpLGUuZHJhd1R5cGV8fHduKSx7YnVmZmVyOm8sbnVtVmFsdWVzOnQsdHlwZTp2bihuKSxhcnJheVR5cGU6bn19ZnVuY3Rpb24gbmEocixlLHQpe2NvbnN0IG49UG4oZSx0KTtyZXR1cm57YXJyYXlUeXBlOm4uY29uc3RydWN0b3IsYnVmZmVyOkluKHIsbix2b2lkIDAsZS5kcmF3VHlwZSksdHlwZTppcihuKSxudW1WYWx1ZXM6MH19ZnVuY3Rpb24gaWEocixlKXtjb25zdCB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCFGbihuKSl7Y29uc3QgaT1lW25dLG89aS5hdHRyaWJ8fGkubmFtZXx8aS5hdHRyaWJOYW1lfHxTbi5hdHRyaWJQcmVmaXgrbjtpZihpLnZhbHVlKXtpZighQXJyYXkuaXNBcnJheShpLnZhbHVlKSYmIWF0KGkudmFsdWUpKXRocm93IG5ldyBFcnJvcigiYXJyYXkudmFsdWUgaXMgbm90IGFycmF5IG9yIHR5cGVkYXJyYXkiKTt0W29dPXt2YWx1ZTppLnZhbHVlfX1lbHNle2xldCBzO2kuYnVmZmVyJiZpLmJ1ZmZlciBpbnN0YW5jZW9mIFdlYkdMQnVmZmVyP3M9dGE6dHlwZW9mIGk9PSJudW1iZXIifHx0eXBlb2YgaS5kYXRhPT0ibnVtYmVyIj9zPXJhOnM9bmE7Y29uc3R7YnVmZmVyOmEsdHlwZTp1LG51bVZhbHVlczpmLGFycmF5VHlwZTpjfT1zKHIsaSxuKSxkPWkubm9ybWFsaXplIT09dm9pZCAwP2kubm9ybWFsaXplOlhzKGMpLHk9WnMoaSxuLGYpO3Rbb109e2J1ZmZlcjphLG51bUNvbXBvbmVudHM6eSx0eXBlOnUsbm9ybWFsaXplOmQsc3RyaWRlOmkuc3RyaWRlfHwwLG9mZnNldDppLm9mZnNldHx8MCxkaXZpc29yOmkuZGl2aXNvcj09PXZvaWQgMD92b2lkIDA6aS5kaXZpc29yLGRyYXdUeXBlOmkuZHJhd1R5cGV9fX19KSxyLmJpbmRCdWZmZXIocGUsbnVsbCksdH1mdW5jdGlvbiBvYShyLGUpe3JldHVybiBlPT09R3N8fGU9PT16cz8xOmU9PT1Ic3x8ZT09PVZzPzI6ZT09PVdzfHxlPT09anN8fGU9PT1Sbj80OjB9Y29uc3QgYXI9WyJwb3NpdGlvbiIsInBvc2l0aW9ucyIsImFfcG9zaXRpb24iXTtmdW5jdGlvbiBzYShyLGUpe2xldCB0LG47Zm9yKG49MDtuPGFyLmxlbmd0aCYmKHQ9YXJbbl0sISh0IGluIGV8fCh0PVNuLmF0dHJpYlByZWZpeCt0LHQgaW4gZSkpKTsrK24pO249PT1hci5sZW5ndGgmJih0PU9iamVjdC5rZXlzKGUpWzBdKTtjb25zdCBpPWVbdF07aWYoIWkuYnVmZmVyKXJldHVybiAxO3IuYmluZEJ1ZmZlcihwZSxpLmJ1ZmZlcik7Y29uc3Qgbz1yLmdldEJ1ZmZlclBhcmFtZXRlcihwZSwkcyk7ci5iaW5kQnVmZmVyKHBlLG51bGwpO2NvbnN0IHM9b2EocixpLnR5cGUpLGE9by9zLHU9aS5udW1Db21wb25lbnRzfHxpLnNpemUsZj1hL3U7aWYoZiUxIT09MCl0aHJvdyBuZXcgRXJyb3IoYG51bUNvbXBvbmVudHMgJHt1fSBub3QgY29ycmVjdCBmb3IgbGVuZ3RoICR7bGVuZ3RofWApO3JldHVybiBmfWZ1bmN0aW9uIGFhKHIsZSx0KXtjb25zdCBuPWlhKHIsZSksaT1PYmplY3QuYXNzaWduKHt9LHR8fHt9KTtpLmF0dHJpYnM9T2JqZWN0LmFzc2lnbih7fSx0P3QuYXR0cmliczp7fSxuKTtjb25zdCBvPWUuaW5kaWNlcztpZihvKXtjb25zdCBzPVBuKG8sImluZGljZXMiKTtpLmluZGljZXM9SW4ocixzLExzKSxpLm51bUVsZW1lbnRzPXMubGVuZ3RoLGkuZWxlbWVudFR5cGU9aXIocyl9ZWxzZSBpLm51bUVsZW1lbnRzfHwoaS5udW1FbGVtZW50cz1zYShyLGkuYXR0cmlicykpO3JldHVybiBpfWZ1bmN0aW9uIFVlKHIpe3JldHVybiEhci50ZXhTdG9yYWdlMkR9Y29uc3QgRG49ZnVuY3Rpb24oKXtjb25zdCByPXt9LGU9e307ZnVuY3Rpb24gdChuKXtjb25zdCBpPW4uY29uc3RydWN0b3IubmFtZTtpZighcltpXSl7Zm9yKGNvbnN0IG8gaW4gbilpZih0eXBlb2YgbltvXT09Im51bWJlciIpe2NvbnN0IHM9ZVtuW29dXTtlW25bb11dPXM/YCR7c30gfCAke299YDpvfXJbaV09ITB9fXJldHVybiBmdW5jdGlvbihpLG8pe3JldHVybiB0KGkpLGVbb118fCh0eXBlb2Ygbz09Im51bWJlciI/YDB4JHtvLnRvU3RyaW5nKDE2KX1gOm8pfX0oKSxhZT17dGV4dHVyZUNvbG9yOm5ldyBVaW50OEFycmF5KFsxMjgsMTkyLDI1NSwyNTVdKSx0ZXh0dXJlT3B0aW9uczp7fSxjcm9zc09yaWdpbjp2b2lkIDB9LEJlPWF0LE1uPWZ1bmN0aW9uKCl7bGV0IHI7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHI9cnx8KHR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTpudWxsKSxyfX0oKSxDbj02NDA2LFo9NjQwNyxGPTY0MDgsT249NjQwOSxObj02NDEwLGtlPTY0MDIsVW49MzQwNDEsY3Q9MzMwNzEsdWE9OTcyOCxjYT05NzI5LHVlPTM1NTMsY2U9MzQwNjcseWU9MzI4NzksX2U9MzU4NjYsdXI9MzQwNjksZmE9MzQwNzAsbGE9MzQwNzEsZGE9MzQwNzIsbWE9MzQwNzMsaGE9MzQwNzQsY3I9MTAyNDEsZnI9MTAyNDAsZnQ9MTAyNDIsbHQ9MTAyNDMsQm49MzI4ODIscGE9MzMwODIseWE9MzMwODMsX2E9MzMwODQseGE9MzMwODUsbHI9MzMxNyxrbj0zMzE0LExuPTMyODc4LCRuPTMzMTYsR249MzMxNSx6bj0zMjg3NyxnYT0zNzQ0MyxiYT0zNzQ0MSx2YT0zNzQ0MCxFYT0zMzMyMSxUYT0zNjc1NixBYT0zMzMyNSx3YT0zMzMyNixSYT0zMzMzMCxTYT0zMzMyOSxJYT0zMzMzOCxGYT0zMzMzNyxQYT0zMzM0MCxEYT0zMzMzOSxNYT0zMzMyMyxDYT0zNjc1NyxPYT0zMzMyNyxOYT0zMzMyOCxVYT0zMzMzNixCYT0zMzMzNSxrYT0zMzMzMixMYT0zMzMzMSwkYT0zMzMzNCxHYT0zMzMzMyx6YT0zMjg0OSxIYT0zNTkwNSxWYT0zNjE5NCxXYT0zNjc1OCxqYT0zNTg5OCxxYT0zNTkwMSxYYT0zNDg0MyxZYT0zNDgzNyxRYT0zNjIyMSxLYT0zNjIzOSxKYT0zNjIxNSxaYT0zNjIzMyxldT0zNjIwOSx0dT0zNjIyNyxydT0zMjg1NixudT0zNTkwNyxpdT0zNjc1OSxvdT0zMjg1NSxzdT0zMjg1NCxhdT0zMjg1Nyx1dT0zNDg0MixjdT0zNDgzNixmdT0zNjIyMCxsdT0zNjIzOCxkdT0zNjk3NSxtdT0zNjIxNCxodT0zNjIzMixwdT0zNjIyNix5dT0zNjIwOCxfdT0zMzE4OSx4dT0zMzE5MCxndT0zNjAxMixidT0zNjAxMyx2dT0zNTA1NixmZT01MTIwLEk9NTEyMSxkdD01MTIyLFNlPTUxMjMsbXQ9NTEyNCx4ZT01MTI1LEI9NTEyNixIbj0zMjgxOSxWbj0zMjgyMCxXbj0zMzYzNSxqPTUxMzEsTGU9MzYxOTMsZHI9MzM2NDAsRXU9MzU4OTksVHU9MzU5MDIsQXU9MzYyNjksd3U9MzQwNDIsaHQ9MzMzMTksSWU9MzMzMjAscHQ9NjQwMyxGZT0zNjI0NCxQZT0zNjI0OCxnZT0zNjI0OTtsZXQgbXI7ZnVuY3Rpb24geXQocil7aWYoIW1yKXtjb25zdCBlPXt9O2VbQ25dPXt0ZXh0dXJlRm9ybWF0OkNuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEsMiwyLDRdLHR5cGU6W0ksaixMZSxCXX0sZVtPbl09e3RleHR1cmVGb3JtYXQ6T24sY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMSwyLDIsNF0sdHlwZTpbSSxqLExlLEJdfSxlW05uXT17dGV4dHVyZUZvcm1hdDpObixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsyLDQsNCw4XSx0eXBlOltJLGosTGUsQl19LGVbWl09e3RleHR1cmVGb3JtYXQ6Wixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlszLDYsNiwxMiwyXSx0eXBlOltJLGosTGUsQixXbl19LGVbRl09e3RleHR1cmVGb3JtYXQ6Rixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDgsOCwxNiwyLDJdLHR5cGU6W0ksaixMZSxCLEhuLFZuXX0sZVtrZV09e3RleHR1cmVGb3JtYXQ6a2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMiw0XSx0eXBlOlt4ZSxTZV19LGVbRWFdPXt0ZXh0dXJlRm9ybWF0OnB0LGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W0ldfSxlW1RhXT17dGV4dHVyZUZvcm1hdDpwdCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxXSx0eXBlOltmZV19LGVbQWFdPXt0ZXh0dXJlRm9ybWF0OnB0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzQsMl0sdHlwZTpbQixqXX0sZVt3YV09e3RleHR1cmVGb3JtYXQ6cHQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbQl19LGVbUmFdPXt0ZXh0dXJlRm9ybWF0OkZlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W0ldfSxlW1NhXT17dGV4dHVyZUZvcm1hdDpGZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxXSx0eXBlOltmZV19LGVba2FdPXt0ZXh0dXJlRm9ybWF0OkZlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W1NlXX0sZVtMYV09e3RleHR1cmVGb3JtYXQ6RmUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbZHRdfSxlWyRhXT17dGV4dHVyZUZvcm1hdDpGZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt4ZV19LGVbR2FdPXt0ZXh0dXJlRm9ybWF0OkZlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W210XX0sZVtNYV09e3RleHR1cmVGb3JtYXQ6aHQsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbSV19LGVbQ2FdPXt0ZXh0dXJlRm9ybWF0Omh0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W2ZlXX0sZVtPYV09e3RleHR1cmVGb3JtYXQ6aHQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbOCw0XSx0eXBlOltCLGpdfSxlW05hXT17dGV4dHVyZUZvcm1hdDpodCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltCXX0sZVtVYV09e3RleHR1cmVGb3JtYXQ6SWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbSV19LGVbQmFdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W2ZlXX0sZVtJYV09e3RleHR1cmVGb3JtYXQ6SWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbU2VdfSxlW0ZhXT17dGV4dHVyZUZvcm1hdDpJZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltkdF19LGVbUGFdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzhdLHR5cGU6W3hlXX0sZVtEYV09e3RleHR1cmVGb3JtYXQ6SWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbbXRdfSxlW3phXT17dGV4dHVyZUZvcm1hdDpaLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W0ldfSxlW0hhXT17dGV4dHVyZUZvcm1hdDpaLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W0ldfSxlW1ZhXT17dGV4dHVyZUZvcm1hdDpaLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzMsMl0sdHlwZTpbSSxXbl19LGVbV2FdPXt0ZXh0dXJlRm9ybWF0OlosY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbM10sdHlwZTpbZmVdfSxlW2phXT17dGV4dHVyZUZvcm1hdDpaLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEyLDYsNF0sdHlwZTpbQixqLEV1XX0sZVtxYV09e3RleHR1cmVGb3JtYXQ6Wixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxMiw2LDRdLHR5cGU6W0IsaixUdV19LGVbWGFdPXt0ZXh0dXJlRm9ybWF0OlosY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTIsNl0sdHlwZTpbQixqXX0sZVtZYV09e3RleHR1cmVGb3JtYXQ6Wixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbQl19LGVbUWFdPXt0ZXh0dXJlRm9ybWF0OlBlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W0ldfSxlW0thXT17dGV4dHVyZUZvcm1hdDpQZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlszXSx0eXBlOltmZV19LGVbSmFdPXt0ZXh0dXJlRm9ybWF0OlBlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzZdLHR5cGU6W1NlXX0sZVtaYV09e3RleHR1cmVGb3JtYXQ6UGUsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNl0sdHlwZTpbZHRdfSxlW2V1XT17dGV4dHVyZUZvcm1hdDpQZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbeGVdfSxlW3R1XT17dGV4dHVyZUZvcm1hdDpQZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbbXRdfSxlW3J1XT17dGV4dHVyZUZvcm1hdDpGLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0ldfSxlW251XT17dGV4dHVyZUZvcm1hdDpGLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0ldfSxlW2l1XT17dGV4dHVyZUZvcm1hdDpGLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W2ZlXX0sZVtvdV09e3RleHR1cmVGb3JtYXQ6Rixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDIsNF0sdHlwZTpbSSxWbixkcl19LGVbc3VdPXt0ZXh0dXJlRm9ybWF0OkYsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbNCwyXSx0eXBlOltJLEhuXX0sZVthdV09e3RleHR1cmVGb3JtYXQ6Rixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltkcl19LGVbdXVdPXt0ZXh0dXJlRm9ybWF0OkYsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTYsOF0sdHlwZTpbQixqXX0sZVtjdV09e3RleHR1cmVGb3JtYXQ6Rixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxNl0sdHlwZTpbQl19LGVbZnVdPXt0ZXh0dXJlRm9ybWF0OmdlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0ldfSxlW2x1XT17dGV4dHVyZUZvcm1hdDpnZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltmZV19LGVbZHVdPXt0ZXh0dXJlRm9ybWF0OmdlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W2RyXX0sZVttdV09e3RleHR1cmVGb3JtYXQ6Z2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbU2VdfSxlW2h1XT17dGV4dHVyZUZvcm1hdDpnZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltkdF19LGVbcHVdPXt0ZXh0dXJlRm9ybWF0OmdlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOlttdF19LGVbeXVdPXt0ZXh0dXJlRm9ybWF0OmdlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOlt4ZV19LGVbX3VdPXt0ZXh0dXJlRm9ybWF0OmtlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzIsNF0sdHlwZTpbU2UseGVdfSxlW3h1XT17dGV4dHVyZUZvcm1hdDprZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt4ZV19LGVbZ3VdPXt0ZXh0dXJlRm9ybWF0OmtlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0JdfSxlW3Z1XT17dGV4dHVyZUZvcm1hdDpVbixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt3dV19LGVbYnVdPXt0ZXh0dXJlRm9ybWF0OlVuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W0F1XX0sT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtjb25zdCBuPWVbdF07bi5ieXRlc1BlckVsZW1lbnRNYXA9e30sbi5ieXRlc1BlckVsZW1lbnQuZm9yRWFjaChmdW5jdGlvbihpLG8pe2NvbnN0IHM9bi50eXBlW29dO24uYnl0ZXNQZXJFbGVtZW50TWFwW3NdPWl9KX0pLG1yPWV9cmV0dXJuIG1yW3JdfWZ1bmN0aW9uIFJ1KHIsZSl7Y29uc3QgdD15dChyKTtpZighdCl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7Y29uc3Qgbj10LmJ5dGVzUGVyRWxlbWVudE1hcFtlXTtpZihuPT09dm9pZCAwKXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm4gbn1mdW5jdGlvbiAkZShyKXtjb25zdCBlPXl0KHIpO2lmKCFlKXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm57Zm9ybWF0OmUudGV4dHVyZUZvcm1hdCx0eXBlOmUudHlwZVswXX19ZnVuY3Rpb24gam4ocil7cmV0dXJuKHImci0xKT09PTB9ZnVuY3Rpb24gU3UocixlLHQsbil7aWYoIVVlKHIpKXJldHVybiBqbihlKSYmam4odCk7Y29uc3QgaT15dChuKTtpZighaSl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7cmV0dXJuIGkuY29sb3JSZW5kZXJhYmxlJiZpLnRleHR1cmVGaWx0ZXJhYmxlfWZ1bmN0aW9uIEl1KHIpe2NvbnN0IGU9eXQocik7aWYoIWUpdGhyb3cidW5rbm93biBpbnRlcm5hbCBmb3JtYXQiO3JldHVybiBlLnRleHR1cmVGaWx0ZXJhYmxlfWZ1bmN0aW9uIEZ1KHIsZSx0KXtyZXR1cm4gQmUoZSk/aXIoZSk6dHx8SX1mdW5jdGlvbiBfdChyLGUsdCxuLGkpe2lmKGklMSE9PTApdGhyb3ciY2FuJ3QgZ3Vlc3MgZGltZW5zaW9ucyI7aWYoIXQmJiFuKXtjb25zdCBvPU1hdGguc3FydChpLyhlPT09Y2U/NjoxKSk7byUxPT09MD8odD1vLG49byk6KHQ9aSxuPTEpfWVsc2UgaWYobil7aWYoIXQmJih0PWkvbix0JTEpKXRocm93ImNhbid0IGd1ZXNzIGRpbWVuc2lvbnMifWVsc2UgaWYobj1pL3QsbiUxKXRocm93ImNhbid0IGd1ZXNzIGRpbWVuc2lvbnMiO3JldHVybnt3aWR0aDp0LGhlaWdodDpufX1mdW5jdGlvbiBEZShyLGUpe2UuY29sb3JzcGFjZUNvbnZlcnNpb24hPT12b2lkIDAmJnIucGl4ZWxTdG9yZWkoZ2EsZS5jb2xvcnNwYWNlQ29udmVyc2lvbiksZS5wcmVtdWx0aXBseUFscGhhIT09dm9pZCAwJiZyLnBpeGVsU3RvcmVpKGJhLGUucHJlbXVsdGlwbHlBbHBoYSksZS5mbGlwWSE9PXZvaWQgMCYmci5waXhlbFN0b3JlaSh2YSxlLmZsaXBZKX1mdW5jdGlvbiBxbihyKXtyLnBpeGVsU3RvcmVpKGxyLDQpLFVlKHIpJiYoci5waXhlbFN0b3JlaShrbiwwKSxyLnBpeGVsU3RvcmVpKExuLDApLHIucGl4ZWxTdG9yZWkoJG4sMCksci5waXhlbFN0b3JlaShHbiwwKSxyLnBpeGVsU3RvcmVpKHpuLDApKX1mdW5jdGlvbiBQdShyLGUsdCxuKXtuLm1pbk1hZyYmKHQuY2FsbChyLGUsY3Isbi5taW5NYWcpLHQuY2FsbChyLGUsZnIsbi5taW5NYWcpKSxuLm1pbiYmdC5jYWxsKHIsZSxjcixuLm1pbiksbi5tYWcmJnQuY2FsbChyLGUsZnIsbi5tYWcpLG4ud3JhcCYmKHQuY2FsbChyLGUsZnQsbi53cmFwKSx0LmNhbGwocixlLGx0LG4ud3JhcCksKGU9PT15ZXx8a3MocixlKSkmJnQuY2FsbChyLGUsQm4sbi53cmFwKSksbi53cmFwUiYmdC5jYWxsKHIsZSxCbixuLndyYXBSKSxuLndyYXBTJiZ0LmNhbGwocixlLGZ0LG4ud3JhcFMpLG4ud3JhcFQmJnQuY2FsbChyLGUsbHQsbi53cmFwVCksbi5taW5Mb2QmJnQuY2FsbChyLGUscGEsbi5taW5Mb2QpLG4ubWF4TG9kJiZ0LmNhbGwocixlLHlhLG4ubWF4TG9kKSxuLmJhc2VMZXZlbCYmdC5jYWxsKHIsZSxfYSxuLmJhc2VMZXZlbCksbi5tYXhMZXZlbCYmdC5jYWxsKHIsZSx4YSxuLm1heExldmVsKX1mdW5jdGlvbiBYbihyLGUsdCl7Y29uc3Qgbj10LnRhcmdldHx8dWU7ci5iaW5kVGV4dHVyZShuLGUpLFB1KHIsbixyLnRleFBhcmFtZXRlcmksdCl9ZnVuY3Rpb24gRHUocil7cmV0dXJuIHI9cnx8YWUudGV4dHVyZUNvbG9yLEJlKHIpP3I6bmV3IFVpbnQ4QXJyYXkoW3JbMF0qMjU1LHJbMV0qMjU1LHJbMl0qMjU1LHJbM10qMjU1XSl9ZnVuY3Rpb24gaHIocixlLHQsbixpLG8pe3Q9dHx8YWUudGV4dHVyZU9wdGlvbnMsbz1vfHxGO2NvbnN0IHM9dC50YXJnZXR8fHVlO2lmKG49bnx8dC53aWR0aCxpPWl8fHQuaGVpZ2h0LHIuYmluZFRleHR1cmUocyxlKSxTdShyLG4saSxvKSlyLmdlbmVyYXRlTWlwbWFwKHMpO2Vsc2V7Y29uc3QgYT1JdShvKT9jYTp1YTtyLnRleFBhcmFtZXRlcmkocyxjcixhKSxyLnRleFBhcmFtZXRlcmkocyxmcixhKSxyLnRleFBhcmFtZXRlcmkocyxmdCxjdCksci50ZXhQYXJhbWV0ZXJpKHMsbHQsY3QpfX1mdW5jdGlvbiBHZShyKXtyZXR1cm4gci5hdXRvPT09ITB8fHIuYXV0bz09PXZvaWQgMCYmci5sZXZlbD09PXZvaWQgMH1mdW5jdGlvbiBwcihyLGUpe3JldHVybiBlPWV8fHt9LGUuY3ViZUZhY2VPcmRlcnx8W3VyLGZhLGxhLGRhLG1hLGhhXX1mdW5jdGlvbiB5cihyLGUpe2NvbnN0IG49cHIocixlKS5tYXAoZnVuY3Rpb24oaSxvKXtyZXR1cm57ZmFjZTppLG5keDpvfX0pO3JldHVybiBuLnNvcnQoZnVuY3Rpb24oaSxvKXtyZXR1cm4gaS5mYWNlLW8uZmFjZX0pLG59ZnVuY3Rpb24gWW4ocixlLHQsbil7bj1ufHxhZS50ZXh0dXJlT3B0aW9ucztjb25zdCBpPW4udGFyZ2V0fHx1ZSxvPW4ubGV2ZWx8fDA7bGV0IHM9dC53aWR0aCxhPXQuaGVpZ2h0O2NvbnN0IHU9bi5pbnRlcm5hbEZvcm1hdHx8bi5mb3JtYXR8fEYsZj0kZSh1KSxjPW4uZm9ybWF0fHxmLmZvcm1hdCxkPW4udHlwZXx8Zi50eXBlO2lmKERlKHIsbiksci5iaW5kVGV4dHVyZShpLGUpLGk9PT1jZSl7Y29uc3QgeT10LndpZHRoLF89dC5oZWlnaHQ7bGV0IG0seDtpZih5LzY9PT1fKW09Xyx4PVswLDAsMSwwLDIsMCwzLDAsNCwwLDUsMF07ZWxzZSBpZihfLzY9PT15KW09eSx4PVswLDAsMCwxLDAsMiwwLDMsMCw0LDAsNV07ZWxzZSBpZih5LzM9PT1fLzIpbT15LzMseD1bMCwwLDEsMCwyLDAsMCwxLDEsMSwyLDFdO2Vsc2UgaWYoeS8yPT09Xy8zKW09eS8yLHg9WzAsMCwxLDAsMCwxLDEsMSwwLDIsMSwyXTtlbHNlIHRocm93ImNhbid0IGZpZ3VyZSBvdXQgY3ViZSBtYXAgZnJvbSBlbGVtZW50OiAiKyh0LnNyYz90LnNyYzp0Lm5vZGVOYW1lKTtjb25zdCB2PU1uKCk7dj8odi5jYW52YXMud2lkdGg9bSx2LmNhbnZhcy5oZWlnaHQ9bSxzPW0sYT1tLHlyKHIsbikuZm9yRWFjaChmdW5jdGlvbihiKXtjb25zdCBBPXhbYi5uZHgqMiswXSptLFA9eFtiLm5keCoyKzFdKm07di5kcmF3SW1hZ2UodCxBLFAsbSxtLDAsMCxtLG0pLHIudGV4SW1hZ2UyRChiLmZhY2Usbyx1LGMsZCx2LmNhbnZhcyl9KSx2LmNhbnZhcy53aWR0aD0xLHYuY2FudmFzLmhlaWdodD0xKTp0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXA8InUiJiYocz1tLGE9bSx5cihyLG4pLmZvckVhY2goZnVuY3Rpb24oYil7Y29uc3QgQT14W2IubmR4KjIrMF0qbSxQPXhbYi5uZHgqMisxXSptO3IudGV4SW1hZ2UyRChiLmZhY2Usbyx1LG0sbSwwLGMsZCxudWxsKSxjcmVhdGVJbWFnZUJpdG1hcCh0LEEsUCxtLG0se3ByZW11bHRpcGx5QWxwaGE6Im5vbmUiLGNvbG9yU3BhY2VDb252ZXJzaW9uOiJub25lIn0pLnRoZW4oZnVuY3Rpb24oQyl7RGUocixuKSxyLmJpbmRUZXh0dXJlKGksZSksci50ZXhJbWFnZTJEKGIuZmFjZSxvLHUsYyxkLEMpLEdlKG4pJiZocihyLGUsbixzLGEsdSl9KX0pKX1lbHNlIGlmKGk9PT15ZXx8aT09PV9lKXtjb25zdCB5PU1hdGgubWluKHQud2lkdGgsdC5oZWlnaHQpLF89TWF0aC5tYXgodC53aWR0aCx0LmhlaWdodCksbT1fL3k7aWYobSUxIT09MCl0aHJvdyJjYW4gbm90IGNvbXB1dGUgM0QgZGltZW5zaW9ucyBvZiBlbGVtZW50Ijtjb25zdCB4PXQud2lkdGg9PT1fPzE6MCx2PXQuaGVpZ2h0PT09Xz8xOjA7ci5waXhlbFN0b3JlaShsciwxKSxyLnBpeGVsU3RvcmVpKGtuLHQud2lkdGgpLHIucGl4ZWxTdG9yZWkoTG4sMCksci5waXhlbFN0b3JlaSh6biwwKSxyLnRleEltYWdlM0QoaSxvLHUseSx5LHksMCxjLGQsbnVsbCk7Zm9yKGxldCBiPTA7YjxtOysrYil7Y29uc3QgQT1iKnkqeCxQPWIqeSp2O3IucGl4ZWxTdG9yZWkoJG4sQSksci5waXhlbFN0b3JlaShHbixQKSxyLnRleFN1YkltYWdlM0QoaSxvLDAsMCxiLHkseSwxLGMsZCx0KX1xbihyKX1lbHNlIHIudGV4SW1hZ2UyRChpLG8sdSxjLGQsdCk7R2UobikmJmhyKHIsZSxuLHMsYSx1KSxYbihyLGUsbil9ZnVuY3Rpb24gemUoKXt9ZnVuY3Rpb24gTXUocil7aWYodHlwZW9mIGRvY3VtZW50PCJ1Iil7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGUuaHJlZj1yLGUuaG9zdG5hbWU9PT1sb2NhdGlvbi5ob3N0bmFtZSYmZS5wb3J0PT09bG9jYXRpb24ucG9ydCYmZS5wcm90b2NvbD09PWxvY2F0aW9uLnByb3RvY29sfWVsc2V7Y29uc3QgZT1uZXcgVVJMKGxvY2F0aW9uLmhyZWYpLm9yaWdpbjtyZXR1cm4gbmV3IFVSTChyLGxvY2F0aW9uLmhyZWYpLm9yaWdpbj09PWV9fWZ1bmN0aW9uIEN1KHIsZSl7cmV0dXJuIGU9PT12b2lkIDAmJiFNdShyKT8iYW5vbnltb3VzIjplfWZ1bmN0aW9uIE91KHIsZSx0KXt0PXR8fHplO2xldCBuO2lmKGU9ZSE9PXZvaWQgMD9lOmFlLmNyb3NzT3JpZ2luLGU9Q3UocixlKSx0eXBlb2YgSW1hZ2U8InUiKXtuPW5ldyBJbWFnZSxlIT09dm9pZCAwJiYobi5jcm9zc09yaWdpbj1lKTtjb25zdCBpPWZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsbyksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixzKSxuPW51bGx9LG89ZnVuY3Rpb24oKXtjb25zdCB1PSJjb3VsZG4ndCBsb2FkIGltYWdlOiAiK3I7VG4odSksdCh1LG4pLGkoKX0scz1mdW5jdGlvbigpe3QobnVsbCxuKSxpKCl9O3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixvKSxuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHMpLG4uc3JjPXIsbn1lbHNlIGlmKHR5cGVvZiBJbWFnZUJpdG1hcDwidSIpe2xldCBpLG87Y29uc3Qgcz1mdW5jdGlvbigpe3QoaSxvKX0sYT17fTtlJiYoYS5tb2RlPSJjb3JzIiksZmV0Y2gocixhKS50aGVuKGZ1bmN0aW9uKHUpe2lmKCF1Lm9rKXRocm93IHU7cmV0dXJuIHUuYmxvYigpfSkudGhlbihmdW5jdGlvbih1KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodSx7cHJlbXVsdGlwbHlBbHBoYToibm9uZSIsY29sb3JTcGFjZUNvbnZlcnNpb246Im5vbmUifSl9KS50aGVuKGZ1bmN0aW9uKHUpe289dSxzZXRUaW1lb3V0KHMpfSkuY2F0Y2goZnVuY3Rpb24odSl7aT11LHNldFRpbWVvdXQocyl9KSxuPW51bGx9cmV0dXJuIG59ZnVuY3Rpb24gUW4ocil7cmV0dXJuIHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJnIgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcHx8dHlwZW9mIEltYWdlRGF0YTwidSImJnIgaW5zdGFuY2VvZiBJbWFnZURhdGF8fHR5cGVvZiBIVE1MRWxlbWVudDwidSImJnIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudH1mdW5jdGlvbiBfcihyLGUsdCl7cmV0dXJuIFFuKHIpPyhzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChudWxsLHIpfSkscik6T3UocixlLHQpfWZ1bmN0aW9uIHhyKHIsZSx0KXt0PXR8fGFlLnRleHR1cmVPcHRpb25zO2NvbnN0IG49dC50YXJnZXR8fHVlO2lmKHIuYmluZFRleHR1cmUobixlKSx0LmNvbG9yPT09ITEpcmV0dXJuO2NvbnN0IGk9RHUodC5jb2xvcik7aWYobj09PWNlKWZvcihsZXQgbz0wO288NjsrK28pci50ZXhJbWFnZTJEKHVyK28sMCxGLDEsMSwwLEYsSSxpKTtlbHNlIG49PT15ZXx8bj09PV9lP3IudGV4SW1hZ2UzRChuLDAsRiwxLDEsMSwwLEYsSSxpKTpyLnRleEltYWdlMkQobiwwLEYsMSwxLDAsRixJLGkpfWZ1bmN0aW9uIE51KHIsZSx0LG4pe3JldHVybiBuPW58fHplLHQ9dHx8YWUudGV4dHVyZU9wdGlvbnMseHIocixlLHQpLHQ9T2JqZWN0LmFzc2lnbih7fSx0KSxfcih0LnNyYyx0LmNyb3NzT3JpZ2luLGZ1bmN0aW9uKG8scyl7bz9uKG8sZSxzKTooWW4ocixlLHMsdCksbihudWxsLGUscykpfSl9ZnVuY3Rpb24gVXUocixlLHQsbil7bj1ufHx6ZTtjb25zdCBpPXQuc3JjO2lmKGkubGVuZ3RoIT09Nil0aHJvdyJ0aGVyZSBtdXN0IGJlIDYgdXJscyBmb3IgYSBjdWJlbWFwIjtjb25zdCBvPXQubGV2ZWx8fDAscz10LmludGVybmFsRm9ybWF0fHx0LmZvcm1hdHx8RixhPSRlKHMpLHU9dC5mb3JtYXR8fGEuZm9ybWF0LGY9dC50eXBlfHxJLGM9dC50YXJnZXR8fHVlO2lmKGMhPT1jZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFX0NVQkVfTUFQIjt4cihyLGUsdCksdD1PYmplY3QuYXNzaWduKHt9LHQpO2xldCBkPTY7Y29uc3QgeT1bXSxfPXByKHIsdCk7bGV0IG07ZnVuY3Rpb24geCh2KXtyZXR1cm4gZnVuY3Rpb24oYixBKXstLWQsYj95LnB1c2goYik6QS53aWR0aCE9PUEuaGVpZ2h0P3kucHVzaCgiY3ViZW1hcCBmYWNlIGltZyBpcyBub3QgYSBzcXVhcmU6ICIrQS5zcmMpOihEZShyLHQpLHIuYmluZFRleHR1cmUoYyxlKSxkPT09NT9wcigpLmZvckVhY2goZnVuY3Rpb24oUCl7ci50ZXhJbWFnZTJEKFAsbyxzLHUsZixBKX0pOnIudGV4SW1hZ2UyRCh2LG8scyx1LGYsQSksR2UodCkmJnIuZ2VuZXJhdGVNaXBtYXAoYykpLGQ9PT0wJiZuKHkubGVuZ3RoP3k6dm9pZCAwLGUsbSl9fW09aS5tYXAoZnVuY3Rpb24odixiKXtyZXR1cm4gX3Iodix0LmNyb3NzT3JpZ2luLHgoX1tiXSkpfSl9ZnVuY3Rpb24gQnUocixlLHQsbil7bj1ufHx6ZTtjb25zdCBpPXQuc3JjLG89dC5pbnRlcm5hbEZvcm1hdHx8dC5mb3JtYXR8fEYscz0kZShvKSxhPXQuZm9ybWF0fHxzLmZvcm1hdCx1PXQudHlwZXx8SSxmPXQudGFyZ2V0fHxfZTtpZihmIT09eWUmJmYhPT1fZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFXzNEIG9yIFRFWFRVUkVfMkRfQVJSQVkiO3hyKHIsZSx0KSx0PU9iamVjdC5hc3NpZ24oe30sdCk7bGV0IGM9aS5sZW5ndGg7Y29uc3QgZD1bXTtsZXQgeTtjb25zdCBfPXQubGV2ZWx8fDA7bGV0IG09dC53aWR0aCx4PXQuaGVpZ2h0O2NvbnN0IHY9aS5sZW5ndGg7bGV0IGI9ITA7ZnVuY3Rpb24gQShQKXtyZXR1cm4gZnVuY3Rpb24oQyxXKXtpZigtLWMsQylkLnB1c2goQyk7ZWxzZXtpZihEZShyLHQpLHIuYmluZFRleHR1cmUoZixlKSxiKXtiPSExLG09dC53aWR0aHx8Vy53aWR0aCx4PXQuaGVpZ2h0fHxXLmhlaWdodCxyLnRleEltYWdlM0QoZixfLG8sbSx4LHYsMCxhLHUsbnVsbCk7Zm9yKGxldCBpZT0wO2llPHY7KytpZSlyLnRleFN1YkltYWdlM0QoZixfLDAsMCxpZSxtLHgsMSxhLHUsVyl9ZWxzZXtsZXQgaWU9VyxYOyhXLndpZHRoIT09bXx8Vy5oZWlnaHQhPT14KSYmKFg9TW4oKSxpZT1YLmNhbnZhcyxYLmNhbnZhcy53aWR0aD1tLFguY2FudmFzLmhlaWdodD14LFguZHJhd0ltYWdlKFcsMCwwLG0seCkpLHIudGV4U3ViSW1hZ2UzRChmLF8sMCwwLFAsbSx4LDEsYSx1LGllKSxYJiZpZT09PVguY2FudmFzJiYoWC5jYW52YXMud2lkdGg9MCxYLmNhbnZhcy5oZWlnaHQ9MCl9R2UodCkmJnIuZ2VuZXJhdGVNaXBtYXAoZil9Yz09PTAmJm4oZC5sZW5ndGg/ZDp2b2lkIDAsZSx5KX19eT1pLm1hcChmdW5jdGlvbihQLEMpe3JldHVybiBfcihQLHQuY3Jvc3NPcmlnaW4sQShDKSl9KX1mdW5jdGlvbiBrdShyLGUsdCxuKXtuPW58fGFlLnRleHR1cmVPcHRpb25zO2NvbnN0IGk9bi50YXJnZXR8fHVlO3IuYmluZFRleHR1cmUoaSxlKTtsZXQgbz1uLndpZHRoLHM9bi5oZWlnaHQsYT1uLmRlcHRoO2NvbnN0IHU9bi5sZXZlbHx8MCxmPW4uaW50ZXJuYWxGb3JtYXR8fG4uZm9ybWF0fHxGLGM9JGUoZiksZD1uLmZvcm1hdHx8Yy5mb3JtYXQseT1uLnR5cGV8fEZ1KHIsdCxjLnR5cGUpO2lmKEJlKHQpKXQgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSYmKHQ9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpKTtlbHNle2NvbnN0IHY9RW4oeSk7dD1uZXcgdih0KX1jb25zdCBfPVJ1KGYseSksbT10LmJ5dGVMZW5ndGgvXztpZihtJTEpdGhyb3cibGVuZ3RoIHdyb25nIHNpemUgZm9yIGZvcm1hdDogIitEbihyLGQpO2xldCB4O2lmKGk9PT15ZXx8aT09PV9lKWlmKCFvJiYhcyYmIWEpe2NvbnN0IHY9TWF0aC5jYnJ0KG0pO2lmKHYlMSE9PTApdGhyb3ciY2FuJ3QgZ3Vlc3MgY3ViZSBzaXplIG9mIGFycmF5IG9mIG51bUVsZW1lbnRzOiAiK207bz12LHM9dixhPXZ9ZWxzZSBvJiYoIXN8fCFhKT8oeD1fdChyLGkscyxhLG0vbykscz14LndpZHRoLGE9eC5oZWlnaHQpOnMmJighb3x8IWEpPyh4PV90KHIsaSxvLGEsbS9zKSxvPXgud2lkdGgsYT14LmhlaWdodCk6KHg9X3QocixpLG8scyxtL2EpLG89eC53aWR0aCxzPXguaGVpZ2h0KTtlbHNlIHg9X3QocixpLG8scyxtKSxvPXgud2lkdGgscz14LmhlaWdodDtpZihxbihyKSxyLnBpeGVsU3RvcmVpKGxyLG4udW5wYWNrQWxpZ25tZW50fHwxKSxEZShyLG4pLGk9PT1jZSl7Y29uc3Qgdj1fL3QuQllURVNfUEVSX0VMRU1FTlQsYj1tLzYqdjt5cihyLG4pLmZvckVhY2goQT0+e2NvbnN0IFA9YipBLm5keCxDPXQuc3ViYXJyYXkoUCxQK2IpO3IudGV4SW1hZ2UyRChBLmZhY2UsdSxmLG8scywwLGQseSxDKX0pfWVsc2UgaT09PXllfHxpPT09X2U/ci50ZXhJbWFnZTNEKGksdSxmLG8scyxhLDAsZCx5LHQpOnIudGV4SW1hZ2UyRChpLHUsZixvLHMsMCxkLHksdCk7cmV0dXJue3dpZHRoOm8saGVpZ2h0OnMsZGVwdGg6YSx0eXBlOnl9fWZ1bmN0aW9uIEx1KHIsZSx0KXtjb25zdCBuPXQudGFyZ2V0fHx1ZTtyLmJpbmRUZXh0dXJlKG4sZSk7Y29uc3QgaT10LmxldmVsfHwwLG89dC5pbnRlcm5hbEZvcm1hdHx8dC5mb3JtYXR8fEYscz0kZShvKSxhPXQuZm9ybWF0fHxzLmZvcm1hdCx1PXQudHlwZXx8cy50eXBlO2lmKERlKHIsdCksbj09PWNlKWZvcihsZXQgZj0wO2Y8NjsrK2Ypci50ZXhJbWFnZTJEKHVyK2YsaSxvLHQud2lkdGgsdC5oZWlnaHQsMCxhLHUsbnVsbCk7ZWxzZSBuPT09eWV8fG49PT1fZT9yLnRleEltYWdlM0QobixpLG8sdC53aWR0aCx0LmhlaWdodCx0LmRlcHRoLDAsYSx1LG51bGwpOnIudGV4SW1hZ2UyRChuLGksbyx0LndpZHRoLHQuaGVpZ2h0LDAsYSx1LG51bGwpfWZ1bmN0aW9uIEtuKHIsZSx0KXt0PXR8fHplLGU9ZXx8YWUudGV4dHVyZU9wdGlvbnM7Y29uc3Qgbj1yLmNyZWF0ZVRleHR1cmUoKSxpPWUudGFyZ2V0fHx1ZTtsZXQgbz1lLndpZHRofHwxLHM9ZS5oZWlnaHR8fDE7Y29uc3QgYT1lLmludGVybmFsRm9ybWF0fHxGO3IuYmluZFRleHR1cmUoaSxuKSxpPT09Y2UmJihyLnRleFBhcmFtZXRlcmkoaSxmdCxjdCksci50ZXhQYXJhbWV0ZXJpKGksbHQsY3QpKTtsZXQgdT1lLnNyYztpZih1KWlmKHR5cGVvZiB1PT0iZnVuY3Rpb24iJiYodT11KHIsZSkpLHR5cGVvZiB1PT0ic3RyaW5nIilOdShyLG4sZSx0KTtlbHNlIGlmKEJlKHUpfHxBcnJheS5pc0FycmF5KHUpJiYodHlwZW9mIHVbMF09PSJudW1iZXIifHxBcnJheS5pc0FycmF5KHVbMF0pfHxCZSh1WzBdKSkpe2NvbnN0IGY9a3UocixuLHUsZSk7bz1mLndpZHRoLHM9Zi5oZWlnaHR9ZWxzZSBBcnJheS5pc0FycmF5KHUpJiYodHlwZW9mIHVbMF09PSJzdHJpbmcifHxRbih1WzBdKSk/aT09PWNlP1V1KHIsbixlLHQpOkJ1KHIsbixlLHQpOihZbihyLG4sdSxlKSxvPXUud2lkdGgscz11LmhlaWdodCk7ZWxzZSBMdShyLG4sZSk7cmV0dXJuIEdlKGUpJiZocihyLG4sZSxvLHMsYSksWG4ocixuLGUpLG59Y29uc3QgZ3I9VG47ZnVuY3Rpb24gSm4ocil7cmV0dXJuIHR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpOm51bGx9Y29uc3QgeHQ9MzM5ODQsZ3Q9MzQ5NjIsJHU9MzQ5NjMsR3U9MzU3MTMsenU9MzU3MTQsSHU9MzU2MzIsVnU9MzU2MzMsV3U9MzU5ODEsWm49MzU3MTgsanU9MzU3MjEscXU9MzU5NzEsWHU9MzUzODIsWXU9MzUzOTYsUXU9MzUzOTgsS3U9MzUzOTIsSnU9MzUzOTUsYnQ9NTEyNixlaT0zNTY2NCx0aT0zNTY2NSxyaT0zNTY2Nixicj01MTI0LG5pPTM1NjY3LGlpPTM1NjY4LG9pPTM1NjY5LHNpPTM1NjcwLGFpPTM1NjcxLHVpPTM1NjcyLGNpPTM1NjczLGZpPTM1Njc0LGxpPTM1Njc1LGRpPTM1Njc2LFp1PTM1Njc4LGVjPTM1NjgwLHRjPTM1Njc5LHJjPTM1NjgyLG5jPTM1Njg1LGljPTM1Njg2LG9jPTM1Njg3LHNjPTM1Njg4LGFjPTM1Njg5LHVjPTM1NjkwLGNjPTM2Mjg5LGZjPTM2MjkyLGxjPTM2MjkzLHZyPTUxMjUsbWk9MzYyOTQsaGk9MzYyOTUscGk9MzYyOTYsZGM9MzYyOTgsbWM9MzYyOTksaGM9MzYzMDAscGM9MzYzMDMseWM9MzYzMDYsX2M9MzYzMDcseGM9MzYzMDgsZ2M9MzYzMTEsdnQ9MzU1MyxFdD0zNDA2NyxFcj0zMjg3OSxUdD0zNTg2NixFPXt9O2Z1bmN0aW9uIHlpKHIsZSl7cmV0dXJuIEVbZV0uYmluZFBvaW50fWZ1bmN0aW9uIGJjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTFmKGUsdCl9fWZ1bmN0aW9uIHZjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTFmdihlLHQpfX1mdW5jdGlvbiBFYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0yZnYoZSx0KX19ZnVuY3Rpb24gVGMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtM2Z2KGUsdCl9fWZ1bmN0aW9uIEFjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTRmdihlLHQpfX1mdW5jdGlvbiBfaShyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0xaShlLHQpfX1mdW5jdGlvbiB4aShyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0xaXYoZSx0KX19ZnVuY3Rpb24gZ2kocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMml2KGUsdCl9fWZ1bmN0aW9uIGJpKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTNpdihlLHQpfX1mdW5jdGlvbiB2aShyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm00aXYoZSx0KX19ZnVuY3Rpb24gd2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMXVpKGUsdCl9fWZ1bmN0aW9uIFJjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTF1aXYoZSx0KX19ZnVuY3Rpb24gU2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMnVpdihlLHQpfX1mdW5jdGlvbiBJYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0zdWl2KGUsdCl9fWZ1bmN0aW9uIEZjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTR1aXYoZSx0KX19ZnVuY3Rpb24gUGMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4MmZ2KGUsITEsdCl9fWZ1bmN0aW9uIERjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDNmdihlLCExLHQpfX1mdW5jdGlvbiBNYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm1NYXRyaXg0ZnYoZSwhMSx0KX19ZnVuY3Rpb24gQ2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4MngzZnYoZSwhMSx0KX19ZnVuY3Rpb24gT2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4M3gyZnYoZSwhMSx0KX19ZnVuY3Rpb24gTmMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4Mng0ZnYoZSwhMSx0KX19ZnVuY3Rpb24gVWMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4NHgyZnYoZSwhMSx0KX19ZnVuY3Rpb24gQmMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4M3g0ZnYoZSwhMSx0KX19ZnVuY3Rpb24ga2MocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4NHgzZnYoZSwhMSx0KX19ZnVuY3Rpb24gTChyLGUsdCxuKXtjb25zdCBpPXlpKHIsZSk7cmV0dXJuIFVlKHIpP2Z1bmN0aW9uKG8pe2xldCBzLGE7b3IocixvKT8ocz1vLGE9bnVsbCk6KHM9by50ZXh0dXJlLGE9by5zYW1wbGVyKSxyLnVuaWZvcm0xaShuLHQpLHIuYWN0aXZlVGV4dHVyZSh4dCt0KSxyLmJpbmRUZXh0dXJlKGkscyksci5iaW5kU2FtcGxlcih0LGEpfTpmdW5jdGlvbihvKXtyLnVuaWZvcm0xaShuLHQpLHIuYWN0aXZlVGV4dHVyZSh4dCt0KSxyLmJpbmRUZXh0dXJlKGksbyl9fWZ1bmN0aW9uICQocixlLHQsbixpKXtjb25zdCBvPXlpKHIsZSkscz1uZXcgSW50MzJBcnJheShpKTtmb3IobGV0IGE9MDthPGk7KythKXNbYV09dCthO3JldHVybiBVZShyKT9mdW5jdGlvbihhKXtyLnVuaWZvcm0xaXYobixzKSxhLmZvckVhY2goZnVuY3Rpb24odSxmKXtyLmFjdGl2ZVRleHR1cmUoeHQrc1tmXSk7bGV0IGMsZDtvcihyLHUpPyhjPXUsZD1udWxsKTooYz11LnRleHR1cmUsZD11LnNhbXBsZXIpLHIuYmluZFNhbXBsZXIodCxkKSxyLmJpbmRUZXh0dXJlKG8sYyl9KX06ZnVuY3Rpb24oYSl7ci51bmlmb3JtMWl2KG4scyksYS5mb3JFYWNoKGZ1bmN0aW9uKHUsZil7ci5hY3RpdmVUZXh0dXJlKHh0K3NbZl0pLHIuYmluZFRleHR1cmUobyx1KX0pfX1FW2J0XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo0LHNldHRlcjpiYyxhcnJheVNldHRlcjp2Y30sRVtlaV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6OCxzZXR0ZXI6RWMsY29sczoyfSxFW3RpXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6VGMsY29sczozfSxFW3JpXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZToxNixzZXR0ZXI6QWMsY29sczo0fSxFW2JyXT17VHlwZTpJbnQzMkFycmF5LHNpemU6NCxzZXR0ZXI6X2ksYXJyYXlTZXR0ZXI6eGl9LEVbbmldPXtUeXBlOkludDMyQXJyYXksc2l6ZTo4LHNldHRlcjpnaSxjb2xzOjJ9LEVbaWldPXtUeXBlOkludDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6YmksY29sczozfSxFW29pXT17VHlwZTpJbnQzMkFycmF5LHNpemU6MTYsc2V0dGVyOnZpLGNvbHM6NH0sRVt2cl09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo0LHNldHRlcjp3YyxhcnJheVNldHRlcjpSY30sRVttaV09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo4LHNldHRlcjpTYyxjb2xzOjJ9LEVbaGldPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6MTIsc2V0dGVyOkljLGNvbHM6M30sRVtwaV09e1R5cGU6VWludDMyQXJyYXksc2l6ZToxNixzZXR0ZXI6RmMsY29sczo0fSxFW3NpXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjQsc2V0dGVyOl9pLGFycmF5U2V0dGVyOnhpfSxFW2FpXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjgsc2V0dGVyOmdpLGNvbHM6Mn0sRVt1aV09e1R5cGU6VWludDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6YmksY29sczozfSxFW2NpXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjE2LHNldHRlcjp2aSxjb2xzOjR9LEVbZmldPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjMyLHNldHRlcjpQYyxyb3dzOjIsY29sczoyfSxFW2xpXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo0OCxzZXR0ZXI6RGMscm93czozLGNvbHM6M30sRVtkaV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NjQsc2V0dGVyOk1jLHJvd3M6NCxjb2xzOjR9LEVbbmNdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjMyLHNldHRlcjpDYyxyb3dzOjIsY29sczozfSxFW2ljXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTozMixzZXR0ZXI6TmMscm93czoyLGNvbHM6NH0sRVtvY109e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NDgsc2V0dGVyOk9jLHJvd3M6Myxjb2xzOjJ9LEVbc2NdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjQ4LHNldHRlcjpCYyxyb3dzOjMsY29sczo0fSxFW2FjXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo2NCxzZXR0ZXI6VWMscm93czo0LGNvbHM6Mn0sRVt1Y109e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NjQsc2V0dGVyOmtjLHJvd3M6NCxjb2xzOjN9LEVbWnVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OnZ0fSxFW2VjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDpFdH0sRVt0Y109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6RXJ9LEVbcmNdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OnZ0fSxFW2NjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDpUdH0sRVtmY109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6VHR9LEVbbGNdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OkV0fSxFW2RjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDp2dH0sRVttY109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6RXJ9LEVbaGNdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OkV0fSxFW3BjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDpUdH0sRVt5Y109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6dnR9LEVbX2NdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpMLGFycmF5U2V0dGVyOiQsYmluZFBvaW50OkVyfSxFW3hjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TCxhcnJheVNldHRlcjokLGJpbmRQb2ludDpFdH0sRVtnY109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOkwsYXJyYXlTZXR0ZXI6JCxiaW5kUG9pbnQ6VHR9O2Z1bmN0aW9uIEF0KHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudmFsdWUpc3dpdGNoKHIuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHQudmFsdWUubGVuZ3RoKXtjYXNlIDQ6ci52ZXJ0ZXhBdHRyaWI0ZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDM6ci52ZXJ0ZXhBdHRyaWIzZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDI6ci52ZXJ0ZXhBdHRyaWIyZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDE6ci52ZXJ0ZXhBdHRyaWIxZnYoZSx0LnZhbHVlKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigidGhlIGxlbmd0aCBvZiBhIGZsb2F0IGNvbnN0YW50IHZhbHVlIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA0ISIpfWVsc2Ugci5iaW5kQnVmZmVyKGd0LHQuYnVmZmVyKSxyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHIudmVydGV4QXR0cmliUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8YnQsdC5ub3JtYWxpemV8fCExLHQuc3RyaWRlfHwwLHQub2Zmc2V0fHwwKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcihlLHQuZGl2aXNvcnx8MCl9fWZ1bmN0aW9uIGxlKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudmFsdWUpaWYoci5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZSksdC52YWx1ZS5sZW5ndGg9PT00KXIudmVydGV4QXR0cmliNGl2KGUsdC52YWx1ZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoZSBsZW5ndGggb2YgYW4gaW50ZWdlciBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIDQhIik7ZWxzZSByLmJpbmRCdWZmZXIoZ3QsdC5idWZmZXIpLHIuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZSksci52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8YnIsdC5zdHJpZGV8fDAsdC5vZmZzZXR8fDApLHIudmVydGV4QXR0cmliRGl2aXNvciYmci52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsdC5kaXZpc29yfHwwKX19ZnVuY3Rpb24gd3QocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYodC52YWx1ZSlpZihyLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSx0LnZhbHVlLmxlbmd0aD09PTQpci52ZXJ0ZXhBdHRyaWI0dWl2KGUsdC52YWx1ZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoZSBsZW5ndGggb2YgYW4gdW5zaWduZWQgaW50ZWdlciBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIDQhIik7ZWxzZSByLmJpbmRCdWZmZXIoZ3QsdC5idWZmZXIpLHIuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZSksci52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8dnIsdC5zdHJpZGV8fDAsdC5vZmZzZXR8fDApLHIudmVydGV4QXR0cmliRGl2aXNvciYmci52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsdC5kaXZpc29yfHwwKX19ZnVuY3Rpb24gVHIocixlLHQpe2NvbnN0IG49dC5zaXplLGk9dC5jb3VudDtyZXR1cm4gZnVuY3Rpb24obyl7ci5iaW5kQnVmZmVyKGd0LG8uYnVmZmVyKTtjb25zdCBzPW8uc2l6ZXx8by5udW1Db21wb25lbnRzfHxuLGE9cy9pLHU9by50eXBlfHxidCxjPUVbdV0uc2l6ZSpzLGQ9by5ub3JtYWxpemV8fCExLHk9by5vZmZzZXR8fDAsXz1jL2k7Zm9yKGxldCBtPTA7bTxpOysrbSlyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGUrbSksci52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUrbSxhLHUsZCxjLHkrXyptKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcihlK20sby5kaXZpc29yfHwwKX19Y29uc3QgRD17fTtEW2J0XT17c2l6ZTo0LHNldHRlcjpBdH0sRFtlaV09e3NpemU6OCxzZXR0ZXI6QXR9LERbdGldPXtzaXplOjEyLHNldHRlcjpBdH0sRFtyaV09e3NpemU6MTYsc2V0dGVyOkF0fSxEW2JyXT17c2l6ZTo0LHNldHRlcjpsZX0sRFtuaV09e3NpemU6OCxzZXR0ZXI6bGV9LERbaWldPXtzaXplOjEyLHNldHRlcjpsZX0sRFtvaV09e3NpemU6MTYsc2V0dGVyOmxlfSxEW3ZyXT17c2l6ZTo0LHNldHRlcjp3dH0sRFttaV09e3NpemU6OCxzZXR0ZXI6d3R9LERbaGldPXtzaXplOjEyLHNldHRlcjp3dH0sRFtwaV09e3NpemU6MTYsc2V0dGVyOnd0fSxEW3NpXT17c2l6ZTo0LHNldHRlcjpsZX0sRFthaV09e3NpemU6OCxzZXR0ZXI6bGV9LERbdWldPXtzaXplOjEyLHNldHRlcjpsZX0sRFtjaV09e3NpemU6MTYsc2V0dGVyOmxlfSxEW2ZpXT17c2l6ZTo0LHNldHRlcjpUcixjb3VudDoyfSxEW2xpXT17c2l6ZTo5LHNldHRlcjpUcixjb3VudDozfSxEW2RpXT17c2l6ZToxNixzZXR0ZXI6VHIsY291bnQ6NH07Y29uc3QgTGM9L0VSUk9SOlxzKlxkKzooXGQrKS9naTtmdW5jdGlvbiAkYyhyLGU9IiIsdD0wKXtjb25zdCBuPVsuLi5lLm1hdGNoQWxsKExjKV0saT1uZXcgTWFwKG4ubWFwKChvLHMpPT57Y29uc3QgYT1wYXJzZUludChvWzFdKSx1PW5bcysxXSxmPXU/dS5pbmRleDplLmxlbmd0aCxjPWUuc3Vic3RyaW5nKG8uaW5kZXgsZik7cmV0dXJuW2EtMSxjXX0pKTtyZXR1cm4gci5zcGxpdChgCmApLm1hcCgobyxzKT0+e2NvbnN0IGE9aS5nZXQocyk7cmV0dXJuYCR7cysxK3R9OiAke299JHthP2AKCl5eXiAke2F9YDoiIn1gfSkuam9pbihgCmApfWNvbnN0IEVpPS9eWyBcdF0qXG4vO2Z1bmN0aW9uIFRpKHIpe2xldCBlPTA7cmV0dXJuIEVpLnRlc3QocikmJihlPTEscj1yLnJlcGxhY2UoRWksIiIpKSx7bGluZU9mZnNldDplLHNoYWRlclNvdXJjZTpyfX1mdW5jdGlvbiBHYyhyLGUpe3JldHVybiByLmVycm9yQ2FsbGJhY2soZSksci5jYWxsYmFjayYmc2V0VGltZW91dCgoKT0+e3IuY2FsbGJhY2soYCR7ZX0KJHtyLmVycm9ycy5qb2luKGAKYCl9YCl9KSxudWxsfWZ1bmN0aW9uIHpjKHIsZSx0LG4pe2lmKG49bnx8Z3IsIXIuZ2V0U2hhZGVyUGFyYW1ldGVyKHQsR3UpKXtjb25zdCBvPXIuZ2V0U2hhZGVySW5mb0xvZyh0KSx7bGluZU9mZnNldDpzLHNoYWRlclNvdXJjZTphfT1UaShyLmdldFNoYWRlclNvdXJjZSh0KSksdT1gJHskYyhhLG8scyl9CkVycm9yIGNvbXBpbGluZyAke0RuKHIsZSl9OiAke299YDtyZXR1cm4gbih1KSx1fXJldHVybiIifWZ1bmN0aW9uIEFyKHIsZSx0KXtsZXQgbixpLG87aWYodHlwZW9mIGU9PSJmdW5jdGlvbiImJih0PWUsZT12b2lkIDApLHR5cGVvZiByPT0iZnVuY3Rpb24iKXQ9cixyPXZvaWQgMDtlbHNlIGlmKHImJiFBcnJheS5pc0FycmF5KHIpKXtjb25zdCBmPXI7dD1mLmVycm9yQ2FsbGJhY2sscj1mLmF0dHJpYkxvY2F0aW9ucyxuPWYudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyxpPWYudHJhbnNmb3JtRmVlZGJhY2tNb2RlLG89Zi5jYWxsYmFja31jb25zdCBzPXR8fGdyLGE9W10sdT17ZXJyb3JDYWxsYmFjayhmLC4uLmMpe2EucHVzaChmKSxzKGYsLi4uYyl9LHRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M6bix0cmFuc2Zvcm1GZWVkYmFja01vZGU6aSxjYWxsYmFjazpvLGVycm9yczphfTt7bGV0IGY9e307QXJyYXkuaXNBcnJheShyKT9yLmZvckVhY2goZnVuY3Rpb24oYyxkKXtmW2NdPWU/ZVtkXTpkfSk6Zj1yfHx7fSx1LmF0dHJpYkxvY2F0aW9ucz1mfXJldHVybiB1fWNvbnN0IEhjPVsiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiJdO2Z1bmN0aW9uIFZjKHIsZSl7aWYoZS5pbmRleE9mKCJmcmFnIik+PTApcmV0dXJuIEh1O2lmKGUuaW5kZXhPZigidmVydCIpPj0wKXJldHVybiBWdX1mdW5jdGlvbiBXYyhyLGUsdCl7Y29uc3Qgbj1yLmdldEF0dGFjaGVkU2hhZGVycyhlKTtmb3IoY29uc3QgaSBvZiBuKXQuaGFzKGkpJiZyLmRlbGV0ZVNoYWRlcihpKTtyLmRlbGV0ZVByb2dyYW0oZSl9Y29uc3QgamM9KHI9MCk9Pm5ldyBQcm9taXNlKGU9PnNldFRpbWVvdXQoZSxyKSk7ZnVuY3Rpb24gcWMocixlLHQpe2NvbnN0IG49ci5jcmVhdGVQcm9ncmFtKCkse2F0dHJpYkxvY2F0aW9uczppLHRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M6byx0cmFuc2Zvcm1GZWVkYmFja01vZGU6c309QXIodCk7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDsrK2Epe2xldCB1PWVbYV07aWYodHlwZW9mIHU9PSJzdHJpbmciKXtjb25zdCBmPUpuKHUpLGM9Zj9mLnRleHQ6dTtsZXQgZD1yW0hjW2FdXTtmJiZmLnR5cGUmJihkPVZjKHIsZi50eXBlKXx8ZCksdT1yLmNyZWF0ZVNoYWRlcihkKSxyLnNoYWRlclNvdXJjZSh1LFRpKGMpLnNoYWRlclNvdXJjZSksci5jb21waWxlU2hhZGVyKHUpLHIuYXR0YWNoU2hhZGVyKG4sdSl9fU9iamVjdC5lbnRyaWVzKGkpLmZvckVhY2goKFthLHVdKT0+ci5iaW5kQXR0cmliTG9jYXRpb24obix1LGEpKTt7bGV0IGE9bzthJiYoYS5hdHRyaWJzJiYoYT1hLmF0dHJpYnMpLEFycmF5LmlzQXJyYXkoYSl8fChhPU9iamVjdC5rZXlzKGEpKSxyLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MobixhLHN8fFd1KSl9cmV0dXJuIHIubGlua1Byb2dyYW0obiksbn1mdW5jdGlvbiBYYyhyLGUsdCxuLGkpe2NvbnN0IG89QXIodCxuLGkpLHM9bmV3IFNldChlKSxhPXFjKHIsZSxvKTtmdW5jdGlvbiB1KGYsYyl7Y29uc3QgZD1RYyhmLGMsby5lcnJvckNhbGxiYWNrKTtyZXR1cm4gZCYmV2MoZixjLHMpLGR9aWYoby5jYWxsYmFjayl7WWMocixhKS50aGVuKCgpPT57Y29uc3QgZj11KHIsYSk7by5jYWxsYmFjayhmLGY/dm9pZCAwOmEpfSk7cmV0dXJufXJldHVybiB1KHIsYSk/dm9pZCAwOmF9YXN5bmMgZnVuY3Rpb24gWWMocixlKXtjb25zdCB0PXIuZ2V0RXh0ZW5zaW9uKCJLSFJfcGFyYWxsZWxfc2hhZGVyX2NvbXBpbGUiKSxuPXQ/KG8scyk9Pm8uZ2V0UHJvZ3JhbVBhcmFtZXRlcihzLHQuQ09NUExFVElPTl9TVEFUVVNfS0hSKTooKT0+ITA7bGV0IGk9MDtkbyBhd2FpdCBqYyhpKSxpPTFlMy82MDt3aGlsZSghbihyLGUpKX1mdW5jdGlvbiBRYyhyLGUsdCl7aWYodD10fHxnciwhci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsenUpKXtjb25zdCBpPXIuZ2V0UHJvZ3JhbUluZm9Mb2coZSk7dChgRXJyb3IgaW4gcHJvZ3JhbSBsaW5raW5nOiAke2l9YCk7Y29uc3Qgcz1yLmdldEF0dGFjaGVkU2hhZGVycyhlKS5tYXAoYT0+emMocixyLmdldFNoYWRlclBhcmFtZXRlcihhLHIuU0hBREVSX1RZUEUpLGEsdCkpO3JldHVybmAke2l9CiR7cy5maWx0ZXIoYT0+YSkuam9pbihgCmApfWB9fWZ1bmN0aW9uIEtjKHIsZSx0LG4saSl7cmV0dXJuIFhjKHIsZSx0LG4saSl9ZnVuY3Rpb24gQWkocil7Y29uc3QgZT1yLm5hbWU7cmV0dXJuIGUuc3RhcnRzV2l0aCgiZ2xfIil8fGUuc3RhcnRzV2l0aCgid2ViZ2xfIil9Y29uc3QgSmM9LyhcLnxcW3xdfFx3KykvZyxaYz1yPT5yPj0iMCImJnI8PSI5IjtmdW5jdGlvbiBlZihyLGUsdCxuKXtjb25zdCBpPXIuc3BsaXQoSmMpLmZpbHRlcihhPT5hIT09IiIpO2xldCBvPTAscz0iIjtmb3IoOzspe2NvbnN0IGE9aVtvKytdO3MrPWE7Y29uc3QgdT1aYyhhWzBdKSxmPXU/cGFyc2VJbnQoYSk6YTtpZih1JiYocys9aVtvKytdKSxvPT09aS5sZW5ndGgpe3RbZl09ZTticmVha31lbHNle2NvbnN0IGQ9aVtvKytdLHk9ZD09PSJbIixfPXRbZl18fCh5P1tdOnt9KTt0W2ZdPV8sdD1fLG5bc109bltzXXx8ZnVuY3Rpb24obSl7cmV0dXJuIGZ1bmN0aW9uKHgpe3dpKG0seCl9fShfKSxzKz1kfX19ZnVuY3Rpb24gdGYocixlKXtsZXQgdD0wO2Z1bmN0aW9uIG4oYSx1LGYpe2NvbnN0IGM9dS5uYW1lLmVuZHNXaXRoKCJbMF0iKSxkPXUudHlwZSx5PUVbZF07aWYoIXkpdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHR5cGU6IDB4JHtkLnRvU3RyaW5nKDE2KX1gKTtsZXQgXztpZih5LmJpbmRQb2ludCl7Y29uc3QgbT10O3QrPXUuc2l6ZSxjP189eS5hcnJheVNldHRlcihyLGQsbSxmLHUuc2l6ZSk6Xz15LnNldHRlcihyLGQsbSxmLHUuc2l6ZSl9ZWxzZSB5LmFycmF5U2V0dGVyJiZjP189eS5hcnJheVNldHRlcihyLGYpOl89eS5zZXR0ZXIocixmKTtyZXR1cm4gXy5sb2NhdGlvbj1mLF99Y29uc3QgaT17fSxvPXt9LHM9ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsWm4pO2ZvcihsZXQgYT0wO2E8czsrK2Epe2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtKGUsYSk7aWYoQWkodSkpY29udGludWU7bGV0IGY9dS5uYW1lO2YuZW5kc1dpdGgoIlswXSIpJiYoZj1mLnN1YnN0cigwLGYubGVuZ3RoLTMpKTtjb25zdCBjPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsdS5uYW1lKTtpZihjKXtjb25zdCBkPW4oZSx1LGMpO2lbZl09ZCxlZihmLGQsbyxpKX19cmV0dXJuIGl9ZnVuY3Rpb24gcmYocixlKXtjb25zdCB0PXt9LG49ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUscXUpO2ZvcihsZXQgaT0wO2k8bjsrK2kpe2NvbnN0IG89ci5nZXRUcmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmcoZSxpKTt0W28ubmFtZV09e2luZGV4OmksdHlwZTpvLnR5cGUsc2l6ZTpvLnNpemV9fXJldHVybiB0fWZ1bmN0aW9uIG5mKHIsZSl7Y29uc3QgdD1yLmdldFByb2dyYW1QYXJhbWV0ZXIoZSxabiksbj1bXSxpPVtdO2ZvcihsZXQgYT0wO2E8dDsrK2Epe2kucHVzaChhKSxuLnB1c2goe30pO2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtKGUsYSk7blthXS5uYW1lPXUubmFtZX1bWyJVTklGT1JNX1RZUEUiLCJ0eXBlIl0sWyJVTklGT1JNX1NJWkUiLCJzaXplIl0sWyJVTklGT1JNX0JMT0NLX0lOREVYIiwiYmxvY2tOZHgiXSxbIlVOSUZPUk1fT0ZGU0VUIiwib2Zmc2V0Il1dLmZvckVhY2goZnVuY3Rpb24oYSl7Y29uc3QgdT1hWzBdLGY9YVsxXTtyLmdldEFjdGl2ZVVuaWZvcm1zKGUsaSxyW3VdKS5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7bltkXVtmXT1jfSl9KTtjb25zdCBvPXt9LHM9ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsWHUpO2ZvcihsZXQgYT0wO2E8czsrK2Epe2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtQmxvY2tOYW1lKGUsYSksZj17aW5kZXg6ci5nZXRVbmlmb3JtQmxvY2tJbmRleChlLHUpLHVzZWRCeVZlcnRleFNoYWRlcjpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcihlLGEsWXUpLHVzZWRCeUZyYWdtZW50U2hhZGVyOnIuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyKGUsYSxRdSksc2l6ZTpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcihlLGEsS3UpLHVuaWZvcm1JbmRpY2VzOnIuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyKGUsYSxKdSl9O2YudXNlZD1mLnVzZWRCeVZlcnRleFNoYWRlcnx8Zi51c2VkQnlGcmFnbWVudFNoYWRlcixvW3VdPWZ9cmV0dXJue2Jsb2NrU3BlY3M6byx1bmlmb3JtRGF0YTpufX1mdW5jdGlvbiB3aShyLGUpe2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IG49clt0XTt0eXBlb2Ygbj09ImZ1bmN0aW9uIj9uKGVbdF0pOndpKHJbdF0sZVt0XSl9fWZ1bmN0aW9uIFJpKHIsLi4uZSl7Y29uc3QgdD1yLnVuaWZvcm1TZXR0ZXJzfHxyLG49ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTxuOysraSl7Y29uc3Qgbz1lW2ldO2lmKEFycmF5LmlzQXJyYXkobykpe2NvbnN0IHM9by5sZW5ndGg7Zm9yKGxldCBhPTA7YTxzOysrYSlSaSh0LG9bYV0pfWVsc2UgZm9yKGNvbnN0IHMgaW4gbyl7Y29uc3QgYT10W3NdO2EmJmEob1tzXSl9fX1mdW5jdGlvbiBvZihyLGUpe2NvbnN0IHQ9e30sbj1yLmdldFByb2dyYW1QYXJhbWV0ZXIoZSxqdSk7Zm9yKGxldCBpPTA7aTxuOysraSl7Y29uc3Qgbz1yLmdldEFjdGl2ZUF0dHJpYihlLGkpO2lmKEFpKG8pKWNvbnRpbnVlO2NvbnN0IHM9ci5nZXRBdHRyaWJMb2NhdGlvbihlLG8ubmFtZSksYT1EW28udHlwZV0sdT1hLnNldHRlcihyLHMsYSk7dS5sb2NhdGlvbj1zLHRbby5uYW1lXT11fXJldHVybiB0fWZ1bmN0aW9uIHNmKHIsZSl7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgbj1yW3RdO24mJm4oZVt0XSl9fWZ1bmN0aW9uIGFmKHIsZSx0KXt0LnZlcnRleEFycmF5T2JqZWN0P3IuYmluZFZlcnRleEFycmF5KHQudmVydGV4QXJyYXlPYmplY3QpOihzZihlLmF0dHJpYlNldHRlcnN8fGUsdC5hdHRyaWJzKSx0LmluZGljZXMmJnIuYmluZEJ1ZmZlcigkdSx0LmluZGljZXMpKX1mdW5jdGlvbiBTaShyLGUpe2NvbnN0IHQ9dGYocixlKSxuPW9mKHIsZSksaT17cHJvZ3JhbTplLHVuaWZvcm1TZXR0ZXJzOnQsYXR0cmliU2V0dGVyczpufTtyZXR1cm4gVWUocikmJihpLnVuaWZvcm1CbG9ja1NwZWM9bmYocixlKSxpLnRyYW5zZm9ybUZlZWRiYWNrSW5mbz1yZihyLGUpKSxpfWNvbnN0IHVmPS9cc3x7fH18Oy87ZnVuY3Rpb24gY2YocixlLHQsbixpKXtjb25zdCBvPUFyKHQsbixpKSxzPVtdO2lmKGU9ZS5tYXAoZnVuY3Rpb24oZil7aWYoIXVmLnRlc3QoZikpe2NvbnN0IGM9Sm4oZik7aWYoYylmPWMudGV4dDtlbHNle2NvbnN0IGQ9YG5vIGVsZW1lbnQgd2l0aCBpZDogJHtmfWA7by5lcnJvckNhbGxiYWNrKGQpLHMucHVzaChkKX19cmV0dXJuIGZ9KSxzLmxlbmd0aClyZXR1cm4gR2MobywiIik7Y29uc3QgYT1vLmNhbGxiYWNrO2EmJihvLmNhbGxiYWNrPShmLGMpPT57YShmLGY/dm9pZCAwOlNpKHIsYykpfSk7Y29uc3QgdT1LYyhyLGUsbyk7cmV0dXJuIHU/U2kocix1KTpudWxsfWNvbnN0IGZmPTQsSWk9NTEyMztmdW5jdGlvbiBsZihyLGUsdCxuLGksbyl7dD10PT09dm9pZCAwP2ZmOnQ7Y29uc3Qgcz1lLmluZGljZXMsYT1lLmVsZW1lbnRUeXBlLHU9bj09PXZvaWQgMD9lLm51bUVsZW1lbnRzOm47aT1pPT09dm9pZCAwPzA6aSxhfHxzP28hPT12b2lkIDA/ci5kcmF3RWxlbWVudHNJbnN0YW5jZWQodCx1LGE9PT12b2lkIDA/SWk6ZS5lbGVtZW50VHlwZSxpLG8pOnIuZHJhd0VsZW1lbnRzKHQsdSxhPT09dm9pZCAwP0lpOmUuZWxlbWVudFR5cGUsaSk6byE9PXZvaWQgMD9yLmRyYXdBcnJheXNJbnN0YW5jZWQodCxpLHUsbyk6ci5kcmF3QXJyYXlzKHQsaSx1KX1jb25zdCBGaT0zNjE2MCxSdD0zNjE2MSxkZj0zNTUzLG1mPTUxMjEsaGY9NjQwMixwZj02NDA4LHlmPTMzMTkwLF9mPTM2MDEyLHhmPTM1MDU2LGdmPTM2MDEzLGJmPTMyODU0LHZmPTMyODU1LEVmPTM2MTk0LFBpPTMzMTg5LERpPTY0MDEsTWk9MzYxNjgsd3I9MzQwNDEsUnI9MzYwNjQsU3Q9MzYwOTYsQ2k9MzYxMjgsU3I9MzMzMDYsSXI9MzMwNzEsRnI9OTcyOSxUZj1be2Zvcm1hdDpwZix0eXBlOm1mLG1pbjpGcix3cmFwOklyfSx7Zm9ybWF0OndyfV0scT17fTtxW3dyXT1TcixxW0RpXT1DaSxxW01pXT1DaSxxW2hmXT1TdCxxW1BpXT1TdCxxW3lmXT1TdCxxW19mXT1TdCxxW3hmXT1TcixxW2dmXT1TcjtmdW5jdGlvbiBBZihyLGUpe3JldHVybiBxW3JdfHxxW2VdfWNvbnN0IGRlPXt9O2RlW2JmXT0hMCxkZVt2Zl09ITAsZGVbRWZdPSEwLGRlW3dyXT0hMCxkZVtQaV09ITAsZGVbRGldPSEwLGRlW01pXT0hMDtmdW5jdGlvbiB3ZihyKXtyZXR1cm4gZGVbcl19Y29uc3QgUmY9MzI7ZnVuY3Rpb24gU2Yocil7cmV0dXJuIHI+PVJyJiZyPFJyK1JmfWZ1bmN0aW9uIEl0KHIsZSx0LG4pe2NvbnN0IGk9Rmksbz1yLmNyZWF0ZUZyYW1lYnVmZmVyKCk7ci5iaW5kRnJhbWVidWZmZXIoaSxvKSx0PXR8fHIuZHJhd2luZ0J1ZmZlcldpZHRoLG49bnx8ci5kcmF3aW5nQnVmZmVySGVpZ2h0LGU9ZXx8VGY7Y29uc3Qgcz1bXSxhPXtmcmFtZWJ1ZmZlcjpvLGF0dGFjaG1lbnRzOltdLHdpZHRoOnQsaGVpZ2h0Om59O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odSxmKXtsZXQgYz11LmF0dGFjaG1lbnQ7Y29uc3QgZD11LnNhbXBsZXMseT11LmZvcm1hdDtsZXQgXz11LmF0dGFjaG1lbnRQb2ludHx8QWYoeSx1LmludGVybmFsRm9ybWF0KTtpZihffHwoXz1ScitmKSxTZihfKSYmcy5wdXNoKF8pLCFjKWlmKGQhPT12b2lkIDB8fHdmKHkpKWM9ci5jcmVhdGVSZW5kZXJidWZmZXIoKSxyLmJpbmRSZW5kZXJidWZmZXIoUnQsYyksZD4xP3IucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKFJ0LGQseSx0LG4pOnIucmVuZGVyYnVmZmVyU3RvcmFnZShSdCx5LHQsbik7ZWxzZXtjb25zdCBtPU9iamVjdC5hc3NpZ24oe30sdSk7bS53aWR0aD10LG0uaGVpZ2h0PW4sbS5hdXRvPT09dm9pZCAwJiYobS5hdXRvPSExLG0ubWluPW0ubWlufHxtLm1pbk1hZ3x8RnIsbS5tYWc9bS5tYWd8fG0ubWluTWFnfHxGcixtLndyYXBTPW0ud3JhcFN8fG0ud3JhcHx8SXIsbS53cmFwVD1tLndyYXBUfHxtLndyYXB8fElyKSxjPUtuKHIsbSl9aWYoQnMocixjKSlyLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGksXyxSdCxjKTtlbHNlIGlmKG9yKHIsYykpdS5sYXllciE9PXZvaWQgMD9yLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKGksXyxjLHUubGV2ZWx8fDAsdS5sYXllcik6ci5mcmFtZWJ1ZmZlclRleHR1cmUyRChpLF8sdS50YXJnZXR8fGRmLGMsdS5sZXZlbHx8MCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gYXR0YWNobWVudCB0eXBlIik7YS5hdHRhY2htZW50cy5wdXNoKGMpfSksci5kcmF3QnVmZmVycyYmci5kcmF3QnVmZmVycyhzKSxhfWZ1bmN0aW9uIElmKHIsZSx0KXt0PXR8fEZpLGU/KHIuYmluZEZyYW1lYnVmZmVyKHQsZS5mcmFtZWJ1ZmZlciksci52aWV3cG9ydCgwLDAsZS53aWR0aCxlLmhlaWdodCkpOihyLmJpbmRGcmFtZWJ1ZmZlcih0LG51bGwpLHIudmlld3BvcnQoMCwwLHIuZHJhd2luZ0J1ZmZlcldpZHRoLHIuZHJhd2luZ0J1ZmZlckhlaWdodCkpfWZ1bmN0aW9uIFMocixlKXtyZXR1cm4oKT0+ZSBpbnN0YW5jZW9mIFdlYkdMVGV4dHVyZT9lOktuKHIse3NyYzplLHdyYXA6ci5DTEFNUF9UT19FREdFfSl9Y29uc3QgT2k9MjtjbGFzcyBiZXtjb25zdHJ1Y3RvcihlKXtwKHRoaXMsImlkIiwiXyIpO3AodGhpcywiY29udGV4dCIpO3AodGhpcywib3V0cHV0Iik7cCh0aGlzLCJmYmkiKTtwKHRoaXMsIm9wdGlvbnMiKTtwKHRoaXMsInByb2dyYW1JbmZvIik7cCh0aGlzLCJidWZmZXJJbmZvIik7cCh0aGlzLCJwcm9maWxlciIpO3AodGhpcywibGFzdFJ1biIpO2NvbnN0e2NvbnRleHQ6dCx3aWR0aDpuLGhlaWdodDppfT1lO3RoaXMuY29udGV4dD10LHRoaXMub3B0aW9ucz1lO2NvbnN0IG89dGhpcy5idWlsZERlZmluZXMoKTt0aGlzLnByb2dyYW1JbmZvPWNmKHRoaXMuY29udGV4dCxbbyt0aGlzLmdldFZlcnRleFNoYWRlcigpLG8rdGhpcy5nZXRGcmFnbWVudFNoYWRlcigpXSksdGhpcy5idWZmZXJJbmZvPWFhKHRoaXMuY29udGV4dCx0aGlzLmdldEJ1ZmZlcnMoKSksdGhpcy5mYmk9SXQodGhpcy5jb250ZXh0LFt7Zm9ybWF0OnRoaXMuY29udGV4dC5SR0JBLHR5cGU6dGhpcy5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnRoaXMuY29udGV4dC5MSU5FQVIsd3JhcDp0aGlzLmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLG4saSksdGhpcy5vdXRwdXQ9dGhpcy5mYmkuYXR0YWNobWVudHNbMF19cmVzaXplT3V0cHV0KGUsdCl7dGhpcy5mYmk9SXQodGhpcy5jb250ZXh0LFt7Zm9ybWF0OnRoaXMuY29udGV4dC5SR0JBLHR5cGU6dGhpcy5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnRoaXMuY29udGV4dC5MSU5FQVIsd3JhcDp0aGlzLmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLGUsdCksdGhpcy5vcHRpb25zLndpZHRoPWUsdGhpcy5vcHRpb25zLmhlaWdodD10LHRoaXMub3V0cHV0PXRoaXMuZmJpLmF0dGFjaG1lbnRzWzBdfWdldERlZmluZXMoKXtyZXR1cm57fX1nZXRCdWZmZXJzKCl7cmV0dXJue3Bvc2l0aW9uOntudW1Db21wb25lbnRzOjIsZGF0YTpbLTEsLTEsLTEsMSwxLC0xLDEsMSwtMSwxLDEsLTFdfSx0ZXh0dXJlX2Nvb3JkOntudW1Db21wb25lbnRzOjIsZGF0YTpbMCwwLDAsMSwxLDAsMSwxLDAsMSwxLDBdfX19YnVpbGREZWZpbmVzKCl7bGV0IGU9IiI7Y29uc3QgdD10aGlzLmdldERlZmluZXMoKTtmb3IobGV0IG4gaW4gdCllKz1gI2RlZmluZSAke259ICR7dFtuXS50b0ZpeGVkKDEpfQpgO3JldHVybiBlfXJ1bihlKXt2YXIgaSxvLHMsYSx1LGY7KGk9dGhpcy5wcm9maWxlcik9PW51bGx8fGkucHVzaENvbnRleHQoYFske3RoaXMuaWR9XSBQUk9HIDogJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCksKG89dGhpcy5wcm9maWxlcik9PW51bGx8fG8ucHVzaENvbnRleHQoYFske3RoaXMuaWR9XSBVTklGT1JNU2ApO2Zvcihjb25zdCBjIGluIGUpdHlwZW9mIGVbY109PSJmdW5jdGlvbiImJigocz10aGlzLnByb2ZpbGVyKT09bnVsbHx8cy5wdXNoQ29udGV4dChgWyR7dGhpcy5pZH1dIFVOSSA6ICR7Y31gKSxlW2NdPWVbY10oKSwoYT10aGlzLnByb2ZpbGVyKT09bnVsbHx8YS5wb3BDb250ZXh0KGBbJHt0aGlzLmlkfV0gVU5JIDogJHtjfWApKTsodT10aGlzLnByb2ZpbGVyKT09bnVsbHx8dS5wb3BDb250ZXh0KGBbJHt0aGlzLmlkfV0gVU5JRk9STVNgKTtjb25zdCB0PURhdGUubm93KCk7bGV0IG49MDt0aGlzLmxhc3RSdW4mJihuPSh0LXRoaXMubGFzdFJ1bikvMWUzKSx0aGlzLmxhc3RSdW49dCx0aGlzLmNvbnRleHQudmlld3BvcnQoMCwwLHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQpLHRoaXMuY29udGV4dC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbUluZm8ucHJvZ3JhbSksYWYodGhpcy5jb250ZXh0LHRoaXMucHJvZ3JhbUluZm8sdGhpcy5idWZmZXJJbmZvKSxSaSh0aGlzLnByb2dyYW1JbmZvLHtkZWx0YTpuLGNhbnZhczpbdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCx0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodF0sLi4uZX0pLElmKHRoaXMuY29udGV4dCx0aGlzLm9wdGlvbnMuZGlzYWJsZUZyYW1lYnVmZmVyP251bGw6dGhpcy5mYmkpLGxmKHRoaXMuY29udGV4dCx0aGlzLmJ1ZmZlckluZm8pLChmPXRoaXMucHJvZmlsZXIpPT1udWxsfHxmLnBvcENvbnRleHQoYFske3RoaXMuaWR9XSBQUk9HIDogJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9c2V0UHJvZmlsZXIoZSl7dGhpcy5wcm9maWxlcj1lfX12YXIgRmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgbWFzazsKCnZlYzQgbG9vcCgpOwoKdm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSBsb29wKCk7IH0KYCxQZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIERmIGV4dGVuZHMgYmV7Z2V0RGVmaW5lcygpe3ZhciBlO3JldHVybntSQURJVVM6KGU9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/ZToxfX1nZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBGZit0aGlzLmNyZWF0ZUxvb3BGdW5jdGlvbigpfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBQZn1jcmVhdGVMb29wRnVuY3Rpb24oKXt2YXIgdDtsZXQgZT0odD10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD90OjE7cmV0dXJuYAoKICAgICAgICB2ZWM0IGxvb3AoKSB7IAogICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCwwLDAsMCk7CiAgICAgICAgICAgIGZsb2F0IGZhY3RvclN1bSA9IDAuOwoKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkUmFkaXVzID0gdmVjMigtJHtlfS4pIC8gY2FudmFzOwogICAgICAgICAgICB2ZWMyIG5vcm1hbGl6ZWRJbmNyZW1lbnQgPSB2ZWMyKDEuKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBkaWZmID0gbm9ybWFsaXplZFJhZGl1czsKICAgICAgICAgICAgZmxvYXQgbWF4TGVuZ3RoID0gbGVuZ3RoKG5vcm1hbGl6ZWRSYWRpdXMpOwoKICAgICAgICAgICAgZm9yKGludCB5PS0ke2V9OyB5PCR7ZSsxfTsgKyt5KSB7CiAgICAgICAgICAgICAgICBmb3IoaW50IHg9LSR7ZX07IHg8JHtlKzF9OyArK3gpIHsKICAgICAgICAgICAgICAgICAgICBmbG9hdCBmYWN0b3IgPSAoMS4tIHRleHR1cmUyRChtYXNrLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpLmEpICogKG1heExlbmd0aCAtIGxlbmd0aChkaWZmKSkgLyBtYXhMZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZhY3RvciAqIHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpOwogICAgICAgICAgICAgICAgICAgIGZhY3RvclN1bSArPSBmYWN0b3I7CiAgICAgICAgICAgICAgICAgICAgZGlmZi54ICs9IG5vcm1hbGl6ZWRJbmNyZW1lbnQueDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpZmYueSArPSBub3JtYWxpemVkSW5jcmVtZW50Lnk7CiAgICAgICAgICAgICAgICBkaWZmLnggPSBub3JtYWxpemVkUmFkaXVzLng7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAvIGZhY3RvclN1bTsKICAgICAgICB9YH19dmFyIE1mPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gc2FtcGxlcjJEIGJhY2tncm91bmQ7CnVuaWZvcm0gc2FtcGxlcjJEIGZvcmVncm91bmQ7CnVuaWZvcm0gc2FtcGxlcjJEIHRocmVzaG9sZDsKCnZvaWQgbWFpbigpIHsKICB2ZWM0IGJhY2tncm91bmRDb2xvciA9IHRleHR1cmUyRChiYWNrZ3JvdW5kLCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCBmb3JlZ3JvdW5kQ29sb3IgPSB0ZXh0dXJlMkQoZm9yZWdyb3VuZCwgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgdHJlc2hvbGRDb2xvciA9IHRleHR1cmUyRCh0aHJlc2hvbGQsIF90ZXh0dXJlX2Nvb3JkKTsKICBnbF9GcmFnQ29sb3IgPSBmb3JlZ3JvdW5kQ29sb3IgKiB0cmVzaG9sZENvbG9yLmEgKwogICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciAqICgxLiAtIHRyZXNob2xkQ29sb3IuYSk7Cn0KYCxDZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKICBfdGV4dHVyZV9jb29yZC55ID0gMS4gLSB0ZXh0dXJlX2Nvb3JkLnk7Cn0KYDtjbGFzcyBQciBleHRlbmRzIGJle2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIE1mfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBDZn19Y2xhc3MgRHJ7Y29uc3RydWN0b3IoKXtwKHRoaXMsInN0ZXBzIixbXSk7cCh0aGlzLCJwcm9maWxlciIpfWFkZFN0ZXAoZSl7dGhpcy5zdGVwcy5wdXNoKGUpfWFzeW5jIHJ1bigpe2Zvcihjb25zdCBlIG9mIHRoaXMuc3RlcHMpZS5wcm9ncmFtLnJ1bihlLmdldFVuaWZvcm1zKCkpfXJlc2l6ZU91dHB1dChlLHQpe3ZhciBuLGk7KG49dGhpcy5wcm9maWxlcik9PW51bGx8fG4ucHVzaENvbnRleHQoYFBJUCBbJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9XWApO2Zvcihjb25zdCBvIG9mIHRoaXMuc3RlcHMpby5wcmV2ZW50UmVzaXplfHxvLnByb2dyYW0ucmVzaXplT3V0cHV0KGUsdCk7KGk9dGhpcy5wcm9maWxlcik9PW51bGx8fGkucG9wQ29udGV4dChgUElQIFske3RoaXMuY29uc3RydWN0b3IubmFtZX1dYCl9c2V0UHJvZmlsZXIoZSl7dGhpcy5wcm9maWxlcj1lO2Zvcihjb25zdCB0IG9mIHRoaXMuc3RlcHMpdC5wcm9ncmFtLnNldFByb2ZpbGVyKGUpfXNldElkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuc3RlcHMpdC5wcm9ncmFtLmlkPWV9fWNsYXNzIE1yIGV4dGVuZHMgRHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO3AodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMSl9fWNvbnN0IE9mPTEwLE5mPTIsVWY9ODtjbGFzcyBCZiBleHRlbmRzIE1ye2NvbnN0cnVjdG9yKHQsbil7c3VwZXIoKTtwKHRoaXMsImlucHV0SW1hZ2UiKTtwKHRoaXMsImlucHV0TWFzayIpO3AodGhpcywiYmx1ciIpO3RoaXMuY29udGV4dD10LHRoaXMucmFkaXVzPW47Y29uc3QgaT17Y29udGV4dDp0LGhlaWdodDp0LmNhbnZhcy5oZWlnaHQsd2lkdGg6dC5jYW52YXMud2lkdGh9O3RoaXMuYmx1cj1uZXcgRGYoey4uLmkscmFkaXVzOm4sLi4udGhpcy5nZXRCbHVyVGV4dHVyZVNpemUodC5jYW52YXMud2lkdGgsdC5jYW52YXMuaGVpZ2h0KX0pO2NvbnN0IG89bmV3IFByKHsuLi5pLGRpc2FibGVGcmFtZWJ1ZmZlcjohMH0pO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTp0aGlzLmJsdXIscHJldmVudFJlc2l6ZTohMCxnZXRVbmlmb3JtczooKT0+KHt0ZXh0dXJlOlModCx0aGlzLmlucHV0SW1hZ2UpLG1hc2s6Uyh0LHRoaXMuaW5wdXRNYXNrKX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOm8sZ2V0VW5pZm9ybXM6KCk9Pih7YmFja2dyb3VuZDpTKHQsdGhpcy5ibHVyLm91dHB1dCksZm9yZWdyb3VuZDpTKHQsdGhpcy5pbnB1dEltYWdlKSx0aHJlc2hvbGQ6Uyh0LHRoaXMuaW5wdXRNYXNrKX0pfSl9Z2V0Qmx1clRleHR1cmVTaXplKHQsbil7Y29uc3QgaT10aGlzLnJhZGl1cz5PZj9VZjpOZjtyZXR1cm57d2lkdGg6TWF0aC5tYXgoT2ksdC9pKSxoZWlnaHQ6TWF0aC5tYXgoT2ksbi9pKX19c2V0RGF0YSh0LG4pe3RoaXMuaW5wdXRJbWFnZT10LHRoaXMuaW5wdXRNYXNrPW59cmVzaXplT3V0cHV0KHQsbil7c3VwZXIucmVzaXplT3V0cHV0KHQsbik7Y29uc3QgaT10aGlzLmdldEJsdXJUZXh0dXJlU2l6ZSh0LG4pO3RoaXMuYmx1ci5yZXNpemVPdXRwdXQoaS53aWR0aCxpLmhlaWdodCl9fWNsYXNzIE5pIGV4dGVuZHMgTXJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKTtwKHRoaXMsImlucHV0SW1hZ2UiKTtwKHRoaXMsImlucHV0QmFja2dyb3VuZEltYWdlIik7cCh0aGlzLCJpbnB1dE1hc2siKTtwKHRoaXMsInByZWNpc2VNYXNrRW5hYmxlZCIsITApO3RoaXMuY29udGV4dD10O2NvbnN0IG49e2NvbnRleHQ6dCxoZWlnaHQ6dC5jYW52YXMuaGVpZ2h0LHdpZHRoOnQuY2FudmFzLndpZHRofSxpPW5ldyBQcih7Li4ubixkaXNhYmxlRnJhbWVidWZmZXI6ITB9KTt0aGlzLmFkZFN0ZXAoe3Byb2dyYW06aSxnZXRVbmlmb3JtczooKT0+KHtiYWNrZ3JvdW5kOlModCx0aGlzLmlucHV0QmFja2dyb3VuZEltYWdlKSxmb3JlZ3JvdW5kOlModCx0aGlzLmlucHV0SW1hZ2UpLHRocmVzaG9sZDpTKHQsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKHQsbil7dGhpcy5pbnB1dEltYWdlPXQsdGhpcy5pbnB1dE1hc2s9bn19Y2xhc3Mga2YgZXh0ZW5kcyBOaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7cCh0aGlzLCJmcmFtZVJlYWRlciIpO3AodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMCl9c2V0IGlucHV0VmlkZW8odCl7dGhpcy5mcmFtZVJlYWRlcj10LmdldFJlYWRlcigpLHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCl9YXN5bmMgcnVuKCl7dGhpcy5mcmFtZVJlYWRlciYmKGF3YWl0IHN1cGVyLnJ1bigpLHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCkpfWFzeW5jIHJlYWROZXh0VmlkZW9GcmFtZSgpe3ZhciBuO2NvbnN0IHQ9YXdhaXQoKG49dGhpcy5mcmFtZVJlYWRlcik9PW51bGw/dm9pZCAwOm4ucmVhZCgpKTt0IT1udWxsJiZ0LnZhbHVlJiYodGhpcy5pbnB1dEJhY2tncm91bmRJbWFnZT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcCh0LnZhbHVlKSx0LnZhbHVlLmNsb3NlKCkpfX12YXIgTGY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKCnZlYzQgbG9vcCgpOwoKdm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSBsb29wKCk7IH0KYCwkZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgLENyPShyPT4ocltyLkxJTkVBUj0wXT0iTElORUFSIixyW3IuR0FVU1NJQU49MV09IkdBVVNTSUFOIixyKSkoQ3J8fHt9KTtjbGFzcyBVaSBleHRlbmRzIGJle2dldERlZmluZXMoKXt2YXIgZTtyZXR1cm57UkFESVVTOihlPXRoaXMub3B0aW9ucy5yYWRpdXMpIT1udWxsP2U6MX19Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gTGYrdGhpcy5jcmVhdGVMb29wRnVuY3Rpb24oKX1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gJGZ9Y3JlYXRlTG9vcEZ1bmN0aW9uKCl7dmFyIHQ7bGV0IGU9KHQ9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/dDoxO3JldHVybmAKCiAgICAgICAgdmVjNCBsb29wKCkgeyAKICAgICAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAsMCwwLDApOwogICAgICAgICAgICBmbG9hdCBmYWN0b3JTdW0gPSAwLjsKCiAgICAgICAgICAgIHZlYzIgbm9ybWFsaXplZFJhZGl1cyA9IHZlYzIoLSR7ZX0uKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkSW5jcmVtZW50ID0gdmVjMigxLikgLyBjYW52YXM7CiAgICAgICAgICAgIHZlYzIgZGlmZiA9IG5vcm1hbGl6ZWRSYWRpdXM7CgogICAgICAgICAgICBmb3IoaW50IHk9LSR7ZX07IHk8JHtlKzF9OyArK3kpIHsKICAgICAgICAgICAgICAgIGZvcihpbnQgeD0tJHtlfTsgeDwke2UrMX07ICsreCkgewogICAgICAgICAgICAgICAgICAgIGZsb2F0IGZhY3RvciA9IDEuOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmYWN0b3IgKiB0ZXh0dXJlMkQodGV4dHVyZSwgX3RleHR1cmVfY29vcmQgKyBkaWZmKTsKICAgICAgICAgICAgICAgICAgICBmYWN0b3JTdW0gKz0gZmFjdG9yOwogICAgICAgICAgICAgICAgICAgIGRpZmYueCArPSBub3JtYWxpemVkSW5jcmVtZW50Lng7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkaWZmLnkgKz0gbm9ybWFsaXplZEluY3JlbWVudC55OwogICAgICAgICAgICAgICAgZGlmZi54ID0gbm9ybWFsaXplZFJhZGl1cy54OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQgLyBmYWN0b3JTdW07CiAgICAgICAgfWB9Z2V0RmFjdG9yKGUsdCl7c3dpdGNoKHRoaXMub3B0aW9ucy50eXBlKXtjYXNlIDE6cmV0dXJuIHRoaXMuZ2V0TGluZWFyRmFjdG9yKGUsdCk7Y2FzZSAwOmRlZmF1bHQ6cmV0dXJuIHRoaXMuZ2V0TGluZWFyRmFjdG9yKGUsdCl9fWdldExpbmVhckZhY3RvcihlLHQpe3JldHVybiAxfWdldEdhdXNzaWFuRmFjdG9yKGUsdCl7dmFyIHU7Y29uc3Qgbj1NYXRoLlBJKjIsaT1NYXRoLm1heCgodT10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD91OjEsMSksbz0xLyhuKmkqKjIpLHM9LShlKioyK3QqKjIpLGE9bypzO3JldHVybiBvKk1hdGguRSoqYX19Y2xhc3MgR2YgZXh0ZW5kcyBNcntjb25zdHJ1Y3Rvcih0LG4pe3N1cGVyKCk7cCh0aGlzLCJpbnB1dEltYWdlIik7cCh0aGlzLCJpbnB1dE1hc2siKTt0aGlzLmNvbnRleHQ9dDtjb25zdCBpPXtjb250ZXh0OnQsaGVpZ2h0OnQuY2FudmFzLmhlaWdodCx3aWR0aDp0LmNhbnZhcy53aWR0aH0sbz1uZXcgVWkoey4uLmkscmFkaXVzOm4sdHlwZTpDci5HQVVTU0lBTn0pLHM9bmV3IFByKHsuLi5pLGRpc2FibGVGcmFtZWJ1ZmZlcjohMH0pO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpvLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6Uyh0LHRoaXMuaW5wdXRJbWFnZSl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2JhY2tncm91bmQ6Uyh0LHRoaXMuaW5wdXRJbWFnZSksZm9yZWdyb3VuZDpTKHQsby5vdXRwdXQpLHRocmVzaG9sZDpTKHQsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKHQsbil7dGhpcy5pbnB1dEltYWdlPXQsdGhpcy5pbnB1dE1hc2s9bn19Y2xhc3MgT3IgZXh0ZW5kcyBiZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtwKHRoaXMsImZiaTIiKTt0aGlzLmZiaTI9SXQodC5jb250ZXh0LFt7Zm9ybWF0OnQuY29udGV4dC5SR0JBLHR5cGU6dC5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnQuY29udGV4dC5MSU5FQVIsbWFnOnQuY29udGV4dC5MSU5FQVIsd3JhcDp0LmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLHQud2lkdGgsdC5oZWlnaHQpfXJ1bih0KXtjb25zdCBuPXRoaXMuZmJpO3RoaXMuZmJpPXRoaXMuZmJpMix0aGlzLmZiaTI9bix0aGlzLm91dHB1dD10aGlzLmZiaS5hdHRhY2htZW50c1swXSxzdXBlci5ydW4oey4uLnQscHJldmlvdXNfcmVuZGVyaW5nOnRoaXMuZmJpMi5hdHRhY2htZW50c1swXX0pfXJlc2l6ZU91dHB1dCh0LG4pe3N1cGVyLnJlc2l6ZU91dHB1dCh0LG4pLHRoaXMuZmJpMj1JdCh0aGlzLmNvbnRleHQsW3tmb3JtYXQ6dGhpcy5jb250ZXh0LlJHQkEsdHlwZTp0aGlzLmNvbnRleHQuVU5TSUdORURfQllURSxtaW46dGhpcy5jb250ZXh0LkxJTkVBUix3cmFwOnRoaXMuY29udGV4dC5DTEFNUF9UT19FREdFfV0sdCxuKX19dmFyIHpmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCi8vIHVuaWZvcm0gZmxvYXQgdHJlc2hvbGQ7CnVuaWZvcm0gc2FtcGxlcjJEIGltYWdlX25vdzsKdW5pZm9ybSBzYW1wbGVyMkQgaW1hZ2VfYmVmb3JlOwp1bmlmb3JtIHNhbXBsZXIyRCBtYXNrX25vdzsKdW5pZm9ybSBzYW1wbGVyMkQgbWFza19iZWZvcmU7CnVuaWZvcm0gc2FtcGxlcjJEIHByZXZpb3VzX3JlbmRlcmluZzsKdW5pZm9ybSB2ZWMyIGNhbnZhczsKCnVuaWZvcm0gZmxvYXQgZGVsdGE7CgpmbG9hdCBjdXJyZW50X2ZhY3RvciA9IDAuNjk7CmZsb2F0IHByZXZpb3VzX2ZhY3RvciA9IDAuNzQ7CmZsb2F0IHRocmVzaG9sZF9hY3RpdmF0aW9uID0gMC41NDsKCmZsb2F0IG1hcChmbG9hdCB2YWx1ZSwgZmxvYXQgbWluMSwgZmxvYXQgbWF4MSwgZmxvYXQgbWluMiwgZmxvYXQgbWF4MikgewogIHJldHVybiBtaW4yICsgKHZhbHVlIC0gbWluMSkgKiAobWF4MiAtIG1pbjIpIC8gKG1heDEgLSBtaW4xKTsKfQoKZmxvYXQgZ2V0VGhyZXNob2xkKCkgewogIHZlYzQgY29sb3IgPSB2ZWM0KDAuKTsKICBmb3IgKGZsb2F0IHkgPSAtNi47IHkgPCA3LjsgeSArPSAxLikgewogICAgZm9yIChmbG9hdCB4ID0gLTYuOyB4IDwgNy47IHggKz0gMS4pIHsKICAgICAgdmVjNCBpbWFnZV9ub3dfY29sb3IgPQogICAgICAgICAgdGV4dHVyZTJEKGltYWdlX25vdywgX3RleHR1cmVfY29vcmQgKyB2ZWMyKHgsIHkpIC8gY2FudmFzKTsKICAgICAgdmVjNCBpbWFnZV9iZWZvcmVfY29sb3IgPQogICAgICAgICAgdGV4dHVyZTJEKGltYWdlX2JlZm9yZSwgX3RleHR1cmVfY29vcmQgKyB2ZWMyKHgsIHkpIC8gY2FudmFzKTsKICAgICAgY29sb3IgKz0gYWJzKGltYWdlX2JlZm9yZV9jb2xvciAtIGltYWdlX25vd19jb2xvcik7CiAgICB9CiAgfQogIHJldHVybiAoY29sb3IueCArIGNvbG9yLnkgKyBjb2xvci56KSAvICgzLiAqIDkuKTsKfQoKdm9pZCBtYWluKCkgewogIGZsb2F0IHRyZXNob2xkX2lucHV0ID0gLjQ7CiAgZmxvYXQgdHJlc2hvbGRfcHJldmlvdXNfcmVuZGVyaW5nID0gLjk4OwoKICB2ZWM0IG1hc2tfbm93X2NvbG9yID0gdGV4dHVyZTJEKG1hc2tfbm93LCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCBtYXNrX2JlZm9yZV9jb2xvciA9IHRleHR1cmUyRChtYXNrX2JlZm9yZSwgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgcHJldmlvdXNfcmVuZGVyaW5nX2NvbG9yID0gdGV4dHVyZTJEKHByZXZpb3VzX3JlbmRlcmluZywgX3RleHR1cmVfY29vcmQpOwoKICB2ZWMzIG1hc2tfZGlmZiA9IGFicyhtYXNrX2JlZm9yZV9jb2xvci54eXogLSBtYXNrX25vd19jb2xvci54eXopOwogIGZsb2F0IGZsaWNrZXJpbmcgPSBtYXNrX2RpZmYueDsKICBmbG9hdCB0aHJlc2hvbGQgPSBnZXRUaHJlc2hvbGQoKTsKICBpZiAodGhyZXNob2xkIDwgdGhyZXNob2xkX2FjdGl2YXRpb24pIHsKICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoZmxpY2tlcmluZywgMC4sIDAuLCAxLikgKiBjdXJyZW50X2ZhY3RvciArCiAgICAgICAgICAgICAgICAgICBwcmV2aW91c19yZW5kZXJpbmdfY29sb3IgKiBwcmV2aW91c19mYWN0b3I7CiAgICBnbF9GcmFnQ29sb3IgKj0gKDEuIC0gdGhyZXNob2xkKTsKICB9Cn0KYCxIZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIFZmIGV4dGVuZHMgT3J7Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gemZ9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIEhmfX12YXIgV2Y9YCN2ZXJzaW9uIDMwMCBlcwovLyBodHRwczovL2dpdGh1Yi5jb20vVm9sY29taXgvdmlydHVhbC1iYWNrZ3JvdW5kL2Jsb2IvbWFpbi9zcmMvcGlwZWxpbmVzL3dlYmdsMi9qb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnRzCgpwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CnVuaWZvcm0gc2FtcGxlcjJEIGlucHV0X2ZyYW1lOwp1bmlmb3JtIHNhbXBsZXIyRCBzZWdtZW50YXRpb25fbWFzazsKdW5pZm9ybSBzYW1wbGVyMkQgdGhyZXNob2xkOwp1bmlmb3JtIHZlYzIgdGV4ZWxfc2l6ZTsKdW5pZm9ybSBmbG9hdCBzdGVwOwp1bmlmb3JtIGZsb2F0IHJhZGl1czsKdW5pZm9ybSBmbG9hdCBvZmZzZXQ7CnVuaWZvcm0gZmxvYXQgc2lnbWFfdGV4ZWw7CnVuaWZvcm0gZmxvYXQgc2lnbWFfY29sb3I7CgppbiB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwpvdXQgdmVjNCBvdXRDb2xvcjsKCmZsb2F0IGdhdXNzaWFuKGZsb2F0IHgsIGZsb2F0IHNpZ21hKSB7CiAgZmxvYXQgY29lZmYgPSAtMC41IC8gKHNpZ21hICogc2lnbWEgKiA0LjAgKyAxLjBlLTYpOwogIHJldHVybiBleHAoKHggKiB4KSAqIGNvZWZmKTsKfQoKdm9pZCBtYWluKCkgewogIHZlYzIgY2VudGVyQ29vcmQgPSBfdGV4dHVyZV9jb29yZDsKICB2ZWMzIGNlbnRlckNvbG9yID0gdGV4dHVyZShpbnB1dF9mcmFtZSwgY2VudGVyQ29vcmQpLnJnYjsKICBmbG9hdCBuZXdWYWwgPSAwLjA7CiAgZmxvYXQgc3BhY2VXZWlnaHQgPSAwLjA7CiAgZmxvYXQgY29sb3JXZWlnaHQgPSAwLjA7CiAgZmxvYXQgdG90YWxXZWlnaHQgPSAwLjA7CiAgLy8gU3Vic2FtcGxlIGtlcm5lbCBzcGFjZS4KICBmb3IgKGZsb2F0IGkgPSAtcmFkaXVzICsgb2Zmc2V0OyBpIDw9IHJhZGl1czsgaSArPSBzdGVwKSB7CiAgICBmb3IgKGZsb2F0IGogPSAtcmFkaXVzICsgb2Zmc2V0OyBqIDw9IHJhZGl1czsgaiArPSBzdGVwKSB7CiAgICAgIHZlYzIgc2hpZnQgPSB2ZWMyKGosIGkpICogdGV4ZWxfc2l6ZTsKICAgICAgdmVjMiBjb29yZCA9IHZlYzIoY2VudGVyQ29vcmQgKyBzaGlmdCk7CiAgICAgIHZlYzMgZnJhbWVDb2xvciA9IHRleHR1cmUoaW5wdXRfZnJhbWUsIGNvb3JkKS5yZ2I7CiAgICAgIGZsb2F0IHRocmVzaG9sZCA9IHRleHR1cmUodGhyZXNob2xkLCBjb29yZCkuYTsKICAgICAgZmxvYXQgb3V0VmFsID0gdGV4dHVyZShzZWdtZW50YXRpb25fbWFzaywgY29vcmQpLmE7CgogICAgICBzcGFjZVdlaWdodCA9IGdhdXNzaWFuKGRpc3RhbmNlKGNlbnRlckNvb3JkLCBjb29yZCksIHNpZ21hX3RleGVsKTsKICAgICAgY29sb3JXZWlnaHQgPSBnYXVzc2lhbihkaXN0YW5jZShjZW50ZXJDb2xvciwgZnJhbWVDb2xvciksIHNpZ21hX2NvbG9yKTsKICAgICAgdG90YWxXZWlnaHQgKz0gc3BhY2VXZWlnaHQgKiBjb2xvcldlaWdodDsKICAgICAgbmV3VmFsICs9IHNwYWNlV2VpZ2h0ICogY29sb3JXZWlnaHQgKiBvdXRWYWwgKiB0aHJlc2hvbGQ7CiAgICB9CiAgfQogIG5ld1ZhbCAvPSB0b3RhbFdlaWdodDsKICBvdXRDb2xvciA9IHZlYzQodmVjMygwLiksIG5ld1ZhbCk7Cn1gLGpmPWAjdmVyc2lvbiAzMDAgZXMKaW4gdmVjMiBwb3NpdGlvbjsKaW4gdmVjMiB0ZXh0dXJlX2Nvb3JkOwpvdXQgdmVjMiBfdGV4dHVyZV9jb29yZDsKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfWA7Y2xhc3MgcWYgZXh0ZW5kcyBiZXtnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBXZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gamZ9fXZhciBYZj1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7Cgp1bmlmb3JtIHZlYzIgY2FudmFzOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlOwoKdm9pZCBtYWluKCkgewogIGludCBjb3VudCA9IDA7CiAgZm9yIChmbG9hdCB5ID0gLTEuOyB5IDwgMi47IHkgKz0gMS4pIHsKICAgIGZvciAoZmxvYXQgeCA9IC0xLjsgeCA8IDIuOyB4ICs9IDEuKSB7CiAgICAgIHZlYzIgY29vcmQgPSBfdGV4dHVyZV9jb29yZCArIHZlYzIoeSwgeCkgLyBjYW52YXM7CiAgICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgY29vcmQpOwogICAgICBpZiAoY29sb3IuciA+IC4xKSB7CiAgICAgICAgY291bnQrKzsKICAgICAgfQogICAgfQogIH0KICBpZiAoY291bnQgPiA1KSB7CiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgX3RleHR1cmVfY29vcmQpOwogIH0KfQpgLFlmPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmA7Y2xhc3MgUWYgZXh0ZW5kcyBiZXtnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBYZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gWWZ9fXZhciBLZj1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7Cgp1bmlmb3JtIHZlYzIgY2FudmFzOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlOwoKdm9pZCBtYWluKCkgewogIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgX3RleHR1cmVfY29vcmQpOwogIGZvciAoZmxvYXQgeSA9IC0yLjsgeSA8IDMuOyB5ICs9IDEuKSB7CiAgICBmb3IgKGZsb2F0IHggPSAtMi47IHggPCAzLjsgeCArPSAxLikgewogICAgICB2ZWMyIGNvb3JkID0gX3RleHR1cmVfY29vcmQ7CiAgICAgIGNvb3JkICs9IHZlYzIoeSwgeCkgLyBjYW52YXM7CiAgICAgIGNvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCBjb29yZCkgKiAoMS4gLyA0Lik7CiAgICB9CiAgfQoKICBnbF9GcmFnQ29sb3IgPSBjb2xvcjsKfQpgLEpmPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmA7Y2xhc3MgWmYgZXh0ZW5kcyBPcntnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBLZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gSmZ9fXZhciBlbD1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7Cgp1bmlmb3JtIHNhbXBsZXIyRCB0aHJlc2hvbGQ7CnVuaWZvcm0gc2FtcGxlcjJEIGlucHV0czsKCnZvaWQgbWFpbigpIHsKICB2ZWM0IGlucHV0c19jb2xvciA9IHRleHR1cmUyRChpbnB1dHMsIF90ZXh0dXJlX2Nvb3JkKTsKICB2ZWM0IHRocmVzaG9sZF9jb2xvciA9IHRleHR1cmUyRCh0aHJlc2hvbGQsIF90ZXh0dXJlX2Nvb3JkKTsKICBpZiAodGhyZXNob2xkX2NvbG9yLnIgPCAuMSAmJiBpbnB1dHNfY29sb3IuciA+IC41KSB7CiAgICBnbF9GcmFnQ29sb3IgPSBpbnB1dHNfY29sb3I7CiAgfQp9CmAsdGw9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn0KYDtjbGFzcyBybCBleHRlbmRzIE9ye2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIGVsfWdldFZlcnRleFNoYWRlcigpe3JldHVybiB0bH19Y2xhc3MgbmwgZXh0ZW5kcyBEcntjb25zdHJ1Y3Rvcih0LG4saSl7c3VwZXIoKTtwKHRoaXMsImlucHV0SW1hZ2UiKTtwKHRoaXMsImlucHV0TWFzayIpO3AodGhpcywicHJldmlvdXNJbnB1dEltYWdlIik7cCh0aGlzLCJwcmV2aW91c0lucHV0TWFzayIpO3AodGhpcywib3V0cHV0Iik7cCh0aGlzLCJvcHRpb25zIix7Y3VycmVudFRocmVzaG9sZE1pbmltdW06MCxjdXJyZW50VGhyZXNob2xkTWF4aW11bToxLHByZXZpb3VzVGhyZXNob2xkTWluaW11bTowLHByZXZpb3VzVGhyZXNob2xkTWF4aW11bToxLHRocmVzaG9sZE1pbmltdW06MCx0aHJlc2hvbGRNYXhpbXVtOjEsdGhyZXNob2xkRmFjdG9yOjF9KTt0aGlzLmNvbnRleHQ9dDtjb25zdCBvPXtjb250ZXh0OnQsaGVpZ2h0Omksd2lkdGg6bn0scz1uZXcgVmYobyksYT1uZXcgVWkoey4uLm8scmFkaXVzOjEsdHlwZTpDci5HQVVTU0lBTn0pLHU9bmV3IHJsKG8pLGY9bmV3IFpmKG8pLGM9bmV3IFFmKG8pLGQ9bmV3IHFmKHsuLi5vfSkseT0uNjYsXz02NDAsbT00ODAseD0yNTYsdj0xNDQ7bGV0IGI9MTtiKj1NYXRoLm1heChfL3gsbS92KTtjb25zdCBBPU1hdGgubWF4KDEsTWF0aC5zcXJ0KGIpKnkpLFA9MS9fLEM9MS9tO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2ltYWdlX25vdzpTKHQsdGhpcy5pbnB1dEltYWdlKSxpbWFnZV9iZWZvcmU6Uyh0LHRoaXMucHJldmlvdXNJbnB1dEltYWdlKSxtYXNrX25vdzpTKHQsdGhpcy5pbnB1dE1hc2spLG1hc2tfYmVmb3JlOlModCx0aGlzLnByZXZpb3VzSW5wdXRNYXNrKSxjdXJyZW50X3RocmVzaG9sZF9taW5pbXVtOnRoaXMub3B0aW9ucy5jdXJyZW50VGhyZXNob2xkTWluaW11bSxjdXJyZW50X3RocmVzaG9sZF9tYXhpbXVtOnRoaXMub3B0aW9ucy5jdXJyZW50VGhyZXNob2xkTWF4aW11bSxwcmV2aW91c190aHJlc2hvbGRfbWluaW11bTp0aGlzLm9wdGlvbnMucHJldmlvdXNUaHJlc2hvbGRNaW5pbXVtLHByZXZpb3VzX3RocmVzaG9sZF9tYXhpbXVtOnRoaXMub3B0aW9ucy5wcmV2aW91c1RocmVzaG9sZE1heGltdW0sdGhyZXNob2xkX21pbmltdW06dGhpcy5vcHRpb25zLnRocmVzaG9sZE1pbmltdW0sdGhyZXNob2xkX21heGltdW06dGhpcy5vcHRpb25zLnRocmVzaG9sZE1heGltdW0sdGhyZXNob2xkX2ZhY3Rvcjp0aGlzLm9wdGlvbnMudGhyZXNob2xkRmFjdG9yfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06dSxnZXRVbmlmb3JtczooKT0+KHtpbnB1dHM6Uyh0LHRoaXMuaW5wdXRNYXNrKSx0aHJlc2hvbGQ6Uyh0LHMub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOmMsZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpTKHQsdS5vdXRwdXQpfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06ZixnZXRVbmlmb3JtczooKT0+KHt0ZXh0dXJlOlModCxjLm91dHB1dCl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTphLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6Uyh0LGYub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOmQsZ2V0VW5pZm9ybXM6KCk9Pih7aW5wdXRfZnJhbWU6Uyh0LHRoaXMuaW5wdXRJbWFnZSksc2VnbWVudGF0aW9uX21hc2s6Uyh0LHRoaXMuaW5wdXRNYXNrKSx0aHJlc2hvbGQ6Uyh0LGEub3V0cHV0KSx0ZXhlbF9zaXplOltQLENdLHN0ZXA6QSxyYWRpdXM6YixvZmZzZXQ6QT4xP0EqLjU6MCxzaWdtYV90ZXhlbDpNYXRoLm1heChQLEMpKmIsc2lnbWFfY29sb3I6LjF9KX0pLHRoaXMub3V0cHV0PWQub3V0cHV0fXNldERhdGEodCxuKXt0aGlzLnByZXZpb3VzSW5wdXRJbWFnZT10aGlzLmlucHV0SW1hZ2U/dGhpcy5pbnB1dEltYWdlOnQsdGhpcy5wcmV2aW91c0lucHV0TWFzaz10aGlzLmlucHV0TWFzaz90aGlzLmlucHV0TWFzazpuLHRoaXMuaW5wdXRJbWFnZT10LHRoaXMuaW5wdXRNYXNrPW59c2V0T3B0aW9ucyh0KXt0aGlzLm9wdGlvbnM9dH19dmFyIGlsPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKCnZvaWQgbWFpbigpIHsgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIF90ZXh0dXJlX2Nvb3JkKTsgfQpgLG9sPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKdW5pZm9ybSBib29sIGludmVydF95OwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7CiAgaWYgKGludmVydF95KSB7CiAgICBfdGV4dHVyZV9jb29yZC55ID0gMS4gLSB0ZXh0dXJlX2Nvb3JkLnk7CiAgfQp9CmA7Y2xhc3Mgc2wgZXh0ZW5kcyBiZXtnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBpbH1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gb2x9fWNsYXNzIGFsIGV4dGVuZHMgRHJ7Y29uc3RydWN0b3IodCxuLGkpe3N1cGVyKCk7cCh0aGlzLCJpbnB1dEltYWdlIik7dGhpcy5jb250ZXh0PXQ7Y29uc3Qgbz17Y29udGV4dDp0LGhlaWdodDppLHdpZHRoOm59O3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpuZXcgc2woey4uLm8sZGlzYWJsZUZyYW1lYnVmZmVyOiEwfSksZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpTKHQsdGhpcy5pbnB1dEltYWdlKSxpbnZlcnRfeTohMH0pfSl9c2V0RGF0YSh0KXt0aGlzLmlucHV0SW1hZ2U9dH19Y2xhc3MgdWx7Y29uc3RydWN0b3IoZSl7cCh0aGlzLCJyZXNpemUiKTtwKHRoaXMsImNhbnZhcyIpO3AodGhpcywiY29udGV4dCIpO3RoaXMuY2FudmFzPW5ldyBPZmZzY3JlZW5DYW52YXMoMCwwKSx0aGlzLmNvbnRleHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wyIiksdGhpcy5jYW52YXMud2lkdGg9ZS53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5yZXNpemU9bmV3IGFsKHRoaXMuY29udGV4dCxlLndpZHRoLGUuaGVpZ2h0KX1yZXNpemVGb3JlZ3JvdW5kKGUsdCl7dGhpcy5jYW52YXMud2lkdGg9ZSx0aGlzLmNhbnZhcy5oZWlnaHQ9dCx0aGlzLnJlc2l6ZS5yZXNpemVPdXRwdXQoZSx0KX1hc3luYyBwcm9jZXNzKGUpe3ZhciB0LG47cmV0dXJuIHRoaXMuY2FudmFzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLCh0PXRoaXMucmVzaXplKT09bnVsbHx8dC5zZXREYXRhKGUpLChuPXRoaXMucmVzaXplKT09bnVsbHx8bi5ydW4oKSx0aGlzLmNhbnZhc319Y2xhc3MgY2x7Y29uc3RydWN0b3IoZSx0KXtwKHRoaXMsImltcHJvdmVNYXNrU2VnbWVudGF0aW9uIik7cCh0aGlzLCJiYWNrZ3JvdW5kUmVzaXplciIpO3AodGhpcywiYmFja2dyb3VuZEltYWdlIik7cCh0aGlzLCJiYWNrZ3JvdW5kVmlkZW8iKTtwKHRoaXMsInByb2ZpbGVyIik7cCh0aGlzLCJhY3RpdmVQaXBlbGluZSIpO3AodGhpcywiY2FudmFzIik7cCh0aGlzLCJvcHRpb25zIik7cCh0aGlzLCJjb250ZXh0Iik7cCh0aGlzLCJ2aXJ0dWFsQkdJbWFnZSIpO3RoaXMuaWQ9ZSx0aGlzLmNhbnZhcz1uZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCksdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzLmdldENvbnRleHQoIndlYmdsMiIpLHRoaXMuY2FudmFzLndpZHRoPXQuZm9yZWdyb3VuZFdpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10LmZvcmVncm91bmRIZWlnaHQsdGhpcy5pbXByb3ZlTWFza1NlZ21lbnRhdGlvbj1uZXcgbmwodGhpcy5jb250ZXh0LHQubWFza1dpZHRoLHQubWFza0hlaWdodCksdGhpcy5iYWNrZ3JvdW5kSW1hZ2U9bmV3IE5pKHRoaXMuY29udGV4dCksdGhpcy5iYWNrZ3JvdW5kVmlkZW89bmV3IGtmKHRoaXMuY29udGV4dCksdGhpcy5iYWNrZ3JvdW5kUmVzaXplcj1uZXcgdWwoe3dpZHRoOnQuZm9yZWdyb3VuZFdpZHRoLGhlaWdodDp0LmZvcmVncm91bmRIZWlnaHR9KX1zZXRCYWNrZ3JvdW5kT3B0aW9ucyhlKXtzd2l0Y2goZS50cmFuc2Zvcm1lclR5cGUpe2Nhc2UiQmFja2dyb3VuZEJsdXIiOnRoaXMuYWN0aXZlUGlwZWxpbmU9bmV3IEJmKHRoaXMuY29udGV4dCx0aGlzLmdldEJsdXJTaXplKGUucmFkaXVzKSk7YnJlYWs7Y2FzZSJTaWxob3VldHRlQmx1ciI6dGhpcy5hY3RpdmVQaXBlbGluZT1uZXcgR2YodGhpcy5jb250ZXh0LHRoaXMuZ2V0Qmx1clNpemUoZS5yYWRpdXMpKTticmVhaztjYXNlIlZpZGVvQmFja2dyb3VuZCI6dGhpcy5hY3RpdmVQaXBlbGluZT10aGlzLmJhY2tncm91bmRWaWRlbzticmVhaztjYXNlIlZpcnR1YWxCYWNrZ3JvdW5kIjp0aGlzLmFjdGl2ZVBpcGVsaW5lPXRoaXMuYmFja2dyb3VuZEltYWdlO2JyZWFrfXRoaXMub3B0aW9ucz1lfXNldEZsaWNrZXJpbmdPcHRpb25zKGUpe3ZhciB0Oyh0PXRoaXMuaW1wcm92ZU1hc2tTZWdtZW50YXRpb24pPT1udWxsfHx0LnNldE9wdGlvbnMoZSl9c2V0VmlkZW9CR1JlYWRhYmxlKGUpe3RoaXMuYmFja2dyb3VuZFZpZGVvLmlucHV0VmlkZW89ZX1hc3luYyBzZXRWaXJ0dWFsQkdJbWFnZShlKXt0aGlzLnZpcnR1YWxCR0ltYWdlPWUsdGhpcy5iYWNrZ3JvdW5kSW1hZ2UuaW5wdXRCYWNrZ3JvdW5kSW1hZ2U9YXdhaXQgdGhpcy5iYWNrZ3JvdW5kUmVzaXplci5wcm9jZXNzKGUpfWFzeW5jIHByb2Nlc3MoZSx0KXt2YXIgbixpLG8scyxhLHUsZjtpZih0aGlzLmFjdGl2ZVBpcGVsaW5lJiZlLndpZHRoJiYodD09bnVsbD92b2lkIDA6dC53aWR0aCkpe2NvbnN0IGM9YFske3RoaXMuaWR9XSBiYWNrZ3JvdW5kLWZpbHRlcmA7KG49dGhpcy5wcm9maWxlcik9PW51bGx8fG4ucHVzaENvbnRleHQoYyk7bGV0IGQ9dDsoKChpPXRoaXMub3B0aW9ucyk9PW51bGw/dm9pZCAwOmkuc2VsZmllU2VnbWVudGF0aW9uVHlwZSkmJigobz10aGlzLm9wdGlvbnMpPT1udWxsP3ZvaWQgMDpvLnNlbGZpZVNlZ21lbnRhdGlvblR5cGUpPT09IlBSRUNJU0UifHwhKChzPXRoaXMub3B0aW9ucykhPW51bGwmJnMuc2VsZmllU2VnbWVudGF0aW9uVHlwZSkmJnRoaXMuYWN0aXZlUGlwZWxpbmUucHJlY2lzZU1hc2tFbmFibGVkKSYmKHRoaXMuaW1wcm92ZU1hc2tTZWdtZW50YXRpb24uc2V0SWQodGhpcy5pZCksdGhpcy5pbXByb3ZlTWFza1NlZ21lbnRhdGlvbi5zZXRQcm9maWxlcih0aGlzLnByb2ZpbGVyKSx0aGlzLmltcHJvdmVNYXNrU2VnbWVudGF0aW9uLnNldERhdGEoZSx0KSx0aGlzLmltcHJvdmVNYXNrU2VnbWVudGF0aW9uLnJ1bigpLGQ9dGhpcy5pbXByb3ZlTWFza1NlZ21lbnRhdGlvbi5vdXRwdXQpLHRoaXMuYWN0aXZlUGlwZWxpbmUuc2V0SWQodGhpcy5pZCksdGhpcy5hY3RpdmVQaXBlbGluZS5zZXRQcm9maWxlcih0aGlzLnByb2ZpbGVyKSwoYT10aGlzLmFjdGl2ZVBpcGVsaW5lKT09bnVsbHx8YS5zZXREYXRhKGUsZCksKHU9dGhpcy5hY3RpdmVQaXBlbGluZSk9PW51bGx8fHUucnVuKCksKGY9dGhpcy5wcm9maWxlcik9PW51bGx8fGYucG9wQ29udGV4dChjKX19YXN5bmMgcmVzaXplRm9yZWdyb3VuZChlLHQpe3ZhciBuO3RoaXMuY2FudmFzLndpZHRoPWUsdGhpcy5jYW52YXMuaGVpZ2h0PXQsdGhpcy5iYWNrZ3JvdW5kSW1hZ2UucmVzaXplT3V0cHV0KGUsdCksdGhpcy5iYWNrZ3JvdW5kVmlkZW8ucmVzaXplT3V0cHV0KGUsdCksdGhpcy5iYWNrZ3JvdW5kUmVzaXplci5yZXNpemVGb3JlZ3JvdW5kKGUsdCksKG49dGhpcy5hY3RpdmVQaXBlbGluZSk9PW51bGx8fG4ucmVzaXplT3V0cHV0KGUsdCksdGhpcy52aXJ0dWFsQkdJbWFnZSYmKHRoaXMuYmFja2dyb3VuZEltYWdlLmlucHV0QmFja2dyb3VuZEltYWdlPWF3YWl0IHRoaXMuYmFja2dyb3VuZFJlc2l6ZXIucHJvY2Vzcyh0aGlzLnZpcnR1YWxCR0ltYWdlKSl9YXN5bmMgcHJvZmlsZShlKXtjb25zdCB0PW5ldyBScyh0aGlzLmNvbnRleHQpO3JldHVybiB0aGlzLnByb2ZpbGVyPXQsdC5zdGFydCgpLGF3YWl0IGduKGUpLHRoaXMucHJvZmlsZXI9dm9pZCAwLHQuc3RvcCgpLHQuZ2V0UmVzb2x2ZWRRdWVyaWVzKCl9Z2V0Qmx1clNpemUoZT1zdC5Mb3cpe3N3aXRjaChlKXtjYXNlIHN0LkxvdzpyZXR1cm4gNTtjYXNlIHN0LkhpZ2g6cmV0dXJuIDEyfXJldHVybiBlfX12YXIgZmw9ZnVuY3Rpb24oKXt2YXIgcj10eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMDtyZXR1cm4gZnVuY3Rpb24oZSl7ZT1lfHx7fTt2YXIgdD10eXBlb2YgZTwidSI/ZTp7fSxuLGk7dC5yZWFkeT1uZXcgUHJvbWlzZShmdW5jdGlvbihsLGgpe249bCxpPWh9KTt2YXIgbz17fSxzO2ZvcihzIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShzKSYmKG9bc109dFtzXSk7dmFyIGE9Ii4vdGhpcy5wcm9ncmFtIix1PWZ1bmN0aW9uKGwsaCl7dGhyb3cgaH0sZj0hMCxjPSIiO2Z1bmN0aW9uIGQobCl7cmV0dXJuIHQubG9jYXRlRmlsZT90LmxvY2F0ZUZpbGUobCxjKTpjK2x9dmFyIHk7dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKGM9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLHImJihjPXIpLGMuaW5kZXhPZigiYmxvYjoiKSE9PTA/Yz1jLnN1YnN0cigwLGMucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKTpjPSIiO3ZhciBfPXQucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksbT10LnByaW50RXJyfHxjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtmb3IocyBpbiBvKW8uaGFzT3duUHJvcGVydHkocykmJih0W3NdPW9bc10pO289bnVsbCx0LmFyZ3VtZW50cyYmdC5hcmd1bWVudHMsdC50aGlzUHJvZ3JhbSYmKGE9dC50aGlzUHJvZ3JhbSksdC5xdWl0JiYodT10LnF1aXQpO3ZhciB4O3Qud2FzbUJpbmFyeSYmKHg9dC53YXNtQmluYXJ5KTt2YXIgdj10Lm5vRXhpdFJ1bnRpbWV8fCEwO3R5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCImJm1lKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIGIsQT0hMSxQPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwO2Z1bmN0aW9uIEMobCxoLGcpe2Zvcih2YXIgdz1oK2csTT1oO2xbTV0mJiEoTT49dyk7KSsrTTtpZihNLWg+MTYmJmwuc3ViYXJyYXkmJlApcmV0dXJuIFAuZGVjb2RlKGwuc3ViYXJyYXkoaCxNKSk7Zm9yKHZhciBVPSIiO2g8TTspe3ZhciBSPWxbaCsrXTtpZighKFImMTI4KSl7VSs9U3RyaW5nLmZyb21DaGFyQ29kZShSKTtjb250aW51ZX12YXIgaz1sW2grK10mNjM7aWYoKFImMjI0KT09MTkyKXtVKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChSJjMxKTw8NnxrKTtjb250aW51ZX12YXIgZWU9bFtoKytdJjYzO2lmKChSJjI0MCk9PTIyND9SPShSJjE1KTw8MTJ8azw8NnxlZTpSPShSJjcpPDwxOHxrPDwxMnxlZTw8NnxsW2grK10mNjMsUjw2NTUzNilVKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFIpO2Vsc2V7dmFyIGppPVItNjU1MzY7VSs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxqaT4+MTAsNTYzMjB8amkmMTAyMyl9fXJldHVybiBVfWZ1bmN0aW9uIFcobCxoKXtyZXR1cm4gbD9DKEhlLGwsaCk6IiJ9ZnVuY3Rpb24gaWUobCxoLGcpe2Zvcih2YXIgdz0wO3c8bC5sZW5ndGg7Kyt3KUZ0W2grKz4+MF09bC5jaGFyQ29kZUF0KHcpO2d8fChGdFtoPj4wXT0wKX1mdW5jdGlvbiBYKGwsaCl7cmV0dXJuIGwlaD4wJiYobCs9aC1sJWgpLGx9dmFyIGtpLEZ0LEhlLFk7ZnVuY3Rpb24gTGkobCl7a2k9bCx0LkhFQVA4PUZ0PW5ldyBJbnQ4QXJyYXkobCksdC5IRUFQMTY9bmV3IEludDE2QXJyYXkobCksdC5IRUFQMzI9WT1uZXcgSW50MzJBcnJheShsKSx0LkhFQVBVOD1IZT1uZXcgVWludDhBcnJheShsKSx0LkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGwpLHQuSEVBUFUzMj1uZXcgVWludDMyQXJyYXkobCksdC5IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkobCksdC5IRUFQRjY0PW5ldyBGbG9hdDY0QXJyYXkobCl9dC5JTklUSUFMX01FTU9SWTt2YXIgVXIsJGk9W10sR2k9W10semk9W10sX2w9MDtmdW5jdGlvbiB4bCgpe3JldHVybiB2fHxfbD4wfWZ1bmN0aW9uIGdsKCl7aWYodC5wcmVSdW4pZm9yKHR5cGVvZiB0LnByZVJ1bj09ImZ1bmN0aW9uIiYmKHQucHJlUnVuPVt0LnByZVJ1bl0pO3QucHJlUnVuLmxlbmd0aDspRWwodC5wcmVSdW4uc2hpZnQoKSk7QnIoJGkpfWZ1bmN0aW9uIGJsKCl7QnIoR2kpfWZ1bmN0aW9uIHZsKCl7aWYodC5wb3N0UnVuKWZvcih0eXBlb2YgdC5wb3N0UnVuPT0iZnVuY3Rpb24iJiYodC5wb3N0UnVuPVt0LnBvc3RSdW5dKTt0LnBvc3RSdW4ubGVuZ3RoOylBbCh0LnBvc3RSdW4uc2hpZnQoKSk7QnIoemkpfWZ1bmN0aW9uIEVsKGwpeyRpLnVuc2hpZnQobCl9ZnVuY3Rpb24gVGwobCl7R2kudW5zaGlmdChsKX1mdW5jdGlvbiBBbChsKXt6aS51bnNoaWZ0KGwpfXZhciB2ZT0wLFZlPW51bGw7ZnVuY3Rpb24gd2wobCl7dmUrKyx0Lm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJnQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh2ZSl9ZnVuY3Rpb24gUmwobCl7aWYodmUtLSx0Lm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJnQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh2ZSksdmU9PTAmJlZlKXt2YXIgaD1WZTtWZT1udWxsLGgoKX19dC5wcmVsb2FkZWRJbWFnZXM9e30sdC5wcmVsb2FkZWRBdWRpb3M9e307ZnVuY3Rpb24gbWUobCl7dC5vbkFib3J0JiZ0Lm9uQWJvcnQobCksbD0iQWJvcnRlZCgiK2wrIikiLG0obCksQT0hMCxsKz0iLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLiI7dmFyIGg9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihsKTt0aHJvdyBpKGgpLGh9dmFyIFNsPSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiBIaShsKXtyZXR1cm4gbC5zdGFydHNXaXRoKFNsKX12YXIgUTtRPSJ0ZmxpdGUtc2ltZC53YXNtIixIaShRKXx8KFE9ZChRKSk7ZnVuY3Rpb24gVmkobCl7dHJ5e2lmKGw9PVEmJngpcmV0dXJuIG5ldyBVaW50OEFycmF5KHgpO2lmKCF5KXRocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1jYXRjaChoKXttZShoKX19ZnVuY3Rpb24gSWwoKXtyZXR1cm4heCYmZiYmdHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iP2ZldGNoKFEse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKGwpe2lmKCFsLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrUSsiJyI7cmV0dXJuIGwuYXJyYXlCdWZmZXIoKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIFZpKFEpfSk6UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBWaShRKX0pfWZ1bmN0aW9uIEZsKCl7dmFyIGw9e2E6UWx9O2Z1bmN0aW9uIGgoUixrKXt2YXIgZWU9Ui5leHBvcnRzO3QuYXNtPWVlLGI9dC5hc20ucSxMaShiLmJ1ZmZlciksVXI9dC5hc20uRSxUbCh0LmFzbS5yKSxSbCgpfXdsKCk7ZnVuY3Rpb24gZyhSKXtoKFIuaW5zdGFuY2UpfWZ1bmN0aW9uIHcoUil7cmV0dXJuIElsKCkudGhlbihmdW5jdGlvbihrKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoayxsKX0pLnRoZW4oZnVuY3Rpb24oayl7cmV0dXJuIGt9KS50aGVuKFIsZnVuY3Rpb24oayl7bSgiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIitrKSxtZShrKX0pfWZ1bmN0aW9uIE0oKXtyZXR1cm4heCYmdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nPT0iZnVuY3Rpb24iJiYhSGkoUSkmJnR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIj9mZXRjaChRLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbihSKXt2YXIgaz1XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhSLGwpO3JldHVybiBrLnRoZW4oZyxmdW5jdGlvbihlZSl7cmV0dXJuIG0oIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK2VlKSxtKCJmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvbiIpLHcoZyl9KX0pOncoZyl9aWYodC5pbnN0YW50aWF0ZVdhc20pdHJ5e3ZhciBVPXQuaW5zdGFudGlhdGVXYXNtKGwsaCk7cmV0dXJuIFV9Y2F0Y2goUil7cmV0dXJuIG0oIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICIrUiksITF9cmV0dXJuIE0oKS5jYXRjaChpKSx7fX1mdW5jdGlvbiBCcihsKXtmb3IoO2wubGVuZ3RoPjA7KXt2YXIgaD1sLnNoaWZ0KCk7aWYodHlwZW9mIGg9PSJmdW5jdGlvbiIpe2godCk7Y29udGludWV9dmFyIGc9aC5mdW5jO3R5cGVvZiBnPT0ibnVtYmVyIj9oLmFyZz09PXZvaWQgMD9Vci5nZXQoZykoKTpVci5nZXQoZykoaC5hcmcpOmcoaC5hcmc9PT12b2lkIDA/bnVsbDpoLmFyZyl9fWZ1bmN0aW9uIFBsKGwsaCxnLHcpe21lKCJBc3NlcnRpb24gZmFpbGVkOiAiK1cobCkrIiwgYXQ6ICIrW2g/VyhoKToidW5rbm93biBmaWxlbmFtZSIsZyx3P1codyk6InVua25vd24gZnVuY3Rpb24iXSl9ZnVuY3Rpb24gRGwobCxoKXttZSgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9ZnVuY3Rpb24gTWwobCxoKXttZSgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9ZnVuY3Rpb24gQ2woKXttZSgiIil9dmFyIFB0O1B0PWZ1bmN0aW9uKCl7cmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpfTt2YXIgT2w9ITA7ZnVuY3Rpb24gTmwobCl7cmV0dXJuIFlbV2koKT4+Ml09bCxsfWZ1bmN0aW9uIFVsKGwsaCl7dmFyIGc7aWYobD09PTApZz1EYXRlLm5vdygpO2Vsc2UgaWYoKGw9PT0xfHxsPT09NCkmJk9sKWc9UHQoKTtlbHNlIHJldHVybiBObCgyOCksLTE7cmV0dXJuIFlbaD4+Ml09Zy8xZTN8MCxZW2grND4+Ml09ZyUxZTMqMWUzKjFlM3wwLDB9ZnVuY3Rpb24gQmwoKXtyZXR1cm4gMjE0NzQ4MzY0OH1mdW5jdGlvbiBrbChsLGgsZyl7SGUuY29weVdpdGhpbihsLGgsaCtnKX1mdW5jdGlvbiBMbChsKXt0cnl7cmV0dXJuIGIuZ3JvdyhsLWtpLmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNiksTGkoYi5idWZmZXIpLDF9Y2F0Y2h7fX1mdW5jdGlvbiAkbChsKXt2YXIgaD1IZS5sZW5ndGg7bD1sPj4+MDt2YXIgZz0yMTQ3NDgzNjQ4O2lmKGw+ZylyZXR1cm4hMTtmb3IodmFyIHc9MTt3PD00O3cqPTIpe3ZhciBNPWgqKDErLjIvdyk7TT1NYXRoLm1pbihNLGwrMTAwNjYzMjk2KTt2YXIgVT1NYXRoLm1pbihnLFgoTWF0aC5tYXgobCxNKSw2NTUzNikpLFI9TGwoVSk7aWYoUilyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBHbChsKXtmb3IodmFyIGg9UHQoKTtQdCgpLWg8bDspO312YXIga3I9e307ZnVuY3Rpb24gemwoKXtyZXR1cm4gYXx8Ii4vdGhpcy5wcm9ncmFtIn1mdW5jdGlvbiBXZSgpe2lmKCFXZS5zdHJpbmdzKXt2YXIgbD0odHlwZW9mIG5hdmlnYXRvcj09Im9iamVjdCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04IixoPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6bCxfOnpsKCl9O2Zvcih2YXIgZyBpbiBrcilrcltnXT09PXZvaWQgMD9kZWxldGUgaFtnXTpoW2ddPWtyW2ddO3ZhciB3PVtdO2Zvcih2YXIgZyBpbiBoKXcucHVzaChnKyI9IitoW2ddKTtXZS5zdHJpbmdzPXd9cmV0dXJuIFdlLnN0cmluZ3N9dmFyIER0PXttYXBwaW5nczp7fSxidWZmZXJzOltudWxsLFtdLFtdXSxwcmludENoYXI6ZnVuY3Rpb24obCxoKXt2YXIgZz1EdC5idWZmZXJzW2xdO2g9PT0wfHxoPT09MTA/KChsPT09MT9fOm0pKEMoZywwKSksZy5sZW5ndGg9MCk6Zy5wdXNoKGgpfSx2YXJhcmdzOnZvaWQgMCxnZXQ6ZnVuY3Rpb24oKXtEdC52YXJhcmdzKz00O3ZhciBsPVlbRHQudmFyYXJncy00Pj4yXTtyZXR1cm4gbH0sZ2V0U3RyOmZ1bmN0aW9uKGwpe3ZhciBoPVcobCk7cmV0dXJuIGh9LGdldDY0OmZ1bmN0aW9uKGwsaCl7cmV0dXJuIGx9fTtmdW5jdGlvbiBIbChsLGgpe3ZhciBnPTA7cmV0dXJuIFdlKCkuZm9yRWFjaChmdW5jdGlvbih3LE0pe3ZhciBVPWgrZztZW2wrTSo0Pj4yXT1VLGllKHcsVSksZys9dy5sZW5ndGgrMX0pLDB9ZnVuY3Rpb24gVmwobCxoKXt2YXIgZz1XZSgpO1lbbD4+Ml09Zy5sZW5ndGg7dmFyIHc9MDtyZXR1cm4gZy5mb3JFYWNoKGZ1bmN0aW9uKE0pe3crPU0ubGVuZ3RoKzF9KSxZW2g+PjJdPXcsMH1mdW5jdGlvbiBXbChsKXtKbChsKX1mdW5jdGlvbiBqbChsKXtyZXR1cm4gMH1mdW5jdGlvbiBxbChsLGgsZyx3LE0pe31mdW5jdGlvbiBYbChsLGgsZyx3KXtmb3IodmFyIE09MCxVPTA7VTxnO1UrKyl7Zm9yKHZhciBSPVlbaCtVKjg+PjJdLGs9WVtoKyhVKjgrNCk+PjJdLGVlPTA7ZWU8aztlZSsrKUR0LnByaW50Q2hhcihsLEhlW1IrZWVdKTtNKz1rfXJldHVybiBZW3c+PjJdPU0sMH1mdW5jdGlvbiBZbCgpe2lmKHR5cGVvZiBjcnlwdG89PSJvYmplY3QiJiZ0eXBlb2YgY3J5cHRvLmdldFJhbmRvbVZhbHVlcz09ImZ1bmN0aW9uIil7dmFyIGw9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobCksbFswXX19ZWxzZSByZXR1cm4gZnVuY3Rpb24oKXttZSgicmFuZG9tRGV2aWNlIil9fWZ1bmN0aW9uIE10KGwsaCl7TXQucmFuZG9tRGV2aWNlfHwoTXQucmFuZG9tRGV2aWNlPVlsKCkpO2Zvcih2YXIgZz0wO2c8aDtnKyspRnRbbCtnPj4wXT1NdC5yYW5kb21EZXZpY2UoKTtyZXR1cm4gMH12YXIgUWw9e2E6UGwsZTpEbCxkOk1sLGI6Q2wsbjpVbCxoOkJsLGw6a2wsbTokbCxwOkdsLGY6SGwsZzpWbCxqOldsLGk6amwsazpxbCxjOlhsLG86TXR9O0ZsKCksdC5fX193YXNtX2NhbGxfY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm4odC5fX193YXNtX2NhbGxfY3RvcnM9dC5hc20ucikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldD10LmFzbS5zKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldElucHV0TWVtb3J5T2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2dldElucHV0TWVtb3J5T2Zmc2V0PXQuYXNtLnQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fZ2V0SW5wdXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0SW5wdXRIZWlnaHQ9dC5hc20udSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRJbnB1dFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2dldElucHV0V2lkdGg9dC5hc20udikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRJbnB1dENoYW5uZWxDb3VudD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRJbnB1dENoYW5uZWxDb3VudD10LmFzbS53KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldE91dHB1dE1lbW9yeU9mZnNldD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRPdXRwdXRNZW1vcnlPZmZzZXQ9dC5hc20ueCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRPdXRwdXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0T3V0cHV0SGVpZ2h0PXQuYXNtLnkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fZ2V0T3V0cHV0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0T3V0cHV0V2lkdGg9dC5hc20ueikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRPdXRwdXRDaGFubmVsQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0T3V0cHV0Q2hhbm5lbENvdW50PXQuYXNtLkEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fbG9hZE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2xvYWRNb2RlbD10LmFzbS5CKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX3J1bkluZmVyZW5jZT1mdW5jdGlvbigpe3JldHVybih0Ll9ydW5JbmZlcmVuY2U9dC5hc20uQykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9pc0dQVUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5faXNHUFVFbmFibGVkPXQuYXNtLkQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIFdpPXQuX19fZXJybm9fbG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4oV2k9dC5fX19lcnJub19sb2NhdGlvbj10LmFzbS5GKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEN0O2Z1bmN0aW9uIEtsKGwpe3RoaXMubmFtZT0iRXhpdFN0YXR1cyIsdGhpcy5tZXNzYWdlPSJQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCIrbCsiKSIsdGhpcy5zdGF0dXM9bH1WZT1mdW5jdGlvbiBsKCl7Q3R8fExyKCksQ3R8fChWZT1sKX07ZnVuY3Rpb24gTHIobCl7aWYodmU+MHx8KGdsKCksdmU+MCkpcmV0dXJuO2Z1bmN0aW9uIGgoKXtDdHx8KEN0PSEwLHQuY2FsbGVkUnVuPSEwLCFBJiYoYmwoKSxuKHQpLHQub25SdW50aW1lSW5pdGlhbGl6ZWQmJnQub25SdW50aW1lSW5pdGlhbGl6ZWQoKSx2bCgpKSl9dC5zZXRTdGF0dXM/KHQuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNldFN0YXR1cygiIil9LDEpLGgoKX0sMSkpOmgoKX10LnJ1bj1McjtmdW5jdGlvbiBKbChsLGgpe1psKGwpfWZ1bmN0aW9uIFpsKGwpe3hsKCl8fCh0Lm9uRXhpdCYmdC5vbkV4aXQobCksQT0hMCksdShsLG5ldyBLbChsKSl9aWYodC5wcmVJbml0KWZvcih0eXBlb2YgdC5wcmVJbml0PT0iZnVuY3Rpb24iJiYodC5wcmVJbml0PVt0LnByZUluaXRdKTt0LnByZUluaXQubGVuZ3RoPjA7KXQucHJlSW5pdC5wb3AoKSgpO3JldHVybiBMcigpLGUucmVhZHl9fSgpO2NsYXNzIGxse2NvbnN0cnVjdG9yKCl7cCh0aGlzLCJzZWxlY3RlZFRGTGl0ZSIpO3AodGhpcywiaXNTSU1EU3VwcG9ydGVkIiwhMSk7cCh0aGlzLCJpc1RocmVhZHNTdXBwb3J0ZWQiLCExKTtwKHRoaXMsImlucHV0V2lkdGgiLDApO3AodGhpcywiaW5wdXRIZWlnaHQiLDApO3AodGhpcywiaW5wdXRDaGFubmVsQ291bnQiLDApO3AodGhpcywiaW5wdXRNZW1vcnlPZmZzZXQiLDApO3AodGhpcywib3V0cHV0V2lkdGgiLDApO3AodGhpcywib3V0cHV0SGVpZ2h0IiwwKTtwKHRoaXMsIm91dHB1dENoYW5uZWxDb3VudCIsMCk7cCh0aGlzLCJvdXRwdXRNZW1vcnlPZmZzZXQiLDApfX1jb25zdCBkbD0iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC92b25hZ2UtdGVuc29yZmxvdy13YXNtL3RmbGl0ZS1zaW1kLXdhc20vMS4xLjMvIixtbD0iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC9tbC9zZWxmaWVfc2VnbWVudGF0aW9uLzQuMC4wLyI7YXN5bmMgZnVuY3Rpb24gaGwocj1kbCxlPW1sKXtsZXQgdD1uZXcgbGw7dmFyIG49bmV3IFByb21pc2UoZnVuY3Rpb24oaSxvKXthc3luYyBmdW5jdGlvbiBzKCl7cmV0dXJuIGZsKHtsb2NhdGVGaWxlOmZ1bmN0aW9uKGYpe3JldHVybiByK2Z9fSl9YXN5bmMgZnVuY3Rpb24gYSh1KXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoZixjKT0+e2NvbnN0IGQ9dTtpZih0eXBlb2YgZD4idSIpcmV0dXJuIGMoIlRGTGl0ZSBiYWNrZW5kIHVuYXZhaWxhYmxlOiB3YXNtU2ltZCIpO2NvbnN0IHk9InNlbGZpZV9zZWdtZW50YXRpb25fbGFuZHNjYXBlIjtjb25zb2xlLmxvZygiTG9hZGluZyB0ZmxpdGUgbW9kZWw6Iix5KTtsZXQgXz1lK2Ake3l9LnRmbGl0ZWA7Y29uc29sZS5sb2coIlRGTGl0ZSBtb2RlbFVybDogIitfKTt0cnl7Y29uc3QgeD1hd2FpdChhd2FpdCBmZXRjaChfKSkuYXJyYXlCdWZmZXIoKTtjb25zb2xlLmxvZygiTW9kZWwgYnVmZmVyIHNpemU6Iix4LmJ5dGVMZW5ndGgpO2NvbnN0IHY9ZC5fZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQoKTtjb25zb2xlLmxvZygiTW9kZWwgYnVmZmVyIG1lbW9yeSBvZmZzZXQ6Iix2KSxjb25zb2xlLmxvZygiTG9hZGluZyBtb2RlbCBidWZmZXIuLi4iKSxkLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkoeCksdik7Y29uc3QgYj1kLl9sb2FkTW9kZWwoeC5ieXRlTGVuZ3RoKTtpZihjb25zb2xlLmxvZygiTG9hZCBtb2RlbCByZXN1bHQ6IixiKSxiIT09MCl7YygiQ2Fubm90IGxvYWQgbW9kZWwiKTtyZXR1cm59dC5pbnB1dFdpZHRoPWQuX2dldElucHV0V2lkdGgoKSx0LmlucHV0SGVpZ2h0PWQuX2dldElucHV0SGVpZ2h0KCksdC5pbnB1dENoYW5uZWxDb3VudD1kLl9nZXRJbnB1dENoYW5uZWxDb3VudCgpLHQuaW5wdXRNZW1vcnlPZmZzZXQ9ZC5fZ2V0SW5wdXRNZW1vcnlPZmZzZXQoKSxjb25zb2xlLmxvZygiSW5wdXQgbWVtb3J5IG9mZnNldDoiLHQuaW5wdXRNZW1vcnlPZmZzZXQpLGNvbnNvbGUubG9nKCJJbnB1dCBoZWlnaHQ6Iix0LmlucHV0SGVpZ2h0KSxjb25zb2xlLmxvZygiSW5wdXQgd2lkdGg6Iix0LmlucHV0V2lkdGgpLGNvbnNvbGUubG9nKCJJbnB1dCBjaGFubmVsczoiLHQuaW5wdXRDaGFubmVsQ291bnQpLHQub3V0cHV0TWVtb3J5T2Zmc2V0PWQuX2dldE91dHB1dE1lbW9yeU9mZnNldCgpLHQub3V0cHV0V2lkdGg9ZC5fZ2V0T3V0cHV0V2lkdGgoKSx0Lm91dHB1dEhlaWdodD1kLl9nZXRPdXRwdXRIZWlnaHQoKSx0Lm91dHB1dENoYW5uZWxDb3VudD1kLl9nZXRPdXRwdXRDaGFubmVsQ291bnQoKSxjb25zb2xlLmxvZygiT3V0cHV0IG1lbW9yeSBvZmZzZXQ6Iix0Lm91dHB1dE1lbW9yeU9mZnNldCksY29uc29sZS5sb2coIk91dHB1dCBoZWlnaHQ6Iix0Lm91dHB1dEhlaWdodCksY29uc29sZS5sb2coIk91dHB1dCB3aWR0aDoiLHQub3V0cHV0V2lkdGgpLGNvbnNvbGUubG9nKCJPdXRwdXQgY2hhbm5lbHM6Iix0Lm91dHB1dENoYW5uZWxDb3VudCksdC5zZWxlY3RlZFRGTGl0ZT1kfWNhdGNoKG0pe2MobSk7cmV0dXJufWYoKX0pfXMoKS50aGVuKHU9PntpZih1PT09bnVsbCl0aHJvdyBjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlIG51bGwiKSwibG9hZFRGTGl0ZSBudWxsIjthKHUpLnRoZW4oZj0+e2kodCl9KS5jYXRjaChmPT57Y29uc29sZS5lcnJvcigibG9hZFRGTGl0ZU1vZGVsIGVycm9yIiksbygibG9hZFRGTGl0ZU1vZGVsIGVycm9yIil9KX0pLmNhdGNoKHU9Pntjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlIGVycm9yOiIsdSksbygibG9hZFRGTGl0ZSBlcnJvcjoiK3UpfSl9KTtyZXR1cm4gbn1jbGFzcyBwbHtjb25zdHJ1Y3Rvcigpe3AodGhpcywiY2FudmFzIixuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCkpO3AodGhpcywiY29udGV4dCIsdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KSk7cCh0aGlzLCJwaXhlbENvdW50IiwwKTtwKHRoaXMsImlucHV0T2Zmc2V0IiwwKTtwKHRoaXMsIm91dHB1dE9mZnNldCIsMCk7cCh0aGlzLCJpbmZvcyIpO3AodGhpcywibWFzayIpfWFzeW5jIGluaXQoZSx0KXthd2FpdCB0aGlzLmluaXRXYXNtKGUsdCksdGhpcy5pbmZvcyYmKHRoaXMuY2FudmFzLndpZHRoPXRoaXMuaW5mb3MuaW5wdXRXaWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQ9dGhpcy5pbmZvcy5pbnB1dEhlaWdodCx0aGlzLnBpeGVsQ291bnQ9dGhpcy5pbmZvcy5pbnB1dFdpZHRoKnRoaXMuaW5mb3MuaW5wdXRIZWlnaHQsdGhpcy5tYXNrPW5ldyBJbWFnZURhdGEodGhpcy5pbmZvcy5pbnB1dFdpZHRoLHRoaXMuaW5mb3MuaW5wdXRIZWlnaHQpLHRoaXMuaW5wdXRPZmZzZXQ9dGhpcy5pbmZvcy5pbnB1dE1lbW9yeU9mZnNldC80LHRoaXMub3V0cHV0T2Zmc2V0PXRoaXMuaW5mb3Mub3V0cHV0TWVtb3J5T2Zmc2V0LzQpfWFzeW5jIGluaXRXYXNtKGUsdCl7dGhpcy5pbmZvcz1hd2FpdCBobChlLHQpfWdldE91dHB1dERpbWVuc2lvbnMoKXt2YXIgZSx0LG4saTtyZXR1cm57d2lkdGg6KHQ9KGU9dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOmUub3V0cHV0V2lkdGgpIT1udWxsP3Q6MCxoZWlnaHQ6KGk9KG49dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOm4ub3V0cHV0SGVpZ2h0KSE9bnVsbD9pOjB9fWFzeW5jIHByb2Nlc3MoZSl7aWYoIXRoaXMubWFza3x8IXRoaXMuaW5mb3MpcmV0dXJuO2NvbnN0IHQ9dGhpcy5pbmZvcy5pbnB1dFdpZHRoLG49dGhpcy5pbmZvcy5pbnB1dEhlaWdodDt0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQsMCwwLHQsbik7Y29uc3QgaT10aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCx0LG4pLG89dGhpcy5pbmZvcy5zZWxlY3RlZFRGTGl0ZS5IRUFQRjMyO2ZvcihsZXQgcz0wO3M8dGhpcy5waXhlbENvdW50O3MrKyl7Y29uc3QgYT10aGlzLmlucHV0T2Zmc2V0K3MqMztvW2FdPWkuZGF0YVtzKjRdLzI1NSxvW2ErMV09aS5kYXRhW3MqNCsxXS8yNTUsb1thKzJdPWkuZGF0YVtzKjQrMl0vMjU1fXRoaXMuaW5mb3Muc2VsZWN0ZWRURkxpdGUuX3J1bkluZmVyZW5jZSgpO2ZvcihsZXQgcz0wO3M8dGhpcy5waXhlbENvdW50O3MrKyl7Y29uc3QgYT10aGlzLmluZm9zLnNlbGVjdGVkVEZMaXRlLkhFQVBGMzJbdGhpcy5vdXRwdXRPZmZzZXQrc107dGhpcy5tYXNrLmRhdGFbcyo0XT10aGlzLm1hc2suZGF0YVtzKjQrM109MjU1KmF9cmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKHRoaXMubWFzayl9aXNHcHVTdXBwb3J0ZWQoKXt2YXIgZSx0LG47cmV0dXJuKG49KHQ9KGU9dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOmUuc2VsZWN0ZWRURkxpdGUpPT1udWxsP3ZvaWQgMDp0Ll9pc0dQVUVuYWJsZWQoKSkhPW51bGw/bjohMX19Y2xhc3MgeWx7Y29uc3RydWN0b3IoKXtwKHRoaXMsInNlbGZpZVNlZ21lbnRhdGlvbiIsbmV3IHBsKTtwKHRoaXMsImJhY2tncm91bmRGaWx0ZXIiKTtwKHRoaXMsInByZXZpb3VzRGltZW5zaW9ucyIse3dpZHRoOjAsaGVpZ2h0OjB9KX1hc3luYyBpbml0KGUsdCl7YXdhaXQgdGhpcy5zZWxmaWVTZWdtZW50YXRpb24uaW5pdCh0Lndhc21Bc3NldFVyaVBhdGgsdC50ZmxpdGVBc3NldFVyaVBhdGgpO2NvbnN0e3dpZHRoOm4saGVpZ2h0Oml9PXRoaXMuc2VsZmllU2VnbWVudGF0aW9uLmdldE91dHB1dERpbWVuc2lvbnMoKTt0aGlzLmJhY2tncm91bmRGaWx0ZXI9bmV3IGNsKGUse2ZvcmVncm91bmRXaWR0aDoxLGZvcmVncm91bmRIZWlnaHQ6MSxtYXNrV2lkdGg6bixtYXNrSGVpZ2h0Oml9KX1hc3luYyB0cmFuc2Zvcm0oZSx0KXt2YXIgcyxhLHUsZjtjb25zdCBuPShzPWUudGltZXN0YW1wKSE9bnVsbD9zOjAsaT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChlKSxvPWF3YWl0IHRoaXMuc2VsZmllU2VnbWVudGF0aW9uLnByb2Nlc3MoaSk7bz8oKGkud2lkdGghPT10aGlzLnByZXZpb3VzRGltZW5zaW9ucy53aWR0aHx8aS5oZWlnaHQhPT10aGlzLnByZXZpb3VzRGltZW5zaW9ucy5oZWlnaHQpJiYodGhpcy5wcmV2aW91c0RpbWVuc2lvbnMud2lkdGg9aS53aWR0aCx0aGlzLnByZXZpb3VzRGltZW5zaW9ucy5oZWlnaHQ9aS5oZWlnaHQsYXdhaXQoKGE9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6YS5yZXNpemVGb3JlZ3JvdW5kKGkud2lkdGgsaS5oZWlnaHQpKSksYXdhaXQoKHU9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dS5wcm9jZXNzKGksbykpLGUuY2xvc2UoKSx0LmVucXVldWUobmV3IFZpZGVvRnJhbWUoKGY9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6Zi5jYW52YXMse3RpbWVzdGFtcDpuLGFscGhhOiJkaXNjYXJkIn0pKSk6dC5lbnF1ZXVlKGUpfWFzeW5jIHNldEJhY2tncm91bmRPcHRpb25zKGUpe3ZhciB0O2F3YWl0KCh0PXRoaXMuYmFja2dyb3VuZEZpbHRlcik9PW51bGw/dm9pZCAwOnQuc2V0QmFja2dyb3VuZE9wdGlvbnMoZSkpfWFzeW5jIHNldFZpZGVvQkdSZWFkYWJsZShlKXt2YXIgdDthd2FpdCgodD10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsP3ZvaWQgMDp0LnNldFZpZGVvQkdSZWFkYWJsZShlKSl9YXN5bmMgc2V0VmlydHVhbEJHSW1hZ2UoZSl7dmFyIHQ7YXdhaXQoKHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dC5zZXRWaXJ0dWFsQkdJbWFnZShlKSl9c2V0RmxpY2tlcmluZ09wdGlvbnMoZSl7dmFyIHQ7KHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbHx8dC5zZXRGbGlja2VyaW5nT3B0aW9ucyhlKX1hc3luYyBwcm9maWxlKGUpe3ZhciB0LG47cmV0dXJuKG49KHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dC5wcm9maWxlKGUpKSE9bnVsbD9uOltdfX1jb25zdCBOcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3AodGhpcywiYmFja2dyb3VuZFRyYW5zZm9ybWVyIixuZXcgeWwpO3AodGhpcywibWVkaWFQcm9jZXNzb3IiLG5ldyB3cyk7cCh0aGlzLCJyYXRlIiwzMCk7cCh0aGlzLCJyZXNvbHZlT25NZWRpYVByb2Nlc3NvciIpO3AodGhpcywiZXZlbnRzUXVldWUiLFtdKX1hc3luYyBpbml0KGUsdCl7YXdhaXQgdGhpcy5iYWNrZ3JvdW5kVHJhbnNmb3JtZXIuaW5pdChlLHQpLGF3YWl0IHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhbnNmb3JtZXJzKFt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lcl0pLHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhY2tFeHBlY3RlZFJhdGUodGhpcy5yYXRlKSx0aGlzLm1lZGlhUHJvY2Vzc29yLm9uQW55KChuLGkpPT57dGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj8odGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcih7bmFtZTpuLGRhdGE6aX0pLHRoaXMucmVzb2x2ZU9uTWVkaWFQcm9jZXNzb3I9dm9pZCAwKTp0aGlzLmV2ZW50c1F1ZXVlLnB1c2goe25hbWU6bixkYXRhOml9KX0pfWFzeW5jIG9uTWVkaWFQcm9jZXNzb3JFdmVudCgpe3JldHVybiBhd2FpdCBuZXcgUHJvbWlzZShlPT57dGhpcy5ldmVudHNRdWV1ZS5sZW5ndGg+MD9lKHRoaXMuZXZlbnRzUXVldWUuc2hpZnQoKSk6dGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj1lfSl9YXN5bmMgc2V0VHJhY2tFeHBlY3RlZFJhdGUoZSl7dGhpcy5yYXRlPWUsdGhpcy5tZWRpYVByb2Nlc3Nvci5zZXRUcmFja0V4cGVjdGVkUmF0ZShlKX1hc3luYyB0cmFuc2Zvcm0oZSx0KXt0aGlzLm1lZGlhUHJvY2Vzc29yLnRyYW5zZm9ybShlLHQpfWFzeW5jIHNldEJhY2tncm91bmRPcHRpb25zKGUpe3ZhciB0O2F3YWl0KCh0PXRoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyKT09bnVsbD92b2lkIDA6dC5zZXRCYWNrZ3JvdW5kT3B0aW9ucyhlKSl9c2V0VmlkZW9CR1JlYWRhYmxlKGUpe3RoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyLnNldFZpZGVvQkdSZWFkYWJsZShlKX1hc3luYyBzZXRWaXJ0dWFsQkdJbWFnZShlKXthd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRWaXJ0dWFsQkdJbWFnZShlKX1hc3luYyB0ZXJtaW5hdGUoKXthd2FpdCB0aGlzLm1lZGlhUHJvY2Vzc29yLmRlc3Ryb3koKX1zZXRGbGlja2VyaW5nT3B0aW9ucyhlKXt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRGbGlja2VyaW5nT3B0aW9ucyhlKX1zZXRWb25hZ2VNZXRhZGF0YShlKXtmcyhlKX1hc3luYyBwcm9maWxlKGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShhd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5wcm9maWxlKGUpKX19O2xldCBCaT1OcjsoKCk9PntYaSgiUHJvY2Vzc29yV29ya2VyIixOcil9KSgpfSkoKTsK",_v=typeof window<"u"&&window.Blob&&new Blob([atob(Qv)],{type:"text/javascript;charset=utf-8"});function E4(){const Et=_v&&(window.URL||window.webkitURL).createObjectURL(_v);try{return Et?new Worker(Et):new Worker("data:application/javascript;base64,"+Qv)}finally{Et&&(window.URL||window.webkitURL).revokeObjectURL(Et)}}const qv=class extends bm{constructor(){super(...arguments),st(this,"rate",30),st(this,"worker")}async init(Et){this.worker=await $u(S4,E4),await this.worker.init(`worker_${qv.initCount++}`,Et),await this.worker.setVonageMetadata(Ws()),await this.setBackgroundOptions(Et),this.listenWorker()}async setTrackExpectedRate(Et){var St;await((St=this.worker)==null?void 0:St.setTrackExpectedRate(Et))}async setBackgroundOptions(Et){var St,xt,jt;const{transformerType:zt}=Et;switch(zt){case"VideoBackground":await((St=this.worker)==null?void 0:St.setVideoBGReadable(await xm.createVideoReadable(Et.backgroundAssetUri)));break;case"VirtualBackground":await((xt=this.worker)==null?void 0:xt.setVirtualBGImage(await xm.createImageCanvas(Et.backgroundAssetUri)));break}await((jt=this.worker)==null?void 0:jt.setBackgroundOptions(Et))}async transform(Et,St){var xt;await((xt=this.worker)==null?void 0:xt.transform(Et,St))}async destroy(){var Et;await((Et=this.worker)==null?void 0:Et.terminate())}async setFlickeringOptions(Et){var St;await((St=this.worker)==null?void 0:St.setFlickeringOptions(Et))}async profile(Et){var St;const xt=await((St=this.worker)==null?void 0:St.profile(Et));return JSON.parse(xt??"[]")}async listenWorker(){for(var Et,St,xt;(Et=this.worker)!=null&&Et.worker;){const{name:jt,data:zt}=await((St=this.worker)==null?void 0:St.onMediaProcessorEvent());switch(jt){case"error":case"warn":this.emit(jt,zt);break;case"pipelineInfo":switch(this.emit(jt,zt),zt){case"pipeline_ended":case"pipeline_ended_with_error":await((xt=this.worker)==null?void 0:xt.terminate());return}break}}}};let ey=qv;st(ey,"initCount",0);class C4{constructor(St){this.queries=St}async downloadSpeedscope(){this.download(await this.convertToSpeedscope())}download(St){const xt=document.createElement("a");xt.href=URL.createObjectURL(new Blob([St],{type:"application/json"})),xt.download=`profile-${+new Date}.speedscope.json`,document.body.appendChild(xt),xt.click(),document.body.removeChild(xt)}convertToSpeedscope(){const St=[],xt={},jt=[];let zt=0;for(const Mn of this.queries){const Ln=[];for(const Un of Mn)xt[Un.name]===void 0&&(xt[Un.name]=St.length,St.push({name:Un.name})),Ln.push({type:Un.action==jm.PUSH?"O":"C",frame:xt[Un.name],at:Un.timestamp}),zt=Math.max(zt,Un.timestamp+Un.duration);jt.push({events:Ln,type:"evented",name:"GPU Profile",unit:"nanoseconds",startValue:0,endValue:zt})}return JSON.stringify({$schema:"https://www.speedscope.app/file-format-schema.json",shared:{frames:St},profiles:jt},null,2)}}class W1 extends bm{constructor(){super(),st(this,"worker",new ey),st(this,"connector",new sn(this.worker))}async init(St){await this.worker.init(St),this.worker.onAny((xt,jt)=>this.emit(xt,jt))}async setBackgroundOptions(St){await this.worker.setBackgroundOptions(St)}setTrackExpectedRate(St){this.worker.setTrackExpectedRate(St)}getConnector(){return this.connector}async profile(St){return this.worker.profile(St)}static async profile(St){const xt=await nt.all(this.instances.map(jt=>jt.profile(St)));return new C4(xt)}static async create(St){const xt=new this;return await xt.init(St),this.instances.push(xt),xt}}st(W1,"instances",[]);function T4(){return Wu}function x4(){return Gu}function R4(){return gp}function I4(){return Zp}function w4(){return fm}function O4(){return nm}function A4(){return _l}async function k4(Et){return await W1.create(Et)}}.call(this,et(0),et(42))},function(_e,tt,et){const nt=et(34)().onlyLocal(),rt=et(100),it=rt.prependProxyToUrlIfNeeded,ot=(at,ct)=>{let ut=at.apiUrl.includes("anvil.opentok.com")?"https://static.opentok.com":"https://www.dev.tokbox.com";return ct&&(ct.includes("euproxy.opentok.com")?ut="https://static-eu.opentok.com":ut=it(ut,ct)),`${ut}/ml-transformers/v4.0.0`},st={getConfig:function(ct){ct===void 0&&(ct={});const lt=ct,dt=lt.staticConfig,ut=dt===void 0?nt:dt,ft=lt.proxyUrl,pt=ot(ut,ft);return{mediapipeBaseAssetsUri:`${pt}`,wasmAssetUriPath:`${pt}/`,tfliteAssetUriPath:`${pt}/`}}};_e.exports=st},function(_e,tt,et){const nt=et(16),rt=et(11),it=et(723),ot=et(724),st=et(725);_e.exports=function(ct){ct===void 0&&(ct={});const lt=ct.Errors||et(7),dt=ct.ExceptionCodes||et(10),ut=ct.logging||et(1)("publisherInit"),ft=ct.otError||et(13)(),pt=ct.OTHelpers||et(8),yt=ct.Publisher||et(168)(),Tt=ct.sessionObjects||et(21);return function(gt,vt,Ct){ut.debug(`OT.initPublisher(${gt})`),typeof gt=="string"&&!document.getElementById(gt)&&(gt=vt,vt=Ct,Ct=arguments[3]),typeof gt=="function"?(Ct=gt,vt=void 0,gt=void 0):rt(gt)&&!pt.isElementNode(gt)&&(Ct=vt,vt=gt,gt=void 0),typeof vt=="function"&&(Ct=vt,vt=void 0);let It;vt&&(rt(vt)?vt.insertDefaultUI===!1&&gt?It="You cannot specify a target element if insertDefaultUI is false":it(vt.audioSource)&&it(vt.videoSource)&&(It="You cannot specify both audioSource and videoSource as null or false"):(It="properties argument to Publisher constructor, if provided, should be an object",vt=void 0)),ot(vt),st(vt);const Zt=new yt(vt||{});Tt.publishers.add(Zt);const Mt=function(){Ct&&nt(Ct)&&(Ct(...arguments),Ct=void 0)};It!==void 0&&(ut.error(It),Mt(ft(lt.INVALID_PARAMETER,new Error(It),dt.INVALID_PARAMETER)));const kt=function(Pt){Zt.off("publishComplete",Nt),Mt(Pt)};let Nt=function(Pt){Zt.off("initSuccess",kt),Pt&&Mt(Pt)};return Zt.once("initSuccess",kt),Zt.once("publishComplete",Nt),Zt.publish(gt),Zt}}},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(18),at=et(726),ct=et(11),lt=et(16),dt=et(9),ut=et(26),ft=et(6),pt=et(20),yt=et(34)(),Tt=et(73),ht=et(314),gt=et(728),vt=et(729),Ct=et(730),It=et(100),Zt=It.prependProxyToUrlIfNeeded,Mt=et(101),kt=Mt.getProxyUrl,Nt=et(731);_e.exports=function(Pt){Pt===void 0&&(Pt={});const cn=Pt.adaptIceServers||et(102).adaptIceServers,Jt=Pt.AnalyticsHelper||pt,Bt=Pt.APIKEY||et(70),dn=Pt.Capabilities||et(169),vn=Pt.convertAnvilErrorCode||et(732),Tn=Pt.convertRumorError||et(321),pn=Pt.Errors||et(7),In=Pt.Events||et(23)(),Cn=Pt.Stream||et(170),yn=Pt.ExceptionCodes||et(10),bn=Pt.hasIceRestartsCapability||et(322),Xn=Pt.hasE2eeCapability||et(110),Hn=Pt.logging||et(1)("Session"),En=Pt.otError||et(13)(),Zn=Pt.OTErrorClass||et(22),Vn=Pt.OTHelpers||et(8),rr=et(733),gr=Pt.StaticConfig||yt,cr=Pt.staticConfig||gr.onlyLocal(),sr=Pt.Publisher||et(168)(),Or=Pt.RaptorSocket||et(734).default(),Rr=Pt.SessionDispatcher||et(330),Yr=Pt.sessionObjects||et(21),Fr=Pt.sessionTag||et(329),Qr=Pt.socketCloseCodes||et(76),vo=Pt.Subscriber||et(305)(),Lr=Pt.systemRequirements||et(153),Pr=Pt.uuid||et(15),qn=vt({otError:En}),Yn=Pt.global||(typeof window!==void 0?window:commonjsGlobal),vr=Pt.getSessionInfo||et(758)(),Dr=et(142),ho=Pt.KeyStore||et(761),er=Pt.SFrameClientStore||et(763),Ir=Pt.SinglePeerConnectionController||et(765),Wr=Pt.initPublisher||et(319)({Publisher:sr});return function(To,wo,xo){var ro=this;let Ho=xo===void 0?{}:xo,Oo=Ho.iceConfig,Do=Ho.connectionEventsSuppressed,so=Ho.ipWhitelist,Nu=so===void 0?!1:so,_o=Ho.encryptionSecret,ko=Ho._enableSinglePeerConnection;const ls=kt(),_s=new Jt,cu=or=>typeof or=="string"?this.streams.get(or)||{id:or}:or;ft(this),this._tag=Fr,Lr.check()||Lr.upgrade(),wo==null&&(wo=To,To=null),qn(Oo),this.id=wo,this.sessionId=wo,this.keyStore=new ho,this.sFrameClientStore=new er;let Ns,Rl,Pu,Hu,qp,ip,op,oo,yl=!1,vu=To;const Ys=this;let Ll=wo,_r=Pr(),_a=Hn,_h=!1;const yu=[];let bu=null,us=!1,Yl=!1,ds,_u,Sp,Il;const dp=Vn.statable(this,["disconnected","connecting","connected","disconnecting"],"disconnected");this.connection=null,this.connections=new Vn.Collection,this.streams=new Vn.Collection,this.archives=new Vn.Collection;let sp;const Cl=function(Wn){dp("disconnected"),Wn.code||(Wn.code=yn.CONNECT_FAILED),_a.error(`${Wn.name||"Unknown Error"}: ${Wn.message}`),Zn.handleJsException({error:Wn,target:this,analytics:_s}),this.trigger("sessionConnectFailed",Wn)},ts=function(Wn){yl=!1;const Bn=Wn.reason;this.logEvent("Connect","Disconnected",{reason:Wn.reason});const ur=new In.SessionDisconnectEvent("sessionDisconnected",Bn.replace("networkTimedout","networkDisconnected"));this.isConnected()&&this.disconnect(),_u(),ds.call(this,Bn),setTimeout(()=>{this.dispatchEvent(ur),Sp.call(this,ur.reason),ur.isDefaultPrevented()||Il.call(this,ur.reason)})},lu=function(Wn){Do||Wn.id.match(/^symphony\./)||this.dispatchEvent(new In.ConnectionEvent(ut.CONNECTION_CREATED,Wn))},Ro=function(Wn,Bn){Wn.id.match(/^symphony\./)||Ns&&Wn.id===Ns.id()||this.dispatchEvent(new In.ConnectionEvent(ut.CONNECTION_DESTROYED,Wn,Bn))},fp=function(Wn){Wn&&Wn.connection&&(!this.connection||Wn.connection.id!==this.connection.id)&&this.dispatchEvent(new In.StreamEvent(ut.STREAM_CREATED,Wn,null,!1))},Mu=function(Wn){const Bn=Wn.target,ur=Wn.changedProperty;let Nr=Wn.newValue;ur==="videoDisableWarning"||ur==="audioDisableWarning"||(ur==="videoDimensions"&&(Nr={width:Nr.width,height:Nr.height}),this.dispatchEvent(new In.StreamPropertyChangedEvent(ut.STREAM_PROPERTY_CHANGED,Bn,ur,Wn.oldValue,Nr)))},Wp=function(Wn,Bn){Bn===void 0&&(Bn="clientDisconnected");const ur=new In.StreamEvent("streamDestroyed",Wn,Bn,!0),Nr=()=>{Yr.subscribers.where({streamId:Wn.id}).filter(jr=>jr.session.id===this.id&&jr.stream).forEach(jr=>{jr._disconnect({reason:Bn}),ur.isDefaultPrevented()||jr._destroy({reason:Bn,noStateTransition:!0})})};Wn.connection.id===this.connection.id?Yr.publishers.where({streamId:Wn.id}).forEach(function(jr){jr._.unpublishStreamFromSession(Wn,this,Bn)},this):this.dispatchEvent(ur),Nr()},ws=function(Wn){this.dispatchEvent(new In.ArchiveEvent("archiveStarted",Wn))},Gp=function(Wn){this.dispatchEvent(new In.ArchiveEvent("archiveDestroyed",Wn))},om=function(Wn){const Bn=Wn.target,ur=Wn.changedProperty,Nr=Wn.newValue;ur==="status"&&Nr==="stopped"?this.dispatchEvent(new In.ArchiveEvent("archiveStopped",Bn)):this.dispatchEvent(new In.ArchiveEvent("archiveUpdated",Bn))},Fp=()=>Yr.subscribers.forEach(or=>or._.pauseAndPlayVideoElement()),Op=function(){Ys.token=null,Pu=null,dp("disconnected"),Ns=null,Rl&&(Rl.stop(),Rl=null),Ys.connection=null,Ys.capabilities=new dn([],{hasE2eeCapability:Xn}),Ys.connections.destroy(),Ys.streams.destroy(),Ys.archives.destroy()};_u=function(){_r=Pr(),Op()},ds=function(Wn){Yr.publishers.where({session:this}).forEach(Bn=>{Bn.disconnect(Wn)}),Yr.subscribers.where({session:this}).forEach(Bn=>{Bn._disconnect()})},Sp=function(Wn){Yr.publishers.where({session:this}).forEach(Bn=>{Bn._.streamDestroyed(Wn)})},Il=function(Wn){Yr.subscribers.where({session:this}).forEach(Bn=>{Bn._destroy({reason:Wn})})};const em=function(){_a.debug("OT.Session: connecting to Raptor");const Wn=Zt(this.sessionInfo.messagingURL,ls),Bn=["forceMute"];this.sessionInfo.isAdaptiveEnabled&&Bn.push("amr"),Yl&&Bn.push("spc"),Ns=new Or({connectionId:_r,sessionId:wo,messagingSocketUrl:Wn,symphonyUrl:this.sessionInfo.symphonyAddress,dispatcher:Rr(this,{connectionEventsSuppressed:Do}),analytics:_s,requestedCapabilities:Bn});function Nr(jr,Go){let Yo;switch(jr){case"WebSocketConnection":if(Yo=at(Qr.codes,Ws=>Ws===Go),Yo)return pn[`SOCKET_${Yo}`];break;case"ConnectToSession":case"GetSessionState":switch(Go){case yn.CONNECT_FAILED:return pn.CONNECT_FAILED;case yn.UNEXPECTED_SERVER_RESPONSE:return pn.UNEXPECTED_SERVER_RESPONSE;case yn.CONNECTION_LIMIT_EXCEEDED:return pn.CONNECTION_LIMIT_EXCEEDED}break}}Ns.connect(Pu,this.sessionInfo,{connectionEventsSuppressed:Do},(jr,Go)=>{if(jr){const Ws={};let ps;if(jr.reason==="ConnectToSession"||jr.reason==="GetSessionState"){const Ds=Tn(jr);dt(Ws,{originalMessage:jr.message,originalCode:jr.code}),jr.code=Ds.code,jr.message=Ds.message}(jr.code||jr.message||jr.reason)&&(ps={failureCode:jr.code,failureMessage:jr.message,failureReason:jr.reason,socketId:Ns.socketId}),Ns=null,this.logConnectivityEvent("Failure",Ws,ps);const Es=Nr(jr.reason,jr.code);Es&&(jr=En(Es,new Error(jr.message),jr.code)),Cl.call(this,jr);return}_a.debug("OT.Session: Received session state from Raptor",Go),this.connection=this.connections.get(Ns.id()),this.connection&&(this.capabilities=this.connection.permissions),dp("connected"),this.logConnectivityEvent("Success",{connectionId:this.connection.id}),this.connection.on("destroyed",ts,this),this.dispatchEvent(new In.SessionConnectEvent(ut.SESSION_CONNECTED)),this.connections.on({add:lu,remove:Ro},this),this.streams.on({add:fp,remove:Wp,update:Mu},this),this.archives.on({add:ws,remove:Gp,update:om},this),this.connections._triggerAddEvents(),this.streams._triggerAddEvents(),this.archives._triggerAddEvents(),Vn.env.isiOS&&Vn.env.iOSVersion>=13.3&&this.on("gsmCallEnded",Fp)})},pp=or=>this.capabilities.permittedTo(or),Su=(or,Wn)=>{Hn.error(`${or.name}: ${or.message}`),typeof Wn=="function"&&Wn(or),Zn.handleJsException({error:or,target:this,analytics:_s})},Yu=or=>{const Wn=En(or.code,new Error(or.message),or.exceptionCode);return Su(Wn),Wn},Ql=()=>this.isNot("connected")?Yu(rr.NOT_CONNECTED):pp("forceMute")?null:Yu(rr.PERMISSION_DENIED),Hp=or=>or.code==="404"?Yu(rr.NOT_FOUND):or.code==="403"?Yu(rr.PERMISSION_DENIED):Yu(rr.UNEXPECTED_SERVER_RESPONSE);this.reportIssue=or=>{let Wn=or.id;return ht(_s.logEvent.bind(_s))({action:"ReportIssue",variation:"Event",connectionId:_r,payload:{reportIssueId:Wn}},null)},this.logEvent=function(or,Wn,Bn,ur){let Nr={action:or,variation:Wn,payload:Bn,sessionId:Ll,messagingServer:qp,p2p:Hu,partnerId:vu,connectionId:_r};ur&&(Nr=dt(ur,Nr)),_s.logEvent(Nr)},this.logConfigurationFileEvent=function(or,Wn,Bn){if(Wn===void 0&&(Wn=null),Bn===void 0&&(Bn={}),or==="Attempt")op=new Date().getTime();else if(or==="Failure"||or==="Success"){const ur=new Date().getTime()-op;dt(Bn,{attemptDuration:ur})}ls&&(Bn.proxyUrl=ls),this.logEvent("ConfigurationFile",or,Wn,Object.assign({},Bn))},this.logConnectivityEvent=function(or,Wn,Bn){if(Wn===void 0&&(Wn=null),Bn===void 0&&(Bn={}),ls&&(Bn.proxyUrl=ls),or==="Attempt"&&(Rl&&(Rl.stop(),Hn.error("_connectivityAttemptPinger should have been cleaned up")),ip=new Date().getTime(),Rl=new Tt(()=>{this.logEvent("Connect","Attempting",Wn,Object.assign({},Bn))},1/5,6),Rl.start()),or==="Failure"||or==="Success"||or==="Cancel"){const ur=Nr=>{Rl&&(Rl.stop(),Rl=void 0),this.logEvent("Connect",or,Wn,Object.assign({},Bn,{attemptDuration:new Date().getTime()-ip,iceConfig:Nr,ipWhitelist:Nu}))};or==="Success"?this._.getIceConfig().then(Nr=>{const jr={includeServers:Oo&&Oo.includeServers||"all",transportPolicy:Nr.transportPolicy};jr.servers=Nr.servers?Nr.servers.map(Go=>({url:Go.urls})):[],ur(jr)}):ur()}else this.logEvent("Connect",or,Wn,Bn)},this.connect=function(){let or;for(var Wn=arguments.length,Bn=new Array(Wn),ur=0;ur<Wn;ur++)Bn[ur]=arguments[ur];Bn.length>1&&(typeof Bn[0]=="string"||typeof Bn[0]=="number")&&typeof Bn[1]=="string"?(To==null&&(vu=Bn[0].toString()),or=Bn[1]):or=Bn[0];const Nr=Bn[Bn.length-1];if(ro.is("connecting","connected"))return _a.warn(`OT.Session: Cannot connect, the session is already ${ro.currentState}`),ro;_s.sessionInfo=new Dr,Op(),dp("connecting");const jr=_r;function Go(){const Es=_r!==jr;return Es&&Hn.debug("Connection was interrupted"),Es}if(ro.token=!lt(or)&&or,Pu=!lt(or)&&or,Nr&&lt(Nr)){let Es;const Ds=function(){Es();for(var zs=arguments.length,zl=new Array(zs),qs=0;qs<zs;qs++)zl[qs]=arguments[qs];Nr(void 0,...zl)},_c=function(){Es(),Nr(...arguments)};Es=()=>{ro.off("sessionConnected",Ds),ro.off("sessionConnectFailed",_c)},ro.once("sessionConnected",Ds),ro.once("sessionConnectFailed",_c)}if(vu==null||lt(vu))return setTimeout(Cl.bind(ro,En(pn.AUTHENTICATION_ERROR,new Error("API Key is undefined. You must pass an API Key to initSession."),yn.AUTHENTICATION_ERROR))),ro;if(!Ll||ct(Ll)||Array.isArray(Ll)){let Es;return Ll?(Es="SessionID is not a string. You must use string as the session ID passed into OT.initSession().",Ll=Ll.toString()):Es="SessionID is undefined. You must pass a sessionID to initSession.",setTimeout(Cl.bind(ro,En(pn.INVALID_SESSION_ID,new Error(Es),yn.INVALID_SESSION_ID))),ro.logConnectivityEvent("Attempt"),ro.logConnectivityEvent("Failure",null,{failureReason:"ConnectToSession",failureCode:yn.INVALID_SESSION_ID,failureMessage:Es}),ro}if(ro.apiKey=vu.toString(),vu=vu.toString(),_o){if(!Xn())return setTimeout(Cl.bind(ro,En(pn.UNSUPPORTED_BROWSER,new Error("E2E Encryption is not supported in your browser.")))),ro;try{Nt(_o),ro.keyStore.set(wo,_o),us=!0}catch(Es){return setTimeout(Cl.bind(ro,En(pn.INVALID_ENCRYPTION_SECRET,new Error(`Invalid encryptionSecret: ${Es.message}`)))),ro}}Bt.value.length===0&&(Bt.value=vu);const Yo=!!gr.onlyLocal().configUrl,Ws=Nu===!0&&!!gr.onlyLocal().ipWhitelistConfigUrl;return!Yo&&!Ws?ro.logConfigurationFileEvent("Event",{message:"No configUrl, using local config only"}):ro.logConfigurationFileEvent("Attempt"),(Yo||Ws?gr.get({partnerId:vu,token:or,useIpWhitelistConfigUrl:Ws,proxyUrl:ls}):nt.resolve(gr.onlyLocal())).then(Es=>((Yo||Ws)&&ro.logConfigurationFileEvent("Success"),Es),Es=>((Yo||Ws)&&ro.logConfigurationFileEvent("Failure",{failureMessage:Es.message,failureStack:Es.stack}),gr.onlyLocal())).then(Es=>{if(ro.staticConfig=Es,_s.staticConfig=Es,Es.apiEnabled===!1)throw En(pn.API_KEY_DISABLED,new Error("The API KEY has been disabled. Access to the service is currently being restricted. Please contact support."));if(Go())return;ro.logConnectivityEvent("Attempt"),ls?ro.logEvent("SessionInfo","Attempt",null,{proxyUrl:ls}):ro.logEvent("SessionInfo","Attempt");const Ds=zs=>{zs.code=vn(zs.code),ro.logConnectivityEvent("Failure",null,{failureReason:"GetSessionInfo",failureCode:zs.code||"No code",failureMessage:zs.message,failureName:zs.name}),zs.name&&(zs=En(zs.name,new Error(`${zs.message}${zs.code?` (${zs.code})`:""}`),zs.code)),Cl.call(ro,zs)},_c=zs=>{if(Go())return;if(zs.partnerId&&zs.partnerId!==vu){const qs="Authentication Error: The API key does not match the token or session.";Ds(En(pn.AUTHENTICATION_ERROR,new Error(qs),yn.AUTHENTICATION_ERROR));return}Yl=Ct(zs,ko),Yl&&(sp=new Ir(ro)),_s.sessionInfo=zs;const zl={features:{reconnection:zs.reconnection,renegotiation:bn()&&zs.renegotiation,simulcast:zs.simulcast===void 0?!1:zs.simulcast&&Vn.env.name==="Chrome"}};if(ls&&(zl.proxyUrl=ls),ro.is("connecting")){ro.sessionInfo=zs,ro._.setIceServers(ro.sessionInfo.iceServers),Hu=zs.p2pEnabled,qp=zs.messagingServer,ro.logEvent("SessionInfo","Success",null,zl,{messagingServer:zs.messagingServer});const qs=Es.sessionInfoOverrides;qs!=null&&typeof qs=="object"&&Object.keys(qs).forEach(uu=>{Object.defineProperty(ro.sessionInfo,uu,{value:qs[uu]})}),em.call(ro)}},Dp=Zt(Es.apiUrl,ls);return vr({anvilUrl:Dp,sessionId:wo,token:Pu,connectionId:_r,clientVersion:Es.clientVersion}).then(_c,Ds)}).catch(Es=>{Cl.call(ro,Es)}),ro},this.disconnect=function(){sp&&(sp.destroy(),sp=null),Ns&&Ns.isNot("disconnected")?Ns.isNot("disconnecting")&&(Ns.isNot("connecting")||this.logConnectivityEvent("Cancel"),dp("disconnecting"),Ns.disconnect(),this.off("gsmCallEnded",Fp)):_u()},this.destroy=function(){this.streams.destroy(),this.connections.destroy(),this.archives.destroy(),this.disconnect()},this.publish=function(or,Wn,Bn){if(typeof or=="function"&&(Bn=or,or=void 0),typeof Wn=="function"&&(Bn=Wn,Wn=void 0),Bn=Bn||function(){},this.isNot("connected"))return _s.logError(1010,"OT.exception","We need to be connected before you can publish",null,{action:"Publish",variation:"Failure",failureReason:"unconnected",failureCode:yn.NOT_CONNECTED,failureMessage:"We need to be connected before you can publish",sessionId:Ll,streamId:or&&or.stream?or.stream.id:null,p2p:this.sessionInfo?this.sessionInfo.p2pEnabled:void 0,messagingServer:this.sessionInfo?this.sessionInfo.messagingServer:null,partnerId:vu}),Su(En(pn.NOT_CONNECTED,new Error("We need to be connected before you can publish"),yn.NOT_CONNECTED),Bn),null;if(!pp("publish")){const ur="This token does not allow publishing. The role must be at least `publisher` to enable this functionality",Nr={failureReason:"Permission",failureCode:yn.UNABLE_TO_PUBLISH,failureMessage:ur};return this.logEvent("Publish","Failure",null,Nr),Su(En(pn.PERMISSION_DENIED,new Error(ur),yn.UNABLE_TO_PUBLISH),Bn),null}if(!or||typeof or=="string"||Vn.isElementNode(or))or=Wr(or,Wn);else if(or instanceof sr)"session"in or&&or.session&&"sessionId"in or.session&&(or.session.sessionId===this.sessionId?_a.warn(`Cannot publish ${or.guid()} again to ${this.sessionId}. Please call session.unpublish(publisher) first.`):_a.warn(`Cannot publish ${or.guid()} publisher already attached to ${or.session.sessionId}. Please call session.unpublish(publisher) first.`));else{Su(En(pn.INVALID_PARAMETER,new Error("Session.publish :: First parameter passed in is neither a string nor an instance of the Publisher"),yn.UNABLE_TO_PUBLISH),Bn);return}return _h&&or._.forceMuteAudio(),or._.publishToSession(this,_s).catch(ur=>{throw ur.message=`Session.publish :: ${ur.message}`,_a.error(ur.code,ur.message),ur}).then(()=>or).then(function(){for(var ur=arguments.length,Nr=new Array(ur),jr=0;jr<ur;jr++)Nr[jr]=arguments[jr];return Bn(null,...Nr)},ur=>Bn(ur)),or},this.unpublish=function(or){if(!or){_a.error("OT.Session.unpublish: publisher parameter missing.");return}or._.unpublishFromSession(this,"unpublished")},this.setIceConfig=function(){var or=(0,ot.default)(it.default.mark(function Wn(Bn){var ur,Nr,jr;return it.default.wrap(function(Yo){for(;;)switch(Yo.prev=Yo.next){case 0:if(qn(Bn),_s.logEvent({action:"setIceConfig",variation:"Attempt",payload:{newIceConfig:Bn}}),Oo=Object.assign({},Bn),Bn.includeServers!=="all"){Yo.next=8;break}return Yo.next=6,Ys._.getOtIceServerInfo();case 6:ur=Yo.sent,Bn.customServers=Bn.customServers.concat(ur.servers);case 8:return Nr=Ws=>({iceServers:Ws.customServers,iceTransportPolicy:Ws.transportPolicy}),jr=Nr(Bn),Yo.prev=10,Yo.next=13,nt.all(Yr.publishers.map(Ws=>Ws._.setIceConfig(jr)).concat(Yr.subscribers.map(Ws=>Ws._.setIceConfig(jr))));case 13:Yo.next=19;break;case 15:throw Yo.prev=15,Yo.t0=Yo.catch(10),_s.logEvent({action:"setIceConfig",variation:"Failure",payload:{newIceConfig:Bn}}),Yo.t0;case 19:_s.logEvent({action:"setIceConfig",variation:"Success",payload:{newIceConfig:Bn}});case 20:case"end":return Yo.stop()}},Wn,null,[[10,15]])}));return function(Wn){return or.apply(this,arguments)}}(),this.subscribe=function(or,Wn,Bn,ur){if(typeof Wn=="function"&&(ur=Wn,Wn=void 0,Bn=void 0),typeof Bn=="function"&&(ur=Bn,Bn=void 0),ur=ur||function(){},!this.connection||!this.connection.connectionId){Su(En(pn.NOT_CONNECTED,new Error("Session.subscribe :: Connection required to subscribe"),yn.UNABLE_TO_SUBSCRIBE),ur);return}if(!or){Su(En(pn.INVALID_PARAMETER,new Error("Session.subscribe :: stream cannot be null"),yn.UNABLE_TO_SUBSCRIBE),ur);return}if(!Object.prototype.hasOwnProperty.call(or,"streamId")){Su(En(pn.INVALID_PARAMETER,new Error("Session.subscribe :: invalid stream object"),yn.UNABLE_TO_SUBSCRIBE),ur);return}if(Bn&&Bn.insertDefaultUI===!1&&Wn){Su(En(pn.INVALID_PARAMETER,new Error("You cannot specify a target element if insertDefaultUI is false"),yn.INVALID_PARAMETER),ur);return}Wn&&Wn.insertDefaultUI===!1&&(Bn=Wn,Wn=void 0);const Nr=new vo(Wn,dt(Bn||{},{stream:or,session:this,analytics:_s,_singlePeerConnectionController:sp}),jr=>{if(jr){Su(jr,ur);return}ur(null,Nr)});return Yr.subscribers.add(Nr),Nr},this.unsubscribe=function(or){if(!or){const Wn="OT.Session.unsubscribe: subscriber cannot be null";throw _a.error(Wn),new Error(Wn)}return or.stream?(_a.debug(`OT.Session.unsubscribe: subscriber ${or.id}`),or._destroy({reason:"Unsubscribe"}),!0):(_a.warn("OT.Session.unsubscribe:: tried to unsubscribe a subscriber that had no stream"),!1)},this.getSubscribersForStream=function(or){return Yr.subscribers.where({streamId:or.id})},this.getPublisherForStream=function(or){let Wn,Bn;if(typeof or=="string")Wn=or;else if(typeof or=="object"&&or&&Object.hasOwnProperty.call(or,"id"))Wn=or.id;else throw Bn="Session.getPublisherForStream :: Invalid stream type",_a.error(Bn),new Error(Bn);return Yr.publishers.where({streamId:Wn})[0]},this._={getProxyUrl(){return ls},isE2ee(){return Ys.sessionInfo.e2ee&&us&&!!Ys.capabilities.supportsE2ee},isSocketReconnecting(){return yl},getSocket(){return Ns},reconnecting:function(){yl=!0,this.dispatchEvent(new In.SessionReconnectingEvent)}.bind(this),reconnected:function(){yl=!1,this.dispatchEvent(new In.SessionReconnectedEvent),this.sessionInfo.reconnection&&(Yr.publishers.where({session:this}).forEach(or=>{or._.iceRestart()}),this.sessionInfo.p2pEnabled||Yr.subscribers.where({session:this}).forEach(or=>{or._.iceRestart("socket reconnected")}))}.bind(this),dispatchSignal:function(or,Wn,Bn){const ur=new In.SignalEvent(Wn,Bn,or);ur.target=this,this.trigger(ut.SIGNAL,ur),Wn&&this.dispatchEvent(ur)}.bind(this),dispatchCaption:function(or,Wn){let Bn,ur,Nr;try{const Go=JSON.parse(Wn.data);Bn=Go.caption.text,ur=Go.streamId,Nr=Go.isFinal}catch(Go){_a.error(`Caption parsing failed: ${Go.message}`);return}const jr=new In.CaptionReceivedEvent(Bn,ur,Nr);jr.target=this,this.trigger(ut.SUBSCRIBER_CAPTION_RECEIVED,jr),this.dispatchEvent(jr)}.bind(this),subscriberChannelUpdate(or,Wn,Bn,ur){return Ns?Ns.subscriberChannelUpdate(or.id,Wn.widgetId,Bn.id,ur):(_a.warn("You are disconnected, cannot update subscriber properties ",ur),null)},streamCreate(or,Wn){let Bn=or===void 0?{}:or,ur=Bn.name,Nr=Bn.streamId,jr=Bn.subscriberAudioFallbackEnabled,Go=Bn.channels,Yo=Bn.minBitrate,Ws=Bn.sourceStreamId,ps=Bn.e2ee,Es=Bn.publisherAudioFallbackEnabled,Ds=Bn.customProperties;if(!Ns){_a.warn("You are disconnected, cannot create stream ",Nr);return}Ns.streamCreate({name:ur,streamId:Nr,subscriberAudioFallbackEnabled:jr,channels:Go,minBitrate:Yo,maxBitrate:void 0,sourceStreamId:Ws,e2ee:ps,publisherAudioFallbackEnabled:Es,customProperties:Ds},Wn)},streamDestroy(or,Wn){if(!Ns){_a.warn("You are disconnected, cannot destroy stream ",or);return}Ns.streamDestroy(or,Wn)},streamChannelUpdate(or,Wn,Bn){if(!Ns){_a.warn("You are disconnected, cannot update stream properties ",Bn);return}Ns.streamChannelUpdate(or.id,Wn.id,Bn)},setSocket(or){Ns=or},setLogging(or){_a=or},setState:dp,setIceServers(or){or&&(oo={iceServers:cn(or),timestamp:Date.now()})},getOtIceServerInfo(){const or=oo?Date.now()-oo.timestamp:1/0,Bn=24*60*60*1e3-or,ur=5*60*1e3;if(Bn>ur)return nt.resolve({transportPolicy:Ys&&Ys.sessionInfo&&Ys.sessionInfo.clientCandidates,servers:oo&&oo.iceServers});if(!Pu)return nt.resolve({transportPolicy:Ys&&Ys.sessionInfo&&Ys.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0});const Nr=cr.clientVersion;return vr({anvilUrl:(this.staticConfig||cr).apiUrl,sessionId:wo,token:Pu,connectionId:_r,clientVersion:Nr}).then(jr=>(Ys._.setIceServers(jr.iceServers),oo?{transportPolicy:Ys&&Ys.sessionInfo&&Ys.sessionInfo.clientCandidates,servers:oo&&oo.iceServers}:{transportPolicy:Ys.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0}))},getCodecFlags:()=>({h264:Ys.sessionInfo.h264,vp9:Ys.sessionInfo.vp9,vp8:Ys.sessionInfo.vp8}),getVideoCodecsCompatible:or=>gt({RTCPeerConnection:Yn.RTCPeerConnection,env:Vn.env,stream:or,codecFlags:Ys._.getCodecFlags()}),getIceConfig:()=>{if(!Oo)return Ys._.getOtIceServerInfo();const or=(()=>Oo&&Oo.transportPolicy==="relay"?"relay":Ys.sessionInfo.clientCandidates)();return(Oo.includeServers==="custom"?nt.resolve({servers:[]}):Ys._.getOtIceServerInfo()).then(Bn=>dt(Bn,{transportPolicy:or,servers:[...Bn.servers,...Oo.customServers]}))},forceMute:function(or){this.dispatchEvent(new In.MuteForcedEvent(or))}.bind(this),enableMuteOnEntry:()=>{_h=!0},addSubscriberToPeerConnectionsQueue:(or,Wn)=>{yu.push({pc:or,message:Wn}),bu||(bu=setInterval(()=>{const Bn=yu.shift();Bn?Bn.pc.processMessage("offer",Bn.message):(clearInterval(bu),bu=null)},100))},disableMuteOnEntry:()=>{_h=!1},privateEvents:new st},this.signal=function(or,Wn){let Bn=or,ur=Wn||function(){};if(lt(Bn)&&(ur=Bn,Bn=null),this.isNot("connected")){const jr="Unable to send signal - you are not connected to the session.";Su(En(pn.NOT_CONNECTED,new Error(jr),500),ur);return}function Nr(jr){switch(jr){case 400:case 413:return pn.INVALID_PARAMETER;case 429:return pn.RATE_LIMIT_EXCEEDED;case 404:return pn.NOT_FOUND;case 500:return pn.NOT_CONNECTED;case 403:return pn.PERMISSION_DENIED;case 2001:return pn.UNEXPECTED_SERVER_RESPONSE;default:return}}Ns.signal(Bn,function(jr){if(jr){const ps=Nr(jr.code);ps&&(jr=En(ps,new Error(jr.message),jr.code)),ur(jr);return}for(var Go=arguments.length,Yo=new Array(Go>1?Go-1:0),Ws=1;Ws<Go;Ws++)Yo[Ws-1]=arguments[Ws];ur(jr,...Yo)},this.logEvent),or&&or.data&&typeof or.data!="string"&&_a.warn("Signaling of anything other than Strings is deprecated. Please update the data property to be a string.")},this.forceDisconnect=function(or,Wn){if(this.isNot("connected")){const jr="Cannot call forceDisconnect(). You are not connected to the session.";Su(En(pn.NOT_CONNECTED,new Error(jr),yn.NOT_CONNECTED),Wn);return}const Bn=typeof or=="string"?or:or.id,ur="Invalid Parameter. Check that you have passed valid parameter values into the method call.";if(!Bn){Su(En(pn.INVALID_PARAMETER,new Error(ur),yn.INVALID_PARAMETER),Wn);return}const Nr="This token does not allow forceDisconnect. The role must be at least `moderator` to enable this functionality";if(!pp("forceDisconnect")){Su(En(pn.PERMISSION_DENIED,new Error(Nr),yn.UNABLE_TO_FORCE_DISCONNECT),Wn);return}Ns.forceDisconnect(Bn,function(jr){if(jr)Su(En(pn.INVALID_PARAMETER,new Error(ur),yn.INVALID_PARAMETER),Wn);else if(Wn&&lt(Wn)){for(var Go=arguments.length,Yo=new Array(Go>1?Go-1:0),Ws=1;Ws<Go;Ws++)Yo[Ws-1]=arguments[Ws];Wn(jr,...Yo)}})},this.forceUnpublish=function(or,Wn){Wn===void 0&&(Wn=()=>{});const Bn=ps=>Su(En(ps.name,new Error(ps.msg),ps.code),Wn),ur={msg:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",code:yn.INVALID_PARAMETER,name:pn.INVALID_PARAMETER},Nr={msg:"Cannot call forceUnpublish(). You are not connected to the session.",code:yn.NOT_CONNECTED,name:pn.NOT_CONNECTED},jr={msg:"This token does not allow forceUnpublish. The role must be at least `moderator` to enable this functionality",code:yn.UNABLE_TO_FORCE_UNPUBLISH,name:pn.PERMISSION_DENIED},Go={msg:"The stream does not exist.",name:pn.NOT_FOUND},Yo={msg:"An unexpected error occurred.",name:pn.UNEXPECTED_SERVER_RESPONSE,code:yn.UNEXPECTED_SERVER_RESPONSE};if(!or){Bn(ur);return}if(ro.isNot("connected")){Bn(Nr);return}const Ws=cu(or);if(!pp("forceUnpublish")){Bn(jr);return}Ns.forceUnpublish(Ws.id,ps=>{if(!ps){Wn(null);return}ps.code==="404"?Bn(Go):ps.code==="403"?Bn(jr):Bn(Yo)})},this.forceMuteStream=or=>new nt((Wn,Bn)=>{const ur=Ql();if(ur){Bn(ur);return}if(!or||!or.id){Bn(Yu(rr.INVALID_PARAMETER));return}Ns.forceMuteStream(or.id,Nr=>{Nr?Bn(Hp(Nr)):Wn()})}),this.forceMuteAll=or=>new nt((Wn,Bn)=>{const ur=Ql();if(ur){Bn(ur);return}if(Array.isArray(or)&&!or.every(jr=>jr instanceof Cn)||or&&!Array.isArray(or)){Bn(Yu(rr.INVALID_PARAMETER));return}const Nr=(or||[]).map(jr=>jr.id);Ns.forceMuteAll(Nr,!0,jr=>{jr?Bn(Hp(jr)):Wn()})}),this.disableForceMute=()=>new nt((or,Wn)=>{const Bn=Ql();if(Bn){Wn(Bn);return}Ns.forceMuteAll([],!1,ur=>{ur?Wn(Hp(ur)):or()})}),this.setEncryptionSecret=function(){var or=(0,ot.default)(it.default.mark(function Wn(Bn){return it.default.wrap(function(Nr){for(;;)switch(Nr.prev=Nr.next){case 0:if(_o){Nr.next=3;break}return Hn.error("Encryption secret must first be set in initSession."),Nr.abrupt("return");case 3:Nr.prev=3,Nt(Bn),Nr.next=10;break;case 7:throw Nr.prev=7,Nr.t0=Nr.catch(3),En(pn.INVALID_ENCRYPTION_SECRET,new Error(`setEncryptionSecret: ${Nr.t0.message}`));case 10:return Nr.prev=10,Nr.next=13,ro.keyStore.set(wo,Bn);case 13:Nr.next=18;break;case 15:Nr.prev=15,Nr.t1=Nr.catch(10),_a.error(`Error in setEncryptionSecret}: ${Nr.t1.message}`);case 18:case"end":return Nr.stop()}},Wn,null,[[3,7],[10,15]])}));return function(Wn){return or.apply(this,arguments)}}(),this.isConnected=()=>this.is("connected"),this.capabilities=new dn([],{hasE2eeCapability:Xn})}}}).call(this,et(0))},function(_e,tt,et){const nt=et(10),rt=et(22),it=[400,403,409,nt.CONNECTION_LIMIT_EXCEEDED],ot={CONNECT:"ConnectToSession",SESSION_STATE:"GetSessionState"};_e.exports=function(at){let ct,lt;if(at.reason===ot.CONNECT&&at.code===nt.CONNECT_FAILED)ct=at.code,lt=rt.getTitleByCode(at.code);else if(at.code&&it.indexOf(Number(at.code))>-1)switch(ct=nt.CONNECT_FAILED,at.reason){case ot.CONNECT:switch(at.code){case nt.CONNECTION_LIMIT_EXCEEDED:ct=at.code,lt="Cannot connect -- the limit for concurrent connections to the session has been reached";break;default:lt="Received error response to connection create message.";break}break;case ot.SESSION_STATE:lt="Received error response to session read";break;default:lt="";break}else ct=nt.UNEXPECTED_SERVER_RESPONSE,lt="Unexpected server response. Try this operation again later.";return{code:ct,message:lt}}},function(_e,tt,et){const nt=et(2),rt=et(51).once;_e.exports=()=>rt()&&(nt.isChromiumEdge||["Chrome","Safari","Firefox","Opera"].includes(nt.name))},function(_e,tt,et){_e.exports=function(rt){return JSON.stringify(rt)}},function(_e,tt){function et(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}_e.exports=et},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=rt=>{let it=rt.logger,ot=rt.obj;rt.eventNames.forEach(at=>{ot.on(at,function(){for(var ct=arguments.length,lt=new Array(ct),dt=0;dt<ct;dt++)lt[dt]=arguments[dt];return it.spam("emitted",at,lt)})})};tt.default=nt},function(_e,tt,et){const nt=et(16),rt=et(22),it=et(6),ot=et(1)("Dispatcher"),st=et(171),at=et(749),ct=function(){it(this),this.callbacks={}};_e.exports=ct,ct.prototype.registerCallback=function(lt,dt){this.callbacks[lt]=dt},ct.prototype.triggerCallback=function(lt){if(!lt)return;const dt=this.callbacks[lt];if(dt&&nt(dt)){const ut=Array.prototype.slice.call(arguments);ut.shift(),dt(...ut)}delete this.callbacks[lt]},ct.prototype.onClose=function(lt){this.emit("close",lt)},ct.prototype.onReconnected=function(){this.emit("reconnected")},ct.prototype.onReconnecting=function(){this.emit("reconnecting")},ct.prototype.dispatch=function(lt){if(lt.type===st.STATUS){var dt;ot.debug(lt);let ft;if(lt.isError){let yt;if(typeof lt.data=="string")try{const Tt=JSON.parse(lt.data);Tt&&typeof Tt=="object"&&(yt=Tt.reason)}catch(Tt){ot.warn("Failed to parse rumorMessage.data",Tt)}ft=new rt(lt.status,yt)}const pt=lt.data?JSON.parse(lt.data):"";pt!=null&&(dt=pt.mute)!=null&&dt.active&&this.dispatchMuteOnEntry(),this.triggerCallback(lt.transactionId,ft,lt);return}const ut=at(lt);switch(ot.debug(`${ut.signature}:`,ut),ut.resource){case"session":this.dispatchSession(ut);break;case"connection":this.dispatchConnection(ut);break;case"stream":this.dispatchStream(ut);break;case"stream_channel":this.dispatchStreamChannel(ut);break;case"subscriber":this.dispatchSubscriber(ut);break;case"subscriber_channel":this.dispatchSubscriberChannel(ut);break;case"signal":this.dispatchSignal(ut);break;case"data":this.dispatchCaption(ut);break;case"archive":this.dispatchArchive(ut);break;case"source":this.dispatchSource(ut);break;default:ot.debug(`Type ${ut.resource} is not currently implemented`)}},ct.prototype.dispatchSession=function(lt){switch(lt.method){case"read":this.emit("session#read",lt.content,lt.transactionId);break;case"update":this.emit("session#update",lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchMuteOnEntry=function(){this.emit("session#muted")},ct.prototype.dispatchConnection=function(lt){switch(lt.method){case"created":this.emit("connection#created",lt.content);break;case"deleted":this.emit("connection#deleted",lt.params.connection,lt.reason);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchStream=function(lt){switch(lt.method){case"created":this.emit("stream#created",lt.content,lt.transactionId);break;case"deleted":this.emit("stream#deleted",lt.params.stream,lt.reason,lt.content);break;case"updated":this.emit("stream#updated",lt.params.stream,lt.content);break;case"update":this.emit("stream#update",lt.params.stream,lt.content);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(lt.method,lt);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchStreamChannel=function(lt){switch(lt.method){case"updated":this.emit("streamChannel#updated",lt.params.stream,lt.params.channel,lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchJsep=function(lt,dt){this.emit(`jsep#${lt}`,dt.params.stream,dt.fromAddress,dt)},ct.prototype.dispatchSubscriberChannel=function(lt){switch(lt.method){case"updated":this.emit("subscriberChannel#updated",lt.params.stream,lt.params.channel,lt.content);break;case"update":this.emit("subscriberChannel#update",lt.params.subscriber,lt.params.stream,lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchSubscriber=function(lt){switch(lt.method){case"created":this.emit("subscriber#created",lt.params.stream,lt.fromAddress,lt.content.id);break;case"deleted":this.dispatchJsep("unsubscribe",lt),this.emit("subscriber#deleted",lt.params.stream,lt.fromAddress);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(lt.method,lt);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchSignal=function(lt){if(lt.method!=="signal"){ot.debug(`${lt.signature} is not currently implemented`);return}this.emit("signal",lt.fromAddress,lt.content)},ct.prototype.dispatchCaption=function(lt){this.emit("caption",lt.fromAddress,lt.content)},ct.prototype.dispatchArchive=function(lt){switch(lt.method){case"created":this.emit("archive#created",lt.content);break;case"updated":this.emit("archive#updated",lt.params.archive,lt.content);break}},ct.prototype.dispatchSource=function(lt){switch(lt.method){case"create":this.emit("source#create",lt.params.source,lt.params.stream,lt.reason);break;case"delete":this.emit("source#delete",lt.params.source,lt.params.stream,lt.reason);break;default:ot.debug(`${lt.signature} is not currently implemented`)}}},function(_e,tt,et){const nt=et(15),rt=et(8),it=et(752),ot=et(753),st=et(323),at=et(754),ct=et(34)().onlyLocal(),lt={};_e.exports=lt,lt.connections={},lt.connections.create=function(dt){const ut=dt.apiKey,ft=dt.sessionId,pt=dt.connectionId,yt=dt.connectionEventsSuppressed,Tt=dt.capabilities;return st({method:"create",uri:`/v2/partner/${ut}/session/${ft}/connection/${pt}`,content:{userAgent:rt.env.userAgent,clientVersion:ct.clientVersion,capabilities:Tt||[],connectionEventsSuppressed:yt}})},lt.connections.destroy=function(dt){const ut=dt.apiKey,ft=dt.sessionId,pt=dt.connectionId;return st({method:"delete",uri:`/v2/partner/${ut}/session/${ft}/connection/${pt}`,content:{}})},lt.sessions={},lt.sessions.get=function(dt,ut){return st({method:"read",uri:`/v2/partner/${dt}/session/${ut}`,content:{}})},lt.streams={},lt.streams.get=function(dt,ut,ft){return st({method:"read",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}`,content:{}})},lt.streams.channelFromOTChannel=function(dt){const ut={id:dt.id,type:dt.type,active:dt.active};return dt.type==="video"&&(ut.width=dt.width,ut.height=dt.height,ut.orientation=dt.orientation,ut.frameRate=dt.frameRate,dt.source!=="default"&&(ut.source=dt.source),ut.fitMode=dt.fitMode),ut},lt.streams.create=function(dt){dt===void 0&&(dt={});const ut=dt,ft=ut.apiKey,pt=ut.sessionId,yt=ut.streamId,Tt=ut.name,ht=ut.audioFallbackEnabled,gt=ut.publisherAudioFallbackEnabled,vt=ut.subscriberAudioFallbackEnabled,Ct=ut.channels,It=ut.minBitrate,Zt=ut.maxBitrate,Mt=ut.sourceStreamId,kt=ut.e2ee,Nt=ut.customProperties,Lt={id:yt,name:Tt,audioFallbackEnabled:ht,publisherAudioFallbackEnabled:gt,subscriberAudioFallbackEnabled:vt,channel:Ct.map(Pt=>lt.streams.channelFromOTChannel(Pt)),e2ee:kt,customProperties:Nt};return It&&(Lt.minBitrate=Math.round(It)),Zt&&(Lt.maxBitrate=Math.round(Zt)),Mt&&(Lt.sourceStreamId=Mt),typeof kt=="boolean"&&(Lt.e2ee=kt),st({method:"create",uri:`/v2/partner/${ft}/session/${pt}/stream/${yt}`,content:Lt})},lt.streams.destroy=function(dt,ut,ft,pt){const yt={};return pt&&(yt.sourceStreamId=pt),st({method:"delete",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}`,content:yt})},lt.streamChannels={},lt.streamChannels.update=function(dt,ut,ft,pt,yt){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/channel/${pt}`,content:yt})},lt.subscribers={},lt.subscribers.create=function(dt){dt===void 0&&(dt={});const ut=dt,ft=ut.apiKey,pt=ut.sessionId,yt=ut.streamId,Tt=ut.subscriberId,ht=ut.connectionId,gt=ut.channelsToSubscribeTo,vt=ut.sourceStreamId,Ct=ut.e2ee,It={id:Tt,connection:ht,keyManagementMethod:at,bundleSupport:it(),rtcpMuxSupport:ot(),e2ee:Ct};return gt&&(It.channel=gt),vt&&(It.sourceStreamId=vt),st({method:"create",uri:`/v2/partner/${ft}/session/${pt}/stream/${yt}/subscriber/${Tt}`,content:It})},lt.subscribers.destroy=function(dt,ut,ft,pt){return st({method:"delete",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}`,content:{}})},lt.subscribers.update=function(dt,ut,ft,pt,yt){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}`,content:yt})},lt.subscriberChannels={},lt.subscriberChannels.update=function(dt,ut,ft,pt,yt,Tt){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}/channel/${yt}`,content:Tt})},lt.signals={},lt.signals.create=function(dt,ut,ft,pt,yt){const Tt={};return pt!==void 0&&(Tt.type=pt),yt!==void 0&&(Tt.data=yt),st({method:"signal",uri:`/v2/partner/${dt}/session/${ut}${ft!==void 0?`/connection/${ft}`:""}/signal/${nt()}`,content:Tt})},lt.forceMute={},lt.forceMute.update=dt=>{const ut=dt.apiKey,ft=dt.sessionId,pt=dt.streamId,yt=dt.active,Tt=dt.excludedStreamIds,ht={reason:"mute",channels:["audio"],active:yt,locked:!1};return Tt&&(ht.exclusion=Tt),st({method:"update",uri:`/v2/partner/${ut}/session/${ft}${pt?`/stream/${pt}`:""}`,content:ht})}},function(_e,tt,et){const nt=et(37),rt=et(70),it=et(172),ot=et(327),st=et(329),at=8192,ct=128;_e.exports=function(dt,ut,ft){const pt=function(Ct){return!/^[a-zA-Z0-9\-\._~]+$/.exec(Ct)},yt=function(Ct){return Ct?Ct instanceof it||Ct._tag===st?null:{code:400,reason:"The To field was invalid"}:{code:400,reason:"The signal to field was invalid. Either set it to a OT.Connection, OT.Session, or omit it entirely"}},Tt=function(Ct){let It=null;return Ct==null?It={code:400,reason:"The signal type was null or undefined. Either set it to a String value or omit it"}:Ct.length>ct?It={code:413,reason:`The signal type was too long, the maximum length of it is ${ct} characters`}:pt(Ct)&&(It={code:400,reason:"The signal type was invalid, it can only contain letters, numbers, '-', '_', and '~'."}),It},ht=function(Ct){let It=null;if(Ct==null)It={code:400,reason:"The signal data was null or undefined. Either set it to a String value or omit it"};else try{JSON.stringify(Ct).length>at&&(It={code:413,reason:`The data field was too long, the maximum size of it is ${at} characters`})}catch{It={code:400,reason:"The data field was not valid JSON"}}return It},gt=function(Ct){let It=null;return Ct===!0||Ct===!1||(It={code:400,reason:"The signal retryAfterReconnect was not true or false. Either set it to a Boolean value or omit it"}),It};this.toRaptorMessage=function(){let vt=this.to;return vt&&typeof vt!="string"&&(vt=vt.id),ot.signals.create(rt.value,dt,vt,this.type,this.data)},this.toHash=function(){return ft},this.error=null,this.retryAfterReconnect=!0,ft&&(ft.hasOwnProperty("data")&&(this.data=nt(ft.data),this.error=ht(this.data)),ft.hasOwnProperty("to")&&(this.to=ft.to,this.error||(this.error=yt(this.to))),ft.hasOwnProperty("type")&&(this.error||(this.error=Tt(ft.type)),this.type=ft.type),ft.hasOwnProperty("retryAfterReconnect")&&(this.error||(this.error=gt(ft.retryAfterReconnect)),this.retryAfterReconnect=ft.retryAfterReconnect)),this.valid=this.error===null}},function(_e,tt,et){_e.exports={}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(331),st=et(49),at=et(172),ct=et(757),lt=et(326),dt=et(1)("SessionDispatcher"),ut=et(21),ft=et(170),pt=et(150),yt=et(167);function Tt(Mt){return{id:Mt,creationTime:new Date().getTime(),data:{},capablities:{},permissions:[]}}function ht(Mt,kt){const Nt=Mt.channel.map(Pt=>new pt(Pt)),Lt=Mt.connectionId?Mt.connectionId:Mt.connection.id;return new ft(Mt.id,Mt.name,Mt.creationTime,kt.connections.get(Lt),kt,Nt,Mt.customProperties&&Mt.customProperties.initials)}function gt(Mt,kt){if(kt.streams.has(Mt.id))return;const Nt=ht(Mt,kt);return kt.streams.add(Nt),Nt}function vt(Mt){return new ot(Mt.id,Mt.name,Mt.status)}function Ct(Mt,kt){if(kt.archives.has(Mt.id))return;const Nt=vt(Mt);return kt.archives.add(Nt),Nt}const It=function(kt){const Nt={};this.enqueue=function(){const Pt=arguments[0],cn=Array.prototype.slice.call(arguments,1);Nt[Pt]||(Nt[Pt]=new ct(kt)),Nt[Pt].enqueue.apply(Nt[Pt],cn)},this.triggerConnectionCreated=function(Pt){Nt[`connectionCreated${Pt.id}`]&&Nt[`connectionCreated${Pt.id}`].triggerAll()},this.triggerSessionConnected=function(Pt){Nt.sessionConnected&&Nt.sessionConnected.triggerAll(),Pt.forEach(function(cn){this.triggerConnectionCreated(cn)},this)}},Zt={};_e.exports=function(kt,Nt){let Lt=Nt===void 0?{}:Nt,Pt=Lt.connectionEventsSuppressed;const cn=new lt;let Jt=!1;const Bt=new It(cn);cn.on("reconnecting",()=>{kt._.reconnecting()}),cn.on("reconnected",()=>{kt._.reconnected()}),cn.on("close",Tn=>{const pn=kt.connection;if(pn){if(pn.destroyedReason()){dt.debug(`Socket was closed but the connection had already been destroyed. Reason: ${pn.destroyedReason()}`);return}pn.destroy(Tn)}});const dn=function(pn,In){return kt.connections.has(pn.id)?kt.connections.get(pn.id):(pn=at.fromHash(pn),(In||kt.connection&&pn.id!==kt.connection.id)&&(kt.connections.add(pn),Bt.triggerConnectionCreated(pn)),Object.keys(Zt).forEach(Cn=>{const yn=Zt[Cn];if(yn&&pn.id===yn.connection.id){gt(yn,kt),delete Zt[yn.id];const bn={debug:In?"connection came in session#read":"connection came in connection#created",streamId:yn.id,connectionId:pn.id};kt.logEvent("streamCreated","warning",bn)}}),pn)};cn.on("session#read",(Tn,pn)=>{let In;const Cn={};Cn.streams=[],Cn.connections=[],Cn.archives=[],Tn.connection.forEach(yn=>{In=dn(yn,!0),Cn.connections.push(In)}),Tn.stream.forEach(yn=>{Cn.streams.push(gt(yn,kt))}),(Tn.archive||Tn.archives).forEach(yn=>{Cn.archives.push(Ct(yn,kt))}),cn.triggerCallback(pn,null,Cn),Jt=!0,Bt.triggerSessionConnected(kt.connections)}),cn.on("session#update",Tn=>{if(Tn.reason!=="mute"){dt.debug("session#update that handle this reason is not currently implemented");return}const pn=Tn.active===!0;kt._.forceMute({active:pn}),pn?kt._.enableMuteOnEntry():kt._.disableMuteOnEntry()}),cn.on("session#muted",()=>{kt._.enableMuteOnEntry(),kt._.forceMute({active:!0})}),cn.on("connection#created",Tn=>{dn(Tn)}),cn.on("connection#deleted",(Tn,pn)=>{if(Tn=kt.connections.get(Tn),!Tn){dt.warn("A connection was deleted that we do not know about");return}Tn.destroy(pn)}),cn.on("stream#created",(Tn,pn)=>{const In=Tn.id,Cn=Tn.sourceStreamId,yn=Tn.connection;let bn;if(Pt){if(yn==null||yn.id==null){kt.logEvent("SessionDispatcher:stream#created","Event",{connection:yn,info:"Stream did not contain a connection object. Event ignored"});return}dn(yn)}const Xn=Tn.connectionId||yn.id;if(kt.connections.has(Xn))bn=gt(Tn,kt);else{Zt[In]=Tn;const Hn={debug:"eventOrderError -- streamCreated event before connectionCreated",streamId:In,sourceStreamId:yt(Cn)};kt.logEvent("streamCreated","warning",Hn)}bn?(bn.publisher&&bn.publisher.setStream(bn),cn.triggerCallback(pn,null,bn)):kt.sessionInfo.isAdaptiveEnabled&&Cn==="P2P"&&ut.subscribers.where({streamId:In}).forEach(Hn=>{Hn._.startRoutedToRelayedTransition()})}),cn.on("stream#deleted",(Tn,pn,In)=>{const Cn=kt.streams.get(Tn),yn=In.sourceStreamId,bn=ut.subscribers,Hn=kt.sessionInfo.isAdaptiveEnabled&&yn==="P2P";!Cn&&!Hn||(Hn?bn.where({streamId:Tn}).forEach(En=>{En._.startRelayedToRoutedTransition()}):Cn.destroy(pn))}),cn.on("stream#updated",(Tn,pn)=>{const In=kt.streams.get(Tn);if(!In){dt.error(`A stream does not exist with the id of ${Tn}, for stream#updated message!`);return}In._.update(pn)}),cn.on("stream#update",(Tn,pn)=>{const In=kt.streams.get(Tn),Cn=pn.reason,yn=pn.active;if(!In){dt.error(`A stream does not exist with the id of ${Tn}, for stream#updated message!`);return}if(Cn!=="mute"){dt.debug("stream#update that handle this reason is not currently implemented");return}yn&&In._.forceMute(pn)}),cn.on("streamChannel#updated",(Tn,pn,In)=>{let Cn;if(!(Tn&&(Cn=kt.streams.get(Tn)))){dt.error("Unable to determine streamId, or the stream does not exist, for streamChannel message!");return}Cn._.updateChannel(pn,In)});const vn=(Tn,pn,In,Cn)=>{let yn,bn;const Xn={streamId:pn},Hn=ut.subscribers,En=ut.publishers;switch(Cn.params.subscriber?yn={widgetId:Cn.params.subscriber}:yn=Xn,Tn){case"offer":bn=[].concat(Hn.where(yn),En.where(Xn)).slice(0,1);break;case"answer":case"pranswer":bn=[].concat(En.where(Xn),Hn.where(yn)).slice(0,1);break;case"generateoffer":case"unsubscribe":bn=En.where(Xn);break;case"candidate":bn=[].concat(Hn.where(yn),En.where(Xn));break;default:dt.debug(`jsep#${Tn} is not currently implemented`);return}if(bn.length===0)return;let Zn=kt.connections.get(In);!Zn&&In.match(/^symphony\./)&&(Zn=at.fromHash({id:In,creationTime:Math.floor(st())}),kt.connections.add(Zn)),bn.forEach(function(){var Vn=(0,it.default)(rt.default.mark(function rr(gr){return rt.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.prev=0,sr.next=3,gr.processMessage(Tn,In,Cn);case 3:sr.next=8;break;case 5:sr.prev=5,sr.t0=sr.catch(0),dt.error("Error occurred during processMessage",sr.t0);case 8:case"end":return sr.stop()}},rr,null,[[0,5]])}));return function(rr){return Vn.apply(this,arguments)}}())};return cn.on("jsep#offer",vn.bind(null,"offer")),cn.on("jsep#answer",vn.bind(null,"answer")),cn.on("jsep#pranswer",vn.bind(null,"pranswer")),cn.on("jsep#generateoffer",vn.bind(null,"generateoffer")),cn.on("jsep#unsubscribe",vn.bind(null,"unsubscribe")),cn.on("jsep#candidate",vn.bind(null,"candidate")),cn.on("subscriberChannel#updated",(Tn,pn,In)=>{if(!Tn||!kt.streams.has(Tn)){dt.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#updated message!");return}kt.streams.get(Tn)._.updateChannel(pn,In)}),cn.on("subscriberChannel#update",(Tn,pn,In)=>{if(!pn||!kt.streams.has(pn)){dt.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#update message!");return}if(!ut.subscribers.has(Tn)){dt.error("Unable to determine subscriberId, or the subscriber does not exist, for subscriberChannel#update message!");return}ut.subscribers.get(Tn).disableVideo(In.active)}),cn.on("signal",(Tn,pn)=>{if(Pt){let bn=pn.connection||pn.fromConnection;(bn==null||bn.id==null)&&(bn=Tt(Tn),kt.logEvent("SessionDispatcher:Signal","Event",{fromAddress:Tn,connection:pn.connection,fromConnection:pn.fromConnection,info:"Signal did not contain a connection object. One has been constructed",constructedConnection:bn})),dn(bn)}const In=pn.type,Cn=pn.data,yn=kt.connections.get(Tn);kt.connection&&Tn===kt.connection.connectionId?Jt?kt._.dispatchSignal(yn,In,Cn):Bt.enqueue("sessionConnected","signal",Tn,In,Cn):kt.connections.get(Tn)?kt._.dispatchSignal(yn,In,Cn):Tn===""?kt._.dispatchSignal(null,In,Cn):Bt.enqueue(`connectionCreated${Tn}`,"signal",Tn,In,Cn)}),cn.on("caption",(Tn,pn)=>{kt._.dispatchCaption(Tn,pn)}),cn.on("archive#created",Tn=>{Ct(Tn,kt)}),cn.on("archive#updated",(Tn,pn)=>{const In=kt.archives.get(Tn);if(!In){dt.error(`An archive does not exist with the id of ${Tn}, for archive#updated message!`);return}In._.update(pn)}),cn.on("source#create",(Tn,pn,In)=>{const Cn=yt(Tn);kt.logEvent("SessionDispatcher:source#create","Event",{sourceStreamId:Cn,streamId:pn,reason:In}),dt.debug(`Received a request from RUMOR to start a transition to ${Tn} for the stream ID ${pn} with the reason: ${In}`),ut.publishers.where({streamId:pn}).forEach(yn=>{yn._.startRoutedToRelayedTransition()})}),cn.on("source#delete",(Tn,pn,In)=>{kt.logEvent("SessionDispatcher:source#delete","Event",{sourceStreamId:yt(Tn),streamId:pn,reason:In}),dt.debug(`Received a request from RUMOR to start a transition from P2P to MANTIS for the stream ID ${pn} with the reason: ${In}`),ut.publishers.where({streamId:pn}).forEach(Cn=>{Cn._.startRelayedToRoutedTransition()})}),cn}},function(_e,tt,et){const nt=et(23)(),rt=et(6);_e.exports=function(ot,st,at){this.id=ot,this.name=st,this.status=at,this._={},rt(this),this._.update=ct=>{Object.keys(ct).forEach(lt=>{const dt=this[lt];this[lt]=ct[lt];const ut=new nt.ArchiveUpdatedEvent(this,lt,dt,this[lt]);this.dispatchEvent(ut)})},this.destroy=()=>{}}},function(_e,tt,et){const nt=et(24)(),rt=nt.getAudioOutputMediaDevices;_e.exports=()=>rt()},function(_e,tt,et){const nt=et(24)(),rt=nt.getActiveAudioOutputDevice;_e.exports=()=>rt()},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const st=et(21),at=et(106),ct=at.setCurrentAudioOutputDeviceId,lt=et(333),dt=et(24)(),ut=dt.getDefaultAudioOutputDeviceId,ft=dt.getAudioOutputMediaDevices,pt=et(295),yt=et(20),Tt=new yt,ht=(Zt,Mt)=>{Tt.logEvent({action:"updateSubscribersSinkId",variation:Zt,payload:Mt})},gt=Zt=>{const Mt=st.subscribers.map(kt=>kt._.setSinkId(Zt));return nt.all(Mt)},vt=function(){var Zt=(0,ot.default)(it.default.mark(function Mt(kt){return it.default.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,pt();case 2:return Lt.prev=2,ht("Attempt",{deviceId:kt}),Lt.next=6,gt(kt);case 6:ht("Success",{deviceId:kt}),Lt.next=13;break;case 9:throw Lt.prev=9,Lt.t0=Lt.catch(2),ht("Failure",{deviceId:kt,error:Lt.t0==null?void 0:Lt.t0.message}),Lt.t0;case 13:case"end":return Lt.stop()}},Mt,null,[[2,9]])}));return function(kt){return Zt.apply(this,arguments)}}(),Ct=function(){var Zt=(0,ot.default)(it.default.mark(function Mt(){var kt,Nt;return it.default.wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.next=2,ft();case 2:return kt=Pt.sent,Nt=ut(kt),Pt.prev=4,Pt.next=7,vt(Nt);case 7:ct(Nt),Pt.next=12;break;case 10:Pt.prev=10,Pt.t0=Pt.catch(4);case 12:case"end":return Pt.stop()}},Mt,null,[[4,10]])}));return function(){return Zt.apply(this,arguments)}}(),It=function(){var Zt=(0,ot.default)(it.default.mark(function Mt(){var kt;return it.default.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,lt();case 2:return kt=Lt.sent,Lt.prev=3,Lt.next=6,vt(kt.deviceId);case 6:Lt.next=12;break;case 8:return Lt.prev=8,Lt.t0=Lt.catch(3),Lt.next=12,Ct();case 12:case"end":return Lt.stop()}},Mt,null,[[3,8]])}));return function(){return Zt.apply(this,arguments)}}();_e.exports=function(){var Zt=(0,ot.default)(it.default.mark(function Mt(kt){return it.default.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.prev=0,ht("Attempt",{deviceId:kt}),Lt.next=4,gt(kt);case 4:ht("Success",{deviceId:kt}),ct(kt),Lt.next=14;break;case 8:return Lt.prev=8,Lt.t0=Lt.catch(0),ht("Failure",{deviceId:kt,error:Lt.t0==null?void 0:Lt.t0.message}),Lt.next=13,It();case 13:throw Lt.t0;case 14:case"end":return Lt.stop()}},Mt,null,[[0,8]])}));return function(Mt){return Zt.apply(this,arguments)}}()}).call(this,et(0))},function(_e,tt,et){et(336);const nt=et(37),rt=et(26),it=et(6),ot=et(128),st=et(34)(),at=et(20),ct=et(248),lt=et(563),dt=et(564),ut=st.onlyLocal(),ft={};ft.noConflict=et(565)(),(typeof window!==void 0?window:commonjsGlobal).OT=ft,_e.exports=ft,(()=>{let ko=ft;Object.defineProperty(typeof window!==void 0?window:commonjsGlobal,"TB",{get:()=>(ko===ft&&console.warn("window.TB is deprecated, and will be removed in the future. Please access via window.OT"),ko),set:ls=>{ko=ls},configurable:!0})})();const pt=et(143)(typeof window!==void 0?window:commonjsGlobal),yt=et(8),Tt=et(70),ht=et(144),gt=et(251),vt=et(145),Ct=et(146),It=et(252),Zt=et(147),Mt=et(7),kt=et(10),Nt=et(253),Lt=et(240),Pt=et(1)("OT"),cn=et(121),Jt=et(592),Bt=et(22),dn=et(102),vn=dn.parseIceServers,Tn=et(266),pn=et(21),In=et(150),Cn=et(152),yn=et(153),bn=et(71)({global:pt}),Xn=et(13)({}),Hn=et(158)(),En=et(280)({otError:Xn}),Zn=et(281)(),Vn=et(287)({global:pt}),rr=et(24)({getNativeEnumerateDevices:Vn}),gr=et(23)(),cr=et(160)(),sr=et(647)({otError:Xn,global:pt}),Or=et(161)({chromeExtensionHelper:En,otError:Xn}),Rr=et(652)({deviceHelpers:rr,generateConstraintInfo:Nt,getUserMediaHelper:sr,global:pt,OTHelpers:yt,screenSharing:Or}),Yr=et(655)({otError:Xn,processPubOptions:Rr}),Fr=et(162)({otError:Xn}),Qr=et(73),vo=et(292)(),Lr=et(293)({otError:Xn}),Pr=et(294)({global:pt,videoElementErrorMap:Lr}),qn=et(163)({global:pt}),Yn=et(296)({PeerConnection:bn,setCertificates:qn}),vr=et(300)({PeerConnection:bn,setCertificates:qn}),Dr=et(302)(),ho=et(675)({otError:Xn}),er=et(109)({NativeVideoElementWrapper:Pr}),Ir=et(151)(),Wr=et(164)({VideoElementFacade:er}),mo=et(305)({interpretPeerConnectionError:Fr,otError:Xn,SubscriberPeerConnection:vr,WidgetView:Wr}),Jr=et(168)({APIKEY:Tt,createChromeMixin:Zn,deviceHelpers:rr,EnvironmentLoader:Zt,Errors:Mt,Events:gr,ExceptionCodes:kt,calculateCapableSimulcastStreams:gt,global:pt,interpretPeerConnectionError:Fr,IntervalRunner:Qr,Microphone:vo,otError:Xn,OTErrorClass:Bt,OTHelpers:yt,parseIceServers:vn,processPubOptions:Rr,PUBLISH_MAX_DELAY:Tn,PublisherPeerConnection:Yn,PublishingState:Dr,StreamChannel:In,systemRequirements:yn,VideoOrientation:Ir,WidgetView:Wr}),To=et(319)({otError:Xn,Publisher:Jr}),wo=et(320)({global:pt,initPublisher:To,otError:Xn,Publisher:Jr,Subscriber:mo}),xo=et(767)({Session:wo});it(ft);const ro=et(768),Ho=et(771),Oo=et(772);ct(ft,"$",{name:"OT.$",getMessage:"Please use an external library like jQuery to select elements from the page.",value:yt}),ft.APIKEY=Tt.value,ft.AnalyserAudioLevelSampler=Ct,ft.Archive=et(331),ft.ArchiveEvent=gr.ArchiveEvent,ft.ArchiveUpdatedEvent=gr.ArchiveUpdatedEvent,ft.AudioLevelTransformer=ht,ft.AudioLevelUpdatedEvent=gr.AudioLevelUpdatedEvent,ft.Capabilities=et(169),ft.Chrome=vt,ft.Connection=et(172),ft.ConnectionCapabilities=ft.Connection.Capabilities,ft.ConnectionEvent=gr.ConnectionEvent,Object.keys(cn).forEach(ko=>{ft[ko.toUpperCase()]=cn[ko].priority}),ft.NONE=0,ft.debug=Pt.debug,ft.error=Pt.error,ft.info=Pt.info,ft.log=Pt.log,ft.warn=Pt.warn,ft.DestroyedEvent=gr.DestroyedEvent,ft.EnvLoadedEvent=gr.EnvLoadedEvent,ft.Error=Bt,ft.Error.on(rt.EXCEPTION,ko=>{if(ko.target===ft.Error){const ls=nt(ko);ls.target=ft,ft.dispatchEvent(ls)}else ft.dispatchEvent(ko)}),ft.Event=ot,ft.ExceptionCodes=kt,ft.ExceptionEvent=gr.ExceptionEvent,ft.getDevices=et(773),ft.getAudioOutputDevices=et(332),ft.getActiveAudioOutputDevice=et(333),ft.setAudioOutputDevice=et(774)(),ft.GetAudioLevelSampler=It,ft.HAS_REQUIREMENTS=1,ft.IntervalRunner=Qr,ft.IssueReportedEvent=gr.IssueReportedEvent,ft.MediaStoppedEvent=gr.MediaStoppedEvent,ft.Microphone=vo,ft.NOT_HAS_REQUIREMENTS=0,ft.PeerConnection=bn,ft.PeerConnection.QOS=et(278).default,ft.Publisher=Jr,ft.PublisherPeerConnection=Yn,ft.PublishingState=Dr,ft.MuteForcedEvent=gr.MuteForcedEvent,ft.Session=wo,ft.SessionConnectEvent=gr.SessionConnectEvent,ft.SessionDisconnectEvent=gr.SessionDisconnectEvent,ft.SessionDispatcher=et(330),ft.Signal=et(328),ft.SignalEvent=gr.SignalEvent,ft.Stream=et(170),ft.StreamChannel=In,ft.StreamEvent=gr.StreamEvent,ft.StreamPropertyChangedEvent=gr.StreamPropertyChangedEvent,ft.StreamUpdatedEvent=gr.StreamUpdatedEvent,ft.StylableComponent=Cn,ft.Subscriber=mo,ft.SubscriberPeerConnection=vr,ft.SubscribingState=et(308),ft.VideoDimensionsChangedEvent=gr.VideoDimensionsChangedEvent,ft.VideoDisableWarningEvent=gr.VideoDisableWarningEvent,ft.VideoElement=er,ft.VideoEnabledChangedEvent=gr.VideoEnabledChangedEvent,ft.VideoOrientation=Ir,ft.WidgetView=Wr,ft.getSupportedCodecs=ro,ft.hasMediaProcessorSupport=Ho,ft.hasEndToEndEncryptionSupport=Oo,ft._={AnalyticsHelper:at,getClientGuid:Lt.get,StaticConfig:st},Object.defineProperty(ft,"version",{value:ut.version});const Do={},so=ko=>dt.includes(ko);ct(Do,"version",{value:ut.version,name:"OT.properties.version",getWarning:"Please use OT.version instead",warnOnSet:!0,setWarning:"Mutating version has no effect"}),lt.forEach(ko=>{let ls,_s;if(Array.isArray(ko)){const Ns=ko[0],Rl=ko[1];_s=Ns,ls=ut[Rl]||Rl}else ls=ut[ko],_s=ko;const cu=so(_s);ct(Do,_s,{value:ls,name:`OT.properties.${_s}`,warnOnSet:!0,canSet:cu,setWarning:cu?`Mutating ${_s} can cause side effects`:`Mutating ${_s} has no effect`})}),ft.properties=Do,ft.audioContext=Hn,ft.checkScreenSharingCapability=Or.checkCapability,ft.checkSystemRequirements=yn.check,ft.components={},ft.generateSimpleStateMachine=cr,ft.getErrorTitleByCode=Bt.getTitleByCode,ft.getLogs=Pt.getLogs,ft.getStatsAdpater=et(274),ft.getStatsHelpers=et(75),ft.getUserMedia=Yr,ft.handleJsException=Bt.handleJsException,ft.initPublisher=To,ft.setProxyUrl=et(101).setProxyUrl,ft.initSession=function(ko,ls,_s){return ls==null&&(ls=ko,ko=null),Tt.value.length===0&&ko&&(Tt.value=ko,ft.APIKEY=ko),xo(ko,ls,_s)};const Nu=ko=>`${ko} is deprecated and will be removed in a future version of OpenTok`,_o=(ko,ls)=>()=>(console.warn(Nu(ko)),ls);Object.defineProperties(ft,{isUnloaded:{get:_o("OT.isUnloaded",Zt.isUnloaded)},onLoad:{get:_o("OT.onLoad",Zt.onLoad)},onUnload:{get:_o("OT.onUnload",Zt.onUnload)},overrideGuidStorage:{get:_o("OT.overrideGuidStorage",Lt.override)}}),ft.pickScreenSharingHelper=Or.pickHelper,ft.publishers=pn.publishers,ft.registerScreenSharingExtension=Or.registerExtension,ft.registerScreenSharingExtensionHelper=Or.registerExtensionHelper,ft.reportIssue=ho,ft.sessions=pn.sessions,ft.setLogLevel=Jt,ft.shouldLog=Pt.shouldLog,ft.subscribers=pn.subscribers,ft.unblockAudio=et(166),ft.upgradeSystemRequirements=yn.upgrade,Zt.onUnload(()=>{pn.publishers.destroy(),pn.subscribers.destroy(),pn.sessions.destroy("unloaded")}),et(775)()},function(_e,tt,et){var nt=et(337);typeof nt=="string"&&(nt=[[_e.i,nt,""]]);var rt,it={hmr:!0};it.transform=rt,it.insertInto=void 0,et(351)(nt,it),nt.locals&&(_e.exports=nt.locals)},function(_e,tt,et){tt=_e.exports=et(338)(!1);var nt=et(339),rt=nt(et(340)),it=nt(et(341)),ot=nt(et(342)),st=nt(et(343)),at=nt(et(344)),ct=nt(et(345)),lt=nt(et(346)),dt=nt(et(347)),ut=nt(et(348)),ft=nt(et(349)),pt=nt(et(350));tt.push([_e.i,`/*!
 * Copyright (c) 2017 TokBox, Inc.
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 */

/**
 * OT Base styles
 */

/* Root OT object, this is where our CSS reset happens */
.OT_root,
.OT_root * {
  color: #ffffff;
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font-family: Arial, Helvetica, sans-serif;
  vertical-align: baseline;
}

/**
 * Specific Element Reset
 */

.OT_root h1,
.OT_root h2,
.OT_root h3,
.OT_root h4,
.OT_root h5,
.OT_root h6 {
  color: #ffffff;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 100%;
  font-weight: bold;
}

.OT_root header {

}

.OT_root footer {

}

.OT_root div {

}

.OT_root section {

}

.OT_root video {

}

.OT_root button {

}

.OT_root strong {
  font-weight: bold;
}

.OT_root em {
  font-style: italic;
}

.OT_root a,
.OT_root a:link,
.OT_root a:visited,
.OT_root a:hover,
.OT_root a:active {
  font-family: Arial, Helvetica, sans-serif;
}

.OT_root ul, .OT_root ol {
  margin: 1em 1em 1em 2em;
}

.OT_root ol {
  list-style: decimal outside;
}

.OT_root ul {
  list-style: disc outside;
}

.OT_root dl {
  margin: 4px;
}

.OT_root dl dt,
.OT_root dl dd {
  float: left;
  margin: 0;
  padding: 0;
}

.OT_root dl dt {
  clear: left;
  text-align: right;
  width: 50px;
}

.OT_root dl dd {
  margin-left: 10px;
}

.OT_root img {
  border: 0 none;
}

/* Modal dialog styles */

/* Modal dialog styles */

.OT_dialog-centering {
  display: table;
  width: 100%;
  height: 100%;
}

.OT_dialog-centering-child {
  display: table-cell;
  vertical-align: middle;
}

.OT_dialog {
  position: relative;

  box-sizing: border-box;
  max-width: 576px;
  margin-right: auto;
  margin-left: auto;
  padding: 36px;
  text-align: center; /* centers all the inline content */

  background-color: #363636;
  color: #fff;
  box-shadow: 2px 4px 6px #999;
  font-family: 'Didact Gothic', sans-serif;
  font-size: 13px;
  line-height: 1.4;
}

.OT_dialog * {
  font-family: inherit;
  box-sizing: inherit;
}

.OT_closeButton {
  color: #999999;
  cursor: pointer;
  font-size: 32px;
  line-height: 36px;
  position: absolute;
  right: 18px;
  top: 0;
}

.OT_dialog-messages {
  text-align: center;
}

.OT_dialog-messages-main {
  margin-bottom: 36px;
  line-height: 36px;

  font-weight: 300;
  font-size: 24px;
}

.OT_dialog-messages-minor {
  margin-bottom: 18px;

  font-size: 13px;
  line-height: 18px;
  color: #A4A4A4;
}

.OT_dialog-messages-minor strong {
  color: #ffffff;
}

.OT_dialog-actions-card {
  display: inline-block;
}

.OT_dialog-button-title {
  margin-bottom: 18px;
  line-height: 18px;

  font-weight: 300;
  text-align: center;
  font-size: 14px;
  color: #999999;
}
.OT_dialog-button-title label {
  color: #999999;
}

.OT_dialog-button-title a,
.OT_dialog-button-title a:link,
.OT_dialog-button-title a:active {
  color: #02A1DE;
}

.OT_dialog-button-title strong {
  color: #ffffff;
  font-weight: 100;
  display: block;
}

.OT_dialog-button {
  display: inline-block;

  margin-bottom: 18px;
  padding: 0 1em;

  background-color: #1CA3DC;
  text-align: center;
  cursor: pointer;
}

.OT_dialog-button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.OT_dialog-button-large {
  line-height: 36px;
  padding-top: 9px;
  padding-bottom: 9px;

  font-weight: 100;
  font-size: 24px;
}

.OT_dialog-button-small {
  line-height: 18px;
  padding-top: 9px;
  padding-bottom: 9px;

  background-color: #444444;
  color: #999999;
  font-size: 16px;
}

.OT_dialog-progress-bar {
  display: inline-block; /* prevents margin collapse */
  width: 100%;
  margin-top: 5px;
  margin-bottom: 41px;

  border: 1px solid #4E4E4E;
  height: 8px;
}

.OT_dialog-progress-bar-fill {
  height: 100%;

  background-color: #29A4DA;
}

/* Helpers */

.OT_centered {
  position: fixed;
  left: 50%;
  top: 50%;
  margin: 0;
}

.OT_dialog-hidden {
  display: none;
}

.OT_dialog-button-block {
  display: block;
}

.OT_dialog-no-natural-margin {
  margin-bottom: 0;
}

/* Publisher and Subscriber styles */

.OT_publisher, .OT_subscriber {
  position: relative;
  min-width: 48px;
  min-height: 48px;
}

.OT_publisher .OT_video-element,
.OT_subscriber .OT_video-element {
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;

  transform-origin: 0 0;
}

/* Styles that are applied when the video element should be mirrored */
.OT_publisher.OT_mirrored .OT_video-element {
  transform: scale(-1, 1);
  transform-origin: 50% 50%;
}

.OT_subscriber_error {
  background-color: #000;
  color: #fff;
  text-align: center;
}

.OT_subscriber_error > p {
  padding: 20px;
}

/* The publisher/subscriber name/mute background */
.OT_publisher .OT_bar,
.OT_subscriber .OT_bar,
.OT_publisher .OT_name,
.OT_subscriber .OT_name,
.OT_publisher .OT_archiving,
.OT_subscriber .OT_archiving,
.OT_publisher .OT_archiving-status,
.OT_subscriber .OT_archiving-status,
.OT_publisher .OT_archiving-light-box,
.OT_subscriber .OT_archiving-light-box {
  -ms-box-sizing: border-box;
  box-sizing: border-box;
  top: 0;
  left: 0;
  right: 0;
  display: block;
  height: 34px;
  position: absolute;
}

.OT_publisher .OT_bar,
.OT_subscriber .OT_bar {
  background: rgba(0, 0, 0, 0.4);
}

.OT_publisher .OT_edge-bar-item,
.OT_subscriber .OT_edge-bar-item {
  z-index: 1; /* required to get audio level meter underneath */
}

/* The publisher/subscriber name panel/archiving status bar */
.OT_publisher .OT_name,
.OT_subscriber .OT_name {
  background-color: transparent;
  color: #ffffff;
  font-size: 15px;
  line-height: 34px;
  font-weight: normal;
  padding: 0 4px 0 36px;
  letter-spacing: normal;
}

.OT_publisher .OT_archiving-status,
.OT_subscriber .OT_archiving-status {
  background: rgba(0, 0, 0, 0.4);
  top: auto;
  bottom: 0;
  left: 34px;
  padding: 0 4px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 15px;
  line-height: 34px;
  font-weight: normal;
  letter-spacing: normal;
}

.OT_micro .OT_archiving-status,
.OT_micro:hover .OT_archiving-status,
.OT_mini .OT_archiving-status,
.OT_mini:hover .OT_archiving-status {
  display: none;
}

.OT_publisher .OT_archiving-light-box,
.OT_subscriber .OT_archiving-light-box {
  background: rgba(0, 0, 0, 0.4);
  top: auto;
  bottom: 0;
  right: auto;
  width: 34px;
  height: 34px;
}

.OT_archiving-light {
  width: 7px;
  height: 7px;
  border-radius: 30px;
  position: absolute;
  top: 14px;
  left: 14px;
  background-color: #575757;
  box-shadow: 0 0 5px 1px #575757;
}

.OT_archiving-light.OT_active {
  background-color: #970d13;
  -webkit-animation: OT_pulse 1.3s ease-in;
  -moz-animation: OT_pulse 1.3s ease-in;
  -webkit-animation: OT_pulse 1.3s ease-in;
  -webkit-animation-iteration-count: infinite;
  -moz-animation-iteration-count: infinite;
  -webkit-animation-iteration-count: infinite;
}

.OT_mini .OT_bar,
.OT_bar.OT_mode-mini,
.OT_bar.OT_mode-mini-auto {
  bottom: 0;
  height: auto;
}

.OT_mini .OT_name.OT_mode-off,
.OT_mini .OT_name.OT_mode-on,
.OT_mini .OT_name.OT_mode-auto,
.OT_mini:hover .OT_name.OT_mode-auto {
  display: none;
}

.OT_publisher .OT_name,
.OT_subscriber .OT_name {
    left: 10px;
    right: 37px;
    height: 34px;
    padding-left: 0;
}

.OT_publisher .OT_mute,
.OT_subscriber .OT_mute {
    border: none;
    cursor: pointer;
    display: block;
    position: absolute;
    text-align: center;
    text-indent: -9999em;
    background-color: transparent;
    background-repeat: no-repeat;
}

.OT_publisher .OT_mute,
.OT_subscriber .OT_mute {
  right: 0;
  top: 0;
  border-left: 1px solid rgba(255, 255, 255, 0.2);
  height: 36px;
  width: 37px;
}

.OT_mini .OT_mute,
.OT_publisher.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold,
.OT_subscriber.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold {
  top: 50%;
  left: 50%;
  right: auto;
  margin-top: -18px;
  margin-left: -18.5px;
  border-left: none;
}

.OT_publisher .OT_mute {
  background-image: url(`+rt+`);
  background-position: 9px 5px;
}

.OT_publisher .OT_mute.OT_active {
  background-image: url(`+it+`);
  background-position: 9px 4px;
}

.OT_subscriber .OT_mute {
  background-image: url(`+ot+`);
  background-position: 8px 7px;
}

.OT_subscriber .OT_mute.OT_active {
  background-image: url(`+st+`);
  background-position: 7px 7px;
}

/**
 * Styles for display modes
 *
 * Note: It's important that these completely control the display and opacity
 * attributes, no other selectors should atempt to change them.
 */

/* Default display mode transitions for various chrome elements */
.OT_publisher .OT_edge-bar-item,
.OT_subscriber .OT_edge-bar-item {
  transition-property: top, bottom, opacity;
  transition-duration: 0.5s;
  transition-timing-function: ease-in;
}

.OT_publisher .OT_edge-bar-item.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_mode-off,
.OT_publisher .OT_edge-bar-item.OT_mode-auto,
.OT_subscriber .OT_edge-bar-item.OT_mode-auto,
.OT_publisher .OT_edge-bar-item.OT_mode-mini-auto,
.OT_subscriber .OT_edge-bar-item.OT_mode-mini-auto {
  top: -25px;
  opacity: 0;
}

.OT_publisher .OT_edge-bar-item.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_mode-off {
  display: none;
}

.OT_mini .OT_mute.OT_mode-auto,
.OT_publisher .OT_mute.OT_mode-mini-auto,
.OT_subscriber .OT_mute.OT_mode-mini-auto {
  top: 50%;
}

.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,
.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto {
  top: auto;
  bottom: -25px;
}

.OT_publisher .OT_edge-bar-item.OT_mode-on,
.OT_subscriber .OT_edge-bar-item.OT_mode-on,
.OT_publisher .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,
.OT_subscriber .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,
.OT_publisher:hover .OT_edge-bar-item.OT_mode-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_mode-auto,
.OT_publisher:hover .OT_edge-bar-item.OT_mode-mini-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_mode-mini-auto {
  top: 0;
  opacity: 1;
}

.OT_mini .OT_mute.OT_mode-on,
.OT_mini:hover .OT_mute.OT_mode-auto,
.OT_mute.OT_mode-mini,
.OT_root:hover .OT_mute.OT_mode-mini-auto {
  top: 50%;
}

.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,
.OT_publisher:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto {
  top: auto;
  bottom: 0;
  opacity: 1;
}


/* Contains the video element, used to fix video letter-boxing */
.OT_widget-container {
  position: absolute;
  background: linear-gradient(60.08deg, #333333 0%, #1A1A1A 100%);
  overflow: hidden;
}

.OT_hidden-audio {
  position: absolute !important;
  height: 1px !important;
  width: 1px !important;
}

/* Load animation */
.OT_root .OT_video-loading {
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: none;

  background-color: rgba(0, 0, 0, .75);
}

.OT_root .OT_video-loading .OT_video-loading-spinner {
  background: url(`+at+`) no-repeat;
  position: absolute;
  width: 32px;
  height: 32px;
  left: 50%;
  top: 50%;
  margin-left: -16px;
  margin-top: -16px;
  animation: OT_spin 2s linear infinite;
}
@keyframes OT_spin {
  100% {
    transform: rotate(360deg);
  }
}

.OT_publisher.OT_loading .OT_video-loading,
.OT_subscriber.OT_loading .OT_video-loading {
  display: block;
}

.OT_publisher.OT_loading .OT_video-element,
.OT_subscriber.OT_loading .OT_video-element {
  /*display: none;*/
}

.OT_video-centering {
  display: table;
  width: 100%;
  height: 100%;
}

.OT_video-container {
  display: table-cell;
  vertical-align: middle;
}

.OT_video-poster {
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: none;

  opacity: 1.0;

  background-repeat: no-repeat;
  background-image: url(`+ct+`);
  background-size: auto 55%;
}

.OT_fit-mode-cover .OT_video-element {
  object-fit: cover;
}

/* Workaround for iOS freezing issue when cropping videos */
/* https://bugs.webkit.org/show_bug.cgi?id=176439 */
@media only screen
  and (orientation: portrait) {
  .OT_subscriber.OT_ForceContain.OT_fit-mode-cover .OT_video-element {
    object-fit: contain !important;
  }
}

.OT_fit-mode-contain .OT_video-element {
  object-fit: contain;
}

.OT_fit-mode-cover .OT_video-poster {
  background-position: center;
}

.OT_fit-mode-contain .OT_video-poster {
  background-position: center;
}

.OT_audio-level-meter {
  position: absolute;
  width: 25%;
  max-width: 224px;
  min-width: 21px;
  top: 0;
  right: 0;
  overflow: hidden;
}

.OT_audio-level-meter:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_audio-level-meter__audio-only-img {
  position: absolute;
  top: 22%;
  right: 15%;
  width: 40%;

  opacity: .7;

  background: url(`+lt+`) no-repeat center;
}

.OT_audio-level-meter__audio-only-img:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_audio-level-meter__value {
  will-change: transform;
  position: absolute;
  top: -100%;
  right: -100%;
  width: 200%;
  height: 200%;
  transform: scale(0);
  border-radius: 50%;
  background-image: radial-gradient(circle, rgba(151, 206, 0, 1) 0%, rgba(151, 206, 0, 0) 100%);
}

.OT_audio-level-meter.OT_mode-off {
    display: none;
}

.OT_audio-level-meter.OT_mode-on,
.OT_audio-only .OT_audio-level-meter.OT_mode-auto {
  display: block;
}

.OT_audio-only.OT_publisher .OT_video-element,
.OT_audio-only.OT_subscriber .OT_video-element {
  display: none;
}


.OT_video-disabled-indicator {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: bottom right;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 3px;
  right: 3px;
}

.OT_video-disabled {
  background-image: url(`+dt+`);
  background-size: 33px auto;
}

.OT_video-disabled-warning {
  background-image: url(`+ut+`);
  background-size: 33px auto;
}

.OT_video-disabled-indicator.OT_active {
  display: block;
}

.OT_audio-blocked-indicator {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

.OT_audio-blocked {
  background-image: url(`+ft+`);
  background-size: 90px auto;
}

.OT_container-audio-blocked {
  cursor: pointer;
}

.OT_container-audio-blocked.OT_mini .OT_edge-bar-item {
  display: none;
}

.OT_container-audio-blocked .OT_mute {
  display: none;
}

.OT_audio-blocked-indicator.OT_active {
  display: block;
}

.OT_video-unsupported {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: center;
  background-image: url(`+pt+`);
  background-size: 58px auto;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  margin-top: -30px;
}

.OT_video-unsupported-bar {
  display: none;
  position: absolute;
  width: 192%; /* copy the size of the audio meter bar for symmetry */
  height: 192%;
  top: -96% /* half of the size */;
  left: -96%;
  border-radius: 50%;

  background-color: rgba(0, 0, 0, .8);
}

.OT_video-unsupported-img {
  display: none;
  position: absolute;
  top: 11%;
  left: 15%;
  width: 70%;
  opacity: .7;
  background-image: url(`+pt+`);
  background-repeat: no-repeat;
  background-position: center;
  background-size: 100% auto;
}

.OT_video-unsupported-img:before {
  /* makes the height of the container 93% of its width (90/97 px) */
  content: '';
  display: block;
  padding-top: 93%;
}

.OT_video-unsupported-text {
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  height: 100%;
  margin-top: 40px;
}

.OT_video-unsupported.OT_active {
  display: block;
}

.OT_mini .OT_video-unsupported,
.OT_micro .OT_video-unsupported {
  position: absolute;
  width: 25%;
  max-width: 224px;
  min-width: 21px;
  top: 0;
  left: 0;
  overflow: hidden;
  background: none;
  bottom: auto;
  right: auto;
  margin: auto;
}

.OT_mini .OT_video-unsupported:before,
.OT_micro .OT_video-unsupported:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_mini .OT_video-unsupported-bar,
.OT_micro .OT_video-unsupported-bar,
.OT_mini .OT_video-unsupported-img,
.OT_micro .OT_video-unsupported-img {
  display: block;
}

.OT_mini .OT_video-unsupported-text,
.OT_micro .OT_video-unsupported-text {
  display: none;
}

.OT_hide-forced {
  display: none;
}

.OT_ModalDialog {
  position: fixed;
  top: 0px;
  left: 0px;
  right: 0px;
  bottom: 0px;
  z-index: 1000;
  background-color: rgba(0, 0, 0, 0.2);
}

#tb_alert {
  position: fixed;
  width: 570px;
  font-family: "Lucida Grande", Arial;
  top: 50%;
  left: 50%;
  margin-top: -75px;
  margin-left: -285px;
}

#tb_alert * {
  box-sizing: border-box;
}

#tb_alert .OT_alert {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  background-color: #333;
  position: relative;
  padding: 30px;
  overflow: visible;
  margin-left: 70px;
  border-bottom-color: rgba(255, 255, 255, 0.1);
  border-left-color: rgba(255, 255, 255, 0.1);

  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));

  background-image: -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));

  background-size: 4px 4px;
  background-position: 0 0, 2px 2px;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

#tb_alert .OT_alert-exclamation {
  background-color: #9c1408;
  background-image: linear-gradient(0deg, #dd0c0a 0%, #9c1408 100%);
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);

  margin: -1px 0;

  font-family: MS Trebuchet;
  font-weight: bold;
  font-size: 60px;
  text-shadow: -1px -1px 2px rgba(0, 0, 0, 0.5);

  color: white;
  width: 65px;
  position: absolute;
  padding: 42px 0;
  text-align: center;
  left: -70px;
  top: 0;
  bottom: 0;
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;

  border-bottom-color: transparent;
  border-left: none;
  border-right: none;
}

#tb_alert .OT_alert-exclamation:after,
#tb_alert .OT_alert-exclamation:before {
  content: " ";
  position: absolute;
  right: -24px;
  top: 40%;
  border: 12px solid transparent;
  border-left-color: #9c1408;
}

#tb_alert .OT_alert-exclamation:before {
  border-left-color: #bc3428;
  top: 39%;
}

#tb_alert .OT_alert-body {
  color: #c8c5c5;
  margin: 0;
  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);
  font-size: 14px;
  line-height: 1.3em;
}

#tb_alert .continue-text {
  margin-top: 12px
}

#tb_alert > * a {
  color: #a7d8df;
  text-decoration: none;
}

#tb_alert .OT_alert-header {
  font-size: 24px;
  padding-bottom: 5px;
  color: #aaa;
  font-weight: bold;
  position: relative;
  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);
  margin: 0;
}

#tb_alert .OT_alert-header::before {
  content: attr(data-text);
  position: absolute;
  left: 0;
  color: white;
  -webkit-mask-image: -webkit-gradient(
    linear,
    left top, left bottom,
    from(rgba(0, 0, 0, 1)),
    color-stop(60%, rgba(0, 0, 0, 0)),
    to(rgba(0, 0, 0, 0))
  );
}

#tb_alert .OT_alert-close-button {
  position: absolute;
  right: 8px;
  top: 5px;
  background-color: #000;
  color: #666;
  border: none;
  font-size: 20px;
  /** Hack to bring it up to the proper line top */
  line-height: 14px;
  padding: 0;
  padding-bottom: 3px;
  cursor: pointer;
}

#tb_alert #section-mobile-browser,
#tb_alert #section-supported-mobile-browser {
  width: 200px;
  top: 0px;
  left: 25%;
  margin-top: 0;
  margin-left: 0;
}

@media all and (max-height: 300px) {
  #tb_alert {
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    margin-left: 0;
    margin-top: 0;
  }
  #tb_alert #section-mobile-browser,
  #tb_alert #section-supported-mobile-browser {
    margin-left: 0;
    margin-top: 10px;
    left: 0;
  }
}

#tb_alert #section-normal-install,
#tb_alert #section-upgrade-install,
#tb_alert #section-mobile-browser,
#tb_alert #section-supported-mobile-browser {
  display: none;
}
`,""])},function(_e,tt,et){_e.exports=function(it){var ot=[];return ot.toString=function(){return this.map(function(at){var ct=nt(at,it);return at[2]?"@media "+at[2]+"{"+ct+"}":ct}).join("")},ot.i=function(st,at){typeof st=="string"&&(st=[[null,st,""]]);for(var ct={},lt=0;lt<this.length;lt++){var dt=this[lt][0];dt!=null&&(ct[dt]=!0)}for(lt=0;lt<st.length;lt++){var ut=st[lt];(ut[0]==null||!ct[ut[0]])&&(at&&!ut[2]?ut[2]=at:at&&(ut[2]="("+ut[2]+") and ("+at+")"),ot.push(ut))}},ot};function nt(it,ot){var st=it[1]||"",at=it[3];if(!at)return st;if(ot&&typeof btoa=="function"){var ct=rt(at),lt=at.sources.map(function(dt){return"/*# sourceURL="+at.sourceRoot+dt+" */"});return[st].concat(lt).concat([ct]).join(`
`)}return[st].join(`
`)}function rt(it){var ot=btoa(unescape(encodeURIComponent(JSON.stringify(it)))),st="sourceMappingURL=data:application/json;charset=utf-8;base64,"+ot;return"/*# "+st+" */"}},function(_e,tt,et){_e.exports=function(rt,it){return typeof rt!="string"?rt:(/^['"].*['"]$/.test(rt)&&(rt=rt.slice(1,-1)),/["'() \t\n]/.test(rt)||it?'"'+rt.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':rt)}},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwMTAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNiKSIgZD0iTTg2LjYgNTBBMTAwIDEwMCAwIDAxMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2MpIiBkPSJNMCAxMDBhMTAwIDEwMCAwIDAxLTg2LjYtNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2QpIiBkPSJNLTg2LjYgNTBhMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2UpIiBkPSJNLTg2LjYtNTBBMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAxODYuNiA1MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48L2c+PC9tYXNrPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSItMjAiIHk9Ii0yMCIgbWFzaz0idXJsKCNnKSIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDciIGhlaWdodD0iNDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIHI9IjIzLjUiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjcuNjM0IDE4LjUwOGE0LjMwNCA0LjMwNCAwIDExLTguNjA5IDAgNC4zMDQgNC4zMDQgMCAwMTguNjA5IDB6bTQuNzEyIDEyLjgwNGMuMTIyLjUwNi0uMjc1Ljk2OS0uNzg2Ljk2OUgxNS4xYy0uNTEyIDAtLjkwOS0uNDYyLS43ODctLjk3Ljk5My00LjEzNyA0LjY1My03LjIwOCA5LjAxNi03LjIwOHM4LjAyMyAzLjA3IDkuMDE3IDcuMjA5eiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+"},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAINUlEQVR42u2aaUxUVxTHcRBmAAEBRVTK4sKwDIsg+wCK7CqIw1CN1YobbbS2qYlJ06Qx1UpdqMbYWq2pSzWmH6ytNbXWJY1Lq7VuqBERtW64V0XFLYae0/xvcp3MMAMzDz6IyT/ge2ce5/7ucpY3Ts3NzZ1ygF57AJ0gO0G2jyZPmdbFyclJSAV1EeoEaUUSLGdSV5KLLFxzFmA7QVqGqDqjixhWkxCVeyRVl38wM6bwj6yYItYK47BAuu9B0gCqs6Ng2r494KQtkj/Dz2jHraw6qw2fdSE4rNmcCPCvZONP8iF1I6kdBdMaQJWZLeJqRWa2kPJAxXY+GxE+zxLI03GRh8lGSwoi9WCY8FWlCEh+8JOnT7MfPGjMuXX7Tt61hoaCi/9cKmKdv3BxeEtim/UbNpnbQiqF4MmT7kqrbr4lkMcTo46TTSpJB5g+8NHuVWnWuaampvhmO/7duHmrGluoO4C6OsJZGRrkDIld43ZqUOTnlkDSmXmabAoBU0vqBf+6KgFSxQ9++uzZ8rZApM81TJ8xM5me0Z/UF7PuBmdVdkGEb5gYDeQmyZNW3SJLIP9Kj64lGyMpmxRN6sOfIbkoAhKOdnv2/PmB1kB88eLFo+olyyrps3rSINIAzLonnqlqK8R9w+L86vtrt5L2nhug3Vc3ULu/Liz8AOuXESlZZONH6kmr7gtLIA9lRNeRzVukAvj3BslLnJNKgfScO69K+/Lly0ZbQW7e8tNK+pwBjqaSIjDrXgJkW1ciAZvbQjQ+RDahpBBKd5ZZsqN758hmImk4KQHnpDd8UwSkCyJarx07d4+3BeKJmlMHyX4qaRxpBCmNFE4KENvHDpAutVERn1kCVBMfeRRgYvZnx62wZPdnZkw92VQA5GClQXYRBze2S+iJmpPVVoJLA9l9QKokjcWKTCT1R5rhLg70NuSsziT16diIKkuAjibrTpJNDkn/e17CahtAjlAWJAYkb29Sb1LE9Rs391kILk8mVkyuIpuZcLKUlEmKkra1WuSTNuesEPzwoEploSVAh9Oiz+BIyd9dOHhtx4OEpFpVg6gbNK3yXX1j48N6U5Dz5i/gc/FDrMY3sTLiSMEkXxGxzUEUAGnbxlPaksMlHUXWAlHS8URCPseSohZbCSLjSSU7ixLXdzhIWVKq4Y7t2a/2bN0qGeKly1fYsVmk6RgIDz4J0bonyUOcjeYqm/8hRoYbWkigV2NH9CHAS60EkUkkw47hSRs6FqT1LR5AVcsrueXlK1d5AO+RpmBrZZEiefByytPCanRGNLZY0uF52gNDYr9sCRB8MHY0SJu2OJWKS2WQV65e4y31DmkCImEi0hBfufRime0RIhpbKen0/Ny9OYNW2ghyYytABjNIaxNuKttAWk6HPLn0k0FevdZwFinPWFIuKZbUV16NVko6jbWSDoPO3pOf8K0jQWLSQ0S9bdpkYck+m7vfWpAiHfKgBsZiGSSt0FqcTeU8WETqAHE2CgcAVd3Gkm4MD3xXYeI6B4NMItvKbcUpQ9gP+KMWnSsW+TaYJtoo+avBWLoKoK0CCSDud+7eXWQGZAXqV3YoQjQCfixJ8+fzj9ta3JHhlUeJ8wJOY2ws6eRKpPS3oqTvHAESEz9ya0naXL5WH6pt3FqSOhTHkTcKEXc6k1POh4Q9YJu/03TT4a8PoGMFI4i2EqSbOZAYaBkpCyD92RkG6KCSbjI/H0HEISBnlOZPFdcEzI2GTO4KBZICGKyAKLTEmJOB2txf5MbgohBINCl4FTqmpJMB2W+HiRn1Q2l6lXyPmiEP6VVE2TfGoaMYrHyPdtAnyI0jEOn9RLWmNEhvBBE7SjpFQZaShtLK+1S+T12lRwxUvrZlVPp8jE1PikeO7C/nyEqBDCB1t7+kUx4kKUWclea0yZC5BIGpiJSNSD9QgFR0RQKkL6KxHSWdsiARHJNYewoGrzG1/bk4dTPSunL2EyDjcbb7MQ+lQfZmkKiN7SjpFAM5CWAyGcwyY84YsZ1lUcbRNNtQMAdtQWGvQ0DyVjzYAKQfQFodeAeC1C8vzymXIZqD+ZEh/2OyLSalS/3VbnJZ+VqDXGjMrTCFuK4s66vVZUNfqaDolcbjOcb899sLpEE+I20GifywXe2QR3KElu99PzqjGufhREqB1pjCnG3IL3fY1v733r2FMsiGhutn0LAoJWWIGbPxjKwgjUbF0m52mPhigrpdXOecEq9pR6MkHbu2LOtrcZ9y3d0ODTb15y9MePz48aF79+8fvXnr9sljx2u2I7KNxDuaMPGVECoRs7mC4eT7SIruFNfNHK15MKuM2evwNq+4qjxvGnd5CHwNNynawW4cOlUZdG8b55IIJHmkItwrZHH6QxB3OSL9kTtAGpIvZiQB3Z4SKBfXQtEE9sashWAW87Bt3sYZNR6zn4uzJwWDKUKXfaKCdqUoBpLxSjYe9nqGiwWRBGipuGZ3Qm76itYLbbJI/PEhUApfw73uOIy9xfse3M9F9BuFJHcYrseSouGkHtCVtkuGTTikI8XgZzhg9SeF4VqcvSWiaSvNHQ8JwkNjIfEHemCmNLD1RaEfLs18mlgNuN6PFALHo7CyU5W2g00gFAQF4ozvibH04muwDbWraSFAyt/AAMzewgGR8uCeWn77xzBxPxgzPRCDDMZ14bQ/3jqGKGoHf2Hjgx3kw5LbaJDYWb52t9FMgw4AuWNWukNeuOYqOsmQi2jgws4PA/DD/z0B2x0/veCs4naw0cgybezid7X9jV3rX2RSs0wfLkll4pBGcgifg+NYxe1kJ2ycTaRq66uG/wBOl0vjcw70xwAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAGMElEQVR4Ae2aA7D0yBaAc7oH12vbRmlLaxYWb23btm3btm2899a2bWuYtPZ01cmtU9lJrib315yqr9I3Oem/5/s7acwEnehEJzoxCcX2O+wEeIgRBDDaGjAZOgQ6ihRpLklHZDJIXK1WWymMIhGGkVBKCWMM+Iv/f/b5t7faYtM/sGgIS7j8RNLjceUVl41GvGN1BFiHy9sgtRWaYbhvuVQ6o1VOvV5/tLe3dyssKoZuh8xClkDEi2MMS6ZjR0cScxdK/+HgnJsmLccYOx0e/PUGUqfTJDEHkV5go9lcMQoj4R8RpSIRRUr4a9baTJFCCNfqESKJ7RYJibK0xoi05EhFRTxMi1Rit6xHAuLaKRLwEVi6q1x+EhlVpd3d3Wfh4VQkQhRhxthYLg7SRGqdLlIp7UVOHf+JhEhEMscUolVje3p63saeeOFoKsT7fjj++BNuw2I/0ouUENmGaQcQEilQvUU6xuWC0kqmVWCt8df6kG7WLoFA20VSCOyNh0RKPT+SyrTWtQsvuvTYCy84z3+oAdbgAiLGIvHjTz6bFuu/B3lKKfVkFKknwih6EnnipZdfXQZzepAupXSGSCfwUGZtkrx3t/0dSQGnnXbmdocdetArQoj+4VR23wMP3bj/vnv9Sv/rBmkish09ca655thHSrlWq4TFF1vkNDxsgjiUnPqZnHPABIq47jx7pPMcecShfz7x1DO7D6eit99576X1113nVd8rqLGAuDaNitJonTGIqHgQGQjDsJglMrUH5iDSEQbRa6y2yrNvv/PuWVmV/PTzLz8steTit1B9FtGJeZrJksmWdBzBMcami4xUkaY1A1Qe94WIaPGBApJhaERrLrXkElf8+NPPz6YMLs1DDjn0Wn9PnI/UiQadM4jNEkhzVsEGE8nIHESM1j5/KqRX+/IEiOQ/yifNBlEkpnb00cccesbpp13T3983H88/48xzrrvm6it/8U5JXgX5G6nSvSq1R5LATR7aYGkwMG1RSwkWABH+4jUb3vT/uJ1Z0xpjraTBRltrxUQhksIRmgTJyy69+Pv99tv3qYX6FxgU+fU33352xGEHf5wisU7nNWJpZRMkAjZ6aIN1mwV7h29Jo2wCHlveu/GV169z65E+T6koexCh6c+EEiky3lnxQKFjUeVyOeI5AOBzIiayRhJryd7YYnkIHgvB0qk9Tdql6N3XH4bRUIOIIIKJSiRb0hkSEpZKRd1CpEq8GxtIyCVmDSgFl94GacTgaJw1rUlYhYng0c4ewaUsmKRIJjpiqMSOCh9QeI+UYECmtQIsxEu6OorEcv6Rl0gu0woh8MhFkmSCTXVI4pC704WCFRJvSRNJSzrMMEZO2iKZTCHAZYnmvXCny7ed5vfZK3viHSBdIFCKEFj2+nt+73nw8m2uedcLJlktA++VNMEPaR45aYukcKnnCfY3/DFbZS8t7eHxNgsPM0N1hXhJJwwM1QbpoQFlog2R13a/zBxEYHAQEUYUM6qiVwEyBYoM6JFNF2kFLelI5KQf+fVI4dJFCguDS7oAyx2R6SFQJKRedSDj/cMg/RXQ6ZE05GSIDAaXdCi1I3L021SQWNJ1RLY5OiIdL4/yvuw8ADfWPFrSciaMyH8tEQPwf1uGG54g5+KlJGTmsrxsQdl5PKidnPFe2QS///7Hu+VS6WX/HYnf0sevGL7lXydwod2/9DykZq0s5yff0sgSWCigNOH7TPHL7ufj+/TH8P/+qYpL4HkBDiRYpEXeM8/89/9zzjn7EtY64dfd1nqccM7Bs8+9MKy8555/8TnKS+5MufH6EZVASkgPzf+mJXroet17JirU0ALST3nT0y5ONyLpeo1y64ih+vuQfsoTOeRFSJXa+SvyB90TUmdw49EjLaKpMQ0mzEeTzkWsd/oI6fzfiKM8gWg6X6OjpXstu5ZHnmIb0GFiu29MIUfUewkmVrEN3RqVQ/bY8FzNcquMBv/pCNUZ5pHHem01KdN/I/DG66/lLhKSvTO5M84kav5C5z2ZfyAivi9i9VGd45RH7UWJbjwGG/7NYsRECt7jiOToHedKAui8SW4CsxyRc54mKH/8f7ELhCCACyNcIl/wI+FaAJyc8yzRtinQPzWzuFZrFHq/AAAAAElFTkSuQmCC"},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwMTQzIDQ0YTguOTg4IDguOTg4IDAgMDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAxMTAuMzc0LS40MkM1MS43MDIgMTkuMTE0IDU0IDI5LjIwOCA1NCA0NS4yMDhjMCAxNC41MjctMi4zNDMgMjMuODgtNy4wMyAyOC4wNThhNy4yOCA3LjI4IDAgMDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwMS01LTV2LTEzYTUgNSAwIDAxNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMDE1IDVWNTguMThhNSA1IDAgMDEtNSA1SDkuMTFhNSA1IDAgMDEtNS01VjI1Ljk3YTUgNSAwIDAxNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwMTQuMzA0IDIuNzAydjI2LjgzNWEzIDMgMCAwMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(_e,tt,et){var nt={},rt=function(Nt){var Lt;return function(){return typeof Lt>"u"&&(Lt=Nt.apply(this,arguments)),Lt}},it=rt(function(){return window&&document&&document.all&&!window.atob}),ot=function(Nt,Lt){return Lt?Lt.querySelector(Nt):document.querySelector(Nt)},st=function(Nt){var Lt={};return function(Pt,cn){if(typeof Pt=="function")return Pt();if(typeof Lt[Pt]>"u"){var Jt=ot.call(this,Pt,cn);if(window.HTMLIFrameElement&&Jt instanceof window.HTMLIFrameElement)try{Jt=Jt.contentDocument.head}catch{Jt=null}Lt[Pt]=Jt}return Lt[Pt]}}(),at=null,ct=0,lt=[],dt=et(352);_e.exports=function(Nt,Lt){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");Lt=Lt||{},Lt.attrs=typeof Lt.attrs=="object"?Lt.attrs:{},!Lt.singleton&&typeof Lt.singleton!="boolean"&&(Lt.singleton=it()),Lt.insertInto||(Lt.insertInto="head"),Lt.insertAt||(Lt.insertAt="bottom");var Pt=ft(Nt,Lt);return ut(Pt,Lt),function(Jt){for(var Bt=[],dn=0;dn<Pt.length;dn++){var vn=Pt[dn],Tn=nt[vn.id];Tn.refs--,Bt.push(Tn)}if(Jt){var pn=ft(Jt,Lt);ut(pn,Lt)}for(var dn=0;dn<Bt.length;dn++){var Tn=Bt[dn];if(Tn.refs===0){for(var In=0;In<Tn.parts.length;In++)Tn.parts[In]();delete nt[Tn.id]}}}};function ut(Nt,Lt){for(var Pt=0;Pt<Nt.length;Pt++){var cn=Nt[Pt],Jt=nt[cn.id];if(Jt){Jt.refs++;for(var Bt=0;Bt<Jt.parts.length;Bt++)Jt.parts[Bt](cn.parts[Bt]);for(;Bt<cn.parts.length;Bt++)Jt.parts.push(Ct(cn.parts[Bt],Lt))}else{for(var dn=[],Bt=0;Bt<cn.parts.length;Bt++)dn.push(Ct(cn.parts[Bt],Lt));nt[cn.id]={id:cn.id,refs:1,parts:dn}}}}function ft(Nt,Lt){for(var Pt=[],cn={},Jt=0;Jt<Nt.length;Jt++){var Bt=Nt[Jt],dn=Lt.base?Bt[0]+Lt.base:Bt[0],vn=Bt[1],Tn=Bt[2],pn=Bt[3],In={css:vn,media:Tn,sourceMap:pn};cn[dn]?cn[dn].parts.push(In):Pt.push(cn[dn]={id:dn,parts:[In]})}return Pt}function pt(Nt,Lt){var Pt=st(Nt.insertInto);if(!Pt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var cn=lt[lt.length-1];if(Nt.insertAt==="top")cn?cn.nextSibling?Pt.insertBefore(Lt,cn.nextSibling):Pt.appendChild(Lt):Pt.insertBefore(Lt,Pt.firstChild),lt.push(Lt);else if(Nt.insertAt==="bottom")Pt.appendChild(Lt);else if(typeof Nt.insertAt=="object"&&Nt.insertAt.before){var Jt=st(Nt.insertAt.before,Pt);Pt.insertBefore(Lt,Jt)}else throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`)}function yt(Nt){if(Nt.parentNode===null)return!1;Nt.parentNode.removeChild(Nt);var Lt=lt.indexOf(Nt);Lt>=0&&lt.splice(Lt,1)}function Tt(Nt){var Lt=document.createElement("style");if(Nt.attrs.type===void 0&&(Nt.attrs.type="text/css"),Nt.attrs.nonce===void 0){var Pt=vt();Pt&&(Nt.attrs.nonce=Pt)}return gt(Lt,Nt.attrs),pt(Nt,Lt),Lt}function ht(Nt){var Lt=document.createElement("link");return Nt.attrs.type===void 0&&(Nt.attrs.type="text/css"),Nt.attrs.rel="stylesheet",gt(Lt,Nt.attrs),pt(Nt,Lt),Lt}function gt(Nt,Lt){Object.keys(Lt).forEach(function(Pt){Nt.setAttribute(Pt,Lt[Pt])})}function vt(){return et.nc}function Ct(Nt,Lt){var Pt,cn,Jt,Bt;if(Lt.transform&&Nt.css)if(Bt=typeof Lt.transform=="function"?Lt.transform(Nt.css):Lt.transform.default(Nt.css),Bt)Nt.css=Bt;else return function(){};if(Lt.singleton){var dn=ct++;Pt=at||(at=Tt(Lt)),cn=Zt.bind(null,Pt,dn,!1),Jt=Zt.bind(null,Pt,dn,!0)}else Nt.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(Pt=ht(Lt),cn=kt.bind(null,Pt,Lt),Jt=function(){yt(Pt),Pt.href&&URL.revokeObjectURL(Pt.href)}):(Pt=Tt(Lt),cn=Mt.bind(null,Pt),Jt=function(){yt(Pt)});return cn(Nt),function(Tn){if(Tn){if(Tn.css===Nt.css&&Tn.media===Nt.media&&Tn.sourceMap===Nt.sourceMap)return;cn(Nt=Tn)}else Jt()}}var It=function(){var Nt=[];return function(Lt,Pt){return Nt[Lt]=Pt,Nt.filter(Boolean).join(`
`)}}();function Zt(Nt,Lt,Pt,cn){var Jt=Pt?"":cn.css;if(Nt.styleSheet)Nt.styleSheet.cssText=It(Lt,Jt);else{var Bt=document.createTextNode(Jt),dn=Nt.childNodes;dn[Lt]&&Nt.removeChild(dn[Lt]),dn.length?Nt.insertBefore(Bt,dn[Lt]):Nt.appendChild(Bt)}}function Mt(Nt,Lt){var Pt=Lt.css,cn=Lt.media;if(cn&&Nt.setAttribute("media",cn),Nt.styleSheet)Nt.styleSheet.cssText=Pt;else{for(;Nt.firstChild;)Nt.removeChild(Nt.firstChild);Nt.appendChild(document.createTextNode(Pt))}}function kt(Nt,Lt,Pt){var cn=Pt.css,Jt=Pt.sourceMap,Bt=Lt.convertToAbsoluteUrls===void 0&&Jt;(Lt.convertToAbsoluteUrls||Bt)&&(cn=dt(cn)),Jt&&(cn+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Jt))))+" */");var dn=new Blob([cn],{type:"text/css"}),vn=Nt.href;Nt.href=URL.createObjectURL(dn),vn&&URL.revokeObjectURL(vn)}},function(_e,tt){_e.exports=function(et){var nt=typeof window<"u"&&window.location;if(!nt)throw new Error("fixUrls requires window.location");if(!et||typeof et!="string")return et;var rt=nt.protocol+"//"+nt.host,it=rt+nt.pathname.replace(/\/[^\/]*$/,"/"),ot=et.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(st,at){var ct=at.trim().replace(/^"(.*)"$/,function(dt,ut){return ut}).replace(/^'(.*)'$/,function(dt,ut){return ut});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(ct))return st;var lt;return ct.indexOf("//")===0?lt=ct:ct.indexOf("/")===0?lt=rt+ct:lt=it+ct.replace(/^\.\//,""),"url("+JSON.stringify(lt)+")"});return ot}},function(_e,tt){function et(){this.__data__=[],this.size=0}_e.exports=et},function(_e,tt,et){var nt=et(80),rt=Array.prototype,it=rt.splice;function ot(st){var at=this.__data__,ct=nt(at,st);if(ct<0)return!1;var lt=at.length-1;return ct==lt?at.pop():it.call(at,ct,1),--this.size,!0}_e.exports=ot},function(_e,tt,et){var nt=et(80);function rt(it){var ot=this.__data__,st=nt(ot,it);return st<0?void 0:ot[st][1]}_e.exports=rt},function(_e,tt,et){var nt=et(80);function rt(it){return nt(this.__data__,it)>-1}_e.exports=rt},function(_e,tt,et){var nt=et(80);function rt(it,ot){var st=this.__data__,at=nt(st,it);return at<0?(++this.size,st.push([it,ot])):st[at][1]=ot,this}_e.exports=rt},function(_e,tt,et){var nt=et(79);function rt(){this.__data__=new nt,this.size=0}_e.exports=rt},function(_e,tt){function et(nt){var rt=this.__data__,it=rt.delete(nt);return this.size=rt.size,it}_e.exports=et},function(_e,tt){function et(nt){return this.__data__.get(nt)}_e.exports=et},function(_e,tt){function et(nt){return this.__data__.has(nt)}_e.exports=et},function(_e,tt,et){var nt=et(79),rt=et(111),it=et(112),ot=200;function st(at,ct){var lt=this.__data__;if(lt instanceof nt){var dt=lt.__data__;if(!rt||dt.length<ot-1)return dt.push([at,ct]),this.size=++lt.size,this;lt=this.__data__=new it(dt)}return lt.set(at,ct),this.size=lt.size,this}_e.exports=st},function(_e,tt,et){var nt=et(16),rt=et(366),it=et(11),ot=et(174),st=/[\\^$.*+?()[\]{}|]/g,at=/^\[object .+?Constructor\]$/,ct=Function.prototype,lt=Object.prototype,dt=ct.toString,ut=lt.hasOwnProperty,ft=RegExp("^"+dt.call(ut).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pt(yt){if(!it(yt)||rt(yt))return!1;var Tt=nt(yt)?ft:at;return Tt.test(ot(yt))}_e.exports=pt},function(_e,tt,et){var nt=et(39),rt=Object.prototype,it=rt.hasOwnProperty,ot=rt.toString,st=nt?nt.toStringTag:void 0;function at(ct){var lt=it.call(ct,st),dt=ct[st];try{ct[st]=void 0;var ut=!0}catch{}var ft=ot.call(ct);return ut&&(lt?ct[st]=dt:delete ct[st]),ft}_e.exports=at},function(_e,tt){var et=Object.prototype,nt=et.toString;function rt(it){return nt.call(it)}_e.exports=rt},function(_e,tt,et){var nt=et(367),rt=function(){var ot=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return ot?"Symbol(src)_1."+ot:""}();function it(ot){return!!rt&&rt in ot}_e.exports=it},function(_e,tt,et){var nt=et(14),rt=nt["__core-js_shared__"];_e.exports=rt},function(_e,tt){function et(nt,rt){return nt==null?void 0:nt[rt]}_e.exports=et},function(_e,tt,et){var nt=et(370),rt=et(79),it=et(111);function ot(){this.size=0,this.__data__={hash:new nt,map:new(it||rt),string:new nt}}_e.exports=ot},function(_e,tt,et){var nt=et(371),rt=et(372),it=et(373),ot=et(374),st=et(375);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt,et){var nt=et(81);function rt(){this.__data__=nt?nt(null):{},this.size=0}_e.exports=rt},function(_e,tt){function et(nt){var rt=this.has(nt)&&delete this.__data__[nt];return this.size-=rt?1:0,rt}_e.exports=et},function(_e,tt,et){var nt=et(81),rt="__lodash_hash_undefined__",it=Object.prototype,ot=it.hasOwnProperty;function st(at){var ct=this.__data__;if(nt){var lt=ct[at];return lt===rt?void 0:lt}return ot.call(ct,at)?ct[at]:void 0}_e.exports=st},function(_e,tt,et){var nt=et(81),rt=Object.prototype,it=rt.hasOwnProperty;function ot(st){var at=this.__data__;return nt?at[st]!==void 0:it.call(at,st)}_e.exports=ot},function(_e,tt,et){var nt=et(81),rt="__lodash_hash_undefined__";function it(ot,st){var at=this.__data__;return this.size+=this.has(ot)?0:1,at[ot]=nt&&st===void 0?rt:st,this}_e.exports=it},function(_e,tt,et){var nt=et(82);function rt(it){var ot=nt(this,it).delete(it);return this.size-=ot?1:0,ot}_e.exports=rt},function(_e,tt){function et(nt){var rt=typeof nt;return rt=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?nt!=="__proto__":nt===null}_e.exports=et},function(_e,tt,et){var nt=et(82);function rt(it){return nt(this,it).get(it)}_e.exports=rt},function(_e,tt,et){var nt=et(82);function rt(it){return nt(this,it).has(it)}_e.exports=rt},function(_e,tt,et){var nt=et(82);function rt(it,ot){var st=nt(this,it),at=st.size;return st.set(it,ot),this.size+=st.size==at?0:1,this}_e.exports=rt},function(_e,tt){function et(nt,rt){for(var it=-1,ot=Array(nt);++it<nt;)ot[it]=rt(it);return ot}_e.exports=et},function(_e,tt,et){var nt=et(29),rt=et(17),it="[object Arguments]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt){function et(){return!1}_e.exports=et},function(_e,tt,et){var nt=et(29),rt=et(114),it=et(17),ot="[object Arguments]",st="[object Array]",at="[object Boolean]",ct="[object Date]",lt="[object Error]",dt="[object Function]",ut="[object Map]",ft="[object Number]",pt="[object Object]",yt="[object RegExp]",Tt="[object Set]",ht="[object String]",gt="[object WeakMap]",vt="[object ArrayBuffer]",Ct="[object DataView]",It="[object Float32Array]",Zt="[object Float64Array]",Mt="[object Int8Array]",kt="[object Int16Array]",Nt="[object Int32Array]",Lt="[object Uint8Array]",Pt="[object Uint8ClampedArray]",cn="[object Uint16Array]",Jt="[object Uint32Array]",Bt={};Bt[It]=Bt[Zt]=Bt[Mt]=Bt[kt]=Bt[Nt]=Bt[Lt]=Bt[Pt]=Bt[cn]=Bt[Jt]=!0,Bt[ot]=Bt[st]=Bt[vt]=Bt[at]=Bt[Ct]=Bt[ct]=Bt[lt]=Bt[dt]=Bt[ut]=Bt[ft]=Bt[pt]=Bt[yt]=Bt[Tt]=Bt[ht]=Bt[gt]=!1;function dn(vn){return it(vn)&&rt(vn.length)&&!!Bt[nt(vn)]}_e.exports=dn},function(_e,tt,et){var nt=et(178),rt=nt(Object.keys,Object);_e.exports=rt},function(_e,tt,et){var nt=et(40),rt=et(53);function it(ot,st){return ot&&nt(st,rt(st),ot)}_e.exports=it},function(_e,tt,et){var nt=et(11),rt=et(67),it=et(388),ot=Object.prototype,st=ot.hasOwnProperty;function at(ct){if(!nt(ct))return it(ct);var lt=rt(ct),dt=[];for(var ut in ct)ut=="constructor"&&(lt||!st.call(ct,ut))||dt.push(ut);return dt}_e.exports=at},function(_e,tt){function et(nt){var rt=[];if(nt!=null)for(var it in Object(nt))rt.push(it);return rt}_e.exports=et},function(_e,tt,et){var nt=et(40),rt=et(117);function it(ot,st){return nt(ot,rt(ot),st)}_e.exports=it},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length,st=0,at=[];++it<ot;){var ct=nt[it];rt(ct,it,nt)&&(at[st++]=ct)}return at}_e.exports=et},function(_e,tt,et){var nt=et(40),rt=et(181);function it(ot,st){return nt(ot,rt(ot),st)}_e.exports=it},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"DataView");_e.exports=it},function(_e,tt,et){var nt=et(38),rt=et(14),it=nt(rt,"Promise");_e.exports=it},function(_e,tt){var et=Object.prototype,nt=et.hasOwnProperty;function rt(it){var ot=it.length,st=new it.constructor(ot);return ot&&typeof it[0]=="string"&&nt.call(it,"index")&&(st.index=it.index,st.input=it.input),st}_e.exports=rt},function(_e,tt,et){var nt=et(120),rt=et(396),it=et(397),ot=et(398),st=et(188),at="[object Boolean]",ct="[object Date]",lt="[object Map]",dt="[object Number]",ut="[object RegExp]",ft="[object Set]",pt="[object String]",yt="[object Symbol]",Tt="[object ArrayBuffer]",ht="[object DataView]",gt="[object Float32Array]",vt="[object Float64Array]",Ct="[object Int8Array]",It="[object Int16Array]",Zt="[object Int32Array]",Mt="[object Uint8Array]",kt="[object Uint8ClampedArray]",Nt="[object Uint16Array]",Lt="[object Uint32Array]";function Pt(cn,Jt,Bt){var dn=cn.constructor;switch(Jt){case Tt:return nt(cn);case at:case ct:return new dn(+cn);case ht:return rt(cn,Bt);case gt:case vt:case Ct:case It:case Zt:case Mt:case kt:case Nt:case Lt:return st(cn,Bt);case lt:return new dn;case dt:case pt:return new dn(cn);case ut:return it(cn);case ft:return new dn;case yt:return ot(cn)}}_e.exports=Pt},function(_e,tt,et){var nt=et(120);function rt(it,ot){var st=ot?nt(it.buffer):it.buffer;return new it.constructor(st,it.byteOffset,it.byteLength)}_e.exports=rt},function(_e,tt){var et=/\w*$/;function nt(rt){var it=new rt.constructor(rt.source,et.exec(rt));return it.lastIndex=rt.lastIndex,it}_e.exports=nt},function(_e,tt,et){var nt=et(39),rt=nt?nt.prototype:void 0,it=rt?rt.valueOf:void 0;function ot(st){return it?Object(it.call(st)):{}}_e.exports=ot},function(_e,tt,et){var nt=et(400),rt=et(66),it=et(115),ot=it&&it.isMap,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(41),rt=et(17),it="[object Map]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){var nt=et(402),rt=et(66),it=et(115),ot=it&&it.isSet,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(41),rt=et(17),it="[object Set]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){(function(nt){tt.log=ot,tt.formatArgs=it,tt.save=st,tt.load=at,tt.useColors=rt,tt.storage=lt(),tt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function rt(){var ut=ct("colors");return/^(no|off|false|disabled)$/i.test(ut)?!1:typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:!!(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function it(ut){var ft=this.useColors;if(ut[0]=(ft?"%c":"")+this.namespace+(ft?" %c":" ")+ut[0]+(ft?"%c ":" ")+"+"+_e.exports.humanize(this.diff),!!ft){var pt="color: "+this.color;ut.splice(1,0,pt,"color: inherit");var yt=0,Tt=0;ut[0].replace(/%[a-zA-Z%]/g,function(ht){ht!=="%%"&&(yt++,ht==="%c"&&(Tt=yt))}),ut.splice(Tt,0,pt)}}function ot(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function st(ut){try{ut==null?tt.storage.removeItem("debug"):tt.storage.setItem("debug",ut)}catch{}}function at(){var ut;try{ut=tt.storage.getItem("debug")}catch{}return!ut&&typeof nt<"u"&&"env"in nt&&(ut={}.DEBUG),ut}function ct(ut){var ft="debug_"+ut.toLowerCase();try{return tt.storage.getItem(ft)}catch{return typeof nt<"u"&&"env"in nt?nt.env[ft.toUpperCase()]:void 0}}function lt(){try{return localStorage}catch{}}_e.exports=et(404)(tt);var dt=_e.exports.formatters;dt.j=function(ut){try{return JSON.stringify(ut)}catch(ft){return"[UnexpectedJSONParseError]: "+ft.message}}}).call(this,et(42))},function(_e,tt,et){_e.exports=function(rt){ot.debug=ot.default=ot,ot.coerce=dt,ot.disable=ct,ot.enable=at,ot.enabled=lt,ot.humanize=et(405),Object.keys(rt).forEach(function(ut){ot[ut]=rt[ut]}),ot.instances=[],ot.names=[],ot.skips=[],ot.formatters={};function it(ut){var ft=0,pt;for(pt in ut)ft=(ft<<5)-ft+ut.charCodeAt(pt),ft|=0;return ot.colors[Math.abs(ft)%ot.colors.length]}ot.selectColor=it;function ot(ut){var ft;function pt(){if(pt.enabled){var yt=pt,Tt=+new Date,ht=Tt-(ft||Tt);yt.diff=ht,yt.prev=ft,yt.curr=Tt,ft=Tt;for(var gt=new Array(arguments.length),vt=0;vt<gt.length;vt++)gt[vt]=arguments[vt];gt[0]=ot.coerce(gt[0]),typeof gt[0]!="string"&&gt.unshift("%O");var Ct=0;gt[0]=gt[0].replace(/%([a-zA-Z%])/g,function(Zt,Mt){if(Zt==="%%")return Zt;Ct++;var kt=ot.formatters[Mt];if(typeof kt=="function"){var Nt=gt[Ct];Zt=kt.call(yt,Nt),gt.splice(Ct,1),Ct--}return Zt}),ot.formatArgs.call(yt,gt);var It=yt.log||ot.log;It.apply(yt,gt)}}return pt.namespace=ut,pt.enabled=ot.enabled(ut),pt.useColors=ot.useColors(),pt.color=it(ut),pt.destroy=st,typeof ot.init=="function"&&ot.init(pt),ot.instances.push(pt),pt}function st(){var ut=ot.instances.indexOf(this);return ut!==-1?(ot.instances.splice(ut,1),!0):!1}function at(ut){ot.save(ut),ot.names=[],ot.skips=[];var ft,pt=(typeof ut=="string"?ut:"").split(/[\s,]+/),yt=pt.length;for(ft=0;ft<yt;ft++)pt[ft]&&(ut=pt[ft].replace(/\*/g,".*?"),ut[0]==="-"?ot.skips.push(new RegExp("^"+ut.substr(1)+"$")):ot.names.push(new RegExp("^"+ut+"$")));for(ft=0;ft<ot.instances.length;ft++){var Tt=ot.instances[ft];Tt.enabled=ot.enabled(Tt.namespace)}}function ct(){ot.enable("")}function lt(ut){if(ut[ut.length-1]==="*")return!0;var ft,pt;for(ft=0,pt=ot.skips.length;ft<pt;ft++)if(ot.skips[ft].test(ut))return!1;for(ft=0,pt=ot.names.length;ft<pt;ft++)if(ot.names[ft].test(ut))return!0;return!1}function dt(ut){return ut instanceof Error?ut.stack||ut.message:ut}return ot.enable(ot.load()),ot}},function(_e,tt){var et=1e3,nt=et*60,rt=nt*60,it=rt*24,ot=it*7,st=it*365.25;_e.exports=function(ut,ft){ft=ft||{};var pt=typeof ut;if(pt==="string"&&ut.length>0)return at(ut);if(pt==="number"&&isFinite(ut))return ft.long?lt(ut):ct(ut);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ut))};function at(ut){if(ut=String(ut),!(ut.length>100)){var ft=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ut);if(ft){var pt=parseFloat(ft[1]),yt=(ft[2]||"ms").toLowerCase();switch(yt){case"years":case"year":case"yrs":case"yr":case"y":return pt*st;case"weeks":case"week":case"w":return pt*ot;case"days":case"day":case"d":return pt*it;case"hours":case"hour":case"hrs":case"hr":case"h":return pt*rt;case"minutes":case"minute":case"mins":case"min":case"m":return pt*nt;case"seconds":case"second":case"secs":case"sec":case"s":return pt*et;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return pt;default:return}}}}function ct(ut){var ft=Math.abs(ut);return ft>=it?Math.round(ut/it)+"d":ft>=rt?Math.round(ut/rt)+"h":ft>=nt?Math.round(ut/nt)+"m":ft>=et?Math.round(ut/et)+"s":ut+"ms"}function lt(ut){var ft=Math.abs(ut);return ft>=it?dt(ut,ft,it,"day"):ft>=rt?dt(ut,ft,rt,"hour"):ft>=nt?dt(ut,ft,nt,"minute"):ft>=et?dt(ut,ft,et,"second"):ut+" ms"}function dt(ut,ft,pt,yt){var Tt=ft>=pt*1.5;return Math.round(ut/pt)+" "+yt+(Tt?"s":"")}},function(_e,tt,et){var nt=et(407),rt=et(175),it=et(88),ot=rt?function(st,at){return rt(st,"toString",{configurable:!0,enumerable:!1,value:nt(at),writable:!0})}:it;_e.exports=ot},function(_e,tt){function et(nt){return function(){return nt}}_e.exports=et},function(_e,tt,et){const nt=et(194),rt=new nt;function it(ot,st){if(st===void 0)return ot;rt.has(st)||rt.set(st,new nt);const at=rt.get(st);return at.has(ot)||at.set(ot,ot.bind(st)),at.get(ot)}_e.exports=it},function(_e,tt,et){_e.exports=function(){var nt,rt;if(typeof WeakMap!="function")return!1;try{nt=new WeakMap([[rt={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(nt)!=="[object WeakMap]"||typeof nt.set!="function"||nt.set({},1)!==nt||typeof nt.delete!="function"||typeof nt.has!="function"||nt.get(rt)!=="one")}},function(_e,tt,et){var nt=et(43),rt=et(125),it=et(413),ot=et(31),st=et(414),at=et(32),ct=et(201),lt=et(456),dt=et(44).toStringTag,ut=et(457),ft=Array.isArray,pt=Object.defineProperty,yt=Object.prototype.hasOwnProperty,Tt=Object.getPrototypeOf,ht;_e.exports=ht=function(){var gt=arguments[0],vt;if(!(this instanceof ht))throw new TypeError("Constructor requires 'new'");return vt=ut&&rt&&WeakMap!==ht?rt(new WeakMap,Tt(this)):this,nt(gt)&&(ft(gt)||(gt=ct(gt))),pt(vt,"__weakMapData__",at("c","$weakMap$"+st())),gt&&lt(gt,function(Ct){ot(Ct),vt.set(Ct[0],Ct[1])}),vt},ut&&(rt&&rt(ht,WeakMap),ht.prototype=Object.create(WeakMap.prototype,{constructor:at(ht)})),Object.defineProperties(ht.prototype,{delete:at(function(gt){return yt.call(it(gt),this.__weakMapData__)?(delete gt[this.__weakMapData__],!0):!1}),get:at(function(gt){if(yt.call(it(gt),this.__weakMapData__))return gt[this.__weakMapData__]}),has:at(function(gt){return yt.call(it(gt),this.__weakMapData__)}),set:at(function(gt,vt){return pt(it(gt),this.__weakMapData__,at("c",vt)),this}),toString:at(function(){return"[object WeakMap]"})}),pt(ht.prototype,dt,at("c","WeakMap"))},function(_e,tt,et){_e.exports=function(){}},function(_e,tt,et){var nt=Object.create,rt;et(195)()||(rt=et(196)),_e.exports=function(){var it,ot,st;return!rt||rt.level!==1?nt:(it={},ot={},st={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(at){if(at==="__proto__"){ot[at]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}ot[at]=st}),Object.defineProperties(it,ot),Object.defineProperty(rt,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:it}),function(at,ct){return nt(at===null?it:at,ct)})}()},function(_e,tt,et){var nt=et(197);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not an Object");return rt}},function(_e,tt,et){var nt=Object.create(null),rt=Math.random;_e.exports=function(){var it;do it=rt().toString(36).slice(2);while(nt[it]);return it}},function(_e,tt,et){var nt=et(416);_e.exports=function(rt){if(typeof rt!="function"||!hasOwnProperty.call(rt,"length"))return!1;try{if(typeof rt.length!="number"||typeof rt.call!="function"||typeof rt.apply!="function")return!1}catch{return!1}return!nt(rt)}},function(_e,tt,et){var nt=et(126);_e.exports=function(rt){if(!nt(rt))return!1;try{return rt.constructor?rt.constructor.prototype===rt:!1}catch{return!1}}},function(_e,tt,et){_e.exports=function(){var nt=Object.assign,rt;return typeof nt!="function"?!1:(rt={foo:"raz"},nt(rt,{bar:"dwa"},{trzy:"trzy"}),rt.foo+rt.bar+rt.trzy==="razdwatrzy")}},function(_e,tt,et){var nt=et(419),rt=et(31),it=Math.max;_e.exports=function(ot,st){var at,ct,lt=it(arguments.length,2),dt;for(ot=Object(rt(ot)),dt=function(ut){try{ot[ut]=st[ut]}catch(ft){at||(at=ft)}},ct=1;ct<lt;++ct)st=arguments[ct],nt(st).forEach(dt);if(at!==void 0)throw at;return ot}},function(_e,tt,et){_e.exports=et(420)()?Object.keys:et(421)},function(_e,tt,et){_e.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(_e,tt,et){var nt=et(43),rt=Object.keys;_e.exports=function(it){return rt(nt(it)?Object(it):it)}},function(_e,tt,et){var nt="razdwatrzy";_e.exports=function(){return typeof nt.contains!="function"?!1:nt.contains("dwa")===!0&&nt.contains("foo")===!1}},function(_e,tt,et){var nt=String.prototype.indexOf;_e.exports=function(rt){return nt.call(this,rt,arguments[1])>-1}},function(_e,tt,et){var nt=et(125),rt=et(200),it=et(32),ot=et(44),st=et(203),at=Object.defineProperty,ct;ct=_e.exports=function(lt,dt){if(!(this instanceof ct))throw new TypeError("Constructor requires 'new'");st.call(this,lt),dt?rt.call(dt,"key+value")?dt="key+value":rt.call(dt,"key")?dt="key":dt="value":dt="value",at(this,"__kind__",it("",dt))},nt&&nt(ct,st),delete ct.prototype.constructor,ct.prototype=Object.create(st.prototype,{_resolve:it(function(lt){return this.__kind__==="value"?this.__list__[lt]:this.__kind__==="key+value"?[lt,this.__list__[lt]]:lt})}),at(ct.prototype,ot.toStringTag,it("c","Array Iterator"))},function(_e,tt,et){var nt=et(91),rt={object:!0,symbol:!0};_e.exports=function(){var it=nt.Symbol,ot;if(typeof it!="function")return!1;ot=it("test symbol");try{String(ot)}catch{return!1}return!(!rt[typeof it.iterator]||!rt[typeof it.toPrimitive]||!rt[typeof it.toStringTag])}},function(_e,tt,et){_e.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},function(_e,tt){var et=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};_e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return et()}try{return __global__||et()}finally{delete Object.prototype.__global__}}()},function(_e,tt,et){var nt=et(32),rt=et(202),it=et(91).Symbol,ot=et(430),st=et(431),at=et(432),ct=Object.create,lt=Object.defineProperties,dt=Object.defineProperty,ut,ft,pt;if(typeof it=="function")try{String(it()),pt=!0}catch{}else it=null;ft=function(Tt){if(this instanceof ft)throw new TypeError("Symbol is not a constructor");return ut(Tt)},_e.exports=ut=function yt(Tt){var ht;if(this instanceof yt)throw new TypeError("Symbol is not a constructor");return pt?it(Tt):(ht=ct(ft.prototype),Tt=Tt===void 0?"":String(Tt),lt(ht,{__description__:nt("",Tt),__name__:nt("",ot(Tt))}))},st(ut),at(ut),lt(ft.prototype,{constructor:nt(ut),toString:nt("",function(){return this.__name__})}),lt(ut.prototype,{toString:nt(function(){return"Symbol ("+rt(this).__description__+")"}),valueOf:nt(function(){return rt(this)})}),dt(ut.prototype,ut.toPrimitive,nt("",function(){var yt=rt(this);return typeof yt=="symbol"?yt:yt.toString()})),dt(ut.prototype,ut.toStringTag,nt("c","Symbol")),dt(ft.prototype,ut.toStringTag,nt("c",ut.prototype[ut.toStringTag])),dt(ft.prototype,ut.toPrimitive,nt("c",ut.prototype[ut.toPrimitive]))},function(_e,tt,et){_e.exports=function(nt){return nt?typeof nt=="symbol"?!0:!nt.constructor||nt.constructor.name!=="Symbol"?!1:nt[nt.constructor.toStringTag]==="Symbol":!1}},function(_e,tt,et){var nt=et(32),rt=Object.create,it=Object.defineProperty,ot=Object.prototype,st=rt(null);_e.exports=function(at){for(var ct=0,lt,dt;st[at+(ct||"")];)++ct;return at+=ct||"",st[at]=!0,lt="@@"+at,it(ot,lt,nt.gs(null,function(ut){dt||(dt=!0,it(this,lt,nt(ut)),dt=!1)})),lt}},function(_e,tt,et){var nt=et(32),rt=et(91).Symbol;_e.exports=function(it){return Object.defineProperties(it,{hasInstance:nt("",rt&&rt.hasInstance||it("hasInstance")),isConcatSpreadable:nt("",rt&&rt.isConcatSpreadable||it("isConcatSpreadable")),iterator:nt("",rt&&rt.iterator||it("iterator")),match:nt("",rt&&rt.match||it("match")),replace:nt("",rt&&rt.replace||it("replace")),search:nt("",rt&&rt.search||it("search")),species:nt("",rt&&rt.species||it("species")),split:nt("",rt&&rt.split||it("split")),toPrimitive:nt("",rt&&rt.toPrimitive||it("toPrimitive")),toStringTag:nt("",rt&&rt.toStringTag||it("toStringTag")),unscopables:nt("",rt&&rt.unscopables||it("unscopables"))})}},function(_e,tt,et){var nt=et(32),rt=et(202),it=Object.create(null);_e.exports=function(ot){return Object.defineProperties(ot,{for:nt(function(st){return it[st]?it[st]:it[st]=ot(String(st))}),keyFor:nt(function(st){var at;rt(st);for(at in it)if(it[at]===st)return at})})}},function(_e,tt,et){var nt=et(31);_e.exports=function(){return nt(this).length=0,this}},function(_e,tt,et){var nt=et(55),rt=et(435),it=et(439),ot=et(440),st=et(199),at=et(450),ct=Function.prototype.bind,lt=Object.defineProperty,dt=Object.prototype.hasOwnProperty,ut;ut=function(ft,pt,yt){var Tt=rt(pt)&&it(pt.value),ht;return ht=ot(pt),delete ht.writable,delete ht.value,ht.get=function(){return!yt.overwriteDefinition&&dt.call(this,ft)?Tt:(pt.value=ct.call(Tt,yt.resolveContext?yt.resolveContext(this):this),lt(this,ft,pt),this[ft])},ht},_e.exports=function(ft){var pt=st(arguments[1]);return nt(pt.resolveContext)&&it(pt.resolveContext),at(ft,function(yt,Tt){return ut(Tt,yt,pt)})}},function(_e,tt,et){var nt=et(204),rt=et(55);_e.exports=function(it){return rt(it)?it:nt(it,"Cannot use %v",arguments[1])}},function(_e,tt,et){var nt=et(55),rt=et(126),it=Object.prototype.toString;_e.exports=function(ot){if(!nt(ot))return null;if(rt(ot)){var st=ot.toString;if(typeof st!="function"||st===it)return null}try{return""+ot}catch{return null}}},function(_e,tt,et){var nt=et(438),rt=/[\n\r\u2028\u2029]/g;_e.exports=function(it){var ot=nt(it);return ot===null?"<Non-coercible to string value>":(ot.length>100&&(ot=ot.slice(0,99)+"…"),ot=ot.replace(rt,function(st){switch(st){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),ot)}},function(_e,tt,et){_e.exports=function(nt){try{return nt.toString()}catch{try{return String(nt)}catch{return null}}}},function(_e,tt,et){var nt=et(204),rt=et(198);_e.exports=function(it){return rt(it)?it:nt(it,"%v is not a plain function",arguments[1])}},function(_e,tt,et){var nt=et(441),rt=et(127),it=et(31);_e.exports=function(ot){var st=Object(it(ot)),at=arguments[1],ct=Object(arguments[2]);if(st!==ot&&!at)return st;var lt={};return at?nt(at,function(dt){(ct.ensure||dt in ot)&&(lt[dt]=ot[dt])}):rt(lt,ot),lt}},function(_e,tt,et){_e.exports=et(442)()?Array.from:et(443)},function(_e,tt,et){_e.exports=function(){var nt=Array.from,rt,it;return typeof nt!="function"?!1:(rt=["raz","dwa"],it=nt(rt),!!(it&&it!==rt&&it[1]==="dwa"))}},function(_e,tt,et){var nt=et(44).iterator,rt=et(89),it=et(444),ot=et(445),st=et(68),at=et(31),ct=et(43),lt=et(90),dt=Array.isArray,ut=Function.prototype.call,ft={configurable:!0,enumerable:!0,writable:!0,value:null},pt=Object.defineProperty;_e.exports=function(yt){var Tt=arguments[1],ht=arguments[2],gt,vt,Ct,It,Zt,Mt,kt,Nt,Lt,Pt;if(yt=Object(at(yt)),ct(Tt)&&st(Tt),!this||this===Array||!it(this)){if(!Tt){if(rt(yt))return Zt=yt.length,Zt!==1?Array.apply(null,yt):(It=new Array(1),It[0]=yt[0],It);if(dt(yt)){for(It=new Array(Zt=yt.length),vt=0;vt<Zt;++vt)It[vt]=yt[vt];return It}}It=[]}else gt=this;if(!dt(yt)){if((Lt=yt[nt])!==void 0){for(kt=st(Lt).call(yt),gt&&(It=new gt),Nt=kt.next(),vt=0;!Nt.done;)Pt=Tt?ut.call(Tt,ht,Nt.value,vt):Nt.value,gt?(ft.value=Pt,pt(It,vt,ft)):It[vt]=Pt,Nt=kt.next(),++vt;Zt=vt}else if(lt(yt)){for(Zt=yt.length,gt&&(It=new gt),vt=0,Ct=0;vt<Zt;++vt)Pt=yt[vt],vt+1<Zt&&(Mt=Pt.charCodeAt(0),Mt>=55296&&Mt<=56319&&(Pt+=yt[++vt])),Pt=Tt?ut.call(Tt,ht,Pt,Ct):Pt,gt?(ft.value=Pt,pt(It,Ct,ft)):It[Ct]=Pt,++Ct;Zt=Ct}}if(Zt===void 0)for(Zt=ot(yt.length),gt&&(It=new gt(Zt)),vt=0;vt<Zt;++vt)Pt=Tt?ut.call(Tt,ht,yt[vt],vt):yt[vt],gt?(ft.value=Pt,pt(It,vt,ft)):It[vt]=Pt;return gt&&(ft.value=null,It.length=Zt),It}},function(_e,tt,et){var nt=Object.prototype.toString,rt=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);_e.exports=function(it){return typeof it=="function"&&rt(nt.call(it))}},function(_e,tt,et){var nt=et(446),rt=Math.max;_e.exports=function(it){return rt(0,nt(it))}},function(_e,tt,et){var nt=et(447),rt=Math.abs,it=Math.floor;_e.exports=function(ot){return isNaN(ot)?0:(ot=Number(ot),ot===0||!isFinite(ot)?ot:nt(ot)*it(rt(ot)))}},function(_e,tt,et){_e.exports=et(448)()?Math.sign:et(449)},function(_e,tt,et){_e.exports=function(){var nt=Math.sign;return typeof nt!="function"?!1:nt(10)===1&&nt(-20)===-1}},function(_e,tt,et){_e.exports=function(nt){return nt=Number(nt),isNaN(nt)||nt===0?nt:nt>0?1:-1}},function(_e,tt,et){var nt=et(68),rt=et(451),it=Function.prototype.call;_e.exports=function(ot,st){var at={},ct=arguments[2];return nt(st),rt(ot,function(lt,dt,ut,ft){at[dt]=it.call(st,ct,lt,dt,ut,ft)}),at}},function(_e,tt,et){_e.exports=et(452)("forEach")},function(_e,tt,et){var nt=et(68),rt=et(31),it=Function.prototype.bind,ot=Function.prototype.call,st=Object.keys,at=Object.prototype.propertyIsEnumerable;_e.exports=function(ct,lt){return function(dt,ut){var ft,pt=arguments[2],yt=arguments[3];return dt=Object(rt(dt)),nt(ut),ft=st(dt),yt&&ft.sort(typeof yt=="function"?it.call(yt,dt):void 0),typeof ct!="function"&&(ct=ft[ct]),ot.call(ct,ft,function(Tt,ht){return at.call(dt,Tt)?ot.call(ut,pt,dt[Tt],Tt,dt,ht):lt})}}},function(_e,tt,et){var nt=et(125),rt=et(32),it=et(44),ot=et(203),st=Object.defineProperty,at;at=_e.exports=function(ct){if(!(this instanceof at))throw new TypeError("Constructor requires 'new'");ct=String(ct),ot.call(this,ct),st(this,"__length__",rt("",ct.length))},nt&&nt(at,ot),delete at.prototype.constructor,at.prototype=Object.create(ot.prototype,{_next:rt(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:rt(function(ct){var lt=this.__list__[ct],dt;return this.__nextIndex__===this.__length__?lt:(dt=lt.charCodeAt(0),dt>=55296&&dt<=56319?lt+this.__list__[this.__nextIndex__++]:lt)})}),st(at.prototype,it.toStringTag,rt("c","String Iterator"))},function(_e,tt,et){var nt=et(455);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not iterable");return rt}},function(_e,tt,et){var nt=et(89),rt=et(43),it=et(90),ot=et(44).iterator,st=Array.isArray;_e.exports=function(at){return rt(at)?st(at)||it(at)||nt(at)?!0:typeof at[ot]=="function":!1}},function(_e,tt,et){var nt=et(89),rt=et(68),it=et(90),ot=et(201),st=Array.isArray,at=Function.prototype.call,ct=Array.prototype.some;_e.exports=function(lt,dt){var ut,ft=arguments[2],pt,yt,Tt,ht,gt,vt,Ct;if(st(lt)||nt(lt)?ut="array":it(lt)?ut="string":lt=ot(lt),rt(dt),yt=function(){Tt=!0},ut==="array"){ct.call(lt,function(It){return at.call(dt,ft,It,yt),Tt});return}if(ut==="string"){for(gt=lt.length,ht=0;ht<gt&&(vt=lt[ht],ht+1<gt&&(Ct=vt.charCodeAt(0),Ct>=55296&&Ct<=56319&&(vt+=lt[++ht])),at.call(dt,ft,vt,yt),!Tt);++ht);return}for(pt=lt.next();!pt.done;){if(at.call(dt,ft,pt.value,yt),Tt)return;pt=lt.next()}}},function(_e,tt,et){_e.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},function(_e,tt,et){var nt=et(92),rt=et(93),it=et(130),ot=et(33),st=et(66),at=et(94),ct=Math.min;function lt(dt,ut,ft){for(var pt=ft?it:rt,yt=dt[0].length,Tt=dt.length,ht=Tt,gt=Array(Tt),vt=1/0,Ct=[];ht--;){var It=dt[ht];ht&&ut&&(It=ot(It,st(ut))),vt=ct(It.length,vt),gt[ht]=!ft&&(ut||yt>=120&&It.length>=120)?new nt(ht&&It):void 0}It=dt[0];var Zt=-1,Mt=gt[0];e:for(;++Zt<yt&&Ct.length<vt;){var kt=It[Zt],Nt=ut?ut(kt):kt;if(kt=ft||kt!==0?kt:0,!(Mt?at(Mt,Nt):pt(Ct,Nt,ft))){for(ht=Tt;--ht;){var Lt=gt[ht];if(!(Lt?at(Lt,Nt):pt(dt[ht],Nt,ft)))continue e}Mt&&Mt.push(Nt),Ct.push(kt)}}return Ct}_e.exports=lt},function(_e,tt){var et="__lodash_hash_undefined__";function nt(rt){return this.__data__.set(rt,et),this}_e.exports=nt},function(_e,tt){function et(nt){return this.__data__.has(nt)}_e.exports=et},function(_e,tt,et){var nt=et(205),rt=et(462),it=et(463);function ot(st,at,ct){return at===at?it(st,at,ct):nt(st,rt,ct)}_e.exports=ot},function(_e,tt){function et(nt){return nt!==nt}_e.exports=et},function(_e,tt){function et(nt,rt,it){for(var ot=it-1,st=nt.length;++ot<st;)if(nt[ot]===rt)return ot;return-1}_e.exports=et},function(_e,tt,et){var nt=et(131);function rt(it){return nt(it)?it:[]}_e.exports=rt},function(_e,tt,et){(function(nt){var rt=et(19),it=et(207),ot=et(466),st=et(213),at=et(132);function ct(dt){var ut=new ot(dt),ft=it(ot.prototype.request,ut);return rt.extend(ft,ot.prototype,ut),rt.extend(ft,ut),ft}var lt=ct(at);lt.Axios=ot,lt.create=function(ut){return ct(st(lt.defaults,ut))},lt.Cancel=et(214),lt.CancelToken=et(480),lt.isCancel=et(212),lt.all=function(ut){return nt.all(ut)},lt.spread=et(481),lt.isAxiosError=et(482),_e.exports=lt,_e.exports.default=lt}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(19),it=et(208),ot=et(467),st=et(468),at=et(213),ct=et(478),lt=ct.validators;function dt(ut){this.defaults=ut,this.interceptors={request:new ot,response:new ot}}dt.prototype.request=function(ft){typeof ft=="string"?(ft=arguments[1]||{},ft.url=arguments[0]):ft=ft||{},ft=at(this.defaults,ft),ft.method?ft.method=ft.method.toLowerCase():this.defaults.method?ft.method=this.defaults.method.toLowerCase():ft.method="get";var pt=ft.transitional;pt!==void 0&&ct.assertOptions(pt,{silentJSONParsing:lt.transitional(lt.boolean,"1.0.0"),forcedJSONParsing:lt.transitional(lt.boolean,"1.0.0"),clarifyTimeoutError:lt.transitional(lt.boolean,"1.0.0")},!1);var yt=[],Tt=!0;this.interceptors.request.forEach(function(kt){typeof kt.runWhen=="function"&&kt.runWhen(ft)===!1||(Tt=Tt&&kt.synchronous,yt.unshift(kt.fulfilled,kt.rejected))});var ht=[];this.interceptors.response.forEach(function(kt){ht.push(kt.fulfilled,kt.rejected)});var gt;if(!Tt){var vt=[st,void 0];for(Array.prototype.unshift.apply(vt,yt),vt=vt.concat(ht),gt=nt.resolve(ft);vt.length;)gt=gt.then(vt.shift(),vt.shift());return gt}for(var Ct=ft;yt.length;){var It=yt.shift(),Zt=yt.shift();try{Ct=It(Ct)}catch(Mt){Zt(Mt);break}}try{gt=st(Ct)}catch(Mt){return nt.reject(Mt)}for(;ht.length;)gt=gt.then(ht.shift(),ht.shift());return gt},dt.prototype.getUri=function(ft){return ft=at(this.defaults,ft),it(ft.url,ft.params,ft.paramsSerializer).replace(/^\?/,"")},rt.forEach(["delete","get","head","options"],function(ft){dt.prototype[ft]=function(pt,yt){return this.request(at(yt||{},{method:ft,url:pt,data:(yt||{}).data}))}}),rt.forEach(["post","put","patch"],function(ft){dt.prototype[ft]=function(pt,yt,Tt){return this.request(at(Tt||{},{method:ft,url:pt,data:yt}))}}),_e.exports=dt}).call(this,et(0))},function(_e,tt,et){var nt=et(19);function rt(){this.handlers=[]}rt.prototype.use=function(ot,st,at){return this.handlers.push({fulfilled:ot,rejected:st,synchronous:at?at.synchronous:!1,runWhen:at?at.runWhen:null}),this.handlers.length-1},rt.prototype.eject=function(ot){this.handlers[ot]&&(this.handlers[ot]=null)},rt.prototype.forEach=function(ot){nt.forEach(this.handlers,function(at){at!==null&&ot(at)})},_e.exports=rt},function(_e,tt,et){(function(nt){var rt=et(19),it=et(469),ot=et(212),st=et(132);function at(ct){ct.cancelToken&&ct.cancelToken.throwIfRequested()}_e.exports=function(lt){at(lt),lt.headers=lt.headers||{},lt.data=it.call(lt,lt.data,lt.headers,lt.transformRequest),lt.headers=rt.merge(lt.headers.common||{},lt.headers[lt.method]||{},lt.headers),rt.forEach(["delete","get","head","post","put","patch","common"],function(ft){delete lt.headers[ft]});var dt=lt.adapter||st.adapter;return dt(lt).then(function(ft){return at(lt),ft.data=it.call(lt,ft.data,ft.headers,lt.transformResponse),ft},function(ft){return ot(ft)||(at(lt),ft&&ft.response&&(ft.response.data=it.call(lt,ft.response.data,ft.response.headers,lt.transformResponse))),nt.reject(ft)})}}).call(this,et(0))},function(_e,tt,et){var nt=et(19),rt=et(132);_e.exports=function(ot,st,at){var ct=this||rt;return nt.forEach(at,function(dt){ot=dt.call(ct,ot,st)}),ot}},function(_e,tt,et){var nt=et(19);_e.exports=function(it,ot){nt.forEach(it,function(at,ct){ct!==ot&&ct.toUpperCase()===ot.toUpperCase()&&(it[ot]=at,delete it[ct])})}},function(_e,tt,et){var nt=et(211);_e.exports=function(it,ot,st){var at=st.config.validateStatus;!st.status||!at||at(st.status)?it(st):ot(nt("Request failed with status code "+st.status,st.config,null,st.request,st))}},function(_e,tt,et){var nt=et(19);_e.exports=nt.isStandardBrowserEnv()?function(){return{write:function(ot,st,at,ct,lt,dt){var ut=[];ut.push(ot+"="+encodeURIComponent(st)),nt.isNumber(at)&&ut.push("expires="+new Date(at).toGMTString()),nt.isString(ct)&&ut.push("path="+ct),nt.isString(lt)&&ut.push("domain="+lt),dt===!0&&ut.push("secure"),document.cookie=ut.join("; ")},read:function(ot){var st=document.cookie.match(new RegExp("(^|;\\s*)("+ot+")=([^;]*)"));return st?decodeURIComponent(st[3]):null},remove:function(ot){this.write(ot,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(_e,tt,et){var nt=et(474),rt=et(475);_e.exports=function(ot,st){return ot&&!nt(st)?rt(ot,st):st}},function(_e,tt,et){_e.exports=function(rt){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(rt)}},function(_e,tt,et){_e.exports=function(rt,it){return it?rt.replace(/\/+$/,"")+"/"+it.replace(/^\/+/,""):rt}},function(_e,tt,et){var nt=et(19),rt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];_e.exports=function(ot){var st={},at,ct,lt;return ot&&nt.forEach(ot.split(`
`),function(ut){if(lt=ut.indexOf(":"),at=nt.trim(ut.substr(0,lt)).toLowerCase(),ct=nt.trim(ut.substr(lt+1)),at){if(st[at]&&rt.indexOf(at)>=0)return;at==="set-cookie"?st[at]=(st[at]?st[at]:[]).concat([ct]):st[at]=st[at]?st[at]+", "+ct:ct}}),st}},function(_e,tt,et){var nt=et(19);_e.exports=nt.isStandardBrowserEnv()?function(){var it=/(msie|trident)/i.test(navigator.userAgent),ot=document.createElement("a"),st;function at(ct){var lt=ct;return it&&(ot.setAttribute("href",lt),lt=ot.href),ot.setAttribute("href",lt),{href:ot.href,protocol:ot.protocol?ot.protocol.replace(/:$/,""):"",host:ot.host,search:ot.search?ot.search.replace(/^\?/,""):"",hash:ot.hash?ot.hash.replace(/^#/,""):"",hostname:ot.hostname,port:ot.port,pathname:ot.pathname.charAt(0)==="/"?ot.pathname:"/"+ot.pathname}}return st=at(window.location.href),function(lt){var dt=nt.isString(lt)?at(lt):lt;return dt.protocol===st.protocol&&dt.host===st.host}}():function(){return function(){return!0}}()},function(_e,tt,et){var nt=et(479),rt={};["object","boolean","number","function","string","symbol"].forEach(function(ct,lt){rt[ct]=function(ut){return typeof ut===ct||"a"+(lt<1?"n ":" ")+ct}});var it={},ot=nt.version.split(".");function st(ct,lt){for(var dt=lt?lt.split("."):ot,ut=ct.split("."),ft=0;ft<3;ft++){if(dt[ft]>ut[ft])return!0;if(dt[ft]<ut[ft])return!1}return!1}rt.transitional=function(lt,dt,ut){var ft=dt&&st(dt);function pt(yt,Tt){return"[Axios v"+nt.version+"] Transitional option '"+yt+"'"+Tt+(ut?". "+ut:"")}return function(yt,Tt,ht){if(lt===!1)throw new Error(pt(Tt," has been removed in "+dt));return ft&&!it[Tt]&&(it[Tt]=!0,console.warn(pt(Tt," has been deprecated since v"+dt+" and will be removed in the near future"))),lt?lt(yt,Tt,ht):!0}};function at(ct,lt,dt){if(typeof ct!="object")throw new TypeError("options must be an object");for(var ut=Object.keys(ct),ft=ut.length;ft-- >0;){var pt=ut[ft],yt=lt[pt];if(yt){var Tt=ct[pt],ht=Tt===void 0||yt(Tt,pt,ct);if(ht!==!0)throw new TypeError("option "+pt+" must be "+ht);continue}if(dt!==!0)throw Error("Unknown option "+pt)}}_e.exports={isOlderVersion:st,assertOptions:at,validators:rt}},function(_e){_e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(_e,tt,et){(function(nt){var rt=et(214);function it(ot){if(typeof ot!="function")throw new TypeError("executor must be a function.");var st;this.promise=new nt(function(lt){st=lt});var at=this;ot(function(lt){at.reason||(at.reason=new rt(lt),st(at.reason))})}it.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},it.source=function(){var st,at=new it(function(lt){st=lt});return{token:at,cancel:st}},_e.exports=it}).call(this,et(0))},function(_e,tt,et){_e.exports=function(rt){return function(ot){return rt.apply(null,ot)}}},function(_e,tt,et){_e.exports=function(rt){return typeof rt=="object"&&rt.isAxiosError===!0}},function(_e,tt,et){var nt=et(215),rt=nt("pick",et(47));rt.placeholder=et(133),_e.exports=rt},function(_e,tt,et){var nt=et(485),rt=et(133),it=Array.prototype.push;function ot(ft,pt){return pt==2?function(yt,Tt){return ft.apply(void 0,arguments)}:function(yt){return ft.apply(void 0,arguments)}}function st(ft,pt){return pt==2?function(yt,Tt){return ft(yt,Tt)}:function(yt){return ft(yt)}}function at(ft){for(var pt=ft?ft.length:0,yt=Array(pt);pt--;)yt[pt]=ft[pt];return yt}function ct(ft){return function(pt){return ft({},pt)}}function lt(ft,pt){return function(){for(var yt=arguments.length,Tt=yt-1,ht=Array(yt);yt--;)ht[yt]=arguments[yt];var gt=ht[pt],vt=ht.slice(0,pt);return gt&&it.apply(vt,gt),pt!=Tt&&it.apply(vt,ht.slice(pt+1)),ft.apply(this,vt)}}function dt(ft,pt){return function(){var yt=arguments.length;if(yt){for(var Tt=Array(yt);yt--;)Tt[yt]=arguments[yt];var ht=Tt[0]=pt.apply(void 0,Tt);return ft.apply(void 0,Tt),ht}}}function ut(ft,pt,yt,Tt){var ht=typeof pt=="function",gt=pt===Object(pt);if(gt&&(Tt=yt,yt=pt,pt=void 0),yt==null)throw new TypeError;Tt||(Tt={});var vt={cap:"cap"in Tt?Tt.cap:!0,curry:"curry"in Tt?Tt.curry:!0,fixed:"fixed"in Tt?Tt.fixed:!0,immutable:"immutable"in Tt?Tt.immutable:!0,rearg:"rearg"in Tt?Tt.rearg:!0},Ct=ht?yt:rt,It="curry"in Tt&&Tt.curry,Zt="fixed"in Tt&&Tt.fixed,Mt="rearg"in Tt&&Tt.rearg,kt=ht?yt.runInContext():void 0,Nt=ht?yt:{ary:ft.ary,assign:ft.assign,clone:ft.clone,curry:ft.curry,forEach:ft.forEach,isArray:ft.isArray,isError:ft.isError,isFunction:ft.isFunction,isWeakMap:ft.isWeakMap,iteratee:ft.iteratee,keys:ft.keys,rearg:ft.rearg,toInteger:ft.toInteger,toPath:ft.toPath},Lt=Nt.ary,Pt=Nt.assign,cn=Nt.clone,Jt=Nt.curry,Bt=Nt.forEach,dn=Nt.isArray,vn=Nt.isError,Tn=Nt.isFunction,pn=Nt.isWeakMap,In=Nt.keys,Cn=Nt.rearg,yn=Nt.toInteger,bn=Nt.toPath,Xn=In(nt.aryMethod),Hn={castArray:function(Lr){return function(){var Pr=arguments[0];return dn(Pr)?Lr(at(Pr)):Lr.apply(void 0,arguments)}},iteratee:function(Lr){return function(){var Pr=arguments[0],qn=arguments[1],Yn=Lr(Pr,qn),vr=Yn.length;return vt.cap&&typeof qn=="number"?(qn=qn>2?qn-2:1,vr&&vr<=qn?Yn:st(Yn,qn)):Yn}},mixin:function(Lr){return function(Pr){var qn=this;if(!Tn(qn))return Lr(qn,Object(Pr));var Yn=[];return Bt(In(Pr),function(vr){Tn(Pr[vr])&&Yn.push([vr,qn.prototype[vr]])}),Lr(qn,Object(Pr)),Bt(Yn,function(vr){var Dr=vr[1];Tn(Dr)?qn.prototype[vr[0]]=Dr:delete qn.prototype[vr[0]]}),qn}},nthArg:function(Lr){return function(Pr){var qn=Pr<0?1:yn(Pr)+1;return Jt(Lr(Pr),qn)}},rearg:function(Lr){return function(Pr,qn){var Yn=qn?qn.length:0;return Jt(Lr(Pr,qn),Yn)}},runInContext:function(Lr){return function(Pr){return ut(ft,Lr(Pr),Tt)}}};function En(Lr,Pr){if(vt.cap){var qn=nt.iterateeRearg[Lr];if(qn)return Rr(Pr,qn);var Yn=!ht&&nt.iterateeAry[Lr];if(Yn)return Or(Pr,Yn)}return Pr}function Zn(Lr,Pr,qn){return It||vt.curry&&qn>1?Jt(Pr,qn):Pr}function Vn(Lr,Pr,qn){if(vt.fixed&&(Zt||!nt.skipFixed[Lr])){var Yn=nt.methodSpread[Lr],vr=Yn&&Yn.start;return vr===void 0?Lt(Pr,qn):lt(Pr,vr)}return Pr}function rr(Lr,Pr,qn){return vt.rearg&&qn>1&&(Mt||!nt.skipRearg[Lr])?Cn(Pr,nt.methodRearg[Lr]||nt.aryRearg[qn]):Pr}function gr(Lr,Pr){Pr=bn(Pr);for(var qn=-1,Yn=Pr.length,vr=Yn-1,Dr=cn(Object(Lr)),ho=Dr;ho!=null&&++qn<Yn;){var er=Pr[qn],Ir=ho[er];Ir!=null&&!(Tn(Ir)||vn(Ir)||pn(Ir))&&(ho[er]=cn(qn==vr?Ir:Object(Ir))),ho=ho[er]}return Dr}function cr(Lr){return Qr.runInContext.convert(Lr)(void 0)}function sr(Lr,Pr){var qn=nt.aliasToReal[Lr]||Lr,Yn=nt.remap[qn]||qn,vr=Tt;return function(Dr){var ho=ht?kt:Nt,er=ht?kt[Yn]:Pr,Ir=Pt(Pt({},vr),Dr);return ut(ho,qn,er,Ir)}}function Or(Lr,Pr){return Yr(Lr,function(qn){return typeof qn=="function"?st(qn,Pr):qn})}function Rr(Lr,Pr){return Yr(Lr,function(qn){var Yn=Pr.length;return ot(Cn(st(qn,Yn),Pr),Yn)})}function Yr(Lr,Pr){return function(){var qn=arguments.length;if(!qn)return Lr();for(var Yn=Array(qn);qn--;)Yn[qn]=arguments[qn];var vr=vt.rearg?0:qn-1;return Yn[vr]=Pr(Yn[vr]),Lr.apply(void 0,Yn)}}function Fr(Lr,Pr,qn){var Yn,vr=nt.aliasToReal[Lr]||Lr,Dr=Pr,ho=Hn[vr];return ho?Dr=ho(Pr):vt.immutable&&(nt.mutate.array[vr]?Dr=dt(Pr,at):nt.mutate.object[vr]?Dr=dt(Pr,ct(Pr)):nt.mutate.set[vr]&&(Dr=dt(Pr,gr))),Bt(Xn,function(er){return Bt(nt.aryMethod[er],function(Ir){if(vr==Ir){var Wr=nt.methodSpread[vr],mo=Wr&&Wr.afterRearg;return Yn=mo?Vn(vr,rr(vr,Dr,er),er):rr(vr,Vn(vr,Dr,er),er),Yn=En(vr,Yn),Yn=Zn(vr,Yn,er),!1}}),!Yn}),Yn||(Yn=Dr),Yn==Pr&&(Yn=It?Jt(Yn,1):function(){return Pr.apply(this,arguments)}),Yn.convert=sr(vr,Pr),Yn.placeholder=Pr.placeholder=qn,Yn}if(!gt)return Fr(pt,yt,Ct);var Qr=yt,vo=[];return Bt(Xn,function(Lr){Bt(nt.aryMethod[Lr],function(Pr){var qn=Qr[nt.remap[Pr]||Pr];qn&&vo.push([Pr,Fr(Pr,qn,Qr)])})}),Bt(In(Qr),function(Lr){var Pr=Qr[Lr];if(typeof Pr=="function"){for(var qn=vo.length;qn--;)if(vo[qn][0]==Lr)return;Pr.convert=sr(Lr,Pr),vo.push([Lr,Pr])}}),Bt(vo,function(Lr){Qr[Lr[0]]=Lr[1]}),Qr.convert=cr,Qr.placeholder=Qr,Bt(In(Qr),function(Lr){Bt(nt.realToAlias[Lr]||[],function(Pr){Qr[Pr]=Qr[Lr]})}),Qr}_e.exports=ut},function(_e,tt){tt.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},tt.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},tt.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},tt.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},tt.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},tt.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},tt.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},tt.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},tt.realToAlias=function(){var et=Object.prototype.hasOwnProperty,nt=tt.aliasToReal,rt={};for(var it in nt){var ot=nt[it];et.call(rt,ot)?rt[ot].push(it):rt[ot]=[it]}return rt}(),tt.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},tt.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},tt.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(_e,tt,et){_e.exports={ary:et(487),assign:et(176),clone:et(37),curry:et(505),forEach:et(113),isArray:et(12),isError:et(506),isFunction:et(16),isWeakMap:et(507),iteratee:et(508),keys:et(116),rearg:et(523),toInteger:et(96),toPath:et(526)}},function(_e,tt,et){var nt=et(134),rt=128;function it(ot,st,at){return st=at?void 0:st,st=ot&&st==null?ot.length:st,nt(ot,rt,void 0,void 0,void 0,void 0,st)}_e.exports=it},function(_e,tt,et){var nt=et(95),rt=et(14),it=1;function ot(st,at,ct){var lt=at&it,dt=nt(st);function ut(){var ft=this&&this!==rt&&this instanceof ut?dt:st;return ft.apply(lt?ct:this,arguments)}return ut}_e.exports=ot},function(_e,tt,et){var nt=et(122),rt=et(95),it=et(218),ot=et(221),st=et(227),at=et(137),ct=et(14);function lt(dt,ut,ft){var pt=rt(dt);function yt(){for(var Tt=arguments.length,ht=Array(Tt),gt=Tt,vt=st(yt);gt--;)ht[gt]=arguments[gt];var Ct=Tt<3&&ht[0]!==vt&&ht[Tt-1]!==vt?[]:at(ht,vt);if(Tt-=Ct.length,Tt<ft)return ot(dt,ut,it,yt.placeholder,void 0,ht,Ct,void 0,void 0,ft-Tt);var It=this&&this!==ct&&this instanceof yt?pt:dt;return nt(It,this,ht)}return yt}_e.exports=lt},function(_e,tt){function et(nt,rt){for(var it=nt.length,ot=0;it--;)nt[it]===rt&&++ot;return ot}_e.exports=et},function(_e,tt,et){var nt=et(135),rt=et(222),it=et(492),ot=et(494);function st(at){var ct=it(at),lt=ot[ct];if(typeof lt!="function"||!(ct in nt.prototype))return!1;if(at===lt)return!0;var dt=rt(lt);return!!dt&&at===dt[0]}_e.exports=st},function(_e,tt,et){var nt=et(493),rt=Object.prototype,it=rt.hasOwnProperty;function ot(st){for(var at=st.name+"",ct=nt[at],lt=it.call(nt,at)?ct.length:0;lt--;){var dt=ct[lt],ut=dt.func;if(ut==null||ut==st)return dt.name}return at}_e.exports=ot},function(_e,tt){var et={};_e.exports=et},function(_e,tt,et){var nt=et(135),rt=et(224),it=et(136),ot=et(12),st=et(17),at=et(495),ct=Object.prototype,lt=ct.hasOwnProperty;function dt(ut){if(st(ut)&&!ot(ut)&&!(ut instanceof nt)){if(ut instanceof rt)return ut;if(lt.call(ut,"__wrapped__"))return at(ut)}return new rt(ut)}dt.prototype=it.prototype,dt.prototype.constructor=dt,_e.exports=dt},function(_e,tt,et){var nt=et(135),rt=et(224),it=et(54);function ot(st){if(st instanceof nt)return st.clone();var at=new rt(st.__wrapped__,st.__chain__);return at.__actions__=it(st.__actions__),at.__index__=st.__index__,at.__values__=st.__values__,at}_e.exports=ot},function(_e,tt){var et=/\{\n\/\* \[wrapped with (.+)\] \*/,nt=/,? & /;function rt(it){var ot=it.match(et);return ot?ot[1].split(nt):[]}_e.exports=rt},function(_e,tt){var et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function nt(rt,it){var ot=it.length;if(!ot)return rt;var st=ot-1;return it[st]=(ot>1?"& ":"")+it[st],it=it.join(ot>2?", ":" "),rt.replace(et,`{
/* [wrapped with `+it+`] */
`)}_e.exports=nt},function(_e,tt,et){var nt=et(113),rt=et(93),it=1,ot=2,st=8,at=16,ct=32,lt=64,dt=128,ut=256,ft=512,pt=[["ary",dt],["bind",it],["bindKey",ot],["curry",st],["curryRight",at],["flip",ft],["partial",ct],["partialRight",lt],["rearg",ut]];function yt(Tt,ht){return nt(pt,function(gt){var vt="_."+gt[0];ht&gt[1]&&!rt(Tt,vt)&&Tt.push(vt)}),Tt.sort()}_e.exports=yt},function(_e,tt,et){var nt=et(54),rt=et(65),it=Math.min;function ot(st,at){for(var ct=st.length,lt=it(at.length,ct),dt=nt(st);lt--;){var ut=at[lt];st[lt]=rt(ut,ct)?dt[ut]:void 0}return st}_e.exports=ot},function(_e,tt,et){var nt=et(122),rt=et(95),it=et(14),ot=1;function st(at,ct,lt,dt){var ut=ct&ot,ft=rt(at);function pt(){for(var yt=-1,Tt=arguments.length,ht=-1,gt=dt.length,vt=Array(gt+Tt),Ct=this&&this!==it&&this instanceof pt?ft:at;++ht<gt;)vt[ht]=dt[ht];for(;Tt--;)vt[ht++]=arguments[++yt];return nt(Ct,ut?lt:this,vt)}return pt}_e.exports=st},function(_e,tt,et){var nt=et(219),rt=et(220),it=et(137),ot="__lodash_placeholder__",st=1,at=2,ct=4,lt=8,dt=128,ut=256,ft=Math.min;function pt(yt,Tt){var ht=yt[1],gt=Tt[1],vt=ht|gt,Ct=vt<(st|at|dt),It=gt==dt&&ht==lt||gt==dt&&ht==ut&&yt[7].length<=Tt[8]||gt==(dt|ut)&&Tt[7].length<=Tt[8]&&ht==lt;if(!(Ct||It))return yt;gt&st&&(yt[2]=Tt[2],vt|=ht&st?0:ct);var Zt=Tt[3];if(Zt){var Mt=yt[3];yt[3]=Mt?nt(Mt,Zt,Tt[4]):Zt,yt[4]=Mt?it(yt[3],ot):Tt[4]}return Zt=Tt[5],Zt&&(Mt=yt[5],yt[5]=Mt?rt(Mt,Zt,Tt[6]):Zt,yt[6]=Mt?it(yt[5],ot):Tt[6]),Zt=Tt[7],Zt&&(yt[7]=Zt),gt&dt&&(yt[8]=yt[8]==null?Tt[8]:ft(yt[8],Tt[8])),yt[9]==null&&(yt[9]=Tt[9]),yt[0]=Tt[0],yt[1]=vt,yt}_e.exports=pt},function(_e,tt,et){var nt=et(228),rt=1/0,it=17976931348623157e292;function ot(st){if(!st)return st===0?st:0;if(st=nt(st),st===rt||st===-rt){var at=st<0?-1:1;return at*it}return st===st?st:0}_e.exports=ot},function(_e,tt,et){var nt=et(504),rt=/^\s+/;function it(ot){return ot&&ot.slice(0,nt(ot)+1).replace(rt,"")}_e.exports=it},function(_e,tt){var et=/\s/;function nt(rt){for(var it=rt.length;it--&&et.test(rt.charAt(it)););return it}_e.exports=nt},function(_e,tt,et){var nt=et(134),rt=8;function it(ot,st,at){st=at?void 0:st;var ct=nt(ot,rt,void 0,void 0,void 0,void 0,void 0,st);return ct.placeholder=it.placeholder,ct}it.placeholder={},_e.exports=it},function(_e,tt,et){var nt=et(29),rt=et(17),it=et(138),ot="[object DOMException]",st="[object Error]";function at(ct){if(!rt(ct))return!1;var lt=nt(ct);return lt==st||lt==ot||typeof ct.message=="string"&&typeof ct.name=="string"&&!it(ct)}_e.exports=at},function(_e,tt,et){var nt=et(41),rt=et(17),it="[object WeakMap]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){var nt=et(77),rt=et(35),it=1;function ot(st){return rt(typeof st=="function"?st:nt(st,it))}_e.exports=ot},function(_e,tt,et){var nt=et(510),rt=et(514),it=et(234);function ot(st){var at=rt(st);return at.length==1&&at[0][2]?it(at[0][0],at[0][1]):function(ct){return ct===st||nt(ct,st,at)}}_e.exports=ot},function(_e,tt,et){var nt=et(78),rt=et(229),it=1,ot=2;function st(at,ct,lt,dt){var ut=lt.length,ft=ut,pt=!dt;if(at==null)return!ft;for(at=Object(at);ut--;){var yt=lt[ut];if(pt&&yt[2]?yt[1]!==at[yt[0]]:!(yt[0]in at))return!1}for(;++ut<ft;){yt=lt[ut];var Tt=yt[0],ht=at[Tt],gt=yt[1];if(pt&&yt[2]){if(ht===void 0&&!(Tt in at))return!1}else{var vt=new nt;if(dt)var Ct=dt(ht,gt,Tt,at,ct,vt);if(!(Ct===void 0?rt(gt,ht,it|ot,dt,vt):Ct))return!1}}return!0}_e.exports=st},function(_e,tt,et){var nt=et(78),rt=et(230),it=et(512),ot=et(513),st=et(41),at=et(12),ct=et(64),lt=et(85),dt=1,ut="[object Arguments]",ft="[object Array]",pt="[object Object]",yt=Object.prototype,Tt=yt.hasOwnProperty;function ht(gt,vt,Ct,It,Zt,Mt){var kt=at(gt),Nt=at(vt),Lt=kt?ft:st(gt),Pt=Nt?ft:st(vt);Lt=Lt==ut?pt:Lt,Pt=Pt==ut?pt:Pt;var cn=Lt==pt,Jt=Pt==pt,Bt=Lt==Pt;if(Bt&&ct(gt)){if(!ct(vt))return!1;kt=!0,cn=!1}if(Bt&&!cn)return Mt||(Mt=new nt),kt||lt(gt)?rt(gt,vt,Ct,It,Zt,Mt):it(gt,vt,Lt,Ct,It,Zt,Mt);if(!(Ct&dt)){var dn=cn&&Tt.call(gt,"__wrapped__"),vn=Jt&&Tt.call(vt,"__wrapped__");if(dn||vn){var Tn=dn?gt.value():gt,pn=vn?vt.value():vt;return Mt||(Mt=new nt),Zt(Tn,pn,Ct,It,Mt)}}return Bt?(Mt||(Mt=new nt),ot(gt,vt,Ct,It,Zt,Mt)):!1}_e.exports=ht},function(_e,tt,et){var nt=et(39),rt=et(187),it=et(52),ot=et(230),st=et(232),at=et(97),ct=1,lt=2,dt="[object Boolean]",ut="[object Date]",ft="[object Error]",pt="[object Map]",yt="[object Number]",Tt="[object RegExp]",ht="[object Set]",gt="[object String]",vt="[object Symbol]",Ct="[object ArrayBuffer]",It="[object DataView]",Zt=nt?nt.prototype:void 0,Mt=Zt?Zt.valueOf:void 0;function kt(Nt,Lt,Pt,cn,Jt,Bt,dn){switch(Pt){case It:if(Nt.byteLength!=Lt.byteLength||Nt.byteOffset!=Lt.byteOffset)return!1;Nt=Nt.buffer,Lt=Lt.buffer;case Ct:return!(Nt.byteLength!=Lt.byteLength||!Bt(new rt(Nt),new rt(Lt)));case dt:case ut:case yt:return it(+Nt,+Lt);case ft:return Nt.name==Lt.name&&Nt.message==Lt.message;case Tt:case gt:return Nt==Lt+"";case pt:var vn=st;case ht:var Tn=cn&ct;if(vn||(vn=at),Nt.size!=Lt.size&&!Tn)return!1;var pn=dn.get(Nt);if(pn)return pn==Lt;cn|=lt,dn.set(Nt,Lt);var In=ot(vn(Nt),vn(Lt),cn,Jt,Bt,dn);return dn.delete(Nt),In;case vt:if(Mt)return Mt.call(Nt)==Mt.call(Lt)}return!1}_e.exports=kt},function(_e,tt,et){var nt=et(182),rt=1,it=Object.prototype,ot=it.hasOwnProperty;function st(at,ct,lt,dt,ut,ft){var pt=lt&rt,yt=nt(at),Tt=yt.length,ht=nt(ct),gt=ht.length;if(Tt!=gt&&!pt)return!1;for(var vt=Tt;vt--;){var Ct=yt[vt];if(!(pt?Ct in ct:ot.call(ct,Ct)))return!1}var It=ft.get(at),Zt=ft.get(ct);if(It&&Zt)return It==ct&&Zt==at;var Mt=!0;ft.set(at,ct),ft.set(ct,at);for(var kt=pt;++vt<Tt;){Ct=yt[vt];var Nt=at[Ct],Lt=ct[Ct];if(dt)var Pt=pt?dt(Lt,Nt,Ct,ct,at,ft):dt(Nt,Lt,Ct,at,ct,ft);if(!(Pt===void 0?Nt===Lt||ut(Nt,Lt,lt,dt,ft):Pt)){Mt=!1;break}kt||(kt=Ct=="constructor")}if(Mt&&!kt){var cn=at.constructor,Jt=ct.constructor;cn!=Jt&&"constructor"in at&&"constructor"in ct&&!(typeof cn=="function"&&cn instanceof cn&&typeof Jt=="function"&&Jt instanceof Jt)&&(Mt=!1)}return ft.delete(at),ft.delete(ct),Mt}_e.exports=st},function(_e,tt,et){var nt=et(233),rt=et(30);function it(ot){for(var st=rt(ot),at=st.length;at--;){var ct=st[at],lt=ot[ct];st[at]=[ct,lt,nt(lt)]}return st}_e.exports=it},function(_e,tt,et){var nt=et(229),rt=et(57),it=et(236),ot=et(139),st=et(233),at=et(234),ct=et(46),lt=1,dt=2;function ut(ft,pt){return ot(ft)&&st(pt)?at(ct(ft),pt):function(yt){var Tt=rt(yt,ft);return Tt===void 0&&Tt===pt?it(yt,ft):nt(pt,Tt,lt|dt)}}_e.exports=ut},function(_e,tt,et){var nt=et(190),rt=500;function it(ot){var st=nt(ot,function(ct){return at.size===rt&&at.clear(),ct}),at=st.cache;return st}_e.exports=it},function(_e,tt,et){var nt=et(39),rt=et(33),it=et(12),ot=et(69),st=1/0,at=nt?nt.prototype:void 0,ct=at?at.toString:void 0;function lt(dt){if(typeof dt=="string")return dt;if(it(dt))return rt(dt,lt)+"";if(ot(dt))return ct?ct.call(dt):"";var ut=dt+"";return ut=="0"&&1/dt==-st?"-0":ut}_e.exports=lt},function(_e,tt){function et(nt,rt){return nt!=null&&rt in Object(nt)}_e.exports=et},function(_e,tt,et){var nt=et(58),rt=et(63),it=et(12),ot=et(65),st=et(114),at=et(46);function ct(lt,dt,ut){dt=nt(dt,lt);for(var ft=-1,pt=dt.length,yt=!1;++ft<pt;){var Tt=at(dt[ft]);if(!(yt=lt!=null&&ut(lt,Tt)))break;lt=lt[Tt]}return yt||++ft!=pt?yt:(pt=lt==null?0:lt.length,!!pt&&st(pt)&&ot(Tt,pt)&&(it(lt)||rt(lt)))}_e.exports=ct},function(_e,tt,et){var nt=et(521),rt=et(522),it=et(139),ot=et(46);function st(at){return it(at)?nt(ot(at)):rt(at)}_e.exports=st},function(_e,tt){function et(nt){return function(rt){return rt==null?void 0:rt[nt]}}_e.exports=et},function(_e,tt,et){var nt=et(98);function rt(it){return function(ot){return nt(ot,it)}}_e.exports=rt},function(_e,tt,et){var nt=et(134),rt=et(140),it=256,ot=rt(function(st,at){return nt(st,it,void 0,void 0,void 0,at)});_e.exports=ot},function(_e,tt,et){var nt=et(237);function rt(it){var ot=it==null?0:it.length;return ot?nt(it,1):[]}_e.exports=rt},function(_e,tt,et){var nt=et(39),rt=et(63),it=et(12),ot=nt?nt.isConcatSpreadable:void 0;function st(at){return it(at)||rt(at)||!!(ot&&at&&at[ot])}_e.exports=st},function(_e,tt,et){var nt=et(33),rt=et(54),it=et(12),ot=et(69),st=et(235),at=et(46),ct=et(59);function lt(dt){return it(dt)?nt(dt,at):ot(dt)?[dt]:rt(st(ct(dt)))}_e.exports=lt},function(_e,tt,et){var nt=et(528),rt=et(236);function it(ot,st){return nt(ot,st,function(at,ct){return rt(ot,ct)})}_e.exports=it},function(_e,tt,et){var nt=et(98),rt=et(529),it=et(58);function ot(st,at,ct){for(var lt=-1,dt=at.length,ut={};++lt<dt;){var ft=at[lt],pt=nt(st,ft);ct(pt,ft)&&rt(ut,it(ft,st),pt)}return ut}_e.exports=ot},function(_e,tt,et){var nt=et(83),rt=et(58),it=et(65),ot=et(11),st=et(46);function at(ct,lt,dt,ut){if(!ot(ct))return ct;lt=rt(lt,ct);for(var ft=-1,pt=lt.length,yt=pt-1,Tt=ct;Tt!=null&&++ft<pt;){var ht=st(lt[ft]),gt=dt;if(ht==="__proto__"||ht==="constructor"||ht==="prototype")return ct;if(ft!=yt){var vt=Tt[ht];gt=ut?ut(vt,ht,Tt):void 0,gt===void 0&&(gt=ot(vt)?vt:it(lt[ft+1])?[]:{})}nt(Tt,ht,gt),Tt=Tt[ht]}return ct}_e.exports=at},function(_e,tt,et){var nt=et(215),rt=nt("mapKeys",et(531));rt.placeholder=et(133),_e.exports=rt},function(_e,tt,et){var nt=et(62),rt=et(99),it=et(35);function ot(st,at){var ct={};return at=it(at,3),rt(st,function(lt,dt,ut){nt(ct,at(lt,dt,ut),lt)}),ct}_e.exports=ot},function(_e,tt){function et(nt){return function(rt,it,ot){for(var st=-1,at=Object(rt),ct=ot(rt),lt=ct.length;lt--;){var dt=ct[nt?lt:++st];if(it(at[dt],dt,at)===!1)break}return rt}}_e.exports=et},function(_e,tt,et){(function(nt){var rt;(function(it){tt&&tt.nodeType,nt&&nt.nodeType;var ot=typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal);ot.global===ot||ot.window===ot||ot.self;var st,at=2147483647,ct=36,lt=1,dt=26,ut=38,ft=700,pt=72,yt=128,Tt="-",ht=/^xn--/,gt=/[^\x20-\x7E]/,vt=/[\x2E\u3002\uFF0E\uFF61]/g,Ct={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},It=ct-lt,Zt=Math.floor,Mt=String.fromCharCode;function kt(Cn){throw new RangeError(Ct[Cn])}function Nt(Cn,yn){for(var bn=Cn.length,Xn=[];bn--;)Xn[bn]=yn(Cn[bn]);return Xn}function Lt(Cn,yn){var bn=Cn.split("@"),Xn="";bn.length>1&&(Xn=bn[0]+"@",Cn=bn[1]),Cn=Cn.replace(vt,".");var Hn=Cn.split("."),En=Nt(Hn,yn).join(".");return Xn+En}function Pt(Cn){for(var yn=[],bn=0,Xn=Cn.length,Hn,En;bn<Xn;)Hn=Cn.charCodeAt(bn++),Hn>=55296&&Hn<=56319&&bn<Xn?(En=Cn.charCodeAt(bn++),(En&64512)==56320?yn.push(((Hn&1023)<<10)+(En&1023)+65536):(yn.push(Hn),bn--)):yn.push(Hn);return yn}function cn(Cn){return Nt(Cn,function(yn){var bn="";return yn>65535&&(yn-=65536,bn+=Mt(yn>>>10&1023|55296),yn=56320|yn&1023),bn+=Mt(yn),bn}).join("")}function Jt(Cn){return Cn-48<10?Cn-22:Cn-65<26?Cn-65:Cn-97<26?Cn-97:ct}function Bt(Cn,yn){return Cn+22+75*(Cn<26)-((yn!=0)<<5)}function dn(Cn,yn,bn){var Xn=0;for(Cn=bn?Zt(Cn/ft):Cn>>1,Cn+=Zt(Cn/yn);Cn>It*dt>>1;Xn+=ct)Cn=Zt(Cn/It);return Zt(Xn+(It+1)*Cn/(Cn+ut))}function vn(Cn){var yn=[],bn=Cn.length,Xn,Hn=0,En=yt,Zn=pt,Vn,rr,gr,cr,sr,Or,Rr,Yr,Fr;for(Vn=Cn.lastIndexOf(Tt),Vn<0&&(Vn=0),rr=0;rr<Vn;++rr)Cn.charCodeAt(rr)>=128&&kt("not-basic"),yn.push(Cn.charCodeAt(rr));for(gr=Vn>0?Vn+1:0;gr<bn;){for(cr=Hn,sr=1,Or=ct;gr>=bn&&kt("invalid-input"),Rr=Jt(Cn.charCodeAt(gr++)),(Rr>=ct||Rr>Zt((at-Hn)/sr))&&kt("overflow"),Hn+=Rr*sr,Yr=Or<=Zn?lt:Or>=Zn+dt?dt:Or-Zn,!(Rr<Yr);Or+=ct)Fr=ct-Yr,sr>Zt(at/Fr)&&kt("overflow"),sr*=Fr;Xn=yn.length+1,Zn=dn(Hn-cr,Xn,cr==0),Zt(Hn/Xn)>at-En&&kt("overflow"),En+=Zt(Hn/Xn),Hn%=Xn,yn.splice(Hn++,0,En)}return cn(yn)}function Tn(Cn){var yn,bn,Xn,Hn,En,Zn,Vn,rr,gr,cr,sr,Or=[],Rr,Yr,Fr,Qr;for(Cn=Pt(Cn),Rr=Cn.length,yn=yt,bn=0,En=pt,Zn=0;Zn<Rr;++Zn)sr=Cn[Zn],sr<128&&Or.push(Mt(sr));for(Xn=Hn=Or.length,Hn&&Or.push(Tt);Xn<Rr;){for(Vn=at,Zn=0;Zn<Rr;++Zn)sr=Cn[Zn],sr>=yn&&sr<Vn&&(Vn=sr);for(Yr=Xn+1,Vn-yn>Zt((at-bn)/Yr)&&kt("overflow"),bn+=(Vn-yn)*Yr,yn=Vn,Zn=0;Zn<Rr;++Zn)if(sr=Cn[Zn],sr<yn&&++bn>at&&kt("overflow"),sr==yn){for(rr=bn,gr=ct;cr=gr<=En?lt:gr>=En+dt?dt:gr-En,!(rr<cr);gr+=ct)Qr=rr-cr,Fr=ct-cr,Or.push(Mt(Bt(cr+Qr%Fr,0))),rr=Zt(Qr/Fr);Or.push(Mt(Bt(rr,0))),En=dn(bn,Yr,Xn==Hn),bn=0,++Xn}++bn,++yn}return Or.join("")}function pn(Cn){return Lt(Cn,function(yn){return ht.test(yn)?vn(yn.slice(4).toLowerCase()):yn})}function In(Cn){return Lt(Cn,function(yn){return gt.test(yn)?"xn--"+Tn(yn):yn})}st={version:"1.4.1",ucs2:{decode:Pt,encode:cn},decode:vn,encode:Tn,toASCII:In,toUnicode:pn},rt=function(){return st}.call(tt,et,tt,nt),rt!==void 0&&(nt.exports=rt)})()}).call(this,et(84)(_e))},function(_e,tt,et){_e.exports={isString:function(nt){return typeof nt=="string"},isObject:function(nt){return typeof nt=="object"&&nt!==null},isNull:function(nt){return nt===null},isNullOrUndefined:function(nt){return nt==null}}},function(_e,tt,et){tt.decode=tt.parse=et(536),tt.encode=tt.stringify=et(537)},function(_e,tt,et){function nt(it,ot){return Object.prototype.hasOwnProperty.call(it,ot)}_e.exports=function(it,ot,st,at){ot=ot||"&",st=st||"=";var ct={};if(typeof it!="string"||it.length===0)return ct;var lt=/\+/g;it=it.split(ot);var dt=1e3;at&&typeof at.maxKeys=="number"&&(dt=at.maxKeys);var ut=it.length;dt>0&&ut>dt&&(ut=dt);for(var ft=0;ft<ut;++ft){var pt=it[ft].replace(lt,"%20"),yt=pt.indexOf(st),Tt,ht,gt,vt;yt>=0?(Tt=pt.substr(0,yt),ht=pt.substr(yt+1)):(Tt=pt,ht=""),gt=decodeURIComponent(Tt),vt=decodeURIComponent(ht),nt(ct,gt)?rt(ct[gt])?ct[gt].push(vt):ct[gt]=[ct[gt],vt]:ct[gt]=vt}return ct};var rt=Array.isArray||function(it){return Object.prototype.toString.call(it)==="[object Array]"}},function(_e,tt,et){var nt=function(st){switch(typeof st){case"string":return st;case"boolean":return st?"true":"false";case"number":return isFinite(st)?st:"";default:return""}};_e.exports=function(st,at,ct,lt){return at=at||"&",ct=ct||"=",st===null&&(st=void 0),typeof st=="object"?it(ot(st),function(dt){var ut=encodeURIComponent(nt(dt))+ct;return rt(st[dt])?it(st[dt],function(ft){return ut+encodeURIComponent(nt(ft))}).join(at):ut+encodeURIComponent(nt(st[dt]))}).join(at):lt?encodeURIComponent(nt(lt))+ct+encodeURIComponent(nt(st)):""};var rt=Array.isArray||function(st){return Object.prototype.toString.call(st)==="[object Array]"};function it(st,at){if(st.map)return st.map(at);for(var ct=[],lt=0;lt<st.length;lt++)ct.push(at(st[lt],lt));return ct}var ot=Object.keys||function(st){var at=[];for(var ct in st)Object.prototype.hasOwnProperty.call(st,ct)&&at.push(ct);return at}},function(_e,tt,et){var nt=function(){return this||typeof self=="object"&&self}()||Function("return this")(),rt=nt.regeneratorRuntime&&Object.getOwnPropertyNames(nt).indexOf("regeneratorRuntime")>=0,it=rt&&nt.regeneratorRuntime;if(nt.regeneratorRuntime=void 0,_e.exports=et(539),rt)nt.regeneratorRuntime=it;else try{delete nt.regeneratorRuntime}catch{nt.regeneratorRuntime=void 0}},function(_e,tt,et){(function(nt){(function(rt){var it=Object.prototype,ot=it.hasOwnProperty,st,at=typeof Symbol=="function"?Symbol:{},ct=at.iterator||"@@iterator",lt=at.asyncIterator||"@@asyncIterator",dt=at.toStringTag||"@@toStringTag",ut=typeof _e=="object",ft=rt.regeneratorRuntime;if(ft){ut&&(_e.exports=ft);return}ft=rt.regeneratorRuntime=ut?_e.exports:{};function pt(yn,bn,Xn,Hn){var En=bn&&bn.prototype instanceof It?bn:It,Zn=Object.create(En.prototype),Vn=new pn(Hn||[]);return Zn._invoke=Bt(yn,Xn,Vn),Zn}ft.wrap=pt;function yt(yn,bn,Xn){try{return{type:"normal",arg:yn.call(bn,Xn)}}catch(Hn){return{type:"throw",arg:Hn}}}var Tt="suspendedStart",ht="suspendedYield",gt="executing",vt="completed",Ct={};function It(){}function Zt(){}function Mt(){}var kt={};kt[ct]=function(){return this};var Nt=Object.getPrototypeOf,Lt=Nt&&Nt(Nt(In([])));Lt&&Lt!==it&&ot.call(Lt,ct)&&(kt=Lt);var Pt=Mt.prototype=It.prototype=Object.create(kt);Zt.prototype=Pt.constructor=Mt,Mt.constructor=Zt,Mt[dt]=Zt.displayName="GeneratorFunction";function cn(yn){["next","throw","return"].forEach(function(bn){yn[bn]=function(Xn){return this._invoke(bn,Xn)}})}ft.isGeneratorFunction=function(yn){var bn=typeof yn=="function"&&yn.constructor;return bn?bn===Zt||(bn.displayName||bn.name)==="GeneratorFunction":!1},ft.mark=function(yn){return Object.setPrototypeOf?Object.setPrototypeOf(yn,Mt):(yn.__proto__=Mt,dt in yn||(yn[dt]="GeneratorFunction")),yn.prototype=Object.create(Pt),yn},ft.awrap=function(yn){return{__await:yn}};function Jt(yn){function bn(En,Zn,Vn,rr){var gr=yt(yn[En],yn,Zn);if(gr.type==="throw")rr(gr.arg);else{var cr=gr.arg,sr=cr.value;return sr&&typeof sr=="object"&&ot.call(sr,"__await")?nt.resolve(sr.__await).then(function(Or){bn("next",Or,Vn,rr)},function(Or){bn("throw",Or,Vn,rr)}):nt.resolve(sr).then(function(Or){cr.value=Or,Vn(cr)},function(Or){return bn("throw",Or,Vn,rr)})}}var Xn;function Hn(En,Zn){function Vn(){return new nt(function(rr,gr){bn(En,Zn,rr,gr)})}return Xn=Xn?Xn.then(Vn,Vn):Vn()}this._invoke=Hn}cn(Jt.prototype),Jt.prototype[lt]=function(){return this},ft.AsyncIterator=Jt,ft.async=function(yn,bn,Xn,Hn){var En=new Jt(pt(yn,bn,Xn,Hn));return ft.isGeneratorFunction(bn)?En:En.next().then(function(Zn){return Zn.done?Zn.value:En.next()})};function Bt(yn,bn,Xn){var Hn=Tt;return function(Zn,Vn){if(Hn===gt)throw new Error("Generator is already running");if(Hn===vt){if(Zn==="throw")throw Vn;return Cn()}for(Xn.method=Zn,Xn.arg=Vn;;){var rr=Xn.delegate;if(rr){var gr=dn(rr,Xn);if(gr){if(gr===Ct)continue;return gr}}if(Xn.method==="next")Xn.sent=Xn._sent=Xn.arg;else if(Xn.method==="throw"){if(Hn===Tt)throw Hn=vt,Xn.arg;Xn.dispatchException(Xn.arg)}else Xn.method==="return"&&Xn.abrupt("return",Xn.arg);Hn=gt;var cr=yt(yn,bn,Xn);if(cr.type==="normal"){if(Hn=Xn.done?vt:ht,cr.arg===Ct)continue;return{value:cr.arg,done:Xn.done}}else cr.type==="throw"&&(Hn=vt,Xn.method="throw",Xn.arg=cr.arg)}}}function dn(yn,bn){var Xn=yn.iterator[bn.method];if(Xn===st){if(bn.delegate=null,bn.method==="throw"){if(yn.iterator.return&&(bn.method="return",bn.arg=st,dn(yn,bn),bn.method==="throw"))return Ct;bn.method="throw",bn.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ct}var Hn=yt(Xn,yn.iterator,bn.arg);if(Hn.type==="throw")return bn.method="throw",bn.arg=Hn.arg,bn.delegate=null,Ct;var En=Hn.arg;if(!En)return bn.method="throw",bn.arg=new TypeError("iterator result is not an object"),bn.delegate=null,Ct;if(En.done)bn[yn.resultName]=En.value,bn.next=yn.nextLoc,bn.method!=="return"&&(bn.method="next",bn.arg=st);else return En;return bn.delegate=null,Ct}cn(Pt),Pt[dt]="Generator",Pt[ct]=function(){return this},Pt.toString=function(){return"[object Generator]"};function vn(yn){var bn={tryLoc:yn[0]};1 in yn&&(bn.catchLoc=yn[1]),2 in yn&&(bn.finallyLoc=yn[2],bn.afterLoc=yn[3]),this.tryEntries.push(bn)}function Tn(yn){var bn=yn.completion||{};bn.type="normal",delete bn.arg,yn.completion=bn}function pn(yn){this.tryEntries=[{tryLoc:"root"}],yn.forEach(vn,this),this.reset(!0)}ft.keys=function(yn){var bn=[];for(var Xn in yn)bn.push(Xn);return bn.reverse(),function Hn(){for(;bn.length;){var En=bn.pop();if(En in yn)return Hn.value=En,Hn.done=!1,Hn}return Hn.done=!0,Hn}};function In(yn){if(yn){var bn=yn[ct];if(bn)return bn.call(yn);if(typeof yn.next=="function")return yn;if(!isNaN(yn.length)){var Xn=-1,Hn=function En(){for(;++Xn<yn.length;)if(ot.call(yn,Xn))return En.value=yn[Xn],En.done=!1,En;return En.value=st,En.done=!0,En};return Hn.next=Hn}}return{next:Cn}}ft.values=In;function Cn(){return{value:st,done:!0}}pn.prototype={constructor:pn,reset:function(yn){if(this.prev=0,this.next=0,this.sent=this._sent=st,this.done=!1,this.delegate=null,this.method="next",this.arg=st,this.tryEntries.forEach(Tn),!yn)for(var bn in this)bn.charAt(0)==="t"&&ot.call(this,bn)&&!isNaN(+bn.slice(1))&&(this[bn]=st)},stop:function(){this.done=!0;var yn=this.tryEntries[0],bn=yn.completion;if(bn.type==="throw")throw bn.arg;return this.rval},dispatchException:function(yn){if(this.done)throw yn;var bn=this;function Xn(gr,cr){return Zn.type="throw",Zn.arg=yn,bn.next=gr,cr&&(bn.method="next",bn.arg=st),!!cr}for(var Hn=this.tryEntries.length-1;Hn>=0;--Hn){var En=this.tryEntries[Hn],Zn=En.completion;if(En.tryLoc==="root")return Xn("end");if(En.tryLoc<=this.prev){var Vn=ot.call(En,"catchLoc"),rr=ot.call(En,"finallyLoc");if(Vn&&rr){if(this.prev<En.catchLoc)return Xn(En.catchLoc,!0);if(this.prev<En.finallyLoc)return Xn(En.finallyLoc)}else if(Vn){if(this.prev<En.catchLoc)return Xn(En.catchLoc,!0)}else if(rr){if(this.prev<En.finallyLoc)return Xn(En.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(yn,bn){for(var Xn=this.tryEntries.length-1;Xn>=0;--Xn){var Hn=this.tryEntries[Xn];if(Hn.tryLoc<=this.prev&&ot.call(Hn,"finallyLoc")&&this.prev<Hn.finallyLoc){var En=Hn;break}}En&&(yn==="break"||yn==="continue")&&En.tryLoc<=bn&&bn<=En.finallyLoc&&(En=null);var Zn=En?En.completion:{};return Zn.type=yn,Zn.arg=bn,En?(this.method="next",this.next=En.finallyLoc,Ct):this.complete(Zn)},complete:function(yn,bn){if(yn.type==="throw")throw yn.arg;return yn.type==="break"||yn.type==="continue"?this.next=yn.arg:yn.type==="return"?(this.rval=this.arg=yn.arg,this.method="return",this.next="end"):yn.type==="normal"&&bn&&(this.next=bn),Ct},finish:function(yn){for(var bn=this.tryEntries.length-1;bn>=0;--bn){var Xn=this.tryEntries[bn];if(Xn.finallyLoc===yn)return this.complete(Xn.completion,Xn.afterLoc),Tn(Xn),Ct}},catch:function(yn){for(var bn=this.tryEntries.length-1;bn>=0;--bn){var Xn=this.tryEntries[bn];if(Xn.tryLoc===yn){var Hn=Xn.completion;if(Hn.type==="throw"){var En=Hn.arg;Tn(Xn)}return En}}throw new Error("illegal catch attempt")},delegateYield:function(yn,bn,Xn){return this.delegate={iterator:In(yn),resultName:bn,nextLoc:Xn},this.method==="next"&&(this.arg=st),Ct}}})(function(){return this||typeof self=="object"&&self}()||Function("return this")())}).call(this,et(0))},function(_e,tt,et){var nt=et(241),rt=et(242),it,ot,st=0,at=0;function ct(lt,dt,ut){var ft=dt&&ut||0,pt=dt||[];lt=lt||{};var yt=lt.node||it,Tt=lt.clockseq!==void 0?lt.clockseq:ot;if(yt==null||Tt==null){var ht=nt();yt==null&&(yt=it=[ht[0]|1,ht[1],ht[2],ht[3],ht[4],ht[5]]),Tt==null&&(Tt=ot=(ht[6]<<8|ht[7])&16383)}var gt=lt.msecs!==void 0?lt.msecs:new Date().getTime(),vt=lt.nsecs!==void 0?lt.nsecs:at+1,Ct=gt-st+(vt-at)/1e4;if(Ct<0&&lt.clockseq===void 0&&(Tt=Tt+1&16383),(Ct<0||gt>st)&&lt.nsecs===void 0&&(vt=0),vt>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");st=gt,at=vt,ot=Tt,gt+=122192928e5;var It=((gt&268435455)*1e4+vt)%4294967296;pt[ft++]=It>>>24&255,pt[ft++]=It>>>16&255,pt[ft++]=It>>>8&255,pt[ft++]=It&255;var Zt=gt/4294967296*1e4&268435455;pt[ft++]=Zt>>>8&255,pt[ft++]=Zt&255,pt[ft++]=Zt>>>24&15|16,pt[ft++]=Zt>>>16&255,pt[ft++]=Tt>>>8|128,pt[ft++]=Tt&255;for(var Mt=0;Mt<6;++Mt)pt[ft+Mt]=yt[Mt];return dt||rt(pt)}_e.exports=ct},function(_e,tt,et){var nt=et(241),rt=et(242);function it(ot,st,at){var ct=st&&at||0;typeof ot=="string"&&(st=ot==="binary"?new Array(16):null,ot=null),ot=ot||{};var lt=ot.random||(ot.rng||nt)();if(lt[6]=lt[6]&15|64,lt[8]=lt[8]&63|128,st)for(var dt=0;dt<16;++dt)st[ct+dt]=lt[dt];return st||rt(lt)}_e.exports=it},function(_e,tt,et){const nt=et(9),rt=et(1)("analytics"),it=et(543),ot=et(15),st=et(243),at=et(100),ct=at.prependProxyToUrlIfNeeded,lt=et(101),dt=lt.getProxyUrl,ut=ot(),ft=new it;_e.exports=function(yt){var Tt=this;let ht=yt.loggingUrl,gt=yt.queue,vt=gt===void 0?ft:gt,Ct=yt.ajax,It=Ct===void 0?st:Ct;this.loggingUrl=ht,this.updateEndPoints=()=>{if(!this.proxyUrl){this.proxyUrl=dt();const Nt=ct(this.loggingUrl,this.proxyUrl);this.loggingUrl=Nt}this.endPoint=`${this.loggingUrl}/logging/ClientEvent`,this.endPointQos=`${this.loggingUrl}/logging/ClientQos`},this.updateEndPoints();const Zt={},Mt=function(Lt,Pt,cn){Pt===void 0&&(Pt=()=>{}),vt.add(Jt=>{rt.debug("sending analytics:",Tt.loggingUrl,Lt),It.post(cn?Tt.endPointQos:Tt.endPoint,{body:Lt,overrideMimeType:"text/plain",headers:{Accept:"text/plain","Content-Type":"application/json"}},Bt=>{Bt&&rt.debug("Failed to send ClientEvent, moving on to the next item."),Pt(Bt||void 0),Jt()})})},kt=(Nt,Lt,Pt)=>{if(!Pt)return!1;const cn=[Pt,Lt,Nt].join("_"),Jt=100;return(Zt[cn]||0)>=Jt};this.logError=function(Nt,Lt,Pt,cn,Jt){cn===void 0&&(cn=null),Jt===void 0&&(Jt={});const Bt=Jt,dn=Bt.partnerId;if(kt(Nt,Lt,dn))return;const vn=[dn,Lt,Nt].join("_"),Tn=cn;Zt[vn]=typeof Zt[vn]<"u"?Zt[vn]+1:1,Tt.logEvent(nt(Jt,{action:`${Lt}.${Nt}`,payload:Tn}),!1)},this.logEvent=function(Nt,Lt,Pt,cn){Lt===void 0&&(Lt=!1),cn===void 0&&(cn=()=>{}),Tt.updateEndPoints();const Jt=Object.assign({},Nt,{clientInstanceId:ut});if(Pt&&!isNaN(Pt)&&Math.random()>Pt){rt.debug("skipping sending analytics due to throttle:",Jt);return}rt.debug("queueing analytics:",Tt.loggingUrl,Jt);let Bt;try{Bt=JSON.stringify(Jt)}catch(dn){cn(dn);return}Mt(Bt,cn,Lt)},this.logQOS=Nt=>this.logEvent(Nt,!0)}},function(_e,tt,et){let nt=function(){function rt(ot){let st=ot===void 0?{}:ot,at=st.waitTime,ct=at===void 0?50:at;this.queue=[],this.running=!1,this.waitTime=ct}var it=rt.prototype;return it.add=function(st){this.queue.push(st),this.run()},it.run=function(){if(this.running)return;this.running=!0;const st=()=>{if(this.queue.length===0){this.running=!1;return}this.queue.shift()(()=>{setTimeout(st,this.waitTime)})};st()},rt}();_e.exports=nt},function(_e,tt,et){const nt=et(11),rt={for:"htmlFor",class:"className"};_e.exports=function(it){it.prototype.attr=function(at,ct){if(nt(at)){let lt;Object.keys(at).forEach(dt=>{lt=rt[dt]||dt,this.first.setAttribute(lt,at[dt])})}else{if(ct===void 0)return this.first.getAttribute(rt[at]||at);this.first.setAttribute(rt[at]||at,ct)}return this},it.prototype.removeAttr=function(at){const ct=rt[at]||at;return this.forEach(lt=>{lt.removeAttribute(ct)}),this},it.prototype.html=function(at){return at!==void 0&&(this.first.innerHTML=at),this.first.innerHTML},it.prototype.center=function(at,ct){let lt;return this.forEach(dt=>{lt=new it(dt),at=at||parseInt(lt.width(),10),ct=ct||parseInt(lt.height(),10);const ut=`${-.5*at}px`,ft=`${-.5*ct}px`;lt.css("margin",`${ft} 0 0 ${ut}`).addClass("OT_centered")}),this},it._attachToOTHelpers.centerElement=function(at,ct,lt){return new it(at).center(ct,lt)};const ot=function(ct){return ct.offsetWidth>0?`${ct.offsetWidth}px`:new it(ct).css("width")},st=function(ct){return ct.offsetHeight>0?`${ct.offsetHeight}px`:new it(ct).css("height")};it.prototype.width=function(at){return at?(this.css("width",at),this):this.isDisplayNone()?this.makeVisibleAndYield(ct=>ot(ct))[0]:ot(this.get(0))},it._attachToOTHelpers.width=function(at,ct){const lt=new it(at).width(ct);return ct?it._attachToOTHelpers:lt},it.prototype.height=function(at){return at?(this.css("height",at),this):this.isDisplayNone()?this.makeVisibleAndYield(ct=>st(ct))[0]:st(this.get(0))},it._attachToOTHelpers.height=function(at,ct){const lt=new it(at).height(ct);return ct?it._attachToOTHelpers:lt}}},function(_e,tt,et){const nt=et(2),rt=(typeof window!==void 0?window:commonjsGlobal).getComputedStyle,it={Firefox:"moz",Opera:"O",Chrome:"Webkit",Safari:"Webkit"};function ot(){return it[nt.name]}_e.exports=function(st,at){const ct={},lt={},dt=function(vt){if(lt[vt.ownerDocument]&&lt[vt.ownerDocument][vt.nodeName])return lt[vt.ownerDocument][vt.nodeName];lt[vt.ownerDocument]||(lt[vt.ownerDocument]={});let Ct=vt.ownerDocument.createElement(vt.nodeName),It;return vt.ownerDocument.body.appendChild(Ct),It=new st(Ct).css("display"),lt[vt.ownerDocument][vt.nodeName]=It,new st(Ct).remove(),Ct=null,It},ut=function(vt){return rt(vt).getPropertyValue("display")==="none"},ft=function(vt,Ct){if(Ct in vt.style)return Ct;const Zt=ot()+Ct[0].toUpperCase()+Ct.slice(1);return Zt in vt.style?Zt:Ct},pt=function(vt,Ct){const It=vt.style;for(const Zt in Ct)Ct.hasOwnProperty(Zt)&&(It[ft(vt,Zt)]=Ct[Zt])},yt=function(vt,Ct,It){vt.style[ft(vt,Ct)]=It},Tt=function(vt,Ct){const It=ft(vt,Ct);let Mt=rt(vt).getPropertyValue(It);return Mt===""&&(Mt=vt.style[It]),Mt},ht=function(vt,Ct,It){const Zt=new st(vt),Mt={};let kt,Nt;for(kt in Ct)Ct.hasOwnProperty(kt)&&(Mt[kt]=vt.style[kt],Zt.css(kt,Ct[kt]));Nt=It(vt);for(kt in Ct)Ct.hasOwnProperty(kt)&&Zt.css(kt,Mt[kt]||"");return Nt};st.prototype.show=function(){return this.forEach(gt=>{const vt=gt.style.display;(vt===""||vt==="none")&&(gt.style.display=ct[gt]||"",delete ct[gt]),ut(gt)&&(ct[gt]="none",gt.style.display=dt(gt))})},st.prototype.hide=function(){return this.forEach(gt=>{gt.style.display!=="none"&&(ct[gt]=gt.style.display,gt.style.display="none")})},st.prototype.css=function(gt,vt){if(this.length!==0)return typeof gt!="string"?this.forEach(Ct=>{pt(Ct,gt)}):vt!==void 0?this.forEach(Ct=>{yt(Ct,gt,vt)}):Tt(this.first,gt)},st.prototype.makeVisibleAndYield=function(gt){const vt={display:"block",visibility:"hidden"},Ct=[];return this.forEach(It=>{const Zt=at(It);Zt?Ct.push(ht(Zt,vt,gt)):Ct.push(void 0)}),Ct}}},function(_e,tt,et){(function(nt){const rt=et(547),it=rt.isiPhone,ot=rt.isiPad,st=rt.isiOS,at=et(548),ct=et(549),lt=ht=>{var gt,vt;return ht=ht||((gt=typeof window!==void 0?window:commonjsGlobal)==null?void 0:gt.navigator),((vt=ht)==null?void 0:vt.userAgent.toLowerCase().indexOf("electron"))>=0},dt=()=>{var ht,gt,vt;return typeof((ht=typeof window!==void 0?window:commonjsGlobal)==null||(gt=ht.process)==null||(vt=gt.versions)==null?void 0:vt.node)=="string"&&!lt()};let ut;const ft=()=>{ut={version:-1,name:"unknown"}},pt=()=>{ut.name="Node",ut.isNode=!0,ut.version=parseInt(nt.versions.node,10),ut.userAgent=`${ut.name} ${ut.version}`},yt=ht=>{if(ht=ht||(typeof window!==void 0?window:commonjsGlobal).navigator,ut.userAgent=ht.userAgent.toLowerCase(),ut.name="unknown",ut.userAgent.indexOf("opera")>-1||ut.userAgent.indexOf("opr/")>-1)ut.name="Opera",ut.isOpera=!0,/opr\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1));else if(ut.userAgent.indexOf("firefox")>-1)ut.name="Firefox",ut.isFirefox=!0,/firefox\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1));else if(ut.userAgent.match(/edge?\/(\d+)(?:\.\d+)+$/)){ut.name="Edge",ut.isEdge=!0;const gt=RegExp.$1;ut.version=parseInt(gt,10)}else ut.userAgent.indexOf("chrome")>-1?(ut.name="Chrome",ut.isElectron=lt(ht),ut.isElectron?ut.electronVersion=ct(ht.userAgent):ut.isChrome=!0,/chrome\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1))):ht.vendor&&ht.vendor.toLowerCase().indexOf("apple")>-1?(ut.name="Safari",ut.isSafari=!0,ut.isiPhone=it(ht.userAgent),ut.isiPad=ot(ht.userAgent),ut.isiOS=st(ht.userAgent),ut.isiOS&&(ut.iOSVersion=at(ht.userAgent)),(/version\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null||/fxios\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null||/crios\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null)&&(ut.version=parseFloat(RegExp.$1))):ut.userAgent.indexOf("applewebkit")>-1&&ut.userAgent.indexOf("version")===-1&&(ut.isIosWebView=!0);ut.isChromiumEdge=ut.name==="Edge"&&ut.version>=79,ut.isLegacyEdge=ut.name==="Edge"&&ut.version<79,ut.isLegacyElectron=ut.isElectron&&ut.electronVersion<7,ut.isLegacyChrome=ut.isChrome&&ut.version<87,ut.isChromium=!!(ut.isChrome||ut.isChromiumEdge||ut.isElectron||ut.isOpera),ut.isAndroid=ut.userAgent.indexOf("android")>-1,ut.userAgent=ht.userAgent,ut.protocol=location.protocol,ut.hostName=location.hostName,(ut.version===-1||ut.name==="unknown"||ut.isiOS&&!ut.iOSVersion)&&(ut.error=!0)},Tt=ht=>(ft(),dt()?pt():yt(ht),ut);_e.exports={parse:Tt,isNode:dt}}).call(this,et(42))},function(_e,tt,et){const nt=st=>/iPhone/.test(st),rt=st=>{try{return st.includes("Mac")&&"ontouchend"in document}catch{return!1}},it=st=>/iPad/.test(st)||rt(st),ot=st=>nt(st)||it(st);_e.exports={isiPhone:nt,isiPad:it,isiOS:ot}},function(_e,tt,et){_e.exports=function(rt){const it=rt.match(/OS (\d+_\d+).* like Mac/);if(!(it===null||!it[1]))return parseFloat(it[1].replace("_","."))}},function(_e,tt,et){const nt=/(Electron)\/([0-9]{1,}[.0-9]{0,})/;_e.exports=rt=>{const it=rt.match(nt);return it&&parseFloat(it[2])}},function(_e,tt,et){const nt=et(551);function rt(at,ct){return ct?nt()?at.classList.contains(ct):at.className.indexOf(ct)>-1:!1}function it(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.toggle(ct[dt]);return}let ut=` ${at.className} `.replace(/[\s+]/," ");for(;dt<lt;++dt)rt(at,ct[dt])?ut=ut.replace(` ${ct[dt]} `," "):ut+=`${ct[dt]} `;at.className=ut.trim()}function ot(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.add(ct[dt]);return}if(!at.className&&ct.length===1)at.className=ct.join(" ");else{let ut=` ${at.className} `;for(;dt<lt;++dt)~ut.indexOf(` ${ct[dt]} `)||(ut+=`${ct[dt]} `);at.className=ut.trim()}}function st(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.remove(ct[dt]);return}let ut=` ${at.className} `.replace(/[\s+]/," ");for(;dt<lt;++dt)ut=ut.replace(` ${ct[dt]} `," ");at.className=ut.trim()}_e.exports=function(at){at.prototype.addClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{ot(dt,lt)})}return this},at.prototype.removeClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{st(dt,lt)})}return this},at.prototype.toggleClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{it(dt,lt)})}return this},at.prototype.hasClass=function(ct){return this.some(lt=>rt(lt,ct))}}},function(_e,tt,et){_e.exports=()=>typeof document<"u"&&"classList"in document.createElement("a")},function(_e,tt,et){const nt=et(553);_e.exports=function(rt){let it=0,ot=0;const st=function(dt,ut,ft){const pt={},yt=function(gt){switch(gt){case"width":return new rt(dt).width();case"height":return new rt(dt).height();default:return new rt(dt).css(gt)}};ut.forEach(ht=>{pt[ht]=yt(ht)});const Tt=new(typeof window!==void 0?window:commonjsGlobal).MutationObserver(ht=>{const gt={};ht.forEach(vt=>{if(vt.attributeName!=="style")return;const Ct=new rt(dt).isDisplayNone();ut.forEach(It=>{if(Ct&&(It==="width"||It==="height"))return;const Zt=yt(It);Zt!==pt[It]&&(gt[It]=[pt[It],Zt],pt[It]=Zt)})}),nt(gt)||setTimeout(()=>{ft.call(null,gt)})});return Tt.observe(dt,{attributes:!0,attributeFilter:["style"],childList:!1,characterData:!1,subtree:!1}),Tt},at=function(dt,ut){const ft=new(typeof window!==void 0?window:commonjsGlobal).MutationObserver(yt=>{let Tt=[];yt.forEach(ht=>{ht.removedNodes.length&&(Tt=Tt.concat(Array.prototype.slice.call(ht.removedNodes)))}),Tt.length&&setTimeout(()=>{ut(new rt(Tt))})});ft.observe(dt,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),ot++;const pt=ft.disconnect;return ft.disconnect=function(){pt.apply(ft,arguments),ot--},ft},ct=function(dt,ut){let ft={width:0,height:0};const pt=setInterval(()=>{const yt=dt.getBoundingClientRect();(ft.width!==yt.width||ft.height!==yt.height)&&(ut(yt,ft),ft={width:yt.width,height:yt.height})},1e3/5);return it++,{disconnect(){clearInterval(pt),it--}}};rt.prototype.observeStyleChanges=function(lt,dt){const ut=[];return this.forEach(ft=>{ut.push(st(ft,lt,dt))}),ut},rt.prototype.observeNodeOrChildNodeRemoval=function(lt){const dt=[];return this.forEach(ut=>{dt.push(at(ut,lt))}),dt},rt.prototype.observeSize=function(lt){const dt=[];return this.forEach(ut=>{dt.push(ct(ut,lt))}),dt},rt._attachToOTHelpers.observeStyleChanges=function(lt,dt,ut){return new rt(lt).observeStyleChanges(dt,ut)[0]},rt._attachToOTHelpers.observeNodeOrChildNodeRemoval=function(lt,dt){return new rt(lt).observeNodeOrChildNodeRemoval(dt)[0]},rt.__testOnly||(rt.__testOnly={}),rt.__testOnly.sizeObserverCount=function(){return it},rt.__testOnly.nodeRemovalObserverCount=function(){return ot}}},function(_e,tt,et){var nt=et(116),rt=et(41),it=et(63),ot=et(12),st=et(25),at=et(64),ct=et(67),lt=et(85),dt="[object Map]",ut="[object Set]",ft=Object.prototype,pt=ft.hasOwnProperty;function yt(Tt){if(Tt==null)return!0;if(st(Tt)&&(ot(Tt)||typeof Tt=="string"||typeof Tt.splice=="function"||at(Tt)||lt(Tt)||it(Tt)))return!Tt.length;var ht=rt(Tt);if(ht==dt||ht==ut)return!Tt.size;if(ct(Tt))return!nt(Tt).length;for(var gt in Tt)if(pt.call(Tt,gt))return!1;return!0}_e.exports=yt},function(_e,tt,et){_e.exports={1004:"Authentication error",1005:"Invalid Session ID",1006:"Connect Failed",1007:"Connect Rejected",1008:"Connect Time-out",1009:"Security Error",1010:"Not Connected",1011:"Invalid Parameter",1012:"Peer-to-peer Stream Play Failed",1013:"Connection Failed",1014:"API Response Failure",1015:"PeerConnection not connected, cannot call this method",1021:"Request Timeout",1026:"Terms of Service Violation: Export Compliance",1027:"Connection Limit Exceeded",1040:"Set Video Source Failure",1041:"Invalid Video Source",1500:"Unable to Publish",1501:"Unable to Subscribe",1502:"Unsupported Video Codec",1503:"No TURN server found",1520:"Unable to Force Disconnect",1530:"Unable to Force Unpublish",1540:"Unable to Force Mute",1553:"Publisher ICEWorkflow failed",1554:"Subscriber ICEWorkflow failed",1600:"createOffer, createAnswer, setLocalDescription, setRemoteDescription",1605:"Stream Limit Exceeded",2e3:"Internal Error",2001:"Unexpected Server Response",2021:"Proxy URL Timing Error",2022:"Proxy URL Already Set Error",2031:"getRtcStatsReport is not supported in this browser",4e3:"WebSocket Connection Failed",4001:"WebSocket Network Disconnected",5001:"Unable to access media engine"}},function(_e,tt,et){const nt=et(16);_e.exports=function(it,ot,st,at,ct){let lt,dt=st;it.currentState=st;const ut=function(pt){if(dt!==pt){if(ot.indexOf(pt)===-1){ct&&nt(ct)&&ct("invalidState",pt);return}it.previousState=dt,lt=dt,it.currentState=pt,dt=pt,at&&nt(at)&&at(pt,lt)}};return it.is=function(){return Array.prototype.indexOf.call(arguments,dt)!==-1},it.isNot=function(){return Array.prototype.indexOf.call(arguments,dt)===-1},ut}},function(_e,tt,et){const nt=et(246),rt={};_e.exports=rt,rt.isElementNode=function(it){return it&&typeof it=="object"&&it.nodeType===1},rt.createElement=function(it,ot,st,at){const ct=(at||document).createElement(it);ot=ot||{},Object.keys(ot).forEach(dt=>{if(typeof ot[dt]=="object"){ct[dt]||(ct[dt]={});const ut=ot[dt];Object.keys(ut).forEach(ft=>{ct[dt][ft]=ut[ft]})}else dt==="className"?ct.className=ot[dt]:ct.setAttribute(dt,ot[dt])});const lt=function(ut){typeof ut=="string"?ct.innerHTML+=ut:ct.appendChild(ut)};return Array.isArray(st)?st.forEach(lt):st&&lt(st),ct},nt(rt)},function(_e,tt,et){const nt=et(558);_e.exports=(rt,it)=>{if(typeof rt=="string"&&typeof it=="string"){const ot=nt(rt),st=it.match(/(\w+:\/\/)(.*)/),at=st[1],ct=st[2];return`${at}${ot}/${ct}`}return it}},function(_e,tt,et){_e.exports=nt=>nt.replace(/\/+$/,"").replace(/^.*:\/+/,"")},function(_e,tt,et){const nt=et(560);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.isSessionProxied||et(561),ot=rt,st=ot.sessionId;it(st)&&nt.forEach(at=>{at in rt&&(rt[at]="")})}},function(_e,tt,et){_e.exports=["audioLocalAddress","audioRemoteAddress","videoLocalAddress","videoRemoteAddress"]},function(_e,tt,et){const rt=et(21).sessions;_e.exports=it=>{const ot=rt.get(it);return ot?!!ot._.getProxyUrl():!1}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot={architecture:"event_ua_arch",bitness:"event_ua_bitness",model:"event_ua_model",platformVersion:"event_ua_platform_version"},st=function(){var at=(0,it.default)(rt.default.mark(function ct(lt){var dt,ut;return rt.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(dt={},!(lt!=null&&lt.getHighEntropyValues)){pt.next=6;break}return pt.next=4,lt.getHighEntropyValues(Object.keys(ot));case 4:ut=pt.sent,ut&&Object.entries(ot).forEach(yt=>{let Tt=yt[0],ht=yt[1];ut[Tt]!==void 0&&(dt[ht]=ut[Tt])});case 6:return pt.abrupt("return",dt);case 7:case"end":return pt.stop()}},ct)}));return function(lt){return at.apply(this,arguments)}}();_e.exports=st},function(_e,tt,et){const nt=["buildHash","minimumVersion","debug",["websiteURL","websiteUrl"],["cdnURL","cdnUrl"],["loggingURL","loggingUrl"],["apiURL","apiUrl"],["supportSSL",!0],["cdnURLSSL","cdnUrl"],["loggingURLSSL","loggingUrl"],["apiURLSSL","apiUrl"],["assetURL","assetUrl"]];_e.exports=nt},function(_e,tt,et){const nt=["apiUrl","apiURL","apiURLSSL"];_e.exports=nt},function(_e,tt,et){_e.exports=function(){const rt=(typeof window!==void 0?window:commonjsGlobal).OT,it=(typeof window!==void 0?window:commonjsGlobal).TB;return()=>{const ot=(typeof window!==void 0?window:commonjsGlobal).OT;return(typeof window!==void 0?window:commonjsGlobal).OT=rt,(typeof window!==void 0?window:commonjsGlobal).TB=it,ot}}},function(_e,tt,et){const nt=rt=>{const it={};return Object.getOwnPropertyNames(rt).forEach(ot=>{it[ot]=Object.getOwnPropertyDescriptor(rt,ot)}),it};_e.exports=function(it){function ot(){for(var st=arguments.length,at=new Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct];const lt=new it(...at);return Object.setPrototypeOf(lt,ot.prototype),lt}return ot.prototype=Object.create(it.prototype),Object.defineProperties(ot.prototype,nt(it.prototype)),Object.keys(it).forEach(st=>{ot[st]=it[st]}),ot}},function(_e,tt,et){var nt=et(27);_e.exports=function(rt,it){var ot=rt&&rt.window,st={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var at in it)hasOwnProperty.call(it,at)&&(st[at]=it[at]);var ct=nt.log,lt=nt.detectBrowser(ot),dt=et(568)||null,ut=et(570)||null,ft=et(574)||null,pt=et(576)||null,yt=et(577)||null,Tt={browserDetails:lt,commonShim:yt,extractVersion:nt.extractVersion,disableLog:nt.disableLog,disableWarnings:nt.disableWarnings};switch(lt.browser){case"chrome":if(!dt||!dt.shimPeerConnection||!st.shimChrome)return ct("Chrome shim is not included in this adapter release."),Tt;ct("adapter.js shimming chrome."),Tt.browserShim=dt,yt.shimCreateObjectURL(ot),dt.shimGetUserMedia(ot),dt.shimMediaStream(ot),dt.shimSourceObject(ot),dt.shimPeerConnection(ot),dt.shimOnTrack(ot),dt.shimAddTrackRemoveTrack(ot),dt.shimGetSendersWithDtmf(ot),dt.shimSenderReceiverGetStats(ot),dt.fixNegotiationNeeded(ot),yt.shimRTCIceCandidate(ot),yt.shimMaxMessageSize(ot),yt.shimSendThrowTypeError(ot);break;case"firefox":if(!ft||!ft.shimPeerConnection||!st.shimFirefox)return ct("Firefox shim is not included in this adapter release."),Tt;ct("adapter.js shimming firefox."),Tt.browserShim=ft,yt.shimCreateObjectURL(ot),ft.shimGetUserMedia(ot),ft.shimSourceObject(ot),ft.shimPeerConnection(ot),ft.shimOnTrack(ot),ft.shimRemoveStream(ot),ft.shimSenderGetStats(ot),ft.shimReceiverGetStats(ot),ft.shimRTCDataChannel(ot),yt.shimRTCIceCandidate(ot),yt.shimMaxMessageSize(ot),yt.shimSendThrowTypeError(ot);break;case"edge":if(!ut||!ut.shimPeerConnection||!st.shimEdge)return ct("MS edge shim is not included in this adapter release."),Tt;ct("adapter.js shimming edge."),Tt.browserShim=ut,yt.shimCreateObjectURL(ot),ut.shimGetUserMedia(ot),ut.shimPeerConnection(ot),ut.shimReplaceTrack(ot),ut.shimGetDisplayMedia(ot),yt.shimMaxMessageSize(ot),yt.shimSendThrowTypeError(ot);break;case"safari":if(!pt||!st.shimSafari)return ct("Safari shim is not included in this adapter release."),Tt;ct("adapter.js shimming safari."),Tt.browserShim=pt,yt.shimCreateObjectURL(ot),pt.shimRTCIceServerUrls(ot),pt.shimCreateOfferLegacy(ot),pt.shimCallbacksAPI(ot),pt.shimLocalStreamsAPI(ot),pt.shimRemoteStreamsAPI(ot),pt.shimTrackEventTransceiver(ot),pt.shimGetUserMedia(ot),yt.shimRTCIceCandidate(ot),yt.shimMaxMessageSize(ot),yt.shimSendThrowTypeError(ot);break;default:ct("Unsupported browser!");break}return Tt}},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;function ot(at,ct,lt){!ct||lt.has(ct.id)||(lt.set(ct.id,ct),Object.keys(ct).forEach(function(dt){dt.endsWith("Id")?ot(at,at.get(ct[dt]),lt):dt.endsWith("Ids")&&ct[dt].forEach(function(ut){ot(at,at.get(ut),lt)})}))}function st(at,ct,lt){var dt=lt?"outbound-rtp":"inbound-rtp",ut=new Map;if(ct===null)return ut;var ft=[];return at.forEach(function(pt){pt.type==="track"&&pt.trackIdentifier===ct.id&&ft.push(pt)}),ft.forEach(function(pt){at.forEach(function(yt){yt.type===dt&&yt.trackId===pt.id&&ot(at,yt,ut)})}),ut}_e.exports={shimGetUserMedia:et(569),shimMediaStream:function(at){at.MediaStream=at.MediaStream||at.webkitMediaStream},shimOnTrack:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&!("ontrack"in at.RTCPeerConnection.prototype)){Object.defineProperty(at.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(lt){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=lt)},enumerable:!0,configurable:!0});var ct=at.RTCPeerConnection.prototype.setRemoteDescription;at.RTCPeerConnection.prototype.setRemoteDescription=function(){var lt=this;return lt._ontrackpoly||(lt._ontrackpoly=function(dt){dt.stream.addEventListener("addtrack",function(ut){var ft;at.RTCPeerConnection.prototype.getReceivers?ft=lt.getReceivers().find(function(yt){return yt.track&&yt.track.id===ut.track.id}):ft={track:ut.track};var pt=new Event("track");pt.track=ut.track,pt.receiver=ft,pt.transceiver={receiver:ft},pt.streams=[dt.stream],lt.dispatchEvent(pt)}),dt.stream.getTracks().forEach(function(ut){var ft;at.RTCPeerConnection.prototype.getReceivers?ft=lt.getReceivers().find(function(yt){return yt.track&&yt.track.id===ut.id}):ft={track:ut};var pt=new Event("track");pt.track=ut,pt.receiver=ft,pt.transceiver={receiver:ft},pt.streams=[dt.stream],lt.dispatchEvent(pt)})},lt.addEventListener("addstream",lt._ontrackpoly)),ct.apply(lt,arguments)}}else rt.wrapPeerConnectionEvent(at,"track",function(lt){return lt.transceiver||Object.defineProperty(lt,"transceiver",{value:{receiver:lt.receiver}}),lt})},shimGetSendersWithDtmf:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&!("getSenders"in at.RTCPeerConnection.prototype)&&"createDTMFSender"in at.RTCPeerConnection.prototype){var ct=function(yt,Tt){return{track:Tt,get dtmf(){return this._dtmf===void 0&&(Tt.kind==="audio"?this._dtmf=yt.createDTMFSender(Tt):this._dtmf=null),this._dtmf},_pc:yt}};if(!at.RTCPeerConnection.prototype.getSenders){at.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var lt=at.RTCPeerConnection.prototype.addTrack;at.RTCPeerConnection.prototype.addTrack=function(yt,Tt){var ht=this,gt=lt.apply(ht,arguments);return gt||(gt=ct(ht,yt),ht._senders.push(gt)),gt};var dt=at.RTCPeerConnection.prototype.removeTrack;at.RTCPeerConnection.prototype.removeTrack=function(yt){var Tt=this;dt.apply(Tt,arguments);var ht=Tt._senders.indexOf(yt);ht!==-1&&Tt._senders.splice(ht,1)}}var ut=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(yt){var Tt=this;Tt._senders=Tt._senders||[],ut.apply(Tt,[yt]),yt.getTracks().forEach(function(ht){Tt._senders.push(ct(Tt,ht))})};var ft=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(yt){var Tt=this;Tt._senders=Tt._senders||[],ft.apply(Tt,[yt]),yt.getTracks().forEach(function(ht){var gt=Tt._senders.find(function(vt){return vt.track===ht});gt&&Tt._senders.splice(Tt._senders.indexOf(gt),1)})}}else if(typeof at=="object"&&at.RTCPeerConnection&&"getSenders"in at.RTCPeerConnection.prototype&&"createDTMFSender"in at.RTCPeerConnection.prototype&&at.RTCRtpSender&&!("dtmf"in at.RTCRtpSender.prototype)){var pt=at.RTCPeerConnection.prototype.getSenders;at.RTCPeerConnection.prototype.getSenders=function(){var yt=this,Tt=pt.apply(yt,[]);return Tt.forEach(function(ht){ht._pc=yt}),Tt},Object.defineProperty(at.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&at.RTCRtpSender&&at.RTCRtpReceiver){if(!("getStats"in at.RTCRtpSender.prototype)){var ct=at.RTCPeerConnection.prototype.getSenders;ct&&(at.RTCPeerConnection.prototype.getSenders=function(){var ft=this,pt=ct.apply(ft,[]);return pt.forEach(function(yt){yt._pc=ft}),pt});var lt=at.RTCPeerConnection.prototype.addTrack;lt&&(at.RTCPeerConnection.prototype.addTrack=function(){var ft=lt.apply(this,arguments);return ft._pc=this,ft}),at.RTCRtpSender.prototype.getStats=function(){var ft=this;return this._pc.getStats().then(function(pt){return st(pt,ft.track,!0)})}}if(!("getStats"in at.RTCRtpReceiver.prototype)){var dt=at.RTCPeerConnection.prototype.getReceivers;dt&&(at.RTCPeerConnection.prototype.getReceivers=function(){var ft=this,pt=dt.apply(ft,[]);return pt.forEach(function(yt){yt._pc=ft}),pt}),rt.wrapPeerConnectionEvent(at,"track",function(ft){return ft.receiver._pc=ft.srcElement,ft}),at.RTCRtpReceiver.prototype.getStats=function(){var ft=this;return this._pc.getStats().then(function(pt){return st(pt,ft.track,!1)})}}if("getStats"in at.RTCRtpSender.prototype&&"getStats"in at.RTCRtpReceiver.prototype){var ut=at.RTCPeerConnection.prototype.getStats;at.RTCPeerConnection.prototype.getStats=function(){var ft=this;if(arguments.length>0&&arguments[0]instanceof at.MediaStreamTrack){var pt=arguments[0],yt,Tt,ht;return ft.getSenders().forEach(function(gt){gt.track===pt&&(yt?ht=!0:yt=gt)}),ft.getReceivers().forEach(function(gt){return gt.track===pt&&(Tt?ht=!0:Tt=gt),gt.track===pt}),ht||yt&&Tt?nt.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):yt?yt.getStats():Tt?Tt.getStats():nt.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return ut.apply(ft,arguments)}}}},shimSourceObject:function(at){var ct=at&&at.URL;typeof at=="object"&&at.HTMLMediaElement&&!("srcObject"in at.HTMLMediaElement.prototype)&&Object.defineProperty(at.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(lt){var dt=this;if(this._srcObject=lt,this.src&&ct.revokeObjectURL(this.src),!lt){this.src="";return}this.src=ct.createObjectURL(lt),lt.addEventListener("addtrack",function(){dt.src&&ct.revokeObjectURL(dt.src),dt.src=ct.createObjectURL(lt)}),lt.addEventListener("removetrack",function(){dt.src&&ct.revokeObjectURL(dt.src),dt.src=ct.createObjectURL(lt)})}})},shimAddTrackRemoveTrackWithNative:function(at){at.RTCPeerConnection.prototype.getLocalStreams=function(){var ft=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(pt){return ft._shimmedLocalStreams[pt][0]})};var ct=at.RTCPeerConnection.prototype.addTrack;at.RTCPeerConnection.prototype.addTrack=function(ft,pt){if(!pt)return ct.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var yt=ct.apply(this,arguments);return this._shimmedLocalStreams[pt.id]?this._shimmedLocalStreams[pt.id].indexOf(yt)===-1&&this._shimmedLocalStreams[pt.id].push(yt):this._shimmedLocalStreams[pt.id]=[pt,yt],yt};var lt=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(ft){var pt=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},ft.getTracks().forEach(function(ht){var gt=pt.getSenders().find(function(vt){return vt.track===ht});if(gt)throw new DOMException("Track already exists.","InvalidAccessError")});var yt=pt.getSenders();lt.apply(this,arguments);var Tt=pt.getSenders().filter(function(ht){return yt.indexOf(ht)===-1});this._shimmedLocalStreams[ft.id]=[ft].concat(Tt)};var dt=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(ft){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[ft.id],dt.apply(this,arguments)};var ut=at.RTCPeerConnection.prototype.removeTrack;at.RTCPeerConnection.prototype.removeTrack=function(ft){var pt=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},ft&&Object.keys(this._shimmedLocalStreams).forEach(function(yt){var Tt=pt._shimmedLocalStreams[yt].indexOf(ft);Tt!==-1&&pt._shimmedLocalStreams[yt].splice(Tt,1),pt._shimmedLocalStreams[yt].length===1&&delete pt._shimmedLocalStreams[yt]}),ut.apply(this,arguments)}},shimAddTrackRemoveTrack:function(at){if(!at.RTCPeerConnection)return;var ct=rt.detectBrowser(at);if(at.RTCPeerConnection.prototype.addTrack&&ct.version>=65)return this.shimAddTrackRemoveTrackWithNative(at);var lt=at.RTCPeerConnection.prototype.getLocalStreams;at.RTCPeerConnection.prototype.getLocalStreams=function(){var ht=this,gt=lt.apply(this);return ht._reverseStreams=ht._reverseStreams||{},gt.map(function(vt){return ht._reverseStreams[vt.id]})};var dt=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(ht){var gt=this;if(gt._streams=gt._streams||{},gt._reverseStreams=gt._reverseStreams||{},ht.getTracks().forEach(function(Ct){var It=gt.getSenders().find(function(Zt){return Zt.track===Ct});if(It)throw new DOMException("Track already exists.","InvalidAccessError")}),!gt._reverseStreams[ht.id]){var vt=new at.MediaStream(ht.getTracks());gt._streams[ht.id]=vt,gt._reverseStreams[vt.id]=ht,ht=vt}dt.apply(gt,[ht])};var ut=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(ht){var gt=this;gt._streams=gt._streams||{},gt._reverseStreams=gt._reverseStreams||{},ut.apply(gt,[gt._streams[ht.id]||ht]),delete gt._reverseStreams[gt._streams[ht.id]?gt._streams[ht.id].id:ht.id],delete gt._streams[ht.id]},at.RTCPeerConnection.prototype.addTrack=function(ht,gt){var vt=this;if(vt.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var Ct=[].slice.call(arguments,1);if(Ct.length!==1||!Ct[0].getTracks().find(function(kt){return kt===ht}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var It=vt.getSenders().find(function(kt){return kt.track===ht});if(It)throw new DOMException("Track already exists.","InvalidAccessError");vt._streams=vt._streams||{},vt._reverseStreams=vt._reverseStreams||{};var Zt=vt._streams[gt.id];if(Zt)Zt.addTrack(ht),nt.resolve().then(function(){vt.dispatchEvent(new Event("negotiationneeded"))});else{var Mt=new at.MediaStream([ht]);vt._streams[gt.id]=Mt,vt._reverseStreams[Mt.id]=gt,vt.addStream(Mt)}return vt.getSenders().find(function(kt){return kt.track===ht})};function ft(ht,gt){var vt=gt.sdp;return Object.keys(ht._reverseStreams||[]).forEach(function(Ct){var It=ht._reverseStreams[Ct],Zt=ht._streams[It.id];vt=vt.replace(new RegExp(Zt.id,"g"),It.id)}),new RTCSessionDescription({type:gt.type,sdp:vt})}function pt(ht,gt){var vt=gt.sdp;return Object.keys(ht._reverseStreams||[]).forEach(function(Ct){var It=ht._reverseStreams[Ct],Zt=ht._streams[It.id];vt=vt.replace(new RegExp(It.id,"g"),Zt.id)}),new RTCSessionDescription({type:gt.type,sdp:vt})}["createOffer","createAnswer"].forEach(function(ht){var gt=at.RTCPeerConnection.prototype[ht];at.RTCPeerConnection.prototype[ht]=function(){var vt=this,Ct=arguments,It=arguments.length&&typeof arguments[0]=="function";return It?gt.apply(vt,[function(Zt){var Mt=ft(vt,Zt);Ct[0].apply(null,[Mt])},function(Zt){Ct[1]&&Ct[1].apply(null,Zt)},arguments[2]]):gt.apply(vt,arguments).then(function(Zt){return ft(vt,Zt)})}});var yt=at.RTCPeerConnection.prototype.setLocalDescription;at.RTCPeerConnection.prototype.setLocalDescription=function(){var ht=this;return!arguments.length||!arguments[0].type||(arguments[0]=pt(ht,arguments[0])),yt.apply(ht,arguments)};var Tt=Object.getOwnPropertyDescriptor(at.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(at.RTCPeerConnection.prototype,"localDescription",{get:function(){var ht=this,gt=Tt.get.apply(this);return gt.type===""?gt:ft(ht,gt)}}),at.RTCPeerConnection.prototype.removeTrack=function(ht){var gt=this;if(gt.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ht._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var vt=ht._pc===gt;if(!vt)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");gt._streams=gt._streams||{};var Ct;Object.keys(gt._streams).forEach(function(It){var Zt=gt._streams[It].getTracks().find(function(Mt){return ht.track===Mt});Zt&&(Ct=gt._streams[It])}),Ct&&(Ct.getTracks().length===1?gt.removeStream(gt._reverseStreams[Ct.id]):Ct.removeTrack(ht.track),gt.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(at){var ct=rt.detectBrowser(at);if(!at.RTCPeerConnection&&at.webkitRTCPeerConnection&&(at.RTCPeerConnection=function(ut,ft){return it("PeerConnection"),ut&&ut.iceTransportPolicy&&(ut.iceTransports=ut.iceTransportPolicy),new at.webkitRTCPeerConnection(ut,ft)},at.RTCPeerConnection.prototype=at.webkitRTCPeerConnection.prototype,at.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(at.RTCPeerConnection,"generateCertificate",{get:function(){return at.webkitRTCPeerConnection.generateCertificate}})),!!at.RTCPeerConnection){var lt=at.RTCPeerConnection.prototype.getStats;at.RTCPeerConnection.prototype.getStats=function(ut,ft,pt){var yt=this,Tt=arguments;if(arguments.length>0&&typeof ut=="function")return lt.apply(this,arguments);if(lt.length===0&&(arguments.length===0||typeof arguments[0]!="function"))return lt.apply(this,[]);var ht=function(Ct){var It={},Zt=Ct.result();return Zt.forEach(function(Mt){var kt={id:Mt.id,timestamp:Mt.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Mt.type]||Mt.type};Mt.names().forEach(function(Nt){kt[Nt]=Mt.stat(Nt)}),It[kt.id]=kt}),It},gt=function(Ct){return new Map(Object.keys(Ct).map(function(It){return[It,Ct[It]]}))};if(arguments.length>=2){var vt=function(Ct){Tt[1](gt(ht(Ct)))};return lt.apply(this,[vt,arguments[0]])}return new nt(function(Ct,It){lt.apply(yt,[function(Zt){Ct(gt(ht(Zt)))},It])}).then(ft,pt)},ct.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){var pt=arguments,yt=this,Tt=new nt(function(ht,gt){ft.apply(yt,[pt[0],ht,gt])});return pt.length<2?Tt:Tt.then(function(){pt[1].apply(null,[])},function(ht){pt.length>=3&&pt[2].apply(null,[ht])})}}),ct.version<52&&["createOffer","createAnswer"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){var pt=this;if(arguments.length<1||arguments.length===1&&typeof arguments[0]=="object"){var yt=arguments.length===1?arguments[0]:void 0;return new nt(function(Tt,ht){ft.apply(pt,[Tt,ht,yt])})}return ft.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){return arguments[0]=new(ut==="addIceCandidate"?at.RTCIceCandidate:at.RTCSessionDescription)(arguments[0]),ft.apply(this,arguments)}});var dt=at.RTCPeerConnection.prototype.addIceCandidate;at.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?dt.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),nt.resolve())}}},fixNegotiationNeeded:function(at){rt.wrapPeerConnectionEvent(at,"negotiationneeded",function(ct){var lt=ct.target;if(lt.signalingState==="stable")return ct})},shimGetDisplayMedia:function(at,ct){if(!(!at.navigator||!at.navigator.mediaDevices||"getDisplayMedia"in at.navigator.mediaDevices)){if(typeof ct!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}at.navigator.mediaDevices.getDisplayMedia=function(lt){return ct(lt).then(function(dt){var ut=lt.video&&lt.video.width,ft=lt.video&&lt.video.height,pt=lt.video&&lt.video.frameRate;return lt.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:dt,maxFrameRate:pt||3}},ut&&(lt.video.mandatory.maxWidth=ut),ft&&(lt.video.mandatory.maxHeight=ft),at.navigator.mediaDevices.getUserMedia(lt)})},at.navigator.getDisplayMedia=function(lt){return rt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),at.navigator.mediaDevices.getDisplayMedia(lt)}}}}}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;_e.exports=function(ot){var st=rt.detectBrowser(ot),at=ot&&ot.navigator,ct=function(yt){if(typeof yt!="object"||yt.mandatory||yt.optional)return yt;var Tt={};return Object.keys(yt).forEach(function(ht){if(!(ht==="require"||ht==="advanced"||ht==="mediaSource")){var gt=typeof yt[ht]=="object"?yt[ht]:{ideal:yt[ht]};gt.exact!==void 0&&typeof gt.exact=="number"&&(gt.min=gt.max=gt.exact);var vt=function(It,Zt){return It?It+Zt.charAt(0).toUpperCase()+Zt.slice(1):Zt==="deviceId"?"sourceId":Zt};if(gt.ideal!==void 0){Tt.optional=Tt.optional||[];var Ct={};typeof gt.ideal=="number"?(Ct[vt("min",ht)]=gt.ideal,Tt.optional.push(Ct),Ct={},Ct[vt("max",ht)]=gt.ideal,Tt.optional.push(Ct)):(Ct[vt("",ht)]=gt.ideal,Tt.optional.push(Ct))}gt.exact!==void 0&&typeof gt.exact!="number"?(Tt.mandatory=Tt.mandatory||{},Tt.mandatory[vt("",ht)]=gt.exact):["min","max"].forEach(function(It){gt[It]!==void 0&&(Tt.mandatory=Tt.mandatory||{},Tt.mandatory[vt(It,ht)]=gt[It])})}}),yt.advanced&&(Tt.optional=(Tt.optional||[]).concat(yt.advanced)),Tt},lt=function(yt,Tt){if(st.version>=61)return Tt(yt);if(yt=JSON.parse(JSON.stringify(yt)),yt&&typeof yt.audio=="object"){var ht=function(It,Zt,Mt){Zt in It&&!(Mt in It)&&(It[Mt]=It[Zt],delete It[Zt])};yt=JSON.parse(JSON.stringify(yt)),ht(yt.audio,"autoGainControl","googAutoGainControl"),ht(yt.audio,"noiseSuppression","googNoiseSuppression"),yt.audio=ct(yt.audio)}if(yt&&typeof yt.video=="object"){var gt=yt.video.facingMode;gt=gt&&(typeof gt=="object"?gt:{ideal:gt});var vt=st.version<66;if(gt&&(gt.exact==="user"||gt.exact==="environment"||gt.ideal==="user"||gt.ideal==="environment")&&!(at.mediaDevices.getSupportedConstraints&&at.mediaDevices.getSupportedConstraints().facingMode&&!vt)){delete yt.video.facingMode;var Ct;if(gt.exact==="environment"||gt.ideal==="environment"?Ct=["back","rear"]:(gt.exact==="user"||gt.ideal==="user")&&(Ct=["front"]),Ct)return at.mediaDevices.enumerateDevices().then(function(It){It=It.filter(function(Mt){return Mt.kind==="videoinput"});var Zt=It.find(function(Mt){return Ct.some(function(kt){return Mt.label.toLowerCase().indexOf(kt)!==-1})});return!Zt&&It.length&&Ct.indexOf("back")!==-1&&(Zt=It[It.length-1]),Zt&&(yt.video.deviceId=gt.exact?{exact:Zt.deviceId}:{ideal:Zt.deviceId}),yt.video=ct(yt.video),it("chrome: "+JSON.stringify(yt)),Tt(yt)})}yt.video=ct(yt.video)}return it("chrome: "+JSON.stringify(yt)),Tt(yt)},dt=function(yt){return st.version>=64?yt:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[yt.name]||yt.name,message:yt.message,constraint:yt.constraint||yt.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},ut=function(yt,Tt,ht){lt(yt,function(gt){at.webkitGetUserMedia(gt,Tt,function(vt){ht&&ht(dt(vt))})})};at.getUserMedia=ut;var ft=function(yt){return new nt(function(Tt,ht){at.getUserMedia(yt,Tt,ht)})};if(at.mediaDevices||(at.mediaDevices={getUserMedia:ft,enumerateDevices:function(){return new nt(function(yt){var Tt={audio:"audioinput",video:"videoinput"};return ot.MediaStreamTrack.getSources(function(ht){yt(ht.map(function(gt){return{label:gt.label,kind:Tt[gt.kind],deviceId:gt.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),!at.mediaDevices.getUserMedia)at.mediaDevices.getUserMedia=function(yt){return ft(yt)};else{var pt=at.mediaDevices.getUserMedia.bind(at.mediaDevices);at.mediaDevices.getUserMedia=function(yt){return lt(yt,function(Tt){return pt(Tt).then(function(ht){if(Tt.audio&&!ht.getAudioTracks().length||Tt.video&&!ht.getVideoTracks().length)throw ht.getTracks().forEach(function(gt){gt.stop()}),new DOMException("","NotFoundError");return ht},function(ht){return nt.reject(dt(ht))})})}}typeof at.mediaDevices.addEventListener>"u"&&(at.mediaDevices.addEventListener=function(){it("Dummy mediaDevices.addEventListener called.")}),typeof at.mediaDevices.removeEventListener>"u"&&(at.mediaDevices.removeEventListener=function(){it("Dummy mediaDevices.removeEventListener called.")})}}).call(this,et(0))},function(_e,tt,et){var nt=et(27),rt=et(571),it=et(572);_e.exports={shimGetUserMedia:et(573),shimPeerConnection:function(ot){var st=nt.detectBrowser(ot);if(ot.RTCIceGatherer&&(ot.RTCIceCandidate||(ot.RTCIceCandidate=function(lt){return lt}),ot.RTCSessionDescription||(ot.RTCSessionDescription=function(lt){return lt}),st.version<15025)){var at=Object.getOwnPropertyDescriptor(ot.MediaStreamTrack.prototype,"enabled");Object.defineProperty(ot.MediaStreamTrack.prototype,"enabled",{set:function(lt){at.set.call(this,lt);var dt=new Event("enabled");dt.enabled=lt,this.dispatchEvent(dt)}})}ot.RTCRtpSender&&!("dtmf"in ot.RTCRtpSender.prototype)&&Object.defineProperty(ot.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new ot.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),ot.RTCDtmfSender&&!ot.RTCDTMFSender&&(ot.RTCDTMFSender=ot.RTCDtmfSender);var ct=it(ot,st.version);ot.RTCPeerConnection=function(lt){return lt&&lt.iceServers&&(lt.iceServers=rt(lt.iceServers)),new ct(lt)},ot.RTCPeerConnection.prototype=ct.prototype},shimReplaceTrack:function(ot){ot.RTCRtpSender&&!("replaceTrack"in ot.RTCRtpSender.prototype)&&(ot.RTCRtpSender.prototype.replaceTrack=ot.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(ot,st){if(!(!("getDisplayMedia"in ot.navigator)||!ot.navigator.mediaDevices||"getDisplayMedia"in ot.navigator.mediaDevices)){var at=ot.navigator.getDisplayMedia;ot.navigator.mediaDevices.getDisplayMedia=function(ct){return at.call(ot.navigator,ct)},ot.navigator.getDisplayMedia=function(ct){return nt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),at.call(ot.navigator,ct)}}}}},function(_e,tt,et){var nt=et(27);_e.exports=function(rt,it){var ot=!1;return rt=JSON.parse(JSON.stringify(rt)),rt.filter(function(st){if(st&&(st.urls||st.url)){var at=st.urls||st.url;st.url&&!st.urls&&nt.deprecated("RTCIceServer.url","RTCIceServer.urls");var ct=typeof at=="string";return ct&&(at=[at]),at=at.filter(function(lt){var dt=lt.indexOf("turn:")===0&&lt.indexOf("transport=udp")!==-1&&lt.indexOf("turn:[")===-1&&!ot;return dt?(ot=!0,!0):lt.indexOf("stun:")===0&&it>=14393&&lt.indexOf("?transport=udp")===-1}),delete st.url,st.urls=ct?at[0]:at,!!at.length}})}},function(_e,tt,et){(function(nt){var rt=et(250);function it(ut){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[ut.type]||ut.type}function ot(ut,ft,pt,yt,Tt){var ht=rt.writeRtpDescription(ut.kind,ft);if(ht+=rt.writeIceParameters(ut.iceGatherer.getLocalParameters()),ht+=rt.writeDtlsParameters(ut.dtlsTransport.getLocalParameters(),pt==="offer"?"actpass":Tt||"active"),ht+="a=mid:"+ut.mid+`\r
`,ut.rtpSender&&ut.rtpReceiver?ht+=`a=sendrecv\r
`:ut.rtpSender?ht+=`a=sendonly\r
`:ut.rtpReceiver?ht+=`a=recvonly\r
`:ht+=`a=inactive\r
`,ut.rtpSender){var gt=ut.rtpSender._initialTrackId||ut.rtpSender.track.id;ut.rtpSender._initialTrackId=gt;var vt="msid:"+(yt?yt.id:"-")+" "+gt+`\r
`;ht+="a="+vt,ht+="a=ssrc:"+ut.sendEncodingParameters[0].ssrc+" "+vt,ut.sendEncodingParameters[0].rtx&&(ht+="a=ssrc:"+ut.sendEncodingParameters[0].rtx.ssrc+" "+vt,ht+="a=ssrc-group:FID "+ut.sendEncodingParameters[0].ssrc+" "+ut.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return ht+="a=ssrc:"+ut.sendEncodingParameters[0].ssrc+" cname:"+rt.localCName+`\r
`,ut.rtpSender&&ut.sendEncodingParameters[0].rtx&&(ht+="a=ssrc:"+ut.sendEncodingParameters[0].rtx.ssrc+" cname:"+rt.localCName+`\r
`),ht}function st(ut,ft){var pt=!1;return ut=JSON.parse(JSON.stringify(ut)),ut.filter(function(yt){if(yt&&(yt.urls||yt.url)){var Tt=yt.urls||yt.url;yt.url&&!yt.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var ht=typeof Tt=="string";return ht&&(Tt=[Tt]),Tt=Tt.filter(function(gt){var vt=gt.indexOf("turn:")===0&&gt.indexOf("transport=udp")!==-1&&gt.indexOf("turn:[")===-1&&!pt;return vt?(pt=!0,!0):gt.indexOf("stun:")===0&&ft>=14393&&gt.indexOf("?transport=udp")===-1}),delete yt.url,yt.urls=ht?Tt[0]:Tt,!!Tt.length}})}function at(ut,ft){var pt={codecs:[],headerExtensions:[],fecMechanisms:[]},yt=function(ht,gt){ht=parseInt(ht,10);for(var vt=0;vt<gt.length;vt++)if(gt[vt].payloadType===ht||gt[vt].preferredPayloadType===ht)return gt[vt]},Tt=function(ht,gt,vt,Ct){var It=yt(ht.parameters.apt,vt),Zt=yt(gt.parameters.apt,Ct);return It&&Zt&&It.name.toLowerCase()===Zt.name.toLowerCase()};return ut.codecs.forEach(function(ht){for(var gt=0;gt<ft.codecs.length;gt++){var vt=ft.codecs[gt];if(ht.name.toLowerCase()===vt.name.toLowerCase()&&ht.clockRate===vt.clockRate){if(ht.name.toLowerCase()==="rtx"&&ht.parameters&&vt.parameters.apt&&!Tt(ht,vt,ut.codecs,ft.codecs))continue;vt=JSON.parse(JSON.stringify(vt)),vt.numChannels=Math.min(ht.numChannels,vt.numChannels),pt.codecs.push(vt),vt.rtcpFeedback=vt.rtcpFeedback.filter(function(Ct){for(var It=0;It<ht.rtcpFeedback.length;It++)if(ht.rtcpFeedback[It].type===Ct.type&&ht.rtcpFeedback[It].parameter===Ct.parameter)return!0;return!1});break}}}),ut.headerExtensions.forEach(function(ht){for(var gt=0;gt<ft.headerExtensions.length;gt++){var vt=ft.headerExtensions[gt];if(ht.uri===vt.uri){pt.headerExtensions.push(vt);break}}}),pt}function ct(ut,ft,pt){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[ft][ut].indexOf(pt)!==-1}function lt(ut,ft){var pt=ut.getRemoteCandidates().find(function(yt){return ft.foundation===yt.foundation&&ft.ip===yt.ip&&ft.port===yt.port&&ft.priority===yt.priority&&ft.protocol===yt.protocol&&ft.type===yt.type});return pt||ut.addRemoteCandidate(ft),!pt}function dt(ut,ft){var pt=new Error(ft);return pt.name=ut,pt.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[ut],pt}_e.exports=function(ut,ft){function pt(Ct,It){It.addTrack(Ct),It.dispatchEvent(new ut.MediaStreamTrackEvent("addtrack",{track:Ct}))}function yt(Ct,It){It.removeTrack(Ct),It.dispatchEvent(new ut.MediaStreamTrackEvent("removetrack",{track:Ct}))}function Tt(Ct,It,Zt,Mt){var kt=new Event("track");kt.track=It,kt.receiver=Zt,kt.transceiver={receiver:Zt},kt.streams=Mt,ut.setTimeout(function(){Ct._dispatchEvent("track",kt)})}var ht=function(Ct){var It=this,Zt=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(kt){It[kt]=Zt[kt].bind(Zt)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",Ct=JSON.parse(JSON.stringify(Ct||{})),this.usingBundle=Ct.bundlePolicy==="max-bundle",Ct.rtcpMuxPolicy==="negotiate")throw dt("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(Ct.rtcpMuxPolicy||(Ct.rtcpMuxPolicy="require"),Ct.iceTransportPolicy){case"all":case"relay":break;default:Ct.iceTransportPolicy="all";break}switch(Ct.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:Ct.bundlePolicy="balanced";break}if(Ct.iceServers=st(Ct.iceServers||[],ft),this._iceGatherers=[],Ct.iceCandidatePoolSize)for(var Mt=Ct.iceCandidatePoolSize;Mt>0;Mt--)this._iceGatherers.push(new ut.RTCIceGatherer({iceServers:Ct.iceServers,gatherPolicy:Ct.iceTransportPolicy}));else Ct.iceCandidatePoolSize=0;this._config=Ct,this.transceivers=[],this._sdpSessionId=rt.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(ht.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(ht.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),ht.prototype.onicecandidate=null,ht.prototype.onaddstream=null,ht.prototype.ontrack=null,ht.prototype.onremovestream=null,ht.prototype.onsignalingstatechange=null,ht.prototype.oniceconnectionstatechange=null,ht.prototype.onconnectionstatechange=null,ht.prototype.onicegatheringstatechange=null,ht.prototype.onnegotiationneeded=null,ht.prototype.ondatachannel=null,ht.prototype._dispatchEvent=function(Ct,It){this._isClosed||(this.dispatchEvent(It),typeof this["on"+Ct]=="function"&&this["on"+Ct](It))},ht.prototype._emitGatheringStateChange=function(){var Ct=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",Ct)},ht.prototype.getConfiguration=function(){return this._config},ht.prototype.getLocalStreams=function(){return this.localStreams},ht.prototype.getRemoteStreams=function(){return this.remoteStreams},ht.prototype._createTransceiver=function(Ct,It){var Zt=this.transceivers.length>0,Mt={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:Ct,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&Zt)Mt.iceTransport=this.transceivers[0].iceTransport,Mt.dtlsTransport=this.transceivers[0].dtlsTransport;else{var kt=this._createIceAndDtlsTransports();Mt.iceTransport=kt.iceTransport,Mt.dtlsTransport=kt.dtlsTransport}return It||this.transceivers.push(Mt),Mt},ht.prototype.addTrack=function(Ct,It){if(this._isClosed)throw dt("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var Zt=this.transceivers.find(function(Nt){return Nt.track===Ct});if(Zt)throw dt("InvalidAccessError","Track already exists.");for(var Mt,kt=0;kt<this.transceivers.length;kt++)!this.transceivers[kt].track&&this.transceivers[kt].kind===Ct.kind&&(Mt=this.transceivers[kt]);return Mt||(Mt=this._createTransceiver(Ct.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(It)===-1&&this.localStreams.push(It),Mt.track=Ct,Mt.stream=It,Mt.rtpSender=new ut.RTCRtpSender(Ct,Mt.dtlsTransport),Mt.rtpSender},ht.prototype.addStream=function(Ct){var It=this;if(ft>=15025)Ct.getTracks().forEach(function(Mt){It.addTrack(Mt,Ct)});else{var Zt=Ct.clone();Ct.getTracks().forEach(function(Mt,kt){var Nt=Zt.getTracks()[kt];Mt.addEventListener("enabled",function(Lt){Nt.enabled=Lt.enabled})}),Zt.getTracks().forEach(function(Mt){It.addTrack(Mt,Zt)})}},ht.prototype.removeTrack=function(Ct){if(this._isClosed)throw dt("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(Ct instanceof ut.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var It=this.transceivers.find(function(kt){return kt.rtpSender===Ct});if(!It)throw dt("InvalidAccessError","Sender was not created by this connection.");var Zt=It.stream;It.rtpSender.stop(),It.rtpSender=null,It.track=null,It.stream=null;var Mt=this.transceivers.map(function(kt){return kt.stream});Mt.indexOf(Zt)===-1&&this.localStreams.indexOf(Zt)>-1&&this.localStreams.splice(this.localStreams.indexOf(Zt),1),this._maybeFireNegotiationNeeded()},ht.prototype.removeStream=function(Ct){var It=this;Ct.getTracks().forEach(function(Zt){var Mt=It.getSenders().find(function(kt){return kt.track===Zt});Mt&&It.removeTrack(Mt)})},ht.prototype.getSenders=function(){return this.transceivers.filter(function(Ct){return!!Ct.rtpSender}).map(function(Ct){return Ct.rtpSender})},ht.prototype.getReceivers=function(){return this.transceivers.filter(function(Ct){return!!Ct.rtpReceiver}).map(function(Ct){return Ct.rtpReceiver})},ht.prototype._createIceGatherer=function(Ct,It){var Zt=this;if(It&&Ct>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var Mt=new ut.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(Mt,"state",{value:"new",writable:!0}),this.transceivers[Ct].bufferedCandidateEvents=[],this.transceivers[Ct].bufferCandidates=function(kt){var Nt=!kt.candidate||Object.keys(kt.candidate).length===0;Mt.state=Nt?"completed":"gathering",Zt.transceivers[Ct].bufferedCandidateEvents!==null&&Zt.transceivers[Ct].bufferedCandidateEvents.push(kt)},Mt.addEventListener("localcandidate",this.transceivers[Ct].bufferCandidates),Mt},ht.prototype._gather=function(Ct,It){var Zt=this,Mt=this.transceivers[It].iceGatherer;if(!Mt.onlocalcandidate){var kt=this.transceivers[It].bufferedCandidateEvents;this.transceivers[It].bufferedCandidateEvents=null,Mt.removeEventListener("localcandidate",this.transceivers[It].bufferCandidates),Mt.onlocalcandidate=function(Nt){if(!(Zt.usingBundle&&It>0)){var Lt=new Event("icecandidate");Lt.candidate={sdpMid:Ct,sdpMLineIndex:It};var Pt=Nt.candidate,cn=!Pt||Object.keys(Pt).length===0;if(cn)(Mt.state==="new"||Mt.state==="gathering")&&(Mt.state="completed");else{Mt.state==="new"&&(Mt.state="gathering"),Pt.component=1,Pt.ufrag=Mt.getLocalParameters().usernameFragment;var Jt=rt.writeCandidate(Pt);Lt.candidate=Object.assign(Lt.candidate,rt.parseCandidate(Jt)),Lt.candidate.candidate=Jt,Lt.candidate.toJSON=function(){return{candidate:Lt.candidate.candidate,sdpMid:Lt.candidate.sdpMid,sdpMLineIndex:Lt.candidate.sdpMLineIndex,usernameFragment:Lt.candidate.usernameFragment}}}var Bt=rt.getMediaSections(Zt._localDescription.sdp);cn?Bt[Lt.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:Bt[Lt.candidate.sdpMLineIndex]+="a="+Lt.candidate.candidate+`\r
`,Zt._localDescription.sdp=rt.getDescription(Zt._localDescription.sdp)+Bt.join("");var dn=Zt.transceivers.every(function(vn){return vn.iceGatherer&&vn.iceGatherer.state==="completed"});Zt.iceGatheringState!=="gathering"&&(Zt.iceGatheringState="gathering",Zt._emitGatheringStateChange()),cn||Zt._dispatchEvent("icecandidate",Lt),dn&&(Zt._dispatchEvent("icecandidate",new Event("icecandidate")),Zt.iceGatheringState="complete",Zt._emitGatheringStateChange())}},ut.setTimeout(function(){kt.forEach(function(Nt){Mt.onlocalcandidate(Nt)})},0)}},ht.prototype._createIceAndDtlsTransports=function(){var Ct=this,It=new ut.RTCIceTransport(null);It.onicestatechange=function(){Ct._updateIceConnectionState(),Ct._updateConnectionState()};var Zt=new ut.RTCDtlsTransport(It);return Zt.ondtlsstatechange=function(){Ct._updateConnectionState()},Zt.onerror=function(){Object.defineProperty(Zt,"state",{value:"failed",writable:!0}),Ct._updateConnectionState()},{iceTransport:It,dtlsTransport:Zt}},ht.prototype._disposeIceAndDtlsTransports=function(Ct){var It=this.transceivers[Ct].iceGatherer;It&&(delete It.onlocalcandidate,delete this.transceivers[Ct].iceGatherer);var Zt=this.transceivers[Ct].iceTransport;Zt&&(delete Zt.onicestatechange,delete this.transceivers[Ct].iceTransport);var Mt=this.transceivers[Ct].dtlsTransport;Mt&&(delete Mt.ondtlsstatechange,delete Mt.onerror,delete this.transceivers[Ct].dtlsTransport)},ht.prototype._transceive=function(Ct,It,Zt){var Mt=at(Ct.localCapabilities,Ct.remoteCapabilities);It&&Ct.rtpSender&&(Mt.encodings=Ct.sendEncodingParameters,Mt.rtcp={cname:rt.localCName,compound:Ct.rtcpParameters.compound},Ct.recvEncodingParameters.length&&(Mt.rtcp.ssrc=Ct.recvEncodingParameters[0].ssrc),Ct.rtpSender.send(Mt)),Zt&&Ct.rtpReceiver&&Mt.codecs.length>0&&(Ct.kind==="video"&&Ct.recvEncodingParameters&&ft<15019&&Ct.recvEncodingParameters.forEach(function(kt){delete kt.rtx}),Ct.recvEncodingParameters.length?Mt.encodings=Ct.recvEncodingParameters:Mt.encodings=[{}],Mt.rtcp={compound:Ct.rtcpParameters.compound},Ct.rtcpParameters.cname&&(Mt.rtcp.cname=Ct.rtcpParameters.cname),Ct.sendEncodingParameters.length&&(Mt.rtcp.ssrc=Ct.sendEncodingParameters[0].ssrc),Ct.rtpReceiver.receive(Mt))},ht.prototype.setLocalDescription=function(Ct){var It=this;if(["offer","answer"].indexOf(Ct.type)===-1)return nt.reject(dt("TypeError",'Unsupported type "'+Ct.type+'"'));if(!ct("setLocalDescription",Ct.type,It.signalingState)||It._isClosed)return nt.reject(dt("InvalidStateError","Can not set local "+Ct.type+" in state "+It.signalingState));var Zt,Mt;if(Ct.type==="offer")Zt=rt.splitSections(Ct.sdp),Mt=Zt.shift(),Zt.forEach(function(Nt,Lt){var Pt=rt.parseRtpParameters(Nt);It.transceivers[Lt].localCapabilities=Pt}),It.transceivers.forEach(function(Nt,Lt){It._gather(Nt.mid,Lt)});else if(Ct.type==="answer"){Zt=rt.splitSections(It._remoteDescription.sdp),Mt=Zt.shift();var kt=rt.matchPrefix(Mt,"a=ice-lite").length>0;Zt.forEach(function(Nt,Lt){var Pt=It.transceivers[Lt],cn=Pt.iceGatherer,Jt=Pt.iceTransport,Bt=Pt.dtlsTransport,dn=Pt.localCapabilities,vn=Pt.remoteCapabilities,Tn=rt.isRejected(Nt)&&rt.matchPrefix(Nt,"a=bundle-only").length===0;if(!Tn&&!Pt.rejected){var pn=rt.getIceParameters(Nt,Mt),In=rt.getDtlsParameters(Nt,Mt);kt&&(In.role="server"),(!It.usingBundle||Lt===0)&&(It._gather(Pt.mid,Lt),Jt.state==="new"&&Jt.start(cn,pn,kt?"controlling":"controlled"),Bt.state==="new"&&Bt.start(In));var Cn=at(dn,vn);It._transceive(Pt,Cn.codecs.length>0,!1)}})}return It._localDescription={type:Ct.type,sdp:Ct.sdp},Ct.type==="offer"?It._updateSignalingState("have-local-offer"):It._updateSignalingState("stable"),nt.resolve()},ht.prototype.setRemoteDescription=function(Ct){var It=this;if(["offer","answer"].indexOf(Ct.type)===-1)return nt.reject(dt("TypeError",'Unsupported type "'+Ct.type+'"'));if(!ct("setRemoteDescription",Ct.type,It.signalingState)||It._isClosed)return nt.reject(dt("InvalidStateError","Can not set remote "+Ct.type+" in state "+It.signalingState));var Zt={};It.remoteStreams.forEach(function(Jt){Zt[Jt.id]=Jt});var Mt=[],kt=rt.splitSections(Ct.sdp),Nt=kt.shift(),Lt=rt.matchPrefix(Nt,"a=ice-lite").length>0,Pt=rt.matchPrefix(Nt,"a=group:BUNDLE ").length>0;It.usingBundle=Pt;var cn=rt.matchPrefix(Nt,"a=ice-options:")[0];return cn?It.canTrickleIceCandidates=cn.substr(14).split(" ").indexOf("trickle")>=0:It.canTrickleIceCandidates=!1,kt.forEach(function(Jt,Bt){var dn=rt.splitLines(Jt),vn=rt.getKind(Jt),Tn=rt.isRejected(Jt)&&rt.matchPrefix(Jt,"a=bundle-only").length===0,pn=dn[0].substr(2).split(" ")[2],In=rt.getDirection(Jt,Nt),Cn=rt.parseMsid(Jt),yn=rt.getMid(Jt)||rt.generateIdentifier();if(Tn||vn==="application"&&(pn==="DTLS/SCTP"||pn==="UDP/DTLS/SCTP")){It.transceivers[Bt]={mid:yn,kind:vn,protocol:pn,rejected:!0};return}!Tn&&It.transceivers[Bt]&&It.transceivers[Bt].rejected&&(It.transceivers[Bt]=It._createTransceiver(vn,!0));var bn,Xn,Hn,En,Zn,Vn,rr,gr,cr,sr=rt.parseRtpParameters(Jt),Or,Rr;Tn||(Or=rt.getIceParameters(Jt,Nt),Rr=rt.getDtlsParameters(Jt,Nt),Rr.role="client"),rr=rt.parseRtpEncodingParameters(Jt);var Yr=rt.parseRtcpParameters(Jt),Fr=rt.matchPrefix(Jt,"a=end-of-candidates",Nt).length>0,Qr=rt.matchPrefix(Jt,"a=candidate:").map(function(Yn){return rt.parseCandidate(Yn)}).filter(function(Yn){return Yn.component===1});if((Ct.type==="offer"||Ct.type==="answer")&&!Tn&&Pt&&Bt>0&&It.transceivers[Bt]&&(It._disposeIceAndDtlsTransports(Bt),It.transceivers[Bt].iceGatherer=It.transceivers[0].iceGatherer,It.transceivers[Bt].iceTransport=It.transceivers[0].iceTransport,It.transceivers[Bt].dtlsTransport=It.transceivers[0].dtlsTransport,It.transceivers[Bt].rtpSender&&It.transceivers[Bt].rtpSender.setTransport(It.transceivers[0].dtlsTransport),It.transceivers[Bt].rtpReceiver&&It.transceivers[Bt].rtpReceiver.setTransport(It.transceivers[0].dtlsTransport)),Ct.type==="offer"&&!Tn){bn=It.transceivers[Bt]||It._createTransceiver(vn),bn.mid=yn,bn.iceGatherer||(bn.iceGatherer=It._createIceGatherer(Bt,Pt)),Qr.length&&bn.iceTransport.state==="new"&&(Fr&&(!Pt||Bt===0)?bn.iceTransport.setRemoteCandidates(Qr):Qr.forEach(function(Yn){lt(bn.iceTransport,Yn)})),gr=ut.RTCRtpReceiver.getCapabilities(vn),ft<15019&&(gr.codecs=gr.codecs.filter(function(Yn){return Yn.name!=="rtx"})),Vn=bn.sendEncodingParameters||[{ssrc:(2*Bt+2)*1001}];var vo=!1;if(In==="sendrecv"||In==="sendonly"){if(vo=!bn.rtpReceiver,Zn=bn.rtpReceiver||new ut.RTCRtpReceiver(bn.dtlsTransport,vn),vo){var Lr;cr=Zn.track,Cn&&Cn.stream==="-"||(Cn?(Zt[Cn.stream]||(Zt[Cn.stream]=new ut.MediaStream,Object.defineProperty(Zt[Cn.stream],"id",{get:function(){return Cn.stream}})),Object.defineProperty(cr,"id",{get:function(){return Cn.track}}),Lr=Zt[Cn.stream]):(Zt.default||(Zt.default=new ut.MediaStream),Lr=Zt.default)),Lr&&(pt(cr,Lr),bn.associatedRemoteMediaStreams.push(Lr)),Mt.push([cr,Zn,Lr])}}else bn.rtpReceiver&&bn.rtpReceiver.track&&(bn.associatedRemoteMediaStreams.forEach(function(Yn){var vr=Yn.getTracks().find(function(Dr){return Dr.id===bn.rtpReceiver.track.id});vr&&yt(vr,Yn)}),bn.associatedRemoteMediaStreams=[]);bn.localCapabilities=gr,bn.remoteCapabilities=sr,bn.rtpReceiver=Zn,bn.rtcpParameters=Yr,bn.sendEncodingParameters=Vn,bn.recvEncodingParameters=rr,It._transceive(It.transceivers[Bt],!1,vo)}else if(Ct.type==="answer"&&!Tn){bn=It.transceivers[Bt],Xn=bn.iceGatherer,Hn=bn.iceTransport,En=bn.dtlsTransport,Zn=bn.rtpReceiver,Vn=bn.sendEncodingParameters,gr=bn.localCapabilities,It.transceivers[Bt].recvEncodingParameters=rr,It.transceivers[Bt].remoteCapabilities=sr,It.transceivers[Bt].rtcpParameters=Yr,Qr.length&&Hn.state==="new"&&((Lt||Fr)&&(!Pt||Bt===0)?Hn.setRemoteCandidates(Qr):Qr.forEach(function(Yn){lt(bn.iceTransport,Yn)})),(!Pt||Bt===0)&&(Hn.state==="new"&&Hn.start(Xn,Or,"controlling"),En.state==="new"&&En.start(Rr));var Pr=at(bn.localCapabilities,bn.remoteCapabilities),qn=Pr.codecs.filter(function(Yn){return Yn.name.toLowerCase()==="rtx"}).length;!qn&&bn.sendEncodingParameters[0].rtx&&delete bn.sendEncodingParameters[0].rtx,It._transceive(bn,In==="sendrecv"||In==="recvonly",In==="sendrecv"||In==="sendonly"),Zn&&(In==="sendrecv"||In==="sendonly")?(cr=Zn.track,Cn?(Zt[Cn.stream]||(Zt[Cn.stream]=new ut.MediaStream),pt(cr,Zt[Cn.stream]),Mt.push([cr,Zn,Zt[Cn.stream]])):(Zt.default||(Zt.default=new ut.MediaStream),pt(cr,Zt.default),Mt.push([cr,Zn,Zt.default]))):delete bn.rtpReceiver}}),It._dtlsRole===void 0&&(It._dtlsRole=Ct.type==="offer"?"active":"passive"),It._remoteDescription={type:Ct.type,sdp:Ct.sdp},Ct.type==="offer"?It._updateSignalingState("have-remote-offer"):It._updateSignalingState("stable"),Object.keys(Zt).forEach(function(Jt){var Bt=Zt[Jt];if(Bt.getTracks().length){if(It.remoteStreams.indexOf(Bt)===-1){It.remoteStreams.push(Bt);var dn=new Event("addstream");dn.stream=Bt,ut.setTimeout(function(){It._dispatchEvent("addstream",dn)})}Mt.forEach(function(vn){var Tn=vn[0],pn=vn[1];Bt.id===vn[2].id&&Tt(It,Tn,pn,[Bt])})}}),Mt.forEach(function(Jt){Jt[2]||Tt(It,Jt[0],Jt[1],[])}),ut.setTimeout(function(){It&&It.transceivers&&It.transceivers.forEach(function(Jt){Jt.iceTransport&&Jt.iceTransport.state==="new"&&Jt.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Jt.iceTransport.addRemoteCandidate({}))})},4e3),nt.resolve()},ht.prototype.close=function(){this.transceivers.forEach(function(Ct){Ct.iceTransport&&Ct.iceTransport.stop(),Ct.dtlsTransport&&Ct.dtlsTransport.stop(),Ct.rtpSender&&Ct.rtpSender.stop(),Ct.rtpReceiver&&Ct.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},ht.prototype._updateSignalingState=function(Ct){this.signalingState=Ct;var It=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",It)},ht.prototype._maybeFireNegotiationNeeded=function(){var Ct=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,ut.setTimeout(function(){if(Ct.needNegotiation){Ct.needNegotiation=!1;var It=new Event("negotiationneeded");Ct._dispatchEvent("negotiationneeded",It)}},0))},ht.prototype._updateIceConnectionState=function(){var Ct,It={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(Mt){Mt.iceTransport&&!Mt.rejected&&It[Mt.iceTransport.state]++}),Ct="new",It.failed>0?Ct="failed":It.checking>0?Ct="checking":It.disconnected>0?Ct="disconnected":It.new>0?Ct="new":It.connected>0?Ct="connected":It.completed>0&&(Ct="completed"),Ct!==this.iceConnectionState){this.iceConnectionState=Ct;var Zt=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",Zt)}},ht.prototype._updateConnectionState=function(){var Ct,It={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(Mt){Mt.iceTransport&&Mt.dtlsTransport&&!Mt.rejected&&(It[Mt.iceTransport.state]++,It[Mt.dtlsTransport.state]++)}),It.connected+=It.completed,Ct="new",It.failed>0?Ct="failed":It.connecting>0?Ct="connecting":It.disconnected>0?Ct="disconnected":It.new>0?Ct="new":It.connected>0&&(Ct="connected"),Ct!==this.connectionState){this.connectionState=Ct;var Zt=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",Zt)}},ht.prototype.createOffer=function(){var Ct=this;if(Ct._isClosed)return nt.reject(dt("InvalidStateError","Can not call createOffer after close"));var It=Ct.transceivers.filter(function(Lt){return Lt.kind==="audio"}).length,Zt=Ct.transceivers.filter(function(Lt){return Lt.kind==="video"}).length,Mt=arguments[0];if(Mt){if(Mt.mandatory||Mt.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");Mt.offerToReceiveAudio!==void 0&&(Mt.offerToReceiveAudio===!0?It=1:Mt.offerToReceiveAudio===!1?It=0:It=Mt.offerToReceiveAudio),Mt.offerToReceiveVideo!==void 0&&(Mt.offerToReceiveVideo===!0?Zt=1:Mt.offerToReceiveVideo===!1?Zt=0:Zt=Mt.offerToReceiveVideo)}for(Ct.transceivers.forEach(function(Lt){Lt.kind==="audio"?(It--,It<0&&(Lt.wantReceive=!1)):Lt.kind==="video"&&(Zt--,Zt<0&&(Lt.wantReceive=!1))});It>0||Zt>0;)It>0&&(Ct._createTransceiver("audio"),It--),Zt>0&&(Ct._createTransceiver("video"),Zt--);var kt=rt.writeSessionBoilerplate(Ct._sdpSessionId,Ct._sdpSessionVersion++);Ct.transceivers.forEach(function(Lt,Pt){var cn=Lt.track,Jt=Lt.kind,Bt=Lt.mid||rt.generateIdentifier();Lt.mid=Bt,Lt.iceGatherer||(Lt.iceGatherer=Ct._createIceGatherer(Pt,Ct.usingBundle));var dn=ut.RTCRtpSender.getCapabilities(Jt);ft<15019&&(dn.codecs=dn.codecs.filter(function(Tn){return Tn.name!=="rtx"})),dn.codecs.forEach(function(Tn){Tn.name==="H264"&&Tn.parameters["level-asymmetry-allowed"]===void 0&&(Tn.parameters["level-asymmetry-allowed"]="1"),Lt.remoteCapabilities&&Lt.remoteCapabilities.codecs&&Lt.remoteCapabilities.codecs.forEach(function(pn){Tn.name.toLowerCase()===pn.name.toLowerCase()&&Tn.clockRate===pn.clockRate&&(Tn.preferredPayloadType=pn.payloadType)})}),dn.headerExtensions.forEach(function(Tn){var pn=Lt.remoteCapabilities&&Lt.remoteCapabilities.headerExtensions||[];pn.forEach(function(In){Tn.uri===In.uri&&(Tn.id=In.id)})});var vn=Lt.sendEncodingParameters||[{ssrc:(2*Pt+1)*1001}];cn&&ft>=15019&&Jt==="video"&&!vn[0].rtx&&(vn[0].rtx={ssrc:vn[0].ssrc+1}),Lt.wantReceive&&(Lt.rtpReceiver=new ut.RTCRtpReceiver(Lt.dtlsTransport,Jt)),Lt.localCapabilities=dn,Lt.sendEncodingParameters=vn}),Ct._config.bundlePolicy!=="max-compat"&&(kt+="a=group:BUNDLE "+Ct.transceivers.map(function(Lt){return Lt.mid}).join(" ")+`\r
`),kt+=`a=ice-options:trickle\r
`,Ct.transceivers.forEach(function(Lt,Pt){kt+=ot(Lt,Lt.localCapabilities,"offer",Lt.stream,Ct._dtlsRole),kt+=`a=rtcp-rsize\r
`,Lt.iceGatherer&&Ct.iceGatheringState!=="new"&&(Pt===0||!Ct.usingBundle)&&(Lt.iceGatherer.getLocalCandidates().forEach(function(cn){cn.component=1,kt+="a="+rt.writeCandidate(cn)+`\r
`}),Lt.iceGatherer.state==="completed"&&(kt+=`a=end-of-candidates\r
`))});var Nt=new ut.RTCSessionDescription({type:"offer",sdp:kt});return nt.resolve(Nt)},ht.prototype.createAnswer=function(){var Ct=this;if(Ct._isClosed)return nt.reject(dt("InvalidStateError","Can not call createAnswer after close"));if(!(Ct.signalingState==="have-remote-offer"||Ct.signalingState==="have-local-pranswer"))return nt.reject(dt("InvalidStateError","Can not call createAnswer in signalingState "+Ct.signalingState));var It=rt.writeSessionBoilerplate(Ct._sdpSessionId,Ct._sdpSessionVersion++);Ct.usingBundle&&(It+="a=group:BUNDLE "+Ct.transceivers.map(function(kt){return kt.mid}).join(" ")+`\r
`),It+=`a=ice-options:trickle\r
`;var Zt=rt.getMediaSections(Ct._remoteDescription.sdp).length;Ct.transceivers.forEach(function(kt,Nt){if(!(Nt+1>Zt)){if(kt.rejected){kt.kind==="application"?kt.protocol==="DTLS/SCTP"?It+=`m=application 0 DTLS/SCTP 5000\r
`:It+="m=application 0 "+kt.protocol+` webrtc-datachannel\r
`:kt.kind==="audio"?It+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:kt.kind==="video"&&(It+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),It+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+kt.mid+`\r
`;return}if(kt.stream){var Lt;kt.kind==="audio"?Lt=kt.stream.getAudioTracks()[0]:kt.kind==="video"&&(Lt=kt.stream.getVideoTracks()[0]),Lt&&ft>=15019&&kt.kind==="video"&&!kt.sendEncodingParameters[0].rtx&&(kt.sendEncodingParameters[0].rtx={ssrc:kt.sendEncodingParameters[0].ssrc+1})}var Pt=at(kt.localCapabilities,kt.remoteCapabilities),cn=Pt.codecs.filter(function(Jt){return Jt.name.toLowerCase()==="rtx"}).length;!cn&&kt.sendEncodingParameters[0].rtx&&delete kt.sendEncodingParameters[0].rtx,It+=ot(kt,Pt,"answer",kt.stream,Ct._dtlsRole),kt.rtcpParameters&&kt.rtcpParameters.reducedSize&&(It+=`a=rtcp-rsize\r
`)}});var Mt=new ut.RTCSessionDescription({type:"answer",sdp:It});return nt.resolve(Mt)},ht.prototype.addIceCandidate=function(Ct){var It=this,Zt;return Ct&&!(Ct.sdpMLineIndex!==void 0||Ct.sdpMid)?nt.reject(new TypeError("sdpMLineIndex or sdpMid required")):new nt(function(Mt,kt){if(It._remoteDescription)if(!Ct||Ct.candidate==="")for(var Nt=0;Nt<It.transceivers.length&&!(!It.transceivers[Nt].rejected&&(It.transceivers[Nt].iceTransport.addRemoteCandidate({}),Zt=rt.getMediaSections(It._remoteDescription.sdp),Zt[Nt]+=`a=end-of-candidates\r
`,It._remoteDescription.sdp=rt.getDescription(It._remoteDescription.sdp)+Zt.join(""),It.usingBundle));Nt++);else{var Lt=Ct.sdpMLineIndex;if(Ct.sdpMid){for(var Pt=0;Pt<It.transceivers.length;Pt++)if(It.transceivers[Pt].mid===Ct.sdpMid){Lt=Pt;break}}var cn=It.transceivers[Lt];if(cn){if(cn.rejected)return Mt();var Jt=Object.keys(Ct.candidate).length>0?rt.parseCandidate(Ct.candidate):{};if(Jt.protocol==="tcp"&&(Jt.port===0||Jt.port===9)||Jt.component&&Jt.component!==1)return Mt();if((Lt===0||Lt>0&&cn.iceTransport!==It.transceivers[0].iceTransport)&&!lt(cn.iceTransport,Jt))return kt(dt("OperationError","Can not add ICE candidate"));var Bt=Ct.candidate.trim();Bt.indexOf("a=")===0&&(Bt=Bt.substr(2)),Zt=rt.getMediaSections(It._remoteDescription.sdp),Zt[Lt]+="a="+(Jt.type?Bt:"end-of-candidates")+`\r
`,It._remoteDescription.sdp=rt.getDescription(It._remoteDescription.sdp)+Zt.join("")}else return kt(dt("OperationError","Can not add ICE candidate"))}else return kt(dt("InvalidStateError","Can not add ICE candidate without a remote description"));Mt()})},ht.prototype.getStats=function(Ct){if(Ct&&Ct instanceof ut.MediaStreamTrack){var It=null;if(this.transceivers.forEach(function(Mt){Mt.rtpSender&&Mt.rtpSender.track===Ct?It=Mt.rtpSender:Mt.rtpReceiver&&Mt.rtpReceiver.track===Ct&&(It=Mt.rtpReceiver)}),!It)throw dt("InvalidAccessError","Invalid selector.");return It.getStats()}var Zt=[];return this.transceivers.forEach(function(Mt){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(kt){Mt[kt]&&Zt.push(Mt[kt].getStats())})}),nt.all(Zt).then(function(Mt){var kt=new Map;return Mt.forEach(function(Nt){Nt.forEach(function(Lt){kt.set(Lt.id,Lt)})}),kt})};var gt=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];gt.forEach(function(Ct){var It=ut[Ct];if(It&&It.prototype&&It.prototype.getStats){var Zt=It.prototype.getStats;It.prototype.getStats=function(){return Zt.apply(this).then(function(Mt){var kt=new Map;return Object.keys(Mt).forEach(function(Nt){Mt[Nt].type=it(Mt[Nt]),kt.set(Nt,Mt[Nt])}),kt})}}});var vt=["createOffer","createAnswer"];return vt.forEach(function(Ct){var It=ht.prototype[Ct];ht.prototype[Ct]=function(){var Zt=arguments;return typeof Zt[0]=="function"||typeof Zt[1]=="function"?It.apply(this,[arguments[2]]).then(function(Mt){typeof Zt[0]=="function"&&Zt[0].apply(null,[Mt])},function(Mt){typeof Zt[1]=="function"&&Zt[1].apply(null,[Mt])}):It.apply(this,arguments)}}),vt=["setLocalDescription","setRemoteDescription","addIceCandidate"],vt.forEach(function(Ct){var It=ht.prototype[Ct];ht.prototype[Ct]=function(){var Zt=arguments;return typeof Zt[1]=="function"||typeof Zt[2]=="function"?It.apply(this,arguments).then(function(){typeof Zt[1]=="function"&&Zt[1].apply(null)},function(Mt){typeof Zt[2]=="function"&&Zt[2].apply(null,[Mt])}):It.apply(this,arguments)}}),["getStats"].forEach(function(Ct){var It=ht.prototype[Ct];ht.prototype[Ct]=function(){var Zt=arguments;return typeof Zt[1]=="function"?It.apply(this,arguments).then(function(){typeof Zt[1]=="function"&&Zt[1].apply(null)}):It.apply(this,arguments)}}),ht}}).call(this,et(0))},function(_e,tt,et){(function(nt){_e.exports=function(rt){var it=rt&&rt.navigator,ot=function(at){return{name:{PermissionDeniedError:"NotAllowedError"}[at.name]||at.name,message:at.message,constraint:at.constraint,toString:function(){return this.name}}},st=it.mediaDevices.getUserMedia.bind(it.mediaDevices);it.mediaDevices.getUserMedia=function(at){return st(at).catch(function(ct){return nt.reject(ot(ct))})}}}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(27);_e.exports={shimGetUserMedia:et(575),shimOnTrack:function(it){typeof it=="object"&&it.RTCPeerConnection&&!("ontrack"in it.RTCPeerConnection.prototype)&&Object.defineProperty(it.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(ot){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=ot),this.addEventListener("addstream",this._ontrackpoly=function(st){st.stream.getTracks().forEach(function(at){var ct=new Event("track");ct.track=at,ct.receiver={track:at},ct.transceiver={receiver:ct.receiver},ct.streams=[st.stream],this.dispatchEvent(ct)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),typeof it=="object"&&it.RTCTrackEvent&&"receiver"in it.RTCTrackEvent.prototype&&!("transceiver"in it.RTCTrackEvent.prototype)&&Object.defineProperty(it.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(it){typeof it=="object"&&it.HTMLMediaElement&&!("srcObject"in it.HTMLMediaElement.prototype)&&Object.defineProperty(it.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(ot){this.mozSrcObject=ot}})},shimPeerConnection:function(it){var ot=rt.detectBrowser(it);if(!(typeof it!="object"||!(it.RTCPeerConnection||it.mozRTCPeerConnection))){it.RTCPeerConnection||(it.RTCPeerConnection=function(dt,ut){if(ot.version<38&&dt&&dt.iceServers){for(var ft=[],pt=0;pt<dt.iceServers.length;pt++){var yt=dt.iceServers[pt];if(yt.hasOwnProperty("urls"))for(var Tt=0;Tt<yt.urls.length;Tt++){var ht={url:yt.urls[Tt]};yt.urls[Tt].indexOf("turn")===0&&(ht.username=yt.username,ht.credential=yt.credential),ft.push(ht)}else ft.push(dt.iceServers[pt])}dt.iceServers=ft}return new it.mozRTCPeerConnection(dt,ut)},it.RTCPeerConnection.prototype=it.mozRTCPeerConnection.prototype,it.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(it.RTCPeerConnection,"generateCertificate",{get:function(){return it.mozRTCPeerConnection.generateCertificate}}),it.RTCSessionDescription=it.mozRTCSessionDescription,it.RTCIceCandidate=it.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(dt){var ut=it.RTCPeerConnection.prototype[dt];it.RTCPeerConnection.prototype[dt]=function(){return arguments[0]=new(dt==="addIceCandidate"?it.RTCIceCandidate:it.RTCSessionDescription)(arguments[0]),ut.apply(this,arguments)}});var st=it.RTCPeerConnection.prototype.addIceCandidate;it.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?st.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),nt.resolve())};var at=function(dt){var ut=new Map;return Object.keys(dt).forEach(function(ft){ut.set(ft,dt[ft]),ut[ft]=dt[ft]}),ut},ct={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},lt=it.RTCPeerConnection.prototype.getStats;it.RTCPeerConnection.prototype.getStats=function(dt,ut,ft){return lt.apply(this,[dt||null]).then(function(pt){if(ot.version<48&&(pt=at(pt)),ot.version<53&&!ut)try{pt.forEach(function(yt){yt.type=ct[yt.type]||yt.type})}catch(yt){if(yt.name!=="TypeError")throw yt;pt.forEach(function(Tt,ht){pt.set(ht,Object.assign({},Tt,{type:ct[Tt.type]||Tt.type}))})}return pt}).then(ut,ft)}}},shimSenderGetStats:function(it){if(typeof it=="object"&&it.RTCPeerConnection&&it.RTCRtpSender&&!(it.RTCRtpSender&&"getStats"in it.RTCRtpSender.prototype)){var ot=it.RTCPeerConnection.prototype.getSenders;ot&&(it.RTCPeerConnection.prototype.getSenders=function(){var at=this,ct=ot.apply(at,[]);return ct.forEach(function(lt){lt._pc=at}),ct});var st=it.RTCPeerConnection.prototype.addTrack;st&&(it.RTCPeerConnection.prototype.addTrack=function(){var at=st.apply(this,arguments);return at._pc=this,at}),it.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):nt.resolve(new Map)}}},shimReceiverGetStats:function(it){if(typeof it=="object"&&it.RTCPeerConnection&&it.RTCRtpSender&&!(it.RTCRtpSender&&"getStats"in it.RTCRtpReceiver.prototype)){var ot=it.RTCPeerConnection.prototype.getReceivers;ot&&(it.RTCPeerConnection.prototype.getReceivers=function(){var st=this,at=ot.apply(st,[]);return at.forEach(function(ct){ct._pc=st}),at}),rt.wrapPeerConnectionEvent(it,"track",function(st){return st.receiver._pc=st.srcElement,st}),it.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(it){!it.RTCPeerConnection||"removeStream"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.removeStream=function(ot){var st=this;rt.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(at){at.track&&ot.getTracks().indexOf(at.track)!==-1&&st.removeTrack(at)})})},shimRTCDataChannel:function(it){it.DataChannel&&!it.RTCDataChannel&&(it.RTCDataChannel=it.DataChannel)},shimGetDisplayMedia:function(it,ot){!it.navigator||!it.navigator.mediaDevices||"getDisplayMedia"in it.navigator.mediaDevices||(it.navigator.mediaDevices.getDisplayMedia=function(st){if(!(st&&st.video)){var at=new DOMException("getDisplayMedia without video constraints is undefined");return at.name="NotFoundError",at.code=8,nt.reject(at)}return st.video===!0?st.video={mediaSource:ot}:st.video.mediaSource=ot,it.navigator.mediaDevices.getUserMedia(st)},it.navigator.getDisplayMedia=function(st){return rt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),it.navigator.mediaDevices.getDisplayMedia(st)})}}}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;_e.exports=function(ot){var st=rt.detectBrowser(ot),at=ot&&ot.navigator,ct=ot&&ot.MediaStreamTrack,lt=function(vt){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[vt.name]||vt.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[vt.message]||vt.message,constraint:vt.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},dt=function(vt,Ct,It){var Zt=function(Mt){if(typeof Mt!="object"||Mt.require)return Mt;var kt=[];return Object.keys(Mt).forEach(function(Nt){if(!(Nt==="require"||Nt==="advanced"||Nt==="mediaSource")){var Lt=Mt[Nt]=typeof Mt[Nt]=="object"?Mt[Nt]:{ideal:Mt[Nt]};if((Lt.min!==void 0||Lt.max!==void 0||Lt.exact!==void 0)&&kt.push(Nt),Lt.exact!==void 0&&(typeof Lt.exact=="number"?Lt.min=Lt.max=Lt.exact:Mt[Nt]=Lt.exact,delete Lt.exact),Lt.ideal!==void 0){Mt.advanced=Mt.advanced||[];var Pt={};typeof Lt.ideal=="number"?Pt[Nt]={min:Lt.ideal,max:Lt.ideal}:Pt[Nt]=Lt.ideal,Mt.advanced.push(Pt),delete Lt.ideal,Object.keys(Lt).length||delete Mt[Nt]}}}),kt.length&&(Mt.require=kt),Mt};return vt=JSON.parse(JSON.stringify(vt)),st.version<38&&(it("spec: "+JSON.stringify(vt)),vt.audio&&(vt.audio=Zt(vt.audio)),vt.video&&(vt.video=Zt(vt.video)),it("ff37: "+JSON.stringify(vt))),at.mozGetUserMedia(vt,Ct,function(Mt){It(lt(Mt))})},ut=function(vt){return new nt(function(Ct,It){dt(vt,Ct,It)})};if(at.mediaDevices||(at.mediaDevices={getUserMedia:ut,addEventListener:function(){},removeEventListener:function(){}}),at.mediaDevices.enumerateDevices=at.mediaDevices.enumerateDevices||function(){return new nt(function(vt){var Ct=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];vt(Ct)})},st.version<41){var ft=at.mediaDevices.enumerateDevices.bind(at.mediaDevices);at.mediaDevices.enumerateDevices=function(){return ft().then(void 0,function(vt){if(vt.name==="NotFoundError")return[];throw vt})}}if(st.version<49){var pt=at.mediaDevices.getUserMedia.bind(at.mediaDevices);at.mediaDevices.getUserMedia=function(vt){return pt(vt).then(function(Ct){if(vt.audio&&!Ct.getAudioTracks().length||vt.video&&!Ct.getVideoTracks().length)throw Ct.getTracks().forEach(function(It){It.stop()}),new DOMException("The object can not be found here.","NotFoundError");return Ct},function(Ct){return nt.reject(lt(Ct))})}}if(!(st.version>55&&"autoGainControl"in at.mediaDevices.getSupportedConstraints())){var yt=function(vt,Ct,It){Ct in vt&&!(It in vt)&&(vt[It]=vt[Ct],delete vt[Ct])},Tt=at.mediaDevices.getUserMedia.bind(at.mediaDevices);if(at.mediaDevices.getUserMedia=function(vt){return typeof vt=="object"&&typeof vt.audio=="object"&&(vt=JSON.parse(JSON.stringify(vt)),yt(vt.audio,"autoGainControl","mozAutoGainControl"),yt(vt.audio,"noiseSuppression","mozNoiseSuppression")),Tt(vt)},ct&&ct.prototype.getSettings){var ht=ct.prototype.getSettings;ct.prototype.getSettings=function(){var vt=ht.apply(this,arguments);return yt(vt,"mozAutoGainControl","autoGainControl"),yt(vt,"mozNoiseSuppression","noiseSuppression"),vt}}if(ct&&ct.prototype.applyConstraints){var gt=ct.prototype.applyConstraints;ct.prototype.applyConstraints=function(vt){return this.kind==="audio"&&typeof vt=="object"&&(vt=JSON.parse(JSON.stringify(vt)),yt(vt,"autoGainControl","mozAutoGainControl"),yt(vt,"noiseSuppression","mozNoiseSuppression")),gt.apply(this,[vt])}}}at.getUserMedia=function(vt,Ct,It){if(st.version<44)return dt(vt,Ct,It);rt.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),at.mediaDevices.getUserMedia(vt).then(Ct,It)}}}).call(this,et(0))},function(_e,tt,et){(function(nt){var rt=et(27);_e.exports={shimLocalStreamsAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)){if("getLocalStreams"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getStreamById=function(st){var at=null;return this._localStreams&&this._localStreams.forEach(function(ct){ct.id===st&&(at=ct)}),this._remoteStreams&&this._remoteStreams.forEach(function(ct){ct.id===st&&(at=ct)}),at}),!("addStream"in it.RTCPeerConnection.prototype)){var ot=it.RTCPeerConnection.prototype.addTrack;it.RTCPeerConnection.prototype.addStream=function(st){this._localStreams||(this._localStreams=[]),this._localStreams.indexOf(st)===-1&&this._localStreams.push(st);var at=this;st.getTracks().forEach(function(ct){ot.call(at,ct,st)})},it.RTCPeerConnection.prototype.addTrack=function(st,at){return at&&(this._localStreams?this._localStreams.indexOf(at)===-1&&this._localStreams.push(at):this._localStreams=[at]),ot.call(this,st,at)}}"removeStream"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.removeStream=function(st){this._localStreams||(this._localStreams=[]);var at=this._localStreams.indexOf(st);if(at!==-1){this._localStreams.splice(at,1);var ct=this,lt=st.getTracks();this.getSenders().forEach(function(dt){lt.indexOf(dt.track)!==-1&&ct.removeTrack(dt)})}})}},shimRemoteStreamsAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)&&("getRemoteStreams"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in it.RTCPeerConnection.prototype))){Object.defineProperty(it.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(st){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=st)}});var ot=it.RTCPeerConnection.prototype.setRemoteDescription;it.RTCPeerConnection.prototype.setRemoteDescription=function(){var st=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(at){at.streams.forEach(function(ct){if(st._remoteStreams||(st._remoteStreams=[]),!(st._remoteStreams.indexOf(ct)>=0)){st._remoteStreams.push(ct);var lt=new Event("addstream");lt.stream=ct,st.dispatchEvent(lt)}})}),ot.apply(st,arguments)}}},shimCallbacksAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)){var ot=it.RTCPeerConnection.prototype,st=ot.createOffer,at=ot.createAnswer,ct=ot.setLocalDescription,lt=ot.setRemoteDescription,dt=ot.addIceCandidate;ot.createOffer=function(ft,pt){var yt=arguments.length>=2?arguments[2]:arguments[0],Tt=st.apply(this,[yt]);return pt?(Tt.then(ft,pt),nt.resolve()):Tt},ot.createAnswer=function(ft,pt){var yt=arguments.length>=2?arguments[2]:arguments[0],Tt=at.apply(this,[yt]);return pt?(Tt.then(ft,pt),nt.resolve()):Tt};var ut=function(ft,pt,yt){var Tt=ct.apply(this,[ft]);return yt?(Tt.then(pt,yt),nt.resolve()):Tt};ot.setLocalDescription=ut,ut=function(ft,pt,yt){var Tt=lt.apply(this,[ft]);return yt?(Tt.then(pt,yt),nt.resolve()):Tt},ot.setRemoteDescription=ut,ut=function(ft,pt,yt){var Tt=dt.apply(this,[ft]);return yt?(Tt.then(pt,yt),nt.resolve()):Tt},ot.addIceCandidate=ut}},shimGetUserMedia:function(it){var ot=it&&it.navigator;ot.getUserMedia||(ot.webkitGetUserMedia?ot.getUserMedia=ot.webkitGetUserMedia.bind(ot):ot.mediaDevices&&ot.mediaDevices.getUserMedia&&(ot.getUserMedia=function(st,at,ct){ot.mediaDevices.getUserMedia(st).then(at,ct)}.bind(ot)))},shimRTCIceServerUrls:function(it){var ot=it.RTCPeerConnection;it.RTCPeerConnection=function(st,at){if(st&&st.iceServers){for(var ct=[],lt=0;lt<st.iceServers.length;lt++){var dt=st.iceServers[lt];!dt.hasOwnProperty("urls")&&dt.hasOwnProperty("url")?(rt.deprecated("RTCIceServer.url","RTCIceServer.urls"),dt=JSON.parse(JSON.stringify(dt)),dt.urls=dt.url,delete dt.url,ct.push(dt)):ct.push(st.iceServers[lt])}st.iceServers=ct}return new ot(st,at)},it.RTCPeerConnection.prototype=ot.prototype,"generateCertificate"in it.RTCPeerConnection&&Object.defineProperty(it.RTCPeerConnection,"generateCertificate",{get:function(){return ot.generateCertificate}})},shimTrackEventTransceiver:function(it){typeof it=="object"&&it.RTCPeerConnection&&"receiver"in it.RTCTrackEvent.prototype&&!it.RTCTransceiver&&Object.defineProperty(it.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(it){var ot=it.RTCPeerConnection.prototype.createOffer;it.RTCPeerConnection.prototype.createOffer=function(st){var at=this;if(st){typeof st.offerToReceiveAudio<"u"&&(st.offerToReceiveAudio=!!st.offerToReceiveAudio);var ct=at.getTransceivers().find(function(dt){return dt.sender.track&&dt.sender.track.kind==="audio"});st.offerToReceiveAudio===!1&&ct?ct.direction==="sendrecv"?ct.setDirection?ct.setDirection("sendonly"):ct.direction="sendonly":ct.direction==="recvonly"&&(ct.setDirection?ct.setDirection("inactive"):ct.direction="inactive"):st.offerToReceiveAudio===!0&&!ct&&at.addTransceiver("audio"),typeof st.offerToReceiveVideo<"u"&&(st.offerToReceiveVideo=!!st.offerToReceiveVideo);var lt=at.getTransceivers().find(function(dt){return dt.sender.track&&dt.sender.track.kind==="video"});st.offerToReceiveVideo===!1&&lt?lt.direction==="sendrecv"?lt.setDirection("sendonly"):lt.direction==="recvonly"&&lt.setDirection("inactive"):st.offerToReceiveVideo===!0&&!lt&&at.addTransceiver("video")}return ot.apply(at,arguments)}}}}).call(this,et(0))},function(_e,tt,et){var nt=et(250),rt=et(27);_e.exports={shimRTCIceCandidate:function(it){if(!(!it.RTCIceCandidate||it.RTCIceCandidate&&"foundation"in it.RTCIceCandidate.prototype)){var ot=it.RTCIceCandidate;it.RTCIceCandidate=function(st){if(typeof st=="object"&&st.candidate&&st.candidate.indexOf("a=")===0&&(st=JSON.parse(JSON.stringify(st)),st.candidate=st.candidate.substr(2)),st.candidate&&st.candidate.length){var at=new ot(st),ct=nt.parseCandidate(st.candidate),lt=Object.assign(at,ct);return lt.toJSON=function(){return{candidate:lt.candidate,sdpMid:lt.sdpMid,sdpMLineIndex:lt.sdpMLineIndex,usernameFragment:lt.usernameFragment}},lt}return new ot(st)},it.RTCIceCandidate.prototype=ot.prototype,rt.wrapPeerConnectionEvent(it,"icecandidate",function(st){return st.candidate&&Object.defineProperty(st,"candidate",{value:new it.RTCIceCandidate(st.candidate),writable:"false"}),st})}},shimCreateObjectURL:function(it){var ot=it&&it.URL;if(typeof it=="object"&&it.HTMLMediaElement&&"srcObject"in it.HTMLMediaElement.prototype&&ot.createObjectURL&&ot.revokeObjectURL){var st=ot.createObjectURL.bind(ot),at=ot.revokeObjectURL.bind(ot),ct=new Map,lt=0;ot.createObjectURL=function(ft){if("getTracks"in ft){var pt="polyblob:"+ ++lt;return ct.set(pt,ft),rt.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),pt}return st(ft)},ot.revokeObjectURL=function(ft){at(ft),ct.delete(ft)};var dt=Object.getOwnPropertyDescriptor(it.HTMLMediaElement.prototype,"src");Object.defineProperty(it.HTMLMediaElement.prototype,"src",{get:function(){return dt.get.apply(this)},set:function(ft){return this.srcObject=ct.get(ft)||null,dt.set.apply(this,[ft])}});var ut=it.HTMLMediaElement.prototype.setAttribute;it.HTMLMediaElement.prototype.setAttribute=function(){return arguments.length===2&&(""+arguments[0]).toLowerCase()==="src"&&(this.srcObject=ct.get(arguments[1])||null),ut.apply(this,arguments)}}},shimMaxMessageSize:function(it){if(!(it.RTCSctpTransport||!it.RTCPeerConnection)){var ot=rt.detectBrowser(it);"sctp"in it.RTCPeerConnection.prototype||Object.defineProperty(it.RTCPeerConnection.prototype,"sctp",{get:function(){return typeof this._sctp>"u"?null:this._sctp}});var st=function(ut){var ft=nt.splitSections(ut.sdp);return ft.shift(),ft.some(function(pt){var yt=nt.parseMLine(pt);return yt&&yt.kind==="application"&&yt.protocol.indexOf("SCTP")!==-1})},at=function(ut){var ft=ut.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(ft===null||ft.length<2)return-1;var pt=parseInt(ft[1],10);return pt!==pt?-1:pt},ct=function(ut){var ft=65536;return ot.browser==="firefox"&&(ot.version<57?ut===-1?ft=16384:ft=2147483637:ot.version<60?ft=ot.version===57?65535:65536:ft=2147483637),ft},lt=function(ut,ft){var pt=65536;ot.browser==="firefox"&&ot.version===57&&(pt=65535);var yt=nt.matchPrefix(ut.sdp,"a=max-message-size:");return yt.length>0?pt=parseInt(yt[0].substr(19),10):ot.browser==="firefox"&&ft!==-1&&(pt=2147483637),pt},dt=it.RTCPeerConnection.prototype.setRemoteDescription;it.RTCPeerConnection.prototype.setRemoteDescription=function(){var ut=this;if(ut._sctp=null,st(arguments[0])){var ft=at(arguments[0]),pt=ct(ft),yt=lt(arguments[0],ft),Tt;pt===0&&yt===0?Tt=Number.POSITIVE_INFINITY:pt===0||yt===0?Tt=Math.max(pt,yt):Tt=Math.min(pt,yt);var ht={};Object.defineProperty(ht,"maxMessageSize",{get:function(){return Tt}}),ut._sctp=ht}return dt.apply(ut,arguments)}}},shimSendThrowTypeError:function(it){if(!(it.RTCPeerConnection&&"createDataChannel"in it.RTCPeerConnection.prototype))return;function ot(at,ct){var lt=at.send;at.send=function(){var dt=arguments[0],ut=dt.length||dt.size||dt.byteLength;if(at.readyState==="open"&&ct.sctp&&ut>ct.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+ct.sctp.maxMessageSize+" bytes)");return lt.apply(at,arguments)}}var st=it.RTCPeerConnection.prototype.createDataChannel;it.RTCPeerConnection.prototype.createDataChannel=function(){var at=this,ct=st.apply(at,arguments);return ot(ct,at),ct},rt.wrapPeerConnectionEvent(it,"datachannel",function(at){return ot(at.channel,at.target),at})}}},function(_e,tt,et){(function(nt){const rt=et(6);function it(){return typeof document>"u"||document.readyState==="complete"||document.readyState==="interactive"&&document.body}let ot=!1;const st={isDomLoaded:it,isDomUnloaded(){return ot},whenUnloaded:new nt(at=>{if(typeof window<"u"){const ct=()=>{ot=!0,st.emit("unload"),at()};window.addEventListener("unload",ct)}}),whenLoaded:new nt(at=>{if(it()){at();return}const ct=()=>{document.removeEventListener("DOMContentLoaded",ct),document.removeEventListener("load",ct),st.emit("load"),at()};document.addEventListener("DOMContentLoaded",ct),document.addEventListener("load",ct)})};rt(st),_e.exports=st}).call(this,et(0))},function(_e,tt,et){var nt=et(78),rt=et(255),it=et(238),ot=et(580),st=et(11),at=et(53),ct=et(256);function lt(dt,ut,ft,pt,yt){dt!==ut&&it(ut,function(Tt,ht){if(yt||(yt=new nt),st(Tt))ot(dt,ut,ht,ft,lt,pt,yt);else{var gt=pt?pt(ct(dt,ht),Tt,ht+"",dt,ut,yt):void 0;gt===void 0&&(gt=Tt),rt(dt,ht,gt)}},at)}_e.exports=lt},function(_e,tt,et){var nt=et(255),rt=et(179),it=et(188),ot=et(54),st=et(189),at=et(63),ct=et(12),lt=et(131),dt=et(64),ut=et(16),ft=et(11),pt=et(138),yt=et(85),Tt=et(256),ht=et(581);function gt(vt,Ct,It,Zt,Mt,kt,Nt){var Lt=Tt(vt,It),Pt=Tt(Ct,It),cn=Nt.get(Pt);if(cn){nt(vt,It,cn);return}var Jt=kt?kt(Lt,Pt,It+"",vt,Ct,Nt):void 0,Bt=Jt===void 0;if(Bt){var dn=ct(Pt),vn=!dn&&dt(Pt),Tn=!dn&&!vn&&yt(Pt);Jt=Pt,dn||vn||Tn?ct(Lt)?Jt=Lt:lt(Lt)?Jt=ot(Lt):vn?(Bt=!1,Jt=rt(Pt,!0)):Tn?(Bt=!1,Jt=it(Pt,!0)):Jt=[]:pt(Pt)||at(Pt)?(Jt=Lt,at(Lt)?Jt=ht(Lt):(!ft(Lt)||ut(Lt))&&(Jt=st(Pt))):Bt=!1}Bt&&(Nt.set(Pt,Jt),Mt(Jt,Pt,Zt,kt,Nt),Nt.delete(Pt)),nt(vt,It,Jt)}_e.exports=gt},function(_e,tt,et){var nt=et(40),rt=et(53);function it(ot){return nt(ot,rt(ot))}_e.exports=it},function(_e,tt,et){const nt=et(148),rt=et(257),it=et(258),ot=et(263),st=et(1)("normalizeConstraintInput"),at={"320x240":{width:320,height:240},"320x180":{width:320,height:180},"640x480":{width:640,height:480},"640x360":{width:640,height:360},"1280x720":{width:1280,height:720},"1280x960":{width:1280,height:960},"1920x1080":{width:1920,height:1080}},ct=[1,7,15,30];function lt(Tt){return Tt._inject&&Tt._inject.logging||st}function dt(Tt,ht,gt,vt,Ct){if(ht===void 0)return;const It=gt(ht);return It||Ct.warn(`Invalid ${Tt} passed to the Publisher. Got: ${ht}, expecting one of ${vt}`),It}function ut(Tt,ht){const gt=lt(ht),vt=(()=>{const It=ht[`publish${it(Tt)}`];return It!==void 0?!!It:!0})();let Ct=(()=>{const It=ht[`${Tt}Source`];return It===void 0?!0:It===null||It===!1?!1:typeof It=="object"?ht[`isCustom${it(Tt)}Track`]?!1:typeof It.deviceId!="string"?(gt.warn(`Invalid ${Tt}Source passed to Publisher. Expected either a device ID or device.`),!0):It.deviceId:typeof It!="string"?(gt.warn(`Ignoring invalid ${Tt}Source parameter`),!0):It})();return Tt==="audio"&&ht.isScreenSharing&&!ot&&Ct!==!1&&(ht.audioSource&&lt(ht).warn("Invalid audioSource passed to Publisher - when using screen sharing no audioSource may be used"),Ct=!1),{source:Ct,publish:vt}}function ft(Tt,ht){return Tt.name==="Chrome"&&Tt.userAgent.indexOf("Mac OS X")!==-1&&ht===1?2:ht}const pt=["user","environment","left","right"],yt=(Tt,ht)=>{if(Tt===void 0||pt.indexOf(Tt)>=0)return Tt;lt(ht).warn(`Invalid facingMode passed to Publisher. Expected one of: ${pt.join(", ")}`)};_e.exports=function(ht){const gt=lt(ht),vt=ht.env||{},Ct=ht.isScreenSharing,It=ht.isCustomAudioTrack,Zt=ht.isCustomVideoTrack;return Ct&&!rt&&nt(ht.usingOptionalMandatoryStyle,"Screensharing only uses optional-mandatory constraints right now"),["echoCancellation","autoGainControl","noiseSuppression"].forEach(Mt=>{ht[Mt]!==!1&&Object.assign(ht,{[Mt]:!0})}),{isScreenSharing:Ct,isCustomAudioTrack:It,isCustomVideoTrack:Zt,audio:ut("audio",ht),video:ut("video",ht),usingOptionalMandatoryStyle:ht.usingOptionalMandatoryStyle,enableRenegotiation:ht.enableRenegotiation,enableStereo:ht.enableStereo,noiseSuppression:ht.noiseSuppression,autoGainControl:ht.autoGainControl,echoCancellation:ht.echoCancellation,disableAudioProcessing:ht.disableAudioProcessing,videoDimensions:dt("resolution",ht.resolution,Mt=>at[Mt],`"${Object.keys(at).join('", "')}"`,gt),frameRate:ft(vt,dt("frameRate",ht.frameRate,Mt=>ct.indexOf(Mt)!==-1?Mt:void 0,ct.join(","),gt)),maxResolution:function(){if(ht.maxResolution===void 0)return Ct?{width:1920,height:1920}:void 0;const Mt={width:ht.maxResolution.width,height:ht.maxResolution.height};return Object.keys(Mt).forEach(kt=>{const Nt=Mt[kt];(typeof Nt!="number"||Nt>1920)&&(gt.warn(`Invalid maxResolution passed to the Publisher. maxResolution.${kt} must be less than or equal to 1920`),Mt[kt]=1920)}),Mt}(),facingMode:yt(ht.facingMode,ht)}}},function(_e,tt,et){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;function ot(at){if(at==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(at)}function st(){try{if(!Object.assign)return!1;var at=new String("abc");if(at[5]="de",Object.getOwnPropertyNames(at)[0]==="5")return!1;for(var ct={},lt=0;lt<10;lt++)ct["_"+String.fromCharCode(lt)]=lt;var dt=Object.getOwnPropertyNames(ct).map(function(ft){return ct[ft]});if(dt.join("")!=="0123456789")return!1;var ut={};return"abcdefghijklmnopqrst".split("").forEach(function(ft){ut[ft]=ft}),Object.keys(Object.assign({},ut)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}_e.exports=st()?Object.assign:function(at,ct){for(var lt,dt=ot(at),ut,ft=1;ft<arguments.length;ft++){lt=Object(arguments[ft]);for(var pt in lt)rt.call(lt,pt)&&(dt[pt]=lt[pt]);if(nt){ut=nt(lt);for(var yt=0;yt<ut.length;yt++)it.call(lt,ut[yt])&&(dt[ut[yt]]=lt[ut[yt]])}}return dt}},function(_e,tt,et){(function(nt,rt){var it=Object.getOwnPropertyDescriptors||function(Zn){for(var Vn=Object.keys(Zn),rr={},gr=0;gr<Vn.length;gr++)rr[Vn[gr]]=Object.getOwnPropertyDescriptor(Zn,Vn[gr]);return rr},ot=/%[sdj%]/g;tt.format=function(En){if(!kt(En)){for(var Zn=[],Vn=0;Vn<arguments.length;Vn++)Zn.push(ct(arguments[Vn]));return Zn.join(" ")}for(var Vn=1,rr=arguments,gr=rr.length,cr=String(En).replace(ot,function(Or){if(Or==="%%")return"%";if(Vn>=gr)return Or;switch(Or){case"%s":return String(rr[Vn++]);case"%d":return Number(rr[Vn++]);case"%j":try{return JSON.stringify(rr[Vn++])}catch{return"[Circular]"}default:return Or}}),sr=rr[Vn];Vn<gr;sr=rr[++Vn])It(sr)||!cn(sr)?cr+=" "+sr:cr+=" "+ct(sr);return cr},tt.deprecate=function(En,Zn){if(typeof nt<"u"&&nt.noDeprecation===!0)return En;if(typeof nt>"u")return function(){return tt.deprecate(En,Zn).apply(this,arguments)};var Vn=!1;function rr(){if(!Vn){if(nt.throwDeprecation)throw new Error(Zn);nt.traceDeprecation?console.trace(Zn):console.error(Zn),Vn=!0}return En.apply(this,arguments)}return rr};var st={},at;tt.debuglog=function(En){if(Lt(at)&&(at={}.NODE_DEBUG||""),En=En.toUpperCase(),!st[En])if(new RegExp("\\b"+En+"\\b","i").test(at)){var Zn=nt.pid;st[En]=function(){var Vn=tt.format.apply(tt,arguments);console.error("%s %d: %s",En,Zn,Vn)}}else st[En]=function(){};return st[En]};function ct(En,Zn){var Vn={seen:[],stylize:dt};return arguments.length>=3&&(Vn.depth=arguments[2]),arguments.length>=4&&(Vn.colors=arguments[3]),Ct(Zn)?Vn.showHidden=Zn:Zn&&tt._extend(Vn,Zn),Lt(Vn.showHidden)&&(Vn.showHidden=!1),Lt(Vn.depth)&&(Vn.depth=2),Lt(Vn.colors)&&(Vn.colors=!1),Lt(Vn.customInspect)&&(Vn.customInspect=!0),Vn.colors&&(Vn.stylize=lt),ft(Vn,En,Vn.depth)}tt.inspect=ct,ct.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ct.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function lt(En,Zn){var Vn=ct.styles[Zn];return Vn?"\x1B["+ct.colors[Vn][0]+"m"+En+"\x1B["+ct.colors[Vn][1]+"m":En}function dt(En,Zn){return En}function ut(En){var Zn={};return En.forEach(function(Vn,rr){Zn[Vn]=!0}),Zn}function ft(En,Zn,Vn){if(En.customInspect&&Zn&&dn(Zn.inspect)&&Zn.inspect!==tt.inspect&&!(Zn.constructor&&Zn.constructor.prototype===Zn)){var rr=Zn.inspect(Vn,En);return kt(rr)||(rr=ft(En,rr,Vn)),rr}var gr=pt(En,Zn);if(gr)return gr;var cr=Object.keys(Zn),sr=ut(cr);if(En.showHidden&&(cr=Object.getOwnPropertyNames(Zn)),Bt(Zn)&&(cr.indexOf("message")>=0||cr.indexOf("description")>=0))return yt(Zn);if(cr.length===0){if(dn(Zn)){var Or=Zn.name?": "+Zn.name:"";return En.stylize("[Function"+Or+"]","special")}if(Pt(Zn))return En.stylize(RegExp.prototype.toString.call(Zn),"regexp");if(Jt(Zn))return En.stylize(Date.prototype.toString.call(Zn),"date");if(Bt(Zn))return yt(Zn)}var Rr="",Yr=!1,Fr=["{","}"];if(vt(Zn)&&(Yr=!0,Fr=["[","]"]),dn(Zn)){var Qr=Zn.name?": "+Zn.name:"";Rr=" [Function"+Qr+"]"}if(Pt(Zn)&&(Rr=" "+RegExp.prototype.toString.call(Zn)),Jt(Zn)&&(Rr=" "+Date.prototype.toUTCString.call(Zn)),Bt(Zn)&&(Rr=" "+yt(Zn)),cr.length===0&&(!Yr||Zn.length==0))return Fr[0]+Rr+Fr[1];if(Vn<0)return Pt(Zn)?En.stylize(RegExp.prototype.toString.call(Zn),"regexp"):En.stylize("[Object]","special");En.seen.push(Zn);var vo;return Yr?vo=Tt(En,Zn,Vn,sr,cr):vo=cr.map(function(Lr){return ht(En,Zn,Vn,sr,Lr,Yr)}),En.seen.pop(),gt(vo,Rr,Fr)}function pt(En,Zn){if(Lt(Zn))return En.stylize("undefined","undefined");if(kt(Zn)){var Vn="'"+JSON.stringify(Zn).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return En.stylize(Vn,"string")}if(Mt(Zn))return En.stylize(""+Zn,"number");if(Ct(Zn))return En.stylize(""+Zn,"boolean");if(It(Zn))return En.stylize("null","null")}function yt(En){return"["+Error.prototype.toString.call(En)+"]"}function Tt(En,Zn,Vn,rr,gr){for(var cr=[],sr=0,Or=Zn.length;sr<Or;++sr)yn(Zn,String(sr))?cr.push(ht(En,Zn,Vn,rr,String(sr),!0)):cr.push("");return gr.forEach(function(Rr){Rr.match(/^\d+$/)||cr.push(ht(En,Zn,Vn,rr,Rr,!0))}),cr}function ht(En,Zn,Vn,rr,gr,cr){var sr,Or,Rr;if(Rr=Object.getOwnPropertyDescriptor(Zn,gr)||{value:Zn[gr]},Rr.get?Rr.set?Or=En.stylize("[Getter/Setter]","special"):Or=En.stylize("[Getter]","special"):Rr.set&&(Or=En.stylize("[Setter]","special")),yn(rr,gr)||(sr="["+gr+"]"),Or||(En.seen.indexOf(Rr.value)<0?(It(Vn)?Or=ft(En,Rr.value,null):Or=ft(En,Rr.value,Vn-1),Or.indexOf(`
`)>-1&&(cr?Or=Or.split(`
`).map(function(Yr){return"  "+Yr}).join(`
`).substr(2):Or=`
`+Or.split(`
`).map(function(Yr){return"   "+Yr}).join(`
`))):Or=En.stylize("[Circular]","special")),Lt(sr)){if(cr&&gr.match(/^\d+$/))return Or;sr=JSON.stringify(""+gr),sr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(sr=sr.substr(1,sr.length-2),sr=En.stylize(sr,"name")):(sr=sr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),sr=En.stylize(sr,"string"))}return sr+": "+Or}function gt(En,Zn,Vn){var rr=En.reduce(function(gr,cr){return cr.indexOf(`
`)>=0,gr+cr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return rr>60?Vn[0]+(Zn===""?"":Zn+`
 `)+" "+En.join(`,
  `)+" "+Vn[1]:Vn[0]+Zn+" "+En.join(", ")+" "+Vn[1]}function vt(En){return Array.isArray(En)}tt.isArray=vt;function Ct(En){return typeof En=="boolean"}tt.isBoolean=Ct;function It(En){return En===null}tt.isNull=It;function Zt(En){return En==null}tt.isNullOrUndefined=Zt;function Mt(En){return typeof En=="number"}tt.isNumber=Mt;function kt(En){return typeof En=="string"}tt.isString=kt;function Nt(En){return typeof En=="symbol"}tt.isSymbol=Nt;function Lt(En){return En===void 0}tt.isUndefined=Lt;function Pt(En){return cn(En)&&Tn(En)==="[object RegExp]"}tt.isRegExp=Pt;function cn(En){return typeof En=="object"&&En!==null}tt.isObject=cn;function Jt(En){return cn(En)&&Tn(En)==="[object Date]"}tt.isDate=Jt;function Bt(En){return cn(En)&&(Tn(En)==="[object Error]"||En instanceof Error)}tt.isError=Bt;function dn(En){return typeof En=="function"}tt.isFunction=dn;function vn(En){return En===null||typeof En=="boolean"||typeof En=="number"||typeof En=="string"||typeof En=="symbol"||typeof En>"u"}tt.isPrimitive=vn,tt.isBuffer=et(585);function Tn(En){return Object.prototype.toString.call(En)}function pn(En){return En<10?"0"+En.toString(10):En.toString(10)}var In=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Cn(){var En=new Date,Zn=[pn(En.getHours()),pn(En.getMinutes()),pn(En.getSeconds())].join(":");return[En.getDate(),In[En.getMonth()],Zn].join(" ")}tt.log=function(){console.log("%s - %s",Cn(),tt.format.apply(tt,arguments))},tt.inherits=et(586),tt._extend=function(En,Zn){if(!Zn||!cn(Zn))return En;for(var Vn=Object.keys(Zn),rr=Vn.length;rr--;)En[Vn[rr]]=Zn[Vn[rr]];return En};function yn(En,Zn){return Object.prototype.hasOwnProperty.call(En,Zn)}var bn=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;tt.promisify=function(Zn){if(typeof Zn!="function")throw new TypeError('The "original" argument must be of type Function');if(bn&&Zn[bn]){var Vn=Zn[bn];if(typeof Vn!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Vn,bn,{value:Vn,enumerable:!1,writable:!1,configurable:!0}),Vn}function Vn(){for(var rr,gr,cr=new rt(function(Rr,Yr){rr=Rr,gr=Yr}),sr=[],Or=0;Or<arguments.length;Or++)sr.push(arguments[Or]);sr.push(function(Rr,Yr){Rr?gr(Rr):rr(Yr)});try{Zn.apply(this,sr)}catch(Rr){gr(Rr)}return cr}return Object.setPrototypeOf(Vn,Object.getPrototypeOf(Zn)),bn&&Object.defineProperty(Vn,bn,{value:Vn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Vn,it(Zn))},tt.promisify.custom=bn;function Xn(En,Zn){if(!En){var Vn=new Error("Promise was rejected with a falsy value");Vn.reason=En,En=Vn}return Zn(En)}function Hn(En){if(typeof En!="function")throw new TypeError('The "original" argument must be of type Function');function Zn(){for(var Vn=[],rr=0;rr<arguments.length;rr++)Vn.push(arguments[rr]);var gr=Vn.pop();if(typeof gr!="function")throw new TypeError("The last argument must be of type Function");var cr=this,sr=function(){return gr.apply(cr,arguments)};En.apply(this,Vn).then(function(Or){nt.nextTick(sr,null,Or)},function(Or){nt.nextTick(Xn,Or,sr)})}return Object.setPrototypeOf(Zn,Object.getPrototypeOf(En)),Object.defineProperties(Zn,it(En)),Zn}tt.callbackify=Hn}).call(this,et(42),et(0))},function(_e,tt){_e.exports=function(nt){return nt&&typeof nt=="object"&&typeof nt.copy=="function"&&typeof nt.fill=="function"&&typeof nt.readUInt8=="function"}},function(_e,tt){typeof Object.create=="function"?_e.exports=function(nt,rt){nt.super_=rt,nt.prototype=Object.create(rt.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}})}:_e.exports=function(nt,rt){nt.super_=rt;var it=function(){};it.prototype=rt.prototype,nt.prototype=new it,nt.prototype.constructor=nt}},function(_e,tt,et){var nt=et(588),rt=et(261),it=et(262),ot=et(59);function st(at){return function(ct){ct=ot(ct);var lt=rt(ct)?it(ct):void 0,dt=lt?lt[0]:ct.charAt(0),ut=lt?nt(lt,1).join(""):ct.slice(1);return dt[at]()+ut}}_e.exports=st},function(_e,tt,et){var nt=et(260);function rt(it,ot,st){var at=it.length;return st=st===void 0?at:st,!ot&&st>=at?it:nt(it,ot,st)}_e.exports=rt},function(_e,tt){function et(nt){return nt.split("")}_e.exports=et},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\ufe0e\\ufe0f",at="["+et+"]",ct="["+ot+"]",lt="\\ud83c[\\udffb-\\udfff]",dt="(?:"+ct+"|"+lt+")",ut="[^"+et+"]",ft="(?:\\ud83c[\\udde6-\\uddff]){2}",pt="[\\ud800-\\udbff][\\udc00-\\udfff]",yt="\\u200d",Tt=dt+"?",ht="["+st+"]?",gt="(?:"+yt+"(?:"+[ut,ft,pt].join("|")+")"+ht+Tt+")*",vt=ht+Tt+gt,Ct="(?:"+[ut+ct+"?",ct,ft,pt,at].join("|")+")",It=RegExp(lt+"(?="+lt+")|"+Ct+vt,"g");function Zt(Mt){return Mt.match(It)||[]}_e.exports=Zt},function(_e,tt,et){_e.exports=["screen","window","tab","browser","application"]},function(_e,tt,et){const nt=et(1),rt=et(34)(),it=et(50),ot=et(121),st=et(594),at=et(597),ct="/opentok/webrtc/docs/js/release-notes.html",lt=rt.onlyLocal(),dt=nt("setLogLevel"),ut=`
 ██████╗ ██████╗ ███████╗███╗   ██╗████████╗ ██████╗ ██╗  ██╗
██╔═══██╗██╔══██╗██╔════╝████╗  ██║╚══██╔══╝██╔═══██╗██║ ██╔╝
██║   ██║██████╔╝█████╗  ██╔██╗ ██║   ██║   ██║   ██║█████╔╝
██║   ██║██╔═══╝ ██╔══╝  ██║╚██╗██║   ██║   ██║   ██║██╔═██╗
╚██████╔╝██║     ███████╗██║ ╚████║   ██║   ╚██████╔╝██║  ██╗
 ╚═════╝ ╚═╝     ╚══════╝╚═╝  ╚═══╝   ╚═╝    ╚═════╝ ╚═╝  ╚═╝`,ft=it(()=>{dt.info(`%c${ut}`,'font-family: "Fire Code", Courier, "Courier New", Consolas, "DejaVu Sans Mono"'),dt.info(`OpenTok JS SDK ${lt.version}`),dt.info(`Release notes: ${lt.websiteUrl}${ct}`),dt.info(`Known issues: ${lt.websiteUrl}${ct}l#knownIssues`)});function pt(yt){if(yt===void 0||!st(ot,{priority:yt})&&yt!==0){const ht=at(ot,(gt,vt)=>`OT.${vt.toUpperCase()} = ${gt.priority}`).join(", ");dt.error(`level must be one of: OT.NONE = 0, ${ht}`),dt.warn("Using OT.WARN instead"),yt=ot.warn.priority}nt.setLogLevel(yt),yt>=ot.debug.priority&&ft();const Tt="https://www.npmjs.com/package/debug#browser-support";return dt.info(`OpenTok JS SDK now uses the debug library. More info at ${Tt}`),dt.info(`Changed log level to: ${yt}`),yt}pt(lt.debug?ot.debug.priority:ot.warn.priority),_e.exports=pt},function(_e,tt,et){var nt=et(96),rt="Expected a function";function it(ot,st){var at;if(typeof st!="function")throw new TypeError(rt);return ot=nt(ot),function(){return--ot>0&&(at=st.apply(this,arguments)),ot<=1&&(st=void 0),at}}_e.exports=it},function(_e,tt,et){var nt=et(231),rt=et(35),it=et(595),ot=et(12),st=et(124);function at(ct,lt,dt){var ut=ot(ct)?nt:it;return dt&&st(ct,lt,dt)&&(lt=void 0),ut(ct,rt(lt,3))}_e.exports=at},function(_e,tt,et){var nt=et(265);function rt(it,ot){var st;return nt(it,function(at,ct,lt){return st=ot(at,ct,lt),!st}),!!st}_e.exports=rt},function(_e,tt,et){var nt=et(25);function rt(it,ot){return function(st,at){if(st==null)return st;if(!nt(st))return it(st,at);for(var ct=st.length,lt=ot?ct:-1,dt=Object(st);(ot?lt--:++lt<ct)&&at(dt[lt],lt,dt)!==!1;);return st}}_e.exports=rt},function(_e,tt,et){var nt=et(33),rt=et(35),it=et(598),ot=et(12);function st(at,ct){var lt=ot(at)?nt:it;return lt(at,rt(ct,3))}_e.exports=st},function(_e,tt,et){var nt=et(265),rt=et(25);function it(ot,st){var at=-1,ct=rt(ot)?Array(ot.length):[];return nt(ot,function(lt,dt,ut){ct[++at]=st(lt,dt,ut)}),ct}_e.exports=it},function(_e,tt,et){_e.exports=function(rt){return rt.substr(0,5)!=="http:"&&rt.substr(0,6)!=="https:"&&rt.substr(0,22)!=="data:image/png;base64,"?`data:image/png;base64,${rt}`:rt}},function(_e,tt,et){const nt=et(56),rt=et(1)("Style");_e.exports=function(ot,st){const at=this,ct={},lt={buttonDisplayMode:["auto","mini","mini-auto","off","on"],nameDisplayMode:["auto","off","on"],audioLevelDisplayMode:["auto","off","on"],showSettingsButton:[!0,!1],showSpeakerButton:null,showMicButton:[!0,!1],backgroundImageURI:null,showControlBar:[!0,!1],showArchiveStatus:[!0,!1],archiveStatusDisplayMode:["auto","off","on"],videoDisabledDisplayMode:["auto","off","on"],audioBlockedDisplayMode:["auto","off","on"]},dt=function(pt,yt){const Tt=lt[pt];return Tt===void 0?!1:Tt===null?!0:Tt.indexOf(yt)!==-1},ut=function(pt){switch(pt){case"true":return!0;case"false":return!1;default:return pt}};at.getAll=function(){return nt(ct)},at.get=function(ft){return ft?ct[ft]:at.getAll()},at.setAll=function(ft,pt){return Object.keys(ft).forEach(yt=>{at.set(yt,ft[yt],pt)}),at},at.set=function(ft,pt,yt){rt.debug(`setStyle: ${ft.toString()}`);let Tt;const ht=ut(pt);return dt(ft,ht)?(Tt=ct[ft],ht!==Tt&&(ct[ft]=ht,yt||st(ft,pt,Tt)),at):(rt.warn(`Style.set::Invalid style property passed ${ft} : ${ht}`),at)},ot&&at.setAll(ot,!0)}},function(_e,tt,et){const nt=et(2),rt=et(269),it=()=>nt.isIosWebView?!1:rt()?!0:(typeof window!==void 0?window:commonjsGlobal).navigator.mediaDevices&&(typeof window!==void 0?window:commonjsGlobal).navigator.mediaDevices.getUserMedia||(typeof window!==void 0?window:commonjsGlobal).navigator.webkitGetUserMedia||(typeof window!==void 0?window:commonjsGlobal).navigator.mozGetUserMedia;_e.exports=()=>!!(nt.name!=="Node"&&it())},function(_e,tt,et){const nt=et(2);_e.exports=()=>nt.name==="Node"?!1:typeof(typeof window!==void 0?window:commonjsGlobal).webkitRTCPeerConnection=="function"&&(typeof window!==void 0?window:commonjsGlobal).webkitRTCPeerConnection.prototype.addTrack||typeof(typeof window!==void 0?window:commonjsGlobal).RTCPeerConnection=="function"?!0:typeof(typeof window!==void 0?window:commonjsGlobal).mozRTCPeerConnection=="function"&&nt.version>20},function(_e,tt,et){_e.exports=(typeof window!==void 0?window:commonjsGlobal).WebSocket!==void 0},function(_e,tt){_e.exports=`<div id="tb_alert"><div id="section-normal-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div></div><div id="section-upgrade-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-supported-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com.au/chrome/browser/mobile/">Google Chrome</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application is not supported on your mobile device's browser at this time.</div></div></div>`},function(_e,tt,et){var nt=et(3),rt=nt(et(48));const it=et(18);_e.exports=function(ot){(0,rt.default)(st,ot);function st(ct,lt){var dt;let ut=lt===void 0?{}:lt,ft=ut.destroyOnClose,pt=ft===void 0?!0:ft;dt=ot.call(this)||this,dt.modalDiv=document.createElement("div"),dt.modalDiv.classList.add("OT_ModalDialog"),dt.modalDiv.innerHTML=ct;const yt=dt.modalDiv.querySelectorAll("[role=OT_close]");return[].forEach.call(yt,Tt=>Tt.addEventListener("click",ht=>{ht.preventDefault(),dt.close()})),dt.close(),document.body.appendChild(dt.modalDiv),pt&&dt.on("closed",()=>dt.destroy()),dt}var at=st.prototype;return at.open=function(){this.modalDiv.style.display="block",this.emit("opened")},at.close=function(){this.modalDiv.style.display="none",this.emit("closed")},at.destroy=function(){this.modalDiv.innerHTML="",this.modalDiv.parentNode.removeChild(this.modalDiv),this.emit("destroyed")},at.el=function(lt){return this.modalDiv.querySelector(lt)},st}(it)},function(_e,tt,et){const nt=et(20);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.env||et(2),ot=rt.analytics||new nt;ot.logEvent({action:"UserAgentParsing",variation:"Attempt",payload:{userAgent:it.userAgent}}),ot.logEvent({action:"UserAgentParsing",variation:it.error?"Failure":"Success",payload:{userAgent:it.userAgent}})}},function(_e,tt,et){var nt=et(608),rt=et(270),it=et(609),ot=et(610);function st(at){var ct=typeof Map=="function"?new Map:void 0;return _e.exports=st=function(dt){if(dt===null||!it(dt))return dt;if(typeof dt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ct<"u"){if(ct.has(dt))return ct.get(dt);ct.set(dt,ut)}function ut(){return ot(dt,arguments,nt(this).constructor)}return ut.prototype=Object.create(dt.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}),rt(ut,dt)},st(at)}_e.exports=st},function(_e,tt){function et(nt){return _e.exports=et=Object.setPrototypeOf?Object.getPrototypeOf:function(it){return it.__proto__||Object.getPrototypeOf(it)},et(nt)}_e.exports=et},function(_e,tt){function et(nt){return Function.toString.call(nt).indexOf("[native code]")!==-1}_e.exports=et},function(_e,tt,et){var nt=et(270);function rt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function it(ot,st,at){return rt()?_e.exports=it=Reflect.construct:_e.exports=it=function(lt,dt,ut){var ft=[null];ft.push.apply(ft,dt);var pt=Function.bind.apply(lt,ft),yt=new pt;return ut&&nt(yt,ut.prototype),yt},it.apply(null,arguments)}_e.exports=it},function(_e,tt,et){(function(nt){_e.exports=(rt,it)=>(it=it||(()=>{}),rt.then(ot=>new nt(st=>{st(it())}).then(()=>ot),ot=>new nt(st=>{st(it())}).then(()=>{throw ot})))}).call(this,et(0))},function(_e,tt,et){var nt=et(58),rt=et(613),it=et(614),ot=et(46);function st(at,ct){return ct=nt(ct,at),at=it(at,ct),at==null||delete at[ot(rt(ct))]}_e.exports=st},function(_e,tt){function et(nt){var rt=nt==null?0:nt.length;return rt?nt[rt-1]:void 0}_e.exports=et},function(_e,tt,et){var nt=et(98),rt=et(260);function it(ot,st){return st.length<2?ot:nt(ot,rt(st,0,-1))}_e.exports=it},function(_e,tt,et){var nt=et(138);function rt(it){return nt(it)?void 0:it}_e.exports=rt},function(_e,tt,et){var nt=et(35),rt=et(25),it=et(30);function ot(st){return function(at,ct,lt){var dt=Object(at);if(!rt(at)){var ut=nt(ct,3);at=it(at),ct=function(pt){return ut(dt[pt],pt,dt)}}var ft=st(at,ct,lt);return ft>-1?dt[ut?at[ft]:ft]:void 0}}_e.exports=ot},function(_e,tt,et){var nt=et(92),rt=et(93),it=et(130),ot=et(94),st=et(618),at=et(97),ct=200;function lt(dt,ut,ft){var pt=-1,yt=rt,Tt=dt.length,ht=!0,gt=[],vt=gt;if(ft)ht=!1,yt=it;else if(Tt>=ct){var Ct=ut?null:st(dt);if(Ct)return at(Ct);ht=!1,yt=ot,vt=new nt}else vt=ut?[]:gt;e:for(;++pt<Tt;){var It=dt[pt],Zt=ut?ut(It):It;if(It=ft||It!==0?It:0,ht&&Zt===Zt){for(var Mt=vt.length;Mt--;)if(vt[Mt]===Zt)continue e;ut&&vt.push(Zt),gt.push(It)}else yt(vt,Zt,ft)||(vt!==gt&&vt.push(Zt),gt.push(It))}return gt}_e.exports=lt},function(_e,tt,et){var nt=et(185),rt=et(223),it=et(97),ot=1/0,st=nt&&1/it(new nt([,-0]))[1]==ot?function(at){return new nt(at)}:rt;_e.exports=st},function(_e,tt,et){const nt=ot=>ot&&ot.replace(/\D+/g,"")||"0",rt=ot=>ot.substring(0,9),it=ot=>parseInt(ot,10);_e.exports=ot=>it(rt(nt(ot)))},function(_e,tt,et){(function(nt){var rt=et(3),it=rt(et(4)),ot=rt(et(5));const at=et(1)("hasValidPeerConnection");function ct(ut){return new nt(ft=>{ut.addEventListener("signalingstatechange",()=>ft(!0)),ut.createOffer({offerToReceiveAudio:1}).then(pt=>ut.setLocalDescription(pt)).then(()=>setTimeout(()=>{ft(!1)},1e3))})}function lt(ut){return dt.apply(this,arguments)}function dt(){return dt=(0,ot.default)(it.default.mark(function ut(ft){var pt;return it.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:Tt.prev=0,pt=new ft({iceServers:[]}),Tt.next=8;break;case 4:return Tt.prev=4,Tt.t0=Tt.catch(0),at.error("Error occurred creating PeerConnection",Tt.t0),Tt.abrupt("return",!1);case 8:return Tt.prev=8,Tt.next=11,ct(pt);case 11:Tt.next=18;break;case 13:Tt.prev=13,Tt.t1=Tt.catch(8),at.error("Error occurred checking the validity of the PeerConnection",Tt.t1);try{pt.close()}catch{}return Tt.abrupt("return",!1);case 18:Tt.prev=18,pt.close(),Tt.next=26;break;case 22:return Tt.prev=22,Tt.t2=Tt.catch(18),at.error("Error occurred closing PeerConnection",Tt.t2),Tt.abrupt("return",!1);case 26:return Tt.abrupt("return",!0);case 27:case"end":return Tt.stop()}},ut,null,[[0,4],[8,13],[18,22]])})),dt.apply(this,arguments)}_e.exports=lt}).call(this,et(0))},function(_e,tt,et){(function(nt){const rt=et(37),it=et(2),ot=et(622),st=et(72),at=et(1)("createPeerConnection");_e.exports=function(lt){let dt=lt.window,ut=lt.config,ft=lt.constraints;at.debug("called");const pt=rt(ut);pt.iceServers=ot(it,pt.iceServers),st()&&(pt.sdpSemantics="plan-b");const yt=new dt.RTCPeerConnection(pt,ft);return nt.resolve(yt)}}).call(this,et(0))},function(_e,tt,et){const nt=et(9),rt=et(271),it={Edge(ot){let st=!1;return ot.map(at=>{if(!at)return;const ct=at.urls||at.url&&[at.url];if(!ct)return;const lt=ct.filter(dt=>dt.indexOf("turn:")===0&&dt.indexOf("transport=udp")!==-1&&dt.indexOf("turn:[")===-1&&!st?(st=!0,!0):dt.indexOf("stun:")===0);if(lt.length!==0)return nt(rt(at,["url","urls"]),{urls:lt})}).filter(at=>at!==void 0)},Safari(ot){return ot.map(st=>{if(st.urls!==void 0&&st.url===void 0)return st;const at=st.urls||st.url&&[st.url];return nt(rt(st,["url","urls"]),{urls:at})})}};_e.exports=function(st,at){let ct=st.name;st.isEdge&&(ct=st.isLegacyEdge?"Edge":"ChromiumEdge");const lt=it[ct];return lt?lt(at):at}},function(_e,tt,et){const nt=et(28),rt=et(2),it={h264:{baseline:"42001f",constBaseline:"42e01f"}},ot=st=>{let at=st.sdp,ct=st.from,lt=st.to;return at.replace(new RegExp(`^(a=fmtp:\\d+ .*profile-level-id=)${ct}`,"gmi"),`$1${lt}`)};_e.exports={local:{offer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.numSimulcastStreams,ut=lt.audioBitrate,ft=lt.priorityVideoCodec,pt=ft===void 0?"":ft,yt=lt.codecFlags,Tt=yt===void 0?{}:yt,ht=lt.enableStereo,gt=ht===void 0?!1:ht,vt=lt.enableDtx,Ct=vt===void 0?!1:vt,It=lt.replaceBaselineProfile,Zt=It===void 0?!1:It,Mt=lt.removeVideoOrientation,kt=Mt===void 0?!1:Mt,Nt=nt.filterExcessSSRCs(ct);dt>1&&(Nt=nt.enableSimulcast(Nt,dt)),ut>0&&(Nt=nt.setAudioBitrate(Nt,ut)),kt&&(Nt=nt.removeVideoOrientation(Nt)),Nt=nt.modifyReceiveStereo(Nt,!1),Nt=nt.modifySendStereo(Nt,!!gt),Nt=nt.modifyDtx(Nt,!!Ct),rt.isLegacyEdge||Object.keys(Tt).filter(Pt=>Tt[Pt]===!1).forEach(Pt=>{Nt=nt.removeVideoCodec(Nt,Pt)}),pt&&!rt.isLegacyEdge?Nt=nt.reprioritizeVideoCodec(Nt,pt,"top"):pt!=="h264"&&(Nt=nt.reprioritizeVideoCodec(Nt,"h264","bottom"));let Lt=Nt;return Zt&&(Lt=ot({sdp:Lt,from:it.h264.baseline,to:it.h264.constBaseline})),{local:Nt,remote:Lt}},answer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.audioBitrate,ut=lt.codecFlags,ft=lt.enableStereo,pt=ft===void 0?!1:ft,yt=lt.enableDtx,Tt=yt===void 0?!1:yt,ht=lt.replaceBaselineProfile,gt=ht===void 0?!1:ht,vt=lt.sourceStreamId,Ct=ct;dt>0&&(Ct=nt.setAudioBitrate(Ct,dt)),Ct=nt.modifyReceiveStereo(Ct,!!pt),Ct=nt.modifySendStereo(Ct,!1),Ct=nt.modifyDtx(Ct,!!Tt),vt==="MANTIS"&&nt.getSetupRole(Ct)==="passive"&&(Ct=nt.setSetupRole(Ct,"active")),ut&&Object.keys(ut).filter(Zt=>ut[Zt]===!1).forEach(Zt=>{Ct=nt.removeVideoCodec(Ct,Zt)});let It=Ct;return gt&&(It=ot({sdp:It,from:it.h264.baseline,to:it.h264.constBaseline})),{local:Ct,remote:It}}},remote:{offer:(st,at)=>{let ct=st.replaceBaselineProfile,lt=ct===void 0?!1:ct,dt=at;if(dt.indexOf("a=rtcp-fb")===-1){const ut=`a=rtcp-fb:* ccm fir\r
a=rtcp-fb:* nack `;dt=dt.replace(/^m=video(.*)$/gmi,`m=video$1\r
${ut}`)}return lt&&(dt=ot({sdp:dt,from:it.h264.constBaseline,to:it.h264.baseline})),{local:dt}},answer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.audioBitrate,ut=lt.replaceBaselineProfile,ft=ut===void 0?!1:ut,pt=ct;return dt>0&&(pt=nt.setAudioBitrate(pt,dt)),ft&&(pt=ot({sdp:pt,from:it.h264.constBaseline,to:it.h264.baseline})),{local:pt}}}}},function(_e,tt,et){var nt=et(39),rt=et(54),it=et(41),ot=et(25),st=et(275),at=et(625),ct=et(232),lt=et(97),dt=et(262),ut=et(276),ft="[object Map]",pt="[object Set]",yt=nt?nt.iterator:void 0;function Tt(ht){if(!ht)return[];if(ot(ht))return st(ht)?dt(ht):rt(ht);if(yt&&ht[yt])return at(ht[yt]());var gt=it(ht),vt=gt==ft?ct:gt==pt?lt:ut;return vt(ht)}_e.exports=Tt},function(_e,tt){function et(nt){for(var rt,it=[];!(rt=nt.next()).done;)it.push(rt.value);return it}_e.exports=et},function(_e,tt,et){var nt=et(33);function rt(it,ot){return nt(ot,function(st){return it[st]})}_e.exports=rt},function(_e,tt,et){_e.exports=(nt,rt)=>{let it=[],ot=null;if(typeof nt.getReceivers=="function"){const st=nt.getReceivers().find(at=>at.track.kind==="audio");st&&(it=st.getSynchronizationSources())}else ot=new Error("peerConnection does not support getReceivers function");rt&&rt(ot,it)}},function(_e,tt,et){(function(nt){const rt=et(629),it=function(st){this.pending=[],this._processBinding=this.maybeProcessPending.bind(this),st&&this.setPeerConnection(st)};it.prototype.setPeerConnection=function(st){if(this.pc)throw new Error("Peer connection already set");this.pc=st,this._forwardIceCandidate=rt(this.pc,"addIceCandidate"),this.pc.addEventListener("signalingstatechange",this._processBinding),this.maybeProcessPending()},it.prototype.canAddCandidates=function(){return!!(this.pc&&this.pc.iceConnectionState!=="closed"&&this.pc.remoteDescription&&this.pc.remoteDescription.type&&this.pc.localDescription&&this.pc.localDescription.type)},it.prototype.addIceCandidate=function(st){if(this.canAddCandidates())return this._forwardIceCandidate(st);const at=this.pending;return new nt((ct,lt)=>{at.push({iceCandidate:st,resolve:ct,reject:lt})})},it.prototype.maybeProcessPending=function(){this.canAddCandidates()&&this.process()},it.prototype.process=function(){for(;this.pending.length;){const st=this.pending.shift();this._forwardIceCandidate(st.iceCandidate).then(st.resolve).catch(st.reject)}},it.prototype.destroy=function(){this.pc&&this.pc.removeEventListener("signalingstatechange",this._processBinding),this._processBinding=null,this.pc=null},_e.exports=it}).call(this,et(0))},function(_e,tt,et){(function(nt){_e.exports=function(it,ot){const st=it[ot];return function(at){return new nt((ct,lt)=>{const dt=st.apply(it,[at,ct,lt]);dt&&typeof dt.then=="function"&&ct(dt)})}}}).call(this,et(0))},function(_e,tt,et){const nt=et(156),rt=et(2),it=et(1)("offerProcessor"),ot=et(28),st=et(631);_e.exports=function(ct,lt,dt,ut,ft,pt,yt,Tt,ht,gt,vt,Ct,It){const Zt=(cn,Jt)=>Bt=>{it.error(cn),it.error(Bt),gt&&gt(cn,Bt,Jt)},Mt=cn=>{const Jt=ot.hasSendStereo(pt.sdp),Bt=ot.hasSendDtx(pt.sdp),dn=ot.getAudioBitrate(pt.sdp),vn=nt(ft,"local","answer",{enableStereo:Jt,enableDtx:Bt,audioBitrate:dn,replaceBaselineProfile:Ct,codecFlags:yt,sourceStreamId:It},cn.sdp),Tn=new ut({type:cn.type,sdp:vn.local}),pn={type:cn.type,sdp:vn.remote};return ct.setLocalDescription(Tn).then(()=>ht(pn)).catch(Zt("Error while setting LocalDescription","SetLocalDescription"))},kt=()=>ct.createAnswer().then(Mt).catch(Zt("Error while setting createAnswer","CreateAnswer")),Nt=new ut({type:pt.type,sdp:nt(ft,"remote","offer",{replaceBaselineProfile:Ct},pt.sdp).local}),Lt=Zt("Error while setting RemoteDescription","SetRemoteDescription");return st(Nt,Tt,rt,lt,dt).then(()=>(vt(!0),Nt)).catch(cn=>{if(vt(!1),!ot.hasMediaType(Nt.sdp,"audio"))throw new Error("Unsupported video without audio for fallback");it.debug("Couldn't set remote description",Nt,cn,", trying without video");const Jt=new ut({type:pt.type,sdp:ot.disableMediaType(Nt.sdp,"video")});return it.debug("offer without video",Jt.sdp),Jt}).then(cn=>ct.setRemoteDescription(cn)).then(kt).catch(Lt)}},function(_e,tt,et){(function(nt){const rt=et(72),it=(ot,st,at,ct,lt)=>{if(!ct)return nt.resolve(!0);const dt={iceServers:[]};rt()&&(dt.sdpSemantics="plan-b");const ut=new ct(dt),ft=()=>{try{ut.close()}catch{}};return ut.setRemoteDescription(new lt(ot)).then(()=>{ft()}).catch(pt=>{throw ft(),pt})};_e.exports=it}).call(this,et(0))},function(_e,tt,et){const nt=et(60),rt=et(633);_e.exports=function(ot){let st=[];const at={};let ct={sentMessages:0,recvMessages:0};const lt=function(ft){st.filter(pt=>ft!==pt)},dt=function(ft){const pt=new rt(ft);return st.push(pt),pt.on("close",()=>{lt(pt)}),pt};return at.add=function(ut,ft){return dt(ot.createDataChannel(ut,ft))},at.addMany=function(ut){for(const ft in ut)ut.hasOwnProperty(ft)&&at.add(ft,ut[ft])},at.get=function(ut,ft){return nt(st,pt=>pt.equals(ut,ft))},at.getOrAdd=function(ut,ft){let pt=at.get(ut,ft);return pt||(pt=at.add(ut,ft)),pt},at.getQosData=function(){const ut={sentMessages:0,recvMessages:0};return st.forEach(ft=>{ut.sentMessages+=ft.getQosData().sentMessages,ut.recvMessages+=ft.getQosData().recvMessages}),ut},at.sampleQos=function(){const ut=at.getQosData(),ft={sentMessages:ut.sentMessages-ct.sentMessages,recvMessages:ut.recvMessages-ct.recvMessages};return ct=ut,ft},at.destroy=function(){st.forEach(ut=>{ut.close()}),st=[]},ot.addEventListener("datachannel",ut=>{dt(ut.channel)}),at}},function(_e,tt,et){const nt=et(6),rt=et(1)("DataChannel"),it=function(st){this.data=st.data,this.source=st.source,this.lastEventId=st.lastEventId,this.origin=st.origin,this.timeStamp=st.timeStamp,this.type=st.type,this.ports=st.ports,this.path=st.path};_e.exports=function(st){const at={},ct=[],lt={sentMessages:0,recvMessages:0},dt=function(vt){return ct.push(vt),at},ut=function(vt){return st.send(vt),lt.sentMessages++,at},ft=function(){let vt;for(;vt=ct.shift();)at.send(vt)},pt=function(){at.send=ut,ft()},yt=function(vt){at.send=dt,at.trigger("close",vt)},Tt=function(vt){rt.error(vt)},ht=function(vt){const Ct=new it(vt);lt.recvMessages++,at.trigger("message",Ct)};return nt(at,!0),at.label=st.label,at.id=st.id,at.reliable=st.reliable,at.negotiated=st.negotiated,at.ordered=st.ordered,at.protocol=st.protocol,at._channel=st,at.close=function(){st.close()},at.equals=function(gt,vt){if(at.label!==gt)return!1;for(const Ct in vt)if(vt.hasOwnProperty(Ct)&&at[Ct]!==vt[Ct])return!1;return!0},at.getQosData=function(){return lt},at.send=dt,st.addEventListener("open",pt,!1),st.addEventListener("close",yt,!1),st.addEventListener("error",Tt,!1),st.addEventListener("message",ht,!1),at}},function(_e,tt,et){const nt=et(9),rt=et(156),it=et(1)("subscribeProcessor"),ot=et(28);_e.exports=function(at){let ct=at.peerConnection,lt=at.NativeRTCSessionDescription,dt=at.sdpTransforms,ut=at.numSimulcastStreams,ft=at.offerOverrides,pt=at.offerConstraints,yt=at.replaceBaselineProfile,Tt=at.removeVideoOrientation,ht=at.removeUnusedCodecs;const gt=(Ct,It)=>Zt=>{it.error(Ct,Zt);const Mt=new Error(Ct);throw Mt.reason=Zt,Mt.prefix=It,Mt},vt=Ct=>{it.debug("subscribeProcessor: offer created",Ct);let It=Ct.sdp;if(ht){var Zt;It=ot.removeUnusedCodecs(It,(Zt=ct.currentLocalDescription)==null?void 0:Zt.sdp)}const Mt=rt(dt,"local","offer",nt({numSimulcastStreams:ut,replaceBaselineProfile:yt,removeVideoOrientation:Tt},ft),It),kt=new lt({type:Ct.type,sdp:Mt.local}),Nt=new lt({type:Ct.type,sdp:Mt.remote});return it.debug("subscribeProcessor: setting local description"),ct.setLocalDescription(kt).then(()=>Nt,gt("Error while setting LocalDescription","SetLocalDescription"))};return it.debug("subscribeProcessor: creating offer"),ct.createOffer(pt).then(vt,gt("Error while creating Offer","CreateOffer")).then(Ct=>({sdp:Ct.sdp,type:Ct.type}))}},function(_e,tt,et){const nt=et(636);let rt=function(){function it(st){this.state=nt.RESOLVED,this.offerAnswerQueue=[],this.logAnalyticsEvent=st}var ot=it.prototype;return ot.setPending=function(){this.state=nt.PENDING},ot.setResolved=function(){this.state=nt.RESOLVED;const at=this.offerAnswerQueue.shift();at&&(this.logAnalyticsEvent("dequeueOfferAnswer","Event"),this.setPending(),at())},ot.isPending=function(){return this.state===nt.PENDING},ot.enqueueOfferAnswer=function(at){this.isPending()?(this.offerAnswerQueue.push(at),this.logAnalyticsEvent("enqueueOfferAnswer","Event")):(this.setPending(),at())},it}();_e.exports=rt},function(_e,tt,et){_e.exports={PENDING:"pending",RESOLVED:"resolved"}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(28),st=ot.mediaDirections,at=st.RECVONLY,ct=st.INACTIVE,lt=function(){var dt=(0,it.default)(rt.default.mark(function ut(ft,pt){var yt,Tt,ht;return rt.default.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(ft){vt.next=2;break}return vt.abrupt("return");case 2:return vt.next=4,ft.createOffer();case 4:return yt=vt.sent,vt.next=7,ft.setLocalDescription(yt);case 7:Tt=ft.remoteDescription.sdp,ht=ot.changeMediaDirection(Tt,pt),ft.setRemoteDescription({type:ft.remoteDescription.type,sdp:ht});case 10:case"end":return vt.stop()}},ut)}));return function(ft,pt){return dt.apply(this,arguments)}}();_e.exports={changeMediaDirectionToInactive:dt=>lt(dt,ct),changeMediaDirectionToRecvOnly:dt=>lt(dt,at)}},function(_e,tt,et){tt.__esModule=!0,tt.default=Ct,tt.parseStatsNewAPI=vt,tt.parseStatsOldAPI=gt;function nt(Zt,Mt){var kt=typeof Symbol<"u"&&Zt[Symbol.iterator]||Zt["@@iterator"];if(kt)return(kt=kt.call(Zt)).next.bind(kt);if(Array.isArray(Zt)||(kt=rt(Zt))||Mt&&Zt&&typeof Zt.length=="number"){kt&&(Zt=kt);var Nt=0;return function(){return Nt>=Zt.length?{done:!0}:{done:!1,value:Zt[Nt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(Zt,Mt){if(Zt){if(typeof Zt=="string")return it(Zt,Mt);var kt=Object.prototype.toString.call(Zt).slice(8,-1);if(kt==="Object"&&Zt.constructor&&(kt=Zt.constructor.name),kt==="Map"||kt==="Set")return Array.from(Zt);if(kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(kt))return it(Zt,Mt)}}function it(Zt,Mt){(Mt==null||Mt>Zt.length)&&(Mt=Zt.length);for(var kt=0,Nt=new Array(Mt);kt<Mt;kt++)Nt[kt]=Zt[kt];return Nt}const ot=et(2),st=et(8),at=et(1)("QoS"),ct=et(28),lt=et(279),dt=et(639),ut=et(103)(),ft=et(157),pt=["audioCodec","audioSentBytes","audioSentPackets","audioSentPacketsLost","audioRtt","videoCodec","videoHeight","videoHeightInput","videoSentBytes","videoFrameRateSent","videoSentPackets","videoRtt","videoSentPacketsLost","videoWidthInput","videoWidth","srtpCipher"],yt=["audioCodec","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoCodec","videoHeight","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost","videoFrameRateReceived","videoWidth","srtpCipher"],Tt=(Zt,Mt)=>at.debug(`Raw stats for peer conn ${Zt.id}:`,Mt),ht=Zt=>{const Mt=Zt.portNumber||Zt.port;return`${Zt.ipAddress||Zt.address||Zt.ip}:${Mt}`};function gt(Zt,Mt,kt,Nt,Lt){const Pt=Bt=>(Number(Bt.stat("googFrameRateSent"))>0?(kt.videoSentBytes=Number(Bt.stat("bytesSent")),kt.videoSentPackets=Number(Bt.stat("packetsSent")),kt.videoSentPacketsLost=Number(Bt.stat("packetsLost")),kt.videoRtt=Number(Bt.stat("googRtt"))/1e3,kt.videoFrameRate=Number(Bt.stat("googFrameRateInput")),kt.videoWidth=Number(Bt.stat("googFrameWidthSent")),kt.videoHeight=Number(Bt.stat("googFrameHeightSent")),kt.videoFrameRateSent=Number(Bt.stat("googFrameRateSent")),kt.videoWidthInput=Number(Bt.stat("googFrameWidthInput")),kt.videoHeightInput=Number(Bt.stat("googFrameHeightInput")),kt.videoCodec=Bt.stat("googCodecName"),kt.videoBandwidthLimitedResolution=Bt.stat("googBandwidthLimitedResolution")==="true",kt.cpuLimitedResolution=Bt.stat("googCpuLimitedResolution")==="true"):Number(Bt.stat("googFrameRateReceived"))>0&&(kt.videoRecvBytes=Number(Bt.stat("bytesReceived")),kt.videoRecvPackets=Number(Bt.stat("packetsReceived")),kt.videoRecvPacketsLost=Number(Bt.stat("packetsLost")),kt.videoFrameRate=Number(Bt.stat("googFrameRateOutput")),kt.videoFrameRateReceived=Number(Bt.stat("googFrameRateReceived")),kt.videoFrameRateDecoded=Number(Bt.stat("googFrameRateDecoded")),kt.videoWidth=Number(Bt.stat("googFrameWidthReceived")),kt.videoHeight=Number(Bt.stat("googFrameHeightReceived")),kt.videoCodec=Bt.stat("googCodecName")),null),cn=Bt=>{Number(Bt.stat("audioInputLevel"))>0?(kt.audioSentPackets=Number(Bt.stat("packetsSent")),kt.audioSentPacketsLost=Number(Bt.stat("packetsLost")),kt.audioSentBytes=Number(Bt.stat("bytesSent")),kt.audioCodec=Bt.stat("googCodecName"),kt.audioRtt=Number(Bt.stat("googRtt"))/1e3):Number(Bt.stat("audioOutputLevel"))>0&&(kt.audioRecvPackets=Number(Bt.stat("packetsReceived")),kt.audioRecvPacketsLost=Number(Bt.stat("packetsLost")),kt.audioRecvBytes=Number(Bt.stat("bytesReceived")),kt.audioCodec=Bt.stat("googCodecName"))},Jt=Bt=>{if(Bt.result){const dn=Bt.result();Tt(Zt,dn);const vn=(In,Cn)=>dn.filter(yn=>yn.id===Cn.stat(In))[0],Tn=In=>vn("localCandidateId",In),pn=In=>vn("remoteCandidateId",In);for(let In=0;In<dn.length;In++){const Cn=dn[In];Cn.stat&&(Cn.stat("googActiveConnection")==="true"&&(Cn.stat("googChannelId").indexOf("audio")>-1?(kt.audioLocalAddress=Cn.stat("googLocalAddress"),kt.audioRemoteAddress=Cn.stat("googRemoteAddress"),kt.audioLocalCandidateType=Cn.stat("googLocalCandidateType"),kt.audioRemoteCandidateType=Cn.stat("googRemoteCandidateType"),kt.audioTransportType=Cn.stat("googTransportType"),kt.audioLocalRelayProtocol=lt(Tn(Cn).stat("priority")),kt.audioRemoteRelayProtocol=lt(pn(Cn).stat("priority"))):Cn.stat("googChannelId").indexOf("video")>-1&&(kt.videoLocalAddress=Cn.stat("googLocalAddress"),kt.videoRemoteAddress=Cn.stat("googRemoteAddress"),kt.videoLocalCandidateType=Cn.stat("googLocalCandidateType"),kt.videoRemoteCandidateType=Cn.stat("googRemoteCandidateType"),kt.videoTransportType=Cn.stat("googTransportType"),kt.videoLocalRelayProtocol=lt(Tn(Cn).stat("priority")),kt.videoRemoteRelayProtocol=lt(pn(Cn).stat("priority")))),Number(Cn.stat("googAvailableSendBandwidth"))>0&&(kt.videoSentEstimatedBandwidth=Number(Cn.stat("googAvailableSendBandwidth"))),Number(Cn.stat("googAvailableReceiveBandwidth"))>0&&(kt.videoRecvEstimatedBandwidth=Number(Cn.stat("googAvailableReceiveBandwidth"))),cn(Cn),Pt(Cn))}"videoCodec"in kt&&!kt.videoLocalAddress&&["LocalAddress","RemoteAddress","LocalCandidateType","RemoteCandidateType","TransportType","LocalRelayProtocol","RemoteRelayProtocol"].forEach(In=>{kt[`video${In}`]=kt[`audio${In}`]})}Lt(null,kt)};Zt.getStats(Jt)}function vt(Zt,Mt,kt,Nt,Lt){const Pt=function(vn){Lt(vn)},cn=(dn,vn)=>{if(vn==="outboundrtp"?(kt.audioSentPackets=dn.packetsSent,kt.audioSentPacketsLost=dn.packetsLost,kt.audioSentBytes=dn.bytesSent):vn==="inboundrtp"&&(kt.audioRecvPackets=dn.packetsReceived,kt.audioRecvPacketsLost=dn.packetsLost,kt.audioRecvBytes=dn.bytesReceived),kt.audioCodec===void 0&&["Safari"].indexOf(st.env.name)!==-1&&dn.codecId!==void 0){const Tn=Zt.remoteDescription.type==="answer"?Zt.remoteDescription:Zt.localDescription,pn=Tn.sdp,In=dn.codecId.lastIndexOf("_"),Cn=ct.getCodecsAndCodecMap(pn,"audio");In!==-1&&Cn!==void 0&&(kt.audioCodec=Cn.codecMap[dn.codecId.substring(In+1)])}},Jt=dn=>{const vn={packetsSent:"videoSentPackets",packetsLost:"videoSentPacketsLost",bytesSent:"videoSentBytes",framesPerSecond:"videoFrameRate",framesSent:"videoFrameRateSent",framesReceived:"videoFramesReceived",frameWidth:"videoWidth",frameHeight:"videoHeight"},Tn=["videoSentPackets","videoSentBytes"];for(const pn in vn)if(pn in dn){const In=vn[pn];Tn.includes(In)&&Number.isSafeInteger(kt[In])?kt[In]+=dn[pn]:kt[In]=dn[pn]}},Bt=(dn,vn)=>{const Tn=()=>{if(!("videoSentBytes"in kt?kt.videoSentBytes>0:kt.videoRecvBytes>0))return 0;let In=0;if(ot.isFirefox&&ot.version<96)In=Number(dn.framerateMean);else{const Cn=vn==="outboundrtp"?"framesEncoded":"framesDecoded";kt[Cn]=dn[Cn],In=ft({currentStatFrames:dn[Cn],currentTimestamp:dn.timestamp,prevStatFrames:Mt[Cn],prevTimestamp:Mt.timeStamp||Date.now()})}return In};if(vn==="outboundrtp"?(dn.hasOwnProperty("qualityLimitationReason")&&(kt.videoBandwidthLimitedResolution=dn.qualityLimitationReason==="bandwidth",kt.cpuLimitedResolution=dn.qualityLimitationReason==="cpu"),Jt(dn)):vn==="inboundrtp"&&(kt.videoRecvPackets=dn.packetsReceived,kt.videoRecvPacketsLost=dn.packetsLost,kt.videoRecvBytes=dn.bytesReceived),(ot.isFirefox&&["outboundrtp","inboundrtp"].includes(vn)||!Nt&&vn==="inboundrtp")&&(kt.videoFrameRate=Tn()),kt.videoCodec===void 0&&["Safari"].indexOf(st.env.name)!==-1&&dn.codecId!==void 0){const pn=Zt.remoteDescription.type==="answer"?Zt.remoteDescription:Zt.localDescription,In=pn.sdp,Cn=dn.codecId.lastIndexOf("_"),yn=ct.getCodecsAndCodecMap(In,"video");Cn!==-1&&yn!==void 0&&(kt.videoCodec=yn.codecMap[dn.codecId.substring(Cn+1)])}};Zt.getStats(null).then(dn=>{let vn,Tn,pn,In,Cn,yn,bn,Xn;const Hn=[],En=()=>{if(Hn.length===0)return null;const cr=Hn.filter(Rr=>Rr>0),sr=cr.reduce((Rr,Yr)=>Rr+Yr,0);return cr.length?sr/cr.length:0},Zn=cr=>cr.toLowerCase().replace(/[^a-z]/g,""),Vn=cr=>{const sr=Zn(cr.type),Or=cr.id.toLowerCase();if(/(in|out)boundrtp$/.test(sr)){const Rr=/rtp/.test(Or),Yr=Rr&&/audio/.test(Or),Fr=Rr&&/video/.test(Or),Qr=Yr||cr.kind==="audio",vo=Fr||cr.kind==="video";if(Qr?cn(cr,sr):vo&&Bt(cr,sr),cr.hasOwnProperty("roundTripTime")){const Lr=cr.mediaType||cr.kind;Lr==="video"?Hn.push(cr.roundTripTime):Lr==="audio"&&(kt.audioRtt=cr.roundTripTime)}if(sr==="remoteinboundrtp"&&cr.hasOwnProperty("packetsLost")){const Pr=`${cr.kind}SentPacketsLost`;kt[Pr]||(kt[Pr]=0),kt[Pr]+=cr.packetsLost}}else if(sr==="transport"){const Rr=cr.selectedCandidatePairId,Yr=cr.srtpCipher;kt.srtpCipher=Yr,Rr&&(In=dt(Rr,dn))}else if(sr==="localcandidate")vn=cr.candidateType,pn=ht(cr),yn=cr.protocol||cr.transport;else if(sr==="remotecandidate")Tn=cr.candidateType,Cn=ht(cr);else if(sr==="track"&&Or.indexOf("video")!==0)bn=cr.frameWidth,Xn=cr.frameHeight,Jt(cr);else if(sr==="mediasource")cr.hasOwnProperty("framesPerSecond")&&(kt.videoFrameRate=cr.framesPerSecond),cr.hasOwnProperty("width")&&(kt.videoWidthInput=cr.width),cr.hasOwnProperty("height")&&(kt.videoHeightInput=cr.height);else if(sr==="candidatepair"&&cr.hasOwnProperty("availableOutgoingBitrate")){const Rr=`video${Nt?"Sent":"Recv"}EstimatedBandwidth`;kt[Rr]=parseInt(cr.availableOutgoingBitrate,10)}};if(typeof dn[Symbol.iterator]=="function"){Tt(Zt,Array.from(dn));for(var rr=nt(dn),gr;!(gr=rr()).done;){const cr=gr.value,sr=Array.isArray(cr)?cr[1]:cr;Vn(sr)}}else{Tt(Zt,dn);for(const cr in dn)dn.hasOwnProperty(cr)&&Vn(dn[cr])}if(Zt.currentRemoteDescription&&(kt.useDtx=ct.hasSendDtx(Zt.currentRemoteDescription.sdp)),Nt&&(kt.videoRtt=En()),(kt.audioRecvBytes||kt.audioSentBytes)&&(kt.audioLocalCandidateType=vn,kt.audioLocalAddress=pn,kt.audioRemoteCandidateType=Tn,kt.audioRemoteAddress=Cn,kt.audioTransportType=yn,kt.audioLocalRelayProtocol=In,kt.audioCodec===void 0)){const cr=Zt.remoteDescription.type==="answer"?Zt.remoteDescription:Zt.localDescription,sr=cr.sdp,Or=ct.getCodecs(sr,"audio");kt.audioCodec=Or[0]}if((kt.videoRecvBytes||kt.videoSentBytes)&&(kt.videoLocalCandidateType=vn,kt.videoLocalAddress=pn,kt.videoRemoteCandidateType=Tn,kt.videoRemoteAddress=Cn,kt.videoTransportType=yn,kt.videoLocalRelayProtocol=In,kt.videoCodec===void 0)){const cr=Zt.remoteDescription.type==="answer"?Zt.remoteDescription:Zt.localDescription,sr=cr.sdp,Or=ct.getCodecs(sr,"video");kt.videoCodec=Or[0]}It(kt,Nt),kt.videoWidth=kt.videoWidth||bn,kt.videoHeight=kt.videoHeight||Xn,Lt(null,kt)}).catch(Pt)}function Ct(Zt,Mt,kt,Nt,Lt){return ut?vt(Zt,Mt,kt,Nt,Lt):gt(Zt,Mt,kt,Nt,Lt)}function It(Zt,Mt){(Mt?pt:yt).forEach(Nt=>{Zt.hasOwnProperty(Nt)||(Zt[Nt]=null)})}},function(_e,tt,et){const nt=et(279);_e.exports=(rt,it)=>{let ot="";if(!rt||!it)return ot;const st=it.get(rt);if(st){const at=st.localCandidateId;if(at){const ct=it.get(at);if(ct){const lt=ct.relayProtocol,dt=ct.priority;lt?ot=`TURN/${lt.toUpperCase()}`:ot=nt(dt)}}}return ot}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;let nt=function(){function rt(){this.value=null,this.changeCount=0}var it=rt.prototype;return it.onValue=function(st){st&&st!==this.value&&(this.value&&(this.changeCount+=1),this.value=st)},rt}();tt.default=nt},function(_e,tt,et){var nt=et(11),rt=et(642),it=et(228),ot="Expected a function",st=Math.max,at=Math.min;function ct(lt,dt,ut){var ft,pt,yt,Tt,ht,gt,vt=0,Ct=!1,It=!1,Zt=!0;if(typeof lt!="function")throw new TypeError(ot);dt=it(dt)||0,nt(ut)&&(Ct=!!ut.leading,It="maxWait"in ut,yt=It?st(it(ut.maxWait)||0,dt):yt,Zt="trailing"in ut?!!ut.trailing:Zt);function Mt(vn){var Tn=ft,pn=pt;return ft=pt=void 0,vt=vn,Tt=lt.apply(pn,Tn),Tt}function kt(vn){return vt=vn,ht=setTimeout(Pt,dt),Ct?Mt(vn):Tt}function Nt(vn){var Tn=vn-gt,pn=vn-vt,In=dt-Tn;return It?at(In,yt-pn):In}function Lt(vn){var Tn=vn-gt,pn=vn-vt;return gt===void 0||Tn>=dt||Tn<0||It&&pn>=yt}function Pt(){var vn=rt();if(Lt(vn))return cn(vn);ht=setTimeout(Pt,Nt(vn))}function cn(vn){return ht=void 0,Zt&&ft?Mt(vn):(ft=pt=void 0,Tt)}function Jt(){ht!==void 0&&clearTimeout(ht),vt=0,ft=gt=pt=ht=void 0}function Bt(){return ht===void 0?Tt:cn(rt())}function dn(){var vn=rt(),Tn=Lt(vn);if(ft=arguments,pt=this,gt=vn,Tn){if(ht===void 0)return kt(gt);if(It)return clearTimeout(ht),ht=setTimeout(Pt,dt),Mt(gt)}return ht===void 0&&(ht=setTimeout(Pt,dt)),Tt}return dn.cancel=Jt,dn.flush=Bt,dn}_e.exports=ct},function(_e,tt,et){var nt=et(14),rt=function(){return nt.Date.now()};_e.exports=rt},function(_e,tt,et){const nt=et(50);tt.check=function(rt){rt===void 0&&(rt={});const it=rt.env||et(2);return it.name==="Chrome"&&it.userAgent.toLowerCase().indexOf("android")>-1&&it.version<65},tt.once=nt(()=>tt.check())},function(_e,tt,et){const nt=et(2);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt,ot=it.env,st=ot===void 0?nt:ot;return!!(st.isiOS&&st.iOSVersion>10)}},function(_e,tt,et){const nt=et(36),rt=et(8);_e.exports=function(ot){let st,at,ct,lt,dt;const ut=this;let ft=ot.archiving;const pt=ot.archivingStarted||"Archiving on",yt=ot.archivingEnded||"Archiving off";let Tt=!0;const ht=function(Ct){lt.nodeValue=Ct,st.setAttribute("title",Ct)},gt=function(){dt&&(clearTimeout(dt),dt=null),ft?rt.addClass(at,"OT_active"):rt.removeClass(at,"OT_active"),rt.removeClass(ut.domElement,`OT_archiving-${ft?"off":"on"}`),rt.addClass(ut.domElement,`OT_archiving-${ft?"on":"off"}`),ot.show&&ft?(ht(pt),rt.addClass(ct,"OT_mode-on"),rt.removeClass(ct,"OT_mode-auto"),ut.setDisplayMode("on"),dt=setTimeout(()=>{rt.addClass(ct,"OT_mode-auto"),rt.removeClass(ct,"OT_mode-on")},5e3)):ot.show&&!Tt?(rt.addClass(ct,"OT_mode-on"),rt.removeClass(ct,"OT_mode-auto"),ut.setDisplayMode("on"),ht(yt),dt=setTimeout(()=>{ut.setDisplayMode("off")},5e3)):ut.setDisplayMode("off")};nt(this,{mode:ft&&ot.show&&"on"||"off",nodeName:"h1",htmlAttributes:{className:"OT_archiving OT_edge-bar-item OT_edge-bottom"},onCreate(){st=rt.createElement("div",{className:"OT_archiving-light-box"},""),at=rt.createElement("div",{className:"OT_archiving-light"},""),st.appendChild(at),ct=rt.createElement("div",{className:"OT_archiving-status OT_mode-on OT_edge-bar-item OT_edge-bottom"},""),lt=document.createTextNode(""),ct.appendChild(lt),ut.domElement.appendChild(st),ut.domElement.appendChild(ct),gt()}}),this.setShowArchiveStatus=function(vt){ot.show=vt,ut.domElement&&gt.call(ut)},this.setArchiving=function(vt){ft=vt,Tt=!1,ut.domElement&&gt.call(ut)}}},function(_e,tt,et){_e.exports=function(nt){nt===void 0&&(nt={});const rt=nt.global||(typeof window!==void 0?window:commonjsGlobal);return()=>rt.navigator&&rt.navigator.mediaDevices}},function(_e,tt,et){(function(nt){const rt=et(9),it=et(11),ot=et(107),st=et(648),at=et(20),ct=et(22),lt=et(6);_e.exports=function(ut){ut===void 0&&(ut={});const ft=ut.env||et(2),pt=ut.Errors||et(7),yt=ut.otError||et(13)(),Tt=ut.logging||et(1)("getUserMedia"),ht=ut.screenSharing||et(161)(),gt=ut.getDisplayMediaExtensionHelper||et(288),vt=ut.customGetUserMedia,Ct=ut.global||(typeof window!==void 0?window:commonjsGlobal),It=ut.analytics||new at,Zt=Ct.navigator,Mt=Ct.location,kt=()=>{if(vt)return vt;if(Zt.mediaDevices){var vn;return(vn=Zt.mediaDevices).getUserMedia.bind(vn)}},Nt=function(){const Tn=kt();return Tn?Tn(...arguments):nt.reject(new Error("Cannot find getUserMedia"))},Lt=()=>{if(vt)return vt;if(Zt.mediaDevices&&Zt.getDisplayMedia)return Zt.getDisplayMedia.bind(Zt);if(Zt.mediaDevices&&Zt.mediaDevices.getDisplayMedia){var vn;return(vn=Zt.mediaDevices).getDisplayMedia.bind(vn)}},Pt=function(){const Tn=Lt();return Tn?Tn(...arguments):nt.reject(new Error("Cannot find getDisplayMedia"))},cn=(()=>{const vn={name:pt.USER_MEDIA_ACCESS_DENIED,message:"End-user denied permission to hardware devices"},Tn={name:pt.NOT_SUPPORTED,message:"A constraint specified is not supported by the browser."},pn={name:pt.CONSTRAINTS_NOT_SATISFIED,message:"It's not possible to satisfy one or more constraints passed into the getUserMedia function"},In={name:pt.NO_DEVICES_FOUND,message:"No voice or video input devices are available on this machine."},Cn={name:pt.HARDWARE_UNAVAILABLE,message:"The selected voice or video devices are unavailable. Verify that the chosen devices are not in use by another application."},yn={name:pt.UNABLE_TO_CAPTURE_SCREEN,message:"Unable to capture screen. Unknown error occurred"},Xn={AbortError:{name:pt.UNABLE_TO_CAPTURE_MEDIA,message:"Unable to capture media. Unknown error occurred"},NotAllowedError:vn,NotFoundError:In,NotReadableError:Cn,OverconstrainedError:pn,SecurityError:rt({},vn,{message:"End-user denied permission to hardware devices or user media support may be disabled on this page"}),TypeError:pn,PermissionDeniedError:vn,PermissionDismissedError:vn,NotSupportedError:Tn,ConstraintNotSatisfiedError:pn,MandatoryUnsatisfiedError:pn,OverConstrainedError:pn,DevicesNotFoundError:In,NoDevicesFoundError:In,HardwareUnavailableError:Cn,SourceUnavailableError:Cn,TrackStartError:Cn,ScreenCaptureError:yn,TabCaptureError:yn};return st({objectToTrack:Xn,keys:["PermissionDeniedError","PermissionDismissedError","NotSupportedError","ConstraintNotSatisfiedError","MandatoryUnsatisfiedError","OverConstrainedError","DevicesNotFoundError","NoDevicesFoundError","HardwareUnavailableError","SourceUnavailableError","TrackStartError","ScreenCaptureError","TabCaptureError"],onUsage(Hn){It.logEvent({action:"DeprecatedPropertyUsage:getUserMedia:errorMap",variation:"Event",payload:{key:Hn}})}}),Xn})(),Jt=(vn,Tn)=>{let pn=vn;pn==="AbortError"&&typeof Tn=="string"&&Tn.match(/(screen|tab).?capture/i)&&(pn="ScreenCaptureError");const In=cn[pn];let Cn;return In?Cn=yt(In.name,new Error(`${In.message} (getUserMedia error: ${vn})`)):Cn=new Error(`Unknown error while getting user media: ${vn}`),Cn.originalMessage=Tn,Cn.originalName=vn,Cn},Bt=vn=>{if(it(vn)&&vn.name){let Tn=vn.name,pn=vn.message;if((pn==="Cannot find getUserMedia"||pn==="Cannot find getDisplayMedia")&&(ft.name==="Chrome"&&ft.version>73&&Ct.location.protocol!=="https:"?Tn="NotAllowedError":Tn="NotSupportedError"),ft.name==="Safari"&&Tn==="Error"){const yn=Object.prototype.toString.call(vn).match(/^\[object (\w+Error)\]$/);yn&&(Tn=yn[1])}const In=Jt(Tn,pn);return In.constraintName=vn.constraint||vn.constraintName,In instanceof ct||It.logEvent({action:"UnexpectedError:getUserMedia:parseErrorEvent",variation:"Event",payload:{name:In.name,message:In.message,originalMessage:In.originalMessage}}),In}if(typeof vn=="string"){const Tn=Jt(vn);return It.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error is string",error:vn}}),Tn}return It.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error was not string or object with name property",error:vn}}),new Error("Unknown error type while getting media")},dn=function(Tn){if(!Tn||!it(Tn))return!0;for(const pn in Tn)if(Tn.hasOwnProperty(pn)&&Tn[pn])return!1;return!0};return function(vn,Tn){if(Tn===void 0&&(Tn=!1),Tt.debug("getUserMedia wrapper called with",vn),dn(vn))return Tt.error("Couldn't get UserMedia: All constraints were false"),lt(nt.reject(yt(pt.NO_VALID_CONSTRAINTS,new Error("Video and Audio was disabled, you need to enable at least one"))));const pn=Tn&&gt.isSupportedInThisBrowser?Pt:Nt,In=lt(pn(vn).catch(Xn=>{const Hn=Bt(Xn);if(Hn.name===pt.UNABLE_TO_CAPTURE_SCREEN)return new nt((En,Zn)=>{ht.checkCapability(Vn=>{if(Vn.extensionRequired==="chrome"){if(Vn.extensionRegistered&&!Vn.extensionInstalled){const rr=yt(pt.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,Hn);rr.message="Screen sharing extension not installed see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",Zn(rr)}else if(!Vn.extensionRegistered){const rr=yt(pt.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,Hn);rr.message="Screen sharing extension not registered see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",Zn(rr)}}else Zn(Hn)})});throw Hn}).then(Xn=>(Tt.debug("got stream:",{stream:Xn,tracks:Xn.getTracks(),trackLabels:Xn.getTracks().map(Hn=>Hn.label)}),Xn))),Cn=Mt.protocol.indexOf("https")!==-1?500:100;let yn=!0;const bn=()=>{yn=!1};return In.then(bn,bn),ot(Cn).then(()=>{if(!yn)return;const Xn=()=>{In.emit("accessDialogClosed")};In.emit("accessDialogOpened"),In.then(Xn,Xn)}),In}}}).call(this,et(0))},function(_e,tt,et){_e.exports=function(nt){let rt=nt===void 0?{}:nt,it=rt.objectToTrack,ot=rt.keys,st=rt.onUsage;if(!Array.isArray(ot)&&ot!==void 0)throw new Error("keys must be an array, or undefined");if(typeof st!="function")throw new Error("onUsage must be a function");if(it==null)throw new Error("Expected objectToTrack to be a trackable object");Object.keys(it).forEach(at=>{if(ot!==void 0&&ot.indexOf(at)===-1)return;let ct=it[at];Object.defineProperty(it,at,{get(){return st(at),ct},set(lt){ct=lt,st(at,ct)},enumerable:!0})})}},function(_e,tt,et){const nt=et(2),rt=et(650),it=rt.isCallbackBasedAPI;let ot=et(264),st=null;const at=(ut,ft)=>{st.getSources(ut,ft)},ct=(ut,ft)=>{st.getSources(ut).then(pt=>{ft(void 0,pt)},ft)},lt=()=>it?at:ct,dt=(ut,ft)=>{lt()({types:[ut]},(yt,Tt)=>{if(yt){ft(yt);return}const ht=Tt[0];if(!ht){ft(new Error("Could not find Electron source for screensharing"));return}const gt={audio:!1,video:{mandatory:{chromeMediaSource:ut,chromeMediaSourceId:ht.id}}};ft(void 0,gt)})};_e.exports=function(ft){ft===void 0&&(ft={});try{const pt=()=>{let Tt=typeof window!==void 0?window:commonjsGlobal;for(;typeof Tt.require!="function"&&Tt.parent&&Tt.parent!==Tt;)Tt=Tt.parent;return Tt},yt=()=>{const Tt=pt();return(Tt.require?Tt.require("electron"):Tt.electron).desktopCapturer};st=ft.desktopCapturer||(nt.isElectron?yt():null),ot=ft.isElectronScreenSharingSource||ot}catch{}return{isSupportedInThisBrowser:st!==null,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!0,window:!0,browser:!0},register:()=>({isInstalled:pt=>pt(!0),getConstraints(pt,yt,Tt){ot(pt)?Tt(void 0,{audio:!0,video:!1}):dt(pt,Tt)}})}}},function(_e,tt,et){const rt=et(2).version<78,it=!rt;_e.exports={isCallbackBasedAPI:rt,isPromiseBasedAPI:it}},function(_e,tt,et){const nt=et(2),rt=et(159).default,it=()=>nt.isFirefox?!rt:!1;_e.exports={isSupportedInThisBrowser:it(),autoRegisters:!0,extensionRequired:!1,extensionInstalled:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:!0,browser:!1},register(){return{isInstalled(ot){ot(typeof OTScreenSharing=="object")},getConstraints(ot,st,at){st.video={mediaSource:ot},st.browserWindow&&(st.video.browserWindow=st.browserWindow,delete st.browserWindow),typeof st.scrollWithPage<"u"&&(st.video.scrollWithPage=st.scrollWithPage,delete st.scrollWithPage),at(void 0,st)}}}}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(653),st=ot.normaliseOptions,at=et(289),ct=at.isMediaStreamTrack,lt=et(148),dt=et(9),ut=et(141),ft=et(290).default,pt=et(7),yt=et(47),Tt=et(13)(),ht=et(291),gt=ht.isValidVideoContentHint,vt=et(6),Ct=et(149),It=et(2),Zt=et(263),Mt="getUserMedia request was aborted";_e.exports=function(Nt){Nt===void 0&&(Nt={}),["deviceHelpers","getUserMediaHelper"].forEach(Cn=>{lt(Nt[Cn],`${Cn} dependency must be injected into processPubOptions`)});const Lt=Nt.generateConstraintInfo||et(253),Pt=Nt.global||(typeof window!==void 0?window:commonjsGlobal),cn=Nt.logging||et(1)("processPubOptions"),Jt=Nt.navigator||Pt.navigator,Bt=Nt.screenSharing||et(161)(),dn=Nt.env||It,vn=et(654)({navigator:Jt||{}}),Tn=Nt,pn=Tn.deviceHelpers,In=Tn.getUserMediaHelper;return(Cn,yn,bn)=>{var Xn,Hn,En;const Zn=st(Cn,yn,cn),Vn=Ct(Zn.videoSource),rr=ct(Zn.audioSource),gr=ct(Zn.videoSource),cr=!rr&&Zn.audioSource!==null,sr=!gr&&Zn.videoSource!==null,Or=cr||sr,Rr=qn=>typeof qn=="boolean",Yr=!Vn||rr||Zt,Fr=ut(Zn,{mirror:!Vn&&!gr,publishAudio:!0,publishVideo:!0,showControls:!0,fitMode:Vn?"contain":"cover",insertDefaultUI:!0,enableRenegotiation:!1,enableStereo:!1,enableDtx:!1,disableAudioProcessing:!1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),Qr=Zn.audioFallback,vo=Qr===void 0?{}:Qr,Lr=Zn.audioFallbackEnabled;if(Fr.publisherAudioFallbackEnabled=(Xn=vo.publisher)!=null?Xn:!1,Fr.subscriberAudioFallbackEnabled=(Hn=(En=vo.subscriber)!=null?En:Lr)!=null?Hn:!Vn,Fr.videoContentHint!==void 0&&!gt(Fr.videoContentHint)&&(cn.warn(`${yn}: Invalid content hint. Valid content hints are "text", "detail", "motion", or ""`),Fr.videoContentHint=""),Fr.name&&(Fr.name=String(Fr.name)),Rr(Fr.enableDtx)||(Fr.enableDtx=!1),Rr(Fr.enableStereo)||(Fr.enableStereo=!1),Fr.initials&&(typeof Fr.initials!="string"&&(Fr.initials=""),Fr.initials.length>2&&(Fr.initials="",cn.warn("Publisher initials cleared. Only one or two characters allowed for publisher initials.")),Fr.initials=Fr.initials.toUpperCase()),Fr.constraints)cn.warn(`${yn}: You have passed your own constraints not using ours`);else{const qn=Lt(Object.assign({isScreenSharing:Vn,isCustomAudioTrack:rr,isCustomVideoTrack:gr},yt(Fr,["audioSource","publishAudio","videoSource","publishVideo","resolution","maxResolution","frameRate","facingMode","enableRenegotiation","enableStereo","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl"]),{env:dn,usingOptionalMandatoryStyle:vn(Vn)}));dt(Fr,qn)}const Pr={isScreenSharing:Vn,isCustomAudioTrack:rr,isCustomVideoTrack:gr,shouldAllowAudio:Yr,properties:Fr};return vt(Pr),Pr.getUserMedia=(0,it.default)(rt.default.mark(function qn(){var Yn,vr,Dr,ho,er,Ir,Wr,mo,Jr;return rt.default.wrap(function(wo){for(;;)switch(wo.prev=wo.next){case 0:if(Yn=function(){for(var ro=arguments.length,Ho=new Array(ro),Oo=0;Oo<ro;Oo++)Ho[Oo]=arguments[Oo];return Pr.emit("accessDialogOpened",...Ho)},vr=function(){for(var ro=arguments.length,Ho=new Array(ro),Oo=0;Oo<ro;Oo++)Ho[Oo]=arguments[Oo];return Pr.emit("accessDialogClosed",...Ho)},Or){wo.next=7;break}return Dr=new Pt.MediaStream,rr&&Dr.addTrack(Zn.audioSource),gr&&Dr.addTrack(Zn.videoSource),wo.abrupt("return",Dr);case 7:if(!Vn){wo.next=15;break}return wo.next=10,Bt.getConstraints({onAccessDialogOpened:Yn,onAccessDialogClosed:vr,videoSource:Zn.videoSource,constraints:Fr.constraints});case 10:if(Fr.constraints=wo.sent,!bn()){wo.next=13;break}throw Tt(pt.CANCEL,new Error(Mt));case 13:wo.next=25;break;case 15:return wo.next=17,pn.shouldAskForDevices();case 17:if(ho=wo.sent,!bn()){wo.next=20;break}throw Tt(pt.CANCEL,new Error(Mt));case 20:cn.debug(`${yn}: shouldAskForDevices:`,ho),ho.video||(cn.warn(`${yn}: Setting video constraint to false, there are no video sources`),Fr.constraints.video=!1),ho.audio||(cn.warn(`${yn}: Setting audio constraint to false, there are no audio sources`),Fr.constraints.audio=!1),Pr.videoDevices=ho.videoDevices,Pr.audioDevices=ho.audioDevices;case 25:if(er=Fr.constraints,cn.debug(`${yn}: onConstraintsFound`,er),!bn()){wo.next=29;break}throw Tt(pt.CANCEL,new Error(Mt));case 29:return Ir="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=188088",Wr="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=204106",mo=xo=>xo.originalName==="NotReadableError"&&xo.originalMessage==="Failed starting capture of a video track",Jr=function(){var xo=(0,it.default)(rt.default.mark(function ro(){var Ho,Oo,Do,so,Nu;return rt.default.wrap(function(ko){for(;;)switch(ko.prev=ko.next){case 0:return Ho=In(er,Vn),Ho.on("accessDialogOpened",Yn),Ho.on("accessDialogClosed",vr),ko.prev=3,ko.next=6,Ho;case 6:if(Oo=ko.sent,!(dn.isiOS&&Fr.publishVideo&&Oo.getVideoTracks().length&&Oo.getVideoTracks()[0].readyState==="ended")){ko.next=11;break}throw Oo.getTracks().forEach(ls=>ls.stop()),Do=new Error(Ir),Do;case 11:return ko.abrupt("return",Oo);case 14:if(ko.prev=14,ko.t0=ko.catch(3),!dn.isiOS){ko.next=34;break}if(!(mo(ko.t0)&&dn.iOSVersion>=13&&dn.iOSVersion<13.4)){ko.next=32;break}return ko.prev=18,so=In({audio:!0,video:!1},!1),ko.next=22,so;case 22:Nu=ko.sent,Nu.getTracks().forEach(ls=>ls.stop()),ko.next=29;break;case 26:ko.prev=26,ko.t1=ko.catch(18),cn.debug(`${yn}: error disposing audio track`,ko.t1);case 29:throw new Error(Wr);case 32:if(ko.t0.name!==pt.HARDWARE_UNAVAILABLE){ko.next=34;break}throw new Error(Ir);case 34:throw ko.t0;case 35:return ko.prev=35,setTimeout(()=>{Ho.off("accessDialogOpened",Yn),Ho.off("accessDialogClosed",vr)}),ko.finish(35);case 38:case"end":return ko.stop()}},ro,null,[[3,14,35,38],[18,26]])}));return function(){return xo.apply(this,arguments)}}(),wo.next=35,ft(Jr,(xo,ro)=>[Ir,Wr].includes(xo.message)&&ro===1&&!bn()?1e3:!1)();case 35:if(Dr=wo.sent,!bn()){wo.next=39;break}throw Dr.getTracks().forEach(xo=>{xo.stop()}),Tt(pt.CANCEL,new Error(Mt));case 39:return rr&&Dr.addTrack(Zn.audioSource),gr&&Dr.addTrack(Zn.videoSource),wo.abrupt("return",Dr);case 42:case"end":return wo.stop()}},qn)})),Pr}}},function(_e,tt,et){const nt=et(289),rt=nt.isMediaStreamTrack,it=et(37),ot=et(2),st=(at,ct,lt)=>{const dt=at&&typeof at=="object"?it(at):{};if(dt.audioSource===!1&&(dt.audioSource=null),dt.videoSource===!1&&(dt.videoSource=null),dt.minVideoBitrate!==void 0&&!(typeof dt.minVideoBitrate=="number"&&dt.minVideoBitrate>0)&&(lt.warn(`${ct}: Invalid minVideoBitrate in publisher properties. minVideoBitrate must be a positive number`),delete dt.minVideoBitrate),dt.audioBitrate!==void 0&&!(dt.audioBitrate>=6*1e3&&dt.audioBitrate<=510*1e3)&&(lt.warn(`${ct}: Invalid audioBitrate in publisher properties. audioBitrate must be a number between ${6*1e3} and ${510*1e3} bits per second`),delete dt.audioBitrate),ot.name==="Firefox"&&ot.version<49){const ut="Firefox 48 and below";rt(dt.audioSource)&&(dt.audioSource=null,lt.warn(`${ct}: Cannot use custom tracks with ${ut}. Setting audioSource to null`)),rt(dt.videoSource)&&(dt.videoSource=null,lt.warn(`${ct}: Cannot use custom tracks with ${ut}. Setting videoSource to null`))}return dt};tt.normaliseOptions=st},function(_e,tt,et){const nt=et(2),rt=nt.name,it=nt.version,ot=et(257);_e.exports=function(at){let ct=at===void 0?{}:at,lt=ct.navigator,dt=lt===void 0?window.navigator:lt;return function(ft){return ft&&!ot||!(dt.mediaDevices&&dt.mediaDevices.getUserMedia)||rt==="Chrome"&&it<61}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={}),["processPubOptions"].forEach(ct=>{if(!rt[ct])throw new Error(`${ct} dependency must be injected into OT.getUserMedia`)});const it=rt.logging||et(1)("getUserMedia"),ot=rt,st=ot.processPubOptions;return function(lt){return lt===void 0&&(lt={}),st(lt,"OT.getUserMedia",()=>!1).getUserMedia().catch(ut=>{throw it.error(`OT.getUserMedia failed to getUserMedia: ${ut}`),ut})}}},function(_e,tt,et){_e.exports=function(rt,it){const ot=(st,at)=>()=>{throw new Error(`Cannot ${st} ${at}, ${rt} is destroyed`)};Object.keys(it).forEach(st=>{typeof it[st]=="function"?it[st]=ot("call",st):Object.defineProperty(it,st,{get:ot("get",st),set:ot("set",st)})})}},function(_e,tt,et){_e.exports=nt=>{if("srcObject"in nt)return;const rt=window&&window.URL;"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(nt,"srcObject",{get(){return this._srcObject},set(it){const ot=this;if(this._srcObject=it,this.src&&rt.revokeObjectURL(this.src),!it){this.src="";return}return this.src=rt.createObjectURL(it),it.addEventListener("addtrack",()=>{ot.src&&rt.revokeObjectURL(ot.src),ot.src=rt.createObjectURL(it)}),it.addEventListener("removetrack",()=>{ot.src&&rt.revokeObjectURL(ot.src),ot.src=rt.createObjectURL(it)}),this._srcObject}})}},function(_e,tt,et){const nt=ot=>!(!ot||typeof ot.getBoundingClientRect!="function"),rt=ot=>{const st=ot.getBoundingClientRect(),at=window.innerHeight||document.documentElement.clientHeight,ct=window.innerWidth||document.documentElement.clientWidth,lt=st.top<=at&&st.top+st.height>=0,dt=st.left<=ct&&st.left+st.width>=0;return lt&&dt},it=ot=>{const st=at=>at.style&&at.style.visibility==="hidden"?!0:at.parentNode?st(at.parentNode):!1;return ot.offsetParent!==null&&!st(ot)};_e.exports=ot=>nt(ot)&&rt(ot)&&it(ot)},function(_e,tt,et){const nt=et(105),rt=et(8),it={0:"rotate(0deg)",270:"rotate(90deg)",90:"rotate(-90deg)",180:"rotate(180deg)"};_e.exports=function(st,at,ct){let lt=ct;nt(st,{isRotated:{get(){return this.orientation()&&(this.orientation().videoOrientation===270||this.orientation().videoOrientation===90)}},orientation:{get(){return lt},set(dt){lt=dt;const ut=it[dt.videoOrientation]||it.ROTATED_NORMAL;switch(rt.env.name){case"Chrome":case"Safari":at().style.webkitTransform=ut;break;default:at().style.transform=ut}st.trigger("orientationChanged",lt)}},audioChannelType:{get(){return"mozAudioChannelType"in this.domElement?this.domElement.mozAudioChannelType:"unknown"},set(dt){"mozAudioChannelType"in this.domElement&&(this.domElement.mozAudioChannelType=dt)}}})}},function(_e,tt,et){_e.exports=function(){function rt(it){return it.getTracks().every(ot=>ot.readyState==="ended")}return function(ot,st,at){const ct=[];function lt(pt){setTimeout(()=>{if(ct.length)if(rt(ot))ut(),typeof st=="function"&&st();else{const yt=pt.target;dt(yt),typeof at=="function"&&at(yt)}},100)}function dt(pt){pt.onended===lt&&(pt.onended=null);const yt=ct.indexOf(pt);yt>=0&&ct.splice(yt,1)}function ut(){ct.slice().forEach(dt)}function ft(){ot.getTracks().forEach(pt=>{ct.push(pt),pt.onended=lt})}return ft(),{stop:ut,refresh:()=>{ut(),ft()}}}}},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(18)),it=nt(et(1)),ot=nt(et(108)),st=et(74);const at=(0,it.default)("AudioFallbackState");var lt=()=>{const dt=new rt.default;let ut=st.CongestionLevels.LOW,ft=ot.default.ACTIVE_VIDEO;const pt=vt=>{ft=vt,dt.emit("stateChange",{state:vt})},yt=()=>{ut=st.CongestionLevels.LOW,pt(ot.default.ACTIVE_VIDEO)},Tt=()=>{ut===st.CongestionLevels.LOW&&pt(ot.default.ACTIVE_VIDEO_WITH_WARNING),ut=st.CongestionLevels.MEDIUM},ht=()=>{ut=st.CongestionLevels.CRITICAL,pt(ot.default.SUSPENDED_VIDEO)},gt={[st.CongestionLevels.LOW]:yt,[st.CongestionLevels.MEDIUM]:Tt,[st.CongestionLevels.CRITICAL]:ht};return Object.assign(dt,{setCongestionLevel(vt){if(this.congestionLevel===vt){at.warn(`Congestion level already set: ${vt}`);return}const Ct=gt[vt];Ct?Ct():at.warn(`Invalid congestion level: ${vt}`)},getState(){return ft},reset(){ut=st.CongestionLevels.LOW,ft=ot.default.ACTIVE_VIDEO}})};tt.default=lt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(663)),it=nt(et(664)),ot=nt(et(665)),st=nt(et(667)),at=nt(et(668));const ct=et(18);var dt=function(ft,pt){ft===void 0&&(ft={}),pt===void 0&&(pt={});const yt=new ct,Tt=ft,ht=Tt.videoResolution,gt=Tt.getStats,vt=pt,Ct=vt.createMovingAverageTracker,It=Ct===void 0?st.default:Ct,Zt=vt.createTimeBasedCongestionLevel,Mt=Zt===void 0?rt.default:Zt,kt=vt.createBasicCongestionLevel,Nt=kt===void 0?it.default:kt,Lt=vt.getFairQualityBandwidthForResolution,Pt=Lt===void 0?at.default:Lt,cn=vt.CongestionLevelStats,Jt=cn===void 0?ot.default:cn,Bt={bandwidthFairThreshold:Pt(ht)},dn=Mt(Bt),vn=Nt(Bt),Tn=It(),pn=It(),In=It(),Cn=()=>dn.getLevel({bandwidth:In.getMovingAverageValue(),audioPacketLoss:Tn.getMovingAverageValue()}),yn=()=>vn.getLevel({bandwidth:In.getMovingAverageValue(),audioPacketLoss:Tn.getMovingAverageValue()}),bn=()=>{const En=Cn(),Zn=yn(),Vn=Math.max(En,Zn);yt.emit("congestionLevel",Vn)},Xn=En=>{let Zn=En.audioPacketLoss,Vn=En.videoPacketLoss,rr=En.bandwidth;Tn.addValue(Zn),pn.addValue(Vn),In.addValue(rr),bn()},Hn=new Jt(gt);return Hn.on("statsAvailable",En=>{Xn(En)}),Object.assign(yt,{start(){Hn.start()},stop(){Hn.stop()}})};tt.default=dt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(297)),it=et(74),st=function(ct){ct===void 0&&(ct={});const lt=Object.assign({},rt.default,ct);let dt=!1,ut;return{getLevel(ft){if(ft.audioPacketLoss<lt.packetLossCriticalThreshold)return dt=!1,it.LOW;const yt=Date.now();return dt||(ut=yt,dt=!0),yt>ut+lt.criticalCongestionPeriod?it.CRITICAL:yt>ut+lt.criticalCongestionPeriod/2?it.MEDIUM:it.LOW}}};tt.default=st},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(297)),it=et(74),st=function(ct){ct===void 0&&(ct={});const lt=Object.assign({},rt.default,ct);return{getLevel(dt){let ut=dt.bandwidth,ft=dt.audioPacketLoss,pt;if(ut<=0)return ft>lt.packetLossCriticalThresholdMediumBw?pt=it.CRITICAL:pt=it.LOW,pt;if(ut>=lt.bandwidthFairThreshold?pt=it.LOW:ut>=lt.bandwidthCriticalThreshold?ut>=(lt.bandwidthCriticalThreshold+lt.bandwidthFairThreshold)/2?ft>lt.packetLossCriticalThresholdMediumBw*2?pt=it.CRITICAL:pt=it.MEDIUM:ft>lt.packetLossCriticalThresholdMediumBw?pt=it.CRITICAL:pt=it.MEDIUM:ft>lt.packetLossCriticalThreshold?pt=it.CRITICAL:pt=it.MEDIUM,pt===void 0)throw new Error("undefined congestion level");return pt}}};tt.default=st},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=it(et(666));function rt(dt){if(typeof WeakMap!="function")return null;var ut=new WeakMap,ft=new WeakMap;return(rt=function(yt){return yt?ft:ut})(dt)}function it(dt,ut){if(!ut&&dt&&dt.__esModule)return dt;if(dt===null||typeof dt!="object"&&typeof dt!="function")return{default:dt};var ft=rt(ut);if(ft&&ft.has(dt))return ft.get(dt);var pt={},yt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Tt in dt)if(Tt!=="default"&&Object.prototype.hasOwnProperty.call(dt,Tt)){var ht=yt?Object.getOwnPropertyDescriptor(dt,Tt):null;ht&&(ht.get||ht.set)?Object.defineProperty(pt,Tt,ht):pt[Tt]=dt[Tt]}return pt.default=dt,ft&&ft.set(dt,pt),pt}const ot=et(18),st=1e3,at=500;var lt=function(ut,ft){ft===void 0&&(ft={});const pt=ft.StatsUtils||nt,yt=new ot;let Tt;const ht=Ct=>{const It=pt.parseStats(Ct);if(!Tt){Tt=It;return}const Zt=pt.getAudioPacketLoss(It,Tt),Mt=pt.getVideoPacketLoss(It,Tt),kt=It.bandwidth;Tt=It,yt.emit("statsAvailable",{audioPacketLoss:Zt,videoPacketLoss:Mt,bandwidth:kt})},gt=()=>{ut((Ct,It)=>{Ct||ht(It)})};let vt;return Object.assign(yt,{start(){vt=setTimeout(()=>{gt(),vt=setInterval(()=>{gt()},at)},st)},stop(){clearInterval(vt)}})};tt.default=lt},function(_e,tt,et){tt.__esModule=!0,tt.parseStats=tt.getVideoResolution=tt.getVideoPacketStats=tt.getVideoPacketLoss=tt.getBandwidth=tt.getAudioPacketStats=tt.getAudioPacketLoss=void 0;const nt=(ft,pt)=>{const yt=ft.filter(vt=>{let Ct=vt.type,It=vt.kind;return Ct==="outbound-rtp"&&It===pt}),Tt=ft.filter(vt=>{let Ct=vt.type,It=vt.kind;return Ct==="remote-inbound-rtp"&&It===pt}),ht=yt.reduce((vt,Ct)=>vt+Ct.packetsSent,0),gt=Tt.reduce((vt,Ct)=>vt+Ct.packetsLost,0);return{packetsSent:ht,packetsLost:gt}},rt=ft=>ft.filter(Tt=>{let ht=Tt.type,gt=Tt.kind;return ht==="outbound-rtp"&&gt==="video"}).reduce((Tt,ht)=>({width:Math.max(Tt.width,ht.frameWidth),height:Math.max(Tt.height,ht.frameHeight)}),{width:0,height:0});tt.getVideoResolution=rt;const it=ft=>{const pt=nt(ft,"audio"),yt=pt.packetsSent;return{audioPacketsLost:pt.packetsLost,audioPacketsSent:yt}};tt.getAudioPacketStats=it;const ot=ft=>{const pt=nt(ft,"video"),yt=pt.packetsSent;return{videoPacketsLost:pt.packetsLost,videoPacketsSent:yt}};tt.getVideoPacketStats=ot;const st=ft=>ft.find(yt=>yt.type==="candidate-pair").availableOutgoingBitrate;tt.getBandwidth=st;const at=ft=>{const pt=it(ft),yt=pt.audioPacketsSent,Tt=pt.audioPacketsLost,ht=ot(ft),gt=ht.videoPacketsSent,vt=ht.videoPacketsLost;return{bandwidth:st(ft),audioPacketsSent:yt,audioPacketsLost:Tt,videoPacketsSent:gt,videoPacketsLost:vt}};tt.parseStats=at;const ct=(ft,pt)=>pt===0?0:ft/pt,lt=(ft,pt,yt)=>{const Tt=pt[`${ft}PacketsSent`]-yt[`${ft}PacketsSent`],ht=pt[`${ft}PacketsLost`]-yt[`${ft}PacketsLost`];return ct(ht,Tt)},dt=(ft,pt)=>lt("audio",ft,pt);tt.getAudioPacketLoss=dt;const ut=(ft,pt)=>lt("video",ft,pt);tt.getVideoPacketLoss=ut},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt=function(ot){ot===void 0&&(ot=0);let st=ot,at=1e4,ct;const lt=()=>{const dt=Date.now();if(!ct)return ct=dt,1;const ut=dt-ct,ft=1-Math.exp(-ut/at);return ct=dt,ft};return{setPeriod(dt){at=dt},getMovingAverageValue(){return st},addValue(dt){const ut=lt();st=dt*ut+st*(1-ut)}}};tt.default=rt},function(_e,tt,et){const nt=[{width:"320",height:"180",fairQualityBitrate:12e4},{width:"320",height:"240",fairQualityBitrate:12e4},{width:"352",height:"288",fairQualityBitrate:125e3},{width:"480",height:"270",fairQualityBitrate:125e3},{width:"640",height:"360",fairQualityBitrate:15e4},{width:"640",height:"480",fairQualityBitrate:15e4},{width:"960",height:"540",fairQualityBitrate:15e4},{width:"1280",height:"720",fairQualityBitrate:4e5},{width:"1920",height:"1080",fairQualityBitrate:5e5}].sort((st,at)=>st.fairQualityBitrate-at.fairQualityBitrate),rt=25e4,it=nt.reduce((st,at)=>{let ct=at.fairQualityBitrate;return Math.max(st,ct)},rt),ot=(st,at)=>{var ct;return!st||!at?rt:((ct=nt.find(dt=>{let ut=dt.height,ft=dt.width;return at*st<=ut*ft}))==null?void 0:ct.fairQualityBitrate)||it};_e.exports=ot},function(_e,tt,et){const nt=rt=>rt>=15&&rt<15.4;_e.exports=rt=>(rt=rt||et(2),rt.isiPad?!0:rt.isiPhone?nt(rt.iOSVersion):rt.isSafari?nt(rt.version):!1)},function(_e,tt,et){const nt=[{width:320,height:180,maxBitrate:3e5},{width:320,height:240,maxBitrate:4e5},{width:352,height:288,maxBitrate:5e5},{width:480,height:270,maxBitrate:55e4},{width:640,height:360,maxBitrate:8e5},{width:640,height:480,maxBitrate:8e5},{width:960,height:540,maxBitrate:11e5},{width:1280,height:720,maxBitrate:25e5},{width:1920,height:1080,maxBitrate:45e5}].sort((ot,st)=>ot.maxBitrate-st.maxBitrate),rt=45e5,it=(ot,st)=>{var at;return!ot||!st?rt:((at=nt.find(lt=>{let dt=lt.height,ut=lt.width;return st*ot<=dt*ut}))==null?void 0:at.maxBitrate)||rt};_e.exports=it},function(_e,tt,et){var nt=et(62),rt=et(99),it=et(35);function ot(st,at){var ct={};return at=it(at,3),rt(st,function(lt,dt,ut){nt(ct,dt,at(lt,dt,ut))}),ct}_e.exports=ot},function(_e,tt,et){_e.exports=function(rt,it){const ot=setTimeout(()=>{rt((st,at)=>{if(!st)for(let ct=0;ct<at.length;ct+=1){const lt=at[ct];lt.id.indexOf("_send")!==-1&&lt.type==="ssrc"&&(lt.kind==="audio"||lt.mediaType==="audio")&&parseInt(lt.bytesSent,10)===0&&it()}})},3e3);return function(){clearTimeout(ot)}}},function(_e,tt,et){const nt=et(6),rt=et(301),it=et(15);_e.exports=function(){return function(at,ct){const lt={},dt=[];let ut=!1,ft=!1;this._id=it();const pt=()=>{this.trigger("iceConnected"),ut=!0},yt=()=>this.trigger("close"),Tt=kt=>this.trigger("remoteVideoSupported",kt),ht=kt=>{let Nt=kt.reason,Lt=kt.prefix;return this.trigger("error",Nt,Lt)},gt=kt=>this.trigger("iceConnectionStateChange",kt),vt=kt=>this.trigger("signalingStateChange",kt),Ct=kt=>this.trigger("signalingStateStable",kt),It=()=>{ft&&(ft=!1,ct.removeFromSinglePeerConnection(this._id))};nt(this);const Zt=ct.getPeerConnection(at,this);Zt.on({iceConnected:pt,close:yt,signalingStateChange:vt,signalingStateStable:Ct,error:ht,qos:kt=>this.trigger("qos",kt),iceConnectionStateChange:gt,remoteVideoSupported:Tt,negotiationNeeded:It},this);const Mt=()=>Zt.iceConnectionStateIsConnected()&&!ut;this._onTrackAdded=kt=>{const Nt=kt.track,Lt=kt.transceiver;lt[Nt.id]=Lt.mid,dt.push(Nt),Mt()&&pt(),this.trigger("trackAdded",kt)},this.disconnect=()=>{ft=!0,ct.removeSubscriber(this._id,Object.values(lt))},this.removeTrack=kt=>{lt[kt.id]&&ct.removeSubscriber(this._id,[lt[kt.id]]),rt(dt,kt),ct.removeTrack(kt,this._id)},this.remoteTracks=()=>dt,this.generateOfferAndSend=()=>Zt.generateOfferAndSend(),this.getDataChannel=(kt,Nt,Lt)=>{Zt.getDataChannel(kt,Nt,Lt)},this.getSourceStreamId=()=>Zt.getSourceStreamId(),this.processMessage=(kt,Nt)=>{(kt==="offer"||kt==="answer")&&ct.cacheOfferAnswer(Nt.content.sdp),Zt.processMessage(kt,Nt)},this.remoteDescription=()=>Zt.remoteDescription(),this.getStats=kt=>{Zt.getStats(kt)},this.getSynchronizationSources=kt=>{Zt.getSynchronizationSources(kt)},this.getRtcStatsReport=kt=>{Zt.getRtcStatsReport(kt)},this.remoteStreams=()=>Zt.remoteStreams(),this.hasRelayCandidates=()=>Zt.hasRelayCandidates(),this.iceRestart=()=>Zt.iceRestart(),this.iceConnectionStateIsConnected=()=>Zt.iceConnectionStateIsConnected()}}},function(_e,tt,et){_e.exports=function(it,ot,st){st===void 0&&(st=!1);let at=null,ct=0,lt=null,dt=st;const ut=gt=>gt.type==="inbound-rtp"&&(gt.kind||gt.mediaType)==="audio",ft=gt=>gt.id===lt&&gt.type==="track"&&(gt.kind||gt.mediaType)==="audio",pt=(gt,vt)=>gt===at&&vt===ct,yt=(gt,vt)=>!dt&&gt===0&&at===0&&vt>ct,Tt=()=>{setTimeout(()=>{dt=!0},3e3)},ht=setInterval(()=>{it((gt,vt)=>{if(gt)return;lt=(vt.find(ut)||{}).trackId;const It=vt.find(ft);if(It){const Zt=It.audioLevel,Mt=It.totalSamplesReceived;if(Zt===void 0)return;pt(Zt,Mt)?(clearInterval(ht),ot("audioLevelStuck")):yt(Zt,Mt)&&(clearInterval(ht),ot("audioLevelStuckAt0")),at=Zt,ct=Mt}})},500);return st||Tt(),{stop:()=>{clearInterval(ht)}}}},function(_e,tt,et){(function(nt){const rt=et(20),it=new rt;_e.exports=function(st){st===void 0&&(st={});const at=st.analytics||it,ct=st.errors||et(7),lt=st.ExceptionCodes||et(10),dt=st.otError||et(13)(),ut=st.sessionObjects||et(21),ft=st.uuid||et(15);return function(yt){yt===void 0&&(yt=()=>{});const Tt=ft();function ht(gt){gt?yt(dt(ct.REPORT_ISSUE_FAILED,new Error("Error calling OT.reportIssue(). Check the client's network connection."),lt.REPORT_ISSUE_ERROR)):yt(null,Tt)}ut.sessions.length()===0?at.logEvent({action:"ReportIssue",variation:"Event",payload:{reportIssueId:Tt}},null,ht):nt.all(ut.sessions.map(gt=>gt.reportIssue({id:Tt}))).then(()=>ht(),gt=>ht(gt))}}}).call(this,et(0))},function(_e,tt,et){_e.exports=nt=>{let rt=nt.window,it=!1;try{const ot=Object.defineProperty({},"passive",{get(){it=!0}});rt.addEventListener("testPassive",null,ot),rt.removeEventListener("testPassive",null,ot)}catch{}return it}},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0});var nt=function(){function lt(dt,ut){for(var ft=0;ft<ut.length;ft++){var pt=ut[ft];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(dt,pt.key,pt)}}return function(dt,ut,ft){return ut&&lt(dt.prototype,ut),ft&&lt(dt,ft),dt}}(),rt=et(303),it=ot(rt);function ot(lt){return lt&&lt.__esModule?lt:{default:lt}}function st(lt,dt){if(!(lt instanceof dt))throw new TypeError("Cannot call a class as a function")}var at=function(){},ct=function(){function lt(){st(this,lt),this.internalIsCanceled=!1,this.listeners=[]}return nt(lt,[{key:"isCanceled",value:function(){return this.internalIsCanceled}},{key:"cancel",value:function(){this.internalIsCanceled||(this.internalIsCanceled=!0,this.listeners.forEach(function(ut){return ut()}),this.listeners=null)}},{key:"throwIfCanceled",value:function(){if(this.internalIsCanceled)throw new it.default("Operation has been canceled.")}},{key:"onCancel",value:function(ut){var ft=this;return this.internalIsCanceled?at:(this.listeners.push(ut),function(){if(ft.listeners){var pt=ft.listeners.indexOf(ut);pt!==-1&&ft.listeners.splice(pt,1)}})}},{key:"fork",value:function(){if(this.internalIsCanceled)return lt.CANCELED;var ut=new lt;return this.onCancel(function(){return ut.cancel()}),ut}}]),lt}();tt.default=ct,ct.CANCELED=new ct,ct.CANCELED.internalIsCanceled=!0},function(_e,tt,et){(function(nt){const rt=et(61),it=et(304).default,ot=et(154);et(109)();function st(at,ct){const lt=rt(at),dt=new nt(ut=>{const ft=()=>{(at.videoWidth()>2||at.videoHeight()>2)&&ut(!0)};lt.on("videoDimensionsChanged",ft),ft()});return it(ot(dt,ct,()=>!1),()=>lt.removeAll())}_e.exports=st}).call(this,et(0))},function(_e,tt,et){(function(nt){const rt=et(61),it=et(304).default,ot=et(154);et(109)();function st(at,ct){ct===void 0&&(ct=5e3);const lt=rt(at),dt=new nt(ut=>{lt.on("timeupdate",ut),lt.on("loadedmetadata",ut)});return it(ot(dt,ct,()=>!1),()=>lt.removeAll())}_e.exports=st}).call(this,et(0))},function(_e,tt,et){const nt=et(1)("WidgetView:fixMini"),rt=128,it=128,ot=64,st=64;_e.exports=function(ct){const lt=ct.clientWidth,dt=ct.clientHeight;ct.classList.remove("OT_micro"),ct.classList.remove("OT_mini"),(lt<ot||dt<st)&&(ct.classList.add("OT_micro"),nt.debug("OT_micro class added",{clientWidth:lt,clientHeight:dt,microWidth:ot,microHeight:st})),(lt<rt||dt<it)&&(ct.classList.add("OT_mini"),nt.debug("OT_mini class added",{clientWidth:lt,clientHeight:dt,miniWidth:rt,miniHeight:it}))}},function(_e,tt,et){const nt=et(15);_e.exports=function(it,ot){let st,at;if(it&&it.nodeName?(st=it,(!st.getAttribute("id")||st.getAttribute("id").length===0)&&st.setAttribute("id",`OT_${nt()}`),at=st.getAttribute("id")):it&&(st=document.getElementById(it),st&&(at=it)),at||(at=`OT_${nt().replace(/-/g,"_")}`),!st)return st=document.createElement("div"),st.id=at,st.setAttribute("id",at),st.style.backgroundColor="#000000",document.body.appendChild(st),st;const ct=document.createElement("div");switch(ct.id=`OT_${nt()}`,ot){case"append":return st.appendChild(ct),ct;case"before":return st.parentNode.insertBefore(ct,st),ct;case"after":return st.parentNode.insertBefore(ct,st.nextSibling),ct;case"replace":default:for(;st.firstChild;)st.removeChild(st.firstChild);return st}}},function(_e,tt,et){_e.exports=function(rt,it){return it===void 0&&(it="px"),String(parseFloat(rt,10))===String(rt).trim()?`${String(rt).trim()}${it}`:rt}},function(_e,tt,et){const nt=()=>{const it=document.createElementNS("http://www.w3.org/2000/svg","circle");return it.setAttribute("cx","50%"),it.setAttribute("cy","50%"),it.setAttribute("r","50%"),it.setAttribute("fill","%23000000"),it},rt=it=>{const ot=document.createElementNS("http://www.w3.org/2000/svg","text");ot.setAttribute("x","50%"),ot.setAttribute("y","50%"),ot.setAttribute("dy","5%"),ot.setAttribute("line-height","133%"),ot.setAttribute("font-size","108"),ot.setAttribute("font-weight","500"),ot.setAttribute("font-style","normal"),ot.setAttribute("fill","%23FFFFFF"),ot.setAttribute("font-family","spezia,sans-serif"),ot.setAttribute("dominant-baseline","middle"),ot.setAttribute("text-anchor","middle");const st=document.createTextNode(it);return ot.appendChild(st),ot};_e.exports=it=>{const ot=document.createElementNS("http://www.w3.org/2000/svg","svg");ot.setAttribute("viewBox","0 0 300 300"),ot.setAttribute("style","width: 50%; dominant-baseline: middle; text-anchor: middle;");const st=nt(),at=rt(it);return ot.appendChild(st),ot.appendChild(at),ot}},function(_e,tt,et){(function(nt){const rt=et(73);_e.exports=function(ot,st){let at=st===void 0?{}:st,ct=at.frequency,lt=ct===void 0?60:ct,dt=at.timeout,ut=dt===void 0?2e3:dt;return new nt((ft,pt)=>{let yt;const Tt=new rt(()=>{function ht(){try{return ot()}catch{return!1}}ht()&&(clearTimeout(yt),Tt.stop(),ft())},lt);yt=setTimeout(()=>{Tt.stop(),pt(new Error("TIMEOUT"))},ut),Tt.start()})}}).call(this,et(0))},function(_e,tt,et){const nt=et(13)(),rt=et(7),it=et(10);_e.exports=ot=>String(ot.code)==="404"?nt(rt.STREAM_NOT_FOUND,new Error("stream not found"),it.UNABLE_TO_SUBSCRIBE):String(ot.code)==="409"&&ot.message==="streamLimitExceeded"?nt(rt.STREAM_LIMIT_EXCEEDED,new Error("The limit for concurrent streams in the session has been reached"),it.STREAM_LIMIT_EXCEEDED):String(ot.code)==="405"&&ot.message==="IncompatibleEncryptionSettings"?nt(rt.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to an encrypted stream without enabling encryption"),it.UNABLE_TO_SUBSCRIBE):String(ot.code)==="500"&&ot.message==="Not connected."?nt(rt.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to a stream while disconnected."),it.UNABLE_TO_SUBSCRIBE):nt(rt.UNABLE_TO_SUBSCRIBE,new Error(`subscriberCreate failed with unexpected code ${ot.code}: ${ot.message}`),it.UNEXPECTED_SERVER_RESPONSE)},function(_e,tt,et){const nt=et(26),rt=et(49),it=et(104),ot=et(23)();_e.exports=st=>{let at=st.subscriber,ct=st.audioLevelSampler,lt=0,dt=0;const ut=new it(()=>{const ft=at.listenerCount(nt.AUDIO_LEVEL_UPDATED);if((()=>rt()-dt>1e4&&ft===0)()){ut.stop();return}lt=ct.sample(),ft>0&&at.dispatchEvent(new ot.AudioLevelUpdatedEvent(lt))});return Object.defineProperty(at,"loudness",{get(){return ut.start(),dt=rt(),lt},set(){throw new TypeError("Cannot set readonly property loudness")},configurable:!0}),at.listenerCount(nt.AUDIO_LEVEL_UPDATED)&&ut.start(),at.on("audioLevelUpdated:added",()=>{ut.start()}),at.once(nt.SUBSCRIBER_DESTROYED,()=>{ut.stop()}),{destroy(){ct.destroy(),ut.stop()}}}},function(_e,tt,et){const nt=et(252),rt=et(146),it=et(688),ot=et(306),st=et(307),at=et(158)(),ct=et(689),lt=et(1)("Subscriber");_e.exports=function(dt,ut){ut===void 0&&(ut={});const ft=ut.hasGetSynchronizationSupport;if(dt){if(it({hasGetSynchronizationSupport:ft}))return new nt(dt.getSynchronizationSources);if(ot())return new nt(dt.getStats);if(st()){let pt;try{pt=ut.audioContext||at()}catch(yt){lt.warn("Failed to get AudioContext()",yt)}if(ct(pt))return new rt(pt)}}}},function(_e,tt,et){const rt=et(2),it=()=>window.RTCRtpReceiver&&"getSynchronizationSources"in window.RTCRtpReceiver.prototype;_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.hasGetSynchronizationSupport||it;return(typeof ot.isEnabled=="boolean"?ot.isEnabled:!1)&&st()&&!rt.isFirefox}},function(_e,tt,et){_e.exports=nt=>(typeof window!==void 0?window:commonjsGlobal).AudioContext&&nt instanceof(typeof window!==void 0?window:commonjsGlobal).AudioContext||(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext&&nt instanceof(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext},function(_e,tt,et){const nt=et(36),rt=et(8);_e.exports=function(ot){let st=!1;const at=lt=>{const dt=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(lt,["OT_audio-blocked","OT_active"].join(" ")),dt&&(st&&rt.addClass(lt,"OT_audio-blocked"),rt.addClass(lt,"OT_active"))};this.setAudioBlocked=lt=>{st=lt,at(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-blocked-indicator"}});const ct=this.setDisplayMode.bind(this);this.setDisplayMode=lt=>{ct(lt),at(this.domElement)}}},function(_e,tt,et){const nt=et(36),rt=et(8);_e.exports=function(ot){let st=!1;const at=lt=>{const dt=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(lt,["OT_active"].join(" ")),!(!dt||!st)&&rt.addClass(lt,"OT_active")};this.setVideoUnsupported=lt=>{st=lt,at(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-unsupported"},htmlContent:'<div class="OT_video-unsupported-bar"></div><div class="OT_video-unsupported-img"></div><span class="OT_video-unsupported-text">Video format not supported</span>'});const ct=this.setDisplayMode.bind(this);this.setDisplayMode=lt=>{ct(lt),at(this.domElement)}}},function(_e,tt,et){const nt=et(47),rt=et(9),it=et(60),ot=et(75),st=et(157),at=function(lt,dt){dt===void 0&&(dt=5e3);let ut,ft=!1;const pt={},yt=function(gt){return gt===void 0&&(gt=[]),it(gt,vt=>ot.isVideoInboundRtpStat(vt))},Tt=()=>{ft||lt((ht,gt)=>{if(!ft){if(!ht){const vt=yt(gt);vt?rt(pt,nt(vt,["timestamp","framesDecoded"])):pt.timestamp||rt(pt,{timestamp:Date.now(),framesDecoded:0})}ut=setTimeout(Tt,dt)}})};return Tt(),{getFrameRateFromStat(ht){return st({currentStatFrames:ht.framesDecoded,currentTimestamp:ht.timestamp,prevStatFrames:pt.framesDecoded,prevTimestamp:pt.timestamp})},destroy(){ft=!0,ut&&(clearTimeout(ut),ut=null)}}};_e.exports=at},function(_e,tt,et){_e.exports=nt=>{let rt=nt.connectivityState,it=nt.onWarning,ot=nt.onTimeout,st=nt.warningMs,at=nt.timeoutMs;const ct=[],lt=()=>{ct.forEach(dt=>clearTimeout(dt))};rt.observe({onEnterConnecting(){ct.push(setTimeout(it,st),setTimeout(ot,at))},onEnterConnected:lt,onEnterDisconnected:lt})}},function(_e,tt,et){const nt=et(310);_e.exports=rt=>{let it=rt.onInvalidTransition;return new nt({init:"disconnected",transitions:[{name:"beginConnect",from:"disconnected",to:"connecting"},{name:"connect",from:"connecting",to:"connected"},{name:"fail",from:["connecting","connected"],to:"disconnected"},{name:"cancel",from:["connecting","connected"],to:"disconnected"},{name:"disconnect",from:["connecting","connected"],to:"disconnected"}],methods:{onInvalidTransition:it}})}},function(_e,tt,et){const nt=et(73);_e.exports=rt=>{let it=rt.connectivityState,ot=rt.logAttempt;const st=new nt(ot,1/5,6);it.observe({onEnterConnecting(){st.start()},onEnterDisconnected(){st.stop()},onEnterConnected(){st.stop()}})}},function(_e,tt){function et(nt){if(nt==null)throw new TypeError("Cannot destructure undefined")}_e.exports=et},function(_e,tt){function et(){return _e.exports=et=Object.assign||function(nt){for(var rt=1;rt<arguments.length;rt++){var it=arguments[rt];for(var ot in it)Object.prototype.hasOwnProperty.call(it,ot)&&(nt[ot]=it[ot])}return nt},et.apply(this,arguments)}_e.exports=et},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(18)),st=nt(et(699)),at=nt(et(108)),ct=nt(et(313)),lt=et(74);const dt=at.default.ACTIVE_VIDEO,ut=at.default.ACTIVE_VIDEO_WITH_WARNING,ft=at.default.SUSPENDED_VIDEO;var yt=Tt=>{let ht=Tt.getAllPeerConnections,gt=Tt.setEncodersActiveState,vt=gt===void 0?ct.default:gt;const Ct=new ot.default,It=(0,st.default)();It.on("stateChange",function(){for(var kt=arguments.length,Nt=new Array(kt),Lt=0;Lt<kt;Lt++)Nt[Lt]=arguments[Lt];return Ct.emit("stateChange",...Nt)});const Zt=function(){var kt=(0,it.default)(rt.default.mark(function Nt(){var Lt,Pt;return rt.default.wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:return Jt.next=2,ht();case 2:Lt=Jt.sent,Pt=Lt.reduce((Bt,dn)=>Math.max(Bt,dn.getAudioFallbackState()),dt),It.setState(Pt);case 5:case"end":return Jt.stop()}},Nt)}));return function(){return kt.apply(this,arguments)}}();return Object.assign(Ct,{onPeerConnectionStateChange:kt=>{let Nt=kt.state,Lt=kt.peerConnection,Pt=kt.publishVideo,cn=kt.stream,Jt=kt.peerId;if(Pt){const Bt=Lt.getSourceStreamId()==="MANTIS"?void 0:Jt;switch(Nt){case dt:vt(Lt,!0),cn.setChannelActiveState("video",!0,"auto",lt.LOW,Bt);break;case ut:cn.setChannelActiveState("video",!0,"auto",lt.MEDIUM,Bt);break;case ft:vt(Lt,!1),cn.setChannelActiveState("video",!1,"auto",lt.CRITICAL,Bt);break}}Zt()},onPeerConnectionDisconnected:()=>{Zt()},reset:()=>It.reset()})};tt.default=yt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(18)),it=nt(et(108)),st=()=>{const at=new rt.default;let ct=it.default.ACTIVE_VIDEO;return Object.assign(at,{setState(lt){if(!Object.values(it.default).includes(lt))throw new Error("Invalid video state: ",lt);if(lt===ct)return;const dt=ct;ct=lt,at.emit("stateChange",{state:ct,previousState:dt})},reset(){ct=it.default.ACTIVE_VIDEO}})};tt.default=st},function(_e,tt,et){var nt=et(701),rt=et(259),it=nt(function(ot,st,at){return ot+(at?" ":"")+rt(st)});_e.exports=it},function(_e,tt,et){var nt=et(702),rt=et(703),it=et(706),ot="['’]",st=RegExp(ot,"g");function at(ct){return function(lt){return nt(it(rt(lt).replace(st,"")),ct,"")}}_e.exports=at},function(_e,tt){function et(nt,rt,it,ot){var st=-1,at=nt==null?0:nt.length;for(ot&&at&&(it=nt[++st]);++st<at;)it=rt(it,nt[st],st,nt);return it}_e.exports=et},function(_e,tt,et){var nt=et(704),rt=et(59),it=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ot="\\u0300-\\u036f",st="\\ufe20-\\ufe2f",at="\\u20d0-\\u20ff",ct=ot+st+at,lt="["+ct+"]",dt=RegExp(lt,"g");function ut(ft){return ft=rt(ft),ft&&ft.replace(it,nt).replace(dt,"")}_e.exports=ut},function(_e,tt,et){var nt=et(705),rt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},it=nt(rt);_e.exports=it},function(_e,tt){function et(nt){return function(rt){return nt==null?void 0:nt[rt]}}_e.exports=et},function(_e,tt,et){var nt=et(707),rt=et(708),it=et(59),ot=et(709);function st(at,ct,lt){return at=it(at),ct=lt?void 0:ct,ct===void 0?rt(at)?ot(at):nt(at):at.match(ct)||[]}_e.exports=st},function(_e,tt){var et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function nt(rt){return rt.match(et)||[]}_e.exports=nt},function(_e,tt){var et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function nt(rt){return et.test(rt)}_e.exports=nt},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\u2700-\\u27bf",at="a-z\\xdf-\\xf6\\xf8-\\xff",ct="\\xac\\xb1\\xd7\\xf7",lt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dt="\\u2000-\\u206f",ut=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",yt=ct+lt+dt+ut,Tt="['’]",ht="["+yt+"]",gt="["+ot+"]",vt="\\d+",Ct="["+st+"]",It="["+at+"]",Zt="[^"+et+yt+vt+st+at+ft+"]",Mt="\\ud83c[\\udffb-\\udfff]",kt="(?:"+gt+"|"+Mt+")",Nt="[^"+et+"]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+ft+"]",Jt="\\u200d",Bt="(?:"+It+"|"+Zt+")",dn="(?:"+cn+"|"+Zt+")",vn="(?:"+Tt+"(?:d|ll|m|re|s|t|ve))?",Tn="(?:"+Tt+"(?:D|LL|M|RE|S|T|VE))?",pn=kt+"?",In="["+pt+"]?",Cn="(?:"+Jt+"(?:"+[Nt,Lt,Pt].join("|")+")"+In+pn+")*",yn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xn=In+pn+Cn,Hn="(?:"+[Ct,Lt,Pt].join("|")+")"+Xn,En=RegExp([cn+"?"+It+"+"+vn+"(?="+[ht,cn,"$"].join("|")+")",dn+"+"+Tn+"(?="+[ht,cn+Bt,"$"].join("|")+")",cn+"?"+Bt+"+"+vn,cn+"+"+Tn,bn,yn,vt,Hn].join("|"),"g");function Zn(Vn){return Vn.match(En)||[]}_e.exports=Zn},function(_e,tt,et){const nt=et(47),rt=et(268),it=et(315);_e.exports=ot=>{const st=nt(ot,["audioDeviceId","audioFallback","audioFallbackEnabled","audioSource","channels","classNames","constraints","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl","enableRenegotiation","enableStereo","facingMode","fitMode","frameRate","height","insertDefaultUI","insertMode","audioBitrate","maxResolution","minVideoBitrate","mirror","name","publishAudio","publishVideo","publishCaptions","resolution","scalableScreenshare","scalableVideo","showControls","style","videoContentHint","videoDeviceId","videoDimensions","videoFilter","videoSource","width"]);return st.style&&(st.style=rt(st.style)),st.videoFilter&&(st.videoFilter=it(st.videoFilter)),st}},function(_e,tt,et){const nt=et(26),rt=et(49),it=et(104),ot=et(23)();_e.exports=st=>{let at=st.publisher,ct=st.widgetView,lt=0,dt=0;const ut=new it(()=>{const ft=at.listenerCount(nt.AUDIO_LEVEL_UPDATED);if((()=>rt()-dt>1e4&&ft===0)()){ut.stop();return}const yt=ct&&ct.video();if(yt){const Tt=yt.getAudioInputLevel();lt=Tt,ft>0&&at.dispatchEvent(new ot.AudioLevelUpdatedEvent(Tt))}});Object.defineProperty(at,"loudness",{get(){return ut.start(),dt=rt(),lt},set(){throw new TypeError("Cannot set readonly property loudness")}}),at.listenerCount(nt.AUDIO_LEVEL_UPDATED)&&ut.start(),at.on("audioLevelUpdated:added",()=>{ut.start()}),at.once(nt.PUBLISHER_DESTROYED,()=>{ut.stop()})}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));_e.exports=function(st){let at=!1;return function(){var ct=(0,it.default)(rt.default.mark(function dt(){var ut,ft,pt,yt=arguments;return rt.default.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(!at){ht.next=2;break}throw new Error("The previous call to this function has not yet completed.");case 2:for(at=!0,ht.prev=3,ut=yt.length,ft=new Array(ut),pt=0;pt<ut;pt++)ft[pt]=yt[pt];return ht.next=7,st.call(this,...ft);case 7:return ht.abrupt("return",ht.sent);case 8:return ht.prev=8,at=!1,ht.finish(8);case 11:case"end":return ht.stop()}},dt,this,[[3,,8,11]])}));function lt(){return ct.apply(this,arguments)}return lt}()}},function(_e,tt,et){const nt=et(13)(),rt=et(7);_e.exports=function(ot){const st=document.createElement("canvas");if(!st.captureStream)throw nt(rt.NOT_SUPPORTED,new Error("Your browser does not support HTMLCanvasElement.captureStream()"));st.width=ot.width,st.height=ot.height,st.getContext("2d").fillRect(0,0,1,1);const at=st.captureStream().getVideoTracks(),ct=at[0];return ct.isCreatedCanvas=!0,ct.enabled=!1,ct}},function(_e,tt,et){const nt=st=>st.getSettings&&st.getSettings().deviceId,rt=st=>{let at;return st.getConstraints&&st.getConstraints().deviceId&&(at=st.getConstraints().deviceId.exact),at},it=(st,at)=>{let ct;if(at&&at.length){const lt=at.find(dt=>dt.label===st.label);lt&&(ct=lt.deviceId)}return ct},ot=(st,at)=>nt(st)||rt(st)||it(st,at);_e.exports=(st,at)=>{if(!st)return null;const ct=st.getVideoTracks(),lt=ct[0];return lt?ot(lt,at):null}},function(_e,tt,et){const nt=et(7),rt=et(10),it=et(13)();_e.exports=ot=>{const st=["403","404","409"],at=String(ot.code);return at==="405"&&ot.message==="IncompatibleEncryptionSettings"?it(nt.STREAM_CREATE_FAILED,new Error("IncompatibleEncryptionSettings: Tried to publish a stream to an encrypted session without enabling encryption"),rt.UNABLE_TO_PUBLISH):st.includes(at)?it(nt.STREAM_CREATE_FAILED,new Error(`Failed to create stream in server model: ${ot.message}`),rt.UNABLE_TO_PUBLISH):it(nt.UNEXPECTED_SERVER_RESPONSE,new Error(`Unexpected server response: ${ot.message}`),rt.UNEXPECTED_SERVER_RESPONSE)}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(2),st=et(316),at=et(718),ct=et(1)("MediaProcessor"),lt=et(101),dt=lt.getProxyUrl;function ut(ft){var pt=this;ft===void 0&&(ft={});const yt=ft,Tt=yt.ML,ht=Tt===void 0?st:Tt,gt=yt.MediaTransform,vt=gt===void 0?at:gt,Ct=yt.getProxyUrl,It=Ct===void 0?dt:Ct;let Zt,Mt,kt,Nt;this.isValidVideoFilter=Lt=>{const Pt=Lt.type;return vt.isSupported(Pt)&&vt.isValidConfig(Lt)},this.canUpdateVideoFilter=Lt=>["backgroundBlur","backgroundReplacement"].includes(Lt),this.updateVideoFilter=function(){var Lt=(0,it.default)(rt.default.mark(function Pt(cn){var Jt,Bt,dn;return rt.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:if(Jt=cn.type,pt.canUpdateVideoFilter(Jt)){Tn.next=4;break}return ct.warn(`Ignoring: filter "${Jt}" doesn't support real-time updates`),Tn.abrupt("return");case 4:return Bt=vt.getConfigurator(Jt),dn=Bt.getConfig(Object.assign({proxyUrl:It()},cn)),Tn.next=8,Mt.setBackgroundOptions(dn);case 8:kt=cn;case 9:case"end":return Tn.stop()}},Pt)}));return function(Pt){return Lt.apply(this,arguments)}}(),this.setVideoFilter=function(){var Lt=(0,it.default)(rt.default.mark(function Pt(cn){var Jt,Bt,dn,vn;return rt.default.wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:if(Jt=cn.type,Bt=vt.getConfigurator(Jt),Bt){pn.next=5;break}return ct.warn(`Ignoring: filter "${Jt}" isn't supported`),pn.abrupt("return");case 5:if(dn=Bt.getConfig(Object.assign({proxyUrl:It()},cn)),dn){pn.next=9;break}return ct.warn(`Ignoring: couldn't configure filter ${Jt}`),pn.abrupt("return");case 9:if(vn=!!pt.getVideoFilter(),!vn){pn.next=20;break}return pn.prev=11,pn.next=14,pt.destroy();case 14:pn.next=20;break;case 16:return pn.prev=16,pn.t0=pn.catch(11),ct.warn(`Ignoring, couldn't remove previous filter: ${pn.t0}`),pn.abrupt("return");case 20:return pn.next=22,ht.createProcessor(dn);case 22:return Mt=pn.sent,pn.next=25,Mt.getConnector();case 25:Zt=pn.sent,kt=cn;case 27:case"end":return pn.stop()}},Pt,null,[[11,16]])}));return function(Pt){return Lt.apply(this,arguments)}}(),this.getVideoFilter=()=>kt,this.getOriginalVideoTrack=()=>Nt,this.setMediaStream=function(){var Lt=(0,it.default)(rt.default.mark(function Pt(cn){var Jt,Bt,dn;return rt.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:if(Jt=cn.getVideoTracks(),Bt=Jt[0],Bt){Tn.next=4;break}return ct.warn("Ignoring. No video track found"),Tn.abrupt("return",null);case 4:return dn=null,Tn.prev=5,Tn.next=8,Zt.setTrack(Bt);case 8:dn=Tn.sent,Nt=Bt,Tn.next=15;break;case 12:Tn.prev=12,Tn.t0=Tn.catch(5),ct.error(`Error setting media stream: ${Tn.t0}`);case 15:return Tn.abrupt("return",dn);case 16:case"end":return Tn.stop()}},Pt,null,[[5,12]])}));return function(Pt){return Lt.apply(this,arguments)}}(),this.setVideoTrack=function(){var Lt=(0,it.default)(rt.default.mark(function Pt(cn){var Jt;return rt.default.wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:return Jt=null,dn.prev=1,dn.next=4,Zt.setTrack(cn);case 4:Jt=dn.sent,Nt=cn,dn.next=11;break;case 8:dn.prev=8,dn.t0=dn.catch(1),ct.error(`Error setting video track: ${dn.t0}`);case 11:return dn.abrupt("return",Jt);case 12:case"end":return dn.stop()}},Pt,null,[[1,8]])}));return function(Pt){return Lt.apply(this,arguments)}}(),this._setConnector=Lt=>{Zt=Lt},this.destroy=(0,it.default)(rt.default.mark(function Lt(){return rt.default.wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:return cn.prev=0,cn.next=3,Zt.destroy();case 3:cn.next=8;break;case 5:cn.prev=5,cn.t0=cn.catch(0),ct.warn(`Error destroying connector: ${cn.t0}`);case 8:Zt=null,kt=null,Nt=null;case 11:case"end":return cn.stop()}},Lt,null,[[0,5]])})),this.enableLogging=Lt=>{if(!Lt){ct.warn("Error enabling logging: invalid API key");return}const Pt={appId:Lt,sourceType:"video"},cn=It();cn&&(Pt.proxyUrl=cn),ht.setMetadata(Pt)},this.disableLogging=()=>{ht.setMetadata()}}ut.isSupported=function(ft){ft===void 0&&(ft={});const pt=ft,yt=pt.env,Tt=yt===void 0?ot:yt,ht=pt.ML,gt=ht===void 0?st:ht;return!!Tt.isChromium&&gt.isSupported()},_e.exports=ut},function(_e,tt,et){et.r(tt),function(nt,rt){et.d(tt,"ErrorFunction",function(){return tm}),et.d(tt,"MediaProcessor",function(){return Em}),et.d(tt,"MediaProcessorConnector",function(){return _d}),et.d(tt,"PipelineInfoData",function(){return dm}),et.d(tt,"VonageSourceType",function(){return Nr}),et.d(tt,"WarningType",function(){return Up}),et.d(tt,"getVonageMetadata",function(){return Go}),et.d(tt,"isSupported",function(){return it}),et.d(tt,"setVonageMetadata",function(){return jr});function it(){return new nt((zn,sn)=>{typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?sn("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):zn()})}class ot{}ot.updates={transformer_new:"New transformer",transformer_null:"Null transformer"},ot.errors={transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"};var st={exports:{}},at=function(sn,jn){return function(){for(var fr=new Array(arguments.length),co=0;co<fr.length;co++)fr[co]=arguments[co];return sn.apply(jn,fr)}},ct=at,lt=Object.prototype.toString;function dt(zn){return Array.isArray(zn)}function ut(zn){return typeof zn>"u"}function ft(zn){return zn!==null&&!ut(zn)&&zn.constructor!==null&&!ut(zn.constructor)&&typeof zn.constructor.isBuffer=="function"&&zn.constructor.isBuffer(zn)}function pt(zn){return lt.call(zn)==="[object ArrayBuffer]"}function yt(zn){return lt.call(zn)==="[object FormData]"}function Tt(zn){var sn;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?sn=ArrayBuffer.isView(zn):sn=zn&&zn.buffer&&pt(zn.buffer),sn}function ht(zn){return typeof zn=="string"}function gt(zn){return typeof zn=="number"}function vt(zn){return zn!==null&&typeof zn=="object"}function Ct(zn){if(lt.call(zn)!=="[object Object]")return!1;var sn=Object.getPrototypeOf(zn);return sn===null||sn===Object.prototype}function It(zn){return lt.call(zn)==="[object Date]"}function Zt(zn){return lt.call(zn)==="[object File]"}function Mt(zn){return lt.call(zn)==="[object Blob]"}function kt(zn){return lt.call(zn)==="[object Function]"}function Nt(zn){return vt(zn)&&kt(zn.pipe)}function Lt(zn){return lt.call(zn)==="[object URLSearchParams]"}function Pt(zn){return zn.trim?zn.trim():zn.replace(/^\s+|\s+$/g,"")}function cn(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Jt(zn,sn){if(!(zn===null||typeof zn>"u"))if(typeof zn!="object"&&(zn=[zn]),dt(zn))for(var jn=0,dr=zn.length;jn<dr;jn++)sn.call(null,zn[jn],jn,zn);else for(var fr in zn)Object.prototype.hasOwnProperty.call(zn,fr)&&sn.call(null,zn[fr],fr,zn)}function Bt(){var zn={};function sn(fr,co){Ct(zn[co])&&Ct(fr)?zn[co]=Bt(zn[co],fr):Ct(fr)?zn[co]=Bt({},fr):dt(fr)?zn[co]=fr.slice():zn[co]=fr}for(var jn=0,dr=arguments.length;jn<dr;jn++)Jt(arguments[jn],sn);return zn}function dn(zn,sn,jn){return Jt(sn,function(fr,co){jn&&typeof fr=="function"?zn[co]=ct(fr,jn):zn[co]=fr}),zn}function vn(zn){return zn.charCodeAt(0)===65279&&(zn=zn.slice(1)),zn}var Tn={isArray:dt,isArrayBuffer:pt,isBuffer:ft,isFormData:yt,isArrayBufferView:Tt,isString:ht,isNumber:gt,isObject:vt,isPlainObject:Ct,isUndefined:ut,isDate:It,isFile:Zt,isBlob:Mt,isFunction:kt,isStream:Nt,isURLSearchParams:Lt,isStandardBrowserEnv:cn,forEach:Jt,merge:Bt,extend:dn,trim:Pt,stripBOM:vn},pn=Tn;function In(zn){return encodeURIComponent(zn).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Cn=function(sn,jn,dr){if(!jn)return sn;var fr;if(dr)fr=dr(jn);else if(pn.isURLSearchParams(jn))fr=jn.toString();else{var co=[];pn.forEach(jn,function(bo,Eu){bo===null||typeof bo>"u"||(pn.isArray(bo)?Eu=Eu+"[]":bo=[bo],pn.forEach(bo,function(Ul){pn.isDate(Ul)?Ul=Ul.toISOString():pn.isObject(Ul)&&(Ul=JSON.stringify(Ul)),co.push(In(Eu)+"="+In(Ul))}))}),fr=co.join("&")}if(fr){var uo=sn.indexOf("#");uo!==-1&&(sn=sn.slice(0,uo)),sn+=(sn.indexOf("?")===-1?"?":"&")+fr}return sn},yn=Tn;function bn(){this.handlers=[]}bn.prototype.use=function(sn,jn,dr){return this.handlers.push({fulfilled:sn,rejected:jn,synchronous:dr?dr.synchronous:!1,runWhen:dr?dr.runWhen:null}),this.handlers.length-1},bn.prototype.eject=function(sn){this.handlers[sn]&&(this.handlers[sn]=null)},bn.prototype.forEach=function(sn){yn.forEach(this.handlers,function(dr){dr!==null&&sn(dr)})};var Xn=bn,Hn=Tn,En=function(sn,jn){Hn.forEach(sn,function(fr,co){co!==jn&&co.toUpperCase()===jn.toUpperCase()&&(sn[jn]=fr,delete sn[co])})},Zn=function(sn,jn,dr,fr,co){return sn.config=jn,dr&&(sn.code=dr),sn.request=fr,sn.response=co,sn.isAxiosError=!0,sn.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},sn},Vn=Zn,rr=function(sn,jn,dr,fr,co){var uo=new Error(sn);return Vn(uo,jn,dr,fr,co)},gr=rr,cr=function(sn,jn,dr){var fr=dr.config.validateStatus;!dr.status||!fr||fr(dr.status)?sn(dr):jn(gr("Request failed with status code "+dr.status,dr.config,null,dr.request,dr))},sr=Tn,Or=sr.isStandardBrowserEnv()?function(){return{write:function(jn,dr,fr,co,uo,Eo){var bo=[];bo.push(jn+"="+encodeURIComponent(dr)),sr.isNumber(fr)&&bo.push("expires="+new Date(fr).toGMTString()),sr.isString(co)&&bo.push("path="+co),sr.isString(uo)&&bo.push("domain="+uo),Eo===!0&&bo.push("secure"),document.cookie=bo.join("; ")},read:function(jn){var dr=document.cookie.match(new RegExp("(^|;\\s*)("+jn+")=([^;]*)"));return dr?decodeURIComponent(dr[3]):null},remove:function(jn){this.write(jn,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Rr=function(sn){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(sn)},Yr=function(sn,jn){return jn?sn.replace(/\/+$/,"")+"/"+jn.replace(/^\/+/,""):sn},Fr=Rr,Qr=Yr,vo=function(sn,jn){return sn&&!Fr(jn)?Qr(sn,jn):jn},Lr=Tn,Pr=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],qn=function(sn){var jn={},dr,fr,co;return sn&&Lr.forEach(sn.split(`
`),function(Eo){if(co=Eo.indexOf(":"),dr=Lr.trim(Eo.substr(0,co)).toLowerCase(),fr=Lr.trim(Eo.substr(co+1)),dr){if(jn[dr]&&Pr.indexOf(dr)>=0)return;dr==="set-cookie"?jn[dr]=(jn[dr]?jn[dr]:[]).concat([fr]):jn[dr]=jn[dr]?jn[dr]+", "+fr:fr}}),jn},Yn=Tn,vr=Yn.isStandardBrowserEnv()?function(){var sn=/(msie|trident)/i.test(navigator.userAgent),jn=document.createElement("a"),dr;function fr(co){var uo=co;return sn&&(jn.setAttribute("href",uo),uo=jn.href),jn.setAttribute("href",uo),{href:jn.href,protocol:jn.protocol?jn.protocol.replace(/:$/,""):"",host:jn.host,search:jn.search?jn.search.replace(/^\?/,""):"",hash:jn.hash?jn.hash.replace(/^#/,""):"",hostname:jn.hostname,port:jn.port,pathname:jn.pathname.charAt(0)==="/"?jn.pathname:"/"+jn.pathname}}return dr=fr(window.location.href),function(uo){var Eo=Yn.isString(uo)?fr(uo):uo;return Eo.protocol===dr.protocol&&Eo.host===dr.host}}():function(){return function(){return!0}}();function Dr(zn){this.message=zn}Dr.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Dr.prototype.__CANCEL__=!0;var ho=Dr,er=Tn,Ir=cr,Wr=Or,mo=Cn,Jr=vo,To=qn,wo=vr,xo=rr,ro=Ns,Ho=ho,Oo=function(sn){return new nt(function(dr,fr){var co=sn.data,uo=sn.headers,Eo=sn.responseType,bo;function Eu(){sn.cancelToken&&sn.cancelToken.unsubscribe(bo),sn.signal&&sn.signal.removeEventListener("abort",bo)}er.isFormData(co)&&delete uo["Content-Type"];var Xo=new XMLHttpRequest;if(sn.auth){var Ul=sn.auth.username||"",zp=sn.auth.password?unescape(encodeURIComponent(sn.auth.password)):"";uo.Authorization="Basic "+btoa(Ul+":"+zp)}var Au=Jr(sn.baseURL,sn.url);Xo.open(sn.method.toUpperCase(),mo(Au,sn.params,sn.paramsSerializer),!0),Xo.timeout=sn.timeout;function $p(){if(Xo){var Gu="getAllResponseHeaders"in Xo?To(Xo.getAllResponseHeaders()):null,gp=!Eo||Eo==="text"||Eo==="json"?Xo.responseText:Xo.response,Zp={data:gp,status:Xo.status,statusText:Xo.statusText,headers:Gu,config:sn,request:Xo};Ir(function(nm){dr(nm),Eu()},function(nm){fr(nm),Eu()},Zp),Xo=null}}if("onloadend"in Xo?Xo.onloadend=$p:Xo.onreadystatechange=function(){!Xo||Xo.readyState!==4||Xo.status===0&&!(Xo.responseURL&&Xo.responseURL.indexOf("file:")===0)||setTimeout($p)},Xo.onabort=function(){Xo&&(fr(xo("Request aborted",sn,"ECONNABORTED",Xo)),Xo=null)},Xo.onerror=function(){fr(xo("Network Error",sn,null,Xo)),Xo=null},Xo.ontimeout=function(){var gp=sn.timeout?"timeout of "+sn.timeout+"ms exceeded":"timeout exceeded",Zp=sn.transitional||ro.transitional;sn.timeoutErrorMessage&&(gp=sn.timeoutErrorMessage),fr(xo(gp,sn,Zp.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Xo)),Xo=null},er.isStandardBrowserEnv()){var Wu=(sn.withCredentials||wo(Au))&&sn.xsrfCookieName?Wr.read(sn.xsrfCookieName):void 0;Wu&&(uo[sn.xsrfHeaderName]=Wu)}"setRequestHeader"in Xo&&er.forEach(uo,function(gp,Zp){typeof co>"u"&&Zp.toLowerCase()==="content-type"?delete uo[Zp]:Xo.setRequestHeader(Zp,gp)}),er.isUndefined(sn.withCredentials)||(Xo.withCredentials=!!sn.withCredentials),Eo&&Eo!=="json"&&(Xo.responseType=sn.responseType),typeof sn.onDownloadProgress=="function"&&Xo.addEventListener("progress",sn.onDownloadProgress),typeof sn.onUploadProgress=="function"&&Xo.upload&&Xo.upload.addEventListener("progress",sn.onUploadProgress),(sn.cancelToken||sn.signal)&&(bo=function(Gu){Xo&&(fr(!Gu||Gu&&Gu.type?new Ho("canceled"):Gu),Xo.abort(),Xo=null)},sn.cancelToken&&sn.cancelToken.subscribe(bo),sn.signal&&(sn.signal.aborted?bo():sn.signal.addEventListener("abort",bo))),co||(co=null),Xo.send(co)})},Do=Tn,so=En,Nu=Zn,_o={"Content-Type":"application/x-www-form-urlencoded"};function ko(zn,sn){!Do.isUndefined(zn)&&Do.isUndefined(zn["Content-Type"])&&(zn["Content-Type"]=sn)}function ls(){var zn;return(typeof XMLHttpRequest<"u"||typeof rt<"u"&&Object.prototype.toString.call(rt)==="[object process]")&&(zn=Oo),zn}function _s(zn,sn,jn){if(Do.isString(zn))try{return(sn||JSON.parse)(zn),Do.trim(zn)}catch(dr){if(dr.name!=="SyntaxError")throw dr}return(jn||JSON.stringify)(zn)}var cu={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:ls(),transformRequest:[function(sn,jn){return so(jn,"Accept"),so(jn,"Content-Type"),Do.isFormData(sn)||Do.isArrayBuffer(sn)||Do.isBuffer(sn)||Do.isStream(sn)||Do.isFile(sn)||Do.isBlob(sn)?sn:Do.isArrayBufferView(sn)?sn.buffer:Do.isURLSearchParams(sn)?(ko(jn,"application/x-www-form-urlencoded;charset=utf-8"),sn.toString()):Do.isObject(sn)||jn&&jn["Content-Type"]==="application/json"?(ko(jn,"application/json"),_s(sn)):sn}],transformResponse:[function(sn){var jn=this.transitional||cu.transitional,dr=jn&&jn.silentJSONParsing,fr=jn&&jn.forcedJSONParsing,co=!dr&&this.responseType==="json";if(co||fr&&Do.isString(sn)&&sn.length)try{return JSON.parse(sn)}catch(uo){if(co)throw uo.name==="SyntaxError"?Nu(uo,this,"E_JSON_PARSE"):uo}return sn}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(sn){return sn>=200&&sn<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Do.forEach(["delete","get","head"],function(sn){cu.headers[sn]={}}),Do.forEach(["post","put","patch"],function(sn){cu.headers[sn]=Do.merge(_o)});var Ns=cu,Rl=Tn,Pu=Ns,Hu=function(sn,jn,dr){var fr=this||Pu;return Rl.forEach(dr,function(uo){sn=uo.call(fr,sn,jn)}),sn},qp=function(sn){return!!(sn&&sn.__CANCEL__)},ip=Tn,op=Hu,oo=qp,yl=Ns,vu=ho;function Ys(zn){if(zn.cancelToken&&zn.cancelToken.throwIfRequested(),zn.signal&&zn.signal.aborted)throw new vu("canceled")}var Ll=function(sn){Ys(sn),sn.headers=sn.headers||{},sn.data=op.call(sn,sn.data,sn.headers,sn.transformRequest),sn.headers=ip.merge(sn.headers.common||{},sn.headers[sn.method]||{},sn.headers),ip.forEach(["delete","get","head","post","put","patch","common"],function(fr){delete sn.headers[fr]});var jn=sn.adapter||yl.adapter;return jn(sn).then(function(fr){return Ys(sn),fr.data=op.call(sn,fr.data,fr.headers,sn.transformResponse),fr},function(fr){return oo(fr)||(Ys(sn),fr&&fr.response&&(fr.response.data=op.call(sn,fr.response.data,fr.response.headers,sn.transformResponse))),nt.reject(fr)})},_r=Tn,_a=function(sn,jn){jn=jn||{};var dr={};function fr(Xo,Ul){return _r.isPlainObject(Xo)&&_r.isPlainObject(Ul)?_r.merge(Xo,Ul):_r.isPlainObject(Ul)?_r.merge({},Ul):_r.isArray(Ul)?Ul.slice():Ul}function co(Xo){if(_r.isUndefined(jn[Xo])){if(!_r.isUndefined(sn[Xo]))return fr(void 0,sn[Xo])}else return fr(sn[Xo],jn[Xo])}function uo(Xo){if(!_r.isUndefined(jn[Xo]))return fr(void 0,jn[Xo])}function Eo(Xo){if(_r.isUndefined(jn[Xo])){if(!_r.isUndefined(sn[Xo]))return fr(void 0,sn[Xo])}else return fr(void 0,jn[Xo])}function bo(Xo){if(Xo in jn)return fr(sn[Xo],jn[Xo]);if(Xo in sn)return fr(void 0,sn[Xo])}var Eu={url:uo,method:uo,data:uo,baseURL:Eo,transformRequest:Eo,transformResponse:Eo,paramsSerializer:Eo,timeout:Eo,timeoutMessage:Eo,withCredentials:Eo,adapter:Eo,responseType:Eo,xsrfCookieName:Eo,xsrfHeaderName:Eo,onUploadProgress:Eo,onDownloadProgress:Eo,decompress:Eo,maxContentLength:Eo,maxBodyLength:Eo,transport:Eo,httpAgent:Eo,httpsAgent:Eo,cancelToken:Eo,socketPath:Eo,responseEncoding:Eo,validateStatus:bo};return _r.forEach(Object.keys(sn).concat(Object.keys(jn)),function(Ul){var zp=Eu[Ul]||co,Au=zp(Ul);_r.isUndefined(Au)&&zp!==bo||(dr[Ul]=Au)}),dr},_h={version:"0.25.0"},yu=_h.version,bu={};["object","boolean","number","function","string","symbol"].forEach(function(zn,sn){bu[zn]=function(dr){return typeof dr===zn||"a"+(sn<1?"n ":" ")+zn}});var us={};bu.transitional=function(sn,jn,dr){function fr(co,uo){return"[Axios v"+yu+"] Transitional option '"+co+"'"+uo+(dr?". "+dr:"")}return function(co,uo,Eo){if(sn===!1)throw new Error(fr(uo," has been removed"+(jn?" in "+jn:"")));return jn&&!us[uo]&&(us[uo]=!0,console.warn(fr(uo," has been deprecated since v"+jn+" and will be removed in the near future"))),sn?sn(co,uo,Eo):!0}};function Yl(zn,sn,jn){if(typeof zn!="object")throw new TypeError("options must be an object");for(var dr=Object.keys(zn),fr=dr.length;fr-- >0;){var co=dr[fr],uo=sn[co];if(uo){var Eo=zn[co],bo=Eo===void 0||uo(Eo,co,zn);if(bo!==!0)throw new TypeError("option "+co+" must be "+bo);continue}if(jn!==!0)throw Error("Unknown option "+co)}}var ds={assertOptions:Yl,validators:bu},_u=Tn,Sp=Cn,Il=Xn,dp=Ll,sp=_a,Cl=ds,ts=Cl.validators;function lu(zn){this.defaults=zn,this.interceptors={request:new Il,response:new Il}}lu.prototype.request=function(sn,jn){if(typeof sn=="string"?(jn=jn||{},jn.url=sn):jn=sn||{},!jn.url)throw new Error("Provided config url is not valid");jn=sp(this.defaults,jn),jn.method?jn.method=jn.method.toLowerCase():this.defaults.method?jn.method=this.defaults.method.toLowerCase():jn.method="get";var dr=jn.transitional;dr!==void 0&&Cl.assertOptions(dr,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1);var fr=[],co=!0;this.interceptors.request.forEach(function(Au){typeof Au.runWhen=="function"&&Au.runWhen(jn)===!1||(co=co&&Au.synchronous,fr.unshift(Au.fulfilled,Au.rejected))});var uo=[];this.interceptors.response.forEach(function(Au){uo.push(Au.fulfilled,Au.rejected)});var Eo;if(!co){var bo=[dp,void 0];for(Array.prototype.unshift.apply(bo,fr),bo=bo.concat(uo),Eo=nt.resolve(jn);bo.length;)Eo=Eo.then(bo.shift(),bo.shift());return Eo}for(var Eu=jn;fr.length;){var Xo=fr.shift(),Ul=fr.shift();try{Eu=Xo(Eu)}catch(zp){Ul(zp);break}}try{Eo=dp(Eu)}catch(zp){return nt.reject(zp)}for(;uo.length;)Eo=Eo.then(uo.shift(),uo.shift());return Eo},lu.prototype.getUri=function(sn){if(!sn.url)throw new Error("Provided config url is not valid");return sn=sp(this.defaults,sn),Sp(sn.url,sn.params,sn.paramsSerializer).replace(/^\?/,"")},_u.forEach(["delete","get","head","options"],function(sn){lu.prototype[sn]=function(jn,dr){return this.request(sp(dr||{},{method:sn,url:jn,data:(dr||{}).data}))}}),_u.forEach(["post","put","patch"],function(sn){lu.prototype[sn]=function(jn,dr,fr){return this.request(sp(fr||{},{method:sn,url:jn,data:dr}))}});var Ro=lu,fp=ho;function Mu(zn){if(typeof zn!="function")throw new TypeError("executor must be a function.");var sn;this.promise=new nt(function(fr){sn=fr});var jn=this;this.promise.then(function(dr){if(jn._listeners){var fr,co=jn._listeners.length;for(fr=0;fr<co;fr++)jn._listeners[fr](dr);jn._listeners=null}}),this.promise.then=function(dr){var fr,co=new nt(function(uo){jn.subscribe(uo),fr=uo}).then(dr);return co.cancel=function(){jn.unsubscribe(fr)},co},zn(function(fr){jn.reason||(jn.reason=new fp(fr),sn(jn.reason))})}Mu.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Mu.prototype.subscribe=function(sn){if(this.reason){sn(this.reason);return}this._listeners?this._listeners.push(sn):this._listeners=[sn]},Mu.prototype.unsubscribe=function(sn){if(this._listeners){var jn=this._listeners.indexOf(sn);jn!==-1&&this._listeners.splice(jn,1)}},Mu.source=function(){var sn,jn=new Mu(function(fr){sn=fr});return{token:jn,cancel:sn}};var Wp=Mu,ws=function(sn){return function(dr){return sn.apply(null,dr)}},Gp=Tn,om=function(sn){return Gp.isObject(sn)&&sn.isAxiosError===!0},Fp=Tn,Op=at,em=Ro,pp=_a,Su=Ns;function Yu(zn){var sn=new em(zn),jn=Op(em.prototype.request,sn);return Fp.extend(jn,em.prototype,sn),Fp.extend(jn,sn),jn.create=function(fr){return Yu(pp(zn,fr))},jn}var Ql=Yu(Su);Ql.Axios=em,Ql.Cancel=ho,Ql.CancelToken=Wp,Ql.isCancel=qp,Ql.VERSION=_h.version,Ql.all=function(sn){return nt.all(sn)},Ql.spread=ws,Ql.isAxiosError=om,st.exports=Ql,st.exports.default=Ql;var Hp=st.exports;class or{isEmpty(){return!this.isPresent()}static of(sn){if(sn!=null)return new Wn(sn);throw new TypeError("The passed value was null or undefined.")}static ofNonNull(sn){return or.of(sn)}static ofNullable(sn){return sn!=null?new Wn(sn):new Bn}static empty(){return new Bn}static from(sn){switch(sn.kind){case"present":return or.of(sn.value);case"empty":return or.empty();default:throw new TypeError("The passed value was not an Option type.")}}}class Wn extends or{constructor(sn){super(),this.payload=sn}isPresent(){return!0}get(){return this.payload}ifPresent(sn){sn(this.payload)}ifPresentOrElse(sn,jn){sn(this.payload)}filter(sn){return sn(this.payload)?this:or.empty()}map(sn){const jn=sn(this.payload);return or.ofNullable(jn)}flatMap(sn){return sn(this.payload)}or(sn){return this}orElse(sn){return this.payload}orElseGet(sn){return this.payload}orElseThrow(sn){return this.payload}orNull(){return this.payload}orUndefined(){return this.payload}toOption(){return{kind:"present",value:this.payload}}matches(sn){return sn.present(this.payload)}toJSON(sn){return this.payload}}class Bn extends or{isPresent(){return!1}constructor(){super()}get(){throw new TypeError("The optional is not present.")}ifPresent(sn){}ifPresentOrElse(sn,jn){jn()}filter(sn){return this}map(sn){return or.empty()}flatMap(sn){return or.empty()}or(sn){return sn()}orElse(sn){return sn}orElseGet(sn){return this.orElse(sn())}orElseThrow(sn){throw sn()}orNull(){return null}orUndefined(){}toOption(){return{kind:"empty"}}matches(sn){return sn.empty()}toJSON(sn){return null}}const ur="2.0.0";var Nr=(zn=>(zn.automation="automation",zn.test="test",zn.vbc="vbc",zn.video="video",zn.voice="voice",zn))(Nr||{});function jr(zn){globalThis._vonageMediaProcessorMetadata=zn}function Go(){return globalThis._vonageMediaProcessorMetadata}class Yo{constructor(){const sn=Go();this._report={action:or.empty(),applicationId:or.ofNullable(sn!==void 0&&sn!=null?sn.appId:null),timestamp:Date.now(),fps:or.empty(),framesTransformed:or.empty(),guid:or.empty(),highestFrameTransformCpu:or.empty(),message:or.empty(),source:or.ofNullable(sn!==void 0&&sn!=null?sn.sourceType:null),transformedFps:or.empty(),transformerType:or.empty(),variation:or.empty(),videoHeight:or.empty(),videoWidth:or.empty(),version:ur,error:or.empty(),proxyUrl:or.ofNullable(sn!==void 0&&sn!=null?sn.proxyUrl:null)}}action(sn){return this._report.action=or.ofNullable(sn),this}framesTransformed(sn){return this._report.framesTransformed=or.ofNullable(sn),this}fps(sn){return this._report.fps=or.ofNullable(sn),this}guid(sn){return this._report.guid=or.ofNullable(sn),this}message(sn){return this._report.message=or.ofNullable(sn),this}transformedFps(sn){return this._report.transformedFps=or.ofNullable(sn),this}transformerType(sn){return this._report.transformerType=or.ofNullable(sn),this}variation(sn){return this._report.variation=or.ofNullable(sn),this}videoHeight(sn){return this._report.videoHeight=or.ofNullable(sn),this}videoWidth(sn){return this._report.videoWidth=or.ofNullable(sn),this}error(sn){return this._report.error=or.ofNullable(sn),this}build(){return this._report}}const Ws=zn=>JSON.stringify(zn,(sn,jn)=>{if(jn!==null)return jn});class ps{static report(sn){return new nt((jn,dr)=>{if(sn.applicationId.isEmpty()||sn.source.isEmpty()){jn("success");return}let fr=Hp.create(),co={timeout:1e4,timeoutErrorMessage:"Request timeout",headers:{"Content-Type":"application/json"}},uo="hlg.tokbox.com/prod/logging/vcp_webrtc";if(sn.proxyUrl.isEmpty())uo="https://"+uo;else{let Eo;sn.proxyUrl.get().slice(sn.proxyUrl.get().length-1)!=="/"?Eo=sn.proxyUrl.get()+"/":Eo=sn.proxyUrl.get(),uo=Eo+uo}fr.post(uo,Ws(sn),co).then(Eo=>{console.log(Eo),jn("success")}).catch(Eo=>{console.log(Eo),dr(Eo)})})}}var Es,Ds=new Uint8Array(16);function _c(){if(!Es&&(Es=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Es))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Es(Ds)}var Dp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zs(zn){return typeof zn=="string"&&Dp.test(zn)}for(var zl=[],qs=0;qs<256;++qs)zl.push((qs+256).toString(16).substr(1));function uu(zn){var sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,jn=(zl[zn[sn+0]]+zl[zn[sn+1]]+zl[zn[sn+2]]+zl[zn[sn+3]]+"-"+zl[zn[sn+4]]+zl[zn[sn+5]]+"-"+zl[zn[sn+6]]+zl[zn[sn+7]]+"-"+zl[zn[sn+8]]+zl[zn[sn+9]]+"-"+zl[zn[sn+10]]+zl[zn[sn+11]]+zl[zn[sn+12]]+zl[zn[sn+13]]+zl[zn[sn+14]]+zl[zn[sn+15]]).toLowerCase();if(!zs(jn))throw TypeError("Stringified UUID is invalid");return jn}function Lp(zn,sn,jn){zn=zn||{};var dr=zn.random||(zn.rng||_c)();if(dr[6]=dr[6]&15|64,dr[8]=dr[8]&63|128,sn){jn=jn||0;for(var fr=0;fr<16;++fr)sn[jn+fr]=dr[fr];return sn}return uu(dr)}const hp=new WeakMap,lm=new WeakMap,Sl=new WeakMap,qu=Symbol("anyProducer"),mp=nt.resolve(),jp=Symbol("listenerAdded"),Ou=Symbol("listenerRemoved");let Ep=!1;function $l(zn){if(typeof zn!="string"&&typeof zn!="symbol")throw new TypeError("eventName must be a string or a symbol")}function So(zn){if(typeof zn!="function")throw new TypeError("listener must be a function")}function cs(zn,sn){const jn=lm.get(zn);return jn.has(sn)||jn.set(sn,new Set),jn.get(sn)}function Cp(zn,sn){const jn=typeof sn=="string"||typeof sn=="symbol"?sn:qu,dr=Sl.get(zn);return dr.has(jn)||dr.set(jn,new Set),dr.get(jn)}function lo(zn,sn,jn){const dr=Sl.get(zn);if(dr.has(sn))for(const fr of dr.get(sn))fr.enqueue(jn);if(dr.has(qu)){const fr=nt.all([sn,jn]);for(const co of dr.get(qu))co.enqueue(fr)}}function sm(zn,sn){sn=Array.isArray(sn)?sn:[sn];let jn=!1,dr=()=>{},fr=[];const co={enqueue(uo){fr.push(uo),dr()},finish(){jn=!0,dr()}};for(const uo of sn)Cp(zn,uo).add(co);return{async next(){return fr?fr.length===0?jn?(fr=void 0,this.next()):(await new nt(uo=>{dr=uo}),this.next()):{done:!1,value:await fr.shift()}:{done:!0}},async return(uo){fr=void 0;for(const Eo of sn)Cp(zn,Eo).delete(co);return dr(),arguments.length>0?{done:!0,value:await uo}:{done:!0}},[Symbol.asyncIterator](){return this}}}function xa(zn){if(zn===void 0)return jo;if(!Array.isArray(zn))throw new TypeError("`methodNames` must be an array of strings");for(const sn of zn)if(!jo.includes(sn))throw typeof sn!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${sn} is not Emittery method`);return zn}const Tp=zn=>zn===jp||zn===Ou;class Xp{static mixin(sn,jn){return jn=xa(jn),dr=>{if(typeof dr!="function")throw new TypeError("`target` must be function");for(const uo of jn)if(dr.prototype[uo]!==void 0)throw new Error(`The property \`${uo}\` already exists on \`target\``);function fr(){return Object.defineProperty(this,sn,{enumerable:!1,value:new Xp}),this[sn]}Object.defineProperty(dr.prototype,sn,{enumerable:!1,get:fr});const co=uo=>function(...Eo){return this[sn][uo](...Eo)};for(const uo of jn)Object.defineProperty(dr.prototype,uo,{enumerable:!1,value:co(uo)});return dr}}static get isDebugEnabled(){if(typeof rt!="object")return Ep;const{env:sn}=rt||{env:{}};return sn.DEBUG==="emittery"||sn.DEBUG==="*"||Ep}static set isDebugEnabled(sn){Ep=sn}constructor(sn={}){hp.set(this,new Set),lm.set(this,new Map),Sl.set(this,new Map),this.debug=sn.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(jn,dr,fr,co)=>{co=JSON.stringify(co),typeof fr=="symbol"&&(fr=fr.toString());const uo=new Date,Eo=`${uo.getHours()}:${uo.getMinutes()}:${uo.getSeconds()}.${uo.getMilliseconds()}`;console.log(`[${Eo}][emittery:${jn}][${dr}] Event Name: ${fr}
	data: ${co}`)})}logIfDebugEnabled(sn,jn,dr){(Xp.isDebugEnabled||this.debug.enabled)&&this.debug.logger(sn,this.debug.name,jn,dr)}on(sn,jn){So(jn),sn=Array.isArray(sn)?sn:[sn];for(const dr of sn)$l(dr),cs(this,dr).add(jn),this.logIfDebugEnabled("subscribe",dr,void 0),Tp(dr)||this.emit(jp,{eventName:dr,listener:jn});return this.off.bind(this,sn,jn)}off(sn,jn){So(jn),sn=Array.isArray(sn)?sn:[sn];for(const dr of sn)$l(dr),cs(this,dr).delete(jn),this.logIfDebugEnabled("unsubscribe",dr,void 0),Tp(dr)||this.emit(Ou,{eventName:dr,listener:jn})}once(sn){return new nt(jn=>{const dr=this.on(sn,fr=>{dr(),jn(fr)})})}events(sn){sn=Array.isArray(sn)?sn:[sn];for(const jn of sn)$l(jn);return sm(this,sn)}async emit(sn,jn){$l(sn),this.logIfDebugEnabled("emit",sn,jn),lo(this,sn,jn);const dr=cs(this,sn),fr=hp.get(this),co=[...dr],uo=Tp(sn)?[]:[...fr];await mp,await nt.all([...co.map(async Eo=>{if(dr.has(Eo))return Eo(jn)}),...uo.map(async Eo=>{if(fr.has(Eo))return Eo(sn,jn)})])}async emitSerial(sn,jn){$l(sn),this.logIfDebugEnabled("emitSerial",sn,jn);const dr=cs(this,sn),fr=hp.get(this),co=[...dr],uo=[...fr];await mp;for(const Eo of co)dr.has(Eo)&&await Eo(jn);for(const Eo of uo)fr.has(Eo)&&await Eo(sn,jn)}onAny(sn){return So(sn),this.logIfDebugEnabled("subscribeAny",void 0,void 0),hp.get(this).add(sn),this.emit(jp,{listener:sn}),this.offAny.bind(this,sn)}anyEvent(){return sm(this)}offAny(sn){So(sn),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(Ou,{listener:sn}),hp.get(this).delete(sn)}clearListeners(sn){sn=Array.isArray(sn)?sn:[sn];for(const jn of sn)if(this.logIfDebugEnabled("clear",jn,void 0),typeof jn=="string"||typeof jn=="symbol"){cs(this,jn).clear();const dr=Cp(this,jn);for(const fr of dr)fr.finish();dr.clear()}else{hp.get(this).clear();for(const dr of lm.get(this).values())dr.clear();for(const dr of Sl.get(this).values()){for(const fr of dr)fr.finish();dr.clear()}}}listenerCount(sn){sn=Array.isArray(sn)?sn:[sn];let jn=0;for(const dr of sn){if(typeof dr=="string"){jn+=hp.get(this).size+cs(this,dr).size+Cp(this,dr).size+Cp(this).size;continue}typeof dr<"u"&&$l(dr),jn+=hp.get(this).size;for(const fr of lm.get(this).values())jn+=fr.size;for(const fr of Sl.get(this).values())jn+=fr.size}return jn}bindMethods(sn,jn){if(typeof sn!="object"||sn===null)throw new TypeError("`target` must be an object");jn=xa(jn);for(const dr of jn){if(sn[dr]!==void 0)throw new Error(`The property \`${dr}\` already exists on \`target\``);Object.defineProperty(sn,dr,{enumerable:!1,value:this[dr].bind(this)})}}}const jo=Object.getOwnPropertyNames(Xp.prototype).filter(zn=>zn!=="constructor");Object.defineProperty(Xp,"listenerAdded",{value:jp,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Xp,"listenerRemoved",{value:Ou,writable:!1,enumerable:!0,configurable:!1});var Yp=Xp;function ap(zn){return typeof zn=="object"&&zn!==null&&"message"in zn&&typeof zn.message=="string"}function um(zn){if(ap(zn))return zn;try{return new Error(JSON.stringify(zn))}catch{return new Error(String(zn))}}function mm(zn){return um(zn).message}var Up=(zn=>(zn.FPS_DROP="fps_drop",zn))(Up||{}),tm=(zn=>(zn.start="start",zn.transform="transform",zn.flush="flush",zn))(tm||{}),dm=(zn=>(zn.pipeline_ended="pipeline_ended",zn.pipeline_ended_with_error="pipeline_ended_with_error",zn.pipeline_started="pipeline_started",zn.pipeline_started_with_error="pipeline_started_with_error",zn.pipeline_restarted="pipeline_restarted",zn.pipeline_restarted_with_error="pipeline_restarted_with_error",zn))(dm||{});const hs=500,No=.8;class Sm extends Yp{constructor(sn,jn){super(),this.index_=jn,this.uuid_=Lp(),this.framesTransformed_=0,this.transformer_=sn,this.shouldStop_=!1,this.isFlashed_=!1,this.framesFromSource_=0,this.fps_=0,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in sn&&(this.transformerType_=sn.getTransformerType());const dr=new Yo().action("MediaTransformer").guid(this.uuid_).transformerType(this.transformerType_).variation("Create").build();ps.report(dr)}setTrackExpectedRate(sn){this.trackExpectedRate_=sn}async start(sn){if(this.controller_=sn,this.transformer_&&typeof this.transformer_.start=="function")try{await this.transformer_.start(sn)}catch(jn){const dr=new Yo().action("MediaTransformer").guid(this.uuid_).message(ot.errors.transformer_start).transformerType(this.transformerType_).variation("Error").error(mm(jn)).build();ps.report(dr);const fr={eventMetaData:{transformerIndex:this.index_},error:jn,function:"start"};this.emit("error",fr)}}async transform(sn,jn){var dr,fr,co,uo;if(this.mediaTransformerQosReportStartTimestamp_===0&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),sn instanceof VideoFrame&&(this.videoHeight_=(dr=sn==null?void 0:sn.displayHeight)!=null?dr:0,this.videoWidth_=(fr=sn==null?void 0:sn.displayWidth)!=null?fr:0),++this.framesFromSource_,this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),sn.close(),this.flush(jn),jn.terminate();else try{await((uo=(co=this.transformer_).transform)==null?void 0:uo.call(co,sn,jn)),++this.framesTransformed_,this.framesTransformed_===hs&&this.mediaTransformerQosReport()}catch(Eo){const bo=new Yo().action("MediaTransformer").guid(this.uuid_).message(ot.errors.transformer_transform).transformerType(this.transformerType_).variation("Error").error(mm(Eo)).build();ps.report(bo);const Eu={eventMetaData:{transformerIndex:this.index_},error:Eo,function:"transform"};this.emit("error",Eu)}}async flush(sn){if(this.transformer_&&typeof this.transformer_.flush=="function"&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(sn)}catch(dr){const fr=new Yo().action("MediaTransformer").guid(this.uuid_).message(ot.errors.transformer_flush).transformerType(this.transformerType_).variation("Error").error(mm(dr)).build();ps.report(fr);const co={eventMetaData:{transformerIndex:this.index_},error:dr,function:"flush"};this.emit("error",co)}}this.mediaTransformerQosReport();const jn=new Yo().action("MediaTransformer").guid(this.uuid_).transformerType(this.transformerType_).variation("Delete").build();ps.report(jn)}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}mediaTransformerQosReport(){let sn=(Date.now()-this.mediaTransformerQosReportStartTimestamp_)/1e3,jn=this.framesFromSource_/sn,dr=this.framesTransformed_/sn;if(this.trackExpectedRate_!=-1&&this.trackExpectedRate_*No>jn){const co={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:jn}};this.emit("warn",co)}const fr=new Yo().action("MediaTransformer").fps(jn).transformedFps(dr).framesTransformed(this.framesTransformed_).guid(this.uuid_).transformerType(this.transformerType_).videoHeight(this.videoHeight_).videoWidth(this.videoWidth_).variation("QoS").build();ps.report(fr),this.mediaTransformerQosReportStartTimestamp_=0,this.framesFromSource_=0,this.framesTransformed_=0}}class Om extends Yp{constructor(sn){super(),this.transformers_=[],this.trackExpectedRate_=-1;for(let jn=0;jn<sn.length;jn++){let dr=new Sm(sn[jn],jn);dr.on("error",fr=>{this.emit("error",fr)}),dr.on("warn",fr=>{this.emit("warn",fr)}),this.transformers_.push(dr)}}setTrackExpectedRate(sn){this.trackExpectedRate_=sn;for(let jn of this.transformers_)jn.setTrackExpectedRate(this.trackExpectedRate_)}async start(sn,jn){if(!this.transformers_||this.transformers_.length===0){console.log("[Pipeline] No transformers.");return}try{let dr=sn;for(let fr of this.transformers_)sn=sn.pipeThrough(new TransformStream(fr));sn.pipeTo(jn).then(async()=>{console.log("[Pipeline] Setup."),await jn.abort(),await dr.cancel(),this.emit("pipelineInfo","pipeline_ended")}).catch(async fr=>{sn.cancel().then(()=>{console.log("[Pipeline] Shutting down streams after abort.")}).catch(co=>{console.error("[Pipeline] Error from stream transform:",co)}),await jn.abort(fr),await dr.cancel(fr),this.emit("pipelineInfo","pipeline_ended_with_error")})}catch{this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy();return}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let sn of this.transformers_)sn.stop()}}class Em extends Yp{constructor(){super(),this.uuid_=Lp(),this.trackExpectedRate_=-1;const sn=new Yo().action("MediaProcessor").guid(this.uuid_).variation("Create").build();ps.report(sn)}setTrackExpectedRate(sn){this.trackExpectedRate_=sn,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(sn,jn){return this.readable_=sn,this.writable_=jn,this.transformInternal()}transformInternal(){return new nt((sn,jn)=>{if(!this.transformers_||this.transformers_.length===0){const fr=new Yo().action("MediaProcessor").guid(this.uuid_).message(ot.errors.transformer_none).variation("Error").build();ps.report(fr),jn("[MediaProcessor] Need to set transformers.");return}if(!this.readable_){const fr=new Yo().action("MediaProcessor").guid(this.uuid_).message(ot.errors.readable_null).variation("Error").build();ps.report(fr),jn("[MediaProcessor] Readable is null.");return}if(!this.writable_){const fr=new Yo().action("MediaProcessor").guid(this.uuid_).message(ot.errors.writable_null).variation("Error").build();ps.report(fr),jn("[MediaProcessor] Writable is null.");return}let dr=!1;this.pipeline_&&(dr=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new Om(this.transformers_),this.pipeline_.on("warn",fr=>{this.emit("warn",fr)}),this.pipeline_.on("error",fr=>{this.emit("error",fr)}),this.pipeline_.on("pipelineInfo",fr=>{dr&&(fr==="pipeline_started"?fr=dm.pipeline_restarted:fr==="pipeline_started_with_error"&&(fr=dm.pipeline_restarted_with_error)),this.emit("pipelineInfo",fr)}),this.trackExpectedRate_!=-1&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then(()=>{sn()}).catch(fr=>{jn(fr)})})}setTransformers(sn){const jn=new Yo().action("MediaProcessor").guid(this.uuid_).message(ot.updates.transformer_new).variation("Update").build();return ps.report(jn),this.transformers_=sn,this.readable_&&this.writable_?this.transformInternal():nt.resolve()}destroy(){return new nt(sn=>{this.pipeline_&&this.pipeline_.destroy();const jn=new Yo().action("MediaProcessor").guid(this.uuid_).variation("Delete").build();ps.report(jn),sn()})}}class Vp{constructor(){this.processor_=null,this.generator_=null}init(sn){return new nt((jn,dr)=>{try{this.processor_=new MediaStreamTrackProcessor(sn)}catch(fr){console.log(`[InsertableStreamHelper] MediaStreamTrackProcessor failed: ${fr}`),dr(fr)}try{sn.kind==="audio"?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):sn.kind==="video"?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):dr("kind not supported")}catch(fr){console.log(`[InsertableStreamHelper] MediaStreamTrackGenerator failed: ${fr}`),dr(fr)}jn()})}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class _d{constructor(sn){this.insertableStreamHelper_=new Vp,this.mediaProcessor_=sn}setTrack(sn){return new nt((jn,dr)=>{this.insertableStreamHelper_.init(sn).then(()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then(()=>{jn(this.insertableStreamHelper_.getProccesorTrack())}).catch(fr=>{dr(fr)})}).catch(fr=>{dr(fr)})})}destroy(){return new nt((sn,jn)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then(()=>{sn()}).catch(dr=>{jn(dr)}):jn("no processor")})}}}.call(this,et(0),et(42))},function(_e,tt,et){const nt={backgroundBlur:et(719),backgroundReplacement:et(720)},rt=at=>!!nt[at],it=at=>rt(at)?nt[at]:null,st={isSupported:rt,getConfigurator:it,isValidConfig:at=>{const ct=at.type;return rt(ct)?it(ct).isValidConfig(at):!1}};_e.exports=st},function(_e,tt,et){const nt=et(317).BlurRadius,rt=et(318),it=nt.High,ot=dt=>Object.assign({},rt.getConfig(dt),{transformerType:"BackgroundBlur",radius:it}),st=dt=>dt==="low"||dt==="high",at=dt=>dt==="low"?nt.Low:nt.High,lt={isValidConfig:dt=>{if((dt==null?void 0:dt.type)!=="backgroundBlur")return!1;const ut=dt.blurStrength;return ut?st(ut):!0},getConfig:function(ut){ut===void 0&&(ut={});const ft=ot(ut),pt=ut,yt=pt.blurStrength;return st(yt)&&(ft.radius=at(yt)),ft}};_e.exports=lt},function(_e,tt,et){const nt=et(318),rt=at=>Object.assign({},nt.getConfig(at),{transformerType:"VirtualBackground"}),it=at=>/^data:image\/(?:png|jpeg|bmp|gif);base64/.test(at)||/\.(?:png|jpe?g|bmp|gif)$/i.test(at),st={isValidConfig:at=>{if((at==null?void 0:at.type)!=="backgroundReplacement")return!1;const ct=at.backgroundImgUrl;return it(ct)},getConfig:function(ct){ct===void 0&&(ct={});const lt=rt(ct),dt=ct,ut=dt.backgroundImgUrl;return it(ut)&&(lt.backgroundAssetUri=ut),lt}};_e.exports=st},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(1)("MediaProcessorConnector");let st=function(ct){var lt=this;this.setTrack=function(){var dt=(0,it.default)(rt.default.mark(function ut(ft){var pt;return rt.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return pt=null,Tt.prev=1,Tt.next=4,lt.connector.setTrack(ft);case 4:pt=Tt.sent,lt.originalTrack=ft,Tt.next=11;break;case 8:Tt.prev=8,Tt.t0=Tt.catch(1),ot.error(`Error setting track: ${Tt.t0}`);case 11:return Tt.abrupt("return",pt);case 12:case"end":return Tt.stop()}},ut,null,[[1,8]])}));return function(ut){return dt.apply(this,arguments)}}(),this.destroy=(0,it.default)(rt.default.mark(function dt(){return rt.default.wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ft.prev=0,ft.next=3,lt.connector.destroy();case 3:ft.next=8;break;case 5:ft.prev=5,ft.t0=ft.catch(0),ot.warn(`Error destroying connector: ${ft.t0}`);case 8:case"end":return ft.stop()}},dt,null,[[0,5]])})),this.stopOriginalTrack=()=>{this.originalTrack&&(this.originalTrack.stop(),this.originalTrack=null)},this.connector=ct};st.isValidConnector=at=>typeof(at==null?void 0:at.setTrack)=="function"&&typeof(at==null?void 0:at.destroy)=="function",_e.exports=st},function(_e,tt,et){_e.exports=nt=>nt?!!nt.apiKey:!1},function(_e,tt,et){const nt=rt=>rt===null||rt===!1;_e.exports=nt},function(_e,tt,et){_e.exports=nt=>{var rt;const it=!!(nt&&(rt=nt.videoSource)!=null&&rt.canvas),ot=!!(nt&&"videoContentHint"in nt);it&&!ot&&(nt.videoContentHint="detail")}},function(_e,tt,et){const nt=et(149),rt=it=>!!(it!=null&&it.scalableScreenshare);_e.exports=it=>{var ot;it||(it={});const st=!!nt((ot=it)==null?void 0:ot.videoSource);it.capableSimulcastScreenshare=st&&rt(it)}},function(_e,tt,et){var nt=et(727),rt=et(99),it=et(35);function ot(st,at){return nt(st,it(at,3),rt)}_e.exports=ot},function(_e,tt){function et(nt,rt,it){var ot;return it(nt,function(st,at,ct){if(rt(st,at,ct))return ot=at,!1}),ot}_e.exports=et},function(_e,tt,et){(function(nt){const rt=et(28),it=et(72);_e.exports=ot=>{let st=ot.RTCPeerConnection,at=ot.env,ct=ot.stream,lt=ot.codecFlags;if(at.isLegacyEdge)return!0;let dt,ut;const ft=()=>{try{dt.close()}catch{}try{ut.close()}catch{}dt=null,ut=null};try{const pt={iceServers:[]};it()&&(pt.sdpSemantics="plan-b"),dt=new st(pt),ut=new st(pt),ct.getTracks().forEach(yt=>dt.addTrack(yt,ct))}catch{return ft(),nt.resolve(!1)}return dt.createOffer().then(pt=>{const yt={type:pt.type,sdp:pt.sdp};return Object.keys(lt).forEach(Tt=>{lt[Tt]||(yt.sdp=rt.removeVideoCodec(yt.sdp,Tt))}),ut.setRemoteDescription(yt)}).then(()=>!0).catch(()=>!1).then(pt=>(ft(),pt))}}).call(this,et(0))},function(_e,tt,et){const nt=et(7),rt=nt.INVALID_PARAMETER;_e.exports=it=>{let ot=it.otError;return st=>{if(!st)return;const at=(ct,lt)=>{if(!ct)throw ot(rt,new Error(`iceConfig invalid: ${lt}`))};"includeServers"in st&&at(["all","custom"].indexOf(st.includeServers)!==-1,".includeServers must be all or custom"),"transportPolicy"in st&&at(["all","relay"].indexOf(st.transportPolicy)!==-1,".transportPolicy must be all or relay"),at(Array.isArray(st.customServers),".customServers must be an array"),st.customServers.forEach(ct=>{at(ct.urls||!("url"in ct),"ice servers need .urls, not .url"),at(typeof ct.urls=="string"||Array.isArray(ct.urls),"ice server .urls must be a string or an array"),at(!ct.username||typeof ct.username=="string","ice server .username must be a string if present"),at(!ct.credential||typeof ct.credential=="string","ice server .credential must be a string if present")})}}},function(_e,tt,et){const nt=et(2),rt=()=>nt.isChrome&&nt.version>=98;_e.exports=(it,ot)=>it.p2pEnabled?!1:ot===!0&&rt()},function(_e,tt,et){const it=ot=>{if(typeof ot!="string")throw new Error("secret must be a string");if(ot.length<8)throw new Error("secret must have at least 8 characters");if(ot.length>256)throw new Error("secret must not exceed 256 characters")};_e.exports=it},function(_e,tt,et){const nt=et(10);_e.exports=function(it){switch(it){case nt.AUTHENTICATION_ERROR:case nt.INVALID_SESSION_ID:case nt.TERMS_OF_SERVICE_FAILURE:case nt.UNEXPECTED_SERVER_RESPONSE:return it;case nt.ANVIL_EMPTY_RESPONSE_BODY:case nt.ANVIL_CONNECT_FAILED:return nt.CONNECT_FAILED;case nt.ANVIL_BADLY_FORMED_RESPONSE:case nt.ANVIL_INVALID_HTTP_STATUS:case nt.ANVIL_XDOMAIN_OR_PARSING_ERROR:case nt.ANVIL_UNKNOWN_HTTP_ERROR:case nt.ANVIL_UNEXPECTED_ERROR_CODE:default:return nt.UNEXPECTED_SERVER_RESPONSE}}},function(_e,tt,et){const nt=et(10),rt=et(7);_e.exports={NOT_CONNECTED:{code:rt.NOT_CONNECTED,message:"Cannot use forceMute functionality. You are not connected to the session.",exceptionCode:nt.NOT_CONNECTED},PERMISSION_DENIED:{code:rt.PERMISSION_DENIED,message:"This token does not allow forceMute usage. The role must be at least `moderator` to enable this functionality",exceptionCode:nt.UNABLE_TO_FORCE_MUTE},INVALID_PARAMETER:{code:rt.INVALID_PARAMETER,message:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",exceptionCode:nt.INVALID_PARAMETER},NOT_FOUND:{code:rt.NOT_FOUND,message:"The stream does not exist."},UNEXPECTED_SERVER_RESPONSE:{code:rt.UNEXPECTED_SERVER_RESPONSE,message:"An unexpected error occurred.",exceptionCode:nt.UNEXPECTED_SERVER_RESPONSE}}},function(_e,tt,et){(function(nt){var rt=et(3);tt.__esModule=!0,tt.default=dt;var it=rt(et(16)),ot=rt(et(9)),st=rt(et(50)),at=rt(et(15)),ct=rt(et(323)),lt=rt(et(735));function dt(ut){ut===void 0&&(ut={});const ft=ut.convertRumorError||et(321),pt=ut.Dispatcher||et(326),yt=ut.ExceptionCodes||et(10),Tt=ut.hasIceRestartsCapability||et(322),ht=ut.hasRenegotiationCapability||et(751),gt=ut.hasE2eeCapability||et(110),vt=ut.logging||et(1)("RaptorSocket"),Ct=ut.Message||et(327),It=ut.OTHelpers||et(8),Zt=ut.RumorSocket||(0,lt.default)(),Mt=ut.Signal||et(328),kt=ut.SignalError||et(756),Nt=function Lt(Pt){var cn=this;let Jt=Pt.connectionId,Bt=Pt.sessionId,dn=Pt.messagingSocketUrl,vn=Pt.symphonyUrl,Tn=Pt.dispatcher,pn=Pt.analytics,In=Pt.requestedCapabilities,Cn=In===void 0?[]:In,yn,bn,Xn,Hn,En,Zn,Vn,rr;const gr=["disconnected","connecting","connected","error","disconnecting"],cr=Tn||new pt,sr=It.statable(this,gr,"disconnected"),Or=function(Yn){(!Yn.action||!Yn.variation)&&vt.debug("Expected action and variation"),pn.logEvent((0,ot.default)({sessionId:bn,partnerId:yn,p2p:Zn,messagingServer:Vn,connectionId:Jt},Yn))},Rr=function(){for(var Yn=arguments.length,vr=new Array(Yn),Dr=0;Dr<Yn;Dr++)vr[Dr]=arguments[Dr];const ho=vr[0];sr(ho?"error":"connected"),En(...vr)},Yr=qn=>{let Yn="clientDisconnected";!this.is("disconnecting")&&rr&&(Yn="networkDisconnected"),qn&&qn.code===4001&&(Yn="networkTimedout"),sr("disconnected"),cr.onClose(Yn)},Fr=qn=>{rr=!0,vt.error(qn)},Qr=()=>{cr.onReconnecting()},vo=()=>{Or({action:"Reconnect",variation:"Success",retries:this._rumor.reconnectRetriesCount(),messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId}),cr.onReconnected()},Lr=()=>{Or({action:"Reconnect",variation:"Attempt",retries:this._rumor.reconnectRetriesCount(),messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId})},Pr=qn=>{qn.message==="connectionLimitExceeded"&&(qn.code=yt.CONNECTION_LIMIT_EXCEEDED),qn.reason="ConnectToSession";const Yn=ft(qn);Or({action:"Reconnect",variation:"Failure",failureReason:qn.reason,failureCode:Yn.code,failureMessage:Yn.message,messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId})};Object.defineProperty(this,"socketId",{get(){return this._rumor.socketID}}),this.connect=function(Yn,vr,Dr,ho){if(!this.is("disconnected","error")){vt.warn("Cannot connect the Raptor Socket as it is currently connected. You should disconnect first.");return}sr("connecting"),yn=vr.partnerId,bn=vr.sessionId,Zn=vr.p2pEnabled,Vn=vr.messagingServer,Xn=Yn,En=ho,Hn={apiKey:yn,sessionId:bn};const er=`/v2/partner/${yn}/session/${bn}`;this._rumor=new Lt.RumorSocket({messagingURL:dn,notifyDisconnectAddress:vn,connectionId:Jt,sessionId:Bt,enableReconnection:vr.reconnection}),this._rumor.on("close",Yr),this._rumor.on("error",Fr),this._rumor.on("reconnecting",Qr),this._rumor.on("reconnectAttempt",Lr),this._rumor.on("reconnectFailure",Pr),this._rumor.on("reconnected",vo),this._rumor.on("message",cr.dispatch.bind(cr));const Ir=Wr=>{Rr({reason:"WebSocketConnection",code:Wr.code,message:Wr.message})};this._rumor.once("error",Ir),this._rumor.once("open",()=>{this._rumor.removeListener("error",Ir),vt.debug(`connected. Subscribing to ${er} on ${dn}`),this._rumor.subscribe([er]);const Wr=Cn;(Lt.hasIceRestartsCapability()||Lt.hasRenegotiationCapability())&&vr.renegotiation&&Wr.push("renegotiation"),Lt.hasE2eeCapability()&&vr.e2ee&&Wr.push("e2ee");const To=Ct.connections.create({apiKey:yn,sessionId:bn,connectionId:this._rumor.id,connectionEventsSuppressed:Dr.connectionEventsSuppressed,capabilities:Wr}),wo=new nt(xo=>{const ro=Ho=>{Ho.id===this._rumor.id&&(xo(Ho),Tn.off("connection#created",ro))};Tn.on("connection#created",ro)});this.publish(To,{"X-TB-TOKEN-AUTH":Xn},!0,(xo,ro)=>{if(xo){xo.message==="connectionLimitExceeded"&&(xo.code=yt.CONNECTION_LIMIT_EXCEEDED),Rr({reason:"ConnectToSession",code:xo.code,message:xo.message,socketId:this.socketId});return}const Ho=ro&&ro.data?JSON.parse(ro.data):null;Ho&&(!Ho.connection||Ho.connection.length===0)&&(Ho.connection=[],Array.isArray(Ho.stream)&&Ho.stream.forEach(Do=>{let so=Do.connection;return Ho.connection.push(so)}));const Oo=(Do,so)=>{Do?Rr({reason:"GetSessionState",code:Do.code,message:Do.message,socketId:this.socketId}):Rr(void 0,so)};wo.then(Do=>{Ho.connection.some(Nu=>Nu.id===Do.id)||Ho.connection.unshift(Do);const so=(0,at.default)();cr.registerCallback(so,Oo),cr.emit("session#read",Ho,so)})})})},this.disconnect=function(){this.is("disconnected")||(sr("disconnecting"),this._rumor.disconnect())},this.publish=function(qn,Yn,vr,Dr){Dr=Dr||function(){};const ho=(0,st.default)(Dr),er=(0,at.default)();if(vt.debug(`Publish (ID:${er}) ${qn}`),this._rumor.readyState!==Zt.OPEN||this._rumor.reconnecting&&!vr){const Ir=new Error("Not connected.");Ir.code=500,ho(Ir),vt.error("cannot publish until the socket is connected.");return}return cr.registerCallback(er,ho),this._rumor.publish([vn],qn,(0,ot.default)({},Yn,{"Content-Type":"application/x-raptor+v2","TRANSACTION-ID":er,"X-TB-FROM-ADDRESS":this._rumor.id}),vr,function(Ir){Ir&&ho(...arguments)}),er},this.send=function(qn,Yn,vr,Dr){vr===void 0&&(vr=!0),Dr===void 0&&(Dr=()=>{}),cn.publish((0,ct.default)(qn),Yn,vr,Dr)},this.streamCreate=function(qn,Yn){qn===void 0&&(qn={}),Yn===void 0&&(Yn=()=>{});const vr=qn,Dr=vr.name,ho=vr.streamId,er=vr.subscriberAudioFallbackEnabled,Ir=vr.channels,Wr=vr.minBitrate,mo=vr.maxBitrate,Jr=vr.sourceStreamId,To=vr.e2ee,wo=vr.publisherAudioFallbackEnabled,xo=vr.customProperties,ro={apiKey:yn,sessionId:bn,streamId:ho,name:Dr,audioFallbackEnabled:er,subscriberAudioFallbackEnabled:er,channels:Ir,minBitrate:Wr,maxBitrate:mo,sourceStreamId:Jr,e2ee:To,publisherAudioFallbackEnabled:wo,customProperties:xo},Ho=Ct.streams.create(ro);this.publish(Ho,{},!0,(Oo,Do)=>{Yn(Oo,ho,Do)})},this.streamDestroy=function(qn,Yn){this.publish(Ct.streams.destroy(yn,bn,qn,Yn),{},!0)},this.streamChannelUpdate=function(qn,Yn,vr){this.publish(Ct.streamChannels.update(yn,bn,qn,Yn,vr),{},!0)},this.subscriberCreate=function(qn,Yn,vr,Dr,ho,er){const Ir={apiKey:yn,sessionId:bn,streamId:qn,subscriberId:Yn,connectionId:this._rumor.id,channelsToSubscribeTo:vr,sourceStreamId:Dr,e2ee:ho};this.publish(Ct.subscribers.create(Ir),{},!0,er)},this.subscriberDestroy=function(qn,Yn){this.publish(Ct.subscribers.destroy(yn,bn,qn,Yn),{},!0)},this.subscriberUpdate=function(qn,Yn,vr){this.publish(Ct.subscribers.update(yn,bn,qn,Yn,vr),{},!0)},this.subscriberChannelUpdate=function(qn,Yn,vr,Dr){this.publish(Ct.subscriberChannels.update(yn,bn,qn,Yn,vr,Dr),{},!0)},this.forceDisconnect=function(qn,Yn){this.publish(Ct.connections.destroy({apiKey:yn,sessionId:bn,connectionId:qn}),{},!0,Yn)},this.forceUnpublish=function(qn,Yn){this.publish(Ct.streams.destroy(yn,bn,qn),{},!0,Yn)},this.forceMuteStream=function(qn,Yn){const vr={streamId:qn,active:!0};this.publish(Ct.forceMute.update(Object.assign({},Hn,vr)),{},!0,Yn)},this.forceMuteAll=function(qn,Yn,vr){const Dr={excludedStreamIds:qn,active:Yn};this.publish(Ct.forceMute.update(Object.assign({},Hn,Dr)),{},!0,vr)},this.signal=function(qn,Yn,vr){const Dr=new Mt(bn,this._rumor.id,qn||{});if(!Dr.valid){Yn&&(0,it.default)(Yn)&&Yn(new kt(Dr.error.code,Dr.error.reason),Dr.toHash());return}this.publish(Dr.toRaptorMessage(),{},Dr.retryAfterReconnect,ho=>{let er,Ir,Wr;const mo=[400,403,404,413,500];if(ho){const Jr=parseInt(ho.code,10);mo.includes(Jr)?(Ir=Jr,Wr=ho.message):(Ir=yt.UNEXPECTED_SERVER_RESPONSE,Wr="Unexpected server response. Try this operation again later."),er=new kt(Ir,Wr)}else{const Jr=Dr.data?typeof Dr.data:null;vr("signal","send",{type:Jr})}Yn&&(0,it.default)(Yn)&&Yn(er,Dr.toHash())})},this.id=function(){return this._rumor&&this._rumor.id}};return Nt.hasIceRestartsCapability=Tt,Nt.hasRenegotiationCapability=ht,Nt.hasE2eeCapability=gt,Nt.RumorSocket=Zt,Nt}}).call(this,et(0))},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=dt;var rt=nt(et(18)),it=nt(et(736)),ot=nt(et(1)),st=nt(et(737)),at=nt(et(742)),ct=nt(et(747)),lt=nt(et(20));function dt(ut){let ft=ut===void 0?{}:ut,pt=ft.WebSocket,yt=pt===void 0?ct.default:pt;const Tt=(0,it.default)(),ht=(0,st.default)({AnalyticsHelper:lt.default,EventEmitter:rt.default,WebSocket:yt,logging:ot.default,allocateId:Tt});return(0,at.default)({EventEmitter:rt.default,ReconnectableSocket:ht,logging:ot.default,allocateId:Tt})}},function(_e,tt,et){tt.__esModule=!0,tt.default=nt;function nt(){let rt=0;return()=>(rt+=1,rt)}},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(45)),st=nt(et(324)),at=nt(et(48)),ct=nt(et(325)),lt=et(76),dt=nt(et(738)),ut=nt(et(61)),ft=nt(et(739)),pt=nt(et(741));const yt=vt=>function(){vt(...arguments)},Tt=vt=>vt===1e3||vt>=3e3&&vt<=4999,ht=lt.codes.CLOSE_TIMEOUT;var gt=vt=>{var Ct;let It=vt.AnalyticsHelper,Zt=vt.EventEmitter,Mt=vt.WebSocket,kt=vt.logging,Nt=vt.allocateId,Lt=vt.BUFFER_DRAIN_INTERVAL,Pt=Lt===void 0?100:Lt,cn=vt.BUFFER_DRAIN_MAX_RETRIES,Jt=cn===void 0?10:cn;return Ct=function(Bt){(0,at.default)(dn,Bt);function dn(Tn){var pn;pn=Bt.call(this)||this,pn._url=void 0,pn._id=Nt(),pn._logger=kt(`ReconnectableSocket:${pn._id}`),pn._webSocket=void 0,pn._connectTimer=void 0,pn._pingTimer=void 0,pn._pingWarningTimer=void 0,pn._disconnectTimer=void 0,pn._queuedMessages=[],pn._draining=!1,pn._analytics=new It,pn._logAnalyticsEvent=Rr=>{let Yr=Rr.action,Fr=Rr.variation,Qr=Rr.payload;pn._analytics.logEvent({action:Yr,variation:Fr,payload:Qr,sessionId:pn.sessionId,connectionId:pn.connectionId})};const In=Tn.url,Cn=Tn.connectionId,yn=Tn.sessionId,bn=Tn.connectTimeout,Xn=bn===void 0?15e3:bn,Hn=Tn.pingThreshold,En=Hn===void 0?3e3:Hn,Zn=Tn.pingWarningDelay,Vn=Zn===void 0?100:Zn,rr=Tn.disconnectThreshold,gr=rr===void 0?5900:rr,cr=Tn.reconnectMaxDuration,sr=cr===void 0?6e4:cr;if(!In)throw new Error("Must provide url");pn.connectionId=Cn,pn.sessionId=yn,pn.readyStateMachine=(0,ft.default)({reconnectMaxDuration:sr,CLOSED:dn.CLOSED,CLOSING:dn.CLOSING}),pn._url=In,(0,ct.default)({logger:pn._logger,obj:(0,st.default)(pn),eventNames:["error","open","message","needsPing","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),pn.readyStateMachine.observe("onEnterOpen",Rr=>{let Yr=Rr.from;pn._resetPingTimers(),pn._resetDisconnectTimer(),pn._connectTimer.clear(),Yr==="reconnecting"?(pn._queuedMessages.forEach(Fr=>pn.send(Fr,!0)),pn._queuedMessages=[],pn.emit("reconnected"),pn._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Success"})):(pn.emit("open"),pn._logAnalyticsEvent({action:"WebSocket:open"}))}),pn.readyStateMachine.observe("onEnterClosed",(Rr,Yr)=>{let Fr=Rr.from,Qr=Rr.code,vo=Rr.reason;pn.emit("close",Yr),Fr==="reconnecting"&&pn._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure",payload:{code:Qr,reason:vo}})}),pn.readyStateMachine.observe("onEnterClosing",yt(function(){var Rr=(0,it.default)(rt.default.mark(function Yr(Fr,Qr){var vo,Lr,Pr;return rt.default.wrap(function(Yn){for(;;)switch(Yn.prev=Yn.next){case 0:return vo=Fr.from,Lr=Qr.code,Pr=Qr.reason,pn._clearTimers(),Yn.next=5,pn._clearSocket({drain:vo==="open",code:Lr,reason:Pr});case 5:vo==="reconnecting"&&(pn.emit("reconnectFailure",{code:Lr,reason:Pr}),pn._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure"})),setTimeout(()=>{pn.readyStateMachine.closed({code:Lr,reason:Pr})});case 7:case"end":return Yn.stop()}},Yr)}));return function(Yr,Fr){return Rr.apply(this,arguments)}}())),pn.readyStateMachine.observe("onEnterReconnecting",()=>{pn.emit("reconnecting"),pn._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Attempt"})}),pn.readyStateMachine.observe("onDisconnect",yt(function(){var Rr=(0,it.default)(rt.default.mark(function Yr(Fr,Qr){var vo,Lr,Pr,qn;return rt.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:if(vo=Fr.from,Lr=Fr.to,Pr=Qr.code,qn=Qr.reason,Lr!=="reconnecting"){vr.next=12;break}if(!pn._draining){vr.next=5;break}return vr.abrupt("return");case 5:return pn._clearTimers(),pn.emit("reconnectAttempt"),vr.next=9,pn._clearSocket({drain:vo==="open",code:Pr,reason:qn});case 9:pn._createSocket(),vr.next=13;break;case 12:pn._logAnalyticsEvent({action:"WebSocket:disconnect",payload:{code:Pr,reason:qn}});case 13:case"end":return vr.stop()}},Yr)}));return function(Yr,Fr){return Rr.apply(this,arguments)}}()));const Or=(Rr,Yr)=>new dt.default({name:Rr,duration:Yr,logger:pn._logger});return pn._connectTimer=Or("connect",Xn),pn._pingTimer=Or("ping",En),pn._pingWarningTimer=Or("pingWarning",Vn),pn._disconnectTimer=Or("disconnect",gr),pn._createSocket(),pn}var vn=dn.prototype;return vn._createSocket=function(){const pn=new Mt(this.url);pn.binaryType="arraybuffer";const In=(0,ut.default)(pn);In.on("open",()=>{this.readyStateMachine.open()}),In.on("close",Cn=>{let yn=Cn.code,bn=Cn.reason;this.readyStateMachine.disconnect({code:yn,reason:bn})}),In.on("error",Cn=>{this.emit("error",Cn)}),In.on("message",Cn=>{this.readyState!==dn.CLOSING&&this._resetDisconnectTimer(),this.emit("message",Cn)}),this._webSocket=pn,this._webSocketEvents=In,this._connectTimer.reset(()=>{const Cn={code:ht,reason:"Timeout while opening connection"},yn=new Error(Cn.reason);yn.code=ht,this.emit("error",yn),this.readyStateMachine.disconnect(Cn)})},vn._clearSocket=function(){var Tn=(0,it.default)(rt.default.mark(function In(Cn){var yn,bn,Xn,Hn,En;return rt.default.wrap(function(Vn){for(;;)switch(Vn.prev=Vn.next){case 0:if(yn=Cn===void 0?{}:Cn,bn=yn.drain,Xn=bn===void 0?!1:bn,Hn=yn.code,En=yn.reason,this._draining=!0,this._webSocketEvents&&this._webSocketEvents.removeAll(),this._webSocket.readyState===dn.CLOSED){Vn.next=9;break}if(!Xn){Vn.next=7;break}return Vn.next=7,(0,pt.default)(this._webSocket,{BUFFER_DRAIN_INTERVAL:Pt,BUFFER_DRAIN_MAX_RETRIES:Jt});case 7:this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:Hn,reason:En},variation:"Attempt"});try{!Tt(Hn)||Hn===void 0&&En===void 0?this._webSocket.close():this._webSocket.close(Hn,En),this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:Hn,reason:En},variation:"Success"})}catch(rr){kt.error("Could not close websocket",rr),this._logAnalyticsEvent({action:"WebSocket:close",payload:{err:rr},variation:"Failure"})}case 9:this._draining=!1;case 10:case"end":return Vn.stop()}},In,this)}));function pn(In){return Tn.apply(this,arguments)}return pn}(),vn.send=function(pn,In){In===void 0&&(In=!0),this.readyState===dn.OPEN&&this._resetPingTimers();const Cn=()=>{try{return this._webSocket.send(pn),"sent"}catch(yn){if(this._webSocket.readyState===Mt.OPEN)return this._logger.debug("webSocket.send threw exception even though it was open:",yn),"dropped";throw yn}};if(this.readyStateMachine.state==="reconnecting"){if(this._webSocket.readyState===Mt.OPEN)try{Cn()}catch{}return In?(this._queuedMessages.push(pn),"queued"):(this._logger.debug("Dropping message during reconnection since retryAfterReconnect is false:",pn),"dropped")}return Cn()},vn.close=function(pn,In){if(this.readyState===dn.CLOSING)throw new Error("Can not call close on a closing ReconnectableSocket");if(this.readyState===dn.CLOSED)throw new Error("Can not call close on an already closed ReconnectableSocket");this.readyStateMachine.close({code:pn,reason:In})},vn._resetPingTimers=function(){this._pingWarningTimer.clear(),this._pingTimer.reset(()=>{this._pingWarningTimer.reset(()=>{this._logger.warn("Did not send message after needsPing event. Other side may disconnect.")}),this.emit("needsPing")})},vn._resetDisconnectTimer=function(){this._disconnectTimer.reset(()=>this.readyStateMachine.disconnect({code:ht,reason:"No activity"}))},vn._clearTimers=function(){[this._disconnectTimer,this._connectTimer,this._pingTimer,this._pingWarningTimer].forEach(pn=>pn.clear())},(0,ot.default)(dn,[{key:"url",get:function(){return typeof this._url=="function"?this._url():this._url}},{key:"reconnecting",get:function(){return this.readyStateMachine.state==="reconnecting"}},{key:"binaryType",get:function(){return this._webSocket.binaryType}},{key:"bufferedAmount",get:function(){return this._webSocket.bufferedAmount}},{key:"protocol",get:function(){return this._webSocket.protocol}},{key:"extensions",get:function(){return this._webSocket.extensions}},{key:"readyState",get:function(){return{reconnecting:dn.OPEN,open:dn.OPEN,closing:dn.CLOSING,closed:dn.CLOSED,connecting:dn.CONNECTING}[this.readyStateMachine.state]}}]),dn}(Zt),Ct.CONNECTING=Mt.CONNECTING,Ct.OPEN=Mt.OPEN,Ct.CLOSING=Mt.CLOSING,Ct.CLOSED=Mt.CLOSED,Ct};tt.default=gt},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;let nt=function(){function rt(ot){let st=ot.name,at=ot.logger,ct=ot.duration;this.name=void 0,this.logger=void 0,this.duration=void 0,this.currId=void 0,this.name=st,this.logger=at,this.duration=ct}var it=rt.prototype;return it.reset=function(st){this.clear();const at=setTimeout(()=>{this.currId!==void 0&&(this.logger.spam(`${this.name} timer with id ${this.currId} expired, entering callback`),this.currId=void 0,st())},this.duration);this.currId=at,this.logger.spam(`Started ${this.name} timer with id ${this.currId}, expires in ${this.duration}ms`)},it.clear=function(){this.currId!==void 0&&(clearTimeout(this.currId),this.logger.spam(`Cleared ${this.name} timer with id ${this.currId}`),this.currId=void 0)},it.isRunning=function(){return this.currId!==void 0},rt}();tt.default=nt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(310)),it=nt(et(740)),ot=et(76),st=nt(et(1));const at=(0,st.default)("ReconnectableSocketStateMachine"),ct=ot.codes.CLOSE_UNSUPPORTED,lt=ot.codes.CLOSE_UNEXPECTED_CONDITION;var dt=ut=>{let ft=ut.reconnectMaxDuration,pt=ut.CLOSED,yt=ut.CLOSING,Tt;function ht(gt){let vt=gt.code;return(this.state==="open"||!Tt)&&(Tt=(0,it.default)(ft)),ft>0&&!Tt()&&[ct,lt].indexOf(vt)===-1&&[pt,yt].indexOf(this.readyState)===-1?"reconnecting":"closing"}return new rt.default({init:"connecting",methods:{onInvalidTransition(gt,vt,Ct){at.error("Invalid state transition",{transition:gt,from:vt,to:Ct})}},transitions:[{name:"open",from:["connecting","reconnecting"],to:"open"},{name:"close",from:["connecting","reconnecting","open"],to:"closing"},{name:"closed",from:"closing",to:"closed"},{name:"disconnect",from:["reconnecting","open","connecting"],to:ht}]})};tt.default=dt},function(_e,tt,et){_e.exports=nt=>{let rt=!1;return setTimeout(()=>{rt=!0},nt),()=>rt}},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(107)),st=function(){var at=(0,it.default)(rt.default.mark(function ct(lt,dt){var ut,ft,pt,yt,Tt,ht;return rt.default.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:ut=dt===void 0?{}:dt,ft=ut.BUFFER_DRAIN_INTERVAL,pt=ft===void 0?100:ft,yt=ut.BUFFER_DRAIN_MAX_RETRIES,Tt=yt===void 0?10:yt,ht=0;case 2:if(!(ht<Tt)){vt.next=10;break}if(lt.bufferedAmount!==0){vt.next=5;break}return vt.abrupt("break",10);case 5:return vt.next=7,(0,ot.default)(pt);case 7:ht+=1,vt.next=2;break;case 10:case"end":return vt.stop()}},ct)}));return function(ct,lt){return at.apply(this,arguments)}}();tt.default=st},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(45)),it=nt(et(324)),ot=nt(et(48)),st=nt(et(15)),at=nt(et(325)),ct=nt(et(743)),lt=pt(et(171)),dt=nt(et(746)),ut=et(76);function ft(Tt){if(typeof WeakMap!="function")return null;var ht=new WeakMap,gt=new WeakMap;return(ft=function(Ct){return Ct?gt:ht})(Tt)}function pt(Tt,ht){if(!ht&&Tt&&Tt.__esModule)return Tt;if(Tt===null||typeof Tt!="object"&&typeof Tt!="function")return{default:Tt};var gt=ft(ht);if(gt&&gt.has(Tt))return gt.get(Tt);var vt={},Ct=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var It in Tt)if(It!=="default"&&Object.prototype.hasOwnProperty.call(Tt,It)){var Zt=Ct?Object.getOwnPropertyDescriptor(Tt,It):null;Zt&&(Zt.get||Zt.set)?Object.defineProperty(vt,It,Zt):vt[It]=Tt[It]}return vt.default=Tt,gt&&gt.set(Tt,vt),vt}var yt=Tt=>{var ht;let gt=Tt.EventEmitter,vt=Tt.ReconnectableSocket,Ct=Tt.logging,It=Tt.allocateId;return ht=function(Zt){(0,ot.default)(Mt,Zt);function Mt(Nt){var Lt;let Pt=Nt.messagingURL,cn=Nt.notifyDisconnectAddress,Jt=Nt.connectionId,Bt=Nt.sessionId,dn=Nt.enableReconnection,vn=Nt.pingThreshold,Tn=vn===void 0?2e3:vn,pn=Nt.disconnectThreshold,In=pn===void 0?(dn?3:25)*Tn-100:pn,Cn=Nt.reconnectMaxDuration,yn=Cn===void 0?dn?6e4:0:Cn;Lt=Zt.call(this)||this,Lt.url=void 0,Lt.id=void 0,Lt._opened=!1,Lt._socket=void 0,Lt._reconnectAttempts=0,Lt._socketID=(0,st.default)(),Lt._receivedTransactionIDs=[],Lt._notifyDisconnectAddress=void 0,Lt._enableReconnection=void 0,Lt._pendingMessages=[],Lt._logger=Ct(`RumorSocket:${It()}`),(0,at.default)({logger:Lt._logger,obj:(0,it.default)(Lt),eventNames:["open","message","error","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),Lt.url=Pt,Lt.id=Jt,Lt._notifyDisconnectAddress=cn,Lt._enableReconnection=dn,Lt.on("error",Xn=>{Lt._logger.error(Xn.message)});try{Lt._socket=new vt({url:()=>Lt._enableReconnection?[Lt.url,Lt.url.indexOf("?")>=0?"&":"?",`socketId=${Lt._socketID}`,Lt._socket&&Lt._socket.reconnecting?"&reconnect=true":"",`&attempt=${(0,st.default)()}`].join(""):Lt.url,pingThreshold:Tn,disconnectThreshold:In,reconnectMaxDuration:yn,connectionId:Jt,sessionId:Bt})}catch(Xn){Lt._logger.error(Xn),Lt.emit("error",new dt.default(ut.codes.CLOSE_CONNECT_EXCEPTION))}const bn=()=>{Lt._opened=!0,Lt._socket.send(ct.default.Connect(Lt.id,cn).serialize()),Lt.emit("open",Lt.id)};return Lt._socket.once("open",bn),Lt._socket.on("message",Xn=>Lt._receiveMessage(Xn)),Lt._socket.once("close",Xn=>{Lt._logger.debug(`ReconnectableSocket closed (code: ${Xn.code})`),Lt._clearPendingMessages();const Hn=ut.codes.CLOSE_NORMAL,En=ut.codes.CLOSE_GOING_AWAY,Zn=ut.codes.CLOSE_TIMEOUT;[Hn,En,Zn].indexOf(Xn.code)===-1&&Lt.emit("error",new dt.default(Xn.code)),Lt.emit("close",Xn)}),Lt._socket.on("error",Xn=>{let Hn=Xn.code;return Lt.emit("error",new dt.default(Hn))}),Lt._socket.on("needsPing",()=>{Lt._socket.send(ct.default.Ping().serialize())}),Lt._socket.on("reconnecting",()=>{Lt._opened&&(Lt._clearPendingMessagesWhichShouldntRetry(),Lt.emit("reconnecting"),Lt._reconnectAttempts=0)}),Lt._socket.on("reconnectAttempt",()=>{Lt._opened&&(Lt._reconnectAttempts+=1,Lt._socket.send(ct.default.Disconnect("1").serialize(),!1),Lt.emit("reconnectAttempt"))}),Lt._socket.on("reconnected",()=>{if(!Lt._opened){bn();return}Lt._pendingMessages.forEach(Xn=>{Lt._socket.send(Xn.rumorMessage.serialize())}),Lt.emit("reconnected")}),Lt._socket.on("reconnectFailure",()=>{Lt._opened&&(Lt._logger.debug(`Reconnecting failed as connectivity was not restored within ${yn}ms`),Lt.emit("reconnectFailure",new dt.default))}),Lt}var kt=Mt.prototype;return kt._clearPendingMessagesWhichShouldntRetry=function(){const Lt=this._pendingMessages.filter(Pt=>!Pt.retryAfterReconnect);this._pendingMessages=this._pendingMessages.filter(Pt=>Pt.retryAfterReconnect),Lt.forEach(Pt=>{const cn=new Error("Not connected.");cn.code=500,Pt.completion(cn)})},kt._clearPendingMessages=function(){this._pendingMessages.forEach(Lt=>{const Pt=new Error("Not connected.");Pt.code=500,Lt.completion(Pt)}),this._pendingMessages=[]},kt._sendAck=function(Lt){this._socket.send(ct.default.Status([Lt.fromAddress],{"TRANSACTION-ID":Lt.headers["TRANSACTION-ID"],"X-TB-FROM-ADDRESS":this.id}).serialize())},kt._receiveMessage=function(Lt){const Pt=ct.default.deserialize(Lt.data);if(Pt.type!==lt.PONG){if(this._logger.debug("Received:",Pt),Pt.transactionId&&(this._pendingMessages=this._pendingMessages.filter(cn=>(cn.rumorMessage.transactionId===Pt.transactionId&&(this._logger.debug("Marking",Pt.transactionId," as received"),cn.completion(void 0,Pt)),cn.rumorMessage.transactionId!==Pt.transactionId))),Pt.transactionId&&Pt.type!==lt.STATUS){if(this._sendAck(Pt),this._receivedTransactionIDs.indexOf(Pt.transactionId)>=0)return;this._receivedTransactionIDs.push(Pt.transactionId)}this.emit("message",Pt)}},kt.publish=function(Lt,Pt,cn,Jt,Bt){Bt===void 0&&(Bt=()=>{});const dn=ct.default.Publish(Lt,Pt,cn);if(this._socket.send(dn.serialize(),!1)==="dropped"&&!Jt){const Tn=new Error("Not connected.");Tn.code=500,Bt(Tn);return}this._pendingMessages.push({rumorMessage:dn,retryAfterReconnect:Jt,completion:Bt})},kt.subscribe=function(Lt){this._socket.send(ct.default.Subscribe(Lt).serialize())},kt.unsubscribe=function(Lt){this._socket.send(ct.default.Unsubscribe(Lt).serialize())},kt.disconnect=function(){if(this.readyState===Mt.OPEN&&this._socket.send(ct.default.Disconnect().serialize()),this._socket.readyState!==vt.CLOSED&&this._socket.readyState!==vt.CLOSING){const Lt=ut.codes.CLOSE_NORMAL;this._socket.close(Lt,ut.messages[Lt])}},kt.status=function(Lt,Pt){this._socket.send(ct.default.Status(Lt,{"TRANSACTION-ID":Pt,"X-TB-FROM-ADDRESS":this.id}).serialize())},kt.reconnectRetriesCount=function(){return this._reconnectAttempts},kt.messageQueueSize=function(){return this._pendingMessages.length},(0,rt.default)(Mt,[{key:"readyState",get:function(){return this._socket?this._socket.readyState:vt.CONNECTING}},{key:"reconnecting",get:function(){return this._opened&&this._socket&&this._socket.reconnecting}},{key:"socketID",get:function(){return this._socketID}}]),Mt}(gt),ht.CONNECTING=vt.CONNECTING,ht.OPEN=vt.OPEN,ht.CLOSING=vt.CLOSING,ht.CLOSED=vt.CLOSED,ht};tt.default=yt},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(15)),it=et(744),ot=at(et(171));function st(dt){if(typeof WeakMap!="function")return null;var ut=new WeakMap,ft=new WeakMap;return(st=function(yt){return yt?ft:ut})(dt)}function at(dt,ut){if(!ut&&dt&&dt.__esModule)return dt;if(dt===null||typeof dt!="object"&&typeof dt!="function")return{default:dt};var ft=st(ut);if(ft&&ft.has(dt))return ft.get(dt);var pt={},yt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Tt in dt)if(Tt!=="default"&&Object.prototype.hasOwnProperty.call(dt,Tt)){var ht=yt?Object.getOwnPropertyDescriptor(dt,Tt):null;ht&&(ht.get||ht.set)?Object.defineProperty(pt,Tt,ht):pt[Tt]=dt[Tt]}return pt.default=dt,ft&&ft.set(dt,pt),pt}const ct=dt=>{const ut=new ArrayBuffer(dt.length),ft=new Uint8Array(ut);for(let pt=0;pt<dt.length;++pt)ft[pt]=dt[pt];return ut};let lt=function(){function dt(ft,pt,yt,Tt){this.type=void 0,this.toAddress=void 0,this.headers=void 0,this.data=void 0,this.type=ft,this.toAddress=pt,this.headers=yt,this.data=Tt,this.fromAddress=this.headers["X-TB-FROM-ADDRESS"],this.transactionId=this.headers["TRANSACTION-ID"],this.status=this.headers.STATUS,this.isError=this.status&&this.status[0]!=="2"}var ut=dt.prototype;return ut.serialize=function(){let pt,yt,Tt,ht,gt=8,vt=7;const Ct=[],It=[],Zt=[];for(vt++,Tt=0;Tt<this.toAddress.length;Tt++)Ct.push(new it.TextEncoder("utf-8").encode(this.toAddress[Tt])),vt+=2,vt+=Ct[Tt].length;vt++,Tt=0;for(const Nt in this.headers)this.headers.hasOwnProperty(Nt)&&(It.push(new it.TextEncoder("utf-8").encode(Nt)),Zt.push(new it.TextEncoder("utf-8").encode(this.headers[Nt])),vt+=4,vt+=It[Tt].length,vt+=Zt[Tt].length,Tt++);yt=new it.TextEncoder("utf-8").encode(this.data),vt+=yt.length;const Mt=new ArrayBuffer(vt),kt=new Uint8Array(Mt,0,vt);for(vt-=4,kt[0]=(vt&4278190080)>>>24,kt[1]=(vt&16711680)>>>16,kt[2]=(vt&65280)>>>8,kt[3]=(vt&255)>>>0,kt[4]=0,kt[5]=0,kt[6]=this.type,kt[7]=this.toAddress.length,Tt=0;Tt<Ct.length;Tt++)for(pt=Ct[Tt],kt[gt++]=pt.length>>8&255,kt[gt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)kt[gt++]=pt[ht];for(kt[gt++]=It.length,Tt=0;Tt<It.length;Tt++){for(pt=It[Tt],kt[gt++]=pt.length>>8&255,kt[gt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)kt[gt++]=pt[ht];for(pt=Zt[Tt],kt[gt++]=pt.length>>8&255,kt[gt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)kt[gt++]=pt[ht]}for(Tt=0;Tt<yt.length;Tt++)kt[gt++]=yt[Tt];return Mt},dt.deserialize=function(pt){(typeof window!==void 0?window:commonjsGlobal).Buffer&&(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer(pt)&&(pt=ct(pt));let yt,Tt,ht,gt,vt,Ct,It,Zt,Mt=8;const kt=new Uint8Array(pt);yt=kt[6];const Nt=[];for(Zt=0;Zt<kt[7];Zt++)It=kt[Mt++]<<8,It+=kt[Mt++],Tt=new Uint8Array(pt,Mt,It),Nt[Zt]=new it.TextDecoder("utf-8").decode(Tt),Mt+=It;for(ht=kt[Mt++],gt={},Zt=0;Zt<ht;Zt++)It=kt[Mt++]<<8,It+=kt[Mt++],Tt=new Uint8Array(pt,Mt,It),vt=new it.TextDecoder("utf-8").decode(Tt),Mt+=It,It=kt[Mt++]<<8,It+=kt[Mt++],Tt=new Uint8Array(pt,Mt,It),Ct=new it.TextDecoder("utf-8").decode(Tt),gt[vt]=Ct,Mt+=It;const Lt=new Uint8Array(pt,Mt),Pt=new it.TextDecoder("utf-8").decode(Lt);return new dt(yt,Nt,gt,Pt)},dt.Connect=function(pt,yt){const Tt={uniqueId:pt,"TRANSACTION-ID":(0,rt.default)(),notifyDisconnectAddress:yt};return new dt(ot.CONNECT,[],Tt,"")},dt.Disconnect=function(pt){return new dt(ot.DISCONNECT,[],{reconnect:pt},"")},dt.Subscribe=function(pt){return new dt(ot.SUBSCRIBE,pt,{},"")},dt.Unsubscribe=function(pt){return new dt(ot.UNSUBSCRIBE,pt,{},"")},dt.Publish=function(pt,yt,Tt){return new dt(ot.MESSAGE,pt,Tt||{},yt||"")},dt.Status=function(pt,yt){return new dt(ot.STATUS,pt,yt||{},"")},dt.Ping=function(){return new dt(ot.PING,[],{},"")},dt}();tt.default=lt},function(_e,tt,et){tt.__esModule=!0,tt.TextEncoder=tt.TextDecoder=void 0;var nt=it(et(745));function rt(at){if(typeof WeakMap!="function")return null;var ct=new WeakMap,lt=new WeakMap;return(rt=function(ut){return ut?lt:ct})(at)}function it(at,ct){if(!ct&&at&&at.__esModule)return at;if(at===null||typeof at!="object"&&typeof at!="function")return{default:at};var lt=rt(ct);if(lt&&lt.has(at))return lt.get(at);var dt={},ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ft in at)if(ft!=="default"&&Object.prototype.hasOwnProperty.call(at,ft)){var pt=ut?Object.getOwnPropertyDescriptor(at,ft):null;pt&&(pt.get||pt.set)?Object.defineProperty(dt,ft,pt):dt[ft]=at[ft]}return dt.default=at,lt&&lt.set(at,dt),dt}const ot=(typeof window!==void 0?window:commonjsGlobal).TextEncoder||nt.TextEncoder;tt.TextEncoder=ot;const st=(typeof window!==void 0?window:commonjsGlobal).TextDecoder||nt.TextDecoder;tt.TextDecoder=st},function(_e,tt,et){et.r(tt),et.d(tt,"TextEncoder",function(){return ft}),et.d(tt,"TextDecoder",function(){return ut});function nt(Tt,ht,gt){return ht<=Tt&&Tt<=gt}function rt(Tt){if(Tt===void 0)return{};if(Tt===Object(Tt))return Tt;throw TypeError("Could not convert argument to dictionary")}function it(Tt){for(var ht=String(Tt),gt=ht.length,vt=0,Ct=[];vt<gt;){var It=ht.charCodeAt(vt);if(It<55296||It>57343)Ct.push(It);else if(56320<=It&&It<=57343)Ct.push(65533);else if(55296<=It&&It<=56319)if(vt===gt-1)Ct.push(65533);else{var Zt=Tt.charCodeAt(vt+1);if(56320<=Zt&&Zt<=57343){var Mt=It&1023,kt=Zt&1023;Ct.push(65536+(Mt<<10)+kt),vt+=1}else Ct.push(65533)}vt+=1}return Ct}function ot(Tt){for(var ht="",gt=0;gt<Tt.length;++gt){var vt=Tt[gt];vt<=65535?ht+=String.fromCharCode(vt):(vt-=65536,ht+=String.fromCharCode((vt>>10)+55296,(vt&1023)+56320))}return ht}var st=-1;function at(Tt){this.tokens=[].slice.call(Tt)}at.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():st},prepend:function(Tt){if(Array.isArray(Tt))for(var ht=Tt;ht.length;)this.tokens.unshift(ht.pop());else this.tokens.unshift(Tt)},push:function(Tt){if(Array.isArray(Tt))for(var ht=Tt;ht.length;)this.tokens.push(ht.shift());else this.tokens.push(Tt)}};var ct=-1;function lt(Tt,ht){if(Tt)throw TypeError("Decoder error");return ht||65533}var dt="utf-8";function ut(Tt,ht){if(!(this instanceof ut))return new ut(Tt,ht);if(Tt=Tt!==void 0?String(Tt).toLowerCase():dt,Tt!==dt)throw new Error("Encoding not supported. Only utf-8 is supported");ht=rt(ht),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!ht.fatal,this._ignoreBOM=!!ht.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ut.prototype={decode:function(ht,gt){var vt;typeof ht=="object"&&ht instanceof ArrayBuffer?vt=new Uint8Array(ht):typeof ht=="object"&&"buffer"in ht&&ht.buffer instanceof ArrayBuffer?vt=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):vt=new Uint8Array(0),gt=rt(gt),this._streaming||(this._decoder=new pt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!gt.stream;for(var Ct=new at(vt),It=[],Zt;!Ct.endOfStream()&&(Zt=this._decoder.handler(Ct,Ct.read()),Zt!==ct);)Zt!==null&&(Array.isArray(Zt)?It.push.apply(It,Zt):It.push(Zt));if(!this._streaming){do{if(Zt=this._decoder.handler(Ct,Ct.read()),Zt===ct)break;Zt!==null&&(Array.isArray(Zt)?It.push.apply(It,Zt):It.push(Zt))}while(!Ct.endOfStream());this._decoder=null}return It.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(It[0]===65279?(this._BOMseen=!0,It.shift()):this._BOMseen=!0),ot(It)}};function ft(Tt,ht){if(!(this instanceof ft))return new ft(Tt,ht);if(Tt=Tt!==void 0?String(Tt).toLowerCase():dt,Tt!==dt)throw new Error("Encoding not supported. Only utf-8 is supported");ht=rt(ht),this._streaming=!1,this._encoder=null,this._options={fatal:!!ht.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ft.prototype={encode:function(ht,gt){ht=ht?String(ht):"",gt=rt(gt),this._streaming||(this._encoder=new yt(this._options)),this._streaming=!!gt.stream;for(var vt=[],Ct=new at(it(ht)),It;!Ct.endOfStream()&&(It=this._encoder.handler(Ct,Ct.read()),It!==ct);)Array.isArray(It)?vt.push.apply(vt,It):vt.push(It);if(!this._streaming){for(;It=this._encoder.handler(Ct,Ct.read()),It!==ct;)Array.isArray(It)?vt.push.apply(vt,It):vt.push(It);this._encoder=null}return new Uint8Array(vt)}};function pt(Tt){var ht=Tt.fatal,gt=0,vt=0,Ct=0,It=128,Zt=191;this.handler=function(Mt,kt){if(kt===st&&Ct!==0)return Ct=0,lt(ht);if(kt===st)return ct;if(Ct===0){if(nt(kt,0,127))return kt;if(nt(kt,194,223))Ct=1,gt=kt-192;else if(nt(kt,224,239))kt===224&&(It=160),kt===237&&(Zt=159),Ct=2,gt=kt-224;else if(nt(kt,240,244))kt===240&&(It=144),kt===244&&(Zt=143),Ct=3,gt=kt-240;else return lt(ht);return gt=gt<<6*Ct,null}if(!nt(kt,It,Zt))return gt=Ct=vt=0,It=128,Zt=191,Mt.prepend(kt),lt(ht);if(It=128,Zt=191,vt+=1,gt+=kt-128<<6*(Ct-vt),vt!==Ct)return null;var Nt=gt;return gt=Ct=vt=0,Nt}}function yt(Tt){Tt.fatal,this.handler=function(ht,gt){if(gt===st)return ct;if(nt(gt,0,127))return gt;var vt,Ct;nt(gt,128,2047)?(vt=1,Ct=192):nt(gt,2048,65535)?(vt=2,Ct=224):nt(gt,65536,1114111)&&(vt=3,Ct=240);for(var It=[(gt>>6*vt)+Ct];vt>0;){var Zt=gt>>6*(vt-1);It.push(128|Zt&63),vt-=1}return It}}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=it(et(76));function rt(at){if(typeof WeakMap!="function")return null;var ct=new WeakMap,lt=new WeakMap;return(rt=function(ut){return ut?lt:ct})(at)}function it(at,ct){if(!ct&&at&&at.__esModule)return at;if(at===null||typeof at!="object"&&typeof at!="function")return{default:at};var lt=rt(ct);if(lt&&lt.has(at))return lt.get(at);var dt={},ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ft in at)if(ft!=="default"&&Object.prototype.hasOwnProperty.call(at,ft)){var pt=ut?Object.getOwnPropertyDescriptor(at,ft):null;pt&&(pt.get||pt.set)?Object.defineProperty(dt,ft,pt):dt[ft]=at[ft]}return dt.default=at,lt&&lt.set(at,dt),dt}const ot=et(7);let st=function(ct){if(this.code=void 0,this.message=void 0,this.name=void 0,this.code=nt.codes.CLOSE_FALLBACK_CODE,Object.values(nt.codes).includes(ct))switch(this.code=ct,this.code){case nt.codes.CLOSE_GOING_AWAY:case nt.codes.CLOSE_PROTOCOL_ERROR:case nt.codes.CLOSE_UNSUPPORTED:case nt.codes.CLOSE_NO_STATUS:case nt.codes.CLOSE_ABNORMAL:case nt.codes.CLOSE_INCONSISTENT_DATA:case nt.codes.CLOSE_POLICY_VIOLATION:case nt.codes.CLOSE_TOO_LARGE:case nt.codes.CLOSE_UNEXPECTED_CONDITION:case nt.codes.CLOSE_CONNECTIVITY_LOSS:case nt.codes.CLOSE_CONNECT_EXCEPTION:case nt.codes.CLOSE_TIMEOUT:this.name=ot.DISCONNECTED,this.message="Action failed due to session disconnection.";return}this.message=nt.messages[this.code]||"No message available from code."};tt.default=st},function(_e,tt,et){var nt=et(3);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(748)),it=(()=>(typeof window!==void 0?window:commonjsGlobal).WebSocket?(typeof window!==void 0?window:commonjsGlobal).WebSocket:rt.default)();tt.default=it},function(_e,tt,et){_e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(_e,tt,et){const nt=et(750);_e.exports=function(it){const ot=nt(it.data);return ot.transactionId=it.transactionId,ot.fromAddress=it.headers["X-TB-FROM-ADDRESS"],ot}},function(_e,tt,et){_e.exports=function(rt){if(rt.length===0)return{};const it=JSON.parse(rt),ot=it.uri.substr(1).split("/");ot.shift(),ot[ot.length-1]===""&&ot.pop(),it.params={};for(let st=0,at=ot.length;st<at-1;st+=2)it.params[ot[st]]=ot[st+1];return ot.length%2===0?ot[ot.length-2]==="channel"&&ot.length>6?it.resource=`${ot[ot.length-4]}_${ot[ot.length-2]}`:it.resource=ot[ot.length-2]:ot[ot.length-1]==="channel"&&ot.length>5?it.resource=`${ot[ot.length-3]}_${ot[ot.length-1]}`:it.resource=ot[ot.length-1],it.signature=`${it.resource}#${it.method}`,it}},function(_e,tt,et){const nt=et(2),rt=nt.name,it=et(51).once;_e.exports=()=>it()&&["Chrome","Firefox","Safari"].indexOf(rt)>-1},function(_e,tt,et){const nt=et(2),rt=et(51).once;_e.exports=()=>rt()&&(nt.name==="Chrome"||nt.name==="Firefox"||nt.name==="Node"||nt.name==="Safari"||nt.name==="Edge")},function(_e,tt,et){const nt=et(51).once;_e.exports=()=>nt()},function(_e,tt,et){_e.exports="DTLS_SRTP"},function(_e,tt,et){_e.exports=function(rt){let it=rt.supportsWebRTC;return{supportsWebRTC:it==="true"||it===!0}}},function(_e,tt,et){_e.exports=function(rt,it){this.code=rt,this.message=it,this.reason=it}},function(_e,tt,et){const nt=function(it){const ot=[];this.enqueue=function(){ot.push(Array.prototype.slice.call(arguments))},this.triggerAll=function(){let at;for(;at=ot.shift();)it.trigger(...at)}};_e.exports=nt},function(_e,tt,et){const nt=et(206),rt=et(239),it=et(57),ot=et(9),st=et(142),at=et(10),ct=et(759),lt=et(760),dt=et(290).default,ut={EMPTY_RESPONSE:"Response body was empty, probably due to connectivity loss",BADLY_FORMED:"Unknown error: JSON response was badly formed",NO_ERROR:"No error message",UNEXPECTED_SERVER_RESPONSE:yt=>`Unexpected server response (${yt}). Try this operation again later.`},ft=[0,600,1200];function pt(yt){let Tt=yt===void 0?{}:yt,ht=Tt.axios,gt=ht===void 0?nt:ht,vt=Tt.retryDelays,Ct=vt===void 0?ft:vt;function It(Mt){let kt=Mt.anvilUrl,Nt=Mt.sessionId,Lt=Mt.token,Pt=Mt.clientVersion,cn=Mt.connectionId;const Jt=rt.parse(kt,!0),Bt=rt.format({protocol:Jt.protocol,auth:Jt.auth,host:Jt.host,pathname:rt.resolve((Jt.pathname||"").replace(/\/?$/,"/"),`session/${Nt}`),query:Object.assign({},Jt.query,{extended:!0})});return gt.get(Bt,{validateStatus:dn=>dn>=200&&dn<300,headers:{"X-OPENTOK-AUTH":Lt,"X-TB-VERSION":1,"X-TB-CLIENT-VERSION":Pt,"X-TB-CONNECTIONID":cn,Accept:"application/json"}}).catch(dn=>{if(dn.response){const vn=new Error(ut.UNEXPECTED_SERVER_RESPONSE(`${dn.response.statusCode}${dn.response.status?` ${dn.response.status}`:""}`));throw vn.code=at.ANVIL_INVALID_HTTP_STATUS,vn.name=ct(vn.code),vn}else if(dn.request){const vn=new Error(ut.CONNECT_FAILED);throw vn.code=at.ANVIL_CONNECT_FAILED,vn.name=ct(vn.code),vn}else{const vn=at.ANVIL_UNKNOWN_HTTP_ERROR,Tn=ct(dn.code);throw ot(dn,{code:vn,name:Tn}),dn}}).then(dn=>{let vn=dn.data;if(typeof vn=="string"){if(vn.length>0)try{JSON.parse(vn)}catch(Cn){throw Cn.message=ut.UNEXPECTED_SERVER_RESPONSE(Cn.toString()),Cn.code=at.ANVIL_XDOMAIN_OR_PARSING_ERROR,Cn.name=ct(Cn.code),Cn}const In=new Error(vn.length===0?ut.EMPTY_RESPONSE:ut.BADLY_FORMED);throw In.code=vn.length===0?at.ANVIL_EMPTY_RESPONSE_BODY:at.ANVIL_BADLY_FORMED_RESPONSE,In.name=ct(In.code),In}if(vn===null||vn.length===0){const In=new Error(ut.EMPTY_RESPONSE);throw In.code=at.ANVIL_EMPTY_RESPONSE_BODY,In.name=ct(In.code),In}const Tn=vn.filter(In=>In.error!=null),pn=Tn[0];if(pn){const In=lt(it(pn,"error.code","500"));it(pn,"error.errorMessage.message")==="Invalid token format"&&(pn.error.errorMessage.message+=` Token: ${Lt}`);const Cn=new Error(it(pn,"error.errorMessage.message",In===void 0?`Unknown error: ${pn.error.code}`:ut.NO_ERROR));throw Cn.code=In||at.ANVIL_UNEXPECTED_ERROR_CODE,Cn.name=ct(Cn.code),Cn}return new st(vn[0])})}return dt(It,(Mt,kt)=>Mt.code&&Mt.code>=3e3&&Mt.code<=3007&&Ct[kt])}_e.exports=pt},function(_e,tt,et){const nt=et(10),rt=et(7),it={[nt.ANVIL_BADLY_FORMED_RESPONSE]:rt.BADLY_FORMED_RESPONSE,[nt.ANVIL_INVALID_HTTP_STATUS]:rt.INVALID_HTTP_STATUS,[nt.ANVIL_XDOMAIN_OR_PARSING_ERROR]:rt.XDOMAIN_OR_PARSING_ERROR,[nt.ANVIL_UNKNOWN_HTTP_ERROR]:rt.UNKNOWN_HTTP_ERROR,[nt.ANVIL_UNEXPECTED_ERROR_CODE]:rt.UNEXPECTED_ERROR_CODE,[nt.ANVIL_EMPTY_RESPONSE_BODY]:rt.EMPTY_RESPONSE_BODY,[nt.ANVIL_CONNECT_FAILED]:rt.CONNECT_FAILED,[nt.AUTHENTICATION_ERROR]:rt.AUTHENTICATION_ERROR,[nt.INVALID_SESSION_ID]:rt.INVALID_SESSION_ID,[nt.TERMS_OF_SERVICE_FAILURE]:rt.TERMS_OF_SERVICE_FAILURE,[nt.UNEXPECTED_SERVER_RESPONSE]:rt.UNEXPECTED_SERVER_RESPONSE};function ot(st){return it[st]}_e.exports=ot},function(_e,tt,et){const nt=et(10),rt={400:nt.INVALID_SESSION_ID,403:nt.AUTHENTICATION_ERROR,404:nt.INVALID_SESSION_ID,409:nt.TERMS_OF_SERVICE_FAILURE,500:nt.UNEXPECTED_SERVER_RESPONSE};function it(ot){return rt[ot]}_e.exports=it},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(48));const st=et(18),at=et(762);let ct=function(lt){(0,ot.default)(dt,lt);function dt(ft){var pt;return ft===void 0&&(ft={}),pt=lt.call(this)||this,pt._generateKey=ft.generateKey||at,pt}var ut=dt.prototype;return ut.set=function(){var ft=(0,it.default)(rt.default.mark(function yt(Tt,ht){var gt;return rt.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return this.keyPromise=this._generateKey(Tt,ht),Ct.next=3,this.keyPromise;case 3:gt=Ct.sent,this.emit("keyChanged",gt);case 5:case"end":return Ct.stop()}},yt,this)}));function pt(yt,Tt){return ft.apply(this,arguments)}return pt}(),ut.get=function(){var ft=(0,it.default)(rt.default.mark(function yt(){var Tt;return rt.default.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.next=2,this.keyPromise;case 2:return Tt=gt.sent,gt.abrupt("return",Tt);case 4:case"end":return gt.stop()}},yt,this)}));function pt(){return ft.apply(this,arguments)}return pt}(),ut.clear=function(){this.keyPromise=void 0},dt}(st);_e.exports=ct},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=function(){var st=(0,it.default)(rt.default.mark(function at(ct,lt){var dt,ut,ft,pt;return rt.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return dt=!1,ut=!0,ft=new TextEncoder,Tt.next=5,window.crypto.subtle.importKey("raw",ft.encode(lt),{name:"PBKDF2"},dt,["deriveBits","deriveKey"]);case 5:return pt=Tt.sent,Tt.abrupt("return",window.crypto.subtle.deriveKey({name:"PBKDF2",salt:ft.encode(ct),iterations:1e5,hash:"SHA-256"},pt,{name:"AES-CTR",length:256},ut,["encrypt","decrypt"]));case 7:case"end":return Tt.stop()}},at)}));return function(ct,lt){return st.apply(this,arguments)}}();_e.exports=ot},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(2);let st={SFrame:{}};ot.isNode||(st=et(764));const at=st,ct=at.SFrame,lt=ut=>ct.createClient(ut,{skipVp8PayloadHeader:!0});let dt=function(){function ut(){this._clientStore={}}var ft=ut.prototype;return ft.createSender=function(){var pt=(0,it.default)(rt.default.mark(function Tt(ht){return rt.default.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(ht===void 0&&(ht=0),!this.getSender(ht)){vt.next=3;break}return vt.abrupt("return",this.getSender(ht));case 3:return this._clientStore[ht]||(this._clientStore[ht]={}),vt.next=6,lt(ht);case 6:return this._clientStore[ht].sender=vt.sent,vt.abrupt("return",this.getSender(ht));case 8:case"end":return vt.stop()}},Tt,this)}));function yt(Tt){return pt.apply(this,arguments)}return yt}(),ft.createReceiver=function(){var pt=(0,it.default)(rt.default.mark(function Tt(ht){return rt.default.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(!this.getReceiver(ht)){vt.next=2;break}return vt.abrupt("return",this.getReceiver(ht));case 2:return this._clientStore[ht]||(this._clientStore[ht]={}),vt.next=5,lt(ht);case 5:return this._clientStore[ht].receiver=vt.sent,vt.abrupt("return",this.getReceiver(ht));case 7:case"end":return vt.stop()}},Tt,this)}));function yt(Tt){return pt.apply(this,arguments)}return yt}(),ft.getSender=function(yt){var Tt;return(Tt=this._clientStore[yt])==null?void 0:Tt.sender},ft.getReceiver=function(yt){var Tt;return(Tt=this._clientStore[yt])==null?void 0:Tt.receiver},ft.deleteReceiver=function(yt){this.getReceiver(yt)&&(this._clientStore[yt].receiver.deleteReceiver(yt),delete this._clientStore[yt].receiver)},ft.deleteSender=function(yt){var Tt;(Tt=this._clientStore[yt])==null||delete Tt.sender},ut}();_e.exports=dt},function(_e,tt,et){(function(nt){(function(it,ot){_e.exports=ot()})(this,function(){return function(rt){var it={};function ot(st){if(it[st])return it[st].exports;var at=it[st]={i:st,l:!1,exports:{}};return rt[st].call(at.exports,at,at.exports,ot),at.l=!0,at.exports}return ot.m=rt,ot.c=it,ot.d=function(st,at,ct){ot.o(st,at)||Object.defineProperty(st,at,{enumerable:!0,get:ct})},ot.r=function(st){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(st,"__esModule",{value:!0})},ot.t=function(st,at){if(at&1&&(st=ot(st)),at&8||at&4&&typeof st=="object"&&st&&st.__esModule)return st;var ct=Object.create(null);if(ot.r(ct),Object.defineProperty(ct,"default",{enumerable:!0,value:st}),at&2&&typeof st!="string")for(var lt in st)ot.d(ct,lt,function(dt){return st[dt]}.bind(null,lt));return ct},ot.n=function(st){var at=st&&st.__esModule?function(){return st.default}:function(){return st};return ot.d(at,"a",at),at},ot.o=function(st,at){return Object.prototype.hasOwnProperty.call(st,at)},ot.p="",ot(ot.s="./index.js")}({"./Client.js":function(rt,it,ot){ot.r(it),ot.d(it,"SFrame",function(){return at});var st=ot("./Worker.js");const at={createClient:async function(dt,ut){const ft=new lt;return await ft.init(dt,ut),ft}};async function ct(dt){return dt instanceof CryptoKey&&dt.type=="private"?await crypto.subtle.exportKey("pkcs8",dt):dt instanceof CryptoKey?await crypto.subtle.exportKey("raw",dt):dt instanceof Uint8Array?dt.buffer.slice(0):dt.slice(0)}class lt extends EventTarget{constructor(){super(),this.worker=new st.default,this.transId=1,this.transactions=new Map,this.worker.addEventListener("message",async ut=>{const ft=ut.data;if(ft.transId){const pt=this.transactions.get(ft.transId);this.transactions.delete(ft.transId),ft.error?pt.reject(new Error(ft.error)):pt.resolve(ft.result)}else if(ft.event){const pt=new Event(ft.event.name);pt.id=ft.event.data.id,pt.senderId=ft.event.data.senderId,this.dispatchEvent(pt)}}),this.postMessage=(ut,ft,pt)=>new nt((yt,Tt)=>{const ht=this.transId++;this.worker.postMessage({transId:ht,cmd:ut,args:ft},pt),this.transactions.set(ht,{resolve:yt,reject:Tt})})}async init(ut,ft){return this.postMessage("init",{senderId:ut,config:ft})}async setSenderEncryptionKey(ut){const ft=await ct(ut);return this.postMessage("setSenderEncryptionKey",[ft],[ft])}async ratchetSenderEncryptionKey(){return this.postMessage("ratchetSenderEncryptionKey")}async setSenderSigningKey(ut){const ft=await ct(ut);return this.postMessage("setSenderSigningKey",[ft])}async addReceiver(ut){return this.postMessage("addReceiver",[ut])}async setReceiverEncryptionKey(ut,ft){const pt=await ct(ft);return this.postMessage("setReceiverEncryptionKey",[ut,pt],[pt])}async setReceiverVerifyKey(ut,ft){const pt=await ct(ft);return this.postMessage("setReceiverVerifyKey",[ut,pt],[pt])}deleteReceiver(ut){return this.postMessage("deleteReceiver",[ut])}async encrypt(ut,ft){const pt=ft.track.kind,{readable:yt,writable:Tt}=ft.createEncodedStreams?ft.createEncodedStreams():ft.createEncodedVideoStreams?ft.createEncodedVideoStreams():ft.createEncodedAudioStreams();return this.postMessage("encrypt",{id:ut,kind:pt,readableStream:yt,writableStream:Tt},[yt,Tt])}async decrypt(ut,ft){const pt=ft.track.kind,{readable:yt,writable:Tt}=ft.createEncodedStreams?ft.createEncodedStreams():ft.createEncodedVideoStreams?ft.createEncodedVideoStreams():ft.createEncodedAudioStreams();return this.postMessage("decrypt",{id:ut,kind:pt,readableStream:yt,writableStream:Tt},[yt,Tt])}close(){this.worker.terminate();for(let ut of this.transactions.values())ut.reject(new Error("Client closed"));this.transactions.clear()}}},"./Worker.js":function(rt,it,ot){ot.r(it),ot.d(it,"default",function(){return ct});var st=ot("./node_modules/worker-loader/dist/runtime/inline.js"),at=ot.n(st);function ct(){return at()(`/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./Worker.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./Worker.js":
/*!*******************!*\\
  !*** ./Worker.js ***!
  \\*******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_Context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/Context.js */ "./lib/Context.js");
/* harmony import */ var _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/VP8PayloadHeader.js */ "./lib/VP8PayloadHeader.js");
/* harmony import */ var _lib_Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/Utils.js */ "./lib/Utils.js");
/* harmony import */ var _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/TaskQueue.js */ "./lib/TaskQueue.js");






const postDecryptStatusMessage = lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()((message) => {
	postMessage(message)
},  1000, { leading: false, trailing: true });

let context; 

onmessage = async (event) => {
	//Get data
	const {transId,cmd,args} = event.data;
	
	try {
		let result = true;
		
		//Depending on the cmd
		switch(event.data.cmd)
		{
			case "init":
			{
				//Get info
				const {senderId, config} = args;
				//Crate context
				context = new _lib_Context_js__WEBPACK_IMPORTED_MODULE_1__["Context"](senderId, config);
				break;
			}
			case "encrypt":
			{
				//The recrypt queue
				const tasks = new _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__["TaskQueue"]();
				//Get event data
				const{id, kind, readableStream, writableStream} = args;
				//Create transform stream foo encrypting
				const transformStream = new TransformStream({
					transform: async (chunk, controller)=>{
						//Nothing in clear
						let skip = 0;
						//Check if it is video and we are skipping vp8 payload header
						if (kind=="video" && context.isSkippingVp8PayloadHeader())
						{
							//Get VP8 header
							const vp8 = _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__["VP8PayloadHeader"].parse(chunk.data);
							//Skip it
							skip = vp8.byteLength;
						}
						//Enqueue task
						tasks.enqueue (
							context.encrypt(kind, id, chunk.data, skip),
							(encrypted) => {
								//Set back encrypted payload
								chunk.data = encrypted.buffer;
								//write back
								controller.enqueue(chunk);
							},
							(error)=>{
								//TODO: handle errors
							}
						);
					}
				});
				//Encrypt
				readableStream
					.pipeThrough(transformStream)
					.pipeTo(writableStream);
				break;
			}
			case "decrypt":
			{
				//The recrypt queue
				const tasks = new _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__["TaskQueue"]();
				//Last reveiced senderId
				let senderId = -1;
				//Get event data
				const{id, kind, readableStream, writableStream} = args;
				//Create transform stream for encrypting
				const transformStream = new TransformStream({
					transform: async (chunk, controller)=>{
						//Nothing in clear
						let skip = 0;
						//Check if it is video and we are skipping vp8 payload header
						if (kind=="video" && context.isSkippingVp8PayloadHeader())
						{
							//Get VP8 header
							const vp8 = _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__["VP8PayloadHeader"].parse(chunk.data);
							//Skip it
							skip = vp8.byteLength;
						}

						//Enqueue task
						tasks.enqueue(
							context.decrypt(kind, id, chunk.data, skip),
							(decrypted) => {
								//Set back decrypted payload
								chunk.data = decrypted.buffer;
								//write back
								controller.enqueue(chunk);
								//If it is a sender
								if (decrypted.senderId!=senderId)
								{
									//Store it
									senderId = decrypted.senderId;
									//Launch event
									postMessage ({event: {
										name	: "authenticated",
										data	: {
											id	 : id,
											senderId : senderId
										}
									}});
								}
								if (decrypted.decryptionRestored) {
									postDecryptStatusMessage({
										event: {
											name: "decryptionRestored",
											data: {
												id,
												senderId,
											},
										},
									});
								}
							},
							(error) => {
								if (error.message === 'decryptFailed') {
									postDecryptStatusMessage({
										event: {
											name: "decryptFailed",
											data: {
												id,
												senderId,
											},
										},
								});
								}
							}
						);
					}
				});
				//Decrypt
				readableStream
					.pipeThrough(transformStream)
					.pipeTo(writableStream);
				break;
			}
			default:
				//Excute "cmd" method on context
				result = await context[cmd](...args || []);
		}
		//Send result back
		postMessage ({transId,result});
	} catch (error) {
		console.error(error);
		//Send error back
		postMessage({transId,error});
	}
};


/***/ }),

/***/ "./lib/AesCm128HmacSha256EncryptionKey.js":
/*!************************************************!*\\
  !*** ./lib/AesCm128HmacSha256EncryptionKey.js ***!
  \\************************************************/
/*! exports provided: AesCm128HmacSha256EncryptionKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AesCm128HmacSha256EncryptionKey", function() { return AesCm128HmacSha256EncryptionKey; });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./lib/Utils.js");
/* harmony import */ var _Salts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Salts.js */ "./lib/Salts.js");
/* harmony import */ var _IV_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IV.js */ "./lib/IV.js");




const ratchetKey = (key) => 
	crypto.subtle.deriveBits(
		{
			name : "HKDF",
			hash : "SHA-256",
			salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].RatchetKey,
			info : new ArrayBuffer()
		},
		key,
		256
	);

class AesCm128HmacSha256EncryptionKey 
{
	constructor(){
		this.ratchets = [];
	}

	async setKey(key)
	{
		if (key instanceof CryptoKey)
		{
			//Check private key algorithm
			if (key.algorithm.name!="HKDF")
				//Error
				throw new Error("Invalid key");
		} else {
			//Import key
			key = await crypto.subtle.importKey(
				"raw",
				key,
				"HKDF",
				false,
				["deriveBits", "deriveKey"]
			);
		}
		this.key = key;
		
		//Get salt key
		this.saltKey = new Uint8Array(await crypto.subtle.deriveBits(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].SaltKey,
				info : new ArrayBuffer()
			},
			key,
			128
		));
	
		//Get encryption key
		this.encryptionKey = await crypto.subtle.deriveKey(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].EncryptionKey,
				info : new ArrayBuffer()
			},
			key,
			{
				name : "AES-CTR",
				length : 128
			},
			false,
			["encrypt","decrypt"]
		);
	
		//Get authentication key
		this.authKey = await crypto.subtle.deriveKey(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].AuthenticationKey,
				info : new ArrayBuffer()
			},
			key,
			{
				name : "HMAC",
				hash : "SHA-256",
				length : 256
			},
			false,
			["sign","verify"]
		);
	}

	
	async encrypt(type,header,payload,extraBytes,skip)
	{
		//Encure int
		skip = skip ? skip : 0;
		
		//Create IV
		const iv = _IV_js__WEBPACK_IMPORTED_MODULE_2__["IV"].generate(header.keyId, header.counter, this.saltKey);
		
		//Encrypt
		const encrypted = await crypto.subtle.encrypt(
			{
				name	: "AES-CTR",
				counter : iv,
				length  : 128
			},
			this.encryptionKey,
			payload
		);
	
		//Get auth tag length from media type
		const authTagLength = AesCm128HmacSha256EncryptionKey.getAuthTagLen(type);
		
		//Create encrypted frame
		const encryptedFrame = new Uint8Array(header.byteLength + payload.byteLength + authTagLength + extraBytes + skip);
		
		//Set header and encrypted payolad
		encryptedFrame.set(header, skip);
		encryptedFrame.set(new Uint8Array(encrypted), skip + header.length);
		
		//Authenticate
		const signature = new Uint8Array(await crypto.subtle.sign(
			"HMAC",
			this.authKey, 
			encryptedFrame.subarray(skip, skip + header.byteLength + encrypted.byteLength)
		));
	
		//Truncate
		const authTag = signature.subarray(0, authTagLength);
	
		//Append authentication tag
		encryptedFrame.set(authTag, skip + encrypted.byteLength + header.byteLength );
		
		//Done
		return [encryptedFrame,authTag];
		
	}
	
	async decrypt(type, header, encryptedFrame, extrabytes, skip)
	{
		//Encure int
		skip = skip ? skip : 0;
		
		//Create IV
		const iv = _IV_js__WEBPACK_IMPORTED_MODULE_2__["IV"].generate(header.keyId, header.counter, this.saltKey);
		
		//Get auth tag length from media type
		const authTagLength = AesCm128HmacSha256EncryptionKey.getAuthTagLen(type);
		
		//Get encrypted frame length (without extra bytes from signature)
		const frameLength = encryptedFrame.byteLength - extrabytes - skip;
		
		//Get authentication tag
		const authTag = encryptedFrame.subarray(skip + frameLength - authTagLength, skip + frameLength);
		
		//Get encrypted payload
		const encrypted = encryptedFrame.subarray(skip + header.byteLength, skip + frameLength - authTagLength);
		
		//Calculate signature
		const signature = new Uint8Array(await crypto.subtle.sign(
			"HMAC",
			this.authKey, 
			encryptedFrame.subarray(skip, skip + header.byteLength + encrypted.byteLength)
		));
	
		//Authenticate authTag
		let authenticated = true;
		//Avoid timimg attacks by iterating over all bytes
		for (let i=0;i<authTagLength;++i)
			//check signature
			authenticated &= authTag[i]===signature[i];
		
		//If not all where equal
		if (!authenticated)
			//Authentication error
			throw new Error("Authentication error");
		
		//Decrypt
		const payload = new Uint8Array (await crypto.subtle.decrypt(
			{
				name	: "AES-CTR",
				counter : iv,
				length  : 128
			},
			this.encryptionKey,
			encrypted
		));
		
		//Done
		return [payload, authTag];
	}
	
	async ratchet(index)
	{
		// return stored key if exists
		if (this.ratchets[index]) {
			return this.ratchets[index];
		}
		
		//Create new key
		const key = new AesCm128HmacSha256EncryptionKey();

		// Get previous ratchet
		const previousRatchetKey = index === 0 ? this.key : this.ratchets[index - 1].key;
		
		//Set ratchet key
		await key.setKey(await ratchetKey(previousRatchetKey));
		
		this.ratchets[index] = key;
		//Done
		return key;
	}
	
	static getAuthTagLen(type)
	{
		return type.toLowerCase()==="video" ? 10 : 4;
	};
	
	static async create(raw) 
	{
		//Create new key
		const key = new AesCm128HmacSha256EncryptionKey();
		//Set raw key
		await key.setKey(raw);
		//Done
		return key;
	}
};



/***/ }),

/***/ "./lib/Context.js":
/*!************************!*\\
  !*** ./lib/Context.js ***!
  \\************************/
/*! exports provided: Context */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Context", function() { return Context; });
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _Sender_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Sender.js */ "./lib/Sender.js");
/* harmony import */ var _Receiver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Receiver.js */ "./lib/Receiver.js");




class Context
{
	
	constructor(senderId, config)
	{
		//Store config
		this.config = Object.assign({}, config);
		//Only one sender per context
		this.sender = new _Sender_js__WEBPACK_IMPORTED_MODULE_1__["Sender"](senderId);
		
		//The map of known remote senders
		this.receivers = new Map();
	}
	
	isSkippingVp8PayloadHeader()
	{
		return !!this.config.skipVp8PayloadHeader;
	}
		
	async setSenderEncryptionKey(key)
	{
		//Set it
		return this.sender.setEncryptionKey(key);
	}
	
	async ratchetSenderEncryptionKey()
	{
		//Set it
		return this.sender.ratchetEncryptionKey();
	}
	
	async setSenderSigningKey(key)
	{
		//Set it
		return this.sender.setSigningKey(key);
	}
	
	addReceiver(receiverkKeyId)
	{
		//Check we don't have a receiver already for that id
		if(this.receivers.has(receiverkKeyId))
			//Error
			throw new Error("There was already a receiver for keyId "+receiverkKeyId);
		//Add new
		this.receivers.set(receiverkKeyId, new _Receiver_js__WEBPACK_IMPORTED_MODULE_2__["Receiver"](receiverkKeyId));
	}
	
	async setReceiverEncryptionKey(receiverkKeyId, key)
	{
		//Get receiver for the sender
		const receiver = this.receivers.get(receiverkKeyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId "+receiverkKeyId);
		
		//Rachet
		return receiver.setEncryptionKey(key);
	}
	
	async setReceiverVerifyKey(receiverkKeyId,key)
	{
		//Get receiver for the sender
		const receiver = this.receivers.get(receiverkKeyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId "+receiverkKeyId);
		
		//Rachet
		return receiver.setVerifyKey(key);
	}
	
	deleteReceiver(receiverkKeyId)
	{
		//Delete receiver
		return this.receivers.delete(receiverkKeyId);
	}
	
	async encrypt(type, ssrcId, frame, skip)
	{
		//Encrypt it
		return this.sender.encrypt(type, ssrcId, frame, skip);
	}
	
	async decrypt(type, ssrcId, encryptedFrame, skip)
	{
		//convert if needed
		if (!(encryptedFrame instanceof Uint8Array))
			encryptedFrame = new Uint8Array (encryptedFrame);
		
		//Parse encrypted payload
		const header = _Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].parse(encryptedFrame.subarray(skip));
		
		//Get receiver for the sender
		const receiver = this.receivers.get(header.keyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId " + header.keyId);
		
		//Decrypt it
		return receiver.decrypt(type, ssrcId, header, encryptedFrame, skip);
	}
	
};


/***/ }),

/***/ "./lib/EcdsaSignKey.js":
/*!*****************************!*\\
  !*** ./lib/EcdsaSignKey.js ***!
  \\*****************************/
/*! exports provided: EcdsaSignKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EcdsaSignKey", function() { return EcdsaSignKey; });
//TODO: Update to Ed25519 when available
// https://chromestatus.com/features/4913922408710144
// https://chromium.googlesource.com/chromium/src/+log/master/components/webcrypto/algorithms/ed25519.cc

class EcdsaSignKey
{
	
	async setKey(privKey)
	{
		//If it is a crypto key already
		if (privKey instanceof CryptoKey)
		{
			//Check private key algorithm
			if (privKey.algorithm.name!="ECDSA" || !privKey.usages.includes("sign"))
				//Error
				throw new Error("Invalid key");
			//Set it
			this.privKey = privKey;
		} else {
			//Import it
			this.privKey = await crypto.subtle.importKey(
				"pkcs8",
				privKey,
				{
					name		: "ECDSA",
					namedCurve	: "P-521"
				},
				false,
				["sign"]
			);
		}
	}
	
	async sign(authTags)
	{
		//Verify
		return new Uint8Array(await crypto.subtle.sign(
			{
			  name: "ECDSA",
			  hash: "SHA-512"
			},
			this.privKey,
			authTags
		));
	}
	
	static getSignatureLen()
	{
		return 64;
	}
	
	static async create(privKey)
	{
		//Craete key
		const key = new EcdsaSignKey();
		//Set key
		await key.setKey(privKey);
		//Done
		return key;
		
	}
};


/***/ }),

/***/ "./lib/EcdsaVerifyKey.js":
/*!*******************************!*\\
  !*** ./lib/EcdsaVerifyKey.js ***!
  \\*******************************/
/*! exports provided: EcdsaVerifyKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EcdsaVerifyKey", function() { return EcdsaVerifyKey; });

class EcdsaVerifyKey
{
	async setKey(pubKey)
	{
		//If it is a crypto key already
		if (pubKey instanceof CryptoKey)
		{
			//Check 
			if (pubKey.algorithm.name!="ECDSA" || !pubKey.usages.includes("verify"))
				//Error
				throw new Error("Invalid key");
			//Set it
			this.pubKey = pubKey;
		} else {
			//Import it
			this.pubKey = await crypto.subtle.importKey(
				"raw",
				pubKey,
				{
					name		: "ECDSA",
					namedCurve	: "P-521"
				},
				false,
				["verify"]
			);
		}
	}
	
	async verify(signed,signature)
	{
		//Verify
		return await window.crypto.subtle.verify(
			{
				name: "ECDSA",
				hash: "SHA-512"
			},
			this.pubKey,
			signature,
			signed
		);
	}
	
	static getSignatureLen()
	{
		return 64;
	}
	
	static async create(pubKey)
	{
		//Craete key
		const key = new EcdsaVerifyKey();
		//Set key
		await key.setKey(pubKey);
		//Done
		return key;
		
	}
};


/***/ }),

/***/ "./lib/Header.js":
/*!***********************!*\\
  !*** ./lib/Header.js ***!
  \\***********************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return Header; });
/*
	0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+
	|S|LEN  |X|  K  |
	+-+-+-+-+-+-+-+-+
	SFrame header metadata

	Signature flag (S): 1 bit This field indicates the payload contains a signature of set. Counter Length (LEN): 3 bits This field indicates the length of the CTR fields in bytes. Extended Key Id Flag (X): 1 bit
	Indicates if the key field contains the key id or the key length. Key or Key Length: 3 bits This field contains the key id (KID) if the X flag is set to 0, or the key length (KLEN) if set to 1.

	If X flag is 0 then the KID is in the range of 0-7 and the frame counter (CTR) is found in the next LEN bytes:

	 0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+---------------------------------+
	|S|LEN  |0| KID |    CTR... (length=LEN)          |
	+-+-+-+-+-+-+-+-+---------------------------------+
	Key id (KID): 3 bits The key id (0-7). Frame counter (CTR): (Variable length) Frame counter value up to 8 bytes long.

	if X flag is 1 then KLEN is the length of the key (KID), that is found after the SFrame header metadata byte. After the key id (KID), the frame counter (CTR) will be found in the next LEN bytes:

	 0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+---------------------------+---------------------------+
	|S|LEN  |1|KLEN |   KID... (length=KLEN)    |    CTR... (length=LEN)    |
	+-+-+-+-+-+-+-+-+---------------------------+---------------------------+
*/
const Header = {
	
	parse : function(buffer) 
	{
		//Create uint view
		const view = new Uint8Array(buffer);
		
		//Get metadata
		const metadata = view[0];
		
		//Get values
		const s		= !!(metadata & 0x80);
		const len	= (metadata >> 4) & 0x07;
		const x		= !!(metadata & 0x08);
		const k		= metadata & 0x07;
		
		//Get key id
		let keyId = 0;
		//Check if it is the extented key format
		if (x)
		{
			//Read length
			for (let i=0;i<k;i++)
				keyId = (keyId * 256) + view[i+1];
		} else {
			//Short version
			keyId = k;
		}
		
		//Get ctr
		const ini = x ? k + 1 : 1;
		let counter = 0;
		//Read length
		for (let i=0;i<len;i++)
			counter = (counter * 256) + view[ini+i];
		
		//Get header buffer view
		const header = view.subarray(0, x ? k + len + 1 : len + 1);
		
		//Add parsed atributes
		header.signature   = s;
		header.keyId	   = keyId;
		header.counter	   = counter;
		
		//Done
		return header; 
	},
	generate: function(signature,keyId,counter)
	{
		//Check keyId
		Header.checkKeyId(keyId);
		
		//Calcultate variavle length
		const varlen = (x) => x ? parseInt(Math.log(x) / Math.log(256))+1 : 1;
		
		//Get key extension and length
		const x = keyId > 7;
		const k = x ? varlen(keyId) : keyId;
		
		//Get counter length
		const len = varlen(counter);
		
		//Ensure counter is not huge
		if (len>7)
			//Error
			throw new Error("Counter is too big");
		
		//Generate header
		const header = new Uint8Array( x ? 1 + k + len : 1 + len);
		
		//Set metadata header
		header[0] = !!signature;
		header[0] = header[0] << 3  | ( len & 0x07);
		header[0] = header[0] << 1  | x;
		header[0] = header[0] << 3  | ( k & 0x07);
		
		//Add parsed atributes
		header.signature   = !!signature;
		header.keyId	   = keyId;
		header.counter	   = counter;
		
		//If extended key
		if (x)
			//Add key id
			for (let i=0; i<k; ++i)
				header[i+1] = (keyId >> (k-1-i)*8) & 0xff;
		//The coutner init
		const ini = x ? k + 1 : 1;
		//Add counter
		for (let i=0; i<len; ++i)
			header[ini+i] = (counter >> (len-1-i)*8) & 0xff;
			
		
		//Done
		return header;
	}
};

Header.MaxKeyId = 0xFFFFFFFFFF;

Header.checkKeyId = function(keyId)
{
	//Check it is possitive
	if (keyId<0)
		//Error
		throw new Error("keyId must be possitive");
	//Check it is possitive
	if (keyId>Header.MaxKeyId)
		//Error
		throw new Error("keyId must be 5 bytes long at most");
};


/***/ }),

/***/ "./lib/IV.js":
/*!*******************!*\\
  !*** ./lib/IV.js ***!
  \\*******************/
/*! exports provided: IV */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IV", function() { return IV; });
const IV = 
{
	generate : function(keyId,counter,salt)
	{
		//128 bits
		const iv = new Uint8Array (16);
		//Get view
		const view = new DataView(iv.buffer);
		//Set keyId
		view.setBigUint64(0, BigInt(counter));
		//Set coutner
		view.setBigUint64(8, BigInt(keyId));
		//Xor with salt key
		for (let i=0; i<iv.byteLength; ++i)
			//xor
			view.setUint8(i,iv[i]^salt[i]); 
		//return buffer
		return iv;
	}
};


/***/ }),

/***/ "./lib/Receiver.js":
/*!*************************!*\\
  !*** ./lib/Receiver.js ***!
  \\*************************/
/*! exports provided: Receiver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Receiver", function() { return Receiver; });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./lib/Utils.js");
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _EcdsaVerifyKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EcdsaVerifyKey.js */ "./lib/EcdsaVerifyKey.js");
/* harmony import */ var _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AesCm128HmacSha256EncryptionKey.js */ "./lib/AesCm128HmacSha256EncryptionKey.js");





const MaxRatchetAttempts = 5;
const ReplayWindow = 128;
const KeyTimeout = 1000;

class Receiver
{
	constructor(senderId)
	{
		//Check keyId
		_Header_js__WEBPACK_IMPORTED_MODULE_1__["Header"].checkKeyId(senderId);
		
		//Store sender id
		this.senderId = senderId;
		//Last received counter
		this.maxReceivedCounter = -1;
		//Number or ratchets of current key
		this.numKeyRatchets = 0;
		//Create keyring
		this.keyring = [];
		//Pending verified tags
		this.pending = new Map();
		// has failed decryption
		this.keyFailing = false;

		//Scheduled keys
		this.scheduledKeys = new WeakSet ();

		//Function to clear up keys up to given one
		this.schedulePreviousKeysTimeout = (key) =>{
			//If this is the only key
			if (this.keyring.length==1 && this.keyring[0]===key)
				//Do nothing
				return;
			//If has been already scheduled
			if (this.scheduledKeys.has(key))
				//Not do it twice
				return;
			//Add it
			this.scheduledKeys.add(key);
			//Schedule key timeout of previous keys
			setTimeout(()=>{
				//Find key index
				const i = this.keyring.findIndex(k=>k===key);
				//Remove previous keys
				this.keyring = this.keyring.splice(i);
			}, KeyTimeout);
		};
	}
	
	async decrypt(type, ssrcId, header, encryptedFrame, skip)
	{
		let authTag, payload, extrabytes = 0, signature, signed;
		const prevAuthTags = [];
		
		//convert if needed
		if (!(encryptedFrame instanceof Uint8Array))
			encryptedFrame = new Uint8Array (encryptedFrame);

		// Replay attack protection
		if (header.counter < this.maxReceivedCounter && (this.maxReceivedCounter - header.counter) > ReplayWindow) {
			//Error
			throw new Error("Replay check failed, frame counter too old");
		}
		
		//Check if frame contains signature
		if (header.signature)
		{
			//Start from the end
			let end = encryptedFrame.byteLength;
			
			//Get lengths
			const singatureLength = ECDSAVerifyKey.getSignatureLen();
			const authTagLength   = _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type);
			
			//Get signature
			signature = encryptedFrame.subarray(end - singatureLength, end);
			//Move backward
			end -= singatureLength;
			
			//Get number of tags
			const num = encryptedFrame[end--];
			
			//Read all tags
			for (let i=0; i<num; ++i)
			{
				//Get previous tag
				const prevTag = encryptedFrame.subarray(end - authTagLength, end);
				//Move backward
				end -= authTagLength;
				//Add tag to previous tags in hex
				prevAuthTags.push(_Utils_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].toHex(prevTag))
			}
			//Get the extra bytes
			extrabytes = encryptedFrame.byteLength - end;
			
			//Move backward to start oth current frame auth tag
			end -= authTagLength;
			
			//Get singed part
			signed = encryptedFrame.subarray(end, encryptedFrame.byteLength - singatureLength)
		}

		//For each key in key ring
		for (let i=0;i<this.keyring.length;++i)
		{
			//Get key from ring
			const key = this.keyring[i];
			try {
				//Try to decrypt payload
				[payload, authTag] = await key.decrypt(type, header, encryptedFrame, extrabytes, skip);
				//Done
				break;
			} catch(e) {
				
			}
		}

		//If not found yet
		if (!payload)
		{
			//Get last key
			const key = this.keyring[this.keyring.length-1];
			//Try ratchet last key
			for (let i = 0; i < MaxRatchetAttempts; ++i)
			{
				//Ratchet key
				const ratchetKey = await key.ratchet(i);
				try {
					//Try to decrypt payload
					[payload, authTag] = await ratchetKey.decrypt(type, header, encryptedFrame, extrabytes, skip);
					// Set working ratchet as new key
					this.keyring.push(ratchetKey);
					this.schedulePreviousKeysTimeout(ratchetKey);
					//Done
					break;
				} catch(e) {

				}
			}
		}

		//Last check
		if (!payload) {
			//Decryption failed
			if (this.keyFailing)  {
				throw new Error('decryptStillFailing')
			} else {
				this.keyFailing = true;
				throw new Error("decryptFailed");
			}
		}

		//If we are sending part of the frame in clear
		if (skip)
			//Copy skiped payload
			payload.set(encryptedFrame.subarray(0,skip),0);

		//Check if have received anything from this ssrc before
		if (!this.pending.has(ssrcId))
			//Add it
			this.pending.set(ssrcId,new Set());

		//Get pending list
		const pending = this.pending.get(ssrcId);

		//Check if it constains signatures
		if (header.signed)
		{
			//try to verify list
			if (!await this.verifyKey.verify(signed,signature))
				//Error
				throw new Error("Could not verify signature");
			//For each signed tag
			for (const tag in prevAuthTags)
				//Delete from pending to be verified tags
				pending.delete(tag);
		} else {
			//Push this tag to
			pending.add(_Utils_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].toHex(authTag));
		}

		//Set authenticated sender id and frame Id
		payload.senderId = header.keyId;
		payload.frameId  = header.counter;

		// inform that decryption is working after previously failing
		if (this.keyFailing) {
			payload.decryptionRestored = true;
			this.keyFailing = false;
		}

		//Store last received counter
		this.maxReceivedCounter = Math.max(header.counter, this.maxReceivedCounter);

		//Return decrypted payload
		return payload;
	}

	async setVerifyKey(key)
	{
		//Create new singing key
		this.verifyKey = _EcdsaVerifyKey_js__WEBPACK_IMPORTED_MODULE_2__["EcdsaVerifyKey"].create(key);
	}

	async setEncryptionKey(raw)
	{
		//Create new encryption key
		const key = await _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__["AesCm128HmacSha256EncryptionKey"].create(raw);
		//Append to the keyring
		this.keyring.push(key);
		//Restart ratchet count number
		this.numKeyRatchets = 0;
		//Activate
		this.schedulePreviousKeysTimeout(key);
	}
};


/***/ }),

/***/ "./lib/Salts.js":
/*!**********************!*\\
  !*** ./lib/Salts.js ***!
  \\**********************/
/*! exports provided: Salts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Salts", function() { return Salts; });
const textEncoder = new TextEncoder()

const Salts =  {
	"SaltKey"		: textEncoder.encode("SFrameSaltKey"),
	"EncryptionKey"		: textEncoder.encode("SFrameEncryptionKey"),
	"AuthenticationKey"	: textEncoder.encode("SFrameAuthenticationKey"),
	"RatchetKey"		: textEncoder.encode("SFrameRatchetKey")
};


/***/ }),

/***/ "./lib/Sender.js":
/*!***********************!*\\
  !*** ./lib/Sender.js ***!
  \\***********************/
/*! exports provided: Sender */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sender", function() { return Sender; });
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EcdsaSignKey.js */ "./lib/EcdsaSignKey.js");
/* harmony import */ var _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AesCm128HmacSha256EncryptionKey.js */ "./lib/AesCm128HmacSha256EncryptionKey.js");





const SigningFrameInterval = 10;

class Sender
{
	constructor(senderId)
	{
		//Check keyId
		_Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].checkKeyId(senderId);
		
		//The global frame counter
		this.counter = 0;
		
		//Store senderId/keyId
		this.senderId = senderId;
		
		//Pending frames for signing
		this.pending = new Map();
	}
	
	async encrypt(type, ssrcId, payload, skip)
	{
		//Check we have a valid key
		if (!this.key)
			throw Error("Encryption key not set");
		
		//convert if needed
		if (!(payload instanceof Uint8Array))
			payload = new Uint8Array (payload);
		
		//Encure int
		skip = skip ? skip : 0;
		
		//Get counter for frame
		const counter = this.counter++;
		
		//If we don't have the ssrc
		// TODO FIX https://github.com/medooze/sframe/issues/15 and uncomment line below
		// if (!this.pending.has(ssrcId))
		//Create new pending frames array
			this.pending.set(ssrcId,[]);
		
		//Get pending frames for signature
		const pending = this.pending.get(ssrcId);		
		
		//Do we need to sign the frames?
		const signing = this.signingKey && pending.length > SigningFrameInterval;
		
		//Get auth tag len for type
		const authTagLen = _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type);
		
		//Calculae extra bytes
		const extraBytes = signing ? pending.length * _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type) + 1 + _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__["EcdsaSignKey"].getSignatureLen() : 0;
		
		//Generate header
		const header = _Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].generate(signing,this.senderId,counter);
		
		//Encrypt frame
		const [encryptedFrame,authTag] = await this.key.encrypt(type, header, payload, extraBytes, skip);
		
		//If we are sending part of the frame in clear
		if (skip)
			//Copy skiped payload
			encryptedFrame.set(payload.subarray(0,skip),0);
		
		//If we need to sign the frame
		if (signing)
		{
			//Append after auth tag
			let ini = skip + encryptedFrame.byteLength - extraBytes;
			
			//Get tag list view
			const authTags = encryptedFrame.subarray(ini - authTagLen, (pending.length + 1) * authTagLen);
			
			//Add all previous tags 
			for (const previousTag of pending)
			{
				//Append to frame
				encryptedFrame.set(previousTag, ini);
				//Move
				ini += authTagLen;
			}
			
			//Add number of bytes
			encryptedFrame[ini++] = pending.length;
			
			//Create signature with all auth tags (including this frame's one)
			const signature = await this.signingKey.sign(authTags);
			
			//Add signature
			encryptedFrame.set(signature, ini);
			
			//Empty pending list 
			this.pending.set(ssrcId,[]);
			
		//If we can sign
		} else if (this.signingKey) {
			//Append a copy of current tag at the begining
			pending.unshift(authTag.slice());
		}
		
		//Set authenticated sender id and frame Id
		encryptedFrame.senderId = header.keyId;
		encryptedFrame.frameId  = header.counter;
		
		//Done
		return encryptedFrame;
	}
	
	async setSigningKey(key)
	{
		//Create new singing key
		this.signingKey = await _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__["EcdsaSignKey"].create(key);
	}
	
	async setEncryptionKey(key)
	{
		//Create new encryption key
		this.key = await _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].create(key);
	}
	
	async ratchetEncryptionKey()
	{
		//Check we have a valid key
		if (!this.key)
			throw Error("Encryption key not set");
		
		//Rachet the key and store it
		this.key = await this.key.ratchet();
	}
};


/***/ }),

/***/ "./lib/TaskQueue.js":
/*!**************************!*\\
  !*** ./lib/TaskQueue.js ***!
  \\**************************/
/*! exports provided: TaskQueue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskQueue", function() { return TaskQueue; });
class TaskQueue
{
	constructor()
	{
		this.tasks = [];
		this.running = false;
	}
	
	enqueue(promise,callback,error)
	{
		//enqueue task
		this.tasks.push({promise,callback,error});
		//Try run 
		this.run();
	}
	
	async run()
	{
		//If already running 
		if (this.running)
			//Nothing
			return;
		//Running
		this.running = true;
		//Run all pending tasks
		while(this.tasks.length)
		{
			try {
				//Wait for first promise to finish
				const result = await this.tasks[0].promise;
				//Run callback
				this.tasks[0].callback(result); 
			} catch(e) {
				//Run error callback
				this.tasks[0].error(e); 
			}
			//Remove task from queue
			this.tasks.shift();
		}
		//Ended
		this.running = false;
	}
}


/***/ }),

/***/ "./lib/Utils.js":
/*!**********************!*\\
  !*** ./lib/Utils.js ***!
  \\**********************/
/*! exports provided: Utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return Utils; });
const Utils = 
{
	toHex : function(buffer)
	{
		return Array.prototype.map.call(buffer instanceof Uint8Array ? buffer : new Uint8Array (buffer), x =>x.toString(16).padStart(2,"0")).join("");
	},
	fromHex: function(str)
	{
		const bytes = [];
		for (let i=0;i<str.length/2;++i)
			bytes.push(parseInt(str.substring(i*2, (i+1)*2), 16));

		return new Uint8Array(bytes);
	},
	equals : function(a,b)
	{
		if (a.byteLength != b.byteLength) return false;
		for (let i = 0 ; i != a.byteLength ; i++)
			if (a[i] != b[i]) return false;
		return true;
	}
};


/***/ }),

/***/ "./lib/VP8PayloadHeader.js":
/*!*********************************!*\\
  !*** ./lib/VP8PayloadHeader.js ***!
  \\*********************************/
/*! exports provided: VP8PayloadHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VP8PayloadHeader", function() { return VP8PayloadHeader; });

const VP8PayloadHeader = {
	
	parse : function(buffer) 
	{
		//Check size
		if (buffer.byteLength<3)
			//Invalid
			return null;
		
		//Create uint view
		const view = new Uint8Array(buffer);
		
		//Read comon 3 bytes
		//   0 1 2 3 4 5 6 7
                //  +-+-+-+-+-+-+-+-+
                //  |Size0|H| VER |P|
                //  +-+-+-+-+-+-+-+-+
                //  |     Size1     |
                //  +-+-+-+-+-+-+-+-+
                //  |     Size2     |
                //  +-+-+-+-+-+-+-+-+
		const firstPartitionSize	= view[0] >> 5;
		const showFrame			= view[0] >> 4 & 0x01;
		const version			= view[0] >> 1 & 0x07;
		const isKeyFrame		= (view[0] & 0x01) == 0;

		//check if more
		if (isKeyFrame)
		{
			//Check size
			if (buffer.byteLength<10)
				//Invalid
				return null;
			//Get size in le
			const hor = view[7]<<8 | view[6];
			const ver = view[9]<<8 | view[8];
			//Get dimensions and scale
			const width		= hor & 0x3fff;
			const horizontalScale   = hor >> 14;
			const height		= ver & 0x3fff;
			const verticalScale	= ver >> 14;
			//Key frame
			return view.subarray (0,10);
		}
		
		//No key frame
		return view.subarray (0,3);
	}
};

		


/***/ }),

/***/ "./node_modules/lodash/_Symbol.js":
/*!****************************************!*\\
  !*** ./node_modules/lodash/_Symbol.js ***!
  \\****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/** Built-in value references. */
var Symbol = root.Symbol;

module.exports = Symbol;


/***/ }),

/***/ "./node_modules/lodash/_baseGetTag.js":
/*!********************************************!*\\
  !*** ./node_modules/lodash/_baseGetTag.js ***!
  \\********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js"),
    getRawTag = __webpack_require__(/*! ./_getRawTag */ "./node_modules/lodash/_getRawTag.js"),
    objectToString = __webpack_require__(/*! ./_objectToString */ "./node_modules/lodash/_objectToString.js");

/** \`Object#toString\` result references. */
var nullTag = '[object Null]',
    undefinedTag = '[object Undefined]';

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * The base implementation of \`getTag\` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the \`toStringTag\`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

module.exports = baseGetTag;


/***/ }),

/***/ "./node_modules/lodash/_baseTrim.js":
/*!******************************************!*\\
  !*** ./node_modules/lodash/_baseTrim.js ***!
  \\******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var trimmedEndIndex = __webpack_require__(/*! ./_trimmedEndIndex */ "./node_modules/lodash/_trimmedEndIndex.js");

/** Used to match leading whitespace. */
var reTrimStart = /^\\s+/;

/**
 * The base implementation of \`_.trim\`.
 *
 * @private
 * @param {string} string The string to trim.
 * @returns {string} Returns the trimmed string.
 */
function baseTrim(string) {
  return string
    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')
    : string;
}

module.exports = baseTrim;


/***/ }),

/***/ "./node_modules/lodash/_freeGlobal.js":
/*!********************************************!*\\
  !*** ./node_modules/lodash/_freeGlobal.js ***!
  \\********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable \`global\` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

module.exports = freeGlobal;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/lodash/_getRawTag.js":
/*!*******************************************!*\\
  !*** ./node_modules/lodash/_getRawTag.js ***!
  \\*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [\`toStringTag\`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * A specialized version of \`baseGetTag\` which ignores \`Symbol.toStringTag\` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw \`toStringTag\`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

module.exports = getRawTag;


/***/ }),

/***/ "./node_modules/lodash/_objectToString.js":
/*!************************************************!*\\
  !*** ./node_modules/lodash/_objectToString.js ***!
  \\************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [\`toStringTag\`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/**
 * Converts \`value\` to a string using \`Object.prototype.toString\`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

module.exports = objectToString;


/***/ }),

/***/ "./node_modules/lodash/_root.js":
/*!**************************************!*\\
  !*** ./node_modules/lodash/_root.js ***!
  \\**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ "./node_modules/lodash/_freeGlobal.js");

/** Detect free variable \`self\`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

module.exports = root;


/***/ }),

/***/ "./node_modules/lodash/_trimmedEndIndex.js":
/*!*************************************************!*\\
  !*** ./node_modules/lodash/_trimmedEndIndex.js ***!
  \\*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Used to match a single whitespace character. */
var reWhitespace = /\\s/;

/**
 * Used by \`_.trim\` and \`_.trimEnd\` to get the index of the last non-whitespace
 * character of \`string\`.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {number} Returns the index of the last non-whitespace character.
 */
function trimmedEndIndex(string) {
  var index = string.length;

  while (index-- && reWhitespace.test(string.charAt(index))) {}
  return index;
}

module.exports = trimmedEndIndex;


/***/ }),

/***/ "./node_modules/lodash/debounce.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/debounce.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    now = __webpack_require__(/*! ./now */ "./node_modules/lodash/now.js"),
    toNumber = __webpack_require__(/*! ./toNumber */ "./node_modules/lodash/toNumber.js");

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/* Built-in method references for those with the same name as other \`lodash\` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Creates a debounced function that delays invoking \`func\` until after \`wait\`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a \`cancel\` method to cancel
 * delayed \`func\` invocations and a \`flush\` method to immediately invoke them.
 * Provide \`options\` to indicate whether \`func\` should be invoked on the
 * leading and/or trailing edge of the \`wait\` timeout. The \`func\` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last \`func\`
 * invocation.
 *
 * **Note:** If \`leading\` and \`trailing\` options are \`true\`, \`func\` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the \`wait\` timeout.
 *
 * If \`wait\` is \`0\` and \`leading\` is \`false\`, \`func\` invocation is deferred
 * until to the next tick, similar to \`setTimeout\` with a timeout of \`0\`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between \`_.debounce\` and \`_.throttle\`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time \`func\` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke \`sendMail\` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure \`batchLog\` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any \`maxWait\` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        timeWaiting = wait - timeSinceLastCall;

    return maxing
      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
      : timeWaiting;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the \`maxWait\` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have \`lastArgs\` which means \`func\` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        clearTimeout(timerId);
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

module.exports = debounce;


/***/ }),

/***/ "./node_modules/lodash/isObject.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/isObject.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Checks if \`value\` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of \`Object\`. (e.g. arrays, functions, objects, regexes, \`new Number(0)\`, and \`new String('')\`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is an object, else \`false\`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

module.exports = isObject;


/***/ }),

/***/ "./node_modules/lodash/isObjectLike.js":
/*!*********************************************!*\\
  !*** ./node_modules/lodash/isObjectLike.js ***!
  \\*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Checks if \`value\` is object-like. A value is object-like if it's not \`null\`
 * and has a \`typeof\` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is object-like, else \`false\`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

module.exports = isObjectLike;


/***/ }),

/***/ "./node_modules/lodash/isSymbol.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/isSymbol.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ "./node_modules/lodash/_baseGetTag.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/** \`Object#toString\` result references. */
var symbolTag = '[object Symbol]';

/**
 * Checks if \`value\` is classified as a \`Symbol\` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is a symbol, else \`false\`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && baseGetTag(value) == symbolTag);
}

module.exports = isSymbol;


/***/ }),

/***/ "./node_modules/lodash/now.js":
/*!************************************!*\\
  !*** ./node_modules/lodash/now.js ***!
  \\************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

module.exports = now;


/***/ }),

/***/ "./node_modules/lodash/toNumber.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/toNumber.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseTrim = __webpack_require__(/*! ./_baseTrim */ "./node_modules/lodash/_baseTrim.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isSymbol = __webpack_require__(/*! ./isSymbol */ "./node_modules/lodash/isSymbol.js");

/** Used as references for various \`Number\` constants. */
var NAN = 0 / 0;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on \`root\`. */
var freeParseInt = parseInt;

/**
 * Converts \`value\` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = baseTrim(value);
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = toNumber;


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\\
  !*** (webpack)/buildin/global.js ***!
  \\***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ })

/******/ });
`,"Worker",void 0,void 0)}},"./index.js":function(rt,it,ot){ot.r(it);var st=ot("./lib/Utils.js");ot.d(it,"Utils",function(){return st.Utils});var at=ot("./Client.js");ot.d(it,"SFrame",function(){return at.SFrame})},"./lib/Utils.js":function(rt,it,ot){ot.r(it),ot.d(it,"Utils",function(){return st});const st={toHex:function(at){return Array.prototype.map.call(at instanceof Uint8Array?at:new Uint8Array(at),ct=>ct.toString(16).padStart(2,"0")).join("")},fromHex:function(at){const ct=[];for(let lt=0;lt<at.length/2;++lt)ct.push(parseInt(at.substring(lt*2,(lt+1)*2),16));return new Uint8Array(ct)},equals:function(at,ct){if(at.byteLength!=ct.byteLength)return!1;for(let lt=0;lt!=at.byteLength;lt++)if(at[lt]!=ct[lt])return!1;return!0}}},"./node_modules/worker-loader/dist/runtime/inline.js":function(rt,it,ot){rt.exports=function(st,at,ct,lt){var dt=self||window;try{try{var ut;try{ut=new dt.Blob([st])}catch{var ft=dt.BlobBuilder||dt.WebKitBlobBuilder||dt.MozBlobBuilder||dt.MSBlobBuilder;ut=new ft,ut.append(st),ut=ut.getBlob()}var pt=dt.URL||dt.webkitURL,yt=pt.createObjectURL(ut),Tt=new dt[at](yt,ct);return pt.revokeObjectURL(yt),Tt}catch{return new dt[at]("data:application/javascript,".concat(encodeURIComponent(st)),ct)}}catch{if(!lt)throw Error("Inline worker is not supported");return new dt[at](lt,ct)}}}})})}).call(this,et(0))},function(_e,tt,et){const nt=et(6),rt=et(301),it=et(71)(),ot=et(766),st=et(28);let at=function(){function ct(dt,ut){ut===void 0&&(ut={}),this._session=dt,this.PeerConnection=ut.PeerConnection||it,this._subscriberCreateQueue=new ot,this._originalSendMessages={},this._tracks=[],this._subscriberPcs={},this._sendMessage=()=>{},nt(this)}var lt=ct.prototype;return lt.parseOptions=function(ut){return Object.assign({},ut,{removeUnusedCodecs:!0,sendMessage:(ft,pt)=>this.trigger("sendMessage",ft,pt)})},lt.addTrackAddedListener=function(){this._peerConnection&&this._peerConnection.on("trackAdded",ut=>{const ft=ut.track;this._tracks.includes(ft.id)||(this._subscriberPcs[this._subscriberPcToAdd._id].push(ft.id),this._tracks.push(ft.id),this._subscriberPcToAdd._onTrackAdded(ut))})},lt.getPeerConnection=function(ut,ft){if(this._subscriberPcToAdd=ft,this._sendMessage=ut.sendMessage,this._originalSendMessages[ft._id]=this._sendMessage,this._peerConnection)this._peerConnection.addOptions(ut);else{this._firstSubscriberPc=ft._id,this.on("sendMessage",(yt,Tt)=>{this._sendMessage(yt,Tt)});const pt=this.parseOptions(ut);this._peerConnection=new this.PeerConnection(pt),this.addTrackAddedListener()}return this._subscriberPcs[ft._id]=[],this._peerConnection},lt.removeMessageSender=function(ut){delete this._originalSendMessages[ut];const ft=Object.values(this._originalSendMessages);this._sendMessage=ft[ft.length-1]||function(){}},lt.removeSubscriber=function(ut,ft){this.removeMessageSender(ut),this._peerConnection.stopTransceivers(ft)},lt.removeFromSinglePeerConnection=function(ut){if(this._firstSubscriberPc===ut)this._peerConnection.iceRestart(),this._peerConnection.generateOfferAndSend();else{const ft=pt=>{this.cachedSdp=st.updateSDPWithNewOffer(this.cachedSdp,pt.sdp);const yt=st.createSDP(this.cachedSdp.headers,this.cachedSdp.trackSections);this._peerConnection.processMessage("answer",{content:{sdp:yt}})};this._peerConnection.generateOfferAndAnswer(ft)}delete this._subscriberPcs[ut],Object.keys(this._subscriberPcs).length||(this._peerConnection.disconnect(),this._peerConnection=null)},lt.removeTrack=function(ut,ft){rt(this._tracks,ut.id),rt(this._subscriberPcs[ft]||[],ut.id)},lt.destroy=function(){this._subscriberPcToAdd=null,this._subscriberPcs=null,this._session=null,this._tracks=null,this._peerConnection&&(this._peerConnection.disconnect(),this._peerConnection=null)},lt.addSubscriber=function(ut){this._subscriberCreateQueue.add(ut)},lt.subscriberComplete=function(){this._subscriberCreateQueue.next()},lt.cacheOfferAnswer=function(ut){this.cachedSdp=st.parseSDP(ut)},ct}();_e.exports=at},function(_e,tt,et){let nt=function(){function rt(){this.queue=[],this.isAddingSubscriber=!1}var it=rt.prototype;return it.add=function(st){this.isAddingSubscriber?this.queue.push(st):(this.isAddingSubscriber=!0,st())},it.next=function(){const st=this.queue.shift();st?st():this.isAddingSubscriber=!1},rt}();_e.exports=nt},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Session||et(320)(),ot=rt.sessionObjects||et(21);return function(at,ct,lt){ct==null&&(ct=at,at=null),Array.isArray(ct)&&ct.length===1&&(ct=ct[0]);let dt=ot.sessions.get(ct);return dt||(dt=new it(at,ct,lt),ot.sessions.add(dt)),dt}}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(769),st=et(273),at=et(2),ct=et(7),lt=et(10),dt=et(13)(),ut=et(28),ft=et(72),pt=et(143)(typeof window!==void 0?window:commonjsGlobal);function yt(ht){return st(ot(ht,["AV1X","AV1","VP9","rtx","red","ulpfec","H265","X-H264UC","x-ulpfecuc"]))}const Tt=function(){var ht=(0,it.default)(rt.default.mark(function gt(){var vt,Ct,It,Zt,Mt,kt,Nt;return rt.default.wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:if(!(typeof window>"u")){Pt.next=2;break}return Pt.abrupt("return",{videoEncoders:[],videoDecoders:[]});case 2:if(vt=pt.RTCPeerConnection,!(window.RTCRtpSender&&"getCapabilities"in window.RTCRtpSender)){Pt.next=7;break}return Ct=window.RTCRtpSender.getCapabilities("video").codecs.map(cn=>cn.mimeType||cn.name).map(cn=>cn.replace("video/","")),Ct=yt(Ct),Pt.abrupt("return",{videoEncoders:Ct,videoDecoders:Ct});case 7:if(!(at.name==="Chrome"&&!("captureStream"in window.HTMLCanvasElement.prototype))){Pt.next=9;break}return Pt.abrupt("return",{videoEncoders:["VP8"],videoDecoders:["VP8"]});case 9:if(!at.isLegacyEdge){Pt.next=11;break}return Pt.abrupt("return",{videoEncoders:["H264","VP8"],videoDecoders:["H264","VP8"]});case 11:return It=window.document.createElement("canvas"),It.getContext("2d"),Zt=It.captureStream(),Pt.prev=14,kt={iceServers:[]},ft()&&(kt.sdpSemantics="plan-b"),Mt=new vt(kt),Mt.addTrack?Mt.addTrack(Zt.getVideoTracks()[0],Zt):Mt.addStream&&Mt.addStream(Zt),Pt.next=21,Mt.createOffer();case 21:return Nt=Pt.sent,Ct=ut.getCodecs(Nt.sdp,"video")||[],Ct=yt(Ct),Pt.abrupt("return",{videoEncoders:Ct,videoDecoders:Ct});case 27:throw Pt.prev=27,Pt.t0=Pt.catch(14),dt(ct.UNABLE_TO_ACCESS_MEDIA_ENGINE,new Error("OT.getSupportedCodecs was not able to get the list of supported codecs"),lt.UNABLE_TO_ACCESS_MEDIA_ENGINE);case 30:return Pt.prev=30,Mt.close(),Pt.finish(30);case 33:case"end":return Pt.stop()}},gt,null,[[14,27,30,33]])}));return function(){return ht.apply(this,arguments)}}();_e.exports=Tt},function(_e,tt,et){var nt=et(770),rt=et(237),it=et(87),ot=et(131),st=it(function(at,ct){return ot(at)?nt(at,rt(ct,1,ot,!0)):[]});_e.exports=st},function(_e,tt,et){var nt=et(92),rt=et(93),it=et(130),ot=et(33),st=et(66),at=et(94),ct=200;function lt(dt,ut,ft,pt){var yt=-1,Tt=rt,ht=!0,gt=dt.length,vt=[],Ct=ut.length;if(!gt)return vt;ft&&(ut=ot(ut,st(ft))),pt?(Tt=it,ht=!1):ut.length>=ct&&(Tt=at,ht=!1,ut=new nt(ut));e:for(;++yt<gt;){var It=dt[yt],Zt=ft==null?It:ft(It);if(It=pt||It!==0?It:0,ht&&Zt===Zt){for(var Mt=Ct;Mt--;)if(ut[Mt]===Zt)continue e;vt.push(It)}else Tt(ut,Zt,pt)||vt.push(It)}return vt}_e.exports=lt},function(_e,tt,et){const nt=et(316),rt=nt.isSupported;_e.exports=rt},function(_e,tt,et){const nt=et(110);_e.exports=nt},function(_e,tt,et){const nt=et(24)(),rt=nt.getInputMediaDevices;_e.exports=function(ot){rt().then(st=>ot(void 0,st),ot)}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.deviceHelpers||et(24)(),at=st.hasAudioOutputApiSupport,ct=st.hasDevice,lt=ot.getAudioOutputDevices||et(332),dt=ot.updateSubscribersSinkId||et(334),ut=et(13)(),ft=et(7);return function(){var yt=(0,it.default)(rt.default.mark(function Tt(ht){var gt,vt;return rt.default.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:if(at()){It.next=2;break}throw ut(ft.UNSUPPORTED_BROWSER,new Error("setAudioOutputDevice is not supported in your browser."));case 2:return It.next=4,lt();case 4:if(gt=It.sent,vt=ct(gt,ht),vt){It.next=8;break}throw ut(ft.INVALID_AUDIO_OUTPUT_SOURCE,new Error("The requested device is not valid."));case 8:return It.prev=8,It.next=11,dt(ht);case 11:It.next=16;break;case 13:throw It.prev=13,It.t0=It.catch(8),ut(ft.REQUESTED_DEVICE_PERMISSION_DENIED,new Error("No permission to use the requested device."));case 16:case"end":return It.stop()}},Tt,null,[[8,13]])}));return function(ht){return yt.apply(this,arguments)}}()}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));const ot=et(776)(),st=et(24)(),at=st.hasAudioOutputApiSupport,ct=st.getNativeMediaDevices;_e.exports=()=>{if(at()){const lt=ct();let dt=!1;lt.addEventListener("devicechange",(0,it.default)(rt.default.mark(function ut(){return rt.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(!dt){pt.next=2;break}return pt.abrupt("return");case 2:return dt=!0,pt.next=5,ot();case 5:dt=!1;case 6:case"end":return pt.stop()}},ut)})))}}},function(_e,tt,et){var nt=et(3),rt=nt(et(4)),it=nt(et(5));_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.deviceHelpers||et(24)(),at=st.getAudioOutputMediaDevices,ct=st.getDefaultAudioOutputDeviceId,lt=st.hasDevice,dt=ot.currentAudioOutputDevice||et(106),ut=dt.getCurrentAudioOutputDeviceId,ft=dt.setCurrentAudioOutputDeviceId,pt=ot.updateSubscribersSinkId||et(334),yt=ot.logging||et(1)("currentAudioOutputDevice");return function(){var ht=(0,it.default)(rt.default.mark(function gt(){var vt,Ct,It;return rt.default.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.next=2,at();case 2:if(vt=Mt.sent,vt.length!==0){Mt.next=6;break}return ft(""),Mt.abrupt("return");case 6:if(Ct=lt(vt,ut()),!Ct){Mt.next=9;break}return Mt.abrupt("return");case 9:return It=ct(vt),ft(It),Mt.prev=11,Mt.next=14,pt(It);case 14:Mt.next=19;break;case 16:Mt.prev=16,Mt.t0=Mt.catch(11),yt.debug("Failed to set the default audio output device.",Mt.t0);case 19:case"end":return Mt.stop()}},gt,null,[[11,16]])}));return function(){return ht.apply(this,arguments)}}()}}])})})(opentok);const OT$1=getDefaultExportFromCjs(opentokExports),apiKey="45828062",useOpentokSession=()=>{const[_e,tt]=reactExports.useState(),[et,nt]=reactExports.useState(""),[rt,it]=reactExports.useState("");return reactExports.useEffect(()=>{let ot;const st=new AbortController;return getOpentokCredentials(1,st.signal).then(ct=>{console.log({credentials:ct});const{openTokSessionId:lt,openTokAccessToken:dt}=ct;console.log("session component is mounted"),ot=OT$1.initSession(apiKey,lt),ot.connect(dt,handleError);const ut=createSessionListenersMap();ot.on({...ut,"signal:therapist":ft=>{if(!ot)return;const pt=ft.data,yt=ft.from===ot.connection?"You have emitted a signal":`You have received a signal ${pt?`from ${pt}`:""}`;nt(yt)}}),tt(ot)}).catch(()=>it("Error getting opentok credentials")),()=>{st.abort(),ot==null||ot.off(),ot==null||ot.disconnect(),console.log("session disconnected")}},[]),{opentokSession:_e,signalText:et,error:rt}},Call=({userId:_e,sendSignal:tt})=>{const et=useLocation(),{videoDeviceId:nt,microphoneDeviceId:rt}=et.state||{},{opentokSession:it,signalText:ot,error:st}=useOpentokSession();console.log({videoDeviceId:nt,microphoneDeviceId:rt});const at=reactExports.useRef(null);if(console.log("session",it),reactExports.useEffect(()=>it?((async()=>{try{await addMember(_e)}catch(dt){console.error(dt)}})(),it.on({}),()=>{var dt;console.log("unmounting component"),at.current&&((dt=at.current)==null||dt.remove())}):void 0,[it]),st)return jsxRuntimeExports.jsx("div",{children:st});if(!it)return jsxRuntimeExports.jsxs("div",{id:"videos",children:[jsxRuntimeExports.jsx("div",{id:"subscriber"}),jsxRuntimeExports.jsx("div",{id:"publisher"})]});const ct=tt&&it;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"videos",children:[jsxRuntimeExports.jsx(Publisher,{session:it,videoSource:nt,audioSource:rt}),jsxRuntimeExports.jsx(Subscriber,{session:it})]}),ot&&jsxRuntimeExports.jsx("div",{style:{marginTop:"10px"},children:ot}),ct&&jsxRuntimeExports.jsx("button",{onClick:()=>{tt(it)},children:"Emit Signal"})]})},Member=({userId:_e})=>jsxRuntimeExports.jsx(Call,{userId:_e}),Therapist=({userId:_e})=>{const tt=et=>{et.signal({data:_e,type:"therapist"},handleError)};return jsxRuntimeExports.jsx(Call,{userId:_e,sendSignal:tt})},deviceSelect="",DeviceSelect=({label:_e,devices:tt,updateDeviceId:et})=>{const[nt,rt]=reactExports.useState(tt[0].deviceId),it=tt.map(({deviceId:ot,label:st})=>jsxRuntimeExports.jsx("option",{value:ot,children:st},ot));return jsxRuntimeExports.jsxs("div",{className:"device-select",children:[jsxRuntimeExports.jsx("label",{children:_e}),jsxRuntimeExports.jsx("select",{value:nt,onChange:ot=>{const st=ot.target.value;rt(st),et(st)},children:it})]})},useDevices=()=>{const[_e,tt]=reactExports.useState([]),[et,nt]=reactExports.useState([]),[rt,it]=reactExports.useState([]),[ot,st]=reactExports.useState();return reactExports.useEffect(()=>{var at;if(!((at=navigator.mediaDevices)!=null&&at.enumerateDevices)){const ct="enumerateDevices() not supported in this browser.";st(ct),console.log(ct);return}navigator.mediaDevices.enumerateDevices().then(ct=>{const lt=[],dt=[],ut=[];ct.forEach(ft=>{switch(ft.kind){case"audioinput":ut.push(ft);break;case"audiooutput":dt.push(ft);break;case"videoinput":lt.push(ft)}}),tt(lt),nt(dt),it(ut)}).catch(ct=>{console.error(`${ct.name}: ${ct.message}`)})},[]),{videoDevices:_e,speakerDevices:et,microphoneDevices:rt,error:ot}},devices="";class InputsSelect extends s$1{static get properties(){return{devices:{type:Array,state:!0},audioLabel:{attribute:"audio-label"},videoLabel:{attribute:"video-label"},buttonText:{attribute:"button-text"}}}constructor(){super(),this.devices=[],this.audioLabel="Audio Source:",this.videoLabel="Video Source:",this.buttonText="Publish",this.disabled=!0}connectedCallback(){super.connectedCallback(),window.OT?(this.disabled=!0,OT.getUserMedia().then(tt=>{OT.getDevices((et,nt)=>{if(et){alert(`getDevices error: ${et.message}`);return}this.devices=nt,console.log("this.devices: ",this.devices),this.disabled=!1}),tt.getTracks().forEach(et=>et.stop())})):console.error("Please load Vonage Video library.")}__filterDevices(tt){return this.devices.filter(et=>et.kind===tt)}__inputsSelected(){var et,nt;const tt={detail:{audioSource:(et=this.renderRoot)==null?void 0:et.querySelector("#audio-source-select").value,videoSource:(nt=this.renderRoot)==null?void 0:nt.querySelector("#video-source-select").value},bubbles:!0,composed:!0};this.dispatchEvent(new CustomEvent("inputsSelected",tt))}render(){return x$2`
      <form part="form">
        <label for="audio-source-select" part="label audio">${this.audioLabel}</label>
        <select id="audio-source-select" part="select audio">
          ${this.__filterDevices("audioInput").map((tt,et)=>(et+=1,x$2`<option value="${tt.deviceId}" part="option audio">${tt.label||tt.kind+et}</option>`))}
        </select><br/>
        <label for="video-source-select" part="label video">${this.videoLabel}</label>
        <select id="video-source-select" part="select video">
          ${this.__filterDevices("videoInput").map((tt,et)=>(et+=1,x$2`<option value="${tt.deviceId}" part="option video">${tt.label||tt.kind+et}</option>`))}
        </select>
        <button id="inputs-btn" type="button" @click="${this.__inputsSelected}" ?disabled=${this.disabled} part="button">${this.buttonText}</button>
      </form>
    `}}window.customElements.define("inputs-select",InputsSelect);const Lobby=({linkTo:_e})=>{const{videoDevices:tt,microphoneDevices:et}=useDevices(),[nt,rt]=reactExports.useState(),[it,ot]=reactExports.useState(),{opentokSession:st,error:at}=useOpentokSession();reactExports.useEffect(()=>{!tt.length||!et.length||(rt(tt[0].deviceId),ot(et[0].deviceId))},[tt,et]);const ct=!!nt&&!!it;return at?jsxRuntimeExports.jsx("div",{children:"There was an error connecting to the session. Please try again later."}):(console.log("allDevicesAvailable",ct),!st||!ct?jsxRuntimeExports.jsx("div",{id:"publisher"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx(Publisher,{session:st,publishToSession:!1,audioSource:it,videoSource:nt,style:{position:"unset"}}),jsxRuntimeExports.jsxs("div",{id:"devices",children:[tt.length>0&&jsxRuntimeExports.jsx(DeviceSelect,{label:"Pick your video input",devices:tt,updateDeviceId:rt}),et.length>0&&jsxRuntimeExports.jsx(DeviceSelect,{label:"Pick your audio input",devices:et,updateDeviceId:ot})]}),jsxRuntimeExports.jsx(Link$2,{to:`/opentok-react/${_e}`,state:{videoDeviceId:nt,microphoneDeviceId:it},children:jsxRuntimeExports.jsx("button",{children:`Go to ${_e}`})})]})}))},common={black:"#000",white:"#fff"},common$1=common,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function isPlainObject$2(_e){return _e!==null&&typeof _e=="object"&&_e.constructor===Object}function deepClone(_e){if(!isPlainObject$2(_e))return _e;const tt={};return Object.keys(_e).forEach(et=>{tt[et]=deepClone(_e[et])}),tt}function deepmerge(_e,tt,et={clone:!0}){const nt=et.clone?{..._e}:_e;return isPlainObject$2(_e)&&isPlainObject$2(tt)&&Object.keys(tt).forEach(rt=>{rt!=="__proto__"&&(isPlainObject$2(tt[rt])&&rt in _e&&isPlainObject$2(_e[rt])?nt[rt]=deepmerge(_e[rt],tt[rt],et):et.clone?nt[rt]=isPlainObject$2(tt[rt])?deepClone(tt[rt]):tt[rt]:nt[rt]=tt[rt])}),nt}function formatMuiErrorMessage(_e){let tt="https://mui.com/production-error/?code="+_e;for(let et=1;et<arguments.length;et+=1)tt+="&args[]="+encodeURIComponent(arguments[et]);return"Minified MUI error #"+_e+"; visit "+tt+" for the full message."}var reactIsExports$1={},reactIs$2={get exports(){return reactIsExports$1},set exports(_e){reactIsExports$1=_e}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$2=Symbol.for("react.portal"),d$2=Symbol.for("react.fragment"),e$2=Symbol.for("react.strict_mode"),f$2=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$4=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$3=Symbol.for("react.forward_ref"),m$3=Symbol.for("react.suspense"),n$4=Symbol.for("react.suspense_list"),p$4=Symbol.for("react.memo"),q$4=Symbol.for("react.lazy"),t$4=Symbol.for("react.offscreen"),u$3;u$3=Symbol.for("react.module.reference");function v$3(_e){if(typeof _e=="object"&&_e!==null){var tt=_e.$$typeof;switch(tt){case b$2:switch(_e=_e.type,_e){case d$2:case f$2:case e$2:case m$3:case n$4:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$3:case h$4:case l$3:case q$4:case p$4:case g$2:return _e;default:return tt}}case c$2:return tt}}}reactIs_production_min$1.ContextConsumer=h$4;reactIs_production_min$1.ContextProvider=g$2;reactIs_production_min$1.Element=b$2;reactIs_production_min$1.ForwardRef=l$3;reactIs_production_min$1.Fragment=d$2;reactIs_production_min$1.Lazy=q$4;reactIs_production_min$1.Memo=p$4;reactIs_production_min$1.Portal=c$2;reactIs_production_min$1.Profiler=f$2;reactIs_production_min$1.StrictMode=e$2;reactIs_production_min$1.Suspense=m$3;reactIs_production_min$1.SuspenseList=n$4;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(_e){return v$3(_e)===h$4};reactIs_production_min$1.isContextProvider=function(_e){return v$3(_e)===g$2};reactIs_production_min$1.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b$2};reactIs_production_min$1.isForwardRef=function(_e){return v$3(_e)===l$3};reactIs_production_min$1.isFragment=function(_e){return v$3(_e)===d$2};reactIs_production_min$1.isLazy=function(_e){return v$3(_e)===q$4};reactIs_production_min$1.isMemo=function(_e){return v$3(_e)===p$4};reactIs_production_min$1.isPortal=function(_e){return v$3(_e)===c$2};reactIs_production_min$1.isProfiler=function(_e){return v$3(_e)===f$2};reactIs_production_min$1.isStrictMode=function(_e){return v$3(_e)===e$2};reactIs_production_min$1.isSuspense=function(_e){return v$3(_e)===m$3};reactIs_production_min$1.isSuspenseList=function(_e){return v$3(_e)===n$4};reactIs_production_min$1.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d$2||_e===f$2||_e===e$2||_e===m$3||_e===n$4||_e===t$4||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q$4||_e.$$typeof===p$4||_e.$$typeof===g$2||_e.$$typeof===h$4||_e.$$typeof===l$3||_e.$$typeof===u$3||_e.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$3;(function(_e){_e.exports=reactIs_production_min$1})(reactIs$2);function capitalize(_e){if(typeof _e!="string")throw new Error(formatMuiErrorMessage(7));return _e.charAt(0).toUpperCase()+_e.slice(1)}function createChainedFunction(..._e){return _e.reduce((tt,et)=>et==null?tt:function(...rt){tt.apply(this,rt),et.apply(this,rt)},()=>{})}function debounce(_e,tt=166){let et;function nt(...rt){const it=()=>{_e.apply(this,rt)};clearTimeout(et),et=setTimeout(it,tt)}return nt.clear=()=>{clearTimeout(et)},nt}function deprecatedPropType(_e,tt){return()=>null}function isMuiElement(_e,tt){return reactExports.isValidElement(_e)&&tt.indexOf(_e.type.muiName)!==-1}function ownerDocument(_e){return _e&&_e.ownerDocument||document}function ownerWindow(_e){return ownerDocument(_e).defaultView||window}function requirePropFactory(_e,tt){return()=>null}function setRef(_e,tt){typeof _e=="function"?_e(tt):_e&&(_e.current=tt)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(_e){const[tt,et]=reactExports.useState(_e),nt=_e||tt;return reactExports.useEffect(()=>{tt==null&&(globalId+=1,et(`mui-${globalId}`))},[tt]),nt}const maybeReactUseId=React$1["useId".toString()];function useId(_e){if(maybeReactUseId!==void 0){const tt=maybeReactUseId();return _e??tt}return useGlobalId(_e)}function unsupportedProp(_e,tt,et,nt,rt){return null}function useControlled({controlled:_e,default:tt,name:et,state:nt="value"}){const{current:rt}=reactExports.useRef(_e!==void 0),[it,ot]=reactExports.useState(tt),st=rt?_e:it,at=reactExports.useCallback(ct=>{rt||ot(ct)},[]);return[st,at]}function useEventCallback(_e){const tt=reactExports.useRef(_e);return useEnhancedEffect$1(()=>{tt.current=_e}),reactExports.useCallback((...et)=>(0,tt.current)(...et),[])}function useForkRef(..._e){return reactExports.useMemo(()=>_e.every(tt=>tt==null)?null:tt=>{_e.forEach(et=>{setRef(et,tt)})},_e)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(_e){const{type:tt,tagName:et}=_e;return!!(et==="INPUT"&&inputTypesWhitelist[tt]&&!_e.readOnly||et==="TEXTAREA"&&!_e.readOnly||_e.isContentEditable)}function handleKeyDown(_e){_e.metaKey||_e.altKey||_e.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(_e){_e.addEventListener("keydown",handleKeyDown,!0),_e.addEventListener("mousedown",handlePointerDown,!0),_e.addEventListener("pointerdown",handlePointerDown,!0),_e.addEventListener("touchstart",handlePointerDown,!0),_e.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(_e){const{target:tt}=_e;try{return tt.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(tt)}function useIsFocusVisible(){const _e=reactExports.useCallback(rt=>{rt!=null&&prepare(rt.ownerDocument)},[]),tt=reactExports.useRef(!1);function et(){return tt.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),tt.current=!1,!0):!1}function nt(rt){return isFocusVisible(rt)?(tt.current=!0,!0):!1}return{isFocusVisibleRef:tt,onFocus:nt,onBlur:et,ref:_e}}function getScrollbarSize(_e){const tt=_e.documentElement.clientWidth;return Math.abs(window.innerWidth-tt)}function resolveProps(_e,tt){const et={...tt};return Object.keys(_e).forEach(nt=>{if(nt.toString().match(/^(components|slots)$/))et[nt]={..._e[nt],...et[nt]};else if(nt.toString().match(/^(componentsProps|slotProps)$/)){const rt=_e[nt]||{},it=tt[nt];et[nt]={},!it||!Object.keys(it)?et[nt]=rt:!rt||!Object.keys(rt)?et[nt]=it:(et[nt]={...it},Object.keys(rt).forEach(ot=>{et[nt][ot]=resolveProps(rt[ot],it[ot])}))}else et[nt]===void 0&&(et[nt]=_e[nt])}),et}function composeClasses(_e,tt,et=void 0){const nt={};return Object.keys(_e).forEach(rt=>{nt[rt]=_e[rt].reduce((it,ot)=>{if(ot){const st=tt(ot);st!==""&&it.push(st),et&&et[ot]&&it.push(et[ot])}return it},[]).join(" ")}),nt}const defaultGenerator=_e=>_e,createClassNameGenerator=()=>{let _e=defaultGenerator;return{configure(tt){_e=tt},generate(tt){return _e(tt)},reset(){_e=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(_e,tt,et="Mui"){const nt=globalStateClassesMapping[tt];return nt?`${et}-${nt}`:`${ClassNameGenerator$1.generate(_e)}-${tt}`}function generateUtilityClasses(_e,tt,et="Mui"){const nt={};return tt.forEach(rt=>{nt[rt]=generateUtilityClass(_e,rt,et)}),nt}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(_e,tt){if(_e==null)return{};var et={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(tt.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function memoize$1(_e){var tt=Object.create(null);return function(et){return tt[et]===void 0&&(tt[et]=_e(et)),tt[et]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(_e){return reactPropsRegex.test(_e)||_e.charCodeAt(0)===111&&_e.charCodeAt(1)===110&&_e.charCodeAt(2)<91});function sheetForTag(_e){if(_e.sheet)return _e.sheet;for(var tt=0;tt<document.styleSheets.length;tt++)if(document.styleSheets[tt].ownerNode===_e)return document.styleSheets[tt]}function createStyleElement(_e){var tt=document.createElement("style");return tt.setAttribute("data-emotion",_e.key),_e.nonce!==void 0&&tt.setAttribute("nonce",_e.nonce),tt.appendChild(document.createTextNode("")),tt.setAttribute("data-s",""),tt}var StyleSheet=function(){function _e(et){var nt=this;this._insertTag=function(rt){var it;nt.tags.length===0?nt.insertionPoint?it=nt.insertionPoint.nextSibling:nt.prepend?it=nt.container.firstChild:it=nt.before:it=nt.tags[nt.tags.length-1].nextSibling,nt.container.insertBefore(rt,it),nt.tags.push(rt)},this.isSpeedy=et.speedy===void 0?!0:et.speedy,this.tags=[],this.ctr=0,this.nonce=et.nonce,this.key=et.key,this.container=et.container,this.prepend=et.prepend,this.insertionPoint=et.insertionPoint,this.before=null}var tt=_e.prototype;return tt.hydrate=function(nt){nt.forEach(this._insertTag)},tt.insert=function(nt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var rt=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(rt);try{it.insertRule(nt,it.cssRules.length)}catch{}}else rt.appendChild(document.createTextNode(nt));this.ctr++},tt.flush=function(){this.tags.forEach(function(nt){return nt.parentNode&&nt.parentNode.removeChild(nt)}),this.tags=[],this.ctr=0},_e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(_e,tt){return charat(_e,0)^45?(((tt<<2^charat(_e,0))<<2^charat(_e,1))<<2^charat(_e,2))<<2^charat(_e,3):0}function trim(_e){return _e.trim()}function match(_e,tt){return(_e=tt.exec(_e))?_e[0]:_e}function replace(_e,tt,et){return _e.replace(tt,et)}function indexof(_e,tt){return _e.indexOf(tt)}function charat(_e,tt){return _e.charCodeAt(tt)|0}function substr(_e,tt,et){return _e.slice(tt,et)}function strlen(_e){return _e.length}function sizeof(_e){return _e.length}function append(_e,tt){return tt.push(_e),_e}function combine(_e,tt){return _e.map(tt).join("")}var line=1,column=1,length$1=0,position=0,character=0,characters="";function node(_e,tt,et,nt,rt,it,ot){return{value:_e,root:tt,parent:et,type:nt,props:rt,children:it,line,column,length:ot,return:""}}function copy(_e,tt){return assign(node("",null,null,"",null,null,0),_e,{length:-_e.length},tt)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$1?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(_e,tt){return substr(characters,_e,tt)}function token(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_e){return line=column=1,length$1=strlen(characters=_e),position=0,[]}function dealloc(_e){return characters="",_e}function delimit(_e){return trim(slice(position-1,delimiter(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace(_e){for(;(character=peek())&&character<33;)next();return token(_e)>2||token(character)>3?"":" "}function escaping(_e,tt){for(;--tt&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(_e,caret()+(tt<6&&peek()==32&&next()==32))}function delimiter(_e){for(;next();)switch(character){case _e:return position;case 34:case 39:_e!==34&&_e!==39&&delimiter(character);break;case 40:_e===41&&delimiter(_e);break;case 92:next();break}return position}function commenter(_e,tt){for(;next()&&_e+character!==47+10;)if(_e+character===42+42&&peek()===47)break;return"/*"+slice(tt,position-1)+"*"+from(_e===47?_e:next())}function identifier(_e){for(;!token(peek());)next();return slice(_e,position)}function compile(_e){return dealloc(parse("",null,null,null,[""],_e=alloc(_e),0,[0],_e))}function parse(_e,tt,et,nt,rt,it,ot,st,at){for(var ct=0,lt=0,dt=ot,ut=0,ft=0,pt=0,yt=1,Tt=1,ht=1,gt=0,vt="",Ct=rt,It=it,Zt=nt,Mt=vt;Tt;)switch(pt=gt,gt=next()){case 40:if(pt!=108&&charat(Mt,dt-1)==58){indexof(Mt+=replace(delimit(gt),"&","&\f"),"&\f")!=-1&&(ht=-1);break}case 34:case 39:case 91:Mt+=delimit(gt);break;case 9:case 10:case 13:case 32:Mt+=whitespace(pt);break;case 92:Mt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),tt,et),at);break;default:Mt+="/"}break;case 123*yt:st[ct++]=strlen(Mt)*ht;case 125*yt:case 59:case 0:switch(gt){case 0:case 125:Tt=0;case 59+lt:ht==-1&&(Mt=replace(Mt,/\f/g,"")),ft>0&&strlen(Mt)-dt&&append(ft>32?declaration(Mt+";",nt,et,dt-1):declaration(replace(Mt," ","")+";",nt,et,dt-2),at);break;case 59:Mt+=";";default:if(append(Zt=ruleset(Mt,tt,et,ct,lt,rt,st,vt,Ct=[],It=[],dt),it),gt===123)if(lt===0)parse(Mt,tt,Zt,Zt,Ct,it,dt,st,It);else switch(ut===99&&charat(Mt,3)===110?100:ut){case 100:case 108:case 109:case 115:parse(_e,Zt,Zt,nt&&append(ruleset(_e,Zt,Zt,0,0,rt,st,vt,rt,Ct=[],dt),It),rt,It,dt,st,nt?Ct:It);break;default:parse(Mt,Zt,Zt,Zt,[""],It,0,st,It)}}ct=lt=ft=0,yt=ht=1,vt=Mt="",dt=ot;break;case 58:dt=1+strlen(Mt),ft=pt;default:if(yt<1){if(gt==123)--yt;else if(gt==125&&yt++==0&&prev()==125)continue}switch(Mt+=from(gt),gt*yt){case 38:ht=lt>0?1:(Mt+="\f",-1);break;case 44:st[ct++]=(strlen(Mt)-1)*ht,ht=1;break;case 64:peek()===45&&(Mt+=delimit(next())),ut=peek(),lt=dt=strlen(vt=Mt+=identifier(caret())),gt++;break;case 45:pt===45&&strlen(Mt)==2&&(yt=0)}}return it}function ruleset(_e,tt,et,nt,rt,it,ot,st,at,ct,lt){for(var dt=rt-1,ut=rt===0?it:[""],ft=sizeof(ut),pt=0,yt=0,Tt=0;pt<nt;++pt)for(var ht=0,gt=substr(_e,dt+1,dt=abs(yt=ot[pt])),vt=_e;ht<ft;++ht)(vt=trim(yt>0?ut[ht]+" "+gt:replace(gt,/&\f/g,ut[ht])))&&(at[Tt++]=vt);return node(_e,tt,et,rt===0?RULESET:st,at,ct,lt)}function comment(_e,tt,et){return node(_e,tt,et,COMMENT,from(char()),substr(_e,2,-2),0)}function declaration(_e,tt,et,nt){return node(_e,tt,et,DECLARATION,substr(_e,0,nt),substr(_e,nt+1,-1),nt)}function serialize(_e,tt){for(var et="",nt=sizeof(_e),rt=0;rt<nt;rt++)et+=tt(_e[rt],rt,_e,tt)||"";return et}function stringify(_e,tt,et,nt){switch(_e.type){case LAYER:if(_e.children.length)break;case IMPORT:case DECLARATION:return _e.return=_e.return||_e.value;case COMMENT:return"";case KEYFRAMES:return _e.return=_e.value+"{"+serialize(_e.children,nt)+"}";case RULESET:_e.value=_e.props.join(",")}return strlen(et=serialize(_e.children,nt))?_e.return=_e.value+"{"+et+"}":""}function middleware(_e){var tt=sizeof(_e);return function(et,nt,rt,it){for(var ot="",st=0;st<tt;st++)ot+=_e[st](et,nt,rt,it)||"";return ot}}function rulesheet(_e){return function(tt){tt.root||(tt=tt.return)&&_e(tt)}}var identifierWithPointTracking=function _e(tt,et,nt){for(var rt=0,it=0;rt=it,it=peek(),rt===38&&it===12&&(et[nt]=1),!token(it);)next();return slice(tt,position)},toRules=function _e(tt,et){var nt=-1,rt=44;do switch(token(rt)){case 0:rt===38&&peek()===12&&(et[nt]=1),tt[nt]+=identifierWithPointTracking(position-1,et,nt);break;case 2:tt[nt]+=delimit(rt);break;case 4:if(rt===44){tt[++nt]=peek()===58?"&\f":"",et[nt]=tt[nt].length;break}default:tt[nt]+=from(rt)}while(rt=next());return tt},getRules=function _e(tt,et){return dealloc(toRules(alloc(tt),et))},fixedElements=new WeakMap,compat=function _e(tt){if(!(tt.type!=="rule"||!tt.parent||tt.length<1)){for(var et=tt.value,nt=tt.parent,rt=tt.column===nt.column&&tt.line===nt.line;nt.type!=="rule";)if(nt=nt.parent,!nt)return;if(!(tt.props.length===1&&et.charCodeAt(0)!==58&&!fixedElements.get(nt))&&!rt){fixedElements.set(tt,!0);for(var it=[],ot=getRules(et,it),st=nt.props,at=0,ct=0;at<ot.length;at++)for(var lt=0;lt<st.length;lt++,ct++)tt.props[ct]=it[at]?ot[at].replace(/&\f/g,st[lt]):st[lt]+" "+ot[at]}}},removeLabel=function _e(tt){if(tt.type==="decl"){var et=tt.value;et.charCodeAt(0)===108&&et.charCodeAt(2)===98&&(tt.return="",tt.value="")}};function prefix(_e,tt){switch(hash(_e,tt)){case 5103:return WEBKIT+"print-"+_e+_e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+_e+_e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+_e+MOZ+_e+MS+_e+_e;case 6828:case 4268:return WEBKIT+_e+MS+_e+_e;case 6165:return WEBKIT+_e+MS+"flex-"+_e+_e;case 5187:return WEBKIT+_e+replace(_e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+_e;case 5443:return WEBKIT+_e+MS+"flex-item-"+replace(_e,/flex-|-self/,"")+_e;case 4675:return WEBKIT+_e+MS+"flex-line-pack"+replace(_e,/align-content|flex-|-self/,"")+_e;case 5548:return WEBKIT+_e+MS+replace(_e,"shrink","negative")+_e;case 5292:return WEBKIT+_e+MS+replace(_e,"basis","preferred-size")+_e;case 6060:return WEBKIT+"box-"+replace(_e,"-grow","")+WEBKIT+_e+MS+replace(_e,"grow","positive")+_e;case 4554:return WEBKIT+replace(_e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+_e;case 6187:return replace(replace(replace(_e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),_e,"")+_e;case 5495:case 3959:return replace(_e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(_e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+_e+_e;case 4095:case 3583:case 4068:case 2532:return replace(_e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+_e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(_e)-1-tt>6)switch(charat(_e,tt+1)){case 109:if(charat(_e,tt+4)!==45)break;case 102:return replace(_e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(_e,tt+3)==108?"$3":"$2-$3"))+_e;case 115:return~indexof(_e,"stretch")?prefix(replace(_e,"stretch","fill-available"),tt)+_e:_e}break;case 4949:if(charat(_e,tt+1)!==115)break;case 6444:switch(charat(_e,strlen(_e)-3-(~indexof(_e,"!important")&&10))){case 107:return replace(_e,":",":"+WEBKIT)+_e;case 101:return replace(_e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(_e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+_e}break;case 5936:switch(charat(_e,tt+11)){case 114:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb")+_e;case 108:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb-rl")+_e;case 45:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"lr")+_e}return WEBKIT+_e+MS+_e+_e}return _e}var prefixer=function _e(tt,et,nt,rt){if(tt.length>-1&&!tt.return)switch(tt.type){case DECLARATION:tt.return=prefix(tt.value,tt.length);break;case KEYFRAMES:return serialize([copy(tt,{value:replace(tt.value,"@","@"+WEBKIT)})],rt);case RULESET:if(tt.length)return combine(tt.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(tt,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],rt);case"::placeholder":return serialize([copy(tt,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(tt,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(tt,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],rt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function _e(tt){var et=tt.key;if(et==="css"){var nt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(nt,function(yt){var Tt=yt.getAttribute("data-emotion");Tt.indexOf(" ")!==-1&&(document.head.appendChild(yt),yt.setAttribute("data-s",""))})}var rt=tt.stylisPlugins||defaultStylisPlugins,it={},ot,st=[];ot=tt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+et+' "]'),function(yt){for(var Tt=yt.getAttribute("data-emotion").split(" "),ht=1;ht<Tt.length;ht++)it[Tt[ht]]=!0;st.push(yt)});var at,ct=[compat,removeLabel];{var lt,dt=[stringify,rulesheet(function(yt){lt.insert(yt)})],ut=middleware(ct.concat(rt,dt)),ft=function(Tt){return serialize(compile(Tt),ut)};at=function(Tt,ht,gt,vt){lt=gt,ft(Tt?Tt+"{"+ht.styles+"}":ht.styles),vt&&(pt.inserted[ht.name]=!0)}}var pt={key:et,sheet:new StyleSheet({key:et,container:ot,nonce:tt.nonce,speedy:tt.speedy,prepend:tt.prepend,insertionPoint:tt.insertionPoint}),nonce:tt.nonce,inserted:it,registered:{},insert:at};return pt.sheet.hydrate(st),pt},reactIsExports={},reactIs$1={get exports(){return reactIsExports},set exports(_e){reactIsExports=_e}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$3=b$1?Symbol.for("react.provider"):60109,k$2=b$1?Symbol.for("react.context"):60110,l$2=b$1?Symbol.for("react.async_mode"):60111,m$2=b$1?Symbol.for("react.concurrent_mode"):60111,n$3=b$1?Symbol.for("react.forward_ref"):60112,p$3=b$1?Symbol.for("react.suspense"):60113,q$3=b$1?Symbol.for("react.suspense_list"):60120,r$4=b$1?Symbol.for("react.memo"):60115,t$3=b$1?Symbol.for("react.lazy"):60116,v$2=b$1?Symbol.for("react.block"):60121,w$2=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(_e){if(typeof _e=="object"&&_e!==null){var tt=_e.$$typeof;switch(tt){case c$1:switch(_e=_e.type,_e){case l$2:case m$2:case e$1:case g$1:case f$1:case p$3:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$2:case n$3:case t$3:case r$4:case h$3:return _e;default:return tt}}case d$1:return tt}}}function A$1(_e){return z$1(_e)===m$2}reactIs_production_min.AsyncMode=l$2;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$3;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n$3;reactIs_production_min.Fragment=e$1;reactIs_production_min.Lazy=t$3;reactIs_production_min.Memo=r$4;reactIs_production_min.Portal=d$1;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$3;reactIs_production_min.isAsyncMode=function(_e){return A$1(_e)||z$1(_e)===l$2};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(_e){return z$1(_e)===k$2};reactIs_production_min.isContextProvider=function(_e){return z$1(_e)===h$3};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c$1};reactIs_production_min.isForwardRef=function(_e){return z$1(_e)===n$3};reactIs_production_min.isFragment=function(_e){return z$1(_e)===e$1};reactIs_production_min.isLazy=function(_e){return z$1(_e)===t$3};reactIs_production_min.isMemo=function(_e){return z$1(_e)===r$4};reactIs_production_min.isPortal=function(_e){return z$1(_e)===d$1};reactIs_production_min.isProfiler=function(_e){return z$1(_e)===g$1};reactIs_production_min.isStrictMode=function(_e){return z$1(_e)===f$1};reactIs_production_min.isSuspense=function(_e){return z$1(_e)===p$3};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e$1||_e===m$2||_e===g$1||_e===f$1||_e===p$3||_e===q$3||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t$3||_e.$$typeof===r$4||_e.$$typeof===h$3||_e.$$typeof===k$2||_e.$$typeof===n$3||_e.$$typeof===w$2||_e.$$typeof===x$1||_e.$$typeof===y$1||_e.$$typeof===v$2)};reactIs_production_min.typeOf=z$1;(function(_e){_e.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(_e,tt,et){var nt="";return et.split(" ").forEach(function(rt){_e[rt]!==void 0?tt.push(_e[rt]+";"):nt+=rt+" "}),nt}var registerStyles=function _e(tt,et,nt){var rt=tt.key+"-"+et.name;(nt===!1||isBrowser===!1)&&tt.registered[rt]===void 0&&(tt.registered[rt]=et.styles)},insertStyles=function _e(tt,et,nt){registerStyles(tt,et,nt);var rt=tt.key+"-"+et.name;if(tt.inserted[et.name]===void 0){var it=et;do tt.insert(et===it?"."+rt:"",it,tt.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(_e){for(var tt=0,et,nt=0,rt=_e.length;rt>=4;++nt,rt-=4)et=_e.charCodeAt(nt)&255|(_e.charCodeAt(++nt)&255)<<8|(_e.charCodeAt(++nt)&255)<<16|(_e.charCodeAt(++nt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,tt=(et&65535)*1540483477+((et>>>16)*59797<<16)^(tt&65535)*1540483477+((tt>>>16)*59797<<16);switch(rt){case 3:tt^=(_e.charCodeAt(nt+2)&255)<<16;case 2:tt^=(_e.charCodeAt(nt+1)&255)<<8;case 1:tt^=_e.charCodeAt(nt)&255,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16)}return tt^=tt>>>13,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),((tt^tt>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function _e(tt){return tt.charCodeAt(1)===45},isProcessableValue=function _e(tt){return tt!=null&&typeof tt!="boolean"},processStyleName=memoize$1(function(_e){return isCustomProperty(_e)?_e:_e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function _e(tt,et){switch(tt){case"animation":case"animationName":if(typeof et=="string")return et.replace(animationRegex,function(nt,rt,it){return cursor={name:rt,styles:it,next:cursor},rt})}return unitlessKeys[tt]!==1&&!isCustomProperty(tt)&&typeof et=="number"&&et!==0?et+"px":et},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(_e,tt,et){if(et==null)return"";if(et.__emotion_styles!==void 0)return et;switch(typeof et){case"boolean":return"";case"object":{if(et.anim===1)return cursor={name:et.name,styles:et.styles,next:cursor},et.name;if(et.styles!==void 0){var nt=et.next;if(nt!==void 0)for(;nt!==void 0;)cursor={name:nt.name,styles:nt.styles,next:cursor},nt=nt.next;var rt=et.styles+";";return rt}return createStringFromObject(_e,tt,et)}case"function":{if(_e!==void 0){var it=cursor,ot=et(_e);return cursor=it,handleInterpolation(_e,tt,ot)}break}}if(tt==null)return et;var st=tt[et];return st!==void 0?st:et}function createStringFromObject(_e,tt,et){var nt="";if(Array.isArray(et))for(var rt=0;rt<et.length;rt++)nt+=handleInterpolation(_e,tt,et[rt])+";";else for(var it in et){var ot=et[it];if(typeof ot!="object")tt!=null&&tt[ot]!==void 0?nt+=it+"{"+tt[ot]+"}":isProcessableValue(ot)&&(nt+=processStyleName(it)+":"+processStyleValue(it,ot)+";");else if(Array.isArray(ot)&&typeof ot[0]=="string"&&(tt==null||tt[ot[0]]===void 0))for(var st=0;st<ot.length;st++)isProcessableValue(ot[st])&&(nt+=processStyleName(it)+":"+processStyleValue(it,ot[st])+";");else{var at=handleInterpolation(_e,tt,ot);switch(it){case"animation":case"animationName":{nt+=processStyleName(it)+":"+at+";";break}default:nt+=it+"{"+at+"}"}}}return nt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function _e(tt,et,nt){if(tt.length===1&&typeof tt[0]=="object"&&tt[0]!==null&&tt[0].styles!==void 0)return tt[0];var rt=!0,it="";cursor=void 0;var ot=tt[0];ot==null||ot.raw===void 0?(rt=!1,it+=handleInterpolation(nt,et,ot)):it+=ot[0];for(var st=1;st<tt.length;st++)it+=handleInterpolation(nt,et,tt[st]),rt&&(it+=ot[st]);labelPattern.lastIndex=0;for(var at="",ct;(ct=labelPattern.exec(it))!==null;)at+="-"+ct[1];var lt=murmur2(it)+at;return{name:lt,styles:it,next:cursor}},syncFallback=function _e(tt){return tt()},useInsertionEffect=reactExports.useInsertionEffect?reactExports.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function _e(tt){return reactExports.forwardRef(function(et,nt){var rt=reactExports.useContext(EmotionCacheContext);return tt(et,rt,nt)})},ThemeContext=reactExports.createContext({});function css(){for(var _e=arguments.length,tt=new Array(_e),et=0;et<_e;et++)tt[et]=arguments[et];return serializeStyles(tt)}var keyframes=function _e(){var tt=css.apply(void 0,arguments),et="animation-"+tt.name;return{name:et,styles:"@keyframes "+et+"{"+tt.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function _e(tt){return tt!=="theme"},getDefaultShouldForwardProp=function _e(tt){return typeof tt=="string"&&tt.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function _e(tt,et,nt){var rt;if(et){var it=et.shouldForwardProp;rt=tt.__emotion_forwardProp&&it?function(ot){return tt.__emotion_forwardProp(ot)&&it(ot)}:it}return typeof rt!="function"&&nt&&(rt=tt.__emotion_forwardProp),rt},Insertion=function _e(tt){var et=tt.cache,nt=tt.serialized,rt=tt.isStringTag;return registerStyles(et,nt,rt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,nt,rt)}),null},createStyled$1=function _e(tt,et){var nt=tt.__emotion_real===tt,rt=nt&&tt.__emotion_base||tt,it,ot;et!==void 0&&(it=et.label,ot=et.target);var st=composeShouldForwardProps(tt,et,nt),at=st||getDefaultShouldForwardProp(rt),ct=!at("as");return function(){var lt=arguments,dt=nt&&tt.__emotion_styles!==void 0?tt.__emotion_styles.slice(0):[];if(it!==void 0&&dt.push("label:"+it+";"),lt[0]==null||lt[0].raw===void 0)dt.push.apply(dt,lt);else{dt.push(lt[0][0]);for(var ut=lt.length,ft=1;ft<ut;ft++)dt.push(lt[ft],lt[0][ft])}var pt=withEmotionCache(function(yt,Tt,ht){var gt=ct&&yt.as||rt,vt="",Ct=[],It=yt;if(yt.theme==null){It={};for(var Zt in yt)It[Zt]=yt[Zt];It.theme=reactExports.useContext(ThemeContext)}typeof yt.className=="string"?vt=getRegisteredStyles(Tt.registered,Ct,yt.className):yt.className!=null&&(vt=yt.className+" ");var Mt=serializeStyles(dt.concat(Ct),Tt.registered,It);vt+=Tt.key+"-"+Mt.name,ot!==void 0&&(vt+=" "+ot);var kt=ct&&st===void 0?getDefaultShouldForwardProp(gt):at,Nt={};for(var Lt in yt)ct&&Lt==="as"||kt(Lt)&&(Nt[Lt]=yt[Lt]);return Nt.className=vt,Nt.ref=ht,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Tt,serialized:Mt,isStringTag:typeof gt=="string"}),reactExports.createElement(gt,Nt))});return pt.displayName=it!==void 0?it:"Styled("+(typeof rt=="string"?rt:rt.displayName||rt.name||"Component")+")",pt.defaultProps=tt.defaultProps,pt.__emotion_real=pt,pt.__emotion_base=rt,pt.__emotion_styles=dt,pt.__emotion_forwardProp=st,Object.defineProperty(pt,"toString",{value:function(){return"."+ot}}),pt.withComponent=function(yt,Tt){return _e(yt,_extends({},et,Tt,{shouldForwardProp:composeShouldForwardProps(pt,Tt,!0)})).apply(void 0,dt)},pt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(_e){newStyled[_e]=newStyled(_e)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(_e,tt){return newStyled(_e,tt)}const internal_processStyles=(_e,tt)=>{Array.isArray(_e.__emotion_styles)&&(_e.__emotion_styles=tt(_e.__emotion_styles))},_excluded$p=["values","unit","step"],sortBreakpointsValues=_e=>{const tt=Object.keys(_e).map(et=>({key:et,val:_e[et]}))||[];return tt.sort((et,nt)=>et.val-nt.val),tt.reduce((et,nt)=>_extends({},et,{[nt.key]:nt.val}),{})};function createBreakpoints(_e){const{values:tt={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:et="px",step:nt=5}=_e,rt=_objectWithoutPropertiesLoose(_e,_excluded$p),it=sortBreakpointsValues(tt),ot=Object.keys(it);function st(ut){return`@media (min-width:${typeof tt[ut]=="number"?tt[ut]:ut}${et})`}function at(ut){return`@media (max-width:${(typeof tt[ut]=="number"?tt[ut]:ut)-nt/100}${et})`}function ct(ut,ft){const pt=ot.indexOf(ft);return`@media (min-width:${typeof tt[ut]=="number"?tt[ut]:ut}${et}) and (max-width:${(pt!==-1&&typeof tt[ot[pt]]=="number"?tt[ot[pt]]:ft)-nt/100}${et})`}function lt(ut){return ot.indexOf(ut)+1<ot.length?ct(ut,ot[ot.indexOf(ut)+1]):st(ut)}function dt(ut){const ft=ot.indexOf(ut);return ft===0?st(ot[1]):ft===ot.length-1?at(ot[ft]):ct(ut,ot[ot.indexOf(ut)+1]).replace("@media","@media not all and")}return _extends({keys:ot,values:it,up:st,down:at,between:ct,only:lt,not:dt,unit:et},rt)}const shape={borderRadius:4},shape$1=shape;function merge(_e,tt){return tt?deepmerge(_e,tt,{clone:!1}):_e}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:_e=>`@media (min-width:${values$1[_e]}px)`};function handleBreakpoints(_e,tt,et){const nt=_e.theme||{};if(Array.isArray(tt)){const it=nt.breakpoints||defaultBreakpoints;return tt.reduce((ot,st,at)=>(ot[it.up(it.keys[at])]=et(tt[at]),ot),{})}if(typeof tt=="object"){const it=nt.breakpoints||defaultBreakpoints;return Object.keys(tt).reduce((ot,st)=>{if(Object.keys(it.values||values$1).indexOf(st)!==-1){const at=it.up(st);ot[at]=et(tt[st],st)}else{const at=st;ot[at]=tt[at]}return ot},{})}return et(tt)}function createEmptyBreakpointObject(_e={}){var tt;return((tt=_e.keys)==null?void 0:tt.reduce((nt,rt)=>{const it=_e.up(rt);return nt[it]={},nt},{}))||{}}function removeUnusedBreakpoints(_e,tt){return _e.reduce((et,nt)=>{const rt=et[nt];return(!rt||Object.keys(rt).length===0)&&delete et[nt],et},tt)}function getPath(_e,tt,et=!0){if(!tt||typeof tt!="string")return null;if(_e&&_e.vars&&et){const nt=`vars.${tt}`.split(".").reduce((rt,it)=>rt&&rt[it]?rt[it]:null,_e);if(nt!=null)return nt}return tt.split(".").reduce((nt,rt)=>nt&&nt[rt]!=null?nt[rt]:null,_e)}function getStyleValue(_e,tt,et,nt=et){let rt;return typeof _e=="function"?rt=_e(et):Array.isArray(_e)?rt=_e[et]||nt:rt=getPath(_e,et)||nt,tt&&(rt=tt(rt,nt,_e)),rt}function style$1(_e){const{prop:tt,cssProperty:et=_e.prop,themeKey:nt,transform:rt}=_e,it=ot=>{if(ot[tt]==null)return null;const st=ot[tt],at=ot.theme,ct=getPath(at,nt)||{};return handleBreakpoints(ot,st,dt=>{let ut=getStyleValue(ct,rt,dt);return dt===ut&&typeof dt=="string"&&(ut=getStyleValue(ct,rt,`${tt}${dt==="default"?"":capitalize(dt)}`,dt)),et===!1?ut:{[et]:ut}})};return it.propTypes={},it.filterProps=[tt],it}function memoize(_e){const tt={};return et=>(tt[et]===void 0&&(tt[et]=_e(et)),tt[et])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(_e=>{if(_e.length>2)if(aliases[_e])_e=aliases[_e];else return[_e];const[tt,et]=_e.split(""),nt=properties[tt],rt=directions[et]||"";return Array.isArray(rt)?rt.map(it=>nt+it):[nt+rt]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(_e,tt,et,nt){var rt;const it=(rt=getPath(_e,tt,!1))!=null?rt:et;return typeof it=="number"?ot=>typeof ot=="string"?ot:it*ot:Array.isArray(it)?ot=>typeof ot=="string"?ot:it[ot]:typeof it=="function"?it:()=>{}}function createUnarySpacing(_e){return createUnaryUnit(_e,"spacing",8)}function getValue(_e,tt){if(typeof tt=="string"||tt==null)return tt;const et=Math.abs(tt),nt=_e(et);return tt>=0?nt:typeof nt=="number"?-nt:`-${nt}`}function getStyleFromPropValue(_e,tt){return et=>_e.reduce((nt,rt)=>(nt[rt]=getValue(tt,et),nt),{})}function resolveCssProperty(_e,tt,et,nt){if(tt.indexOf(et)===-1)return null;const rt=getCssProperties(et),it=getStyleFromPropValue(rt,nt),ot=_e[et];return handleBreakpoints(_e,ot,it)}function style(_e,tt){const et=createUnarySpacing(_e.theme);return Object.keys(_e).map(nt=>resolveCssProperty(_e,tt,nt,et)).reduce(merge,{})}function margin(_e){return style(_e,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(_e){return style(_e,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(_e=8){if(_e.mui)return _e;const tt=createUnarySpacing({spacing:_e}),et=(...nt)=>(nt.length===0?[1]:nt).map(it=>{const ot=tt(it);return typeof ot=="number"?`${ot}px`:ot}).join(" ");return et.mui=!0,et}function compose$1(..._e){const tt=_e.reduce((nt,rt)=>(rt.filterProps.forEach(it=>{nt[it]=rt}),nt),{}),et=nt=>Object.keys(nt).reduce((rt,it)=>tt[it]?merge(rt,tt[it](nt)):rt,{});return et.propTypes={},et.filterProps=_e.reduce((nt,rt)=>nt.concat(rt.filterProps),[]),et}function borderTransform(_e){return typeof _e!="number"?_e:`${_e}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=_e=>{if(_e.borderRadius!==void 0&&_e.borderRadius!==null){const tt=createUnaryUnit(_e.theme,"shape.borderRadius",4),et=nt=>({borderRadius:getValue(tt,nt)});return handleBreakpoints(_e,_e.borderRadius,et)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$1(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=_e=>{if(_e.gap!==void 0&&_e.gap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({gap:getValue(tt,nt)});return handleBreakpoints(_e,_e.gap,et)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=_e=>{if(_e.columnGap!==void 0&&_e.columnGap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({columnGap:getValue(tt,nt)});return handleBreakpoints(_e,_e.columnGap,et)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=_e=>{if(_e.rowGap!==void 0&&_e.rowGap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({rowGap:getValue(tt,nt)});return handleBreakpoints(_e,_e.rowGap,et)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose$1(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(_e,tt){return tt==="grey"?tt:_e}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$1(color,bgcolor,backgroundColor);function sizingTransform(_e){return _e<=1&&_e!==0?`${_e*100}%`:_e}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=_e=>{if(_e.maxWidth!==void 0&&_e.maxWidth!==null){const tt=et=>{var nt,rt,it;return{maxWidth:((nt=_e.theme)==null||(rt=nt.breakpoints)==null||(it=rt.values)==null?void 0:it[et])||values$1[et]||sizingTransform(et)}};return handleBreakpoints(_e,_e.maxWidth,tt)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose$1(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:_e=>({"@media print":{display:_e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(..._e){const tt=_e.reduce((nt,rt)=>nt.concat(Object.keys(rt)),[]),et=new Set(tt);return _e.every(nt=>et.size===Object.keys(nt).length)}function callIfFn(_e,tt){return typeof _e=="function"?_e(tt):_e}function unstable_createStyleFunctionSx(){function _e(et,nt,rt,it){const ot={[et]:nt,theme:rt},st=it[et];if(!st)return{[et]:nt};const{cssProperty:at=et,themeKey:ct,transform:lt,style:dt}=st;if(nt==null)return null;if(ct==="typography"&&nt==="inherit")return{[et]:nt};const ut=getPath(rt,ct)||{};return dt?dt(ot):handleBreakpoints(ot,nt,pt=>{let yt=getStyleValue(ut,lt,pt);return pt===yt&&typeof pt=="string"&&(yt=getStyleValue(ut,lt,`${et}${pt==="default"?"":capitalize(pt)}`,pt)),at===!1?yt:{[at]:yt}})}function tt(et){var nt;const{sx:rt,theme:it={}}=et||{};if(!rt)return null;const ot=(nt=it.unstable_sxConfig)!=null?nt:defaultSxConfig$1;function st(at){let ct=at;if(typeof at=="function")ct=at(it);else if(typeof at!="object")return at;if(!ct)return null;const lt=createEmptyBreakpointObject(it.breakpoints),dt=Object.keys(lt);let ut=lt;return Object.keys(ct).forEach(ft=>{const pt=callIfFn(ct[ft],it);if(pt!=null)if(typeof pt=="object")if(ot[ft])ut=merge(ut,_e(ft,pt,it,ot));else{const yt=handleBreakpoints({theme:it},pt,Tt=>({[ft]:Tt}));objectsHaveSameKeys(yt,pt)?ut[ft]=tt({sx:pt,theme:it}):ut=merge(ut,yt)}else ut=merge(ut,_e(ft,pt,it,ot))}),removeUnusedBreakpoints(dt,ut)}return Array.isArray(rt)?rt.map(st):st(rt)}return tt}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$o=["breakpoints","palette","spacing","shape"];function createTheme$1(_e={},...tt){const{breakpoints:et={},palette:nt={},spacing:rt,shape:it={}}=_e,ot=_objectWithoutPropertiesLoose(_e,_excluded$o),st=createBreakpoints(et),at=createSpacing(rt);let ct=deepmerge({breakpoints:st,direction:"ltr",components:{},palette:_extends({mode:"light"},nt),spacing:at,shape:_extends({},shape$1,it)},ot);return ct=tt.reduce((lt,dt)=>deepmerge(lt,dt),ct),ct.unstable_sxConfig=_extends({},defaultSxConfig$1,ot==null?void 0:ot.unstable_sxConfig),ct.unstable_sx=function(dt){return styleFunctionSx$1({sx:dt,theme:this})},ct}function isObjectEmpty(_e){return Object.keys(_e).length===0}function useTheme$2(_e=null){const tt=reactExports.useContext(ThemeContext);return!tt||isObjectEmpty(tt)?_e:tt}const systemDefaultTheme$1=createTheme$1();function useTheme$1(_e=systemDefaultTheme$1){return useTheme$2(_e)}const _excluded$n=["sx"],splitProps=_e=>{var tt,et;const nt={systemProps:{},otherProps:{}},rt=(tt=_e==null||(et=_e.theme)==null?void 0:et.unstable_sxConfig)!=null?tt:defaultSxConfig$1;return Object.keys(_e).forEach(it=>{rt[it]?nt.systemProps[it]=_e[it]:nt.otherProps[it]=_e[it]}),nt};function extendSxProp(_e){const{sx:tt}=_e,et=_objectWithoutPropertiesLoose(_e,_excluded$n),{systemProps:nt,otherProps:rt}=splitProps(et);let it;return Array.isArray(tt)?it=[nt,...tt]:typeof tt=="function"?it=(...ot)=>{const st=tt(...ot);return isPlainObject$2(st)?_extends({},nt,st):nt}:it=_extends({},nt,tt),_extends({},rt,{sx:it})}function r$3(_e){var tt,et,nt="";if(typeof _e=="string"||typeof _e=="number")nt+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(tt=0;tt<_e.length;tt++)_e[tt]&&(et=r$3(_e[tt]))&&(nt&&(nt+=" "),nt+=et);else for(tt in _e)_e[tt]&&(nt&&(nt+=" "),nt+=tt);return nt}function clsx(){for(var _e,tt,et=0,nt="";et<arguments.length;)(_e=arguments[et++])&&(tt=r$3(_e))&&(nt&&(nt+=" "),nt+=tt);return nt}const _excluded$m=["variant"];function isEmpty$1(_e){return _e.length===0}function propsToClassKey(_e){const{variant:tt}=_e,et=_objectWithoutPropertiesLoose(_e,_excluded$m);let nt=tt||"";return Object.keys(et).sort().forEach(rt=>{rt==="color"?nt+=isEmpty$1(nt)?_e[rt]:capitalize(_e[rt]):nt+=`${isEmpty$1(nt)?rt:capitalize(rt)}${capitalize(_e[rt].toString())}`}),nt}const _excluded$l=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty(_e){return Object.keys(_e).length===0}function isStringTag(_e){return typeof _e=="string"&&_e.charCodeAt(0)>96}const getStyleOverrides=(_e,tt)=>tt.components&&tt.components[_e]&&tt.components[_e].styleOverrides?tt.components[_e].styleOverrides:null,getVariantStyles=(_e,tt)=>{let et=[];tt&&tt.components&&tt.components[_e]&&tt.components[_e].variants&&(et=tt.components[_e].variants);const nt={};return et.forEach(rt=>{const it=propsToClassKey(rt.props);nt[it]=rt.style}),nt},variantsResolver=(_e,tt,et,nt)=>{var rt,it;const{ownerState:ot={}}=_e,st=[],at=et==null||(rt=et.components)==null||(it=rt[nt])==null?void 0:it.variants;return at&&at.forEach(ct=>{let lt=!0;Object.keys(ct.props).forEach(dt=>{ot[dt]!==ct.props[dt]&&_e[dt]!==ct.props[dt]&&(lt=!1)}),lt&&st.push(tt[propsToClassKey(ct.props)])}),st};function shouldForwardProp(_e){return _e!=="ownerState"&&_e!=="theme"&&_e!=="sx"&&_e!=="as"}const systemDefaultTheme=createTheme$1();function resolveTheme({defaultTheme:_e,theme:tt,themeId:et}){return isEmpty(tt)?_e:tt[et]||tt}function createStyled(_e={}){const{themeId:tt,defaultTheme:et=systemDefaultTheme,rootShouldForwardProp:nt=shouldForwardProp,slotShouldForwardProp:rt=shouldForwardProp}=_e,it=ot=>styleFunctionSx$1(_extends({},ot,{theme:resolveTheme(_extends({},ot,{defaultTheme:et,themeId:tt}))}));return it.__mui_systemSx=!0,(ot,st={})=>{internal_processStyles(ot,Ct=>Ct.filter(It=>!(It!=null&&It.__mui_systemSx)));const{name:at,slot:ct,skipVariantsResolver:lt,skipSx:dt,overridesResolver:ut}=st,ft=_objectWithoutPropertiesLoose(st,_excluded$l),pt=lt!==void 0?lt:ct&&ct!=="Root"||!1,yt=dt||!1;let Tt,ht=shouldForwardProp;ct==="Root"?ht=nt:ct?ht=rt:isStringTag(ot)&&(ht=void 0);const gt=styled$2(ot,_extends({shouldForwardProp:ht,label:Tt},ft)),vt=(Ct,...It)=>{const Zt=It?It.map(Lt=>typeof Lt=="function"&&Lt.__emotion_real!==Lt?Pt=>Lt(_extends({},Pt,{theme:resolveTheme(_extends({},Pt,{defaultTheme:et,themeId:tt}))})):Lt):[];let Mt=Ct;at&&ut&&Zt.push(Lt=>{const Pt=resolveTheme(_extends({},Lt,{defaultTheme:et,themeId:tt})),cn=getStyleOverrides(at,Pt);if(cn){const Jt={};return Object.entries(cn).forEach(([Bt,dn])=>{Jt[Bt]=typeof dn=="function"?dn(_extends({},Lt,{theme:Pt})):dn}),ut(Lt,Jt)}return null}),at&&!pt&&Zt.push(Lt=>{const Pt=resolveTheme(_extends({},Lt,{defaultTheme:et,themeId:tt}));return variantsResolver(Lt,getVariantStyles(at,Pt),Pt,at)}),yt||Zt.push(it);const kt=Zt.length-It.length;if(Array.isArray(Ct)&&kt>0){const Lt=new Array(kt).fill("");Mt=[...Ct,...Lt],Mt.raw=[...Ct.raw,...Lt]}else typeof Ct=="function"&&Ct.__emotion_real!==Ct&&(Mt=Lt=>Ct(_extends({},Lt,{theme:resolveTheme(_extends({},Lt,{defaultTheme:et,themeId:tt}))})));const Nt=gt(Mt,...Zt);return ot.muiName&&(Nt.muiName=ot.muiName),Nt};return gt.withConfig&&(vt.withConfig=gt.withConfig),vt}}function getThemeProps(_e){const{theme:tt,name:et,props:nt}=_e;return!tt||!tt.components||!tt.components[et]||!tt.components[et].defaultProps?nt:resolveProps(tt.components[et].defaultProps,nt)}function useThemeProps$1({props:_e,name:tt,defaultTheme:et,themeId:nt}){let rt=useTheme$1(et);return nt&&(rt=rt[nt]||rt),getThemeProps({theme:rt,name:tt,props:_e})}function clamp(_e,tt=0,et=1){return Math.min(Math.max(tt,_e),et)}function hexToRgb(_e){_e=_e.slice(1);const tt=new RegExp(`.{1,${_e.length>=6?2:1}}`,"g");let et=_e.match(tt);return et&&et[0].length===1&&(et=et.map(nt=>nt+nt)),et?`rgb${et.length===4?"a":""}(${et.map((nt,rt)=>rt<3?parseInt(nt,16):Math.round(parseInt(nt,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(_e){if(_e.type)return _e;if(_e.charAt(0)==="#")return decomposeColor(hexToRgb(_e));const tt=_e.indexOf("("),et=_e.substring(0,tt);if(["rgb","rgba","hsl","hsla","color"].indexOf(et)===-1)throw new Error(formatMuiErrorMessage(9,_e));let nt=_e.substring(tt+1,_e.length-1),rt;if(et==="color"){if(nt=nt.split(" "),rt=nt.shift(),nt.length===4&&nt[3].charAt(0)==="/"&&(nt[3]=nt[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(rt)===-1)throw new Error(formatMuiErrorMessage(10,rt))}else nt=nt.split(",");return nt=nt.map(it=>parseFloat(it)),{type:et,values:nt,colorSpace:rt}}function recomposeColor(_e){const{type:tt,colorSpace:et}=_e;let{values:nt}=_e;return tt.indexOf("rgb")!==-1?nt=nt.map((rt,it)=>it<3?parseInt(rt,10):rt):tt.indexOf("hsl")!==-1&&(nt[1]=`${nt[1]}%`,nt[2]=`${nt[2]}%`),tt.indexOf("color")!==-1?nt=`${et} ${nt.join(" ")}`:nt=`${nt.join(", ")}`,`${tt}(${nt})`}function hslToRgb(_e){_e=decomposeColor(_e);const{values:tt}=_e,et=tt[0],nt=tt[1]/100,rt=tt[2]/100,it=nt*Math.min(rt,1-rt),ot=(ct,lt=(ct+et/30)%12)=>rt-it*Math.max(Math.min(lt-3,9-lt,1),-1);let st="rgb";const at=[Math.round(ot(0)*255),Math.round(ot(8)*255),Math.round(ot(4)*255)];return _e.type==="hsla"&&(st+="a",at.push(tt[3])),recomposeColor({type:st,values:at})}function getLuminance(_e){_e=decomposeColor(_e);let tt=_e.type==="hsl"||_e.type==="hsla"?decomposeColor(hslToRgb(_e)).values:_e.values;return tt=tt.map(et=>(_e.type!=="color"&&(et/=255),et<=.03928?et/12.92:((et+.055)/1.055)**2.4)),Number((.2126*tt[0]+.7152*tt[1]+.0722*tt[2]).toFixed(3))}function getContrastRatio(_e,tt){const et=getLuminance(_e),nt=getLuminance(tt);return(Math.max(et,nt)+.05)/(Math.min(et,nt)+.05)}function alpha(_e,tt){return _e=decomposeColor(_e),tt=clamp(tt),(_e.type==="rgb"||_e.type==="hsl")&&(_e.type+="a"),_e.type==="color"?_e.values[3]=`/${tt}`:_e.values[3]=tt,recomposeColor(_e)}function darken(_e,tt){if(_e=decomposeColor(_e),tt=clamp(tt),_e.type.indexOf("hsl")!==-1)_e.values[2]*=1-tt;else if(_e.type.indexOf("rgb")!==-1||_e.type.indexOf("color")!==-1)for(let et=0;et<3;et+=1)_e.values[et]*=1-tt;return recomposeColor(_e)}function lighten(_e,tt){if(_e=decomposeColor(_e),tt=clamp(tt),_e.type.indexOf("hsl")!==-1)_e.values[2]+=(100-_e.values[2])*tt;else if(_e.type.indexOf("rgb")!==-1)for(let et=0;et<3;et+=1)_e.values[et]+=(255-_e.values[et])*tt;else if(_e.type.indexOf("color")!==-1)for(let et=0;et<3;et+=1)_e.values[et]+=(1-_e.values[et])*tt;return recomposeColor(_e)}function createMixins(_e,tt){return _extends({toolbar:{minHeight:56,[_e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[_e.up("sm")]:{minHeight:64}}},tt)}const _excluded$k=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(_e,tt,et,nt){const rt=nt.light||nt,it=nt.dark||nt*1.5;_e[tt]||(_e.hasOwnProperty(et)?_e[tt]=_e[et]:tt==="light"?_e.light=lighten(_e.main,rt):tt==="dark"&&(_e.dark=darken(_e.main,it)))}function getDefaultPrimary(_e="light"){return _e==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(_e="light"){return _e==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(_e="light"){return _e==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(_e="light"){return _e==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(_e="light"){return _e==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(_e="light"){return _e==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(_e){const{mode:tt="light",contrastThreshold:et=3,tonalOffset:nt=.2}=_e,rt=_objectWithoutPropertiesLoose(_e,_excluded$k),it=_e.primary||getDefaultPrimary(tt),ot=_e.secondary||getDefaultSecondary(tt),st=_e.error||getDefaultError(tt),at=_e.info||getDefaultInfo(tt),ct=_e.success||getDefaultSuccess(tt),lt=_e.warning||getDefaultWarning(tt);function dt(yt){return getContrastRatio(yt,dark.text.primary)>=et?dark.text.primary:light.text.primary}const ut=({color:yt,name:Tt,mainShade:ht=500,lightShade:gt=300,darkShade:vt=700})=>{if(yt=_extends({},yt),!yt.main&&yt[ht]&&(yt.main=yt[ht]),!yt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Tt?` (${Tt})`:"",ht));if(typeof yt.main!="string")throw new Error(formatMuiErrorMessage(12,Tt?` (${Tt})`:"",JSON.stringify(yt.main)));return addLightOrDark(yt,"light",gt,nt),addLightOrDark(yt,"dark",vt,nt),yt.contrastText||(yt.contrastText=dt(yt.main)),yt},ft={dark,light};return deepmerge(_extends({common:_extends({},common$1),mode:tt,primary:ut({color:it,name:"primary"}),secondary:ut({color:ot,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ut({color:st,name:"error"}),warning:ut({color:lt,name:"warning"}),info:ut({color:at,name:"info"}),success:ut({color:ct,name:"success"}),grey:grey$1,contrastThreshold:et,getContrastText:dt,augmentColor:ut,tonalOffset:nt},ft[tt]),rt)}const _excluded$j=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(_e){return Math.round(_e*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(_e,tt){const et=typeof tt=="function"?tt(_e):tt,{fontFamily:nt=defaultFontFamily,fontSize:rt=14,fontWeightLight:it=300,fontWeightRegular:ot=400,fontWeightMedium:st=500,fontWeightBold:at=700,htmlFontSize:ct=16,allVariants:lt,pxToRem:dt}=et,ut=_objectWithoutPropertiesLoose(et,_excluded$j),ft=rt/14,pt=dt||(ht=>`${ht/ct*ft}rem`),yt=(ht,gt,vt,Ct,It)=>_extends({fontFamily:nt,fontWeight:ht,fontSize:pt(gt),lineHeight:vt},nt===defaultFontFamily?{letterSpacing:`${round(Ct/gt)}em`}:{},It,lt),Tt={h1:yt(it,96,1.167,-1.5),h2:yt(it,60,1.2,-.5),h3:yt(ot,48,1.167,0),h4:yt(ot,34,1.235,.25),h5:yt(ot,24,1.334,0),h6:yt(st,20,1.6,.15),subtitle1:yt(ot,16,1.75,.15),subtitle2:yt(st,14,1.57,.1),body1:yt(ot,16,1.5,.15),body2:yt(ot,14,1.43,.15),button:yt(st,14,1.75,.4,caseAllCaps),caption:yt(ot,12,1.66,.4),overline:yt(ot,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:ct,pxToRem:pt,fontFamily:nt,fontSize:rt,fontWeightLight:it,fontWeightRegular:ot,fontWeightMedium:st,fontWeightBold:at},Tt),ut,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(..._e){return[`${_e[0]}px ${_e[1]}px ${_e[2]}px ${_e[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${_e[4]}px ${_e[5]}px ${_e[6]}px ${_e[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${_e[8]}px ${_e[9]}px ${_e[10]}px ${_e[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$i=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(_e){return`${Math.round(_e)}ms`}function getAutoHeightDuration(_e){if(!_e)return 0;const tt=_e/36;return Math.round((4+15*tt**.25+tt/5)*10)}function createTransitions(_e){const tt=_extends({},easing,_e.easing),et=_extends({},duration,_e.duration);return _extends({getAutoHeightDuration,create:(rt=["all"],it={})=>{const{duration:ot=et.standard,easing:st=tt.easeInOut,delay:at=0}=it;return _objectWithoutPropertiesLoose(it,_excluded$i),(Array.isArray(rt)?rt:[rt]).map(ct=>`${ct} ${typeof ot=="string"?ot:formatMs(ot)} ${st} ${typeof at=="string"?at:formatMs(at)}`).join(",")}},_e,{easing:tt,duration:et})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$h=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(_e={},...tt){const{mixins:et={},palette:nt={},transitions:rt={},typography:it={}}=_e,ot=_objectWithoutPropertiesLoose(_e,_excluded$h);if(_e.vars)throw new Error(formatMuiErrorMessage(18));const st=createPalette(nt),at=createTheme$1(_e);let ct=deepmerge(at,{mixins:createMixins(at.breakpoints,et),palette:st,shadows:shadows$1.slice(),typography:createTypography(st,it),transitions:createTransitions(rt),zIndex:_extends({},zIndex$1)});return ct=deepmerge(ct,ot),ct=tt.reduce((lt,dt)=>deepmerge(lt,dt),ct),ct.unstable_sxConfig=_extends({},defaultSxConfig$1,ot==null?void 0:ot.unstable_sxConfig),ct.unstable_sx=function(dt){return styleFunctionSx$1({sx:dt,theme:this})},ct}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useTheme(){const _e=useTheme$1(defaultTheme$1);return _e[THEME_ID]||_e}function useThemeProps({props:_e,name:tt}){return useThemeProps$1({props:_e,name:tt,defaultTheme:defaultTheme$1,themeId:THEME_ID})}const rootShouldForwardProp=_e=>shouldForwardProp(_e)&&_e!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp}),styled$1=styled,getOverlayAlpha=_e=>{let tt;return _e<1?tt=5.11916*_e**2:tt=4.5*Math.log(_e+1)+2,(tt/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent(_e){return typeof _e=="string"}function appendOwnerState(_e,tt,et){return _e===void 0||isHostComponent(_e)?tt:_extends({},tt,{ownerState:_extends({},tt.ownerState,et)})}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(_e){const{disableDefaultClasses:tt}=reactExports.useContext(ClassNameConfiguratorContext);return et=>tt?"":_e(et)}function extractEventHandlers(_e,tt=[]){if(_e===void 0)return{};const et={};return Object.keys(_e).filter(nt=>nt.match(/^on[A-Z]/)&&typeof _e[nt]=="function"&&!tt.includes(nt)).forEach(nt=>{et[nt]=_e[nt]}),et}function resolveComponentProps(_e,tt){return typeof _e=="function"?_e(tt):_e}function omitEventHandlers(_e){if(_e===void 0)return{};const tt={};return Object.keys(_e).filter(et=>!(et.match(/^on[A-Z]/)&&typeof _e[et]=="function")).forEach(et=>{tt[et]=_e[et]}),tt}function mergeSlotProps(_e){const{getSlotProps:tt,additionalProps:et,externalSlotProps:nt,externalForwardedProps:rt,className:it}=_e;if(!tt){const ft=clsx(rt==null?void 0:rt.className,nt==null?void 0:nt.className,it,et==null?void 0:et.className),pt=_extends({},et==null?void 0:et.style,rt==null?void 0:rt.style,nt==null?void 0:nt.style),yt=_extends({},et,rt,nt);return ft.length>0&&(yt.className=ft),Object.keys(pt).length>0&&(yt.style=pt),{props:yt,internalRef:void 0}}const ot=extractEventHandlers(_extends({},rt,nt)),st=omitEventHandlers(nt),at=omitEventHandlers(rt),ct=tt(ot),lt=clsx(ct==null?void 0:ct.className,et==null?void 0:et.className,it,rt==null?void 0:rt.className,nt==null?void 0:nt.className),dt=_extends({},ct==null?void 0:ct.style,et==null?void 0:et.style,rt==null?void 0:rt.style,nt==null?void 0:nt.style),ut=_extends({},ct,et,at,st);return lt.length>0&&(ut.className=lt),Object.keys(dt).length>0&&(ut.style=dt),{props:ut,internalRef:ct.ref}}const _excluded$g=["elementType","externalSlotProps","ownerState"];function useSlotProps(_e){var tt;const{elementType:et,externalSlotProps:nt,ownerState:rt}=_e,it=_objectWithoutPropertiesLoose(_e,_excluded$g),ot=resolveComponentProps(nt,rt),{props:st,internalRef:at}=mergeSlotProps(_extends({},it,{externalSlotProps:ot})),ct=useForkRef(at,ot==null?void 0:ot.ref,(tt=_e.additionalProps)==null?void 0:tt.ref);return appendOwnerState(et,_extends({},st,{ref:ct}),rt)}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(_e){const tt=parseInt(_e.getAttribute("tabindex")||"",10);return Number.isNaN(tt)?_e.contentEditable==="true"||(_e.nodeName==="AUDIO"||_e.nodeName==="VIDEO"||_e.nodeName==="DETAILS")&&_e.getAttribute("tabindex")===null?0:_e.tabIndex:tt}function isNonTabbableRadio(_e){if(_e.tagName!=="INPUT"||_e.type!=="radio"||!_e.name)return!1;const tt=nt=>_e.ownerDocument.querySelector(`input[type="radio"]${nt}`);let et=tt(`[name="${_e.name}"]:checked`);return et||(et=tt(`[name="${_e.name}"]`)),et!==_e}function isNodeMatchingSelectorFocusable(_e){return!(_e.disabled||_e.tagName==="INPUT"&&_e.type==="hidden"||isNonTabbableRadio(_e))}function defaultGetTabbable(_e){const tt=[],et=[];return Array.from(_e.querySelectorAll(candidatesSelector)).forEach((nt,rt)=>{const it=getTabIndex(nt);it===-1||!isNodeMatchingSelectorFocusable(nt)||(it===0?tt.push(nt):et.push({documentOrder:rt,tabIndex:it,node:nt}))}),et.sort((nt,rt)=>nt.tabIndex===rt.tabIndex?nt.documentOrder-rt.documentOrder:nt.tabIndex-rt.tabIndex).map(nt=>nt.node).concat(tt)}function defaultIsEnabled(){return!0}function FocusTrap(_e){const{children:tt,disableAutoFocus:et=!1,disableEnforceFocus:nt=!1,disableRestoreFocus:rt=!1,getTabbable:it=defaultGetTabbable,isEnabled:ot=defaultIsEnabled,open:st}=_e,at=reactExports.useRef(!1),ct=reactExports.useRef(null),lt=reactExports.useRef(null),dt=reactExports.useRef(null),ut=reactExports.useRef(null),ft=reactExports.useRef(!1),pt=reactExports.useRef(null),yt=useForkRef(tt.ref,pt),Tt=reactExports.useRef(null);reactExports.useEffect(()=>{!st||!pt.current||(ft.current=!et)},[et,st]),reactExports.useEffect(()=>{if(!st||!pt.current)return;const vt=ownerDocument(pt.current);return pt.current.contains(vt.activeElement)||(pt.current.hasAttribute("tabIndex")||pt.current.setAttribute("tabIndex","-1"),ft.current&&pt.current.focus()),()=>{rt||(dt.current&&dt.current.focus&&(at.current=!0,dt.current.focus()),dt.current=null)}},[st]),reactExports.useEffect(()=>{if(!st||!pt.current)return;const vt=ownerDocument(pt.current),Ct=Mt=>{const{current:kt}=pt;if(kt!==null){if(!vt.hasFocus()||nt||!ot()||at.current){at.current=!1;return}if(!kt.contains(vt.activeElement)){if(Mt&&ut.current!==Mt.target||vt.activeElement!==ut.current)ut.current=null;else if(ut.current!==null)return;if(!ft.current)return;let Pt=[];if((vt.activeElement===ct.current||vt.activeElement===lt.current)&&(Pt=it(pt.current)),Pt.length>0){var Nt,Lt;const cn=!!((Nt=Tt.current)!=null&&Nt.shiftKey&&((Lt=Tt.current)==null?void 0:Lt.key)==="Tab"),Jt=Pt[0],Bt=Pt[Pt.length-1];typeof Jt!="string"&&typeof Bt!="string"&&(cn?Bt.focus():Jt.focus())}else kt.focus()}}},It=Mt=>{Tt.current=Mt,!(nt||!ot()||Mt.key!=="Tab")&&vt.activeElement===pt.current&&Mt.shiftKey&&(at.current=!0,lt.current&&lt.current.focus())};vt.addEventListener("focusin",Ct),vt.addEventListener("keydown",It,!0);const Zt=setInterval(()=>{vt.activeElement&&vt.activeElement.tagName==="BODY"&&Ct(null)},50);return()=>{clearInterval(Zt),vt.removeEventListener("focusin",Ct),vt.removeEventListener("keydown",It,!0)}},[et,nt,rt,ot,st,it]);const ht=vt=>{dt.current===null&&(dt.current=vt.relatedTarget),ft.current=!0,ut.current=vt.target;const Ct=tt.props.onFocus;Ct&&Ct(vt)},gt=vt=>{dt.current===null&&(dt.current=vt.relatedTarget),ft.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:st?0:-1,onFocus:gt,ref:ct,"data-testid":"sentinelStart"}),reactExports.cloneElement(tt,{ref:yt,onFocus:ht}),jsxRuntimeExports.jsx("div",{tabIndex:st?0:-1,onFocus:gt,ref:lt,"data-testid":"sentinelEnd"})]})}function getContainer$1(_e){return typeof _e=="function"?_e():_e}const Portal=reactExports.forwardRef(function _e(tt,et){const{children:nt,container:rt,disablePortal:it=!1}=tt,[ot,st]=reactExports.useState(null),at=useForkRef(reactExports.isValidElement(nt)?nt.ref:null,et);if(useEnhancedEffect$1(()=>{it||st(getContainer$1(rt)||document.body)},[rt,it]),useEnhancedEffect$1(()=>{if(ot&&!it)return setRef(et,ot),()=>{setRef(et,null)}},[et,ot,it]),it){if(reactExports.isValidElement(nt)){const ct={ref:at};return reactExports.cloneElement(nt,ct)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:nt})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:ot&&reactDomExports.createPortal(nt,ot)})}),Portal$1=Portal;function isOverflowing(_e){const tt=ownerDocument(_e);return tt.body===_e?ownerWindow(_e).innerWidth>tt.documentElement.clientWidth:_e.scrollHeight>_e.clientHeight}function ariaHidden(_e,tt){tt?_e.setAttribute("aria-hidden","true"):_e.removeAttribute("aria-hidden")}function getPaddingRight(_e){return parseInt(ownerWindow(_e).getComputedStyle(_e).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(_e){const et=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(_e.tagName)!==-1,nt=_e.tagName==="INPUT"&&_e.getAttribute("type")==="hidden";return et||nt}function ariaHiddenSiblings(_e,tt,et,nt,rt){const it=[tt,et,...nt];[].forEach.call(_e.children,ot=>{const st=it.indexOf(ot)===-1,at=!isAriaHiddenForbiddenOnElement(ot);st&&at&&ariaHidden(ot,rt)})}function findIndexOf(_e,tt){let et=-1;return _e.some((nt,rt)=>tt(nt)?(et=rt,!0):!1),et}function handleContainer(_e,tt){const et=[],nt=_e.container;if(!tt.disableScrollLock){if(isOverflowing(nt)){const ot=getScrollbarSize(ownerDocument(nt));et.push({value:nt.style.paddingRight,property:"padding-right",el:nt}),nt.style.paddingRight=`${getPaddingRight(nt)+ot}px`;const st=ownerDocument(nt).querySelectorAll(".mui-fixed");[].forEach.call(st,at=>{et.push({value:at.style.paddingRight,property:"padding-right",el:at}),at.style.paddingRight=`${getPaddingRight(at)+ot}px`})}let it;if(nt.parentNode instanceof DocumentFragment)it=ownerDocument(nt).body;else{const ot=nt.parentElement,st=ownerWindow(nt);it=(ot==null?void 0:ot.nodeName)==="HTML"&&st.getComputedStyle(ot).overflowY==="scroll"?ot:nt}et.push({value:it.style.overflow,property:"overflow",el:it},{value:it.style.overflowX,property:"overflow-x",el:it},{value:it.style.overflowY,property:"overflow-y",el:it}),it.style.overflow="hidden"}return()=>{et.forEach(({value:it,el:ot,property:st})=>{it?ot.style.setProperty(st,it):ot.style.removeProperty(st)})}}function getHiddenSiblings(_e){const tt=[];return[].forEach.call(_e.children,et=>{et.getAttribute("aria-hidden")==="true"&&tt.push(et)}),tt}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(tt,et){let nt=this.modals.indexOf(tt);if(nt!==-1)return nt;nt=this.modals.length,this.modals.push(tt),tt.modalRef&&ariaHidden(tt.modalRef,!1);const rt=getHiddenSiblings(et);ariaHiddenSiblings(et,tt.mount,tt.modalRef,rt,!0);const it=findIndexOf(this.containers,ot=>ot.container===et);return it!==-1?(this.containers[it].modals.push(tt),nt):(this.containers.push({modals:[tt],container:et,restore:null,hiddenSiblings:rt}),nt)}mount(tt,et){const nt=findIndexOf(this.containers,it=>it.modals.indexOf(tt)!==-1),rt=this.containers[nt];rt.restore||(rt.restore=handleContainer(rt,et))}remove(tt,et=!0){const nt=this.modals.indexOf(tt);if(nt===-1)return nt;const rt=findIndexOf(this.containers,ot=>ot.modals.indexOf(tt)!==-1),it=this.containers[rt];if(it.modals.splice(it.modals.indexOf(tt),1),this.modals.splice(nt,1),it.modals.length===0)it.restore&&it.restore(),tt.modalRef&&ariaHidden(tt.modalRef,et),ariaHiddenSiblings(it.container,tt.mount,tt.modalRef,it.hiddenSiblings,!1),this.containers.splice(rt,1);else{const ot=it.modals[it.modals.length-1];ot.modalRef&&ariaHidden(ot.modalRef,!1)}return nt}isTopModal(tt){return this.modals.length>0&&this.modals[this.modals.length-1]===tt}}function getModalUtilityClass(_e){return generateUtilityClass("MuiModal",_e)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$f=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$c=_e=>{const{open:tt,exited:et}=_e;return composeClasses({root:["root",!tt&&et&&"hidden"],backdrop:["backdrop"]},useClassNamesOverride(getModalUtilityClass))};function getContainer(_e){return typeof _e=="function"?_e():_e}function getHasTransition(_e){return _e?_e.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,Modal$2=reactExports.forwardRef(function _e(tt,et){var nt,rt;const{children:it,closeAfterTransition:ot=!1,container:st,disableAutoFocus:at=!1,disableEnforceFocus:ct=!1,disableEscapeKeyDown:lt=!1,disablePortal:dt=!1,disableRestoreFocus:ut=!1,disableScrollLock:ft=!1,hideBackdrop:pt=!1,keepMounted:yt=!1,manager:Tt=defaultManager,onBackdropClick:ht,onClose:gt,onKeyDown:vt,open:Ct,onTransitionEnter:It,onTransitionExited:Zt,slotProps:Mt={},slots:kt={}}=tt,Nt=_objectWithoutPropertiesLoose(tt,_excluded$f),Lt=Tt,[Pt,cn]=reactExports.useState(!Ct),Jt=reactExports.useRef({}),Bt=reactExports.useRef(null),dn=reactExports.useRef(null),vn=useForkRef(dn,et),Tn=getHasTransition(it),pn=(nt=tt["aria-hidden"])!=null?nt:!0,In=()=>ownerDocument(Bt.current),Cn=()=>(Jt.current.modalRef=dn.current,Jt.current.mountNode=Bt.current,Jt.current),yn=()=>{Lt.mount(Cn(),{disableScrollLock:ft}),dn.current&&(dn.current.scrollTop=0)},bn=useEventCallback(()=>{const vo=getContainer(st)||In().body;Lt.add(Cn(),vo),dn.current&&yn()}),Xn=reactExports.useCallback(()=>Lt.isTopModal(Cn()),[Lt]),Hn=useEventCallback(vo=>{Bt.current=vo,!(!vo||!dn.current)&&(Ct&&Xn()?yn():ariaHidden(dn.current,pn))}),En=reactExports.useCallback(()=>{Lt.remove(Cn(),pn)},[Lt,pn]);reactExports.useEffect(()=>()=>{En()},[En]),reactExports.useEffect(()=>{Ct?bn():(!Tn||!ot)&&En()},[Ct,En,Tn,ot,bn]);const Zn=_extends({},tt,{closeAfterTransition:ot,disableAutoFocus:at,disableEnforceFocus:ct,disableEscapeKeyDown:lt,disablePortal:dt,disableRestoreFocus:ut,disableScrollLock:ft,exited:Pt,hideBackdrop:pt,keepMounted:yt}),Vn=useUtilityClasses$c(Zn),rr=()=>{cn(!1),It&&It()},gr=()=>{cn(!0),Zt&&Zt(),ot&&En()},cr=vo=>{vo.target===vo.currentTarget&&(ht&&ht(vo),gt&&gt(vo,"backdropClick"))},sr=vo=>{vt&&vt(vo),!(vo.key!=="Escape"||!Xn())&&(lt||(vo.stopPropagation(),gt&&gt(vo,"escapeKeyDown")))},Or={};it.props.tabIndex===void 0&&(Or.tabIndex="-1"),Tn&&(Or.onEnter=createChainedFunction(rr,it.props.onEnter),Or.onExited=createChainedFunction(gr,it.props.onExited));const Rr=(rt=kt.root)!=null?rt:"div",Yr=useSlotProps({elementType:Rr,externalSlotProps:Mt.root,externalForwardedProps:Nt,additionalProps:{ref:vn,role:"presentation",onKeyDown:sr},className:Vn.root,ownerState:Zn}),Fr=kt.backdrop,Qr=useSlotProps({elementType:Fr,externalSlotProps:Mt.backdrop,additionalProps:{"aria-hidden":!0,onClick:cr,open:Ct},className:Vn.backdrop,ownerState:Zn});return!yt&&!Ct&&(!Tn||Pt)?null:jsxRuntimeExports.jsx(Portal$1,{ref:Hn,container:st,disablePortal:dt,children:jsxRuntimeExports.jsxs(Rr,_extends({},Yr,{children:[!pt&&Fr?jsxRuntimeExports.jsx(Fr,_extends({},Qr)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:ct,disableAutoFocus:at,disableRestoreFocus:ut,isEnabled:Xn,open:Ct,children:reactExports.cloneElement(it,Or)})]}))})}),ModalUnstyled=Modal$2;function getSvgIconUtilityClass(_e){return generateUtilityClass("MuiSvgIcon",_e)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$b=_e=>{const{color:tt,fontSize:et,classes:nt}=_e,rt={root:["root",tt!=="inherit"&&`color${capitalize(tt)}`,`fontSize${capitalize(et)}`]};return composeClasses(rt,getSvgIconUtilityClass,nt)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.color!=="inherit"&&tt[`color${capitalize(et.color)}`],tt[`fontSize${capitalize(et.fontSize)}`]]}})(({theme:_e,ownerState:tt})=>{var et,nt,rt,it,ot,st,at,ct,lt,dt,ut,ft,pt,yt,Tt,ht,gt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(et=_e.transitions)==null||(nt=et.create)==null?void 0:nt.call(et,"fill",{duration:(rt=_e.transitions)==null||(it=rt.duration)==null?void 0:it.shorter}),fontSize:{inherit:"inherit",small:((ot=_e.typography)==null||(st=ot.pxToRem)==null?void 0:st.call(ot,20))||"1.25rem",medium:((at=_e.typography)==null||(ct=at.pxToRem)==null?void 0:ct.call(at,24))||"1.5rem",large:((lt=_e.typography)==null||(dt=lt.pxToRem)==null?void 0:dt.call(lt,35))||"2.1875rem"}[tt.fontSize],color:(ut=(ft=(_e.vars||_e).palette)==null||(pt=ft[tt.color])==null?void 0:pt.main)!=null?ut:{action:(yt=(_e.vars||_e).palette)==null||(Tt=yt.action)==null?void 0:Tt.active,disabled:(ht=(_e.vars||_e).palette)==null||(gt=ht.action)==null?void 0:gt.disabled,inherit:void 0}[tt.color]}}),SvgIcon=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiSvgIcon"}),{children:rt,className:it,color:ot="inherit",component:st="svg",fontSize:at="medium",htmlColor:ct,inheritViewBox:lt=!1,titleAccess:dt,viewBox:ut="0 0 24 24"}=nt,ft=_objectWithoutPropertiesLoose(nt,_excluded$e),pt=_extends({},nt,{color:ot,component:st,fontSize:at,instanceFontSize:tt.fontSize,inheritViewBox:lt,viewBox:ut}),yt={};lt||(yt.viewBox=ut);const Tt=useUtilityClasses$b(pt);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends({as:st,className:clsx(Tt.root,it),focusable:"false",color:ct,"aria-hidden":dt?void 0:!0,role:dt?"img":void 0,ref:et},yt,ft,{ownerState:pt,children:[rt,dt?jsxRuntimeExports.jsx("title",{children:dt}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(_e,tt){function et(nt,rt){return jsxRuntimeExports.jsx(SvgIcon$1,_extends({"data-testid":`${tt}Icon`,ref:rt},nt,{children:_e}))}return et.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(et))}const unstable_ClassNameGenerator={configure:_e=>{ClassNameGenerator$1.configure(_e)}},utils=Object.freeze(Object.defineProperty({__proto__:null,capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function _setPrototypeOf(_e,tt){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,rt){return nt.__proto__=rt,nt},_setPrototypeOf(_e,tt)}function _inheritsLoose(_e,tt){_e.prototype=Object.create(tt.prototype),_e.prototype.constructor=_e,_setPrototypeOf(_e,tt)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function _e(tt){return tt.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(_e){_inheritsLoose(tt,_e);function tt(nt,rt){var it;it=_e.call(this,nt,rt)||this;var ot=rt,st=ot&&!ot.isMounting?nt.enter:nt.appear,at;return it.appearStatus=null,nt.in?st?(at=EXITED,it.appearStatus=ENTERING):at=ENTERED:nt.unmountOnExit||nt.mountOnEnter?at=UNMOUNTED:at=EXITED,it.state={status:at},it.nextCallback=null,it}tt.getDerivedStateFromProps=function(rt,it){var ot=rt.in;return ot&&it.status===UNMOUNTED?{status:EXITED}:null};var et=tt.prototype;return et.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},et.componentDidUpdate=function(rt){var it=null;if(rt!==this.props){var ot=this.state.status;this.props.in?ot!==ENTERING&&ot!==ENTERED&&(it=ENTERING):(ot===ENTERING||ot===ENTERED)&&(it=EXITING)}this.updateStatus(!1,it)},et.componentWillUnmount=function(){this.cancelNextCallback()},et.getTimeouts=function(){var rt=this.props.timeout,it,ot,st;return it=ot=st=rt,rt!=null&&typeof rt!="number"&&(it=rt.exit,ot=rt.enter,st=rt.appear!==void 0?rt.appear:ot),{exit:it,enter:ot,appear:st}},et.updateStatus=function(rt,it){if(rt===void 0&&(rt=!1),it!==null)if(this.cancelNextCallback(),it===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);ot&&forceReflow(ot)}this.performEnter(rt)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},et.performEnter=function(rt){var it=this,ot=this.props.enter,st=this.context?this.context.isMounting:rt,at=this.props.nodeRef?[st]:[ReactDOM.findDOMNode(this),st],ct=at[0],lt=at[1],dt=this.getTimeouts(),ut=st?dt.appear:dt.enter;if(!rt&&!ot||config.disabled){this.safeSetState({status:ENTERED},function(){it.props.onEntered(ct)});return}this.props.onEnter(ct,lt),this.safeSetState({status:ENTERING},function(){it.props.onEntering(ct,lt),it.onTransitionEnd(ut,function(){it.safeSetState({status:ENTERED},function(){it.props.onEntered(ct,lt)})})})},et.performExit=function(){var rt=this,it=this.props.exit,ot=this.getTimeouts(),st=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!it||config.disabled){this.safeSetState({status:EXITED},function(){rt.props.onExited(st)});return}this.props.onExit(st),this.safeSetState({status:EXITING},function(){rt.props.onExiting(st),rt.onTransitionEnd(ot.exit,function(){rt.safeSetState({status:EXITED},function(){rt.props.onExited(st)})})})},et.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},et.safeSetState=function(rt,it){it=this.setNextCallback(it),this.setState(rt,it)},et.setNextCallback=function(rt){var it=this,ot=!0;return this.nextCallback=function(st){ot&&(ot=!1,it.nextCallback=null,rt(st))},this.nextCallback.cancel=function(){ot=!1},this.nextCallback},et.onTransitionEnd=function(rt,it){this.setNextCallback(it);var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),st=rt==null&&!this.props.addEndListener;if(!ot||st){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var at=this.props.nodeRef?[this.nextCallback]:[ot,this.nextCallback],ct=at[0],lt=at[1];this.props.addEndListener(ct,lt)}rt!=null&&setTimeout(this.nextCallback,rt)},et.render=function(){var rt=this.state.status;if(rt===UNMOUNTED)return null;var it=this.props,ot=it.children;it.in,it.mountOnEnter,it.unmountOnExit,it.appear,it.enter,it.exit,it.timeout,it.addEndListener,it.onEnter,it.onEntering,it.onEntered,it.onExit,it.onExiting,it.onExited,it.nodeRef;var st=_objectWithoutPropertiesLoose(it,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof ot=="function"?ot(rt,st):React.cloneElement(React.Children.only(ot),st))},tt}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function getChildMapping(_e,tt){var et=function(it){return tt&&reactExports.isValidElement(it)?tt(it):it},nt=Object.create(null);return _e&&reactExports.Children.map(_e,function(rt){return rt}).forEach(function(rt){nt[rt.key]=et(rt)}),nt}function mergeChildMappings(_e,tt){_e=_e||{},tt=tt||{};function et(lt){return lt in tt?tt[lt]:_e[lt]}var nt=Object.create(null),rt=[];for(var it in _e)it in tt?rt.length&&(nt[it]=rt,rt=[]):rt.push(it);var ot,st={};for(var at in tt){if(nt[at])for(ot=0;ot<nt[at].length;ot++){var ct=nt[at][ot];st[nt[at][ot]]=et(ct)}st[at]=et(at)}for(ot=0;ot<rt.length;ot++)st[rt[ot]]=et(rt[ot]);return st}function getProp(_e,tt,et){return et[tt]!=null?et[tt]:_e.props[tt]}function getInitialChildMapping(_e,tt){return getChildMapping(_e.children,function(et){return reactExports.cloneElement(et,{onExited:tt.bind(null,et),in:!0,appear:getProp(et,"appear",_e),enter:getProp(et,"enter",_e),exit:getProp(et,"exit",_e)})})}function getNextChildMapping(_e,tt,et){var nt=getChildMapping(_e.children),rt=mergeChildMappings(tt,nt);return Object.keys(rt).forEach(function(it){var ot=rt[it];if(reactExports.isValidElement(ot)){var st=it in tt,at=it in nt,ct=tt[it],lt=reactExports.isValidElement(ct)&&!ct.props.in;at&&(!st||lt)?rt[it]=reactExports.cloneElement(ot,{onExited:et.bind(null,ot),in:!0,exit:getProp(ot,"exit",_e),enter:getProp(ot,"enter",_e)}):!at&&st&&!lt?rt[it]=reactExports.cloneElement(ot,{in:!1}):at&&st&&reactExports.isValidElement(ct)&&(rt[it]=reactExports.cloneElement(ot,{onExited:et.bind(null,ot),in:ct.props.in,exit:getProp(ot,"exit",_e),enter:getProp(ot,"enter",_e)}))}}),rt}var values=Object.values||function(_e){return Object.keys(_e).map(function(tt){return _e[tt]})},defaultProps={component:"div",childFactory:function _e(tt){return tt}},TransitionGroup=function(_e){_inheritsLoose(tt,_e);function tt(nt,rt){var it;it=_e.call(this,nt,rt)||this;var ot=it.handleExited.bind(_assertThisInitialized(it));return it.state={contextValue:{isMounting:!0},handleExited:ot,firstRender:!0},it}var et=tt.prototype;return et.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},et.componentWillUnmount=function(){this.mounted=!1},tt.getDerivedStateFromProps=function(rt,it){var ot=it.children,st=it.handleExited,at=it.firstRender;return{children:at?getInitialChildMapping(rt,st):getNextChildMapping(rt,ot,st),firstRender:!1}},et.handleExited=function(rt,it){var ot=getChildMapping(this.props.children);rt.key in ot||(rt.props.onExited&&rt.props.onExited(it),this.mounted&&this.setState(function(st){var at=_extends({},st.children);return delete at[rt.key],{children:at}}))},et.render=function(){var rt=this.props,it=rt.component,ot=rt.childFactory,st=_objectWithoutPropertiesLoose(rt,["component","childFactory"]),at=this.state.contextValue,ct=values(this.state.children).map(ot);return delete st.appear,delete st.enter,delete st.exit,it===null?React.createElement(TransitionGroupContext.Provider,{value:at},ct):React.createElement(TransitionGroupContext.Provider,{value:at},React.createElement(it,st,ct))},tt}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=_e=>_e.scrollTop;function getTransitionProps(_e,tt){var et,nt;const{timeout:rt,easing:it,style:ot={}}=_e;return{duration:(et=ot.transitionDuration)!=null?et:typeof rt=="number"?rt:rt[tt.mode]||0,easing:(nt=ot.transitionTimingFunction)!=null?nt:typeof it=="object"?it[tt.mode]:it,delay:ot.transitionDelay}}function getCollapseUtilityClass(_e){return generateUtilityClass("MuiCollapse",_e)}generateUtilityClasses("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const _excluded$d=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],useUtilityClasses$a=_e=>{const{orientation:tt,classes:et}=_e,nt={root:["root",`${tt}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${tt}`],wrapperInner:["wrapperInner",`${tt}`]};return composeClasses(nt,getCollapseUtilityClass,et)},CollapseRoot=styled$1("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.orientation],et.state==="entered"&&tt.entered,et.state==="exited"&&!et.in&&et.collapsedSize==="0px"&&tt.hidden]}})(({theme:_e,ownerState:tt})=>_extends({height:0,overflow:"hidden",transition:_e.transitions.create("height")},tt.orientation==="horizontal"&&{height:"auto",width:0,transition:_e.transitions.create("width")},tt.state==="entered"&&_extends({height:"auto",overflow:"visible"},tt.orientation==="horizontal"&&{width:"auto"}),tt.state==="exited"&&!tt.in&&tt.collapsedSize==="0px"&&{visibility:"hidden"})),CollapseWrapper=styled$1("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(_e,tt)=>tt.wrapper})(({ownerState:_e})=>_extends({display:"flex",width:"100%"},_e.orientation==="horizontal"&&{width:"auto",height:"100%"})),CollapseWrapperInner=styled$1("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(_e,tt)=>tt.wrapperInner})(({ownerState:_e})=>_extends({width:"100%"},_e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Collapse=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiCollapse"}),{addEndListener:rt,children:it,className:ot,collapsedSize:st="0px",component:at,easing:ct,in:lt,onEnter:dt,onEntered:ut,onEntering:ft,onExit:pt,onExited:yt,onExiting:Tt,orientation:ht="vertical",style:gt,timeout:vt=duration.standard,TransitionComponent:Ct=Transition$1}=nt,It=_objectWithoutPropertiesLoose(nt,_excluded$d),Zt=_extends({},nt,{orientation:ht,collapsedSize:st}),Mt=useUtilityClasses$a(Zt),kt=useTheme(),Nt=reactExports.useRef(),Lt=reactExports.useRef(null),Pt=reactExports.useRef(),cn=typeof st=="number"?`${st}px`:st,Jt=ht==="horizontal",Bt=Jt?"width":"height";reactExports.useEffect(()=>()=>{clearTimeout(Nt.current)},[]);const dn=reactExports.useRef(null),vn=useForkRef(et,dn),Tn=Zn=>Vn=>{if(Zn){const rr=dn.current;Vn===void 0?Zn(rr):Zn(rr,Vn)}},pn=()=>Lt.current?Lt.current[Jt?"clientWidth":"clientHeight"]:0,In=Tn((Zn,Vn)=>{Lt.current&&Jt&&(Lt.current.style.position="absolute"),Zn.style[Bt]=cn,dt&&dt(Zn,Vn)}),Cn=Tn((Zn,Vn)=>{const rr=pn();Lt.current&&Jt&&(Lt.current.style.position="");const{duration:gr,easing:cr}=getTransitionProps({style:gt,timeout:vt,easing:ct},{mode:"enter"});if(vt==="auto"){const sr=kt.transitions.getAutoHeightDuration(rr);Zn.style.transitionDuration=`${sr}ms`,Pt.current=sr}else Zn.style.transitionDuration=typeof gr=="string"?gr:`${gr}ms`;Zn.style[Bt]=`${rr}px`,Zn.style.transitionTimingFunction=cr,ft&&ft(Zn,Vn)}),yn=Tn((Zn,Vn)=>{Zn.style[Bt]="auto",ut&&ut(Zn,Vn)}),bn=Tn(Zn=>{Zn.style[Bt]=`${pn()}px`,pt&&pt(Zn)}),Xn=Tn(yt),Hn=Tn(Zn=>{const Vn=pn(),{duration:rr,easing:gr}=getTransitionProps({style:gt,timeout:vt,easing:ct},{mode:"exit"});if(vt==="auto"){const cr=kt.transitions.getAutoHeightDuration(Vn);Zn.style.transitionDuration=`${cr}ms`,Pt.current=cr}else Zn.style.transitionDuration=typeof rr=="string"?rr:`${rr}ms`;Zn.style[Bt]=cn,Zn.style.transitionTimingFunction=gr,Tt&&Tt(Zn)}),En=Zn=>{vt==="auto"&&(Nt.current=setTimeout(Zn,Pt.current||0)),rt&&rt(dn.current,Zn)};return jsxRuntimeExports.jsx(Ct,_extends({in:lt,onEnter:In,onEntered:yn,onEntering:Cn,onExit:bn,onExited:Xn,onExiting:Hn,addEndListener:En,nodeRef:dn,timeout:vt==="auto"?null:vt},It,{children:(Zn,Vn)=>jsxRuntimeExports.jsx(CollapseRoot,_extends({as:at,className:clsx(Mt.root,ot,{entered:Mt.entered,exited:!lt&&cn==="0px"&&Mt.hidden}[Zn]),style:_extends({[Jt?"minWidth":"minHeight"]:cn},gt),ownerState:_extends({},Zt,{state:Zn}),ref:vn},Vn,{children:jsxRuntimeExports.jsx(CollapseWrapper,{ownerState:_extends({},Zt,{state:Zn}),className:Mt.wrapper,ref:Lt,children:jsxRuntimeExports.jsx(CollapseWrapperInner,{ownerState:_extends({},Zt,{state:Zn}),className:Mt.wrapperInner,children:it})})}))}))});Collapse.muiSupportAuto=!0;const Collapse$1=Collapse;function getPaperUtilityClass(_e){return generateUtilityClass("MuiPaper",_e)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$c=["className","component","elevation","square","variant"],useUtilityClasses$9=_e=>{const{square:tt,elevation:et,variant:nt,classes:rt}=_e,it={root:["root",nt,!tt&&"rounded",nt==="elevation"&&`elevation${et}`]};return composeClasses(it,getPaperUtilityClass,rt)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.variant],!et.square&&tt.rounded,et.variant==="elevation"&&tt[`elevation${et.elevation}`]]}})(({theme:_e,ownerState:tt})=>{var et;return _extends({backgroundColor:(_e.vars||_e).palette.background.paper,color:(_e.vars||_e).palette.text.primary,transition:_e.transitions.create("box-shadow")},!tt.square&&{borderRadius:_e.shape.borderRadius},tt.variant==="outlined"&&{border:`1px solid ${(_e.vars||_e).palette.divider}`},tt.variant==="elevation"&&_extends({boxShadow:(_e.vars||_e).shadows[tt.elevation]},!_e.vars&&_e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(tt.elevation))}, ${alpha("#fff",getOverlayAlpha$1(tt.elevation))})`},_e.vars&&{backgroundImage:(et=_e.vars.overlays)==null?void 0:et[tt.elevation]}))}),Paper=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiPaper"}),{className:rt,component:it="div",elevation:ot=1,square:st=!1,variant:at="elevation"}=nt,ct=_objectWithoutPropertiesLoose(nt,_excluded$c),lt=_extends({},nt,{component:it,elevation:ot,square:st,variant:at}),dt=useUtilityClasses$9(lt);return jsxRuntimeExports.jsx(PaperRoot,_extends({as:it,ownerState:lt,className:clsx(dt.root,rt),ref:et},ct))}),Paper$1=Paper,AccordionContext=reactExports.createContext({}),AccordionContext$1=AccordionContext;function getAccordionUtilityClass(_e){return generateUtilityClass("MuiAccordion",_e)}const accordionClasses=generateUtilityClasses("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),accordionClasses$1=accordionClasses,_excluded$b=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],useUtilityClasses$8=_e=>{const{classes:tt,square:et,expanded:nt,disabled:rt,disableGutters:it}=_e;return composeClasses({root:["root",!et&&"rounded",nt&&"expanded",rt&&"disabled",!it&&"gutters"],region:["region"]},getAccordionUtilityClass,tt)},AccordionRoot=styled$1(Paper$1,{name:"MuiAccordion",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[{[`& .${accordionClasses$1.region}`]:tt.region},tt.root,!et.square&&tt.rounded,!et.disableGutters&&tt.gutters]}})(({theme:_e})=>{const tt={duration:_e.transitions.duration.shortest};return{position:"relative",transition:_e.transitions.create(["margin"],tt),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(_e.vars||_e).palette.divider,transition:_e.transitions.create(["opacity","background-color"],tt)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${accordionClasses$1.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${accordionClasses$1.disabled}`]:{backgroundColor:(_e.vars||_e).palette.action.disabledBackground}}},({theme:_e,ownerState:tt})=>_extends({},!tt.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(_e.vars||_e).shape.borderRadius,borderTopRightRadius:(_e.vars||_e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(_e.vars||_e).shape.borderRadius,borderBottomRightRadius:(_e.vars||_e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!tt.disableGutters&&{[`&.${accordionClasses$1.expanded}`]:{margin:"16px 0"}})),Accordion=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordion"}),{children:rt,className:it,defaultExpanded:ot=!1,disabled:st=!1,disableGutters:at=!1,expanded:ct,onChange:lt,square:dt=!1,TransitionComponent:ut=Collapse$1,TransitionProps:ft}=nt,pt=_objectWithoutPropertiesLoose(nt,_excluded$b),[yt,Tt]=useControlled({controlled:ct,default:ot,name:"Accordion",state:"expanded"}),ht=reactExports.useCallback(Mt=>{Tt(!yt),lt&&lt(Mt,!yt)},[yt,lt,Tt]),[gt,...vt]=reactExports.Children.toArray(rt),Ct=reactExports.useMemo(()=>({expanded:yt,disabled:st,disableGutters:at,toggle:ht}),[yt,st,at,ht]),It=_extends({},nt,{square:dt,disabled:st,disableGutters:at,expanded:yt}),Zt=useUtilityClasses$8(It);return jsxRuntimeExports.jsxs(AccordionRoot,_extends({className:clsx(Zt.root,it),ref:et,ownerState:It,square:dt},pt,{children:[jsxRuntimeExports.jsx(AccordionContext$1.Provider,{value:Ct,children:gt}),jsxRuntimeExports.jsx(ut,_extends({in:yt,timeout:"auto"},ft,{children:jsxRuntimeExports.jsx("div",{"aria-labelledby":gt.props.id,id:gt.props["aria-controls"],role:"region",className:Zt.region,children:vt})}))]}))}),Accordion$1=Accordion;function getAccordionDetailsUtilityClass(_e){return generateUtilityClass("MuiAccordionDetails",_e)}generateUtilityClasses("MuiAccordionDetails",["root"]);const _excluded$a=["className"],useUtilityClasses$7=_e=>{const{classes:tt}=_e;return composeClasses({root:["root"]},getAccordionDetailsUtilityClass,tt)},AccordionDetailsRoot=styled$1("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(_e,tt)=>tt.root})(({theme:_e})=>({padding:_e.spacing(1,2,2)})),AccordionDetails=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordionDetails"}),{className:rt}=nt,it=_objectWithoutPropertiesLoose(nt,_excluded$a),ot=nt,st=useUtilityClasses$7(ot);return jsxRuntimeExports.jsx(AccordionDetailsRoot,_extends({className:clsx(st.root,rt),ref:et,ownerState:ot},it))}),AccordionDetails$1=AccordionDetails;function Ripple(_e){const{className:tt,classes:et,pulsate:nt=!1,rippleX:rt,rippleY:it,rippleSize:ot,in:st,onExited:at,timeout:ct}=_e,[lt,dt]=reactExports.useState(!1),ut=clsx(tt,et.ripple,et.rippleVisible,nt&&et.ripplePulsate),ft={width:ot,height:ot,top:-(ot/2)+it,left:-(ot/2)+rt},pt=clsx(et.child,lt&&et.childLeaving,nt&&et.childPulsate);return!st&&!lt&&dt(!0),reactExports.useEffect(()=>{if(!st&&at!=null){const yt=setTimeout(at,ct);return()=>{clearTimeout(yt)}}},[at,st,ct]),jsxRuntimeExports.jsx("span",{className:ut,style:ft,children:jsxRuntimeExports.jsx("span",{className:pt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$9=["center","classes","className"];let _$1=_e=>_e,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_$1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_$1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_$1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_$1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:_e})=>_e.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:_e})=>_e.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:_e})=>_e.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:_e})=>_e.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiTouchRipple"}),{center:rt=!1,classes:it={},className:ot}=nt,st=_objectWithoutPropertiesLoose(nt,_excluded$9),[at,ct]=reactExports.useState([]),lt=reactExports.useRef(0),dt=reactExports.useRef(null);reactExports.useEffect(()=>{dt.current&&(dt.current(),dt.current=null)},[at]);const ut=reactExports.useRef(!1),ft=reactExports.useRef(null),pt=reactExports.useRef(null),yt=reactExports.useRef(null);reactExports.useEffect(()=>()=>{clearTimeout(ft.current)},[]);const Tt=reactExports.useCallback(Ct=>{const{pulsate:It,rippleX:Zt,rippleY:Mt,rippleSize:kt,cb:Nt}=Ct;ct(Lt=>[...Lt,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(it.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(it.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(it.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(it.child,touchRippleClasses$1.child),childLeaving:clsx(it.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(it.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:It,rippleX:Zt,rippleY:Mt,rippleSize:kt},lt.current)]),lt.current+=1,dt.current=Nt},[it]),ht=reactExports.useCallback((Ct={},It={},Zt=()=>{})=>{const{pulsate:Mt=!1,center:kt=rt||It.pulsate,fakeElement:Nt=!1}=It;if((Ct==null?void 0:Ct.type)==="mousedown"&&ut.current){ut.current=!1;return}(Ct==null?void 0:Ct.type)==="touchstart"&&(ut.current=!0);const Lt=Nt?null:yt.current,Pt=Lt?Lt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let cn,Jt,Bt;if(kt||Ct===void 0||Ct.clientX===0&&Ct.clientY===0||!Ct.clientX&&!Ct.touches)cn=Math.round(Pt.width/2),Jt=Math.round(Pt.height/2);else{const{clientX:dn,clientY:vn}=Ct.touches&&Ct.touches.length>0?Ct.touches[0]:Ct;cn=Math.round(dn-Pt.left),Jt=Math.round(vn-Pt.top)}if(kt)Bt=Math.sqrt((2*Pt.width**2+Pt.height**2)/3),Bt%2===0&&(Bt+=1);else{const dn=Math.max(Math.abs((Lt?Lt.clientWidth:0)-cn),cn)*2+2,vn=Math.max(Math.abs((Lt?Lt.clientHeight:0)-Jt),Jt)*2+2;Bt=Math.sqrt(dn**2+vn**2)}Ct!=null&&Ct.touches?pt.current===null&&(pt.current=()=>{Tt({pulsate:Mt,rippleX:cn,rippleY:Jt,rippleSize:Bt,cb:Zt})},ft.current=setTimeout(()=>{pt.current&&(pt.current(),pt.current=null)},DELAY_RIPPLE)):Tt({pulsate:Mt,rippleX:cn,rippleY:Jt,rippleSize:Bt,cb:Zt})},[rt,Tt]),gt=reactExports.useCallback(()=>{ht({},{pulsate:!0})},[ht]),vt=reactExports.useCallback((Ct,It)=>{if(clearTimeout(ft.current),(Ct==null?void 0:Ct.type)==="touchend"&&pt.current){pt.current(),pt.current=null,ft.current=setTimeout(()=>{vt(Ct,It)});return}pt.current=null,ct(Zt=>Zt.length>0?Zt.slice(1):Zt),dt.current=It},[]);return reactExports.useImperativeHandle(et,()=>({pulsate:gt,start:ht,stop:vt}),[gt,ht,vt]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends({className:clsx(touchRippleClasses$1.root,it.root,ot),ref:yt},st,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:at})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(_e){return generateUtilityClass("MuiButtonBase",_e)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$8=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$6=_e=>{const{disabled:tt,focusVisible:et,focusVisibleClassName:nt,classes:rt}=_e,ot=composeClasses({root:["root",tt&&"disabled",et&&"focusVisible"]},getButtonBaseUtilityClass,rt);return et&&nt&&(ot.root+=` ${nt}`),ot},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(_e,tt)=>tt.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiButtonBase"}),{action:rt,centerRipple:it=!1,children:ot,className:st,component:at="button",disabled:ct=!1,disableRipple:lt=!1,disableTouchRipple:dt=!1,focusRipple:ut=!1,LinkComponent:ft="a",onBlur:pt,onClick:yt,onContextMenu:Tt,onDragLeave:ht,onFocus:gt,onFocusVisible:vt,onKeyDown:Ct,onKeyUp:It,onMouseDown:Zt,onMouseLeave:Mt,onMouseUp:kt,onTouchEnd:Nt,onTouchMove:Lt,onTouchStart:Pt,tabIndex:cn=0,TouchRippleProps:Jt,touchRippleRef:Bt,type:dn}=nt,vn=_objectWithoutPropertiesLoose(nt,_excluded$8),Tn=reactExports.useRef(null),pn=reactExports.useRef(null),In=useForkRef(pn,Bt),{isFocusVisibleRef:Cn,onFocus:yn,onBlur:bn,ref:Xn}=useIsFocusVisible(),[Hn,En]=reactExports.useState(!1);ct&&Hn&&En(!1),reactExports.useImperativeHandle(rt,()=>({focusVisible:()=>{En(!0),Tn.current.focus()}}),[]);const[Zn,Vn]=reactExports.useState(!1);reactExports.useEffect(()=>{Vn(!0)},[]);const rr=Zn&&!lt&&!ct;reactExports.useEffect(()=>{Hn&&ut&&!lt&&Zn&&pn.current.pulsate()},[lt,ut,Hn,Zn]);function gr(Jr,To,wo=dt){return useEventCallback(xo=>(To&&To(xo),!wo&&pn.current&&pn.current[Jr](xo),!0))}const cr=gr("start",Zt),sr=gr("stop",Tt),Or=gr("stop",ht),Rr=gr("stop",kt),Yr=gr("stop",Jr=>{Hn&&Jr.preventDefault(),Mt&&Mt(Jr)}),Fr=gr("start",Pt),Qr=gr("stop",Nt),vo=gr("stop",Lt),Lr=gr("stop",Jr=>{bn(Jr),Cn.current===!1&&En(!1),pt&&pt(Jr)},!1),Pr=useEventCallback(Jr=>{Tn.current||(Tn.current=Jr.currentTarget),yn(Jr),Cn.current===!0&&(En(!0),vt&&vt(Jr)),gt&&gt(Jr)}),qn=()=>{const Jr=Tn.current;return at&&at!=="button"&&!(Jr.tagName==="A"&&Jr.href)},Yn=reactExports.useRef(!1),vr=useEventCallback(Jr=>{ut&&!Yn.current&&Hn&&pn.current&&Jr.key===" "&&(Yn.current=!0,pn.current.stop(Jr,()=>{pn.current.start(Jr)})),Jr.target===Jr.currentTarget&&qn()&&Jr.key===" "&&Jr.preventDefault(),Ct&&Ct(Jr),Jr.target===Jr.currentTarget&&qn()&&Jr.key==="Enter"&&!ct&&(Jr.preventDefault(),yt&&yt(Jr))}),Dr=useEventCallback(Jr=>{ut&&Jr.key===" "&&pn.current&&Hn&&!Jr.defaultPrevented&&(Yn.current=!1,pn.current.stop(Jr,()=>{pn.current.pulsate(Jr)})),It&&It(Jr),yt&&Jr.target===Jr.currentTarget&&qn()&&Jr.key===" "&&!Jr.defaultPrevented&&yt(Jr)});let ho=at;ho==="button"&&(vn.href||vn.to)&&(ho=ft);const er={};ho==="button"?(er.type=dn===void 0?"button":dn,er.disabled=ct):(!vn.href&&!vn.to&&(er.role="button"),ct&&(er["aria-disabled"]=ct));const Ir=useForkRef(et,Xn,Tn),Wr=_extends({},nt,{centerRipple:it,component:at,disabled:ct,disableRipple:lt,disableTouchRipple:dt,focusRipple:ut,tabIndex:cn,focusVisible:Hn}),mo=useUtilityClasses$6(Wr);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends({as:ho,className:clsx(mo.root,st),ownerState:Wr,onBlur:Lr,onClick:yt,onContextMenu:sr,onFocus:Pr,onKeyDown:vr,onKeyUp:Dr,onMouseDown:cr,onMouseLeave:Yr,onMouseUp:Rr,onDragLeave:Or,onTouchEnd:Qr,onTouchMove:vo,onTouchStart:Fr,ref:Ir,tabIndex:ct?-1:cn,type:dn},er,vn,{children:[ot,rr?jsxRuntimeExports.jsx(TouchRipple$1,_extends({ref:In,center:it},Jt)):null]}))}),ButtonBase$1=ButtonBase;function getAccordionSummaryUtilityClass(_e){return generateUtilityClass("MuiAccordionSummary",_e)}const accordionSummaryClasses=generateUtilityClasses("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),accordionSummaryClasses$1=accordionSummaryClasses,_excluded$7=["children","className","expandIcon","focusVisibleClassName","onClick"],useUtilityClasses$5=_e=>{const{classes:tt,expanded:et,disabled:nt,disableGutters:rt}=_e;return composeClasses({root:["root",et&&"expanded",nt&&"disabled",!rt&&"gutters"],focusVisible:["focusVisible"],content:["content",et&&"expanded",!rt&&"contentGutters"],expandIconWrapper:["expandIconWrapper",et&&"expanded"]},getAccordionSummaryUtilityClass,tt)},AccordionSummaryRoot=styled$1(ButtonBase$1,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(_e,tt)=>tt.root})(({theme:_e,ownerState:tt})=>{const et={duration:_e.transitions.duration.shortest};return _extends({display:"flex",minHeight:48,padding:_e.spacing(0,2),transition:_e.transitions.create(["min-height","background-color"],et),[`&.${accordionSummaryClasses$1.focusVisible}`]:{backgroundColor:(_e.vars||_e).palette.action.focus},[`&.${accordionSummaryClasses$1.disabled}`]:{opacity:(_e.vars||_e).palette.action.disabledOpacity},[`&:hover:not(.${accordionSummaryClasses$1.disabled})`]:{cursor:"pointer"}},!tt.disableGutters&&{[`&.${accordionSummaryClasses$1.expanded}`]:{minHeight:64}})}),AccordionSummaryContent=styled$1("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(_e,tt)=>tt.content})(({theme:_e,ownerState:tt})=>_extends({display:"flex",flexGrow:1,margin:"12px 0"},!tt.disableGutters&&{transition:_e.transitions.create(["margin"],{duration:_e.transitions.duration.shortest}),[`&.${accordionSummaryClasses$1.expanded}`]:{margin:"20px 0"}})),AccordionSummaryExpandIconWrapper=styled$1("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(_e,tt)=>tt.expandIconWrapper})(({theme:_e})=>({display:"flex",color:(_e.vars||_e).palette.action.active,transform:"rotate(0deg)",transition:_e.transitions.create("transform",{duration:_e.transitions.duration.shortest}),[`&.${accordionSummaryClasses$1.expanded}`]:{transform:"rotate(180deg)"}})),AccordionSummary=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordionSummary"}),{children:rt,className:it,expandIcon:ot,focusVisibleClassName:st,onClick:at}=nt,ct=_objectWithoutPropertiesLoose(nt,_excluded$7),{disabled:lt=!1,disableGutters:dt,expanded:ut,toggle:ft}=reactExports.useContext(AccordionContext$1),pt=ht=>{ft&&ft(ht),at&&at(ht)},yt=_extends({},nt,{expanded:ut,disabled:lt,disableGutters:dt}),Tt=useUtilityClasses$5(yt);return jsxRuntimeExports.jsxs(AccordionSummaryRoot,_extends({focusRipple:!1,disableRipple:!0,disabled:lt,component:"div","aria-expanded":ut,className:clsx(Tt.root,it),focusVisibleClassName:clsx(Tt.focusVisible,st),onClick:pt,ref:et,ownerState:yt},ct,{children:[jsxRuntimeExports.jsx(AccordionSummaryContent,{className:Tt.content,ownerState:yt,children:rt}),ot&&jsxRuntimeExports.jsx(AccordionSummaryExpandIconWrapper,{className:Tt.expandIconWrapper,ownerState:yt,children:ot})]}))}),AccordionSummary$1=AccordionSummary;function getTypographyUtilityClass(_e){return generateUtilityClass("MuiTypography",_e)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$6=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$4=_e=>{const{align:tt,gutterBottom:et,noWrap:nt,paragraph:rt,variant:it,classes:ot}=_e,st={root:["root",it,_e.align!=="inherit"&&`align${capitalize(tt)}`,et&&"gutterBottom",nt&&"noWrap",rt&&"paragraph"]};return composeClasses(st,getTypographyUtilityClass,ot)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.variant&&tt[et.variant],et.align!=="inherit"&&tt[`align${capitalize(et.align)}`],et.noWrap&&tt.noWrap,et.gutterBottom&&tt.gutterBottom,et.paragraph&&tt.paragraph]}})(({theme:_e,ownerState:tt})=>_extends({margin:0},tt.variant&&_e.typography[tt.variant],tt.align!=="inherit"&&{textAlign:tt.align},tt.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},tt.gutterBottom&&{marginBottom:"0.35em"},tt.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations$1={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors$1=_e=>colorTransformations$1[_e]||_e,Typography=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiTypography"}),rt=transformDeprecatedColors$1(nt.color),it=extendSxProp(_extends({},nt,{color:rt})),{align:ot="inherit",className:st,component:at,gutterBottom:ct=!1,noWrap:lt=!1,paragraph:dt=!1,variant:ut="body1",variantMapping:ft=defaultVariantMapping}=it,pt=_objectWithoutPropertiesLoose(it,_excluded$6),yt=_extends({},it,{align:ot,color:rt,className:st,component:at,gutterBottom:ct,noWrap:lt,paragraph:dt,variant:ut,variantMapping:ft}),Tt=at||(dt?"p":ft[ut]||defaultVariantMapping[ut])||"span",ht=useUtilityClasses$4(yt);return jsxRuntimeExports.jsx(TypographyRoot,_extends({as:Tt,ref:et,ownerState:yt,className:clsx(ht.root,st)},pt))}),Typography$1=Typography,_excluded$5=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function _e(tt,et){const nt=useTheme(),rt={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:it,appear:ot=!0,children:st,easing:at,in:ct,onEnter:lt,onEntered:dt,onEntering:ut,onExit:ft,onExited:pt,onExiting:yt,style:Tt,timeout:ht=rt,TransitionComponent:gt=Transition$1}=tt,vt=_objectWithoutPropertiesLoose(tt,_excluded$5),Ct=reactExports.useRef(null),It=useForkRef(Ct,st.ref,et),Zt=Bt=>dn=>{if(Bt){const vn=Ct.current;dn===void 0?Bt(vn):Bt(vn,dn)}},Mt=Zt(ut),kt=Zt((Bt,dn)=>{reflow(Bt);const vn=getTransitionProps({style:Tt,timeout:ht,easing:at},{mode:"enter"});Bt.style.webkitTransition=nt.transitions.create("opacity",vn),Bt.style.transition=nt.transitions.create("opacity",vn),lt&&lt(Bt,dn)}),Nt=Zt(dt),Lt=Zt(yt),Pt=Zt(Bt=>{const dn=getTransitionProps({style:Tt,timeout:ht,easing:at},{mode:"exit"});Bt.style.webkitTransition=nt.transitions.create("opacity",dn),Bt.style.transition=nt.transitions.create("opacity",dn),ft&&ft(Bt)}),cn=Zt(pt),Jt=Bt=>{it&&it(Ct.current,Bt)};return jsxRuntimeExports.jsx(gt,_extends({appear:ot,in:ct,nodeRef:Ct,onEnter:kt,onEntered:Nt,onEntering:Mt,onExit:Pt,onExited:cn,onExiting:Lt,addEndListener:Jt,timeout:ht},vt,{children:(Bt,dn)=>reactExports.cloneElement(st,_extends({style:_extends({opacity:0,visibility:Bt==="exited"&&!ct?"hidden":void 0},styles[Bt],Tt,st.props.style),ref:It},dn))}))}),Fade$1=Fade;function getBackdropUtilityClass(_e){return generateUtilityClass("MuiBackdrop",_e)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$4=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$3=_e=>{const{classes:tt,invisible:et}=_e;return composeClasses({root:["root",et&&"invisible"]},getBackdropUtilityClass,tt)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.invisible&&tt.invisible]}})(({ownerState:_e})=>_extends({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},_e.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function _e(tt,et){var nt,rt,it;const ot=useThemeProps({props:tt,name:"MuiBackdrop"}),{children:st,className:at,component:ct="div",components:lt={},componentsProps:dt={},invisible:ut=!1,open:ft,slotProps:pt={},slots:yt={},TransitionComponent:Tt=Fade$1,transitionDuration:ht}=ot,gt=_objectWithoutPropertiesLoose(ot,_excluded$4),vt=_extends({},ot,{component:ct,invisible:ut}),Ct=useUtilityClasses$3(vt),It=(nt=pt.root)!=null?nt:dt.root;return jsxRuntimeExports.jsx(Tt,_extends({in:ft,timeout:ht},gt,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends({"aria-hidden":!0},It,{as:(rt=(it=yt.root)!=null?it:lt.Root)!=null?rt:ct,className:clsx(Ct.root,at,It==null?void 0:It.className),ownerState:_extends({},vt,It==null?void 0:It.ownerState),classes:Ct,ref:et,children:st}))}))}),Backdrop$1=Backdrop;function getButtonUtilityClass(_e){return generateUtilityClass("MuiButton",_e)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$3=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$2=_e=>{const{color:tt,disableElevation:et,fullWidth:nt,size:rt,variant:it,classes:ot}=_e,st={root:["root",it,`${it}${capitalize(tt)}`,`size${capitalize(rt)}`,`${it}Size${capitalize(rt)}`,tt==="inherit"&&"colorInherit",et&&"disableElevation",nt&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(rt)}`],endIcon:["endIcon",`iconSize${capitalize(rt)}`]},at=composeClasses(st,getButtonUtilityClass,ot);return _extends({},ot,at)},commonIconStyles=_e=>_extends({},_e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},_e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},_e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:_e=>rootShouldForwardProp(_e)||_e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.variant],tt[`${et.variant}${capitalize(et.color)}`],tt[`size${capitalize(et.size)}`],tt[`${et.variant}Size${capitalize(et.size)}`],et.color==="inherit"&&tt.colorInherit,et.disableElevation&&tt.disableElevation,et.fullWidth&&tt.fullWidth]}})(({theme:_e,ownerState:tt})=>{var et,nt;const rt=_e.palette.mode==="light"?_e.palette.grey[300]:_e.palette.grey[800],it=_e.palette.mode==="light"?_e.palette.grey.A100:_e.palette.grey[700];return _extends({},_e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(_e.vars||_e).shape.borderRadius,transition:_e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:_e.transitions.duration.short}),"&:hover":_extends({textDecoration:"none",backgroundColor:_e.vars?`rgba(${_e.vars.palette.text.primaryChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette.text.primary,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="text"&&tt.color!=="inherit"&&{backgroundColor:_e.vars?`rgba(${_e.vars.palette[tt.color].mainChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette[tt.color].main,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="outlined"&&tt.color!=="inherit"&&{border:`1px solid ${(_e.vars||_e).palette[tt.color].main}`,backgroundColor:_e.vars?`rgba(${_e.vars.palette[tt.color].mainChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette[tt.color].main,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="contained"&&{backgroundColor:_e.vars?_e.vars.palette.Button.inheritContainedHoverBg:it,boxShadow:(_e.vars||_e).shadows[4],"@media (hover: none)":{boxShadow:(_e.vars||_e).shadows[2],backgroundColor:(_e.vars||_e).palette.grey[300]}},tt.variant==="contained"&&tt.color!=="inherit"&&{backgroundColor:(_e.vars||_e).palette[tt.color].dark,"@media (hover: none)":{backgroundColor:(_e.vars||_e).palette[tt.color].main}}),"&:active":_extends({},tt.variant==="contained"&&{boxShadow:(_e.vars||_e).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends({},tt.variant==="contained"&&{boxShadow:(_e.vars||_e).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends({color:(_e.vars||_e).palette.action.disabled},tt.variant==="outlined"&&{border:`1px solid ${(_e.vars||_e).palette.action.disabledBackground}`},tt.variant==="contained"&&{color:(_e.vars||_e).palette.action.disabled,boxShadow:(_e.vars||_e).shadows[0],backgroundColor:(_e.vars||_e).palette.action.disabledBackground})},tt.variant==="text"&&{padding:"6px 8px"},tt.variant==="text"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].main},tt.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},tt.variant==="outlined"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].main,border:_e.vars?`1px solid rgba(${_e.vars.palette[tt.color].mainChannel} / 0.5)`:`1px solid ${alpha(_e.palette[tt.color].main,.5)}`},tt.variant==="contained"&&{color:_e.vars?_e.vars.palette.text.primary:(et=(nt=_e.palette).getContrastText)==null?void 0:et.call(nt,_e.palette.grey[300]),backgroundColor:_e.vars?_e.vars.palette.Button.inheritContainedBg:rt,boxShadow:(_e.vars||_e).shadows[2]},tt.variant==="contained"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].contrastText,backgroundColor:(_e.vars||_e).palette[tt.color].main},tt.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},tt.size==="small"&&tt.variant==="text"&&{padding:"4px 5px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="text"&&{padding:"8px 11px",fontSize:_e.typography.pxToRem(15)},tt.size==="small"&&tt.variant==="outlined"&&{padding:"3px 9px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="outlined"&&{padding:"7px 21px",fontSize:_e.typography.pxToRem(15)},tt.size==="small"&&tt.variant==="contained"&&{padding:"4px 10px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="contained"&&{padding:"8px 22px",fontSize:_e.typography.pxToRem(15)},tt.fullWidth&&{width:"100%"})},({ownerState:_e})=>_e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.startIcon,tt[`iconSize${capitalize(et.size)}`]]}})(({ownerState:_e})=>_extends({display:"inherit",marginRight:8,marginLeft:-4},_e.size==="small"&&{marginLeft:-2},commonIconStyles(_e))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.endIcon,tt[`iconSize${capitalize(et.size)}`]]}})(({ownerState:_e})=>_extends({display:"inherit",marginRight:-4,marginLeft:8},_e.size==="small"&&{marginRight:-2},commonIconStyles(_e))),Button=reactExports.forwardRef(function _e(tt,et){const nt=reactExports.useContext(ButtonGroupContext$1),rt=resolveProps(nt,tt),it=useThemeProps({props:rt,name:"MuiButton"}),{children:ot,color:st="primary",component:at="button",className:ct,disabled:lt=!1,disableElevation:dt=!1,disableFocusRipple:ut=!1,endIcon:ft,focusVisibleClassName:pt,fullWidth:yt=!1,size:Tt="medium",startIcon:ht,type:gt,variant:vt="text"}=it,Ct=_objectWithoutPropertiesLoose(it,_excluded$3),It=_extends({},it,{color:st,component:at,disabled:lt,disableElevation:dt,disableFocusRipple:ut,fullWidth:yt,size:Tt,type:gt,variant:vt}),Zt=useUtilityClasses$2(It),Mt=ht&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:Zt.startIcon,ownerState:It,children:ht}),kt=ft&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:Zt.endIcon,ownerState:It,children:ft});return jsxRuntimeExports.jsxs(ButtonRoot,_extends({ownerState:It,className:clsx(nt.className,Zt.root,ct),component:at,disabled:lt,focusRipple:!ut,focusVisibleClassName:clsx(Zt.focusVisible,pt),ref:et,type:gt},Ct,{classes:Zt,children:[Mt,ot,kt]}))}),Button$1=Button,_excluded$2=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,!et.open&&et.exited&&tt.hidden]}})(({theme:_e,ownerState:tt})=>_extends({position:"fixed",zIndex:(_e.vars||_e).zIndex.modal,right:0,bottom:0,top:0,left:0},!tt.open&&tt.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(_e,tt)=>tt.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function _e(tt,et){var nt,rt,it,ot,st,at;const ct=useThemeProps({name:"MuiModal",props:tt}),{BackdropComponent:lt=ModalBackdrop,BackdropProps:dt,classes:ut,className:ft,closeAfterTransition:pt=!1,children:yt,container:Tt,component:ht,components:gt={},componentsProps:vt={},disableAutoFocus:Ct=!1,disableEnforceFocus:It=!1,disableEscapeKeyDown:Zt=!1,disablePortal:Mt=!1,disableRestoreFocus:kt=!1,disableScrollLock:Nt=!1,hideBackdrop:Lt=!1,keepMounted:Pt=!1,onBackdropClick:cn,onClose:Jt,open:Bt,slotProps:dn,slots:vn,theme:Tn}=ct,pn=_objectWithoutPropertiesLoose(ct,_excluded$2),[In,Cn]=reactExports.useState(!0),yn={container:Tt,closeAfterTransition:pt,disableAutoFocus:Ct,disableEnforceFocus:It,disableEscapeKeyDown:Zt,disablePortal:Mt,disableRestoreFocus:kt,disableScrollLock:Nt,hideBackdrop:Lt,keepMounted:Pt,onBackdropClick:cn,onClose:Jt,open:Bt},bn=_extends({},ct,yn,{exited:In}),Xn=(nt=(rt=vn==null?void 0:vn.root)!=null?rt:gt.Root)!=null?nt:ModalRoot,Hn=(it=(ot=vn==null?void 0:vn.backdrop)!=null?ot:gt.Backdrop)!=null?it:lt,En=(st=dn==null?void 0:dn.root)!=null?st:vt.root,Zn=(at=dn==null?void 0:dn.backdrop)!=null?at:vt.backdrop;return jsxRuntimeExports.jsx(ModalUnstyled,_extends({slots:{root:Xn,backdrop:Hn},slotProps:{root:()=>_extends({},resolveComponentProps(En,bn),!isHostComponent(Xn)&&{as:ht,theme:Tn},{className:clsx(ft,En==null?void 0:En.className,ut==null?void 0:ut.root,!bn.open&&bn.exited&&(ut==null?void 0:ut.hidden))}),backdrop:()=>_extends({},dt,resolveComponentProps(Zn,bn),{className:clsx(Zn==null?void 0:Zn.className,dt==null?void 0:dt.className,ut==null?void 0:ut.backdrop)})},onTransitionEnter:()=>Cn(!1),onTransitionExited:()=>Cn(!0),ref:et},pn,yn,{children:yt}))}),Modal$1=Modal;function getDialogUtilityClass(_e){return generateUtilityClass("MuiDialog",_e)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext=reactExports.createContext({}),DialogContext$1=DialogContext,_excluded$1=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$1(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(_e,tt)=>tt.backdrop})({zIndex:-1}),useUtilityClasses$1=_e=>{const{classes:tt,scroll:et,maxWidth:nt,fullWidth:rt,fullScreen:it}=_e,ot={root:["root"],container:["container",`scroll${capitalize(et)}`],paper:["paper",`paperScroll${capitalize(et)}`,`paperWidth${capitalize(String(nt))}`,rt&&"paperFullWidth",it&&"paperFullScreen"]};return composeClasses(ot,getDialogUtilityClass,tt)},DialogRoot=styled$1(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(_e,tt)=>tt.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$1("div",{name:"MuiDialog",slot:"Container",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.container,tt[`scroll${capitalize(et.scroll)}`]]}})(({ownerState:_e})=>_extends({height:"100%","@media print":{height:"auto"},outline:0},_e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},_e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$1(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.paper,tt[`scrollPaper${capitalize(et.scroll)}`],tt[`paperWidth${capitalize(String(et.maxWidth))}`],et.fullWidth&&tt.paperFullWidth,et.fullScreen&&tt.paperFullScreen]}})(({theme:_e,ownerState:tt})=>_extends({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},tt.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},tt.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!tt.maxWidth&&{maxWidth:"calc(100% - 64px)"},tt.maxWidth==="xs"&&{maxWidth:_e.breakpoints.unit==="px"?Math.max(_e.breakpoints.values.xs,444):`max(${_e.breakpoints.values.xs}${_e.breakpoints.unit}, 444px)`,[`&.${dialogClasses$1.paperScrollBody}`]:{[_e.breakpoints.down(Math.max(_e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},tt.maxWidth&&tt.maxWidth!=="xs"&&{maxWidth:`${_e.breakpoints.values[tt.maxWidth]}${_e.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[_e.breakpoints.down(_e.breakpoints.values[tt.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},tt.fullWidth&&{width:"calc(100% - 64px)"},tt.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses$1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiDialog"}),rt=useTheme(),it={enter:rt.transitions.duration.enteringScreen,exit:rt.transitions.duration.leavingScreen},{"aria-describedby":ot,"aria-labelledby":st,BackdropComponent:at,BackdropProps:ct,children:lt,className:dt,disableEscapeKeyDown:ut=!1,fullScreen:ft=!1,fullWidth:pt=!1,maxWidth:yt="sm",onBackdropClick:Tt,onClose:ht,open:gt,PaperComponent:vt=Paper$1,PaperProps:Ct={},scroll:It="paper",TransitionComponent:Zt=Fade$1,transitionDuration:Mt=it,TransitionProps:kt}=nt,Nt=_objectWithoutPropertiesLoose(nt,_excluded$1),Lt=_extends({},nt,{disableEscapeKeyDown:ut,fullScreen:ft,fullWidth:pt,maxWidth:yt,scroll:It}),Pt=useUtilityClasses$1(Lt),cn=reactExports.useRef(),Jt=Tn=>{cn.current=Tn.target===Tn.currentTarget},Bt=Tn=>{cn.current&&(cn.current=null,Tt&&Tt(Tn),ht&&ht(Tn,"backdropClick"))},dn=useId(st),vn=reactExports.useMemo(()=>({titleId:dn}),[dn]);return jsxRuntimeExports.jsx(DialogRoot,_extends({className:clsx(Pt.root,dt),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends({transitionDuration:Mt,as:at},ct)},disableEscapeKeyDown:ut,onClose:ht,open:gt,ref:et,onClick:Bt,ownerState:Lt},Nt,{children:jsxRuntimeExports.jsx(Zt,_extends({appear:!0,in:gt,timeout:Mt,role:"presentation"},kt,{children:jsxRuntimeExports.jsx(DialogContainer,{className:clsx(Pt.container),onMouseDown:Jt,ownerState:Lt,children:jsxRuntimeExports.jsx(DialogPaper,_extends({as:vt,elevation:24,role:"dialog","aria-describedby":ot,"aria-labelledby":dn},Ct,{className:clsx(Pt.paper,Ct.className),ownerState:Lt,children:jsxRuntimeExports.jsx(DialogContext$1.Provider,{value:vn,children:lt})}))})}))}))}),Dialog$1=Dialog;function getLinkUtilityClass(_e){return generateUtilityClass("MuiLink",_e)}const linkClasses=generateUtilityClasses("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),linkClasses$1=linkClasses,colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=_e=>colorTransformations[_e]||_e,getTextDecoration=({theme:_e,ownerState:tt})=>{const et=transformDeprecatedColors(tt.color),nt=getPath(_e,`palette.${et}`,!1)||tt.color,rt=getPath(_e,`palette.${et}Channel`);return"vars"in _e&&rt?`rgba(${rt} / 0.4)`:alpha(nt,.4)},getTextDecoration$1=getTextDecoration,_excluded=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses=_e=>{const{classes:tt,component:et,focusVisible:nt,underline:rt}=_e,it={root:["root",`underline${capitalize(rt)}`,et==="button"&&"button",nt&&"focusVisible"]};return composeClasses(it,getLinkUtilityClass,tt)},LinkRoot=styled$1(Typography$1,{name:"MuiLink",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[`underline${capitalize(et.underline)}`],et.component==="button"&&tt.button]}})(({theme:_e,ownerState:tt})=>_extends({},tt.underline==="none"&&{textDecoration:"none"},tt.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},tt.underline==="always"&&_extends({textDecoration:"underline"},tt.color!=="inherit"&&{textDecorationColor:getTextDecoration$1({theme:_e,ownerState:tt})},{"&:hover":{textDecorationColor:"inherit"}}),tt.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${linkClasses$1.focusVisible}`]:{outline:"auto"}})),Link=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiLink"}),{className:rt,color:it="primary",component:ot="a",onBlur:st,onFocus:at,TypographyClasses:ct,underline:lt="always",variant:dt="inherit",sx:ut}=nt,ft=_objectWithoutPropertiesLoose(nt,_excluded),{isFocusVisibleRef:pt,onBlur:yt,onFocus:Tt,ref:ht}=useIsFocusVisible(),[gt,vt]=reactExports.useState(!1),Ct=useForkRef(et,ht),It=Nt=>{yt(Nt),pt.current===!1&&vt(!1),st&&st(Nt)},Zt=Nt=>{Tt(Nt),pt.current===!0&&vt(!0),at&&at(Nt)},Mt=_extends({},nt,{color:it,component:ot,focusVisible:gt,underline:lt,variant:dt}),kt=useUtilityClasses(Mt);return jsxRuntimeExports.jsx(LinkRoot,_extends({color:it,className:clsx(kt.root,rt),classes:ct,component:ot,onBlur:It,onFocus:Zt,ref:Ct,ownerState:Mt,variant:dt,sx:[...Object.keys(colorTransformations).includes(it)?[]:[{color:it}],...Array.isArray(ut)?ut:[ut]]},ft))}),Link$1=Link;var ExpandMoreRounded={},interopRequireDefaultExports={},interopRequireDefault={get exports(){return interopRequireDefaultExports},set exports(_e){interopRequireDefaultExports=_e}};(function(_e){function tt(et){return et&&et.__esModule?et:{default:et}}_e.exports=tt,_e.exports.__esModule=!0,_e.exports.default=_e.exports})(interopRequireDefault);var createSvgIcon={};const require$$0$1=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return tt.createSvgIcon}});var tt=require$$0$1}(createSvgIcon)),createSvgIcon}var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(ExpandMoreRounded,"__esModule",{value:!0});var default_1=ExpandMoreRounded.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M15.88 9.29 12 13.17 8.12 9.29a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0z"}),"ExpandMoreRounded");default_1=ExpandMoreRounded.default=_default;const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(tt,et){const nt=et.match(tt);return nt&&nt.length>0&&nt[1]||""}static getSecondMatch(tt,et){const nt=et.match(tt);return nt&&nt.length>1&&nt[2]||""}static matchAndReturnConst(tt,et,nt){if(tt.test(et))return nt}static getWindowsVersionName(tt){switch(tt){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(tt){const et=tt.split(".").splice(0,2).map(nt=>parseInt(nt,10)||0);if(et.push(0),et[0]===10)switch(et[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(tt){const et=tt.split(".").splice(0,2).map(nt=>parseInt(nt,10)||0);if(et.push(0),!(et[0]===1&&et[1]<5)){if(et[0]===1&&et[1]<6)return"Cupcake";if(et[0]===1&&et[1]>=6)return"Donut";if(et[0]===2&&et[1]<2)return"Eclair";if(et[0]===2&&et[1]===2)return"Froyo";if(et[0]===2&&et[1]>2)return"Gingerbread";if(et[0]===3)return"Honeycomb";if(et[0]===4&&et[1]<1)return"Ice Cream Sandwich";if(et[0]===4&&et[1]<4)return"Jelly Bean";if(et[0]===4&&et[1]>=4)return"KitKat";if(et[0]===5)return"Lollipop";if(et[0]===6)return"Marshmallow";if(et[0]===7)return"Nougat";if(et[0]===8)return"Oreo";if(et[0]===9)return"Pie"}}static getVersionPrecision(tt){return tt.split(".").length}static compareVersions(tt,et,nt=!1){const rt=Utils.getVersionPrecision(tt),it=Utils.getVersionPrecision(et);let ot=Math.max(rt,it),st=0;const at=Utils.map([tt,et],ct=>{const lt=ot-Utils.getVersionPrecision(ct),dt=ct+new Array(lt+1).join(".0");return Utils.map(dt.split("."),ut=>new Array(20-ut.length).join("0")+ut).reverse()});for(nt&&(st=ot-Math.min(rt,it)),ot-=1;ot>=st;){if(at[0][ot]>at[1][ot])return 1;if(at[0][ot]===at[1][ot]){if(ot===st)return 0;ot-=1}else if(at[0][ot]<at[1][ot])return-1}}static map(tt,et){const nt=[];let rt;if(Array.prototype.map)return Array.prototype.map.call(tt,et);for(rt=0;rt<tt.length;rt+=1)nt.push(et(tt[rt]));return nt}static find(tt,et){let nt,rt;if(Array.prototype.find)return Array.prototype.find.call(tt,et);for(nt=0,rt=tt.length;nt<rt;nt+=1){const it=tt[nt];if(et(it,nt))return it}}static assign(tt,...et){const nt=tt;let rt,it;if(Object.assign)return Object.assign(tt,...et);for(rt=0,it=et.length;rt<it;rt+=1){const ot=et[rt];typeof ot=="object"&&ot!==null&&Object.keys(ot).forEach(at=>{nt[at]=ot[at]})}return tt}static getBrowserAlias(tt){return BROWSER_ALIASES_MAP[tt]}static getBrowserTypeByAlias(tt){return BROWSER_MAP[tt]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(_e){const tt={name:"Googlebot"},et=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/opera/i],describe(_e){const tt={name:"Opera"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/opr\/|opios/i],describe(_e){const tt={name:"Opera"},et=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/SamsungBrowser/i],describe(_e){const tt={name:"Samsung Internet for Android"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/Whale/i],describe(_e){const tt={name:"NAVER Whale Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/MZBrowser/i],describe(_e){const tt={name:"MZ Browser"},et=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/focus/i],describe(_e){const tt={name:"Focus"},et=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/swing/i],describe(_e){const tt={name:"Swing"},et=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/coast/i],describe(_e){const tt={name:"Opera Coast"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(_e){const tt={name:"Opera Touch"},et=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/yabrowser/i],describe(_e){const tt={name:"Yandex Browser"},et=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/ucbrowser/i],describe(_e){const tt={name:"UC Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/Maxthon|mxios/i],describe(_e){const tt={name:"Maxthon"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/epiphany/i],describe(_e){const tt={name:"Epiphany"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/puffin/i],describe(_e){const tt={name:"Puffin"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/sleipnir/i],describe(_e){const tt={name:"Sleipnir"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/k-meleon/i],describe(_e){const tt={name:"K-Meleon"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/micromessenger/i],describe(_e){const tt={name:"WeChat"},et=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/qqbrowser/i],describe(_e){const tt={name:/qqbrowserlite/i.test(_e)?"QQ Browser Lite":"QQ Browser"},et=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/msie|trident/i],describe(_e){const tt={name:"Internet Explorer"},et=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/\sedg\//i],describe(_e){const tt={name:"Microsoft Edge"},et=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/edg([ea]|ios)/i],describe(_e){const tt={name:"Microsoft Edge"},et=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/vivaldi/i],describe(_e){const tt={name:"Vivaldi"},et=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/seamonkey/i],describe(_e){const tt={name:"SeaMonkey"},et=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/sailfish/i],describe(_e){const tt={name:"Sailfish"},et=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,_e);return et&&(tt.version=et),tt}},{test:[/silk/i],describe(_e){const tt={name:"Amazon Silk"},et=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/phantom/i],describe(_e){const tt={name:"PhantomJS"},et=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/slimerjs/i],describe(_e){const tt={name:"SlimerJS"},et=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(_e){const tt={name:"BlackBerry"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/(web|hpw)[o0]s/i],describe(_e){const tt={name:"WebOS Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/bada/i],describe(_e){const tt={name:"Bada"},et=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/tizen/i],describe(_e){const tt={name:"Tizen"},et=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/qupzilla/i],describe(_e){const tt={name:"QupZilla"},et=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/firefox|iceweasel|fxios/i],describe(_e){const tt={name:"Firefox"},et=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/electron/i],describe(_e){const tt={name:"Electron"},et=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/MiuiBrowser/i],describe(_e){const tt={name:"Miui"},et=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/chromium/i],describe(_e){const tt={name:"Chromium"},et=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/chrome|crios|crmo/i],describe(_e){const tt={name:"Chrome"},et=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/GSA/i],describe(_e){const tt={name:"Google Search"},et=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){const tt=!_e.test(/like android/i),et=_e.test(/android/i);return tt&&et},describe(_e){const tt={name:"Android Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/playstation 4/i],describe(_e){const tt={name:"PlayStation 4"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/safari|applewebkit/i],describe(_e){const tt={name:"Safari"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/.*/i],describe(_e){const tt=/^(.*)\/(.*) /,et=/^(.*)\/(.*)[ \t]\((.*)/,rt=_e.search("\\(")!==-1?et:tt;return{name:Utils.getFirstMatch(rt,_e),version:Utils.getSecondMatch(rt,_e)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(_e){const tt=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,_e);return{name:OS_MAP.Roku,version:tt}}},{test:[/windows phone/i],describe(_e){const tt=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,_e);return{name:OS_MAP.WindowsPhone,version:tt}}},{test:[/windows /i],describe(_e){const tt=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,_e),et=Utils.getWindowsVersionName(tt);return{name:OS_MAP.Windows,version:tt,versionName:et}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(_e){const tt={name:OS_MAP.iOS},et=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,_e);return et&&(tt.version=et),tt}},{test:[/macintosh/i],describe(_e){const tt=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,_e).replace(/[_\s]/g,"."),et=Utils.getMacOSVersionName(tt),nt={name:OS_MAP.MacOS,version:tt};return et&&(nt.versionName=et),nt}},{test:[/(ipod|iphone|ipad)/i],describe(_e){const tt=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,_e).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:tt}}},{test(_e){const tt=!_e.test(/like android/i),et=_e.test(/android/i);return tt&&et},describe(_e){const tt=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,_e),et=Utils.getAndroidVersionName(tt),nt={name:OS_MAP.Android,version:tt};return et&&(nt.versionName=et),nt}},{test:[/(web|hpw)[o0]s/i],describe(_e){const tt=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,_e),et={name:OS_MAP.WebOS};return tt&&tt.length&&(et.version=tt),et}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(_e){const tt=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,_e)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,_e)||Utils.getFirstMatch(/\bbb(\d+)/i,_e);return{name:OS_MAP.BlackBerry,version:tt}}},{test:[/bada/i],describe(_e){const tt=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,_e);return{name:OS_MAP.Bada,version:tt}}},{test:[/tizen/i],describe(_e){const tt=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,_e);return{name:OS_MAP.Tizen,version:tt}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(_e){const tt=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,_e);return{name:OS_MAP.PlayStation4,version:tt}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(_e){const tt=Utils.getFirstMatch(/(can-l01)/i,_e)&&"Nova",et={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return tt&&(et.model=tt),et}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(_e){const tt=_e.test(/ipod|iphone/i),et=_e.test(/like (ipod|iphone)/i);return tt&&!et},describe(_e){const tt=Utils.getFirstMatch(/(ipod|iphone)/i,_e);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:tt}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(_e){return _e.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(_e){const tt=Number(String(_e.getOSVersion()).split(".")[0]);return _e.getOSName(!0)==="android"&&tt>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(_e){return _e.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(_e){return _e.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(_e){return _e.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(_e){return _e.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(_e){return _e.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(_e){return _e.getBrowserName(!0)==="microsoft edge"},describe(_e){if(/\sedg\//i.test(_e))return{name:ENGINE_MAP.Blink};const et=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,_e);return{name:ENGINE_MAP.EdgeHTML,version:et}}},{test:[/trident/i],describe(_e){const tt={name:ENGINE_MAP.Trident},et=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){return _e.test(/presto/i)},describe(_e){const tt={name:ENGINE_MAP.Presto},et=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){const tt=_e.test(/gecko/i),et=_e.test(/like gecko/i);return tt&&!et},describe(_e){const tt={name:ENGINE_MAP.Gecko},et=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(_e){const tt={name:ENGINE_MAP.WebKit},et=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}}];class Parser{constructor(tt,et=!1){if(tt==null||tt==="")throw new Error("UserAgent parameter can't be empty");this._ua=tt,this.parsedResult={},et!==!0&&this.parse()}getUA(){return this._ua}test(tt){return tt.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const tt=Utils.find(browsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.browser=tt.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(tt){return tt?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const tt=Utils.find(osParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.os=tt.describe(this.getUA())),this.parsedResult.os}getOSName(tt){const{name:et}=this.getOS();return tt?String(et).toLowerCase()||"":et||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(tt=!1){const{type:et}=this.getPlatform();return tt?String(et).toLowerCase()||"":et||""}parsePlatform(){this.parsedResult.platform={};const tt=Utils.find(platformParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.platform=tt.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(tt){return tt?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const tt=Utils.find(enginesParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.engine=tt.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(tt){const et={};let nt=0;const rt={};let it=0;if(Object.keys(tt).forEach(st=>{const at=tt[st];typeof at=="string"?(rt[st]=at,it+=1):typeof at=="object"&&(et[st]=at,nt+=1)}),nt>0){const st=Object.keys(et),at=Utils.find(st,lt=>this.isOS(lt));if(at){const lt=this.satisfies(et[at]);if(lt!==void 0)return lt}const ct=Utils.find(st,lt=>this.isPlatform(lt));if(ct){const lt=this.satisfies(et[ct]);if(lt!==void 0)return lt}}if(it>0){const st=Object.keys(rt),at=Utils.find(st,ct=>this.isBrowser(ct,!0));if(at!==void 0)return this.compareVersion(rt[at])}}isBrowser(tt,et=!1){const nt=this.getBrowserName().toLowerCase();let rt=tt.toLowerCase();const it=Utils.getBrowserTypeByAlias(rt);return et&&it&&(rt=it.toLowerCase()),rt===nt}compareVersion(tt){let et=[0],nt=tt,rt=!1;const it=this.getBrowserVersion();if(typeof it=="string")return tt[0]===">"||tt[0]==="<"?(nt=tt.substr(1),tt[1]==="="?(rt=!0,nt=tt.substr(2)):et=[],tt[0]===">"?et.push(1):et.push(-1)):tt[0]==="="?nt=tt.substr(1):tt[0]==="~"&&(rt=!0,nt=tt.substr(1)),et.indexOf(Utils.compareVersions(it,nt,rt))>-1}isOS(tt){return this.getOSName(!0)===String(tt).toLowerCase()}isPlatform(tt){return this.getPlatformType(!0)===String(tt).toLowerCase()}isEngine(tt){return this.getEngineName(!0)===String(tt).toLowerCase()}is(tt,et=!1){return this.isBrowser(tt,et)||this.isOS(tt)||this.isPlatform(tt)}some(tt=[]){return tt.some(et=>this.is(et))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(tt,et=!1){if(typeof tt!="string")throw new Error("UserAgent should be a string");return new Parser(tt,et)}static parse(tt){return new Parser(tt).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}const bowser=Object.freeze(Object.defineProperty({__proto__:null,default:Bowser},Symbol.toStringTag,{value:"Module"}));var lib={},requestMediaPermissions={};const require$$0=getAugmentedNamespace(bowser);(function(_e){var tt=commonjsGlobal&&commonjsGlobal.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.requestVideoPermissions=_e.requestAudioPermissions=_e.requestMediaPermissions=_e.MediaPermissionsErrorType=void 0;const et=tt(require$$0);var nt;(function(st){st.SystemPermissionDenied="SystemPermissionDenied",st.UserPermissionDenied="UserPermissionDenied",st.CouldNotStartVideoSource="CouldNotStartVideoSource",st.Generic="Generic"})(nt=_e.MediaPermissionsErrorType||(_e.MediaPermissionsErrorType={}));const rt=st=>new Promise((at,ct)=>{navigator.mediaDevices.getUserMedia(st??{audio:!0,video:!0}).then(lt=>{lt.getTracks().forEach(dt=>{dt.stop()}),at(!0)}).catch(lt=>{const ut=et.default.getParser(window.navigator.userAgent).getBrowserName(),ft=lt.name,pt=lt.message;let yt=nt.Generic;ut==="Chrome"?ft==="NotAllowedError"?pt==="Permission denied by system"?yt=nt.SystemPermissionDenied:pt==="Permission denied"&&(yt=nt.UserPermissionDenied):ft==="NotReadableError"&&(yt=nt.CouldNotStartVideoSource):ut==="Safari"?ft==="NotAllowedError"&&(yt=nt.UserPermissionDenied):ut==="Microsoft Edge"?ft==="NotAllowedError"?yt=nt.UserPermissionDenied:ft==="NotReadableError"&&(yt=nt.CouldNotStartVideoSource):ut==="Firefox"&&(ft==="NotFoundError"||ft==="NotReadableError"?yt=nt.SystemPermissionDenied:ft==="NotAllowedError"?yt=nt.UserPermissionDenied:ft==="AbortError"&&(yt=nt.CouldNotStartVideoSource)),ct({type:yt,name:lt.name,message:lt.message})})});_e.requestMediaPermissions=rt;const it=()=>(0,_e.requestMediaPermissions)({audio:!0,video:!1});_e.requestAudioPermissions=it;const ot=()=>(0,_e.requestMediaPermissions)({audio:!1,video:!0});_e.requestVideoPermissions=ot})(requestMediaPermissions);(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.requestMediaPermissions=_e.MediaPermissionsErrorType=void 0;var tt=requestMediaPermissions;Object.defineProperty(_e,"MediaPermissionsErrorType",{enumerable:!0,get:function(){return tt.MediaPermissionsErrorType}}),Object.defineProperty(_e,"requestMediaPermissions",{enumerable:!0,get:function(){return tt.requestMediaPermissions}})})(lib);const browser=Bowser.getParser(window.navigator.userAgent),MediaOnboardingDialog=()=>{const[_e,tt]=React.useState(null),[et,nt]=React.useState(!1),[rt,it]=React.useState(!1),[ot,st]=React.useState(),at=reactExports.useRef(_e);at.current=_e;const ct=reactExports.useRef(et);ct.current=et;const lt=reactExports.useRef(rt);lt.current=rt,React.useEffect(()=>{ut()},[]),React.useEffect(()=>{console.log("audio allowed permission changed: ",et)},[et,rt]);const dt=()=>{(!ct.current||!lt.current)&&at.current===null&&tt("explanation")},ut=()=>{lib.requestMediaPermissions().then(()=>{nt(!0),it(!0),tt(null)}).catch(Ct=>{console.log("MediaOnboardingDialog: ",Ct),Ct.type===lib.MediaPermissionsErrorType.SystemPermissionDenied?tt("systemDenied"):Ct.type===lib.MediaPermissionsErrorType.UserPermissionDenied?tt("userDenied"):Ct.type===lib.MediaPermissionsErrorType.CouldNotStartVideoSource&&tt("trackError"),st(Ct)}),setTimeout(()=>{dt()},500)},ft=Ct=>jsxRuntimeExports.jsx("div",{style:{width:"100%",marginTop:20},children:jsxRuntimeExports.jsx(Button$1,{onClick:()=>{browser.getBrowserName()==="Safari"?window.location.reload():ut()},color:"primary",style:{float:"right"},children:Ct||"Retry"})}),pt=()=>ot?jsxRuntimeExports.jsx("div",{style:{marginTop:10},children:jsxRuntimeExports.jsxs(Accordion$1,{children:[jsxRuntimeExports.jsx(AccordionSummary$1,{expandIcon:jsxRuntimeExports.jsx(default_1,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:jsxRuntimeExports.jsx(Typography$1,{variant:"caption",style:{color:"red"},children:"Error Details"})}),jsxRuntimeExports.jsx(AccordionDetails$1,{children:jsxRuntimeExports.jsxs(Typography$1,{variant:"caption",children:[ot.name,": ",ot.message]})})]})}):null,yt=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Allow App to use your camera and microphone"}),jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle1",children:"App needs access to your camera and microphone so that other participants can see and hear you."})]}),Tt=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Camera and microphone are blocked"}),jsxRuntimeExports.jsxs(Typography$1,{children:["App requires access to your camera and microphone."," ",browser.getBrowserName()!=="Safari"&&jsxRuntimeExports.jsxs(Typography$1,{children:["Click the camera blocked icon"," ",jsxRuntimeExports.jsx("img",{alt:"icon",src:"https://www.gstatic.com/meet/ic_blocked_camera_dark_f401bc8ec538ede48315b75286c1511b.svg",style:{display:"inline"}})," ","in your browser's address bar."]})]}),pt(),ft()]}),ht=()=>{const Ct={macOS:{name:"System Preferences",link:"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Can't use your camera or microphone"}),jsxRuntimeExports.jsxs(Typography$1,{children:["Your browser might not have access to your camera or microphone. To fix this problem, open"," ",Ct[browser.getOSName()]?jsxRuntimeExports.jsx(Link$1,{onClick:()=>{window.open(Ct[browser.getOSName()].link,"_blank")},children:Ct[browser.getOSName()].name}):"Settings","."]}),pt(),ft()]})},gt=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Can't start your camera or microphone"}),jsxRuntimeExports.jsx(Typography$1,{children:"Another application (Zoom, Webex) or browser tab (Google Meet, Messenger Video) might already be using your webcam. Please turn off other cameras before proceeding."}),pt(),ft()]}),vt=()=>{switch(_e){case"explanation":return yt();case"systemDenied":return ht();case"userDenied":return Tt();case"trackError":return gt()}};return jsxRuntimeExports.jsx(Dialog$1,{open:!!_e,children:_e&&vt()})},memberName="John Kennedy",therapistName="Nikita Khrushev",App=()=>jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/opentok-react/onboarding",element:jsxRuntimeExports.jsx(MediaOnboardingDialog,{})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/lobby/member",element:jsxRuntimeExports.jsx(Lobby,{memberId:memberName,linkTo:"member"})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/lobby/therapist",element:jsxRuntimeExports.jsx(Lobby,{memberId:therapistName,linkTo:"therapist"})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/member",element:jsxRuntimeExports.jsx(Member,{userId:memberName})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/therapist",element:jsxRuntimeExports.jsx(Therapist,{userId:therapistName})})]});function n$2(_e){for(var tt=arguments.length,et=Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)et[nt-1]=arguments[nt];throw Error("[Immer] minified error nr: "+_e+(et.length?" "+et.map(function(rt){return"'"+rt+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$2(_e){return!!_e&&!!_e[Q]}function t$2(_e){var tt;return!!_e&&(function(et){if(!et||typeof et!="object")return!1;var nt=Object.getPrototypeOf(et);if(nt===null)return!0;var rt=Object.hasOwnProperty.call(nt,"constructor")&&nt.constructor;return rt===Object||typeof rt=="function"&&Function.toString.call(rt)===Z}(_e)||Array.isArray(_e)||!!_e[L]||!!(!((tt=_e.constructor)===null||tt===void 0)&&tt[L])||s(_e)||v$1(_e))}function i(_e,tt,et){et===void 0&&(et=!1),o(_e)===0?(et?Object.keys:nn)(_e).forEach(function(nt){et&&typeof nt=="symbol"||tt(nt,_e[nt],_e)}):_e.forEach(function(nt,rt){return tt(rt,nt,_e)})}function o(_e){var tt=_e[Q];return tt?tt.i>3?tt.i-4:tt.i:Array.isArray(_e)?1:s(_e)?2:v$1(_e)?3:0}function u$2(_e,tt){return o(_e)===2?_e.has(tt):Object.prototype.hasOwnProperty.call(_e,tt)}function a(_e,tt){return o(_e)===2?_e.get(tt):_e[tt]}function f(_e,tt,et){var nt=o(_e);nt===2?_e.set(tt,et):nt===3?_e.add(et):_e[tt]=et}function c(_e,tt){return _e===tt?_e!==0||1/_e==1/tt:_e!=_e&&tt!=tt}function s(_e){return X&&_e instanceof Map}function v$1(_e){return q$2&&_e instanceof Set}function p$2(_e){return _e.o||_e.t}function l$1(_e){if(Array.isArray(_e))return Array.prototype.slice.call(_e);var tt=rn(_e);delete tt[Q];for(var et=nn(tt),nt=0;nt<et.length;nt++){var rt=et[nt],it=tt[rt];it.writable===!1&&(it.writable=!0,it.configurable=!0),(it.get||it.set)&&(tt[rt]={configurable:!0,writable:!0,enumerable:it.enumerable,value:_e[rt]})}return Object.create(Object.getPrototypeOf(_e),tt)}function d(_e,tt){return tt===void 0&&(tt=!1),y(_e)||r$2(_e)||!t$2(_e)||(o(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=h$2),Object.freeze(_e),tt&&i(_e,function(et,nt){return d(nt,!0)},!0)),_e}function h$2(){n$2(2)}function y(_e){return _e==null||typeof _e!="object"||Object.isFrozen(_e)}function b(_e){var tt=tn[_e];return tt||n$2(18,_e),tt}function m$1(_e,tt){tn[_e]||(tn[_e]=tt)}function _(){return U}function j(_e,tt){tt&&(b("Patches"),_e.u=[],_e.s=[],_e.v=tt)}function g(_e){O(_e),_e.p.forEach(S),_e.p=null}function O(_e){_e===U&&(U=_e.l)}function w$1(_e){return U={p:[],l:U,h:_e,m:!0,_:0}}function S(_e){var tt=_e[Q];tt.i===0||tt.i===1?tt.j():tt.g=!0}function P(_e,tt){tt._=tt.p.length;var et=tt.p[0],nt=_e!==void 0&&_e!==et;return tt.h.O||b("ES5").S(tt,_e,nt),nt?(et[Q].P&&(g(tt),n$2(4)),t$2(_e)&&(_e=M(tt,_e),tt.l||x(tt,_e)),tt.u&&b("Patches").M(et[Q].t,_e,tt.u,tt.s)):_e=M(tt,et,[]),g(tt),tt.u&&tt.v(tt.u,tt.s),_e!==H?_e:void 0}function M(_e,tt,et){if(y(tt))return tt;var nt=tt[Q];if(!nt)return i(tt,function(st,at){return A(_e,nt,tt,st,at,et)},!0),tt;if(nt.A!==_e)return tt;if(!nt.P)return x(_e,nt.t,!0),nt.t;if(!nt.I){nt.I=!0,nt.A._--;var rt=nt.i===4||nt.i===5?nt.o=l$1(nt.k):nt.o,it=rt,ot=!1;nt.i===3&&(it=new Set(rt),rt.clear(),ot=!0),i(it,function(st,at){return A(_e,nt,rt,st,at,et,ot)}),x(_e,rt,!1),et&&_e.u&&b("Patches").N(nt,et,_e.u,_e.s)}return nt.o}function A(_e,tt,et,nt,rt,it,ot){if(r$2(rt)){var st=M(_e,rt,it&&tt&&tt.i!==3&&!u$2(tt.R,nt)?it.concat(nt):void 0);if(f(et,nt,st),!r$2(st))return;_e.m=!1}else ot&&et.add(rt);if(t$2(rt)&&!y(rt)){if(!_e.h.D&&_e._<1)return;M(_e,rt),tt&&tt.A.l||x(_e,rt)}}function x(_e,tt,et){et===void 0&&(et=!1),!_e.l&&_e.h.D&&_e.m&&d(tt,et)}function z(_e,tt){var et=_e[Q];return(et?p$2(et):_e)[tt]}function I(_e,tt){if(tt in _e)for(var et=Object.getPrototypeOf(_e);et;){var nt=Object.getOwnPropertyDescriptor(et,tt);if(nt)return nt;et=Object.getPrototypeOf(et)}}function k$1(_e){_e.P||(_e.P=!0,_e.l&&k$1(_e.l))}function E(_e){_e.o||(_e.o=l$1(_e.t))}function N(_e,tt,et){var nt=s(tt)?b("MapSet").F(tt,et):v$1(tt)?b("MapSet").T(tt,et):_e.O?function(rt,it){var ot=Array.isArray(rt),st={i:ot?1:0,A:it?it.A:_(),P:!1,I:!1,R:{},l:it,t:rt,k:null,o:null,j:null,C:!1},at=st,ct=en;ot&&(at=[st],ct=on);var lt=Proxy.revocable(at,ct),dt=lt.revoke,ut=lt.proxy;return st.k=ut,st.j=dt,ut}(tt,et):b("ES5").J(tt,et);return(et?et.A:_()).p.push(nt),nt}function R(_e){return r$2(_e)||n$2(22,_e),function tt(et){if(!t$2(et))return et;var nt,rt=et[Q],it=o(et);if(rt){if(!rt.P&&(rt.i<4||!b("ES5").K(rt)))return rt.t;rt.I=!0,nt=D(et,it),rt.I=!1}else nt=D(et,it);return i(nt,function(ot,st){rt&&a(rt.t,ot)===st||f(nt,ot,tt(st))}),it===3?new Set(nt):nt}(_e)}function D(_e,tt){switch(tt){case 2:return new Map(_e);case 3:return Array.from(_e)}return l$1(_e)}function F(){function _e(it,ot){var st=rt[it];return st?st.enumerable=ot:rt[it]=st={configurable:!0,enumerable:ot,get:function(){var at=this[Q];return en.get(at,it)},set:function(at){var ct=this[Q];en.set(ct,it,at)}},st}function tt(it){for(var ot=it.length-1;ot>=0;ot--){var st=it[ot][Q];if(!st.P)switch(st.i){case 5:nt(st)&&k$1(st);break;case 4:et(st)&&k$1(st)}}}function et(it){for(var ot=it.t,st=it.k,at=nn(st),ct=at.length-1;ct>=0;ct--){var lt=at[ct];if(lt!==Q){var dt=ot[lt];if(dt===void 0&&!u$2(ot,lt))return!0;var ut=st[lt],ft=ut&&ut[Q];if(ft?ft.t!==dt:!c(ut,dt))return!0}}var pt=!!ot[Q];return at.length!==nn(ot).length+(pt?0:1)}function nt(it){var ot=it.k;if(ot.length!==it.t.length)return!0;var st=Object.getOwnPropertyDescriptor(ot,ot.length-1);if(st&&!st.get)return!0;for(var at=0;at<ot.length;at++)if(!ot.hasOwnProperty(at))return!0;return!1}var rt={};m$1("ES5",{J:function(it,ot){var st=Array.isArray(it),at=function(lt,dt){if(lt){for(var ut=Array(dt.length),ft=0;ft<dt.length;ft++)Object.defineProperty(ut,""+ft,_e(ft,!0));return ut}var pt=rn(dt);delete pt[Q];for(var yt=nn(pt),Tt=0;Tt<yt.length;Tt++){var ht=yt[Tt];pt[ht]=_e(ht,lt||!!pt[ht].enumerable)}return Object.create(Object.getPrototypeOf(dt),pt)}(st,it),ct={i:st?5:4,A:ot?ot.A:_(),P:!1,I:!1,R:{},l:ot,t:it,k:at,o:null,g:!1,C:!1};return Object.defineProperty(at,Q,{value:ct,writable:!0}),at},S:function(it,ot,st){st?r$2(ot)&&ot[Q].A===it&&tt(it.p):(it.u&&function at(ct){if(ct&&typeof ct=="object"){var lt=ct[Q];if(lt){var dt=lt.t,ut=lt.k,ft=lt.R,pt=lt.i;if(pt===4)i(ut,function(vt){vt!==Q&&(dt[vt]!==void 0||u$2(dt,vt)?ft[vt]||at(ut[vt]):(ft[vt]=!0,k$1(lt)))}),i(dt,function(vt){ut[vt]!==void 0||u$2(ut,vt)||(ft[vt]=!1,k$1(lt))});else if(pt===5){if(nt(lt)&&(k$1(lt),ft.length=!0),ut.length<dt.length)for(var yt=ut.length;yt<dt.length;yt++)ft[yt]=!1;else for(var Tt=dt.length;Tt<ut.length;Tt++)ft[Tt]=!0;for(var ht=Math.min(ut.length,dt.length),gt=0;gt<ht;gt++)ut.hasOwnProperty(gt)||(ft[gt]=!0),ft[gt]===void 0&&at(ut[gt])}}}}(it.p[0]),tt(it.p))},K:function(it){return it.i===4?et(it):nt(it)}})}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q$2=typeof Set<"u",B=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(_e){var tt={};return nn(_e).forEach(function(et){tt[et]=Object.getOwnPropertyDescriptor(_e,et)}),tt},tn={},en={get:function(_e,tt){if(tt===Q)return _e;var et=p$2(_e);if(!u$2(et,tt))return function(rt,it,ot){var st,at=I(it,ot);return at?"value"in at?at.value:(st=at.get)===null||st===void 0?void 0:st.call(rt.k):void 0}(_e,et,tt);var nt=et[tt];return _e.I||!t$2(nt)?nt:nt===z(_e.t,tt)?(E(_e),_e.o[tt]=N(_e.A.h,nt,_e)):nt},has:function(_e,tt){return tt in p$2(_e)},ownKeys:function(_e){return Reflect.ownKeys(p$2(_e))},set:function(_e,tt,et){var nt=I(p$2(_e),tt);if(nt!=null&&nt.set)return nt.set.call(_e.k,et),!0;if(!_e.P){var rt=z(p$2(_e),tt),it=rt==null?void 0:rt[Q];if(it&&it.t===et)return _e.o[tt]=et,_e.R[tt]=!1,!0;if(c(et,rt)&&(et!==void 0||u$2(_e.t,tt)))return!0;E(_e),k$1(_e)}return _e.o[tt]===et&&(et!==void 0||tt in _e.o)||Number.isNaN(et)&&Number.isNaN(_e.o[tt])||(_e.o[tt]=et,_e.R[tt]=!0),!0},deleteProperty:function(_e,tt){return z(_e.t,tt)!==void 0||tt in _e.t?(_e.R[tt]=!1,E(_e),k$1(_e)):delete _e.R[tt],_e.o&&delete _e.o[tt],!0},getOwnPropertyDescriptor:function(_e,tt){var et=p$2(_e),nt=Reflect.getOwnPropertyDescriptor(et,tt);return nt&&{writable:!0,configurable:_e.i!==1||tt!=="length",enumerable:nt.enumerable,value:et[tt]}},defineProperty:function(){n$2(11)},getPrototypeOf:function(_e){return Object.getPrototypeOf(_e.t)},setPrototypeOf:function(){n$2(12)}},on={};i(en,function(_e,tt){on[_e]=function(){return arguments[0]=arguments[0][0],tt.apply(this,arguments)}}),on.deleteProperty=function(_e,tt){return on.set.call(this,_e,tt,void 0)},on.set=function(_e,tt,et){return en.set.call(this,_e[0],tt,et,_e[0])};var un=function(){function _e(et){var nt=this;this.O=B,this.D=!0,this.produce=function(rt,it,ot){if(typeof rt=="function"&&typeof it!="function"){var st=it;it=rt;var at=nt;return function(yt){var Tt=this;yt===void 0&&(yt=st);for(var ht=arguments.length,gt=Array(ht>1?ht-1:0),vt=1;vt<ht;vt++)gt[vt-1]=arguments[vt];return at.produce(yt,function(Ct){var It;return(It=it).call.apply(It,[Tt,Ct].concat(gt))})}}var ct;if(typeof it!="function"&&n$2(6),ot!==void 0&&typeof ot!="function"&&n$2(7),t$2(rt)){var lt=w$1(nt),dt=N(nt,rt,void 0),ut=!0;try{ct=it(dt),ut=!1}finally{ut?g(lt):O(lt)}return typeof Promise<"u"&&ct instanceof Promise?ct.then(function(yt){return j(lt,ot),P(yt,lt)},function(yt){throw g(lt),yt}):(j(lt,ot),P(ct,lt))}if(!rt||typeof rt!="object"){if((ct=it(rt))===void 0&&(ct=rt),ct===H&&(ct=void 0),nt.D&&d(ct,!0),ot){var ft=[],pt=[];b("Patches").M(rt,ct,ft,pt),ot(ft,pt)}return ct}n$2(21,rt)},this.produceWithPatches=function(rt,it){if(typeof rt=="function")return function(ct){for(var lt=arguments.length,dt=Array(lt>1?lt-1:0),ut=1;ut<lt;ut++)dt[ut-1]=arguments[ut];return nt.produceWithPatches(ct,function(ft){return rt.apply(void 0,[ft].concat(dt))})};var ot,st,at=nt.produce(rt,it,function(ct,lt){ot=ct,st=lt});return typeof Promise<"u"&&at instanceof Promise?at.then(function(ct){return[ct,ot,st]}):[at,ot,st]},typeof(et==null?void 0:et.useProxies)=="boolean"&&this.setUseProxies(et.useProxies),typeof(et==null?void 0:et.autoFreeze)=="boolean"&&this.setAutoFreeze(et.autoFreeze)}var tt=_e.prototype;return tt.createDraft=function(et){t$2(et)||n$2(8),r$2(et)&&(et=R(et));var nt=w$1(this),rt=N(this,et,void 0);return rt[Q].C=!0,O(nt),rt},tt.finishDraft=function(et,nt){var rt=et&&et[Q],it=rt.A;return j(it,nt),P(void 0,it)},tt.setAutoFreeze=function(et){this.D=et},tt.setUseProxies=function(et){et&&!B&&n$2(20),this.O=et},tt.applyPatches=function(et,nt){var rt;for(rt=nt.length-1;rt>=0;rt--){var it=nt[rt];if(it.path.length===0&&it.op==="replace"){et=it.value;break}}rt>-1&&(nt=nt.slice(rt+1));var ot=b("Patches").$;return r$2(et)?ot(et,nt):this.produce(et,function(st){return ot(st,nt)})},_e}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function _typeof(_e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof(_e)}function _toPrimitive(_e,tt){if(_typeof(_e)!=="object"||_e===null)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var nt=et.call(_e,tt||"default");if(_typeof(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(_e)}function _toPropertyKey(_e){var tt=_toPrimitive(_e,"string");return _typeof(tt)==="symbol"?tt:String(tt)}function _defineProperty(_e,tt,et){return tt=_toPropertyKey(tt),tt in _e?Object.defineProperty(_e,tt,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[tt]=et,_e}function ownKeys(_e,tt){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);tt&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,nt)}return et}function _objectSpread2(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys(Object(et),!0).forEach(function(nt){_defineProperty(_e,nt,et[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(et,nt))})}return _e}function formatProdErrorMessage(_e){return"Minified Redux error #"+_e+"; visit https://redux.js.org/Errors?code="+_e+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function _e(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function _e(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$1(_e){if(typeof _e!="object"||_e===null)return!1;for(var tt=_e;Object.getPrototypeOf(tt)!==null;)tt=Object.getPrototypeOf(tt);return Object.getPrototypeOf(_e)===tt}function createStore(_e,tt,et){var nt;if(typeof tt=="function"&&typeof et=="function"||typeof et=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof tt=="function"&&typeof et>"u"&&(et=tt,tt=void 0),typeof et<"u"){if(typeof et!="function")throw new Error(formatProdErrorMessage(1));return et(createStore)(_e,tt)}if(typeof _e!="function")throw new Error(formatProdErrorMessage(2));var rt=_e,it=tt,ot=[],st=ot,at=!1;function ct(){st===ot&&(st=ot.slice())}function lt(){if(at)throw new Error(formatProdErrorMessage(3));return it}function dt(yt){if(typeof yt!="function")throw new Error(formatProdErrorMessage(4));if(at)throw new Error(formatProdErrorMessage(5));var Tt=!0;return ct(),st.push(yt),function(){if(Tt){if(at)throw new Error(formatProdErrorMessage(6));Tt=!1,ct();var gt=st.indexOf(yt);st.splice(gt,1),ot=null}}}function ut(yt){if(!isPlainObject$1(yt))throw new Error(formatProdErrorMessage(7));if(typeof yt.type>"u")throw new Error(formatProdErrorMessage(8));if(at)throw new Error(formatProdErrorMessage(9));try{at=!0,it=rt(it,yt)}finally{at=!1}for(var Tt=ot=st,ht=0;ht<Tt.length;ht++){var gt=Tt[ht];gt()}return yt}function ft(yt){if(typeof yt!="function")throw new Error(formatProdErrorMessage(10));rt=yt,ut({type:ActionTypes.REPLACE})}function pt(){var yt,Tt=dt;return yt={subscribe:function(gt){if(typeof gt!="object"||gt===null)throw new Error(formatProdErrorMessage(11));function vt(){gt.next&&gt.next(lt())}vt();var Ct=Tt(vt);return{unsubscribe:Ct}}},yt[$$observable]=function(){return this},yt}return ut({type:ActionTypes.INIT}),nt={dispatch:ut,subscribe:dt,getState:lt,replaceReducer:ft},nt[$$observable]=pt,nt}function assertReducerShape(_e){Object.keys(_e).forEach(function(tt){var et=_e[tt],nt=et(void 0,{type:ActionTypes.INIT});if(typeof nt>"u")throw new Error(formatProdErrorMessage(12));if(typeof et(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(_e){for(var tt=Object.keys(_e),et={},nt=0;nt<tt.length;nt++){var rt=tt[nt];typeof _e[rt]=="function"&&(et[rt]=_e[rt])}var it=Object.keys(et),ot;try{assertReducerShape(et)}catch(st){ot=st}return function(at,ct){if(at===void 0&&(at={}),ot)throw ot;for(var lt=!1,dt={},ut=0;ut<it.length;ut++){var ft=it[ut],pt=et[ft],yt=at[ft],Tt=pt(yt,ct);if(typeof Tt>"u")throw ct&&ct.type,new Error(formatProdErrorMessage(14));dt[ft]=Tt,lt=lt||Tt!==yt}return lt=lt||it.length!==Object.keys(at).length,lt?dt:at}}function compose(){for(var _e=arguments.length,tt=new Array(_e),et=0;et<_e;et++)tt[et]=arguments[et];return tt.length===0?function(nt){return nt}:tt.length===1?tt[0]:tt.reduce(function(nt,rt){return function(){return nt(rt.apply(void 0,arguments))}})}function applyMiddleware(){for(var _e=arguments.length,tt=new Array(_e),et=0;et<_e;et++)tt[et]=arguments[et];return function(nt){return function(){var rt=nt.apply(void 0,arguments),it=function(){throw new Error(formatProdErrorMessage(15))},ot={getState:rt.getState,dispatch:function(){return it.apply(void 0,arguments)}},st=tt.map(function(at){return at(ot)});return it=compose.apply(void 0,st)(rt.dispatch),_objectSpread2(_objectSpread2({},rt),{},{dispatch:it})}}}function createThunkMiddleware(_e){var tt=function(nt){var rt=nt.dispatch,it=nt.getState;return function(ot){return function(st){return typeof st=="function"?st(rt,it,_e):ot(st)}}};return tt}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const thunkMiddleware=thunk;var __extends=function(){var _e=function(tt,et){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,rt){nt.__proto__=rt}||function(nt,rt){for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(nt[it]=rt[it])},_e(tt,et)};return function(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");_e(tt,et);function nt(){this.constructor=tt}tt.prototype=et===null?Object.create(et):(nt.prototype=et.prototype,new nt)}}(),__generator=function(_e,tt){var et={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},nt,rt,it,ot;return ot={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function st(ct){return function(lt){return at([ct,lt])}}function at(ct){if(nt)throw new TypeError("Generator is already executing.");for(;et;)try{if(nt=1,rt&&(it=ct[0]&2?rt.return:ct[0]?rt.throw||((it=rt.return)&&it.call(rt),0):rt.next)&&!(it=it.call(rt,ct[1])).done)return it;switch(rt=0,it&&(ct=[ct[0]&2,it.value]),ct[0]){case 0:case 1:it=ct;break;case 4:return et.label++,{value:ct[1],done:!1};case 5:et.label++,rt=ct[1],ct=[0];continue;case 7:ct=et.ops.pop(),et.trys.pop();continue;default:if(it=et.trys,!(it=it.length>0&&it[it.length-1])&&(ct[0]===6||ct[0]===2)){et=0;continue}if(ct[0]===3&&(!it||ct[1]>it[0]&&ct[1]<it[3])){et.label=ct[1];break}if(ct[0]===6&&et.label<it[1]){et.label=it[1],it=ct;break}if(it&&et.label<it[2]){et.label=it[2],et.ops.push(ct);break}it[2]&&et.ops.pop(),et.trys.pop();continue}ct=tt.call(_e,et)}catch(lt){ct=[6,lt],rt=0}finally{nt=it=0}if(ct[0]&5)throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}},__spreadArray=function(_e,tt){for(var et=0,nt=tt.length,rt=_e.length;et<nt;et++,rt++)_e[rt]=tt[et];return _e},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(_e,tt,et){return tt in _e?__defProp(_e,tt,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[tt]=et},__spreadValues=function(_e,tt){for(var et in tt||(tt={}))__hasOwnProp.call(tt,et)&&__defNormalProp(_e,et,tt[et]);if(__getOwnPropSymbols)for(var nt=0,rt=__getOwnPropSymbols(tt);nt<rt.length;nt++){var et=rt[nt];__propIsEnum.call(tt,et)&&__defNormalProp(_e,et,tt[et])}return _e},__spreadProps=function(_e,tt){return __defProps(_e,__getOwnPropDescs(tt))},__async=function(_e,tt,et){return new Promise(function(nt,rt){var it=function(at){try{st(et.next(at))}catch(ct){rt(ct)}},ot=function(at){try{st(et.throw(at))}catch(ct){rt(ct)}},st=function(at){return at.done?nt(at.value):Promise.resolve(at.value).then(it,ot)};st((et=et.apply(_e,tt)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject(_e){if(typeof _e!="object"||_e===null)return!1;var tt=Object.getPrototypeOf(_e);if(tt===null)return!0;for(var et=tt;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return tt===et}var MiddlewareArray=function(_e){__extends(tt,_e);function tt(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var rt=_e.apply(this,et)||this;return Object.setPrototypeOf(rt,tt.prototype),rt}return Object.defineProperty(tt,Symbol.species,{get:function(){return tt},enumerable:!1,configurable:!0}),tt.prototype.concat=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return _e.prototype.concat.apply(this,et)},tt.prototype.prepend=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return et.length===1&&Array.isArray(et[0])?new(tt.bind.apply(tt,__spreadArray([void 0],et[0].concat(this)))):new(tt.bind.apply(tt,__spreadArray([void 0],et.concat(this))))},tt}(Array),EnhancerArray=function(_e){__extends(tt,_e);function tt(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var rt=_e.apply(this,et)||this;return Object.setPrototypeOf(rt,tt.prototype),rt}return Object.defineProperty(tt,Symbol.species,{get:function(){return tt},enumerable:!1,configurable:!0}),tt.prototype.concat=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return _e.prototype.concat.apply(this,et)},tt.prototype.prepend=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return et.length===1&&Array.isArray(et[0])?new(tt.bind.apply(tt,__spreadArray([void 0],et[0].concat(this)))):new(tt.bind.apply(tt,__spreadArray([void 0],et.concat(this))))},tt}(Array);function freezeDraftable(_e){return t$2(_e)?fn(_e,function(){}):_e}function isBoolean(_e){return typeof _e=="boolean"}function curryGetDefaultMiddleware(){return function(tt){return getDefaultMiddleware(tt)}}function getDefaultMiddleware(_e){_e===void 0&&(_e={});var tt=_e.thunk,et=tt===void 0?!0:tt;_e.immutableCheck,_e.serializableCheck;var nt=new MiddlewareArray;return et&&(isBoolean(et)?nt.push(thunkMiddleware):nt.push(thunkMiddleware.withExtraArgument(et.extraArgument))),nt}var IS_PRODUCTION=!0;function configureStore(_e){var tt=curryGetDefaultMiddleware(),et=_e||{},nt=et.reducer,rt=nt===void 0?void 0:nt,it=et.middleware,ot=it===void 0?tt():it,st=et.devTools,at=st===void 0?!0:st,ct=et.preloadedState,lt=ct===void 0?void 0:ct,dt=et.enhancers,ut=dt===void 0?void 0:dt,ft;if(typeof rt=="function")ft=rt;else if(isPlainObject(rt))ft=combineReducers(rt);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var pt=ot;typeof pt=="function"&&(pt=pt(tt));var yt=applyMiddleware.apply(void 0,pt),Tt=compose;at&&(Tt=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},typeof at=="object"&&at)));var ht=new EnhancerArray(yt),gt=ht;Array.isArray(ut)?gt=__spreadArray([yt],ut):typeof ut=="function"&&(gt=ut(ht));var vt=Tt.apply(void 0,gt);return createStore(ft,lt,vt)}function createAction(_e,tt){function et(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];if(tt){var it=tt.apply(void 0,nt);if(!it)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:_e,payload:it.payload},"meta"in it&&{meta:it.meta}),"error"in it&&{error:it.error})}return{type:_e,payload:nt[0]}}return et.toString=function(){return""+_e},et.type=_e,et.match=function(nt){return nt.type===_e},et}function executeReducerBuilderCallback(_e){var tt={},et=[],nt,rt={addCase:function(it,ot){var st=typeof it=="string"?it:it.type;if(st in tt)throw new Error("addCase cannot be called with two reducers for the same action type");return tt[st]=ot,rt},addMatcher:function(it,ot){return et.push({matcher:it,reducer:ot}),rt},addDefaultCase:function(it){return nt=it,rt}};return _e(rt),[tt,et,nt]}function isStateFunction(_e){return typeof _e=="function"}function createReducer(_e,tt,et,nt){et===void 0&&(et=[]);var rt=typeof tt=="function"?executeReducerBuilderCallback(tt):[tt,et,nt],it=rt[0],ot=rt[1],st=rt[2],at;if(isStateFunction(_e))at=function(){return freezeDraftable(_e())};else{var ct=freezeDraftable(_e);at=function(){return ct}}function lt(dt,ut){dt===void 0&&(dt=at());var ft=__spreadArray([it[ut.type]],ot.filter(function(pt){var yt=pt.matcher;return yt(ut)}).map(function(pt){var yt=pt.reducer;return yt}));return ft.filter(function(pt){return!!pt}).length===0&&(ft=[st]),ft.reduce(function(pt,yt){if(yt)if(r$2(pt)){var Tt=pt,ht=yt(Tt,ut);return ht===void 0?pt:ht}else{if(t$2(pt))return fn(pt,function(gt){return yt(gt,ut)});var ht=yt(pt,ut);if(ht===void 0){if(pt===null)return pt;throw Error("A case reducer on a non-draftable value must not return undefined")}return ht}return pt},dt)}return lt.getInitialState=at,lt}function getType2(_e,tt){return _e+"/"+tt}function createSlice(_e){var tt=_e.name;if(!tt)throw new Error("`name` is a required option for createSlice");typeof process<"u";var et=typeof _e.initialState=="function"?_e.initialState:freezeDraftable(_e.initialState),nt=_e.reducers||{},rt=Object.keys(nt),it={},ot={},st={};rt.forEach(function(lt){var dt=nt[lt],ut=getType2(tt,lt),ft,pt;"reducer"in dt?(ft=dt.reducer,pt=dt.prepare):ft=dt,it[lt]=ft,ot[ut]=ft,st[lt]=pt?createAction(ut,pt):createAction(ut)});function at(){var lt=typeof _e.extraReducers=="function"?executeReducerBuilderCallback(_e.extraReducers):[_e.extraReducers],dt=lt[0],ut=dt===void 0?{}:dt,ft=lt[1],pt=ft===void 0?[]:ft,yt=lt[2],Tt=yt===void 0?void 0:yt,ht=__spreadValues(__spreadValues({},ut),ot);return createReducer(et,function(gt){for(var vt in ht)gt.addCase(vt,ht[vt]);for(var Ct=0,It=pt;Ct<It.length;Ct++){var Zt=It[Ct];gt.addMatcher(Zt.matcher,Zt.reducer)}Tt&&gt.addDefaultCase(Tt)})}var ct;return{name:tt,reducer:function(lt,dt){return ct||(ct=at()),ct(lt,dt)},actions:st,caseReducers:it,getInitialState:function(){return ct||(ct=at()),ct.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(_e){_e===void 0&&(_e=21);for(var tt="",et=_e;et--;)tt+=urlAlphabet[Math.random()*64|0];return tt},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function _e(tt,et){this.payload=tt,this.meta=et}return _e}(),FulfillWithMeta=function(){function _e(tt,et){this.payload=tt,this.meta=et}return _e}(),miniSerializeError=function(_e){if(typeof _e=="object"&&_e!==null){for(var tt={},et=0,nt=commonProperties;et<nt.length;et++){var rt=nt[et];typeof _e[rt]=="string"&&(tt[rt]=_e[rt])}return tt}return{message:String(_e)}};(function(){function _e(tt,et,nt){var rt=createAction(tt+"/fulfilled",function(ct,lt,dt,ut){return{payload:ct,meta:__spreadProps(__spreadValues({},ut||{}),{arg:dt,requestId:lt,requestStatus:"fulfilled"})}}),it=createAction(tt+"/pending",function(ct,lt,dt){return{payload:void 0,meta:__spreadProps(__spreadValues({},dt||{}),{arg:lt,requestId:ct,requestStatus:"pending"})}}),ot=createAction(tt+"/rejected",function(ct,lt,dt,ut,ft){return{payload:ut,error:(nt&&nt.serializeError||miniSerializeError)(ct||"Rejected"),meta:__spreadProps(__spreadValues({},ft||{}),{arg:dt,requestId:lt,rejectedWithValue:!!ut,requestStatus:"rejected",aborted:(ct==null?void 0:ct.name)==="AbortError",condition:(ct==null?void 0:ct.name)==="ConditionError"})}}),st=typeof AbortController<"u"?AbortController:function(){function ct(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return ct.prototype.abort=function(){},ct}();function at(ct){return function(lt,dt,ut){var ft=nt!=null&&nt.idGenerator?nt.idGenerator(ct):nanoid(),pt=new st,yt;function Tt(gt){yt=gt,pt.abort()}var ht=function(){return __async(this,null,function(){var gt,vt,Ct,It,Zt,Mt,kt;return __generator(this,function(Nt){switch(Nt.label){case 0:return Nt.trys.push([0,4,,5]),It=(gt=nt==null?void 0:nt.condition)==null?void 0:gt.call(nt,ct,{getState:dt,extra:ut}),isThenable(It)?[4,It]:[3,2];case 1:It=Nt.sent(),Nt.label=2;case 2:if(It===!1||pt.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Zt=new Promise(function(Lt,Pt){return pt.signal.addEventListener("abort",function(){return Pt({name:"AbortError",message:yt||"Aborted"})})}),lt(it(ft,ct,(vt=nt==null?void 0:nt.getPendingMeta)==null?void 0:vt.call(nt,{requestId:ft,arg:ct},{getState:dt,extra:ut}))),[4,Promise.race([Zt,Promise.resolve(et(ct,{dispatch:lt,getState:dt,extra:ut,requestId:ft,signal:pt.signal,abort:Tt,rejectWithValue:function(Lt,Pt){return new RejectWithValue(Lt,Pt)},fulfillWithValue:function(Lt,Pt){return new FulfillWithMeta(Lt,Pt)}})).then(function(Lt){if(Lt instanceof RejectWithValue)throw Lt;return Lt instanceof FulfillWithMeta?rt(Lt.payload,ft,ct,Lt.meta):rt(Lt,ft,ct)})])];case 3:return Ct=Nt.sent(),[3,5];case 4:return Mt=Nt.sent(),Ct=Mt instanceof RejectWithValue?ot(null,ft,ct,Mt.payload,Mt.meta):ot(Mt,ft,ct),[3,5];case 5:return kt=nt&&!nt.dispatchConditionRejection&&ot.match(Ct)&&Ct.meta.condition,kt||lt(Ct),[2,Ct]}})})}();return Object.assign(ht,{abort:Tt,requestId:ft,arg:ct,unwrap:function(){return ht.then(unwrapResult)}})}}return Object.assign(at,{pending:it,rejected:ot,fulfilled:rt,typePrefix:tt})}return _e.withTypes=function(){return _e},_e})();function unwrapResult(_e){if(_e.meta&&_e.meta.rejectedWithValue)throw _e.payload;if(_e.error)throw _e.error;return _e.payload}function isThenable(_e){return _e!==null&&typeof _e=="object"&&typeof _e.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);F();const initialState={sessionId:null,token:null},opentokCredentialsSlice=createSlice({name:"opentokCredentials",initialState,reducers:{setCredentials:(_e,tt)=>{_e.sessionId=tt.payload.sessionId,_e.token=tt.payload.token}}}),opentokCredentialsReducer=opentokCredentialsSlice.reducer,store=configureStore({reducer:{opentokCredentials:opentokCredentialsReducer}});var shimExports={},shim={get exports(){return shimExports},set exports(_e){shimExports=_e}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=reactExports;function h$1(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}var k=typeof Object.is=="function"?Object.is:h$1,l=e.useState,m=e.useEffect,n$1=e.useLayoutEffect,p$1=e.useDebugValue;function q$1(_e,tt){var et=tt(),nt=l({inst:{value:et,getSnapshot:tt}}),rt=nt[0].inst,it=nt[1];return n$1(function(){rt.value=et,rt.getSnapshot=tt,r$1(rt)&&it({inst:rt})},[_e,et,tt]),m(function(){return r$1(rt)&&it({inst:rt}),_e(function(){r$1(rt)&&it({inst:rt})})},[_e]),p$1(et),et}function r$1(_e){var tt=_e.getSnapshot;_e=_e.value;try{var et=tt();return!k(_e,et)}catch{return!0}}function t$1(_e,tt){return tt()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$1:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$1;(function(_e){_e.exports=useSyncExternalStoreShim_production_min})(shim);var withSelectorExports={},withSelector={get exports(){return withSelectorExports},set exports(_e){withSelectorExports=_e}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=reactExports,n=shimExports;function p(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}var q=typeof Object.is=="function"?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(_e,tt,et,nt,rt){var it=t(null);if(it.current===null){var ot={hasValue:!1,value:null};it.current=ot}else ot=it.current;it=v(function(){function at(ft){if(!ct){if(ct=!0,lt=ft,ft=nt(ft),rt!==void 0&&ot.hasValue){var pt=ot.value;if(rt(pt,ft))return dt=pt}return dt=ft}if(pt=dt,q(lt,ft))return pt;var yt=nt(ft);return rt!==void 0&&rt(pt,yt)?pt:(lt=ft,dt=yt)}var ct=!1,lt,dt,ut=et===void 0?null:et;return[function(){return at(tt())},ut===null?void 0:function(){return at(ut())}]},[tt,et,nt,rt]);var st=r(_e,it[0],it[1]);return u(function(){ot.hasValue=!0,ot.value=st},[st]),w(st),st};(function(_e){_e.exports=withSelector_production_min})(withSelector);function defaultNoopBatch(_e){_e()}let batch=defaultNoopBatch;const setBatch=_e=>batch=_e,getBatch=()=>batch,ContextKey=Symbol.for(`react-redux-context-${reactExports.version}`),gT=globalThis;function getContext(){let _e=gT[ContextKey];return _e||(_e=reactExports.createContext(null),gT[ContextKey]=_e),_e}const ReactReduxContext=new Proxy({},new Proxy({},{get(_e,tt){const et=getContext();return(nt,...rt)=>Reflect[tt](et,...rt)}}));function createListenerCollection(){const _e=getBatch();let tt=null,et=null;return{clear(){tt=null,et=null},notify(){_e(()=>{let nt=tt;for(;nt;)nt.callback(),nt=nt.next})},get(){let nt=[],rt=tt;for(;rt;)nt.push(rt),rt=rt.next;return nt},subscribe(nt){let rt=!0,it=et={callback:nt,next:null,prev:et};return it.prev?it.prev.next=it:tt=it,function(){!rt||tt===null||(rt=!1,it.next?it.next.prev=it.prev:et=it.prev,it.prev?it.prev.next=it.next:tt=it.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription(_e,tt){let et,nt=nullListeners;function rt(dt){return at(),nt.subscribe(dt)}function it(){nt.notify()}function ot(){lt.onStateChange&&lt.onStateChange()}function st(){return!!et}function at(){et||(et=tt?tt.addNestedSub(ot):_e.subscribe(ot),nt=createListenerCollection())}function ct(){et&&(et(),et=void 0,nt.clear(),nt=nullListeners)}const lt={addNestedSub:rt,notifyNestedSubs:it,handleChangeWrapper:ot,isSubscribed:st,trySubscribe:at,tryUnsubscribe:ct,getListeners:()=>nt};return lt}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function Provider({store:_e,context:tt,children:et,serverState:nt,stabilityCheck:rt="once",noopCheck:it="once"}){const ot=reactExports.useMemo(()=>{const ct=createSubscription(_e);return{store:_e,subscription:ct,getServerState:nt?()=>nt:void 0,stabilityCheck:rt,noopCheck:it}},[_e,nt,rt,it]),st=reactExports.useMemo(()=>_e.getState(),[_e]);useIsomorphicLayoutEffect(()=>{const{subscription:ct}=ot;return ct.onStateChange=ct.notifyNestedSubs,ct.trySubscribe(),st!==_e.getState()&&ct.notifyNestedSubs(),()=>{ct.tryUnsubscribe(),ct.onStateChange=void 0}},[ot,st]);const at=tt||ReactReduxContext;return React.createElement(at.Provider,{value:ot},et)}setBatch(reactDomExports.unstable_batchedUpdates);const index="";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(Provider,{store,children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})})}));
