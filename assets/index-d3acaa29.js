function _mergeNamespaces(_e,tt){for(var et=0;et<tt.length;et++){const nt=tt[et];if(typeof nt!="string"&&!Array.isArray(nt)){for(const rt in nt)if(rt!=="default"&&!(rt in _e)){const it=Object.getOwnPropertyDescriptor(nt,rt);it&&Object.defineProperty(_e,rt,it.get?it:{enumerable:!0,get:()=>nt[rt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const tt=document.createElement("link").relList;if(tt&&tt.supports&&tt.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))nt(rt);new MutationObserver(rt=>{for(const it of rt)if(it.type==="childList")for(const ot of it.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&nt(ot)}).observe(document,{childList:!0,subtree:!0});function et(rt){const it={};return rt.integrity&&(it.integrity=rt.integrity),rt.referrerPolicy&&(it.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?it.credentials="include":rt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(rt){if(rt.ep)return;rt.ep=!0;const it=et(rt);fetch(rt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var tt=_e.default;if(typeof tt=="function"){var et=function nt(){if(this instanceof nt){var rt=[null];rt.push.apply(rt,arguments);var it=Function.bind.apply(tt,rt);return new it}return tt.apply(this,arguments)};et.prototype=tt.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(_e).forEach(function(nt){var rt=Object.getOwnPropertyDescriptor(_e,nt);Object.defineProperty(et,nt,rt.get?rt:{enumerable:!0,get:function(){return _e[nt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$8=Symbol.for("react.element"),n$a=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$8=Symbol.for("react.profiler"),t$7=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$4&&_e[z$4]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$3(_e,tt,et){this.props=_e,this.context=tt,this.refs=D$3,this.updater=et||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(_e,tt){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,tt,"setState")};E$3.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$2(_e,tt,et){this.props=_e,this.context=tt,this.refs=D$3,this.updater=et||B$3}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$2(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(_e,tt,et){var nt,rt={},it=null,ot=null;if(tt!=null)for(nt in tt.ref!==void 0&&(ot=tt.ref),tt.key!==void 0&&(it=""+tt.key),tt)J.call(tt,nt)&&!L$3.hasOwnProperty(nt)&&(rt[nt]=tt[nt]);var st=arguments.length-2;if(st===1)rt.children=et;else if(1<st){for(var at=Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct+2];rt.children=at}if(_e&&_e.defaultProps)for(nt in st=_e.defaultProps,st)rt[nt]===void 0&&(rt[nt]=st[nt]);return{$$typeof:l$8,type:_e,key:it,ref:ot,props:rt,_owner:K$1.current}}function N$3(_e,tt){return{$$typeof:l$8,type:_e.type,key:tt,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$2(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$8}function escape$1(_e){var tt={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(et){return tt[et]})}var P$3=/\/+/g;function Q$2(_e,tt){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):tt.toString(36)}function R$3(_e,tt,et,nt,rt){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var ot=!1;if(_e===null)ot=!0;else switch(it){case"string":case"number":ot=!0;break;case"object":switch(_e.$$typeof){case l$8:case n$a:ot=!0}}if(ot)return ot=_e,rt=rt(ot),_e=nt===""?"."+Q$2(ot,0):nt,I$3(rt)?(et="",_e!=null&&(et=_e.replace(P$3,"$&/")+"/"),R$3(rt,tt,et,"",function(ct){return ct})):rt!=null&&(O$2(rt)&&(rt=N$3(rt,et+(!rt.key||ot&&ot.key===rt.key?"":(""+rt.key).replace(P$3,"$&/")+"/")+_e)),tt.push(rt)),1;if(ot=0,nt=nt===""?".":nt+":",I$3(_e))for(var st=0;st<_e.length;st++){it=_e[st];var at=nt+Q$2(it,st);ot+=R$3(it,tt,et,at,rt)}else if(at=A$4(_e),typeof at=="function")for(_e=at.call(_e),st=0;!(it=_e.next()).done;)it=it.value,at=nt+Q$2(it,st++),ot+=R$3(it,tt,et,at,rt);else if(it==="object")throw tt=String(_e),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$4(_e,tt,et){if(_e==null)return _e;var nt=[],rt=0;return R$3(_e,nt,"","",function(it){return tt.call(et,it,rt++)}),nt}function T$2(_e){if(_e._status===-1){var tt=_e._result;tt=tt(),tt.then(function(et){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=et)},function(et){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=et)}),_e._status===-1&&(_e._status=0,_e._result=tt)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};react_production_min.Children={map:S$4,forEach:function(_e,tt,et){S$4(_e,function(){tt.apply(this,arguments)},et)},count:function(_e){var tt=0;return S$4(_e,function(){tt++}),tt},toArray:function(_e){return S$4(_e,function(tt){return tt})||[]},only:function(_e){if(!O$2(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$3;react_production_min.Fragment=p$8;react_production_min.Profiler=r$8;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(_e,tt,et){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var nt=C$2({},_e.props),rt=_e.key,it=_e.ref,ot=_e._owner;if(tt!=null){if(tt.ref!==void 0&&(it=tt.ref,ot=K$1.current),tt.key!==void 0&&(rt=""+tt.key),_e.type&&_e.type.defaultProps)var st=_e.type.defaultProps;for(at in tt)J.call(tt,at)&&!L$3.hasOwnProperty(at)&&(nt[at]=tt[at]===void 0&&st!==void 0?st[at]:tt[at])}var at=arguments.length-2;if(at===1)nt.children=et;else if(1<at){st=Array(at);for(var ct=0;ct<at;ct++)st[ct]=arguments[ct+2];nt.children=st}return{$$typeof:l$8,type:_e.type,key:rt,ref:it,props:nt,_owner:ot}};react_production_min.createContext=function(_e){return _e={$$typeof:u$6,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$7,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$3;react_production_min.createFactory=function(_e){var tt=M$3.bind(null,_e);return tt.type=_e,tt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$6,render:_e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(_e){return{$$typeof:y$3,_payload:{_status:-1,_result:_e},_init:T$2}};react_production_min.memo=function(_e,tt){return{$$typeof:x$3,type:_e,compare:tt===void 0?null:tt}};react_production_min.startTransition=function(_e){var tt=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=tt}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,tt){return U$2.current.useCallback(_e,tt)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,tt){return U$2.current.useEffect(_e,tt)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,tt,et){return U$2.current.useImperativeHandle(_e,tt,et)};react_production_min.useInsertionEffect=function(_e,tt){return U$2.current.useInsertionEffect(_e,tt)};react_production_min.useLayoutEffect=function(_e,tt){return U$2.current.useLayoutEffect(_e,tt)};react_production_min.useMemo=function(_e,tt){return U$2.current.useMemo(_e,tt)};react_production_min.useReducer=function(_e,tt,et){return U$2.current.useReducer(_e,tt,et)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,tt,et){return U$2.current.useSyncExternalStore(_e,tt,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$5=Symbol.for("react.element"),l$7=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$9=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$5(_e,tt,et){var nt,rt={},it=null,ot=null;et!==void 0&&(it=""+et),tt.key!==void 0&&(it=""+tt.key),tt.ref!==void 0&&(ot=tt.ref);for(nt in tt)m$6.call(tt,nt)&&!p$7.hasOwnProperty(nt)&&(rt[nt]=tt[nt]);if(_e&&_e.defaultProps)for(nt in tt=_e.defaultProps,tt)rt[nt]===void 0&&(rt[nt]=tt[nt]);return{$$typeof:k$5,type:_e,key:it,ref:ot,props:rt,_owner:n$9.current}}reactJsxRuntime_production_min.Fragment=l$7;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};(function(_e){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function tt(cn,xn){var bn=cn.length;cn.push(xn);e:for(;0<bn;){var gn=bn-1>>>1,vn=cn[gn];if(0<rt(vn,xn))cn[gn]=xn,cn[bn]=vn,bn=gn;else break e}}function et(cn){return cn.length===0?null:cn[0]}function nt(cn){if(cn.length===0)return null;var xn=cn[0],bn=cn.pop();if(bn!==xn){cn[0]=bn;e:for(var gn=0,vn=cn.length,Wn=vn>>>1;gn<Wn;){var Un=2*(gn+1)-1,Sn=cn[Un],On=Un+1,Ln=cn[On];if(0>rt(Sn,bn))On<vn&&0>rt(Ln,Sn)?(cn[gn]=Ln,cn[On]=bn,gn=On):(cn[gn]=Sn,cn[Un]=bn,gn=Un);else if(On<vn&&0>rt(Ln,bn))cn[gn]=Ln,cn[On]=bn,gn=On;else break e}}return xn}function rt(cn,xn){var bn=cn.sortIndex-xn.sortIndex;return bn!==0?bn:cn.id-xn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var ot=Date,st=ot.now();_e.unstable_now=function(){return ot.now()-st}}var at=[],ct=[],lt=1,dt=null,ut=3,ft=!1,pt=!1,vt=!1,Ct=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(cn){for(var xn=et(ct);xn!==null;){if(xn.callback===null)nt(ct);else if(xn.startTime<=cn)nt(ct),xn.sortIndex=xn.expirationTime,tt(at,xn);else break;xn=et(ct)}}function Et(cn){if(vt=!1,yt(cn),!pt)if(et(at)!==null)pt=!0,mn(Rt);else{var xn=et(ct);xn!==null&&En(Et,xn.startTime-cn)}}function Rt(cn,xn){pt=!1,vt&&(vt=!1,ht(Nt),Nt=-1),ft=!0;var bn=ut;try{for(yt(xn),dt=et(at);dt!==null&&(!(dt.expirationTime>xn)||cn&&!Zt());){var gn=dt.callback;if(typeof gn=="function"){dt.callback=null,ut=dt.priorityLevel;var vn=gn(dt.expirationTime<=xn);xn=_e.unstable_now(),typeof vn=="function"?dt.callback=vn:dt===et(at)&&nt(at),yt(xn)}else nt(at);dt=et(at)}if(dt!==null)var Wn=!0;else{var Un=et(ct);Un!==null&&En(Et,Un.startTime-xn),Wn=!1}return Wn}finally{dt=null,ut=bn,ft=!1}}var Pt=!1,Vt=null,Nt=-1,kt=5,wt=-1;function Zt(){return!(_e.unstable_now()-wt<kt)}function qt(){if(Vt!==null){var cn=_e.unstable_now();wt=cn;var xn=!0;try{xn=Vt(!0,cn)}finally{xn?zt():(Pt=!1,Vt=null)}}else Pt=!1}var zt;if(typeof mt=="function")zt=function(){mt(qt)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,sn=Bt.port2;Bt.port1.onmessage=qt,zt=function(){sn.postMessage(null)}}else zt=function(){Ct(qt,0)};function mn(cn){Vt=cn,Pt||(Pt=!0,zt())}function En(cn,xn){Nt=Ct(function(){cn(_e.unstable_now())},xn)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(cn){cn.callback=null},_e.unstable_continueExecution=function(){pt||ft||(pt=!0,mn(Rt))},_e.unstable_forceFrameRate=function(cn){0>cn||125<cn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kt=0<cn?Math.floor(1e3/cn):5},_e.unstable_getCurrentPriorityLevel=function(){return ut},_e.unstable_getFirstCallbackNode=function(){return et(at)},_e.unstable_next=function(cn){switch(ut){case 1:case 2:case 3:var xn=3;break;default:xn=ut}var bn=ut;ut=xn;try{return cn()}finally{ut=bn}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(cn,xn){switch(cn){case 1:case 2:case 3:case 4:case 5:break;default:cn=3}var bn=ut;ut=cn;try{return xn()}finally{ut=bn}},_e.unstable_scheduleCallback=function(cn,xn,bn){var gn=_e.unstable_now();switch(typeof bn=="object"&&bn!==null?(bn=bn.delay,bn=typeof bn=="number"&&0<bn?gn+bn:gn):bn=gn,cn){case 1:var vn=-1;break;case 2:vn=250;break;case 5:vn=1073741823;break;case 4:vn=1e4;break;default:vn=5e3}return vn=bn+vn,cn={id:lt++,callback:xn,priorityLevel:cn,startTime:bn,expirationTime:vn,sortIndex:-1},bn>gn?(cn.sortIndex=bn,tt(ct,cn),et(at)===null&&cn===et(ct)&&(vt?(ht(Nt),Nt=-1):vt=!0,En(Et,bn-gn))):(cn.sortIndex=vn,tt(at,cn),pt||ft||(pt=!0,mn(Rt))),cn},_e.unstable_shouldYield=Zt,_e.unstable_wrapCallback=function(cn){var xn=ut;return function(){var bn=ut;ut=xn;try{return cn.apply(this,arguments)}finally{ut=bn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$6(_e){for(var tt="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)tt+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+tt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,tt){ha(_e,tt),ha(_e+"Capture",tt)}function ha(_e,tt){for(ea[_e]=tt,_e=0;_e<tt.length;_e++)da.add(tt[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,tt,et,nt){if(et!==null&&et.type===0)return!1;switch(typeof tt){case"function":case"symbol":return!0;case"boolean":return nt?!1:et!==null?!et.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,tt,et,nt){if(tt===null||typeof tt>"u"||pa(_e,tt,et,nt))return!0;if(nt)return!1;if(et!==null)switch(et.type){case 3:return!tt;case 4:return tt===!1;case 5:return isNaN(tt);case 6:return isNaN(tt)||1>tt}return!1}function v$5(_e,tt,et,nt,rt,it,ot){this.acceptsBooleans=tt===2||tt===3||tt===4,this.attributeName=nt,this.attributeNamespace=rt,this.mustUseProperty=et,this.propertyName=_e,this.type=tt,this.sanitizeURL=it,this.removeEmptyString=ot}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$3[_e]=new v$5(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var tt=_e[0];z$3[tt]=new v$5(tt,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$3[_e]=new v$5(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$3[_e]=new v$5(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$3[_e]=new v$5(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$3[_e]=new v$5(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$3[_e]=new v$5(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$3[_e]=new v$5(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$3[_e]=new v$5(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var tt=_e.replace(ra,sa);z$3[tt]=new v$5(tt,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var tt=_e.replace(ra,sa);z$3[tt]=new v$5(tt,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var tt=_e.replace(ra,sa);z$3[tt]=new v$5(tt,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$3[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$3[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,tt,et,nt){var rt=z$3.hasOwnProperty(tt)?z$3[tt]:null;(rt!==null?rt.type!==0:nt||!(2<tt.length)||tt[0]!=="o"&&tt[0]!=="O"||tt[1]!=="n"&&tt[1]!=="N")&&(qa(tt,et,rt,nt)&&(et=null),nt||rt===null?oa(tt)&&(et===null?_e.removeAttribute(tt):_e.setAttribute(tt,""+et)):rt.mustUseProperty?_e[rt.propertyName]=et===null?rt.type===3?!1:"":et:(tt=rt.attributeName,nt=rt.attributeNamespace,et===null?_e.removeAttribute(tt):(rt=rt.type,et=rt===3||rt===4&&et===!0?"":""+et,nt?_e.setAttributeNS(nt,tt,et):_e.setAttribute(tt,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(et){var tt=et.stack.trim().match(/\n( *(at )?)/);La=tt&&tt[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,tt){if(!_e||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(tt)if(tt=function(){throw Error()},Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(ct){var nt=ct}Reflect.construct(_e,[],tt)}else{try{tt.call()}catch(ct){nt=ct}_e.call(tt.prototype)}else{try{throw Error()}catch(ct){nt=ct}_e()}}catch(ct){if(ct&&nt&&typeof ct.stack=="string"){for(var rt=ct.stack.split(`
`),it=nt.stack.split(`
`),ot=rt.length-1,st=it.length-1;1<=ot&&0<=st&&rt[ot]!==it[st];)st--;for(;1<=ot&&0<=st;ot--,st--)if(rt[ot]!==it[st]){if(ot!==1||st!==1)do if(ot--,st--,0>st||rt[ot]!==it[st]){var at=`
`+rt[ot].replace(" at new "," at ");return _e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",_e.displayName)),at}while(1<=ot&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var tt=_e.render;return _e=_e.displayName,_e||(_e=tt.displayName||tt.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return tt=_e.displayName||null,tt!==null?tt:Qa(_e.type)||"Memo";case Ha:tt=_e._payload,_e=_e._init;try{return Qa(_e(tt))}catch{}}return null}function Ra(_e){var tt=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(tt.displayName||"Context")+".Consumer";case 10:return(tt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=tt.render,_e=_e.displayName||_e.name||"",tt.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return tt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(tt);case 8:return tt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var tt=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(tt==="checkbox"||tt==="radio")}function Ua(_e){var tt=Ta(_e)?"checked":"value",et=Object.getOwnPropertyDescriptor(_e.constructor.prototype,tt),nt=""+_e[tt];if(!_e.hasOwnProperty(tt)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var rt=et.get,it=et.set;return Object.defineProperty(_e,tt,{configurable:!0,get:function(){return rt.call(this)},set:function(ot){nt=""+ot,it.call(this,ot)}}),Object.defineProperty(_e,tt,{enumerable:et.enumerable}),{getValue:function(){return nt},setValue:function(ot){nt=""+ot},stopTracking:function(){_e._valueTracker=null,delete _e[tt]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var tt=_e._valueTracker;if(!tt)return!0;var et=tt.getValue(),nt="";return _e&&(nt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=nt,_e!==et?(tt.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,tt){var et=tt.checked;return A$3({},tt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??_e._wrapperState.initialChecked})}function Za(_e,tt){var et=tt.defaultValue==null?"":tt.defaultValue,nt=tt.checked!=null?tt.checked:tt.defaultChecked;et=Sa(tt.value!=null?tt.value:et),_e._wrapperState={initialChecked:nt,initialValue:et,controlled:tt.type==="checkbox"||tt.type==="radio"?tt.checked!=null:tt.value!=null}}function ab(_e,tt){tt=tt.checked,tt!=null&&ta(_e,"checked",tt,!1)}function bb(_e,tt){ab(_e,tt);var et=Sa(tt.value),nt=tt.type;if(et!=null)nt==="number"?(et===0&&_e.value===""||_e.value!=et)&&(_e.value=""+et):_e.value!==""+et&&(_e.value=""+et);else if(nt==="submit"||nt==="reset"){_e.removeAttribute("value");return}tt.hasOwnProperty("value")?cb(_e,tt.type,et):tt.hasOwnProperty("defaultValue")&&cb(_e,tt.type,Sa(tt.defaultValue)),tt.checked==null&&tt.defaultChecked!=null&&(_e.defaultChecked=!!tt.defaultChecked)}function db(_e,tt,et){if(tt.hasOwnProperty("value")||tt.hasOwnProperty("defaultValue")){var nt=tt.type;if(!(nt!=="submit"&&nt!=="reset"||tt.value!==void 0&&tt.value!==null))return;tt=""+_e._wrapperState.initialValue,et||tt===_e.value||(_e.value=tt),_e.defaultValue=tt}et=_e.name,et!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,et!==""&&(_e.name=et)}function cb(_e,tt,et){(tt!=="number"||Xa(_e.ownerDocument)!==_e)&&(et==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+et&&(_e.defaultValue=""+et))}var eb=Array.isArray;function fb(_e,tt,et,nt){if(_e=_e.options,tt){tt={};for(var rt=0;rt<et.length;rt++)tt["$"+et[rt]]=!0;for(et=0;et<_e.length;et++)rt=tt.hasOwnProperty("$"+_e[et].value),_e[et].selected!==rt&&(_e[et].selected=rt),rt&&nt&&(_e[et].defaultSelected=!0)}else{for(et=""+Sa(et),tt=null,rt=0;rt<_e.length;rt++){if(_e[rt].value===et){_e[rt].selected=!0,nt&&(_e[rt].defaultSelected=!0);return}tt!==null||_e[rt].disabled||(tt=_e[rt])}tt!==null&&(tt.selected=!0)}}function gb(_e,tt){if(tt.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$3({},tt,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,tt){var et=tt.value;if(et==null){if(et=tt.children,tt=tt.defaultValue,et!=null){if(tt!=null)throw Error(p$6(92));if(eb(et)){if(1<et.length)throw Error(p$6(93));et=et[0]}tt=et}tt==null&&(tt=""),et=tt}_e._wrapperState={initialValue:Sa(et)}}function ib(_e,tt){var et=Sa(tt.value),nt=Sa(tt.defaultValue);et!=null&&(et=""+et,et!==_e.value&&(_e.value=et),tt.defaultValue==null&&_e.defaultValue!==et&&(_e.defaultValue=et)),nt!=null&&(_e.defaultValue=""+nt)}function jb(_e){var tt=_e.textContent;tt===_e._wrapperState.initialValue&&tt!==""&&tt!==null&&(_e.value=tt)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,tt){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(tt):_e==="http://www.w3.org/2000/svg"&&tt==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(tt,et,nt,rt){MSApp.execUnsafeLocalFunction(function(){return _e(tt,et,nt,rt)})}:_e}(function(_e,tt){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=tt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+tt.valueOf().toString()+"</svg>",tt=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;tt.firstChild;)_e.appendChild(tt.firstChild)}});function ob(_e,tt){if(tt){var et=_e.firstChild;if(et&&et===_e.lastChild&&et.nodeType===3){et.nodeValue=tt;return}}_e.textContent=tt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(tt){tt=tt+_e.charAt(0).toUpperCase()+_e.substring(1),pb[tt]=pb[_e]})});function rb(_e,tt,et){return tt==null||typeof tt=="boolean"||tt===""?"":et||typeof tt!="number"||tt===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+tt).trim():tt+"px"}function sb(_e,tt){_e=_e.style;for(var et in tt)if(tt.hasOwnProperty(et)){var nt=et.indexOf("--")===0,rt=rb(et,tt[et],nt);et==="float"&&(et="cssFloat"),nt?_e.setProperty(et,rt):_e[et]=rt}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,tt){if(tt){if(tb[_e]&&(tt.children!=null||tt.dangerouslySetInnerHTML!=null))throw Error(p$6(137,_e));if(tt.dangerouslySetInnerHTML!=null){if(tt.children!=null)throw Error(p$6(60));if(typeof tt.dangerouslySetInnerHTML!="object"||!("__html"in tt.dangerouslySetInnerHTML))throw Error(p$6(61))}if(tt.style!=null&&typeof tt.style!="object")throw Error(p$6(62))}}function vb(_e,tt){if(_e.indexOf("-")===-1)return typeof tt.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$6(280));var tt=_e.stateNode;tt&&(tt=Db(tt),yb(_e.stateNode,_e.type,tt))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,tt=Ab;if(Ab=zb=null,Bb(_e),tt)for(_e=0;_e<tt.length;_e++)Bb(tt[_e])}}function Gb(_e,tt){return _e(tt)}function Hb(){}var Ib=!1;function Jb(_e,tt,et){if(Ib)return _e(tt,et);Ib=!0;try{return Gb(_e,tt,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,tt){var et=_e.stateNode;if(et===null)return null;var nt=Db(et);if(nt===null)return null;et=nt[tt];e:switch(tt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(_e=_e.type,nt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!nt;break e;default:_e=!1}if(_e)return null;if(et&&typeof et!="function")throw Error(p$6(231,tt,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,tt,et,nt,rt,it,ot,st,at){var ct=Array.prototype.slice.call(arguments,3);try{tt.apply(et,ct)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,tt,et,nt,rt,it,ot,st,at){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,tt,et,nt,rt,it,ot,st,at){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=ct)}}function Vb(_e){var tt=_e,et=_e;if(_e.alternate)for(;tt.return;)tt=tt.return;else{_e=tt;do tt=_e,tt.flags&4098&&(et=tt.return),_e=tt.return;while(_e)}return tt.tag===3?et:null}function Wb(_e){if(_e.tag===13){var tt=_e.memoizedState;if(tt===null&&(_e=_e.alternate,_e!==null&&(tt=_e.memoizedState)),tt!==null)return tt.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$6(188))}function Yb(_e){var tt=_e.alternate;if(!tt){if(tt=Vb(_e),tt===null)throw Error(p$6(188));return tt!==_e?null:_e}for(var et=_e,nt=tt;;){var rt=et.return;if(rt===null)break;var it=rt.alternate;if(it===null){if(nt=rt.return,nt!==null){et=nt;continue}break}if(rt.child===it.child){for(it=rt.child;it;){if(it===et)return Xb(rt),_e;if(it===nt)return Xb(rt),tt;it=it.sibling}throw Error(p$6(188))}if(et.return!==nt.return)et=rt,nt=it;else{for(var ot=!1,st=rt.child;st;){if(st===et){ot=!0,et=rt,nt=it;break}if(st===nt){ot=!0,nt=rt,et=it;break}st=st.sibling}if(!ot){for(st=it.child;st;){if(st===et){ot=!0,et=it,nt=rt;break}if(st===nt){ot=!0,nt=it,et=rt;break}st=st.sibling}if(!ot)throw Error(p$6(189))}}if(et.alternate!==nt)throw Error(p$6(190))}if(et.tag!==3)throw Error(p$6(188));return et.stateNode.current===et?_e:tt}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var tt=$b(_e);if(tt!==null)return tt;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,tt){var et=_e.pendingLanes;if(et===0)return 0;var nt=0,rt=_e.suspendedLanes,it=_e.pingedLanes,ot=et&268435455;if(ot!==0){var st=ot&~rt;st!==0?nt=tc(st):(it&=ot,it!==0&&(nt=tc(it)))}else ot=et&~rt,ot!==0?nt=tc(ot):it!==0&&(nt=tc(it));if(nt===0)return 0;if(tt!==0&&tt!==nt&&!(tt&rt)&&(rt=nt&-nt,it=tt&-tt,rt>=it||rt===16&&(it&4194240)!==0))return tt;if(nt&4&&(nt|=et&16),tt=_e.entangledLanes,tt!==0)for(_e=_e.entanglements,tt&=nt;0<tt;)et=31-oc(tt),rt=1<<et,nt|=_e[et],tt&=~rt;return nt}function vc(_e,tt){switch(_e){case 1:case 2:case 4:return tt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,tt){for(var et=_e.suspendedLanes,nt=_e.pingedLanes,rt=_e.expirationTimes,it=_e.pendingLanes;0<it;){var ot=31-oc(it),st=1<<ot,at=rt[ot];at===-1?(!(st&et)||st&nt)&&(rt[ot]=vc(st,tt)):at<=tt&&(_e.expiredLanes|=st),it&=~st}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var tt=[],et=0;31>et;et++)tt.push(_e);return tt}function Ac(_e,tt,et){_e.pendingLanes|=tt,tt!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,tt=31-oc(tt),_e[tt]=et}function Bc(_e,tt){var et=_e.pendingLanes&~tt;_e.pendingLanes=tt,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=tt,_e.mutableReadLanes&=tt,_e.entangledLanes&=tt,tt=_e.entanglements;var nt=_e.eventTimes;for(_e=_e.expirationTimes;0<et;){var rt=31-oc(et),it=1<<rt;tt[rt]=0,nt[rt]=-1,_e[rt]=-1,et&=~it}}function Cc(_e,tt){var et=_e.entangledLanes|=tt;for(_e=_e.entanglements;et;){var nt=31-oc(et),rt=1<<nt;rt&tt|_e[nt]&tt&&(_e[nt]|=tt),et&=~rt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,tt){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(tt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(tt.pointerId)}}function Tc(_e,tt,et,nt,rt,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:tt,domEventName:et,eventSystemFlags:nt,nativeEvent:it,targetContainers:[rt]},tt!==null&&(tt=Cb(tt),tt!==null&&Fc(tt)),_e):(_e.eventSystemFlags|=nt,tt=_e.targetContainers,rt!==null&&tt.indexOf(rt)===-1&&tt.push(rt),_e)}function Uc(_e,tt,et,nt,rt){switch(tt){case"focusin":return Lc=Tc(Lc,_e,tt,et,nt,rt),!0;case"dragenter":return Mc=Tc(Mc,_e,tt,et,nt,rt),!0;case"mouseover":return Nc=Tc(Nc,_e,tt,et,nt,rt),!0;case"pointerover":var it=rt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,tt,et,nt,rt)),!0;case"gotpointercapture":return it=rt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,tt,et,nt,rt)),!0}return!1}function Vc(_e){var tt=Wc(_e.target);if(tt!==null){var et=Vb(tt);if(et!==null){if(tt=et.tag,tt===13){if(tt=Wb(et),tt!==null){_e.blockedOn=tt,Ic(_e.priority,function(){Gc(et)});return}}else if(tt===3&&et.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var tt=_e.targetContainers;0<tt.length;){var et=Yc(_e.domEventName,_e.eventSystemFlags,tt[0],_e.nativeEvent);if(et===null){et=_e.nativeEvent;var nt=new et.constructor(et.type,et);wb=nt,et.target.dispatchEvent(nt),wb=null}else return tt=Cb(et),tt!==null&&Fc(tt),_e.blockedOn=et,!1;tt.shift()}return!0}function Zc(_e,tt,et){Xc(_e)&&et.delete(tt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,tt){_e.blockedOn===tt&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function tt(rt){return ad(rt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var et=1;et<Kc.length;et++){var nt=Kc[et];nt.blockedOn===_e&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(tt),Pc.forEach(tt),et=0;et<Qc.length;et++)nt=Qc[et],nt.blockedOn===_e&&(nt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,tt,et,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(_e,tt,et,nt)}finally{C$1=rt,cd.transition=it}}function gd(_e,tt,et,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(_e,tt,et,nt)}finally{C$1=rt,cd.transition=it}}function fd(_e,tt,et,nt){if(dd){var rt=Yc(_e,tt,et,nt);if(rt===null)hd(_e,tt,nt,id,et),Sc(_e,nt);else if(Uc(rt,_e,tt,et,nt))nt.stopPropagation();else if(Sc(_e,nt),tt&4&&-1<Rc.indexOf(_e)){for(;rt!==null;){var it=Cb(rt);if(it!==null&&Ec(it),it=Yc(_e,tt,et,nt),it===null&&hd(_e,tt,nt,id,et),it===rt)break;rt=it}rt!==null&&nt.stopPropagation()}else hd(_e,tt,nt,null,et)}}var id=null;function Yc(_e,tt,et,nt){if(id=null,_e=xb(nt),_e=Wc(_e),_e!==null)if(tt=Vb(_e),tt===null)_e=null;else if(et=tt.tag,et===13){if(_e=Wb(tt),_e!==null)return _e;_e=null}else if(et===3){if(tt.stateNode.current.memoizedState.isDehydrated)return tt.tag===3?tt.stateNode.containerInfo:null;_e=null}else tt!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,tt=ld,et=tt.length,nt,rt="value"in kd?kd.value:kd.textContent,it=rt.length;for(_e=0;_e<et&&tt[_e]===rt[_e];_e++);var ot=et-_e;for(nt=1;nt<=ot&&tt[et-nt]===rt[it-nt];nt++);return md=rt.slice(_e,1<nt?1-nt:void 0)}function od(_e){var tt=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&tt===13&&(_e=13)):_e=tt,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function tt(et,nt,rt,it,ot){this._reactName=et,this._targetInst=rt,this.type=nt,this.nativeEvent=it,this.target=ot,this.currentTarget=null;for(var st in _e)_e.hasOwnProperty(st)&&(et=_e[st],this[st]=et?et(it):it[st]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(tt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),tt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var tt=this.nativeEvent;return tt.getModifierState?tt.getModifierState(_e):(_e=Od[_e])?!!tt[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var tt=Md[_e.key]||_e.key;if(tt!=="Unidentified")return tt}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(_e,tt){switch(_e){case"keyup":return $d.indexOf(tt.keyCode)!==-1;case"keydown":return tt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,tt){switch(_e){case"compositionend":return he(tt);case"keypress":return tt.which!==32?null:(fe=!0,ee);case"textInput":return _e=tt.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,tt){if(ie)return _e==="compositionend"||!ae&&ge(_e,tt)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(tt.ctrlKey||tt.altKey||tt.metaKey)||tt.ctrlKey&&tt.altKey){if(tt.char&&1<tt.char.length)return tt.char;if(tt.which)return String.fromCharCode(tt.which)}return null;case"compositionend":return de&&tt.locale!=="ko"?null:tt.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var tt=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return tt==="input"?!!le[_e.type]:tt==="textarea"}function ne(_e,tt,et,nt){Eb(nt),tt=oe(tt,"onChange"),0<tt.length&&(et=new td("onChange","change",null,et,nt),_e.push({event:et,listeners:tt}))}var pe=null,qe=null;function re(_e){se(_e,0)}function te(_e){var tt=ue(_e);if(Wa(tt))return _e}function ve(_e,tt){if(_e==="change")return tt}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var tt=[];ne(tt,qe,_e,xb(_e)),Jb(re,tt)}}function Ce(_e,tt,et){_e==="focusin"?(Ae(),pe=tt,qe=et,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,tt){if(_e==="click")return te(tt)}function Fe(_e,tt){if(_e==="input"||_e==="change")return te(tt)}function Ge(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,tt){if(He(_e,tt))return!0;if(typeof _e!="object"||_e===null||typeof tt!="object"||tt===null)return!1;var et=Object.keys(_e),nt=Object.keys(tt);if(et.length!==nt.length)return!1;for(nt=0;nt<et.length;nt++){var rt=et[nt];if(!ja.call(tt,rt)||!He(_e[rt],tt[rt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,tt){var et=Je(_e);_e=0;for(var nt;et;){if(et.nodeType===3){if(nt=_e+et.textContent.length,_e<=tt&&nt>=tt)return{node:et,offset:tt-_e};_e=nt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(_e,tt){return _e&&tt?_e===tt?!0:_e&&_e.nodeType===3?!1:tt&&tt.nodeType===3?Le(_e,tt.parentNode):"contains"in _e?_e.contains(tt):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(tt)&16):!1:!1}function Me(){for(var _e=window,tt=Xa();tt instanceof _e.HTMLIFrameElement;){try{var et=typeof tt.contentWindow.location.href=="string"}catch{et=!1}if(et)_e=tt.contentWindow;else break;tt=Xa(_e.document)}return tt}function Ne(_e){var tt=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return tt&&(tt==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||tt==="textarea"||_e.contentEditable==="true")}function Oe(_e){var tt=Me(),et=_e.focusedElem,nt=_e.selectionRange;if(tt!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(nt!==null&&Ne(et)){if(tt=nt.start,_e=nt.end,_e===void 0&&(_e=tt),"selectionStart"in et)et.selectionStart=tt,et.selectionEnd=Math.min(_e,et.value.length);else if(_e=(tt=et.ownerDocument||document)&&tt.defaultView||window,_e.getSelection){_e=_e.getSelection();var rt=et.textContent.length,it=Math.min(nt.start,rt);nt=nt.end===void 0?it:Math.min(nt.end,rt),!_e.extend&&it>nt&&(rt=nt,nt=it,it=rt),rt=Ke(et,it);var ot=Ke(et,nt);rt&&ot&&(_e.rangeCount!==1||_e.anchorNode!==rt.node||_e.anchorOffset!==rt.offset||_e.focusNode!==ot.node||_e.focusOffset!==ot.offset)&&(tt=tt.createRange(),tt.setStart(rt.node,rt.offset),_e.removeAllRanges(),it>nt?(_e.addRange(tt),_e.extend(ot.node,ot.offset)):(tt.setEnd(ot.node,ot.offset),_e.addRange(tt)))}}for(tt=[],_e=et;_e=_e.parentNode;)_e.nodeType===1&&tt.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<tt.length;et++)_e=tt[et],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,tt,et){var nt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se&&Ie(Se,nt)||(Se=nt,nt=oe(Re,"onSelect"),0<nt.length&&(tt=new td("onSelect","select",null,tt,et),_e.push({event:tt,listeners:nt}),tt.target=Qe)))}function Ve(_e,tt){var et={};return et[_e.toLowerCase()]=tt.toLowerCase(),et["Webkit"+_e]="webkit"+tt,et["Moz"+_e]="moz"+tt,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var tt=We[_e],et;for(et in tt)if(tt.hasOwnProperty(et)&&et in Ye)return Xe[_e]=tt[et];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,tt){df.set(_e,tt),fa(tt,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,tt,et){var nt=_e.type||"unknown-event";_e.currentTarget=et,Ub(nt,tt,void 0,_e),_e.currentTarget=null}function se(_e,tt){tt=(tt&4)!==0;for(var et=0;et<_e.length;et++){var nt=_e[et],rt=nt.event;nt=nt.listeners;e:{var it=void 0;if(tt)for(var ot=nt.length-1;0<=ot;ot--){var st=nt[ot],at=st.instance,ct=st.currentTarget;if(st=st.listener,at!==it&&rt.isPropagationStopped())break e;nf(rt,st,ct),it=at}else for(ot=0;ot<nt.length;ot++){if(st=nt[ot],at=st.instance,ct=st.currentTarget,st=st.listener,at!==it&&rt.isPropagationStopped())break e;nf(rt,st,ct),it=at}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$2(_e,tt){var et=tt[of];et===void 0&&(et=tt[of]=new Set);var nt=_e+"__bubble";et.has(nt)||(pf(tt,_e,2,!1),et.add(nt))}function qf(_e,tt,et){var nt=0;tt&&(nt|=4),pf(et,_e,nt,tt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,_e),qf(et,!0,_e))});var tt=_e.nodeType===9?_e:_e.ownerDocument;tt===null||tt[rf]||(tt[rf]=!0,qf("selectionchange",!1,tt))}}function pf(_e,tt,et,nt){switch(jd(tt)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}et=rt.bind(null,tt,et,_e),rt=void 0,!Lb||tt!=="touchstart"&&tt!=="touchmove"&&tt!=="wheel"||(rt=!0),nt?rt!==void 0?_e.addEventListener(tt,et,{capture:!0,passive:rt}):_e.addEventListener(tt,et,!0):rt!==void 0?_e.addEventListener(tt,et,{passive:rt}):_e.addEventListener(tt,et,!1)}function hd(_e,tt,et,nt,rt){var it=nt;if(!(tt&1)&&!(tt&2)&&nt!==null)e:for(;;){if(nt===null)return;var ot=nt.tag;if(ot===3||ot===4){var st=nt.stateNode.containerInfo;if(st===rt||st.nodeType===8&&st.parentNode===rt)break;if(ot===4)for(ot=nt.return;ot!==null;){var at=ot.tag;if((at===3||at===4)&&(at=ot.stateNode.containerInfo,at===rt||at.nodeType===8&&at.parentNode===rt))return;ot=ot.return}for(;st!==null;){if(ot=Wc(st),ot===null)return;if(at=ot.tag,at===5||at===6){nt=it=ot;continue e}st=st.parentNode}}nt=nt.return}Jb(function(){var ct=it,lt=xb(et),dt=[];e:{var ut=df.get(_e);if(ut!==void 0){var ft=td,pt=_e;switch(_e){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":pt="focus",ft=Fd;break;case"focusout":pt="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var vt=(tt&4)!==0,Ct=!vt&&_e==="scroll",ht=vt?ut!==null?ut+"Capture":null:ut;vt=[];for(var mt=ct,yt;mt!==null;){yt=mt;var Et=yt.stateNode;if(yt.tag===5&&Et!==null&&(yt=Et,ht!==null&&(Et=Kb(mt,ht),Et!=null&&vt.push(tf(mt,Et,yt)))),Ct)break;mt=mt.return}0<vt.length&&(ut=new ft(ut,pt,null,et,lt),dt.push({event:ut,listeners:vt}))}}if(!(tt&7)){e:{if(ut=_e==="mouseover"||_e==="pointerover",ft=_e==="mouseout"||_e==="pointerout",ut&&et!==wb&&(pt=et.relatedTarget||et.fromElement)&&(Wc(pt)||pt[uf]))break e;if((ft||ut)&&(ut=lt.window===lt?lt:(ut=lt.ownerDocument)?ut.defaultView||ut.parentWindow:window,ft?(pt=et.relatedTarget||et.toElement,ft=ct,pt=pt?Wc(pt):null,pt!==null&&(Ct=Vb(pt),pt!==Ct||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(ft=null,pt=ct),ft!==pt)){if(vt=Bd,Et="onMouseLeave",ht="onMouseEnter",mt="mouse",(_e==="pointerout"||_e==="pointerover")&&(vt=Td,Et="onPointerLeave",ht="onPointerEnter",mt="pointer"),Ct=ft==null?ut:ue(ft),yt=pt==null?ut:ue(pt),ut=new vt(Et,mt+"leave",ft,et,lt),ut.target=Ct,ut.relatedTarget=yt,Et=null,Wc(lt)===ct&&(vt=new vt(ht,mt+"enter",pt,et,lt),vt.target=yt,vt.relatedTarget=Ct,Et=vt),Ct=Et,ft&&pt)t:{for(vt=ft,ht=pt,mt=0,yt=vt;yt;yt=vf(yt))mt++;for(yt=0,Et=ht;Et;Et=vf(Et))yt++;for(;0<mt-yt;)vt=vf(vt),mt--;for(;0<yt-mt;)ht=vf(ht),yt--;for(;mt--;){if(vt===ht||ht!==null&&vt===ht.alternate)break t;vt=vf(vt),ht=vf(ht)}vt=null}else vt=null;ft!==null&&wf(dt,ut,ft,vt,!1),pt!==null&&Ct!==null&&wf(dt,Ct,pt,vt,!0)}}e:{if(ut=ct?ue(ct):window,ft=ut.nodeName&&ut.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ut.type==="file")var Rt=ve;else if(me(ut))if(we)Rt=Fe;else{Rt=De;var Pt=Ce}else(ft=ut.nodeName)&&ft.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(Rt=Ee);if(Rt&&(Rt=Rt(_e,ct))){ne(dt,Rt,et,lt);break e}Pt&&Pt(_e,ut,ct),_e==="focusout"&&(Pt=ut._wrapperState)&&Pt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(Pt=ct?ue(ct):window,_e){case"focusin":(me(Pt)||Pt.contentEditable==="true")&&(Qe=Pt,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(dt,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,et,lt)}var Vt;if(ae)e:{switch(_e){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else ie?ge(_e,et)&&(Nt="onCompositionEnd"):_e==="keydown"&&et.keyCode===229&&(Nt="onCompositionStart");Nt&&(de&&et.locale!=="ko"&&(ie||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ie&&(Vt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Pt=oe(ct,Nt),0<Pt.length&&(Nt=new Ld(Nt,_e,null,et,lt),dt.push({event:Nt,listeners:Pt}),Vt?Nt.data=Vt:(Vt=he(et),Vt!==null&&(Nt.data=Vt)))),(Vt=ce?je(_e,et):ke(_e,et))&&(ct=oe(ct,"onBeforeInput"),0<ct.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),dt.push({event:lt,listeners:ct}),lt.data=Vt))}se(dt,tt)})}function tf(_e,tt,et){return{instance:_e,listener:tt,currentTarget:et}}function oe(_e,tt){for(var et=tt+"Capture",nt=[];_e!==null;){var rt=_e,it=rt.stateNode;rt.tag===5&&it!==null&&(rt=it,it=Kb(_e,et),it!=null&&nt.unshift(tf(_e,it,rt)),it=Kb(_e,tt),it!=null&&nt.push(tf(_e,it,rt))),_e=_e.return}return nt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,tt,et,nt,rt){for(var it=tt._reactName,ot=[];et!==null&&et!==nt;){var st=et,at=st.alternate,ct=st.stateNode;if(at!==null&&at===nt)break;st.tag===5&&ct!==null&&(st=ct,rt?(at=Kb(et,it),at!=null&&ot.unshift(tf(et,at,st))):rt||(at=Kb(et,it),at!=null&&ot.push(tf(et,at,st)))),et=et.return}ot.length!==0&&_e.push({event:tt,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,tt,et){if(tt=zf(tt),zf(_e)!==tt&&et)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,tt){return _e==="textarea"||_e==="noscript"||typeof tt.children=="string"||typeof tt.children=="number"||typeof tt.dangerouslySetInnerHTML=="object"&&tt.dangerouslySetInnerHTML!==null&&tt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,tt){var et=tt,nt=0;do{var rt=et.nextSibling;if(_e.removeChild(et),rt&&rt.nodeType===8)if(et=rt.data,et==="/$"){if(nt===0){_e.removeChild(rt),bd(tt);return}nt--}else et!=="$"&&et!=="$?"&&et!=="$!"||nt++;et=rt}while(et);bd(tt)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var tt=_e.nodeType;if(tt===1||tt===3)break;if(tt===8){if(tt=_e.data,tt==="$"||tt==="$!"||tt==="$?")break;if(tt==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var tt=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="$"||et==="$!"||et==="$?"){if(tt===0)return _e;tt--}else et==="/$"&&tt++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var tt=_e[Of];if(tt)return tt;for(var et=_e.parentNode;et;){if(tt=et[uf]||et[Of]){if(et=tt.alternate,tt.child!==null||et!==null&&et.child!==null)for(_e=Mf(_e);_e!==null;){if(et=_e[Of])return et;_e=Mf(_e)}return tt}_e=et,et=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$6(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$2(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,tt){Tf++,Sf[Tf]=_e.current,_e.current=tt}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,tt){var et=_e.type.contextTypes;if(!et)return Vf;var nt=_e.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===tt)return nt.__reactInternalMemoizedMaskedChildContext;var rt={},it;for(it in et)rt[it]=tt[it];return nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=tt,_e.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(_e,tt,et){if(H$2.current!==Vf)throw Error(p$6(168));G$1(H$2,tt),G$1(Wf,et)}function bg(_e,tt,et){var nt=_e.stateNode;if(tt=tt.childContextTypes,typeof nt.getChildContext!="function")return et;nt=nt.getChildContext();for(var rt in nt)if(!(rt in tt))throw Error(p$6(108,Ra(_e)||"Unknown",rt));return A$3({},et,nt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,_e),G$1(Wf,Wf.current),!0}function dg(_e,tt,et){var nt=_e.stateNode;if(!nt)throw Error(p$6(169));et?(_e=bg(_e,tt,Xf),nt.__reactInternalMemoizedMergedChildContext=_e,E$2(Wf),E$2(H$2),G$1(H$2,_e)):E$2(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,tt=C$1;try{var et=eg;for(C$1=1;_e<et.length;_e++){var nt=et[_e];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),rt}finally{C$1=tt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,tt){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=tt}function ug(_e,tt,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var nt=rg;_e=sg;var rt=32-oc(nt)-1;nt&=~(1<<rt),et+=1;var it=32-oc(tt)+rt;if(30<it){var ot=rt-rt%5;it=(nt&(1<<ot)-1).toString(32),nt>>=ot,rt-=ot,rg=1<<32-oc(tt)+rt|et<<rt|nt,sg=it+_e}else rg=1<<it|et<<rt|nt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(_e,tt){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=tt,et.return=_e,tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)}function Cg(_e,tt){switch(_e.tag){case 5:var et=_e.type;return tt=tt.nodeType!==1||et.toLowerCase()!==tt.nodeName.toLowerCase()?null:tt,tt!==null?(_e.stateNode=tt,xg=_e,yg=Lf(tt.firstChild),!0):!1;case 6:return tt=_e.pendingProps===""||tt.nodeType!==3?null:tt,tt!==null?(_e.stateNode=tt,xg=_e,yg=null,!0):!1;case 13:return tt=tt.nodeType!==8?null:tt,tt!==null?(et=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:tt,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=tt,et.return=_e,_e.child=et,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$2){var tt=yg;if(tt){var et=tt;if(!Cg(_e,tt)){if(Dg(_e))throw Error(p$6(418));tt=Lf(et.nextSibling);var nt=xg;tt&&Cg(_e,tt)?Ag(nt,et):(_e.flags=_e.flags&-4097|2,I$2=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$6(418));_e.flags=_e.flags&-4097|2,I$2=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$2)return Fg(_e),I$2=!0,!1;var tt;if((tt=_e.tag!==3)&&!(tt=_e.tag!==5)&&(tt=_e.type,tt=tt!=="head"&&tt!=="body"&&!Ef(_e.type,_e.memoizedProps)),tt&&(tt=yg)){if(Dg(_e))throw Hg(),Error(p$6(418));for(;tt;)Ag(_e,tt),tt=Lf(tt.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$6(317));e:{for(_e=_e.nextSibling,tt=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="/$"){if(tt===0){yg=Lf(_e.nextSibling);break e}tt--}else et!=="$"&&et!=="$!"&&et!=="$?"||tt++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,tt){if(_e&&_e.defaultProps){tt=A$3({},tt),_e=_e.defaultProps;for(var et in _e)tt[et]===void 0&&(tt[et]=_e[et]);return tt}return tt}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var tt=Mg.current;E$2(Mg),_e._currentValue=tt}function Sg(_e,tt,et){for(;_e!==null;){var nt=_e.alternate;if((_e.childLanes&tt)!==tt?(_e.childLanes|=tt,nt!==null&&(nt.childLanes|=tt)):nt!==null&&(nt.childLanes&tt)!==tt&&(nt.childLanes|=tt),_e===et)break;_e=_e.return}}function Tg(_e,tt){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&tt&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var tt=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:tt,next:null},Og===null){if(Ng===null)throw Error(p$6(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return tt}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,tt,et,nt){var rt=tt.interleaved;return rt===null?(et.next=et,Xg(tt)):(et.next=rt.next,rt.next=et),tt.interleaved=et,Zg(_e,nt)}function Zg(_e,tt){_e.lanes|=tt;var et=_e.alternate;for(et!==null&&(et.lanes|=tt),et=_e,_e=_e.return;_e!==null;)_e.childLanes|=tt,et=_e.alternate,et!==null&&(et.childLanes|=tt),et=_e,_e=_e.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,tt){_e=_e.updateQueue,tt.updateQueue===_e&&(tt.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,tt){return{eventTime:_e,lane:tt,tag:0,payload:null,callback:null,next:null}}function dh(_e,tt,et){var nt=_e.updateQueue;if(nt===null)return null;if(nt=nt.shared,K&2){var rt=nt.pending;return rt===null?tt.next=tt:(tt.next=rt.next,rt.next=tt),nt.pending=tt,Zg(_e,et)}return rt=nt.interleaved,rt===null?(tt.next=tt,Xg(nt)):(tt.next=rt.next,rt.next=tt),nt.interleaved=tt,Zg(_e,et)}function eh(_e,tt,et){if(tt=tt.updateQueue,tt!==null&&(tt=tt.shared,(et&4194240)!==0)){var nt=tt.lanes;nt&=_e.pendingLanes,et|=nt,tt.lanes=et,Cc(_e,et)}}function fh(_e,tt){var et=_e.updateQueue,nt=_e.alternate;if(nt!==null&&(nt=nt.updateQueue,et===nt)){var rt=null,it=null;if(et=et.firstBaseUpdate,et!==null){do{var ot={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};it===null?rt=it=ot:it=it.next=ot,et=et.next}while(et!==null);it===null?rt=it=tt:it=it.next=tt}else rt=it=tt;et={baseState:nt.baseState,firstBaseUpdate:rt,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},_e.updateQueue=et;return}_e=et.lastBaseUpdate,_e===null?et.firstBaseUpdate=tt:_e.next=tt,et.lastBaseUpdate=tt}function gh(_e,tt,et,nt){var rt=_e.updateQueue;$g=!1;var it=rt.firstBaseUpdate,ot=rt.lastBaseUpdate,st=rt.shared.pending;if(st!==null){rt.shared.pending=null;var at=st,ct=at.next;at.next=null,ot===null?it=ct:ot.next=ct,ot=at;var lt=_e.alternate;lt!==null&&(lt=lt.updateQueue,st=lt.lastBaseUpdate,st!==ot&&(st===null?lt.firstBaseUpdate=ct:st.next=ct,lt.lastBaseUpdate=at))}if(it!==null){var dt=rt.baseState;ot=0,lt=ct=at=null,st=it;do{var ut=st.lane,ft=st.eventTime;if((nt&ut)===ut){lt!==null&&(lt=lt.next={eventTime:ft,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var pt=_e,vt=st;switch(ut=tt,ft=et,vt.tag){case 1:if(pt=vt.payload,typeof pt=="function"){dt=pt.call(ft,dt,ut);break e}dt=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=vt.payload,ut=typeof pt=="function"?pt.call(ft,dt,ut):pt,ut==null)break e;dt=A$3({},dt,ut);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(_e.flags|=64,ut=rt.effects,ut===null?rt.effects=[st]:ut.push(st))}else ft={eventTime:ft,lane:ut,tag:st.tag,payload:st.payload,callback:st.callback,next:null},lt===null?(ct=lt=ft,at=dt):lt=lt.next=ft,ot|=ut;if(st=st.next,st===null){if(st=rt.shared.pending,st===null)break;ut=st,st=ut.next,ut.next=null,rt.lastBaseUpdate=ut,rt.shared.pending=null}}while(1);if(lt===null&&(at=dt),rt.baseState=at,rt.firstBaseUpdate=ct,rt.lastBaseUpdate=lt,tt=rt.shared.interleaved,tt!==null){rt=tt;do ot|=rt.lane,rt=rt.next;while(rt!==tt)}else it===null&&(rt.shared.lanes=0);hh|=ot,_e.lanes=ot,_e.memoizedState=dt}}function ih(_e,tt,et){if(_e=tt.effects,tt.effects=null,_e!==null)for(tt=0;tt<_e.length;tt++){var nt=_e[tt],rt=nt.callback;if(rt!==null){if(nt.callback=null,nt=et,typeof rt!="function")throw Error(p$6(191,rt));rt.call(nt)}}}var jh=new aa.Component().refs;function kh(_e,tt,et,nt){tt=_e.memoizedState,et=et(nt,tt),et=et==null?tt:A$3({},tt,et),_e.memoizedState=et,_e.lanes===0&&(_e.updateQueue.baseState=et)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,tt,et){_e=_e._reactInternals;var nt=L$2(),rt=lh(_e),it=ch(nt,rt);it.payload=tt,et!=null&&(it.callback=et),tt=dh(_e,it,rt),tt!==null&&(mh(tt,_e,rt,nt),eh(tt,_e,rt))},enqueueReplaceState:function(_e,tt,et){_e=_e._reactInternals;var nt=L$2(),rt=lh(_e),it=ch(nt,rt);it.tag=1,it.payload=tt,et!=null&&(it.callback=et),tt=dh(_e,it,rt),tt!==null&&(mh(tt,_e,rt,nt),eh(tt,_e,rt))},enqueueForceUpdate:function(_e,tt){_e=_e._reactInternals;var et=L$2(),nt=lh(_e),rt=ch(et,nt);rt.tag=2,tt!=null&&(rt.callback=tt),tt=dh(_e,rt,nt),tt!==null&&(mh(tt,_e,nt,et),eh(tt,_e,nt))}};function oh(_e,tt,et,nt,rt,it,ot){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(nt,it,ot):tt.prototype&&tt.prototype.isPureReactComponent?!Ie(et,nt)||!Ie(rt,it):!0}function ph(_e,tt,et){var nt=!1,rt=Vf,it=tt.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(rt=Zf(tt)?Xf:H$2.current,nt=tt.contextTypes,it=(nt=nt!=null)?Yf(_e,rt):Vf),tt=new tt(et,it),_e.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,tt.updater=nh,_e.stateNode=tt,tt._reactInternals=_e,nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=rt,_e.__reactInternalMemoizedMaskedChildContext=it),tt}function qh(_e,tt,et,nt){_e=tt.state,typeof tt.componentWillReceiveProps=="function"&&tt.componentWillReceiveProps(et,nt),typeof tt.UNSAFE_componentWillReceiveProps=="function"&&tt.UNSAFE_componentWillReceiveProps(et,nt),tt.state!==_e&&nh.enqueueReplaceState(tt,tt.state,null)}function rh(_e,tt,et,nt){var rt=_e.stateNode;rt.props=et,rt.state=_e.memoizedState,rt.refs=jh,ah(_e);var it=tt.contextType;typeof it=="object"&&it!==null?rt.context=Vg(it):(it=Zf(tt)?Xf:H$2.current,rt.context=Yf(_e,it)),rt.state=_e.memoizedState,it=tt.getDerivedStateFromProps,typeof it=="function"&&(kh(_e,tt,it,et),rt.state=_e.memoizedState),typeof tt.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(tt=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),tt!==rt.state&&nh.enqueueReplaceState(rt,rt.state,null),gh(_e,et,rt,nt),rt.state=_e.memoizedState),typeof rt.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,tt,et){if(_e=et.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$6(309));var nt=et.stateNode}if(!nt)throw Error(p$6(147,_e));var rt=nt,it=""+_e;return tt!==null&&tt.ref!==null&&typeof tt.ref=="function"&&tt.ref._stringRef===it?tt.ref:(tt=function(ot){var st=rt.refs;st===jh&&(st=rt.refs={}),ot===null?delete st[it]:st[it]=ot},tt._stringRef=it,tt)}if(typeof _e!="string")throw Error(p$6(284));if(!et._owner)throw Error(p$6(290,_e))}return _e}function th(_e,tt){throw _e=Object.prototype.toString.call(tt),Error(p$6(31,_e==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":_e))}function uh(_e){var tt=_e._init;return tt(_e._payload)}function vh(_e){function tt(ht,mt){if(_e){var yt=ht.deletions;yt===null?(ht.deletions=[mt],ht.flags|=16):yt.push(mt)}}function et(ht,mt){if(!_e)return null;for(;mt!==null;)tt(ht,mt),mt=mt.sibling;return null}function nt(ht,mt){for(ht=new Map;mt!==null;)mt.key!==null?ht.set(mt.key,mt):ht.set(mt.index,mt),mt=mt.sibling;return ht}function rt(ht,mt){return ht=wh(ht,mt),ht.index=0,ht.sibling=null,ht}function it(ht,mt,yt){return ht.index=yt,_e?(yt=ht.alternate,yt!==null?(yt=yt.index,yt<mt?(ht.flags|=2,mt):yt):(ht.flags|=2,mt)):(ht.flags|=1048576,mt)}function ot(ht){return _e&&ht.alternate===null&&(ht.flags|=2),ht}function st(ht,mt,yt,Et){return mt===null||mt.tag!==6?(mt=xh(yt,ht.mode,Et),mt.return=ht,mt):(mt=rt(mt,yt),mt.return=ht,mt)}function at(ht,mt,yt,Et){var Rt=yt.type;return Rt===ya?lt(ht,mt,yt.props.children,Et,yt.key):mt!==null&&(mt.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===Ha&&uh(Rt)===mt.type)?(Et=rt(mt,yt.props),Et.ref=sh(ht,mt,yt),Et.return=ht,Et):(Et=yh(yt.type,yt.key,yt.props,null,ht.mode,Et),Et.ref=sh(ht,mt,yt),Et.return=ht,Et)}function ct(ht,mt,yt,Et){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==yt.containerInfo||mt.stateNode.implementation!==yt.implementation?(mt=zh(yt,ht.mode,Et),mt.return=ht,mt):(mt=rt(mt,yt.children||[]),mt.return=ht,mt)}function lt(ht,mt,yt,Et,Rt){return mt===null||mt.tag!==7?(mt=Ah(yt,ht.mode,Et,Rt),mt.return=ht,mt):(mt=rt(mt,yt),mt.return=ht,mt)}function dt(ht,mt,yt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return mt=xh(""+mt,ht.mode,yt),mt.return=ht,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return yt=yh(mt.type,mt.key,mt.props,null,ht.mode,yt),yt.ref=sh(ht,null,mt),yt.return=ht,yt;case wa:return mt=zh(mt,ht.mode,yt),mt.return=ht,mt;case Ha:var Et=mt._init;return dt(ht,Et(mt._payload),yt)}if(eb(mt)||Ka(mt))return mt=Ah(mt,ht.mode,yt,null),mt.return=ht,mt;th(ht,mt)}return null}function ut(ht,mt,yt,Et){var Rt=mt!==null?mt.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return Rt!==null?null:st(ht,mt,""+yt,Et);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return yt.key===Rt?at(ht,mt,yt,Et):null;case wa:return yt.key===Rt?ct(ht,mt,yt,Et):null;case Ha:return Rt=yt._init,ut(ht,mt,Rt(yt._payload),Et)}if(eb(yt)||Ka(yt))return Rt!==null?null:lt(ht,mt,yt,Et,null);th(ht,yt)}return null}function ft(ht,mt,yt,Et,Rt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return ht=ht.get(yt)||null,st(mt,ht,""+Et,Rt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return ht=ht.get(Et.key===null?yt:Et.key)||null,at(mt,ht,Et,Rt);case wa:return ht=ht.get(Et.key===null?yt:Et.key)||null,ct(mt,ht,Et,Rt);case Ha:var Pt=Et._init;return ft(ht,mt,yt,Pt(Et._payload),Rt)}if(eb(Et)||Ka(Et))return ht=ht.get(yt)||null,lt(mt,ht,Et,Rt,null);th(mt,Et)}return null}function pt(ht,mt,yt,Et){for(var Rt=null,Pt=null,Vt=mt,Nt=mt=0,kt=null;Vt!==null&&Nt<yt.length;Nt++){Vt.index>Nt?(kt=Vt,Vt=null):kt=Vt.sibling;var wt=ut(ht,Vt,yt[Nt],Et);if(wt===null){Vt===null&&(Vt=kt);break}_e&&Vt&&wt.alternate===null&&tt(ht,Vt),mt=it(wt,mt,Nt),Pt===null?Rt=wt:Pt.sibling=wt,Pt=wt,Vt=kt}if(Nt===yt.length)return et(ht,Vt),I$2&&tg(ht,Nt),Rt;if(Vt===null){for(;Nt<yt.length;Nt++)Vt=dt(ht,yt[Nt],Et),Vt!==null&&(mt=it(Vt,mt,Nt),Pt===null?Rt=Vt:Pt.sibling=Vt,Pt=Vt);return I$2&&tg(ht,Nt),Rt}for(Vt=nt(ht,Vt);Nt<yt.length;Nt++)kt=ft(Vt,ht,Nt,yt[Nt],Et),kt!==null&&(_e&&kt.alternate!==null&&Vt.delete(kt.key===null?Nt:kt.key),mt=it(kt,mt,Nt),Pt===null?Rt=kt:Pt.sibling=kt,Pt=kt);return _e&&Vt.forEach(function(Zt){return tt(ht,Zt)}),I$2&&tg(ht,Nt),Rt}function vt(ht,mt,yt,Et){var Rt=Ka(yt);if(typeof Rt!="function")throw Error(p$6(150));if(yt=Rt.call(yt),yt==null)throw Error(p$6(151));for(var Pt=Rt=null,Vt=mt,Nt=mt=0,kt=null,wt=yt.next();Vt!==null&&!wt.done;Nt++,wt=yt.next()){Vt.index>Nt?(kt=Vt,Vt=null):kt=Vt.sibling;var Zt=ut(ht,Vt,wt.value,Et);if(Zt===null){Vt===null&&(Vt=kt);break}_e&&Vt&&Zt.alternate===null&&tt(ht,Vt),mt=it(Zt,mt,Nt),Pt===null?Rt=Zt:Pt.sibling=Zt,Pt=Zt,Vt=kt}if(wt.done)return et(ht,Vt),I$2&&tg(ht,Nt),Rt;if(Vt===null){for(;!wt.done;Nt++,wt=yt.next())wt=dt(ht,wt.value,Et),wt!==null&&(mt=it(wt,mt,Nt),Pt===null?Rt=wt:Pt.sibling=wt,Pt=wt);return I$2&&tg(ht,Nt),Rt}for(Vt=nt(ht,Vt);!wt.done;Nt++,wt=yt.next())wt=ft(Vt,ht,Nt,wt.value,Et),wt!==null&&(_e&&wt.alternate!==null&&Vt.delete(wt.key===null?Nt:wt.key),mt=it(wt,mt,Nt),Pt===null?Rt=wt:Pt.sibling=wt,Pt=wt);return _e&&Vt.forEach(function(qt){return tt(ht,qt)}),I$2&&tg(ht,Nt),Rt}function Ct(ht,mt,yt,Et){if(typeof yt=="object"&&yt!==null&&yt.type===ya&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:e:{for(var Rt=yt.key,Pt=mt;Pt!==null;){if(Pt.key===Rt){if(Rt=yt.type,Rt===ya){if(Pt.tag===7){et(ht,Pt.sibling),mt=rt(Pt,yt.props.children),mt.return=ht,ht=mt;break e}}else if(Pt.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===Ha&&uh(Rt)===Pt.type){et(ht,Pt.sibling),mt=rt(Pt,yt.props),mt.ref=sh(ht,Pt,yt),mt.return=ht,ht=mt;break e}et(ht,Pt);break}else tt(ht,Pt);Pt=Pt.sibling}yt.type===ya?(mt=Ah(yt.props.children,ht.mode,Et,yt.key),mt.return=ht,ht=mt):(Et=yh(yt.type,yt.key,yt.props,null,ht.mode,Et),Et.ref=sh(ht,mt,yt),Et.return=ht,ht=Et)}return ot(ht);case wa:e:{for(Pt=yt.key;mt!==null;){if(mt.key===Pt)if(mt.tag===4&&mt.stateNode.containerInfo===yt.containerInfo&&mt.stateNode.implementation===yt.implementation){et(ht,mt.sibling),mt=rt(mt,yt.children||[]),mt.return=ht,ht=mt;break e}else{et(ht,mt);break}else tt(ht,mt);mt=mt.sibling}mt=zh(yt,ht.mode,Et),mt.return=ht,ht=mt}return ot(ht);case Ha:return Pt=yt._init,Ct(ht,mt,Pt(yt._payload),Et)}if(eb(yt))return pt(ht,mt,yt,Et);if(Ka(yt))return vt(ht,mt,yt,Et);th(ht,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?(yt=""+yt,mt!==null&&mt.tag===6?(et(ht,mt.sibling),mt=rt(mt,yt),mt.return=ht,ht=mt):(et(ht,mt),mt=xh(yt,ht.mode,Et),mt.return=ht,ht=mt),ot(ht)):et(ht,mt)}return Ct}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$6(174));return _e}function Ih(_e,tt){switch(G$1(Gh,tt),G$1(Fh,_e),G$1(Eh,Dh),_e=tt.nodeType,_e){case 9:case 11:tt=(tt=tt.documentElement)?tt.namespaceURI:lb(null,"");break;default:_e=_e===8?tt.parentNode:tt,tt=_e.namespaceURI||null,_e=_e.tagName,tt=lb(tt,_e)}E$2(Eh),G$1(Eh,tt)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(_e){Hh(Gh.current);var tt=Hh(Eh.current),et=lb(tt,_e.type);tt!==et&&(G$1(Fh,_e),G$1(Eh,et))}function Lh(_e){Fh.current===_e&&(E$2(Eh),E$2(Fh))}var M$2=Uf(0);function Mh(_e){for(var tt=_e;tt!==null;){if(tt.tag===13){var et=tt.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return tt}else if(tt.tag===19&&tt.memoizedProps.revealOrder!==void 0){if(tt.flags&128)return tt}else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return null;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$1=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$6(321))}function Wh(_e,tt){if(tt===null)return!1;for(var et=0;et<tt.length&&et<_e.length;et++)if(!He(_e[et],tt[et]))return!1;return!0}function Xh(_e,tt,et,nt,rt,it){if(Rh=it,N$2=tt,tt.memoizedState=null,tt.updateQueue=null,tt.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=et(nt,rt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$6(301));it+=1,P$2=O$1=null,tt.updateQueue=null,Ph.current=$h,_e=et(nt,rt)}while(Th)}if(Ph.current=ai,tt=O$1!==null&&O$1.next!==null,Rh=0,P$2=O$1=N$2=null,Sh=!1,tt)throw Error(p$6(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$2.memoizedState=P$2=_e:P$2=P$2.next=_e,P$2}function di(){if(O$1===null){var _e=N$2.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$1.next;var tt=P$2===null?N$2.memoizedState:P$2.next;if(tt!==null)P$2=tt,O$1=_e;else{if(_e===null)throw Error(p$6(310));O$1=_e,_e={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$2===null?N$2.memoizedState=P$2=_e:P$2=P$2.next=_e}return P$2}function ei(_e,tt){return typeof tt=="function"?tt(_e):tt}function fi(_e){var tt=di(),et=tt.queue;if(et===null)throw Error(p$6(311));et.lastRenderedReducer=_e;var nt=O$1,rt=nt.baseQueue,it=et.pending;if(it!==null){if(rt!==null){var ot=rt.next;rt.next=it.next,it.next=ot}nt.baseQueue=rt=it,et.pending=null}if(rt!==null){it=rt.next,nt=nt.baseState;var st=ot=null,at=null,ct=it;do{var lt=ct.lane;if((Rh&lt)===lt)at!==null&&(at=at.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),nt=ct.hasEagerState?ct.eagerState:_e(nt,ct.action);else{var dt={lane:lt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};at===null?(st=at=dt,ot=nt):at=at.next=dt,N$2.lanes|=lt,hh|=lt}ct=ct.next}while(ct!==null&&ct!==it);at===null?ot=nt:at.next=st,He(nt,tt.memoizedState)||(Ug=!0),tt.memoizedState=nt,tt.baseState=ot,tt.baseQueue=at,et.lastRenderedState=nt}if(_e=et.interleaved,_e!==null){rt=_e;do it=rt.lane,N$2.lanes|=it,hh|=it,rt=rt.next;while(rt!==_e)}else rt===null&&(et.lanes=0);return[tt.memoizedState,et.dispatch]}function gi(_e){var tt=di(),et=tt.queue;if(et===null)throw Error(p$6(311));et.lastRenderedReducer=_e;var nt=et.dispatch,rt=et.pending,it=tt.memoizedState;if(rt!==null){et.pending=null;var ot=rt=rt.next;do it=_e(it,ot.action),ot=ot.next;while(ot!==rt);He(it,tt.memoizedState)||(Ug=!0),tt.memoizedState=it,tt.baseQueue===null&&(tt.baseState=it),et.lastRenderedState=it}return[it,nt]}function hi(){}function ii(_e,tt){var et=N$2,nt=di(),rt=tt(),it=!He(nt.memoizedState,rt);if(it&&(nt.memoizedState=rt,Ug=!0),nt=nt.queue,ji(ki.bind(null,et,nt,_e),[_e]),nt.getSnapshot!==tt||it||P$2!==null&&P$2.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,nt,rt,tt),void 0,null),R$2===null)throw Error(p$6(349));Rh&30||ni(et,tt,rt)}return rt}function ni(_e,tt,et){_e.flags|=16384,_e={getSnapshot:tt,value:et},tt=N$2.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$2.updateQueue=tt,tt.stores=[_e]):(et=tt.stores,et===null?tt.stores=[_e]:et.push(_e))}function mi(_e,tt,et,nt){tt.value=et,tt.getSnapshot=nt,oi(tt)&&pi(_e)}function ki(_e,tt,et){return et(function(){oi(tt)&&pi(_e)})}function oi(_e){var tt=_e.getSnapshot;_e=_e.value;try{var et=tt();return!He(_e,et)}catch{return!0}}function pi(_e){var tt=Zg(_e,1);tt!==null&&mh(tt,_e,1,-1)}function qi(_e){var tt=ci();return typeof _e=="function"&&(_e=_e()),tt.memoizedState=tt.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},tt.queue=_e,_e=_e.dispatch=ri.bind(null,N$2,_e),[tt.memoizedState,_e]}function li(_e,tt,et,nt){return _e={tag:_e,create:tt,destroy:et,deps:nt,next:null},tt=N$2.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$2.updateQueue=tt,tt.lastEffect=_e.next=_e):(et=tt.lastEffect,et===null?tt.lastEffect=_e.next=_e:(nt=et.next,et.next=_e,_e.next=nt,tt.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,tt,et,nt){var rt=ci();N$2.flags|=_e,rt.memoizedState=li(1|tt,et,void 0,nt===void 0?null:nt)}function ui(_e,tt,et,nt){var rt=di();nt=nt===void 0?null:nt;var it=void 0;if(O$1!==null){var ot=O$1.memoizedState;if(it=ot.destroy,nt!==null&&Wh(nt,ot.deps)){rt.memoizedState=li(tt,et,it,nt);return}}N$2.flags|=_e,rt.memoizedState=li(1|tt,et,it,nt)}function vi(_e,tt){return ti(8390656,8,_e,tt)}function ji(_e,tt){return ui(2048,8,_e,tt)}function wi(_e,tt){return ui(4,2,_e,tt)}function xi(_e,tt){return ui(4,4,_e,tt)}function yi(_e,tt){if(typeof tt=="function")return _e=_e(),tt(_e),function(){tt(null)};if(tt!=null)return _e=_e(),tt.current=_e,function(){tt.current=null}}function zi(_e,tt,et){return et=et!=null?et.concat([_e]):null,ui(4,4,yi.bind(null,tt,_e),et)}function Ai(){}function Bi(_e,tt){var et=di();tt=tt===void 0?null:tt;var nt=et.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(et.memoizedState=[_e,tt],_e)}function Ci(_e,tt){var et=di();tt=tt===void 0?null:tt;var nt=et.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(_e=_e(),et.memoizedState=[_e,tt],_e)}function Di(_e,tt,et){return Rh&21?(He(et,tt)||(et=yc(),N$2.lanes|=et,hh|=et,_e.baseState=!0),tt):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=et)}function Ei(_e,tt){var et=C$1;C$1=et!==0&&4>et?et:4,_e(!0);var nt=Qh.transition;Qh.transition={};try{_e(!1),tt()}finally{C$1=et,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(_e,tt,et){var nt=lh(_e);if(et={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(tt,et);else if(et=Yg(_e,tt,et,nt),et!==null){var rt=L$2();mh(et,_e,nt,rt),Ji(et,tt,nt)}}function ri(_e,tt,et){var nt=lh(_e),rt={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(tt,rt);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=tt.lastRenderedReducer,it!==null))try{var ot=tt.lastRenderedState,st=it(ot,et);if(rt.hasEagerState=!0,rt.eagerState=st,He(st,ot)){var at=tt.interleaved;at===null?(rt.next=rt,Xg(tt)):(rt.next=at.next,at.next=rt),tt.interleaved=rt;return}}catch{}finally{}et=Yg(_e,tt,rt,nt),et!==null&&(rt=L$2(),mh(et,_e,nt,rt),Ji(et,tt,nt))}}function Hi(_e){var tt=_e.alternate;return _e===N$2||tt!==null&&tt===N$2}function Ii(_e,tt){Th=Sh=!0;var et=_e.pending;et===null?tt.next=tt:(tt.next=et.next,et.next=tt),_e.pending=tt}function Ji(_e,tt,et){if(et&4194240){var nt=tt.lanes;nt&=_e.pendingLanes,et|=nt,tt.lanes=et,Cc(_e,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,tt){return ci().memoizedState=[_e,tt===void 0?null:tt],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,tt,et){return et=et!=null?et.concat([_e]):null,ti(4194308,4,yi.bind(null,tt,_e),et)},useLayoutEffect:function(_e,tt){return ti(4194308,4,_e,tt)},useInsertionEffect:function(_e,tt){return ti(4,2,_e,tt)},useMemo:function(_e,tt){var et=ci();return tt=tt===void 0?null:tt,_e=_e(),et.memoizedState=[_e,tt],_e},useReducer:function(_e,tt,et){var nt=ci();return tt=et!==void 0?et(tt):tt,nt.memoizedState=nt.baseState=tt,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:tt},nt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$2,_e),[nt.memoizedState,_e]},useRef:function(_e){var tt=ci();return _e={current:_e},tt.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),tt=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[tt,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,tt,et){var nt=N$2,rt=ci();if(I$2){if(et===void 0)throw Error(p$6(407));et=et()}else{if(et=tt(),R$2===null)throw Error(p$6(349));Rh&30||ni(nt,tt,et)}rt.memoizedState=et;var it={value:et,getSnapshot:tt};return rt.queue=it,vi(ki.bind(null,nt,it,_e),[_e]),nt.flags|=2048,li(9,mi.bind(null,nt,it,et,tt),void 0,null),et},useId:function(){var _e=ci(),tt=R$2.identifierPrefix;if(I$2){var et=sg,nt=rg;et=(nt&~(1<<32-oc(nt)-1)).toString(32)+et,tt=":"+tt+"R"+et,et=Uh++,0<et&&(tt+="H"+et.toString(32)),tt+=":"}else et=Vh++,tt=":"+tt+"r"+et.toString(32)+":";return _e.memoizedState=tt},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var tt=di();return Di(tt,O$1.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],tt=di().memoizedState;return[_e,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var tt=di();return O$1===null?tt.memoizedState=_e:Di(tt,O$1.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],tt=di().memoizedState;return[_e,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,tt){try{var et="",nt=tt;do et+=Pa(nt),nt=nt.return;while(nt);var rt=et}catch(it){rt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:tt,stack:rt,digest:null}}function Li(_e,tt,et){return{value:_e,source:null,stack:et??null,digest:tt??null}}function Mi(_e,tt){try{console.error(tt.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,tt,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var nt=tt.value;return et.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(_e,tt)},et}function Ri(_e,tt,et){et=ch(-1,et),et.tag=3;var nt=_e.type.getDerivedStateFromError;if(typeof nt=="function"){var rt=tt.value;et.payload=function(){return nt(rt)},et.callback=function(){Mi(_e,tt)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(et.callback=function(){Mi(_e,tt),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=tt.stack;this.componentDidCatch(tt.value,{componentStack:ot!==null?ot:""})}),et}function Ti(_e,tt,et){var nt=_e.pingCache;if(nt===null){nt=_e.pingCache=new Ni;var rt=new Set;nt.set(tt,rt)}else rt=nt.get(tt),rt===void 0&&(rt=new Set,nt.set(tt,rt));rt.has(et)||(rt.add(et),_e=Ui.bind(null,_e,tt,et),tt.then(_e,_e))}function Vi(_e){do{var tt;if((tt=_e.tag===13)&&(tt=_e.memoizedState,tt=tt!==null?tt.dehydrated!==null:!0),tt)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,tt,et,nt,rt){return _e.mode&1?(_e.flags|=65536,_e.lanes=rt,_e):(_e===tt?_e.flags|=65536:(_e.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(tt=ch(-1,1),tt.tag=2,dh(et,tt,1))),et.lanes|=1),_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,tt,et,nt){tt.child=_e===null?Ch(tt,null,et,nt):Bh(tt,_e.child,et,nt)}function Zi(_e,tt,et,nt,rt){et=et.render;var it=tt.ref;return Tg(tt,rt),nt=Xh(_e,tt,et,nt,it,rt),et=bi(),_e!==null&&!Ug?(tt.updateQueue=_e.updateQueue,tt.flags&=-2053,_e.lanes&=~rt,$i(_e,tt,rt)):(I$2&&et&&vg(tt),tt.flags|=1,Yi(_e,tt,nt,rt),tt.child)}function aj(_e,tt,et,nt,rt){if(_e===null){var it=et.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(tt.tag=15,tt.type=it,cj(_e,tt,it,nt,rt)):(_e=yh(et.type,null,nt,tt,tt.mode,rt),_e.ref=tt.ref,_e.return=tt,tt.child=_e)}if(it=_e.child,!(_e.lanes&rt)){var ot=it.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(ot,nt)&&_e.ref===tt.ref)return $i(_e,tt,rt)}return tt.flags|=1,_e=wh(it,nt),_e.ref=tt.ref,_e.return=tt,tt.child=_e}function cj(_e,tt,et,nt,rt){if(_e!==null){var it=_e.memoizedProps;if(Ie(it,nt)&&_e.ref===tt.ref)if(Ug=!1,tt.pendingProps=nt=it,(_e.lanes&rt)!==0)_e.flags&131072&&(Ug=!0);else return tt.lanes=_e.lanes,$i(_e,tt,rt)}return dj(_e,tt,et,nt,rt)}function ej(_e,tt,et){var nt=tt.pendingProps,rt=nt.children,it=_e!==null?_e.memoizedState:null;if(nt.mode==="hidden")if(!(tt.mode&1))tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if(!(et&1073741824))return _e=it!==null?it.baseLanes|et:et,tt.lanes=tt.childLanes=1073741824,tt.memoizedState={baseLanes:_e,cachePool:null,transitions:null},tt.updateQueue=null,G$1(fj,gj),gj|=_e,null;tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:et,G$1(fj,gj),gj|=nt}else it!==null?(nt=it.baseLanes|et,tt.memoizedState=null):nt=et,G$1(fj,gj),gj|=nt;return Yi(_e,tt,rt,et),tt.child}function hj(_e,tt){var et=tt.ref;(_e===null&&et!==null||_e!==null&&_e.ref!==et)&&(tt.flags|=512,tt.flags|=2097152)}function dj(_e,tt,et,nt,rt){var it=Zf(et)?Xf:H$2.current;return it=Yf(tt,it),Tg(tt,rt),et=Xh(_e,tt,et,nt,it,rt),nt=bi(),_e!==null&&!Ug?(tt.updateQueue=_e.updateQueue,tt.flags&=-2053,_e.lanes&=~rt,$i(_e,tt,rt)):(I$2&&nt&&vg(tt),tt.flags|=1,Yi(_e,tt,et,rt),tt.child)}function ij(_e,tt,et,nt,rt){if(Zf(et)){var it=!0;cg(tt)}else it=!1;if(Tg(tt,rt),tt.stateNode===null)jj(_e,tt),ph(tt,et,nt),rh(tt,et,nt,rt),nt=!0;else if(_e===null){var ot=tt.stateNode,st=tt.memoizedProps;ot.props=st;var at=ot.context,ct=et.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(et)?Xf:H$2.current,ct=Yf(tt,ct));var lt=et.getDerivedStateFromProps,dt=typeof lt=="function"||typeof ot.getSnapshotBeforeUpdate=="function";dt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==nt||at!==ct)&&qh(tt,ot,nt,ct),$g=!1;var ut=tt.memoizedState;ot.state=ut,gh(tt,nt,ot,rt),at=tt.memoizedState,st!==nt||ut!==at||Wf.current||$g?(typeof lt=="function"&&(kh(tt,et,lt,nt),at=tt.memoizedState),(st=$g||oh(tt,et,st,nt,ut,at,ct))?(dt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(tt.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(tt.flags|=4194308),tt.memoizedProps=nt,tt.memoizedState=at),ot.props=nt,ot.state=at,ot.context=ct,nt=st):(typeof ot.componentDidMount=="function"&&(tt.flags|=4194308),nt=!1)}else{ot=tt.stateNode,bh(_e,tt),st=tt.memoizedProps,ct=tt.type===tt.elementType?st:Lg(tt.type,st),ot.props=ct,dt=tt.pendingProps,ut=ot.context,at=et.contextType,typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(et)?Xf:H$2.current,at=Yf(tt,at));var ft=et.getDerivedStateFromProps;(lt=typeof ft=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==dt||ut!==at)&&qh(tt,ot,nt,at),$g=!1,ut=tt.memoizedState,ot.state=ut,gh(tt,nt,ot,rt);var pt=tt.memoizedState;st!==dt||ut!==pt||Wf.current||$g?(typeof ft=="function"&&(kh(tt,et,ft,nt),pt=tt.memoizedState),(ct=$g||oh(tt,et,ct,nt,ut,pt,at)||!1)?(lt||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(nt,pt,at),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(nt,pt,at)),typeof ot.componentDidUpdate=="function"&&(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(tt.flags|=1024)):(typeof ot.componentDidUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=1024),tt.memoizedProps=nt,tt.memoizedState=pt),ot.props=nt,ot.state=pt,ot.context=at,nt=ct):(typeof ot.componentDidUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(tt.flags|=1024),nt=!1)}return kj(_e,tt,et,nt,it,rt)}function kj(_e,tt,et,nt,rt,it){hj(_e,tt);var ot=(tt.flags&128)!==0;if(!nt&&!ot)return rt&&dg(tt,et,!1),$i(_e,tt,it);nt=tt.stateNode,Xi.current=tt;var st=ot&&typeof et.getDerivedStateFromError!="function"?null:nt.render();return tt.flags|=1,_e!==null&&ot?(tt.child=Bh(tt,_e.child,null,it),tt.child=Bh(tt,null,st,it)):Yi(_e,tt,st,it),tt.memoizedState=nt.state,rt&&dg(tt,et,!0),tt.child}function lj(_e){var tt=_e.stateNode;tt.pendingContext?ag(_e,tt.pendingContext,tt.pendingContext!==tt.context):tt.context&&ag(_e,tt.context,!1),Ih(_e,tt.containerInfo)}function mj(_e,tt,et,nt,rt){return Ig(),Jg(rt),tt.flags|=256,Yi(_e,tt,et,nt),tt.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,tt,et){var nt=tt.pendingProps,rt=M$2.current,it=!1,ot=(tt.flags&128)!==0,st;if((st=ot)||(st=_e!==null&&_e.memoizedState===null?!1:(rt&2)!==0),st?(it=!0,tt.flags&=-129):(_e===null||_e.memoizedState!==null)&&(rt|=1),G$1(M$2,rt&1),_e===null)return Eg(tt),_e=tt.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(tt.mode&1?_e.data==="$!"?tt.lanes=8:tt.lanes=1073741824:tt.lanes=1,null):(ot=nt.children,_e=nt.fallback,it?(nt=tt.mode,it=tt.child,ot={mode:"hidden",children:ot},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=ot):it=qj(ot,nt,0,null),_e=Ah(_e,nt,et,null),it.return=tt,_e.return=tt,it.sibling=_e,tt.child=it,tt.child.memoizedState=oj(et),tt.memoizedState=nj,_e):rj(tt,ot));if(rt=_e.memoizedState,rt!==null&&(st=rt.dehydrated,st!==null))return sj(_e,tt,ot,nt,st,rt,et);if(it){it=nt.fallback,ot=tt.mode,rt=_e.child,st=rt.sibling;var at={mode:"hidden",children:nt.children};return!(ot&1)&&tt.child!==rt?(nt=tt.child,nt.childLanes=0,nt.pendingProps=at,tt.deletions=null):(nt=wh(rt,at),nt.subtreeFlags=rt.subtreeFlags&14680064),st!==null?it=wh(st,it):(it=Ah(it,ot,et,null),it.flags|=2),it.return=tt,nt.return=tt,nt.sibling=it,tt.child=nt,nt=it,it=tt.child,ot=_e.child.memoizedState,ot=ot===null?oj(et):{baseLanes:ot.baseLanes|et,cachePool:null,transitions:ot.transitions},it.memoizedState=ot,it.childLanes=_e.childLanes&~et,tt.memoizedState=nj,nt}return it=_e.child,_e=it.sibling,nt=wh(it,{mode:"visible",children:nt.children}),!(tt.mode&1)&&(nt.lanes=et),nt.return=tt,nt.sibling=null,_e!==null&&(et=tt.deletions,et===null?(tt.deletions=[_e],tt.flags|=16):et.push(_e)),tt.child=nt,tt.memoizedState=null,nt}function rj(_e,tt){return tt=qj({mode:"visible",children:tt},_e.mode,0,null),tt.return=_e,_e.child=tt}function tj(_e,tt,et,nt){return nt!==null&&Jg(nt),Bh(tt,_e.child,null,et),_e=rj(tt,tt.pendingProps.children),_e.flags|=2,tt.memoizedState=null,_e}function sj(_e,tt,et,nt,rt,it,ot){if(et)return tt.flags&256?(tt.flags&=-257,nt=Li(Error(p$6(422))),tj(_e,tt,ot,nt)):tt.memoizedState!==null?(tt.child=_e.child,tt.flags|=128,null):(it=nt.fallback,rt=tt.mode,nt=qj({mode:"visible",children:nt.children},rt,0,null),it=Ah(it,rt,ot,null),it.flags|=2,nt.return=tt,it.return=tt,nt.sibling=it,tt.child=nt,tt.mode&1&&Bh(tt,_e.child,null,ot),tt.child.memoizedState=oj(ot),tt.memoizedState=nj,it);if(!(tt.mode&1))return tj(_e,tt,ot,null);if(rt.data==="$!"){if(nt=rt.nextSibling&&rt.nextSibling.dataset,nt)var st=nt.dgst;return nt=st,it=Error(p$6(419)),nt=Li(it,nt,void 0),tj(_e,tt,ot,nt)}if(st=(ot&_e.childLanes)!==0,Ug||st){if(nt=R$2,nt!==null){switch(ot&-ot){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(nt.suspendedLanes|ot)?0:rt,rt!==0&&rt!==it.retryLane&&(it.retryLane=rt,Zg(_e,rt),mh(nt,_e,rt,-1))}return uj(),nt=Li(Error(p$6(421))),tj(_e,tt,ot,nt)}return rt.data==="$?"?(tt.flags|=128,tt.child=_e.child,tt=vj.bind(null,_e),rt._reactRetry=tt,null):(_e=it.treeContext,yg=Lf(rt.nextSibling),xg=tt,I$2=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=tt),tt=rj(tt,nt.children),tt.flags|=4096,tt)}function wj(_e,tt,et){_e.lanes|=tt;var nt=_e.alternate;nt!==null&&(nt.lanes|=tt),Sg(_e.return,tt,et)}function xj(_e,tt,et,nt,rt){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:tt,rendering:null,renderingStartTime:0,last:nt,tail:et,tailMode:rt}:(it.isBackwards=tt,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=et,it.tailMode=rt)}function yj(_e,tt,et){var nt=tt.pendingProps,rt=nt.revealOrder,it=nt.tail;if(Yi(_e,tt,nt.children,et),nt=M$2.current,nt&2)nt=nt&1|2,tt.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=tt.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,et,tt);else if(_e.tag===19)wj(_e,et,tt);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===tt)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===tt)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}nt&=1}if(G$1(M$2,nt),!(tt.mode&1))tt.memoizedState=null;else switch(rt){case"forwards":for(et=tt.child,rt=null;et!==null;)_e=et.alternate,_e!==null&&Mh(_e)===null&&(rt=et),et=et.sibling;et=rt,et===null?(rt=tt.child,tt.child=null):(rt=et.sibling,et.sibling=null),xj(tt,!1,rt,et,it);break;case"backwards":for(et=null,rt=tt.child,tt.child=null;rt!==null;){if(_e=rt.alternate,_e!==null&&Mh(_e)===null){tt.child=rt;break}_e=rt.sibling,rt.sibling=et,et=rt,rt=_e}xj(tt,!0,et,null,it);break;case"together":xj(tt,!1,null,null,void 0);break;default:tt.memoizedState=null}return tt.child}function jj(_e,tt){!(tt.mode&1)&&_e!==null&&(_e.alternate=null,tt.alternate=null,tt.flags|=2)}function $i(_e,tt,et){if(_e!==null&&(tt.dependencies=_e.dependencies),hh|=tt.lanes,!(et&tt.childLanes))return null;if(_e!==null&&tt.child!==_e.child)throw Error(p$6(153));if(tt.child!==null){for(_e=tt.child,et=wh(_e,_e.pendingProps),tt.child=et,et.return=tt;_e.sibling!==null;)_e=_e.sibling,et=et.sibling=wh(_e,_e.pendingProps),et.return=tt;et.sibling=null}return tt.child}function zj(_e,tt,et){switch(tt.tag){case 3:lj(tt),Ig();break;case 5:Kh(tt);break;case 1:Zf(tt.type)&&cg(tt);break;case 4:Ih(tt,tt.stateNode.containerInfo);break;case 10:var nt=tt.type._context,rt=tt.memoizedProps.value;G$1(Mg,nt._currentValue),nt._currentValue=rt;break;case 13:if(nt=tt.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(M$2,M$2.current&1),tt.flags|=128,null):et&tt.child.childLanes?pj(_e,tt,et):(G$1(M$2,M$2.current&1),_e=$i(_e,tt,et),_e!==null?_e.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(nt=(et&tt.childLanes)!==0,_e.flags&128){if(nt)return yj(_e,tt,et);tt.flags|=128}if(rt=tt.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G$1(M$2,M$2.current),nt)break;return null;case 22:case 23:return tt.lanes=0,ej(_e,tt,et)}return $i(_e,tt,et)}var Aj,Bj,Cj,Dj;Aj=function(_e,tt){for(var et=tt.child;et!==null;){if(et.tag===5||et.tag===6)_e.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function(_e,tt,et,nt){var rt=_e.memoizedProps;if(rt!==nt){_e=tt.stateNode,Hh(Eh.current);var it=null;switch(et){case"input":rt=Ya(_e,rt),nt=Ya(_e,nt),it=[];break;case"select":rt=A$3({},rt,{value:void 0}),nt=A$3({},nt,{value:void 0}),it=[];break;case"textarea":rt=gb(_e,rt),nt=gb(_e,nt),it=[];break;default:typeof rt.onClick!="function"&&typeof nt.onClick=="function"&&(_e.onclick=Bf)}ub(et,nt);var ot;et=null;for(ct in rt)if(!nt.hasOwnProperty(ct)&&rt.hasOwnProperty(ct)&&rt[ct]!=null)if(ct==="style"){var st=rt[ct];for(ot in st)st.hasOwnProperty(ot)&&(et||(et={}),et[ot]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?it||(it=[]):(it=it||[]).push(ct,null));for(ct in nt){var at=nt[ct];if(st=rt!=null?rt[ct]:void 0,nt.hasOwnProperty(ct)&&at!==st&&(at!=null||st!=null))if(ct==="style")if(st){for(ot in st)!st.hasOwnProperty(ot)||at&&at.hasOwnProperty(ot)||(et||(et={}),et[ot]="");for(ot in at)at.hasOwnProperty(ot)&&st[ot]!==at[ot]&&(et||(et={}),et[ot]=at[ot])}else et||(it||(it=[]),it.push(ct,et)),et=at;else ct==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,st=st?st.__html:void 0,at!=null&&st!==at&&(it=it||[]).push(ct,at)):ct==="children"?typeof at!="string"&&typeof at!="number"||(it=it||[]).push(ct,""+at):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(at!=null&&ct==="onScroll"&&D$2("scroll",_e),it||st===at||(it=[])):(it=it||[]).push(ct,at))}et&&(it=it||[]).push("style",et);var ct=it;(tt.updateQueue=ct)&&(tt.flags|=4)}};Dj=function(_e,tt,et,nt){et!==nt&&(tt.flags|=4)};function Ej(_e,tt){if(!I$2)switch(_e.tailMode){case"hidden":tt=_e.tail;for(var et=null;tt!==null;)tt.alternate!==null&&(et=tt),tt=tt.sibling;et===null?_e.tail=null:et.sibling=null;break;case"collapsed":et=_e.tail;for(var nt=null;et!==null;)et.alternate!==null&&(nt=et),et=et.sibling;nt===null?tt||_e.tail===null?_e.tail=null:_e.tail.sibling=null:nt.sibling=null}}function S$3(_e){var tt=_e.alternate!==null&&_e.alternate.child===_e.child,et=0,nt=0;if(tt)for(var rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags&14680064,nt|=rt.flags&14680064,rt.return=_e,rt=rt.sibling;else for(rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags,nt|=rt.flags,rt.return=_e,rt=rt.sibling;return _e.subtreeFlags|=nt,_e.childLanes=et,tt}function Fj(_e,tt,et){var nt=tt.pendingProps;switch(wg(tt),tt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(tt),null;case 1:return Zf(tt.type)&&$f(),S$3(tt),null;case 3:return nt=tt.stateNode,Jh(),E$2(Wf),E$2(H$2),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(tt)?tt.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(tt.flags&256)||(tt.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,tt),S$3(tt),null;case 5:Lh(tt);var rt=Hh(Gh.current);if(et=tt.type,_e!==null&&tt.stateNode!=null)Cj(_e,tt,et,nt,rt),_e.ref!==tt.ref&&(tt.flags|=512,tt.flags|=2097152);else{if(!nt){if(tt.stateNode===null)throw Error(p$6(166));return S$3(tt),null}if(_e=Hh(Eh.current),Gg(tt)){nt=tt.stateNode,et=tt.type;var it=tt.memoizedProps;switch(nt[Of]=tt,nt[Pf]=it,_e=(tt.mode&1)!==0,et){case"dialog":D$2("cancel",nt),D$2("close",nt);break;case"iframe":case"object":case"embed":D$2("load",nt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$2(lf[rt],nt);break;case"source":D$2("error",nt);break;case"img":case"image":case"link":D$2("error",nt),D$2("load",nt);break;case"details":D$2("toggle",nt);break;case"input":Za(nt,it),D$2("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$2("invalid",nt);break;case"textarea":hb(nt,it),D$2("invalid",nt)}ub(et,it),rt=null;for(var ot in it)if(it.hasOwnProperty(ot)){var st=it[ot];ot==="children"?typeof st=="string"?nt.textContent!==st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,_e),rt=["children",st]):typeof st=="number"&&nt.textContent!==""+st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,_e),rt=["children",""+st]):ea.hasOwnProperty(ot)&&st!=null&&ot==="onScroll"&&D$2("scroll",nt)}switch(et){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=rt,tt.updateQueue=nt,nt!==null&&(tt.flags|=4)}else{ot=rt.nodeType===9?rt:rt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(et)),_e==="http://www.w3.org/1999/xhtml"?et==="script"?(_e=ot.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof nt.is=="string"?_e=ot.createElement(et,{is:nt.is}):(_e=ot.createElement(et),et==="select"&&(ot=_e,nt.multiple?ot.multiple=!0:nt.size&&(ot.size=nt.size))):_e=ot.createElementNS(_e,et),_e[Of]=tt,_e[Pf]=nt,Aj(_e,tt,!1,!1),tt.stateNode=_e;e:{switch(ot=vb(et,nt),et){case"dialog":D$2("cancel",_e),D$2("close",_e),rt=nt;break;case"iframe":case"object":case"embed":D$2("load",_e),rt=nt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$2(lf[rt],_e);rt=nt;break;case"source":D$2("error",_e),rt=nt;break;case"img":case"image":case"link":D$2("error",_e),D$2("load",_e),rt=nt;break;case"details":D$2("toggle",_e),rt=nt;break;case"input":Za(_e,nt),rt=Ya(_e,nt),D$2("invalid",_e);break;case"option":rt=nt;break;case"select":_e._wrapperState={wasMultiple:!!nt.multiple},rt=A$3({},nt,{value:void 0}),D$2("invalid",_e);break;case"textarea":hb(_e,nt),rt=gb(_e,nt),D$2("invalid",_e);break;default:rt=nt}ub(et,rt),st=rt;for(it in st)if(st.hasOwnProperty(it)){var at=st[it];it==="style"?sb(_e,at):it==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&nb(_e,at)):it==="children"?typeof at=="string"?(et!=="textarea"||at!=="")&&ob(_e,at):typeof at=="number"&&ob(_e,""+at):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?at!=null&&it==="onScroll"&&D$2("scroll",_e):at!=null&&ta(_e,it,at,ot))}switch(et){case"input":Va(_e),db(_e,nt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":nt.value!=null&&_e.setAttribute("value",""+Sa(nt.value));break;case"select":_e.multiple=!!nt.multiple,it=nt.value,it!=null?fb(_e,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(_e,!!nt.multiple,nt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(_e.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(tt.flags|=4)}tt.ref!==null&&(tt.flags|=512,tt.flags|=2097152)}return S$3(tt),null;case 6:if(_e&&tt.stateNode!=null)Dj(_e,tt,_e.memoizedProps,nt);else{if(typeof nt!="string"&&tt.stateNode===null)throw Error(p$6(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(tt)){if(nt=tt.stateNode,et=tt.memoizedProps,nt[Of]=tt,(it=nt.nodeValue!==et)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(nt.nodeValue,et,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,et,(_e.mode&1)!==0)}it&&(tt.flags|=4)}else nt=(et.nodeType===9?et:et.ownerDocument).createTextNode(nt),nt[Of]=tt,tt.stateNode=nt}return S$3(tt),null;case 13:if(E$2(M$2),nt=tt.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&tt.mode&1&&!(tt.flags&128))Hg(),Ig(),tt.flags|=98560,it=!1;else if(it=Gg(tt),nt!==null&&nt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$6(318));if(it=tt.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$6(317));it[Of]=tt}else Ig(),!(tt.flags&128)&&(tt.memoizedState=null),tt.flags|=4;S$3(tt),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return tt.flags&65536?tt:null}return tt.flags&128?(tt.lanes=et,tt):(nt=nt!==null,nt!==(_e!==null&&_e.memoizedState!==null)&&nt&&(tt.child.flags|=8192,tt.mode&1&&(_e===null||M$2.current&1?T$1===0&&(T$1=3):uj())),tt.updateQueue!==null&&(tt.flags|=4),S$3(tt),null);case 4:return Jh(),Bj(_e,tt),_e===null&&sf(tt.stateNode.containerInfo),S$3(tt),null;case 10:return Rg(tt.type._context),S$3(tt),null;case 17:return Zf(tt.type)&&$f(),S$3(tt),null;case 19:if(E$2(M$2),it=tt.memoizedState,it===null)return S$3(tt),null;if(nt=(tt.flags&128)!==0,ot=it.rendering,ot===null)if(nt)Ej(it,!1);else{if(T$1!==0||_e!==null&&_e.flags&128)for(_e=tt.child;_e!==null;){if(ot=Mh(_e),ot!==null){for(tt.flags|=128,Ej(it,!1),nt=ot.updateQueue,nt!==null&&(tt.updateQueue=nt,tt.flags|=4),tt.subtreeFlags=0,nt=et,et=tt.child;et!==null;)it=et,_e=nt,it.flags&=14680066,ot=it.alternate,ot===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=ot.childLanes,it.lanes=ot.lanes,it.child=ot.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=ot.memoizedProps,it.memoizedState=ot.memoizedState,it.updateQueue=ot.updateQueue,it.type=ot.type,_e=ot.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),et=et.sibling;return G$1(M$2,M$2.current&1|2),tt.child}_e=_e.sibling}it.tail!==null&&B$2()>Hj&&(tt.flags|=128,nt=!0,Ej(it,!1),tt.lanes=4194304)}else{if(!nt)if(_e=Mh(ot),_e!==null){if(tt.flags|=128,nt=!0,et=_e.updateQueue,et!==null&&(tt.updateQueue=et,tt.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!ot.alternate&&!I$2)return S$3(tt),null}else 2*B$2()-it.renderingStartTime>Hj&&et!==1073741824&&(tt.flags|=128,nt=!0,Ej(it,!1),tt.lanes=4194304);it.isBackwards?(ot.sibling=tt.child,tt.child=ot):(et=it.last,et!==null?et.sibling=ot:tt.child=ot,it.last=ot)}return it.tail!==null?(tt=it.tail,it.rendering=tt,it.tail=tt.sibling,it.renderingStartTime=B$2(),tt.sibling=null,et=M$2.current,G$1(M$2,nt?et&1|2:et&1),tt):(S$3(tt),null);case 22:case 23:return Ij(),nt=tt.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==nt&&(tt.flags|=8192),nt&&tt.mode&1?gj&1073741824&&(S$3(tt),tt.subtreeFlags&6&&(tt.flags|=8192)):S$3(tt),null;case 24:return null;case 25:return null}throw Error(p$6(156,tt.tag))}function Jj(_e,tt){switch(wg(tt),tt.tag){case 1:return Zf(tt.type)&&$f(),_e=tt.flags,_e&65536?(tt.flags=_e&-65537|128,tt):null;case 3:return Jh(),E$2(Wf),E$2(H$2),Oh(),_e=tt.flags,_e&65536&&!(_e&128)?(tt.flags=_e&-65537|128,tt):null;case 5:return Lh(tt),null;case 13:if(E$2(M$2),_e=tt.memoizedState,_e!==null&&_e.dehydrated!==null){if(tt.alternate===null)throw Error(p$6(340));Ig()}return _e=tt.flags,_e&65536?(tt.flags=_e&-65537|128,tt):null;case 19:return E$2(M$2),null;case 4:return Jh(),null;case 10:return Rg(tt.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(_e,tt){var et=_e.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(nt){W$1(_e,tt,nt)}else et.current=null}function Nj(_e,tt,et){try{et()}catch(nt){W$1(_e,tt,nt)}}var Oj=!1;function Pj(_e,tt){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var et={start:_e.selectionStart,end:_e.selectionEnd};else e:{et=(et=_e.ownerDocument)&&et.defaultView||window;var nt=et.getSelection&&et.getSelection();if(nt&&nt.rangeCount!==0){et=nt.anchorNode;var rt=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{et.nodeType,it.nodeType}catch{et=null;break e}var ot=0,st=-1,at=-1,ct=0,lt=0,dt=_e,ut=null;t:for(;;){for(var ft;dt!==et||rt!==0&&dt.nodeType!==3||(st=ot+rt),dt!==it||nt!==0&&dt.nodeType!==3||(at=ot+nt),dt.nodeType===3&&(ot+=dt.nodeValue.length),(ft=dt.firstChild)!==null;)ut=dt,dt=ft;for(;;){if(dt===_e)break t;if(ut===et&&++ct===rt&&(st=ot),ut===it&&++lt===nt&&(at=ot),(ft=dt.nextSibling)!==null)break;dt=ut,ut=dt.parentNode}dt=ft}et=st===-1||at===-1?null:{start:st,end:at}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:_e,selectionRange:et},dd=!1,V$1=tt;V$1!==null;)if(tt=V$1,_e=tt.child,(tt.subtreeFlags&1028)!==0&&_e!==null)_e.return=tt,V$1=_e;else for(;V$1!==null;){tt=V$1;try{var pt=tt.alternate;if(tt.flags&1024)switch(tt.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var vt=pt.memoizedProps,Ct=pt.memoizedState,ht=tt.stateNode,mt=ht.getSnapshotBeforeUpdate(tt.elementType===tt.type?vt:Lg(tt.type,vt),Ct);ht.__reactInternalSnapshotBeforeUpdate=mt}break;case 3:var yt=tt.stateNode.containerInfo;yt.nodeType===1?yt.textContent="":yt.nodeType===9&&yt.documentElement&&yt.removeChild(yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(Et){W$1(tt,tt.return,Et)}if(_e=tt.sibling,_e!==null){_e.return=tt.return,V$1=_e;break}V$1=tt.return}return pt=Oj,Oj=!1,pt}function Qj(_e,tt,et){var nt=tt.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var rt=nt=nt.next;do{if((rt.tag&_e)===_e){var it=rt.destroy;rt.destroy=void 0,it!==void 0&&Nj(tt,et,it)}rt=rt.next}while(rt!==nt)}}function Rj(_e,tt){if(tt=tt.updateQueue,tt=tt!==null?tt.lastEffect:null,tt!==null){var et=tt=tt.next;do{if((et.tag&_e)===_e){var nt=et.create;et.destroy=nt()}et=et.next}while(et!==tt)}}function Sj(_e){var tt=_e.ref;if(tt!==null){var et=_e.stateNode;switch(_e.tag){case 5:_e=et;break;default:_e=et}typeof tt=="function"?tt(_e):tt.current=_e}}function Tj(_e){var tt=_e.alternate;tt!==null&&(_e.alternate=null,Tj(tt)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(tt=_e.stateNode,tt!==null&&(delete tt[Of],delete tt[Pf],delete tt[of],delete tt[Qf],delete tt[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,tt,et){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,tt?et.nodeType===8?et.parentNode.insertBefore(_e,tt):et.insertBefore(_e,tt):(et.nodeType===8?(tt=et.parentNode,tt.insertBefore(_e,et)):(tt=et,tt.appendChild(_e)),et=et._reactRootContainer,et!=null||tt.onclick!==null||(tt.onclick=Bf));else if(nt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,tt,et),_e=_e.sibling;_e!==null;)Wj(_e,tt,et),_e=_e.sibling}function Xj(_e,tt,et){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,tt?et.insertBefore(_e,tt):et.appendChild(_e);else if(nt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,tt,et),_e=_e.sibling;_e!==null;)Xj(_e,tt,et),_e=_e.sibling}var X$1=null,Yj=!1;function Zj(_e,tt,et){for(et=et.child;et!==null;)ak(_e,tt,et),et=et.sibling}function ak(_e,tt,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,tt);case 6:var nt=X$1,rt=Yj;X$1=null,Zj(_e,tt,et),X$1=nt,Yj=rt,X$1!==null&&(Yj?(_e=X$1,et=et.stateNode,_e.nodeType===8?_e.parentNode.removeChild(et):_e.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?(_e=X$1,et=et.stateNode,_e.nodeType===8?Kf(_e.parentNode,et):_e.nodeType===1&&Kf(_e,et),bd(_e)):Kf(X$1,et.stateNode));break;case 4:nt=X$1,rt=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj(_e,tt,et),X$1=nt,Yj=rt;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=et.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){rt=nt=nt.next;do{var it=rt,ot=it.destroy;it=it.tag,ot!==void 0&&(it&2||it&4)&&Nj(et,tt,ot),rt=rt.next}while(rt!==nt)}Zj(_e,tt,et);break;case 1:if(!U$1&&(Mj(et,tt),nt=et.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=et.memoizedProps,nt.state=et.memoizedState,nt.componentWillUnmount()}catch(st){W$1(et,tt,st)}Zj(_e,tt,et);break;case 21:Zj(_e,tt,et);break;case 22:et.mode&1?(U$1=(nt=U$1)||et.memoizedState!==null,Zj(_e,tt,et),U$1=nt):Zj(_e,tt,et);break;default:Zj(_e,tt,et)}}function bk(_e){var tt=_e.updateQueue;if(tt!==null){_e.updateQueue=null;var et=_e.stateNode;et===null&&(et=_e.stateNode=new Lj),tt.forEach(function(nt){var rt=ck.bind(null,_e,nt);et.has(nt)||(et.add(nt),nt.then(rt,rt))})}}function dk(_e,tt){var et=tt.deletions;if(et!==null)for(var nt=0;nt<et.length;nt++){var rt=et[nt];try{var it=_e,ot=tt,st=ot;e:for(;st!==null;){switch(st.tag){case 5:X$1=st.stateNode,Yj=!1;break e;case 3:X$1=st.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X$1===null)throw Error(p$6(160));ak(it,ot,rt),X$1=null,Yj=!1;var at=rt.alternate;at!==null&&(at.return=null),rt.return=null}catch(ct){W$1(rt,tt,ct)}}if(tt.subtreeFlags&12854)for(tt=tt.child;tt!==null;)ek(tt,_e),tt=tt.sibling}function ek(_e,tt){var et=_e.alternate,nt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(tt,_e),fk(_e),nt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(vt){W$1(_e,_e.return,vt)}try{Qj(5,_e,_e.return)}catch(vt){W$1(_e,_e.return,vt)}}break;case 1:dk(tt,_e),fk(_e),nt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(tt,_e),fk(_e),nt&512&&et!==null&&Mj(et,et.return),_e.flags&32){var rt=_e.stateNode;try{ob(rt,"")}catch(vt){W$1(_e,_e.return,vt)}}if(nt&4&&(rt=_e.stateNode,rt!=null)){var it=_e.memoizedProps,ot=et!==null?et.memoizedProps:it,st=_e.type,at=_e.updateQueue;if(_e.updateQueue=null,at!==null)try{st==="input"&&it.type==="radio"&&it.name!=null&&ab(rt,it),vb(st,ot);var ct=vb(st,it);for(ot=0;ot<at.length;ot+=2){var lt=at[ot],dt=at[ot+1];lt==="style"?sb(rt,dt):lt==="dangerouslySetInnerHTML"?nb(rt,dt):lt==="children"?ob(rt,dt):ta(rt,lt,dt,ct)}switch(st){case"input":bb(rt,it);break;case"textarea":ib(rt,it);break;case"select":var ut=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!it.multiple;var ft=it.value;ft!=null?fb(rt,!!it.multiple,ft,!1):ut!==!!it.multiple&&(it.defaultValue!=null?fb(rt,!!it.multiple,it.defaultValue,!0):fb(rt,!!it.multiple,it.multiple?[]:"",!1))}rt[Pf]=it}catch(vt){W$1(_e,_e.return,vt)}}break;case 6:if(dk(tt,_e),fk(_e),nt&4){if(_e.stateNode===null)throw Error(p$6(162));rt=_e.stateNode,it=_e.memoizedProps;try{rt.nodeValue=it}catch(vt){W$1(_e,_e.return,vt)}}break;case 3:if(dk(tt,_e),fk(_e),nt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(tt.containerInfo)}catch(vt){W$1(_e,_e.return,vt)}break;case 4:dk(tt,_e),fk(_e);break;case 13:dk(tt,_e),fk(_e),rt=_e.child,rt.flags&8192&&(it=rt.memoizedState!==null,rt.stateNode.isHidden=it,!it||rt.alternate!==null&&rt.alternate.memoizedState!==null||(gk=B$2())),nt&4&&bk(_e);break;case 22:if(lt=et!==null&&et.memoizedState!==null,_e.mode&1?(U$1=(ct=U$1)||lt,dk(tt,_e),U$1=ct):dk(tt,_e),fk(_e),nt&8192){if(ct=_e.memoizedState!==null,(_e.stateNode.isHidden=ct)&&!lt&&_e.mode&1)for(V$1=_e,lt=_e.child;lt!==null;){for(dt=V$1=lt;V$1!==null;){switch(ut=V$1,ft=ut.child,ut.tag){case 0:case 11:case 14:case 15:Qj(4,ut,ut.return);break;case 1:Mj(ut,ut.return);var pt=ut.stateNode;if(typeof pt.componentWillUnmount=="function"){nt=ut,et=ut.return;try{tt=nt,pt.props=tt.memoizedProps,pt.state=tt.memoizedState,pt.componentWillUnmount()}catch(vt){W$1(nt,et,vt)}}break;case 5:Mj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){hk(dt);continue}}ft!==null?(ft.return=ut,V$1=ft):hk(dt)}lt=lt.sibling}e:for(lt=null,dt=_e;;){if(dt.tag===5){if(lt===null){lt=dt;try{rt=dt.stateNode,ct?(it=rt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(st=dt.stateNode,at=dt.memoizedProps.style,ot=at!=null&&at.hasOwnProperty("display")?at.display:null,st.style.display=rb("display",ot))}catch(vt){W$1(_e,_e.return,vt)}}}else if(dt.tag===6){if(lt===null)try{dt.stateNode.nodeValue=ct?"":dt.memoizedProps}catch(vt){W$1(_e,_e.return,vt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===_e)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===_e)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===_e)break e;lt===dt&&(lt=null),dt=dt.return}lt===dt&&(lt=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk(tt,_e),fk(_e),nt&4&&bk(_e);break;case 21:break;default:dk(tt,_e),fk(_e)}}function fk(_e){var tt=_e.flags;if(tt&2){try{e:{for(var et=_e.return;et!==null;){if(Uj(et)){var nt=et;break e}et=et.return}throw Error(p$6(160))}switch(nt.tag){case 5:var rt=nt.stateNode;nt.flags&32&&(ob(rt,""),nt.flags&=-33);var it=Vj(_e);Xj(_e,it,rt);break;case 3:case 4:var ot=nt.stateNode.containerInfo,st=Vj(_e);Wj(_e,st,ot);break;default:throw Error(p$6(161))}}catch(at){W$1(_e,_e.return,at)}_e.flags&=-3}tt&4096&&(_e.flags&=-4097)}function ik(_e,tt,et){V$1=_e,jk(_e)}function jk(_e,tt,et){for(var nt=(_e.mode&1)!==0;V$1!==null;){var rt=V$1,it=rt.child;if(rt.tag===22&&nt){var ot=rt.memoizedState!==null||Kj;if(!ot){var st=rt.alternate,at=st!==null&&st.memoizedState!==null||U$1;st=Kj;var ct=U$1;if(Kj=ot,(U$1=at)&&!ct)for(V$1=rt;V$1!==null;)ot=V$1,at=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(rt):at!==null?(at.return=ot,V$1=at):kk(rt);for(;it!==null;)V$1=it,jk(it),it=it.sibling;V$1=rt,Kj=st,U$1=ct}lk(_e)}else rt.subtreeFlags&8772&&it!==null?(it.return=rt,V$1=it):lk(_e)}}function lk(_e){for(;V$1!==null;){var tt=V$1;if(tt.flags&8772){var et=tt.alternate;try{if(tt.flags&8772)switch(tt.tag){case 0:case 11:case 15:U$1||Rj(5,tt);break;case 1:var nt=tt.stateNode;if(tt.flags&4&&!U$1)if(et===null)nt.componentDidMount();else{var rt=tt.elementType===tt.type?et.memoizedProps:Lg(tt.type,et.memoizedProps);nt.componentDidUpdate(rt,et.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=tt.updateQueue;it!==null&&ih(tt,it,nt);break;case 3:var ot=tt.updateQueue;if(ot!==null){if(et=null,tt.child!==null)switch(tt.child.tag){case 5:et=tt.child.stateNode;break;case 1:et=tt.child.stateNode}ih(tt,ot,et)}break;case 5:var st=tt.stateNode;if(et===null&&tt.flags&4){et=st;var at=tt.memoizedProps;switch(tt.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&et.focus();break;case"img":at.src&&(et.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(tt.memoizedState===null){var ct=tt.alternate;if(ct!==null){var lt=ct.memoizedState;if(lt!==null){var dt=lt.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$1||tt.flags&512&&Sj(tt)}catch(ut){W$1(tt,tt.return,ut)}}if(tt===_e){V$1=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,V$1=et;break}V$1=tt.return}}function hk(_e){for(;V$1!==null;){var tt=V$1;if(tt===_e){V$1=null;break}var et=tt.sibling;if(et!==null){et.return=tt.return,V$1=et;break}V$1=tt.return}}function kk(_e){for(;V$1!==null;){var tt=V$1;try{switch(tt.tag){case 0:case 11:case 15:var et=tt.return;try{Rj(4,tt)}catch(at){W$1(tt,et,at)}break;case 1:var nt=tt.stateNode;if(typeof nt.componentDidMount=="function"){var rt=tt.return;try{nt.componentDidMount()}catch(at){W$1(tt,rt,at)}}var it=tt.return;try{Sj(tt)}catch(at){W$1(tt,it,at)}break;case 5:var ot=tt.return;try{Sj(tt)}catch(at){W$1(tt,ot,at)}}}catch(at){W$1(tt,tt.return,at)}if(tt===_e){V$1=null;break}var st=tt.sibling;if(st!==null){st.return=tt.return,V$1=st;break}V$1=tt.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$2=null,Y=null,Z$2=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(_e){return _e.mode&1?K&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function mh(_e,tt,et,nt){if(50<zk)throw zk=0,Ak=null,Error(p$6(185));Ac(_e,et,nt),(!(K&2)||_e!==R$2)&&(_e===R$2&&(!(K&2)&&(rk|=et),T$1===4&&Dk(_e,Z$2)),Ek(_e,nt),et===1&&K===0&&!(tt.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(_e,tt){var et=_e.callbackNode;wc(_e,tt);var nt=uc(_e,_e===R$2?Z$2:0);if(nt===0)et!==null&&bc(et),_e.callbackNode=null,_e.callbackPriority=0;else if(tt=nt&-nt,_e.callbackPriority!==tt){if(et!=null&&bc(et),tt===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(nt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,_e))}_e.callbackPriority=tt,_e.callbackNode=et}}function Hk(_e,tt){if(Bk=-1,Ck=0,K&6)throw Error(p$6(327));var et=_e.callbackNode;if(Ik()&&_e.callbackNode!==et)return null;var nt=uc(_e,_e===R$2?Z$2:0);if(nt===0)return null;if(nt&30||nt&_e.expiredLanes||tt)tt=Jk(_e,nt);else{tt=nt;var rt=K;K|=2;var it=Kk();(R$2!==_e||Z$2!==tt)&&(vk=null,Hj=B$2()+500,Lk(_e,tt));do try{Mk();break}catch(st){Nk(_e,st)}while(1);Qg(),nk.current=it,K=rt,Y!==null?tt=0:(R$2=null,Z$2=0,tt=T$1)}if(tt!==0){if(tt===2&&(rt=xc(_e),rt!==0&&(nt=rt,tt=Ok(_e,rt))),tt===1)throw et=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$2()),et;if(tt===6)Dk(_e,nt);else{if(rt=_e.current.alternate,!(nt&30)&&!Pk(rt)&&(tt=Jk(_e,nt),tt===2&&(it=xc(_e),it!==0&&(nt=it,tt=Ok(_e,it))),tt===1))throw et=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$2()),et;switch(_e.finishedWork=rt,_e.finishedLanes=nt,tt){case 0:case 1:throw Error(p$6(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,nt),(nt&130023424)===nt&&(tt=gk+500-B$2(),10<tt)){if(uc(_e,0)!==0)break;if(rt=_e.suspendedLanes,(rt&nt)!==nt){L$2(),_e.pingedLanes|=_e.suspendedLanes&rt;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),tt);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,nt),(nt&4194240)===nt)break;for(tt=_e.eventTimes,rt=-1;0<nt;){var ot=31-oc(nt);it=1<<ot,ot=tt[ot],ot>rt&&(rt=ot),nt&=~it}if(nt=rt,nt=B$2()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),nt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$6(329))}}}return Ek(_e,B$2()),_e.callbackNode===et?Hk.bind(null,_e):null}function Ok(_e,tt){var et=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,tt).flags|=256),_e=Jk(_e,tt),_e!==2&&(tt=uk,uk=et,tt!==null&&Gj(tt)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var tt=_e;;){if(tt.flags&16384){var et=tt.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var nt=0;nt<et.length;nt++){var rt=et[nt],it=rt.getSnapshot;rt=rt.value;try{if(!He(it(),rt))return!1}catch{return!1}}}if(et=tt.child,tt.subtreeFlags&16384&&et!==null)et.return=tt,tt=et;else{if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return!0;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}}return!0}function Dk(_e,tt){for(tt&=~sk,tt&=~rk,_e.suspendedLanes|=tt,_e.pingedLanes&=~tt,_e=_e.expirationTimes;0<tt;){var et=31-oc(tt),nt=1<<et;_e[et]=-1,tt&=~nt}}function Fk(_e){if(K&6)throw Error(p$6(327));Ik();var tt=uc(_e,0);if(!(tt&1))return Ek(_e,B$2()),null;var et=Jk(_e,tt);if(_e.tag!==0&&et===2){var nt=xc(_e);nt!==0&&(tt=nt,et=Ok(_e,nt))}if(et===1)throw et=qk,Lk(_e,0),Dk(_e,tt),Ek(_e,B$2()),et;if(et===6)throw Error(p$6(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=tt,Qk(_e,uk,vk),Ek(_e,B$2()),null}function Rk(_e,tt){var et=K;K|=1;try{return _e(tt)}finally{K=et,K===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var tt=K;K|=1;var et=pk.transition,nt=C$1;try{if(pk.transition=null,C$1=1,_e)return _e()}finally{C$1=nt,pk.transition=et,K=tt,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(_e,tt){_e.finishedWork=null,_e.finishedLanes=0;var et=_e.timeoutHandle;if(et!==-1&&(_e.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var nt=et;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$2),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$2(M$2);break;case 19:E$2(M$2);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$2=_e,Y=_e=wh(_e.current,null),Z$2=gj=tt,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(tt=0;tt<Wg.length;tt++)if(et=Wg[tt],nt=et.interleaved,nt!==null){et.interleaved=null;var rt=nt.next,it=et.pending;if(it!==null){var ot=it.next;it.next=rt,nt.next=ot}et.pending=nt}Wg=null}return _e}function Nk(_e,tt){do{var et=Y;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$2.memoizedState;nt!==null;){var rt=nt.queue;rt!==null&&(rt.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$2=O$1=N$2=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T$1=1,qk=tt,Y=null;break}e:{var it=_e,ot=et.return,st=et,at=tt;if(tt=Z$2,st.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var ct=at,lt=st,dt=lt.tag;if(!(lt.mode&1)&&(dt===0||dt===11||dt===15)){var ut=lt.alternate;ut?(lt.updateQueue=ut.updateQueue,lt.memoizedState=ut.memoizedState,lt.lanes=ut.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var ft=Vi(ot);if(ft!==null){ft.flags&=-257,Wi(ft,ot,st,it,tt),ft.mode&1&&Ti(it,ct,tt),tt=ft,at=ct;var pt=tt.updateQueue;if(pt===null){var vt=new Set;vt.add(at),tt.updateQueue=vt}else pt.add(at);break e}else{if(!(tt&1)){Ti(it,ct,tt),uj();break e}at=Error(p$6(426))}}else if(I$2&&st.mode&1){var Ct=Vi(ot);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),Wi(Ct,ot,st,it,tt),Jg(Ki(at,st));break e}}it=at=Ki(at,st),T$1!==4&&(T$1=2),tk===null?tk=[it]:tk.push(it),it=ot;do{switch(it.tag){case 3:it.flags|=65536,tt&=-tt,it.lanes|=tt;var ht=Oi(it,at,tt);fh(it,ht);break e;case 1:st=at;var mt=it.type,yt=it.stateNode;if(!(it.flags&128)&&(typeof mt.getDerivedStateFromError=="function"||yt!==null&&typeof yt.componentDidCatch=="function"&&(Si===null||!Si.has(yt)))){it.flags|=65536,tt&=-tt,it.lanes|=tt;var Et=Ri(it,st,tt);fh(it,Et);break e}}it=it.return}while(it!==null)}Tk(et)}catch(Rt){tt=Rt,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(1)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$2)}function Jk(_e,tt){var et=K;K|=2;var nt=Kk();(R$2!==_e||Z$2!==tt)&&(vk=null,Lk(_e,tt));do try{Uk();break}catch(rt){Nk(_e,rt)}while(1);if(Qg(),K=et,nk.current=nt,Y!==null)throw Error(p$6(261));return R$2=null,Z$2=0,T$1}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(_e){var tt=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,tt===null?Tk(_e):Y=tt,ok.current=null}function Tk(_e){var tt=_e;do{var et=tt.alternate;if(_e=tt.return,tt.flags&32768){if(et=Jj(et,tt),et!==null){et.flags&=32767,Y=et;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$1=6,Y=null;return}}else if(et=Fj(et,tt,gj),et!==null){Y=et;return}if(tt=tt.sibling,tt!==null){Y=tt;return}Y=tt=_e}while(tt!==null);T$1===0&&(T$1=5)}function Qk(_e,tt,et){var nt=C$1,rt=pk.transition;try{pk.transition=null,C$1=1,Xk(_e,tt,et,nt)}finally{pk.transition=rt,C$1=nt}return null}function Xk(_e,tt,et,nt){do Ik();while(xk!==null);if(K&6)throw Error(p$6(327));et=_e.finishedWork;var rt=_e.finishedLanes;if(et===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,et===_e.current)throw Error(p$6(177));_e.callbackNode=null,_e.callbackPriority=0;var it=et.lanes|et.childLanes;if(Bc(_e,it),_e===R$2&&(Y=R$2=null,Z$2=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(et.flags&15990)!==0,et.subtreeFlags&15990||it){it=pk.transition,pk.transition=null;var ot=C$1;C$1=1;var st=K;K|=4,ok.current=null,Pj(_e,et),ek(et,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=et,ik(et),dc(),K=st,C$1=ot,pk.transition=it}else _e.current=et;if(wk&&(wk=!1,xk=_e,yk=rt),it=_e.pendingLanes,it===0&&(Si=null),mc(et.stateNode),Ek(_e,B$2()),tt!==null)for(nt=_e.onRecoverableError,et=0;et<tt.length;et++)rt=tt[et],nt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),it=_e.pendingLanes,it&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),tt=pk.transition,et=C$1;try{if(pk.transition=null,C$1=16>_e?16:_e,xk===null)var nt=!1;else{if(_e=xk,xk=null,yk=0,K&6)throw Error(p$6(331));var rt=K;for(K|=4,V$1=_e.current;V$1!==null;){var it=V$1,ot=it.child;if(V$1.flags&16){var st=it.deletions;if(st!==null){for(var at=0;at<st.length;at++){var ct=st[at];for(V$1=ct;V$1!==null;){var lt=V$1;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,it)}var dt=lt.child;if(dt!==null)dt.return=lt,V$1=dt;else for(;V$1!==null;){lt=V$1;var ut=lt.sibling,ft=lt.return;if(Tj(lt),lt===ct){V$1=null;break}if(ut!==null){ut.return=ft,V$1=ut;break}V$1=ft}}}var pt=it.alternate;if(pt!==null){var vt=pt.child;if(vt!==null){pt.child=null;do{var Ct=vt.sibling;vt.sibling=null,vt=Ct}while(vt!==null)}}V$1=it}}if(it.subtreeFlags&2064&&ot!==null)ot.return=it,V$1=ot;else e:for(;V$1!==null;){if(it=V$1,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var ht=it.sibling;if(ht!==null){ht.return=it.return,V$1=ht;break e}V$1=it.return}}var mt=_e.current;for(V$1=mt;V$1!==null;){ot=V$1;var yt=ot.child;if(ot.subtreeFlags&2064&&yt!==null)yt.return=ot,V$1=yt;else e:for(ot=mt;V$1!==null;){if(st=V$1,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(Rt){W$1(st,st.return,Rt)}if(st===ot){V$1=null;break e}var Et=st.sibling;if(Et!==null){Et.return=st.return,V$1=Et;break e}V$1=st.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}nt=!0}return nt}finally{C$1=et,pk.transition=tt}}return!1}function Yk(_e,tt,et){tt=Ki(et,tt),tt=Oi(_e,tt,1),_e=dh(_e,tt,1),tt=L$2(),_e!==null&&(Ac(_e,1,tt),Ek(_e,tt))}function W$1(_e,tt,et){if(_e.tag===3)Yk(_e,_e,et);else for(;tt!==null;){if(tt.tag===3){Yk(tt,_e,et);break}else if(tt.tag===1){var nt=tt.stateNode;if(typeof tt.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){_e=Ki(et,_e),_e=Ri(tt,_e,1),tt=dh(tt,_e,1),_e=L$2(),tt!==null&&(Ac(tt,1,_e),Ek(tt,_e));break}}tt=tt.return}}function Ui(_e,tt,et){var nt=_e.pingCache;nt!==null&&nt.delete(tt),tt=L$2(),_e.pingedLanes|=_e.suspendedLanes&et,R$2===_e&&(Z$2&et)===et&&(T$1===4||T$1===3&&(Z$2&130023424)===Z$2&&500>B$2()-gk?Lk(_e,0):sk|=et),Ek(_e,tt)}function Zk(_e,tt){tt===0&&(_e.mode&1?(tt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):tt=1);var et=L$2();_e=Zg(_e,tt),_e!==null&&(Ac(_e,tt,et),Ek(_e,et))}function vj(_e){var tt=_e.memoizedState,et=0;tt!==null&&(et=tt.retryLane),Zk(_e,et)}function ck(_e,tt){var et=0;switch(_e.tag){case 13:var nt=_e.stateNode,rt=_e.memoizedState;rt!==null&&(et=rt.retryLane);break;case 19:nt=_e.stateNode;break;default:throw Error(p$6(314))}nt!==null&&nt.delete(tt),Zk(_e,et)}var Wk;Wk=function(_e,tt,et){if(_e!==null)if(_e.memoizedProps!==tt.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&et)&&!(tt.flags&128))return Ug=!1,zj(_e,tt,et);Ug=!!(_e.flags&131072)}else Ug=!1,I$2&&tt.flags&1048576&&ug(tt,ng,tt.index);switch(tt.lanes=0,tt.tag){case 2:var nt=tt.type;jj(_e,tt),_e=tt.pendingProps;var rt=Yf(tt,H$2.current);Tg(tt,et),rt=Xh(null,tt,nt,_e,rt,et);var it=bi();return tt.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(tt.tag=1,tt.memoizedState=null,tt.updateQueue=null,Zf(nt)?(it=!0,cg(tt)):it=!1,tt.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,ah(tt),rt.updater=nh,tt.stateNode=rt,rt._reactInternals=tt,rh(tt,nt,_e,et),tt=kj(null,tt,nt,!0,it,et)):(tt.tag=0,I$2&&it&&vg(tt),Yi(null,tt,rt,et),tt=tt.child),tt;case 16:nt=tt.elementType;e:{switch(jj(_e,tt),_e=tt.pendingProps,rt=nt._init,nt=rt(nt._payload),tt.type=nt,rt=tt.tag=$k(nt),_e=Lg(nt,_e),rt){case 0:tt=dj(null,tt,nt,_e,et);break e;case 1:tt=ij(null,tt,nt,_e,et);break e;case 11:tt=Zi(null,tt,nt,_e,et);break e;case 14:tt=aj(null,tt,nt,Lg(nt.type,_e),et);break e}throw Error(p$6(306,nt,""))}return tt;case 0:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),dj(_e,tt,nt,rt,et);case 1:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),ij(_e,tt,nt,rt,et);case 3:e:{if(lj(tt),_e===null)throw Error(p$6(387));nt=tt.pendingProps,it=tt.memoizedState,rt=it.element,bh(_e,tt),gh(tt,nt,null,et);var ot=tt.memoizedState;if(nt=ot.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},tt.updateQueue.baseState=it,tt.memoizedState=it,tt.flags&256){rt=Ki(Error(p$6(423)),tt),tt=mj(_e,tt,nt,et,rt);break e}else if(nt!==rt){rt=Ki(Error(p$6(424)),tt),tt=mj(_e,tt,nt,et,rt);break e}else for(yg=Lf(tt.stateNode.containerInfo.firstChild),xg=tt,I$2=!0,zg=null,et=Ch(tt,null,nt,et),tt.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),nt===rt){tt=$i(_e,tt,et);break e}Yi(_e,tt,nt,et)}tt=tt.child}return tt;case 5:return Kh(tt),_e===null&&Eg(tt),nt=tt.type,rt=tt.pendingProps,it=_e!==null?_e.memoizedProps:null,ot=rt.children,Ef(nt,rt)?ot=null:it!==null&&Ef(nt,it)&&(tt.flags|=32),hj(_e,tt),Yi(_e,tt,ot,et),tt.child;case 6:return _e===null&&Eg(tt),null;case 13:return pj(_e,tt,et);case 4:return Ih(tt,tt.stateNode.containerInfo),nt=tt.pendingProps,_e===null?tt.child=Bh(tt,null,nt,et):Yi(_e,tt,nt,et),tt.child;case 11:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),Zi(_e,tt,nt,rt,et);case 7:return Yi(_e,tt,tt.pendingProps,et),tt.child;case 8:return Yi(_e,tt,tt.pendingProps.children,et),tt.child;case 12:return Yi(_e,tt,tt.pendingProps.children,et),tt.child;case 10:e:{if(nt=tt.type._context,rt=tt.pendingProps,it=tt.memoizedProps,ot=rt.value,G$1(Mg,nt._currentValue),nt._currentValue=ot,it!==null)if(He(it.value,ot)){if(it.children===rt.children&&!Wf.current){tt=$i(_e,tt,et);break e}}else for(it=tt.child,it!==null&&(it.return=tt);it!==null;){var st=it.dependencies;if(st!==null){ot=it.child;for(var at=st.firstContext;at!==null;){if(at.context===nt){if(it.tag===1){at=ch(-1,et&-et),at.tag=2;var ct=it.updateQueue;if(ct!==null){ct=ct.shared;var lt=ct.pending;lt===null?at.next=at:(at.next=lt.next,lt.next=at),ct.pending=at}}it.lanes|=et,at=it.alternate,at!==null&&(at.lanes|=et),Sg(it.return,et,tt),st.lanes|=et;break}at=at.next}}else if(it.tag===10)ot=it.type===tt.type?null:it.child;else if(it.tag===18){if(ot=it.return,ot===null)throw Error(p$6(341));ot.lanes|=et,st=ot.alternate,st!==null&&(st.lanes|=et),Sg(ot,et,tt),ot=it.sibling}else ot=it.child;if(ot!==null)ot.return=it;else for(ot=it;ot!==null;){if(ot===tt){ot=null;break}if(it=ot.sibling,it!==null){it.return=ot.return,ot=it;break}ot=ot.return}it=ot}Yi(_e,tt,rt.children,et),tt=tt.child}return tt;case 9:return rt=tt.type,nt=tt.pendingProps.children,Tg(tt,et),rt=Vg(rt),nt=nt(rt),tt.flags|=1,Yi(_e,tt,nt,et),tt.child;case 14:return nt=tt.type,rt=Lg(nt,tt.pendingProps),rt=Lg(nt.type,rt),aj(_e,tt,nt,rt,et);case 15:return cj(_e,tt,tt.type,tt.pendingProps,et);case 17:return nt=tt.type,rt=tt.pendingProps,rt=tt.elementType===nt?rt:Lg(nt,rt),jj(_e,tt),tt.tag=1,Zf(nt)?(_e=!0,cg(tt)):_e=!1,Tg(tt,et),ph(tt,nt,rt),rh(tt,nt,rt,et),kj(null,tt,nt,!0,_e,et);case 19:return yj(_e,tt,et);case 22:return ej(_e,tt,et)}throw Error(p$6(156,tt.tag))};function Gk(_e,tt){return ac(_e,tt)}function al(_e,tt,et,nt){this.tag=_e,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=tt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,tt,et,nt){return new al(_e,tt,et,nt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,tt){var et=_e.alternate;return et===null?(et=Bg(_e.tag,tt,_e.key,_e.mode),et.elementType=_e.elementType,et.type=_e.type,et.stateNode=_e.stateNode,et.alternate=_e,_e.alternate=et):(et.pendingProps=tt,et.type=_e.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=_e.flags&14680064,et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,tt=_e.dependencies,et.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext},et.sibling=_e.sibling,et.index=_e.index,et.ref=_e.ref,et}function yh(_e,tt,et,nt,rt,it){var ot=2;if(nt=_e,typeof _e=="function")bj(_e)&&(ot=1);else if(typeof _e=="string")ot=5;else e:switch(_e){case ya:return Ah(et.children,rt,it,tt);case za:ot=8,rt|=8;break;case Aa:return _e=Bg(12,et,tt,rt|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,et,tt,rt),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,et,tt,rt),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return qj(et,rt,it,tt);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,nt=null;break e}throw Error(p$6(130,_e==null?_e:typeof _e,""))}return tt=Bg(ot,et,tt,rt),tt.elementType=_e,tt.type=nt,tt.lanes=it,tt}function Ah(_e,tt,et,nt){return _e=Bg(7,_e,nt,tt),_e.lanes=et,_e}function qj(_e,tt,et,nt){return _e=Bg(22,_e,nt,tt),_e.elementType=Ia,_e.lanes=et,_e.stateNode={isHidden:!1},_e}function xh(_e,tt,et){return _e=Bg(6,_e,null,tt),_e.lanes=et,_e}function zh(_e,tt,et){return tt=Bg(4,_e.children!==null?_e.children:[],_e.key,tt),tt.lanes=et,tt.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},tt}function bl(_e,tt,et,nt,rt){this.tag=tt,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function cl(_e,tt,et,nt,rt,it,ot,st,at){return _e=new bl(_e,tt,et,st,at),tt===1?(tt=1,it===!0&&(tt|=8)):tt=0,it=Bg(3,null,null,tt),_e.current=it,it.stateNode=_e,it.memoizedState={element:nt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),_e}function dl(_e,tt,et){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:_e,containerInfo:tt,implementation:et}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$6(170));var tt=_e;do{switch(tt.tag){case 3:tt=tt.stateNode.context;break e;case 1:if(Zf(tt.type)){tt=tt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}tt=tt.return}while(tt!==null);throw Error(p$6(171))}if(_e.tag===1){var et=_e.type;if(Zf(et))return bg(_e,et,tt)}return tt}function fl(_e,tt,et,nt,rt,it,ot,st,at){return _e=cl(et,nt,!0,_e,rt,it,ot,st,at),_e.context=el(null),et=_e.current,nt=L$2(),rt=lh(et),it=ch(nt,rt),it.callback=tt??null,dh(et,it,rt),_e.current.lanes=rt,Ac(_e,rt,nt),Ek(_e,nt),_e}function gl(_e,tt,et,nt){var rt=tt.current,it=L$2(),ot=lh(rt);return et=el(et),tt.context===null?tt.context=et:tt.pendingContext=et,tt=ch(it,ot),tt.payload={element:_e},nt=nt===void 0?null:nt,nt!==null&&(tt.callback=nt),_e=dh(rt,tt,ot),_e!==null&&(mh(_e,rt,ot,it),eh(_e,rt,ot)),ot}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,tt){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var et=_e.retryLane;_e.retryLane=et!==0&&et<tt?et:tt}}function jl(_e,tt){il(_e,tt),(_e=_e.alternate)&&il(_e,tt)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var tt=this._internalRoot;if(tt===null)throw Error(p$6(409));gl(_e,tt,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var tt=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),tt[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var tt=Hc();_e={blockedOn:null,target:_e,priority:tt};for(var et=0;et<Qc.length&&tt!==0&&tt<Qc[et].priority;et++);Qc.splice(et,0,_e),et===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,tt,et,nt,rt){if(rt){if(typeof nt=="function"){var it=nt;nt=function(){var ct=hl(ot);it.call(ct)}}var ot=fl(tt,nt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=ot,_e[uf]=ot.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),ot}for(;rt=_e.lastChild;)_e.removeChild(rt);if(typeof nt=="function"){var st=nt;nt=function(){var ct=hl(at);st.call(ct)}}var at=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=at,_e[uf]=at.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(tt,at,et,nt)}),at}function sl(_e,tt,et,nt,rt){var it=et._reactRootContainer;if(it){var ot=it;if(typeof rt=="function"){var st=rt;rt=function(){var at=hl(ot);st.call(at)}}gl(tt,ot,_e,rt)}else ot=rl(et,tt,_e,rt,nt);return hl(ot)}Ec=function(_e){switch(_e.tag){case 3:var tt=_e.stateNode;if(tt.current.memoizedState.isDehydrated){var et=tc(tt.pendingLanes);et!==0&&(Cc(tt,et|1),Ek(tt,B$2()),!(K&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(_e,1);if(nt!==null){var rt=L$2();mh(nt,_e,1,rt)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var tt=Zg(_e,134217728);if(tt!==null){var et=L$2();mh(tt,_e,134217728,et)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var tt=lh(_e),et=Zg(_e,tt);if(et!==null){var nt=L$2();mh(et,_e,tt,nt)}jl(_e,tt)}};Hc=function(){return C$1};Ic=function(_e,tt){var et=C$1;try{return C$1=_e,tt()}finally{C$1=et}};yb=function(_e,tt,et){switch(tt){case"input":if(bb(_e,et),tt=et.name,et.type==="radio"&&tt!=null){for(et=_e;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+tt)+'][type="radio"]'),tt=0;tt<et.length;tt++){var nt=et[tt];if(nt!==_e&&nt.form===_e.form){var rt=Db(nt);if(!rt)throw Error(p$6(90));Wa(nt),bb(nt,rt)}}}break;case"textarea":ib(_e,et);break;case"select":tt=et.value,tt!=null&&fb(_e,!!et.multiple,tt,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,tt){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(tt))throw Error(p$6(200));return dl(_e,tt,null,et)};reactDom_production_min.createRoot=function(_e,tt){if(!ol(_e))throw Error(p$6(299));var et=!1,nt="",rt=ll;return tt!=null&&(tt.unstable_strictMode===!0&&(et=!0),tt.identifierPrefix!==void 0&&(nt=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(rt=tt.onRecoverableError)),tt=cl(_e,1,!1,null,null,et,!1,nt,rt),_e[uf]=tt.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(tt)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var tt=_e._reactInternals;if(tt===void 0)throw typeof _e.render=="function"?Error(p$6(188)):(_e=Object.keys(_e).join(","),Error(p$6(268,_e)));return _e=Zb(tt),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,tt,et){if(!pl(tt))throw Error(p$6(200));return sl(null,_e,tt,!0,et)};reactDom_production_min.hydrateRoot=function(_e,tt,et){if(!ol(_e))throw Error(p$6(405));var nt=et!=null&&et.hydratedSources||null,rt=!1,it="",ot=ll;if(et!=null&&(et.unstable_strictMode===!0&&(rt=!0),et.identifierPrefix!==void 0&&(it=et.identifierPrefix),et.onRecoverableError!==void 0&&(ot=et.onRecoverableError)),tt=fl(tt,null,_e,1,et??null,rt,!1,it,ot),_e[uf]=tt.current,sf(_e),nt)for(_e=0;_e<nt.length;_e++)et=nt[_e],rt=et._getVersion,rt=rt(et._source),tt.mutableSourceEagerHydrationData==null?tt.mutableSourceEagerHydrationData=[et,rt]:tt.mutableSourceEagerHydrationData.push(et,rt);return new nl(tt)};reactDom_production_min.render=function(_e,tt,et){if(!pl(tt))throw Error(p$6(200));return sl(null,_e,tt,!1,et)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$6(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,tt,et,nt){if(!pl(et))throw Error(p$6(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$6(38));return sl(_e,tt,et,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$5=reactDomExports;client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$3.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function tt(nt,rt){let{pathname:it,search:ot,hash:st}=nt.location;return createLocation("",{pathname:it,search:ot,hash:st},rt.state&&rt.state.usr||null,rt.state&&rt.state.key||"default")}function et(nt,rt){return typeof rt=="string"?rt:createPath(rt)}return getUrlBasedHistory(tt,et,null,_e)}function invariant(_e,tt){if(_e===!1||_e===null||typeof _e>"u")throw new Error(tt)}function warning(_e,tt){if(!_e){typeof console<"u"&&console.warn(tt);try{throw new Error(tt)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,tt){return{usr:_e.state,key:_e.key,idx:tt}}function createLocation(_e,tt,et,nt){return et===void 0&&(et=null),_extends$3({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof tt=="string"?parsePath(tt):tt,{state:et,key:tt&&tt.key||nt||createKey()})}function createPath(_e){let{pathname:tt="/",search:et="",hash:nt=""}=_e;return et&&et!=="?"&&(tt+=et.charAt(0)==="?"?et:"?"+et),nt&&nt!=="#"&&(tt+=nt.charAt(0)==="#"?nt:"#"+nt),tt}function parsePath(_e){let tt={};if(_e){let et=_e.indexOf("#");et>=0&&(tt.hash=_e.substr(et),_e=_e.substr(0,et));let nt=_e.indexOf("?");nt>=0&&(tt.search=_e.substr(nt),_e=_e.substr(0,nt)),_e&&(tt.pathname=_e)}return tt}function getUrlBasedHistory(_e,tt,et,nt){nt===void 0&&(nt={});let{window:rt=document.defaultView,v5Compat:it=!1}=nt,ot=rt.history,st=Action.Pop,at=null,ct=lt();ct==null&&(ct=0,ot.replaceState(_extends$3({},ot.state,{idx:ct}),""));function lt(){return(ot.state||{idx:null}).idx}function dt(){st=Action.Pop;let Ct=lt(),ht=Ct==null?null:Ct-ct;ct=Ct,at&&at({action:st,location:vt.location,delta:ht})}function ut(Ct,ht){st=Action.Push;let mt=createLocation(vt.location,Ct,ht);et&&et(mt,Ct),ct=lt()+1;let yt=getHistoryState(mt,ct),Et=vt.createHref(mt);try{ot.pushState(yt,"",Et)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;rt.location.assign(Et)}it&&at&&at({action:st,location:vt.location,delta:1})}function ft(Ct,ht){st=Action.Replace;let mt=createLocation(vt.location,Ct,ht);et&&et(mt,Ct),ct=lt();let yt=getHistoryState(mt,ct),Et=vt.createHref(mt);ot.replaceState(yt,"",Et),it&&at&&at({action:st,location:vt.location,delta:0})}function pt(Ct){let ht=rt.location.origin!=="null"?rt.location.origin:rt.location.href,mt=typeof Ct=="string"?Ct:createPath(Ct);return invariant(ht,"No window.location.(origin|href) available to create URL for href: "+mt),new URL(mt,ht)}let vt={get action(){return st},get location(){return _e(rt,ot)},listen(Ct){if(at)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,dt),at=Ct,()=>{rt.removeEventListener(PopStateEventType,dt),at=null}},createHref(Ct){return tt(rt,Ct)},createURL:pt,encodeLocation(Ct){let ht=pt(Ct);return{pathname:ht.pathname,search:ht.search,hash:ht.hash}},push:ut,replace:ft,go(Ct){return ot.go(Ct)}};return vt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,tt,et){et===void 0&&(et="/");let nt=typeof tt=="string"?parsePath(tt):tt,rt=stripBasename(nt.pathname||"/",et);if(rt==null)return null;let it=flattenRoutes(_e);rankRouteBranches(it);let ot=null;for(let st=0;ot==null&&st<it.length;++st)ot=matchRouteBranch(it[st],safelyDecodeURI(rt));return ot}function flattenRoutes(_e,tt,et,nt){tt===void 0&&(tt=[]),et===void 0&&(et=[]),nt===void 0&&(nt="");let rt=(it,ot,st)=>{let at={relativePath:st===void 0?it.path||"":st,caseSensitive:it.caseSensitive===!0,childrenIndex:ot,route:it};at.relativePath.startsWith("/")&&(invariant(at.relativePath.startsWith(nt),'Absolute route path "'+at.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),at.relativePath=at.relativePath.slice(nt.length));let ct=joinPaths([nt,at.relativePath]),lt=et.concat(at);it.children&&it.children.length>0&&(invariant(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(it.children,tt,lt,ct)),!(it.path==null&&!it.index)&&tt.push({path:ct,score:computeScore(ct,it.index),routesMeta:lt})};return _e.forEach((it,ot)=>{var st;if(it.path===""||!((st=it.path)!=null&&st.includes("?")))rt(it,ot);else for(let at of explodeOptionalSegments(it.path))rt(it,ot,at)}),tt}function explodeOptionalSegments(_e){let tt=_e.split("/");if(tt.length===0)return[];let[et,...nt]=tt,rt=et.endsWith("?"),it=et.replace(/\?$/,"");if(nt.length===0)return rt?[it,""]:[it];let ot=explodeOptionalSegments(nt.join("/")),st=[];return st.push(...ot.map(at=>at===""?it:[it,at].join("/"))),rt&&st.push(...ot),st.map(at=>_e.startsWith("/")&&at===""?"/":at)}function rankRouteBranches(_e){_e.sort((tt,et)=>tt.score!==et.score?et.score-tt.score:compareIndexes(tt.routesMeta.map(nt=>nt.childrenIndex),et.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,tt){let et=_e.split("/"),nt=et.length;return et.some(isSplat)&&(nt+=splatPenalty),tt&&(nt+=indexRouteValue),et.filter(rt=>!isSplat(rt)).reduce((rt,it)=>rt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(_e,tt){return _e.length===tt.length&&_e.slice(0,-1).every((nt,rt)=>nt===tt[rt])?_e[_e.length-1]-tt[tt.length-1]:0}function matchRouteBranch(_e,tt){let{routesMeta:et}=_e,nt={},rt="/",it=[];for(let ot=0;ot<et.length;++ot){let st=et[ot],at=ot===et.length-1,ct=rt==="/"?tt:tt.slice(rt.length)||"/",lt=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:at},ct);if(!lt)return null;Object.assign(nt,lt.params);let dt=st.route;it.push({params:nt,pathname:joinPaths([rt,lt.pathname]),pathnameBase:normalizePathname(joinPaths([rt,lt.pathnameBase])),route:dt}),lt.pathnameBase!=="/"&&(rt=joinPaths([rt,lt.pathnameBase]))}return it}function matchPath(_e,tt){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[et,nt]=compilePath(_e.path,_e.caseSensitive,_e.end),rt=tt.match(et);if(!rt)return null;let it=rt[0],ot=it.replace(/(.)\/+$/,"$1"),st=rt.slice(1);return{params:nt.reduce((ct,lt,dt)=>{if(lt==="*"){let ut=st[dt]||"";ot=it.slice(0,it.length-ut.length).replace(/(.)\/+$/,"$1")}return ct[lt]=safelyDecodeURIComponent(st[dt]||"",lt),ct},{}),pathname:it,pathnameBase:ot,pattern:_e}}function compilePath(_e,tt,et){tt===void 0&&(tt=!1),et===void 0&&(et=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let nt=[],rt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(ot,st)=>(nt.push(st),"/([^\\/]+)"));return _e.endsWith("*")?(nt.push("*"),rt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?rt+="\\/*$":_e!==""&&_e!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,tt?void 0:"i"),nt]}function safelyDecodeURI(_e){try{return decodeURI(_e)}catch(tt){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+tt+").")),_e}}function safelyDecodeURIComponent(_e,tt){try{return decodeURIComponent(_e)}catch(et){return warning(!1,'The value for the URL param "'+tt+'" will not be decoded because'+(' the string "'+_e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+et+").")),_e}}function stripBasename(_e,tt){if(tt==="/")return _e;if(!_e.toLowerCase().startsWith(tt.toLowerCase()))return null;let et=tt.endsWith("/")?tt.length-1:tt.length,nt=_e.charAt(et);return nt&&nt!=="/"?null:_e.slice(et)||"/"}function resolvePath(_e,tt){tt===void 0&&(tt="/");let{pathname:et,search:nt="",hash:rt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,tt):tt,search:normalizeSearch(nt),hash:normalizeHash(rt)}}function resolvePathname(_e,tt){let et=tt.replace(/\/+$/,"").split("/");return _e.split("/").forEach(rt=>{rt===".."?et.length>1&&et.pop():rt!=="."&&et.push(rt)}),et.length>1?et.join("/"):"/"}function getInvalidPathError(_e,tt,et,nt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+tt+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter((tt,et)=>et===0||tt.route.path&&tt.route.path.length>0)}function resolveTo(_e,tt,et,nt){nt===void 0&&(nt=!1);let rt;typeof _e=="string"?rt=parsePath(_e):(rt=_extends$3({},_e),invariant(!rt.pathname||!rt.pathname.includes("?"),getInvalidPathError("?","pathname","search",rt)),invariant(!rt.pathname||!rt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rt)),invariant(!rt.search||!rt.search.includes("#"),getInvalidPathError("#","search","hash",rt)));let it=_e===""||rt.pathname==="",ot=it?"/":rt.pathname,st;if(nt||ot==null)st=et;else{let dt=tt.length-1;if(ot.startsWith("..")){let ut=ot.split("/");for(;ut[0]==="..";)ut.shift(),dt-=1;rt.pathname=ut.join("/")}st=dt>=0?tt[dt]:"/"}let at=resolvePath(rt,st),ct=ot&&ot!=="/"&&ot.endsWith("/"),lt=(it||ot===".")&&et.endsWith("/");return!at.pathname.endsWith("/")&&(ct||lt)&&(at.pathname+="/"),at}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(_e,tt){let{relative:et}=tt===void 0?{}:tt;useInRouterContext()||invariant(!1);let{basename:nt,navigator:rt}=reactExports.useContext(NavigationContext),{hash:it,pathname:ot,search:st}=useResolvedPath(_e,{relative:et}),at=ot;return nt!=="/"&&(at=ot==="/"?nt:joinPaths([nt,ot])),rt.createHref({pathname:at,search:st,hash:it})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let _e=reactExports.useContext(DataRouterContext),{basename:tt,navigator:et}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),it=JSON.stringify(getPathContributingMatches(nt).map(at=>at.pathnameBase)),ot=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ot.current=!0}),reactExports.useCallback(function(at,ct){if(ct===void 0&&(ct={}),!ot.current)return;if(typeof at=="number"){et.go(at);return}let lt=resolveTo(at,JSON.parse(it),rt,ct.relative==="path");_e==null&&tt!=="/"&&(lt.pathname=lt.pathname==="/"?tt:joinPaths([tt,lt.pathname])),(ct.replace?et.replace:et.push)(lt,ct.state,ct)},[tt,et,it,rt,_e])}function useResolvedPath(_e,tt){let{relative:et}=tt===void 0?{}:tt,{matches:nt}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),it=JSON.stringify(getPathContributingMatches(nt).map(ot=>ot.pathnameBase));return reactExports.useMemo(()=>resolveTo(_e,JSON.parse(it),rt,et==="path"),[_e,it,rt,et])}function useRoutes(_e,tt){return useRoutesImpl(_e,tt)}function useRoutesImpl(_e,tt,et){useInRouterContext()||invariant(!1);let{navigator:nt}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),it=rt[rt.length-1],ot=it?it.params:{};it&&it.pathname;let st=it?it.pathnameBase:"/";it&&it.route;let at=useLocation(),ct;if(tt){var lt;let vt=typeof tt=="string"?parsePath(tt):tt;st==="/"||(lt=vt.pathname)!=null&&lt.startsWith(st)||invariant(!1),ct=vt}else ct=at;let dt=ct.pathname||"/",ut=st==="/"?dt:dt.slice(st.length)||"/",ft=matchRoutes(_e,{pathname:ut}),pt=_renderMatches(ft&&ft.map(vt=>Object.assign({},vt,{params:Object.assign({},ot,vt.params),pathname:joinPaths([st,nt.encodeLocation?nt.encodeLocation(vt.pathname).pathname:vt.pathname]),pathnameBase:vt.pathnameBase==="/"?st:joinPaths([st,nt.encodeLocation?nt.encodeLocation(vt.pathnameBase).pathname:vt.pathnameBase])})),rt,et);return tt&&pt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},ct),navigationType:Action.Pop}},pt):pt}function DefaultErrorComponent(){let _e=useRouteError(),tt=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),et=_e instanceof Error?_e.stack:null,rt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},it=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},tt),et?reactExports.createElement("pre",{style:rt},et):null,it)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(tt){super(tt),this.state={location:tt.location,revalidation:tt.revalidation,error:tt.error}}static getDerivedStateFromError(tt){return{error:tt}}static getDerivedStateFromProps(tt,et){return et.location!==tt.location||et.revalidation!=="idle"&&tt.revalidation==="idle"?{error:tt.error,location:tt.location,revalidation:tt.revalidation}:{error:tt.error||et.error,location:et.location,revalidation:tt.revalidation||et.revalidation}}componentDidCatch(tt,et){console.error("React Router caught the following error during render",tt,et)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:tt,match:et,children:nt}=_e,rt=reactExports.useContext(DataRouterContext);return rt&&rt.static&&rt.staticContext&&(et.route.errorElement||et.route.ErrorBoundary)&&(rt.staticContext._deepestRenderedBoundaryId=et.route.id),reactExports.createElement(RouteContext.Provider,{value:tt},nt)}function _renderMatches(_e,tt,et){var nt;if(tt===void 0&&(tt=[]),et===void 0&&(et=null),_e==null){var rt;if((rt=et)!=null&&rt.errors)_e=et.matches;else return null}let it=_e,ot=(nt=et)==null?void 0:nt.errors;if(ot!=null){let st=it.findIndex(at=>at.route.id&&(ot==null?void 0:ot[at.route.id]));st>=0||invariant(!1),it=it.slice(0,Math.min(it.length,st+1))}return it.reduceRight((st,at,ct)=>{let lt=at.route.id?ot==null?void 0:ot[at.route.id]:null,dt=null;et&&(dt=at.route.errorElement||defaultErrorElement);let ut=tt.concat(it.slice(0,ct+1)),ft=()=>{let pt;return lt?pt=dt:at.route.Component?pt=reactExports.createElement(at.route.Component,null):at.route.element?pt=at.route.element:pt=st,reactExports.createElement(RenderedRoute,{match:at,routeContext:{outlet:st,matches:ut,isDataRoute:et!=null},children:pt})};return et&&(at.route.ErrorBoundary||at.route.errorElement||ct===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,revalidation:et.revalidation,component:dt,error:lt,children:ft(),routeContext:{outlet:null,matches:ut,isDataRoute:!0}}):ft()},null)}var DataRouterHook$1;(function(_e){_e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(_e){_e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(_e){let tt=reactExports.useContext(DataRouterContext);return tt||invariant(!1),tt}function useDataRouterState(_e){let tt=reactExports.useContext(DataRouterStateContext);return tt||invariant(!1),tt}function useRouteContext(_e){let tt=reactExports.useContext(RouteContext);return tt||invariant(!1),tt}function useCurrentRouteId(_e){let tt=useRouteContext(),et=tt.matches[tt.matches.length-1];return et.route.id||invariant(!1),et.route.id}function useRouteError(){var _e;let tt=reactExports.useContext(RouteErrorContext),et=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return tt||((_e=et.errors)==null?void 0:_e[nt])}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),tt=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{et.current=!0}),reactExports.useCallback(function(rt,it){it===void 0&&(it={}),et.current&&(typeof rt=="number"?_e.navigate(rt):_e.navigate(rt,_extends$2({fromRouteId:tt},it)))},[_e,tt])}function Route(_e){invariant(!1)}function Router(_e){let{basename:tt="/",children:et=null,location:nt,navigationType:rt=Action.Pop,navigator:it,static:ot=!1}=_e;useInRouterContext()&&invariant(!1);let st=tt.replace(/^\/*/,"/"),at=reactExports.useMemo(()=>({basename:st,navigator:it,static:ot}),[st,it,ot]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:ct="/",search:lt="",hash:dt="",state:ut=null,key:ft="default"}=nt,pt=reactExports.useMemo(()=>{let vt=stripBasename(ct,st);return vt==null?null:{location:{pathname:vt,search:lt,hash:dt,state:ut,key:ft},navigationType:rt}},[st,ct,lt,dt,ut,ft,rt]);return pt==null?null:reactExports.createElement(NavigationContext.Provider,{value:at},reactExports.createElement(LocationContext.Provider,{children:et,value:pt}))}function Routes(_e){let{children:tt,location:et}=_e;return useRoutes(createRoutesFromChildren(tt),et)}var AwaitRenderStatus;(function(_e){_e[_e.pending=0]="pending",_e[_e.success=1]="success",_e[_e.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(_e,tt){tt===void 0&&(tt=[]);let et=[];return reactExports.Children.forEach(_e,(nt,rt)=>{if(!reactExports.isValidElement(nt))return;let it=[...tt,rt];if(nt.type===reactExports.Fragment){et.push.apply(et,createRoutesFromChildren(nt.props.children,it));return}nt.type!==Route&&invariant(!1),!nt.props.index||!nt.props.children||invariant(!1);let ot={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(ot.children=createRoutesFromChildren(nt.props.children,it)),et.push(ot)}),et}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(_e,tt){if(_e==null)return{};var et={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(tt.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}function shouldProcessLinkClick(_e,tt){return _e.button===0&&(!tt||tt==="_self")&&!isModifiedEvent(_e)}const _excluded$q=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(_e){let{basename:tt,children:et,future:nt,window:rt}=_e,it=reactExports.useRef();it.current==null&&(it.current=createBrowserHistory({window:rt,v5Compat:!0}));let ot=it.current,[st,at]=reactExports.useState({action:ot.action,location:ot.location}),{v7_startTransition:ct}=nt||{},lt=reactExports.useCallback(dt=>{ct&&startTransitionImpl?startTransitionImpl(()=>at(dt)):at(dt)},[at,ct]);return reactExports.useLayoutEffect(()=>ot.listen(lt),[ot,lt]),reactExports.createElement(Router,{basename:tt,children:et,location:st.location,navigationType:st.action,navigator:ot})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$2=reactExports.forwardRef(function(tt,et){let{onClick:nt,relative:rt,reloadDocument:it,replace:ot,state:st,target:at,to:ct,preventScrollReset:lt}=tt,dt=_objectWithoutPropertiesLoose$1(tt,_excluded$q),{basename:ut}=reactExports.useContext(NavigationContext),ft,pt=!1;if(typeof ct=="string"&&ABSOLUTE_URL_REGEX.test(ct)&&(ft=ct,isBrowser$1))try{let mt=new URL(window.location.href),yt=ct.startsWith("//")?new URL(mt.protocol+ct):new URL(ct),Et=stripBasename(yt.pathname,ut);yt.origin===mt.origin&&Et!=null?ct=Et+yt.search+yt.hash:pt=!0}catch{}let vt=useHref(ct,{relative:rt}),Ct=useLinkClickHandler(ct,{replace:ot,state:st,target:at,preventScrollReset:lt,relative:rt});function ht(mt){nt&&nt(mt),mt.defaultPrevented||Ct(mt)}return reactExports.createElement("a",_extends$1({},dt,{href:ft||vt,onClick:pt||it?nt:ht,ref:et,target:at}))});var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(_e,tt){let{target:et,replace:nt,state:rt,preventScrollReset:it,relative:ot}=tt===void 0?{}:tt,st=useNavigate(),at=useLocation(),ct=useResolvedPath(_e,{relative:ot});return reactExports.useCallback(lt=>{if(shouldProcessLinkClick(lt,et)){lt.preventDefault();let dt=nt!==void 0?nt:createPath(at)===createPath(ct);st(_e,{replace:dt,state:rt,preventScrollReset:it,relative:ot})}},[at,st,ct,nt,rt,et,_e,it,ot])}const Home=()=>jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/lobby/member",children:"Member Lobby"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/lobby/therapist",children:"Therapist Lobby"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:"/opentok-react/onboarding",children:"Onboarding test"})})]});function handleError(_e){_e&&alert(_e.message)}function createPublisherListernerMap(){return createMapFor(["accessAllowed","accessDenied","accessDialogClosed","accessDialogOpened","destroyed","mediaStopped","muteForced","streamCreated","streamDestroyed","videoDimensionsChanged","videoElementCreated"],"publisher")}function createSubscriberListenerMap(){return createMapFor(["connected","captionReceived","destroyed","disconnected","encryptionSecretMismatch","encryptionSecretMatch","videoDisabled","videoDimensionsChanged","videoDisabled","videoDisableWarning","videoDisableWarningLifted","videoElementCreated","videoEnabled"],"subscriber")}function createSessionListenersMap(){return createMapFor(["archiveStarted","archiveStopped","connectionCreated","connectionDestroyed","sessionDisconnected","sessionConnected","sessionReconnected","sessionReconnecting","signal","streamCreated","streamDestroyed","streamPropertyChanged","muteForced"],"session")}function createMapFor(_e,tt){return _e.reduce((et,nt)=>({...et,[nt]:()=>console.log(`triggered from ${tt}: ${nt}`)}),{})}const callProperties={insertMode:"append",width:"100%",height:"100%"},publisherProperties={insertMode:"append",width:"100%",height:"100%",showControls:!0};function createPublisher(_e,tt){const et={...publisherProperties,videoSource:tt,audioSource:_e},nt=OT.initPublisher("publisher",et,it=>{it&&alert("error while initializing the publisher "+(it==null?void 0:it.message))}),rt=createPublisherListernerMap();return nt.on({...rt,streamDestroyed:it=>{console.log("streamDestroyed @ Publisher, reason:",it.reason),it.preventDefault()}}),nt}function setVideoSource(_e,tt){_e.setVideoSource(tt).then(()=>console.log("video source set")).catch(et=>{console.error(et.name),console.error(et.message)})}function setAudioSource(_e,tt){_e.setAudioSource(tt).then(()=>console.log("audio source set")).catch(et=>console.error(et.name))}const Publisher=({session:_e,audioSource:tt,videoSource:et,publishToSession:nt=!0,style:rt={},connectToSession:it})=>{let ot;function st(){ot&&ot.stream&&(_e==null||_e.unpublish(ot))}return reactExports.useEffect(()=>{if(_e)return _e.on({sessionConnected:()=>{console.log("publisher listened to sessionConnected event from session"),ot=createPublisher(tt,et),nt&&(console.log("publisher about to publish to session",ot),_e.publish(ot,handleError))},"signal:republish":at=>{!_e||!ot||!(at.from!==_e.connection)||_e.publish(ot,handleError)}}),()=>{ot&&(st(),ot.off(),ot.destroy(),ot=void 0,console.log("Publisher destroyed"))}},[_e,ot]),reactExports.useEffect(()=>{!ot||!et||setVideoSource(ot,et)},[ot,et]),reactExports.useEffect(()=>{!ot||!tt||setAudioSource(ot,tt)},[tt,ot]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{id:"publisher",style:rt}),jsxRuntimeExports.jsx("button",{style:{position:"absolute",bottom:"-10%"},onClick:()=>{st()},children:"UnPublish"}),jsxRuntimeExports.jsx("button",{style:{position:"absolute",bottom:"-15%"},onClick:()=>{ot&&(_e&&_e.isConnected()?_e==null||_e.publish(ot,handleError):it==null||it())},children:"Restart Publishing"})]})},subscribeToSession=(_e,tt)=>_e.subscribe(tt,"subscriber",callProperties,handleError),Subscriber=({session:_e})=>{let tt;function et(){tt&&tt.stream&&(_e==null||_e.unsubscribe(tt))}return reactExports.useEffect(()=>{if(_e)return _e.on({streamCreated:nt=>{if(console.log("streamCreated",nt),tt=subscribeToSession(_e,nt.stream),!tt)return;const rt=createSubscriberListenerMap();tt.on({...rt,destroyed:()=>{console.log("subscriber destroyed"),_e&&_e.isConnected()&&(console.log("sending republish signal"),_e.signal({type:"republish"},handleError))}})}}),()=>{tt&&(et(),tt.off(),tt=void 0,console.log("Subscriber destroyed"))}},[_e]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{id:"subscriber"}),jsxRuntimeExports.jsx("button",{style:{position:"absolute",bottom:"-5%",zIndex:"200"},onClick:()=>{et()},children:"Destroy Subscriber"})]})};var opentok={exports:{}};/**
 * @license OpenTok.js 2.25.4 3ebf43adb
 *
 * Copyright (c) 2010-2023 TokBox, Inc.
 * Subject to the applicable Software Development Kit (SDK) License Agreement:
 * https://www.vonage.com/legal/communications-apis/terms-of-use/
 *
 * Date: Wed, 21 Jun 2023 20:53:25 GMT
 */(function(module,exports){(function(tt,et){module.exports=et()})(window,function(){return function(_e){var tt={};function et(nt){if(tt[nt])return tt[nt].exports;var rt=tt[nt]={i:nt,l:!1,exports:{}};return _e[nt].call(rt.exports,rt,rt.exports,et),rt.l=!0,rt.exports}return et.m=_e,et.c=tt,et.d=function(nt,rt,it){et.o(nt,rt)||Object.defineProperty(nt,rt,{enumerable:!0,get:it})},et.r=function(nt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(nt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(nt,"__esModule",{value:!0})},et.t=function(nt,rt){if(rt&1&&(nt=et(nt)),rt&8||rt&4&&typeof nt=="object"&&nt&&nt.__esModule)return nt;var it=Object.create(null);if(et.r(it),Object.defineProperty(it,"default",{enumerable:!0,value:nt}),rt&2&&typeof nt!="string")for(var ot in nt)et.d(it,ot,(function(st){return nt[st]}).bind(null,ot));return it},et.n=function(nt){var rt=nt&&nt.__esModule?function(){return nt.default}:function(){return nt};return et.d(rt,"a",rt),rt},et.o=function(nt,rt){return Object.prototype.hasOwnProperty.call(nt,rt)},et.p="",et(et.s=339)}([function(_e,tt,et){const nt=et(407),rt=et(191),it=et(121),ot=rt(st=>{const at={};return(()=>{Object.keys(it).forEach(lt=>{const dt=it[lt].method,ut=nt(`OpenTok:${st}:${lt.toLowerCase()}`);ut.log=console[dt].bind(console),at[lt.toLowerCase()]=ut})})(),at});ot.setLogLevel=st=>{let at;try{at=(typeof window!==void 0?window:commonjsGlobal).localStorage.debug}catch{at=""}const lt=[...Object.keys(it).map(dt=>`${st>=it[dt].priority?"":"-"}(autogen)?OpenTok:*:${dt.toLowerCase()}`),...(at||"").split(/[\s,]/).filter(dt=>dt.indexOf("(autogen)?")===-1)].filter(dt=>dt).join(",");nt.enable(lt)},_e.exports=ot},function(_e,tt){function et(nt){return nt&&nt.__esModule?nt:{default:nt}}_e.exports=et},function(_e,tt,et){(function(nt){/*!
* @overview es6-promise - a tiny implementation of Promises/A+.
* @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
* @license   Licensed under MIT license
*            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
* @version   v4.2.8+1e68dce6
*/(function(rt,it){_e.exports=it()})(this,function(){function rt(dr){var Lr=typeof dr;return dr!==null&&(Lr==="object"||Lr==="function")}function it(dr){return typeof dr=="function"}var ot=void 0;Array.isArray?ot=Array.isArray:ot=function(dr){return Object.prototype.toString.call(dr)==="[object Array]"};var st=ot,at=0,ct=void 0,lt=void 0,dt=function(Lr,Yr){Nt[at]=Lr,Nt[at+1]=Yr,at+=2,at===2&&(lt?lt(kt):Zt())};function ut(dr){lt=dr}function ft(dr){dt=dr}var pt=typeof window<"u"?window:void 0,vt=pt||{},Ct=vt.MutationObserver||vt.WebKitMutationObserver,ht=typeof self>"u"&&typeof nt<"u"&&{}.toString.call(nt)==="[object process]",mt=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function yt(){return function(){return nt.nextTick(kt)}}function Et(){return typeof ct<"u"?function(){ct(kt)}:Vt()}function Rt(){var dr=0,Lr=new Ct(kt),Yr=document.createTextNode("");return Lr.observe(Yr,{characterData:!0}),function(){Yr.data=dr=++dr%2}}function Pt(){var dr=new MessageChannel;return dr.port1.onmessage=kt,function(){return dr.port2.postMessage(0)}}function Vt(){var dr=setTimeout;return function(){return dr(kt,1)}}var Nt=new Array(1e3);function kt(){for(var dr=0;dr<at;dr+=2){var Lr=Nt[dr],Yr=Nt[dr+1];Lr(Yr),Nt[dr]=void 0,Nt[dr+1]=void 0}at=0}function wt(){try{var dr=Function("return this")().require("vertx");return ct=dr.runOnLoop||dr.runOnContext,Et()}catch{return Vt()}}var Zt=void 0;ht?Zt=yt():Ct?Zt=Rt():mt?Zt=Pt():pt===void 0?Zt=wt():Zt=Vt();function qt(dr,Lr){var Yr=this,yo=new this.constructor(sn);yo[Bt]===void 0&&Dr(yo);var Mr=Yr._state;if(Mr){var wo=arguments[Mr-1];dt(function(){return pr(Mr,yo,wo,Yr._result)})}else ur(Yr,yo,dr,Lr);return yo}function zt(dr){var Lr=this;if(dr&&typeof dr=="object"&&dr.constructor===Lr)return dr;var Yr=new Lr(sn);return Sn(Yr,dr),Yr}var Bt=Math.random().toString(36).substring(2);function sn(){}var mn=void 0,En=1,cn=2;function xn(){return new TypeError("You cannot resolve a promise with itself")}function bn(){return new TypeError("A promises callback cannot return that same promise.")}function gn(dr,Lr,Yr,yo){try{dr.call(Lr,Yr,yo)}catch(Mr){return Mr}}function vn(dr,Lr,Yr){dt(function(yo){var Mr=!1,wo=gn(Yr,Lr,function(mo){Mr||(Mr=!0,Lr!==mo?Sn(yo,mo):Ln(yo,mo))},function(mo){Mr||(Mr=!0,Jn(yo,mo))},"Settle: "+(yo._label||" unknown promise"));!Mr&&wo&&(Mr=!0,Jn(yo,wo))},dr)}function Wn(dr,Lr){Lr._state===En?Ln(dr,Lr._result):Lr._state===cn?Jn(dr,Lr._result):ur(Lr,void 0,function(Yr){return Sn(dr,Yr)},function(Yr){return Jn(dr,Yr)})}function Un(dr,Lr,Yr){Lr.constructor===dr.constructor&&Yr===qt&&Lr.constructor.resolve===zt?Wn(dr,Lr):Yr===void 0?Ln(dr,Lr):it(Yr)?vn(dr,Lr,Yr):Ln(dr,Lr)}function Sn(dr,Lr){if(dr===Lr)Jn(dr,xn());else if(rt(Lr)){var Yr=void 0;try{Yr=Lr.then}catch(yo){Jn(dr,yo);return}Un(dr,Lr,Yr)}else Ln(dr,Lr)}function On(dr){dr._onerror&&dr._onerror(dr._result),sr(dr)}function Ln(dr,Lr){dr._state===mn&&(dr._result=Lr,dr._state=En,dr._subscribers.length!==0&&dt(sr,dr))}function Jn(dr,Lr){dr._state===mn&&(dr._state=cn,dr._result=Lr,dt(On,dr))}function ur(dr,Lr,Yr,yo){var Mr=dr._subscribers,wo=Mr.length;dr._onerror=null,Mr[wo]=Lr,Mr[wo+En]=Yr,Mr[wo+cn]=yo,wo===0&&dr._state&&dt(sr,dr)}function sr(dr){var Lr=dr._subscribers,Yr=dr._state;if(Lr.length!==0){for(var yo=void 0,Mr=void 0,wo=dr._result,mo=0;mo<Lr.length;mo+=3)yo=Lr[mo],Mr=Lr[mo+Yr],yo?pr(Yr,yo,Mr,wo):Mr(wo);dr._subscribers.length=0}}function pr(dr,Lr,Yr,yo){var Mr=it(Yr),wo=void 0,mo=void 0,so=!0;if(Mr){try{wo=Yr(yo)}catch(Gr){so=!1,mo=Gr}if(Lr===wo){Jn(Lr,bn());return}}else wo=yo;Lr._state!==mn||(Mr&&so?Sn(Lr,wo):so===!1?Jn(Lr,mo):dr===En?Ln(Lr,wo):dr===cn&&Jn(Lr,wo))}function Ir(dr,Lr){try{Lr(function(yo){Sn(dr,yo)},function(yo){Jn(dr,yo)})}catch(Yr){Jn(dr,Yr)}}var Er=0;function Kr(){return Er++}function Dr(dr){dr[Bt]=Er++,dr._state=void 0,dr._result=void 0,dr._subscribers=[]}function to(){return new Error("Array Methods must be provided an Array")}var po=function(){function dr(Lr,Yr){this._instanceConstructor=Lr,this.promise=new Lr(sn),this.promise[Bt]||Dr(this.promise),st(Yr)?(this.length=Yr.length,this._remaining=Yr.length,this._result=new Array(this.length),this.length===0?Ln(this.promise,this._result):(this.length=this.length||0,this._enumerate(Yr),this._remaining===0&&Ln(this.promise,this._result))):Jn(this.promise,to())}return dr.prototype._enumerate=function(Yr){for(var yo=0;this._state===mn&&yo<Yr.length;yo++)this._eachEntry(Yr[yo],yo)},dr.prototype._eachEntry=function(Yr,yo){var Mr=this._instanceConstructor,wo=Mr.resolve;if(wo===zt){var mo=void 0,so=void 0,Gr=!1;try{mo=Yr.then}catch(Oo){Gr=!0,so=Oo}if(mo===qt&&Yr._state!==mn)this._settledAt(Yr._state,yo,Yr._result);else if(typeof mo!="function")this._remaining--,this._result[yo]=Yr;else if(Mr===qr){var wr=new Mr(sn);Gr?Jn(wr,so):Un(wr,Yr,mo),this._willSettleAt(wr,yo)}else this._willSettleAt(new Mr(function(Oo){return Oo(Yr)}),yo)}else this._willSettleAt(wo(Yr),yo)},dr.prototype._settledAt=function(Yr,yo,Mr){var wo=this.promise;wo._state===mn&&(this._remaining--,Yr===cn?Jn(wo,Mr):this._result[yo]=Mr),this._remaining===0&&Ln(wo,this._result)},dr.prototype._willSettleAt=function(Yr,yo){var Mr=this;ur(Yr,void 0,function(wo){return Mr._settledAt(En,yo,wo)},function(wo){return Mr._settledAt(cn,yo,wo)})},dr}();function Nr(dr){return new po(this,dr).promise}function br(dr){var Lr=this;return st(dr)?new Lr(function(Yr,yo){for(var Mr=dr.length,wo=0;wo<Mr;wo++)Lr.resolve(dr[wo]).then(Yr,yo)}):new Lr(function(Yr,yo){return yo(new TypeError("You must pass an array to race."))})}function zn(dr){var Lr=this,Yr=new Lr(sn);return Jn(Yr,dr),Yr}function Qn(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function cr(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var qr=function(){function dr(Lr){this[Bt]=Kr(),this._result=this._state=void 0,this._subscribers=[],sn!==Lr&&(typeof Lr!="function"&&Qn(),this instanceof dr?Ir(this,Lr):cr())}return dr.prototype.catch=function(Yr){return this.then(null,Yr)},dr.prototype.finally=function(Yr){var yo=this,Mr=yo.constructor;return it(Yr)?yo.then(function(wo){return Mr.resolve(Yr()).then(function(){return wo})},function(wo){return Mr.resolve(Yr()).then(function(){throw wo})}):yo.then(Yr,Yr)},dr}();qr.prototype.then=qt,qr.all=Nr,qr.race=br,qr.resolve=zt,qr.reject=zn,qr._setScheduler=ut,qr._setAsap=ft,qr._asap=dt;function To(){var dr=void 0;if(typeof(typeof window!==void 0?window:commonjsGlobal)<"u")dr=typeof window!==void 0?window:commonjsGlobal;else if(typeof self<"u")dr=self;else try{dr=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Lr=dr.Promise;if(Lr){var Yr=null;try{Yr=Object.prototype.toString.call(Lr.resolve())}catch{}if(Yr==="[object Promise]"&&!Lr.cast)return}dr.Promise=qr}return qr.polyfill=To,qr.Promise=qr,qr})}).call(this,et(43))},function(_e,tt,et){const rt=et(550).parse();_e.exports=rt},function(_e,tt,et){_e.exports=et(542)},function(_e,tt,et){(function(nt){function rt(ot,st,at,ct,lt,dt,ut){try{var ft=ot[dt](ut),pt=ft.value}catch(vt){at(vt);return}ft.done?st(pt):nt.resolve(pt).then(ct,lt)}function it(ot){return function(){var st=this,at=arguments;return new nt(function(ct,lt){var dt=ot.apply(st,at);function ut(pt){rt(dt,ct,lt,ut,ft,"next",pt)}function ft(pt){rt(dt,ct,lt,ut,ft,"throw",pt)}ut(void 0)})}}_e.exports=it}).call(this,et(2))},function(_e,tt,et){const nt=et(14),rt=et(17),it=et(0)("Events"),ot=et(9),st=et(412);_e.exports=function(ct){const lt=new nt;return lt.on("newListener",ut=>{lt.emit(`${ut}:added`)}),lt.on("removeListener",ut=>{lt.emit(`${ut}:removed`)}),ot(ct,{eventsDispatched:{},on(ut,ft,pt){return typeof ut=="string"&&ft?ut.split(" ").forEach(vt=>{lt.on(vt,st(ft,pt))}):Object.keys(ut).forEach(vt=>{lt.on(vt,st(ut[vt],ft))}),this},off(ut,ft,pt){return typeof ut=="string"?this.off(ut.split(" "),ft,pt):Array.isArray(ut)?ut.forEach(vt=>{ft&&rt(ft)?lt.removeListener(vt,st(ft,pt)):lt.removeAllListeners(vt)}):ut?Object.keys(ut).forEach(vt=>{lt.removeListener(vt,st(ut[vt],ft))}):lt.removeAllListeners(),this},once(ut,ft,pt){return typeof ut=="string"&&ft?ut.split(" ").forEach(vt=>{lt.once(vt,st(ft,pt))}):Object.keys(ut).forEach(vt=>{lt.once(vt,st(ut[vt],ft))}),this},dispatchEvent(ut){if(!ut.type)throw new Error("dispatchEvent: Event has no type");return ut.target||(ut.target=this),this.trigger(ut.type,ut),this},dispatchEventOnce(ut,ft){this.isEventDispatched(ut.type,ft)||(this.dispatchEvent(ut),this.eventsDispatched[ut.type]?this.eventsDispatched[ut.type].push(ft):this.eventsDispatched[ut.type]=[ft])},isEventDispatched(ut,ft){var pt;return(pt=this.eventsDispatched[ut])==null?void 0:pt.includes(ft)},trigger(ut){try{for(var ft=arguments.length,pt=new Array(ft>1?ft-1:0),vt=1;vt<ft;vt++)pt[vt-1]=arguments[vt];lt.emit(ut,...pt)}catch(Ct){it.error("An error occurred in an event handler",Ct)}return this},emit(){return ct.trigger(...arguments)},addEventListener(ut,ft,pt){return it.warn("The addEventListener() method is deprecated. Use on() or once() instead."),ct.on(ut,ft,pt)},removeEventListener(ut,ft,pt){return it.warn("The removeEventListener() method is deprecated. Use off() instead."),ct.off(ut,ft,pt)},listenerCount(ut){return lt.listenerCount(ut)}})}},function(_e,tt,et){_e.exports={AUTHENTICATION_ERROR:"OT_AUTHENTICATION_ERROR",BADLY_FORMED_RESPONSE:"OT_BADLY_FORMED_RESPONSE",CHROME_MICROPHONE_ACQUISITION_ERROR:"OT_CHROME_MICROPHONE_ACQUISITION_ERROR",CONNECT_FAILED:"OT_CONNECT_FAILED",CONNECTION_LIMIT_EXCEEDED:"OT_CONNECTION_LIMIT_EXCEEDED",CONSTRAINTS_NOT_SATISFIED:"OT_CONSTRAINTS_NOT_SATISFIED",CREATE_PEER_CONNECTION_FAILED:"OT_CREATE_PEER_CONNECTION_FAILED",DISCONNECTED:"OT_DISCONNECTED",EMPTY_RESPONSE_BODY:"OT_EMPTY_RESPONSE_BODY",GET_RTC_STATS_REPORT_NOT_SUPPORTED:"OT_GET_RTC_STATS_REPORT_NOT_SUPPORTED",HARDWARE_UNAVAILABLE:"OT_HARDWARE_UNAVAILABLE",ICE_WORKFLOW_FAILED:"OT_ICE_WORKFLOW_FAILED",INVALID_HTTP_STATUS:"OT_INVALID_HTTP_STATUS",INVALID_PARAMETER:"OT_INVALID_PARAMETER",INVALID_SESSION_ID:"OT_INVALID_SESSION_ID",MEDIA_ERR_ABORTED:"OT_MEDIA_ERR_ABORTED",MEDIA_ERR_DECODE:"OT_MEDIA_ERR_DECODE",MEDIA_ERR_NETWORK:"OT_MEDIA_ERR_NETWORK",MEDIA_ERR_SRC_NOT_SUPPORTED:"OT_MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ENDED:"OT_MEDIA_ENDED",NO_DEVICES_FOUND:"OT_NO_DEVICES_FOUND",NO_VALID_CONSTRAINTS:"OT_NO_VALID_CONSTRAINTS",NOT_CONNECTED:"OT_NOT_CONNECTED",NOT_FOUND:"OT_NOT_FOUND",NOT_SUPPORTED:"OT_NOT_SUPPORTED",PEER_CONNECTION_NOT_CONNECTED:"OT_PEER_CONNECTION_NOT_CONNECTED",PERMISSION_DENIED:"OT_PERMISSION_DENIED",RATE_LIMIT_EXCEEDED:"OT_RATE_LIMIT_EXCEEDED",REPORT_ISSUE_FAILED:"OT_REPORT_ISSUE_FAILED",SCREEN_SHARING_EXTENSION_NOT_INSTALLED:"OT_SCREEN_SHARING_EXTENSION_NOT_INSTALLED",SCREEN_SHARING_EXTENSION_NOT_REGISTERED:"OT_SCREEN_SHARING_EXTENSION_NOT_REGISTERED",SCREEN_SHARING_NOT_SUPPORTED:"OT_SCREEN_SHARING_NOT_SUPPORTED",SET_REMOTE_DESCRIPTION_FAILED:"OT_SET_REMOTE_DESCRIPTION_FAILED",FAILED_SET_CONFIGURATION:"OT_FAILED_SET_CONFIGURATION",SOCKET_ALREADY_CONNECTED_CONNECTING:"OT_SOCKET_ALREADY_CONNECTED_CONNECTING",SOCKET_CLOSE_ABNORMAL:"OT_SOCKET_CLOSE_ABNORMAL",SOCKET_CLOSE_CONNECT_EXCEPTION:"OT_SOCKET_CLOSE_CONNECT_EXCEPTION",SOCKET_CLOSE_CONNECTIVITY_LOSS:"OT_SOCKET_CLOSE_CONNECTIVITY_LOSS",SOCKET_CLOSE_FALLBACK_CODE:"OT_SOCKET_CLOSE_FALLBACK_CODE",SOCKET_CLOSE_INCONSISTENT_DATA:"OT_SOCKET_CLOSE_INCONSISTENT_DATA",SOCKET_CLOSE_NO_STATUS:"OT_SOCKET_CLOSE_NO_STATUS",SOCKET_CLOSE_POLICY_VIOLATION:"OT_SOCKET_CLOSE_POLICY_VIOLATION",SOCKET_CLOSE_GOING_AWAY:"OT_SOCKET_CLOSE_GOING_AWAY",SOCKET_CLOSE_PROTOCOL_ERROR:"OT_SOCKET_CLOSE_PROTOCOL_ERROR",SOCKET_CLOSE_TIMEOUT:"OT_SOCKET_CLOSE_TIMEOUT",SOCKET_CLOSE_TOO_LARGE:"OT_SOCKET_CLOSE_TOO_LARGE",SOCKET_CLOSE_UNEXPECTED_CONDITION:"OT_SOCKET_CLOSE_UNEXPECTED_CONDITION",SOCKET_CLOSE_UNSUPPORTED:"OT_SOCKET_CLOSE_UNSUPPORTED",STREAM_CREATE_FAILED:"OT_STREAM_CREATE_FAILED",STREAM_DESTROYED:"OT_STREAM_DESTROYED",STREAM_LIMIT_EXCEEDED:"OT_STREAM_LIMIT_EXCEEDED",STREAM_NOT_FOUND:"OT_STREAM_NOT_FOUND",UNABLE_TO_SUBSCRIBE:"OT_UNABLE_TO_SUBSCRIBE",TERMS_OF_SERVICE_FAILURE:"OT_TERMS_OF_SERVICE_FAILURE",TIMEOUT:"OT_TIMEOUT",CANCEL:"OT_CANCEL",UNABLE_TO_CAPTURE_MEDIA:"OT_UNABLE_TO_CAPTURE_MEDIA",UNABLE_TO_CAPTURE_SCREEN:"OT_UNABLE_TO_CAPTURE_SCREEN",UNEXPECTED_ERROR_CODE:"OT_UNEXPECTED_ERROR_CODE",UNEXPECTED_HTTP_STATUS:"OT_UNEXPECTED_HTTP_STATUS",UNEXPECTED_SERVER_RESPONSE:"OT_UNEXPECTED_SERVER_RESPONSE",UNKNOWN_HTTP_ERROR:"OT_UNKNOWN_HTTP_ERROR",UNSUPPORTED_BROWSER:"OT_UNSUPPORTED_BROWSER",USER_MEDIA_ACCESS_DENIED:"OT_USER_MEDIA_ACCESS_DENIED",XDOMAIN_OR_PARSING_ERROR:"OT_XDOMAIN_OR_PARSING_ERROR",API_KEY_DISABLED:"OT_API_KEY_DISABLED",UNABLE_TO_ACCESS_MEDIA_ENGINE:"OT_UNABLE_TO_ACCESS_MEDIA_ENGINE",SET_PROXY_URL_TIMING_ERROR:"OT_SET_PROXY_URL_TIMING_ERROR",PROXY_URL_ALREADY_SET_ERROR:"OT_PROXY_URL_ALREADY_SET_ERROR",SET_VIDEO_SOURCE_FAILURE:"OT_SET_VIDEO_SOURCE_FAILURE",INVALID_VIDEO_SOURCE:"OT_INVALID_VIDEO_SOURCE",REQUESTED_DEVICE_PERMISSION_DENIED:"OT_REQUESTED_DEVICE_PERMISSION_DENIED",INVALID_AUDIO_OUTPUT_SOURCE:"OT_INVALID_AUDIO_OUTPUT_SOURCE",INVALID_ENCRYPTION_SECRET:"OT_INVALID_ENCRYPTION_SECRET"}},function(_e,tt,et){const nt=et(245),rt=et(249),it=et(6),ot=et(0);nt.logging=ot("OT.$"),nt.ElementCollection=et(246),nt.env=et(3),nt.ajax=et(244),nt.statable=et(559),nt.Analytics=et(21),nt.Collection=et(248),nt.domExtras=et(560),nt.Error=et(250),rt(nt,"useLogHelpers",{value(st){const at=ot("useLogHelpersDeprecatedMixin");return Object.keys(at).forEach(ct=>{st[ct]=at[ct]}),st},name:"OT.useLogHelpers",getWarning:"Please use an external library for your debugging needs"}),nt.defaults=et(141),rt(nt,"eventing",{value:it,name:"OT.$.eventing",getWarning:"Please use an external library to create an event emitter."}),Object.keys(nt).forEach(st=>{const ct=nt[st]._attachToOTHelpers||{};Object.keys(ct).forEach(lt=>{Object.hasOwnProperty.call(nt,lt)&&!(st==="util"&&lt==="bind")&&console.warn(`More than one module is trying to define ${lt} on OTHelpers.`),nt[lt]=ct[lt]})}),_e.exports=nt},function(_e,tt,et){var nt=et(84),rt=et(41),it=et(192),ot=et(25),st=et(68),at=et(31),ct=Object.prototype,lt=ct.hasOwnProperty,dt=it(function(ut,ft){if(st(ft)||ot(ft)){rt(ft,at(ft),ut);return}for(var pt in ft)lt.call(ft,pt)&&nt(ut,pt,ft[pt])});_e.exports=dt},function(_e,tt,et){_e.exports={JS_EXCEPTION:2e3,AUTHENTICATION_ERROR:1004,INVALID_SESSION_ID:1005,CONNECT_FAILED:1006,CONNECT_REJECTED:1007,CONNECTION_TIMEOUT:1008,NOT_CONNECTED:1010,INVALID_PARAMETER:1011,P2P_CONNECTION_FAILED:1013,API_RESPONSE_FAILURE:1014,PEER_CONNECTION_NOT_CONNECTED:1015,TERMS_OF_SERVICE_FAILURE:1026,CONNECTION_LIMIT_EXCEEDED:1027,UNABLE_TO_PUBLISH:1500,UNABLE_TO_SUBSCRIBE:1501,UNSUPPORTED_VIDEO_CODEC:1502,UNABLE_TO_FORCE_DISCONNECT:1520,UNABLE_TO_FORCE_UNPUBLISH:1530,UNABLE_TO_FORCE_MUTE:1540,PUBLISHER_ICE_WORKFLOW_FAILED:1553,SUBSCRIBER_ICE_WORKFLOW_FAILED:1554,STREAM_LIMIT_EXCEEDED:1605,UNEXPECTED_SERVER_RESPONSE:2001,REPORT_ISSUE_ERROR:2011,SET_PROXY_URL_TIMING_ERROR:2021,PROXY_URL_ALREADY_SET_ERROR:2022,GET_RTC_STATS_REPORT_NOT_SUPPORTED:2031,ANVIL_BADLY_FORMED_RESPONSE:3001,ANVIL_INVALID_HTTP_STATUS:3002,ANVIL_XDOMAIN_OR_PARSING_ERROR:3003,ANVIL_UNKNOWN_HTTP_ERROR:3004,ANVIL_UNEXPECTED_ERROR_CODE:3005,ANVIL_EMPTY_RESPONSE_BODY:3006,ANVIL_CONNECT_FAILED:3007,UNABLE_TO_ACCESS_MEDIA_ENGINE:5001}},function(_e,tt){function et(nt){var rt=typeof nt;return nt!=null&&(rt=="object"||rt=="function")}_e.exports=et},function(_e,tt){var et=Array.isArray;_e.exports=et},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.OTErrorClass||et(23),st=Object.keys(it).map(at=>it[at]);return function(ct,lt,dt){if(st.indexOf(ct)===-1)return new Error(`Attempt to use invalid error name (${ct}). Original message: ${lt.message}`);if(!(lt instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(lt))))return new Error(`Did not pass Error as second argument: ${lt}`);const ut=new ot(void 0,lt.message);if(ut.name=ct,!lt.stack)try{throw lt}catch{}return ut.stack=lt.stack,dt&&(ut.code=dt),ut}}},function(_e,tt,et){(function(nt){var rt=typeof Reflect=="object"?Reflect:null,it=rt&&typeof rt.apply=="function"?rt.apply:function(kt,wt,Zt){return Function.prototype.apply.call(kt,wt,Zt)},ot;rt&&typeof rt.ownKeys=="function"?ot=rt.ownKeys:Object.getOwnPropertySymbols?ot=function(kt){return Object.getOwnPropertyNames(kt).concat(Object.getOwnPropertySymbols(kt))}:ot=function(kt){return Object.getOwnPropertyNames(kt)};function st(Nt){console&&console.warn&&console.warn(Nt)}var at=Number.isNaN||function(kt){return kt!==kt};function ct(){ct.init.call(this)}_e.exports=ct,_e.exports.once=Rt,ct.EventEmitter=ct,ct.prototype._events=void 0,ct.prototype._eventsCount=0,ct.prototype._maxListeners=void 0;var lt=10;function dt(Nt){if(typeof Nt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Nt)}Object.defineProperty(ct,"defaultMaxListeners",{enumerable:!0,get:function(){return lt},set:function(Nt){if(typeof Nt!="number"||Nt<0||at(Nt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Nt+".");lt=Nt}}),ct.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ct.prototype.setMaxListeners=function(kt){if(typeof kt!="number"||kt<0||at(kt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+kt+".");return this._maxListeners=kt,this};function ut(Nt){return Nt._maxListeners===void 0?ct.defaultMaxListeners:Nt._maxListeners}ct.prototype.getMaxListeners=function(){return ut(this)},ct.prototype.emit=function(kt){for(var wt=[],Zt=1;Zt<arguments.length;Zt++)wt.push(arguments[Zt]);var qt=kt==="error",zt=this._events;if(zt!==void 0)qt=qt&&zt.error===void 0;else if(!qt)return!1;if(qt){var Bt;if(wt.length>0&&(Bt=wt[0]),Bt instanceof Error)throw Bt;var sn=new Error("Unhandled error."+(Bt?" ("+Bt.message+")":""));throw sn.context=Bt,sn}var mn=zt[kt];if(mn===void 0)return!1;if(typeof mn=="function")it(mn,this,wt);else for(var En=mn.length,cn=mt(mn,En),Zt=0;Zt<En;++Zt)it(cn[Zt],this,wt);return!0};function ft(Nt,kt,wt,Zt){var qt,zt,Bt;if(dt(wt),zt=Nt._events,zt===void 0?(zt=Nt._events=Object.create(null),Nt._eventsCount=0):(zt.newListener!==void 0&&(Nt.emit("newListener",kt,wt.listener?wt.listener:wt),zt=Nt._events),Bt=zt[kt]),Bt===void 0)Bt=zt[kt]=wt,++Nt._eventsCount;else if(typeof Bt=="function"?Bt=zt[kt]=Zt?[wt,Bt]:[Bt,wt]:Zt?Bt.unshift(wt):Bt.push(wt),qt=ut(Nt),qt>0&&Bt.length>qt&&!Bt.warned){Bt.warned=!0;var sn=new Error("Possible EventEmitter memory leak detected. "+Bt.length+" "+String(kt)+" listeners added. Use emitter.setMaxListeners() to increase limit");sn.name="MaxListenersExceededWarning",sn.emitter=Nt,sn.type=kt,sn.count=Bt.length,st(sn)}return Nt}ct.prototype.addListener=function(kt,wt){return ft(this,kt,wt,!1)},ct.prototype.on=ct.prototype.addListener,ct.prototype.prependListener=function(kt,wt){return ft(this,kt,wt,!0)};function pt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function vt(Nt,kt,wt){var Zt={fired:!1,wrapFn:void 0,target:Nt,type:kt,listener:wt},qt=pt.bind(Zt);return qt.listener=wt,Zt.wrapFn=qt,qt}ct.prototype.once=function(kt,wt){return dt(wt),this.on(kt,vt(this,kt,wt)),this},ct.prototype.prependOnceListener=function(kt,wt){return dt(wt),this.prependListener(kt,vt(this,kt,wt)),this},ct.prototype.removeListener=function(kt,wt){var Zt,qt,zt,Bt,sn;if(dt(wt),qt=this._events,qt===void 0)return this;if(Zt=qt[kt],Zt===void 0)return this;if(Zt===wt||Zt.listener===wt)--this._eventsCount===0?this._events=Object.create(null):(delete qt[kt],qt.removeListener&&this.emit("removeListener",kt,Zt.listener||wt));else if(typeof Zt!="function"){for(zt=-1,Bt=Zt.length-1;Bt>=0;Bt--)if(Zt[Bt]===wt||Zt[Bt].listener===wt){sn=Zt[Bt].listener,zt=Bt;break}if(zt<0)return this;zt===0?Zt.shift():yt(Zt,zt),Zt.length===1&&(qt[kt]=Zt[0]),qt.removeListener!==void 0&&this.emit("removeListener",kt,sn||wt)}return this},ct.prototype.off=ct.prototype.removeListener,ct.prototype.removeAllListeners=function(kt){var wt,Zt,qt;if(Zt=this._events,Zt===void 0)return this;if(Zt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Zt[kt]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Zt[kt]),this;if(arguments.length===0){var zt=Object.keys(Zt),Bt;for(qt=0;qt<zt.length;++qt)Bt=zt[qt],Bt!=="removeListener"&&this.removeAllListeners(Bt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(wt=Zt[kt],typeof wt=="function")this.removeListener(kt,wt);else if(wt!==void 0)for(qt=wt.length-1;qt>=0;qt--)this.removeListener(kt,wt[qt]);return this};function Ct(Nt,kt,wt){var Zt=Nt._events;if(Zt===void 0)return[];var qt=Zt[kt];return qt===void 0?[]:typeof qt=="function"?wt?[qt.listener||qt]:[qt]:wt?Et(qt):mt(qt,qt.length)}ct.prototype.listeners=function(kt){return Ct(this,kt,!0)},ct.prototype.rawListeners=function(kt){return Ct(this,kt,!1)},ct.listenerCount=function(Nt,kt){return typeof Nt.listenerCount=="function"?Nt.listenerCount(kt):ht.call(Nt,kt)},ct.prototype.listenerCount=ht;function ht(Nt){var kt=this._events;if(kt!==void 0){var wt=kt[Nt];if(typeof wt=="function")return 1;if(wt!==void 0)return wt.length}return 0}ct.prototype.eventNames=function(){return this._eventsCount>0?ot(this._events):[]};function mt(Nt,kt){for(var wt=new Array(kt),Zt=0;Zt<kt;++Zt)wt[Zt]=Nt[Zt];return wt}function yt(Nt,kt){for(;kt+1<Nt.length;kt++)Nt[kt]=Nt[kt+1];Nt.pop()}function Et(Nt){for(var kt=new Array(Nt.length),wt=0;wt<kt.length;++wt)kt[wt]=Nt[wt].listener||Nt[wt];return kt}function Rt(Nt,kt){return new nt(function(wt,Zt){function qt(Bt){Nt.removeListener(kt,zt),Zt(Bt)}function zt(){typeof Nt.removeListener=="function"&&Nt.removeListener("error",qt),wt([].slice.call(arguments))}Vt(Nt,kt,zt,{once:!0}),kt!=="error"&&Pt(Nt,qt,{once:!0})})}function Pt(Nt,kt,wt){typeof Nt.on=="function"&&Vt(Nt,"error",kt,wt)}function Vt(Nt,kt,wt,Zt){if(typeof Nt.on=="function")Zt.once?Nt.once(kt,wt):Nt.on(kt,wt);else if(typeof Nt.addEventListener=="function")Nt.addEventListener(kt,function qt(zt){Zt.once&&Nt.removeEventListener(kt,qt),wt(zt)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Nt)}}).call(this,et(2))},function(_e,tt,et){var nt=et(174),rt=typeof self=="object"&&self&&self.Object===Object&&self,it=nt||rt||Function("return this")();_e.exports=it},function(_e,tt,et){var nt=et(544),rt=et(545),it=rt;it.v1=nt,it.v4=rt,_e.exports=it},function(_e,tt,et){var nt=et(30),rt=et(11),it="[object AsyncFunction]",ot="[object Function]",st="[object GeneratorFunction]",at="[object Proxy]";function ct(lt){if(!rt(lt))return!1;var dt=nt(lt);return dt==ot||dt==st||dt==it||dt==at}_e.exports=ct},function(_e,tt){function et(nt){return nt!=null&&typeof nt=="object"}_e.exports=et},function(_e,tt,et){var nt=et(208),rt=Object.prototype.toString;function it(Zt){return rt.call(Zt)==="[object Array]"}function ot(Zt){return typeof Zt>"u"}function st(Zt){return Zt!==null&&!ot(Zt)&&Zt.constructor!==null&&!ot(Zt.constructor)&&typeof Zt.constructor.isBuffer=="function"&&Zt.constructor.isBuffer(Zt)}function at(Zt){return rt.call(Zt)==="[object ArrayBuffer]"}function ct(Zt){return typeof FormData<"u"&&Zt instanceof FormData}function lt(Zt){var qt;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?qt=ArrayBuffer.isView(Zt):qt=Zt&&Zt.buffer&&Zt.buffer instanceof ArrayBuffer,qt}function dt(Zt){return typeof Zt=="string"}function ut(Zt){return typeof Zt=="number"}function ft(Zt){return Zt!==null&&typeof Zt=="object"}function pt(Zt){if(rt.call(Zt)!=="[object Object]")return!1;var qt=Object.getPrototypeOf(Zt);return qt===null||qt===Object.prototype}function vt(Zt){return rt.call(Zt)==="[object Date]"}function Ct(Zt){return rt.call(Zt)==="[object File]"}function ht(Zt){return rt.call(Zt)==="[object Blob]"}function mt(Zt){return rt.call(Zt)==="[object Function]"}function yt(Zt){return ft(Zt)&&mt(Zt.pipe)}function Et(Zt){return typeof URLSearchParams<"u"&&Zt instanceof URLSearchParams}function Rt(Zt){return Zt.trim?Zt.trim():Zt.replace(/^\s+|\s+$/g,"")}function Pt(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Vt(Zt,qt){if(!(Zt===null||typeof Zt>"u"))if(typeof Zt!="object"&&(Zt=[Zt]),it(Zt))for(var zt=0,Bt=Zt.length;zt<Bt;zt++)qt.call(null,Zt[zt],zt,Zt);else for(var sn in Zt)Object.prototype.hasOwnProperty.call(Zt,sn)&&qt.call(null,Zt[sn],sn,Zt)}function Nt(){var Zt={};function qt(sn,mn){pt(Zt[mn])&&pt(sn)?Zt[mn]=Nt(Zt[mn],sn):pt(sn)?Zt[mn]=Nt({},sn):it(sn)?Zt[mn]=sn.slice():Zt[mn]=sn}for(var zt=0,Bt=arguments.length;zt<Bt;zt++)Vt(arguments[zt],qt);return Zt}function kt(Zt,qt,zt){return Vt(qt,function(sn,mn){zt&&typeof sn=="function"?Zt[mn]=nt(sn,zt):Zt[mn]=sn}),Zt}function wt(Zt){return Zt.charCodeAt(0)===65279&&(Zt=Zt.slice(1)),Zt}_e.exports={isArray:it,isArrayBuffer:at,isBuffer:st,isFormData:ct,isArrayBufferView:lt,isString:dt,isNumber:ut,isObject:ft,isPlainObject:pt,isUndefined:ot,isDate:vt,isFile:Ct,isBlob:ht,isFunction:mt,isStream:yt,isURLSearchParams:Et,isStandardBrowserEnv:Pt,forEach:Vt,merge:Nt,extend:kt,trim:Rt,stripBOM:wt}},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5)),st=rt(et(289));_e.exports=function(at){at===void 0&&(at={});const ct=at.getNativeEnumerateDevices||et(288)(),lt=at.getNativeMediaDevices||et(650)(),dt=at.currentAudioOutputDevice||et(107),ut=dt.getCurrentAudioOutputDeviceId,ft=at.currentAudioInputDevice||st.default,pt=ft.getCurrentAudioInputDevice,vt=at.env||et(3),Ct=at.global||(typeof window!==void 0?window:commonjsGlobal),ht={},mt={audio:"audioInput",video:"videoInput",audioinput:"audioInput",videoinput:"videoInput",audiooutput:"audioOutput",audioInput:"audioInput",videoInput:"videoInput",audioOutput:"audioOutput"},yt=()=>ct()();return ht.getNativeMediaDevices=()=>lt(),ht.hasEnumerateDevicesCapability=()=>typeof ct()=="function",ht.hasDeviceChangeCapability=()=>{const Et=lt();return!!(Et&&"ondevicechange"in Et)},ht.hasSetSinkIdCapability=()=>"setSinkId"in(Ct==null?void 0:Ct.HTMLMediaElement.prototype),ht.hasAudioOutputApiSupport=()=>ht.hasSetSinkIdCapability()&&ht.hasDeviceChangeCapability(),ht.hasEnumerateDevicesBug=()=>vt.isSafari&&vt.version===13.1,ht.getMediaDevices=()=>ht.hasEnumerateDevicesCapability()?yt().then(Et=>Et.map(Rt=>({deviceId:Rt.deviceId||Rt.id,label:Rt.label,kind:mt[Rt.kind]}))):nt.reject(new Error("This browser does not support enumerateDevices APIs")),ht.getInputMediaDevices=()=>ht.getMediaDevices().then(Et=>Et.filter(Rt=>/^(audio|video)Input$/.test(Rt.kind))),ht.getAudioOutputMediaDevices=()=>ht.getMediaDevices().then(Et=>Et.filter(Rt=>Rt.kind==="audioOutput").map(Rt=>{let Pt=Rt.deviceId,Vt=Rt.label;return{deviceId:Pt,label:Vt}})),ht.getAudioInputMediaDevices=()=>ht.getMediaDevices().then(Et=>Et.filter(Rt=>Rt.kind==="audioInput").map(Rt=>{let Pt=Rt.deviceId,Vt=Rt.label;return{deviceId:Pt,label:Vt}})),ht.shouldAskForDevices=()=>ht.hasEnumerateDevicesCapability()?ht.getInputMediaDevices().then(Et=>{if(Et.length===0)return{video:!0,audio:!0};const Rt=Et.filter(Vt=>Vt.kind==="audioInput"),Pt=Et.filter(Vt=>Vt.kind==="videoInput");return ht.hasEnumerateDevicesBug()&&Pt.length===0?{audio:!0,video:!0}:{video:Pt.length>0,audio:Rt.length>0,videoDevices:Pt,audioDevices:Rt}}).catch(()=>({video:!0,audio:!0})):nt.resolve({video:!0,audio:!0}),ht.getDefaultAudioOutputDeviceId=Et=>!Array.isArray(Et)||Et.length===0?"":(Et.find(Vt=>Vt.deviceId==="default")||Et[0]).deviceId,ht.getDefaultAudioInputDevice=Et=>!Array.isArray(Et)||Et.length===0?"":Et.find(Rt=>Rt.deviceId==="default")||Et[0],ht.hasDevice=(Et,Rt)=>{let Pt=Et;return Array.isArray(Pt)||(Pt=[]),Pt.some(Vt=>Vt.deviceId===Rt)},ht.getActiveAudioInputDevice=(0,ot.default)(it.default.mark(function Et(){var Rt,Pt,Vt;return it.default.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return kt.next=2,ht.getAudioInputMediaDevices();case 2:if(Rt=kt.sent,Rt.length!==0){kt.next=5;break}return kt.abrupt("return",{deviceId:null,label:null});case 5:return Pt=pt(),Pt||(Vt=ht.getDefaultAudioInputDevice(Rt),Pt=Rt.find(wt=>wt===Vt)),kt.abrupt("return",Pt);case 8:case"end":return kt.stop()}},Et)})),ht.getActiveAudioOutputDevice=(0,ot.default)(it.default.mark(function Et(){var Rt,Pt,Vt;return it.default.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return kt.prev=0,kt.next=3,ht.getAudioOutputMediaDevices();case 3:Rt=kt.sent,kt.next=9;break;case 6:throw kt.prev=6,kt.t0=kt.catch(0),kt.t0;case 9:if(Rt.length!==0){kt.next=11;break}return kt.abrupt("return",{deviceId:null,label:null});case 11:return Pt=Rt.find(wt=>wt.deviceId===ut()),Pt||(Vt=ht.getDefaultAudioOutputDeviceId(Rt),Pt=Rt.find(wt=>wt.deviceId===Vt)),kt.abrupt("return",Pt);case 14:case"end":return kt.stop()}},Et,null,[[0,6]])})),ht}}).call(this,et(2))},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(46));const st=et(241),at=et(546),ct=et(142),lt=et(35)(),dt=et(561),ut=et(6),ft=et(563),pt=et(566),vt="2";let Ct=function(){function ht(yt){let Et=yt===void 0?{}:yt,Rt=Et.staticConfig,Pt=Rt===void 0?lt.onlyLocal():Rt,Vt=Et.sessionInfo,Nt=Vt===void 0?new ct:Vt,kt=Et.ajax,wt=Et.queue,Zt=Et.getUserAgentClientHintData,qt=Zt===void 0?pt:Zt,zt=Et.userAgentData,Bt=zt===void 0?typeof navigator<"u"&&navigator.userAgentData:zt;this.getTurnServerName=sn=>{let mn,En;return!sn||typeof sn!="object"?mn:((Array.isArray(sn)?sn:[sn]).forEach(xn=>{const bn=xn.urls||xn.url;(Array.isArray(bn)?bn:[bn]).forEach(vn=>{const Wn=vn.indexOf(":")+1,Un=vn.lastIndexOf(":");vn.includes("turns")?En=vn.substring(Wn,Un):mn=vn.substring(Wn,Un)})}),En||mn)},this.ajax=kt,this.queue=wt,this.sessionInfo=Nt,this.getUserAgentClientHintData=qt,this.userAgentData=Bt,this.staticConfig=Pt}var mt=ht.prototype;return mt._getCachedUserAgentData=function(){var yt=(0,it.default)(rt.default.mark(function Rt(){return rt.default.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(this.cachedUserAgentData){Vt.next=4;break}return Vt.next=3,this.getUserAgentClientHintData(this.userAgentData);case 3:this.cachedUserAgentData=Vt.sent;case 4:return Vt.abrupt("return",this.cachedUserAgentData);case 5:case"end":return Vt.stop()}},Rt,this)}));function Et(){return yt.apply(this,arguments)}return Et}(),mt.commonQoSFields=function(){const Et=this._analytics.proxyUrl,Rt=this.sessionInfo.messagingURL;return{clientVersion:this.staticConfig.clientVersion,buildHash:this.staticConfig.buildHash,source:(typeof window!==void 0?window:commonjsGlobal).location&&(typeof window!==void 0?window:commonjsGlobal).location.href,logVersion:vt,apiServer:this.staticConfig.apiUrl,clientSystemTime:new Date().getTime(),sessionId:this.sessionInfo.sessionId,mediaServerName:this.sessionInfo.mediaServerName,relayServer:this.getTurnServerName(this.sessionInfo.iceServers),p2p:this.sessionInfo.p2pEnabled,messagingServer:this.sessionInfo.messagingServer,messagingUrl:dt(Et,Rt),version:this.staticConfig.version,partnerId:this.sessionInfo.partnerId}},mt._getCommonDataFields=function(){var yt=(0,it.default)(rt.default.mark(function Rt(){var Pt,Vt;return rt.default.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return kt.next=2,st.getAsync();case 2:return Pt=kt.sent,kt.next=5,this._getCachedUserAgentData();case 5:return Vt=kt.sent,kt.abrupt("return",Object.assign({guid:Pt},this.commonQoSFields(),Vt));case 7:case"end":return kt.stop()}},Rt,this)}));function Et(){return yt.apply(this,arguments)}return Et}(),mt.logError=function(Et,Rt,Pt,Vt,Nt){Nt===void 0&&(Nt={}),this._getCommonDataFields().then(kt=>{const wt=[Et,Rt,Pt,Vt,Object.assign({},kt,Nt)];ht.emit("logError",...wt),this._analytics.logError(...wt)})},mt.logEvent=function(Et,Rt,Pt){Et===void 0&&(Et={}),this._getCommonDataFields().then(Vt=>{const Nt=Object.assign({},Vt,Et);ht.emit("logEvent",Nt),this._analytics.logEvent(Nt,!1,Rt,Pt)})},mt.logQOS=function(Et){Et===void 0&&(Et={}),this._getCommonDataFields().then(Rt=>{const Pt=Object.assign({duration:0},Rt,Et);ft(Pt),ht.emit("logQOS",Pt),this._analytics.logQOS(Pt)})},(0,ot.default)(ht,[{key:"staticConfig",get:function(){return this._staticConfig},set:function(Et){this._staticConfig=Et,this._analytics=new at({loggingUrl:this.staticConfig.loggingUrl,ajax:this.ajax,queue:this.queue})}}]),ht}();ut(Ct),_e.exports=Ct},function(_e,tt,et){const nt=et(248),rt={publishers:new nt("guid"),subscribers:new nt("widgetId"),sessions:new nt};_e.exports=rt},function(_e,tt,et){const nt=et(0)("GlobalExceptionHandler"),rt=et(6),it=et(26),ot=et(558),st=et(24)(),at=function(lt,dt){Error.call(this),this.code=lt,this.message=dt};at.prototype=Object.create(Error.prototype),at.prototype.constructor=at,_e.exports=at,rt(at),at.getTitleByCode=function(ct){return ot[+ct]},at.handleJsException=ct=>{let lt=ct.error,dt=ct.errorMsg,ut=ct.code,ft=ct.target,pt=ct.analytics;if(!ft)throw new Error("handleJsException requires target");const vt=()=>ut!==void 0?ut:lt&&lt.code,Ct=()=>dt!==void 0?dt:lt&&lt.message,ht=at.getTitleByCode(vt());nt.error(`OT.exception :: title: ${ht} (${vt()}) msg: ${Ct()}`);try{const mt={partnerId:ft.session?ft.session.apiKey:ft.apiKey,sessionId:ft.session?ft.session.sessionId:ft.sessionId};pt.logError(vt(),"tb.exception",ht,{details:Ct()},mt);const yt=new st.ExceptionEvent(it.EXCEPTION,Ct(),ht,vt(),ft,ft,lt);if(lt)yt.stack=lt.stack;else try{throw new Error}catch(Et){yt.stack=Et.stack}at.dispatchEvent(yt)}catch(mt){nt.error(`OT.exception :: Failed to dispatch exception - ${mt.toString()}`)}}},function(_e,tt,et){var nt=et(1),rt=nt(et(46)),it=nt(et(49));const ot=et(128),st=et(26);_e.exports=function(ct){ct===void 0&&(ct={});const lt=ct.logging||et(0)("Events"),dt={};dt.ExceptionEvent=function(mt,yt,Et,Rt,Pt,Vt,Nt){return new ot(mt,!1,{error:Nt,message:yt,title:Et,code:Rt,component:Pt,target:Vt})},dt.IssueReportedEvent=function(mt,yt){return new ot(mt,!1,{issueId:yt})},dt.EnvLoadedEvent=function(mt){return new ot(mt,!1)};let ut=!1;dt.ConnectionEvent=function(ht){(0,it.default)(mt,ht);function mt(yt,Et,Rt){return ht.call(this,yt,!1,{connection:Et,reason:Rt})||this}return(0,rt.default)(mt,[{key:"connections",get:function(){return ut||(lt.warn("OT.ConnectionEvent connections property is deprecated, use connection instead."),ut=!0),[this.connection]}}]),mt}(ot);let ft=!1;dt.StreamEvent=function(ht){(0,it.default)(mt,ht);function mt(yt,Et,Rt,Pt){return ht.call(this,yt,Pt,{stream:Et,reason:Rt})||this}return(0,rt.default)(mt,[{key:"streams",get:function(){return ft||(lt.warn("OT.StreamEvent streams property is deprecated, use stream instead."),ft=!0),[this.stream]}}]),mt}(ot);let pt=!1,vt=!1,Ct=!1;return dt.SessionConnectEvent=function(ht){(0,it.default)(mt,ht);function mt(yt){return ht.call(this,yt,!1)||this}return(0,rt.default)(mt,[{key:"connections",get:function(){return pt||(lt.warn("OT.SessionConnectedEvent no longer includes connections. Listen for connectionCreated events instead."),pt=!0),[]}},{key:"streams",get:function(){return vt||(lt.warn("OT.SessionConnectedEvent no longer includes streams. Listen for streamCreated events instead."),vt=!0),[]}},{key:"archives",get:function(){return Ct||(lt.warn("OT.SessionConnectedEvent no longer includes archives. Listen for archiveStarted events instead."),Ct=!0),[]}}]),mt}(ot),dt.SessionReconnectingEvent=function(){return new ot(st.SESSION_RECONNECTING,!1)},dt.SessionReconnectedEvent=function(){return new ot(st.SESSION_RECONNECTED)},dt.SessionDisconnectEvent=function(mt,yt,Et){return new ot(mt,Et,{reason:yt})},dt.StreamPropertyChangedEvent=function(mt,yt,Et,Rt,Pt){return new ot(mt,!1,{stream:yt,changedProperty:Et,oldValue:Rt,newValue:Pt})},dt.VideoDimensionsChangedEvent=function(mt,yt,Et){return new ot("videoDimensionsChanged",!1,{target:mt,oldValue:yt,newValue:Et})},dt.ArchiveEvent=function(mt,yt){return new ot(mt,!1,{id:yt.id,name:yt.name,status:yt.status,archive:yt})},dt.ArchiveUpdatedEvent=function(mt,yt,Et,Rt){return new ot("updated",!1,{target:mt,changedProperty:yt,oldValue:Et,newValue:Rt})},dt.SignalEvent=function(mt,yt,Et){return new ot(mt?`signal:${mt}`:st.SIGNAL,!1,{data:yt,from:Et})},dt.CaptionReceivedEvent=function(mt,yt,Et){return new ot("caption",!1,{caption:mt,streamId:yt,isFinal:Et})},dt.PublisherCaptionsEnabled=function(mt){return new ot("publisherCaptionsEnabled",!1,{captionsEnabled:mt})},dt.StreamUpdatedEvent=function(mt,yt,Et,Rt){return new ot("updated",!1,{target:mt,changedProperty:yt,oldValue:Et,newValue:Rt})},dt.DestroyedEvent=function(mt,yt,Et){return new ot(mt,!1,{target:yt,reason:Et})},dt.ConnectionStateChangedEvent=function(mt,yt){return new ot(mt,!1,{target:yt})},dt.VideoEnabledChangedEvent=function(mt,yt){return new ot(mt,!1,{reason:yt.reason})},dt.VideoDisableWarningEvent=function(mt){return new ot(mt,!1)},dt.AudioLevelUpdatedEvent=function(mt){return new ot(st.AUDIO_LEVEL_UPDATED,!1,{audioLevel:mt})},dt.MediaStoppedEvent=function(mt,yt){return new ot(st.MEDIA_STOPPED,!0,{target:mt,track:yt})},dt.MuteForcedEvent=function(mt){return new ot(st.MUTE_FORCED,!1,mt)},dt.VideoElementCreatedEvent=function(mt){return new ot(st.VIDEO_ELEMENT_CREATED,!1,{element:mt})},dt}},function(_e,tt,et){var nt=et(17),rt=et(114);function it(ot){return ot!=null&&rt(ot.length)&&!nt(ot)}_e.exports=it},function(_e,tt,et){_e.exports={ACTIVE:"active",INACTIVE:"inactive",UNKNOWN:"unknown",PER_SESSION:"perSession",PER_STREAM:"perStream",EXCEPTION:"exception",ISSUE_REPORTED:"issueReported",SESSION_CONNECTED:"sessionConnected",SESSION_RECONNECTING:"sessionReconnecting",SESSION_RECONNECTED:"sessionReconnected",SESSION_DISCONNECTED:"sessionDisconnected",STREAM_CREATED:"streamCreated",STREAM_DESTROYED:"streamDestroyed",CONNECTION_CREATED:"connectionCreated",CONNECTION_DESTROYED:"connectionDestroyed",SIGNAL:"signal",STREAM_PROPERTY_CHANGED:"streamPropertyChanged",MICROPHONE_LEVEL_CHANGED:"microphoneLevelChanged",RESIZE:"resize",SETTINGS_BUTTON_CLICK:"settingsButtonClick",DEVICE_INACTIVE:"deviceInactive",INVALID_DEVICE_NAME:"invalidDeviceName",ACCESS_ALLOWED:"accessAllowed",ACCESS_DENIED:"accessDenied",ACCESS_DIALOG_OPENED:"accessDialogOpened",ACCESS_DIALOG_CLOSED:"accessDialogClosed",ECHO_CANCELLATION_MODE_CHANGED:"echoCancellationModeChanged",MEDIA_STOPPED:"mediaStopped",PUBLISHER_DESTROYED:"destroyed",MUTE_FORCED:"muteForced",SUBSCRIBER_DESTROYED:"destroyed",SUBSCRIBER_CONNECTED:"connected",SUBSCRIBER_DISCONNECTED:"disconnected",SUBSCRIBER_CAPTION_RECEIVED:"captionReceived",DEVICES_DETECTED:"devicesDetected",DEVICES_SELECTED:"devicesSelected",CLOSE_BUTTON_CLICK:"closeButtonClick",MICLEVEL:"microphoneActivityLevel",MICGAINCHANGED:"microphoneGainChanged",ENV_LOADED:"envLoaded",ENV_UNLOADED:"envUnloaded",AUDIO_LEVEL_UPDATED:"audioLevelUpdated",VIDEO_ELEMENT_CREATED:"videoElementCreated"}},function(_e,tt,et){var nt=!0,rt=!0;function it(st,at,ct){var lt=st.match(at);return lt&&lt.length>=ct&&parseInt(lt[ct],10)}function ot(st,at,ct){if(st.RTCPeerConnection){var lt=st.RTCPeerConnection.prototype,dt=lt.addEventListener;lt.addEventListener=function(ft,pt){if(ft!==at)return dt.apply(this,arguments);var vt=function(Ct){var ht=ct(Ct);ht&&pt(ht)};return this._eventMap=this._eventMap||{},this._eventMap[pt]=vt,dt.apply(this,[ft,vt])};var ut=lt.removeEventListener;lt.removeEventListener=function(ft,pt){if(ft!==at||!this._eventMap||!this._eventMap[pt])return ut.apply(this,arguments);var vt=this._eventMap[pt];return delete this._eventMap[pt],ut.apply(this,[ft,vt])},Object.defineProperty(lt,"on"+at,{get:function(){return this["_on"+at]},set:function(ft){this["_on"+at]&&(this.removeEventListener(at,this["_on"+at]),delete this["_on"+at]),ft&&this.addEventListener(at,this["_on"+at]=ft)},enumerable:!0,configurable:!0})}}_e.exports={extractVersion:it,wrapPeerConnectionEvent:ot,disableLog:function(st){return typeof st!="boolean"?new Error("Argument type: "+typeof st+". Please use a boolean."):(nt=st,st?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(st){return typeof st!="boolean"?new Error("Argument type: "+typeof st+". Please use a boolean."):(rt=!st,"adapter.js deprecation warnings "+(st?"disabled":"enabled"))},log:function(){if(typeof window=="object"){if(nt)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}},deprecated:function(st,at){rt&&console.warn(st+" is deprecated, please use "+at+" instead.")},detectBrowser:function(st){var at=st&&st.navigator,ct={};if(ct.browser=null,ct.version=null,typeof st>"u"||!st.navigator)return ct.browser="Not a browser.",ct;if(at.mozGetUserMedia)ct.browser="firefox",ct.version=it(at.userAgent,/Firefox\/(\d+)\./,1);else if(at.webkitGetUserMedia)ct.browser="chrome",ct.version=it(at.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(at.mediaDevices&&at.userAgent.match(/Edge\/(\d+).(\d+)$/))ct.browser="edge",ct.version=it(at.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(st.RTCPeerConnection&&at.userAgent.match(/AppleWebKit\/(\d+)\./))ct.browser="safari",ct.version=it(at.userAgent,/AppleWebKit\/(\d+)\./,1);else return ct.browser="Not a supported browser.",ct;return ct}}},function(_e,tt,et){function nt(ht,mt){var yt=typeof Symbol<"u"&&ht[Symbol.iterator]||ht["@@iterator"];if(yt)return(yt=yt.call(ht)).next.bind(yt);if(Array.isArray(ht)||(yt=rt(ht))||mt&&ht&&typeof ht.length=="number"){yt&&(ht=yt);var Et=0;return function(){return Et>=ht.length?{done:!0}:{done:!1,value:ht[Et++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(ht,mt){if(ht){if(typeof ht=="string")return it(ht,mt);var yt=Object.prototype.toString.call(ht).slice(8,-1);if(yt==="Object"&&ht.constructor&&(yt=ht.constructor.name),yt==="Map"||yt==="Set")return Array.from(ht);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return it(ht,mt)}}function it(ht,mt){(mt==null||mt>ht.length)&&(mt=ht.length);for(var yt=0,Et=new Array(mt);yt<mt;yt++)Et[yt]=ht[yt];return Et}const ot=et(9),st=et(61),at=et(273),ct=et(129),lt=et(274),dt=et(0)("SDPHelpers"),ut=1e4,ft=2e4,pt={getSections(ht){return ht.split(/\r\n|\r|\n/).reduce((mt,yt)=>{const Et=yt.match(/^m=(\w+) \d+/);return Et&&(mt.sections[mt.section=Et[1]]=[]),mt.sections[mt.section].push(yt),mt},{sections:{header:[]},section:"header"}).sections},getCodecsFromSection(ht){const mt=ht[0].match(/m=\w+ \d+ [A-Z/]+ ([\d ]+)$/)[1].split(" "),yt=ot(...ht.filter(Et=>Et.match(/^a=rtpmap:\d+/)).map(Et=>Et.match(/^a=rtpmap:(\d+) ([\w-]+)/).splice(1)).map(Et=>{let Rt=Et[0],Pt=Et[1];return{[Rt]:Pt}}));return{codecs:mt,codecMap:yt}},getCodecsAndCodecMap(ht,mt){const yt=pt.getSections(ht)[mt];if(!yt)throw new Error(`no mediaType ${mt}`);return pt.getCodecsFromSection(yt)},getCodecs(ht,mt){const yt=pt.getCodecsAndCodecMap(ht,mt);return yt.codecs.map(Et=>yt.codecMap[Et]||"Unknown codec")},mediaDirections:{INACTIVE:"inactive",RECVONLY:"recvonly",SENDONLY:"sendonly",SENDRECV:"sendrecv"}};_e.exports=pt,pt.getMLineIndex=function(mt,yt){const Et=`m=${yt}`;return at(mt,Rt=>Rt.indexOf(Et)!==-1)},pt.getMLine=function(mt,yt){const Et=pt.getMLineIndex(mt,yt);return Et>-1?mt[Et]:void 0},pt.hasMediaType=(ht,mt)=>{const yt=new RegExp(`^m=${mt}`),Et=ht.split(`\r
`);return at(Et,Rt=>yt.test(Rt))>=0},pt.hasMLinePayloadType=function(mt,yt,Et){const Rt=pt.getMLine(mt,yt);return pt.getMLinePayloadTypes(Rt,yt).indexOf(Et)>-1},pt.getMLinePayloadTypes=function(mt,yt){const Et=new RegExp(`^m=${yt} \\d+(/\\d+)? [a-zA-Z0-9/]+(( [a-zA-Z0-9/]+)+)$`,"i"),Rt=mt.match(Et);return!Rt||Rt.length<2?[]:Rt[2].trim().split(" ")},pt.splitSections=function(mt){return mt.split(`
m=`).map((Et,Rt)=>(Rt>0?"m="+Et:Et).trim()+`\r
`)},pt.changeMediaDirection=function(mt,yt){const Et=Nt=>{const kt=yt===pt.mediaDirections.RECVONLY?"a=inactive":"a=recvonly",wt=new RegExp(kt,"g");return Nt.replace(wt,`a=${yt}`)},Rt=pt.splitSections(mt);let Vt=Rt.shift();return Rt.forEach(Nt=>{const kt=Nt.includes("m=video")?Et(Nt):Nt;Vt+=kt}),Vt},pt.removeTypesFromMLine=function(mt,yt){const Et=/[0-9 ]*$/.exec(mt)[0],Rt=Et.split(" ").filter(Pt=>Pt!==""&&yt.indexOf(Pt)===-1);return mt.replace(Et,` ${Rt.join(" ")}`)},pt.removeMediaEncoding=function(mt,yt,Et){let Rt,Pt,Vt,Nt,kt=mt.split(`\r
`);const wt=pt.getMLineIndex(kt,yt),Zt=wt>-1?kt[wt]:void 0,qt=[];if(wt===-1||(Rt=pt.getMLinePayloadTypes(Zt,yt),Rt.length===0))return kt.join(`\r
`);for(Pt=wt;Pt<kt.length;Pt++){const zt=new RegExp(Et,"i");kt[Pt].indexOf("a=rtpmap:")===0&&(Nt=kt[Pt].split(" "),Nt.length===2&&zt.test(Nt[1])&&qt.push(Nt[0].substr(9)))}if(!qt.length)return kt.join(`\r
`);for(Pt=wt;Pt<kt.length;Pt++)if(kt[Pt].indexOf("a=fmtp:")===0)for(Nt=kt[Pt].split(" "),Vt=0;Vt<qt.length;Vt++)Nt.length===2&&Nt[1]===`apt=${qt[Vt]}`&&qt.push(Nt[0].substr(7));return kt=kt.filter(zt=>{for(let Bt=0;Bt<qt.length;Bt++)if(zt.indexOf(`a=rtpmap:${qt[Bt]} `)===0||zt.indexOf(`a=fmtp:${qt[Bt]} `)===0||zt.indexOf(`a=rtcp-fb:${qt[Bt]} `)===0)return!1;return!0}),qt.length>0&&wt>-1&&(kt[wt]=pt.removeTypesFromMLine(Zt,qt)),kt.join(`\r
`)},pt.disableMediaType=function(mt,yt){const Et=mt.split(`\r
`),Rt=[];let Pt;Et.forEach(kt=>{let wt=kt;/^m=/.test(wt)&&(Pt=void 0),Pt||(Pt=[],Rt.push(Pt)),Pt.push(wt)});const Vt=new RegExp(`^m=${yt} \\d+ ([^ ]+) [0-9 ]+$`),Nt=Rt.map(kt=>{const wt=kt[0].match(Vt);return wt?[`m=${yt} 0 ${wt[1]} 0`,"a=inactive",...kt.filter(Zt=>/^c=/.test(Zt)||/^a=mid:/.test(Zt)||Zt==="")]:kt});return[].concat(...Nt).join(`\r
`)},pt.removeVideoCodec=function(mt,yt){return pt.removeMediaEncoding(mt,"video",yt)};const vt=function(mt,yt){let Et=yt.filterByName("ssrc-group:FID");switch(Et.length===0?Et=[]:Et=Et[0].value.split(" "),Et.length){case 0:case 1:var Pt=yt.find(Nt=>Nt.name.indexOf("rtpmap:")===0&&Nt.value.indexOf("rtx/90000")>-1);if(!Pt)return!1;var Vt=Pt.name.split(":")[1];return Vt.indexOf("/")>-1&&(Vt=Vt.split("/")[0]),pt.hasMLinePayloadType(mt,"video",Vt);default:return dt.debug("SDP Helpers: There are more than two FIDs, RTX is definitely enabled"),!0}};pt.getAttributesForMediaType=function(mt,yt){let Et,Rt,Pt,Vt,Nt,kt,wt,Zt,qt,zt;const Bt=pt.getMLineIndex(mt,yt),sn=new RegExp(`m=(?!${yt}).+ `,"i"),mn=new RegExp("a=ssrc:\\d+ .*","i"),En=new RegExp("a=ssrc-group:(SIM|FID) (\\d+).*?","i"),cn=new RegExp("a=([a-z0-9:/-]+) (.*)","i"),xn=[];for(let bn=Bt+1;bn<mt.length;bn++){if(sn.test(mt[bn])){Et!==void 0&&(Rt=bn-1);break}Nt=mt[bn].match(En),kt=mt[bn].match(mn),Et===void 0&&(Nt||kt)&&(Et=bn,Nt&&(Vt=/^(FID|SIM)$/.test(Nt[1])?Nt[2]:Nt[1])),wt=mt[bn].match(`a=ssrc:${Vt} msid:(.+)`),wt&&(Zt=wt[1]);const gn=mn.test(mt[bn]),vn=En.test(mt[bn]);Et!==void 0&&(Rt===void 0&&!gn&&!vn?Rt=bn-1:bn===mt.length-1&&(Rt=bn));const Wn=mt[bn].match(/a=mid:(.+)/);Wn&&(qt=Wn[1],zt=bn),Pt=cn.exec(mt[bn]),Pt&&Pt.length===3&&xn.push({lineIndex:bn,name:Pt[1],value:Pt[2]})}return xn.ssrcStartIndex=Et,xn.ssrcEndIndex=Rt,xn.msid=Zt,xn.mid=qt,xn.midIndex=zt,xn.isUsingRTX=vt.bind(null,mt,xn),xn.filterByName=function(gn){return this.filter(vn=>vn.name===gn)},xn.getRtpNumber=bn=>{const gn=new RegExp("rtpmap:(.+)");return st(xn.map(vn=>{const Wn=vn.name.match(gn);return Wn&&vn.value.indexOf(bn)>=0?Wn[1]:null}),vn=>vn!==null)},xn},pt.modifyDtx=(ht,mt)=>{const yt=ht.split(`\r
`);if(!pt.getMLine(yt,"audio"))return dt.debug("No audio m-line, not enabling dtx."),ht;const Et=pt.getAttributesForMediaType(yt,"audio"),Rt=Et.getRtpNumber("opus");if(!Rt)return dt.debug("Could not find rtp number for opus, not enabling dtx."),ht;const Pt=Et.find(kt=>kt.name===`fmtp:${Rt}`);if(!Pt)return dt.debug("Could not find a=fmtp line for opus, not enabling dtx."),ht;let Vt=yt[Pt.lineIndex];const Nt=/usedtx=\d+([\s;]*)/;return Nt.test(Pt.value)?Vt=Vt.replace(Nt,mt?"usedtx=1$1":""):mt&&(Vt+="; usedtx=1"),Vt=Vt.replace(/[;\s]*$/,""),yt[Pt.lineIndex]=Vt,yt.join(`\r
`)};const Ct=(ht,mt,yt)=>{const Et=mt.split(`\r
`);if(!pt.getMLine(Et,"audio"))return dt.debug("No audio m-line, not enabling stereo."),mt;const Rt=pt.getAttributesForMediaType(Et,"audio"),Pt=Rt.getRtpNumber("opus");if(!Pt)return dt.debug("Could not find rtp number for opus, not enabling stereo."),mt;const Vt=Rt.find(wt=>wt.name===`fmtp:${Pt}`);if(!Vt)return dt.debug("Could not find a=fmtp line for opus, not enabling stereo."),mt;let Nt=Et[Vt.lineIndex],kt;switch(ht){case"send":kt=/sprop-stereo=\d+([\s;]*)/,kt.test(Vt.value)?Nt=Nt.replace(kt,yt?"sprop-stereo=1$1":""):yt&&(Nt+="; sprop-stereo=1");break;case"receive":kt=/([^-])stereo=\d+([\s;]*)/,kt.test(Vt.value)?Nt=Nt.replace(kt,yt?"$1stereo=1$2":"$1"):yt&&(Nt+="; stereo=1");break;default:throw new Error(`Invalid type ${ht} passed into enableStereo`)}return Nt=Nt.replace(/[;\s]*$/,""),Et[Vt.lineIndex]=Nt,Et.join(`\r
`)};pt.modifySendStereo=Ct.bind(null,"send"),pt.modifyReceiveStereo=Ct.bind(null,"receive"),pt.setAudioBitrate=(ht,mt)=>{const yt=pt.getAudioBitrate(ht);if(yt!==void 0)return dt.debug(`Audio bitrate already set to ${yt}, not setting audio bitrate`),ht;const Et=ht.split(`\r
`);if(!pt.getMLine(Et,"audio"))return dt.debug("No audio m-line, not setting audio bitrate"),ht;const Rt=pt.getAttributesForMediaType(Et,"audio"),Pt=Rt.getRtpNumber("opus");if(!Pt)return dt.debug("Could not find rtp number for opus, not setting audio bitrate."),ht;const Vt=Rt.find(kt=>kt.name===`fmtp:${Pt}`);if(!Vt)return dt.debug("Could not find a=fmtp line for opus, not setting audio bitrate."),ht;let Nt=Et[Vt.lineIndex];return Nt+=`; maxaveragebitrate=${mt}`,Nt=Nt.replace(/[;\s]*$/,""),Et[Vt.lineIndex]=Nt,Et.join(`\r
`)},pt.removeVideoOrientation=ht=>{let mt=ht.split(`\r
`);return mt=mt.filter(yt=>!yt.includes("urn:3gpp:video-orientation")),mt.join(`\r
`)},pt.hasSendStereo=ht=>/[\s;]sprop-stereo=1/.test(ht),pt.hasSendDtx=ht=>/[\s;]usedtx=1/.test(ht),pt.getAudioBitrate=ht=>{const mt=ht.match(/[\s;]maxaveragebitrate=(\d+)/);if(mt)return Number(mt[1])},pt.MAX_SSRCS=10,pt.getSSRCGroupType=ht=>["SIM","FID"].find(yt=>ht.filterByName(`ssrc-group:${yt}`)[0]),pt.getSSRCGroup=ht=>{const mt=pt.getSSRCGroupType(ht);return ht.filterByName(`ssrc-group:${mt}`)[0]},pt.getSSRCGroupSSRCs=ht=>{const mt=pt.getSSRCGroup(ht);return mt?mt.value.split(" ").slice(0,pt.MAX_SSRCS):[]},pt.getAllowedSSRCs=(ht,mt)=>{const yt=mt.slice();return ht.filterByName("ssrc-group:FID").forEach(Et=>{const Rt=Et.value.split(" ");ct(yt,Rt).length&&Array.prototype.push.apply(yt,Rt)}),lt(yt)},pt.filterExcessSSRCs=ht=>{const mt=ht.split(`\r
`),yt=pt.getAttributesForMediaType(mt,"video"),Et=pt.getSSRCGroupType(yt),Rt=yt.ssrcStartIndex;if(Rt===void 0)return ht;let Pt;const Vt=kt=>{let wt=null;return kt.match(/^a=ssrc:(\d+)/)&&(wt=RegExp.$1),wt};if(Et){const kt=pt.getSSRCGroupSSRCs(yt),wt=[`a=ssrc-group:${Et}`,...kt].join(" "),Zt=yt.find(qt=>qt.name.startsWith("ssrc-group:")).lineIndex;mt[Zt]=wt,Pt=pt.getAllowedSSRCs(yt,kt)}else Pt=[],yt.ssrcStartIndex&&Pt.push(Vt(mt[yt.ssrcStartIndex]));return mt.filter((kt,wt)=>{if(wt<Rt||wt>yt.ssrcEndIndex)return!0;if(wt===Rt){if(!Et){const qt=Vt(kt);return qt?Pt.includes(qt):!/^a=ssrc:(\d+)/.test(kt)}return!0}const Zt=Vt(kt);if(Zt)return Pt.includes(Zt);if(kt.match(/^a=ssrc-group:FID (\d+)/)){const qt=RegExp.$1;return Pt.includes(qt)}return!kt.match(/^a=ssrc-group:SIM /)}).join(`\r
`)},pt.enableSimulcast=function(mt,yt){let Et,Rt;const Pt=mt.split(`\r
`);if(!pt.getMLine(Pt,"video"))return dt.debug("No video m-line, not enabling simulcast."),mt;const Vt=pt.getAttributesForMediaType(Pt,"video");if(Vt.filterByName("ssrc-group:SIM").length>0)return dt.debug("Simulcast is already enabled in this SDP, not attempting to enable again."),pt.filterExcessSSRCs(mt);if(!Vt.msid)return dt.debug("No local stream attached, not enabling simulcast."),mt;const Nt=Vt.isUsingRTX(),kt=[],wt=[];for(Rt=0;Rt<yt;++Rt)kt.push(ut+Rt),Nt&&wt.push(ft+Rt);if(Et=[`a=ssrc-group:SIM ${kt.join(" ")}`],Nt)for(Rt=0;Rt<yt;++Rt)Et.push(`a=ssrc-group:FID ${kt[Rt]} ${wt[Rt]}`);for(Rt=0;Rt<yt;++Rt)Et.push(`a=ssrc:${kt[Rt]} cname:localCname`,`a=ssrc:${kt[Rt]} msid:${Vt.msid}`);if(Nt)for(Rt=0;Rt<yt;++Rt)Et.push(`a=ssrc:${wt[Rt]} cname:localCname`,`a=ssrc:${wt[Rt]} msid:${Vt.msid}`);return Et.unshift(Vt.ssrcStartIndex,Vt.ssrcEndIndex-Vt.ssrcStartIndex+1),Pt.splice(...Et),Pt.join(`\r
`)},pt.reprioritizeVideoCodec=function(mt,yt,Et){const Rt=mt.split(`\r
`),Pt=pt.getMLineIndex(Rt,"video");if(Pt===-1)return mt;const Vt=pt.getMLinePayloadTypes(Rt[Pt],"video"),Nt=new RegExp(`^a=rtpmap:(\\d+).* ${yt}`,"i"),kt=Rt.map(zt=>zt.match(Nt)).filter(zt=>zt!==null);if(kt.length===0)return mt;const wt=kt.map(zt=>zt[1]);let Zt=Vt.filter(zt=>wt.indexOf(zt)===-1);Et==="top"?Zt.unshift(...wt):Et==="bottom"?Zt.push(...wt):(dt.error(`Unexpected location param: ${Et}; not changing ${yt} priority`),Zt=Vt);const qt=Rt[Pt].replace(Vt.join(" "),Zt.join(" "));return Rt[Pt]=qt,Rt.join(`\r
`)},pt.getSetupRole=ht=>{for(var mt=nt(ht.split(/\r\n|\r|\n/)),yt;!(yt=mt()).done;){const Rt=yt.value.match(/^a=setup:(\w+)/);if(Rt)return Rt[1]}return""},pt.setSetupRole=(ht,mt)=>ht.split(/\r\n|\r|\n/).map(yt=>yt.match(/^a=setup:(\w+)/)?`a=setup:${mt}`:yt).join(`\r
`),pt.changeSetupRole=(ht,mt,yt)=>ht.map(Et=>Et.includes(`a=setup:${mt}`)?`a=setup:${yt}`:Et),pt.patterns={bundle:"a=group:BUNDLE",address:"c=IN IP4",rtcp:"a=rtcp:",direction:["a=inactive","a=sendonly","a=recvonly","a=sendrecv"],rsize:"a=rtcp-rsize",ssrc:"a=ssrc:",msid:"a=msid:"},pt.getIndexStartingWith=(ht,mt,yt)=>{const Et=ht.slice(yt),Rt=mt.map(Pt=>Et.findIndex(Vt=>Vt.includes(Pt))).filter(Pt=>Pt>-1);return Rt.length?yt+Math.min(...Rt):ht.length},pt.getLastIndexPriorTo=(ht,mt,yt)=>ht.slice(0,yt).map(Pt=>Pt.includes(mt)).lastIndexOf(!0),pt.includesAny=(ht,mt)=>{for(let yt=0;yt<mt.length;yt++)if(ht.includes(mt[yt]))return!0;return!1},pt.isVersionLine=ht=>/^o=/.test(ht),pt.getVersionLine=ht=>ht.find(pt.isVersionLine),pt.getVersion=ht=>{const mt=pt.getVersionLine(ht);if(mt===void 0)return;const yt=Number(mt.match(/ (\d+) IN /)[1]);return Number.isInteger(yt)?yt:void 0},pt.updateVersion=(ht,mt,yt)=>{const Et=[...ht],Rt=Et.findIndex(Pt=>pt.isVersionLine(Pt));return Et[Rt]=Et[Rt].replace(` ${mt} `,` ${yt} `),Et},pt.isBundleLine=ht=>ht.includes(pt.patterns.bundle),pt.getBundleLine=ht=>ht.find(pt.isBundleLine),pt.createBundleLine=ht=>`${pt.patterns.bundle} ${ht.join(" ")}`,pt.updateBundleLine=(ht,mt)=>{const yt=[...ht],Et=pt.createBundleLine(mt),Rt=yt.findIndex(Pt=>pt.isBundleLine(Pt));return yt[Rt]=Et,yt},pt.parseMLine=ht=>{const mt=ht.match(/^(m=(?:audio|video)) (\d+) (.+)/),yt=mt[1],Et=mt[2],Rt=mt[3];return{port:Et,transport:Rt,mediaType:yt}},pt.disableTrack=ht=>{const mt=pt.parseMLine(ht),yt=mt.mediaType,Et=mt.transport;return`${yt} 0 ${Et}`},pt.setMediaDirection=(ht,mt)=>{if(!Object.values(pt.mediaDirections).includes(mt))return ht;const Et=ht.slice(),Rt=Et.findIndex(Pt=>pt.includesAny(Pt,pt.patterns.direction));return Rt===-1||(Et[Rt]=`a=${mt}`),Et},pt.disableTrackSection=ht=>{const mt=ht.mid,yt=ht.sdp;let Et=yt.filter(Rt=>{const Pt=pt.patterns,Vt=Pt.address,Nt=Pt.rtcp,kt=Pt.rsize,wt=Pt.ssrc,Zt=Pt.msid;return!pt.includesAny(Rt,[Vt,Nt,kt,wt,Zt])});return Et[0]=pt.disableTrack(yt[0]),Et=pt.setMediaDirection(Et,pt.mediaDirections.INACTIVE),{mid:mt,sdp:Et}},pt.getEnabledTracks=ht=>pt.getBundleLine(ht).match(new RegExp(`^${pt.patterns.bundle} (.+)$`))[1].split(" "),pt.getDisabledTracks=(ht,mt)=>ht.filter(yt=>!mt.includes(yt)),pt.getTrackSection=(ht,mt)=>{const yt=ht.findIndex(Nt=>Nt.includes(`a=mid:${mt}`)),Et=mt.includes("a")?"audio":"video",Rt=pt.getLastIndexPriorTo(ht,`m=${Et}`,yt),Pt=pt.getIndexStartingWith(ht,["m=audio","m=video"],yt),Vt=ht.slice(Rt,Pt);return{mid:mt,sdp:Vt}},pt.getHeaders=ht=>{const mt=ht.findIndex(yt=>yt.includes("m=audio")||yt.includes("m=video"));return ht.slice(0,mt)},pt.disableTracks=(ht,mt)=>ht.map(yt=>mt.includes(yt.mid)?pt.disableTrackSection(yt):yt),pt.getSDPLines=ht=>ht.split(`\r
`).filter(mt=>mt),pt.getTrackMids=ht=>{const mt="a=mid:";return ht.filter(Et=>Et.match(new RegExp(`^${mt}\\d+`))).map(Et=>Et.substring(mt.length))},pt.getTrackSections=ht=>pt.getTrackMids(ht).map(yt=>pt.getTrackSection(ht,yt)),pt.parseMantisSDP=ht=>{const mt=pt.getSDPLines(ht),yt=pt.changeSetupRole(mt,"actpass","passive");return pt.parseSDP(yt)},pt.parseSDP=ht=>{const mt=Array.isArray(ht)?ht:pt.getSDPLines(ht);return{bundle:pt.getBundleLine(mt),headers:pt.getHeaders(mt),version:pt.getVersion(mt),tracks:pt.getEnabledTracks(mt),trackSections:pt.getTrackSections(mt)}},pt.createSDP=(ht,mt)=>{const yt=[...ht];return mt.forEach(Et=>yt.push(...Et.sdp)),yt.push(""),yt.join(`\r
`)},pt.removePayloadTypeFromSection=(ht,mt)=>ht.filter(yt=>!yt.includes(`a=rtpmap:${mt} `)&&!yt.includes(`a=fmtp:${mt} `)&&!yt.includes(`a=rtcp-fb:${mt} `)),pt.getRtxPayloadType=(ht,mt)=>{const yt=ht.filter(Rt=>Rt.includes(`apt=${mt}`))[0];return yt==null?void 0:yt.match(/^a=fmtp:(\d+) /)[1]},pt.removeRtxPayloadTypeFromSection=(ht,mt)=>{let yt=[...ht];const Et=pt.getRtxPayloadType(yt,mt);return Et&&(yt=pt.removePayloadTypeFromSection(yt,Et)),yt},pt.trimUnusedCodecs=(ht,mt)=>{const yt=ht[0].split(" "),Et=yt.slice(3),Rt=yt.slice(0,3),Pt=pt.getCodecsFromSection(ht);let Vt=[...ht],Nt=[];Et.forEach(wt=>{const Zt=Pt.codecMap[wt];if(!mt.includes(Zt))Vt=pt.removePayloadTypeFromSection(Vt,wt),Vt=pt.removeRtxPayloadTypeFromSection(Vt,wt);else{Nt.push(wt);const qt=pt.getRtxPayloadType(Vt,wt);qt&&Nt.push(qt)}});const kt=Nt.length?Nt:[0];return Vt[0]=[...Rt,...kt].join(" "),Vt},pt.removeUnusedCodecs=(ht,mt)=>{if(!mt)return ht;const yt=pt.parseSDP(ht),Et=yt.headers,Rt=yt.trackSections,Pt=pt.parseSDP(mt).trackSections,Vt=Rt.map(kt=>{const wt=kt.mid,Zt=kt.sdp,qt=Pt.find(Bt=>Bt.mid===wt);if(!qt)return Zt;const zt=Object.values(pt.getCodecsFromSection(qt.sdp).codecMap);return pt.trimUnusedCodecs(Zt,zt)}),Nt=[...Et];return Vt.forEach(kt=>Nt.push(...kt)),Nt.push(""),Nt.join(`\r
`)},pt.updateSDPWithNewOffer=(ht,mt)=>{const yt=ht.headers,Et=ht.version,Rt=ht.tracks,Pt=ht.trackSections,Vt=pt.getSDPLines(mt),Nt={};Nt.version=pt.getVersion(Vt),Nt.headers=pt.updateVersion(yt,Et,Nt.version),Nt.tracks=pt.getEnabledTracks(Vt);const kt=pt.getDisabledTracks(Rt,Nt.tracks);return Nt.headers=pt.updateBundleLine(Nt.headers,Nt.tracks),Nt.trackSections=pt.disableTracks(Pt,kt),Nt}},function(_e,tt,et){tt.__esModule=!0,tt.MEDIUM=tt.LOW=tt.CongestionLevels=tt.CRITICAL=void 0;const nt=2;tt.CRITICAL=nt;const rt=1;tt.MEDIUM=rt;const it=0;tt.LOW=it;const ot={CRITICAL:nt,MEDIUM:rt,LOW:it};tt.CongestionLevels=ot},function(_e,tt,et){var nt=et(40),rt=et(368),it=et(369),ot="[object Null]",st="[object Undefined]",at=nt?nt.toStringTag:void 0;function ct(lt){return lt==null?lt===void 0?st:ot:at&&at in Object(lt)?rt(lt):it(lt)}_e.exports=ct},function(_e,tt,et){var nt=et(178),rt=et(116),it=et(25);function ot(st){return it(st)?nt(st):rt(st)}_e.exports=ot},function(_e,tt,et){var nt=et(44);_e.exports=function(rt){if(!nt(rt))throw new TypeError("Cannot use null or undefined");return rt}},function(_e,tt,et){var nt=et(56),rt=et(199),it=et(127),ot=et(200),st=et(201),at=_e.exports=function(ct,lt){var dt,ut,ft,pt,vt;return arguments.length<2||typeof ct!="string"?(pt=lt,lt=ct,ct=null):pt=arguments[2],nt(ct)?(dt=st.call(ct,"c"),ut=st.call(ct,"e"),ft=st.call(ct,"w")):(dt=ft=!0,ut=!1),vt={value:lt,configurable:dt,enumerable:ut,writable:ft},pt?it(ot(pt),vt):vt};at.gs=function(ct,lt,dt){var ut,ft,pt,vt;return typeof ct!="string"?(pt=dt,dt=lt,lt=ct,ct=null):pt=arguments[3],nt(lt)?rt(lt)?nt(dt)?rt(dt)||(pt=dt,dt=void 0):dt=void 0:(pt=lt,lt=dt=void 0):lt=void 0,nt(ct)?(ut=st.call(ct,"c"),ft=st.call(ct,"e")):(ut=!0,ft=!1),vt={get:lt,set:dt,configurable:ut,enumerable:ft},pt?it(ot(pt),vt):vt}},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length,st=Array(ot);++it<ot;)st[it]=rt(nt[it],it,nt);return st}_e.exports=et},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(46));const ot=et(207),st=et(57),at=et(487),ct=et(534),lt=et(0)("StaticConfig"),dt=et(101),ut=dt.prependProxyToUrlIfNeeded,ft=st({version:"v2.25.4",buildHash:"3ebf43adb",minimumVersion:{firefox:52,chrome:49},debug:!1,websiteURL:"http://www.tokbox.com",configURL:"https://config.opentok.com",ipWhitelistConfigURL:"",cdnURL:"https://static.opentok.com",loggingURL:"https://hlg.tokbox.com/prod",apiURL:"https://anvil.opentok.com"}),pt=at(["apiURL","assetURL","cdnURL","sessionInfoOverrides","loggingURL"]),vt={apiUrl:"apiURL",loggingUrl:"loggingURL"},Ct=ct(mt=>vt[mt]);function ht(mt){let yt=mt===void 0?{}:mt,Et=yt.axios,Rt=Et===void 0?ot:Et;return function(){Vt.onlyLocal=function(){const kt=st((typeof window!==void 0?window:commonjsGlobal).OTProperties);return new Vt(Object.assign({},ft,pt(kt)))},Vt.get=function(kt){let wt=kt.partnerId,Zt=kt.token,qt=kt.useIpWhitelistConfigUrl,zt=kt.proxyUrl;return(()=>{const sn=this.onlyLocal();if(!sn.configUrl)return nt.resolve({});if(qt===!0&&!sn.ipWhitelistConfigUrl)return nt.resolve({});let mn=qt===!0?sn.ipWhitelistConfigUrl:sn.configUrl;return mn=ut(mn,zt),Rt.get(`${mn}/project/${wt}/config.json`,{headers:{"X-TB-TOKEN-AUTH":Zt}}).then(En=>En.data)})().catch(sn=>(lt.error("could not reach live config service",sn),{})).then(sn=>{const mn=st((typeof window!==void 0?window:commonjsGlobal).OTProperties),En=Object.assign({},ft,pt(mn),Ct(sn));return new Vt(En)})};function Vt(Nt){Object.defineProperty(this,"config",{value:Object.freeze(st(Nt))})}return(0,it.default)(Vt,[{key:"configUrl",get:function(){return this.config.configURL}},{key:"ipWhitelistConfigUrl",get:function(){return this.config.ipWhitelistConfigURL}},{key:"apiUrl",get:function(){return this.config.apiURL}},{key:"loggingUrl",get:function(){return this.config.loggingURL}},{key:"apiEnabled",get:function(){return typeof this.config.apiEnabled<"u"?this.config.apiEnabled:!0}},{key:"version",get:function(){return this.config.version}},{key:"clientVersion",get:function(){return`js-${(this.version||"unknown").replace("v","")}`}},{key:"buildHash",get:function(){return this.config.buildHash}},{key:"minimumVersion",get:function(){return this.config.minimumVersion}},{key:"websiteUrl",get:function(){return this.config.websiteURL}},{key:"debug",get:function(){return this.config.debug==="true"||this.config.debug===!0}},{key:"sessionInfoOverrides",get:function(){return this.config.sessionInfoOverrides}},{key:"cdnUrl",get:function(){return this.config.cdnURL||`${(typeof window!==void 0?window:commonjsGlobal).location.protocol}//${(typeof window!==void 0?window:commonjsGlobal).location.host}`}},{key:"assetUrl",get:function(){return this.config.assetURL||`${this.cdnUrl}/webrtc/${this.version}`}}]),Vt}()}_e.exports=ht}).call(this,et(2))},function(_e,tt,et){var nt=et(513),rt=et(519),it=et(89),ot=et(12),st=et(524);function at(ct){return typeof ct=="function"?ct:ct==null?it:typeof ct=="object"?ot(ct)?rt(ct[0],ct[1]):nt(ct):st(ct)}_e.exports=at},function(_e,tt,et){const nt=et(8);_e.exports=function(it,ot){let st;const at=ot||{};it.setDisplayMode=function(ct){const lt=ct||"auto";st!==lt&&(nt.removeClass(this.domElement,`OT_mode-${st}`),nt.addClass(this.domElement,`OT_mode-${lt}`),st=lt)},it.getDisplayMode=function(){return st},it.showAfterLoading=function(){nt.removeClass(this.domElement,"OT_hide-forced")},it.hideWhileLoading=function(){nt.addClass(this.domElement,"OT_hide-forced")},it.destroy=function(){return at.onDestroy&&at.onDestroy(this.domElement),this.domElement&&nt.removeElement(this.domElement),it},it.appendTo=function(ct){return this.domElement=nt.createElement(at.nodeName||"div",at.htmlAttributes,at.htmlContent),at.onCreate&&at.onCreate(this.domElement),it.setDisplayMode(at.mode),at.mode==="auto"&&(nt.addClass(it.domElement,"OT_mode-on-hold"),setTimeout(()=>{nt.removeClass(it.domElement,"OT_mode-on-hold")},2e3)),ct.appendChild(this.domElement),it}}},function(_e,tt,et){var nt=et(78),rt=4;function it(ot){return nt(ot,rt)}_e.exports=it},function(_e,tt,et){var nt=et(367),rt=et(372);function it(ot,st){var at=rt(ot,st);return nt(at)?at:void 0}_e.exports=it},function(_e,tt,et){var nt=et(15),rt=nt.Symbol;_e.exports=rt},function(_e,tt,et){var nt=et(84),rt=et(63);function it(ot,st,at,ct){var lt=!at;at||(at={});for(var dt=-1,ut=st.length;++dt<ut;){var ft=st[dt],pt=ct?ct(at[ft],ot[ft],ft,at,ot):void 0;pt===void 0&&(pt=ot[ft]),lt?rt(at,ft,pt):nt(at,ft,pt)}return at}_e.exports=it},function(_e,tt,et){var nt=et(396),rt=et(111),it=et(397),ot=et(186),st=et(187),at=et(30),ct=et(175),lt="[object Map]",dt="[object Object]",ut="[object Promise]",ft="[object Set]",pt="[object WeakMap]",vt="[object DataView]",Ct=ct(nt),ht=ct(rt),mt=ct(it),yt=ct(ot),Et=ct(st),Rt=at;(nt&&Rt(new nt(new ArrayBuffer(1)))!=vt||rt&&Rt(new rt)!=lt||it&&Rt(it.resolve())!=ut||ot&&Rt(new ot)!=ft||st&&Rt(new st)!=pt)&&(Rt=function(Pt){var Vt=at(Pt),Nt=Vt==dt?Pt.constructor:void 0,kt=Nt?ct(Nt):"";if(kt)switch(kt){case Ct:return vt;case ht:return lt;case mt:return ut;case yt:return ft;case Et:return pt}return Vt}),_e.exports=Rt},function(_e,tt){var et=_e.exports={},nt,rt;function it(){throw new Error("setTimeout has not been defined")}function ot(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?nt=setTimeout:nt=it}catch{nt=it}try{typeof clearTimeout=="function"?rt=clearTimeout:rt=ot}catch{rt=ot}})();function st(ht){if(nt===setTimeout)return setTimeout(ht,0);if((nt===it||!nt)&&setTimeout)return nt=setTimeout,setTimeout(ht,0);try{return nt(ht,0)}catch{try{return nt.call(null,ht,0)}catch{return nt.call(this,ht,0)}}}function at(ht){if(rt===clearTimeout)return clearTimeout(ht);if((rt===ot||!rt)&&clearTimeout)return rt=clearTimeout,clearTimeout(ht);try{return rt(ht)}catch{try{return rt.call(null,ht)}catch{return rt.call(this,ht)}}}var ct=[],lt=!1,dt,ut=-1;function ft(){!lt||!dt||(lt=!1,dt.length?ct=dt.concat(ct):ut=-1,ct.length&&pt())}function pt(){if(!lt){var ht=st(ft);lt=!0;for(var mt=ct.length;mt;){for(dt=ct,ct=[];++ut<mt;)dt&&dt[ut].run();ut=-1,mt=ct.length}dt=null,lt=!1,at(ht)}}et.nextTick=function(ht){var mt=new Array(arguments.length-1);if(arguments.length>1)for(var yt=1;yt<arguments.length;yt++)mt[yt-1]=arguments[yt];ct.push(new vt(ht,mt)),ct.length===1&&!lt&&st(pt)};function vt(ht,mt){this.fun=ht,this.array=mt}vt.prototype.run=function(){this.fun.apply(null,this.array)},et.title="browser",et.browser=!0,et.env={},et.argv=[],et.version="",et.versions={};function Ct(){}et.on=Ct,et.addListener=Ct,et.once=Ct,et.off=Ct,et.removeListener=Ct,et.removeAllListeners=Ct,et.emit=Ct,et.prependListener=Ct,et.prependOnceListener=Ct,et.listeners=function(ht){return[]},et.binding=function(ht){throw new Error("process.binding is not supported")},et.cwd=function(){return"/"},et.chdir=function(ht){throw new Error("process.chdir is not supported")},et.umask=function(){return 0}},function(_e,tt,et){var nt=et(415)();_e.exports=function(rt){return rt!==nt&&rt!==null}},function(_e,tt,et){_e.exports=et(429)()?et(92).Symbol:et(432)},function(_e,tt){function et(rt,it){for(var ot=0;ot<it.length;ot++){var st=it[ot];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(rt,st.key,st)}}function nt(rt,it,ot){return it&&et(rt.prototype,it),ot&&et(rt,ot),rt}_e.exports=nt},function(_e,tt,et){var nt=et(70),rt=1/0;function it(ot){if(typeof ot=="string"||nt(ot))return ot;var st=ot+"";return st=="0"&&1/ot==-rt?"-0":st}_e.exports=it},function(_e,tt,et){var nt=et(531),rt=et(140),it=rt(function(ot,st){return ot==null?{}:nt(ot,st)});_e.exports=it},function(_e,tt){function et(nt,rt){nt.prototype=Object.create(rt.prototype),nt.prototype.constructor=nt,nt.__proto__=rt}_e.exports=et},function(_e,tt,et){const nt=(typeof window!==void 0?window:commonjsGlobal).performance||{};_e.exports=function(){return nt.now?nt.timing.navigationStart+nt.now():Date.now()}},function(_e,tt,et){var nt=et(597);function rt(it){return nt(2,it)}_e.exports=rt},function(_e,tt,et){const nt=et(51),rt=et(35)();tt.check=function(it){it===void 0&&(it={});const ot=it.env||et(3),st=it.hasGetUserMediaCapability||et(605),at=it.hasPeerConnectionCapability||et(606),ct=it.logging||et(0)("hasOpenTokSupport"),ut=((it.staticConfig||rt.onlyLocal()).minimumVersion||{})[ot.name.toLowerCase()];return ut&&ut>ot.version?(ct.debug("Support for",ot.name,"is disabled because we require",ut,"but this is",ot.version),!1):ot.name==="Node"?!0:st()&&at()},tt.once=nt(()=>tt.check())},function(_e,tt){function et(nt,rt){return nt===rt||nt!==nt&&rt!==rt}_e.exports=et},function(_e,tt,et){var nt=et(178),rt=et(391),it=et(25);function ot(st){return it(st)?nt(st,!0):rt(st)}_e.exports=ot},function(_e,tt){function et(nt,rt){var it=-1,ot=nt.length;for(rt||(rt=Array(ot));++it<ot;)rt[it]=nt[it];return rt}_e.exports=et},function(_e,tt,et){var nt=void 0;_e.exports=function(rt){return rt!==nt&&rt!==null}},function(_e,tt,et){var nt=et(78),rt=1,it=4;function ot(st){return nt(st,rt|it)}_e.exports=ot},function(_e,tt,et){var nt=et(99);function rt(it,ot,st){var at=it==null?void 0:nt(it,ot);return at===void 0?st:at}_e.exports=rt},function(_e,tt,et){var nt=et(12),rt=et(139),it=et(236),ot=et(60);function st(at,ct){return nt(at)?at:rt(at,ct)?[at]:it(ot(at))}_e.exports=st},function(_e,tt,et){var nt=et(521);function rt(it){return it==null?"":nt(it)}_e.exports=rt},function(_e,tt,et){var nt=et(620),rt=et(273),it=nt(rt);_e.exports=it},function(_e,tt,et){_e.exports=function(rt){const it=[];return{on(ot,st){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];if(it.push({eventName:ot,handler:st,args:ct}),rt.on)rt.on(ot,st);else if(rt.addEventListener)rt.addEventListener(ot,st,...ct);else throw new Error("Object does not support events",rt)},off(ot,st){if(rt.off)rt.off(ot,st);else if(rt.removeEventListener){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];rt.removeEventListener(ot,st,...ct)}else throw new Error("Object does not support events",rt)},once(ot,st){for(var at=arguments.length,ct=new Array(at>2?at-2:0),lt=2;lt<at;lt++)ct[lt-2]=arguments[lt];it.push({eventName:ot,handler:st,args:ct}),rt.once(ot,st)},removeAll(){it.forEach(ot=>{let st=ot.eventName,at=ot.handler,ct=ot.args;this.off(st,at,...ct)}),it.splice(0,it.length)}}}},function(_e,tt,et){var nt=et(176);function rt(it,ot,st){ot=="__proto__"&&nt?nt(it,ot,{configurable:!0,enumerable:!0,value:st,writable:!0}):it[ot]=st}_e.exports=rt},function(_e,tt,et){var nt=et(386),rt=et(18),it=Object.prototype,ot=it.hasOwnProperty,st=it.propertyIsEnumerable,at=nt(function(){return arguments}())?nt:function(ct){return rt(ct)&&ot.call(ct,"callee")&&!st.call(ct,"callee")};_e.exports=at},function(_e,tt,et){(function(nt){var rt=et(15),it=et(387),ot=tt&&!tt.nodeType&&tt,st=ot&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,at=st&&st.exports===ot,ct=at?rt.Buffer:void 0,lt=ct?ct.isBuffer:void 0,dt=lt||it;nt.exports=dt}).call(this,et(85)(_e))},function(_e,tt){var et=9007199254740991,nt=/^(?:0|[1-9]\d*)$/;function rt(it,ot){var st=typeof it;return ot=ot??et,!!ot&&(st=="number"||st!="symbol"&&nt.test(it))&&it>-1&&it%1==0&&it<ot}_e.exports=rt},function(_e,tt){function et(nt){return function(rt){return nt(rt)}}_e.exports=et},function(_e,tt){var et=Object.prototype;function nt(rt){var it=rt&&rt.constructor,ot=typeof it=="function"&&it.prototype||et;return rt===ot}_e.exports=nt},function(_e,tt,et){_e.exports=function(nt){if(typeof nt!="function")throw new TypeError(nt+" is not a function");return nt}},function(_e,tt,et){var nt=et(30),rt=et(18),it="[object Symbol]";function ot(st){return typeof st=="symbol"||rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){if(et(8).env.name==="Node")_e.exports={value:""};else{var rt,it;const ot=(rt=Array.prototype.slice.call(document.getElementsByTagName("script")))==null||(it=rt.pop())==null?void 0:it.getAttribute("src"),st=ot&&ot.match(/[?&]apikey=([^&]+)/i)||[],at=st[1];_e.exports={value:at||""}}},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5));const st=et(154),at=et(50),ct=et(9),lt=et(57),dt=et(129),ut=et(272),ft=et(16),pt=et(6),vt=et(250),Ct=et(155),ht=et(28),mt=et(73),yt=et(623);_e.exports=function(Rt){Rt===void 0&&(Rt={});const Pt=Rt.hasValidPeerConnection||et(624),Vt=Rt.applySdpTransform||et(156),Nt=Rt.createPeerConnection||et(625),kt=Rt.env||et(3),wt=Rt.sdpTransformDefaults||et(627),Zt=Rt.getStatsAdapter||et(275),qt=Rt.getRtcStatsReportAdapter||et(278),zt=Rt.getSynchronizationSources||et(631),Bt=Rt.IceCandidateProcessor||et(632),sn=Rt.logging||et(0),mn=Rt.offerProcessor||et(634),En=Rt.PeerConnectionChannels||et(636),cn=Rt.subscribeProcessor||et(638),xn=et(639),bn=Rt.changeMediaDirection||et(641),gn=bn.changeMediaDirectionToInactive,vn=bn.changeMediaDirectionToRecvOnly,Wn=Rt.Qos||et(279).default,Un=Rt.global||(typeof window!==void 0?window:commonjsGlobal),Sn=Rt.debounce||et(645),On=Rt.needsToSwapH264Profiles||et(647).once,Ln=()=>Pt(Un.RTCPeerConnection),Jn=Rt.NativeRTCIceCandidate||Un.RTCIceCandidate,ur=Rt.NativeRTCSessionDescription||Un.RTCSessionDescription,sr=Rt.Errors||et(7),pr=Rt.OTErrorClass||et(23),Ir=Rt.ExceptionCodes||et(10),Er=Rt.hasPictureInPictureBug||et(648),Kr=1e4,Dr=po=>{let Nr=po.sendMessage,br=po.logging;const zn={};return Qn=>{Qn.candidate?(zn[Qn.candidate.sdpMid]=Qn.candidate.sdpMLineIndex,Nr("candidate",{candidate:Qn.candidate.candidate,sdpMid:Qn.candidate.sdpMid||"",sdpMLineIndex:Qn.candidate.sdpMLineIndex||0})):br.debug("IceCandidateForwarder: No more ICE candidates.")}},to=()=>{};return function(Nr){Nr===void 0&&(Nr={});let br=!1;const zn=Nr,Qn=zn.iceConfig,cr=Qn===void 0?{servers:[]}:Qn,qr=zn.sendMessage,To=zn.isPublisher,dr=zn.offerOverrides,Lr=zn.answerOverrides,Yr=zn.p2p,yo=zn.codecFlags,Mr=zn.sourceStreamId,wo=zn.keyStore,mo=zn.sFrameClientStore,so=zn.isE2ee,Gr=zn.removeUnusedCodecs;let wr=Nr,Oo=wr.logAnalyticsEvent,$r=Oo===void 0?to:Oo,os=wr.remoteConnectionId,rs=!1,Al;const Vo=On();let is=0,Gs=!1,cu,Vs,Ml,wu;const mr=new xn($r),jn=Ct();function fr(Vn,$n){br||["candidate","offer","answer","pranswer"].indexOf(Vn)>-1&&(br=(Vn==="candidate"?$n.candidate:$n.sdp).indexOf("typ relay")!==-1),qr(Vn,$n)}const Wr=at();$r("createPeerConnection","Attempt");const yr={};yr.id=ft();const xo=sn(`PeerConnection:${yr.id}`);xo.debug("construct",{id:yr.id,options:Nr});const Qo=wt,zo=Vn=>cr.transportPolicy==="relay"&&Vn!=null&&Vn.candidate.indexOf("typ relay")===-1,El=ut(Nr,["isPublisher","logAnalyticsEvent","offerOverrides","answerOverrides","sendMessage"]);let co,Dl,Ip,Du,ms,Zl=[];const wp=(()=>{let Vn=El.overrideSimulcastEnabled||!1;return{get(){return Vn},set($n){const tr=!!$n&&El.capableSimulcastStreams>1;tr!==Vn&&El.overrideSimulcastEnabled===void 0&&(Vn=tr,yr.generateOfferAndSend())}}})(),dp=()=>{yr.iceConnectionStateIsConnected()?xo.debug("iceRestart is going to wait until we disconnect or negotiationNeeded and then restart ice"):yr.generateOfferAndSend()},Ko=(()=>{let Vn=!1;return{get(){return Vn},set($n){const tr=!!$n;tr!==Vn&&(Vn=tr,Vn&&dp())}}})(),Bl={clean(){delete this.promise,delete this.resolve,delete this.reject}};Bl.promise=new nt((Vn,$n)=>{Bl.resolve=Vn,Bl.reject=$n});let vu=new Bt,Yu="new";Object.defineProperty(yr,"signalingState",{get(){return co.signalingState},set(Vn){return co.signalingState=Vn,Vn}}),pt(yr),yr.addOptions=Vn=>{os=Vn.remoteConnectionId,$r=Vn.logAnalyticsEvent},yr.startEncryption=function(){var Vn=(0,ot.default)(it.default.mark(function $n(tr){var Pr;return it.default.wrap(function(Xr){for(;;)switch(Xr.prev=Xr.next){case 0:if(so){Xr.next=2;break}return Xr.abrupt("return");case 2:return Ml=yt(tr),Xr.next=5,mo.createSender(Ml);case 5:return Vs=Xr.sent,Xr.next=8,wo.get();case 8:return Pr=Xr.sent,Xr.next=11,Vs.setSenderEncryptionKey(Pr);case 11:wu=Uo=>{Vs.setSenderEncryptionKey(Uo)},wo.on("keyChanged",wu),co.getTransceivers().forEach(Uo=>Vs.encrypt(Uo.mid,Uo.sender));case 14:case"end":return Xr.stop()}},$n)}));return function($n){return Vn.apply(this,arguments)}}(),yr.once("iceConnected",(0,ot.default)(it.default.mark(function Vn(){var $n,tr;return it.default.wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:$n="",tr={pcc:parseInt(at()-Wr,10),hasRelayCandidates:br,proxyInfo:$n},co&&co.proxyInfo&&(tr.proxyInfo=co.proxyInfo),$r("createPeerConnection","Success",tr);case 4:case"end":return Qr.stop()}},Vn)}))),Bl.resolve();const Cu=function(){var Vn=(0,ot.default)(it.default.mark(function $n(){var tr;return it.default.wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:return Qr.next=2,wo.get();case 2:if(tr=Qr.sent,Ml=yt(os),cu=mo.getReceiver(Ml),cu){Qr.next=14;break}return Qr.next=8,mo.createReceiver(Ml);case 8:cu=Qr.sent,cu.addReceiver(Ml),cu.setReceiverEncryptionKey(Ml,tr),wo.on("keyChanged",Xr=>{cu.setReceiverEncryptionKey(Ml,Xr)}),cu.addEventListener("decryptFailed",()=>{yr.trigger("decryptFailed")}),cu.addEventListener("decryptionRestored",()=>{yr.trigger("decryptRestored")});case 14:case"end":return Qr.stop()}},$n)}));return function(){return Vn.apply(this,arguments)}}(),Yo=Vn=>{if(xo.debug("internalCreatePeerConnection: called"),co){xo.debug("internalCreatePeerConnection: resolving synchronously"),Vn.call(null,null,co);return}if(Zl.push(Vn),!(Zl.length>1)){if(xo.debug(`Creating peer connection config "${JSON.stringify(El)}".`),cr.servers.length===0&&(xo.error("No ice servers present"),$r("Error","noIceServers")),cr.transportPolicy==="relay"){const $n=tr=>tr&&tr.indexOf("turn")===0;cr.servers=cr.servers.map(tr=>{const Pr=lt(tr);return Array.isArray(Pr.urls)||(Pr.urls=[Pr.urls]),Pr.urls=Pr.urls.filter($n),Pr.urls.length===0?void 0:Pr}).filter(tr=>tr!==void 0)}El.iceTransportPolicy=cr.transportPolicy,El.iceServers=cr.servers,so&&(El.forceEncodedVideoInsertableStreams=!0,El.forceEncodedAudioInsertableStreams=!0,El.encodedInsertableStreams=!0),Ln().then($n=>{if(!$n)throw xo.error("createPeerConnection: Invalid RTCPeerConnection object"),new Error("Failed to create valid RTCPeerConnection object");return Nt({window:Un,config:El})}).then(function(){var $n=(0,ot.default)(it.default.mark(function tr(Pr){return it.default.wrap(function(Xr){for(;;)switch(Xr.prev=Xr.next){case 0:if(!(!To&&so)){Xr.next=3;break}return Xr.next=3,Cu();case 3:Gl(null,Pr);case 4:case"end":return Xr.stop()}},tr)}));return function(tr){return $n.apply(this,arguments)}}(),$n=>Gl($n))}},Gl=(Vn,$n)=>{if(Vn){hp({reason:`Failed to create PeerConnection, exception: ${Vn}`,prefix:"NewPeerConnection"}),Zl=[];return}xo.debug("OT attachEventsToPeerConnection"),co=$n,vu&&vu.setPeerConnection($n),Dl=new En(co),El.channels&&Dl.addMany(El.channels);const tr=Dr({sendMessage:fr,logging:xo}),Pr=Ms=>{if(Bl.resolve(),zo(Ms.candidate)){xo.debug("Ignore candidate",Ms.candidate.candidate);return}tr(Ms)},Qr=function(){var Ms=(0,ot.default)(it.default.mark(function na(Go){return it.default.wrap(function(cp){for(;;)switch(cp.prev=cp.next){case 0:Bp(Go),!To&&cu&&cu.decrypt(Go.transceiver.mid,Go.receiver);case 2:case"end":return cp.stop()}},na)}));return function(Go){return Ms.apply(this,arguments)}}();let Xr=co.iceConnectionState;const Uo=Ms=>{co?(xo.debug("iceconnectionstatechange",co.iceConnectionState),co.iceConnectionState==="connected"?(Xr==="disconnected"&&yr.clearFailedTimeout(),yr.emit("iceConnected"),Ko.set(!1)):co.iceConnectionState==="completed"&&kt.isLegacyEdge&&setTimeout(()=>Ys.startCollecting(co),1e3)):xo.debug("iceconnectionstatechange on peerConnection that no longer exists",yr);const na=Ms.target.iceConnectionState;yr.trigger("iceConnectionStateChange",na),$r("attachEventsToPeerConnection","iceconnectionstatechange",na),na==="disconnected"&&(Ko.get()?(xo.debug("Restarting ice!"),yr.generateOfferAndSend()):mt()||(ms=setTimeout(()=>{const Go="failed";$r("attachEventsToPeerConnection","iceconnectionstatechange",Go),Xr=Go,yr.trigger("iceConnectionStateChange",Go)},Kr))),Xr!=="disconnected"&&na==="failed"&&hp({reason:"The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",prefix:"ICEWorkflow"}),Xr=na},Ws=()=>{$r("peerConnection:negotiationNeeded","Event"),To&&yr.generateOfferAndSend(),yr.trigger("negotiationNeeded")};co.addEventListener("track",Qr),co.addEventListener("icecandidate",Pr),co.addEventListener("signalingstatechange",Zu),co.addEventListener("negotiationneeded",Ws),co.addEventListener("iceconnectionstatechange",Uo),jn.add(()=>{co&&(co.removeEventListener("track",Qr),co.removeEventListener("icecandidate",Pr),co.removeEventListener("signalingstatechange",Zu),co.removeEventListener("negotiationneeded",Ws),co.removeEventListener("iceconnectionstatechange",Uo))}),bo()},bo=()=>{for(;Zl.length;)Zl.shift().call(null)},sp=()=>{vu&&(vu.destroy(),vu=null),Zl=[],Ys.stopCollecting(),jn.releaseAll(),Bl.clean(),co!==null&&(co.destroy&&co.destroy(),co=null,yr.trigger("close")),yr.off()},Zu=Vn=>{const $n=Vn.target.signalingState;if(yr.emit("signalingStateChange",$n),$n==="stable"&&yr.emit("signalingStateStable"),$n&&$n!==Yu)switch(Yu=$n,xo.debug(`stateChange: ${Yu}`),Yu){case"closed":sp();break}},_f=Vn=>{Vn.dataChannels=Dl.sampleQos(),yr.trigger("qos",{parsedStats:Vn,simulcastEnabled:wp.get()})},ys=()=>{let Vn;if(co.getRemoteStreams)Vn=co.getRemoteStreams();else if(co.remoteStreams)Vn=co.remoteStreams;else throw new Error("Invalid Peer Connection object implements no method for retrieving remote streams");return Array.prototype.slice.call(Vn)},Bp=Vn=>{var $n;const tr=Vn.track,Pr=Vn.transceiver,Qr=Vn.stream||(($n=Vn.streams)==null?void 0:$n[0]);$r("createPeerConnection","TrackAdded"),yr.trigger("trackAdded",{stream:Qr,track:tr,transceiver:Pr})},Hp=(Vn,$n,tr)=>{rs=!1,hp({reason:`PeerConnection.offerProcessor ${Vn}: ${$n}`,prefix:tr})},fp=Vn=>{if(rs){Al=Vn;return}rs=!0,$r("peerConnection:processOffer","Event");const $n=new ur({type:"offer",sdp:Vn.content.sdp}),tr=Qr=>{rs=!1,vu&&vu.process(),fr("answer",Qr),kt.isLegacyEdge||Ys.startCollecting(co,To),Al&&(fp(Al),Al=null)},Pr=Qr=>yr.trigger("remoteVideoSupported",Qr);Yo(()=>{mn(co,Un.RTCPeerConnection,Un.RTCSessionDescription,ur,Qo,$n,yo,Yr,tr,Hp,Pr,Vo,Mr)})},ep=Vn=>{$r("peerConnection:processAnswer","Event");const $n="Failed to parse SessionDescription. a=extmap-allow-mixed Expects at least 2 fields.",tr=Pr=>{Pr.includes($n)&&(Pr="SessionDescription issue has been fixed in Chrome 71 and above. Please update your browser."),hp({reason:`Error while setting RemoteDescription ${Pr}`,prefix:"SetRemoteDescription"})};if(!Vn.content.sdp){tr("Weird answer message, no SDP.");return}Du=new ur({type:"answer",sdp:Vt(Qo,"remote","answer",ct({replaceBaselineProfile:Vo},Lr),Vn.content.sdp).local}),(()=>{const Pr=()=>{xo.debug("processAnswer: setRemoteDescription Success"),vu&&vu.process()};co.setRemoteDescription(Du).then(Pr).catch(tr),mr.setResolved()})(),kt.isLegacyEdge||Ys.startCollecting(co,To)},Zp=Vn=>{var $n,tr;if((($n=co)==null||(tr=$n.signalingState)==null?void 0:tr.toLowerCase())==="closed")return;$r("peerConnection:processSubscribe","Event"),xo.debug("processSubscribe: Sending offer to subscriber.");let Pr=wp.get()?El.capableSimulcastStreams:1;Mr==="P2P"&&!Yr&&(Pr=1),Yo(()=>{cn({peerConnection:co,NativeRTCSessionDescription:ur,sdpTransforms:Qo,numSimulcastStreams:Pr,removeVideoOrientation:Er(),offerOverrides:dr,offerConstraints:{iceRestart:Ko.get()},replaceBaselineProfile:Vo,removeUnusedCodecs:Gr}).then(Xr=>{xo.debug("processSubscribe: got offer, waiting for _readyToCompleteOffer"),Ip=Xr,Bl.promise.then(()=>Vn(Ip))},Xr=>{hp({reason:`subscribeProcessor ${Xr.message}: ${Xr.reason}`,prefix:Xr.prefix})}),Ko.set(!1)})},pp=()=>{typeof wu=="function"&&wo.off("keyChanged",wu),Vs=null,Ml=null};yr.generateOfferAndSend=()=>{const Vn=$n=>{xo.debug("processSubscribe: sending offer"),fr("offer",$n)};yr.generateOffer(Vn)},yr.generateOfferAndAnswer=Vn=>{const $n=tr=>{Vn(tr)};yr.generateOffer($n)},yr.generateOffer=Sn(function(Vn){Vn===void 0&&(Vn=()=>{}),mr.enqueueOfferAnswer(()=>Zp(Vn))},100);const hp=Vn=>{let $n=Vn.reason,tr=Vn.prefix;xo.error($n,"in state",co?{connectionState:co.connectionState,iceConnectionState:co.iceConnectionState,iceGatheringState:co.iceGatheringState,signalingState:co.signalingState}:"(none)"),yr.trigger("error",{reason:$n,prefix:tr})};yr.addTrack=(Vn,$n)=>{const tr=new nt((Pr,Qr)=>{Yo(Xr=>{if(Xr)return Qr(Xr);Pr()})}).then(()=>{if(co.addTrack)return co.addTrack(Vn,$n);const Pr=co.getLocalStreams()[0];if(Pr===void 0)throw new Error("PeerConnection has no existing streams, cannot addTrack");Pr.addTrack(Vn),yr.generateOfferAndSend()}).then(()=>new nt(Pr=>{yr.once("signalingStateStable",()=>{Pr()})}));return st(tr,15e3,"Renegotiation timed out")};function $u(Vn){this.track=Vn}yr.setIceConfig=Vn=>{try{kt.isFirefox&&(Vn.certificates=co.getConfiguration().certificates),co.setConfiguration(Vn)}catch($n){throw new vt(`A peer connection failed to set configuration with ${$n.message}`,sr.FAILED_SET_CONFIGURATION)}return Ko.set(!0),co},yr.removeTrack=Vn=>{const $n=nt.resolve().then(()=>{if(Vn instanceof $u){co.getLocalStreams()[0].removeTrack(Vn.track),yr.generateOfferAndSend();return}return co.removeTrack(Vn)}).then(()=>new nt(tr=>{yr.once("signalingStateStable",()=>{tr()})}));return st($n,15e3,"Renegotiation timed out")},yr.addLocalStream=Vn=>new nt(($n,tr)=>{Yo(Pr=>{if(Pr){tr(Pr);return}try{Vn.getTracks&&Vn.getTracks().forEach(Qr=>co.addTrack(Qr,Vn))}catch(Qr){tr(Qr);return}$n()})}),yr.getLocalStreams=()=>co.getLocalStreams(),yr.getSenders=()=>co.getSenders?co.getSenders():co.getLocalStreams()[0].getTracks().map(Vn=>new $u(Vn)),yr.disconnect=()=>{var Vn;vu&&(vu.destroy(),vu=null),(Vn=co)!=null&&Vn.signalingState&&co.signalingState.toLowerCase()!=="closed"&&(co.close(),pp(),setTimeout(sp))},yr.iceRestart=()=>Ko.set(!0),yr.clearFailedTimeout=()=>clearTimeout(ms);const _a=Vn=>{const $n=Vn?gn:vn;return new nt(Pr=>{mr.enqueueOfferAnswer((0,ot.default)(it.default.mark(function Qr(){return it.default.wrap(function(Uo){for(;;)switch(Uo.prev=Uo.next){case 0:return Uo.next=2,$n(co);case 2:mr.setResolved(),Pr();case 4:case"end":return Uo.stop()}},Qr)})))})};yr.changeMediaDirectionToRecvOnly=()=>_a(!1),yr.changeMediaDirectionToInactive=()=>_a(!0),yr.processMessage=(Vn,$n)=>{switch(xo.debug(`processMessage: Received ${Vn} from ${$n.fromAddress}`,$n),xo.debug($n),Vn){case"generateoffer":$n.content&&$n.content.simulcastEnabled!==void 0&&wp.set($n.content.simulcastEnabled),yr.generateOfferAndSend(),Pr();break;case"offer":fp($n),Pr();break;case"answer":case"pranswer":ep($n);break;case"candidate":var tr=new Jn($n.content);vu&&vu.addIceCandidate(tr).catch(Qr=>{xo.warn(`Error while adding ICE candidate: ${JSON.stringify(tr)}: ${Qr.toString()}`)});break;default:xo.debug(`processMessage: Received an unexpected message of type ${Vn} from ${$n.fromAddress}: ${JSON.stringify($n)}`)}function Pr(){is+=1,Ys.handleOfferMessageReceived(),is>1&&($r("Renegotiation","Attempt"),Gs=!0)}return yr};const ap=Vn=>{const $n=(tr,Pr)=>tr.mid<Pr.mid?1:tr.mid>Pr.mid?-1:0;return Vn.sort($n)};yr.stopTransceivers=Vn=>{const $n=co.getTransceivers().filter(tr=>Vn.includes(tr.mid));ap($n).forEach(tr=>tr.stop())},yr.remoteStreams=()=>co?ys():[],yr.remoteTracks=()=>co?co.getReceivers?Array.prototype.slice.apply(co.getReceivers()).map(Vn=>Vn.track):Array.prototype.concat.apply([],ys().map(Vn=>Vn.getTracks())):[],yr.remoteDescription=()=>co.remoteDescription,yr.getStats=Vn=>{if(!co){const $n=Ir.PEER_CONNECTION_NOT_CONNECTED;Vn(new vt(pr.getTitleByCode($n),sr.PEER_CONNECTION_NOT_CONNECTED,{code:$n}));return}Zt(co,Vn)},yr.getRtcStatsReport=Vn=>{if(!co){const $n=Ir.PEER_CONNECTION_NOT_CONNECTED;Vn(new vt(pr.getTitleByCode($n),sr.PEER_CONNECTION_NOT_CONNECTED,{code:$n}));return}qt(co,Vn)},yr.getSynchronizationSources=Vn=>{if(!To){if(!co){const $n=Ir.PEER_CONNECTION_NOT_CONNECTED;Vn(new vt(pr.getTitleByCode($n),sr.PEER_CONNECTION_NOT_CONNECTED,{code:$n}));return}zt(co,Vn)}};const Op=function Vn($n,tr,Pr,Qr){let Xr;const Uo=Dl.get(tr,Pr);if(!Uo){if($n>0){setTimeout(Vn.bind(null,$n-1,tr,Pr,Qr),200);return}Xr=new vt(`A channel with that label and options could not be found. Label:${tr}. Options: ${JSON.stringify(Pr)}`)}Qr(Xr,Uo)};yr.getDataChannel=(Vn,$n,tr)=>{if(!co){tr(new vt("Cannot create a DataChannel before there is a connection."));return}Op(100,Vn,$n,tr)},yr.getSourceStreamId=()=>Mr,yr.iceConnectionStateIsConnected=()=>co&&["connected","completed"].indexOf(co.iceConnectionState)>-1,yr.findAndReplaceTrack=(Vn,$n)=>nt.resolve().then(()=>{const tr=co.getSenders().filter(Pr=>Pr.track===Vn)[0];if(!tr)return nt.resolve();if(typeof tr.replaceTrack!="function")throw new Error("Sender does not support replaceTrack");return tr.replaceTrack($n)}),yr.hasRelayCandidates=()=>br,yr.getNegotiatedCodecs=()=>{if(!co.localDescription||!co.remoteDescription)return null;const Vn=$n=>dt(ht.getCodecs(co.localDescription.sdp,$n),ht.getCodecs(co.remoteDescription.sdp,$n));return{audio:Vn("audio"),video:Vn("video")}},yr.on("signalingStateStable",()=>{Gs&&(Gs=!1,$r("Renegotiation","Success",yr.getNegotiatedCodecs()))}),yr.on("error",Vn=>{let $n=Vn.prefix;Gs&&["CreateOffer","SetRemoteDescription"].indexOf($n)!==-1&&(Gs=!1,$r("Renegotiation","Failure"))}),yr.on("close",()=>{Gs&&(Gs=!1,$r("Renegotiation","Cancel"))});const Ys=new Wn;return Ys.on("stats",_f),yr}}}).call(this,et(2))},function(_e,tt,et){const nt=et(3),rt=()=>(nt.isChrome||nt.isElectron)&&nt.version>=90||nt.isOpera&&nt.version>=76;_e.exports=()=>!rt()&&(nt.isChrome&&nt.version>71||nt.isChromiumEdge&&nt.version<90||nt.isOpera&&nt.version>58)},function(_e,tt,et){function nt(rt,it,ot){ot===void 0&&(ot=1/0);let st=null,at=!1,ct=1;const lt=1e3/it,dt=()=>{!at||ct>ot||(ct+=1,rt(),st=setTimeout(dt,lt))};this.start=()=>{at||(at=!0,setTimeout(dt,lt))},this.stop=()=>{(typeof window!==void 0?window:commonjsGlobal).clearTimeout(st),at=!1}}_e.exports=nt},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt={ACTIVE_VIDEO:0,ACTIVE_VIDEO_WITH_WARNING:1,SUSPENDED_VIDEO:2};tt.default=rt},function(_e,tt,et){const nt=et(48),rt=et(678),it=et(11),ot=et(157),st={};function at(pt){return Number(pt.framerateMean||pt.googFrameRateSent||pt.googFrameRateReceived||pt.googFrameRateInput||pt.googFrameRateOutput||0)}function ct(pt){return Number(pt.framesEncoded||pt.framesDecoded)}function lt(pt,vt){if(at(pt))return at(pt);if(!ct(pt))return;let Ct=0;const ht=st[pt.id]?st[pt.id].frames:0,mt=st[pt.id]?st[pt.id].timestamp:vt;return Ct=ot({currentStatFrames:ct(pt),currentTimestamp:pt.timestamp,prevStatFrames:ht,prevTimestamp:mt}),st[pt.id]={frames:ct(pt),timestamp:pt.timestamp},Ct}function dt(pt,vt){if(!vt)return{};const Ct=vt.filter(ht=>ht.id===pt.mediaTrackId);return Ct.length?Ct[0]:{}}function ut(pt,vt){return"packetsLost"in vt?pt+vt.packetsLost:pt}const ft={isVideoStat(pt,vt){const Ct=dt(pt,vt);return pt.kind==="video"&&["outbound-rtp","inbound-rtp"].includes(pt.type)||pt.mediaType==="video"||"googFrameWidthReceived"in pt||"googFrameWidthInput"in pt||pt.type==="inbound-rtp"&&pt.id.indexOf("Video")!==-1||pt.type==="inboundrtp"&&Ct.frameWidth!==0},isAudioStat(pt,vt){const Ct=dt(pt,vt);return pt.kind==="audio"&&["outbound-rtp","inbound-rtp"].includes(pt.type)||pt.mediaType==="audio"||"audioInputLevel"in pt||"audioOutputLevel"in pt||pt.type==="inbound-rtp"&&pt.id.indexOf("Audio")!==-1||pt.type==="inboundrtp"&&Ct.frameWidth===0},isInboundStat(pt){return"bytesReceived"in pt||"packetsReceived"in pt},isOutboundStat(pt){return"bytesSent"in pt||"packetsSent"in pt},isVideoTrackStat(pt){return pt.type==="track"&&(pt.frameHeight>0||pt.frameWidth>0||pt.framesCorrupted>0||pt.framesDecoded>0||pt.framesPerSecond>0||pt.framesSent>0||pt.framesReceived>0)},isVideoRemoteInboundRtpStat(pt){return pt.type==="remote-inbound-rtp"&&pt.kind==="video"},isAudioRemoteInboundRtpStat(pt){return pt.type==="remote-inbound-rtp"&&pt.kind==="audio"},isVideoInboundRtpStat(pt){return pt.type==="inbound-rtp"&&pt.kind==="video"},parseStatCategory(pt){const vt={packetsLost:0,packetsReceived:0,bytesReceived:0};return"packetsReceived"in pt&&(vt.packetsReceived=parseInt(pt.packetsReceived,10)),"packetsLost"in pt&&(vt.packetsLost=parseInt(pt.packetsLost,10)),"bytesReceived"in pt&&(vt.bytesReceived=parseInt(pt.bytesReceived,10)),this.isVideoStat(pt)&&("framerateMean"in pt?vt.frameRate=Number(pt.framerateMean):"googFrameRateOutput"in pt?vt.frameRate=Number(pt.googFrameRateOutput):"googFrameRateInput"in pt&&(vt.frameRate=Number(pt.googFrameRateInput))),vt},getVideoPacketsLost(pt){return pt.filter(vt=>this.isVideoRemoteInboundRtpStat(vt,pt)).reduce(ut,0)},getAudioPacketsLost(pt){return pt.filter(vt=>this.isAudioRemoteInboundRtpStat(vt,pt)).reduce(ut,0)},normalizeTimestamp(pt,vt){return vt===void 0&&(vt=Date.now()),it(pt)&&"getTime"in pt?pt.getTime():Math.abs(pt/(1e3*vt)-1)<.05?pt/1e3:pt},normalizeStats(pt,vt,Ct){vt===void 0&&(vt=!0);const ht=pt.filter(Zt=>ft.isVideoStat(Zt,pt)).filter(Zt=>ft.isInboundStat(Zt)===vt),mt=pt.filter(Zt=>this.isAudioStat(Zt,pt)).filter(Zt=>this.isInboundStat(Zt)===vt)[0],yt=ht[0];if(!mt&&!yt)throw new Error("could not find stats for either audio or video");const Et=ft.normalizeTimestamp(yt?yt.timestamp:mt.timestamp),Rt={timestamp:Et};yt&&!vt&&yt.packetsLost===void 0&&(yt.packetsLost=this.getVideoPacketsLost(pt)),mt&&!vt&&mt.packetsLost===void 0&&(mt.packetsLost=this.getAudioPacketsLost(pt));const Pt=["packetsSent","packetsLost","bytesSent"],kt=vt?Zt=>nt(Zt,["packetsReceived","packetsLost","bytesReceived"]):Zt=>nt(Zt,Pt),wt=Zt=>{const qt=["framerateMean","googFrameRateSent","googFrameRateReceived","googFrameRateInput","googFrameRateOutput","framesEncoded","framesDecoded"],zt=Pt.concat(qt),Bt={timestamp:Et,id:yt.id};return zt.forEach(sn=>{Bt[sn]=Zt.map(mn=>Number(mn[sn]||0)).reduce((mn,En)=>mn+En,0)}),Bt};if(ht&&ht.length>0){const Zt=wt(ht);Rt.video=Object.assign({frameRate:lt(Zt,Ct)},rt(kt(Zt),Number))}return mt&&(Rt.audio=rt(kt(mt),Number)),Rt}};_e.exports=ft},function(_e,tt,et){tt.__esModule=!0,tt.messages=tt.codes=void 0;const nt={1e3:"The connection successfully completed the purpose for which it was created.",1001:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.",1002:"The endpoint is terminating the connection due to a protocol error. (CLOSE_PROTOCOL_ERROR)",1003:"The connection is being terminated because the endpoint has indicated that reconnections are not available. (CLOSE_UNSUPPORTED)",1005:"Indicates that no status code was provided even though one was expected. (CLOSE_NO_STATUS)",1006:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected. (CLOSE_ABNORMAL)",1007:"Indicates that an endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [RFC3629] data within a text message)",1008:"Indicates that an endpoint is terminating the connection because it has received a message that violates its policy.  This is a generic status code that can be returned when there is no other more suitable status code (e.g., 1003 or 1009) or if there is a need to hide specific details about the policy",1009:"Indicates that an endpoint is terminating the connection because it has received a message that is too big for it to process (CLOSE_TOO_LARGE)",1011:"Indicates that a server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request",4001:"Connectivity loss was detected as it was too long since the socket received the last PONG message",4010:"Timed out while waiting for the Rumor socket to connect.",4020:"Error code unavailable.",4030:"Exception was thrown during Rumor connection, possibly because of a blocked port."};tt.messages=nt;const rt={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006,CLOSE_INCONSISTENT_DATA:1007,CLOSE_POLICY_VIOLATION:1008,CLOSE_TOO_LARGE:1009,CLOSE_UNEXPECTED_CONDITION:1011,CLOSE_CONNECTIVITY_LOSS:4001,CLOSE_TIMEOUT:4010,CLOSE_FALLBACK_CODE:4020,CLOSE_CONNECT_EXCEPTION:4030,ALREADY_CONNECTED_CONNECTING:null};tt.codes=rt},function(_e,tt,et){var nt=et(79),rt=et(113),it=et(84),ot=et(177),st=et(390),at=et(180),ct=et(55),lt=et(393),dt=et(395),ut=et(183),ft=et(185),pt=et(42),vt=et(398),Ct=et(399),ht=et(190),mt=et(12),yt=et(65),Et=et(403),Rt=et(11),Pt=et(405),Vt=et(31),Nt=et(54),kt=1,wt=2,Zt=4,qt="[object Arguments]",zt="[object Array]",Bt="[object Boolean]",sn="[object Date]",mn="[object Error]",En="[object Function]",cn="[object GeneratorFunction]",xn="[object Map]",bn="[object Number]",gn="[object Object]",vn="[object RegExp]",Wn="[object Set]",Un="[object String]",Sn="[object Symbol]",On="[object WeakMap]",Ln="[object ArrayBuffer]",Jn="[object DataView]",ur="[object Float32Array]",sr="[object Float64Array]",pr="[object Int8Array]",Ir="[object Int16Array]",Er="[object Int32Array]",Kr="[object Uint8Array]",Dr="[object Uint8ClampedArray]",to="[object Uint16Array]",po="[object Uint32Array]",Nr={};Nr[qt]=Nr[zt]=Nr[Ln]=Nr[Jn]=Nr[Bt]=Nr[sn]=Nr[ur]=Nr[sr]=Nr[pr]=Nr[Ir]=Nr[Er]=Nr[xn]=Nr[bn]=Nr[gn]=Nr[vn]=Nr[Wn]=Nr[Un]=Nr[Sn]=Nr[Kr]=Nr[Dr]=Nr[to]=Nr[po]=!0,Nr[mn]=Nr[En]=Nr[On]=!1;function br(zn,Qn,cr,qr,To,dr){var Lr,Yr=Qn&kt,yo=Qn&wt,Mr=Qn&Zt;if(cr&&(Lr=To?cr(zn,qr,To,dr):cr(zn)),Lr!==void 0)return Lr;if(!Rt(zn))return zn;var wo=mt(zn);if(wo){if(Lr=vt(zn),!Yr)return ct(zn,Lr)}else{var mo=pt(zn),so=mo==En||mo==cn;if(yt(zn))return at(zn,Yr);if(mo==gn||mo==qt||so&&!To){if(Lr=yo||so?{}:ht(zn),!Yr)return yo?dt(zn,st(Lr,zn)):lt(zn,ot(Lr,zn))}else{if(!Nr[mo])return To?zn:{};Lr=Ct(zn,mo,Yr)}}dr||(dr=new nt);var Gr=dr.get(zn);if(Gr)return Gr;dr.set(zn,Lr),Pt(zn)?zn.forEach(function($r){Lr.add(br($r,Qn,cr,$r,zn,dr))}):Et(zn)&&zn.forEach(function($r,os){Lr.set(os,br($r,Qn,cr,os,zn,dr))});var wr=Mr?yo?ft:ut:yo?Nt:Vt,Oo=wo?void 0:wr(zn);return rt(Oo||zn,function($r,os){Oo&&(os=$r,$r=zn[os]),it(Lr,os,br($r,Qn,cr,os,zn,dr))}),Lr}_e.exports=br},function(_e,tt,et){var nt=et(80),rt=et(362),it=et(363),ot=et(364),st=et(365),at=et(366);function ct(lt){var dt=this.__data__=new nt(lt);this.size=dt.size}ct.prototype.clear=rt,ct.prototype.delete=it,ct.prototype.get=ot,ct.prototype.has=st,ct.prototype.set=at,_e.exports=ct},function(_e,tt,et){var nt=et(357),rt=et(358),it=et(359),ot=et(360),st=et(361);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt,et){var nt=et(53);function rt(it,ot){for(var st=it.length;st--;)if(nt(it[st][0],ot))return st;return-1}_e.exports=rt},function(_e,tt,et){var nt=et(39),rt=nt(Object,"create");_e.exports=rt},function(_e,tt,et){var nt=et(381);function rt(it,ot){var st=it.__data__;return nt(ot)?st[typeof ot=="string"?"string":"hash"]:st.map}_e.exports=rt},function(_e,tt,et){var nt=et(63),rt=et(53),it=Object.prototype,ot=it.hasOwnProperty;function st(at,ct,lt){var dt=at[ct];(!(ot.call(at,ct)&&rt(dt,lt))||lt===void 0&&!(ct in at))&&nt(at,ct,lt)}_e.exports=st},function(_e,tt){_e.exports=function(et){return et.webpackPolyfill||(et.deprecate=function(){},et.paths=[],et.children||(et.children=[]),Object.defineProperty(et,"loaded",{enumerable:!0,get:function(){return et.l}}),Object.defineProperty(et,"id",{enumerable:!0,get:function(){return et.i}}),et.webpackPolyfill=1),et}},function(_e,tt,et){var nt=et(388),rt=et(67),it=et(115),ot=it&&it.isTypedArray,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(11),rt=Object.create,it=function(){function ot(){}return function(st){if(!nt(st))return{};if(rt)return rt(st);ot.prototype=st;var at=new ot;return ot.prototype=void 0,at}}();_e.exports=it},function(_e,tt,et){var nt=et(89),rt=et(193),it=et(123);function ot(st,at){return it(rt(st,at,nt),st+"")}_e.exports=ot},function(_e,tt){function et(nt){return nt}_e.exports=et},function(_e,tt,et){var nt=Object.prototype.toString,rt=nt.call(function(){return arguments}());_e.exports=function(it){return nt.call(it)===rt}},function(_e,tt,et){var nt=Object.prototype.toString,rt=nt.call("");_e.exports=function(it){return typeof it=="string"||it&&typeof it=="object"&&(it instanceof String||nt.call(it)===rt)||!1}},function(_e,tt,et){_e.exports=et(430)()?globalThis:et(431)},function(_e,tt,et){var nt=et(112),rt=et(463),it=et(464);function ot(st){var at=-1,ct=st==null?0:st.length;for(this.__data__=new nt;++at<ct;)this.add(st[at])}ot.prototype.add=ot.prototype.push=rt,ot.prototype.has=it,_e.exports=ot},function(_e,tt,et){var nt=et(465);function rt(it,ot){var st=it==null?0:it.length;return!!st&&nt(it,ot,0)>-1}_e.exports=rt},function(_e,tt){function et(nt,rt){return nt.has(rt)}_e.exports=et},function(_e,tt,et){var nt=et(87),rt=et(11);function it(ot){return function(){var st=arguments;switch(st.length){case 0:return new ot;case 1:return new ot(st[0]);case 2:return new ot(st[0],st[1]);case 3:return new ot(st[0],st[1],st[2]);case 4:return new ot(st[0],st[1],st[2],st[3]);case 5:return new ot(st[0],st[1],st[2],st[3],st[4]);case 6:return new ot(st[0],st[1],st[2],st[3],st[4],st[5]);case 7:return new ot(st[0],st[1],st[2],st[3],st[4],st[5],st[6])}var at=nt(ot.prototype),ct=ot.apply(at,st);return rt(ct)?ct:at}}_e.exports=it},function(_e,tt,et){var nt=et(506);function rt(it){var ot=nt(it),st=ot%1;return ot===ot?st?ot-st:ot:0}_e.exports=rt},function(_e,tt){function et(nt){var rt=-1,it=Array(nt.size);return nt.forEach(function(ot){it[++rt]=ot}),it}_e.exports=et},function(_e,tt,et){var nt=et(59),rt=et(47);function it(ot,st){st=nt(st,ot);for(var at=0,ct=st.length;ot!=null&&at<ct;)ot=ot[rt(st[at++])];return at&&at==ct?ot:void 0}_e.exports=it},function(_e,tt,et){var nt=et(239),rt=et(31);function it(ot,st){return ot&&nt(ot,st,rt)}_e.exports=it},function(_e,tt,et){const nt=et(240),rt=ot=>ot.replace(/\/$/,""),it=(ot,st)=>{if(!st)return ot;const at=nt.parse(st),ct=nt.parse(ot);if(!at.protocol||!ct.protocol)return ot;const lt=at.protocol.match(/^https/),ut=(ct.protocol.match(/^ws/i)?"ws":"http")+(lt?"s":""),ft=rt(`${ut}://${at.host}${at.pathname}`),pt=rt(`${ct.host}${ct.pathname}${ct.search||""}`);return`${ft}/${pt}`};_e.exports={prependProxyToUrlIfNeeded:it}},function(_e,tt,et){const nt=et(22),rt=et(13),it=et(7),ot=et(10),st=et(23);let at;const ct={SET_PROXY_URL_TIMING_ERROR:"The proxyUrl was set after a session or publisher was created.",PROXY_URL_ALREADY_SET_ERROR:"The proxyUrl has already been set. Setting it again will not have any effect."};_e.exports={errorMessages:ct,setProxyUrl:lt=>{const dt=et(21),ut=et(71),ft=new dt,pt=nt.sessions.length()>0,vt=nt.publishers.length()>0;let Ct;if(pt){const mt=nt.sessions.find(yt=>yt.currentState==="connected");Ct=mt?mt.sessionId:nt.sessions.find().sessionId}else Ct="";const ht={sessionId:Ct,apiKey:ut.value};if(vt||pt){const mt=rt()(it.SET_PROXY_URL_TIMING_ERROR,new Error(ct.SET_PROXY_URL_TIMING_ERROR),ot.SET_PROXY_URL_TIMING_ERROR);st.handleJsException({error:mt,target:ht,analytics:ft})}else if(at){const mt=rt()(it.PROXY_URL_ALREADY_SET_ERROR,new Error(ct.PROXY_URL_ALREADY_SET_ERROR),ot.PROXY_URL_ALREADY_SET_ERROR);st.handleJsException({error:mt,target:ht,analytics:ft})}else at=lt},getProxyUrl:()=>at,clearProxyUrl:()=>{at=null}}},function(_e,tt,et){tt.adaptIceServers=function(rt){return rt.map(it=>({url:it.url,urls:it.urls||[it.url],username:it.username,credential:it.credential}))},tt.parseIceServers=function(rt){let it;try{it=JSON.parse(rt.data).content.iceServers}catch{return[]}return tt.adaptIceServers(it)}},function(_e,tt,et){const nt=et(3);_e.exports=()=>nt.name==="Chrome"&&nt.version>=58||["Firefox","Edge","Safari","Opera"].indexOf(nt.name)!==-1},function(_e,tt,et){_e.exports=function(rt){let it=null,ot=!1;const st=()=>{ot&&(rt(),it=window.requestAnimationFrame(st))};this.start=()=>{ot||(ot=!0,window.requestAnimationFrame(st))},this.stop=()=>{window.cancelAnimationFrame(it),ot=!1}}},function(_e,tt,et){const nt=et(9),rt=(it,ot,st)=>ot&&!st?()=>ot.call(it):ot&&st?at=>(at!==void 0&&st.call(it,at),ot.call(it)):at=>{at!==void 0&&st.call(it,at)};_e.exports=(it,ot)=>{const st={};Object.keys(ot).forEach(at=>{st[at]=rt(it,ot[at].get,ot[at].set)}),nt(it,st)}},function(_e,tt,et){let nt="";const rt=ot=>{nt=ot},it=()=>nt;_e.exports={getCurrentAudioOutputDeviceId:it,setCurrentAudioOutputDeviceId:rt}},function(_e,tt,et){(function(nt){_e.exports=function(it){return new nt(ot=>setTimeout(ot,it))}}).call(this,et(2))},function(_e,tt,et){const nt=et(296);function rt(it){let ot=it===void 0?{}:it,st=ot.NativeVideoElementWrapper;const ct=st===void 0?nt():st,lt=50;function dt(ut){let ft=ut===void 0?{}:ut,pt=ft.fallbackText,vt=pt===void 0?"Sorry, Web RTC is not available in your browser":pt,Ct=ft.fitMode,ht=ft.muted,mt=ft._inject,yt=ft.widgetType;return new ct({fallbackText:vt,fitMode:Ct,muted:ht,defaultAudioVolume:lt,_inject:mt,widgetType:yt})}return dt}_e.exports=rt},function(_e,tt,et){const nt=!!window.crypto,rt=!!window.RTCRtpSender.prototype.createEncodedStreams||!!window.RTCRtpSender.prototype.createdEncodedVideoStreams,it=!!window.Worker,ot=()=>nt&&rt&&it;_e.exports=function(st){st===void 0&&(st={});const at=st.hasOpenTokSupport||et(52).once,ct=st.isE2eeSupported||ot;return at()&&ct()}},function(_e,tt,et){var nt=et(39),rt=et(15),it=nt(rt,"Map");_e.exports=it},function(_e,tt,et){var nt=et(373),rt=et(380),it=et(382),ot=et(383),st=et(384);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length;++it<ot&&rt(nt[it],it,nt)!==!1;);return nt}_e.exports=et},function(_e,tt){var et=9007199254740991;function nt(rt){return typeof rt=="number"&&rt>-1&&rt%1==0&&rt<=et}_e.exports=nt},function(_e,tt,et){(function(nt){var rt=et(174),it=tt&&!tt.nodeType&&tt,ot=it&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,st=ot&&ot.exports===it,at=st&&rt.process,ct=function(){try{var lt=ot&&ot.require&&ot.require("util").types;return lt||at&&at.binding&&at.binding("util")}catch{}}();nt.exports=ct}).call(this,et(85)(_e))},function(_e,tt,et){var nt=et(68),rt=et(389),it=Object.prototype,ot=it.hasOwnProperty;function st(at){if(!nt(at))return rt(at);var ct=[];for(var lt in Object(at))ot.call(at,lt)&&lt!="constructor"&&ct.push(lt);return ct}_e.exports=st},function(_e,tt,et){var nt=et(394),rt=et(181),it=Object.prototype,ot=it.propertyIsEnumerable,st=Object.getOwnPropertySymbols,at=st?function(ct){return ct==null?[]:(ct=Object(ct),nt(st(ct),function(lt){return ot.call(ct,lt)}))}:rt;_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=rt.length,st=nt.length;++it<ot;)nt[st+it]=rt[it];return nt}_e.exports=et},function(_e,tt,et){var nt=et(179),rt=nt(Object.getPrototypeOf,Object);_e.exports=rt},function(_e,tt,et){var nt=et(188);function rt(it){var ot=new it.constructor(it.byteLength);return new nt(ot).set(new nt(it)),ot}_e.exports=rt},function(_e,tt,et){_e.exports={error:{priority:1,method:"error"},warn:{priority:2,method:"warn"},info:{priority:3,method:"info"},log:{priority:4,method:"log"},debug:{priority:5,method:"debug"},spam:{priority:6,method:"log"}}},function(_e,tt){function et(nt,rt,it){switch(it.length){case 0:return nt.call(rt);case 1:return nt.call(rt,it[0]);case 2:return nt.call(rt,it[0],it[1]);case 3:return nt.call(rt,it[0],it[1],it[2])}return nt.apply(rt,it)}_e.exports=et},function(_e,tt,et){var nt=et(410),rt=et(194),it=rt(nt);_e.exports=it},function(_e,tt,et){var nt=et(53),rt=et(25),it=et(66),ot=et(11);function st(at,ct,lt){if(!ot(lt))return!1;var dt=typeof ct;return(dt=="number"?rt(lt)&&it(ct,lt.length):dt=="string"&&ct in lt)?nt(lt[ct],at):!1}_e.exports=st},function(_e,tt,et){_e.exports=et(196)()?Object.setPrototypeOf:et(197)},function(_e,tt,et){var nt=et(56),rt={object:!0,function:!0,undefined:!0};_e.exports=function(it){return nt(it)?hasOwnProperty.call(rt,typeof it):!1}},function(_e,tt,et){_e.exports=et(421)()?Object.assign:et(422)},function(_e,tt,et){const nt=et(0)("Event"),rt=et(9),it=et(129);_e.exports=function(){function ot(at,ct,lt){ct===void 0&&(ct=!0),lt===void 0&&(lt={}),this.type=at,this.cancelable=ct,this._defaultPrevented=!1;const dt=it(Object.keys(this),Object.keys(lt));if(dt.length>0)throw new Error(`Cannot used reserved property names: ${dt.join(",")}`);rt(this,lt)}var st=ot.prototype;return st.preventDefault=function(){this.cancelable?this._defaultPrevented=!0:nt.warn("Event.preventDefault :: Trying to preventDefault on an event that isn't cancelable")},st.isDefaultPrevented=function(){return this._defaultPrevented},ot}()},function(_e,tt,et){var nt=et(34),rt=et(462),it=et(88),ot=et(468),st=it(function(at){var ct=nt(at,ot);return ct.length&&ct[0]===at[0]?rt(ct):[]});_e.exports=st},function(_e,tt){function et(nt,rt,it){for(var ot=-1,st=nt==null?0:nt.length;++ot<st;)if(it(rt,nt[ot]))return!0;return!1}_e.exports=et},function(_e,tt,et){var nt=et(25),rt=et(18);function it(ot){return rt(ot)&&nt(ot)}_e.exports=it},function(_e,tt,et){(function(nt){var rt=et(19),it=et(474),ot=et(210),st={"Content-Type":"application/x-www-form-urlencoded"};function at(ut,ft){!rt.isUndefined(ut)&&rt.isUndefined(ut["Content-Type"])&&(ut["Content-Type"]=ft)}function ct(){var ut;return(typeof XMLHttpRequest<"u"||typeof nt<"u"&&Object.prototype.toString.call(nt)==="[object process]")&&(ut=et(211)),ut}function lt(ut,ft,pt){if(rt.isString(ut))try{return(ft||JSON.parse)(ut),rt.trim(ut)}catch(vt){if(vt.name!=="SyntaxError")throw vt}return(pt||JSON.stringify)(ut)}var dt={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:ct(),transformRequest:[function(ft,pt){return it(pt,"Accept"),it(pt,"Content-Type"),rt.isFormData(ft)||rt.isArrayBuffer(ft)||rt.isBuffer(ft)||rt.isStream(ft)||rt.isFile(ft)||rt.isBlob(ft)?ft:rt.isArrayBufferView(ft)?ft.buffer:rt.isURLSearchParams(ft)?(at(pt,"application/x-www-form-urlencoded;charset=utf-8"),ft.toString()):rt.isObject(ft)||pt&&pt["Content-Type"]==="application/json"?(at(pt,"application/json"),lt(ft)):ft}],transformResponse:[function(ft){var pt=this.transitional,vt=pt&&pt.silentJSONParsing,Ct=pt&&pt.forcedJSONParsing,ht=!vt&&this.responseType==="json";if(ht||Ct&&rt.isString(ft)&&ft.length)try{return JSON.parse(ft)}catch(mt){if(ht)throw mt.name==="SyntaxError"?ot(mt,this,"E_JSON_PARSE"):mt}return ft}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(ft){return ft>=200&&ft<300}};dt.headers={common:{Accept:"application/json, text/plain, */*"}},rt.forEach(["delete","get","head"],function(ft){dt.headers[ft]={}}),rt.forEach(["post","put","patch"],function(ft){dt.headers[ft]=rt.merge(st)}),_e.exports=dt}).call(this,et(43))},function(_e,tt){_e.exports={}},function(_e,tt,et){var nt=et(217),rt=et(492),it=et(493),ot=et(219),st=et(504),at=et(223),ct=et(505),lt=et(226),dt=et(227),ut=et(97),ft="Expected a function",pt=1,vt=2,Ct=8,ht=16,mt=32,yt=64,Et=Math.max;function Rt(Pt,Vt,Nt,kt,wt,Zt,qt,zt){var Bt=Vt&vt;if(!Bt&&typeof Pt!="function")throw new TypeError(ft);var sn=kt?kt.length:0;if(sn||(Vt&=~(mt|yt),kt=wt=void 0),qt=qt===void 0?qt:Et(ut(qt),0),zt=zt===void 0?zt:ut(zt),sn-=wt?wt.length:0,Vt&yt){var mn=kt,En=wt;kt=wt=void 0}var cn=Bt?void 0:at(Pt),xn=[Pt,Vt,Nt,kt,wt,mn,En,Zt,qt,zt];if(cn&&ct(xn,cn),Pt=xn[0],Vt=xn[1],Nt=xn[2],kt=xn[3],wt=xn[4],zt=xn[9]=xn[9]===void 0?Bt?0:Pt.length:Et(xn[9]-sn,0),!zt&&Vt&(Ct|ht)&&(Vt&=~(Ct|ht)),!Vt||Vt==pt)var bn=rt(Pt,Vt,Nt);else Vt==Ct||Vt==ht?bn=it(Pt,Vt,zt):(Vt==mt||Vt==(pt|mt))&&!wt.length?bn=st(Pt,Vt,Nt,kt):bn=ot.apply(void 0,xn);var gn=cn?nt:lt;return dt(gn(bn,xn),Pt,Vt)}_e.exports=Rt},function(_e,tt,et){var nt=et(87),rt=et(136),it=4294967295;function ot(st){this.__wrapped__=st,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}ot.prototype=nt(rt.prototype),ot.prototype.constructor=ot,_e.exports=ot},function(_e,tt){function et(){}_e.exports=et},function(_e,tt){var et="__lodash_placeholder__";function nt(rt,it){for(var ot=-1,st=rt.length,at=0,ct=[];++ot<st;){var lt=rt[ot];(lt===it||lt===et)&&(rt[ot]=et,ct[at++]=ot)}return ct}_e.exports=nt},function(_e,tt,et){var nt=et(30),rt=et(119),it=et(18),ot="[object Object]",st=Function.prototype,at=Object.prototype,ct=st.toString,lt=at.hasOwnProperty,dt=ct.call(Object);function ut(ft){if(!it(ft)||nt(ft)!=ot)return!1;var pt=rt(ft);if(pt===null)return!0;var vt=lt.call(pt,"constructor")&&pt.constructor;return typeof vt=="function"&&vt instanceof vt&&ct.call(vt)==dt}_e.exports=ut},function(_e,tt,et){var nt=et(12),rt=et(70),it=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ot=/^\w*$/;function st(at,ct){if(nt(at))return!1;var lt=typeof at;return lt=="number"||lt=="symbol"||lt=="boolean"||at==null||rt(at)?!0:ot.test(at)||!it.test(at)||ct!=null&&at in Object(ct)}_e.exports=st},function(_e,tt,et){var nt=et(528),rt=et(193),it=et(123);function ot(st){return it(rt(st,void 0,nt),st+"")}_e.exports=ot},function(_e,tt,et){var nt=et(88),rt=et(53),it=et(124),ot=et(54),st=Object.prototype,at=st.hasOwnProperty,ct=nt(function(lt,dt){lt=Object(lt);var ut=-1,ft=dt.length,pt=ft>2?dt[2]:void 0;for(pt&&it(dt[0],dt[1],pt)&&(ft=1);++ut<ft;)for(var vt=dt[ut],Ct=ot(vt),ht=-1,mt=Ct.length;++ht<mt;){var yt=Ct[ht],Et=lt[yt];(Et===void 0||rt(Et,st[yt])&&!at.call(lt,yt))&&(lt[yt]=vt[yt])}return lt});_e.exports=ct},function(_e,tt,et){var nt=et(1),rt=nt(et(46));const it=et(58),ot=et(57);let st=function(){function at(ct){ct===void 0&&(ct={}),Object.defineProperty(this,"_rawSessionInfo",{value:ot(ct)})}return(0,rt.default)(at,[{key:"sessionId",get:function(){return this._rawSessionInfo.session_id}},{key:"partnerId",get:function(){return this._rawSessionInfo.partner_id}},{key:"messagingServer",get:function(){return this._rawSessionInfo.messaging_server_url}},{key:"mediaServerName",get:function(){return this._rawSessionInfo.media_server_hostname}},{key:"messagingURL",get:function(){return this._rawSessionInfo.messaging_url}},{key:"symphonyAddress",get:function(){return this._rawSessionInfo.symphony_address}},{key:"iceServers",get:function(){return this._rawSessionInfo.ice_servers}},{key:"simulcast",get:function(){return it(this._rawSessionInfo,"properties.simulcast")}},{key:"e2ee",get:function(){return it(this._rawSessionInfo,"properties.e2ee",!1)}},{key:"reconnection",get:function(){return it(this._rawSessionInfo,"properties.reconnection",!1)}},{key:"renegotiation",get:function(){return it(this._rawSessionInfo,"properties.renegotiation",!1)}},{key:"p2pEnabled",get:function(){return it(this._rawSessionInfo,"properties.p2p.preference.value")==="enabled"}},{key:"hybridSession",get:function(){return it(this._rawSessionInfo,"properties.hybridSession",!1)}},{key:"isAdaptiveEnabled",get:function(){return it(this._rawSessionInfo,"properties.p2p.preference.value")==="adaptive"}},{key:"priorityVideoCodec",get:function(){return it(this._rawSessionInfo,"properties.priorityVideoCodec","")}},{key:"h264",get:function(){return it(this._rawSessionInfo,"properties.h264",!0)}},{key:"vp8",get:function(){return it(this._rawSessionInfo,"properties.vp8",!0)}},{key:"vp9",get:function(){return it(this._rawSessionInfo,"properties.vp9",!0)}},{key:"singlePeerConnection",get:function(){return it(this._rawSessionInfo,"properties.singlePeerConnection",!1)}},{key:"clientCandidates",get:function(){const lt=it(this._rawSessionInfo,"properties.clientCandidates");return lt==="relayed"?"relay":lt}}]),at}();_e.exports=st},function(module,exports,__webpack_require__){const extendES5Native=__webpack_require__(570),webrtcAdapter=__webpack_require__(571),logging=__webpack_require__(0)("createWindowMock"),env=__webpack_require__(3),windowKeys=[{key:"location",type:"object"},{key:"setTimeout",type:"function"},{key:"requestAnimationFrame",type:"function"},{key:"URL",type:"function"},{key:"MediaStream",type:"class"},{key:"webkitMediaStream",type:"class"},{key:"RTCIceCandidate",type:"class"},{key:"mozRTCIceCandidate",type:"class"},{key:"RTCSessionDescription",type:"class"},{key:"mozRTCSessionDescription",type:"class"},{key:"RTCIceGatherer",type:"class"},{key:"RTCIceTransport",type:"class"},{key:"RTCDtlsTransport",type:"class"},{key:"RTCSctpTransport",type:"class"},{key:"RTCRtpReceiver",type:"class"},{key:"HTMLMediaElement",type:"class"},{key:"RTCPeerConnection",type:"class"},{key:"webkitRTCPeerConnection",type:"class"},{key:"mozRTCPeerConnection",type:"class"},{key:"MediaStreamTrack",type:"class"},{key:"RTCRtpSender",type:"class"},{key:"RTCTrackEvent",type:"class"},{key:"RTCTransceiver",type:"class"},{key:"RTCDtmfSender",type:"class"},{key:"RTCDTMFSender",type:"class"},{key:"MediaStreamTrackEvent",type:"class"}],navigatorKeys=[{key:"userAgent",type:"string"},{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"webkitGetUserMedia",type:"function"},{key:"mozGetUserMedia",type:"function"}],mediaDevicesKeys=[{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"enumerateDevices",type:"function"},{key:"getSupportedConstraints",type:"function"},{key:"addEventListener",type:"function"},{key:"removeEventListener",type:"function"}],bindWithStaticProperties=(_e,tt)=>{if(typeof tt!="function")return logging.warn("Non-function passed into bindWithStaticProperties()"),tt;const et=tt.bind(_e);return Object.keys(tt).forEach(nt=>{et[nt]=tt[nt]}),et},extendParentClass=ParentClass=>{try{const ChildClass=eval(`
      "use strict"; // Chrome<49 requires strict mode

      const getOwnProperties = (target) => {
        const properties = {};
        Object.getOwnPropertyNames(target).forEach((key) => {
          properties[key] = Object.getOwnPropertyDescriptor(target, key);
        });
        return properties;
      };

      class ChildClass extends ParentClass {
        constructor(...args) {
          super(...args);
          try {
            this.__proto__ = ChildClass.prototype;
          } catch (e) {}
        }
      };

      Object.defineProperties(ChildClass.prototype, getOwnProperties(ParentClass.prototype));
      Object.keys(ParentClass)
        .forEach((staticKey) => {
          ChildClass[staticKey] = ParentClass[staticKey];
        });

      ChildClass; // Ensure the final statement is returned in FF
    `);if(ChildClass&&ChildClass.prototype instanceof ParentClass)return ChildClass}catch(_e){}return null},canUseES6Class=_e=>{const tt=_e.RTCPeerConnection||_e.webkitRTCPeerConnection||_e.mozRTCPeerConnection,et=extendParentClass(tt);if(et)try{et.prototype.foo="bar";const nt=new et({iceServers:[]}),rt=nt.foo==="bar";try{nt.close()}catch{}return rt}catch{}return!1},extendClass=(_e,tt,et)=>{if(typeof _e!="function")return logging.warn("Non-function passed into extendClass()"),_e;let nt=et&&extendParentClass(_e);return nt||(nt=extendES5Native(_e)),nt},getCopyProperties=_e=>(tt,et,nt)=>{nt.forEach(rt=>{let it=rt.key,ot=rt.type,st=et[it];if(st!==void 0){switch(ot){case"function":st=bindWithStaticProperties(et,st);break;case"class":st=extendClass(st,it,_e);break;case"string":case"object":break;default:throw new Error(`Invalid type of window key: ${ot}`)}tt[it]=st}})},cloneWindow=_e=>{const tt={},et=getCopyProperties(canUseES6Class(_e));return et(tt,_e,windowKeys),_e.navigator!==void 0&&(tt.navigator={},et(tt.navigator,_e.navigator,navigatorKeys),_e.navigator.mediaDevices!==void 0&&(tt.navigator.mediaDevices={},et(tt.navigator.mediaDevices,_e.navigator.mediaDevices,mediaDevicesKeys))),tt};module.exports=function _e(tt){if(tt.adapter!==void 0||env.isLegacyEdge)return tt;const et=cloneWindow(tt);return webrtcAdapter({window:et}),et}},function(_e,tt,et){_e.exports=function(){let rt=null;this.transform=it=>{rt===null||it>=rt?rt=it:rt=it*.3+rt*.7;const ot=Math.log(rt)/Math.LN10/1.5+1;return Math.min(Math.max(ot,0),1)}}},function(_e,tt,et){const nt=et(6),rt=ot=>Object.keys(ot).map(st=>ot[st]),it=et(9);_e.exports=function(st){const at={},ct=(lt,dt)=>{it(dt,{parent:this}),dt.appendTo(st.parent),at[lt]=dt,this[lt]=dt};st.parent&&(nt(this),this.destroy=()=>{this.off(),this.hideWhileLoading(),rt(at).forEach(lt=>lt.destroy())},this.showAfterLoading=()=>{rt(at).forEach(lt=>lt.showAfterLoading())},this.hideWhileLoading=()=>{rt(at).forEach(lt=>lt.hideWhileLoading())},this.set=(lt,dt)=>(typeof lt=="string"&&dt?ct(lt,dt):Object.keys(lt).forEach(ut=>{ct(ut,lt[ut])}),this))}},function(_e,tt,et){_e.exports=function(){function nt(it){this._analyser=null,this._timeDomainData=null,this._sourceNode=null,this._audioContext=it}var rt=nt.prototype;return rt._initAudioAnalyser=function(ot){this._analyser=this._audioContext.createAnalyser(),this._sourceNode=this._audioContext.createMediaStreamSource(ot),this._sourceNode.connect(this._analyser),this._timeDomainData=new Uint8Array(this._analyser.frequencyBinCount)},rt.webRTCStream=function(ot){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._audioContext.state==="suspended"&&this._audioContext.resume(),this._initAudioAnalyser(ot)},rt.destroy=function(){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._timeDomainData=null},rt.sample=function(ot){if(typeof ot=="function")throw new Error("sample no longer takes a callback");if(this._analyser&&this._timeDomainData){this._analyser.getByteTimeDomainData(this._timeDomainData);let st=0;for(let at=this._timeDomainData.length-1;at>=0;at-=1)st=Math.max(st,Math.abs(this._timeDomainData[at]-128));return st/128}return null},nt}()},function(_e,tt,et){const nt=et(582),rt=et(26),it=et(6),ot=et(24)();function st(){const at=this;it(at);function ct(){return nt.isDomLoaded()&&!nt.isDomUnloaded()}function lt(){ct()&&at.dispatchEvent(new ot.EnvLoadedEvent(rt.ENV_LOADED))}function dt(){nt.whenUnloaded.then(ut),lt()}function ut(){at.dispatchEvent(new ot.EnvLoadedEvent(rt.ENV_UNLOADED))}nt.whenLoaded.then(dt),this.onLoad=function(ft,pt){if(ct()){ft.call(pt);return}at.on(rt.ENV_LOADED,ft,pt)},this.onUnload=function(ft,pt){if(this.isUnloaded()){ft.call(pt);return}at.on(rt.ENV_UNLOADED,ft,pt)},this.isUnloaded=function(){return nt.isDomUnloaded()}}_e.exports=new st},function(_e,tt,et){var nt=et(587);/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function rt(zt,Bt){if(zt===Bt)return 0;for(var sn=zt.length,mn=Bt.length,En=0,cn=Math.min(sn,mn);En<cn;++En)if(zt[En]!==Bt[En]){sn=zt[En],mn=Bt[En];break}return sn<mn?-1:mn<sn?1:0}function it(zt){return(typeof window!==void 0?window:commonjsGlobal).Buffer&&typeof(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer=="function"?(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer(zt):!!(zt!=null&&zt._isBuffer)}var ot=et(588),st=Object.prototype.hasOwnProperty,at=Array.prototype.slice,ct=function(){return(function(){}).name==="foo"}();function lt(zt){return Object.prototype.toString.call(zt)}function dt(zt){return it(zt)||typeof(typeof window!==void 0?window:commonjsGlobal).ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(zt):zt?!!(zt instanceof DataView||zt.buffer&&zt.buffer instanceof ArrayBuffer):!1}var ut=_e.exports=yt,ft=/\s*function\s+([^\(\s]*)\s*/;function pt(zt){if(ot.isFunction(zt)){if(ct)return zt.name;var Bt=zt.toString(),sn=Bt.match(ft);return sn&&sn[1]}}ut.AssertionError=function(Bt){this.name="AssertionError",this.actual=Bt.actual,this.expected=Bt.expected,this.operator=Bt.operator,Bt.message?(this.message=Bt.message,this.generatedMessage=!1):(this.message=ht(this),this.generatedMessage=!0);var sn=Bt.stackStartFunction||mt;if(Error.captureStackTrace)Error.captureStackTrace(this,sn);else{var mn=new Error;if(mn.stack){var En=mn.stack,cn=pt(sn),xn=En.indexOf(`
`+cn);if(xn>=0){var bn=En.indexOf(`
`,xn+1);En=En.substring(bn+1)}this.stack=En}}},ot.inherits(ut.AssertionError,Error);function vt(zt,Bt){return typeof zt=="string"?zt.length<Bt?zt:zt.slice(0,Bt):zt}function Ct(zt){if(ct||!ot.isFunction(zt))return ot.inspect(zt);var Bt=pt(zt),sn=Bt?": "+Bt:"";return"[Function"+sn+"]"}function ht(zt){return vt(Ct(zt.actual),128)+" "+zt.operator+" "+vt(Ct(zt.expected),128)}function mt(zt,Bt,sn,mn,En){throw new ut.AssertionError({message:sn,actual:zt,expected:Bt,operator:mn,stackStartFunction:En})}ut.fail=mt;function yt(zt,Bt){zt||mt(zt,!0,Bt,"==",ut.ok)}ut.ok=yt,ut.equal=function(Bt,sn,mn){Bt!=sn&&mt(Bt,sn,mn,"==",ut.equal)},ut.notEqual=function(Bt,sn,mn){Bt==sn&&mt(Bt,sn,mn,"!=",ut.notEqual)},ut.deepEqual=function(Bt,sn,mn){Et(Bt,sn,!1)||mt(Bt,sn,mn,"deepEqual",ut.deepEqual)},ut.deepStrictEqual=function(Bt,sn,mn){Et(Bt,sn,!0)||mt(Bt,sn,mn,"deepStrictEqual",ut.deepStrictEqual)};function Et(zt,Bt,sn,mn){if(zt===Bt)return!0;if(it(zt)&&it(Bt))return rt(zt,Bt)===0;if(ot.isDate(zt)&&ot.isDate(Bt))return zt.getTime()===Bt.getTime();if(ot.isRegExp(zt)&&ot.isRegExp(Bt))return zt.source===Bt.source&&zt.global===Bt.global&&zt.multiline===Bt.multiline&&zt.lastIndex===Bt.lastIndex&&zt.ignoreCase===Bt.ignoreCase;if((zt===null||typeof zt!="object")&&(Bt===null||typeof Bt!="object"))return sn?zt===Bt:zt==Bt;if(dt(zt)&&dt(Bt)&&lt(zt)===lt(Bt)&&!(zt instanceof Float32Array||zt instanceof Float64Array))return rt(new Uint8Array(zt.buffer),new Uint8Array(Bt.buffer))===0;if(it(zt)!==it(Bt))return!1;mn=mn||{actual:[],expected:[]};var En=mn.actual.indexOf(zt);return En!==-1&&En===mn.expected.indexOf(Bt)?!0:(mn.actual.push(zt),mn.expected.push(Bt),Pt(zt,Bt,sn,mn))}function Rt(zt){return Object.prototype.toString.call(zt)=="[object Arguments]"}function Pt(zt,Bt,sn,mn){if(zt==null||Bt===null||Bt===void 0)return!1;if(ot.isPrimitive(zt)||ot.isPrimitive(Bt))return zt===Bt;if(sn&&Object.getPrototypeOf(zt)!==Object.getPrototypeOf(Bt))return!1;var En=Rt(zt),cn=Rt(Bt);if(En&&!cn||!En&&cn)return!1;if(En)return zt=at.call(zt),Bt=at.call(Bt),Et(zt,Bt,sn);var xn=qt(zt),bn=qt(Bt),gn,vn;if(xn.length!==bn.length)return!1;for(xn.sort(),bn.sort(),vn=xn.length-1;vn>=0;vn--)if(xn[vn]!==bn[vn])return!1;for(vn=xn.length-1;vn>=0;vn--)if(gn=xn[vn],!Et(zt[gn],Bt[gn],sn,mn))return!1;return!0}ut.notDeepEqual=function(Bt,sn,mn){Et(Bt,sn,!1)&&mt(Bt,sn,mn,"notDeepEqual",ut.notDeepEqual)},ut.notDeepStrictEqual=Vt;function Vt(zt,Bt,sn){Et(zt,Bt,!0)&&mt(zt,Bt,sn,"notDeepStrictEqual",Vt)}ut.strictEqual=function(Bt,sn,mn){Bt!==sn&&mt(Bt,sn,mn,"===",ut.strictEqual)},ut.notStrictEqual=function(Bt,sn,mn){Bt===sn&&mt(Bt,sn,mn,"!==",ut.notStrictEqual)};function Nt(zt,Bt){if(!zt||!Bt)return!1;if(Object.prototype.toString.call(Bt)=="[object RegExp]")return Bt.test(zt);try{if(zt instanceof Bt)return!0}catch{}return Error.isPrototypeOf(Bt)?!1:Bt.call({},zt)===!0}function kt(zt){var Bt;try{zt()}catch(sn){Bt=sn}return Bt}function wt(zt,Bt,sn,mn){var En;if(typeof Bt!="function")throw new TypeError('"block" argument must be a function');typeof sn=="string"&&(mn=sn,sn=null),En=kt(Bt),mn=(sn&&sn.name?" ("+sn.name+").":".")+(mn?" "+mn:"."),zt&&!En&&mt(En,sn,"Missing expected exception"+mn);var cn=typeof mn=="string",xn=!zt&&ot.isError(En),bn=!zt&&En&&!sn;if((xn&&cn&&Nt(En,sn)||bn)&&mt(En,sn,"Got unwanted exception"+mn),zt&&En&&sn&&!Nt(En,sn)||!zt&&En)throw En}ut.throws=function(zt,Bt,sn){wt(!0,zt,Bt,sn)},ut.doesNotThrow=function(zt,Bt,sn){wt(!1,zt,Bt,sn)},ut.ifError=function(zt){if(zt)throw zt};function Zt(zt,Bt){zt||mt(zt,!0,Bt,"==",Zt)}ut.strict=nt(Zt,ut,{equal:ut.strictEqual,deepEqual:ut.deepStrictEqual,notEqual:ut.notStrictEqual,notDeepEqual:ut.notDeepStrictEqual}),ut.strict.strict=ut.strict;var qt=Object.keys||function(zt){var Bt=[];for(var sn in zt)st.call(zt,sn)&&Bt.push(sn);return Bt}},function(_e,tt,et){const nt=et(595),rt=et(265),it=et(3);_e.exports=ot=>it.isElectron?ot==="screen"?!0:rt(ot):nt.indexOf(ot)>-1},function(_e,tt,et){const nt=et(268),rt=et(6),it=et(0)("StreamChannel"),ot=et(151)();_e.exports=function(at){this.id=at.id,this.type=at.type,this.active=nt(at.active),this.orientation=at.orientation||ot.ROTATED_NORMAL,at.frameRate&&(this.frameRate=parseFloat(at.frameRate)),at.preferredFrameRate&&(this.preferredFrameRate=parseFloat(at.preferredFrameRate)),at.preferredWidth&&(this.preferredWidth=parseInt(at.preferredWidth,10)),at.preferredHeight&&(this.preferredHeight=parseInt(at.preferredHeight,10)),this.width=parseInt(at.width,10),this.height=parseInt(at.height,10),this.source=at.source||"camera",this.fitMode=at.fitMode||"cover",rt(this),this.update=function(ct){const lt={},dt={};for(const ut in ct){if(!ct.hasOwnProperty(ut))continue;const ft=this[ut];switch(ut){case"active":this.active=nt(ct[ut]);break;case"disableWarning":this.disableWarning=nt(ct[ut]);break;case"frameRate":this.frameRate=parseFloat(ct[ut],10);break;case"width":case"height":this[ut]=parseInt(ct[ut],10),lt[ut]=this[ut],dt[ut]=ft;break;case"orientation":this[ut]=ct[ut],lt[ut]=this[ut],dt[ut]=ft;break;case"fitMode":this[ut]=ct[ut];break;case"source":this[ut]=ct[ut];break;default:return it.warn(`Tried to update unknown key ${ut} on ${this.type} channel ${this.id}`),!1}this.trigger("update",this,ut,ft,this[ut])}return Object.keys(lt).length&&this.trigger("update",this,"videoDimensions",dt,lt),!0}}},function(_e,tt,et){_e.exports=function(){return{ROTATED_NORMAL:0,ROTATED_LEFT:270,ROTATED_RIGHT:90,ROTATED_UPSIDE_DOWN:180}}},function(_e,tt,et){const nt=et(603),rt=et(0)("StylableComponent"),it=et(604),ot=et(269);_e.exports=function(at,ct,lt,dt){if(!at.trigger)throw new Error("OT.StylableComponent is dependent on the eventing mixin. Ensure that this is included in the object before StylableComponent.");dt=dt||function(){};let ut=!1;const ft=function(Ct,ht,mt){mt?at.trigger("styleValueChanged",Ct,ht,mt):at.trigger("styleValueChanged",Ct,ht)};lt===!1&&(ct={buttonDisplayMode:"off",nameDisplayMode:"off",audioLevelDisplayMode:"off",videoDisabledDisplayMode:"off",audioBlockedDisplayMode:"off"},ut=!0,dt({showControls:!1}));const pt=new it(ct,ft);at.getStyle=function(vt){return pt.get(vt)},at.setStyle=function(vt,Ct,ht){if(ut)return rt.warn("Calling setStyle() has no effect because theshowControls option was set to false"),this;let mt;return typeof vt!="string"?mt=vt:(mt={},mt[vt]=Ct),mt.backgroundImageURI&&(mt.backgroundImageURI=nt(mt.backgroundImageURI)),pt.setAll(mt,ht),dt(ot(mt)),this}}},function(_e,tt,et){const nt=et(51),rt=et(35)(),it=et(21),ot=et(71),st=et(147),at=et(52).once,ct=et(607),lt=et(8),dt=et(0)("systemRequirements"),ut=et(608),ft=et(609),pt=rt.onlyLocal(),vt=new it,Ct=nt(()=>{vt.logEvent({action:"checkSystemRequirements",variation:"notHasRequirements",partnerId:ot.value,payload:{userAgent:lt.env.userAgent}})}),ht=nt(()=>{et(610)()});let mt=!1;_e.exports={check(){dt.debug("OT.checkSystemRequirements()");const yt=Number(ct&&at());return ht(),yt||Ct(),yt},upgrade(yt){let Et=yt===void 0?{}:yt,Rt=Et.isSupportedButOld,Pt=Rt===void 0?lt.env.name.toLowerCase()in pt.minimumVersion:Rt,Vt=Et.userAgent,Nt=Vt===void 0?navigator.userAgent:Vt;st.onLoad(()=>{if(mt)return;const kt=new ft(ut);mt=!0,kt.on("close",()=>{mt=!1}),kt.open();let wt;Nt.match(/(iPad|iPhone|iPod|android|webOS)/i)?wt=`${Pt?"supported-":""}mobile-browser`:wt=`${Pt?"upgrade":"normal"}-install`,kt.el(`#section-${wt}`).style.display="block"})}}},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(49)),ot=rt(et(611));const st=et(615);let at=function(ct){(0,it.default)(lt,ct);function lt(dt){var ut;return ut=ct.call(this,dt)||this,ut.name="TimeoutError",ut}return lt}((0,ot.default)(Error));_e.exports=(ct,lt,dt)=>new nt((ut,ft)=>{if(typeof lt!="number"||lt<0)throw new TypeError("Expected `ms` to be a positive number");const pt=setTimeout(()=>{if(typeof dt=="function"){try{ut(dt())}catch(ht){ft(ht)}return}const vt=typeof dt=="string"?dt:`Promise timed out after ${lt} milliseconds`,Ct=dt instanceof Error?dt:new at(vt);typeof ct.cancel=="function"&&ct.cancel(),ft(Ct)},lt);st(ct.then(ut,ft),()=>{clearTimeout(pt)})}),_e.exports.TimeoutError=at}).call(this,et(2))},function(_e,tt,et){function nt(){const rt=[];return{add(it){rt.push(it)},remove(it){const ot=rt.indexOf(it);ot>=0&&rt.splice(ot,1)},releaseAll(){const it=[];for(;rt.length>0;){const st=rt.pop();try{st()}catch(at){it.push(at)}}const ot=it.length;if(ot>0)throw new Error(`Failed to complete ${ot} cleanup job${ot===1?"":"s"}: ${it.map(st=>`<${st}>`).join(", ")}`)}}}_e.exports=nt},function(_e,tt,et){const nt=et(0)("applySdpTransform");_e.exports=(rt,it,ot,st,at)=>{const ct=rt[it][ot],lt=`${it} ${ot}`,ut=`sdpTransforms (${lt==="local offer"||lt==="remote answer"?"publisher":"subscriber"}): ${it} ${ot}`,ft=it==="local"?"created":"received";nt.debug(`${ut}: ${ft}:
${at}`);const pt=ct(st,at);return pt.local===at?nt.debug(`${ut}: not modified`):nt.debug(`${ut}: modified to:
${pt.local}`),pt}},function(_e,tt,et){const nt=function(it){if(it===void 0&&(it={}),!it)return 0;const ot=it,st=ot.currentStatFrames,at=st===void 0?0:st,ct=ot.prevStatFrames,lt=ct===void 0?0:ct,dt=ot.currentTimestamp,ut=dt===void 0?0:dt,ft=ot.prevTimestamp,pt=ft===void 0?0:ft;if(at>=lt&&ut>pt){const vt=(at-lt)/((ut-pt)/1e3);return Math.round(vt*100)/100}return 0};_e.exports=nt},function(_e,tt,et){let nt;_e.exports=function(it){it===void 0&&(it={});const ot=it.AudioContext||(typeof window!==void 0?window:commonjsGlobal).AudioContext||(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext;return function(){if(nt=nt||ot&&new ot,nt==null)throw new Error("AudioContext could not be created, hardware limit reached.");return nt}}},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(58)),ot=typeof(0,rt.default)(typeof window!==void 0?window:commonjsGlobal,"navigator.getDisplayMedia",(0,rt.default)(typeof window!==void 0?window:commonjsGlobal,"navigator.mediaDevices.getDisplayMedia"))=="function";tt.default=ot},function(_e,tt,et){const nt=et(38);_e.exports=function(){return function(ot,st,at){const ct=st.slice(),lt=nt(at),dt=function(pt){return ct.indexOf(pt)!==-1},ut=function(pt,vt){return lt[pt]&&lt[pt].indexOf(vt)!==-1};return function(ft){let pt=ot,vt=null;this.current=pt;function Ct(mt,yt){ft({message:mt,newState:yt,currentState:pt,previousState:vt})}function ht(mt){return dt(mt)?ut(pt,mt)?!0:(Ct(`'${pt}' cannot transition to '${mt}'`,mt),!1):(Ct(`'${mt}' is not a valid state`,mt),!1)}this.set=function(mt){ht(mt)&&(vt=pt,this.current=mt,pt=mt)}}}}},function(_e,tt,et){(function(nt){const rt=et(61);_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.chromeExtensionHelper||et(281)(),at=ot.electronExtensionHelper||et(653)(),ct=ot.Errors||et(7),lt=ot.firefoxExtensionHelper||et(655),dt=ot.getDisplayMediaExtensionHelper||et(290),ut=ot.otError||et(13)(),ft=ot.OTHelpers||et(8),pt={};pt.extensionByKind={},pt.extensionClasses={},pt.registerExtensionHelper=(ht,mt)=>{pt.extensionClasses[ht]=mt,mt.autoRegisters&&mt.isSupportedInThisBrowser&&pt.registerExtension(ht)},pt.registerExtension=function(ht){if(pt.extensionClasses[ht]==null)throw new Error("Unsupported kind passed to OT.registerScreenSharingExtension");for(var mt=arguments.length,yt=new Array(mt>1?mt-1:0),Et=1;Et<mt;Et++)yt[Et-1]=arguments[Et];const Rt=pt.extensionClasses[ht].register(...yt);pt.extensionByKind[ht]=Rt};const vt=()=>{const ht=rt(Object.keys(pt.extensionClasses).sort(mt=>mt==="electron"?-1:1),mt=>pt.extensionClasses[mt].isSupportedInThisBrowser);return ht===void 0?{}:{name:ht,proto:pt.extensionClasses[ht],instance:pt.extensionByKind[ht]}};pt.pickHelper=()=>vt(),pt.checkCapability=ht=>{const mt={supported:!1,extensionRequired:void 0,extensionRegistered:void 0,extensionInstalled:void 0,supportedSources:{}},yt=vt();if(yt.name===void 0){setTimeout(ht.bind(null,mt));return}if(mt.supported=!0,mt.extensionRequired=yt.proto.extensionRequired?yt.name:void 0,mt.supportedSources={screen:yt.proto.sources.screen,application:yt.proto.sources.application,window:yt.proto.sources.window,browser:yt.proto.sources.browser},!yt.instance){mt.extensionRegistered=!1,mt.extensionRequired&&(mt.extensionInstalled=!1),setTimeout(ht.bind(null,mt));return}mt.extensionRegistered=mt.extensionRequired?!0:void 0,yt.instance.isInstalled(Et=>{mt.extensionInstalled=mt.extensionRequired||ft.env.name==="Firefox"?Et:void 0,ht(mt)})},pt.registerExtensionHelper("electron",at),pt.registerExtensionHelper("getDisplayMedia",dt),pt.registerExtensionHelper("chrome",st),pt.registerExtensionHelper("firefox",lt);const Ct=()=>{};return pt.getConstraints=ht=>{const mt=ht.onAccessDialogOpened,yt=mt===void 0?Ct:mt,Et=ht.onAccessDialogClosed,Rt=Et===void 0?Ct:Et,Pt=ht.videoSource,Vt=ht.constraints;return new nt((Nt,kt)=>{pt.checkCapability(wt=>{if(wt.supported)if(wt.extensionRegistered===!1)kt(ut(ct.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,new Error("Screen Sharing support in this browser requires an extension, but one has not been registered.")));else if(wt.extensionRequired&&wt.extensionInstalled===!1)kt(ut(ct.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Screen Sharing support in this browser requires an extension, but the extension is not installed.")));else{const Zt=pt.pickHelper();Zt.proto.getConstraintsShowsPermissionUI&&yt(),Zt.instance.getConstraints(Pt,Vt,(qt,zt)=>{Zt.proto.getConstraintsShowsPermissionUI&&Rt(),qt?kt(qt):Nt(zt)})}else{let Zt="Screen Sharing is not supported in this browser";ft.env.isElectron?Zt="Set the webPreferences.contextIsolation option of the Electron BrowserWindow to false or use a preload script to access the desktop capturer. For more information, see https://tokbox.com/developer/guides/screen-sharing/js/.":ft.env.name==="Chrome"&&ft.env.version>73&&(typeof window!==void 0?window:commonjsGlobal).location.protocol!=="https:"&&(Zt="https:// is required for screen sharing"),kt(ut(ct.SCREEN_SHARING_NOT_SUPPORTED,new Error(Zt)))}})})},pt}}).call(this,et(2))},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.ExceptionCodes||et(10),st=rt.otError||et(13)(),at={ICEWorkflow:it.ICE_WORKFLOW_FAILED,NewPeerConnection:it.CREATE_PEER_CONNECTION_FAILED,SetRemoteDescription:it.SET_REMOTE_DESCRIPTION_FAILED,Subscribe:{404:it.STREAM_NOT_FOUND,[ot.STREAM_LIMIT_EXCEEDED]:it.STREAM_LIMIT_EXCEEDED}};return function(lt,dt,ut,ft,pt){const vt=`${(ut?`${ut}: `:"")+pt} PeerConnection with connection ${ft} failed: ${dt}`,Ct=at[ut]||{},ht=typeof Ct=="string"?Ct:Ct[lt],mt=pt==="Publisher"?ot.UNABLE_TO_PUBLISH:ot.UNABLE_TO_SUBSCRIBE;if(!ht){const Et=new Error(vt);return Et.code=mt,Et}const yt=(()=>ut==="ICEWorkflow"?pt==="Publisher"?ot.PUBLISHER_ICE_WORKFLOW_FAILED:ot.SUBSCRIBER_ICE_WORKFLOW_FAILED:ht===it.STREAM_LIMIT_EXCEEDED?ot.STREAM_LIMIT_EXCEEDED:mt)();return st(ht,new Error(vt),yt)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.OTHelpers||et(8),st=(rt.global||(typeof window!==void 0?window:commonjsGlobal)).RTCPeerConnection;return function(ct,lt){it.env.name==="Firefox"&&st&&st.generateCertificate?st.generateCertificate({name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])}).catch(dt=>{lt(dt)}).then(dt=>{ct.certificates=[dt],lt(void 0,ct)}):setTimeout(()=>{lt(void 0,ct)})}}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt={bandwidthCriticalThreshold:7e4,bandwidthFairThreshold:0,packetLossCriticalThreshold:.15,packetLossCriticalThresholdMediumBw:.2,criticalCongestionPeriod:4e3};tt.default=rt},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(46));const st=et(6),at=et(683),ct=et(0)("WidgetView"),lt=et(8),dt=et(3),ut=et(166),ft=ut.default,pt=ut.CancellationError,vt=et(167),Ct=et(685),ht=et(686),mt=et(687),yt=et(688),Et=et(689),Rt=et(62),Pt=et(690),Vt=et(109);Vt();function Nt(kt){let wt=kt===void 0?{}:kt,Zt=wt.logging,qt=Zt===void 0?ct:Zt,zt=wt.OTHelpers,Bt=zt===void 0?lt:zt,sn=wt.waitForVideoToBePlaying,mn=sn===void 0?ht:sn,En=wt.VideoElementFacade,cn=En===void 0?Vt():En,xn=wt.env,bn=xn===void 0?dt:xn;const gn=at({window:typeof window!==void 0?window:commonjsGlobal}),vn=Un=>{if(Un.isCanceled())throw qt.debug("bindVideo bailing due to cancellation"),new pt("CANCEL")};return function(){function Un(On,Ln){let Jn=Ln===void 0?{}:Ln,ur=Jn.insertDefaultUI,sr=ur===void 0?!0:ur,pr=Jn.width,Ir=pr===void 0?264:pr,Er=Jn.height,Kr=Er===void 0?198:Er,Dr=Jn.fitMode,to=Dr===void 0?"cover":Dr,po=Jn.mirror,Nr=po===void 0?!1:po,br=Jn.insertMode,zn=Jn.classNames,Qn=Jn.style,cr=Jn.widgetType,qr=Jn.initials;this._videoElementFacade=void 0,this._container=void 0,this._posterContainer=document.createElement("div"),this._widgetContainer=document.createElement("div"),this._loading=!0,this._audioOnly=!1,this._showPoster=void 0,this._poster=void 0,this._cancelBind=void 0,this.MAX_VIDEO_LOADED=5*1e3,st(this),/^(contain|cover)$/.test(to)===!1&&qt.warn(`Invalid fit value "${to}" passed. Only "contain" and "cover" can be used.`),this._widgetType=cr,this._fitMode=to,this._insertDefaultUI=sr;const To=Rt(this._widgetContainer);if(To.on("click",this.userGesture.bind(this)),To.on("touchstart",this.userGesture.bind(this),gn?{passive:!0}:!1),this.once("destroy",()=>To.removeAll()),this._widgetContainer.classList.add("OT_widget-container"),this._widgetContainer.style.width="100%",this._widgetContainer.style.height="100%",sr!==!1){this._container=yt(On,br),bn.isSafari&&bn.isiOS&&bn.iOSVersion&&bn.iOSVersion<11.2&&this._container.classList.add("OT_ForceContain"),this._container.style.width=Et(Ir),this._container.style.height=Et(Kr),this._container.style.overflow="hidden",mt(this._container),Nr&&Bt.addClass(this._container,"OT_mirrored"),zn&&zn.trim().split(/\s+/).forEach(mo=>this._container.classList.add(mo)),this._container.classList.add("OT_loading"),this._container.classList.add(`OT_fit-mode-${to}`),this._container.appendChild(this._widgetContainer);const yo=Bt(this._container).observeSize(()=>mt(this._container)),Mr=yo[0],wo=Bt.observeNodeOrChildNodeRemoval(this._container,mo=>{if(!this._videoElementFacade)return;mo.some(Gr=>Gr===this._widgetContainer||Gr===this._videoElementFacade.domElement())&&this.destroyVideo()});this.once("destroy",()=>{qt.debug("disconnecting observers"),Mr.disconnect(),wo.disconnect()})}this._posterContainer.classList.add("OT_video-poster"),this._widgetContainer.appendChild(this._posterContainer);const dr=document.createElement("div");dr.classList.add("OT_video-loading");const Lr=document.createElement("div");Lr.classList.add("OT_video-loading-spinner"),dr.appendChild(Lr),this._widgetContainer.appendChild(dr),Qn&&Qn.backgroundImageURI?this.setBackgroundImageURI(Qn.backgroundImageURI):qr&&this.setInitials(qr)}var Sn=Un.prototype;return Sn.addError=function(Ln,Jn,ur){this._container&&(this._container.innerHTML=`<p>${Ln}${Jn?` <span class="ot-help-message">${Jn}</span>`:""}</p>`,Bt.addClass(this._container,ur||"OT_subscriber_error"),this._container.querySelector("p").offsetHeight>this._container.offsetHeight&&(this._container.querySelector("span").style.display="none"))},Sn.destroy=function(){this.emit("destroy"),this.destroyVideo(),this._container&&(Bt.removeElement(this._container),this._container=null)},Sn.setBackgroundImageURI=function(Ln){Bt.css(this._posterContainer,"backgroundImage",`url(${Ln})`),Bt.css(this._posterContainer,"backgroundSize","contain"),Bt.css(this._posterContainer,"opacity","1.0")},Sn.setInitials=function(Ln){const Jn=Pt(Ln),ur=new XMLSerializer().serializeToString(Jn);Bt.css(this._posterContainer,"backgroundImage",`url('data:image/svg+xml,${ur}')`),Bt.css(this._posterContainer,"backgroundSize","auto 55%"),Bt.css(this._posterContainer,"opacity","1.0")},Sn.isAudioBlocked=function(){return!!(this._videoElementFacade&&this._videoElementFacade.isAudioBlocked())},Sn.unblockAudio=function(){return this._videoElementFacade.unblockAudio()},Sn.userGesture=function(){this.isAudioBlocked()&&vt().then(()=>qt.debug("Successfully unblocked audio"),Ln=>qt.error("Error retrying audio on user interaction:",Ln))},Sn.setAudioBlockedUi=function(Ln){this._container&&(Ln?this._container.classList.add("OT_container-audio-blocked"):this._container.classList.remove("OT_container-audio-blocked"))},Sn.rebindSrcObject=function(){this._videoElementFacade&&this._videoElementFacade._rebindSrcObject()},Sn.pauseAndPlayVideoElement=function(){this._videoElementFacade&&this._videoElementFacade._pauseAndPlay()},Sn._createBufferVideoElement=function(){var On=(0,it.default)(rt.default.mark(function Jn(ur,sr){var pr,Ir,Er;return rt.default.wrap(function(Dr){for(;;)switch(Dr.prev=Dr.next){case 0:return sr===void 0&&(sr={}),pr=sr.createElement?sr:document,Ir=!1,Er=pr.createElement("video"),Er.srcObject=ur,Dr.prev=5,Er.play(),Dr.next=9,mn(Er,this.MAX_VIDEO_LOADED);case 9:return Ir=Dr.sent,Dr.abrupt("return",Ir?Er:null);case 13:return Dr.prev=13,Dr.t0=Dr.catch(5),Dr.abrupt("return",null);case 16:case"end":return Dr.stop()}},Jn,this,[[5,13]])}));function Ln(Jn,ur){return On.apply(this,arguments)}return Ln}(),Sn._emitAMREvent=function(Ln,Jn,ur){this.emit("amrLogEvent",Ln,Jn,ur)},Sn._createVideoElementFacade=function(Ln){let Jn=Ln._inject,ur=Ln.audioVolume,sr=Ln.fallbackText,pr=Ln.muted;this._videoElementFacade=new cn({defaultAudioVolume:parseFloat(ur),fallbackText:sr,fitMode:this._fitMode,_inject:Jn,muted:pr,widgetType:this._widgetType});const Ir=Rt(this._videoElementFacade);if(this._videoFacadeEvents=Ir,Ir.on("error",()=>{this.trigger("error")}),Ir.on("videoDimensionsChanged",(Er,Kr)=>{this.trigger("videoDimensionsChanged",Er,Kr)}),Ir.on("mediaStopped",Er=>{this.trigger("mediaStopped",Er)}),Ir.on("audioBlocked",()=>this.trigger("audioBlocked")),Ir.on("audioUnblocked",()=>this.trigger("audioUnblocked")),this._videoElementFacade.audioChannelType("telephony"),qt.debug("Appending the video facade"),this._videoElementFacade.appendTo(this._widgetContainer),typeof ur<"u")try{this._videoElementFacade.setAudioVolume(ur)}catch(Er){qt.warn(`bindVideo ${Er}`)}},Sn._bindToStream=function(){var On=(0,it.default)(rt.default.mark(function Jn(ur,sr){return rt.default.wrap(function(Ir){for(;;)switch(Ir.prev=Ir.next){case 0:return Ir.prev=0,Ir.next=3,this._videoElementFacade.bindToStream(ur);case 3:Ir.next=14;break;case 5:if(Ir.prev=5,Ir.t0=Ir.catch(0),!sr.isCanceled()){Ir.next=12;break}throw qt.debug("Refusing to destroyVideo as bindVideo was cancelled"),new pt("CANCEL");case 12:throw this.destroyVideo(),Ir.t0;case 14:case"end":return Ir.stop()}},Jn,this,[[0,5]])}));function Ln(Jn,ur){return On.apply(this,arguments)}return Ln}(),Sn._getNewBindCancellation=function(){this._cancelBind&&(qt.debug("Cancelling last bindVideo request"),this._cancelBind.cancel());const Ln=new ft;return this._cancelBind=Ln,this.once("destroy",()=>Ln.cancel()),Ln},Sn._triggerVideoElementCreated=function(){const Ln=Jn=>{this.trigger("videoElementCreated",Jn),this._insertDefaultUI&&Bt.addClass(Jn,"OT_video-element")};this._videoElementFacade.domElement()?Ln(this._videoElementFacade.domElement()):this._videoFacadeEvents.on("videoElementCreated",Jn=>{Ln(Jn)})},Sn._waitForVideoResolution=function(){var On=(0,it.default)(rt.default.mark(function Jn(ur){return rt.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:if(!(!this.audioOnly()&&ur.getVideoTracks().length>0)){pr.next=5;break}return qt.debug("Waiting for correct resolution"),pr.next=4,Ct(this._videoElementFacade,5e3);case 4:qt.debug(`Resolution: ${this._videoElementFacade.videoWidth()}x${this._videoElementFacade.videoHeight()}`);case 5:case"end":return pr.stop()}},Jn,this)}));function Ln(Jn){return On.apply(this,arguments)}return Ln}(),Sn.bindVideo=function(){var On=(0,it.default)(rt.default.mark(function Jn(ur,sr,pr){var Ir,Er,Kr,Dr,to,po,Nr,br;return rt.default.wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:if(Ir=sr.audioVolume,Er=sr.muted,Kr=sr.fallbackText,Dr=sr._inject,pr===void 0&&(pr=!1),qt.debug("bindVideo ",{webRTCStream:ur}),to=!!this._videoElementFacade,Nr=this._getNewBindCancellation(),to){Qn.next=9;break}this._createVideoElementFacade({_inject:Dr,audioVolume:Ir,fallbackText:Kr,muted:Er}),Qn.next=22;break;case 9:if(!(ur instanceof MediaStream)){Qn.next=22;break}return this._emitAMREvent("AMRLoadVideoBuffer","Attempt"),Qn.next=13,this._createBufferVideoElement(ur);case 13:if(po=Qn.sent,po){Qn.next=20;break}if(this._emitAMREvent("AMRLoadVideoBuffer","Failure"),!pr){Qn.next=18;break}throw new Error("bufferFailed: videoBuffer failed to load or timeout");case 18:Qn.next=21;break;case 20:this._emitAMREvent("AMRLoadVideoBuffer","Success");case 21:this._videoFacadeEvents.on("amrLogEvent",(cr,qr,To)=>{this._emitAMREvent(cr,qr,To)});case 22:return Qn.next=24,this._bindToStream(ur,Nr);case 24:return to||this._triggerVideoElementCreated(),vn(Nr),br=mn(this._videoElementFacade,5e3),Qn.next=29,this._waitForVideoResolution(ur);case 29:return qt.debug("Waiting for video to be playing"),Qn.next=32,br;case 32:qt.debug("Video is playing"),vn(Nr),po&&(po.remove&&po.remove(),po=null);case 35:case"end":return Qn.stop()}},Jn,this)}));function Ln(Jn,ur,sr){return On.apply(this,arguments)}return Ln}(),Sn.bindAudioTrackOnly=function(){this._videoElementFacade&&this._videoElementFacade.bindAudioTrackOnly()},Sn.destroyVideo=function(){this._videoElementFacade&&(this._videoElementFacade.destroy(),this._videoElementFacade=null)},Sn.video=function(){return this._videoElementFacade},Sn.showPoster=function(Ln){return Ln===void 0?!Bt.isDisplayNone(this._posterContainer):(this._showPoster=Ln,Bt[Ln?"show":"hide"](this._posterContainer),this.showPoster())},Sn.poster=function(Ln){return Ln===void 0?Bt.css(this._posterContainer,"backgroundImage"):(this._poster=Ln,Bt.css(this._posterContainer,"backgroundImage",`url(${Ln})`),this.poster())},Sn.loading=function(Ln){return Ln===void 0?this._loading:(this._loading=!!Ln,this._container&&this._container.classList[Ln?"add":"remove"]("OT_loading"),this.loading())},Sn.audioOnly=function(Ln){return Ln===void 0?this._audioOnly:(this._audioOnly=Ln,this._container&&this._container.classList[Ln?"add":"remove"]("OT_audio-only"),this.audioOnly())},Sn.domId=function(){return this._container&&this._container.getAttribute("id")},Sn.setSinkId=function(Ln){if(this._videoElementFacade)return this._videoElementFacade.setSinkId(Ln)},(0,ot.default)(Un,[{key:"domElement",get:function(){return this._container}},{key:"videoElement",get:function(){return this._videoElementFacade&&this._videoElementFacade.domElement()||void 0}},{key:"width",get:function(){return this.videoElement&&this.videoElement.offsetWidth}},{key:"height",get:function(){return this.videoElement&&this.videoElement.offsetHeight}}]),Un}()}_e.exports=Nt},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0}),tt.CancellationError=tt.default=void 0;var nt=et(684),rt=st(nt),it=et(308),ot=st(it);function st(at){return at&&at.__esModule?at:{default:at}}tt.default=rt.default,tt.CancellationError=ot.default},function(_e,tt,et){(function(nt){const rt=et(22);_e.exports=()=>nt.all(rt.subscribers.where().map(it=>{if(it.isAudioBlocked())return it._.unblockAudio()}))}).call(this,et(2))},function(_e,tt,et){_e.exports=nt=>nt==="P2P"?"RELAYED":"ROUTED"},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5)),st=rt(et(703)),at=rt(et(704)),ct=rt(et(75)),lt=et(29),dt=rt(et(705)),ut=rt(et(707));const ft=et(58),pt=et(148),vt=et(9),Ct=et(57),ht=et(61),mt=et(276),yt=et(48),Et=et(51),Rt=et(709),Pt=et(16),Vt=et(259),Nt=et(195),kt=et(166),wt=kt.CancellationError,Zt=kt.default,qt=et(3),zt=et(318),Bt=et(76),sn=et(26),mn=et(6),En=et(108),cn=et(128),xn=et(21),bn=et(74),gn=et(155),vn=et(719),Wn=et(165)(),Un=et(720),Sn=et(721),On=et(167),Ln=et(20)(),Jn=Ln.getInputMediaDevices,ur=et(722),sr=et(270),pr=et(316),Ir=et(723),Er=et(724),Kr=et(293),Dr=Kr.setVideoContentHint,to=Kr.getVideoContentHint,po=et(168),Nr=et(317);_e.exports=function(zn){zn===void 0&&(zn={});let Qn=zn,cr=(0,at.default)({},((0,st.default)(Qn),Qn));["processPubOptions"].forEach(Ip=>{pt(cr[Ip],`${Ip} dependency must be injected into Publisher`)});const qr=cr.AnalyticsHelper||xn,To=cr.createAudioFallbackCoordinator||dt.default,dr=cr.calculateCapableSimulcastStreams||et(252),Lr=cr.createChromeMixin||et(282)(),Yr=cr.deviceHelpers||et(20)(),yo=cr.EnvironmentLoader||et(147),Mr=cr.Errors||et(7),wo=cr.Events||et(24)(),mo=cr.ExceptionCodes||et(10),so=cr.interpretPeerConnectionError||et(162)(),Gr=cr.IntervalRunner||bn,wr=cr.logging||et(0)("Publisher"),Oo=cr.Microphone||et(294)(),$r=cr.otError||et(13)(),os=cr.OTErrorClass||et(23),rs=cr.OTHelpers||et(8),Al=cr.parseIceServers||et(103).parseIceServers,Vo=cr.PUBLISH_MAX_DELAY||et(267),is=cr.PublisherPeerConnection||et(298)(),Gs=cr.PublishingState||et(307)(),cu=cr.StreamChannel||et(150),Vs=cr.systemRequirements||et(153),Ml=cr.VideoOrientation||et(151)(),wu=cr.WidgetView||Wn,mr=cr.global||(typeof window!==void 0?window:commonjsGlobal),jn=cr.createSendMethod||et(314),fr=cr.MediaProcessor||et(725),Wr=et(730),yr=cr.shouldLogMediaProcessorEvents||et(731),xo=et(319),Qo=cr.processPubOptions,zo=cr.KEEP_SENDING_MEDIA_AFTER_TRANSITIONED||5*1e3,El=cr.KEEP_SENDING_MEDIA_TO_KEEP_ALIVE||3*1e3,co=cr.KEEP_SENDING_RTCP_DELAY||30*1e3;return function(Du){var ms=this;Du===void 0&&(Du={});let Zl=mn({});const wp=new Nt,dp=new Nr;let Ko=!1;const Bl=Pn=>wp.get(Pn),vu=(Pn,wn)=>wp.set(Pn,wn);mn(this);const Yu=gn();let Cu=new qr;Vs.check()||Vs.upgrade();let Yo,Gl,bo;const sp={};let Zu,_f,ys,Bp,Hp,fp,ep,Zp,pp,hp,$u=!1,_a,ap,Op,Ys,Vn;const $n={},tr={};let Pr;const Qr=5e3;let Xr=!1,Uo,Ws;const Ms=()=>this.session||Ws||{isConnected(){return!1}},na=[],Go=new fr;this.once("publishComplete",Pn=>{if(!Pn){var wn;$u=!0,_a=(wn=this.session)!=null&&wn.sessionInfo.p2pEnabled?"P2P":"MANTIS"}}),this.on("sourceStreamIdChanged",Pn=>{_a=Pn,dp.finishTransitionTo(_a)}),this.on("audioAcquisitionProblem",Pn=>{let wn=Pn.method;jo("publisher:audioAcquisitionProblem","Event",{didPublishComplete:$u,method:wn})});function Ou(){return{connectionId:Ms().isConnected()?Ms().connection.connectionId:null,streamId:Gl,widgetType:"Publisher"}}const cp=Pn=>{const wn=Object.keys(Mr).map(vr=>Mr[vr]),Gn=$r(wn.indexOf(Pn.name)>-1?Pn.name:Mr.MEDIA_ERR_ABORTED,Pn,mo.UNABLE_TO_PUBLISH);wr.error(`onStreamAvailableError ${Gn.name}: ${Gn.message}`),ys.set("Failed"),Yo&&(Yo.destroy(),Yo=null);const Bn={failureReason:"GetUserMedia",failureCode:mo.UNABLE_TO_PUBLISH,failureMessage:`OT.Publisher failed to access camera/mic: ${Gn.message}`};qs("Failure",{},Bn),os.handleJsException({error:Gn,errorMsg:Bn.failureReason,code:Bn.failureCode,target:this,analytics:Cu}),this.trigger("publishComplete",Gn)},lm=Pn=>{const wn=Ct(Pn);wn.code=mo.UNABLE_TO_PUBLISH,wr.error(`OT.Publisher.onScreenSharingError ${wn.message}`),ys.set("Failed"),wn.message=`Screensharing: ${wn.message}`,this.trigger("publishComplete",wn),qs("Failure",{},{failureReason:"ScreenSharing",failureMessage:wn.message}),Yo&&(Yo.destroy(),Yo=null)},Zs=Pn=>{const wn=Ct(Pn);let Gn;try{Gn=window.self!==window.top}catch{}(typeof window!==void 0?window:commonjsGlobal).location.protocol!=="https:"&&(Ku?wn.message+=" Note: https:// is required for screen sharing.":sr()&&rs.env.hostName!=="localhost"&&(wn.message+=` Note: ${rs.env.name} requires HTTPS for camera and microphone access.`)),Gn&&!Ku&&(wn.message+=" Note: Check that the iframe has the allow attribute for camera and microphone"),wr.error(wn.message),ys.set("Failed"),wn.message=`OT.Publisher Access Denied: Permission Denied: ${wn.message}`,wn.code=mo.UNABLE_TO_PUBLISH,Yo&&(Yo.destroy(),Yo=null),qs("Cancel",{reason:"AccessDenied"}),this.trigger("publishComplete",wn),this.dispatchEvent(new cn(sn.ACCESS_DENIED))},Ap=Pn=>{throw Pn instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(Pn))||(Pn=new Error("Unknown error has occurred. Stream is not available.")),Pn.name===Mr.USER_MEDIA_ACCESS_DENIED||Pn.name===Mr.NOT_SUPPORTED&&Pn.originalMessage.match(/Only secure origins/)?Zs(Pn):Qo.isScreenSharing?lm(Pn):cp(Pn),Pn},_s=()=>{jo("accessDialog","Opened"),this.dispatchEvent(new cn(sn.ACCESS_DIALOG_OPENED,!0))},Qp=()=>{jo("accessDialog","Closed"),this.dispatchEvent(new cn(sn.ACCESS_DIALOG_CLOSED,!1))},Gp=Pt(),zu={};let _p=!1,mp={},Wp=!1,lu=Qo(Du,"OT.Publisher",()=>ys&&ys.isDestroyed());lu.on({accessDialogOpened:_s,accessDialogClosed:Qp});const Fp=lu,Ku=Fp.isScreenSharing,gm=Fp.isCustomAudioTrack,Ju=Fp.isCustomVideoTrack,Ro=Fp.shouldAllowAudio,_i=Fp.properties,qp=Fp.getUserMedia;Object.defineProperty(this,"loudness",{writable:!1,value:void 0,configurable:!0});function gp(Pn){Pn.forEach(wn=>wn())}const Tm=(Pn,wn,Gn)=>Pn.addEventListener?(Pn.addEventListener(wn,Gn),()=>Pn.removeEventListener(wn,Gn)):()=>{};(function(){const wn=[];Zl.on("streamDestroy",()=>gp(wn)),Zl.on("streamChange",()=>{gp(wn);const Gn=bo.getAudioTracks().map(Bn=>Tm(Bn,"ended",()=>{Wp=!0,this.trigger("audioAcquisitionProblem",{method:"trackEndedEvent"})}));wn.splice(0,wn.length,...Gn)})}).call(this),function(){const wn=[];Zl.on("streamDestroy",()=>gp(wn)),Zl.on("streamChange",()=>{gp(wn),ba()||bo.getTracks().forEach(Gn=>{Gn.addEventListener&&(wn.push(Tm(Gn,"mute",()=>{kp()})),wn.push(Tm(Gn,"unmute",()=>{kp()})))})})}();const ba=()=>{if(Ku)return!0;const wn=["text","detail"].includes(_i.videoContentHint);return Ju&&wn},jo=Du.logAnalyticsEvent||((Pn,wn,Gn,Bn,vr)=>{let ir=vt({action:Pn,variation:wn,payload:Gn},Ou(),Bn);wn==="Failure"&&(ir=vt(mp,ir)),mp=yt(ir,"sessionId","connectionId","partnerId"),Cu.logEvent(ir,vr)}),xm=()=>{if(!yr(this.session)){Go.disableLogging();return}const wn=this.session.apiKey;Go.enableLogging(wn)},qs=function(wn,Gn,Bn){Gn===void 0&&(Gn={}),Bn===void 0&&(Bn={}),Bn.failureReason!=="Non-fatal"&&(wn==="Attempt"&&(Hp=new Date().getTime(),Uo&&(Uo.stop(),wr.error("_connectivityAttemptPinger should have been cleaned up")),Uo=new Gr(()=>{jo("Publish","Attempting",Gn,Object.assign({},Ou(),Bn))},1/5,6)),wn==="Failure"||wn==="Success"||wn==="Cancel"?(Uo?(Uo.stop(),Uo=void 0):wr.warn(`Received connectivity event: "${wn}" without "Attempt"`),jo("Publish",wn,Object.assign({videoInputDevices:ep,audioInputDevices:fp,videoInputDeviceCount:ep?ep.length:void 0,audioInputDeviceCount:fp?fp.length:void 0,selectedVideoInputDeviceId:Zp,selectedAudioInputDeviceId:pp},Gn),Object.assign({attemptDuration:new Date().getTime()-Hp},Bn))):jo("Publish",wn,Gn,Bn))},vm=(Pn,wn)=>{jo("ICERestart",Pn,wn)},_h=(Pn,wn,Gn)=>{wn==="Attempt"?($n[Pn]=new Date().getTime(),jo(Pn,wn,Gn)):(wn==="Failure"||wn==="Success")&&jo(Pn,wn,Gn,{attemptDuration:new Date().getTime()-$n[Pn]})},em=function(wn,Gn){Gn===void 0&&(Gn={}),_h("RoutedToRelayedTransition",wn,Gn)},um=function(wn,Gn){Gn===void 0&&(Gn={}),_h("RelayedToRoutedTransition",wn,Gn)},Yp=Et(()=>{jo("GetStats","Called")}),Lp=Et(()=>{jo("GetRtcStatsReport","Called")}),Dp=Pn=>{let wn=Pn.parsedStats,Gn=Pn.simulcastEnabled,Bn=Pn.remoteConnectionId,vr=Pn.peerId,ir=Pn.sourceStreamId;const Cn={peerId:vr,widgetType:"Publisher",connectionId:this.session&&this.session.isConnected()?this.session.connection.connectionId:null,streamId:Gl,width:Yo.width,height:Yo.height,audioTrack:bo&&bo.getAudioTracks().length>0,hasAudio:Jp(),publishAudio:_i.publishAudio,videoTrack:bo&&bo.getVideoTracks().length>0,hasVideo:Tp(),publishVideo:_i.publishVideo,audioSource:gm?"Custom":void 0,duration:Zu?Math.round((new Date().getTime()-Zu.getTime())/1e3):0,remoteConnectionId:Bn,scalableVideo:Gn,sourceStreamId:po(ir)};let Tn=Ku&&Ju&&"Screen"||Ku&&Du.videoSource||Ju&&"Custom"||_i.constraints.video&&"Camera"||null;mt(Tn)&&(Tn=Rt(Tn)),Cn.videoSource=Tn;const Fn={videoWidth:this.videoWidth(),videoHeight:this.videoHeight()},er=vt({},Cn,wn,Fn);Cu.logQOS(er),this.trigger("qos",er)},cs=()=>{var Pn,wn;let Gn=((Pn=_i.videoDimensions)==null?void 0:Pn.width)||640,Bn=((wn=_i.videoDimensions)==null?void 0:wn.height)||480;if(_i.publishVideo){var vr;const ir=(vr=Yo)==null?void 0:vr.video();Gn=(ir==null?void 0:ir.videoWidth())||Gn,Bn=(ir==null?void 0:ir.videoHeight())||Bn}return{width:Gn,height:Bn}},Mo=Pn=>{wr.error("OT.Publisher State Change Failed: ",Pn.message),wr.debug(Pn)},v0=()=>{if(ys.isDestroyed()){Yo&&Yo.destroyVideo();return}wr.debug("OT.Publisher.onLoaded; resolution:",`${this.videoWidth()}x${this.videoHeight()}`),ys.set("MediaBound"),On().catch(wr.error),Yo.loading(this.session?!this.stream:!1),_p=!0},$p=Pn=>{const wn=$r(Mr.CONNECT_FAILED,Pn,mo.P2P_CONNECTION_FAILED);wn.message=`OT.Publisher PeerConnection Error: ${wn.message}`,qs("Failure",{},{failureReason:"PeerConnectionError",failureCode:wn.code,failureMessage:wn.message}),ys.set("Failed"),this.trigger("publishComplete",wn),os.handleJsException({error:wn,target:this,analytics:Cu})},zp=()=>{bo&&(Zl.emit("streamDestroy"),mr.MediaStreamTrack&&mr.MediaStreamTrack.prototype.stop?bo.getTracks().forEach(Pn=>Pn.stop()):bo.stop())},vp=()=>{const Pn=qt.isiOS&&qt.iOSVersion>=15&&qt.iOSVersion<15.2,wn=bo.getVideoTracks()[0];if(!Pn||!wn)return;const Gn=()=>{!document.hidden&&Yo&&Yo.rebindSrcObject()};document.addEventListener("visibilitychange",Gn)},tp=()=>{const Pn=qt.isiOS&&qt.iOSVersion>=13.3,wn=bo.getAudioTracks()[0];Pn&&wn&&(wn.onmute=()=>Jm(wn),wn.onunmute=()=>c0(wn))},jp=function(){var Pn=(0,ot.default)(it.default.mark(function wn(){var Gn;return it.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:if(Gn={muted:!0},Yo){vr.next=3;break}throw new Error("Cannot bind video after widget view has been destroyed");case 3:return vr.abrupt("return",Yo.bindVideo(bo,Gn));case 4:case"end":return vr.stop()}},wn)}));return function(){return Pn.apply(this,arguments)}}(),Gm=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn;return it.default.wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if(wr.debug("OT.Publisher.onStreamAvailable"),ys.set("BindingMedia"),_i.videoContentHint!==void 0&&Dr(Gn,_i.videoContentHint),zp(),bo=Gn,!_i.videoFilter){ir.next=14;break}return ir.prev=6,ir.next=9,ms.applyVideoFilter(_i.videoFilter);case 9:ir.next=14;break;case 11:ir.prev=11,ir.t0=ir.catch(6),wr.error(`Error applying video filter: ${ir.t0}`);case 14:Zl.emit("streamChange"),tp(),vp(),Bn=(Cn,Tn)=>{let Fn;return Cn.forEach(er=>{if(er.deviceId)Fn=er.deviceId.toString();else if(er.label&&Tn){const Dn=ht(Tn,Sr=>Sr.label===er.label);Dn&&(Fn=Dn.deviceId)}}),Fn},Zp=Bn(bo.getVideoTracks(),ep),pp=Bn(bo.getAudioTracks(),fp),_f=new Oo(bo,!_i.publishAudio),Am(),fm(),ms.accessAllowed=!0,ms.dispatchEvent(new cn(sn.ACCESS_ALLOWED,!1));case 25:case"end":return ir.stop()}},wn,null,[[6,11]])}));return function(Gn){return Pn.apply(this,arguments)}}(),Xp=Pn=>{wr.error("OT.Publisher.onPublishingTimeout");let wn,Gn;Wp?(wn=Mr.CHROME_MICROPHONE_ACQUISITION_ERROR,Gn="Unable to publish because your browser failed to get access to your microphone. You may need to fully quit and restart your browser to get it to work. See https://bugs.chromium.org/p/webrtc/issues/detail?id=4799 for more details."):(wn=Mr.TIMEOUT,Gn="Could not publish in a reasonable amount of time");const Bn={failureReason:"ICEWorkflow",failureCode:mo.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to publish in a reasonable amount of time (timeout)"};qs("Failure",{},Bn),os.handleJsException({errorMsg:Bn.failureReason,code:Bn.failureCode,target:this,analytics:Cu}),Pn.isConnected()&&this.streamId&&Pn._.streamDestroy(this.streamId),this.disconnect(),this.session=null,ys.isDestroyed()||ys.set("MediaBound"),this.trigger("publishComplete",$r(wn,new Error(Gn),mo.UNABLE_TO_PUBLISH))},e0=Pn=>{const wn=$r(Mr.MEDIA_ERR_DECODE,Pn,mo.UNABLE_TO_PUBLISH);wn.message=`OT.Publisher while playing stream: ${wn.message}`,wr.error("OT.Publisher.onVideoError:",wn),jo("stream",null,{reason:wn.message});const Gn=ys.isAttemptingToPublish();ys.set("Failed"),Gn?this.trigger("publishComplete",wn):this.trigger("error",wn.message),os.handleJsException({error:wn,target:this,analytics:Cu})};this._setWebRTCStream=Pn=>{bo=Pn},this._setCurrentVideoFilter=Pn=>{Hl=Pn},this._getCurrentVideoFilter=()=>Hl,this._getMediaProcessor=()=>Go,this._removePeerConnection=Pn=>{var wn;if(!Pn)return;const Gn=Bl(Pn),Bn=Gn.peerConnectionId;delete zu[Bn],Pn.destroy(),(wn=rm)==null||wn.onPeerConnectionDisconnected()},this._removeSubscriber=Pn=>{this.session.sessionInfo.isAdaptiveEnabled&&_a==="P2P"&&this._.startRelayedToRoutedTransition(),Kp(Pn).then(Gn=>{Gn.forEach(Bn=>this._removePeerConnection(Bn))})};const Wm=Pn=>{const wn=Bl(Pn),Gn=wn.remoteSubscriberId,Bn=wn.peerConnectionId;wr.debug("Subscriber has been disconnected from the Publisher's PeerConnection"),jo("disconnect","PeerConnection",{subscriberConnection:Bn}),this._removeSubscriber(Gn)},Fm=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn,Bn){var vr,ir,Cn,Tn,Fn,er,Dn,Sr,Or,Ur,Ns;return it.default.wrap(function(Eo){for(;;)switch(Eo.prev=Eo.next){case 0:if(vr=Bn.reason,ir=Bn.prefix,Cn=ms.session&&ms.session.sessionInfo,!(ir==="ICEWorkflow"&&Cn&&Cn.reconnection&&_p)){Eo.next=5;break}return wr.debug("Ignoring peer connection failure due to possibility of reconnection."),Eo.abrupt("return");case 5:return Tn=Bl(Gn)||{},Fn=Tn.remoteConnectionId,er=Fn===void 0?"(not found)":Fn,Dn=Tn.peerConnectionId,Sr=so(void 0,vr,ir,er,"Publisher"),Or={hasRelayCandidates:Gn&&Gn.hasRelayCandidates()},Ur={failureReason:ir||"PeerConnectionError",failureCode:Sr.code,failureMessage:Sr.message},ys.isPublishing()?Ur.reason="Non-fatal":ms.trigger("publishComplete",Sr),qs("Failure",Or,Ur),os.handleJsException({errorMsg:`OT.Publisher PeerConnection Error: ${vr}`,code:Sr.code,target:ms,analytics:Cu}),Eo.next=14,zu[Dn];case 14:Ns=Eo.sent,Ns.destroy(),delete zu[Dn];case 17:case"end":return Eo.stop()}},wn)}));return function(Gn,Bn){return Pn.apply(this,arguments)}}(),ym=Pn=>this.session.sessionInfo.isAdaptiveEnabled&&Pn.getSourceStreamId()==="P2P",t0=Pn=>{const wn=Bl(Pn),Gn=wn.remoteConnectionId;vm("Success",{remoteConnectionId:Gn})},ss=Pn=>{const wn=Bl(Pn),Gn=wn.remoteConnectionId;vm("Failure",{reason:"ICEWorkflow",message:"OT.Publisher PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",remoteConnectionId:Gn})},Dm=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn,Bn){var vr,ir,Cn,Tn,Fn,er,Dn;return it.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:if(vr=ms.session.sessionInfo.isAdaptiveEnabled,ir=Bn.getSourceStreamId(),tr[ir]=Gn,Gn==="disconnected"&&setTimeout(()=>{const Ur=ms.session._.isSocketReconnecting,us=ms.session._.getSocket().is("connected")&&!Ur();if(tr[ir]==="disconnected"&&us){const Eo=Bl(Bn),xa=Eo.remoteConnectionId;vm("Attempt",{remoteConnectionId:xa}),Bn.iceRestart()}},2e3),Gn!=="connected"){Or.next=14;break}if(clearTimeout(Pr),!vr){Or.next=14;break}return Or.next=9,Up();case 9:return Cn=Or.sent.iceConnectionStateIsConnected(),Or.next=12,dm();case 12:Tn=Or.sent.iceConnectionStateIsConnected(),Cn&&Tn&&ju();case 14:if(Gn!=="failed"){Or.next=21;break}if(Fn=ms.session._.isSocketReconnecting,er=ms.session._.getSocket(),Dn=er.is("connected")&&!Fn(),Dn){Or.next=20;break}return Or.abrupt("return");case 20:vr&&ir===_a&&ir==="P2P"?ms._.startRelayedToRoutedTransition():Pr=setTimeout(()=>{ms.session._.streamDestroy(ms.streamId,ir)},Qr);case 21:case"end":return Or.stop()}},wn)}));return function(Gn,Bn){return Pn.apply(this,arguments)}}(),tm=Pn=>{Pn.setP2PMaxBitrate(),Pn.startEncryption(this.session.connection.id),ym(Pn)&&em("Success")},Rm=Pn=>{if(ys.current!=="PublishingToSession")throw new Error("assignStream called when publisher is not successfully publishing");Yu.releaseAll(),this.stream=Pn,this.stream.on("destroyed",this.disconnect,this),Yu.add(()=>{this.stream&&this.stream.off("destroyed",this.disconnect,this)}),ys.set("Publishing"),Yo.loading(!_p),Zu=new Date,this.dispatchEvent(new wo.StreamEvent("streamCreated",Pn,null,!1)),qs("Success"),this.trigger("publishComplete",null,this)},jm=Pn=>{let wn=Pn.peerConnectionId,Gn=Pn.send,Bn=Pn.log,vr=Pn.logQoS,ir=Pn.sourceStreamId;if(np(wn))return nt.reject(new Error("PeerConnection already exists"));const Cn=dr({isChromiumEdge:rs.env.isChromiumEdge,browserName:rs.env.name,isScreenSharing:Ku,isCustomVideoTrack:Ju,sessionInfo:this.session.sessionInfo,constraints:_i.constraints,videoDimensions:cs(),capableSimulcastScreenshare:_i.capableSimulcastScreenshare,scalableVideo:_i.scalableVideo});return zu[wn]=nt.all([this.session._.getIceConfig(),this.session._.getVideoCodecsCompatible(bo)]).then(Tn=>{let Fn=Tn[0],er=Tn[1],Dn=bo;if(!er){Dn=bo.clone();const Or=Dn.getVideoTracks(),Ur=Or[0];Ur&&(Ur.stop(),Dn.removeTrack(Ur))}const Sr=new is({iceConfig:Fn,sendMessage:(Or,Ur)=>{Or==="offer"&&this.trigger("connected"),Gn(Or,Ur)},webRTCStream:Dn,channels:_i.channels,capableSimulcastStreams:Cn,overrideSimulcastEnabled:Du._enableSimulcast,logAnalyticsEvent:Bn,offerOverrides:{enableDtx:_i.enableDtx,enableStereo:_i.enableStereo,audioBitrate:_i.audioBitrate,priorityVideoCodec:_i._priorityVideoCodec||this.session.sessionInfo.priorityVideoCodec,codecFlags:_i._codecFlags||this.session._.getCodecFlags()},answerOverrides:this.session.sessionInfo.p2pEnabled?void 0:{audioBitrate:_i.audioBitrate},sourceStreamId:ir,isP2pEnabled:this.session.sessionInfo.p2pEnabled,sessionId:this.session.id,keyStore:this.session.keyStore,sFrameClientStore:this.session.sFrameClientStore,isE2ee:this.session._.isE2ee(),audioFallbackEnabled:_i.publisherAudioFallbackEnabled,resolution:{width:this.videoWidth(),height:this.videoHeight()}});return Sr.on({disconnected:()=>Wm(Sr),error:Or=>{let Ur=Or.reason,Ns=Or.prefix;return Fm(Sr,{reason:Ur,prefix:Ns})},qos:vr,iceRestartSuccess:()=>t0(Sr),iceRestartFailure:()=>ss(Sr),iceConnectionStateChange:Or=>Dm(Or,Sr),audioAcquisitionProblem:()=>{Wp=!0,this.trigger("audioAcquisitionProblem",{method:"getStats"})},audioFallbackStateChange:Or=>{var Ur,Ns,us;return rm.onPeerConnectionStateChange(Object.assign({},Or,{peerConnection:Sr,publishVideo:_i.publishVideo,stream:this.stream,connectionId:(Ur=this.session)==null||(Ns=Ur.connection)==null?void 0:Ns.connectionId,sessionId:(us=this.session)==null?void 0:us.sessionId,peerId:Bl(Sr).peerId}))}}),Sr.once("connected",()=>tm(Sr)),new nt((Or,Ur)=>{const Ns=us=>{Ur(us)};Sr.once("error",Ns),Sr.init(Bp,us=>{if(us)return Ur(us);Sr.off("error",Ns),Or(Sr)})})}),np(wn)},bp=()=>nt.all(Object.keys(zu).map(np)),Kp=Pn=>bp().then(wn=>wn.filter(Gn=>Bl(Gn).remoteSubscriberId===Pn)),np=Pn=>zu[Pn],bm=Pn=>{const wn=Object.keys(zu).find(Gn=>Gn.endsWith(`~${Pn}`));return zu[wn]},Up=()=>bm("MANTIS"),dm=()=>bm("P2P");let zl=Lr(this,{name:_i.name,publishAudio:_i.publishAudio,publishVideo:_i.publishVideo,audioSource:_i.audioSource,showControls:_i.showControls,shouldAllowAudio:Ro,logAnalyticsEvent:jo});const Im=()=>{this.off("publishComplete",kp),zl&&zl.reset(),Yu.releaseAll(),this.disconnect(),_f=null,zp(),bo=null,Yo&&(Yo.destroy(),Yo=null),this.session&&this._.unpublishFromSession(this.session,"reset"),Go.getVideoFilter()&&nm(),this.id=null,this.stream=null,_p=!1,this.session=null,ys.isDestroyed()||ys.set("NotPublishing")},Tp=()=>{if(!bo||bo.getVideoTracks().length===0)return!1;const wn=["text","detail"].includes(_i.videoContentHint),Gn=Ju&&wn,Bn=rs.env.isChromium&&(Ku||Gn);return bo.getVideoTracks().reduce((vr,ir)=>vr&&(!ir.muted||!!Bn)&&ir.enabled&&ir.readyState!=="ended",_i.publishVideo)},Jp=()=>!bo||bo.getAudioTracks().length===0?!1:bo.getAudioTracks().length>0&&bo.getAudioTracks().reduce((Pn,wn)=>Pn&&!wn.muted&&wn.enabled&&wn.readyState!=="ended",_i.publishAudio),kp=Pn=>{if(Yo&&(Yo.audioOnly(!Tp()),Yo.showPoster(!Tp())),zl&&zl.setAudioOnly(!Tp()&&Jp()),this.stream){let wn;Xr&&Tp()&&(wn=lt.CongestionLevels.LOW,Xr=!1),this.stream.setChannelActiveState("audio",Jp(),Pn),this.stream.setChannelActiveState("video",Tp(),Pn,wn)}else this.off("publishComplete",kp),this.once("publishComplete",kp)},wm=(Pn,wn)=>{let Gn=!1;if(typeof Pn=="function"?wn=Pn:Gn=Pn==="rtcStatsReport",Gn?Lp():Yp(),Gn&&!pr){const Bn=mo.GET_RTC_STATS_REPORT_NOT_SUPPORTED;wn($r(Mr.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(os.getTitleByCode(Bn)),Bn));return}bp().then(Bn=>{if(Bn.length===0){const vr=mo.PEER_CONNECTION_NOT_CONNECTED;throw $r(Mr.PEER_CONNECTION_NOT_CONNECTED,new Error(os.getTitleByCode(vr)),vr)}return Bn}).then(Bn=>this.session.sessionInfo.isAdaptiveEnabled?Bn.filter(ir=>ir.getSourceStreamId()===_a):Bn).then(Bn=>nt.all(Bn.map(vr=>zt(Gn?vr.getRtcStatsReport.bind(vr):vr.getStats.bind(vr))().then(ir=>({pc:vr,stats:ir}))))).then(Bn=>{const vr=Zu?Zu.getTime():Date.now(),ir=Bn.map(Cn=>{let Tn=Cn.pc,Fn=Cn.stats;const er=Bl(Tn),Dn=er.remoteConnectionId,Sr=er.remoteSubscriberId;return vt(Dn.match(/^symphony\./)?{}:{subscriberId:Sr,connectionId:Dn},Gn?{rtcStatsReport:Fn}:{stats:Bt.normalizeStats(Fn,!1,vr)})});wn(null,ir)}).catch(wn)},Xm=Pn=>wm(Pn),_c=Pn=>wm("rtcStatsReport",Pn),Um=(Pn,wn)=>{const Gn={name:_i.name||"",streamId:this.streamId,subscriberAudioFallbackEnabled:_i.subscriberAudioFallbackEnabled,channels:na,minBitrate:_i.minVideoBitrate,sourceStreamId:Pn,e2ee:this.session._.isE2ee(),publisherAudioFallbackEnabled:_i.publisherAudioFallbackEnabled,customProperties:{initials:_i.initials}};this.session._.streamCreate(Gn,wn)},Om=Pn=>{Ko||(Ko=!0,bo.getAudioTracks().forEach(function(){var wn=(0,ot.default)(it.default.mark(function Gn(Bn){var vr;return it.default.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return vr=Bn.clone(),vr.enabled=!1,Cn.prev=2,Cn.next=5,Pn.findAndReplaceTrack(Bn,vr);case 5:Cn.next=10;break;case 7:return Cn.prev=7,Cn.t0=Cn.catch(2),Cn.abrupt("return");case 10:sp[Bn.id]=vr;case 11:case"end":return Cn.stop()}},Gn,null,[[2,7]])}));return function(Gn){return wn.apply(this,arguments)}}()))},n0=Pn=>{bo.getAudioTracks().forEach(function(){var wn=(0,ot.default)(it.default.mark(function Gn(Bn){return it.default.wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:return ir.prev=0,ir.next=3,Pn.findAndReplaceTrack(sp[Bn.id],Bn);case 3:ir.next=8;break;case 5:return ir.prev=5,ir.t0=ir.catch(0),ir.abrupt("return");case 8:delete sp[Bn.id];case 9:case"end":return ir.stop()}},Gn,null,[[0,5]])}));return function(Gn){return wn.apply(this,arguments)}}()),Ko=!1},ju=function(){var Pn=(0,ot.default)(it.default.mark(function wn(){var Gn;return it.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:return Op=!1,vr.next=3,Up();case 3:if(Gn=vr.sent,!Gn){vr.next=18;break}return ms.trigger("sourceStreamIdChanged","P2P"),_i.publisherAudioFallbackEnabled&&Gn.disableCongestionLevelEstimation(),vr.next=9,En(zo);case 9:if(!Op){vr.next=12;break}return wr.debug("Cancelling stop sending RTP to MANTIS."),vr.abrupt("return");case 12:return Om(Gn),vr.next=15,Gn.changeMediaDirectionToInactive();case 15:if(!(rs.env.isFirefox&&rs.env.version<96)){vr.next=18;break}return vr.next=18,Sm();case 18:case"end":return vr.stop()}},wn)}));return function(){return Pn.apply(this,arguments)}}(),y0=function(){var Pn=(0,ot.default)(it.default.mark(function wn(){var Gn,Bn;return it.default.wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:return Op=!0,ir.next=3,Up();case 3:if(Gn=ir.sent,!Gn){ir.next=22;break}return n0(Gn),ir.next=8,Gn.changeMediaDirectionToRecvOnly();case 8:if(ap&&clearTimeout(ap),ms.trigger("sourceStreamIdChanged","MANTIS"),!_i.publisherAudioFallbackEnabled){ir.next=22;break}return ir.t0=Gn,ir.next=14,dm();case 14:if(ir.t1=Bn=ir.sent,ir.t1!=null){ir.next=19;break}ir.t2=void 0,ir.next=20;break;case 19:ir.t2=Bn.getAudioFallbackState();case 20:ir.t3=ir.t2,ir.t0.enableCongestionLevelEstimation.call(ir.t0,ir.t3);case 22:case"end":return ir.stop()}},wn)}));return function(){return Pn.apply(this,arguments)}}(),Sm=function(){var Pn=(0,ot.default)(it.default.mark(function wn(){var Gn;return it.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:return vr.next=2,Up();case 2:Gn=vr.sent,Gn&&(ap=setTimeout((0,ot.default)(it.default.mark(function ir(){return it.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:if(_a!=="P2P"){Tn.next=9;break}return Tn.next=3,Gn.changeMediaDirectionToRecvOnly();case 3:return Tn.next=5,En(El);case 5:return Tn.next=7,Gn.changeMediaDirectionToInactive();case 7:return Tn.next=9,Sm();case 9:case"end":return Tn.stop()}},ir)})),co));case 4:case"end":return vr.stop()}},wn)}));return function(){return Pn.apply(this,arguments)}}(),Bm=()=>{em("Attempt");const Pn=Gn=>{const Bn=Er(Gn);this.trigger("streamCreateForP2PComplete",Bn),em("Failure",{reason:Bn.message})};if(!this.session){em("Failure",{reason:"Not connected to the session."});return}const wn=setTimeout(()=>{em("Failure",{reason:"Timeout"})},Vo);this.once("streamCreateForP2PComplete",()=>{clearTimeout(wn)}),wr.debug(`streamCreateWithSource: send a message to RUMOR for creating the stream with the sourceStreaId P2P and stream ${this.streamId}`),Um("P2P",Gn=>{Gn?Pn(Gn):this.trigger("streamCreateForP2PComplete")})},r0=function(){var Pn=(0,ot.default)(it.default.mark(function wn(){return it.default.wrap(function(Bn){for(;;)switch(Bn.prev=Bn.next){case 0:if(_a==="P2P"){Bn.next=2;break}return Bn.abrupt("return");case 2:if(um("Attempt"),ms.session){Bn.next=6;break}return um("Failure",{reason:"Not connected to the session."}),Bn.abrupt("return");case 6:if(ms.streamId){Bn.next=9;break}return um("Failure",{reason:"No streamId available"}),Bn.abrupt("return");case 9:return Bn.next=11,y0();case 11:return ms.session._.streamDestroy(ms.streamId,"P2P"),Bn.t0=ms,Bn.next=15,dm();case 15:Bn.t1=Bn.sent,Bn.t0._removePeerConnection.call(Bn.t0,Bn.t1),um("Success"),ms.trigger("streamDestroyForP2PComplete");case 19:case"end":return Bn.stop()}},wn)}));return function(){return Pn.apply(this,arguments)}}();this.publish=Pn=>(wr.debug("OT.Publisher: publish"),(ys.isAttemptingToPublish()||ys.isPublishing())&&Im(),ys.set("GetUserMedia"),_i.style&&this.setStyle(_i.style,null,!0),_i.classNames="OT_root OT_publisher",yo.onLoad(()=>{wr.debug("OT.Publisher: publish: environment loaded"),Yo=new wu(Pn,Object.assign({},_i,{widgetType:"publisher"})),Ro&&Un({publisher:this,widgetView:Yo}),Yo.on("error",e0),this.id=Yo.domId(),this.element=Yo.domElement,this.element&&zl&&zl.init(Yo),Yo.on("videoDimensionsChanged",(wn,Gn)=>{_i.publishVideo&&(this.stream&&this.stream.setVideoDimensions(Gn.width,Gn.height),this.dispatchEvent(new wo.VideoDimensionsChangedEvent(this,wn,Gn)))}),Yo.on("mediaStopped",wn=>{const Gn=new wo.MediaStoppedEvent(this,wn);if(this.dispatchEvent(Gn),!Gn.isDefaultPrevented()){if(wn){const Bn=String(wn.kind).toLowerCase();Bn==="audio"?fm():Bn==="video"?Am():wr.warn(`Track with invalid kind has ended: ${wn.kind}`);return}this.session?this._.unpublishFromSession(this.session,"mediaStopped"):this.destroy("mediaStopped")}}),Yo.on("videoElementCreated",wn=>{const Gn=new wo.VideoElementCreatedEvent(wn);this.dispatchEvent(Gn)}),qp().catch(Ap).then(function(){var wn=(0,ot.default)(it.default.mark(function Gn(Bn){var vr;return it.default.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return fp=lu.audioDevices,ep=lu.videoDevices,vr=!!_i.videoFilter,(0,ut.default)(ms),vr&&(yu=Ir(Bn,ep)),Cn.next=7,Gm(Bn);case 7:return _i.publishVideo||ms._toggleVideo(_i.publishVideo,cs()),!Ku&&!Ju&&!vr&&(yu=Ir(Bn,ep),_i.publishVideo&&mm(yu)),Cn.abrupt("return",jp().catch(Tn=>{if(!(Tn instanceof wt))throw Tn}).then(()=>{v0(),ys.isDestroyed()||(ms.trigger("initSuccess"),ms.trigger("loaded",ms))},Tn=>{wr.error(`OT.Publisher.publish failed to bind video: ${Tn}`),$p(Tn)}));case 10:case"end":return Cn.stop()}},Gn)}));return function(Gn){return wn.apply(this,arguments)}}())}),this),this._setScalableValues=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn,Bn){var vr,ir,Cn;return it.default.wrap(function(Fn){for(;;)switch(Fn.prev=Fn.next){case 0:return Fn.next=2,bp().then(er=>er[0].getSenders().filter(Dn=>Dn.track.kind==="video"));case 2:return vr=Fn.sent,ir=vr[0],Cn=ir.getParameters(),Cn.encodings.forEach((er,Dn)=>{er[Gn]=Bn[Dn]}),Fn.next=8,ir.setParameters(Cn);case 8:case"end":return Fn.stop()}},wn)}));return function(wn,Gn){return Pn.apply(this,arguments)}}(),this._setScalableFramerates=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn;return it.default.wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if(Bn=Ym(Gn),!(Bn&&Hm(Bn))){ir.next=4;break}return ir.next=4,ms._setScalableValues("maxFramerate",Bn);case 4:case"end":return ir.stop()}},wn)}));return function(wn){return Pn.apply(this,arguments)}}(),this._setScalableVideoLayers=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn;return it.default.wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if(Bn=Ym(Gn),!(Bn&&i0(Bn))){ir.next=4;break}return ir.next=4,ms._setScalableValues("scaleResolutionDownBy",Bn);case 4:case"end":return ir.stop()}},wn)}));return function(wn){return Pn.apply(this,arguments)}}();const Hm=Pn=>{let wn=0;return Pn.every(Gn=>Gn!==15&&Gn!==30||Gn<wn?!1:(wn=Gn,!0))},i0=Pn=>{let wn=17;return Pn.every(Gn=>Gn<1||Gn>=wn?!1:(wn=Gn,!0))},Ym=Pn=>{let wn;if(typeof Pn!="string")return wn;const Gn=Pn.split(":");return Gn.length===0||Gn.length>3||!Gn.every(Bn=>!isNaN(Bn))||(wn=Gn.map(Bn=>parseInt(Bn,10)).reverse()),wn},Em=Pn=>bo&&bo[`get${Vt(Pn)}Tracks`]().length>0&&bo[`get${Vt(Pn)}Tracks`]().every(wn=>wn.readyState!=="ended"),fm=Pn=>{const wn=Em("audio")&&_i.publishAudio;zl&&zl.setMuted(!wn),_f&&_f.muted(!wn),Vn&&Vn.originalTrack&&(Vn.originalTrack.enabled=wn),kp(Pn)};this.publishAudio=Pn=>{jo("publishAudio","Attempt",{publishAudio:Pn}),_i.publishAudio=Pn;try{fm(),jo("publishAudio","Success",{publishAudio:Pn})}catch(wn){jo("publishAudio","Failure",{message:wn.message})}return this},this.publishCaptions=Pn=>{jo("publishCaptions","Attempt");try{Zl.dispatchEvent(new wo.PublisherCaptionsEnabled(Pn)),this.stream.setChannelActiveState("data",Pn),jo("publishCaptions","Success")}catch(wn){jo("publishCaptions","Failure",{message:wn.message})}};let pm,hm=!1;const Am=()=>{const Pn=Em("video")&&_i.publishVideo;if(qt.name==="Chrome"&&qt.version>=69&&(0,ot.default)(it.default.mark(function wn(){var Gn,Bn;return it.default.wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:return pm&&pm.cancel(),pm=new Zt,Gn=pm,ir.next=5,bp();case 5:Bn=ir.sent,Gn.isCanceled()||Bn.forEach(Cn=>{Cn.setVideoActiveState(Pn)});case 7:case"end":return ir.stop()}},wn)}))(),Ju&&Go){const wn=Go.getOriginalVideoTrack();wn&&(wn.enabled=Pn)}if(Ju&&Ys){const wn=Ys.originalTrack;wn&&(wn.enabled=Pn)}bo&&bo.getVideoTracks().forEach(wn=>{wn.enabled=Pn,wn.isCreatedCanvas&&(wn.enabled=!1)}),kp()},nm=function(){var Pn=(0,ot.default)(it.default.mark(function wn(){var Gn;return it.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:return Gn=Go.getOriginalVideoTrack(),vr.prev=1,vr.next=4,Go.destroy();case 4:vr.next=9;break;case 6:vr.prev=6,vr.t0=vr.catch(1),wr.warn(`Error cleaning up mediaProcessor: ${vr.t0}`);case 9:Gn.stop();case 10:case"end":return vr.stop()}},wn,null,[[1,6]])}));return function(){return Pn.apply(this,arguments)}}(),Lm=Pn=>!Hl&&!Ys&&Pn===zm(),b0=(Pn,wn)=>Hl||Ys?!0:Pn?yu!==wn:wn!==void 0;let yu,Hl;this._toggleVideo=Sn(function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn,Bn){var vr,ir,Cn,Tn,Fn,er,Dn,Sr;return it.default.wrap(function(Ur){for(;;)switch(Ur.prev=Ur.next){case 0:if(!(Ku||Ju||hm)){Ur.next=2;break}return Ur.abrupt("return");case 2:return Ur.next=4,Km();case 4:if(ir=Ur.sent,Cn=$m(),Cn){Ur.next=8;break}throw $r(Mr.NOT_SUPPORTED,new Error("Publisher._toggleVideo cannot toggleVideo when you have no video source."));case 8:if(Tn=(vr=ir.find(Ns=>Ns.label===Cn.label))==null?void 0:vr.deviceId,b0(Gn,Tn)){Ur.next=11;break}return Ur.abrupt("return");case 11:if(Cn.readyState!=="ended"){Ur.next=14;break}return hm=!0,Ur.abrupt("return");case 14:if(Gn&&rs.env.isAndroid&&rs.env.isChrome&&Cn&&Cn.stop&&Cn.stop(),Gn){Ur.next=31;break}Ur.prev=16,Fn=ur(Bn),Ur.next=23;break;case 20:return Ur.prev=20,Ur.t0=Ur.catch(16),Ur.abrupt("return");case 23:if(Tn&&(yu=Tn),mm(Fn.label),er=Go.getVideoFilter(),!er){Ur.next=30;break}return Hl=er,Ur.next=30,nm();case 30:Ys&&(Ys.destroy(),Ys.stopOriginalTrack());case 31:if(!(yu&&ir.findIndex(Ns=>Ns.deviceId===yu)===-1)){Ur.next=33;break}throw $r(Mr.NO_DEVICES_FOUND,new Error("Previous device no longer available - deviceId not found"));case 33:if(Zl.emit("streamDestroy"),!Gn){Ur.next=64;break}if(!Lm(yu)){Ur.next=37;break}return Ur.abrupt("return");case 37:return Ur.prev=37,Ur.next=40,Cm(yu);case 40:Fn=Ur.sent,Ur.next=47;break;case 43:throw Ur.prev=43,Ur.t1=Ur.catch(37),wr.error(`Error getting new track for current device(${yu}): ${Ur.t1}`),Ur.t1;case 47:if(Fn){Ur.next=50;break}return wr.error("Failed to enable video. It was not possible to get a new track from the camera"),Ur.abrupt("return");case 50:if(!Hl){Ur.next=59;break}return Dn=Go.getOriginalVideoTrack(),Ur.next=54,Go.setVideoFilter(Hl);case 54:return Ur.next=56,Go.setMediaStream(bo);case 56:return Ur.next=58,Go.setVideoTrack(Fn);case 58:Fn=Ur.sent;case 59:if(!Ys){Ur.next=64;break}return Dn=Ys.originalTrack,Ur.next=63,Ys.setTrack(Fn);case 63:Fn=Ur.sent;case 64:return Ur.prev=64,Ur.next=67,im(Cn,Fn);case 67:(Sr=Dn)==null||Sr.stop(),Ur.next=73;break;case 70:throw Ur.prev=70,Ur.t2=Ur.catch(64),Ur.t2;case 73:case"end":return Ur.stop()}},wn,null,[[16,20],[37,43],[64,70]])}));return function(wn,Gn){return Pn.apply(this,arguments)}}());const o0=()=>{var Pn,wn;rm.reset(),(Pn=zl)==null||Pn.videoDisabledIndicator.disableVideo(!1),(wn=zl)==null||wn.videoDisabledIndicator.setWarning(!1)},S0=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn,vr;return it.default.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:(Bn=zl)==null||Bn.videoDisabledIndicator.disableVideo(!1),(vr=zl)==null||vr.videoDisabledIndicator.setWarning(!1),Gn===ct.default.SUSPENDED_VIDEO?ms.trigger("videoEnabled",{reason:"quality"}):ms.trigger("videoDisableWarningLifted");case 3:case"end":return Cn.stop()}},wn)}));return function(Gn){return Pn.apply(this,arguments)}}(),E0=()=>{if(_i.publishVideo){var Pn;(Pn=zl)==null||Pn.videoDisabledIndicator.setWarning(!0)}this.trigger("videoDisableWarning")},s0=function(){var Pn=(0,ot.default)(it.default.mark(function wn(){var Gn;return it.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:_i.publishVideo&&((Gn=zl)==null||Gn.videoDisabledIndicator.disableVideo(!0)),ms.trigger("videoDisabled",{reason:"quality"});case 2:case"end":return vr.stop()}},wn)}));return function(){return Pn.apply(this,arguments)}}();let rm;if(_i.publisherAudioFallbackEnabled){rm=To({getAllPeerConnections:bp,AnalyticsHelper:qr});const Pn={[ct.default.ACTIVE_VIDEO]:S0,[ct.default.ACTIVE_VIDEO_WITH_WARNING]:E0,[ct.default.SUSPENDED_VIDEO]:s0};rm.on("stateChange",wn=>{let Gn=wn.previousState,Bn=wn.state;try{Pn[Bn](Gn)}catch(vr){throw wr.error(`Audio fallback error: ${vr}`),vr}})}this.publishVideo=Pn=>{if(_i.publishVideo===Pn)return this;jo("publishVideo","Attempt",{publishVideo:Pn});const wn=cs();_i.publishVideo=Pn,Pn===!1&&_i.publisherAudioFallbackEnabled&&rm.getState()!==ct.default.ACTIVE_VIDEO&&(Xr=!0,o0());try{this._toggleVideo(_i.publishVideo,wn),Am(),jo("publishVideo","Success",{publishVideo:Pn})}catch(Gn){jo("publishVideo","Failure",{message:Gn.message})}return this},this.setVideoContentHint=Pn=>Dr(bo,Pn),this.getVideoContentHint=()=>to(bo),this.destroy=function(Pn,wn){return ys.isAttemptingToPublish()&&this.session&&qs("Cancel",{reason:"destroy"}),ys.isDestroyed()?this:(ys.set("Destroyed"),Im(),lu&&(lu.off(),lu=null),zl&&(zl.destroy(),zl=null),Zl&&(Zl.off(),Zl=null),wn!==!0&&this.dispatchEvent(new wo.DestroyedEvent(sn.PUBLISHER_DESTROYED,this,Pn)),this.off(),Ys&&(Ys.destroy(),Ys.stopOriginalTrack()),Vn&&(Vn.destroy(),Vn.stopOriginalTrack()),this)},this.disconnect=()=>{Object.keys(zu).forEach(Pn=>{const wn=np(Pn);delete zu[Pn],wn.then(Gn=>this._removePeerConnection(Gn))}),na.length=0},this.processMessage=(Pn,wn,Gn)=>{const Bn=ft(Gn,"params.subscriber",wn).replace(/^INVALID-STREAM$/,wn),vr=ft(Gn,"content.peerId"),ir=ft(Gn,"content.sourceStreamId","MANTIS"),Cn=`${Bn}~${vr}~${ir}`;wr.debug(`OT.Publisher.processMessage: Received ${Pn} from ${wn} for ${Cn}`),wr.debug(Gn);const Tn=np(Cn),Fn=()=>{const Dn=jn({socket:this.session._.getSocket(),uri:Gn.uri,content:{peerId:vr,sourceStreamId:ir}});jm({peerConnectionId:Cn,send:Dn,log:function(Ns,us,Eo,xa,Np){xa===void 0&&(xa={});const uu=Object.assign({peerId:vr,sourceStreamId:po(ir)},xa);return jo(Ns,us,Eo,uu,Np)},logQoS:Ur=>{ir===_a&&Dp(Object.assign({},Ur,{peerId:vr,remoteConnectionId:wn,sourceStreamId:ir}))},sourceStreamId:ir}).then(Ur=>(vu(Ur,{remoteConnectionId:wn,remoteSubscriberId:Bn,peerId:vr,sourceStreamId:ir,peerConnectionId:Cn}),Ur.processMessage(Pn,Gn),null)).catch(Ur=>{wr.error("OT.Publisher failed to create a peerConnection",Ur)})},er=this.session.sessionInfo.isAdaptiveEnabled;switch(Pn){case"unsubscribe":this._removeSubscriber(Bn);break;default:if(Tn)Tn.then(Dn=>Dn.processMessage(Pn,Gn));else{if(er&&dm())return;Fn()}break}},this.getImgData=function(){if(!_p)return wr.error("OT.Publisher.getImgData: Cannot getImgData before the Publisher is publishing."),null;const Pn=Yo&&Yo.video();return Pn?Pn.imgData():null};const C0=Pn=>{zp(),bo=Pn,Zl.emit("streamChange"),_f=new Oo(bo,!_i.publishAudio)},T0=Pn=>{Pn.getSenders().forEach(wn=>{if(wn.track.kind==="audio"&&bo.getAudioTracks().length)return wn.replaceTrack(bo.getAudioTracks()[0]);if(wn.track.kind==="video"&&bo.getVideoTracks().length)return wn.replaceTrack(bo.getVideoTracks()[0])})},x0=function(wn){return wn===void 0&&(wn=T0),bp().then(Gn=>{const Bn=[];return Gn.map(wn),nt.all(Bn)})};{let Pn=0;const wn=function(){var Gn=(0,ot.default)(it.default.mark(function Bn(){var vr,ir,Cn,Tn,Fn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(!(rs.env.isLegacyEdge||!mr.RTCRtpSender||typeof mr.RTCRtpSender.prototype.replaceTrack!="function")){Dn.next=2;break}throw $r(Mr.UNSUPPORTED_BROWSER,new Error("Publisher#cycleVideo is not supported in your browser."),mo.UNABLE_TO_PUBLISH);case 2:if(!(Ju||Ku)){Dn.next=4;break}throw $r(Mr.NOT_SUPPORTED,new Error("Publisher#cycleVideo: The publisher is not using a camera video source"));case 4:if(vr=$m(),vr){Dn.next=7;break}throw $r(Mr.NOT_SUPPORTED,new Error("Publisher#cycleVideo cannot cycleVideo when you have no video source."));case 7:return Pn+=1,Dn.next=10,Km();case 10:if(ir=Dn.sent,Cn=ir.filter(Sr=>Sr.deviceId!==yu).length>0,Cn){Dn.next=14;break}return Dn.abrupt("return",yu);case 14:for(;ir[Pn%ir.length].deviceId===yu;)Pn+=1;return Zl.emit("streamDestroy"),Tn=ir[Pn%ir.length],Fn=Tn.deviceId,Dn.next=20,Qm(Fn);case 20:return Dn.abrupt("return",yu);case 21:case"end":return Dn.stop()}},Bn)}));return function(){return Gn.apply(this,arguments)}}();this.cycleVideo=Sn((0,ot.default)(it.default.mark(function Gn(){var Bn;return it.default.wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:return ir.prev=0,ir.next=3,wn();case 3:Bn=ir.sent,ir.next=10;break;case 6:throw ir.prev=6,ir.t0=ir.catch(0),wr.error(`Publisher#cycleVideo: could not cycle video: ${ir.t0}`),ir.t0;case 10:return ir.abrupt("return",{deviceId:Bn});case 11:case"end":return ir.stop()}},Gn,null,[[0,6]])})))}const im=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn,Bn){var vr,ir,Cn;return it.default.wrap(function(Fn){for(;;)switch(Fn.prev=Fn.next){case 0:return Fn.next=2,bp();case 2:return vr=Fn.sent,Fn.next=5,nt.all(vr.map(function(){var er=(0,ot.default)(it.default.mark(function Dn(Sr){return it.default.wrap(function(Ur){for(;;)switch(Ur.prev=Ur.next){case 0:return Ur.next=2,Sr.findAndReplaceTrack(Gn,Bn);case 2:Sr.setP2PMaxBitrate();case 3:case"end":return Ur.stop()}},Dn)}));return function(Dn){return er.apply(this,arguments)}}()));case 5:if(bo.removeTrack(Gn),bo.addTrack(Bn),Gn&&Gn.stop){try{ir=Bn instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(Bn).toString().includes("MediaStreamTrackGenerator")}catch{ir=!1}ir||Gn.stop()}(rs.env.name==="Firefox"||rs.env.name==="Safari")&&(ms.videoElement().srcObject=null,ms.videoElement().srcObject=bo),Cn=Yo&&Yo.video(),Cn&&Cn.refreshTracks(),Zl.emit("streamChange"),Am();case 13:case"end":return Fn.stop()}},wn)}));return function(Gn,Bn){return Pn.apply(this,arguments)}}(),Cm=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn,vr,ir,Cn,Tn,Fn,er,Dn;return it.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:return vr=zm(),mm(Gn),ir=Ct(Du),ir.audioSource=null,ir.videoSource=Gn,lu=Qo(ir,"OT.Publisher.getTrackFromDeviceId",()=>ys&&ys.isDestroyed()),lu.on({accessDialogOpened:_s,accessDialogClosed:Qp}),Cn=lu,Tn=Cn.getUserMedia,Or.prev=8,Or.next=11,Tn();case 11:Fn=Or.sent,Or.next=18;break;case 14:throw Or.prev=14,Or.t0=Or.catch(8),wr.error(Or.t0),Or.t0;case 18:return er=(Bn=Fn)==null?void 0:Bn.getVideoTracks(),Dn=er[0],Dn||mm(vr),Or.abrupt("return",Dn);case 21:case"end":return Or.stop()}},wn,null,[[8,14]])}));return function(Gn){return Pn.apply(this,arguments)}}(),$m=()=>bo.getVideoTracks()[0],zm=()=>hp,mm=Pn=>{hp=Pn},Km=function(){var Pn=(0,ot.default)(it.default.mark(function wn(){var Gn,Bn;return it.default.wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:return ir.next=2,Yr.shouldAskForDevices();case 2:if(Gn=ir.sent,Bn=Gn.videoDevices,!(!Gn.video||!Bn||!Bn.length)){ir.next=6;break}throw $r(Mr.NO_DEVICES_FOUND,new Error("No video devices available"),mo.UNABLE_TO_PUBLISH);case 6:return ir.abrupt("return",Bn);case 7:case"end":return ir.stop()}},wn)}));return function(){return Pn.apply(this,arguments)}}(),km=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn,Bn){var vr,ir,Cn;return it.default.wrap(function(Fn){for(;;)switch(Fn.prev=Fn.next){case 0:return Fn.next=2,bp();case 2:return vr=Fn.sent,Fn.next=5,nt.all(vr.map(er=>er.findAndReplaceTrack(Gn,Bn)));case 5:Bn&&bo.addTrack(Bn),Gn&&bo.removeTrack(Gn),ir=Yo&&Yo.video(),ir&&ir.refreshTracks(),zl&&(Bn&&!Gn&&zl.addAudioTrack(),Gn&&!Bn&&zl.removeAudioTrack());try{Cn=Bn instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(Bn).toString().includes("MediaStreamTrackGenerator")}catch{Cn=!1}Gn&&Gn.stop&&!Cn&&Gn.stop(),Bn&&(fm(),_f=new Oo(bo,!_i.publishAudio)),Zl.emit("streamChange"),kp();case 15:case"end":return Fn.stop()}},wn)}));return function(Gn,Bn){return Pn.apply(this,arguments)}}(),a0=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn,vr;return it.default.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return Bn=Gn.getSettings().deviceId,Cn.prev=1,Cn.next=4,ms.setAudioSource(Bn);case 4:vr=bo.getAudioTracks()[0],vr&&(vr.onmute=()=>Jm(vr),vr.onunmute=()=>c0(vr)),Cn.next=11;break;case 8:Cn.prev=8,Cn.t0=Cn.catch(1),wr.error(Cn.t0);case 11:case"end":return Cn.stop()}},wn,null,[[1,8]])}));return function(Gn){return Pn.apply(this,arguments)}}(),Jm=Pn=>{let wn=!1;_i.publishVideo&&document.hidden&&(wn=!0,this.publishVideo(!1));const Gn=function(){var Bn=(0,ot.default)(it.default.mark(function vr(){return it.default.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:if(document.hidden){Cn.next=5;break}return Cn.next=3,a0(Pn);case 3:wn&&ms.publishVideo(!0),document.removeEventListener("visibilitychange",Gn);case 5:case"end":return Cn.stop()}},vr)}));return function(){return Bn.apply(this,arguments)}}();document.addEventListener("visibilitychange",Gn)},c0=Pn=>{var wn;Jp()&&(Tp()?this.videoElement().pause():a0(Pn)),this==null||(wn=this.session)==null||wn.trigger("gsmCallEnded")},R0=!(rs.env.isLegacyEdge||!mr.RTCRtpSender||typeof mr.RTCRtpSender.prototype.replaceTrack!="function"),l0=()=>$r(Mr.UNSUPPORTED_BROWSER,new Error("Publisher#setAudioSource is not supported in your browser.")),Nm=()=>$r(Mr.CANCEL,new Error("Operation did not succeed due to a new request."));let om;const I0=()=>(om&&om.cancel(),om=new Zt,om),u0=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn,vr,ir,Cn,Tn,Fn,er,Dn,Sr,Or,Ur,Ns;return it.default.wrap(function(Eo){for(;;)switch(Eo.prev=Eo.next){case 0:if(R0){Eo.next=2;break}throw l0();case 2:if(Bn=I0(),vr=xa=>{if(Bn.isCanceled())throw xa.getTracks(Np=>Np.stop()),Nm();return u0(xa.getAudioTracks()[0])},ir=ms.getAudioSource(),ir){Eo.next=7;break}throw $r(Mr.NOT_SUPPORTED,new Error("Publisher#setAudioSource cannot add an audio source when you started without one."));case 7:if(!(Gn instanceof MediaStreamTrack)){Eo.next=26;break}if(!Bn.isCanceled()){Eo.next=10;break}throw Nm();case 10:if(!Vn){Eo.next=23;break}return Eo.prev=11,Eo.next=14,Vn.setTrack(Gn);case 14:return Cn=Eo.sent,Eo.next=17,km(ir,Cn);case 17:return Eo.abrupt("return",Eo.sent);case 20:Eo.prev=20,Eo.t0=Eo.catch(11),wr.error(`Error setting track on audioMediaProcessorConnector: ${Eo.t0}`);case 23:return Eo.abrupt("return",km(ir,Gn));case 26:if(typeof Gn!="string"){Eo.next=73;break}return Tn=Ct(Du),Tn.audioSource=Gn,Tn.videoSource=null,lu=Qo(Tn,"OT.Publisher.setAudioSource",()=>Bn.isCanceled()||ys&&ys.isDestroyed()),lu.on({accessDialogOpened:_s,accessDialogClosed:Qp}),Fn=ir.label,er=ir.getConstraints&&ir.getSettings().deviceId||void 0,ir&&ir.stop(),Dn=lu,Sr=Dn.getUserMedia,Eo.prev=36,Eo.t1=vr,Eo.next=40,Sr();case 40:return Eo.t2=Eo.sent,Eo.next=43,(0,Eo.t1)(Eo.t2);case 43:return Eo.abrupt("return",Eo.sent);case 46:if(Eo.prev=46,Eo.t3=Eo.catch(36),!Bn.isCanceled()){Eo.next=50;break}throw Nm();case 50:if(Or=Ct(Du),Or.videoSource=null,Or.audioSource=er,!(!Or.audioSource&&Fn)){Eo.next=60;break}return Eo.next=56,Jn();case 56:if(Ur=Eo.sent.find(xa=>xa.label===Fn),!Bn.isCanceled()){Eo.next=59;break}throw Nm();case 59:Ur&&(Or.audioSource=Ur.deviceId);case 60:if(Or.audioSource){Eo.next=63;break}throw Eo.t3.message+=" (could not determine previous audio device)",$r(Mr.NOT_FOUND,Eo.t3);case 63:return lu=Qo(Or,"OT.Publisher.setAudioSource",()=>Bn.isCanceled()||ys&&ys.isDestroyed()),Eo.next=66,lu.getUserMedia().catch(xa=>{throw xa.message+=" (could not obtain previous audio device)",xa});case 66:return Ns=Eo.sent,Eo.next=69,vr(Ns);case 69:throw Eo.t3.message+=" (reverted to previous audio device)",Eo.t3;case 71:Eo.next=74;break;case 73:throw $r(Mr.INVALID_PARAMETER,new Error("Invalid parameter passed to OT.Publisher.setAudioSource(). Expected string or MediaStreamTrack."));case 74:case"end":return Eo.stop()}},wn,null,[[11,20],[36,46]])}));return function(Gn){return Pn.apply(this,arguments)}}();this.setAudioSource=u0,this.getAudioSource=()=>bo&&bo.getAudioTracks().length>0?bo.getAudioTracks()[0]:null;const w0=function(){var Pn=(0,ot.default)(it.default.mark(function Gn(Bn){var vr,ir,Cn,Tn,Fn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(vr=$r(Mr.INVALID_VIDEO_SOURCE,new Error("Invalid video source. Video source must be a valid video input deviceId"),1041),ir=$r(Mr.SET_VIDEO_SOURCE_FAILURE,new Error("You cannot reset the video source on a publisher that does not currently use a camera source."),1040),!(rs.env.isLegacyEdge||!mr.RTCRtpSender||typeof mr.RTCRtpSender.prototype.replaceTrack!="function")){Dn.next=4;break}throw $r(Mr.UNSUPPORTED_BROWSER,new Error("setVideoSource is not supported in your browser."),mo.UNABLE_TO_PUBLISH);case 4:if(typeof Bn=="string"){Dn.next=6;break}throw vr;case 6:if(Cn=!bo||bo.getVideoTracks().length===0,!(Ju||Ku||Cn)){Dn.next=9;break}throw ir;case 9:return Dn.next=11,Jn();case 11:if(Tn=Dn.sent,Fn=Tn.find(Sr=>Sr.kind==="videoInput"&&Sr.deviceId===Bn),Fn){Dn.next=15;break}throw vr;case 15:return Dn.next=17,Qm(Bn);case 17:case"end":return Dn.stop()}},Gn)}));function wn(Gn){return Pn.apply(this,arguments)}return wn}();this.setVideoSource=w0;const Qm=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn,vr,ir,Cn,Tn,Fn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(vr=yu,yu=Gn,_i.publishVideo){Dn.next=4;break}return Dn.abrupt("return");case 4:if(!Lm(Gn)){Dn.next=6;break}return Dn.abrupt("return");case 6:if(ir=$m(),!(_i.publishVideo&&rs.env.isAndroid&&(rs.env.isChrome||rs.env.isFirefox))){Dn.next=14;break}if(!Hl){Dn.next=13;break}return Cn=Hl,Dn.next=12,nm();case 12:Hl=null;case 13:ir&&ir.stop&&ir.stop();case 14:return Dn.prev=14,Dn.next=17,Cm(Gn);case 17:Tn=Dn.sent,Dn.next=25;break;case 20:throw Dn.prev=20,Dn.t0=Dn.catch(14),yu=vr,wr.error(Dn.t0),Dn.t0;case 25:if(Tn){Dn.next=28;break}return wr.warn("Unable to aquire video track. Moving to next device."),Dn.abrupt("return");case 28:if(!Hl){Dn.next=33;break}return Fn=Go.getOriginalVideoTrack(),Dn.next=32,Go.setVideoTrack(Tn);case 32:Tn=Dn.sent;case 33:if(!Ys){Dn.next=38;break}return Fn=Ys.originalTrack,Dn.next=37,Ys.setTrack(Tn);case 37:Tn=Dn.sent;case 38:return Dn.next=40,im(ir,Tn);case 40:if(!Cn){Dn.next=43;break}return Dn.next=43,ms.applyVideoFilter(Cn);case 43:(Bn=Fn)==null||Bn.stop(),_i.publishVideo&&(hm=!1);case 45:case"end":return Dn.stop()}},wn,null,[[14,20]])}));return function(Gn){return Pn.apply(this,arguments)}}();this.getVideoSource=()=>{const Pn={},wn=!bo||bo.getVideoTracks().length===0;return Pn.track=bo&&_i.publishVideo&&bo.getVideoTracks()[0]||null,Pn.deviceId=!Ku&&!Ju&&yu?yu:null,Ju?Pn.type="custom":Ku?Pn.type="screen":wn?Pn.type=null:Pn.type="camera",Pn},this._={privateEvents:Zl,setIceConfig(Pn){return(0,ot.default)(it.default.mark(function wn(){var Gn;return it.default.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:return vr.next=2,bp();case 2:Gn=vr.sent,Gn.forEach(ir=>ir.setIceConfig(Pn));case 4:case"end":return vr.stop()}},wn)}))()},publishToSession:(Pn,wn)=>{wn&&(Cu=wn),Ws=Pn,this.session=Pn;const Gn=Pt();Gl=Gn,this.streamId=Gn,qs("Attempt",{dataChannels:_i.channels,properties:vn(_i)});const Bn=new nt((Tn,Fn)=>{if(_p){Tn();return}this.once("initSuccess",Tn),this.once("destroyed",er=>{let Dn=er.reason,Sr="";Dn&&(Sr=` Reason: ${Dn}`),Fn(new Error(`Publisher destroyed before it finished loading.${Sr}`))})});wr.debug("publishToSession: waiting for publishComplete, which is triggered by stream#created from rumor");const vr=new nt((Tn,Fn)=>{this.once("publishComplete",er=>{if(er){Fn(er);return}this._setScalableFramerates(_i.scalableFramerates),this._setScalableVideoLayers(_i.scalableVideoLayers),this.stream&&(this.stream.setChannelActiveState("audio",Jp()),this.stream.setChannelActiveState("video",Tp())),wr.debug("publishToSession: got publishComplete"),Tn()})}),ir=Tn=>{const Fn=Er(Tn);throw qs("Failure",{},{failureReason:"Publish",failureCode:Fn.code,failureMessage:Fn.message}),ys.isAttemptingToPublish()&&this.trigger("publishComplete",Fn),os.handleJsException({errorMsg:Tn.message,code:Fn.code,target:this,error:Tn,analytics:Cu}),Fn};wr.debug("publishToSession: waiting for loaded");const Cn=Bn.then(()=>Pn._.getVideoCodecsCompatible(bo)).then(Tn=>{if(wr.debug("publishToSession: loaded"),!this.session)return;const Fn=setTimeout(()=>{Xp(Pn)},Vo);this.once("publishComplete",()=>{clearTimeout(Fn)}),ys.set("PublishingToSession");const er=Tn&&Yo&&Yo.video(),Dn=bo.getVideoTracks().length>0,Sr=_i.videoSource!==null&&_i.videoSource!==!1;er&&Dn&&Sr&&na.push(new cu({id:"video1",type:"video",active:_i.publishVideo,orientation:Ml.ROTATED_NORMAL,frameRate:_i.frameRate,width:this.videoWidth(),height:this.videoHeight(),e2ee:Pn._.isE2ee(),source:(()=>Ku?"screen":Ju?"custom":"camera")(),fitMode:_i.fitMode}));const Or=bo.getAudioTracks().length>0,Ur=_i.audioSource!==null&&_i.audioSource!==!1;return Ur&&Or&&na.push(new cu({id:"audio1",type:"audio",active:_i.publishAudio})),Ur&&Or&&na.push(new cu({id:"caption1",type:"data",active:_i.publishCaptions})),this._.streamChannels=na,wr.debug("publishToSession: creating rumor stream id"),new nt((Ns,us)=>{Um(null,(Eo,xa,Np)=>{if(Eo){us(ir(Eo));return}Ns({streamId:xa,message:Np})})})}).then(Tn=>{if(Tn===void 0)return;const Fn=Tn.streamId,er=Tn.message;if(wr.debug("publishToSession: rumor stream id created:",Fn,"(this is different from stream#created, which requires media to actually be flowing for mantis sessions)"),Fn!==Gn)throw new Error("streamId response does not match request");this.streamId=Fn,Bp=Al(er)}).catch(Tn=>{throw this.trigger("publishComplete",Tn),Tn});return nt.all([Cn,vr])},unpublishFromSession:(Pn,wn)=>{if(!this.session||Pn.id!==this.session.id){if(wn==="unpublished"){const Gn=this.session&&this.session.id||"no session";wr.warn(`The publisher ${Gp} is trying to unpublish from a session ${Pn.id} it is not attached to (it is attached to ${Gn})`)}return this}if(Pn.isConnected()&&(this.stream||ys.isAttemptingToPublish())&&Pn._.streamDestroy(this.streamId),Yu.releaseAll(),this.disconnect(),ys.isAttemptingToPublish()){qs("Cancel",{reason:"unpublish"});const Gn=()=>{switch(wn){case"mediaStopped":return"The video element fired the ended event, indicating there is an issue with the media";case"unpublished":return"The publisher was unpublished before it could be published";case"reset":return"The publisher was reset";default:return`The publisher was destroyed due to ${wn}`}},Bn=new Error(Gn());this.trigger("publishComplete",$r(wn==="mediaStopped"?Mr.MEDIA_ENDED:Mr.CANCEL,Bn))}return this.session=null,jo("unpublish","Success"),this._.streamDestroyed(wn),this},unpublishStreamFromSession:(Pn,wn,Gn)=>!Gl||Pn.id!==Gl?(wr.warn(`The publisher ${Gp} is trying to destroy a stream ${Pn.id} that is not attached to it (it has ${Gl||"no stream"} attached to it)`),this):this._.unpublishFromSession(wn,Gn),streamDestroyed:Pn=>{["reset"].indexOf(Pn)<0&&(ys.isDestroyed()||ys.set("MediaBound"));const wn=new wo.StreamEvent("streamDestroyed",this.stream,Pn,!0);this.dispatchEventOnce(wn,this.streamId),wn.isDefaultPrevented()||this.destroy()},archivingStatus(Pn){return zl&&zl.setArchivingStatus(Pn),Pn},webRtcStream(){return bo},switchTracks(){return(0,ot.default)(it.default.mark(function Pn(){var wn;return it.default.wrap(function(Bn){for(;;)switch(Bn.prev=Bn.next){case 0:return Bn.prev=0,Bn.next=3,qp().catch(Ap);case 3:wn=Bn.sent,Bn.next=10;break;case 6:throw Bn.prev=6,Bn.t0=Bn.catch(0),wr.error(`OT.Publisher.switchTracks failed to getUserMedia: ${Bn.t0}`),Bn.t0;case 10:C0(wn),Bn.prev=11,jp(),Bn.next=21;break;case 15:if(Bn.prev=15,Bn.t1=Bn.catch(11),!(Bn.t1 instanceof wt)){Bn.next=19;break}return Bn.abrupt("return");case 19:throw wr.error("Error while binding video",Bn.t1),Bn.t1;case 21:Bn.prev=21,x0(),Bn.next=29;break;case 25:throw Bn.prev=25,Bn.t2=Bn.catch(21),wr.error("Error replacing tracks",Bn.t2),Bn.t2;case 29:case"end":return Bn.stop()}},Pn,null,[[0,6],[11,15],[21,25]])}))()},getDataChannel(Pn,wn,Gn){const Bn=np(Object.keys(zu)[0]);if(!Bn){Gn(new rs.Error("Cannot create a DataChannel before there is a subscriber."));return}Bn.then(vr=>{vr.getDataChannel(Pn,wn,Gn)})},iceRestart(Pn){Pn===void 0&&(Pn=!1),bp().then(wn=>{wn.forEach(Gn=>{const Bn=Bl(Gn),vr=Bn.remoteConnectionId;vm("Attempt",{remoteConnectionId:vr}),wr.debug("Publisher: ice restart attempt"),Gn.iceRestart(),Pn&&Gn.generateOffer()})})},getState(){return ys},demoOnlyCycleVideo:this.cycleVideo,testOnlyGetFramesEncoded(){return(0,ot.default)(it.default.mark(function Pn(){var wn;return it.default.wrap(function(Bn){for(;;)switch(Bn.prev=Bn.next){case 0:return Bn.next=2,bp();case 2:if(wn=Bn.sent,wn.length){Bn.next=5;break}throw new Error("No established PeerConnections yet");case 5:return Bn.abrupt("return",wn[0]._testOnlyGetFramesEncoded());case 6:case"end":return Bn.stop()}},Pn)}))()},onStreamAvailable:Gm,startRoutedToRelayedTransition:()=>{dp.startTransitionTo("P2P"),Bm()},startRelayedToRoutedTransition:()=>{dp.startTransitionTo("MANTIS",()=>r0())},forceMuteAudio:(function(){jo("publishAudio","Attempt",{publishAudio:!1}),_i.publishAudio=!1;try{fm("auto"),this.dispatchEvent(new wo.MuteForcedEvent),jo("publishAudio","Success",{publishAudio:!1})}catch(Pn){jo("publishAudio","Failure",{message:Pn.message})}}).bind(this),setCongestionLevel:function(){var Pn=(0,ot.default)(it.default.mark(function Gn(Bn,vr){var ir;return it.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:if(!rm){Tn.next=15;break}if(!vr){Tn.next=8;break}return Tn.next=4,np(vr);case 4:Tn.t1=Tn.sent,Tn.t0=[Tn.t1],Tn.next=11;break;case 8:return Tn.next=10,bp();case 10:Tn.t0=Tn.sent;case 11:ir=Tn.t0,ir.forEach(Fn=>{Fn.setCongestionLevel(Bn)}),Tn.next=16;break;case 15:wr.warn("Audio Fallback is not enabled");case 16:case"end":return Tn.stop()}},Gn)}));function wn(Gn,Bn){return Pn.apply(this,arguments)}return wn}()},this.detectDevices=function(){wr.warn("Publisher.detectDevices() is not implemented.")},this.detectMicActivity=function(){wr.warn("Publisher.detectMicActivity() is not implemented.")},this.getEchoCancellationMode=function(){return wr.warn("Publisher.getEchoCancellationMode() is not implemented."),"fullDuplex"},this.setMicrophoneGain=function(){wr.warn("Publisher.setMicrophoneGain() is not implemented.")},this.getMicrophoneGain=function(){return wr.warn("Publisher.getMicrophoneGain() is not implemented."),.5},this.setCamera=function(){wr.warn("Publisher.setCamera() is not implemented.")},this.setMicrophone=function(){wr.warn("Publisher.setMicrophone() is not implemented.")},this.guid=function(){return Gp},this.videoElement=function(){const Pn=Yo&&Yo.video();return Pn?Pn.domElement():null},this.setStream=Rm,this.isWebRTC=!0,this.isLoading=function(){return Yo&&Yo.loading()},this.videoWidth=()=>cs().width,this.videoHeight=()=>cs().height,this.getStats=function(wn){Xm((Gn,Bn)=>{Gn?wn(Gn):wn(null,Bn)})},this.getRtcStatsReport=()=>new nt((Pn,wn)=>{_c((Gn,Bn)=>{Gn?wn(Gn):Pn(Bn)})}),ys=new Gs(Mo),this.accessAllowed=!1,this.applyVideoFilter=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn,vr,ir,Cn,Tn,Fn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(Bn=xo(Gn),jo("applyVideoFilter","Attempt",{videoFilter:Bn}),Dn.prev=2,!Ys){Dn.next=5;break}throw $r(Mr.NOT_SUPPORTED,new Error("Cannot apply video filter when videoMediaProcessorConnector is set."));case 5:if(vr=fr.isSupported(),vr){Dn.next=8;break}throw $r(Mr.NOT_SUPPORTED,new Error("Browser does not support video filters (Insertable Streams and Worker APIs are required)"));case 8:if(Go.isValidVideoFilter(Gn)){Dn.next=10;break}throw $r(Mr.INVALID_PARAMETER,new Error("Video filter has invalid configuration"));case 10:if(bo){Dn.next=15;break}return ir="Ignoring. No mediaStream",jo("applyVideoFilter","Failure",{message:ir}),wr.warn(ir),Dn.abrupt("return");case 15:if(!Ku){Dn.next=17;break}throw $r(Mr.INVALID_PARAMETER,new Error("Video filters can not be applied to screen share"));case 17:if(xm(),_i.publishVideo){Dn.next=22;break}return Hl=Gn,jo("applyVideoFilter","Success",{videoFilter:Bn}),Dn.abrupt("return");case 22:if(!Go.getVideoFilter()){Dn.next=37;break}if(!Go.canUpdateVideoFilter(Gn.type)){Dn.next=35;break}return Dn.prev=24,Dn.next=27,Go.updateVideoFilter(Gn);case 27:return Hl=Gn,jo("applyVideoFilter","Success",{videoFilter:Bn}),Dn.abrupt("return");case 32:Dn.prev=32,Dn.t0=Dn.catch(24),wr.warn(`Error updating video filter: ${Dn.t0}`);case 35:return Dn.next=37,ms.clearVideoFilter();case 37:if(Cn=bo.getVideoTracks(),Tn=Cn[0],Tn){Dn.next=43;break}return ir="Ignoring. No video",jo("applyVideoFilter","Failure",{message:ir}),wr.warn(ir),Dn.abrupt("return");case 43:return Dn.next=45,Go.setVideoFilter(Gn);case 45:return Dn.next=47,Go.setMediaStream(bo);case 47:if(Fn=Dn.sent,!Fn){Dn.next=51;break}return Dn.next=51,im(Tn,Fn);case 51:Dn.next=58;break;case 53:throw Dn.prev=53,Dn.t1=Dn.catch(2),wr.error(`Error applying video filter: ${Dn.t1}`),jo("applyVideoFilter","Failure",{message:Dn.t1.message}),Dn.t1;case 58:Hl=Gn,jo("applyVideoFilter","Success",{videoFilter:Bn});case 60:case"end":return Dn.stop()}},wn,null,[[2,53],[24,32]])}));return function(wn){return Pn.apply(this,arguments)}}(),this.getVideoFilter=()=>(jo("getVideoFilter","Attempt"),jo("getVideoFilter","Success"),Hl||null),this.setVideoMediaProcessorConnector=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn,vr,ir,Cn,Tn,Fn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(jo("setVideoMediaProcessorConnector","Attempt",{message:Gn?"setting the connector":"clearing the connector"}),!ms.getVideoFilter()){Dn.next=4;break}throw jo("setVideoMediaProcessorConnector","Failure",{message:"Tried to set video MediaProcessorConnector when video filter applied."}),$r(Mr.NOT_SUPPORTED,new Error("setVideoMediaProcessorConnector: Cannot use this method when videoFilter is set."));case 4:if(!Ys){Dn.next=14;break}return Bn=bo.getVideoTracks(),vr=Bn[0],Dn.next=8,Cm(yu);case 8:return ir=Dn.sent,Dn.next=11,im(vr,ir);case 11:Ys.destroy(),Ys.stopOriginalTrack(),Ys=null;case 14:if(Gn){Dn.next=17;break}return jo("setVideoMediaProcessorConnector","Success",{message:"clearing the connector"}),Dn.abrupt("return");case 17:if(Wr.isValidConnector(Gn)){Dn.next=20;break}throw jo("setVideoMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),$r(Mr.INVALID_PARAMETER,new Error("setVideoMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 20:if(Ys=new Wr(Gn),Cn=bo.getVideoTracks(),Tn=Cn[0],Tn){Dn.next=28;break}return Fn="Connector not set as no video track is present.",jo("setVideoMediaProcessorConnector","Failure",{message:Fn}),wr.warn(`setVideoMediaProcessorConnector: ${Fn}`),Ys=null,Dn.abrupt("return");case 28:return Dn.prev=28,Dn.next=31,Ys.setTrack(Tn);case 31:return vr=Dn.sent,Dn.next=34,im(Tn,vr);case 34:Dn.next=42;break;case 36:throw Dn.prev=36,Dn.t0=Dn.catch(28),Ys=null,wr.error(`setVideoMediaProcessorConnector: Error getting track from MediaProcessorConnector: ${Dn.t0}`),jo("setVideoMediaProcessorConnector","Failure",{message:Dn.t0.message}),Dn.t0;case 42:jo("setVideoMediaProcessorConnector","Success");case 43:case"end":return Dn.stop()}},wn,null,[[28,36]])}));return function(wn){return Pn.apply(this,arguments)}}(),this.setAudioMediaProcessorConnector=function(){var Pn=(0,ot.default)(it.default.mark(function wn(Gn){var Bn,vr,ir,Cn,Tn;return it.default.wrap(function(er){for(;;)switch(er.prev=er.next){case 0:if(jo("setAudioMediaProcessorConnector","Attempt",{message:Gn?"setting the connector":"clearing the connector"}),!Vn){er.next=7;break}return Bn=bo.getAudioTracks(),vr=Bn[0],er.next=5,km(vr,Vn.originalTrack);case 5:Vn.destroy(),Vn=null;case 7:if(Gn){er.next=10;break}return jo("setAudioMediaProcessorConnector","Success",{message:"clearing the connector"}),er.abrupt("return");case 10:if(Wr.isValidConnector(Gn)){er.next=13;break}throw jo("setAudioMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),$r(Mr.INVALID_PARAMETER,new Error("setAudioMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 13:if(ir=bo.getAudioTracks(),Cn=ir[0],Cn){er.next=20;break}return Tn="Connector not set as no audio track is present.",jo("setAudioMediaProcessorConnector","Failure",{message:Tn}),wr.warn(`setAudioMediaProcessorConnector: ${Tn}`),Vn=null,er.abrupt("return");case 20:return Vn=new Wr(Gn),er.prev=21,er.next=24,Vn.setTrack(Cn);case 24:return vr=er.sent,er.next=27,km(ms.getAudioSource(),vr);case 27:er.next=35;break;case 29:throw er.prev=29,er.t0=er.catch(21),Vn=null,wr.error(`setAudioMediaProcessorConnector: Error getting track from MediaProcessorConnector: ${er.t0}`),jo("setAudioMediaProcessorConnector","Failure",{message:er.t0.message}),er.t0;case 35:jo("setAudioMediaProcessorConnector","Success");case 36:case"end":return er.stop()}},wn,null,[[21,29]])}));return function(wn){return Pn.apply(this,arguments)}}(),this.clearVideoFilter=(0,ot.default)(it.default.mark(function Pn(){var wn,Gn,Bn,vr,ir;return it.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:if(jo("clearVideoFilter","Attempt"),!(!_i.publishVideo&&!Go.getVideoFilter())){Tn.next=5;break}return Hl=null,jo("clearVideoFilter","Success"),Tn.abrupt("return");case 5:if(!(!Go.getVideoFilter()&&!Hl)){Tn.next=10;break}return wn="Ignoring. No video filter applied",jo("clearVideoFilter","Success",{message:wn}),wr.debug(wn),Tn.abrupt("return");case 10:if(fr.isSupported()){Tn.next=15;break}return wn='Ignoring. "clearVideoFilter" not supported.',jo("clearVideoFilter","Success",{message:wn}),wr.warn(wn),Tn.abrupt("return");case 15:if(bo){Tn.next=20;break}return wn="Ignoring. No mediaStream",jo("clearVideoFilter","Success",{message:wn}),wr.warn(wn),Tn.abrupt("return");case 20:return Gn=Hl,Hl=null,Bn=bo.getVideoTracks(),vr=Bn[0],Tn.prev=23,Tn.next=26,Cm(yu);case 26:ir=Tn.sent,Tn.next=33;break;case 29:return Tn.prev=29,Tn.t0=Tn.catch(23),wr.error(Tn.t0),Tn.abrupt("return");case 33:if(ir){Tn.next=36;break}return wr.warn("Failed to clear filter because there is no video track."),Tn.abrupt("return");case 36:return Tn.prev=36,Tn.next=39,im(vr,ir);case 39:return Tn.next=41,nm();case 41:Tn.next=46;break;case 43:Tn.prev=43,Tn.t1=Tn.catch(36),Hl=Gn;case 46:jo("clearVideoFilter","Success");case 47:case"end":return Tn.stop()}},Pn,null,[[23,29],[36,43]])}))}}}).call(this,et(2))},function(_e,tt,et){const nt=et(52).once;_e.exports=function(it,ot){ot===void 0&&(ot={});const st=ot.hasE2eeCapability||et(110),at=ot.hasOpenTokSupport||nt;this.publish=it.indexOf("publish")!==-1?1:0,this.subscribe=it.indexOf("subscribe")!==-1?1:0,this.forceUnpublish=it.indexOf("forceunpublish")!==-1?1:0,this.forceDisconnect=it.indexOf("forcedisconnect")!==-1?1:0,this.forceMute=it.indexOf("forcemute")!==-1?1:0,this.supportsE2ee=st()?1:0,this.supportsWebRTC=at()?1:0,this.permittedTo=ct=>Object.prototype.hasOwnProperty.call(this,ct)&&this[ct]===1}},function(_e,tt,et){const nt=et(0)("Stream"),rt=et(8),it=et(22),ot=et(6),st=et(24)(),at=["name","archiving"];_e.exports=function(lt,dt,ut,ft,pt,vt,Ct){const ht=this;let mt;this.id=lt,this.streamId=lt,this.name=dt,this.creationTime=Number(ut),this.initials=Ct||"",this.connection=ft,this.channel=vt,this.publisher=it.publishers.find({streamId:this.id}),ot(this);const yt=function(wt,Zt,qt,zt){let Bt=Zt;switch(Bt){case"active":Bt=wt.type==="audio"?"hasAudio":"hasVideo",ht[Bt]=zt;break;case"disableWarning":if(Bt=wt.type==="audio"?"audioDisableWarning":"videoDisableWarning",ht[Bt]=zt,!ht[wt.type==="audio"?"hasAudio":"hasVideo"])return;break;case"fitMode":Bt="defaultFitMode",ht[Bt]=zt;break;case"source":Bt=wt.type==="audio"?"audioType":"videoType",ht[Bt]=zt;break;case"videoDimensions":ht.videoDimensions=zt;break;case"orientation":case"width":case"height":return}ht.dispatchEvent(new st.StreamUpdatedEvent(ht,Bt,qt,zt))},Et=function(){return ht.publisher?ht.publisher:it.subscribers.find(wt=>wt.stream&&wt.stream.id===ht.id&&wt.session.id===pt.id)},Rt=function(){return!ht.publisher};this.getChannelsOfType=function(wt){return ht.channel.filter(Zt=>Zt.type===wt)},this.getChannel=function(wt){for(let Zt=0;Zt<ht.channel.length;++Zt)if(ht.channel[Zt].id===wt)return ht.channel[Zt];return null};const Pt=this.getChannelsOfType("audio")[0],Vt=this.getChannelsOfType("video")[0];this.hasAudio=Pt!=null&&Pt.active,this.hasVideo=Vt!=null&&Vt.active,this.videoType=Vt&&Vt.source,this.defaultFitMode=Vt&&Vt.fitMode,this.videoDimensions={},Vt&&(this.videoDimensions.width=Vt.width,this.videoDimensions.height=Vt.height,this.videoDimensions.orientation=Vt.orientation,Vt.on("update",yt),this.frameRate=Vt.frameRate),Pt&&Pt.on("update",yt),this.setChannelActiveState=function(wt,Zt,qt,zt,Bt){const sn={active:Zt};qt&&(sn.activeReason=qt),zt!==void 0&&(sn.congestionLevel=zt),Bt&&(sn.subscriberId=Bt),Nt(wt,sn)},this.setVideoDimensions=function(wt,Zt){Nt("video",{width:wt,height:Zt,orientation:0})},this.setRestrictFrameRate=function(wt){Nt("video",{restrictFrameRate:wt})},this.setPreferredResolution=function(wt){if(!Rt()){nt.warn("setPreferredResolution has no affect when called by a publisher");return}if(pt.sessionInfo.p2pEnabled){nt.warn("Stream.setPreferredResolution will not work in a P2P Session");return}if(wt&&wt.width===void 0&&wt.height===void 0)return;const Zt=ht.getChannelsOfType("video")[0];if(Zt){if(wt&&wt.width){if(isNaN(parseInt(wt.width,10)))throw new rt.Error("stream preferred width must be an integer","Subscriber");Zt.preferredWidth=parseInt(wt.width,10)}else Zt.preferredWidth=void 0;if(wt&&wt.height){if(isNaN(parseInt(wt.height,10)))throw new rt.Error("stream preferred height must be an integer","Subscriber");Zt.preferredHeight=parseInt(wt.height,10)}else Zt.preferredHeight=void 0;pt._.subscriberChannelUpdate(ht,Et(),Zt,{preferredWidth:Zt.preferredWidth||0,preferredHeight:Zt.preferredHeight||0})}},this.getPreferredResolution=function(){const wt=ht.getChannelsOfType("video")[0];if(!(!wt||!wt.preferredWidth&&!wt.preferredHeight))return{width:wt.preferredWidth,height:wt.preferredHeight}},this.setPreferredFrameRate=function(wt){if(!Rt()){nt.warn("setPreferredFrameRate has no affect when called by a publisher");return}if(pt.sessionInfo.p2pEnabled){nt.warn("Stream.setPreferredFrameRate will not work in a P2P Session");return}if(wt&&isNaN(parseFloat(wt)))throw new rt.Error("stream preferred frameRate must be a number","Subscriber");const Zt=ht.getChannelsOfType("video")[0];Zt&&(Zt.preferredFrameRate=wt?parseFloat(wt):null,pt._.subscriberChannelUpdate(ht,Et(),Zt,{preferredFrameRate:Zt.preferredFrameRate||0}))},this.getPreferredFrameRate=function(){const wt=ht.getChannelsOfType("video")[0];return wt?wt.preferredFrameRate:null};let Nt=function(wt,Zt){let qt;if(ht.publisher)qt=zt=>pt._.streamChannelUpdate(ht,zt,Zt);else{const zt=Et();qt=Bt=>pt._.subscriberChannelUpdate(ht,zt,Bt,Zt)}ht.getChannelsOfType(wt).forEach(qt)};this.destroyed=!1,this.destroyedReason=void 0,this.destroy=function(wt,Zt){wt===void 0&&(wt="clientDisconnected"),mt=wt,ht.destroyed=!0,ht.destroyedReason=mt,Zt!==!0&&ht.dispatchEvent(new st.DestroyedEvent("destroyed",ht,mt))},this._={},this._.updateProperty=function(wt,Zt){if(at.indexOf(wt)===-1){nt.warn(`Unknown stream property "${wt}" was modified to "${Zt}".`);return}const qt=ht[wt],zt=Zt;switch(wt){case"name":ht[wt]=zt;break;case"archiving":var Bt=Et();ht.publisher&&Bt&&Bt._.archivingStatus(zt),ht[wt]=zt;break}const sn=new st.StreamUpdatedEvent(ht,wt,qt,zt);ht.dispatchEvent(sn)},this._.update=function(wt){for(const Zt in wt)wt.hasOwnProperty(Zt)&&ht._.updateProperty(Zt,wt[Zt])},this._.forceMute=function(wt){wt.hasOwnProperty("channels")&&wt.channels.includes("audio")&&ht.publisher&&ht.publisher._.forceMuteAudio()},this._.updateChannel=function(wt,Zt){const qt=ht.getChannel(wt);qt&&qt.update(Zt)}}},function(_e,tt,et){tt.__esModule=!0,tt.UNSUBSCRIBE=tt.SUBSCRIBE=tt.STATUS=tt.PONG=tt.PING=tt.MESSAGE=tt.DISCONNECT=tt.CONNECT=void 0;const nt=0;tt.SUBSCRIBE=nt;const rt=1;tt.UNSUBSCRIBE=rt;const it=2;tt.MESSAGE=it;const ot=3;tt.CONNECT=ot;const st=4;tt.DISCONNECT=st;const at=7;tt.PING=at;const ct=8;tt.PONG=ct;const lt=9;tt.STATUS=lt},function(_e,tt,et){const nt=et(9),rt=et(170),it=et(6),ot=et(24)(),st=et(765);function at(ct,lt,dt,ut,ft){let pt;this.id=ct,this.connectionId=ct,this.creationTime=lt?Number(lt):null,this.data=dt,this.capabilities=st(ut),this.permissions=new rt(ft),this.quality=null,it(this),this.destroy=(vt,Ct)=>{pt=vt||"clientDisconnected",Ct!==!0&&this.dispatchEvent(new ot.DestroyedEvent("destroyed",this,pt))},this.destroyed=()=>pt!==void 0,this.destroyedReason=()=>pt}at.fromHash=ct=>{let lt=ct.id,dt=ct.creationTime,ut=ct.data,ft=ct.capablities,pt=ct.permissions;return new at(lt,dt,ut,nt(ft||{},{supportsWebRTC:!0}),pt||[])},_e.exports=at},function(_e,tt){var et=typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)&&(typeof window!==void 0?window:commonjsGlobal).Object===Object&&(typeof window!==void 0?window:commonjsGlobal);_e.exports=et},function(_e,tt){var et=Function.prototype,nt=et.toString;function rt(it){if(it!=null){try{return nt.call(it)}catch{}try{return it+""}catch{}}return""}_e.exports=rt},function(_e,tt,et){var nt=et(39),rt=function(){try{var it=nt(Object,"defineProperty");return it({},"",{}),it}catch{}}();_e.exports=rt},function(_e,tt,et){var nt=et(41),rt=et(31);function it(ot,st){return ot&&nt(st,rt(st),ot)}_e.exports=it},function(_e,tt,et){var nt=et(385),rt=et(64),it=et(12),ot=et(65),st=et(66),at=et(86),ct=Object.prototype,lt=ct.hasOwnProperty;function dt(ut,ft){var pt=it(ut),vt=!pt&&rt(ut),Ct=!pt&&!vt&&ot(ut),ht=!pt&&!vt&&!Ct&&at(ut),mt=pt||vt||Ct||ht,yt=mt?nt(ut.length,String):[],Et=yt.length;for(var Rt in ut)(ft||lt.call(ut,Rt))&&!(mt&&(Rt=="length"||Ct&&(Rt=="offset"||Rt=="parent")||ht&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||st(Rt,Et)))&&yt.push(Rt);return yt}_e.exports=dt},function(_e,tt){function et(nt,rt){return function(it){return nt(rt(it))}}_e.exports=et},function(_e,tt,et){(function(nt){var rt=et(15),it=tt&&!tt.nodeType&&tt,ot=it&&typeof nt=="object"&&nt&&!nt.nodeType&&nt,st=ot&&ot.exports===it,at=st?rt.Buffer:void 0,ct=at?at.allocUnsafe:void 0;function lt(dt,ut){if(ut)return dt.slice();var ft=dt.length,pt=ct?ct(ft):new dt.constructor(ft);return dt.copy(pt),pt}nt.exports=lt}).call(this,et(85)(_e))},function(_e,tt){function et(){return[]}_e.exports=et},function(_e,tt,et){var nt=et(118),rt=et(119),it=et(117),ot=et(181),st=Object.getOwnPropertySymbols,at=st?function(ct){for(var lt=[];ct;)nt(lt,it(ct)),ct=rt(ct);return lt}:ot;_e.exports=at},function(_e,tt,et){var nt=et(184),rt=et(117),it=et(31);function ot(st){return nt(st,it,rt)}_e.exports=ot},function(_e,tt,et){var nt=et(118),rt=et(12);function it(ot,st,at){var ct=st(ot);return rt(ot)?ct:nt(ct,at(ot))}_e.exports=it},function(_e,tt,et){var nt=et(184),rt=et(182),it=et(54);function ot(st){return nt(st,it,rt)}_e.exports=ot},function(_e,tt,et){var nt=et(39),rt=et(15),it=nt(rt,"Set");_e.exports=it},function(_e,tt,et){var nt=et(39),rt=et(15),it=nt(rt,"WeakMap");_e.exports=it},function(_e,tt,et){var nt=et(15),rt=nt.Uint8Array;_e.exports=rt},function(_e,tt,et){var nt=et(120);function rt(it,ot){var st=ot?nt(it.buffer):it.buffer;return new it.constructor(st,it.byteOffset,it.length)}_e.exports=rt},function(_e,tt,et){var nt=et(87),rt=et(119),it=et(68);function ot(st){return typeof st.constructor=="function"&&!it(st)?nt(rt(st)):{}}_e.exports=ot},function(_e,tt,et){var nt=et(112),rt="Expected a function";function it(ot,st){if(typeof ot!="function"||st!=null&&typeof st!="function")throw new TypeError(rt);var at=function(){var ct=arguments,lt=st?st.apply(this,ct):ct[0],dt=at.cache;if(dt.has(lt))return dt.get(lt);var ut=ot.apply(this,ct);return at.cache=dt.set(lt,ut)||dt,ut};return at.cache=new(it.Cache||nt),at}it.Cache=nt,_e.exports=it},function(_e,tt,et){var nt=et(88),rt=et(124);function it(ot){return nt(function(st,at){var ct=-1,lt=at.length,dt=lt>1?at[lt-1]:void 0,ut=lt>2?at[2]:void 0;for(dt=ot.length>3&&typeof dt=="function"?(lt--,dt):void 0,ut&&rt(at[0],at[1],ut)&&(dt=lt<3?void 0:dt,lt=1),st=Object(st);++ct<lt;){var ft=at[ct];ft&&ot(st,ft,ct,dt)}return st})}_e.exports=it},function(_e,tt,et){var nt=et(122),rt=Math.max;function it(ot,st,at){return st=rt(st===void 0?ot.length-1:st,0),function(){for(var ct=arguments,lt=-1,dt=rt(ct.length-st,0),ut=Array(dt);++lt<dt;)ut[lt]=ct[st+lt];lt=-1;for(var ft=Array(st+1);++lt<st;)ft[lt]=ct[lt];return ft[st]=at(ut),nt(ot,this,ft)}}_e.exports=it},function(_e,tt){var et=800,nt=16,rt=Date.now;function it(ot){var st=0,at=0;return function(){var ct=rt(),lt=nt-(ct-at);if(at=ct,lt>0){if(++st>=et)return arguments[0]}else st=0;return ot.apply(void 0,arguments)}}_e.exports=it},function(_e,tt,et){_e.exports=et(413)()?WeakMap:et(414)},function(_e,tt,et){var nt=Object.create,rt=Object.getPrototypeOf,it={};_e.exports=function(){var ot=Object.setPrototypeOf,st=arguments[0]||nt;return typeof ot!="function"?!1:rt(ot(st(null),it))===it}},function(_e,tt,et){var nt=et(198),rt=et(32),it=Object.prototype.isPrototypeOf,ot=Object.defineProperty,st={configurable:!0,enumerable:!1,writable:!0,value:void 0},at;at=function(ct,lt){if(rt(ct),lt===null||nt(lt))return ct;throw new TypeError("Prototype must be null or an object")},_e.exports=function(ct){var lt,dt;return ct?(ct.level===2?ct.set?(dt=ct.set,lt=function(ut,ft){return dt.call(at(ut,ft),ft),ut}):lt=function(ut,ft){return at(ut,ft).__proto__=ft,ut}:lt=function ut(ft,pt){var vt;return at(ft,pt),vt=it.call(ut.nullPolyfill,ft),vt&&delete ut.nullPolyfill.__proto__,pt===null&&(pt=ut.nullPolyfill),ft.__proto__=pt,vt&&ot(ut.nullPolyfill,"__proto__",st),ft},Object.defineProperty(lt,"level",{configurable:!1,enumerable:!1,writable:!1,value:ct.level})):null}(function(){var ct=Object.create(null),lt={},dt,ut=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(ut){try{dt=ut.set,dt.call(ct,lt)}catch{}if(Object.getPrototypeOf(ct)===lt)return{set:dt,level:2}}return ct.__proto__=lt,Object.getPrototypeOf(ct)===lt?{level:2}:(ct={},ct.__proto__=lt,Object.getPrototypeOf(ct)===lt?{level:1}:!1)}()),et(416)},function(_e,tt,et){var nt=et(44),rt={function:!0,object:!0};_e.exports=function(it){return nt(it)&&rt[typeof it]||!1}},function(_e,tt,et){var nt=et(419),rt=/^\s*class[\s{/}]/,it=Function.prototype.toString;_e.exports=function(ot){return!(!nt(ot)||rt.test(it.call(ot)))}},function(_e,tt,et){var nt=et(44),rt=Array.prototype.forEach,it=Object.create,ot=function(st,at){var ct;for(ct in st)at[ct]=st[ct]};_e.exports=function(st){var at=it(null);return rt.call(arguments,function(ct){nt(ct)&&ot(Object(ct),at)}),at}},function(_e,tt,et){_e.exports=et(426)()?String.prototype.contains:et(427)},function(_e,tt,et){var nt=et(90),rt=et(91),it=et(428),ot=et(457),st=et(458),at=et(45).iterator;_e.exports=function(ct){return typeof st(ct)[at]=="function"?ct[at]():nt(ct)?new it(ct):rt(ct)?new ot(ct):new it(ct)}},function(_e,tt,et){var nt=et(433);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not a symbol");return rt}},function(_e,tt,et){var nt=et(437),rt=et(127),it=et(69),ot=et(32),st=et(33),at=et(438),ct=et(45),lt=Object.defineProperty,dt=Object.defineProperties,ut;_e.exports=ut=function(ft,pt){if(!(this instanceof ut))throw new TypeError("Constructor requires 'new'");dt(this,{__list__:st("w",ot(ft)),__context__:st("w",pt),__nextIndex__:st("w",0)}),pt&&(it(pt.on),pt.on("_add",this._onAdd),pt.on("_delete",this._onDelete),pt.on("_clear",this._onClear))},delete ut.prototype.constructor,dt(ut.prototype,rt({_next:st(function(){var ft;if(this.__list__){if(this.__redo__&&(ft=this.__redo__.shift(),ft!==void 0))return ft;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:st(function(){return this._createResult(this._next())}),_createResult:st(function(ft){return ft===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(ft)}}),_resolve:st(function(ft){return this.__list__[ft]}),_unBind:st(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:st(function(){return"[object "+(this[ct.toStringTag]||"Object")+"]"})},at({_onAdd:st(function(ft){if(!(ft>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){lt(this,"__redo__",st("c",[ft]));return}this.__redo__.forEach(function(pt,vt){pt>=ft&&(this.__redo__[vt]=++pt)},this),this.__redo__.push(ft)}}),_onDelete:st(function(ft){var pt;ft>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(pt=this.__redo__.indexOf(ft),pt!==-1&&this.__redo__.splice(pt,1),this.__redo__.forEach(function(vt,Ct){vt>ft&&(this.__redo__[Ct]=--vt)},this)))}),_onClear:st(function(){this.__redo__&&nt.call(this.__redo__),this.__nextIndex__=0})}))),lt(ut.prototype,ct.iterator,st(function(){return this}))},function(_e,tt,et){var nt=et(56),rt=et(126),it=et(440),ot=et(441),st=function(at,ct){return at.replace("%v",ot(ct))};_e.exports=function(at,ct,lt){if(!rt(lt))throw new TypeError(st(ct,at));if(!nt(at)){if("default"in lt)return lt.default;if(lt.isOptional)return null}var dt=it(lt.errorMessage);throw nt(dt)||(dt=ct),new TypeError(st(dt,at))}},function(_e,tt){function et(nt,rt,it,ot){for(var st=nt.length,at=it+(ot?1:-1);ot?at--:++at<st;)if(rt(nt[at],at,nt))return at;return-1}_e.exports=et},function(_e,tt,et){_e.exports=et(469)},function(_e,tt,et){_e.exports=function(rt,it){return function(){for(var st=new Array(arguments.length),at=0;at<st.length;at++)st[at]=arguments[at];return rt.apply(it,st)}}},function(_e,tt,et){var nt=et(19);function rt(it){return encodeURIComponent(it).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}_e.exports=function(ot,st,at){if(!st)return ot;var ct;if(at)ct=at(st);else if(nt.isURLSearchParams(st))ct=st.toString();else{var lt=[];nt.forEach(st,function(ft,pt){ft===null||typeof ft>"u"||(nt.isArray(ft)?pt=pt+"[]":ft=[ft],nt.forEach(ft,function(Ct){nt.isDate(Ct)?Ct=Ct.toISOString():nt.isObject(Ct)&&(Ct=JSON.stringify(Ct)),lt.push(rt(pt)+"="+rt(Ct))}))}),ct=lt.join("&")}if(ct){var dt=ot.indexOf("#");dt!==-1&&(ot=ot.slice(0,dt)),ot+=(ot.indexOf("?")===-1?"?":"&")+ct}return ot}},function(_e,tt,et){_e.exports=function(rt,it,ot,st,at){return rt.config=it,ot&&(rt.code=ot),rt.request=st,rt.response=at,rt.isAxiosError=!0,rt.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},rt}},function(_e,tt,et){(function(nt){var rt=et(19),it=et(475),ot=et(476),st=et(209),at=et(477),ct=et(480),lt=et(481),dt=et(212);_e.exports=function(ft){return new nt(function(vt,Ct){var ht=ft.data,mt=ft.headers,yt=ft.responseType;rt.isFormData(ht)&&delete mt["Content-Type"];var Et=new XMLHttpRequest;if(ft.auth){var Rt=ft.auth.username||"",Pt=ft.auth.password?unescape(encodeURIComponent(ft.auth.password)):"";mt.Authorization="Basic "+btoa(Rt+":"+Pt)}var Vt=at(ft.baseURL,ft.url);Et.open(ft.method.toUpperCase(),st(Vt,ft.params,ft.paramsSerializer),!0),Et.timeout=ft.timeout;function Nt(){if(Et){var wt="getAllResponseHeaders"in Et?ct(Et.getAllResponseHeaders()):null,Zt=!yt||yt==="text"||yt==="json"?Et.responseText:Et.response,qt={data:Zt,status:Et.status,statusText:Et.statusText,headers:wt,config:ft,request:Et};it(vt,Ct,qt),Et=null}}if("onloadend"in Et?Et.onloadend=Nt:Et.onreadystatechange=function(){!Et||Et.readyState!==4||Et.status===0&&!(Et.responseURL&&Et.responseURL.indexOf("file:")===0)||setTimeout(Nt)},Et.onabort=function(){Et&&(Ct(dt("Request aborted",ft,"ECONNABORTED",Et)),Et=null)},Et.onerror=function(){Ct(dt("Network Error",ft,null,Et)),Et=null},Et.ontimeout=function(){var Zt="timeout of "+ft.timeout+"ms exceeded";ft.timeoutErrorMessage&&(Zt=ft.timeoutErrorMessage),Ct(dt(Zt,ft,ft.transitional&&ft.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Et)),Et=null},rt.isStandardBrowserEnv()){var kt=(ft.withCredentials||lt(Vt))&&ft.xsrfCookieName?ot.read(ft.xsrfCookieName):void 0;kt&&(mt[ft.xsrfHeaderName]=kt)}"setRequestHeader"in Et&&rt.forEach(mt,function(Zt,qt){typeof ht>"u"&&qt.toLowerCase()==="content-type"?delete mt[qt]:Et.setRequestHeader(qt,Zt)}),rt.isUndefined(ft.withCredentials)||(Et.withCredentials=!!ft.withCredentials),yt&&yt!=="json"&&(Et.responseType=ft.responseType),typeof ft.onDownloadProgress=="function"&&Et.addEventListener("progress",ft.onDownloadProgress),typeof ft.onUploadProgress=="function"&&Et.upload&&Et.upload.addEventListener("progress",ft.onUploadProgress),ft.cancelToken&&ft.cancelToken.promise.then(function(Zt){Et&&(Et.abort(),Ct(Zt),Et=null)}),ht||(ht=null),Et.send(ht)})}}).call(this,et(2))},function(_e,tt,et){var nt=et(210);_e.exports=function(it,ot,st,at,ct){var lt=new Error(it);return nt(lt,ot,st,at,ct)}},function(_e,tt,et){_e.exports=function(rt){return!!(rt&&rt.__CANCEL__)}},function(_e,tt,et){var nt=et(19);_e.exports=function(it,ot){ot=ot||{};var st={},at=["url","method","data"],ct=["headers","auth","proxy","params"],lt=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],dt=["validateStatus"];function ut(Ct,ht){return nt.isPlainObject(Ct)&&nt.isPlainObject(ht)?nt.merge(Ct,ht):nt.isPlainObject(ht)?nt.merge({},ht):nt.isArray(ht)?ht.slice():ht}function ft(Ct){nt.isUndefined(ot[Ct])?nt.isUndefined(it[Ct])||(st[Ct]=ut(void 0,it[Ct])):st[Ct]=ut(it[Ct],ot[Ct])}nt.forEach(at,function(ht){nt.isUndefined(ot[ht])||(st[ht]=ut(void 0,ot[ht]))}),nt.forEach(ct,ft),nt.forEach(lt,function(ht){nt.isUndefined(ot[ht])?nt.isUndefined(it[ht])||(st[ht]=ut(void 0,it[ht])):st[ht]=ut(void 0,ot[ht])}),nt.forEach(dt,function(ht){ht in ot?st[ht]=ut(it[ht],ot[ht]):ht in it&&(st[ht]=ut(void 0,it[ht]))});var pt=at.concat(ct).concat(lt).concat(dt),vt=Object.keys(it).concat(Object.keys(ot)).filter(function(ht){return pt.indexOf(ht)===-1});return nt.forEach(vt,ft),st}},function(_e,tt,et){function nt(rt){this.message=rt}nt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},nt.prototype.__CANCEL__=!0,_e.exports=nt},function(_e,tt,et){var nt=et(488),rt=et(490);function it(ot,st,at){return nt(rt,ot,st,at)}_e.exports=it},function(_e,tt,et){var nt=et(89),rt=et(218),it=rt?function(ot,st){return rt.set(ot,st),ot}:nt;_e.exports=it},function(_e,tt,et){var nt=et(187),rt=nt&&new nt;_e.exports=rt},function(_e,tt,et){var nt=et(220),rt=et(221),it=et(494),ot=et(96),st=et(222),at=et(228),ct=et(503),lt=et(137),dt=et(15),ut=1,ft=2,pt=8,vt=16,Ct=128,ht=512;function mt(yt,Et,Rt,Pt,Vt,Nt,kt,wt,Zt,qt){var zt=Et&Ct,Bt=Et&ut,sn=Et&ft,mn=Et&(pt|vt),En=Et&ht,cn=sn?void 0:ot(yt);function xn(){for(var bn=arguments.length,gn=Array(bn),vn=bn;vn--;)gn[vn]=arguments[vn];if(mn)var Wn=at(xn),Un=it(gn,Wn);if(Pt&&(gn=nt(gn,Pt,Vt,mn)),Nt&&(gn=rt(gn,Nt,kt,mn)),bn-=Un,mn&&bn<qt){var Sn=lt(gn,Wn);return st(yt,Et,mt,xn.placeholder,Rt,gn,Sn,wt,Zt,qt-bn)}var On=Bt?Rt:this,Ln=sn?On[yt]:yt;return bn=gn.length,wt?gn=ct(gn,wt):En&&bn>1&&gn.reverse(),zt&&Zt<bn&&(gn.length=Zt),this&&this!==dt&&this instanceof xn&&(Ln=cn||ot(Ln)),Ln.apply(On,gn)}return xn}_e.exports=mt},function(_e,tt){var et=Math.max;function nt(rt,it,ot,st){for(var at=-1,ct=rt.length,lt=ot.length,dt=-1,ut=it.length,ft=et(ct-lt,0),pt=Array(ut+ft),vt=!st;++dt<ut;)pt[dt]=it[dt];for(;++at<lt;)(vt||at<ct)&&(pt[ot[at]]=rt[at]);for(;ft--;)pt[dt++]=rt[at++];return pt}_e.exports=nt},function(_e,tt){var et=Math.max;function nt(rt,it,ot,st){for(var at=-1,ct=rt.length,lt=-1,dt=ot.length,ut=-1,ft=it.length,pt=et(ct-dt,0),vt=Array(pt+ft),Ct=!st;++at<pt;)vt[at]=rt[at];for(var ht=at;++ut<ft;)vt[ht+ut]=it[ut];for(;++lt<dt;)(Ct||at<ct)&&(vt[ht+ot[lt]]=rt[at++]);return vt}_e.exports=nt},function(_e,tt,et){var nt=et(495),rt=et(226),it=et(227),ot=1,st=2,at=4,ct=8,lt=32,dt=64;function ut(ft,pt,vt,Ct,ht,mt,yt,Et,Rt,Pt){var Vt=pt&ct,Nt=Vt?yt:void 0,kt=Vt?void 0:yt,wt=Vt?mt:void 0,Zt=Vt?void 0:mt;pt|=Vt?lt:dt,pt&=~(Vt?dt:lt),pt&at||(pt&=~(ot|st));var qt=[ft,pt,ht,wt,Nt,Zt,kt,Et,Rt,Pt],zt=vt.apply(void 0,qt);return nt(ft)&&rt(zt,qt),zt.placeholder=Ct,it(zt,ft,pt)}_e.exports=ut},function(_e,tt,et){var nt=et(218),rt=et(224),it=nt?function(ot){return nt.get(ot)}:rt;_e.exports=it},function(_e,tt){function et(){}_e.exports=et},function(_e,tt,et){var nt=et(87),rt=et(136);function it(ot,st){this.__wrapped__=ot,this.__actions__=[],this.__chain__=!!st,this.__index__=0,this.__values__=void 0}it.prototype=nt(rt.prototype),it.prototype.constructor=it,_e.exports=it},function(_e,tt,et){var nt=et(217),rt=et(194),it=rt(nt);_e.exports=it},function(_e,tt,et){var nt=et(500),rt=et(501),it=et(123),ot=et(502);function st(at,ct,lt){var dt=ct+"";return it(at,rt(dt,ot(nt(dt),lt)))}_e.exports=st},function(_e,tt){function et(nt){var rt=nt;return rt.placeholder}_e.exports=et},function(_e,tt,et){var nt=et(507),rt=et(11),it=et(70),ot=0/0,st=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,ct=/^0o[0-7]+$/i,lt=parseInt;function dt(ut){if(typeof ut=="number")return ut;if(it(ut))return ot;if(rt(ut)){var ft=typeof ut.valueOf=="function"?ut.valueOf():ut;ut=rt(ft)?ft+"":ft}if(typeof ut!="string")return ut===0?ut:+ut;ut=nt(ut);var pt=at.test(ut);return pt||ct.test(ut)?lt(ut.slice(2),pt?2:8):st.test(ut)?ot:+ut}_e.exports=dt},function(_e,tt,et){var nt=et(515),rt=et(18);function it(ot,st,at,ct,lt){return ot===st?!0:ot==null||st==null||!rt(ot)&&!rt(st)?ot!==ot&&st!==st:nt(ot,st,at,ct,it,lt)}_e.exports=it},function(_e,tt,et){var nt=et(93),rt=et(232),it=et(95),ot=1,st=2;function at(ct,lt,dt,ut,ft,pt){var vt=dt&ot,Ct=ct.length,ht=lt.length;if(Ct!=ht&&!(vt&&ht>Ct))return!1;var mt=pt.get(ct),yt=pt.get(lt);if(mt&&yt)return mt==lt&&yt==ct;var Et=-1,Rt=!0,Pt=dt&st?new nt:void 0;for(pt.set(ct,lt),pt.set(lt,ct);++Et<Ct;){var Vt=ct[Et],Nt=lt[Et];if(ut)var kt=vt?ut(Nt,Vt,Et,lt,ct,pt):ut(Vt,Nt,Et,ct,lt,pt);if(kt!==void 0){if(kt)continue;Rt=!1;break}if(Pt){if(!rt(lt,function(wt,Zt){if(!it(Pt,Zt)&&(Vt===wt||ft(Vt,wt,dt,ut,pt)))return Pt.push(Zt)})){Rt=!1;break}}else if(!(Vt===Nt||ft(Vt,Nt,dt,ut,pt))){Rt=!1;break}}return pt.delete(ct),pt.delete(lt),Rt}_e.exports=at},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length;++it<ot;)if(rt(nt[it],it,nt))return!0;return!1}_e.exports=et},function(_e,tt){function et(nt){var rt=-1,it=Array(nt.size);return nt.forEach(function(ot,st){it[++rt]=[st,ot]}),it}_e.exports=et},function(_e,tt,et){var nt=et(11);function rt(it){return it===it&&!nt(it)}_e.exports=rt},function(_e,tt){function et(nt,rt){return function(it){return it==null?!1:it[nt]===rt&&(rt!==void 0||nt in Object(it))}}_e.exports=et},function(_e,tt,et){var nt=et(520),rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/\\(\\)?/g,ot=nt(function(st){var at=[];return st.charCodeAt(0)===46&&at.push(""),st.replace(rt,function(ct,lt,dt,ut){at.push(dt?ut.replace(it,"$1"):lt||ct)}),at});_e.exports=ot},function(_e,tt,et){var nt=et(522),rt=et(523);function it(ot,st){return ot!=null&&rt(ot,st,nt)}_e.exports=it},function(_e,tt,et){var nt=et(118),rt=et(529);function it(ot,st,at,ct,lt){var dt=-1,ut=ot.length;for(at||(at=rt),lt||(lt=[]);++dt<ut;){var ft=ot[dt];st>0&&at(ft)?st>1?it(ft,st-1,at,ct,lt):nt(lt,ft):ct||(lt[lt.length]=ft)}return lt}_e.exports=it},function(_e,tt,et){var nt=et(536),rt=nt();_e.exports=rt},function(_e,tt,et){var nt=et(537),rt=et(538);tt.parse=Rt,tt.resolve=Vt,tt.resolveObject=Nt,tt.format=Pt,tt.Url=it;function it(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ot=/^([a-z0-9.+-]+:)/i,st=/:[0-9]*$/,at=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ct=["<",">",'"',"`"," ","\r",`
`,"	"],lt=["{","}","|","\\","^","`"].concat(ct),dt=["'"].concat(lt),ut=["%","/","?",";","#"].concat(dt),ft=["/","?","#"],pt=255,vt=/^[+a-z0-9A-Z_-]{0,63}$/,Ct=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ht={javascript:!0,"javascript:":!0},mt={javascript:!0,"javascript:":!0},yt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Et=et(539);function Rt(kt,wt,Zt){if(kt&&rt.isObject(kt)&&kt instanceof it)return kt;var qt=new it;return qt.parse(kt,wt,Zt),qt}it.prototype.parse=function(kt,wt,Zt){if(!rt.isString(kt))throw new TypeError("Parameter 'url' must be a string, not "+typeof kt);var qt=kt.indexOf("?"),zt=qt!==-1&&qt<kt.indexOf("#")?"?":"#",Bt=kt.split(zt),sn=/\\/g;Bt[0]=Bt[0].replace(sn,"/"),kt=Bt.join(zt);var mn=kt;if(mn=mn.trim(),!Zt&&kt.split("#").length===1){var En=at.exec(mn);if(En)return this.path=mn,this.href=mn,this.pathname=En[1],En[2]?(this.search=En[2],wt?this.query=Et.parse(this.search.substr(1)):this.query=this.search.substr(1)):wt&&(this.search="",this.query={}),this}var cn=ot.exec(mn);if(cn){cn=cn[0];var xn=cn.toLowerCase();this.protocol=xn,mn=mn.substr(cn.length)}if(Zt||cn||mn.match(/^\/\/[^@\/]+@[^@\/]+/)){var bn=mn.substr(0,2)==="//";bn&&!(cn&&mt[cn])&&(mn=mn.substr(2),this.slashes=!0)}if(!mt[cn]&&(bn||cn&&!yt[cn])){for(var gn=-1,vn=0;vn<ft.length;vn++){var Wn=mn.indexOf(ft[vn]);Wn!==-1&&(gn===-1||Wn<gn)&&(gn=Wn)}var Un,Sn;gn===-1?Sn=mn.lastIndexOf("@"):Sn=mn.lastIndexOf("@",gn),Sn!==-1&&(Un=mn.slice(0,Sn),mn=mn.slice(Sn+1),this.auth=decodeURIComponent(Un)),gn=-1;for(var vn=0;vn<ut.length;vn++){var Wn=mn.indexOf(ut[vn]);Wn!==-1&&(gn===-1||Wn<gn)&&(gn=Wn)}gn===-1&&(gn=mn.length),this.host=mn.slice(0,gn),mn=mn.slice(gn),this.parseHost(),this.hostname=this.hostname||"";var On=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!On)for(var Ln=this.hostname.split(/\./),vn=0,Jn=Ln.length;vn<Jn;vn++){var ur=Ln[vn];if(ur&&!ur.match(vt)){for(var sr="",pr=0,Ir=ur.length;pr<Ir;pr++)ur.charCodeAt(pr)>127?sr+="x":sr+=ur[pr];if(!sr.match(vt)){var Er=Ln.slice(0,vn),Kr=Ln.slice(vn+1),Dr=ur.match(Ct);Dr&&(Er.push(Dr[1]),Kr.unshift(Dr[2])),Kr.length&&(mn="/"+Kr.join(".")+mn),this.hostname=Er.join(".");break}}}this.hostname.length>pt?this.hostname="":this.hostname=this.hostname.toLowerCase(),On||(this.hostname=nt.toASCII(this.hostname));var to=this.port?":"+this.port:"",po=this.hostname||"";this.host=po+to,this.href+=this.host,On&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),mn[0]!=="/"&&(mn="/"+mn))}if(!ht[xn])for(var vn=0,Jn=dt.length;vn<Jn;vn++){var Nr=dt[vn];if(mn.indexOf(Nr)!==-1){var br=encodeURIComponent(Nr);br===Nr&&(br=escape(Nr)),mn=mn.split(Nr).join(br)}}var zn=mn.indexOf("#");zn!==-1&&(this.hash=mn.substr(zn),mn=mn.slice(0,zn));var Qn=mn.indexOf("?");if(Qn!==-1?(this.search=mn.substr(Qn),this.query=mn.substr(Qn+1),wt&&(this.query=Et.parse(this.query)),mn=mn.slice(0,Qn)):wt&&(this.search="",this.query={}),mn&&(this.pathname=mn),yt[xn]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var to=this.pathname||"",cr=this.search||"";this.path=to+cr}return this.href=this.format(),this};function Pt(kt){return rt.isString(kt)&&(kt=Rt(kt)),kt instanceof it?kt.format():it.prototype.format.call(kt)}it.prototype.format=function(){var kt=this.auth||"";kt&&(kt=encodeURIComponent(kt),kt=kt.replace(/%3A/i,":"),kt+="@");var wt=this.protocol||"",Zt=this.pathname||"",qt=this.hash||"",zt=!1,Bt="";this.host?zt=kt+this.host:this.hostname&&(zt=kt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(zt+=":"+this.port)),this.query&&rt.isObject(this.query)&&Object.keys(this.query).length&&(Bt=Et.stringify(this.query));var sn=this.search||Bt&&"?"+Bt||"";return wt&&wt.substr(-1)!==":"&&(wt+=":"),this.slashes||(!wt||yt[wt])&&zt!==!1?(zt="//"+(zt||""),Zt&&Zt.charAt(0)!=="/"&&(Zt="/"+Zt)):zt||(zt=""),qt&&qt.charAt(0)!=="#"&&(qt="#"+qt),sn&&sn.charAt(0)!=="?"&&(sn="?"+sn),Zt=Zt.replace(/[?#]/g,function(mn){return encodeURIComponent(mn)}),sn=sn.replace("#","%23"),wt+zt+Zt+sn+qt};function Vt(kt,wt){return Rt(kt,!1,!0).resolve(wt)}it.prototype.resolve=function(kt){return this.resolveObject(Rt(kt,!1,!0)).format()};function Nt(kt,wt){return kt?Rt(kt,!1,!0).resolveObject(wt):wt}it.prototype.resolveObject=function(kt){if(rt.isString(kt)){var wt=new it;wt.parse(kt,!1,!0),kt=wt}for(var Zt=new it,qt=Object.keys(this),zt=0;zt<qt.length;zt++){var Bt=qt[zt];Zt[Bt]=this[Bt]}if(Zt.hash=kt.hash,kt.href==="")return Zt.href=Zt.format(),Zt;if(kt.slashes&&!kt.protocol){for(var sn=Object.keys(kt),mn=0;mn<sn.length;mn++){var En=sn[mn];En!=="protocol"&&(Zt[En]=kt[En])}return yt[Zt.protocol]&&Zt.hostname&&!Zt.pathname&&(Zt.path=Zt.pathname="/"),Zt.href=Zt.format(),Zt}if(kt.protocol&&kt.protocol!==Zt.protocol){if(!yt[kt.protocol]){for(var cn=Object.keys(kt),xn=0;xn<cn.length;xn++){var bn=cn[xn];Zt[bn]=kt[bn]}return Zt.href=Zt.format(),Zt}if(Zt.protocol=kt.protocol,!kt.host&&!mt[kt.protocol]){for(var Jn=(kt.pathname||"").split("/");Jn.length&&!(kt.host=Jn.shift()););kt.host||(kt.host=""),kt.hostname||(kt.hostname=""),Jn[0]!==""&&Jn.unshift(""),Jn.length<2&&Jn.unshift(""),Zt.pathname=Jn.join("/")}else Zt.pathname=kt.pathname;if(Zt.search=kt.search,Zt.query=kt.query,Zt.host=kt.host||"",Zt.auth=kt.auth,Zt.hostname=kt.hostname||kt.host,Zt.port=kt.port,Zt.pathname||Zt.search){var gn=Zt.pathname||"",vn=Zt.search||"";Zt.path=gn+vn}return Zt.slashes=Zt.slashes||kt.slashes,Zt.href=Zt.format(),Zt}var Wn=Zt.pathname&&Zt.pathname.charAt(0)==="/",Un=kt.host||kt.pathname&&kt.pathname.charAt(0)==="/",Sn=Un||Wn||Zt.host&&kt.pathname,On=Sn,Ln=Zt.pathname&&Zt.pathname.split("/")||[],Jn=kt.pathname&&kt.pathname.split("/")||[],ur=Zt.protocol&&!yt[Zt.protocol];if(ur&&(Zt.hostname="",Zt.port=null,Zt.host&&(Ln[0]===""?Ln[0]=Zt.host:Ln.unshift(Zt.host)),Zt.host="",kt.protocol&&(kt.hostname=null,kt.port=null,kt.host&&(Jn[0]===""?Jn[0]=kt.host:Jn.unshift(kt.host)),kt.host=null),Sn=Sn&&(Jn[0]===""||Ln[0]==="")),Un)Zt.host=kt.host||kt.host===""?kt.host:Zt.host,Zt.hostname=kt.hostname||kt.hostname===""?kt.hostname:Zt.hostname,Zt.search=kt.search,Zt.query=kt.query,Ln=Jn;else if(Jn.length)Ln||(Ln=[]),Ln.pop(),Ln=Ln.concat(Jn),Zt.search=kt.search,Zt.query=kt.query;else if(!rt.isNullOrUndefined(kt.search)){if(ur){Zt.hostname=Zt.host=Ln.shift();var sr=Zt.host&&Zt.host.indexOf("@")>0?Zt.host.split("@"):!1;sr&&(Zt.auth=sr.shift(),Zt.host=Zt.hostname=sr.shift())}return Zt.search=kt.search,Zt.query=kt.query,(!rt.isNull(Zt.pathname)||!rt.isNull(Zt.search))&&(Zt.path=(Zt.pathname?Zt.pathname:"")+(Zt.search?Zt.search:"")),Zt.href=Zt.format(),Zt}if(!Ln.length)return Zt.pathname=null,Zt.search?Zt.path="/"+Zt.search:Zt.path=null,Zt.href=Zt.format(),Zt;for(var pr=Ln.slice(-1)[0],Ir=(Zt.host||kt.host||Ln.length>1)&&(pr==="."||pr==="..")||pr==="",Er=0,Kr=Ln.length;Kr>=0;Kr--)pr=Ln[Kr],pr==="."?Ln.splice(Kr,1):pr===".."?(Ln.splice(Kr,1),Er++):Er&&(Ln.splice(Kr,1),Er--);if(!Sn&&!On)for(;Er--;Er)Ln.unshift("..");Sn&&Ln[0]!==""&&(!Ln[0]||Ln[0].charAt(0)!=="/")&&Ln.unshift(""),Ir&&Ln.join("/").substr(-1)!=="/"&&Ln.push("");var Dr=Ln[0]===""||Ln[0]&&Ln[0].charAt(0)==="/";if(ur){Zt.hostname=Zt.host=Dr?"":Ln.length?Ln.shift():"";var sr=Zt.host&&Zt.host.indexOf("@")>0?Zt.host.split("@"):!1;sr&&(Zt.auth=sr.shift(),Zt.host=Zt.hostname=sr.shift())}return Sn=Sn||Zt.host&&Ln.length,Sn&&!Dr&&Ln.unshift(""),Ln.length?Zt.pathname=Ln.join("/"):(Zt.pathname=null,Zt.path=null),(!rt.isNull(Zt.pathname)||!rt.isNull(Zt.search))&&(Zt.path=(Zt.pathname?Zt.pathname:"")+(Zt.search?Zt.search:"")),Zt.auth=kt.auth||Zt.auth,Zt.slashes=Zt.slashes||kt.slashes,Zt.href=Zt.format(),Zt},it.prototype.parseHost=function(){var kt=this.host,wt=st.exec(kt);wt&&(wt=wt[0],wt!==":"&&(this.port=wt.substr(1)),kt=kt.substr(0,kt.length-wt.length)),kt&&(this.hostname=kt)}},function(_e,tt,et){(function(nt){const rt=et(17),it=et(16),ot=et(0)("guidStorage"),st={};_e.exports=st;let at,ct;const lt=function(ft){return!(rt(ft.get)&&rt(ft.set))},dt=function(ft){if(ct){ft(null,ct);return}at.get(ft)};st.override=ut=>{if(lt(ut))throw new Error("The storageInterface argument does not seem to be valid, it must implement get and set methods");at!==ut&&(at=ut,ct&&at.set(ct,ft=>{ft&&ot.error(`Failed to send initial Guid value (${ct}) to the newly assigned Guid Storage. The error was: ${ft}`)}))},st.get=ut=>{dt((ft,pt)=>{if(ft){ut(ft);return}pt?ct||(ct=pt):(pt=it(),at.set(pt,vt=>{if(vt){ut(vt);return}ct=pt})),ut(null,ct)})},st.getAsync=()=>new nt((ut,ft)=>{st.get((pt,vt)=>pt?ft(pt):ut(vt))}),st.override({get(ut){let ft;try{ft=(typeof window!==void 0?window:commonjsGlobal).localStorage.getItem("opentok_client_id")}catch{ft||(ft=it())}ut(null,ft)},set(ut,ft){try{(typeof window!==void 0?window:commonjsGlobal).localStorage.setItem("opentok_client_id",ut)}catch{}ft(null)}}),st.set=ut=>{ct=ut}}).call(this,et(2))},function(_e,tt){var et=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(et){var nt=new Uint8Array(16);_e.exports=function(){return et(nt),nt}}else{var rt=new Array(16);_e.exports=function(){for(var ot=0,st;ot<16;ot++)ot&3||(st=Math.random()*4294967296),rt[ot]=st>>>((ot&3)<<3)&255;return rt}}},function(_e,tt){for(var et=[],nt=0;nt<256;++nt)et[nt]=(nt+256).toString(16).substr(1);function rt(it,ot){var st=ot||0,at=et;return[at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],"-",at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]],at[it[st++]]].join("")}_e.exports=rt},function(_e,tt,et){const nt=et(245),rt=et(3),it=et(247),ot=et(9),st={};_e.exports=st;function at(ct){if(typeof ct=="string")return ct;const lt=[];return Object.keys(ct).forEach(dt=>{lt.push(`${encodeURIComponent(dt)}=${encodeURIComponent(ct[dt])}`)}),lt.join("&").replace(/\+/g,"%20")}rt.name!=="Node"&&(st.request=function(ct,lt,dt){const ut=new(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest,ft=lt||{};if(!ft.method){dt(new Error("No HTTP method specified in options"));return}lt.overrideMimeType&&(ut.overrideMimeType&&ut.overrideMimeType(lt.overrideMimeType),delete lt.overrideMimeType),dt&&(nt(ut).on("load",vt=>{const Ct=vt.target.status;Ct>=200&&(Ct<300||Ct===304)?dt(null,vt):dt(vt)}),nt(ut).on("error",dt)),ut.open(lt.method,ct,!0),ft.headers||(ft.headers={});for(const vt in ft.headers)Object.prototype.hasOwnProperty.call(ft.headers,vt)&&ut.setRequestHeader(vt,ft.headers[vt]);ut.send(lt.body&&at(lt.body))},st.get=function(ct,lt,dt){const ut=ot(lt||{},{method:"GET"});st.request(ct,ut,dt)},st.post=function(ct,lt,dt){const ut=ot(lt||{},{method:"POST"});st.request(ct,ut,dt)},st.getJSON=function(ct,lt,dt){lt=lt||{};const ut=function(vt,Ct){if(vt)dt(vt,Ct&&Ct.target&&Ct.target.responseText);else{let ht;try{ht=JSON.parse(Ct.target.responseText)}catch(mt){dt(mt,Ct&&Ct.target&&Ct.target.responseText);return}dt(null,ht,Ct)}},ft=ot({Accept:"application/json"},lt.headers||{});st.get(ct,ot(lt||{},{headers:ft}),ut)},it(st))},function(_e,tt,et){const nt=et(246);_e.exports=function(rt,it){return new nt(rt,it)}},function(_e,tt,et){const nt=et(17),rt={attributes:et(548),css:et(549),classNames:et(554),observers:et(556)},it=/^#([\w-]*)$/,ot=function(dt){return Array.prototype.slice.call(dt)},st=function(dt,ut){let ft;if(typeof dt>"u")return[];if(typeof dt=="string"){ft=[];const pt=it.exec(dt);if(ut=ut||document,pt&&pt[1]){const vt=ut.getElementById(pt[1]);vt&&ft.push(vt)}else ft=ut.querySelectorAll(dt)}else dt&&(dt.nodeType||(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest&&dt instanceof(typeof window!==void 0?window:commonjsGlobal).XMLHttpRequest||dt===(typeof window!==void 0?window:commonjsGlobal))?(ft=[dt],ut=dt):Array.isArray(dt)?(ft=dt.slice(),ut=null):ft=ot(ft);return ft},at=function(dt,ut){const ft=st(dt,ut);this.context=ut,this.toArray=function(){return ft},this.length=ft.length,this.first=ft[0],this.last=ft[ft.length-1],this.get=function(pt){return pt===void 0?ft:ft[pt]}};_e.exports=at,at._attachToOTHelpers={},at._attachToOTHelpers.removeElement=function(lt){return new at(lt).remove()},at.prototype.getAsArray=function(){let lt=this.get();return nt(lt.forEach)||(lt=ot(lt)),lt},at.prototype.some=function(lt,dt){return this.getAsArray().some(lt,dt)},at.prototype.forEach=function(lt,dt){return this.getAsArray().forEach(lt,dt),this},at.prototype.map=function(lt,dt){return new at(this.getAsArray().map(lt,dt),this.context)},at.prototype.filter=function(lt,dt){return new at(this.getAsArray().filter(lt,dt),this.context)},at.prototype.find=function(lt){return new at(lt,this.first)},at.prototype.on=function(lt,dt){return this.forEach(ut=>{ut.addEventListener(lt,dt,!1)})},at.prototype.off=function(lt,dt){return this.forEach(ut=>{ut.removeEventListener(lt,dt,!1)})},at.prototype.once=function(lt,dt){const ut=(function(){this.off(lt,ut),dt(...arguments)}).bind(this);return this.on(lt,ut)},at.prototype.appendTo=function(lt){if(!lt)throw new Error("appendTo requires a DOMElement to append to.");return this.forEach(dt=>{lt.appendChild(dt)})},at.prototype.append=function(){const lt=this.first;return lt?(Array.prototype.forEach.call(arguments,dt=>{lt.appendChild(dt)}),this):this},at.prototype.prepend=function(){if(arguments.length===0)return this;const lt=this.first;let dt;return lt?(dt=Array.prototype.slice.call(arguments),lt.firstElementChild||lt.appendChild(dt.shift()),dt.forEach(ut=>{lt.insertBefore(ut,lt.firstElementChild)}),this):this},at.prototype.after=function(lt){if(!lt)throw new Error("after requires a DOMElement to insert after");return this.forEach(dt=>{dt.parentElement&&(lt!==dt.parentNode.lastChild?dt.parentElement.insertBefore(dt,lt):dt.parentElement.appendChild(dt))})},at.prototype.before=function(lt){if(!lt)throw new Error("before requires a DOMElement to insert before");return this.forEach(dt=>{dt.parentElement&&dt.parentElement.insertBefore(dt,lt)})},at.prototype.remove=function(){return this.forEach(lt=>{lt.parentNode&&lt.parentNode.removeChild(lt)})},at.prototype.empty=function(){return this.forEach(lt=>{for(;lt.firstChild;)lt.removeChild(lt.firstChild)})},at.prototype.isDisplayNone=function(){return this.some(lt=>(lt.offsetWidth===0||lt.offsetHeight===0)&&new at(lt).css("display")==="none"?!0:lt.parentNode&&lt.parentNode.style?new at(lt.parentNode).isDisplayNone():!1)};const ct=function lt(dt){return(dt.offsetWidth===0||dt.offsetHeight===0)&&new at(dt).css("display")==="none"?dt:dt.parentNode&&dt.parentNode.style?lt(dt.parentNode):null};at._attachToOTHelpers.emptyElement=function(lt){return new at(lt).empty()},at._attachToOTHelpers._findElementWithDisplayNone=ct,rt.css(at,ct),rt.attributes(at),rt.classNames(at),rt.observers(at),["on","off","isDisplayNone","show","hide","css","makeVisibleAndYield","addClass","removeClass"].forEach(lt=>{at._attachToOTHelpers[lt]=function(){const dt=Array.prototype.slice.apply(arguments),ut=dt.shift(),ft=new at(ut);return at.prototype[lt].apply(ft,dt)}})},function(_e,tt,et){_e.exports=function(nt){const rt={};Object.keys(nt).forEach(it=>{rt[it]=nt[it]}),nt._attachToOTHelpers=rt}},function(_e,tt,et){const nt=et(17),rt=et(6),it=et(0)("Collection");_e.exports=function(st){let at=[],ct={};const lt=st||"id";rt(this);const dt=function(vt,Ct){return nt(vt[Ct])?vt[Ct]():vt[Ct]},ut=(function(vt){this.trigger("update",vt),this.trigger(`update:${vt.target.id}`,vt)}).bind(this),ft=(function(vt){this.remove(vt.target,vt.reason)}).bind(this);this.reset=function(){at.forEach(function(pt){pt.off("updated",ut,this),pt.off("destroyed",ft,this)},this),at=[],ct={}},this.destroy=function(pt){at.forEach(vt=>{vt&&typeof vt.destroy=="function"&&vt.destroy(pt,!0)}),this.reset(),this.off()},this.get=function(pt){return pt&&ct[pt]!==void 0?at[ct[pt]]:void 0},this.has=function(pt){return pt&&ct[pt]!==void 0},this.toString=function(){return at.toString()},this.where=function(pt,vt){return nt(pt)?at.filter(pt,vt):at.filter(Ct=>{for(const ht in pt)if(pt.hasOwnProperty(ht)&&dt(Ct,ht)!==pt[ht])return!1;return!0})},this.find=function(pt,vt){let Ct;nt(pt)?Ct=pt:Ct=function(mt){for(const yt in pt)if(pt.hasOwnProperty(yt)&&dt(mt,yt)!==pt[yt])return!1;return!0},Ct=Ct.bind(vt);for(let ht=0;ht<at.length;++ht)if(Ct(at[ht])===!0)return at[ht];return null},this.forEach=function(pt,vt){return at.forEach(pt,vt),this},this.map=function(pt){return at.map(pt)},this.add=function(pt){const vt=dt(pt,lt);return this.has(vt)?(it.warn(`Model ${vt} is already in the collection`,at),this):(ct[vt]=at.push(pt)-1,pt.on("updated",ut,this),pt.on("destroyed",ft,this),this.trigger("add",pt),this.trigger(`add:${vt}`,pt),this)},this.remove=function(pt,vt){const Ct=dt(pt,lt);at.splice(ct[Ct],1);for(let ht=ct[Ct];ht<at.length;++ht)ct[dt(at[ht],lt)]=ht;return delete ct[Ct],pt.off("updated",ut,this),pt.off("destroyed",ft,this),this.trigger("remove",pt,vt),this.trigger(`remove:${Ct}`,pt,vt),this},this._triggerAddEvents=function(){this.where.apply(this,arguments).forEach(function(pt){this.trigger("add",pt),this.trigger(`add:${dt(pt,lt)}`,pt)},this)},this.length=function(){return at.length}}},function(_e,tt,et){const nt=et(0)("deprecation");_e.exports=function(it,ot,st){let at=st===void 0?{}:st,ct=at.value,lt=at.name,dt=lt===void 0?`${ot}`:lt,ut=at.getWarning,ft=ut===void 0?"":ut,pt=at.setWarning,vt=pt===void 0?"":pt,Ct=at.canSet,ht=Ct===void 0?!1:Ct,mt=at.warnOnSet,yt=mt===void 0?!1:mt,Et=ct,Rt=!1,Pt=!yt;Object.defineProperty(it,ot,{get(){return Rt||(Rt=!0,nt.warn(`${dt} is deprecated, and will be removed in the future. ${ft}`.trim())),Et},set(Nt){ht&&(Et=Nt),Pt||(Pt=!0,ht?nt.warn(`${dt} is deprecated. ${vt}`.trim()):nt.warn(`${dt} is deprecated, and will be removed in the future. ${vt}`.trim()))}})}},function(_e,tt,et){const nt=et(3),rt=et(11);let it;const ot=["description","fileName","lineNumber","message","name","number","stack"],st=function(lt,dt,ut){switch(arguments.length){case 1:rt(lt)&&(ut=lt,dt=void 0,lt=void 0);break;case 2:rt(dt)&&(ut=dt,dt=void 0);break}if(ut instanceof Error)for(let ft=0,pt=ot.length;ft<pt;++ft)this[ot[ft]]=ut[ot[ft]];else if(rt(ut))for(const ft in ut)ut.hasOwnProperty(ft)&&(this[ft]=ut[ft]);if(!(this.fileName&&this.lineNumber&&this.columnNumber&&this.stack)){const ft=it();!this.fileName&&ft.fileName&&(this.fileName=ft.fileName),!this.lineNumber&&ft.lineNumber&&(this.lineNumber=ft.lineNumber),!this.columnNumber&&ft.columnNumber&&(this.columnNumber=ft.columnNumber),!this.stack&&ft.stack&&(this.stack=ft.stack)}!this.message&&lt&&(this.message=lt),(!this.name||this.name==="Error")&&dt&&(this.name=dt)};_e.exports=st,st.prototype=Object.create(Error.prototype),st.prototype.toString=function(){let ct="";return this.fileName&&(ct+=` ${this.fileName}`),this.lineNumber&&(ct+=` ${this.lineNumber}`,this.columnNumber&&(ct+=`:${this.columnNumber}`)),`<${this.name?`${this.name} `:""}${this.message}${ct}>`},st.prototype.valueOf=st.prototype.toString;const at=function(lt,dt){return dt.slice(2).map(ut=>{const ft={fileName:ut.getFileName(),linenumber:ut.getLineNumber(),columnNumber:ut.getColumnNumber()};return ut.getFunctionName()&&(ft.functionName=ut.getFunctionName()),ut.getMethodName()&&(ft.methodName=ut.getMethodName()),ut.getThis()&&(ft.self=ut.getThis()),ft})};it=function(){const lt={};let dt,ut,ft;switch(nt.name){case"Firefox":case"Safari":try{(typeof window!==void 0?window:commonjsGlobal).call.js.is.explody()}catch(Ct){ft=Ct}dt=(ft.stack||"").split(`
`),dt.shift(),dt.shift(),lt.stack=dt,ut=/@(.+?):([0-9]+)(:([0-9]+))?$/.exec(dt[0]),ut&&(lt.fileName=ut[1],lt.lineNumber=parseInt(ut[2],10),ut.length>3&&(lt.columnNumber=parseInt(ut[4],10)));break;case"Chrome":case"Node":case"Opera":var pt=Error.prepareStackTrace;Error.prepareStackTrace=at,ft=new Error,lt.stack=ft.stack,Error.prepareStackTrace=pt;var vt=lt.stack[0];lt.lineNumber=vt.lineNumber,lt.columnNumber=vt.columnNumber,lt.fileName=vt.fileName,vt.functionName&&(lt.functionName=vt.functionName),vt.methodName&&(lt.methodName=vt.methodName),vt.self&&(lt.self=vt.self);break;default:ft=new Error,ft.stack&&(lt.stack=ft.stack.split(`
`));break}return ft.message&&(lt.message=ft.message),lt}},function(_e,tt,et){var nt={};nt.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},nt.localCName=nt.generateIdentifier(),nt.splitLines=function(rt){return rt.trim().split(`
`).map(function(it){return it.trim()})},nt.splitSections=function(rt){var it=rt.split(`
m=`);return it.map(function(ot,st){return(st>0?"m="+ot:ot).trim()+`\r
`})},nt.getDescription=function(rt){var it=nt.splitSections(rt);return it&&it[0]},nt.getMediaSections=function(rt){var it=nt.splitSections(rt);return it.shift(),it},nt.matchPrefix=function(rt,it){return nt.splitLines(rt).filter(function(ot){return ot.indexOf(it)===0})},nt.parseCandidate=function(rt){var it;rt.indexOf("a=candidate:")===0?it=rt.substring(12).split(" "):it=rt.substring(10).split(" ");for(var ot={foundation:it[0],component:parseInt(it[1],10),protocol:it[2].toLowerCase(),priority:parseInt(it[3],10),ip:it[4],address:it[4],port:parseInt(it[5],10),type:it[7]},st=8;st<it.length;st+=2)switch(it[st]){case"raddr":ot.relatedAddress=it[st+1];break;case"rport":ot.relatedPort=parseInt(it[st+1],10);break;case"tcptype":ot.tcpType=it[st+1];break;case"ufrag":ot.ufrag=it[st+1],ot.usernameFragment=it[st+1];break;default:ot[it[st]]=it[st+1];break}return ot},nt.writeCandidate=function(rt){var it=[];it.push(rt.foundation),it.push(rt.component),it.push(rt.protocol.toUpperCase()),it.push(rt.priority),it.push(rt.address||rt.ip),it.push(rt.port);var ot=rt.type;return it.push("typ"),it.push(ot),ot!=="host"&&rt.relatedAddress&&rt.relatedPort&&(it.push("raddr"),it.push(rt.relatedAddress),it.push("rport"),it.push(rt.relatedPort)),rt.tcpType&&rt.protocol.toLowerCase()==="tcp"&&(it.push("tcptype"),it.push(rt.tcpType)),(rt.usernameFragment||rt.ufrag)&&(it.push("ufrag"),it.push(rt.usernameFragment||rt.ufrag)),"candidate:"+it.join(" ")},nt.parseIceOptions=function(rt){return rt.substr(14).split(" ")},nt.parseRtpMap=function(rt){var it=rt.substr(9).split(" "),ot={payloadType:parseInt(it.shift(),10)};return it=it[0].split("/"),ot.name=it[0],ot.clockRate=parseInt(it[1],10),ot.channels=it.length===3?parseInt(it[2],10):1,ot.numChannels=ot.channels,ot},nt.writeRtpMap=function(rt){var it=rt.payloadType;rt.preferredPayloadType!==void 0&&(it=rt.preferredPayloadType);var ot=rt.channels||rt.numChannels||1;return"a=rtpmap:"+it+" "+rt.name+"/"+rt.clockRate+(ot!==1?"/"+ot:"")+`\r
`},nt.parseExtmap=function(rt){var it=rt.substr(9).split(" ");return{id:parseInt(it[0],10),direction:it[0].indexOf("/")>0?it[0].split("/")[1]:"sendrecv",uri:it[1]}},nt.writeExtmap=function(rt){return"a=extmap:"+(rt.id||rt.preferredId)+(rt.direction&&rt.direction!=="sendrecv"?"/"+rt.direction:"")+" "+rt.uri+`\r
`},nt.parseFmtp=function(rt){for(var it={},ot,st=rt.substr(rt.indexOf(" ")+1).split(";"),at=0;at<st.length;at++)ot=st[at].trim().split("="),it[ot[0].trim()]=ot[1];return it},nt.writeFmtp=function(rt){var it="",ot=rt.payloadType;if(rt.preferredPayloadType!==void 0&&(ot=rt.preferredPayloadType),rt.parameters&&Object.keys(rt.parameters).length){var st=[];Object.keys(rt.parameters).forEach(function(at){rt.parameters[at]?st.push(at+"="+rt.parameters[at]):st.push(at)}),it+="a=fmtp:"+ot+" "+st.join(";")+`\r
`}return it},nt.parseRtcpFb=function(rt){var it=rt.substr(rt.indexOf(" ")+1).split(" ");return{type:it.shift(),parameter:it.join(" ")}},nt.writeRtcpFb=function(rt){var it="",ot=rt.payloadType;return rt.preferredPayloadType!==void 0&&(ot=rt.preferredPayloadType),rt.rtcpFeedback&&rt.rtcpFeedback.length&&rt.rtcpFeedback.forEach(function(st){it+="a=rtcp-fb:"+ot+" "+st.type+(st.parameter&&st.parameter.length?" "+st.parameter:"")+`\r
`}),it},nt.parseSsrcMedia=function(rt){var it=rt.indexOf(" "),ot={ssrc:parseInt(rt.substr(7,it-7),10)},st=rt.indexOf(":",it);return st>-1?(ot.attribute=rt.substr(it+1,st-it-1),ot.value=rt.substr(st+1)):ot.attribute=rt.substr(it+1),ot},nt.parseSsrcGroup=function(rt){var it=rt.substr(13).split(" ");return{semantics:it.shift(),ssrcs:it.map(function(ot){return parseInt(ot,10)})}},nt.getMid=function(rt){var it=nt.matchPrefix(rt,"a=mid:")[0];if(it)return it.substr(6)},nt.parseFingerprint=function(rt){var it=rt.substr(14).split(" ");return{algorithm:it[0].toLowerCase(),value:it[1]}},nt.getDtlsParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=fingerprint:");return{role:"auto",fingerprints:ot.map(nt.parseFingerprint)}},nt.writeDtlsParameters=function(rt,it){var ot="a=setup:"+it+`\r
`;return rt.fingerprints.forEach(function(st){ot+="a=fingerprint:"+st.algorithm+" "+st.value+`\r
`}),ot},nt.parseCryptoLine=function(rt){var it=rt.substr(9).split(" ");return{tag:parseInt(it[0],10),cryptoSuite:it[1],keyParams:it[2],sessionParams:it.slice(3)}},nt.writeCryptoLine=function(rt){return"a=crypto:"+rt.tag+" "+rt.cryptoSuite+" "+(typeof rt.keyParams=="object"?nt.writeCryptoKeyParams(rt.keyParams):rt.keyParams)+(rt.sessionParams?" "+rt.sessionParams.join(" "):"")+`\r
`},nt.parseCryptoKeyParams=function(rt){if(rt.indexOf("inline:")!==0)return null;var it=rt.substr(7).split("|");return{keyMethod:"inline",keySalt:it[0],lifeTime:it[1],mkiValue:it[2]?it[2].split(":")[0]:void 0,mkiLength:it[2]?it[2].split(":")[1]:void 0}},nt.writeCryptoKeyParams=function(rt){return rt.keyMethod+":"+rt.keySalt+(rt.lifeTime?"|"+rt.lifeTime:"")+(rt.mkiValue&&rt.mkiLength?"|"+rt.mkiValue+":"+rt.mkiLength:"")},nt.getCryptoParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=crypto:");return ot.map(nt.parseCryptoLine)},nt.getIceParameters=function(rt,it){var ot=nt.matchPrefix(rt+it,"a=ice-ufrag:")[0],st=nt.matchPrefix(rt+it,"a=ice-pwd:")[0];return ot&&st?{usernameFragment:ot.substr(12),password:st.substr(10)}:null},nt.writeIceParameters=function(rt){return"a=ice-ufrag:"+rt.usernameFragment+`\r
a=ice-pwd:`+rt.password+`\r
`},nt.parseRtpParameters=function(rt){for(var it={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},ot=nt.splitLines(rt),st=ot[0].split(" "),at=3;at<st.length;at++){var ct=st[at],lt=nt.matchPrefix(rt,"a=rtpmap:"+ct+" ")[0];if(lt){var dt=nt.parseRtpMap(lt),ut=nt.matchPrefix(rt,"a=fmtp:"+ct+" ");switch(dt.parameters=ut.length?nt.parseFmtp(ut[0]):{},dt.rtcpFeedback=nt.matchPrefix(rt,"a=rtcp-fb:"+ct+" ").map(nt.parseRtcpFb),it.codecs.push(dt),dt.name.toUpperCase()){case"RED":case"ULPFEC":it.fecMechanisms.push(dt.name.toUpperCase());break}}}return nt.matchPrefix(rt,"a=extmap:").forEach(function(ft){it.headerExtensions.push(nt.parseExtmap(ft))}),it},nt.writeRtpDescription=function(rt,it){var ot="";ot+="m="+rt+" ",ot+=it.codecs.length>0?"9":"0",ot+=" UDP/TLS/RTP/SAVPF ",ot+=it.codecs.map(function(at){return at.preferredPayloadType!==void 0?at.preferredPayloadType:at.payloadType}).join(" ")+`\r
`,ot+=`c=IN IP4 0.0.0.0\r
`,ot+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,it.codecs.forEach(function(at){ot+=nt.writeRtpMap(at),ot+=nt.writeFmtp(at),ot+=nt.writeRtcpFb(at)});var st=0;return it.codecs.forEach(function(at){at.maxptime>st&&(st=at.maxptime)}),st>0&&(ot+="a=maxptime:"+st+`\r
`),ot+=`a=rtcp-mux\r
`,it.headerExtensions&&it.headerExtensions.forEach(function(at){ot+=nt.writeExtmap(at)}),ot},nt.parseRtpEncodingParameters=function(rt){var it=[],ot=nt.parseRtpParameters(rt),st=ot.fecMechanisms.indexOf("RED")!==-1,at=ot.fecMechanisms.indexOf("ULPFEC")!==-1,ct=nt.matchPrefix(rt,"a=ssrc:").map(function(pt){return nt.parseSsrcMedia(pt)}).filter(function(pt){return pt.attribute==="cname"}),lt=ct.length>0&&ct[0].ssrc,dt,ut=nt.matchPrefix(rt,"a=ssrc-group:FID").map(function(pt){var vt=pt.substr(17).split(" ");return vt.map(function(Ct){return parseInt(Ct,10)})});ut.length>0&&ut[0].length>1&&ut[0][0]===lt&&(dt=ut[0][1]),ot.codecs.forEach(function(pt){if(pt.name.toUpperCase()==="RTX"&&pt.parameters.apt){var vt={ssrc:lt,codecPayloadType:parseInt(pt.parameters.apt,10)};lt&&dt&&(vt.rtx={ssrc:dt}),it.push(vt),st&&(vt=JSON.parse(JSON.stringify(vt)),vt.fec={ssrc:lt,mechanism:at?"red+ulpfec":"red"},it.push(vt))}}),it.length===0&&lt&&it.push({ssrc:lt});var ft=nt.matchPrefix(rt,"b=");return ft.length&&(ft[0].indexOf("b=TIAS:")===0?ft=parseInt(ft[0].substr(7),10):ft[0].indexOf("b=AS:")===0?ft=parseInt(ft[0].substr(5),10)*1e3*.95-50*40*8:ft=void 0,it.forEach(function(pt){pt.maxBitrate=ft})),it},nt.parseRtcpParameters=function(rt){var it={},ot=nt.matchPrefix(rt,"a=ssrc:").map(function(ct){return nt.parseSsrcMedia(ct)}).filter(function(ct){return ct.attribute==="cname"})[0];ot&&(it.cname=ot.value,it.ssrc=ot.ssrc);var st=nt.matchPrefix(rt,"a=rtcp-rsize");it.reducedSize=st.length>0,it.compound=st.length===0;var at=nt.matchPrefix(rt,"a=rtcp-mux");return it.mux=at.length>0,it},nt.parseMsid=function(rt){var it,ot=nt.matchPrefix(rt,"a=msid:");if(ot.length===1)return it=ot[0].substr(7).split(" "),{stream:it[0],track:it[1]};var st=nt.matchPrefix(rt,"a=ssrc:").map(function(at){return nt.parseSsrcMedia(at)}).filter(function(at){return at.attribute==="msid"});if(st.length>0)return it=st[0].value.split(" "),{stream:it[0],track:it[1]}},nt.parseSctpDescription=function(rt){var it=nt.parseMLine(rt),ot=nt.matchPrefix(rt,"a=max-message-size:"),st;ot.length>0&&(st=parseInt(ot[0].substr(19),10)),isNaN(st)&&(st=65536);var at=nt.matchPrefix(rt,"a=sctp-port:");if(at.length>0)return{port:parseInt(at[0].substr(12),10),protocol:it.fmt,maxMessageSize:st};var ct=nt.matchPrefix(rt,"a=sctpmap:");if(ct.length>0){var lt=nt.matchPrefix(rt,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(lt[0],10),protocol:lt[1],maxMessageSize:st}}},nt.writeSctpDescription=function(rt,it){var ot=[];return rt.protocol!=="DTLS/SCTP"?ot=["m="+rt.kind+" 9 "+rt.protocol+" "+it.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+it.port+`\r
`]:ot=["m="+rt.kind+" 9 "+rt.protocol+" "+it.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+it.port+" "+it.protocol+` 65535\r
`],it.maxMessageSize!==void 0&&ot.push("a=max-message-size:"+it.maxMessageSize+`\r
`),ot.join("")},nt.generateSessionId=function(){return Math.random().toString().substr(2,21)},nt.writeSessionBoilerplate=function(rt,it,ot){var st,at=it!==void 0?it:2;rt?st=rt:st=nt.generateSessionId();var ct=ot||"thisisadapterortc";return`v=0\r
o=`+ct+" "+st+" "+at+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},nt.writeMediaSection=function(rt,it,ot,st){var at=nt.writeRtpDescription(rt.kind,it);if(at+=nt.writeIceParameters(rt.iceGatherer.getLocalParameters()),at+=nt.writeDtlsParameters(rt.dtlsTransport.getLocalParameters(),ot==="offer"?"actpass":"active"),at+="a=mid:"+rt.mid+`\r
`,rt.direction?at+="a="+rt.direction+`\r
`:rt.rtpSender&&rt.rtpReceiver?at+=`a=sendrecv\r
`:rt.rtpSender?at+=`a=sendonly\r
`:rt.rtpReceiver?at+=`a=recvonly\r
`:at+=`a=inactive\r
`,rt.rtpSender){var ct="msid:"+st.id+" "+rt.rtpSender.track.id+`\r
`;at+="a="+ct,at+="a=ssrc:"+rt.sendEncodingParameters[0].ssrc+" "+ct,rt.sendEncodingParameters[0].rtx&&(at+="a=ssrc:"+rt.sendEncodingParameters[0].rtx.ssrc+" "+ct,at+="a=ssrc-group:FID "+rt.sendEncodingParameters[0].ssrc+" "+rt.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return at+="a=ssrc:"+rt.sendEncodingParameters[0].ssrc+" cname:"+nt.localCName+`\r
`,rt.rtpSender&&rt.sendEncodingParameters[0].rtx&&(at+="a=ssrc:"+rt.sendEncodingParameters[0].rtx.ssrc+" cname:"+nt.localCName+`\r
`),at},nt.getDirection=function(rt,it){for(var ot=nt.splitLines(rt),st=0;st<ot.length;st++)switch(ot[st]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return ot[st].substr(2)}return it?nt.getDirection(it):"sendrecv"},nt.getKind=function(rt){var it=nt.splitLines(rt),ot=it[0].split(" ");return ot[0].substr(2)},nt.isRejected=function(rt){return rt.split(" ",2)[1]==="0"},nt.parseMLine=function(rt){var it=nt.splitLines(rt),ot=it[0].substr(2).split(" ");return{kind:ot[0],port:parseInt(ot[1],10),protocol:ot[2],fmt:ot.slice(3).join(" ")}},nt.parseOLine=function(rt){var it=nt.matchPrefix(rt,"o=")[0],ot=it.substr(2).split(" ");return{username:ot[0],sessionId:ot[1],sessionVersion:parseInt(ot[2],10),netType:ot[3],addressType:ot[4],address:ot[5]}},nt.isValidSDP=function(rt){if(typeof rt!="string"||rt.length===0)return!1;for(var it=nt.splitLines(rt),ot=0;ot<it.length;ot++)if(it[ot].length<2||it[ot].charAt(1)!=="=")return!1;return!0},_e.exports=nt},function(_e,tt,et){_e.exports=function(rt){return["Chrome","Safari","Edge","Opera"].indexOf(rt.browserName)===-1||rt.browserName==="Edge"&&!rt.isChromiumEdge||rt.isScreenSharing&&!rt.capableSimulcastScreenshare||rt.sessionInfo.p2pEnabled||!rt.constraints.video&&!rt.isCustomVideoTrack||rt.scalableVideo===!1?1:rt.videoDimensions.width>640&&rt.videoDimensions.height>480?3:2}},function(_e,tt,et){const nt=et(50);_e.exports=function(){function rt(ot,st){var at;let ct=st===void 0?{}:st,lt=ct.requestAnimationFrame,dt=lt===void 0?(at=window).requestAnimationFrame.bind(at):lt;this._lastCalled=nt(),this._audioLevel=void 0,this._running=!1,this._requestAnimationFrame=dt,this._getAudioLevel=ot,this._startLoop()}var it=rt.prototype;return it._startLoop=function(){this._running||(this._running=!0,this._requestAnimationFrame(this._loop.bind(this)))},it._loop=function(){this._getAudioLevel((st,at)=>{let ct=null;if(!st){for(let lt=0;lt<at.length;lt+=1){const dt=at[lt];let ut=null;if(dt.audioOutputLevel!==void 0){const ft=parseFloat(dt.audioOutputLevel)/32768;isNaN(ft)||(ut=ft)}else dt.audioLevel!==void 0&&(ut=dt.audioLevel);ut!==null&&(ct===null||ut>ct)&&(ct=ut)}this._audioLevel=ct,this._running&&nt()-this._lastCalled<1e4?this._requestAnimationFrame(this._loop.bind(this)):this._running=!1}})},it.destroy=function(){this._running=!1},it.sample=function(st){if(typeof st=="function")throw new Error("sample no longer takes a callback");return this._startLoop(),this._lastCalled=nt(),this._audioLevel},rt}()},function(_e,tt,et){const nt=et(255),rt=et(586),it=et(149);function ot(lt,dt,ut){return!lt.publish&&dt?!1:typeof lt.source=="boolean"?lt.source:ut?{mandatory:{sourceId:lt.source}}:it(lt.source)?{}:{deviceId:{exact:lt.source}}}function st(lt){let dt=ot(lt.audio,lt.enableRenegotiation,lt.usingOptionalMandatoryStyle);if(dt===!1)return!1;const ut=lt.usingOptionalMandatoryStyle,ft=lt.enableStereo,pt=lt.echoCancellation,vt=lt.noiseSuppression,Ct=lt.autoGainControl,ht=lt.disableAudioProcessing,mt=yt=>{typeof dt=="object"&&(ut?(nt(dt,{optional:[]}),dt.optional.push(yt)):nt(dt,yt))};return(ft||ht||!pt||!vt||!Ct)&&dt===!0&&(dt={}),ft&&mt({channelCount:2}),["echoCancellation","autoGainControl","noiseSuppression"].forEach(yt=>{const Et=!ht&&lt[yt];mt({[yt]:Et})}),dt}function at(lt){let dt=ot(lt.video,lt.enableRenegotiation,lt.usingOptionalMandatoryStyle);if(dt===!1)return!1;const ut=lt.videoDimensions,ft=lt.frameRate,pt=lt.maxResolution,vt=lt.facingMode,Ct=lt.usingOptionalMandatoryStyle;if((ut||ft||pt||vt)&&dt===!0&&(dt={}),ut){const ht=ut.width,mt=ut.height;Ct?(nt(dt,{optional:[]}),dt.optional.push({minWidth:ht},{maxWidth:ht},{minHeight:mt},{maxHeight:mt})):nt(dt,{width:{ideal:ht},height:{ideal:mt}})}return ft&&(Ct?(nt(dt,{optional:[]}),dt.optional.push({minFrameRate:ft},{maxFrameRate:ft})):nt(dt,{frameRate:{ideal:ft}})),pt&&(Ct?nt(dt,{mandatory:{maxWidth:pt.width,maxHeight:pt.height}}):nt(dt,{width:{max:pt.width},height:{max:pt.height}})),vt&&(Ct?(nt(dt,{optional:[]}),dt.optional.push({facingMode:vt})):nt(dt,{facingMode:{ideal:vt}})),dt}function ct(lt){return{audio:st(lt),video:at(lt)}}_e.exports=function(dt){const ut=rt(dt);return{constraints:ct(ut),publishAudio:ut.audio.publish,publishVideo:ut.video.publish,frameRate:ut.frameRate,videoDimensions:ut.videoDimensions,audioDeviceId:typeof ut.audio.source=="string"?ut.audio.source:void 0,videoDeviceId:typeof ut.video.source=="string"?ut.video.source:void 0}}},function(_e,tt,et){var nt=et(583),rt=et(192),it=rt(function(ot,st,at){nt(ot,st,at)});_e.exports=it},function(_e,tt,et){var nt=et(63),rt=et(53);function it(ot,st,at){(at!==void 0&&!rt(ot[st],at)||at===void 0&&!(st in ot))&&nt(ot,st,at)}_e.exports=it},function(_e,tt){function et(nt,rt){if(!(rt==="constructor"&&typeof nt[rt]=="function")&&rt!="__proto__")return nt[rt]}_e.exports=et},function(_e,tt,et){const nt=et(3),rt=nt.name,it=nt.version,ot=nt.isChromiumEdge;_e.exports=ot||rt==="Chrome"&&it>=72||rt==="Firefox"&&it>=66||rt==="Opera"&&it>=60||rt==="Safari"},function(_e,tt,et){var nt=et(60),rt=et(260);function it(ot){return rt(nt(ot).toLowerCase())}_e.exports=it},function(_e,tt,et){var nt=et(591),rt=nt("toUpperCase");_e.exports=rt},function(_e,tt){function et(nt,rt,it){var ot=-1,st=nt.length;rt<0&&(rt=-rt>st?0:st+rt),it=it>st?st:it,it<0&&(it+=st),st=rt>it?0:it-rt>>>0,rt>>>=0;for(var at=Array(st);++ot<st;)at[ot]=nt[ot+rt];return at}_e.exports=et},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\ufe0e\\ufe0f",at="\\u200d",ct=RegExp("["+at+et+ot+st+"]");function lt(dt){return ct.test(dt)}_e.exports=lt},function(_e,tt,et){var nt=et(593),rt=et(262),it=et(594);function ot(st){return rt(st)?it(st):nt(st)}_e.exports=ot},function(_e,tt,et){const nt=et(3);_e.exports=!!(nt.isChrome&&nt.version>=74||nt.isEdge&&nt.version>=79)},function(_e,tt,et){const nt=et(3);_e.exports=rt=>nt.isElectron?rt instanceof MediaStreamTrack&&rt.label==="Screen":!1},function(_e,tt,et){var nt=et(100),rt=et(600),it=rt(nt);_e.exports=it},function(_e,tt,et){_e.exports=15e3},function(_e,tt,et){_e.exports=function(nt,rt){return rt===void 0&&(rt=!1),nt===void 0?rt:nt==="true"||nt===!0}},function(_e,tt,et){const nt=et(57);_e.exports=function(it){const ot=nt(it);if(ot.backgroundImageURI){const st=ot.backgroundImageURI.split(":")[0];ot.backgroundImageURI=["http","https","data"].indexOf(st)!==-1?st:"other"}return ot}},function(_e,tt,et){const nt=et(3);_e.exports=()=>!nt.isNode&&!nt.isElectron?(nt.isChrome||nt.isOpera||nt.isChromiumEdge)&&nt.version>=74||nt.isFirefox&&nt.version>=68||nt.isSafari&&nt.version>=11:!1},function(_e,tt){function et(nt,rt){return _e.exports=et=Object.setPrototypeOf||function(ot,st){return ot.__proto__=st,ot},et(nt,rt)}_e.exports=et},function(_e,tt,et){var nt=et(34),rt=et(78),it=et(616),ot=et(59),st=et(41),at=et(619),ct=et(140),lt=et(185),dt=1,ut=2,ft=4,pt=ct(function(vt,Ct){var ht={};if(vt==null)return ht;var mt=!1;Ct=nt(Ct,function(Et){return Et=ot(Et,vt),mt||(mt=Et.length>1),Et}),st(vt,lt(vt),ht),mt&&(ht=rt(ht,dt|ut|ft,at));for(var yt=Ct.length;yt--;)it(ht,Ct[yt]);return ht});_e.exports=pt},function(_e,tt,et){var nt=et(206),rt=et(36),it=et(97),ot=Math.max;function st(at,ct,lt){var dt=at==null?0:at.length;if(!dt)return-1;var ut=lt==null?0:it(lt);return ut<0&&(ut=ot(dt+ut,0)),nt(at,rt(ct,3),ut)}_e.exports=st},function(_e,tt,et){var nt=et(621);function rt(it){return it&&it.length?nt(it):[]}_e.exports=rt},function(_e,tt,et){const nt=et(628),rt=et(278),it=et(104)();_e.exports=(ot,st)=>{rt(ot,(at,ct)=>{let lt=[];it?typeof ct.values=="function"?lt=nt(ct.values()):typeof ct.forEach!="function"?lt=Object.keys(ct).map(dt=>ct[dt]):ct.forEach(dt=>{lt.push(dt)}):ct.result().forEach(dt=>{const ut={};dt.names().forEach(ft=>{ut[ft]=dt.stat(ft)}),ut.id=dt.id,ut.type=dt.type,ut.timestamp=dt.timestamp,lt.push(ut)}),st(null,lt)})}},function(_e,tt,et){var nt=et(30),rt=et(12),it=et(18),ot="[object String]";function st(at){return typeof at=="string"||!rt(at)&&it(at)&&nt(at)==ot}_e.exports=st},function(_e,tt,et){var nt=et(630),rt=et(31);function it(ot){return ot==null?[]:nt(ot,rt(ot))}_e.exports=it},function(_e,tt,et){const nt=et(104)(),rt=(st,at)=>{st.getStats(null).then(ct=>at(null,ct)).catch(at)},it=(st,at)=>{st.getStats(ct=>{at(null,ct)},at)},ot=(st,at)=>{(nt?rt:it)(st,at)};_e.exports=ot},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(49)),it=et(14),ot=nt(et(38)),st=nt(et(642)),at=nt(et(644)),ct=nt(et(50)),lt=nt(et(0));const dt=(0,lt.default)("QoS");let ut=function(pt){(0,rt.default)(vt,pt);function vt(){for(var ht,mt=arguments.length,yt=new Array(mt),Et=0;Et<mt;Et++)yt[Et]=arguments[Et];return ht=pt.call(this,...yt)||this,ht._peerConnection=void 0,ht._isPublisher=void 0,ht.timeoutId=void 0,ht._creationTime=(0,ct.default)(),ht.offerMessagesReceived=0,ht.prevStats={timeStamp:(0,ct.default)()},ht.changeCounters={videoCodec:new at.default,audioCodec:new at.default},ht}var Ct=vt.prototype;return Ct.startCollecting=function(mt,yt){if(!mt||!mt.getStats)return;this._isPublisher=yt;const Et=!!this._peerConnection;if(this._peerConnection=mt,Et)return;const Rt=Pt=>{const Vt=(0,ct.default)(),Nt={timeStamp:Vt,duration:Math.round((Vt-this._creationTime)/1e3),period:Math.round((Vt-this.prevStats.timeStamp)/1e3)};(0,st.default)(this._peerConnection,this.prevStats,Nt,this._isPublisher,(kt,wt)=>{if(kt){dt.error("Failed to Parse QOS Stats:",kt);return}this.handleParsedStats(wt),clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>Rt(vt.INTERVAL),Pt)})};this.timeoutId=setTimeout(()=>Rt(vt.INTERVAL-vt.INITIAL_INTERVAL),vt.INITIAL_INTERVAL)},Ct.stopCollecting=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this._peerConnection=null},Ct.handleOfferMessageReceived=function(){this.offerMessagesReceived+=1},Ct.handleParsedStats=function(mt){Object.keys(this.changeCounters).forEach(Rt=>{this.changeCounters[Rt].onValue(mt[Rt]),mt[`${Rt}ChangeCount`]=this.changeCounters[Rt].changeCount}),mt.offerMessagesReceived=this.offerMessagesReceived;const yt=(0,ot.default)(mt);if(["audioSentBytes","audioSentPackets","audioSentPacketsLost","videoSentBytes","videoSentPackets","videoSentPacketsLost","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost"].forEach(Rt=>{yt[Rt]=this.prevStats&&this.prevStats[Rt]?mt[Rt]-this.prevStats[Rt]:mt[Rt]}),this.prevStats&&this.prevStats.videoFramesReceived){const Rt=mt.videoFramesReceived-this.prevStats.videoFramesReceived,Pt=mt.period;yt.videoFrameRateReceived=Math.round(Rt/Pt)}this.prevStats=mt,delete yt.framesDecoded,delete yt.framesEncoded,this.emit("stats",yt)},vt}(it.EventEmitter);ut.INITIAL_INTERVAL=1e3,ut.INTERVAL=3e4;var ft=ut;tt.default=ft},function(_e,tt,et){_e.exports=nt=>{switch(nt>>24){case 0:return"TURN/TLS";case 1:return"TURN/TCP";case 2:return"TURN/UDP";default:return""}}},function(_e,tt,et){const nt=et(16),rt=et(159),it=rt.default,ot=et(7),st=et(13);_e.exports=function(ct){let lt=ct===void 0?{}:ct,dt=lt.haveGetDisplayMedia,ut=dt===void 0?it:dt,ft=lt.global,pt=ft===void 0?typeof window!==void 0?window:commonjsGlobal:ft,vt=lt.Errors,Ct=vt===void 0?ot:vt,ht=lt.otError,mt=ht===void 0?st():ht;const yt=!ut&&!!pt.navigator.webkitGetUserMedia&&!pt.navigator.userAgent.match(/android/i)&&typeof pt.chrome<"u";return{isSupportedInThisBrowser:yt,autoRegisters:!1,extensionRequired:!0,getConstraintsShowsPermissionUI:!0,sources:{screen:!0,application:!1,window:!0,browser:!0},register(Et,Rt){return Rt===2?this.registerVersion2(Et):this.registerVersion1(Et)},registerVersion1(Et){if(!Et)throw new Error("initChromeScreenSharingExtensionHelper: extensionID is required.");const Rt=yt,Pt={};let Vt;const Nt=`com.tokbox.screenSharing.${Et}`,kt=function(Bt,sn){const mn={payload:sn,from:"jsapi"};return mn[Nt]=Bt,mn},wt=function(Bt,sn){let mn;const En=nt();return Pt[En]=function(){clearTimeout(mn),mn=null,Bt(...arguments)},sn&&(mn=setTimeout(()=>{delete Pt[En],Bt(mt(Ct.TIMEOUT,new Error("Timeout waiting for response to screensharing request.")))},sn)),En},Zt=function(Bt){if(!Bt)throw new Error("isAvailable: callback is required.");if(!Rt){setTimeout(Bt.bind(null,!1));return}if(Vt!==void 0)setTimeout(Bt.bind(null,Vt));else{const sn=wt(En=>{Vt!==!0&&(Vt=En==="extensionLoaded"),Bt(Vt)},2e3),mn=kt("isExtensionInstalled",{requestId:sn});pt.postMessage(mn,"*")}},qt=function(Bt,sn,mn){if(!mn)throw new Error("getSourceId: callback is required");Zt(En=>{if(!En)return mn(mt(Ct.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));const cn=wt((xn,bn)=>{typeof xn=="object"&&xn.name&&xn.stack?mn(xn):xn==="permissionDenied"?mn(mt(Ct.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):(sn.video||(sn.video={}),sn.video.mandatory||(sn.video.mandatory={}),sn.video.mandatory.chromeMediaSource="desktop",sn.video.mandatory.chromeMediaSourceId=bn.sourceId,mn(void 0,sn))});pt.postMessage(kt("getSourceId",{requestId:cn,source:Bt}),"*")})};return pt.addEventListener("message",zt=>{if(zt.origin!==pt.location.origin||!(zt.data!=null&&typeof zt.data=="object")||zt.data.from!=="extension")return;const Bt=zt.data[Nt],sn=zt.data.payload;if(sn&&sn.requestId){const mn=Pt[sn.requestId];delete Pt[sn.requestId],mn&&mn(Bt,sn)}Bt==="extensionLoaded"&&(Vt=!0)}),{extensionAPIVersion:1,extensionID:Et,isInstalled:Zt,getConstraints:qt}},registerVersion2(Et){const Rt=yt&&typeof pt.chrome.runtime<"u",Pt=function(kt){if(!kt)throw new Error("isAvailable: callback is required.");if(!Rt){setTimeout(kt.bind(null,!1));return}pt.chrome.runtime.sendMessage(Et,{type:"isInstalled"},null,wt=>{setTimeout(kt.bind(null,!!wt))})};return{extensionAPIVersion:2,extensionID:Et,isInstalled:Pt,getConstraints:function(kt,wt,Zt){if(!Zt)throw new Error("getSourceId: callback is required");Pt(qt=>{if(!qt)return Zt(mt(Ct.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));pt.chrome.runtime.sendMessage(Et,{type:"getSourceId",source:kt},null,zt=>{zt.error==="permissionDenied"?Zt(mt(Ct.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):zt.error?Zt(new Error(`UnexpectError: ${zt.error}`)):(wt.video||(wt.video={}),wt.video.mandatory||(wt.video.mandatory={}),wt.video.mandatory.chromeMediaSource="desktop",wt.video.mandatory.chromeMediaSourceId=zt.sourceId,Zt(void 0,wt))})})}}}}}},function(_e,tt,et){(function(nt){const rt=et(155),it=et(105);_e.exports=function(st){st===void 0&&(st={});const at=st.Archiving||et(649),ct=st.AudioLevelMeter||et(283),lt=st.AudioLevelTransformer||et(144),dt=st.BackingBar||et(284),ut=st.Chrome||et(145),ft=st.MuteButton||et(285)(),pt=st.NamePanel||et(286),vt=st.VideoDisabledIndicator||et(287),Ct=st.StylableComponent||et(152),ht=st.logging||et(0)("createChromeMixin");return function(yt,Et){let Rt=Et===void 0?{}:Et,Pt=Rt.name,Vt=Rt.publishAudio,Nt=Rt.publishVideo,kt=Rt.audioSource,wt=Rt.showControls,Zt=Rt.shouldAllowAudio,qt=Rt.logAnalyticsEvent,zt,Bt,sn;const mn={},En=rt(),cn=gn=>{if(gn===!1)return"off";const vn=yt.getStyle("buttonDisplayMode");return vn===!1?"on":vn};let xn=new nt((gn,vn)=>{mn.init=Wn=>{yt.getStyle("showArchiveStatus")||qt("showArchiveStatus","createChrome",{mode:"off"});const Un={backingBar:new dt({nameMode:Pt?yt.getStyle("nameDisplayMode"):"off",muteMode:cn(yt.getStyle("buttonDisplayMode"))}),name:new pt({name:Pt,mode:yt.getStyle("nameDisplayMode")}),archive:new at({show:!!yt.getStyle("showArchiveStatus")&&yt.getStyle("archiveStatusDisplayMode")!=="off",archiving:!1}),muteButton:new ft({muted:Vt===!1,mode:cn.call(null,yt.getStyle("buttonDisplayMode"))})};zt=new ct({mode:yt.getStyle("audioLevelDisplayMode")});const Sn=new lt,On=new it(()=>{const Ln=Vt?Sn.transform(yt.loudness):0;zt.setValue(Ln)});zt.watchVisibilityChanged(Ln=>{Ln?On.start():On.stop()}),zt.audioOnly(!Nt&&Vt),Un.audioLevel=zt,Un.videoDisabledIndicator=new vt({mode:yt.getStyle("videoDisabledDisplayMode")}),Wn&&Wn.domElement&&(sn=Wn,Bt=new ut({parent:sn.domElement}).set(Un).on({muted:()=>yt.publishAudio(!1),unmuted:()=>yt.publishAudio(!0)}),(kt===null||kt===!1)&&mn.removeAudioTrack(),gn())},mn.reset=()=>{vn(new Error("Chrome still being created")),Bt&&(Bt.destroy(),Bt=null)},mn.destroy=()=>{mn.reset(),En.releaseAll(),xn=null}});xn.catch(gn=>{(!gn||gn.message!=="Chrome still being created")&&ht.error("createChromeMixin failed to setup UI",gn)}),mn.setAudioOnly=gn=>{zt&&zt.audioOnly(gn)},mn.setArchivingStatus=gn=>{Bt&&Bt.archive.setArchiving(gn)},mn.setMuted=gn=>{Bt&&Bt.muteButton&&Bt.muteButton.muted(gn)},mn.removeAudioTrack=()=>{Bt&&Bt.muteButton&&Bt.muteButton.remove()},mn.addAudioTrack=()=>{Bt&&Bt.muteButton&&Bt.muteButton.add()},mn.videoDisabledIndicator={disableVideo:function(){for(var vn,Wn=arguments.length,Un=new Array(Wn),Sn=0;Sn<Wn;Sn++)Un[Sn]=arguments[Sn];return(vn=Bt)==null?void 0:vn.videoDisabledIndicator.disableVideo(...Un)},setWarning:function(){for(var vn,Wn=arguments.length,Un=new Array(Wn),Sn=0;Sn<Wn;Sn++)Un[Sn]=arguments[Sn];return(vn=Bt)==null?void 0:vn.videoDisabledIndicator.setWarning(...Un)}},Ct(yt,{showArchiveStatus:!0,nameDisplayMode:"auto",buttonDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioLevelDisplayMode:Zt?"auto":"off",archiveStatusDisplayMode:"auto",backgroundImageURI:null},wt,gn=>{qt("SetStyle","Publisher",gn,null,.1)});const bn=(gn,vn)=>{xn.then(()=>{switch(gn){case"nameDisplayMode":Bt.name.setDisplayMode(vn),Bt.backingBar.setNameMode(vn);break;case"showArchiveStatus":qt("showArchiveStatus","styleChange",{mode:vn?"on":"off"}),Bt.archive.setShowArchiveStatus(!!vn);break;case"archiveStatusDisplayMode":Bt.archive.setShowArchiveStatus(vn!=="off");break;case"buttonDisplayMode":Bt.muteButton.setDisplayMode(vn),Bt.backingBar.setMuteMode(vn);break;case"audioLevelDisplayMode":Bt.audioLevel.setDisplayMode(vn);break;case"backgroundImageURI":sn.setBackgroundImageURI(vn);break}})};return yt.on("styleValueChanged",bn),En.add(()=>yt.off("styleValueChanged",bn)),mn}}}).call(this,et(2))},function(_e,tt,et){(function(nt){const rt=et(106),it=et(37),ot=et(8),st=et(14);_e.exports=function(ct){const lt=this,dt=new st;let ut,ft,pt,vt,Ct=!0,ht=!1,mt="auto";const yt=ct.maxValue||1,Et=ct.minValue||0;function Rt(){ft=ot.createElement("div",{className:"OT_audio-level-meter__value"},""),ut=ot.createElement("div",{className:"OT_audio-level-meter__audio-only-img"},"");const wt=lt.domElement;wt.appendChild(ut),wt.appendChild(ft),lt.watchVisibilityChanged(Zt=>{Zt?ot.removeClass(lt.domElement,"OT_hide-forced"):ot.addClass(lt.domElement,"OT_hide-forced")})}function Pt(){dt.removeAllListeners("visibilityChanged")}function Vt(){const wt=(pt-Et)/(yt-Et);ft.style.transform=`scale(${Math.sqrt(wt)})`}function Nt(){const wt=(ht&&mt==="auto"||mt==="on")&&Ct;vt!==wt&&(vt=wt,dt.emit("visibilityChanged",wt))}rt(lt,{audioOnly:{get(){return ht},set(wt){ht=wt,Nt()}}}),lt.setValue=function(wt){pt=wt,Vt()},lt.watchVisibilityChanged=function(wt){return dt.on("visibilityChanged",wt),nt.resolve().then(()=>{wt(vt)}),function(){dt.removeListener("visibilityChanged",wt)}};const kt={mode:ct?ct.mode:"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-level-meter"},onCreate:Rt,onDestroy:Pt};it(this,kt),lt.setDisplayMode=function(wt){mt=wt,Nt()},lt.getDisplayMode=function(){return mt},lt.showAfterLoading=function(){Ct=!0,Nt()},lt.hideWhileLoading=function(){Ct=!1,Nt()},Nt()}}).call(this,et(2))},function(_e,tt,et){const nt=et(37);_e.exports=function(it){let ot=it.nameMode,st=it.muteMode;function at(){return ot==="on"||st==="on"?"on":ot==="mini"||st==="mini"?"mini":ot==="mini-auto"||st==="mini-auto"?"mini-auto":ot==="auto"||st==="auto"?"auto":"off"}nt(this,{mode:at(),nodeName:"div",htmlContent:"",htmlAttributes:{className:"OT_bar OT_edge-bar-item"}}),this.setNameMode=function(ct){ot=ct,this.setDisplayMode(at())},this.setMuteMode=function(ct){st=ct,this.setDisplayMode(at())}}},function(_e,tt,et){const nt=et(8),rt=et(37),it=et(106);_e.exports=function(st){st===void 0&&(st={});const at=st.OTHelpers||nt,ct=st.Widget||rt;return function(dt){let ut=dt.muted||!1;const ft=()=>{ut?at.addClass(this.domElement,"OT_active"):at.removeClass(this.domElement,"OT_active ")},pt=()=>(ut=!ut,ft(),ut?this.parent.trigger("muted",this):this.parent.trigger("unmuted",this),!1),vt=yt=>{at.on(yt,"click",pt)},Ct=yt=>{at.off(yt,"click",pt)};it(this,{muted:{get(){return ut},set(yt){ut=yt,ft()}}});const ht=ut?"OT_edge-bar-item OT_mute OT_active":"OT_edge-bar-item OT_mute";ct(this,{mode:dt.mode,nodeName:"button",htmlContent:"Mute",htmlAttributes:{className:ht,type:"button"},onCreate:vt,onDestroy:Ct});let mt;this.remove=()=>{this.domElement&&this.domElement.parentNode&&(mt=this.domElement.parentNode,this.domElement.parentNode.removeChild(this.domElement))},this.add=()=>{mt&&this.domElement&&!this.domElement.parentNode&&mt.appendChild(this.domElement)}}}},function(_e,tt,et){const nt=et(37),rt=it=>{const ot=document.createElement("div");return ot.textContent=it,ot.innerHTML};_e.exports=function(ot){let st=ot.name;(!st||st.trim().length==="")&&(st=null,ot.mode="off"),this.setName=(function(at){st||this.setDisplayMode("auto"),st=rt(at),this.domElement.innerHTML=st}).bind(this),st=rt(st),nt(this,{mode:ot.mode,nodeName:"h1",htmlContent:st,htmlAttributes:{className:"OT_name OT_edge-bar-item"}})}},function(_e,tt,et){const nt=et(37),rt=et(8);_e.exports=function(ot){let st=!1,at=!1;const ct=(function(dt){const ut=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(dt,"OT_video-disabled OT_video-disabled-warning OT_active"),ut&&(st?rt.addClass(dt,"OT_video-disabled"):at&&rt.addClass(dt,"OT_video-disabled-warning"),rt.addClass(dt,"OT_active"))}).bind(this);this.disableVideo=function(dt){st=dt,dt===!0&&(at=!1),ct(this.domElement)},this.setWarning=function(dt){at=dt,ct(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-disabled-indicator"}});const lt=this.setDisplayMode.bind(this);this.setDisplayMode=function(dt){lt(dt),ct(this.domElement)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.global||(typeof window!==void 0?window:commonjsGlobal);return function(){if(it.navigator.mediaDevices){const st=it.navigator.mediaDevices;return st.enumerateDevices&&st.enumerateDevices.bind(st)}}}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;let nt="";var ot={getCurrentAudioInputDevice:()=>nt,setCurrentAudioInputDevice:st=>{nt=st}};tt.default=ot},function(_e,tt,et){const nt=et(3),rt=et(159).default,it=()=>!nt.isLegacyEdge&&!nt.isElectron&&rt&&!nt.isAndroid;_e.exports={isSupportedInThisBrowser:it(),autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:nt.name!=="Safari",browser:nt.name!=="Safari"},register(){return{isInstalled(ot){ot(void 0)},getConstraints(ot,st,at){at(void 0,{video:st.video,audio:st.audio})}}}}},function(_e,tt,et){const nt=rt=>rt&&typeof rt=="object"&&typeof rt.kind=="string"&&typeof rt.stop=="function"&&typeof rt.enabled=="boolean";tt.isMediaStreamTrack=nt},function(_e,tt,et){et.r(tt),(function(nt){var rt=function(ct,lt,dt,ut){return new(dt||(dt=nt))(function(ft,pt){function vt(mt){try{ht(ut.next(mt))}catch(yt){pt(yt)}}function Ct(mt){try{ht(ut.throw(mt))}catch(yt){pt(yt)}}function ht(mt){mt.done?ft(mt.value):new dt(function(yt){yt(mt.value)}).then(vt,Ct)}ht((ut=ut.apply(ct,lt||[])).next())})},it=function(ct,lt){var dt={label:0,sent:function(){if(pt[0]&1)throw pt[1];return pt[1]},trys:[],ops:[]},ut,ft,pt,vt;return vt={next:Ct(0),throw:Ct(1),return:Ct(2)},typeof Symbol=="function"&&(vt[Symbol.iterator]=function(){return this}),vt;function Ct(mt){return function(yt){return ht([mt,yt])}}function ht(mt){if(ut)throw new TypeError("Generator is already executing.");for(;dt;)try{if(ut=1,ft&&(pt=ft[mt[0]&2?"return":mt[0]?"throw":"next"])&&!(pt=pt.call(ft,mt[1])).done)return pt;switch(ft=0,pt&&(mt=[0,pt.value]),mt[0]){case 0:case 1:pt=mt;break;case 4:return dt.label++,{value:mt[1],done:!1};case 5:dt.label++,ft=mt[1],mt=[0];continue;case 7:mt=dt.ops.pop(),dt.trys.pop();continue;default:if(pt=dt.trys,!(pt=pt.length>0&&pt[pt.length-1])&&(mt[0]===6||mt[0]===2)){dt=0;continue}if(mt[0]===3&&(!pt||mt[1]>pt[0]&&mt[1]<pt[3])){dt.label=mt[1];break}if(mt[0]===6&&dt.label<pt[1]){dt.label=pt[1],pt=mt;break}if(pt&&dt.label<pt[2]){dt.label=pt[2],dt.ops.push(mt);break}pt[2]&&dt.ops.pop(),dt.trys.pop();continue}mt=lt.call(ct,dt)}catch(yt){mt=[6,yt],ft=0}finally{ut=pt=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}};function ot(){return typeof window<"u"||typeof window!==void 0?window:commonjsGlobal}var st="onFailure must return boolean, or delay in ms";function at(ct,lt,dt){return dt===void 0&&(dt=10),function(){for(var ut=[],ft=0;ft<arguments.length;ft++)ut[ft]=arguments[ft];return rt(this,void 0,void 0,function(){var pt,vt,Ct;return it(this,function(ht){switch(ht.label){case 0:pt=0,vt=function(){var mt,yt,Et;return it(this,function(Rt){switch(Rt.label){case 0:return Rt.trys.push([0,2,,6]),mt={},[4,ct.apply(void 0,ut)];case 1:return[2,(mt.value=Rt.sent(),mt)];case 2:if(yt=Rt.sent(),Et=lt(yt,pt),Et===!1||Et==null||pt>=dt)throw yt;return typeof Et!="number"?[3,4]:[4,new nt(function(Pt){return ot().setTimeout(Pt,Et)})];case 3:return Rt.sent(),[3,5];case 4:if(Et!==!0)throw new Error(st);Rt.label=5;case 5:return[3,6];case 6:return[2]}})},ht.label=1;case 1:return(pt+=1)?[5,vt()]:[3,3];case 2:return Ct=ht.sent(),typeof Ct=="object"?[2,Ct.value]:[3,1];case 3:return[2]}})})}}tt.default=at}).call(this,et(2))},function(_e,tt,et){const nt=et(0)("videoContentHint"),rt=["","text","motion","detail"],it=ct=>rt.includes(ct),ot=ct=>{var lt;return ct==null||(lt=ct.getVideoTracks())==null?void 0:lt[0]},st=(ct,lt)=>{if(!it(lt)){nt.warn('Invalid content hint. Valid content hints are "text", "detail", "motion", or ""');return}const dt=ot(ct);if(!dt){nt.warn("Tried to set contentHint but no video track is present");return}if(dt.contentHint===void 0){nt.warn("contentHint not supported by this browser");return}dt.contentHint=lt},at=ct=>{const lt=ot(ct);return(lt==null?void 0:lt.contentHint)||""};_e.exports={isValidVideoContentHint:it,setVideoContentHint:st,getVideoContentHint:at}},function(_e,tt,et){const nt=et(106);_e.exports=function(){return function(ot,st){let at;nt(this,{muted:{get(){return at},set(ct){if(at===ct)return;at=ct;const lt=ot.getAudioTracks();for(let dt=0,ut=lt.length;dt<ut;++dt)lt[dt].enabled=!at}}}),st!==void 0?this.muted(st===!0):ot.getAudioTracks().length?this.muted(!ot.getAudioTracks()[0].enabled):this.muted(!1)}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Errors||et(7),ot=rt.otError||et(13)(),st={};return(typeof window!==void 0?window:commonjsGlobal).MediaError&&(st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_ABORTED]={name:it.MEDIA_ERR_ABORTED,message:"The fetching process for the media resource was aborted by the user agent at the user's request."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_NETWORK]={name:it.MEDIA_ERR_NETWORK,message:"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_DECODE]={name:it.MEDIA_ERR_DECODE,message:"An error of some description occurred while decoding the media resource, after the resource was established to be usable."},st[(typeof window!==void 0?window:commonjsGlobal).MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]={name:it.MEDIA_ERR_SRC_NOT_SUPPORTED,message:"The media resource indicated by the src attribute was not suitable."}),function(ct){const lt=st[ct.code];return lt?ot(lt.name,new Error(`There was an unexpected problem with the Video Stream: ${lt.message}`)):new Error(`An unknown error occurred${ct.message?`: ${ct.message}`:"."}`)}}},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5));const st=et(6),at=et(62),ct=et(660),lt=et(661),dt=et(662),ut=et(108),ft=et(3),pt=et(20)(),vt=pt.hasAudioOutputApiSupport,Ct=et(297),ht=et(107),mt=ht.getCurrentAudioOutputDeviceId;function yt(Pt,Vt){const Nt=document.createElement("video");return lt(Nt),Nt.autoplay=!0,Nt.playsinline=!0,Nt.innerHTML=Pt,Nt.setAttribute("autoplay",""),Nt.setAttribute("playsinline",""),Vt===!0&&(Nt.muted="true"),Nt}function Et(){const Pt=yt("");return Pt.setAttribute("style","display:none"),Pt}function Rt(Pt){Pt===void 0&&(Pt={});const Vt=Pt.audioContext||et(158)(),Nt=Pt.canBeOrientatedMixin||et(663),kt=Pt.document||(typeof window!==void 0?window:commonjsGlobal).document,wt=Pt.listenForTracksEnded||et(664)(),Zt=Pt.logging||et(0),qt=Pt.OTHelpers||et(8),zt=Pt.videoElementErrorMap||et(295)(),Bt=Pt.WebaudioAudioLevelSampler||et(146),sn=Pt.global||(typeof window!==void 0?window:commonjsGlobal);let mn=1;return function(){function cn(bn,gn){var vn=this;let Wn=bn._inject,Un=Wn===void 0?{}:Wn,Sn=Un.createVideoElement,On=Sn===void 0?yt:Sn,Ln=Un.createAudioOnlyVideoElement,Jn=Ln===void 0?Et:Ln,ur=bn.muted,sr=bn.fallbackText,pr=bn.widgetType;this._domElement=void 0,this._domAudioOnlyVideoElement=void 0,this._blockedVolume=void 0,this._mediaStoppedListener=void 0,this._audioLevelSampler=void 0,this._playInterrupts=0,this._isVideoLoadedMetaData=!1,this._audioOnlyVideoElementWatcher=void 0,this._blinkStartTime=null,this.logging=Zt(`NativeVideoElementWrapper:${mn}`),mn+=1,st(this),this._defaultAudioVolume=gn,this._widgetType=pr,this._emitVideoPlayAttempt=()=>{this._blinkStartTime=new Date().getTime(),this.trigger("amrLogEvent","AMRTransitionVideo","Attempt")},this._emitVideoPlaySuccess=()=>{const Dr=new Date().getTime()-this._blinkStartTime;this.trigger("amrLogEvent","AMRTransitionVideo","Success",{attemptDuration:Dr}),this._blinkStartTime=null},this._emitVideoPlayFailure=()=>{this.trigger("amrLogEvent","AMRTransitionVideo","Failure")};let Ir=!1;const Er=()=>{Ir||(this.logging.warn("Video element paused, auto-resuming. If you intended to do this, use publishVideo(false) or subscribeToVideo(false) instead."),Ir=!0),this.play()};this._domElement=On(sr,ur),this.trigger("videoElementCreated",this._domElement),this._domElementEvents=at(this._domElement),this._domElementEvents.on("loadstart",()=>this._onDomElementLoadStart()),this._domElementEvents.on("timeupdate",function(){for(var Dr=arguments.length,to=new Array(Dr),po=0;po<Dr;po++)to[po]=arguments[po];return vn.trigger("timeupdate",...to)}),this._domElementEvents.on("loadedmetadata",(0,ot.default)(it.default.mark(function Dr(){var to,po,Nr,br,zn=arguments;return it.default.wrap(function(cr){for(;;)switch(cr.prev=cr.next){case 0:for(vn._isVideoLoadedMetaData=!0,to=zn.length,po=new Array(to),Nr=0;Nr<to;Nr++)po[Nr]=zn[Nr];if(vn.trigger("loadedmetadata",...po),!vn._domAudioOnlyVideoElement){cr.next=10;break}if(br=vn._domAudioOnlyVideoElement.srcObject,vn._removeAudioOnlyVideoElement(),!br){cr.next=10;break}return cr.next=9,Ct();case 9:vn.play();case 10:case"end":return cr.stop()}},Dr)})));const Kr=Dr=>{this.trigger("error",zt(Dr.target.error))};this._domElementEvents.on("error",Kr,!1),this._domElementEvents.on("pause",Er),this.on("destroyed",()=>{this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll()}),Nt(this,()=>this._domElement),ft.isSafari&&this._widgetType==="subscriber"&&(this._domAudioOnlyVideoElement=Jn(),this._bindAudioOnlyVideoElementEvents())}var xn=cn.prototype;return xn._onDomElementLoadStart=function(){var bn=(0,ot.default)(it.default.mark(function vn(){return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(!(this._widgetType==="subscriber"&&vt())){Un.next=3;break}return Un.next=3,this._setActiveAudioOutputDevice();case 3:case"end":return Un.stop()}},vn,this)}));function gn(){return bn.apply(this,arguments)}return gn}(),xn._setActiveAudioOutputDevice=function(){var bn=(0,ot.default)(it.default.mark(function vn(){var Wn;return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:if(Wn=mt(),!(Wn===""||Wn==="default")){Sn.next=3;break}return Sn.abrupt("return");case 3:return Sn.next=5,this.setSinkId(Wn);case 5:case"end":return Sn.stop()}},vn,this)}));function gn(){return bn.apply(this,arguments)}return gn}(),xn._rebindSrcObject=function(){this._domElement&&(this._domElement.srcObject=this._domElement.srcObject)},xn._pauseAndPlay=function(){this._domElement&&(this._domElement.pause(),this._domElement.play())},xn._startAudioOnlyVideoElementWatcher=function(){var bn=(0,ot.default)(it.default.mark(function vn(){var Wn,Un;return it.default.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:return Wn=1e3,Un=ft.isiOS,this._audioOnlyVideoElementWatcher=setInterval(()=>{this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.paused&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject,Un&&this._domAudioOnlyVideoElement.play())},100),On.next=5,ut(Wn);case 5:clearInterval(this._audioOnlyVideoElementWatcher),this._audioOnlyVideoElementWatcher=null;case 7:case"end":return On.stop()}},vn,this)}));function gn(){return bn.apply(this,arguments)}return gn}(),xn._removeAudioOnlyVideoElement=function(){var bn=(0,ot.default)(it.default.mark(function vn(){return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:this._domAudioOnlyVideoElement.srcObject=null,this._domAudioOnlyVideoElement.parentNode.removeChild(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._domAudioOnlyVideoElement=null;case 4:case"end":return Un.stop()}},vn,this)}));function gn(){return bn.apply(this,arguments)}return gn}(),xn.bindAudioTrackOnly=function(){var bn=(0,ot.default)(it.default.mark(function vn(){var Wn,Un,Sn,On,Ln,Jn,ur;return it.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:return Wn=this._stream.getVideoTracks(),Un=this._stream.getAudioTracks(),Sn=Wn[0],On=Sn===void 0?{}:Sn,Ln=Un[0],Jn=Ln===void 0?{}:Ln,pr.next=6,Ct();case 6:ur=!On.enabled&&Jn.enabled,!this._isVideoLoadedMetaData&&ur&&this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=new sn.MediaStream(Un),this._startAudioOnlyVideoElementWatcher());case 8:case"end":return pr.stop()}},vn,this)}));function gn(){return bn.apply(this,arguments)}return gn}(),xn._bindAudioOnlyVideoElementEvents=function(){var gn=this;this._domAudioOnlyVideoElementEvents=at(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents.on("pause",()=>this.play()),this._domAudioOnlyVideoElementEvents.on("timeupdate",function(){for(var vn=arguments.length,Wn=new Array(vn),Un=0;Un<vn;Un++)Wn[Un]=arguments[Un];return gn.trigger("timeupdate",...Wn)}),this._domAudioOnlyVideoElementEvents.on("loadedmetadata",function(){for(var vn=arguments.length,Wn=new Array(vn),Un=0;Un<vn;Un++)Wn[Un]=arguments[Un];return gn.trigger("loadedmetadata",...Wn)})},xn.whenTimeIncrements=function(gn,vn){this.once("timeupdate",()=>{gn.call(vn,this)})},xn.domElement=function(){return this._domElement},xn.videoWidth=function(){return this._domElement?Number(this._domElement[`video${this.isRotated()?"Height":"Width"}`]):0},xn.videoHeight=function(){return this._domElement?Number(this._domElement[`video${this.isRotated()?"Width":"Height"}`]):0},xn.aspectRatio=function(){return this.videoWidth()/this.videoHeight()},xn.imgData=function(){const gn=qt.createElement("canvas",{width:this.videoWidth(),height:this.videoHeight(),style:{display:"none"}});kt.body.appendChild(gn);let vn=null;try{gn.getContext("2d").drawImage(this._domElement,0,0,gn.width,gn.height),vn=gn.toDataURL("image/png")}catch{}return qt.removeElement(gn),vn===null||vn==="data:,"?(this.logging.warn("Cannot get image data yet"),null):vn.replace("data:image/png;base64,","").trim()},xn.appendTo=function(gn){return gn.appendChild(this._domElement),this._domAudioOnlyVideoElement&&gn.appendChild(this._domAudioOnlyVideoElement),this},xn.isAudioBlocked=function(){return this._blockedVolume!==void 0},xn.unblockAudio=function(){var bn=(0,ot.default)(it.default.mark(function vn(){var Wn;return it.default.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:if(this.isAudioBlocked()){Sn.next=3;break}return this.logging.warn("Unexpected call to unblockAudio() without blocked audio"),Sn.abrupt("return");case 3:return Wn=this._blockedVolume,this._blockedVolume=void 0,this.setAudioVolume(Wn),Sn.prev=6,Sn.next=9,this.play();case 9:Sn.next=16;break;case 11:throw Sn.prev=11,Sn.t0=Sn.catch(6),this._blockedVolume=Wn,this._domElement.muted=!0,Sn.t0;case 16:this.trigger("audioUnblocked");case 17:case"end":return Sn.stop()}},vn,this,[[6,11]])}));function gn(){return bn.apply(this,arguments)}return gn}(),xn.rebind=function(){var bn=(0,ot.default)(it.default.mark(function vn(){return it.default.wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(this._domElement){Un.next=2;break}throw new Error("Can't rebind because _domElement no longer exists");case 2:this._playInterrupts++,this._domElement.srcObject=this._domElement.srcObject,this._hasAudioOnlyVideoElement()&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject);case 5:case"end":return Un.stop()}},vn,this)}));function gn(){return bn.apply(this,arguments)}return gn}(),xn._createAudioLevelSampler=function(){if(this._removeAudioLevelSampler(),this._stream.getAudioTracks().length>0){try{this._audioContext=Vt()}catch(gn){this.logging.warn("Failed to get AudioContext(), audio level visualisation will not work",gn)}this._audioContext&&(this._audioLevelSampler=new Bt(this._audioContext),this._audioLevelSampler.webRTCStream(this._stream))}},xn._removeAudioLevelSampler=function(){this._audioContext&&(delete this._audioContext,delete this._audioLevelSampler)},xn._toggleVideoTracks=function(){var bn=(0,ot.default)(it.default.mark(function vn(){var Wn,Un,Sn;return it.default.wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:if(Wn=this._domElement.srcObject.getTracks().filter(Jn=>Jn.enabled),Un=Wn.length>1,!Un){Ln.next=8;break}return Sn=Wn.filter(Jn=>Jn.kind==="video"),Sn.forEach(Jn=>{Jn.enabled=!1}),Ln.next=7,Ct();case 7:Sn.forEach(Jn=>{Jn.enabled=!0});case 8:case"end":return Ln.stop()}},vn,this)}));function gn(){return bn.apply(this,arguments)}return gn}(),xn._hasAudioOnlyVideoElement=function(){return this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.srcObject},xn.play=function(){var bn=(0,ot.default)(it.default.mark(function vn(){var Wn,Un,Sn,On,Ln,Jn,ur,sr,pr,Ir,Er,Kr;return it.default.wrap(function(to){for(;;)switch(to.prev=to.next){case 0:if(Wn=this._playInterrupts,Un=this._hasAudioOnlyVideoElement()?this._domAudioOnlyVideoElement:this._domElement,!ft.isSafari){to.next=5;break}return to.next=5,Ct();case 5:if(!(ft.isiOS&&ft.isSafari)){to.next=15;break}if(this._widgetType!=="publisher"){to.next=14;break}if(Sn=ft.iOSVersion>=14&&ft.iOSVersion<=14.2,On=this._stream.getVideoTracks(),Ln=On[0],Jn=Ln===void 0?{}:Ln,ur=this._stream.getAudioTracks(),sr=ur[0],pr=sr===void 0?{}:sr,!(Sn&&!dt(Un)&&Jn.enabled)){to.next=12;break}return to.abrupt("return");case 12:if(!pr.muted){to.next=14;break}return to.abrupt("return");case 14:this._toggleVideoTracks();case 15:return to.prev=15,this._emitVideoPlayAttempt(),to.next=19,Un.play();case 19:return this._emitVideoPlaySuccess(),to.abrupt("return");case 23:if(to.prev=23,to.t0=to.catch(15),this._emitVideoPlayFailure(),Ir=to.t0||{},Er=Ir.name,Kr=Er==="AbortError",Kr&&this._playInterrupts++,!(this._playInterrupts>Wn)){to.next=33;break}return to.next=32,this.play();case 32:return to.abrupt("return");case 33:throw to.t0;case 34:case"end":return to.stop()}},vn,this,[[15,23]])}));function gn(){return bn.apply(this,arguments)}return gn}(),xn._bindToStream=function(gn){this._stream=gn,this._domElement.srcObject=gn,this._domAudioOnlyVideoElement&&this.bindAudioTrackOnly()},xn.bindToStream=function(){var bn=(0,ot.default)(it.default.mark(function vn(Wn){var Un=this,Sn,On,Ln;return it.default.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:if(this._domElement){ur.next=2;break}throw new Error("Can't bind because _domElement no longer exists");case 2:return this._bindToStream(Wn),(0,ot.default)(it.default.mark(function sr(){var pr;return it.default.wrap(function(Er){for(;;)switch(Er.prev=Er.next){case 0:return Er.prev=0,Er.next=3,Un.play();case 3:Er.next=26;break;case 5:if(Er.prev=5,Er.t0=Er.catch(0),pr=!!Wn.getAudioTracks().length,!(Un._hasAudioOnlyVideoElement()&&Er.t0.name==="NotAllowedError")){Er.next=15;break}return Un._domAudioOnlyVideoElement.muted=!0,Er.next=12,Un.play();case 12:Un._domAudioOnlyVideoElement.muted=!1,Er.next=26;break;case 15:if(!pr){Er.next=23;break}return Un._blockedVolume=Un.getAudioVolume(),Un._domElement.muted=!0,Er.next=20,Un.play();case 20:Un.trigger("audioBlocked"),Er.next=26;break;case 23:return Un._domElement.muted=!0,Er.next=26,Un.play();case 26:case"end":return Er.stop()}},sr,null,[[0,5]])}))().catch(sr=>{this.logging.debug(".play() failed: ",sr)}),Sn={width:this._domElement.videoWidth,height:this._domElement.videoHeight},this.trigger("videoDimensionsChanged",Object.assign({},Sn),Object.assign({},Sn)),this._domElementEvents.on("resize",()=>{const sr=this._domElement,pr=sr.videoWidth,Ir=sr.videoHeight,Er=pr!==Sn.width,Kr=Ir!==Sn.height;(Er||Kr)&&(this.trigger("videoDimensionsChanged",Object.assign({},Sn),{width:pr,height:Ir}),Sn.width=pr,Sn.height=Ir)}),On=()=>{this._mediaStoppedListener.stop(),this._domElement&&(this._domElement.onended=null),this.trigger("mediaStopped")},Ln=sr=>{this.trigger("mediaStopped",sr)},this._domElement.onended=()=>On(),this._mediaStoppedListener=wt(Wn,On,Ln),this._createAudioLevelSampler(),ur.abrupt("return",void 0);case 13:case"end":return ur.stop()}},vn,this)}));function gn(vn){return bn.apply(this,arguments)}return gn}(),xn.unbindStream=function(){return this._domElement&&(this._domElement.srcObject=null),this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=null),this._removeAudioLevelSampler(),this},xn.setAudioVolume=function(gn){if(this.isAudioBlocked()){this._blockedVolume=gn;return}const vn=parseFloat(gn)/100,Wn=[this.domElement()];this._domAudioOnlyVideoElement&&Wn.push(this._domAudioOnlyVideoElement),Wn.forEach(Un=>{Un&&(Un.volume=vn,Un.muted=vn===0)})},xn.getAudioVolume=function(){if(this.isAudioBlocked())return this._blockedVolume;const gn=this.domElement();return gn?gn.muted?0:gn.volume*100:this._defaultAudioVolume},xn.audioChannelType=function(gn){const vn=this.domElement();return gn!==void 0&&(vn.mozAudioChannelType=gn),"mozAudioChannelType"in this._domElement?vn.mozAudioChannelType:"unknown"},xn.getAudioInputLevel=function(){return this._audioLevelSampler.sample()},xn.refreshTracks=function(){this._mediaStoppedListener&&this._mediaStoppedListener.refresh(),this._createAudioLevelSampler()},xn.destroy=function(){this._mediaStoppedListener&&this._mediaStoppedListener.stop(),this.logging.debug("removing domElementEvents"),this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._audioOnlyVideoElementWatcher&&clearInterval(this._audioOnlyVideoElementWatcher),this.unbindStream(),this._domElement&&(qt.removeElement(this._domElement),this._domElement=null),this._domAudioOnlyVideoElement&&(qt.removeElement(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElement=null),this.trigger("destroyed"),ct("NativeVideoElementWrapper",this)},xn.setSinkId=function(gn){const Wn=[this._domElement,this._domAudioOnlyVideoElement].map(Un=>{if(Un)return Un.setSinkId(gn)});return nt.all(Wn)},cn}()}_e.exports=Rt}).call(this,et(2))},function(_e,tt,et){(function(nt){_e.exports=()=>new nt(rt=>setTimeout(rt))}).call(this,et(2))},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5)),st=rt(et(665)),at=rt(et(666)),ct=rt(et(671)),lt=rt(et(0)),dt=et(29),ut=rt(et(75)),ft=rt(et(675));const pt=ut.default.ACTIVE_VIDEO,vt=ut.default.SUSPENDED_VIDEO,Ct=et(9),ht=et(48),mt=et(61),yt=et(6),Et=et(303),Rt=et(304),Pt=et(677),Vt=(0,lt.default)("PublisherPeerConnection");_e.exports=function(kt){kt===void 0&&(kt={});const wt=kt.getStatsHelpers||et(76),Zt=kt.OTHelpers||et(8),qt=kt.PeerConnection||et(72)(),zt=kt.setCertificates||et(163)(),Bt=kt.watchAudioAcquisition||et(679),sn=kt.createAudioFallbackStateMachine||st.default,mn=kt.createCongestionLevelEstimator||at.default,En=kt.createNetworkQualityMonitor||ct.default,cn=kt.getDelayForAmrProbe||ft.default;return function(bn){var gn=this;let vn=bn.iceConfig,Wn=bn.webRTCStream,Un=bn.channels,Sn=bn.sendMessage,On=bn.capableSimulcastStreams,Ln=bn.overrideSimulcastEnabled,Jn=bn.logAnalyticsEvent,ur=bn.offerOverrides,sr=bn.answerOverrides,pr=bn.sourceStreamId,Ir=bn.isP2pEnabled,Er=bn.sessionId,Kr=bn.keyStore,Dr=bn.sFrameClientStore,to=bn.isE2ee,po=bn.audioFallbackEnabled,Nr=bn.resolution,br,zn=!1,Qn,cr,qr,To;const dr=function(){this.destroy(),zn&&(zn=!1,this.trigger("iceRestartFailure")),this.trigger("disconnected")},Lr=function(Gr){let wr=Gr.reason,Oo=Gr.prefix;this.trigger("error",{reason:wr,prefix:Oo})},Yr=function(Gr){zn&&br.iceConnectionStateIsConnected()&&(zn=!1,this.trigger("iceRestartSuccess")),Gr==="connected"&&(Zt.env.name==="Chrome"&&(Qn&&Qn(),Qn=Bt(br.getStats.bind(br),()=>this.trigger("audioAcquisitionProblem"))),this.trigger("connected")),this.trigger("iceConnectionStateChange",Gr)};this._setVideoTrackEncodingActiveState=function(){var so=(0,ot.default)(it.default.mark(function Gr(wr){var Oo,$r;return it.default.wrap(function(rs){for(;;)switch(rs.prev=rs.next){case 0:return Oo=gn.getSenders().find(Al=>Al.track.kind==="video"),$r=Oo.getParameters(),$r.encodings.forEach(Al=>{Al.active=wr}),rs.prev=3,rs.next=6,Oo.setParameters($r);case 6:rs.next=11;break;case 8:rs.prev=8,rs.t0=rs.catch(3),Vt.error(rs.t0);case 11:case"end":return rs.stop()}},Gr,null,[[3,8]])}));return function(Gr){return so.apply(this,arguments)}}(),yt(this),this.setCongestionLevel=so=>{var Gr;(Gr=cr)==null||Gr.setCongestionLevel(so)},this.getAudioFallbackState=()=>{var so;return(so=cr)==null?void 0:so.getState()},this.startEncryption=so=>{br&&br.startEncryption(so)},this.changeMediaDirectionToInactive=()=>{br&&br.changeMediaDirectionToInactive()},this.changeMediaDirectionToRecvOnly=()=>{br&&br.changeMediaDirectionToRecvOnly()},this.getDataChannel=function(so,Gr,wr){br.getDataChannel(so,Gr,wr)},this.getSourceStreamId=()=>br.getSourceStreamId(),this.destroy=function(){var so,Gr;(so=qr)==null||so.stop(),(Gr=To)==null||Gr.stop(),Qn&&(Qn(),Qn=null),br&&(br.disconnect(),br=null),this.off()},this.processMessage=function(so,Gr){br.processMessage(so,Gr)},this.addTrack=function(so,Gr,wr){return br.addTrack(so,Gr,wr)},this.removeTrack=function(so){return br.removeTrack(so)},this.getLocalStreams=function(){return br.getLocalStreams()},this.init=function(so,Gr){Et(pr)&&Rt(vn);const wr={iceConfig:vn.needRumorIceServersFallback?Ct(vn,{servers:[...so,...vn.servers]}):vn,channels:Un,capableSimulcastStreams:On,overrideSimulcastEnabled:Ln};zt(wr,(Oo,$r)=>{if(Oo){Gr(Oo);return}const os=Ct({logAnalyticsEvent:Jn,isPublisher:!0,offerOverrides:ur,answerOverrides:sr,sourceStreamId:pr,p2p:Ir,sessionId:Er,keyStore:Kr,sFrameClientStore:Dr,isE2ee:to},$r);br=new qt(Ct({sendMessage:Sn},os)),br.on({close:dr,error:Lr,qos:rs=>this.trigger("qos",rs),iceConnectionStateChange:Yr},this),br.addLocalStream(Wn).then(()=>{Gr(void 0)}).catch(Gr)})},this.setIceConfig=so=>{br.setIceConfig(so)},this.generateOffer=()=>{br.generateOfferAndSend()},this.getSenders=function(){return br.getSenders()},this.iceRestart=function(){br&&(zn=!0,br.iceRestart())},this.hasRelayCandidates=()=>br.hasRelayCandidates(),this.iceConnectionStateIsConnected=function(){return br.iceConnectionStateIsConnected()},this.findAndReplaceTrack=(so,Gr)=>br.findAndReplaceTrack(so,Gr),this._testOnlyGetFramesEncoded=()=>new nt((so,Gr)=>{br.getStats((wr,Oo)=>{if(wr){Gr(wr);return}const $r=mt(Oo,os=>wt.isVideoStat(os,Oo)&&wt.isOutboundStat(os));if(!$r){Gr(new Error("Could not find framesEncoded in getStats report"));return}so(ht($r,["timestamp","framesEncoded"]))})}),this.getStats=so=>br.getStats(so),this.getRtcStatsReport=so=>br.getRtcStatsReport(so),this.setVideoActiveState=so=>{this._setVideoTrackEncodingActiveState(so),po&&(so?this.enableCongestionLevelEstimation():this.disableCongestionLevelEstimation())},this.setP2PMaxBitrate=(0,ot.default)(it.default.mark(function so(){var Gr,wr,Oo,$r,os,rs,Al;return it.default.wrap(function(is){for(;;)switch(is.prev=is.next){case 0:if(gn.getSourceStreamId()==="P2P"){is.next=2;break}return is.abrupt("return");case 2:if(wr=gn.getSenders().find(Gs=>Gs.track.kind==="video"),wr){is.next=5;break}return is.abrupt("return");case 5:return Oo=(wr==null||(Gr=wr.track)==null||Gr.getSettings==null?void 0:Gr.getSettings())||{},$r=Oo.width,os=Oo.height,rs=Pt($r,os),Al=wr.getParameters(),Al.encodings.forEach(Gs=>{Gs.maxBitrate=rs}),is.prev=9,is.next=12,wr.setParameters(Al);case 12:is.next=16;break;case 14:is.prev=14,is.t0=is.catch(9);case 16:case"end":return is.stop()}},so,null,[[9,14]])}));const yo=function(Gr){var wr,Oo;let $r=Gr===void 0?{}:Gr,os=$r.isAmrTransition,rs=os===void 0?!1:os;gn._setVideoTrackEncodingActiveState(!1),(wr=qr)==null||wr.stop(),(Oo=To)==null||Oo.start(rs?{getDelayForProbeNumber:cn}:{})};this.disableCongestionLevelEstimation=()=>{if(po){var so,Gr,wr;(so=qr)==null||so.stop(),(Gr=To)==null||Gr.stop(),(wr=cr)==null||wr.reset()}},this.enableCongestionLevelEstimation=so=>{if(po){var Gr,wr;if((Gr=To)==null||Gr.stop(),so){if(cr.setInternalState(so),so.videoState===vt){yo({isAmrTransition:!0});return}}else cr.setCongestionLevel(dt.CongestionLevels.LOW);(wr=qr)==null||wr.start()}};const Mr=()=>{cr=sn(),cr.on("stateChange",so=>{let Gr=so.state;switch(Gr){case pt:this._setVideoTrackEncodingActiveState(!0);break;case vt:yo();break}this.trigger("audioFallbackStateChange",{state:Gr})}),qr.on("congestionLevel",so=>{var Gr;(Gr=cr)==null||Gr.setCongestionLevel(so)}),To.on("networkRecovered",()=>{var so,Gr;(so=cr)==null||so.setCongestionLevel(dt.CongestionLevels.LOW),(Gr=qr)==null||Gr.start()})},wo=()=>{qr=mn({resolution:Nr,getStats:this.getStats}),this.on("connected",()=>{qr.start()})};po&&((()=>{To=En({getStats:this.getStats,setVideoActive:this._setVideoTrackEncodingActiveState})})(),wo(),Mr())}}}).call(this,et(2))},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=it(et(669));function rt(dt){if(typeof WeakMap!="function")return null;var ut=new WeakMap,ft=new WeakMap;return(rt=function(vt){return vt?ft:ut})(dt)}function it(dt,ut){if(!ut&&dt&&dt.__esModule)return dt;if(dt===null||typeof dt!="object"&&typeof dt!="function")return{default:dt};var ft=rt(ut);if(ft&&ft.has(dt))return ft.get(dt);var pt={},vt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ct in dt)if(Ct!=="default"&&Object.prototype.hasOwnProperty.call(dt,Ct)){var ht=vt?Object.getOwnPropertyDescriptor(dt,Ct):null;ht&&(ht.get||ht.set)?Object.defineProperty(pt,Ct,ht):pt[Ct]=dt[Ct]}return pt.default=dt,ft&&ft.set(dt,pt),pt}const ot=et(14),st=1e3,at=500;var lt=function(ut,ft){ft===void 0&&(ft={});const pt=ft.StatsUtils||nt,vt=new ot;let Ct;const ht=Et=>{const Rt=pt.parseStats(Et);if(!Ct){Ct=Rt;return}const Pt=pt.getAudioPacketLoss(Rt,Ct),Vt=pt.getVideoPacketLoss(Rt,Ct),Nt=Rt.bandwidth;Ct=Rt,vt.emit("statsAvailable",{audioPacketLoss:Pt,videoPacketLoss:Vt,bandwidth:Nt})},mt=()=>{ut((Et,Rt)=>{Et||ht(Rt)})};let yt;return Object.assign(vt,{start(){yt||(yt=setTimeout(()=>{mt(),yt=setInterval(()=>{mt()},at)},st))},stop(){clearInterval(yt),yt=void 0,Ct=void 0}})};tt.default=lt},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var rt=function(ot){ot===void 0&&(ot=0);let st=ot,at=1e4,ct;const lt=()=>{const dt=Date.now();if(!ct)return ct=dt,1;const ut=dt-ct,ft=1-Math.exp(-ut/at);return ct=dt,ft};return{setPeriod(dt){at=dt},getMovingAverageValue(){return st},addValue(dt){const ut=lt();st=dt*ut+st*(1-ut)},reset(){st=ot,ct=void 0}}};tt.default=rt},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=et(302);const rt=30*nt.ONE_SECOND_IN_MS,it=2*nt.ONE_MINUTE_IN_MS,ot=[rt,nt.ONE_MINUTE_IN_MS,it];var at=ct=>{var lt;return(lt=ot[ct])!=null?lt:ot[ot.length-1]};tt.default=at},function(_e,tt,et){tt.__esModule=!0,tt.ONE_SECOND_IN_MS=tt.ONE_MINUTE_IN_MS=void 0;const nt=1e3;tt.ONE_SECOND_IN_MS=nt;const rt=60*nt;tt.ONE_MINUTE_IN_MS=rt},function(_e,tt,et){const nt=et(676);_e.exports=rt=>rt!=="P2P"?!1:nt()},function(_e,tt,et){_e.exports=nt=>{nt.transportPolicy="relay",nt.customServers=nt.customServers||[]}},function(_e,tt,et){const nt=et(9),rt=et(6),it=et(303),ot=et(304);_e.exports=function(at){at===void 0&&(at={});const ct=at.OTHelpers||et(8),lt=at.PeerConnection||et(72)(),dt=at.SinglePeerConnectionAdapter||et(680)(),ut=at.setCertificates||et(163)(),ft=at.Errors||et(7),pt=at.ExceptionCodes||et(10),vt=at.OTErrorClass||et(23),Ct=at.watchSubscriberAudio||et(681);return function(mt){let yt=mt.clientCandidates,Et=mt.iceConfig,Rt=mt.send,Pt=mt.logAnalyticsEvent,Vt=mt.p2p,Nt=mt.codecFlags,kt=mt.sourceStreamId,wt=mt.remoteConnectionId,Zt=mt._singlePeerConnectionController,qt=mt.keyStore,zt=mt.sFrameClientStore,Bt=mt.isE2ee;const sn=this;let mn,En=!1,cn=!1,xn=null;const bn=!!Zt;let gn=!1;const vn=[],Wn=[],Un=function(){this.destroy(),cn&&this.trigger("iceRestartFailure",this),this.trigger("disconnected",this)},Sn=zn=>{this.trigger("remoteStreamRemoved",zn,this)},On=zn=>{const Qn=zn.kind==="video"?vn:Wn,cr=Qn.indexOf(zn);cr>-1&&Qn.splice(cr,1)},Ln=zn=>{const Qn=zn.kind==="video"?vn:Wn;Qn.includes(zn)||Qn.push(zn)},Jn=100,ur=zn=>{gn||(zn.onremovetrack=Qn=>{let cr=Qn.track;On(cr),bn&&mn&&mn.removeTrack(cr),setTimeout(()=>{!vn.length&&!Wn.length&&Sn(zn)},Jn)},gn=!0)},sr=zn=>{const Qn=zn.stream,cr=zn.track;Ln(cr),ur(Qn),this.trigger("remoteTrackAdded",zn,this)},pr=zn=>{this.trigger("remoteVideoSupported",zn)},Ir=()=>{this.trigger("decryptFailed")},Er=()=>{this.trigger("decryptRestored")},Kr=function(Qn){let cr=Qn.reason,qr=Qn.prefix;this.trigger("error",null,cr,this,qr)},Dr=function(Qn){cn&&(Qn==="connected"||Qn==="completed")&&(cn=!1,this.trigger("iceRestartSuccess")),Qn==="connected"&&this.trigger("connected"),this.trigger("iceConnectionStateChange",Qn)},to=function(Qn){this.trigger("signalingStateChange",Qn)},po=function(Qn){this.trigger("signalingStateStable",Qn)},Nr=(zn,Qn)=>{(zn==="answer"||zn==="pranswer")&&this.trigger("connected"),Rt(zn,Qn)};rt(this),this._hasAudioTracks=()=>Wn.length>0,this._hasVideoTracks=()=>vn.length>0,this._getVideoTracks=()=>vn,this._getAudioTracks=()=>Wn,this._getTracks=()=>[...Wn,...vn],this.close=function(){En||(En=!0,mn&&(mn.disconnect(),mn=null),this.off())},this.destroy=function(){this.stopAudioStatsWatcher(),!En&&this.close()},this.getDataChannel=function(zn,Qn,cr){mn.getDataChannel(zn,Qn,cr)},this.getSourceStreamId=()=>mn.getSourceStreamId(),this.processMessage=function(zn,Qn){mn.processMessage(zn,Qn)},this.remoteDescription=function(){return mn.remoteDescription()},this.getStats=function(zn){if(mn)mn.getStats(zn);else{const Qn=pt.PEER_CONNECTION_NOT_CONNECTED;zn(new ct.Error(vt.getTitleByCode(Qn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Qn}))}},this.getSynchronizationSources=function(zn){if(!mn){const Qn=pt.PEER_CONNECTION_NOT_CONNECTED;zn(new ct.Error(vt.getTitleByCode(Qn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Qn}));return}mn.getSynchronizationSources(zn)},this.getRtcStatsReport=function(zn){if(mn)mn.getRtcStatsReport(zn);else{const Qn=pt.PEER_CONNECTION_NOT_CONNECTED;zn(new ct.Error(vt.getTitleByCode(Qn),ft.PEER_CONNECTION_NOT_CONNECTED,{code:Qn}))}},this.setIceConfig=zn=>{mn.setIceConfig(zn)},this.generateOffer=()=>{mn.generateOfferAndSend()},this.startAudioStatsWatcher=function(zn){xn||(xn=Ct(mn.getStats.bind(mn),Qn=>{this.stopAudioStatsWatcher(),this.trigger("audioLevelStuckWarning",Qn)},zn))},this.stopAudioStatsWatcher=function(){xn&&xn.stop(),xn=null};const br=function(Qn){return function(cr){const qr=Qn==="video"?vn:Wn;mn&&mn.remoteTracks().forEach(To=>{To.kind===Qn&&To.enabled!==cr&&qr.includes(To)&&(To.enabled=cr)})}};this.subscribeToAudio=br("audio"),this.subscribeToVideo=br("video"),this.hasRelayCandidates=function(){return mn.hasRelayCandidates()},this.iceRestart=function(){return cn=!0,mn.iceRestart()},this.iceConnectionStateIsConnected=function(){return mn.iceConnectionStateIsConnected()},this.init=function(zn){it(kt)&&ot(Et),ut({iceConfig:Et},(cr,qr)=>{if(cr){zn(cr);return}const To=nt({logAnalyticsEvent:Pt,clientCandidates:yt,codecFlags:Nt,sourceStreamId:kt,keyStore:qt,sFrameClientStore:zt,isE2ee:Bt},qr),dr=nt({sendMessage:Nr,p2p:Vt},To,{remoteConnectionId:wt});bn?mn=new dt(dr,Zt):mn=new lt(dr),mn.on({iceConnected:()=>sn.emit("iceConnected"),close:Un,trackAdded:sr,signalingStateChange:to,signalingStateStable:po,error:Kr,qos:Lr=>this.trigger("qos",Lr),iceConnectionStateChange:Dr,remoteVideoSupported:pr,decryptFailed:Ir,decryptRestored:Er},sn),!bn&&mn.remoteTracks().length>0?mn.remoteStreams().forEach(Lr=>{Lr.getTracks().forEach(Yr=>sr({stream:Lr,track:Yr}))}):zn(void 0,sn)})}}}},function(_e,tt,et){_e.exports=(nt,rt)=>{nt.forEach((it,ot)=>{const st=it.id||it,at=rt.id||rt;st===at&&nt.splice(ot,1)})}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const ct=(rt.generateSimpleStateMachine||et(160)())("NotPublishing",["NotPublishing","GetUserMedia","BindingMedia","MediaBound","PublishingToSession","Publishing","Failed","Destroyed"],{NotPublishing:["NotPublishing","GetUserMedia","Destroyed"],GetUserMedia:["BindingMedia","Failed","NotPublishing","Destroyed"],BindingMedia:["MediaBound","Failed","NotPublishing","Destroyed"],MediaBound:["NotPublishing","PublishingToSession","Failed","Destroyed"],PublishingToSession:["NotPublishing","Publishing","Failed","Destroyed","MediaBound"],Publishing:["NotPublishing","MediaBound","Failed","Destroyed"],Failed:["Destroyed"],Destroyed:[]});return ct.prototype.isDestroyed=function(){return this.current==="Destroyed"},ct.prototype.isAttemptingToPublish=function(){return["GetUserMedia","BindingMedia","MediaBound","PublishingToSession"].indexOf(this.current)!==-1},ct.prototype.isPublishing=function(){return this.current==="Publishing"},ct}},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=nt;function nt(rt){this.message=rt||"Operation has been canceled.",this.name="CancellationError",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}nt.prototype=Object.create(Error.prototype),nt.prototype.constructor=nt},function(_e,tt,et){var nt=et(2);Object.defineProperty(tt,"__esModule",{value:!0});function rt(it,ot){return nt.resolve(it).then(st=>nt.resolve(ot()).then(()=>st),st=>nt.resolve(ot()).then(()=>nt.reject(st)))}tt.default=rt},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5)),st=rt(et(691));const at=et(141),ct=et(255),lt=et(9),dt=et(277),ut=et(58),ft=et(51),pt=et(166),vt=pt.CancellationError,Ct=et(16),ht=et(14),mt=et(50),yt=et(268),Et=et(26),Rt=et(6),Pt=et(105),Vt=et(62),Nt=et(692),kt=et(7),wt=et(165)(),Zt=et(693),qt=et(283),zt=et(144),Bt=et(284),sn=et(145),mn=et(3),En=et(7),cn=et(24)(),xn=et(10),bn=et(76),gn=et(311),vn=et(312),Wn=et(694),Un=et(162)(),Sn=et(0)("Subscriber"),On=et(285)(),Ln=et(286),Jn=et(13)(),ur=et(23),sr=et(8),pr=et(152),Ir=et(143)(typeof window!==void 0?window:commonjsGlobal),Er=et(72)({global:Ir}),Kr=et(305)({PeerConnection:Er}),Dr=et(313),to=et(287),po=et(697),Nr=et(698),br=et(699),zn=et(314),Qn=et(103).parseIceServers,cr=et(700),qr=et(701),To=et(702),dr=et(316),Lr=et(168),Yr=et(317),yo=100,Mr=(wr,Oo)=>wr.connection.id===Oo.connection.id,wo=wr=>{let Oo=wr.apiKey,$r=wr.sessionId,os=wr.streamId,rs=wr.subscriberId;return["/v2/partner",Oo,"session",$r,"stream",os,"subscriber",rs].join("/")},mo=(0,st.default)();function so(wr){return Math.max(0,Math.min(100,parseInt(wr,10)))}function Gr(wr){return wr.audioVolume!==void 0?wr.audioVolume:wr.subscribeToAudio===!1?0:yo}_e.exports=function(Oo){let $r=Oo===void 0?{}:Oo,os=$r.AudioLevelMeter,rs=os===void 0?qt:os,Al=$r.AudioLevelTransformer,Vo=Al===void 0?zt:Al,is=$r.BackingBar,Gs=is===void 0?Bt:is,cu=$r.Chrome,Vs=cu===void 0?sn:cu,Ml=$r.env,wu=Ml===void 0?mn:Ml,mr=$r.Errors,jn=mr===void 0?En:mr,fr=$r.Events,Wr=fr===void 0?cn:fr,yr=$r.ExceptionCodes,xo=yr===void 0?xn:yr,Qo=$r.audioLevelSampler,zo=Qo===void 0?Wn:Qo,El=$r.getStatsHelpers,co=El===void 0?bn:El,Dl=$r.hasAudioOutputLevelStatCapability,Ip=Dl===void 0?gn:Dl,Du=$r.hasRemoteStreamsWithWebAudio,ms=Du===void 0?vn:Du,Zl=$r.interpretPeerConnectionError,wp=Zl===void 0?Un:Zl,dp=$r.logging,Ko=dp===void 0?Sn:dp,Bl=$r.MuteButton,vu=Bl===void 0?On:Bl,Yu=$r.NamePanel,Cu=Yu===void 0?Ln:Yu,Yo=$r.otError,Gl=Yo===void 0?Jn:Yo,bo=$r.OTErrorClass,sp=bo===void 0?ur:bo,Zu=$r.OTHelpers,_f=Zu===void 0?sr:Zu,ys=$r.StylableComponent,Bp=ys===void 0?pr:ys,Hp=$r.SubscriberPeerConnection,fp=Hp===void 0?Kr:Hp,ep=$r.SubscribingState,Zp=ep===void 0?Dr:ep,pp=$r.VideoDisabledIndicator,hp=pp===void 0?to:pp,$u=$r.AudioBlockedIndicator,_a=$u===void 0?po:$u,ap=$r.VideoUnsupportedIndicator,Op=ap===void 0?Nr:ap,Ys=$r.watchFrameRate,Vn=Ys===void 0?br:Ys,$n=$r.createSendMethod,tr=$n===void 0?zn:$n,Pr=$r.parseIceServers,Qr=Pr===void 0?Qn:Pr,Xr=$r.document,Uo=Xr===void 0?(typeof window!==void 0?window:commonjsGlobal).document:Xr,Ws=$r.WidgetView,Ms=Ws===void 0?wt:Ws;const na=3e4,Go=15e3,Ou=function cp(lm,Zs,Ap){var _s=this,Qp;if(Zs===void 0&&(Zs={}),Ap===void 0&&(Ap=()=>{}),Zs.analytics===void 0)throw new Error("Subscriber requires an instance of analytics");const Gp=Zs.analytics,zu=Ct(),_p=cp.hasAudioOutputLevelStatCapability()||ms(),mp=this,Wp={},lu={},Fp={},Ku={},gm={},Ju=new Yr;let Ro,_i,qp,gp,Tm,ba,jo,xm,qs,vm,_h,em,um,Yp,Lp=!1,Dp=lm||zu,cs=Zs.session,Mo=Zs.stream;const v0=Zs,$p=v0._singlePeerConnectionController,zp=$p!==void 0;let vp,tp,jp,Gm=!1,Xp,e0={},Wm=null,Fm=!1,ym=!0,t0=[],ss=at({},Zs,{showControls:!0,testNetwork:!1,fitMode:Mo.defaultFitMode||"cover",insertDefaultUI:!0,initials:Mo.initials}),Dm,tm;const Rm=cs.sessionInfo.isAdaptiveEnabled,jm={P2P:Et.SUBSCRIBER_DISCONNECTED,MANTIS:Et.SUBSCRIBER_DISCONNECTED},bp=wu.name==="Chrome"&&wu.version>=58||wu.isChromiumEdge||wu.isOpera,Kp=cs._.getSocket(),np=()=>dt(lu),bm=Cn=>lu[Cn],Up=()=>lu[tm],dm=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn){var er;return it.default.wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:return Sr.next=2,lu[Fn];case 2:er=Sr.sent,er==null||er.close(),delete lu[Fn];case 5:case"end":return Sr.stop()}},Tn)}));return function(Fn){return Cn.apply(this,arguments)}}(),zl=Cn=>{delete Fp[Cn]},Im=()=>{np().forEach(function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn){return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return Dn.next=2,Fn;case 2:Dn.sent.destroy();case 3:case"end":return Dn.stop()}},Tn)}));return function(Tn){return Cn.apply(this,arguments)}}()),Object.keys(lu).forEach(Cn=>{delete lu[Cn]})},Tp=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn){var er,Dn;return it.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:if(Fn){Or.next=2;break}return Or.abrupt("return");case 2:return er={error:nm,audioVolume:tp},Dn=Rm&&tm==="P2P",Or.prev=4,Or.next=7,Ro.bindVideo(Fn,er,Dn);case 7:Or.next=18;break;case 9:if(Or.prev=9,Or.t0=Or.catch(4),!(Or.t0 instanceof vt||ba.isDestroyed())){Or.next=13;break}return Or.abrupt("return");case 13:if(!Or.t0.message.includes("bufferFailed")){Or.next=16;break}return _s._.startRelayedToRoutedTransition(),Or.abrupt("return");case 16:throw nm(Or.t0),Or.t0;case 18:case"end":return Or.stop()}},Tn,null,[[4,9]])}));return function(Fn){return Cn.apply(this,arguments)}}(),Jp=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn,er){var Dn,Sr,Or,Ur;return it.default.wrap(function(us){for(;;)switch(us.prev=us.next){case 0:if(Dn=!1,typeof Fn=="function"?er=Fn:Dn=Fn==="rtcStatsReport",Dn?a0():km(),!(Dn&&!dr)){us.next=7;break}return Sr=xo.GET_RTC_STATS_REPORT_NOT_SUPPORTED,er(Gl(kt.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(sp.getTitleByCode(Sr)),Sr)),us.abrupt("return");case 7:if(Up()){us.next=11;break}return Sr=xo.PEER_CONNECTION_NOT_CONNECTED,er(Gl(jn.PEER_CONNECTION_NOT_CONNECTED,new Error(sp.getTitleByCode(Sr)),Sr)),us.abrupt("return");case 11:return us.next=13,Up();case 13:Or=us.sent,Ur=Dn?Or.getRtcStatsReport:Or.getStats,Ur((Eo,xa)=>{Eo?(Eo.code===xo.PEER_CONNECTION_NOT_CONNECTED&&(Eo=Gl(jn.PEER_CONNECTION_NOT_CONNECTED,Eo,xo.PEER_CONNECTION_NOT_CONNECTED)),er(Eo)):er(null,xa)});case 16:case"end":return us.stop()}},Tn)}));return function(Fn,er){return Cn.apply(this,arguments)}}(),kp=Cn=>Jp(Cn),wm=Cn=>Jp("rtcStatsReport",Cn),Xm=Cn=>!qs||!vp?!1:Cn==="video"?qs.getVideoTracks().length>0&&vp.getVideoTracks().length>0:qs.getAudioTracks().length>0&&vp.getAudioTracks().length>0,_c=(Cn,Tn,Fn,er,Dn)=>{let Sr=lt({action:Cn,variation:Tn,payload:Fn,streamId:Mo?Mo.id:null,sessionId:cs?cs.sessionId:null,connectionId:cs&&cs.isConnected()?cs.connection.connectionId:null,partnerId:cs&&cs.sessionInfo?cs.sessionInfo.partnerId:null,subscriberId:zu,widgetType:"Subscriber"},er);(Tn==="Failure"||Tn==="iceconnectionstatechange"&&Fn==="closed")&&(Sr=lt(Sr,e0));const Or=[Sr];Dn&&Or.push(Dn),Gp.logEvent(...Or)},Um=(Cn,Tn,Fn)=>{Tn==="Attempt"?(Ku[Cn]=new Date().getTime(),_c(Cn,Tn,Fn)):(Tn==="Failure"||Tn==="Success")&&_c(Cn,Tn,Fn,{attemptDuration:new Date().getTime()-Ku[Cn]})},Om=function(Tn,Fn){Fn===void 0&&(Fn={}),Um("RoutedToRelayedTransition",Tn,Fn)},n0=function(Tn,Fn){Fn===void 0&&(Fn={}),Um("RelayedToRoutedTransition",Tn,Fn)},ju=qr({onInvalidTransition(Cn,Tn){const Fn=`Invalid state transition: Event '${Cn}' not possible in state '${Tn}'`;Ko.error(Fn),_c("Subscriber:InvalidStateTransition","Event",{details:Fn})}});{const Cn="Unable to subscribe to stream in a reasonable amount of time";cr({connectivityState:ju,onWarning(){Sm("Warning",{})},onTimeout:()=>{if(Ro&&Ro.addError(Cn),ba.isAttemptingToSubscribe()){ba.set("Failed"),this._disconnect({noStateTransition:!0});const Tn=Gl(kt.TIMEOUT,new Error(Cn),xo.UNABLE_TO_SUBSCRIBE);ju.fail({options:{failureReason:"Subscribe",failureMessage:Cn,failureCode:xo.UNABLE_TO_SUBSCRIBE},error:Tn})}},warningMs:Go,timeoutMs:na})}if(Wp.promise=new nt((Cn,Tn)=>{Wp.resolve=Cn,Wp.reject=Tn}),ss.testNetwork&&cs.sessionInfo.p2pEnabled&&Ko.warn("You cannot test your network with a relayed session. Use a routed session."),this.id=Dp,this.widgetId=zu,this.session=cs,this.stream=ss.stream,Mo=ss.stream,this.streamId=Mo.id,!cs)return sp.handleJsException({errorMsg:"OT.Subscriber must be passed a session option",code:2e3,target:this,analytics:Gp}),null;Rt(this),mp.once("subscribeComplete",function(){try{Ap(...arguments)}catch(Cn){Ko.error("Completion handler threw an exception",Cn)}}),cs.on("captionReceived",Cn=>{Cn.streamId===mp.streamId&&(this.dispatchEvent(Cn),this.trigger(Et.SUBSCRIBER_CAPTION_RECEIVED,Cn))});const y0=Cn=>{let Tn=Cn.transition,Fn=Cn.from;return Tn==="fail"?Fn==="connected"?"Disconnect":"Failure":Tn==="disconnect"&&Fn==="connected"?"Disconnect":"Cancel"};ju.observe({onEnterConnecting(){Sm("Attempt",null,{})},onEnterConnected(){Sm("Success",null,{})},onEnterDisconnected(Cn,Tn){let Fn=Tn===void 0?{}:Tn,er=Fn.options,Dn=er===void 0?{}:er,Sr=Fn.payload,Or=Sr===void 0?null:Sr;Sm(y0(Cn),Or,Dn)}}),ju.observe({onEnterConnected:()=>{this.trigger("subscribeComplete",void 0,this)},onEnterDisconnected:function(Tn,Fn){let er=Tn.from,Dn=Fn===void 0?{}:Fn,Sr=Dn.error;er==="connecting"&&_s.trigger("subscribeComplete",Sr||new Error("An unknown error occurred"),_s)}}),To({connectivityState:ju,logAttempt(){_c("Subscribe","Attempting",null,{connectionId:cs&&cs.isConnected()?cs.connection.connectionId:null})}});const Sm=function(Tn,Fn,er){Fn===void 0&&(Fn={}),Tn==="Failure"||Tn==="Success"||Tn==="Cancel"?_c("Subscribe",Tn,Fn,Object.assign({},er,{attemptDuration:new Date().getTime()-em})):Tn==="Attempt"?(em=new Date().getTime(),_c("Subscribe",Tn,Object.assign({},Fn,{testNetwork:ss.testNetwork}),er)):_c("Subscribe",Tn,Fn,er)},Bm=(Cn,Tn)=>{_c("ICERestart",Cn,Tn)},r0=Cn=>{var Tn,Fn;let er=Cn.parsedStats,Dn=Cn.remoteConnectionId,Sr=Cn.peerId,Or=Cn.sourceStreamId;const Ur={widgetType:"Subscriber",width:Ro.width,height:Ro.height,audioTrack:Xm("audio"),hasAudio:Mo&&Mo.hasAudio,subscribeToAudio:Yp,audioVolume:this.getAudioVolume(),videoTrack:Xm("video"),connectionId:cs?cs.connection.connectionId:null,hasVideo:Mo&&Mo.hasVideo,subscribeToVideo:ss.subscribeToVideo,congestionLevel:Wm,streamId:Mo.id,subscriberId:zu,duration:Math.round((mt()-Tm)/1e3),remoteConnectionId:Dn,peerId:Sr,sourceStreamId:Lr(Or),preferredResolutionHeight:(Tn=ss.preferredResolution)==null?void 0:Tn.height,preferredResolutionWidth:(Fn=ss.preferredResolution)==null?void 0:Fn.width,preferredFrameRate:ss.preferredFrameRate,audioFallback:!vm&&_h==="auto",initials:Mo.initials},Ns=lt(Ur,er);Gp.logQOS(Ns),this.trigger("qos",Object.assign({},Gp.commonQoSFields(),Ns))},Hm=Cn=>{Ko.error("OT.Subscriber State Change Failed: ",Cn.message),Ko.debug(Cn)},i0=()=>{ba.isSubscribing()||!Ro||!Ro.video()||(Lp=!0,Fm||(ju.connect(),Fm=!0),Ko.debug("OT.Subscriber.onLoaded"),ba.set("Subscribing"),Tm=mt(),Ro.loading(!1),_i&&_i.showAfterLoading(),Gm&&Mo.setRestrictFrameRate(!0),gp&&gp.audioOnly(Ro.audioOnly()),this.setAudioVolume(tp),this.trigger("loaded",this))},Ym=()=>Mo&&Mo.hasAudio&&Yp&&this.getAudioVolume()>0&&!this.isAudioBlocked(),Em=()=>Mo&&Mo.hasVideo,fm=Cn=>{const Tn=Cn==="audioLevelStuckAt0"&&(!Ym()||Em());let Fn=!1;if(!Tn&&(_c("subscriber:onAudioWarning","Event",{reason:Cn}),Ro)){if(Ro.rebindSrcObject(),_c("subscriber:rebindSrcObject","Called"),Cn==="audioLevelStuck")return;Fn=!0}pm(Fn)},pm=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn){var er;return it.default.wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:if(Fn===void 0&&(Fn=!1),!bp){Sr.next=6;break}return Sr.next=4,Up();case 4:er=Sr.sent,er.startAudioStatsWatcher(Fn);case 6:case"end":return Sr.stop()}},Tn)}));return function(Fn){return Cn.apply(this,arguments)}}(),hm=Cn=>{Rm&&Cn.getSourceStreamId()==="P2P"&&Om("Success")},Am=()=>{Ko.debug("OT.Subscriber has been disconnected from the Publisher's PeerConnection"),ju.fail({options:{failureReason:"PeerConnectionError",failureCode:xo.UNABLE_TO_PUBLISH,failureMessage:"PeerConnection disconnected"},error:Gl(jn.DISCONNECTED,new Error("ClientDisconnected"))}),this._disconnect({noStateTransition:!0}),(ba.isAttemptingToSubscribe()||ba.isSubscribing())&&ba.set("Failed")},nm=Cn=>{const Tn=Gl(jn.MEDIA_ERR_DECODE,Cn,Cn.code||xo.P2P_CONNECTION_FAILED);Tn.message=`OT.Subscriber while playing stream: ${Tn.message}`,Ko.error("OT.Subscriber.onVideoError"),ju.fail({options:{failureReason:"VideoElement",failureMessage:Tn.message,failureCode:Tn.code||xo.P2P_CONNECTION_FAILED},error:Tn});const Fn=ba.isAttemptingToSubscribe();ba.set("Failed"),Fn||mp.trigger("error",Tn.message),sp.handleJsException({error:Tn,code:xo.UNABLE_TO_SUBSCRIBE,target:mp,analytics:Gp})},Lm=Cn=>{const Tn=Nt(Cn);sp.handleJsException({error:Tn,code:Tn.code,target:mp,analytics:Gp}),this._disconnect({noStateTransition:!0});const Fn={failureReason:"Subscribe",failureMessage:`OT.Subscriber PeerConnection Error: ${Tn.message}`,failureCode:xo.P2P_CONNECTION_FAILED};mm(Tn.code,Tn.message),ju.fail({options:Fn,error:Gl(Tn.name,new Error(`Subscribe: Subscriber PeerConnection with connection (not found) failed: ${Tn.message}`),Tn.code)}),Tn.name===kt.STREAM_NOT_FOUND&&this._destroy({reason:"streamNotFound",noStateTransition:!0})},b0=(Cn,Tn,Fn,er)=>{if(er==="SetRemoteDescription"&&!ym&&Tn.match(/Unsupported video without audio for fallback/)){Ro&&Ro.addError("The stream is unable to be played.","Your browser does not support the video format.");let Ur;_f.env.name==="Safari"?Ur=new Error("VP8 is not supported in this version of Safari. You might want to consider switching to an H264 project. See https://tokbox.com/safari for more information."):Ur=new Error("Video format not supported in this browser."),Ur.code=xo.UNSUPPORTED_VIDEO_CODEC,nm(Ur);return}if(er==="ICEWorkflow"&&cs.sessionInfo.reconnection&&Lp){Ko.debug("Ignoring peer connection failure due to possibility of reconnection.");return}let Dn;er==="ICEWorkflow"?Dn=xo.SUBSCRIBER_ICE_WORKFLOW_FAILED:Cn===xo.STREAM_LIMIT_EXCEEDED?Dn=Cn:Dn=xo.P2P_CONNECTION_FAILED;const Sr={failureReason:er||"PeerConnectionError",failureMessage:`OT.Subscriber PeerConnection Error: ${Tn}`,failureCode:Dn},Or=wp(Cn,Tn,er,"(not found)","Subscriber");if(ju.fail({options:Sr,error:Or}),ba.isAttemptingToSubscribe()){const Ur={hasRelayCandidates:Fn&&Fn.hasRelayCandidates()};_c("createPeerConnection","Failure",Ur,Sr),ba.set("Failed")}else ba.isSubscribing()&&(ba.set("Failed"),this.trigger("error",Tn));this._disconnect({noStateTransition:!0}),Number(Cn)===404&&this._destroy({noStateTransition:!0}),sp.handleJsException({error:Or,errorMsg:`OT.Subscriber PeerConnection Error: ${Tn}`,code:Dn,target:this,analytics:Gp}),mm(Cn)},yu=Cn=>{const Tn=Cn._hasVideoTracks(),Fn=Cn._hasAudioTracks(),er=Mo&&Mo.hasVideo&&!Tn,Dn=Mo&&Mo.hasAudio&&!Fn;return!(er||Dn)},Hl=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn,er){var Dn;return it.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:return Or.prev=0,Or.next=3,mo(()=>yu(er));case 3:Or.next=12;break;case 5:if(Or.prev=5,Or.t0=Or.catch(0),Or.t0.message!=="TIMEOUT"){Or.next=11;break}Ko.error("The expected tracks never arrived"),Or.next=12;break;case 11:throw Or.t0;case 12:return Dn=er.getSourceStreamId(),zp&&Dn==="MANTIS"&&$p.subscriberComplete(),Or.next=16,o0(Fn.stream,er);case 16:case"end":return Or.stop()}},Tn,null,[[0,5]])}));return function(Fn,er){return Cn.apply(this,arguments)}}(),o0=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn,er){var Dn,Sr,Or,Ur,Ns,us,Eo,xa;return it.default.wrap(function(uu){for(;;)switch(uu.prev=uu.next){case 0:return vp=Fn,zp&&(vp=new MediaStream(er._getTracks())),Dn=Object.keys(Fp).length===1,Sr=er==null?void 0:er.getSourceStreamId(),Or=cs,Ur=Or.sessionInfo,qs=Fn,Sr&&(Fp[Sr]=Fn),Ko.debug("OT.Subscriber.onRemoteStreamAdded with sourceStreamId",Sr),ba.set("BindingRemoteStream"),_s.subscribeToAudio(Yp),_h==="auto"&&!ss.subscribeToVideo||(_h="loading",_s.subscribeToVideo(ss.subscribeToVideo,"loading")),!Ur.p2pEnabled&&Sr!=="P2P"&&(_s.setPreferredResolution(ss.preferredResolution),_s.setPreferredFrameRate(ss.preferredFrameRate)),er&&er._getVideoTracks().forEach(Xu=>{(typeof window!==void 0?window:commonjsGlobal).webkitMediaStream?Xu.enabled=!1:Xu.enabled=Mo.hasVideo&&ss.subscribeToVideo}),uu.next=15,Tp(vp);case 15:if(pm(),!ba.isDestroyed()){uu.next=18;break}throw new Error("Subscriber destroyed");case 18:return er&&(typeof window!==void 0?window:commonjsGlobal).webkitMediaStream&&er._getVideoTracks().forEach(Xu=>{Xu.enabled=Mo.hasVideo&&ss.subscribeToVideo}),Ns=Ro&&Ro.video(),Ns&&Ns.orientation({width:Mo.videoDimensions.width,height:Mo.videoDimensions.height,videoOrientation:Mo.videoDimensions.orientation}),us=_i&&_i.videoUnsupportedIndicator,us&&us.setVideoUnsupported(!ym),Eo=new nt((Xu,sm)=>{const Pp=Ro&&Ro.video();if(Pp&&Pp.domElement()){Xu();return}Ro.once("videoElementCreated",Xu),mp.once("destroyed",sm)}),uu.next=26,Eo;case 26:return uu.next=28,Wp.promise;case 28:Dn?ba.set("Subscribing"):i0(),jo&&"webRTCStream"in jo&&er._hasAudioTracks()&&jo.webRTCStream(Fn),xa=_f.env,(xa.isSafari||xa.isChromiumEdge||xa.isOpera||xa.name==="Chrome"&&xa.version>=58||xa.isFirefox&&xa.version>=96)&&(Xp&&(Xp.destroy(),Xp=null),er&&(Xp=Vn(er.getStats.bind(er)))),Dn||_s.trigger("streamAdded",_s),Ju.finishTransitionTo(tm);case 34:case"end":return uu.stop()}},Tn)}));return function(Fn,er){return Cn.apply(this,arguments)}}(),S0=Cn=>{Ko.debug("OT.Subscriber.onStreamRemoved");const Tn=Ro&&Ro.video();Tn&&Tn.stream===Cn&&Ro.destroyVideo(),zl(tm),vp=null,this.trigger("streamRemoved",this)},E0=Cn=>{ym!==Cn&&this.dispatchEvent(new Wr.VideoEnabledChangedEvent(Cn?"videoEnabled":"videoDisabled",{reason:Cn?"codecChanged":"codecNotSupported"})),ym=Cn},s0=Cn=>{Ro.setAudioBlockedUi(Cn);const Tn=_i&&_i.audioBlockedIndicator;Tn&&Tn.setAudioBlocked(Cn);const Fn=_i&&_i.videoUnsupportedIndicator;Fn&&Fn.setVideoUnsupported(!Cn&&!ym)};this.on("audioBlocked",()=>{s0(!0)}),this.on("audioUnblocked",()=>{s0(!1)});const rm={new:Et.SUBSCRIBER_DISCONNECTED,checking:Et.SUBSCRIBER_DISCONNECTED,connected:Et.SUBSCRIBER_CONNECTED,completed:Et.SUBSCRIBER_CONNECTED,disconnected:Et.SUBSCRIBER_DISCONNECTED},C0=(Cn,Tn)=>{const Fn=rm[Cn],er=Tn.getSourceStreamId(),Dn=jm[er];Fn&&Fn!==Dn&&(jm[er]=Fn,Cn==="disconnected"&&er!=="P2P"&&setTimeout((0,ot.default)(it.default.mark(function Or(){var Ur;return it.default.wrap(function(us){for(;;)switch(us.prev=us.next){case 0:if(Ur=cs._.isSocketReconnecting,!(jm[er]==="disconnected"&&Kp.is("connected")&&!Ur())){us.next=4;break}return us.next=4,_s._.iceRestart("peer connection disconnected");case 4:case"end":return us.stop()}},Or)})),2e3),Ro&&Ro.loading(Fn!==Et.SUBSCRIBER_CONNECTED),Ko.debug(`OT.Subscriber.connectionStateChanged to ${Cn}`),this.dispatchEvent(new Wr.ConnectionStateChangedEvent(Fn,this)))},T0=()=>{Bm("Success")},x0=()=>{Bm("Failure",{reason:"ICEWorkflow",message:"OT.Subscriber PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall."})},im=Cn=>{const Tn=Ro&&Ro.video();switch(Cn.changedProperty){case"videoDimensions":if(!Tn)break;Tn.orientation({width:Cn.newValue.width,height:Cn.newValue.height,videoOrientation:Cn.newValue.orientation}),this.dispatchEvent(new Wr.VideoDimensionsChangedEvent(this,Cn.oldValue,Cn.newValue));break;case"videoDisableWarning":_i&&_i.videoDisabledIndicator.setWarning(Cn.newValue),this.dispatchEvent(new Wr.VideoDisableWarningEvent(Cn.newValue?"videoDisableWarning":"videoDisableWarningLifted")),Wm=Cn.newValue?1:null;break;case"hasVideo":Km(!Mo.hasVideo||!ss.subscribeToVideo),wu.isSafari&&!Mo.hasVideo&&Ro&&Ro.bindAudioTrackOnly(),this.dispatchEvent(new Wr.VideoEnabledChangedEvent(Mo.hasVideo?"videoEnabled":"videoDisabled",{reason:"publishVideo"}));break;case"hasAudio":qp.update();break}},Cm=()=>Mo.getChannelsOfType("audio").length>0;qp={get(){return Cm()?mp.getStyle("buttonDisplayMode"):"off"},update(){const Cn=qp.get();_i&&(_i.muteButton.setDisplayMode(Cn),_i.backingBar.setMuteMode(Cn))}};const $m=(Cn,Tn)=>{if(_i)switch(Cn){case"nameDisplayMode":_i.name.setDisplayMode(Tn),_i.backingBar.setNameMode(Tn);break;case"videoUnsupportedDisplayMode":_i.videoUnsupportedIndicator.setDisplayMode(Tn);break;case"videoDisabledDisplayMode":_i.videoDisabledIndicator.setDisplayMode(Tn);break;case"audioBlockedDisplayMode":_i.audioBlockedIndicator.setDisplayMode(Tn);break;case"showArchiveStatus":_i.archive.setShowArchiveStatus(Tn);break;case"buttonDisplayMode":qp.update();break;case"audioLevelDisplayMode":_i.audioLevel.setDisplayMode(Tn);break;case"bugDisplayMode":break;case"backgroundImageURI":Ro.setBackgroundImageURI(Tn);break}},zm=()=>{const Cn={backingBar:new Gs({nameMode:ss.name?this.getStyle("nameDisplayMode"):"off",muteMode:qp.get()}),name:new Cu({name:ss.name,mode:this.getStyle("nameDisplayMode")}),muteButton:new vu({muted:tp===0,mode:qp.get()})};if(_p){const Tn=new Vo;gp=new rs({mode:mp.getStyle("audioLevelDisplayMode")});const Fn=new Pt(()=>{gp.setValue(Tn.transform(this.loudness))});gp.watchVisibilityChanged(er=>{er?Fn.start():Fn.stop()}),gp.setDisplayMode(this.getStyle("audioLevelDisplayMode")),gp.audioOnly(!1),Cn.audioLevel=gp}Cn.videoDisabledIndicator=new hp({mode:this.getStyle("videoDisabledDisplayMode")}),Cn.audioBlockedIndicator=new _a({mode:this.getStyle("audioBlockedDisplayMode")}),Cn.videoUnsupportedIndicator=new Op({mode:this.getStyle("videoUnsupportedDisplayMode")}),Ro&&Ro.domElement&&(_i=new Vs({parent:Ro.domElement}).set(Cn).on({muted(){mp.setAudioVolume(0)},unmuted(){mp.setAudioVolume(jp)}},this),_i.hideWhileLoading())},mm=(Cn,Tn)=>{let Fn,er;Ro&&(Cn===xo.STREAM_LIMIT_EXCEEDED?(Fn="The stream was unable to connect.",er="The limit for the number of media streams has been reached."):Tn==="Tried to subscribe to an encrypted stream without enabling encryption"?(Fn="Unable to subscribe to an encrypted stream without enabling encryption.",er=""):(Fn="The stream was unable to connect due to a network error.",Fm?er="Ensure you have a stable connection and try again.":er="Make sure you have a stable network connection and that it isn't blocked by a firewall."),Ro.addError(Fn,er))};Bp(this,{nameDisplayMode:"auto",buttonDisplayMode:"auto",audioLevelDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioBlockedDisplayMode:"auto",backgroundImageURI:null,showArchiveStatus:!0,showMicButton:!0},ss.showControls,Cn=>{_c("SetStyle","Subscriber",Cn,null,.1)});function Km(Cn){np().forEach(function(){var Fn=(0,ot.default)(it.default.mark(function er(Dn){return it.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:return Or.next=2,Dn;case 2:Or.sent.subscribeToVideo(!Cn);case 3:case"end":return Or.stop()}},er)}));return function(er){return Fn.apply(this,arguments)}}());const Tn=Cn||!vp||!vp.getVideoTracks().length;Ro&&(Ro.audioOnly(Tn),Ro.showPoster(Tn)),gp&&gp.audioOnly(Tn)}const km=ft(()=>{_c("GetStats","Called")}),a0=ft(()=>{_c("GetRtcStatsReport","Called")}),Jm=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn){return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return xm&&(xm.destroy(),xm=void 0),Dn.prev=1,Dn.next=4,mo(()=>Fn._hasAudioTracks());case 4:Dn.next=9;break;case 6:return Dn.prev=6,Dn.t0=Dn.catch(1),Dn.abrupt("return");case 9:jo=zo(Fn),jo?xm=Zt({subscriber:_s,audioLevelSampler:jo}):Object.prototype.hasOwnProperty.call(_s,"loudness")||(Object.defineProperty(_s,"loudness",{value:void 0,configurable:!0,writable:!1}),Ko.error("No suitable audio level samplers found, audio level visualisation will not work"));case 11:case"end":return Dn.stop()}},Tn,null,[[1,6]])}));return function(Fn){return Cn.apply(this,arguments)}}(),c0=(Cn,Tn)=>{if(gm[Tn]){gm[Tn].removeAll();const er=()=>{Cn.off("error",er),Cn.off("disconnected",er)};Cn.on("error",er),Cn.on("disconnected",er)}const Fn=Vt(Cn);Fn.once("connected",()=>hm(Cn)),Fn.on("disconnected",Am),Fn.on("error",b0),Fn.once("remoteTrackAdded",(0,ot.default)(it.default.mark(function er(){var Dn=arguments;return it.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:return Or.next=2,Jm(Cn);case 2:return Or.prev=2,Or.next=5,Hl(...Dn);case 5:Or.next=10;break;case 7:Or.prev=7,Or.t0=Or.catch(2),Ko.error(Or.t0);case 10:case"end":return Or.stop()}},er,null,[[2,7]])}))),Fn.on("audioLevelStuckWarning",fm),Fn.on("signalingStateStable",(0,ot.default)(it.default.mark(function er(){var Dn;return it.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:mp.trigger("signalingStateStable"),Dn=Ro&&Ro.video(),Dn&&qs&&jo&&"webRTCStream"in jo&&Cn._hasAudioTracks()&&jo.webRTCStream(qs);case 3:case"end":return Or.stop()}},er)}))),Fn.on("iceConnectionStateChange",er=>C0(er,Cn)),Fn.on("iceRestartSuccess",T0),Fn.on("iceRestartFailure",x0),Fn.on("remoteVideoSupported",E0),Fn.on("remoteStreamRemoved",S0),Fn.on("decryptFailed",()=>{this.trigger("encryptionSecretMismatch"),_c("encryptionSecretMismatch","Event"),Ko.warn("Media cannot be decrypted due to an encryption secret mismatch.")}),Fn.on("decryptRestored",()=>{this.trigger("encryptionSecretMatch"),_c("encryptionSecretMatch","Event")}),gm[Tn]=gm},R0=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(){var Fn;return it.default.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return Om("Attempt"),Dn.next=3,bm("MANTIS");case 3:if(Fn=Dn.sent,Fn!=null&&Fn.iceConnectionStateIsConnected()){Dn.next=7;break}return Om("Failure",{reason:"Attempted to transition to Relayed without being connected in Routed mode."}),Dn.abrupt("return");case 7:Kp.subscriberCreate(Mo.id,zu,wn,"P2P",cs._.isE2ee(),(Sr,Or)=>{Sr&&!ju.is("disconnected")&&Om("Failure",Sr),Ko.debug("message received when created a subscriber with source",Or)});case 8:case"end":return Dn.stop()}},Tn)}));return function(){return Cn.apply(this,arguments)}}(),l0=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(){var Fn,er;return it.default.wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:if(!(ss.testNetwork||Mr(Mo,cs)||tm!=="P2P")){Sr.next=2;break}return Sr.abrupt("return");case 2:if(n0("Attempt"),qs=Fp.MANTIS,vp=qs,!zp){Sr.next=10;break}return Sr.next=8,bm("MANTIS");case 8:Fn=Sr.sent,vp=new MediaStream(Fn._getTracks());case 10:return Sr.next=12,Tp(vp);case 12:return Ro.loading(!1),dm("P2P"),tm="MANTIS",zl("P2P"),Sr.next=18,Up();case 18:return er=Sr.sent,Sr.next=21,Jm(er);case 21:n0("Success");case 22:case"end":return Sr.stop()}},Tn)}));return function(){return Cn.apply(this,arguments)}}();this._destroy=Cn=>{let Tn=Cn.reason,Fn=Tn===void 0?"Unknown":Tn,er=Cn.quiet,Dn=Cn.noStateTransition,Sr=Dn===void 0?!1:Dn;return ba.isDestroyed()?this:(ba.set("Destroyed"),Xp&&(Xp.destroy(),Xp=null),e0={sessionId:cs.sessionId,connectionId:cs&&cs.isConnected()?cs.connection.connectionId:null,partnerId:cs&&cs.sessionInfo?cs.sessionInfo.partnerId:null,streamId:Mo&&!Mo.destroyed?Mo.id:null},this._disconnect({reason:Fn,noStateTransition:Sr}),_i&&(_i.destroy(),_i=null),Ro&&(Ro.destroy(),Ro.off(),Ro=null,this.element=null),Mo&&!Mo.destroyed&&_c("unsubscribe",null,{streamId:Mo.id}),Mo.off(um,this),this.id=null,Dp=null,this.stream=null,Mo=null,this.streamId=null,this.session=null,cs=null,ss=null,er!==!0&&(this.dispatchEvent(new Wr.DestroyedEvent(Et.SUBSCRIBER_DESTROYED,this,Fn)),this.off()),this)},this.destroy=function(Cn,Tn){Cn===void 0&&(Cn="Unsubscribe"),Ko.warn("Subscriber#destroy is deprecated and will be removed. Please use Session#unsubscribe instead"),_s._destroy({reason:Cn,quiet:Tn})},this._disconnect=function(Cn){let Tn=Cn===void 0?{}:Cn,Fn=Tn.reason,er=Fn===void 0?"Unknown":Fn;if(!Tn.noStateTransition&&!ju.is("disconnected")){const Sr=er==="Unsubscribe"?void 0:Gl(jn.STREAM_DESTROYED,new Error("Stream was destroyed before it could be subscribed to"));ju.disconnect({payload:{reason:er},error:Sr})}!ba.isDestroyed()&&!ba.isFailed()&&ba.set("NotSubscribing"),Ro&&Ro.destroyVideo(),Kp.is("connected")&&Mo&&!Mo.destroyed&&Kp.subscriberDestroy(Mo.id,_s.widgetId),Im()},this.disconnect=()=>{Ko.warn("Subscriber#disconnect is deprecated and will be removed. Please use Session#unsubscribe instead"),this._disconnect({reason:"Unsubscribe"})};const Nm=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn){var er,Dn,Sr,Or,Ur,Ns,us;return it.default.wrap(function(xa){for(;;)switch(xa.prev=xa.next){case 0:return er=Fn.peerId,Dn=Fn.fromConnectionId,Sr=Fn.sourceStreamId,Or=wo({apiKey:cs.apiKey,sessionId:cs.sessionId,streamId:Mo.id,subscriberId:_s.widgetId}),Ur=tr({socket:_s.session._.getSocket(),uri:Or,content:{peerId:er,sourceStreamId:Sr}}),Ns=function(uu,Xu,sm,Pp,O0){Pp===void 0&&(Pp={});const q0=Object.assign({peerId:er,sourceStreamId:Lr(Sr)},Pp);return _c(uu,Xu,sm,q0,O0)},us=Np=>{tm===Sr&&r0(Object.assign({},Np,{peerId:er,remoteConnectionId:Dn,sourceStreamId:Sr}))},xa.abrupt("return",_s._setupPeerConnection({send:Ur,log:Ns,logQoS:us,sourceStreamId:Sr}));case 6:case"end":return xa.stop()}},Tn)}));return function(Fn){return Cn.apply(this,arguments)}}();this.processMessage=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn,er,Dn){var Sr,Or,Ur;return it.default.wrap(function(us){for(;;)switch(us.prev=us.next){case 0:return Ko.debug(`OT.Subscriber.processMessage: Received ${Fn} message from ${er}`),Ko.debug(Dn),Sr=ut(Dn,"content.peerId"),Or=ut(Dn,"content.sourceStreamId"),us.next=6,bm(Or);case 6:if(Ur=us.sent,!Ur){us.next=11;break}Ur.processMessage(Fn,Dn),us.next=16;break;case 11:if(Fn!=="offer"){us.next=16;break}return us.next=14,Nm({peerId:Sr,fromConnectionId:er,sourceStreamId:Or});case 14:Ur=us.sent,zp?Ur.processMessage("offer",Dn):_s.session._.addSubscriberToPeerConnectionsQueue(Ur,Dn);case 16:case"end":return us.stop()}},Tn)}));return function(Tn,Fn,er){return Cn.apply(this,arguments)}}(),this.disableVideo=Cn=>{if(!Cn)Ko.warn("Due to high packet loss and low bandwidth, video has been disabled");else if(_h==="auto"&&Dm===!1)Ko.info("Video has been re-enabled");else{Ko.info("Video was not re-enabled because it was manually disabled"),_i&&_i.videoDisabledIndicator&&_i.videoDisabledIndicator.disableVideo(!1);return}this.subscribeToVideo(Cn,"auto"),_c("updateQuality","video",Cn?{videoEnabled:!0}:{videoDisabled:!0})},this.getImgData=()=>{if(!this.isSubscribing())return Ko.error("OT.Subscriber.getImgData: Cannot getImgData before the Subscriber is subscribing."),null;const Cn=Ro&&Ro.video();return Cn?Cn.imgData():null},this.getStats=Cn=>{kp((Tn,Fn)=>{if(Tn){Cn(Tn);return}const er={timestamp:0};Fn.forEach(Dn=>{if(co.isInboundStat(Dn)){const Sr=co.isVideoStat(Dn,Fn),Or=co.isAudioStat(Dn,Fn);(Or||Sr)&&(er.timestamp=co.normalizeTimestamp(Dn.timestamp)),Sr?(ct(er,{video:co.parseStatCategory(Dn)}),Xp&&ct(er,{video:{frameRate:Xp.getFrameRateFromStat(Dn)}})):Or&&ct(er,{audio:co.parseStatCategory(Dn)})}}),Cn(null,er)})},this.getRtcStatsReport=()=>new nt((Cn,Tn)=>{wm((Fn,er)=>{Fn?Tn(Fn):Cn(er)})});function om(Cn){const Tn=Ro&&Ro.video();if(Tn)try{Tn.setAudioVolume(Cn)}catch(Fn){Ko.warn(`setAudioVolume: ${Fn}`),tp===0&&(Ko.info("Using subscribeToAudio to mute Audio because setAudioVolume(0) failed"),mp.subscribeToAudio(!1))}_i&&_i.muteButton.muted(Cn===0)}this.setAudioVolume=Cn=>{const Tn=so(Cn);return _c("setAudioVolume","Attempt",{audioVolume:Tn}),isNaN(Tn)?(Ko.error("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),_c("setAudioVolume","Failure",{message:"value should be an integer between 0 and 100"}),this):(Tn!==Cn&&Ko.warn("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),Tn===tp?(om(tp),_c("setAudioVolume","Success",{audioVolume:tp,message:"Requested volume is same as already set audioVolume"}),this):(tp>0&&(jp=tp),tp=Tn,om(tp),tp>0&&!Yp&&(jp=tp,this.subscribeToAudio(!0)),_c("setAudioVolume","Success",{audioVolume:tp}),this))},this.getAudioVolume=()=>{const Cn=Ro&&Ro.video();if(Cn)try{return Cn.getAudioVolume()}catch(Tn){Ko.warn(`getAudioVolume ${Tn}`)}return tp},this.subscribeToAudio=Cn=>{const Tn=yt(Cn,!0);np().forEach(function(){var er=(0,ot.default)(it.default.mark(function Dn(Sr){return it.default.wrap(function(Ur){for(;;)switch(Ur.prev=Ur.next){case 0:return Ur.next=2,Sr;case 2:Ur.sent.subscribeToAudio(Tn);case 3:case"end":return Ur.stop()}},Dn)}));return function(Dn){return er.apply(this,arguments)}}()),Mo&&np().length!==0&&Mo.setChannelActiveState("audio",Tn);const Fn=Yp!==Tn;return Yp=Tn,Fn&&this.setAudioVolume(Tn?jp:0),_c("subscribeToAudio","Event",{subscribeToAudio:Tn}),this};const I0={auto:"quality",publishVideo:"publishVideo",subscribeToVideo:"subscribeToVideo"};if(wu.name==="Safari"){const Cn=()=>{!Uo.hidden&&ss.subscribeToVideo&&(Ko.debug("document visibility restored in Safari - resubscribing to video"),this.subscribeToVideo(!1),this.subscribeToVideo(!0))};Uo.addEventListener("visibilitychange",Cn),this.once("destroyed",()=>{Uo.removeEventListener("visibilitychange",Cn)})}if(this.subscribeToVideo=(Cn,Tn)=>{const Fn=yt(Cn,!0),er=!Fn&&Tn==="auto";return Tn||(Dm=!Fn),er&&(Wm=2),_c("subscribeToVideo","Attempt",{subscribeToVideo:Fn,reason:Tn}),Km(!Fn||!Mo.hasVideo||!qs),Mo.hasVideo&&!Xm("video")?(Fn&&Ko.info("Subscriber is audio-only due to incompatibility, can't subscribeToVideo."),ss.subscribeToVideo=!1,_c("subscribeToVideo","Failure",{message:"No video tracks available"}),this):(_i&&_i.videoDisabledIndicator&&_i.videoDisabledIndicator.disableVideo(er),np().length>0&&cs&&Mo&&(Fn!==ss.subscribeToVideo||Tn!==_h)&&Mo.setChannelActiveState("video",Fn,Tn),ss.subscribeToVideo=Fn,_h=Tn,vm=Fn,_c("subscribeToVideo","Success",{subscribeToVideo:Fn,reason:Tn}),Tn!=="loading"&&this.dispatchEvent(new Wr.VideoEnabledChangedEvent(Fn?"videoEnabled":"videoDisabled",{reason:I0[Tn]||"subscribeToVideo"})),this)},this.setPreferredResolution=Cn=>{if(ba.isDestroyed()||np().length===0&&!ba.current==="Connecting"){Ko.warn("Cannot set the max Resolution when not subscribing to a publisher");return}if(ss.preferredResolution=Cn,cs.sessionInfo.p2pEnabled){Ko.warn("OT.Subscriber.setPreferredResolution will not work in a P2P Session");return}if(!ba.isStreamAdded())return;const Tn=Mo.getPreferredResolution();Tn&&Cn&&Tn.width===Cn.width&&Tn.height===Cn.height||!Tn&&!Cn||Mo.setPreferredResolution(Cn)},this.setPreferredFrameRate=Cn=>{if(ba.isDestroyed()||np().length===0&&!ba.current==="Connecting"){Ko.warn("Cannot set the max frameRate when not subscribing to a publisher");return}if(ss.preferredFrameRate=Cn,cs.sessionInfo.p2pEnabled){Ko.warn("OT.Subscriber.setPreferredFrameRate will not work in a P2P Session");return}const Tn=Mo.getPreferredFrameRate();Cn&&Tn&&Tn===Cn||!Tn&&!Cn||Mo.setPreferredFrameRate(Cn)},this.isSubscribing=()=>ba.isSubscribing(),this.isWebRTC=!0,this.isLoading=()=>Ro&&Ro.loading(),this.isAudioBlocked=()=>!!(Ro&&Ro.isAudioBlocked()),this.videoElement=()=>{const Cn=Ro&&Ro.video();return Cn?Cn.domElement():null},this.videoWidth=()=>{const Cn=Ro&&Ro.video();return Cn?Cn.videoWidth():void 0},this.videoHeight=()=>{const Cn=Ro&&Ro.video();return Cn?Cn.videoHeight():void 0},this._subscribeToSelf=(0,ot.default)(it.default.mark(function Cn(){var Tn;return it.default.wrap(function(er){for(;;)switch(er.prev=er.next){case 0:if(Tn=cs.getPublisherForStream(Mo),Tn&&Tn._.webRtcStream()){er.next=5;break}ju.fail({payload:{reason:"streamNotFound"},error:Gl(jn.STREAM_DESTROYED,new Error("Tried to subscribe to a local publisher, but its stream no longer exists"))}),er.next=14;break;case 5:return Wp.resolve(),er.prev=6,er.next=9,o0(Tn._.webRtcStream());case 9:er.next=14;break;case 11:er.prev=11,er.t0=er.catch(6),Ko.error(er.t0);case 14:case"end":return er.stop()}},Cn,null,[[6,11]])})),this._setupPeerConnection=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn){var er,Dn,Sr,Or;return it.default.wrap(function(Ns){for(;;)switch(Ns.prev=Ns.next){case 0:return er=Fn.send,Dn=Fn.log,Sr=Fn.logQoS,Or=Fn.sourceStreamId,ss.testNetwork&&_s.setAudioVolume(0),np().length===0&&ba.set("Connecting"),tm=Or,lu[Or]=new nt((us,Eo)=>{cs._.getIceConfig().then(xa=>{xa.needRumorIceServersFallback&&(xa.servers=[...t0||[],...xa.servers||[]]);const Np={iceConfig:xa,subscriberId:_s.widgetId,send:er,logAnalyticsEvent:Dn,p2p:cs.sessionInfo.p2pEnabled,sourceStreamId:Or,remoteConnectionId:Mo.connection.id,_singlePeerConnectionController:Or==="MANTIS"&&$p,keyStore:cs.keyStore,sFrameClientStore:cs.sFrameClientStore,isE2ee:cs._.isE2ee()};Object.prototype.hasOwnProperty.call(ss,"codecFlags")&&(Np.codecFlags=ss.codecFlags);const uu=new cp.SubscriberPeerConnection(Np);uu.once("iceConnected",Wp.resolve),uu.once("error",Wp.reject),uu.on("qos",Sr),c0(uu,Or),uu.init(Xu=>{Xu?Eo(Xu):us(uu)})})}),Ns.abrupt("return",lu[Or]);case 6:case"end":return Ns.stop()}},Tn)}));return function(Tn){return Cn.apply(this,arguments)}}(),this.restrictFrameRate=Cn=>(Ko.debug(`OT.Subscriber.restrictFrameRate(${Cn})`),_c("restrictFrameRate",Cn.toString(),{streamId:Mo.id}),cs.sessionInfo.p2pEnabled&&Ko.warn("OT.Subscriber.restrictFrameRate: Cannot restrictFrameRate on a P2P session"),typeof Cn!="boolean"?Ko.error(`OT.Subscriber.restrictFrameRate: expected a boolean value got a ${typeof Cn}`):(Gm=Cn,Mo.setRestrictFrameRate(Cn)),this),this.on("styleValueChanged",$m,this),this._={getDataChannel(Cn,Tn,Fn){return(0,ot.default)(it.default.mark(function er(){return it.default.wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:if(Up()){Sr.next=3;break}return Fn(new _f.Error("Cannot create a DataChannel before there is a publisher connection.")),Sr.abrupt("return");case 3:return Sr.next=5,Up();case 5:Sr.sent.getDataChannel(Cn,Tn,Fn);case 6:case"end":return Sr.stop()}},er)}))()},iceRestart(Cn,Tn){return(0,ot.default)(it.default.mark(function Fn(){var er;return it.default.wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:return Tn===void 0&&(Tn=!1),Sr.next=3,bm("MANTIS");case 3:er=Sr.sent,er?(Bm("Attempt",{reason:Cn}),Ko.debug("Subscriber: iceRestart attempt"),er.iceRestart(),Tn&&er.generateOffer()):Ko.debug("Subscriber: Skipping ice restart, we have no peer connection");case 5:case"end":return Sr.stop()}},Fn)}))()},unblockAudio:()=>Ro&&Ro.unblockAudio(),webRtcStream:()=>qs,setIceConfig:function(){var Cn=(0,ot.default)(it.default.mark(function Fn(er){return it.default.wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:np().forEach(function(){var Or=(0,ot.default)(it.default.mark(function Ur(Ns){return it.default.wrap(function(Eo){for(;;)switch(Eo.prev=Eo.next){case 0:return Eo.next=2,Ns;case 2:return Eo.abrupt("return",Eo.sent.setIceConfig(er));case 3:case"end":return Eo.stop()}},Ur)}));return function(Ur){return Or.apply(this,arguments)}}());case 1:case"end":return Sr.stop()}},Fn)}));function Tn(Fn){return Cn.apply(this,arguments)}return Tn}(),privateEvents:new ht,startRoutedToRelayedTransition(){ss.testNetwork||Mr(Mo,cs)||(Ju.startTransitionTo("P2P"),R0())},startRelayedToRoutedTransition(){Ju.startTransitionTo("MANTIS",()=>l0())},setSinkId(Cn){if(Ro&&Ro.video())return Ro.setSinkId(Cn);Ko.debug("Called setAudioOutputDevice on a subscriber without a video element")},pauseAndPlayVideoElement(){Ro&&Ro.pauseAndPlayVideoElement()},get isSubscribingToVideo(){return ss.subscribeToVideo}},ba=new Zp(Hm),Ko.debug(`OT.Subscriber: subscribe to ${Mo.id}`),ba.set("Init"),!Mo)return Ko.error("OT.Subscriber: No stream parameter."),!1;um={updated:im},Mo.on(um,this),ss.name=ss.name||Mo.name,ss.classNames="OT_root OT_subscriber",ss.style&&this.setStyle(ss.style,null,!0),jp=yo,ss.subscribeToVideo=yt(ss.subscribeToVideo,!0),Dm=!ss.subscribeToVideo,ss.subscribeToAudio=yt(ss.subscribeToAudio,!0),this.subscribeToAudio(ss.subscribeToAudio),this.setAudioVolume(Gr(ss)),Ro=new cp.WidgetView(lm,Object.assign({},ss,{widgetType:"subscriber"})),Ro.on("error",nm),Ro.on("audioBlocked",()=>this.trigger("audioBlocked")),Ro.on("audioUnblocked",()=>this.trigger("audioUnblocked")),Ro.on("amrLogEvent",(Cn,Tn,Fn)=>{_c(Cn,Tn,{},Fn)}),this.id=Ro.domId(),Dp=Ro.domId(),this.element=Ro.domElement,Ro.on("videoElementCreated",Cn=>{const Tn=new Wr.VideoElementCreatedEvent(Cn),Fn=this;Lp?this.dispatchEvent(Tn):this.once("loaded",()=>{Fn.dispatchEvent(Tn)})}),this.element&&zm.call(this);const u0=Mo.getChannelsOfType("audio"),w0=Mo.getChannelsOfType("video"),Qm=Mo.getChannelsOfType("data");let Pn=Qm.some(Cn=>Cn.id==="caption1"&&Cn.active);this.subscribeToCaptions=function(){var Cn=(0,ot.default)(it.default.mark(function Tn(Fn){var er,Dn;return it.default.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:er=yt(Fn,!0),Dn={active:er},Pn=er,_c("subscribeToCaptions","Attempt",{subscribeToCaptions:er}),Kp.subscriberChannelUpdate(Mo.id,_s.widgetId,"caption1",Dn),_c("subscribeToCaptions","Success",{subscribeToCaptions:er});case 6:case"end":return Or.stop()}},Tn)}));return function(Tn){return Cn.apply(this,arguments)}}(),this.isSubscribedToCaptions=()=>Pn;const wn=u0.map(Cn=>({id:Cn.id,type:Cn.type,active:ss.subscribeToAudio})).concat(w0.map(Cn=>{const Tn={id:Cn.id,type:Cn.type,active:ss.subscribeToVideo,restrictFrameRate:ss.restrictFrameRate!==void 0?ss.restrictFrameRate:!1};return ss.preferredFrameRate!==void 0&&(Tn.preferredFrameRate=parseFloat(ss.preferredFrameRate)),ss.preferredHeight!==void 0&&(Tn.preferredHeight=parseInt(ss.preferredHeight,10)),ss.preferredWidth!==void 0&&(Tn.preferredWidth=parseInt(ss.preferredWidth,10)),Tn})).concat(Qm.map(Cn=>({id:Cn.id,type:Cn.type,active:Cn.active}))),Gn=(Qp=Mo.getChannelsOfType("data")[0])==null?void 0:Qp.active,Bn=!ss.testNetwork&&Mr(Mo,cs)&&!Gn;(()=>{var Cn;const Tn=cs.getPublisherForStream(Mo);if(Tn!=null&&(Cn=Tn._)!=null&&Cn.privateEvents&&Bn){let Fn=!1;Tn._.privateEvents.on("publisherCaptionsEnabled",er=>{!Fn&&er.captionsEnabled&&(wn.find(Dn=>Dn.id==="caption1").active=!0,ir(),Fn=!0)})}})();const ir=()=>{ju.beginConnect(),Kp.subscriberCreate(Mo.id,zu,wn,null,cs._.isE2ee(),(Cn,Tn)=>{const Fn=Object.assign({status:Tn==null?void 0:Tn.status},(Cn==null?void 0:Cn.message)&&{error:Cn==null?void 0:Cn.message});_c("subscriberCreate","Event",Fn),Cn&&!ju.is("disconnected")&&Lm(Cn),t0=Qr(Tn)})};return Bn?(ju.beginConnect(),this._subscribeToSelf(),this):(zp?$p.addSubscriber(ir):ir(),this)};return Ou.hasAudioOutputLevelStatCapability=Ip,Ou.WidgetView=Ms,Ou.SubscriberPeerConnection=fp,Ou}}).call(this,et(2))},function(_e,tt,et){const nt=et(3);_e.exports=()=>["Chrome","Opera","Safari"].indexOf(nt.name)>-1},function(_e,tt,et){const nt=et(3),rt=nt.name;_e.exports=()=>["Firefox","Safari","Edge","Chrome","Opera"].indexOf(rt)>-1},function(_e,tt,et){const st=et(160)()("NotSubscribing",["NotSubscribing","Init","Connecting","BindingRemoteStream","Subscribing","Failed","Destroyed"],{NotSubscribing:["NotSubscribing","Init","Destroyed"],Init:["NotSubscribing","Connecting","BindingRemoteStream","Destroyed"],Connecting:["NotSubscribing","BindingRemoteStream","Failed","Destroyed"],BindingRemoteStream:["NotSubscribing","Subscribing","Failed","Destroyed","BindingRemoteStream"],Subscribing:["NotSubscribing","Failed","Destroyed","BindingRemoteStream"],Failed:["Destroyed"],Destroyed:[]});st.prototype.isDestroyed=function(){return this.current==="Destroyed"},st.prototype.isFailed=function(){return this.current==="Failed"},st.prototype.isSubscribing=function(){return this.current==="Subscribing"},st.prototype.isAttemptingToSubscribe=function(){return["Init","Connecting","BindingRemoteStream"].indexOf(this.current)!==-1},st.prototype.isStreamAdded=function(){return this.current==="BindingRemoteStream"||this.isSubscribing()},_e.exports=st},function(_e,tt,et){_e.exports=nt=>{let rt=nt.socket,it=nt.uri,ot=nt.content;return(st,at)=>rt.send({uri:it,method:st,content:Object.assign({},ot,at)})}},function(_e,tt,et){(function(rt,it){_e.exports=it()})(this,function(){return function(nt){var rt={};function it(ot){if(rt[ot])return rt[ot].exports;var st=rt[ot]={i:ot,l:!1,exports:{}};return nt[ot].call(st.exports,st,st.exports,it),st.l=!0,st.exports}return it.m=nt,it.c=rt,it.i=function(ot){return ot},it.d=function(ot,st,at){it.o(ot,st)||Object.defineProperty(ot,st,{configurable:!1,enumerable:!0,get:at})},it.n=function(ot){var st=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return it.d(st,"a",st),st},it.o=function(ot,st){return Object.prototype.hasOwnProperty.call(ot,st)},it.p="",it(it.s=5)}([function(nt,rt,it){nt.exports=function(ot,st){var at,ct,lt;for(at=1;at<arguments.length;at++){ct=arguments[at];for(lt in ct)ct.hasOwnProperty(lt)&&(ot[lt]=ct[lt])}return ot}},function(nt,rt,it){var ot=it(0);nt.exports={build:function(st,at){var ct,lt,dt,ut=at.plugins;for(ct=0,lt=ut.length;ct<lt;ct++)dt=ut[ct],dt.methods&&ot(st,dt.methods),dt.properties&&Object.defineProperties(st,dt.properties)},hook:function(st,at,ct){var lt,dt,ut,ft,pt=st.config.plugins,vt=[st.context];for(ct&&(vt=vt.concat(ct)),lt=0,dt=pt.length;lt<dt;lt++)ft=pt[lt],ut=pt[lt][at],ut&&ut.apply(ft,vt)}}},function(nt,rt,it){function ot(st){if(st.length===0)return st;var at,ct,lt=st.split(/[_-]/);if(lt.length===1&&lt[0][0].toLowerCase()===lt[0][0])return st;for(ct=lt[0].toLowerCase(),at=1;at<lt.length;at++)ct=ct+lt[at].charAt(0).toUpperCase()+lt[at].substring(1).toLowerCase();return ct}ot.prepended=function(st,at){return at=ot(at),st+at[0].toUpperCase()+at.substring(1)},nt.exports=ot},function(nt,rt,it){var ot=it(0),st=it(2);function at(ct,lt){ct=ct||{},this.options=ct,this.defaults=lt.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(ct.init),this.data=this.configureData(ct.data),this.methods=this.configureMethods(ct.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(ct.transitions||[]),this.plugins=this.configurePlugins(ct.plugins,lt.plugin)}ot(at.prototype,{addState:function(ct){this.map[ct]||(this.states.push(ct),this.addStateLifecycleNames(ct),this.map[ct]={})},addStateLifecycleNames:function(ct){this.lifecycle.onEnter[ct]=st.prepended("onEnter",ct),this.lifecycle.onLeave[ct]=st.prepended("onLeave",ct),this.lifecycle.on[ct]=st.prepended("on",ct)},addTransition:function(ct){this.transitions.indexOf(ct)<0&&(this.transitions.push(ct),this.addTransitionLifecycleNames(ct))},addTransitionLifecycleNames:function(ct){this.lifecycle.onBefore[ct]=st.prepended("onBefore",ct),this.lifecycle.onAfter[ct]=st.prepended("onAfter",ct),this.lifecycle.on[ct]=st.prepended("on",ct)},mapTransition:function(ct){var lt=ct.name,dt=ct.from,ut=ct.to;return this.addState(dt),typeof ut!="function"&&this.addState(ut),this.addTransition(lt),this.map[dt][lt]=ct,ct},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(ct){return typeof ct=="string"?this.mapTransition(ot({},this.defaults.init,{to:ct,active:!0})):typeof ct=="object"?this.mapTransition(ot({},this.defaults.init,ct,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(ct){return typeof ct=="function"?ct:typeof ct=="object"?function(){return ct}:function(){return{}}},configureMethods:function(ct){return ct||{}},configurePlugins:function(ct,lt){ct=ct||[];var dt,ut,ft;for(dt=0,ut=ct.length;dt<ut;dt++)ft=ct[dt],typeof ft=="function"&&(ct[dt]=ft=ft()),ft.configure&&ft.configure(this);return ct},configureTransitions:function(ct){var lt,dt,ut,ft,pt,vt=this.defaults.wildcard;for(dt=0;dt<ct.length;dt++)for(ut=ct[dt],ft=Array.isArray(ut.from)?ut.from:[ut.from||vt],pt=ut.to||vt,lt=0;lt<ft.length;lt++)this.mapTransition({name:ut.name,from:ft[lt],to:pt})},transitionFor:function(ct,lt){var dt=this.defaults.wildcard;return this.map[ct][lt]||this.map[dt][lt]},transitionsFor:function(ct){var lt=this.defaults.wildcard;return Object.keys(this.map[ct]).concat(Object.keys(this.map[lt]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),nt.exports=at},function(nt,rt,it){var ot=it(0),st=it(6),at=it(1),ct=[null,[]];function lt(dt,ut){this.context=dt,this.config=ut,this.state=ut.init.from,this.observers=[dt]}ot(lt.prototype,{init:function(dt){if(ot(this.context,this.config.data.apply(this.context,dt)),at.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(dt){return Array.isArray(dt)?dt.indexOf(this.state)>=0:this.state===dt},isPending:function(){return this.pending},can:function(dt){return!this.isPending()&&!!this.seek(dt)},cannot:function(dt){return!this.can(dt)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(dt,ut){var ft=this.config.defaults.wildcard,pt=this.config.transitionFor(this.state,dt),vt=pt&&pt.to;return typeof vt=="function"?vt.apply(this.context,ut):vt===ft?this.state:vt},fire:function(dt,ut){return this.transit(dt,this.state,this.seek(dt,ut),ut)},transit:function(dt,ut,ft,pt){var vt=this.config.lifecycle,Ct=this.config.options.observeUnchangedState||ut!==ft;return ft?this.isPending()?this.context.onPendingTransition(dt,ut,ft):(this.config.addState(ft),this.beginTransit(),pt.unshift({transition:dt,from:ut,to:ft,fsm:this.context}),this.observeEvents([this.observersForEvent(vt.onBefore.transition),this.observersForEvent(vt.onBefore[dt]),Ct?this.observersForEvent(vt.onLeave.state):ct,Ct?this.observersForEvent(vt.onLeave[ut]):ct,this.observersForEvent(vt.on.transition),Ct?["doTransit",[this]]:ct,Ct?this.observersForEvent(vt.onEnter.state):ct,Ct?this.observersForEvent(vt.onEnter[ft]):ct,Ct?this.observersForEvent(vt.on[ft]):ct,this.observersForEvent(vt.onAfter.transition),this.observersForEvent(vt.onAfter[dt]),this.observersForEvent(vt.on[dt])],pt)):this.context.onInvalidTransition(dt,ut,ft)},beginTransit:function(){this.pending=!0},endTransit:function(dt){return this.pending=!1,dt},failTransit:function(dt){throw this.pending=!1,dt},doTransit:function(dt){this.state=dt.to},observe:function(dt){if(dt.length===2){var ut={};ut[dt[0]]=dt[1],this.observers.push(ut)}else this.observers.push(dt[0])},observersForEvent:function(dt){for(var ut=0,ft=this.observers.length,pt,vt=[];ut<ft;ut++)pt=this.observers[ut],pt[dt]&&vt.push(pt);return[dt,vt,!0]},observeEvents:function(dt,ut,ft,pt){if(dt.length===0)return this.endTransit(pt===void 0?!0:pt);var vt=dt[0][0],Ct=dt[0][1],ht=dt[0][2];if(ut[0].event=vt,vt&&ht&&vt!==ft&&at.hook(this,"lifecycle",ut),Ct.length===0)return dt.shift(),this.observeEvents(dt,ut,vt,pt);var mt=Ct.shift(),yt=mt[vt].apply(mt,ut);return yt&&typeof yt.then=="function"?yt.then(this.observeEvents.bind(this,dt,ut,vt)).catch(this.failTransit.bind(this)):yt===!1?this.endTransit(!1):this.observeEvents(dt,ut,vt,yt)},onInvalidTransition:function(dt,ut,ft){throw new st("transition is invalid in current state",dt,ut,ft,this.state)},onPendingTransition:function(dt,ut,ft){throw new st("transition is invalid while previous transition is still in progress",dt,ut,ft,this.state)}}),nt.exports=lt},function(nt,rt,it){var ot=it(0),st=it(2),at=it(1),ct=it(3),lt=it(4),dt={is:function(ht){return this._fsm.is(ht)},can:function(ht){return this._fsm.can(ht)},cannot:function(ht){return this._fsm.cannot(ht)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(ht,mt,yt){return this._fsm.onInvalidTransition(ht,mt,yt)},onPendingTransition:function(ht,mt,yt){return this._fsm.onPendingTransition(ht,mt,yt)}},ut={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(ht){throw Error("use transitions to change state")}}};function ft(ht){return vt(this||{},ht)}function pt(){var ht,mt;typeof arguments[0]=="function"?(ht=arguments[0],mt=arguments[1]||{}):(ht=function(){this._fsm.apply(this,arguments)},mt=arguments[0]||{});var yt=new ct(mt,ft);return Ct(ht.prototype,yt),ht.prototype._fsm.config=yt,ht}function vt(ht,mt){var yt=new ct(mt,ft);return Ct(ht,yt),ht._fsm(),ht}function Ct(ht,mt){if(typeof ht!="object"||Array.isArray(ht))throw Error("StateMachine can only be applied to objects");at.build(ht,mt),Object.defineProperties(ht,ut),ot(ht,dt),ot(ht,mt.methods),mt.allTransitions().forEach(function(yt){ht[st(yt)]=function(){return this._fsm.fire(yt,[].slice.call(arguments))}}),ht._fsm=function(){this._fsm=new lt(this,mt),this._fsm.init(arguments)}}ft.version="3.0.1",ft.factory=pt,ft.apply=vt,ft.defaults={wildcard:"*",init:{name:"init",from:"none"}},nt.exports=ft},function(nt,rt,it){nt.exports=function(ot,st,at,ct,lt){this.message=ot,this.transition=st,this.from=at,this.to=ct,this.current=lt}}])})},function(_e,tt,et){const nt=et(104)();_e.exports=nt},function(_e,tt,et){let nt=function(){function rt(){this.processTransition=()=>{},this.routedToRelayedOngoing=!1,this.relayedToRoutedPending=!1}var it=rt.prototype;return it.startTransitionTo=function(st,at){at===void 0&&(at=()=>{}),st==="P2P"?this.startRoutedToRelayed():st==="MANTIS"&&this.startRelayedToRouted(at)},it.finishTransitionTo=function(st){st==="P2P"&&this.finishRoutedToRelayed()},it.startRoutedToRelayed=function(){this.routedToRelayedOngoing=!0},it.finishRoutedToRelayed=function(){this.routedToRelayedOngoing=!1,this.relayedToRoutedPending&&(this.relayedToRoutedPending=!1,this.processTransition())},it.startRelayedToRouted=function(st){this.routedToRelayedOngoing?(this.relayedToRoutedPending=!0,this.processTransition=st):st()},rt}();_e.exports=nt},function(_e,tt,et){(function(nt){_e.exports=function(it){return function(){for(var st=arguments.length,at=new Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct];return new nt((lt,dt)=>{it(...at,function(ut){if(ut){dt(ut);return}for(var ft=arguments.length,pt=new Array(ft>1?ft-1:0),vt=1;vt<ft;vt++)pt[vt-1]=arguments[vt];if(pt.length===1){lt(pt[0]);return}lt(pt)})})}}}).call(this,et(2))},function(_e,tt,et){_e.exports=nt=>{var rt;const it=Object.assign({},nt);return(nt==null||(rt=nt.backgroundImgUrl)==null?void 0:rt.includes("base64"))&&delete it.backgroundImgUrl,it}},function(_e,tt,et){const nt=et(726),rt=nt.setVonageMetadata,it=et(321),ot=it.createVonageMediaProcessor,at={isSupported:()=>typeof MediaStreamTrackProcessor<"u"&&typeof MediaStreamTrackGenerator<"u",setMetadata:rt,createProcessor:ot};_e.exports=at},function(_e,tt,et){et.r(tt),(function(nt,rt){et.d(tt,"BackgroundTransformer",function(){return kv}),et.d(tt,"BackgroundTransformerType",function(){return Wr}),et.d(tt,"BlurRadius",function(){return fr}),et.d(tt,"ErrorFunction",function(){return Vo}),et.d(tt,"MediapipeHelper",function(){return sp}),et.d(tt,"PipelineInfoData",function(){return is}),et.d(tt,"RenderingType",function(){return xo}),et.d(tt,"VonageMediaProcessor",function(){return I1}),et.d(tt,"WarningType",function(){return Al}),et.d(tt,"WebglSelfieSegmentationType",function(){return yr}),et.d(tt,"createVonageMediaProcessor",function(){return _S}),et.d(tt,"getSupportedBrowserFeatures",function(){return Zl}),et.d(tt,"getVonageFaceDetection",function(){return zS}),et.d(tt,"getVonageFaceMash",function(){return KS}),et.d(tt,"getVonageHands",function(){return YS}),et.d(tt,"getVonageHolistic",function(){return $S}),et.d(tt,"getVonageObjectron",function(){return JS}),et.d(tt,"getVonagePose",function(){return QS}),et.d(tt,"getVonageSelfieSegmentation",function(){return HS}),et.d(tt,"isSupported",function(){return ms});var it=Object.defineProperty,ot=(xt,St,Tt)=>St in xt?it(xt,St,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):xt[St]=Tt,st=(xt,St,Tt)=>(ot(xt,typeof St!="symbol"?St+"":St,Tt),Tt),at=Object.defineProperty,ct=(xt,St,Tt)=>St in xt?at(xt,St,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):xt[St]=Tt,lt=(xt,St,Tt)=>(ct(xt,typeof St!="symbol"?St+"":St,Tt),Tt);function dt(){return new nt((xt,St)=>{typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?St("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):xt()})}class ut{}lt(ut,"updates",{transformer_new:"New transformer",transformer_null:"Null transformer"}),lt(ut,"errors",{transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"});const ft=new WeakMap,pt=new WeakMap,vt=new WeakMap,Ct=Symbol("anyProducer"),ht=nt.resolve(),mt=Symbol("listenerAdded"),yt=Symbol("listenerRemoved");let Et=!1;function Rt(xt){if(typeof xt!="string"&&typeof xt!="symbol")throw new TypeError("eventName must be a string or a symbol")}function Pt(xt){if(typeof xt!="function")throw new TypeError("listener must be a function")}function Vt(xt,St){const Tt=pt.get(xt);return Tt.has(St)||Tt.set(St,new Set),Tt.get(St)}function Nt(xt,St){const Tt=typeof St=="string"||typeof St=="symbol"?St:Ct,Ut=vt.get(xt);return Ut.has(Tt)||Ut.set(Tt,new Set),Ut.get(Tt)}function kt(xt,St,Tt){const Ut=vt.get(xt);if(Ut.has(St))for(const Qt of Ut.get(St))Qt.enqueue(Tt);if(Ut.has(Ct)){const Qt=nt.all([St,Tt]);for(const In of Ut.get(Ct))In.enqueue(Qt)}}function wt(xt,St){St=Array.isArray(St)?St:[St];let Tt=!1,Ut=()=>{},Qt=[];const In={enqueue(Xn){Qt.push(Xn),Ut()},finish(){Tt=!0,Ut()}};for(const Xn of St)Nt(xt,Xn).add(In);return{async next(){return Qt?Qt.length===0?Tt?(Qt=void 0,this.next()):(await new nt(Xn=>{Ut=Xn}),this.next()):{done:!1,value:await Qt.shift()}:{done:!0}},async return(Xn){Qt=void 0;for(const Nn of St)Nt(xt,Nn).delete(In);return Ut(),arguments.length>0?{done:!0,value:await Xn}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Zt(xt){if(xt===void 0)return Bt;if(!Array.isArray(xt))throw new TypeError("`methodNames` must be an array of strings");for(const St of xt)if(!Bt.includes(St))throw typeof St!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${St} is not Emittery method`);return xt}const qt=xt=>xt===mt||xt===yt;class zt{static mixin(St,Tt){return Tt=Zt(Tt),Ut=>{if(typeof Ut!="function")throw new TypeError("`target` must be function");for(const Xn of Tt)if(Ut.prototype[Xn]!==void 0)throw new Error(`The property \`${Xn}\` already exists on \`target\``);function Qt(){return Object.defineProperty(this,St,{enumerable:!1,value:new zt}),this[St]}Object.defineProperty(Ut.prototype,St,{enumerable:!1,get:Qt});const In=Xn=>function(...Nn){return this[St][Xn](...Nn)};for(const Xn of Tt)Object.defineProperty(Ut.prototype,Xn,{enumerable:!1,value:In(Xn)});return Ut}}static get isDebugEnabled(){if(typeof rt!="object")return Et;const{env:St}=rt||{env:{}};return St.DEBUG==="emittery"||St.DEBUG==="*"||Et}static set isDebugEnabled(St){Et=St}constructor(St={}){ft.set(this,new Set),pt.set(this,new Map),vt.set(this,new Map),this.debug=St.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(Tt,Ut,Qt,In)=>{try{In=JSON.stringify(In)}catch{In=`Object with the following keys failed to stringify: ${Object.keys(In).join(",")}`}typeof Qt=="symbol"&&(Qt=Qt.toString());const Xn=new Date,Nn=`${Xn.getHours()}:${Xn.getMinutes()}:${Xn.getSeconds()}.${Xn.getMilliseconds()}`;console.log(`[${Nn}][emittery:${Tt}][${Ut}] Event Name: ${Qt}
	data: ${In}`)})}logIfDebugEnabled(St,Tt,Ut){(zt.isDebugEnabled||this.debug.enabled)&&this.debug.logger(St,this.debug.name,Tt,Ut)}on(St,Tt){Pt(Tt),St=Array.isArray(St)?St:[St];for(const Ut of St)Rt(Ut),Vt(this,Ut).add(Tt),this.logIfDebugEnabled("subscribe",Ut,void 0),qt(Ut)||this.emit(mt,{eventName:Ut,listener:Tt});return this.off.bind(this,St,Tt)}off(St,Tt){Pt(Tt),St=Array.isArray(St)?St:[St];for(const Ut of St)Rt(Ut),Vt(this,Ut).delete(Tt),this.logIfDebugEnabled("unsubscribe",Ut,void 0),qt(Ut)||this.emit(yt,{eventName:Ut,listener:Tt})}once(St){return new nt(Tt=>{const Ut=this.on(St,Qt=>{Ut(),Tt(Qt)})})}events(St){St=Array.isArray(St)?St:[St];for(const Tt of St)Rt(Tt);return wt(this,St)}async emit(St,Tt){Rt(St),this.logIfDebugEnabled("emit",St,Tt),kt(this,St,Tt);const Ut=Vt(this,St),Qt=ft.get(this),In=[...Ut],Xn=qt(St)?[]:[...Qt];await ht,await nt.all([...In.map(async Nn=>{if(Ut.has(Nn))return Nn(Tt)}),...Xn.map(async Nn=>{if(Qt.has(Nn))return Nn(St,Tt)})])}async emitSerial(St,Tt){Rt(St),this.logIfDebugEnabled("emitSerial",St,Tt);const Ut=Vt(this,St),Qt=ft.get(this),In=[...Ut],Xn=[...Qt];await ht;for(const Nn of In)Ut.has(Nn)&&await Nn(Tt);for(const Nn of Xn)Qt.has(Nn)&&await Nn(St,Tt)}onAny(St){return Pt(St),this.logIfDebugEnabled("subscribeAny",void 0,void 0),ft.get(this).add(St),this.emit(mt,{listener:St}),this.offAny.bind(this,St)}anyEvent(){return wt(this)}offAny(St){Pt(St),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(yt,{listener:St}),ft.get(this).delete(St)}clearListeners(St){St=Array.isArray(St)?St:[St];for(const Tt of St)if(this.logIfDebugEnabled("clear",Tt,void 0),typeof Tt=="string"||typeof Tt=="symbol"){Vt(this,Tt).clear();const Ut=Nt(this,Tt);for(const Qt of Ut)Qt.finish();Ut.clear()}else{ft.get(this).clear();for(const Ut of pt.get(this).values())Ut.clear();for(const Ut of vt.get(this).values()){for(const Qt of Ut)Qt.finish();Ut.clear()}}}listenerCount(St){St=Array.isArray(St)?St:[St];let Tt=0;for(const Ut of St){if(typeof Ut=="string"){Tt+=ft.get(this).size+Vt(this,Ut).size+Nt(this,Ut).size+Nt(this).size;continue}typeof Ut<"u"&&Rt(Ut),Tt+=ft.get(this).size;for(const Qt of pt.get(this).values())Tt+=Qt.size;for(const Qt of vt.get(this).values())Tt+=Qt.size}return Tt}bindMethods(St,Tt){if(typeof St!="object"||St===null)throw new TypeError("`target` must be an object");Tt=Zt(Tt);for(const Ut of Tt){if(St[Ut]!==void 0)throw new Error(`The property \`${Ut}\` already exists on \`target\``);Object.defineProperty(St,Ut,{enumerable:!1,value:this[Ut].bind(this)})}}}const Bt=Object.getOwnPropertyNames(zt.prototype).filter(xt=>xt!=="constructor");Object.defineProperty(zt,"listenerAdded",{value:mt,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(zt,"listenerRemoved",{value:yt,writable:!1,enumerable:!0,configurable:!1});var sn=zt;function mn(xt){return typeof xt=="object"&&xt!==null&&"message"in xt&&typeof xt.message=="string"}function En(xt){if(mn(xt))return xt;try{return new Error(JSON.stringify(xt))}catch{return new Error(String(xt))}}function cn(xt){return En(xt).message}var xn=Object.defineProperty,bn=(xt,St,Tt)=>St in xt?xn(xt,St,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):xt[St]=Tt,gn=(xt,St,Tt)=>(bn(xt,typeof St!="symbol"?St+"":St,Tt),Tt);const vn="hlg.tokbox.com/prod/logging/vcp_webrtc",Wn="https://",Un=1e4;let Sn;const On=new Uint8Array(16);function Ln(){if(!Sn&&(Sn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sn(On)}const Jn=[];for(let xt=0;xt<256;++xt)Jn.push((xt+256).toString(16).slice(1));function ur(xt,St=0){return(Jn[xt[St+0]]+Jn[xt[St+1]]+Jn[xt[St+2]]+Jn[xt[St+3]]+"-"+Jn[xt[St+4]]+Jn[xt[St+5]]+"-"+Jn[xt[St+6]]+Jn[xt[St+7]]+"-"+Jn[xt[St+8]]+Jn[xt[St+9]]+"-"+Jn[xt[St+10]]+Jn[xt[St+11]]+Jn[xt[St+12]]+Jn[xt[St+13]]+Jn[xt[St+14]]+Jn[xt[St+15]]).toLowerCase()}const sr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pr={randomUUID:sr};function Ir(xt,St,Tt){if(pr.randomUUID&&!St&&!xt)return pr.randomUUID();xt=xt||{};const Ut=xt.random||(xt.rng||Ln)();if(Ut[6]=Ut[6]&15|64,Ut[8]=Ut[8]&63|128,St){Tt=Tt||0;for(let Qt=0;Qt<16;++Qt)St[Tt+Qt]=Ut[Qt];return St}return ur(Ut)}function Er(xt,St){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let Tt=globalThis.vonage.workerizer;return Tt[xt]||(Tt[xt]=St),Tt[xt]}const Kr=Er("globals",{});var Dr=(xt=>(xt.INIT="INIT",xt.FORWARD="FORWARD",xt.TERMINATE="TERMINATE",xt.GLOBALS_SYNC="GLOBALS_SYNC",xt))(Dr||{});function to(xt){return[ImageBitmap,ReadableStream,WritableStream].some(St=>xt instanceof St)}let po=0;function Nr(xt,St,Tt,Ut,Qt){const In=po++;return xt.postMessage({id:In,type:St,functionName:Tt,args:Ut},Ut.filter(Xn=>to(Xn))),new nt(Xn=>{Qt==null||Qt.set(In,Xn)})}function br(xt,St){const{id:Tt,type:Ut}=xt,Qt=Array.isArray(St)?St:[St];postMessage({id:Tt,type:Ut,result:St},Qt.filter(In=>to(In)))}const zn=Er("workerized",{});function Qn(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}async function cr(){if(Qn())br({type:Dr.GLOBALS_SYNC},Kr);else{const xt=[];for(const St in zn){const{worker:Tt,resolvers:Ut}=zn[St].workerContext;Tt&&xt.push(Nr(Tt,Dr.GLOBALS_SYNC,"",[Kr],Ut))}await nt.all(xt)}}function qr(xt,St){if(Array.isArray(St))St.splice(0,St.length);else if(typeof St=="object")for(const Tt in St)delete St[Tt];for(const Tt in xt)Array.isArray(xt[Tt])?(St[Tt]=[],qr(xt[Tt],St[Tt])):typeof xt[Tt]=="object"?(St[Tt]={},qr(xt[Tt],St[Tt])):St[Tt]=xt[Tt]}async function To(xt,St){const{functionName:Tt,args:Ut}=xt;if(!St.instance)throw"instance not initialized";if(!Tt)throw"missing function name to call";if(!St.instance[Tt])throw`undefined function [${Tt}] in class ${St.instance.constructor.workerId}`;br(xt,await St.instance[Tt](...Ut??[]))}const dr=Er("registeredWorkers",{});function Lr(xt,St){if(!xt.args)throw"Missing className while initializing worker";const[Tt,Ut]=xt.args,Qt=dr[Tt];if(Qt)St.instance=new Qt(xt.args.slice(1));else throw`unknown worker class ${Tt}`;qr(Ut,Kr),br(xt,typeof St.instance!==void 0)}async function Yr(xt,St){const{args:Tt}=xt;if(!St.instance)throw"instance not initialized";let Ut;St.instance.terminate&&(Ut=await St.instance.terminate(...Tt??[])),br(xt,Ut)}function yo(xt){if(!xt.args)throw"Missing globals while syncing";qr(xt.args[0],Kr),br(xt,{})}function Mr(){const xt={};onmessage=async St=>{const Tt=St.data;switch(Tt.type){case Dr.INIT:Lr(Tt,xt);break;case Dr.FORWARD:To(Tt,xt);break;case Dr.TERMINATE:Yr(Tt,xt);break;case Dr.GLOBALS_SYNC:yo(Tt);break}}}Qn()&&Mr();function wo(xt,St){return Kr[xt]||(Kr[xt]=St),[()=>Kr[xt],async Tt=>{Kr[xt]=Tt,await cr()}]}function mo(xt,St){return wo(xt,St)}const[so,Gr]=mo("metadata");function wr(xt){Gr(xt)}function Oo(){return so()}class $r{constructor(St){gn(this,"uuid",Ir()),this.config=St}async send(St){var Tt,Ut,Qt;const{appId:In,sourceType:Xn}=(Tt=Oo())!=null?Tt:{};if(!In||!Xn)return"metadata missing";const Nn=new AbortController,or=setTimeout(()=>Nn.abort(),Un);return await((Qt=(Ut=this.config)==null?void 0:Ut.fetch)!=null?Qt:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(St)),signal:Nn.signal}),clearTimeout(or),"success"}getUrl(){var St;let Tt=(St=Oo().proxyUrl)!=null?St:Wn;return Tt+=(Tt.at(-1)==="/"?"":"/")+vn,Tt}getHeaders(){return{"Content-Type":"application/json"}}buildReport(St){const Tt=Oo();return{guid:this.uuid,...St,applicationId:Tt.appId,timestamp:Date.now(),proxyUrl:Tt.proxyUrl,source:Tt.sourceType}}}const os="2.0.3";class rs{constructor(St){lt(this,"frameTransformedCount",0),lt(this,"frameFromSourceCount",0),lt(this,"startAt",0),lt(this,"reporter"),this.config=St,this.reporter=new $r(St)}async onFrameFromSource(){this.frameFromSourceCount++}get fps(){const{startAt:St,frameFromSourceCount:Tt}=this,Ut=(Date.now()-St)/1e3;return Tt/Ut}async onFrameTransformed(St={},Tt=!1){this.startAt===0&&(this.startAt=Date.now()),this.frameTransformedCount++;const{startAt:Ut,frameTransformedCount:Qt,frameFromSourceCount:In}=this,Xn=Date.now(),Nn=(Xn-Ut)/1e3,or=Qt/Nn,Br=In/Nn;return Tt||this.frameTransformedCount>=this.config.loggingIntervalFrameCount?(this.frameFromSourceCount=0,this.frameTransformedCount=0,this.startAt=Xn,this.reporter.config=this.config,this.reporter.send({...this.config.report,variation:"QoS",fps:Br,transformedFps:or,framesTransformed:Qt,...St})):"success"}}var Al=(xt=>(xt.FPS_DROP="fps_drop",xt))(Al||{}),Vo=(xt=>(xt.start="start",xt.transform="transform",xt.flush="flush",xt))(Vo||{}),is=(xt=>(xt.pipeline_ended="pipeline_ended",xt.pipeline_ended_with_error="pipeline_ended_with_error",xt.pipeline_started="pipeline_started",xt.pipeline_started_with_error="pipeline_started_with_error",xt.pipeline_restarted="pipeline_restarted",xt.pipeline_restarted_with_error="pipeline_restarted_with_error",xt))(is||{});const Gs=500,cu=.8;class Vs extends sn{constructor(St,Tt){super(),lt(this,"reporter_",new $r),lt(this,"reporterQos_",new rs({loggingIntervalFrameCount:Gs,report:{version:os}})),lt(this,"transformerType_"),lt(this,"transformer_"),lt(this,"shouldStop_"),lt(this,"isFlashed_"),lt(this,"mediaTransformerQosReportStartTimestamp_"),lt(this,"videoHeight_"),lt(this,"videoWidth_"),lt(this,"trackExpectedRate_"),lt(this,"index_"),lt(this,"controller_"),this.index_=Tt,this.transformer_=St,this.shouldStop_=!1,this.isFlashed_=!1,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in St&&(this.transformerType_=St.getTransformerType()),this.report({variation:"Create"})}setTrackExpectedRate(St){this.trackExpectedRate_=St}async start(St){if(this.controller_=St,this.transformer_&&typeof this.transformer_.start=="function")try{await this.transformer_.start(St)}catch(Tt){this.report({message:ut.errors.transformer_start,variation:"Error",error:cn(Tt)});const Ut={eventMetaData:{transformerIndex:this.index_},error:Tt,function:"start"};this.emit("error",Ut)}}async transform(St,Tt){var Ut,Qt,In,Xn;if(this.mediaTransformerQosReportStartTimestamp_===0&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),St instanceof VideoFrame&&(this.videoHeight_=(Ut=St==null?void 0:St.displayHeight)!=null?Ut:0,this.videoWidth_=(Qt=St==null?void 0:St.displayWidth)!=null?Qt:0),this.reporterQos_.onFrameFromSource(),this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),St.close(),this.flush(Tt),Tt.terminate();else{try{await((Xn=(In=this.transformer_).transform)==null?void 0:Xn.call(In,St,Tt)),this.reportQos()}catch(Nn){this.report({message:ut.errors.transformer_transform,variation:"Error",error:cn(Nn)});const or={eventMetaData:{transformerIndex:this.index_},error:Nn,function:"transform"};this.emit("error",or)}if(this.trackExpectedRate_!=-1&&this.trackExpectedRate_*cu>this.reporterQos_.fps){const Nn={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:this.reporterQos_.fps}};this.emit("warn",Nn)}}}async flush(St){if(this.transformer_&&typeof this.transformer_.flush=="function"&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(St)}catch(Tt){this.report({message:ut.errors.transformer_flush,variation:"Error",error:cn(Tt)});const Ut={eventMetaData:{transformerIndex:this.index_},error:Tt,function:"flush"};this.emit("error",Ut)}}this.reportQos(!0),this.report({variation:"Delete"})}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}report(St){this.reporter_.send({version:os,action:"MediaTransformer",transformerType:this.transformerType_,...St})}reportQos(St=!1){this.reporterQos_.config={...this.reporterQos_.config},this.reporterQos_.onFrameTransformed({version:os,action:"MediaTransformer",transformerType:this.transformerType_,videoWidth:this.videoWidth_,videoHeight:this.videoHeight_},St)}}class Ml extends sn{constructor(St){super(),lt(this,"transformers_"),lt(this,"trackExpectedRate_"),this.transformers_=[],this.trackExpectedRate_=-1;for(let Tt=0;Tt<St.length;Tt++){let Ut=new Vs(St[Tt],Tt);Ut.on("error",Qt=>{this.emit("error",Qt)}),Ut.on("warn",Qt=>{this.emit("warn",Qt)}),this.transformers_.push(Ut)}}setTrackExpectedRate(St){this.trackExpectedRate_=St;for(let Tt of this.transformers_)Tt.setTrackExpectedRate(this.trackExpectedRate_)}async start(St,Tt){if(!this.transformers_||this.transformers_.length===0){console.log("[Pipeline] No transformers.");return}try{let Ut=St;for(let Qt of this.transformers_)St=St.pipeThrough(new TransformStream(Qt));St.pipeTo(Tt).then(async()=>{console.log("[Pipeline] Setup."),await Tt.abort(),await Ut.cancel(),this.emit("pipelineInfo","pipeline_ended")}).catch(async Qt=>{St.cancel().then(()=>{console.log("[Pipeline] Shutting down streams after abort.")}).catch(In=>{console.error("[Pipeline] Error from stream transform:",In)}),await Tt.abort(Qt),await Ut.cancel(Qt),this.emit("pipelineInfo","pipeline_ended_with_error")})}catch{this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy();return}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let St of this.transformers_)St.stop()}}class wu extends sn{constructor(){super(),lt(this,"reporter_"),lt(this,"pipeline_"),lt(this,"transformers_"),lt(this,"readable_"),lt(this,"writable_"),lt(this,"trackExpectedRate_"),this.reporter_=new $r,this.trackExpectedRate_=-1,this.report({variation:"Create"})}setTrackExpectedRate(St){this.trackExpectedRate_=St,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(St,Tt){return this.readable_=St,this.writable_=Tt,this.transformInternal()}transformInternal(){return new nt(async(St,Tt)=>{if(!this.transformers_||this.transformers_.length===0){this.report({message:ut.errors.transformer_none,variation:"Error"}),Tt("[MediaProcessor] Need to set transformers.");return}if(!this.readable_){this.report({variation:"Error",message:ut.errors.readable_null}),Tt("[MediaProcessor] Readable is null.");return}if(!this.writable_){this.report({variation:"Error",message:ut.errors.writable_null}),Tt("[MediaProcessor] Writable is null.");return}let Ut=!1;this.pipeline_&&(Ut=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new Ml(this.transformers_),this.pipeline_.on("warn",Qt=>{this.emit("warn",Qt)}),this.pipeline_.on("error",Qt=>{this.emit("error",Qt)}),this.pipeline_.on("pipelineInfo",Qt=>{Ut&&(Qt==="pipeline_started"?Qt=is.pipeline_restarted:Qt==="pipeline_started_with_error"&&(Qt=is.pipeline_restarted_with_error)),this.emit("pipelineInfo",Qt)}),this.trackExpectedRate_!=-1&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then(()=>{St()}).catch(Qt=>{Tt(Qt)})})}setTransformers(St){return this.report({variation:"Update",message:ut.updates.transformer_new}),this.transformers_=St,this.readable_&&this.writable_?this.transformInternal():nt.resolve()}destroy(){return new nt(async St=>{this.pipeline_&&this.pipeline_.destroy(),this.report({variation:"Delete"}),St()})}report(St){this.reporter_.send({version:os,action:"MediaProcessor",...St})}}class mr{constructor(){lt(this,"processor_"),lt(this,"generator_"),this.processor_=null,this.generator_=null}init(St){return new nt((Tt,Ut)=>{try{this.processor_=new MediaStreamTrackProcessor(St)}catch(Qt){console.log(`[InsertableStreamHelper] MediaStreamTrackProcessor failed: ${Qt}`),Ut(Qt)}try{St.kind==="audio"?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):St.kind==="video"?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):Ut("kind not supported")}catch(Qt){console.log(`[InsertableStreamHelper] MediaStreamTrackGenerator failed: ${Qt}`),Ut(Qt)}Tt()})}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class jn{constructor(St){lt(this,"insertableStreamHelper_"),lt(this,"mediaProcessor_"),this.insertableStreamHelper_=new mr,this.mediaProcessor_=St}setTrack(St){return new nt((Tt,Ut)=>{this.insertableStreamHelper_.init(St).then(()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then(()=>{Tt(this.insertableStreamHelper_.getProccesorTrack())}).catch(Qt=>{Ut(Qt)})}).catch(Qt=>{Ut(Qt)})})}destroy(){return new nt((St,Tt)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then(()=>{St()}).catch(Ut=>{Tt(Ut)}):Tt("no processor")})}}var fr=(xt=>(xt.Low="Low",xt.High="High",xt))(fr||{}),Wr=(xt=>(xt.BackgroundBlur="BackgroundBlur",xt.VirtualBackground="VirtualBackground",xt.VideoBackground="VideoBackground",xt.SilhouetteBlur="SilhouetteBlur",xt))(Wr||{}),yr=(xt=>(xt.FAST="FAST",xt.PRECISE="PRECISE",xt))(yr||{}),xo=(xt=>(xt.CANVAS="CANVAS",xt.WEBGL="WEBGL",xt))(xo||{});const Qo=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var zo=function(){var xt=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(St){St=St||{};var Tt=typeof St<"u"?St:{},Ut,Qt;Tt.ready=new nt(function(Vr,jr){Ut=Vr,Qt=jr});var In={},Xn;for(Xn in Tt)Tt.hasOwnProperty(Xn)&&(In[Xn]=Tt[Xn]);var Nn="./this.program",or=function(Vr,jr){throw jr},Br=!0,eo="";function ao(Vr){return Tt.locateFile?Tt.locateFile(Vr,eo):eo+Vr}var Zo;typeof document<"u"&&document.currentScript&&(eo=document.currentScript.src),xt&&(eo=xt),eo.indexOf("blob:")!==0?eo=eo.substr(0,eo.replace(/[?#].*/,"").lastIndexOf("/")+1):eo="";var Fo=Tt.print||console.log.bind(console),no=Tt.printErr||console.warn.bind(console);for(Xn in In)In.hasOwnProperty(Xn)&&(Tt[Xn]=In[Xn]);In=null,Tt.arguments&&Tt.arguments,Tt.thisProgram&&(Nn=Tt.thisProgram),Tt.quit&&(or=Tt.quit);var uo;Tt.wasmBinary&&(uo=Tt.wasmBinary);var es=Tt.noExitRuntime||!0;typeof WebAssembly!="object"&&Fs("no native wasm support detected");var ts,Cs=!1,Cr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function du(Vr,jr,_r){for(var hs=jr+_r,Ps=jr;Vr[Ps]&&!(Ps>=hs);)++Ps;if(Ps-jr>16&&Vr.subarray&&Cr)return Cr.decode(Vr.subarray(jr,Ps));for(var Ls="";jr<Ps;){var No=Vr[jr++];if(!(No&128)){Ls+=String.fromCharCode(No);continue}var js=Vr[jr++]&63;if((No&224)==192){Ls+=String.fromCharCode((No&31)<<6|js);continue}var Nl=Vr[jr++]&63;if((No&240)==224?No=(No&15)<<12|js<<6|Nl:No=(No&7)<<18|js<<12|Nl<<6|Vr[jr++]&63,No<65536)Ls+=String.fromCharCode(No);else{var ru=No-65536;Ls+=String.fromCharCode(55296|ru>>10,56320|ru&1023)}}return Ls}function tu(Vr,jr){return Vr?du(ho,Vr,jr):""}function Js(Vr,jr,_r){for(var hs=0;hs<Vr.length;++hs)Ts[jr++>>0]=Vr.charCodeAt(hs);_r||(Ts[jr>>0]=0)}function ls(Vr,jr){return Vr%jr>0&&(Vr+=jr-Vr%jr),Vr}var rp,Ts,ho,xu;function Ep(Vr){rp=Vr,Tt.HEAP8=Ts=new Int8Array(Vr),Tt.HEAP16=new Int16Array(Vr),Tt.HEAP32=xu=new Int32Array(Vr),Tt.HEAPU8=ho=new Uint8Array(Vr),Tt.HEAPU16=new Uint16Array(Vr),Tt.HEAPU32=new Uint32Array(Vr),Tt.HEAPF32=new Float32Array(Vr),Tt.HEAPF64=new Float64Array(Vr)}Tt.INITIAL_MEMORY;var $a,Bo=[],Tl=[],fu=[],Nu=0;function _u(){return es||Nu>0}function Gu(){if(Tt.preRun)for(typeof Tt.preRun=="function"&&(Tt.preRun=[Tt.preRun]);Tt.preRun.length;)Ru(Tt.preRun.shift());gs(Bo)}function ip(){gs(Tl)}function bu(){if(Tt.postRun)for(typeof Tt.postRun=="function"&&(Tt.postRun=[Tt.postRun]);Tt.postRun.length;)qu(Tt.postRun.shift());gs(fu)}function Ru(Vr){Bo.unshift(Vr)}function lp(Vr){Tl.unshift(Vr)}function qu(Vr){fu.unshift(Vr)}var Kl=0,Yl=null;function Wu(Vr){Kl++,Tt.monitorRunDependencies&&Tt.monitorRunDependencies(Kl)}function Pu(Vr){if(Kl--,Tt.monitorRunDependencies&&Tt.monitorRunDependencies(Kl),Kl==0&&Yl){var jr=Yl;Yl=null,jr()}}Tt.preloadedImages={},Tt.preloadedAudios={};function Fs(Vr){Tt.onAbort&&Tt.onAbort(Vr),Vr="Aborted("+Vr+")",no(Vr),Cs=!0,Vr+=". Build with -s ASSERTIONS=1 for more info.";var jr=new WebAssembly.RuntimeError(Vr);throw Qt(jr),jr}var Cl="data:application/octet-stream;base64,";function Jl(Vr){return Vr.startsWith(Cl)}var xs;xs="tflite-simd.wasm",Jl(xs)||(xs=ao(xs));function ga(Vr){try{if(Vr==xs&&uo)return new Uint8Array(uo);if(!Zo)throw"both async and sync fetching of the wasm failed"}catch(jr){Fs(jr)}}function pu(){return!uo&&Br&&typeof fetch=="function"?fetch(xs,{credentials:"same-origin"}).then(function(Vr){if(!Vr.ok)throw"failed to load wasm binary file at '"+xs+"'";return Vr.arrayBuffer()}).catch(function(){return ga(xs)}):nt.resolve().then(function(){return ga(xs)})}function Xl(){var Vr={a:Ds};function jr(No,js){var Nl=No.exports;Tt.asm=Nl,ts=Tt.asm.q,Ep(ts.buffer),$a=Tt.asm.E,lp(Tt.asm.r),Pu()}Wu();function _r(No){jr(No.instance)}function hs(No){return pu().then(function(js){return WebAssembly.instantiate(js,Vr)}).then(function(js){return js}).then(No,function(js){no("failed to asynchronously prepare wasm: "+js),Fs(js)})}function Ps(){return!uo&&typeof WebAssembly.instantiateStreaming=="function"&&!Jl(xs)&&typeof fetch=="function"?fetch(xs,{credentials:"same-origin"}).then(function(No){var js=WebAssembly.instantiateStreaming(No,Vr);return js.then(_r,function(Nl){return no("wasm streaming compile failed: "+Nl),no("falling back to ArrayBuffer instantiation"),hs(_r)})}):hs(_r)}if(Tt.instantiateWasm)try{var Ls=Tt.instantiateWasm(Vr,jr);return Ls}catch(No){return no("Module.instantiateWasm callback failed with error: "+No),!1}return Ps().catch(Qt),{}}function gs(Vr){for(;Vr.length>0;){var jr=Vr.shift();if(typeof jr=="function"){jr(Tt);continue}var _r=jr.func;typeof _r=="number"?jr.arg===void 0?$a.get(_r)():$a.get(_r)(jr.arg):_r(jr.arg===void 0?null:jr.arg)}}function $s(Vr,jr,_r,hs){Fs("Assertion failed: "+tu(Vr)+", at: "+[jr?tu(jr):"unknown filename",_r,hs?tu(hs):"unknown function"])}function Ll(Vr,jr){Fs("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function ns(Vr,jr){Fs("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function yl(){Fs("")}var ds;ds=function(){return performance.now()};var Bs=!0;function xl(Vr){return xu[Xo()>>2]=Vr,Vr}function nu(Vr,jr){var _r;if(Vr===0)_r=Date.now();else if((Vr===1||Vr===4)&&Bs)_r=ds();else return xl(28),-1;return xu[jr>>2]=_r/1e3|0,xu[jr+4>>2]=_r%1e3*1e3*1e3|0,0}function Qs(){return 2147483648}function fs(Vr,jr,_r){ho.copyWithin(Vr,jr,jr+_r)}function $l(Vr){try{return ts.grow(Vr-rp.byteLength+65535>>>16),Ep(ts.buffer),1}catch{}}function Ql(Vr){var jr=ho.length;Vr=Vr>>>0;var _r=2147483648;if(Vr>_r)return!1;for(var hs=1;hs<=4;hs*=2){var Ps=jr*(1+.2/hs);Ps=Math.min(Ps,Vr+100663296);var Ls=Math.min(_r,ls(Math.max(Vr,Ps),65536)),No=$l(Ls);if(No)return!0}return!1}function Sl(Vr){for(var jr=ds();ds()-jr<Vr;);}var Vu={};function hu(){return Nn||"./this.program"}function _l(){if(!_l.strings){var Vr=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",jr={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:Vr,_:hu()};for(var _r in Vu)Vu[_r]===void 0?delete jr[_r]:jr[_r]=Vu[_r];var hs=[];for(var _r in jr)hs.push(_r+"="+jr[_r]);_l.strings=hs}return _l.strings}var mu={mappings:{},buffers:[null,[],[]],printChar:function(Vr,jr){var _r=mu.buffers[Vr];jr===0||jr===10?((Vr===1?Fo:no)(du(_r,0)),_r.length=0):_r.push(jr)},varargs:void 0,get:function(){mu.varargs+=4;var Vr=xu[mu.varargs-4>>2];return Vr},getStr:function(Vr){var jr=tu(Vr);return jr},get64:function(Vr,jr){return Vr}};function zs(Vr,jr){var _r=0;return _l().forEach(function(hs,Ps){var Ls=jr+_r;xu[Vr+Ps*4>>2]=Ls,Js(hs,Ls),_r+=hs.length+1}),0}function Rl(Vr,jr){var _r=_l();xu[Vr>>2]=_r.length;var hs=0;return _r.forEach(function(Ps){hs+=Ps.length+1}),xu[jr>>2]=hs,0}function Ks(Vr){Es(Vr)}function Rs(Vr){return 0}function eu(Vr,jr,_r,hs,Ps){}function Ss(Vr,jr,_r,hs){for(var Ps=0,Ls=0;Ls<_r;Ls++){for(var No=xu[jr+Ls*8>>2],js=xu[jr+(Ls*8+4)>>2],Nl=0;Nl<js;Nl++)mu.printChar(Vr,ho[No+Nl]);Ps+=js}return xu[hs>>2]=Ps,0}function ps(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Vr=new Uint8Array(1);return function(){return crypto.getRandomValues(Vr),Vr[0]}}else return function(){Fs("randomDevice")}}function Su(Vr,jr){Su.randomDevice||(Su.randomDevice=ps());for(var _r=0;_r<jr;_r++)Ts[Vr+_r>>0]=Su.randomDevice();return 0}var Ds={a:$s,e:Ll,d:ns,b:yl,n:nu,h:Qs,l:fs,m:Ql,p:Sl,f:zs,g:Rl,j:Ks,i:Rs,k:eu,c:Ss,o:Su};Xl(),Tt.___wasm_call_ctors=function(){return(Tt.___wasm_call_ctors=Tt.asm.r).apply(null,arguments)},Tt._getModelBufferMemoryOffset=function(){return(Tt._getModelBufferMemoryOffset=Tt.asm.s).apply(null,arguments)},Tt._getInputMemoryOffset=function(){return(Tt._getInputMemoryOffset=Tt.asm.t).apply(null,arguments)},Tt._getInputHeight=function(){return(Tt._getInputHeight=Tt.asm.u).apply(null,arguments)},Tt._getInputWidth=function(){return(Tt._getInputWidth=Tt.asm.v).apply(null,arguments)},Tt._getInputChannelCount=function(){return(Tt._getInputChannelCount=Tt.asm.w).apply(null,arguments)},Tt._getOutputMemoryOffset=function(){return(Tt._getOutputMemoryOffset=Tt.asm.x).apply(null,arguments)},Tt._getOutputHeight=function(){return(Tt._getOutputHeight=Tt.asm.y).apply(null,arguments)},Tt._getOutputWidth=function(){return(Tt._getOutputWidth=Tt.asm.z).apply(null,arguments)},Tt._getOutputChannelCount=function(){return(Tt._getOutputChannelCount=Tt.asm.A).apply(null,arguments)},Tt._loadModel=function(){return(Tt._loadModel=Tt.asm.B).apply(null,arguments)},Tt._runInference=function(){return(Tt._runInference=Tt.asm.C).apply(null,arguments)},Tt._isGPUEnabled=function(){return(Tt._isGPUEnabled=Tt.asm.D).apply(null,arguments)};var Xo=Tt.___errno_location=function(){return(Xo=Tt.___errno_location=Tt.asm.F).apply(null,arguments)},Io;function Is(Vr){this.name="ExitStatus",this.message="Program terminated with exit("+Vr+")",this.status=Vr}Yl=function Vr(){Io||Il(),Io||(Yl=Vr)};function Il(Vr){if(Kl>0||(Gu(),Kl>0))return;function jr(){Io||(Io=!0,Tt.calledRun=!0,!Cs&&(ip(),Ut(Tt),Tt.onRuntimeInitialized&&Tt.onRuntimeInitialized(),bu()))}Tt.setStatus?(Tt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Tt.setStatus("")},1),jr()},1)):jr()}Tt.run=Il;function Es(Vr,jr){ws(Vr)}function ws(Vr){_u()||(Tt.onExit&&Tt.onExit(Vr),Cs=!0),or(Vr,new Is(Vr))}if(Tt.preInit)for(typeof Tt.preInit=="function"&&(Tt.preInit=[Tt.preInit]);Tt.preInit.length>0;)Tt.preInit.pop()();return Il(),St.ready}}();class El{constructor(){st(this,"selectedTFLite"),st(this,"isSIMDSupported",!1),st(this,"isThreadsSupported",!1),st(this,"inputWidth",0),st(this,"inputHeight",0),st(this,"inputChannelCount",0),st(this,"inputMemoryOffset",0),st(this,"outputWidth",0),st(this,"outputHeight",0),st(this,"outputChannelCount",0),st(this,"outputMemoryOffset",0)}}const co="https://d3opqjmqzxf057.cloudfront.net/vonage-tensorflow-wasm/tflite-simd-wasm/1.1.3/",Dl="https://d3opqjmqzxf057.cloudfront.net/ml/selfie_segmentation/4.0.0/";async function Ip(xt=co,St=Dl){let Tt=new El;var Ut=new nt(function(Qt,In){async function Xn(){return zo({locateFile:function(or){return xt+or}})}async function Nn(or){return new nt(async(Br,eo)=>{const ao=or;if(typeof ao>"u")return eo("TFLite backend unavailable: wasmSimd");const Zo="selfie_segmentation_landscape";console.log("Loading tflite model:",Zo);let Fo=St+`${Zo}.tflite`;console.log("TFLite modelUrl: "+Fo);try{const no=await(await fetch(Fo)).arrayBuffer();console.log("Model buffer size:",no.byteLength);const uo=ao._getModelBufferMemoryOffset();console.log("Model buffer memory offset:",uo),console.log("Loading model buffer..."),ao.HEAPU8.set(new Uint8Array(no),uo);const es=ao._loadModel(no.byteLength);if(console.log("Load model result:",es),es!==0){eo("Cannot load model");return}Tt.inputWidth=ao._getInputWidth(),Tt.inputHeight=ao._getInputHeight(),Tt.inputChannelCount=ao._getInputChannelCount(),Tt.inputMemoryOffset=ao._getInputMemoryOffset(),console.log("Input memory offset:",Tt.inputMemoryOffset),console.log("Input height:",Tt.inputHeight),console.log("Input width:",Tt.inputWidth),console.log("Input channels:",Tt.inputChannelCount),Tt.outputMemoryOffset=ao._getOutputMemoryOffset(),Tt.outputWidth=ao._getOutputWidth(),Tt.outputHeight=ao._getOutputHeight(),Tt.outputChannelCount=ao._getOutputChannelCount(),console.log("Output memory offset:",Tt.outputMemoryOffset),console.log("Output height:",Tt.outputHeight),console.log("Output width:",Tt.outputWidth),console.log("Output channels:",Tt.outputChannelCount),Tt.selectedTFLite=ao}catch(no){eo(no);return}Br()})}Xn().then(or=>{if(or===null)throw console.error("loadTFLite null"),"loadTFLite null";Nn(or).then(Br=>{Qt(Tt)}).catch(Br=>{console.error("loadTFLiteModel error"),In("loadTFLiteModel error")})}).catch(or=>{console.error("loadTFLite error:",or),In("loadTFLite error:"+or)})});return Ut}class Du{constructor(){st(this,"canvas",new OffscreenCanvas(0,0)),st(this,"context",this.canvas.getContext("2d",{willReadFrequently:!0})),st(this,"pixelCount",0),st(this,"inputOffset",0),st(this,"outputOffset",0),st(this,"infos"),st(this,"mask")}async init(St,Tt){await this.initWasm(St,Tt),this.infos&&(this.canvas.width=this.infos.inputWidth,this.canvas.height=this.infos.inputHeight,this.pixelCount=this.infos.inputWidth*this.infos.inputHeight,this.mask=new ImageData(this.infos.inputWidth,this.infos.inputHeight),this.inputOffset=this.infos.inputMemoryOffset/4,this.outputOffset=this.infos.outputMemoryOffset/4)}async initWasm(St,Tt){this.infos=await Ip(St,Tt)}getOutputDimensions(){var St,Tt,Ut,Qt;return{width:(Tt=(St=this.infos)==null?void 0:St.outputWidth)!=null?Tt:0,height:(Qt=(Ut=this.infos)==null?void 0:Ut.outputHeight)!=null?Qt:0}}async process(St){if(!this.mask||!this.infos)return;const Tt=this.infos.inputWidth,Ut=this.infos.inputHeight;this.context.drawImage(St,0,0,St.width,St.height,0,0,Tt,Ut);const Qt=this.context.getImageData(0,0,Tt,Ut),In=this.infos.selectedTFLite.HEAPF32;for(let Xn=0;Xn<this.pixelCount;Xn++){const Nn=this.inputOffset+Xn*3;In[Nn]=Qt.data[Xn*4]/255,In[Nn+1]=Qt.data[Xn*4+1]/255,In[Nn+2]=Qt.data[Xn*4+2]/255}this.infos.selectedTFLite._runInference();for(let Xn=0;Xn<this.pixelCount;Xn++){const Nn=this.infos.selectedTFLite.HEAPF32[this.outputOffset+Xn];this.mask.data[Xn*4]=this.mask.data[Xn*4+3]=255*Nn}return createImageBitmap(this.mask)}isGpuSupported(){var St,Tt,Ut;return(Ut=(Tt=(St=this.infos)==null?void 0:St.selectedTFLite)==null?void 0:Tt._isGPUEnabled())!=null?Ut:!1}}async function ms(xt,St){const{wasm:Tt,insertableStreams:Ut,simd:Qt,webgl:In}=await Zl(xt,St);if(!Tt.supported)throw Tt.message;if(!Ut.supported)throw Ut.message;if(!Qt.supported)throw Qt.message;if(!In.supported)throw In.message}async function Zl(xt,St){const Tt=new Du;await Tt.initWasm(xt,St);const Ut={wasm:{supported:typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function",message:"Your browser does not support WebAssembly features."},simd:{supported:await Qo(),message:"Your browser does not support simd features."},insertableStreams:{supported:!0},gpu:{supported:Tt.isGpuSupported(),message:"Your browser does not support gpu features."},webgl:wp(),performance:dp()};try{await dt()}catch(Qt){Ut.insertableStreams.supported=!1,Ut.insertableStreams.message=Qt}return Ut}function wp(){return OffscreenCanvas?new OffscreenCanvas(0,0).getContext("webgl2")?{supported:!0}:{supported:!1,message:"Your browser does not support webgl 2"}:{supported:!1,message:"Your browser does not support offscreen canvas"}}function dp(){return new OffscreenCanvas(0,0).getContext("webgl2",{failIfMajorPerformanceCaveat:!0})?{supported:!0}:{supported:!1,message:"Your hardware does not perform good enough to run the library efficiently"}}const Ko={};(function(){var xt;function St(jt){var ln=0;return function(){return ln<jt.length?{done:!1,value:jt[ln++]}:{done:!0}}}var Tt=typeof Object.defineProperties=="function"?Object.defineProperty:function(jt,ln,dn){return jt==Array.prototype||jt==Object.prototype||(jt[ln]=dn.value),jt};function Ut(jt){jt=[typeof globalThis=="object"&&globalThis,jt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var ln=0;ln<jt.length;++ln){var dn=jt[ln];if(dn&&dn.Math==Math)return dn}throw Error("Cannot find global object")}var Qt=Ut(this);function In(jt,ln){if(ln)e:{var dn=Qt;jt=jt.split(".");for(var Kn=0;Kn<jt.length-1;Kn++){var gr=jt[Kn];if(!(gr in dn))break e;dn=dn[gr]}jt=jt[jt.length-1],Kn=dn[jt],ln=ln(Kn),ln!=Kn&&ln!=null&&Tt(dn,jt,{configurable:!0,writable:!0,value:ln})}}In("Symbol",function(jt){function ln(Hr){if(this instanceof ln)throw new TypeError("Symbol is not a constructor");return new dn(Kn+(Hr||"")+"_"+gr++,Hr)}function dn(Hr,hr){this.g=Hr,Tt(this,"description",{configurable:!0,writable:!0,value:hr})}if(jt)return jt;dn.prototype.toString=function(){return this.g};var Kn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",gr=0;return ln}),In("Symbol.iterator",function(jt){if(jt)return jt;jt=Symbol("Symbol.iterator");for(var ln="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),dn=0;dn<ln.length;dn++){var Kn=Qt[ln[dn]];typeof Kn=="function"&&typeof Kn.prototype[jt]!="function"&&Tt(Kn.prototype,jt,{configurable:!0,writable:!0,value:function(){return Xn(St(this))}})}return jt});function Xn(jt){return jt={next:jt},jt[Symbol.iterator]=function(){return this},jt}function Nn(jt){var ln=typeof Symbol<"u"&&Symbol.iterator&&jt[Symbol.iterator];return ln?ln.call(jt):{next:St(jt)}}function or(jt){if(!(jt instanceof Array)){jt=Nn(jt);for(var ln,dn=[];!(ln=jt.next()).done;)dn.push(ln.value);jt=dn}return jt}var Br=typeof Object.create=="function"?Object.create:function(jt){function ln(){}return ln.prototype=jt,new ln},eo;if(typeof Object.setPrototypeOf=="function")eo=Object.setPrototypeOf;else{var ao;e:{var Zo={a:!0},Fo={};try{Fo.__proto__=Zo,ao=Fo.a;break e}catch{}ao=!1}eo=ao?function(jt,ln){if(jt.__proto__=ln,jt.__proto__!==ln)throw new TypeError(jt+" is not extensible");return jt}:null}var no=eo;function uo(jt,ln){if(jt.prototype=Br(ln.prototype),jt.prototype.constructor=jt,no)no(jt,ln);else for(var dn in ln)if(dn!="prototype")if(Object.defineProperties){var Kn=Object.getOwnPropertyDescriptor(ln,dn);Kn&&Object.defineProperty(jt,dn,Kn)}else jt[dn]=ln[dn];jt.ea=ln.prototype}function es(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function ts(jt){if(jt.l)throw new TypeError("Generator is already running");jt.l=!0}es.prototype.o=function(jt){this.h=jt};function Cs(jt,ln){jt.j={U:ln,V:!0},jt.g=jt.m||jt.s}es.prototype.return=function(jt){this.j={return:jt},this.g=this.s};function Cr(jt,ln,dn){return jt.g=dn,{value:ln}}function du(jt){this.g=new es,this.h=jt}function tu(jt,ln){ts(jt.g);var dn=jt.g.i;return dn?Js(jt,"return"in dn?dn.return:function(Kn){return{value:Kn,done:!0}},ln,jt.g.return):(jt.g.return(ln),ls(jt))}function Js(jt,ln,dn,Kn){try{var gr=ln.call(jt.g.i,dn);if(!(gr instanceof Object))throw new TypeError("Iterator result "+gr+" is not an object");if(!gr.done)return jt.g.l=!1,gr;var Hr=gr.value}catch(hr){return jt.g.i=null,Cs(jt.g,hr),ls(jt)}return jt.g.i=null,Kn.call(jt.g,Hr),ls(jt)}function ls(jt){for(;jt.g.g;)try{var ln=jt.h(jt.g);if(ln)return jt.g.l=!1,{value:ln.value,done:!1}}catch(dn){jt.g.h=void 0,Cs(jt.g,dn)}if(jt.g.l=!1,jt.g.j){if(ln=jt.g.j,jt.g.j=null,ln.V)throw ln.U;return{value:ln.return,done:!0}}return{value:void 0,done:!0}}function rp(jt){this.next=function(ln){return ts(jt.g),jt.g.i?ln=Js(jt,jt.g.i.next,ln,jt.g.o):(jt.g.o(ln),ln=ls(jt)),ln},this.throw=function(ln){return ts(jt.g),jt.g.i?ln=Js(jt,jt.g.i.throw,ln,jt.g.o):(Cs(jt.g,ln),ln=ls(jt)),ln},this.return=function(ln){return tu(jt,ln)},this[Symbol.iterator]=function(){return this}}function Ts(jt,ln){return ln=new rp(new du(ln)),no&&jt.prototype&&no(ln,jt.prototype),ln}function ho(jt,ln){jt instanceof String&&(jt+="");var dn=0,Kn=!1,gr={next:function(){if(!Kn&&dn<jt.length){var Hr=dn++;return{value:ln(Hr,jt[Hr]),done:!1}}return Kn=!0,{done:!0,value:void 0}}};return gr[Symbol.iterator]=function(){return gr},gr}var xu=typeof Object.assign=="function"?Object.assign:function(jt,ln){for(var dn=1;dn<arguments.length;dn++){var Kn=arguments[dn];if(Kn)for(var gr in Kn)Object.prototype.hasOwnProperty.call(Kn,gr)&&(jt[gr]=Kn[gr])}return jt};In("Object.assign",function(jt){return jt||xu}),In("Promise",function(jt){function ln(hr){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Fr=this.j();try{hr(Fr.resolve,Fr.reject)}catch(lo){Fr.reject(lo)}}function dn(){this.g=null}function Kn(hr){return hr instanceof ln?hr:new ln(function(Fr){Fr(hr)})}if(jt)return jt;dn.prototype.h=function(hr){if(this.g==null){this.g=[];var Fr=this;this.i(function(){Fr.l()})}this.g.push(hr)};var gr=Qt.setTimeout;dn.prototype.i=function(hr){gr(hr,0)},dn.prototype.l=function(){for(;this.g&&this.g.length;){var hr=this.g;this.g=[];for(var Fr=0;Fr<hr.length;++Fr){var lo=hr[Fr];hr[Fr]=null;try{lo()}catch(Ao){this.j(Ao)}}}this.g=null},dn.prototype.j=function(hr){this.i(function(){throw hr})},ln.prototype.j=function(){function hr(Ao){return function(_o){lo||(lo=!0,Ao.call(Fr,_o))}}var Fr=this,lo=!1;return{resolve:hr(this.C),reject:hr(this.l)}},ln.prototype.C=function(hr){if(hr===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(hr instanceof ln)this.F(hr);else{e:switch(typeof hr){case"object":var Fr=hr!=null;break e;case"function":Fr=!0;break e;default:Fr=!1}Fr?this.u(hr):this.m(hr)}},ln.prototype.u=function(hr){var Fr=void 0;try{Fr=hr.then}catch(lo){this.l(lo);return}typeof Fr=="function"?this.G(Fr,hr):this.m(hr)},ln.prototype.l=function(hr){this.s(2,hr)},ln.prototype.m=function(hr){this.s(1,hr)},ln.prototype.s=function(hr,Fr){if(this.h!=0)throw Error("Cannot settle("+hr+", "+Fr+"): Promise already settled in state"+this.h);this.h=hr,this.i=Fr,this.h===2&&this.D(),this.A()},ln.prototype.D=function(){var hr=this;gr(function(){if(hr.B()){var Fr=Qt.console;typeof Fr<"u"&&Fr.error(hr.i)}},1)},ln.prototype.B=function(){if(this.o)return!1;var hr=Qt.CustomEvent,Fr=Qt.Event,lo=Qt.dispatchEvent;return typeof lo>"u"?!0:(typeof hr=="function"?hr=new hr("unhandledrejection",{cancelable:!0}):typeof Fr=="function"?hr=new Fr("unhandledrejection",{cancelable:!0}):(hr=Qt.document.createEvent("CustomEvent"),hr.initCustomEvent("unhandledrejection",!1,!0,hr)),hr.promise=this,hr.reason=this.i,lo(hr))},ln.prototype.A=function(){if(this.g!=null){for(var hr=0;hr<this.g.length;++hr)Hr.h(this.g[hr]);this.g=null}};var Hr=new dn;return ln.prototype.F=function(hr){var Fr=this.j();hr.J(Fr.resolve,Fr.reject)},ln.prototype.G=function(hr,Fr){var lo=this.j();try{hr.call(Fr,lo.resolve,lo.reject)}catch(Ao){lo.reject(Ao)}},ln.prototype.then=function(hr,Fr){function lo(bs,$o){return typeof bs=="function"?function(Po){try{Ao(bs(Po))}catch(Jo){_o(Jo)}}:$o}var Ao,_o,Ho=new ln(function(bs,$o){Ao=bs,_o=$o});return this.J(lo(hr,Ao),lo(Fr,_o)),Ho},ln.prototype.catch=function(hr){return this.then(void 0,hr)},ln.prototype.J=function(hr,Fr){function lo(){switch(Ao.h){case 1:hr(Ao.i);break;case 2:Fr(Ao.i);break;default:throw Error("Unexpected state: "+Ao.h)}}var Ao=this;this.g==null?Hr.h(lo):this.g.push(lo),this.o=!0},ln.resolve=Kn,ln.reject=function(hr){return new ln(function(Fr,lo){lo(hr)})},ln.race=function(hr){return new ln(function(Fr,lo){for(var Ao=Nn(hr),_o=Ao.next();!_o.done;_o=Ao.next())Kn(_o.value).J(Fr,lo)})},ln.all=function(hr){var Fr=Nn(hr),lo=Fr.next();return lo.done?Kn([]):new ln(function(Ao,_o){function Ho(Po){return function(Jo){bs[Po]=Jo,$o--,$o==0&&Ao(bs)}}var bs=[],$o=0;do bs.push(void 0),$o++,Kn(lo.value).J(Ho(bs.length-1),_o),lo=Fr.next();while(!lo.done)})},ln}),In("Object.is",function(jt){return jt||function(ln,dn){return ln===dn?ln!==0||1/ln===1/dn:ln!==ln&&dn!==dn}}),In("Array.prototype.includes",function(jt){return jt||function(ln,dn){var Kn=this;Kn instanceof String&&(Kn=String(Kn));var gr=Kn.length;for(dn=dn||0,0>dn&&(dn=Math.max(dn+gr,0));dn<gr;dn++){var Hr=Kn[dn];if(Hr===ln||Object.is(Hr,ln))return!0}return!1}}),In("String.prototype.includes",function(jt){return jt||function(ln,dn){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(ln instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(ln,dn||0)!==-1}}),In("Array.prototype.keys",function(jt){return jt||function(){return ho(this,function(ln){return ln})}});var Ep=this||self;function $a(jt,ln){jt=jt.split(".");var dn=Ep;jt[0]in dn||typeof dn.execScript>"u"||dn.execScript("var "+jt[0]);for(var Kn;jt.length&&(Kn=jt.shift());)jt.length||ln===void 0?dn[Kn]&&dn[Kn]!==Object.prototype[Kn]?dn=dn[Kn]:dn=dn[Kn]={}:dn[Kn]=ln}function Bo(jt,ln){return ln=String.fromCharCode.apply(null,ln),jt==null?ln:jt+ln}var Tl,fu=typeof TextDecoder<"u",Nu,_u=typeof TextEncoder<"u";function Gu(jt){if(_u)jt=(Nu||(Nu=new TextEncoder)).encode(jt);else{var ln=void 0;ln=ln===void 0?!1:ln;for(var dn=0,Kn=new Uint8Array(3*jt.length),gr=0;gr<jt.length;gr++){var Hr=jt.charCodeAt(gr);if(128>Hr)Kn[dn++]=Hr;else{if(2048>Hr)Kn[dn++]=Hr>>6|192;else{if(55296<=Hr&&57343>=Hr){if(56319>=Hr&&gr<jt.length){var hr=jt.charCodeAt(++gr);if(56320<=hr&&57343>=hr){Hr=1024*(Hr-55296)+hr-56320+65536,Kn[dn++]=Hr>>18|240,Kn[dn++]=Hr>>12&63|128,Kn[dn++]=Hr>>6&63|128,Kn[dn++]=Hr&63|128;continue}else gr--}if(ln)throw Error("Found an unpaired surrogate");Hr=65533}Kn[dn++]=Hr>>12|224,Kn[dn++]=Hr>>6&63|128}Kn[dn++]=Hr&63|128}}jt=Kn.subarray(0,dn)}return jt}var ip={},bu=null;function Ru(jt,ln){ln===void 0&&(ln=0),Kl(),ln=ip[ln];for(var dn=Array(Math.floor(jt.length/3)),Kn=ln[64]||"",gr=0,Hr=0;gr<jt.length-2;gr+=3){var hr=jt[gr],Fr=jt[gr+1],lo=jt[gr+2],Ao=ln[hr>>2];hr=ln[(hr&3)<<4|Fr>>4],Fr=ln[(Fr&15)<<2|lo>>6],lo=ln[lo&63],dn[Hr++]=Ao+hr+Fr+lo}switch(Ao=0,lo=Kn,jt.length-gr){case 2:Ao=jt[gr+1],lo=ln[(Ao&15)<<2]||Kn;case 1:jt=jt[gr],dn[Hr]=ln[jt>>2]+ln[(jt&3)<<4|Ao>>4]+lo+Kn}return dn.join("")}function lp(jt){var ln=jt.length,dn=3*ln/4;dn%3?dn=Math.floor(dn):"=.".indexOf(jt[ln-1])!=-1&&(dn="=.".indexOf(jt[ln-2])!=-1?dn-2:dn-1);var Kn=new Uint8Array(dn),gr=0;return qu(jt,function(Hr){Kn[gr++]=Hr}),Kn.subarray(0,gr)}function qu(jt,ln){function dn(lo){for(;Kn<jt.length;){var Ao=jt.charAt(Kn++),_o=bu[Ao];if(_o!=null)return _o;if(!/^[\s\xa0]*$/.test(Ao))throw Error("Unknown base64 encoding at char: "+Ao)}return lo}Kl();for(var Kn=0;;){var gr=dn(-1),Hr=dn(0),hr=dn(64),Fr=dn(64);if(Fr===64&&gr===-1)break;ln(gr<<2|Hr>>4),hr!=64&&(ln(Hr<<4&240|hr>>2),Fr!=64&&ln(hr<<6&192|Fr))}}function Kl(){if(!bu){bu={};for(var jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ln=["+/=","+/","-_=","-_.","-_"],dn=0;5>dn;dn++){var Kn=jt.concat(ln[dn].split(""));ip[dn]=Kn;for(var gr=0;gr<Kn.length;gr++){var Hr=Kn[gr];bu[Hr]===void 0&&(bu[Hr]=gr)}}}}var Yl=typeof Uint8Array.prototype.slice=="function",Wu;function Pu(jt,ln,dn){return ln===dn?Wu||(Wu=new Uint8Array(0)):Yl?jt.slice(ln,dn):new Uint8Array(jt.subarray(ln,dn))}var Fs=0,Cl=0;function Jl(jt,ln){ln=ln===void 0?{}:ln,ln=ln.v===void 0?!1:ln.v,this.h=null,this.g=this.i=this.j=0,this.l=!1,this.v=ln,jt&&xs(this,jt)}function xs(jt,ln){ln=ln.constructor===Uint8Array?ln:ln.constructor===ArrayBuffer?new Uint8Array(ln):ln.constructor===Array?new Uint8Array(ln):ln.constructor===String?lp(ln):ln instanceof Uint8Array?new Uint8Array(ln.buffer,ln.byteOffset,ln.byteLength):new Uint8Array(0),jt.h=ln,jt.j=0,jt.i=jt.h.length,jt.g=jt.j}Jl.prototype.reset=function(){this.g=this.j};function ga(jt){var ln=jt.h,dn=ln[jt.g],Kn=dn&127;return 128>dn?(jt.g+=1,Kn):(dn=ln[jt.g+1],Kn|=(dn&127)<<7,128>dn?(jt.g+=2,Kn):(dn=ln[jt.g+2],Kn|=(dn&127)<<14,128>dn?(jt.g+=3,Kn):(dn=ln[jt.g+3],Kn|=(dn&127)<<21,128>dn?(jt.g+=4,Kn):(dn=ln[jt.g+4],Kn|=(dn&15)<<28,128>dn?(jt.g+=5,Kn>>>0):(jt.g+=5,128<=ln[jt.g++]&&128<=ln[jt.g++]&&128<=ln[jt.g++]&&128<=ln[jt.g++]&&jt.g++,Kn)))))}function pu(jt){var ln=jt.h[jt.g],dn=jt.h[jt.g+1],Kn=jt.h[jt.g+2],gr=jt.h[jt.g+3];return jt.g+=4,dn=(ln<<0|dn<<8|Kn<<16|gr<<24)>>>0,jt=2*(dn>>31)+1,ln=dn>>>23&255,dn&=8388607,ln==255?dn?NaN:1/0*jt:ln==0?jt*Math.pow(2,-149)*dn:jt*Math.pow(2,ln-150)*(dn+Math.pow(2,23))}var Xl=[];function gs(){this.g=new Uint8Array(64),this.h=0}gs.prototype.push=function(jt){if(!(this.h+1<this.g.length)){var ln=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(ln)}this.g[this.h++]=jt},gs.prototype.length=function(){return this.h},gs.prototype.end=function(){var jt=this.g,ln=this.h;return this.h=0,Pu(jt,0,ln)};function $s(jt,ln){for(;127<ln;)jt.push(ln&127|128),ln>>>=7;jt.push(ln)}function Ll(jt){var ln={},dn=ln.N===void 0?!1:ln.N;this.o={v:ln.v===void 0?!1:ln.v},this.N=dn,ln=this.o,Xl.length?(dn=Xl.pop(),ln&&(dn.v=ln.v),jt&&xs(dn,jt),jt=dn):jt=new Jl(jt,ln),this.g=jt,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}Ll.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function ns(jt){var ln=jt.g;if((ln=ln.g==ln.i)||(ln=jt.j)||(ln=jt.g,ln=ln.l||0>ln.g||ln.g>ln.i),ln)return!1;jt.m=jt.g.g,ln=ga(jt.g);var dn=ln&7;return dn!=0&&dn!=5&&dn!=1&&dn!=2&&dn!=3&&dn!=4?(jt.j=!0,!1):(jt.i=ln,jt.l=ln>>>3,jt.h=dn,!0)}function yl(jt){switch(jt.h){case 0:if(jt.h!=0)yl(jt);else{for(jt=jt.g;jt.h[jt.g]&128;)jt.g++;jt.g++}break;case 1:jt.h!=1?yl(jt):(jt=jt.g,jt.g+=8);break;case 2:if(jt.h!=2)yl(jt);else{var ln=ga(jt.g);jt=jt.g,jt.g+=ln}break;case 5:jt.h!=5?yl(jt):(jt=jt.g,jt.g+=4);break;case 3:ln=jt.l;do{if(!ns(jt)){jt.j=!0;break}if(jt.h==4){jt.l!=ln&&(jt.j=!0);break}yl(jt)}while(1);break;default:jt.j=!0}}function ds(jt,ln,dn){var Kn=jt.g.i,gr=ga(jt.g);return gr=jt.g.g+gr,jt.g.i=gr,dn(ln,jt),jt.g.g=gr,jt.g.i=Kn,ln}function Bs(jt){var ln=ga(jt.g);jt=jt.g;var dn=jt.g;jt.g+=ln,jt=jt.h;var Kn;if(fu)(Kn=Tl)||(Kn=Tl=new TextDecoder("utf-8",{fatal:!1})),Kn=Kn.decode(jt.subarray(dn,dn+ln));else{ln=dn+ln;for(var gr=[],Hr=null,hr,Fr,lo;dn<ln;)hr=jt[dn++],128>hr?gr.push(hr):224>hr?dn>=ln?gr.push(65533):(Fr=jt[dn++],194>hr||(Fr&192)!==128?(dn--,gr.push(65533)):gr.push((hr&31)<<6|Fr&63)):240>hr?dn>=ln-1?gr.push(65533):(Fr=jt[dn++],(Fr&192)!==128||hr===224&&160>Fr||hr===237&&160<=Fr||((Kn=jt[dn++])&192)!==128?(dn--,gr.push(65533)):gr.push((hr&15)<<12|(Fr&63)<<6|Kn&63)):244>=hr?dn>=ln-2?gr.push(65533):(Fr=jt[dn++],(Fr&192)!==128||(hr<<28)+(Fr-144)>>30||((Kn=jt[dn++])&192)!==128||((lo=jt[dn++])&192)!==128?(dn--,gr.push(65533)):(hr=(hr&7)<<18|(Fr&63)<<12|(Kn&63)<<6|lo&63,hr-=65536,gr.push((hr>>10&1023)+55296,(hr&1023)+56320))):gr.push(65533),8192<=gr.length&&(Hr=Bo(Hr,gr),gr.length=0);Kn=Bo(Hr,gr)}return Kn}function xl(){this.h=[],this.i=0,this.g=new gs}function nu(jt,ln){ln.length!==0&&(jt.h.push(ln),jt.i+=ln.length)}function Qs(jt){var ln=jt.i+jt.g.length();if(ln===0)return new Uint8Array(0);ln=new Uint8Array(ln);for(var dn=jt.h,Kn=dn.length,gr=0,Hr=0;Hr<Kn;Hr++){var hr=dn[Hr];hr.length!==0&&(ln.set(hr,gr),gr+=hr.length)}return dn=jt.g,Kn=dn.h,Kn!==0&&(ln.set(dn.g.subarray(0,Kn),gr),dn.h=0),jt.h=[ln],ln}function fs(jt,ln,dn){if(dn!=null){$s(jt.g,8*ln+5),jt=jt.g;var Kn=dn;Kn=(dn=0>Kn?1:0)?-Kn:Kn,Kn===0?0<1/Kn?Fs=Cl=0:(Cl=0,Fs=2147483648):isNaN(Kn)?(Cl=0,Fs=2147483647):34028234663852886e22<Kn?(Cl=0,Fs=(dn<<31|2139095040)>>>0):11754943508222875e-54>Kn?(Kn=Math.round(Kn/Math.pow(2,-149)),Cl=0,Fs=(dn<<31|Kn)>>>0):(ln=Math.floor(Math.log(Kn)/Math.LN2),Kn*=Math.pow(2,-ln),Kn=Math.round(8388608*Kn)&8388607,Cl=0,Fs=(dn<<31|ln+127<<23|Kn)>>>0),dn=Fs,jt.push(dn>>>0&255),jt.push(dn>>>8&255),jt.push(dn>>>16&255),jt.push(dn>>>24&255)}}var $l=typeof Uint8Array=="function";function Ql(jt,ln,dn){if(jt!=null)return typeof jt=="object"?$l&&jt instanceof Uint8Array?dn(jt):Sl(jt,ln,dn):ln(jt)}function Sl(jt,ln,dn){if(Array.isArray(jt)){for(var Kn=Array(jt.length),gr=0;gr<jt.length;gr++)Kn[gr]=Ql(jt[gr],ln,dn);return Array.isArray(jt)&&jt.W&&_l(Kn),Kn}Kn={};for(gr in jt)Kn[gr]=Ql(jt[gr],ln,dn);return Kn}function Vu(jt){return typeof jt=="number"?isFinite(jt)?jt:String(jt):jt}var hu={W:{value:!0,configurable:!0}};function _l(jt){return Array.isArray(jt)&&!Object.isFrozen(jt)&&Object.defineProperties(jt,hu),jt}var mu;function zs(jt,ln,dn){var Kn=mu;mu=null,jt||(jt=Kn),Kn=this.constructor.ca,jt||(jt=Kn?[Kn]:[]),this.j=Kn?0:-1,this.i=null,this.g=jt;e:{if(Kn=this.g.length,jt=Kn-1,Kn&&(Kn=this.g[jt],Kn!==null&&typeof Kn=="object"&&Kn.constructor===Object)){this.l=jt-this.j,this.h=Kn;break e}ln!==void 0&&-1<ln?(this.l=Math.max(ln,jt+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(dn)for(ln=0;ln<dn.length;ln++)jt=dn[ln],jt<this.l?(jt+=this.j,(Kn=this.g[jt])?_l(Kn):this.g[jt]=Rl):(Ks(this),(Kn=this.h[jt])?_l(Kn):this.h[jt]=Rl)}var Rl=Object.freeze(_l([]));function Ks(jt){var ln=jt.l+jt.j;jt.g[ln]||(jt.h=jt.g[ln]={})}function Rs(jt,ln,dn){return ln===-1?null:dn!==void 0&&dn||ln>=jt.l?jt.h?jt.h[ln]:void 0:jt.g[ln+jt.j]}function eu(jt){var ln=ln===void 0?!1:ln,dn=Rs(jt,1,ln);return dn==null&&(dn=Rl),dn===Rl&&(dn=_l([]),ps(jt,1,dn,ln)),dn}function Ss(jt,ln,dn){return jt=Rs(jt,ln),jt=jt==null?jt:+jt,jt??(dn===void 0?0:dn)}function ps(jt,ln,dn,Kn){Kn!==void 0&&Kn||ln>=jt.l?(Ks(jt),jt.h[ln]=dn):jt.g[ln+jt.j]=dn}function Su(jt,ln){jt.i||(jt.i={});var dn=jt.i[1];if(!dn){var Kn=eu(jt);dn=[];for(var gr=0;gr<Kn.length;gr++)dn[gr]=new ln(Kn[gr]);jt.i[1]=dn}return dn}function Ds(jt,ln,dn,Kn){var gr=Su(jt,dn);ln=ln||new dn,jt=eu(jt),Kn!=null?(gr.splice(Kn,0,ln),jt.splice(Kn,0,Xo(ln))):(gr.push(ln),jt.push(Xo(ln)))}zs.prototype.toJSON=function(){var jt=Xo(this);return Sl(jt,Vu,Ru)};function Xo(jt,ln){if(jt.i)for(var dn in jt.i){var Kn=jt.i[dn];if(Array.isArray(Kn))for(var gr=0;gr<Kn.length;gr++)Kn[gr]&&Xo(Kn[gr]);else Kn&&Xo(Kn)}return jt.g}zs.prototype.toString=function(){return Xo(this).toString()};function Io(jt,ln){return jt=Rs(jt,ln),jt??0}function Is(jt,ln){return jt=Rs(jt,ln),jt??""}function Il(jt,ln){if(jt=jt.m){nu(ln,ln.g.end());for(var dn=0;dn<jt.length;dn++)nu(ln,jt[dn])}}function Es(jt,ln){if(ln.h==4)return!1;var dn=ln.m;return yl(ln),ln.N||(ln=Pu(ln.g.h,dn,ln.g.g),(dn=jt.m)?dn.push(ln):jt.m=[ln]),!0}function ws(jt,ln){var dn=void 0;return new(dn||(dn=nt))(function(Kn,gr){function Hr(lo){try{Fr(ln.next(lo))}catch(Ao){gr(Ao)}}function hr(lo){try{Fr(ln.throw(lo))}catch(Ao){gr(Ao)}}function Fr(lo){lo.done?Kn(lo.value):new dn(function(Ao){Ao(lo.value)}).then(Hr,hr)}Fr((ln=ln.apply(jt,void 0)).next())})}function Vr(jt){zs.call(this,jt)}uo(Vr,zs);function jr(jt,ln){for(;ns(ln);)switch(ln.i){case 8:var dn=ga(ln.g);ps(jt,1,dn);break;case 21:dn=pu(ln.g),ps(jt,2,dn);break;case 26:dn=Bs(ln),ps(jt,3,dn);break;case 34:dn=Bs(ln),ps(jt,4,dn);break;default:if(!Es(jt,ln))return jt}return jt}function _r(jt){zs.call(this,jt,-1,hs)}uo(_r,zs),_r.prototype.addClassification=function(jt,ln){Ds(this,jt,Vr,ln)};var hs=[1];function Ps(jt){zs.call(this,jt)}uo(Ps,zs);function Ls(jt,ln){for(;ns(ln);)switch(ln.i){case 13:var dn=pu(ln.g);ps(jt,1,dn);break;case 21:dn=pu(ln.g),ps(jt,2,dn);break;case 29:dn=pu(ln.g),ps(jt,3,dn);break;case 37:dn=pu(ln.g),ps(jt,4,dn);break;case 45:dn=pu(ln.g),ps(jt,5,dn);break;default:if(!Es(jt,ln))return jt}return jt}function No(jt){zs.call(this,jt,-1,js)}uo(No,zs);var js=[1];function Nl(jt){zs.call(this,jt)}uo(Nl,zs);function ru(jt,ln,dn){if(dn=jt.createShader(dn===0?jt.VERTEX_SHADER:jt.FRAGMENT_SHADER),jt.shaderSource(dn,ln),jt.compileShader(dn),!jt.getShaderParameter(dn,jt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+jt.getShaderInfoLog(dn));return dn}function iu(jt){return Su(jt,Vr).map(function(ln){return{index:Io(ln,1),Y:Ss(ln,2),label:Rs(ln,3)!=null?Is(ln,3):void 0,displayName:Rs(ln,4)!=null?Is(ln,4):void 0}})}function Eu(jt){return{x:Ss(jt,1),y:Ss(jt,2),z:Ss(jt,3),visibility:Rs(jt,4)!=null?Ss(jt,4):void 0}}function Iu(jt,ln){this.h=jt,this.g=ln,this.l=0}function Ol(jt,ln,dn){return ou(jt,ln),typeof jt.g.canvas.transferToImageBitmap=="function"?nt.resolve(jt.g.canvas.transferToImageBitmap()):dn?nt.resolve(jt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(jt.g.canvas):(jt.i===void 0&&(jt.i=document.createElement("canvas")),new nt(function(Kn){jt.i.height=jt.g.canvas.height,jt.i.width=jt.g.canvas.width,jt.i.getContext("2d",{}).drawImage(jt.g.canvas,0,0,jt.g.canvas.width,jt.g.canvas.height),Kn(jt.i)}))}function ou(jt,ln){var dn=jt.g;if(jt.m===void 0){var Kn=ru(dn,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),gr=ru(dn,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Hr=dn.createProgram();if(dn.attachShader(Hr,Kn),dn.attachShader(Hr,gr),dn.linkProgram(Hr),!dn.getProgramParameter(Hr,dn.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+dn.getProgramInfoLog(Hr));Kn=jt.m=Hr,dn.useProgram(Kn),gr=dn.getUniformLocation(Kn,"sampler0"),jt.j={I:dn.getAttribLocation(Kn,"aVertex"),H:dn.getAttribLocation(Kn,"aTex"),da:gr},jt.s=dn.createBuffer(),dn.bindBuffer(dn.ARRAY_BUFFER,jt.s),dn.enableVertexAttribArray(jt.j.I),dn.vertexAttribPointer(jt.j.I,2,dn.FLOAT,!1,0,0),dn.bufferData(dn.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),dn.STATIC_DRAW),dn.bindBuffer(dn.ARRAY_BUFFER,null),jt.o=dn.createBuffer(),dn.bindBuffer(dn.ARRAY_BUFFER,jt.o),dn.enableVertexAttribArray(jt.j.H),dn.vertexAttribPointer(jt.j.H,2,dn.FLOAT,!1,0,0),dn.bufferData(dn.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),dn.STATIC_DRAW),dn.bindBuffer(dn.ARRAY_BUFFER,null),dn.uniform1i(gr,0)}Kn=jt.j,dn.useProgram(jt.m),dn.canvas.width=ln.width,dn.canvas.height=ln.height,dn.viewport(0,0,ln.width,ln.height),dn.activeTexture(dn.TEXTURE0),jt.h.bindTexture2d(ln.glName),dn.enableVertexAttribArray(Kn.I),dn.bindBuffer(dn.ARRAY_BUFFER,jt.s),dn.vertexAttribPointer(Kn.I,2,dn.FLOAT,!1,0,0),dn.enableVertexAttribArray(Kn.H),dn.bindBuffer(dn.ARRAY_BUFFER,jt.o),dn.vertexAttribPointer(Kn.H,2,dn.FLOAT,!1,0,0),dn.bindFramebuffer(dn.DRAW_FRAMEBUFFER?dn.DRAW_FRAMEBUFFER:dn.FRAMEBUFFER,null),dn.clearColor(0,0,0,0),dn.clear(dn.COLOR_BUFFER_BIT),dn.colorMask(!0,!0,!0,!0),dn.drawArrays(dn.TRIANGLE_FAN,0,4),dn.disableVertexAttribArray(Kn.I),dn.disableVertexAttribArray(Kn.H),dn.bindBuffer(dn.ARRAY_BUFFER,null),jt.h.bindTexture2d(0)}function Cp(jt){this.g=jt}var su=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Pl(jt,ln){return ln+jt}function Lu(jt,ln){window[jt]=ln}function Fu(jt){var ln=document.createElement("script");return ln.setAttribute("src",jt),ln.setAttribute("crossorigin","anonymous"),new nt(function(dn){ln.addEventListener("load",function(){dn()},!1),ln.addEventListener("error",function(){dn()},!1),document.body.appendChild(ln)})}function Ul(){return ws(this,function jt(){return Ts(jt,function(ln){switch(ln.g){case 1:return ln.m=2,Cr(ln,WebAssembly.instantiate(su),4);case 4:ln.g=3,ln.m=0;break;case 2:return ln.m=0,ln.j=null,ln.return(!1);case 3:return ln.return(!0)}})})}function up(jt){if(this.g=jt,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=jt&&jt.locateFile||Pl,typeof window=="object")var ln=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")ln=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=ln,jt.options){ln=Nn(Object.keys(jt.options));for(var dn=ln.next();!dn.done;dn=ln.next()){dn=dn.value;var Kn=jt.options[dn].default;Kn!==void 0&&(this.j[dn]=typeof Kn=="function"?Kn():Kn)}}}xt=up.prototype,xt.close=function(){return this.i&&this.i.delete(),nt.resolve()};function au(jt,ln){return jt.g.files===void 0?[]:typeof jt.g.files=="function"?jt.g.files(ln):jt.g.files}function ku(jt){return ws(jt,function ln(){var dn=this,Kn,gr,Hr,hr,Fr,lo,Ao,_o,Ho,bs,$o;return Ts(ln,function(Po){switch(Po.g){case 1:return Kn=dn,dn.R?(gr=au(dn,dn.j),Cr(Po,Ul(),2)):Po.return();case 2:if(Hr=Po.h,typeof window=="object")return Lu("createMediapipeSolutionsWasm",{locateFile:dn.locateFile}),Lu("createMediapipeSolutionsPackedAssets",{locateFile:dn.locateFile}),lo=gr.filter(function(Jo){return Jo.data!==void 0}),Ao=gr.filter(function(Jo){return Jo.data===void 0}),_o=nt.all(lo.map(function(Jo){var vs=gu(Kn,Jo.url);if(Jo.path!==void 0){var ks=Jo.path;vs=vs.then(function(Xs){return Kn.overrideFile(ks,Xs),nt.resolve(Xs)})}return vs})),Ho=nt.all(Ao.map(function(Jo){return Jo.simd===void 0||Jo.simd&&Hr||!Jo.simd&&!Hr?Fu(Kn.locateFile(Jo.url,Kn.S)):nt.resolve()})).then(function(){return ws(Kn,function Jo(){var vs,ks,Xs=this;return Ts(Jo,function(Hs){if(Hs.g==1)return vs=window.createMediapipeSolutionsWasm,ks=window.createMediapipeSolutionsPackedAssets,Cr(Hs,vs(ks),2);Xs.h=Hs.h,Hs.g=0})})}),bs=function(){return ws(Kn,function Jo(){var vs=this;return Ts(Jo,function(ks){return vs.g.graph&&vs.g.graph.url?ks=Cr(ks,gu(vs,vs.g.graph.url),0):(ks.g=0,ks=void 0),ks})})}(),Cr(Po,nt.all([Ho,_o,bs]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return hr=gr.filter(function(Jo){return Jo.simd===void 0||Jo.simd&&Hr||!Jo.simd&&!Hr}).map(function(Jo){return Kn.locateFile(Jo.url,Kn.S)}),importScripts.apply(null,or(hr)),Cr(Po,createMediapipeSolutionsWasm(Module),6);case 6:dn.h=Po.h,dn.l=new OffscreenCanvas(1,1),dn.h.canvas=dn.l,Fr=dn.h.GL.createContext(dn.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),dn.h.GL.makeContextCurrent(Fr),Po.g=4;break;case 7:if(dn.l=document.createElement("canvas"),$o=dn.l.getContext("webgl2",{}),!$o&&($o=dn.l.getContext("webgl",{}),!$o))return alert("Failed to create WebGL canvas context when passing video frame."),Po.return();dn.D=$o,dn.h.canvas=dn.l,dn.h.createContext(dn.l,!0,!0,{});case 4:dn.i=new dn.h.SolutionWasm,dn.R=!1,Po.g=0}})})}function Uu(jt){return ws(jt,function ln(){var dn=this,Kn,gr,Hr,hr,Fr,lo,Ao,_o;return Ts(ln,function(Ho){if(Ho.g==1){if(dn.g.graph&&dn.g.graph.url&&dn.P===dn.g.graph.url)return Ho.return();if(dn.o=!0,!dn.g.graph||!dn.g.graph.url){Ho.g=2;return}return dn.P=dn.g.graph.url,Cr(Ho,gu(dn,dn.g.graph.url),3)}for(Ho.g!=2&&(Kn=Ho.h,dn.i.loadGraph(Kn)),gr=Nn(Object.keys(dn.B)),Hr=gr.next();!Hr.done;Hr=gr.next())hr=Hr.value,dn.i.overrideFile(hr,dn.B[hr]);if(dn.B={},dn.g.listeners)for(Fr=Nn(dn.g.listeners),lo=Fr.next();!lo.done;lo=Fr.next())Ao=lo.value,Mp(dn,Ao);_o=dn.j,dn.j={},dn.setOptions(_o),Ho.g=0})})}xt.reset=function(){return ws(this,function jt(){var ln=this;return Ts(jt,function(dn){ln.i&&(ln.i.reset(),ln.m={},ln.s={}),dn.g=0})})},xt.setOptions=function(jt,ln){var dn=this;if(ln=ln||this.g.options){for(var Kn=[],gr=[],Hr={},hr=Nn(Object.keys(jt)),Fr=hr.next();!Fr.done;Hr={K:Hr.K,L:Hr.L},Fr=hr.next()){var lo=Fr.value;lo in this.j&&this.j[lo]===jt[lo]||(this.j[lo]=jt[lo],Fr=ln[lo],Fr!==void 0&&(Fr.onChange&&(Hr.K=Fr.onChange,Hr.L=jt[lo],Kn.push(function(Ao){return function(){return ws(dn,function _o(){var Ho,bs=this;return Ts(_o,function($o){if($o.g==1)return Cr($o,Ao.K(Ao.L),2);Ho=$o.h,Ho===!0&&(bs.o=!0),$o.g=0})})}}(Hr))),Fr.graphOptionXref&&(lo={valueNumber:Fr.type===1?jt[lo]:0,valueBoolean:Fr.type===0?jt[lo]:!1,valueString:Fr.type===2?jt[lo]:""},Fr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Fr.graphOptionXref),lo),gr.push(Fr))))}(Kn.length!==0||gr.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(gr),this.u=(this.u===void 0?[]:this.u).concat(Kn))}};function yp(jt){return ws(jt,function ln(){var dn=this,Kn,gr,Hr,hr,Fr,lo,Ao;return Ts(ln,function(_o){switch(_o.g){case 1:if(!dn.o)return _o.return();if(!dn.u){_o.g=2;break}Kn=Nn(dn.u),gr=Kn.next();case 3:if(gr.done){_o.g=5;break}return Hr=gr.value,Cr(_o,Hr(),4);case 4:gr=Kn.next(),_o.g=3;break;case 5:dn.u=void 0;case 2:if(dn.A){for(hr=new dn.h.GraphOptionChangeRequestList,Fr=Nn(dn.A),lo=Fr.next();!lo.done;lo=Fr.next())Ao=lo.value,hr.push_back(Ao);dn.i.changeOptions(hr),hr.delete(),dn.A=void 0}dn.o=!1,_o.g=0}})})}xt.initialize=function(){return ws(this,function jt(){var ln=this;return Ts(jt,function(dn){return dn.g==1?Cr(dn,ku(ln),2):dn.g!=3?Cr(dn,Uu(ln),3):Cr(dn,yp(ln),0)})})};function gu(jt,ln){return ws(jt,function dn(){var Kn=this,gr,Hr;return Ts(dn,function(hr){return ln in Kn.F?hr.return(Kn.F[ln]):(gr=Kn.locateFile(ln,""),Hr=fetch(gr).then(function(Fr){return Fr.arrayBuffer()}),Kn.F[ln]=Hr,hr.return(Hr))})})}xt.overrideFile=function(jt,ln){this.i?this.i.overrideFile(jt,ln):this.B[jt]=ln},xt.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},xt.send=function(jt,ln){return ws(this,function dn(){var Kn=this,gr,Hr,hr,Fr,lo,Ao,_o,Ho,bs;return Ts(dn,function($o){switch($o.g){case 1:return Kn.g.inputs?(gr=1e3*(ln??performance.now()),Cr($o,Kn.C,2)):$o.return();case 2:return Cr($o,Kn.initialize(),3);case 3:for(Hr=new Kn.h.PacketDataList,hr=Nn(Object.keys(jt)),Fr=hr.next();!Fr.done;Fr=hr.next())if(lo=Fr.value,Ao=Kn.g.inputs[lo]){e:{var Po=Kn,Jo=jt[lo];switch(Ao.type){case"video":var vs=Po.m[Ao.stream];if(vs||(vs=new Iu(Po.h,Po.D),Po.m[Ao.stream]=vs),Po=vs,Po.l===0&&(Po.l=Po.h.createTexture()),typeof HTMLVideoElement<"u"&&Jo instanceof HTMLVideoElement){var ks=Jo.videoWidth;vs=Jo.videoHeight}else typeof HTMLImageElement<"u"&&Jo instanceof HTMLImageElement?(ks=Jo.naturalWidth,vs=Jo.naturalHeight):(ks=Jo.width,vs=Jo.height);vs={glName:Po.l,width:ks,height:vs},ks=Po.g,ks.canvas.width=vs.width,ks.canvas.height=vs.height,ks.activeTexture(ks.TEXTURE0),Po.h.bindTexture2d(Po.l),ks.texImage2D(ks.TEXTURE_2D,0,ks.RGBA,ks.RGBA,ks.UNSIGNED_BYTE,Jo),Po.h.bindTexture2d(0),Po=vs;break e;case"detections":for(vs=Po.m[Ao.stream],vs||(vs=new Cp(Po.h),Po.m[Ao.stream]=vs),Po=vs,Po.data||(Po.data=new Po.g.DetectionListData),Po.data.reset(Jo.length),vs=0;vs<Jo.length;++vs){ks=Jo[vs];var Xs=Po.data,Hs=Xs.setBoundingBox,Vl=vs,Ft=ks.T,Ht=new Nl;ps(Ht,1,Ft.Z),ps(Ht,2,Ft.$),ps(Ht,3,Ft.height),ps(Ht,4,Ft.width),ps(Ht,5,Ft.rotation),ps(Ht,6,Ft.X);var Kt=Ft=new xl;fs(Kt,1,Rs(Ht,1)),fs(Kt,2,Rs(Ht,2)),fs(Kt,3,Rs(Ht,3)),fs(Kt,4,Rs(Ht,4)),fs(Kt,5,Rs(Ht,5));var Zn=Rs(Ht,6);if(Zn!=null&&Zn!=null){$s(Kt.g,48);var nr=Kt.g,Tr=Zn;Zn=0>Tr,Tr=Math.abs(Tr);var rr=Tr>>>0;for(Tr=Math.floor((Tr-rr)/4294967296),Tr>>>=0,Zn&&(Tr=~Tr>>>0,rr=(~rr>>>0)+1,4294967295<rr&&(rr=0,Tr++,4294967295<Tr&&(Tr=0))),Fs=rr,Cl=Tr,Zn=Fs,rr=Cl;0<rr||127<Zn;)nr.push(Zn&127|128),Zn=(Zn>>>7|rr<<25)>>>0,rr>>>=7;nr.push(Zn)}if(Il(Ht,Kt),Ft=Qs(Ft),Hs.call(Xs,Vl,Ft),ks.O)for(Xs=0;Xs<ks.O.length;++Xs)Ht=ks.O[Xs],Kt=!!Ht.visibility,Hs=Po.data,Vl=Hs.addNormalizedLandmark,Ft=vs,Ht=Object.assign(Object.assign({},Ht),{visibility:Kt?Ht.visibility:0}),Kt=new Ps,ps(Kt,1,Ht.x),ps(Kt,2,Ht.y),ps(Kt,3,Ht.z),Ht.visibility&&ps(Kt,4,Ht.visibility),nr=Ht=new xl,fs(nr,1,Rs(Kt,1)),fs(nr,2,Rs(Kt,2)),fs(nr,3,Rs(Kt,3)),fs(nr,4,Rs(Kt,4)),fs(nr,5,Rs(Kt,5)),Il(Kt,nr),Ht=Qs(Ht),Vl.call(Hs,Ft,Ht);if(ks.M)for(Xs=0;Xs<ks.M.length;++Xs){if(Hs=Po.data,Vl=Hs.addClassification,Ft=vs,Ht=ks.M[Xs],Kt=new Vr,ps(Kt,2,Ht.Y),Ht.index&&ps(Kt,1,Ht.index),Ht.label&&ps(Kt,3,Ht.label),Ht.displayName&&ps(Kt,4,Ht.displayName),nr=Ht=new xl,rr=Rs(Kt,1),rr!=null&&rr!=null)if($s(nr.g,8),Zn=nr.g,0<=rr)$s(Zn,rr);else{for(Tr=0;9>Tr;Tr++)Zn.push(rr&127|128),rr>>=7;Zn.push(1)}fs(nr,2,Rs(Kt,2)),Zn=Rs(Kt,3),Zn!=null&&(Zn=Gu(Zn),$s(nr.g,26),$s(nr.g,Zn.length),nu(nr,nr.g.end()),nu(nr,Zn)),Zn=Rs(Kt,4),Zn!=null&&(Zn=Gu(Zn),$s(nr.g,34),$s(nr.g,Zn.length),nu(nr,nr.g.end()),nu(nr,Zn)),Il(Kt,nr),Ht=Qs(Ht),Vl.call(Hs,Ft,Ht)}}Po=Po.data;break e;default:Po={}}}switch(_o=Po,Ho=Ao.stream,Ao.type){case"video":Hr.pushTexture2d(Object.assign(Object.assign({},_o),{stream:Ho,timestamp:gr}));break;case"detections":bs=_o,bs.stream=Ho,bs.timestamp=gr,Hr.pushDetectionList(bs);break;default:throw Error("Unknown input config type: '"+Ao.type+"'")}}return Kn.i.send(Hr),Cr($o,Kn.C,4);case 4:Hr.delete(),$o.g=0}})})};function Bu(jt,ln,dn){return ws(jt,function Kn(){var gr,Hr,hr,Fr,lo,Ao,_o=this,Ho,bs,$o,Po,Jo,vs,ks,Xs;return Ts(Kn,function(Hs){switch(Hs.g){case 1:if(!dn)return Hs.return(ln);for(gr={},Hr=0,hr=Nn(Object.keys(dn)),Fr=hr.next();!Fr.done;Fr=hr.next())lo=Fr.value,Ao=dn[lo],typeof Ao!="string"&&Ao.type==="texture"&&ln[Ao.stream]!==void 0&&++Hr;1<Hr&&(_o.G=!1),Ho=Nn(Object.keys(dn)),Fr=Ho.next();case 2:if(Fr.done){Hs.g=4;break}if(bs=Fr.value,$o=dn[bs],typeof $o=="string")return ks=gr,Xs=bs,Cr(Hs,Vp(_o,bs,ln[$o]),14);if(Po=ln[$o.stream],$o.type==="detection_list"){if(Po){for(var Vl=Po.getRectList(),Ft=Po.getLandmarksList(),Ht=Po.getClassificationsList(),Kt=[],Zn=0;Zn<Vl.size();++Zn){var nr=Vl.get(Zn);e:{var Tr=new Nl;for(nr=new Ll(nr);ns(nr);)switch(nr.i){case 13:var rr=pu(nr.g);ps(Tr,1,rr);break;case 21:rr=pu(nr.g),ps(Tr,2,rr);break;case 29:rr=pu(nr.g),ps(Tr,3,rr);break;case 37:rr=pu(nr.g),ps(Tr,4,rr);break;case 45:rr=pu(nr.g),ps(Tr,5,rr);break;case 48:for(var kr=nr.g,Jr=128,Ot=0,Jt=rr=0;4>Jt&&128<=Jr;Jt++)Jr=kr.h[kr.g++],Ot|=(Jr&127)<<7*Jt;if(128<=Jr&&(Jr=kr.h[kr.g++],Ot|=(Jr&127)<<28,rr|=(Jr&127)>>4),128<=Jr)for(Jt=0;5>Jt&&128<=Jr;Jt++)Jr=kr.h[kr.g++],rr|=(Jr&127)<<7*Jt+3;128>Jr?(kr=Ot>>>0,Jr=rr>>>0,(rr=Jr&2147483648)&&(kr=~kr+1>>>0,Jr=~Jr>>>0,kr==0&&(Jr=Jr+1>>>0)),kr=4294967296*Jr+(kr>>>0),rr=rr?-kr:kr):(kr.l=!0,rr=void 0),ps(Tr,6,rr);break;default:if(!Es(Tr,nr))break e}}Tr={Z:Ss(Tr,1),$:Ss(Tr,2),height:Ss(Tr,3),width:Ss(Tr,4),rotation:Ss(Tr,5,0),X:Io(Tr,6)},rr=Ft.get(Zn);e:for(nr=new No,rr=new Ll(rr);ns(rr);)switch(rr.i){case 10:kr=ds(rr,new Ps,Ls),Ds(nr,kr,Ps,void 0);break;default:if(!Es(nr,rr))break e}nr=Su(nr,Ps).map(Eu),kr=Ht.get(Zn);e:for(rr=new _r,kr=new Ll(kr);ns(kr);)switch(kr.i){case 10:rr.addClassification(ds(kr,new Vr,jr));break;default:if(!Es(rr,kr))break e}Tr={T:Tr,O:nr,M:iu(rr)},Kt.push(Tr)}Vl=Kt}else Vl=[];gr[bs]=Vl,Hs.g=7;break}if($o.type==="proto_list"){if(Po){for(Vl=Array(Po.size()),Ft=0;Ft<Po.size();Ft++)Vl[Ft]=Po.get(Ft);Po.delete()}else Vl=[];gr[bs]=Vl,Hs.g=7;break}if(Po===void 0){Hs.g=3;break}if($o.type==="float_list"){gr[bs]=Po,Hs.g=7;break}if($o.type==="proto"){gr[bs]=Po,Hs.g=7;break}if($o.type!=="texture")throw Error("Unknown output config type: '"+$o.type+"'");return Jo=_o.s[bs],Jo||(Jo=new Iu(_o.h,_o.D),_o.s[bs]=Jo),Cr(Hs,Ol(Jo,Po,_o.G),13);case 13:vs=Hs.h,gr[bs]=vs;case 7:$o.transform&&gr[bs]&&(gr[bs]=$o.transform(gr[bs])),Hs.g=3;break;case 14:ks[Xs]=Hs.h;case 3:Fr=Ho.next(),Hs.g=2;break;case 4:return Hs.return(gr)}})})}function Vp(jt,ln,dn){return ws(jt,function Kn(){var gr=this,Hr;return Ts(Kn,function(hr){return typeof dn=="number"||dn instanceof Uint8Array||dn instanceof gr.h.Uint8BlobList?hr.return(dn):dn instanceof gr.h.Texture2dDataOut?(Hr=gr.s[ln],Hr||(Hr=new Iu(gr.h,gr.D),gr.s[ln]=Hr),hr.return(Ol(Hr,dn,gr.G))):hr.return(void 0)})})}function Mp(jt,ln){for(var dn=ln.name||"$",Kn=[].concat(or(ln.wants)),gr=new jt.h.StringList,Hr=Nn(ln.wants),hr=Hr.next();!hr.done;hr=Hr.next())gr.push_back(hr.value);Hr=jt.h.PacketListener.implement({onResults:function(Fr){for(var lo={},Ao=0;Ao<ln.wants.length;++Ao)lo[Kn[Ao]]=Fr.get(Ao);var _o=jt.listeners[dn];_o&&(jt.C=Bu(jt,lo,ln.outs).then(function(Ho){Ho=_o(Ho);for(var bs=0;bs<ln.wants.length;++bs){var $o=lo[Kn[bs]];typeof $o=="object"&&$o.hasOwnProperty&&$o.hasOwnProperty("delete")&&$o.delete()}Ho&&(jt.C=Ho)}))}}),jt.i.attachMultiListener(gr,Hr),gr.delete()}xt.onResults=function(jt,ln){this.listeners[ln||"$"]=jt},$a("Solution",up),$a("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Hu(jt){switch(jt===void 0&&(jt=0),jt){case 1:return"selfie_segmentation_landscape.tflite";default:return"selfie_segmentation.tflite"}}function _d(jt){var ln=this;jt=jt||{},this.g=new up({locateFile:jt.locateFile,files:function(dn){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:Hu(dn.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(dn){return ws(ln,function Kn(){var gr,Hr,hr=this,Fr;return Ts(Kn,function(lo){return lo.g==1?(gr=Hu(dn),Hr="third_party/mediapipe/modules/selfie_segmentation/"+gr,Cr(lo,gu(hr.g,gr),2)):(Fr=lo.h,hr.g.overrideFile(Hr,Fr),lo.return(!0))})})}}}})}xt=_d.prototype,xt.close=function(){return this.g.close(),nt.resolve()},xt.onResults=function(jt){this.g.onResults(jt)},xt.initialize=function(){return ws(this,function jt(){var ln=this;return Ts(jt,function(dn){return Cr(dn,ln.g.initialize(),0)})})},xt.reset=function(){this.g.reset()},xt.send=function(jt){return ws(this,function ln(){var dn=this;return Ts(ln,function(Kn){return Cr(Kn,dn.g.send(jt),0)})})},xt.setOptions=function(jt){this.g.setOptions(jt)},$a("SelfieSegmentation",_d),$a("VERSION","0.1.1632777926")}).call(Ko);const Bl={};(function(){var xt;function St(Lt){var $t=0;return function(){return $t<Lt.length?{done:!1,value:Lt[$t++]}:{done:!0}}}var Tt=typeof Object.defineProperties=="function"?Object.defineProperty:function(Lt,$t,hn){return Lt==Array.prototype||Lt==Object.prototype||(Lt[$t]=hn.value),Lt};function Ut(Lt){Lt=[typeof globalThis=="object"&&globalThis,Lt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var $t=0;$t<Lt.length;++$t){var hn=Lt[$t];if(hn&&hn.Math==Math)return hn}throw Error("Cannot find global object")}var Qt=Ut(this);function In(Lt,$t){if($t)e:{var hn=Qt;Lt=Lt.split(".");for(var Rn=0;Rn<Lt.length-1;Rn++){var Yn=Lt[Rn];if(!(Yn in hn))break e;hn=hn[Yn]}Lt=Lt[Lt.length-1],Rn=hn[Lt],$t=$t(Rn),$t!=Rn&&$t!=null&&Tt(hn,Lt,{configurable:!0,writable:!0,value:$t})}}In("Symbol",function(Lt){function $t(It){if(this instanceof $t)throw new TypeError("Symbol is not a constructor");return new hn(Rn+(It||"")+"_"+Yn++,It)}function hn(It,Wt){this.g=It,Tt(this,"description",{configurable:!0,writable:!0,value:Wt})}if(Lt)return Lt;hn.prototype.toString=function(){return this.g};var Rn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Yn=0;return $t}),In("Symbol.iterator",function(Lt){if(Lt)return Lt;Lt=Symbol("Symbol.iterator");for(var $t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),hn=0;hn<$t.length;hn++){var Rn=Qt[$t[hn]];typeof Rn=="function"&&typeof Rn.prototype[Lt]!="function"&&Tt(Rn.prototype,Lt,{configurable:!0,writable:!0,value:function(){return Xn(St(this))}})}return Lt});function Xn(Lt){return Lt={next:Lt},Lt[Symbol.iterator]=function(){return this},Lt}function Nn(Lt){var $t=typeof Symbol<"u"&&Symbol.iterator&&Lt[Symbol.iterator];return $t?$t.call(Lt):{next:St(Lt)}}function or(Lt){if(!(Lt instanceof Array)){Lt=Nn(Lt);for(var $t,hn=[];!($t=Lt.next()).done;)hn.push($t.value);Lt=hn}return Lt}var Br=typeof Object.create=="function"?Object.create:function(Lt){function $t(){}return $t.prototype=Lt,new $t},eo;if(typeof Object.setPrototypeOf=="function")eo=Object.setPrototypeOf;else{var ao;e:{var Zo={a:!0},Fo={};try{Fo.__proto__=Zo,ao=Fo.a;break e}catch{}ao=!1}eo=ao?function(Lt,$t){if(Lt.__proto__=$t,Lt.__proto__!==$t)throw new TypeError(Lt+" is not extensible");return Lt}:null}var no=eo;function uo(Lt,$t){if(Lt.prototype=Br($t.prototype),Lt.prototype.constructor=Lt,no)no(Lt,$t);else for(var hn in $t)if(hn!="prototype")if(Object.defineProperties){var Rn=Object.getOwnPropertyDescriptor($t,hn);Rn&&Object.defineProperty(Lt,hn,Rn)}else Lt[hn]=$t[hn];Lt.ra=$t.prototype}function es(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function ts(Lt){if(Lt.l)throw new TypeError("Generator is already running");Lt.l=!0}es.prototype.s=function(Lt){this.h=Lt};function Cs(Lt,$t){Lt.j={fa:$t,ga:!0},Lt.g=Lt.o||Lt.u}es.prototype.return=function(Lt){this.j={return:Lt},this.g=this.u};function Cr(Lt,$t,hn){return Lt.g=hn,{value:$t}}function du(Lt){this.g=new es,this.h=Lt}function tu(Lt,$t){ts(Lt.g);var hn=Lt.g.i;return hn?Js(Lt,"return"in hn?hn.return:function(Rn){return{value:Rn,done:!0}},$t,Lt.g.return):(Lt.g.return($t),ls(Lt))}function Js(Lt,$t,hn,Rn){try{var Yn=$t.call(Lt.g.i,hn);if(!(Yn instanceof Object))throw new TypeError("Iterator result "+Yn+" is not an object");if(!Yn.done)return Lt.g.l=!1,Yn;var It=Yn.value}catch(Wt){return Lt.g.i=null,Cs(Lt.g,Wt),ls(Lt)}return Lt.g.i=null,Rn.call(Lt.g,It),ls(Lt)}function ls(Lt){for(;Lt.g.g;)try{var $t=Lt.h(Lt.g);if($t)return Lt.g.l=!1,{value:$t.value,done:!1}}catch(hn){Lt.g.h=void 0,Cs(Lt.g,hn)}if(Lt.g.l=!1,Lt.g.j){if($t=Lt.g.j,Lt.g.j=null,$t.ga)throw $t.fa;return{value:$t.return,done:!0}}return{value:void 0,done:!0}}function rp(Lt){this.next=function($t){return ts(Lt.g),Lt.g.i?$t=Js(Lt,Lt.g.i.next,$t,Lt.g.s):(Lt.g.s($t),$t=ls(Lt)),$t},this.throw=function($t){return ts(Lt.g),Lt.g.i?$t=Js(Lt,Lt.g.i.throw,$t,Lt.g.s):(Cs(Lt.g,$t),$t=ls(Lt)),$t},this.return=function($t){return tu(Lt,$t)},this[Symbol.iterator]=function(){return this}}function Ts(Lt){function $t(Rn){return Lt.next(Rn)}function hn(Rn){return Lt.throw(Rn)}return new nt(function(Rn,Yn){function It(Wt){Wt.done?Rn(Wt.value):nt.resolve(Wt.value).then($t,hn).then(It,Yn)}It(Lt.next())})}function ho(Lt){return Ts(new rp(new du(Lt)))}In("Promise",function(Lt){function $t(Wt){this.h=0,this.i=void 0,this.g=[],this.s=!1;var Yt=this.j();try{Wt(Yt.resolve,Yt.reject)}catch(bt){Yt.reject(bt)}}function hn(){this.g=null}function Rn(Wt){return Wt instanceof $t?Wt:new $t(function(Yt){Yt(Wt)})}if(Lt)return Lt;hn.prototype.h=function(Wt){if(this.g==null){this.g=[];var Yt=this;this.i(function(){Yt.l()})}this.g.push(Wt)};var Yn=Qt.setTimeout;hn.prototype.i=function(Wt){Yn(Wt,0)},hn.prototype.l=function(){for(;this.g&&this.g.length;){var Wt=this.g;this.g=[];for(var Yt=0;Yt<Wt.length;++Yt){var bt=Wt[Yt];Wt[Yt]=null;try{bt()}catch(Mt){this.j(Mt)}}}this.g=null},hn.prototype.j=function(Wt){this.i(function(){throw Wt})},$t.prototype.j=function(){function Wt(Mt){return function(Dt){bt||(bt=!0,Mt.call(Yt,Dt))}}var Yt=this,bt=!1;return{resolve:Wt(this.D),reject:Wt(this.l)}},$t.prototype.D=function(Wt){if(Wt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Wt instanceof $t)this.H(Wt);else{e:switch(typeof Wt){case"object":var Yt=Wt!=null;break e;case"function":Yt=!0;break e;default:Yt=!1}Yt?this.A(Wt):this.o(Wt)}},$t.prototype.A=function(Wt){var Yt=void 0;try{Yt=Wt.then}catch(bt){this.l(bt);return}typeof Yt=="function"?this.I(Yt,Wt):this.o(Wt)},$t.prototype.l=function(Wt){this.u(2,Wt)},$t.prototype.o=function(Wt){this.u(1,Wt)},$t.prototype.u=function(Wt,Yt){if(this.h!=0)throw Error("Cannot settle("+Wt+", "+Yt+"): Promise already settled in state"+this.h);this.h=Wt,this.i=Yt,this.h===2&&this.G(),this.B()},$t.prototype.G=function(){var Wt=this;Yn(function(){if(Wt.C()){var Yt=Qt.console;typeof Yt<"u"&&Yt.error(Wt.i)}},1)},$t.prototype.C=function(){if(this.s)return!1;var Wt=Qt.CustomEvent,Yt=Qt.Event,bt=Qt.dispatchEvent;return typeof bt>"u"?!0:(typeof Wt=="function"?Wt=new Wt("unhandledrejection",{cancelable:!0}):typeof Yt=="function"?Wt=new Yt("unhandledrejection",{cancelable:!0}):(Wt=Qt.document.createEvent("CustomEvent"),Wt.initCustomEvent("unhandledrejection",!1,!0,Wt)),Wt.promise=this,Wt.reason=this.i,bt(Wt))},$t.prototype.B=function(){if(this.g!=null){for(var Wt=0;Wt<this.g.length;++Wt)It.h(this.g[Wt]);this.g=null}};var It=new hn;return $t.prototype.H=function(Wt){var Yt=this.j();Wt.M(Yt.resolve,Yt.reject)},$t.prototype.I=function(Wt,Yt){var bt=this.j();try{Wt.call(Yt,bt.resolve,bt.reject)}catch(Mt){bt.reject(Mt)}},$t.prototype.then=function(Wt,Yt){function bt(At,Gt){return typeof At=="function"?function(Xt){try{Mt(At(Xt))}catch(yn){Dt(yn)}}:Gt}var Mt,Dt,gt=new $t(function(At,Gt){Mt=At,Dt=Gt});return this.M(bt(Wt,Mt),bt(Yt,Dt)),gt},$t.prototype.catch=function(Wt){return this.then(void 0,Wt)},$t.prototype.M=function(Wt,Yt){function bt(){switch(Mt.h){case 1:Wt(Mt.i);break;case 2:Yt(Mt.i);break;default:throw Error("Unexpected state: "+Mt.h)}}var Mt=this;this.g==null?It.h(bt):this.g.push(bt),this.s=!0},$t.resolve=Rn,$t.reject=function(Wt){return new $t(function(Yt,bt){bt(Wt)})},$t.race=function(Wt){return new $t(function(Yt,bt){for(var Mt=Nn(Wt),Dt=Mt.next();!Dt.done;Dt=Mt.next())Rn(Dt.value).M(Yt,bt)})},$t.all=function(Wt){var Yt=Nn(Wt),bt=Yt.next();return bt.done?Rn([]):new $t(function(Mt,Dt){function gt(Xt){return function(yn){At[Xt]=yn,Gt--,Gt==0&&Mt(At)}}var At=[],Gt=0;do At.push(void 0),Gt++,Rn(bt.value).M(gt(At.length-1),Dt),bt=Yt.next();while(!bt.done)})},$t});function xu(Lt,$t){Lt instanceof String&&(Lt+="");var hn=0,Rn=!1,Yn={next:function(){if(!Rn&&hn<Lt.length){var It=hn++;return{value:$t(It,Lt[It]),done:!1}}return Rn=!0,{done:!0,value:void 0}}};return Yn[Symbol.iterator]=function(){return Yn},Yn}var Ep=typeof Object.assign=="function"?Object.assign:function(Lt,$t){for(var hn=1;hn<arguments.length;hn++){var Rn=arguments[hn];if(Rn)for(var Yn in Rn)Object.prototype.hasOwnProperty.call(Rn,Yn)&&(Lt[Yn]=Rn[Yn])}return Lt};In("Object.assign",function(Lt){return Lt||Ep}),In("Object.is",function(Lt){return Lt||function($t,hn){return $t===hn?$t!==0||1/$t===1/hn:$t!==$t&&hn!==hn}}),In("Array.prototype.includes",function(Lt){return Lt||function($t,hn){var Rn=this;Rn instanceof String&&(Rn=String(Rn));var Yn=Rn.length;for(hn=hn||0,0>hn&&(hn=Math.max(hn+Yn,0));hn<Yn;hn++){var It=Rn[hn];if(It===$t||Object.is(It,$t))return!0}return!1}}),In("String.prototype.includes",function(Lt){return Lt||function($t,hn){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if($t instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf($t,hn||0)!==-1}}),In("Array.prototype.keys",function(Lt){return Lt||function(){return xu(this,function($t){return $t})}});var $a=this||self;function Bo(Lt,$t){Lt=Lt.split(".");var hn=$a;Lt[0]in hn||typeof hn.execScript>"u"||hn.execScript("var "+Lt[0]);for(var Rn;Lt.length&&(Rn=Lt.shift());)Lt.length||$t===void 0?hn[Rn]&&hn[Rn]!==Object.prototype[Rn]?hn=hn[Rn]:hn=hn[Rn]={}:hn[Rn]=$t}function Tl(){throw Error("Invalid UTF8")}function fu(Lt,$t){return $t=String.fromCharCode.apply(null,$t),Lt==null?$t:Lt+$t}var Nu,_u=typeof TextDecoder<"u",Gu,ip=typeof TextEncoder<"u",bu={},Ru=null;function lp(Lt){var $t;$t===void 0&&($t=0),Yl(),$t=bu[$t];for(var hn=Array(Math.floor(Lt.length/3)),Rn=$t[64]||"",Yn=0,It=0;Yn<Lt.length-2;Yn+=3){var Wt=Lt[Yn],Yt=Lt[Yn+1],bt=Lt[Yn+2],Mt=$t[Wt>>2];Wt=$t[(Wt&3)<<4|Yt>>4],Yt=$t[(Yt&15)<<2|bt>>6],bt=$t[bt&63],hn[It++]=Mt+Wt+Yt+bt}switch(Mt=0,bt=Rn,Lt.length-Yn){case 2:Mt=Lt[Yn+1],bt=$t[(Mt&15)<<2]||Rn;case 1:Lt=Lt[Yn],hn[It]=$t[Lt>>2]+$t[(Lt&3)<<4|Mt>>4]+bt+Rn}return hn.join("")}function qu(Lt){var $t=Lt.length,hn=3*$t/4;hn%3?hn=Math.floor(hn):"=.".indexOf(Lt[$t-1])!=-1&&(hn="=.".indexOf(Lt[$t-2])!=-1?hn-2:hn-1);var Rn=new Uint8Array(hn),Yn=0;return Kl(Lt,function(It){Rn[Yn++]=It}),Yn!==hn?Rn.subarray(0,Yn):Rn}function Kl(Lt,$t){function hn(bt){for(;Rn<Lt.length;){var Mt=Lt.charAt(Rn++),Dt=Ru[Mt];if(Dt!=null)return Dt;if(!/^[\s\xa0]*$/.test(Mt))throw Error("Unknown base64 encoding at char: "+Mt)}return bt}Yl();for(var Rn=0;;){var Yn=hn(-1),It=hn(0),Wt=hn(64),Yt=hn(64);if(Yt===64&&Yn===-1)break;$t(Yn<<2|It>>4),Wt!=64&&($t(It<<4&240|Wt>>2),Yt!=64&&$t(Wt<<6&192|Yt))}}function Yl(){if(!Ru){Ru={};for(var Lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),$t=["+/=","+/","-_=","-_.","-_"],hn=0;5>hn;hn++){var Rn=Lt.concat($t[hn].split(""));bu[hn]=Rn;for(var Yn=0;Yn<Rn.length;Yn++){var It=Rn[Yn];Ru[It]===void 0&&(Ru[It]=Yn)}}}}var Wu=typeof Uint8Array=="function";function Pu(Lt){return Wu&&Lt!=null&&Lt instanceof Uint8Array}var Fs;function Cl(Lt){if(this.L=Lt,Lt!==null&&Lt.length===0)throw Error("ByteString should be constructed with non-empty values")}var Jl=typeof Uint8Array.prototype.slice=="function",xs=0,ga=0;function pu(Lt,$t){if(Lt.constructor===Uint8Array)return Lt;if(Lt.constructor===ArrayBuffer)return new Uint8Array(Lt);if(Lt.constructor===Array)return new Uint8Array(Lt);if(Lt.constructor===String)return qu(Lt);if(Lt.constructor===Cl)return!$t&&($t=Lt.L)&&$t.constructor===Uint8Array?$t:($t=Lt.L,$t=$t==null||Pu($t)?$t:typeof $t=="string"?qu($t):null,(Lt=Lt.L=$t)?new Uint8Array(Lt):Fs||(Fs=new Uint8Array(0)));if(Lt instanceof Uint8Array)return new Uint8Array(Lt.buffer,Lt.byteOffset,Lt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Xl(Lt,$t){return Error("Invalid wire type: "+Lt+" (at position "+$t+")")}function gs(){return Error("Failed to read varint, encoding is invalid.")}function $s(Lt,$t){$t=$t===void 0?{}:$t,$t=$t.v===void 0?!1:$t.v,this.h=null,this.g=this.i=this.j=0,this.v=$t,Lt&&Ll(this,Lt)}function Ll(Lt,$t){Lt.h=pu($t,Lt.v),Lt.j=0,Lt.i=Lt.h.length,Lt.g=Lt.j}$s.prototype.reset=function(){this.g=this.j};function ns(Lt){if(Lt.g>Lt.i)throw Error("Tried to read past the end of the data "+Lt.g+" > "+Lt.i)}function yl(Lt){var $t=Lt.h,hn=$t[Lt.g],Rn=hn&127;if(128>hn)return Lt.g+=1,ns(Lt),Rn;if(hn=$t[Lt.g+1],Rn|=(hn&127)<<7,128>hn)return Lt.g+=2,ns(Lt),Rn;if(hn=$t[Lt.g+2],Rn|=(hn&127)<<14,128>hn)return Lt.g+=3,ns(Lt),Rn;if(hn=$t[Lt.g+3],Rn|=(hn&127)<<21,128>hn)return Lt.g+=4,ns(Lt),Rn;if(hn=$t[Lt.g+4],Lt.g+=5,Rn|=(hn&15)<<28,128>hn)return ns(Lt),Rn;if(128<=$t[Lt.g++]&&128<=$t[Lt.g++]&&128<=$t[Lt.g++]&&128<=$t[Lt.g++]&&128<=$t[Lt.g++])throw gs();return ns(Lt),Rn}var ds=[];function Bs(){this.g=[]}Bs.prototype.length=function(){return this.g.length},Bs.prototype.end=function(){var Lt=this.g;return this.g=[],Lt};function xl(Lt,$t){for(;127<$t;)Lt.g.push($t&127|128),$t>>>=7;Lt.g.push($t)}function nu(Lt){var $t={},hn=$t.W===void 0?!1:$t.W;this.l={v:$t.v===void 0?!1:$t.v},this.W=hn,$t=this.l,ds.length?(hn=ds.pop(),$t&&(hn.v=$t.v),Lt&&Ll(hn,Lt),Lt=hn):Lt=new $s(Lt,$t),this.g=Lt,this.j=this.g.g,this.h=this.i=-1}nu.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function Qs(Lt){var $t=Lt.g;if($t.g==$t.i)return!1;Lt.j=Lt.g.g;var hn=yl(Lt.g)>>>0;if($t=hn>>>3,hn&=7,!(0<=hn&&5>=hn))throw Xl(hn,Lt.j);if(1>$t)throw Error("Invalid field number: "+$t+" (at position "+Lt.j+")");return Lt.i=$t,Lt.h=hn,!0}function fs(Lt){switch(Lt.h){case 0:if(Lt.h!=0)fs(Lt);else e:{Lt=Lt.g;for(var $t=Lt.g,hn=$t+10;$t<hn;)if(!(Lt.h[$t++]&128)){Lt.g=$t,ns(Lt);break e}throw gs()}break;case 1:Lt=Lt.g,Lt.g+=8,ns(Lt);break;case 2:Lt.h!=2?fs(Lt):($t=yl(Lt.g)>>>0,Lt=Lt.g,Lt.g+=$t,ns(Lt));break;case 5:Lt=Lt.g,Lt.g+=4,ns(Lt);break;case 3:$t=Lt.i;do{if(!Qs(Lt))throw Error("Unmatched start-group tag: stream EOF");if(Lt.h==4){if(Lt.i!=$t)throw Error("Unmatched end-group tag");break}fs(Lt)}while(1);break;default:throw Xl(Lt.h,Lt.j)}}var $l=[];function Ql(){this.i=[],this.h=0,this.g=new Bs}function Sl(Lt,$t){$t.length!==0&&(Lt.i.push($t),Lt.h+=$t.length)}function Vu(Lt,$t){if($t=$t.ca){Sl(Lt,Lt.g.end());for(var hn=0;hn<$t.length;hn++)Sl(Lt,$t[hn])}}var hu=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function _l(Lt,$t){Object.isFrozen(Lt)||(hu?Lt[hu]|=$t:Lt.N!==void 0?Lt.N|=$t:Object.defineProperties(Lt,{N:{value:$t,configurable:!0,writable:!0,enumerable:!1}}))}function mu(Lt){var $t;return hu?$t=Lt[hu]:$t=Lt.N,$t??0}function zs(Lt){return _l(Lt,1),Lt}function Rl(Lt){return Array.isArray(Lt)?!!(mu(Lt)&2):!1}function Ks(Lt){if(!Array.isArray(Lt))throw Error("cannot mark non-array as immutable");_l(Lt,2)}function Rs(Lt){return Lt!==null&&typeof Lt=="object"&&!Array.isArray(Lt)&&Lt.constructor===Object}var eu=Object.freeze(zs([]));function Ss(Lt){if(Rl(Lt.m))throw Error("Cannot mutate an immutable Message")}var ps=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function Su(Lt){return{value:Lt,configurable:!1,writable:!1,enumerable:!1}}function Ds(Lt,$t,hn){return $t===-1?null:$t>=Lt.i?Lt.g?Lt.g[$t]:void 0:hn!==void 0&&hn&&Lt.g&&(hn=Lt.g[$t],hn!=null)?hn:Lt.m[$t+Lt.h]}function Xo(Lt,$t,hn,Rn){Rn=Rn===void 0?!1:Rn,Ss(Lt),$t<Lt.i&&!Rn?Lt.m[$t+Lt.h]=hn:(Lt.g||(Lt.g=Lt.m[Lt.i+Lt.h]={}))[$t]=hn}function Io(Lt,$t,hn,Rn){hn=hn===void 0?!0:hn,Rn=Rn===void 0?!1:Rn;var Yn=Ds(Lt,$t,Rn);return Yn==null&&(Yn=eu),Rl(Lt.m)?hn&&(Ks(Yn),Object.freeze(Yn)):(Yn===eu||Rl(Yn))&&(Yn=zs(Yn.slice()),Xo(Lt,$t,Yn,Rn)),Yn}function Is(Lt,$t,hn){return Lt=Ds(Lt,$t),Lt=Lt==null?Lt:+Lt,Lt??(hn===void 0?0:hn)}function Il(Lt,$t,hn,Rn){Lt.j||(Lt.j={});var Yn=Rl(Lt.m),It=Lt.j[hn];if(!It){Rn=Io(Lt,hn,!0,Rn===void 0?!1:Rn),It=[],Yn=Yn||Rl(Rn);for(var Wt=0;Wt<Rn.length;Wt++)It[Wt]=new $t(Rn[Wt]),Yn&&Ks(It[Wt].m);Yn&&(Ks(It),Object.freeze(It)),Lt.j[hn]=It}return It}function Es(Lt,$t,hn,Rn,Yn){var It=It===void 0?!1:It;return Ss(Lt),It=Il(Lt,hn,$t,It),hn=Rn||new hn,Lt=Io(Lt,$t),Yn!=null?(It.splice(Yn,0,hn),Lt.splice(Yn,0,hn.m)):(It.push(hn),Lt.push(hn.m)),hn}function ws(Lt,$t){return Lt=Ds(Lt,$t),Lt??0}function Vr(Lt,$t){return Lt=Ds(Lt,$t),Lt??""}function jr(Lt){switch(typeof Lt){case"number":return isFinite(Lt)?Lt:String(Lt);case"object":if(Lt&&!Array.isArray(Lt)){if(Pu(Lt))return lp(Lt);if(Lt instanceof Cl){var $t=Lt.L;return $t=$t==null||typeof $t=="string"?$t:Wu&&$t instanceof Uint8Array?lp($t):null,(Lt.L=$t)||""}}}return Lt}function _r(Lt){var $t=Ls;return $t=$t===void 0?No:$t,Ps(Lt,$t)}function hs(Lt,$t){if(Lt!=null){if(Array.isArray(Lt))Lt=Ps(Lt,$t);else if(Rs(Lt)){var hn={},Rn;for(Rn in Lt)hn[Rn]=hs(Lt[Rn],$t);Lt=hn}else Lt=$t(Lt);return Lt}}function Ps(Lt,$t){for(var hn=Lt.slice(),Rn=0;Rn<hn.length;Rn++)hn[Rn]=hs(hn[Rn],$t);return Array.isArray(Lt)&&mu(Lt)&1&&zs(hn),hn}function Ls(Lt){return Lt&&typeof Lt=="object"&&Lt.toJSON?Lt.toJSON():(Lt=jr(Lt),Array.isArray(Lt)?_r(Lt):Lt)}function No(Lt){return Pu(Lt)?new Uint8Array(Lt):Lt}function js(Lt,$t,hn){Lt||(Lt=Nl),Nl=null;var Rn=this.constructor.h;Lt||(Lt=Rn?[Rn]:[]),this.h=(Rn?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=Lt;e:{if(Rn=this.m.length,Lt=Rn-1,Rn&&(Rn=this.m[Lt],Rs(Rn))){this.i=Lt-this.h,this.g=Rn;break e}$t!==void 0&&-1<$t?(this.i=Math.max($t,Lt+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(hn)for($t=0;$t<hn.length;$t++)if(Lt=hn[$t],Lt<this.i)Lt+=this.h,(Rn=this.m[Lt])?Array.isArray(Rn)&&zs(Rn):this.m[Lt]=eu;else{Rn=this.g||(this.g=this.m[this.i+this.h]={});var Yn=Rn[Lt];Yn?Array.isArray(Yn)&&zs(Yn):Rn[Lt]=eu}}js.prototype.toJSON=function(){return _r(this.m)},js.prototype.toString=function(){return this.m.toString()};var Nl;function ru(){js.apply(this,arguments)}if(uo(ru,js),ps){var iu={};Object.defineProperties(ru,(iu[Symbol.hasInstance]=Su(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),iu))}function Eu(Lt,$t,hn){if(hn){var Rn={},Yn;for(Yn in hn){var It=hn[Yn],Wt=It.ja;Wt||(Rn.F=It.pa||It.ha.P,It.ba?(Rn.U=Fu(It.ba),Wt=function(Yt){return function(bt,Mt,Dt){return Yt.F(bt,Mt,Dt,Yt.U)}}(Rn)):It.da?(Rn.T=Ul(It.X.g,It.da),Wt=function(Yt){return function(bt,Mt,Dt){return Yt.F(bt,Mt,Dt,Yt.T)}}(Rn)):Wt=Rn.F,It.ja=Wt),Wt($t,Lt,It.X),Rn={F:Rn.F,U:Rn.U,T:Rn.T}}}Vu($t,Lt)}var Iu=Symbol();function Ol(Lt,$t,hn){return Lt[Iu]||(Lt[Iu]=function(Rn,Yn){return $t(Rn,Yn,hn)})}function ou(Lt){var $t=Lt[Iu];if(!$t){var hn=jt(Lt);$t=function(Rn,Yn){return ln(Rn,Yn,hn)},Lt[Iu]=$t}return $t}function Cp(Lt){var $t=Lt.ba;if($t)return ou($t);if($t=Lt.oa)return Ol(Lt.X.g,$t,Lt.da)}function su(Lt){var $t=Cp(Lt),hn=Lt.X,Rn=Lt.ha.O;return $t?function(Yn,It){return Rn(Yn,It,hn,$t)}:function(Yn,It){return Rn(Yn,It,hn)}}function Pl(Lt,$t,hn,Rn,Yn,It){Lt=Lt();var Wt=0;for(Lt.length&&typeof Lt[0]!="number"&&(hn($t,Lt[0]),Wt++);Wt<Lt.length;){hn=Lt[Wt++];for(var Yt=Wt+1;Yt<Lt.length&&typeof Lt[Yt]!="number";)Yt++;var bt=Lt[Wt++];switch(Yt-=Wt,Yt){case 0:Rn($t,hn,bt);break;case 1:Rn($t,hn,bt,Lt[Wt++]);break;case 2:Yn($t,hn,bt,Lt[Wt++],Lt[Wt++]);break;case 3:Yt=Lt[Wt++];var Mt=Lt[Wt++],Dt=Lt[Wt++];Array.isArray(Dt)?Yn($t,hn,bt,Yt,Mt,Dt):It($t,hn,bt,Yt,Mt,Dt);break;case 4:It($t,hn,bt,Lt[Wt++],Lt[Wt++],Lt[Wt++],Lt[Wt++]);break;default:throw Error("unexpected number of binary field arguments: "+Yt)}}return $t}var Lu=Symbol();function Fu(Lt){var $t=Lt[Lu];if(!$t){var hn=gu(Lt);$t=function(Rn,Yn){return Kn(Rn,Yn,hn)},Lt[Lu]=$t}return $t}function Ul(Lt,$t){var hn=Lt[Lu];return hn||(hn=function(Rn,Yn){return Eu(Rn,Yn,$t)},Lt[Lu]=hn),hn}var up=Symbol();function au(Lt,$t){Lt.push($t)}function ku(Lt,$t,hn){Lt.push($t,hn.P)}function Uu(Lt,$t,hn,Rn,Yn){var It=Fu(Yn),Wt=hn.P;Lt.push($t,function(Yt,bt,Mt){return Wt(Yt,bt,Mt,Rn,It)})}function yp(Lt,$t,hn,Rn,Yn,It){var Wt=Ul(Rn,It),Yt=hn.P;Lt.push($t,function(bt,Mt,Dt){return Yt(bt,Mt,Dt,Rn,Wt)})}function gu(Lt){var $t=Lt[up];return $t||Pl(Lt,Lt[up]=[],au,ku,Uu,yp)}var Bu=Symbol();function Vp(Lt,$t){Lt[0]=$t}function Mp(Lt,$t,hn,Rn){var Yn=hn.O;Lt[$t]=Rn?function(It,Wt,Yt){return Yn(It,Wt,Yt,Rn)}:Yn}function Hu(Lt,$t,hn,Rn,Yn,It){var Wt=hn.O,Yt=ou(Yn);Lt[$t]=function(bt,Mt,Dt){return Wt(bt,Mt,Dt,Rn,Yt,It)}}function _d(Lt,$t,hn,Rn,Yn,It,Wt){var Yt=hn.O,bt=Ol(Rn,Yn,It);Lt[$t]=function(Mt,Dt,gt){return Yt(Mt,Dt,gt,Rn,bt,Wt)}}function jt(Lt){var $t=Lt[Bu];return $t||Pl(Lt,Lt[Bu]={},Vp,Mp,Hu,_d)}function ln(Lt,$t,hn){for(;Qs($t)&&$t.h!=4;){var Rn=$t.i,Yn=hn[Rn];if(!Yn){var It=hn[0];It&&(It=It[Rn])&&(Yn=hn[Rn]=su(It))}if((!Yn||!Yn($t,Lt,Rn))&&(Yn=$t,Rn=Lt,It=Yn.j,fs(Yn),!Yn.W)){var Wt=Yn.g.h;Yn=Yn.g.g,Yn=It===Yn?Fs||(Fs=new Uint8Array(0)):Jl?Wt.slice(It,Yn):new Uint8Array(Wt.subarray(It,Yn)),(It=Rn.ca)?It.push(Yn):Rn.ca=[Yn]}}return Lt}function dn(Lt,$t,hn){if($l.length){var Rn=$l.pop();Lt&&(Ll(Rn.g,Lt),Rn.i=-1,Rn.h=-1),Lt=Rn}else Lt=new nu(Lt);try{return ln(new $t,Lt,jt(hn))}finally{$t=Lt.g,$t.h=null,$t.j=0,$t.i=0,$t.g=0,$t.v=!1,Lt.i=-1,Lt.h=-1,100>$l.length&&$l.push(Lt)}}function Kn(Lt,$t,hn){for(var Rn=hn.length,Yn=Rn%2==1,It=Yn?1:0;It<Rn;It+=2)(0,hn[It+1])($t,Lt,hn[It]);Eu(Lt,$t,Yn?hn[0]:void 0)}function gr(Lt,$t){var hn=new Ql;Kn(Lt,hn,gu($t)),Sl(hn,hn.g.end()),Lt=new Uint8Array(hn.h),$t=hn.i;for(var Rn=$t.length,Yn=0,It=0;It<Rn;It++){var Wt=$t[It];Lt.set(Wt,Yn),Yn+=Wt.length}return hn.i=[Lt],Lt}function Hr(Lt,$t){return{O:Lt,P:$t}}var hr=Hr(function(Lt,$t,hn){if(Lt.h!==5)return!1;Lt=Lt.g;var Rn=Lt.h[Lt.g],Yn=Lt.h[Lt.g+1],It=Lt.h[Lt.g+2],Wt=Lt.h[Lt.g+3];return Lt.g+=4,ns(Lt),Yn=(Rn<<0|Yn<<8|It<<16|Wt<<24)>>>0,Lt=2*(Yn>>31)+1,Rn=Yn>>>23&255,Yn&=8388607,Xo($t,hn,Rn==255?Yn?NaN:1/0*Lt:Rn==0?Lt*Math.pow(2,-149)*Yn:Lt*Math.pow(2,Rn-150)*(Yn+Math.pow(2,23))),!0},function(Lt,$t,hn){if($t=Ds($t,hn),$t!=null){xl(Lt.g,8*hn+5),Lt=Lt.g;var Rn=$t;Rn=(hn=0>Rn?1:0)?-Rn:Rn,Rn===0?0<1/Rn?xs=ga=0:(ga=0,xs=2147483648):isNaN(Rn)?(ga=0,xs=2147483647):34028234663852886e22<Rn?(ga=0,xs=(hn<<31|2139095040)>>>0):11754943508222875e-54>Rn?(Rn=Math.round(Rn/Math.pow(2,-149)),ga=0,xs=(hn<<31|Rn)>>>0):($t=Math.floor(Math.log(Rn)/Math.LN2),Rn*=Math.pow(2,-$t),Rn=Math.round(8388608*Rn),16777216<=Rn&&++$t,ga=0,xs=(hn<<31|$t+127<<23|Rn&8388607)>>>0),hn=xs,Lt.g.push(hn>>>0&255),Lt.g.push(hn>>>8&255),Lt.g.push(hn>>>16&255),Lt.g.push(hn>>>24&255)}}),Fr=Hr(function(Lt,$t,hn){if(Lt.h!==0)return!1;for(var Rn=Lt.g,Yn=128,It=0,Wt=Lt=0;4>Wt&&128<=Yn;Wt++)Yn=Rn.h[Rn.g++],ns(Rn),It|=(Yn&127)<<7*Wt;if(128<=Yn&&(Yn=Rn.h[Rn.g++],ns(Rn),It|=(Yn&127)<<28,Lt|=(Yn&127)>>4),128<=Yn)for(Wt=0;5>Wt&&128<=Yn;Wt++)Yn=Rn.h[Rn.g++],ns(Rn),Lt|=(Yn&127)<<7*Wt+3;if(128>Yn)Rn=It>>>0,Yn=Lt>>>0,(Lt=Yn&2147483648)&&(Rn=~Rn+1>>>0,Yn=~Yn>>>0,Rn==0&&(Yn=Yn+1>>>0)),Rn=4294967296*Yn+(Rn>>>0);else throw gs();return Xo($t,hn,Lt?-Rn:Rn),!0},function(Lt,$t,hn){if($t=Ds($t,hn),$t!=null&&$t!=null){xl(Lt.g,8*hn),Lt=Lt.g;var Rn=$t;for(hn=0>Rn,Rn=Math.abs(Rn),$t=Rn>>>0,Rn=Math.floor((Rn-$t)/4294967296),Rn>>>=0,hn&&(Rn=~Rn>>>0,$t=(~$t>>>0)+1,4294967295<$t&&($t=0,Rn++,4294967295<Rn&&(Rn=0))),xs=$t,ga=Rn,hn=xs,$t=ga;0<$t||127<hn;)Lt.g.push(hn&127|128),hn=(hn>>>7|$t<<25)>>>0,$t>>>=7;Lt.g.push(hn)}}),lo=Hr(function(Lt,$t,hn){return Lt.h!==0?!1:(Xo($t,hn,yl(Lt.g)),!0)},function(Lt,$t,hn){if($t=Ds($t,hn),$t!=null&&$t!=null)if(xl(Lt.g,8*hn),Lt=Lt.g,hn=$t,0<=hn)xl(Lt,hn);else{for($t=0;9>$t;$t++)Lt.g.push(hn&127|128),hn>>=7;Lt.g.push(1)}}),Ao=Hr(function(Lt,$t,hn){if(Lt.h!==2)return!1;var Rn=yl(Lt.g)>>>0;Lt=Lt.g;var Yn=Lt.g;Lt.g+=Rn,ns(Lt),Lt=Lt.h;var It;if(_u)(It=Nu)||(It=Nu=new TextDecoder("utf-8",{fatal:!0})),It=It.decode(Lt.subarray(Yn,Yn+Rn));else{Rn=Yn+Rn;for(var Wt=[],Yt=null,bt,Mt,Dt;Yn<Rn;)bt=Lt[Yn++],128>bt?Wt.push(bt):224>bt?Yn>=Rn?Tl():(Mt=Lt[Yn++],194>bt||(Mt&192)!==128?(Yn--,Tl()):Wt.push((bt&31)<<6|Mt&63)):240>bt?Yn>=Rn-1?Tl():(Mt=Lt[Yn++],(Mt&192)!==128||bt===224&&160>Mt||bt===237&&160<=Mt||((It=Lt[Yn++])&192)!==128?(Yn--,Tl()):Wt.push((bt&15)<<12|(Mt&63)<<6|It&63)):244>=bt?Yn>=Rn-2?Tl():(Mt=Lt[Yn++],(Mt&192)!==128||(bt<<28)+(Mt-144)>>30||((It=Lt[Yn++])&192)!==128||((Dt=Lt[Yn++])&192)!==128?(Yn--,Tl()):(bt=(bt&7)<<18|(Mt&63)<<12|(It&63)<<6|Dt&63,bt-=65536,Wt.push((bt>>10&1023)+55296,(bt&1023)+56320))):Tl(),8192<=Wt.length&&(Yt=fu(Yt,Wt),Wt.length=0);It=fu(Yt,Wt)}return Xo($t,hn,It),!0},function(Lt,$t,hn){if($t=Ds($t,hn),$t!=null){var Rn=!1;if(Rn=Rn===void 0?!1:Rn,ip){if(Rn&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test($t))throw Error("Found an unpaired surrogate");$t=(Gu||(Gu=new TextEncoder)).encode($t)}else{for(var Yn=0,It=new Uint8Array(3*$t.length),Wt=0;Wt<$t.length;Wt++){var Yt=$t.charCodeAt(Wt);if(128>Yt)It[Yn++]=Yt;else{if(2048>Yt)It[Yn++]=Yt>>6|192;else{if(55296<=Yt&&57343>=Yt){if(56319>=Yt&&Wt<$t.length){var bt=$t.charCodeAt(++Wt);if(56320<=bt&&57343>=bt){Yt=1024*(Yt-55296)+bt-56320+65536,It[Yn++]=Yt>>18|240,It[Yn++]=Yt>>12&63|128,It[Yn++]=Yt>>6&63|128,It[Yn++]=Yt&63|128;continue}else Wt--}if(Rn)throw Error("Found an unpaired surrogate");Yt=65533}It[Yn++]=Yt>>12|224,It[Yn++]=Yt>>6&63|128}It[Yn++]=Yt&63|128}}$t=It.subarray(0,Yn)}xl(Lt.g,8*hn+2),xl(Lt.g,$t.length),Sl(Lt,Lt.g.end()),Sl(Lt,$t)}}),_o=Hr(function(Lt,$t,hn,Rn,Yn){if(Lt.h!==2)return!1;$t=Es($t,hn,Rn),hn=Lt.g.i,Rn=yl(Lt.g)>>>0;var It=Lt.g.g+Rn,Wt=It-hn;if(0>=Wt&&(Lt.g.i=It,Yn($t,Lt),Wt=It-Lt.g.g),Wt)throw Error("Message parsing ended unexpectedly. Expected to read "+(Rn+" bytes, instead read "+(Rn-Wt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return Lt.g.g=It,Lt.g.i=hn,!0},function(Lt,$t,hn,Rn,Yn){if($t=Il($t,Rn,hn),$t!=null)for(Rn=0;Rn<$t.length;Rn++){var It=Lt;xl(It.g,8*hn+2);var Wt=It.g.end();Sl(It,Wt),Wt.push(It.h),It=Wt,Yn($t[Rn],Lt),Wt=Lt;var Yt=It.pop();for(Yt=Wt.h+Wt.g.length()-Yt;127<Yt;)It.push(Yt&127|128),Yt>>>=7,Wt.h++;It.push(Yt),Wt.h++}});function Ho(){ru.apply(this,arguments)}if(uo(Ho,ru),ps){var bs={};Object.defineProperties(Ho,(bs[Symbol.hasInstance]=Su(Object[Symbol.hasInstance]),bs))}function $o(Lt){Ho.call(this,Lt)}uo($o,Ho);function Po(){return[1,lo,2,hr,3,Ao,4,Ao]}function Jo(Lt){Ho.call(this,Lt,-1,ks)}uo(Jo,Ho),Jo.prototype.addClassification=function(Lt,$t){return Es(this,1,$o,Lt,$t),this};function vs(){return[1,_o,$o,Po]}var ks=[1];function Xs(Lt){Ho.call(this,Lt)}uo(Xs,Ho);function Hs(){return[1,hr,2,hr,3,hr,4,hr,5,hr]}function Vl(Lt){Ho.call(this,Lt,-1,Ht)}uo(Vl,Ho);function Ft(){return[1,_o,Xs,Hs]}var Ht=[1];function Kt(Lt){Ho.call(this,Lt)}uo(Kt,Ho);function Zn(){return[1,hr,2,hr,3,hr,4,hr,5,hr,6,Fr]}function nr(Lt,$t,hn){if(hn=Lt.createShader(hn===0?Lt.VERTEX_SHADER:Lt.FRAGMENT_SHADER),Lt.shaderSource(hn,$t),Lt.compileShader(hn),!Lt.getShaderParameter(hn,Lt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+Lt.getShaderInfoLog(hn));return hn}function Tr(Lt){return Il(Lt,$o,1).map(function($t){return{index:ws($t,1),score:Is($t,2),label:Ds($t,3)!=null?Vr($t,3):void 0,displayName:Ds($t,4)!=null?Vr($t,4):void 0}})}function rr(Lt){return{x:Is(Lt,1),y:Is(Lt,2),z:Is(Lt,3),visibility:Ds(Lt,4)!=null?Is(Lt,4):void 0}}function kr(Lt){return Lt.map(function($t){return Il(dn($t,Vl,Ft),Xs,1).map(rr)})}function Jr(Lt,$t){this.h=Lt,this.g=$t,this.l=0}function Ot(Lt,$t,hn){return Jt(Lt,$t),typeof Lt.g.canvas.transferToImageBitmap=="function"?nt.resolve(Lt.g.canvas.transferToImageBitmap()):hn?nt.resolve(Lt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(Lt.g.canvas):(Lt.i===void 0&&(Lt.i=document.createElement("canvas")),new nt(function(Rn){Lt.i.height=Lt.g.canvas.height,Lt.i.width=Lt.g.canvas.width,Lt.i.getContext("2d",{}).drawImage(Lt.g.canvas,0,0,Lt.g.canvas.width,Lt.g.canvas.height),Rn(Lt.i)}))}function Jt(Lt,$t){var hn=Lt.g;if(Lt.o===void 0){var Rn=nr(hn,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Yn=nr(hn,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),It=hn.createProgram();if(hn.attachShader(It,Rn),hn.attachShader(It,Yn),hn.linkProgram(It),!hn.getProgramParameter(It,hn.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+hn.getProgramInfoLog(It));Rn=Lt.o=It,hn.useProgram(Rn),Yn=hn.getUniformLocation(Rn,"sampler0"),Lt.j={K:hn.getAttribLocation(Rn,"aVertex"),J:hn.getAttribLocation(Rn,"aTex"),qa:Yn},Lt.u=hn.createBuffer(),hn.bindBuffer(hn.ARRAY_BUFFER,Lt.u),hn.enableVertexAttribArray(Lt.j.K),hn.vertexAttribPointer(Lt.j.K,2,hn.FLOAT,!1,0,0),hn.bufferData(hn.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),hn.STATIC_DRAW),hn.bindBuffer(hn.ARRAY_BUFFER,null),Lt.s=hn.createBuffer(),hn.bindBuffer(hn.ARRAY_BUFFER,Lt.s),hn.enableVertexAttribArray(Lt.j.J),hn.vertexAttribPointer(Lt.j.J,2,hn.FLOAT,!1,0,0),hn.bufferData(hn.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),hn.STATIC_DRAW),hn.bindBuffer(hn.ARRAY_BUFFER,null),hn.uniform1i(Yn,0)}Rn=Lt.j,hn.useProgram(Lt.o),hn.canvas.width=$t.width,hn.canvas.height=$t.height,hn.viewport(0,0,$t.width,$t.height),hn.activeTexture(hn.TEXTURE0),Lt.h.bindTexture2d($t.glName),hn.enableVertexAttribArray(Rn.K),hn.bindBuffer(hn.ARRAY_BUFFER,Lt.u),hn.vertexAttribPointer(Rn.K,2,hn.FLOAT,!1,0,0),hn.enableVertexAttribArray(Rn.J),hn.bindBuffer(hn.ARRAY_BUFFER,Lt.s),hn.vertexAttribPointer(Rn.J,2,hn.FLOAT,!1,0,0),hn.bindFramebuffer(hn.DRAW_FRAMEBUFFER?hn.DRAW_FRAMEBUFFER:hn.FRAMEBUFFER,null),hn.clearColor(0,0,0,0),hn.clear(hn.COLOR_BUFFER_BIT),hn.colorMask(!0,!0,!0,!0),hn.drawArrays(hn.TRIANGLE_FAN,0,4),hn.disableVertexAttribArray(Rn.K),hn.disableVertexAttribArray(Rn.J),hn.bindBuffer(hn.ARRAY_BUFFER,null),Lt.h.bindTexture2d(0)}function pn(Lt){this.g=Lt}var An=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Hn(Lt,$t){return $t+Lt}function ar(Lt,$t){window[Lt]=$t}function qn(Lt){var $t=document.createElement("script");return $t.setAttribute("src",Lt),$t.setAttribute("crossorigin","anonymous"),new nt(function(hn){$t.addEventListener("load",function(){hn()},!1),$t.addEventListener("error",function(){hn()},!1),document.body.appendChild($t)})}function Zr(){return ho(function(Lt){switch(Lt.g){case 1:return Lt.o=2,Cr(Lt,WebAssembly.instantiate(An),4);case 4:Lt.g=3,Lt.o=0;break;case 2:return Lt.o=0,Lt.j=null,Lt.return(!1);case 3:return Lt.return(!0)}})}function Ar(Lt){if(this.g=Lt,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.$=!0,this.D=nt.resolve(),this.Z="",this.C={},this.locateFile=Lt&&Lt.locateFile||Hn,typeof window=="object")var $t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")$t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.aa=$t,Lt.options){$t=Nn(Object.keys(Lt.options));for(var hn=$t.next();!hn.done;hn=$t.next()){hn=hn.value;var Rn=Lt.options[hn].default;Rn!==void 0&&(this.j[hn]=typeof Rn=="function"?Rn():Rn)}}}xt=Ar.prototype,xt.close=function(){return this.i&&this.i.delete(),nt.resolve()};function fo(Lt){var $t,hn,Rn,Yn,It,Wt,Yt,bt,Mt,Dt,gt;return ho(function(At){switch(At.g){case 1:return Lt.$?($t=Lt.g.files===void 0?[]:typeof Lt.g.files=="function"?Lt.g.files(Lt.j):Lt.g.files,Cr(At,Zr(),2)):At.return();case 2:if(hn=At.h,typeof window=="object")return ar("createMediapipeSolutionsWasm",{locateFile:Lt.locateFile}),ar("createMediapipeSolutionsPackedAssets",{locateFile:Lt.locateFile}),Wt=$t.filter(function(Gt){return Gt.data!==void 0}),Yt=$t.filter(function(Gt){return Gt.data===void 0}),bt=nt.all(Wt.map(function(Gt){var Xt=Lo(Lt,Gt.url);if(Gt.path!==void 0){var yn=Gt.path;Xt=Xt.then(function(kn){return Lt.overrideFile(yn,kn),nt.resolve(kn)})}return Xt})),Mt=nt.all(Yt.map(function(Gt){return Gt.simd===void 0||Gt.simd&&hn||!Gt.simd&&!hn?qn(Lt.locateFile(Gt.url,Lt.aa)):nt.resolve()})).then(function(){var Gt,Xt,yn;return ho(function(kn){if(kn.g==1)return Gt=window.createMediapipeSolutionsWasm,Xt=window.createMediapipeSolutionsPackedAssets,yn=Lt,Cr(kn,Gt(Xt),2);yn.h=kn.h,kn.g=0})}),Dt=function(){return ho(function(Gt){return Lt.g.graph&&Lt.g.graph.url?Gt=Cr(Gt,Lo(Lt,Lt.g.graph.url),0):(Gt.g=0,Gt=void 0),Gt})}(),Cr(At,nt.all([Mt,bt,Dt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return Rn=$t.filter(function(Gt){return Gt.simd===void 0||Gt.simd&&hn||!Gt.simd&&!hn}).map(function(Gt){return Lt.locateFile(Gt.url,Lt.aa)}),importScripts.apply(null,or(Rn)),Yn=Lt,Cr(At,createMediapipeSolutionsWasm(Module),6);case 6:Yn.h=At.h,Lt.l=new OffscreenCanvas(1,1),Lt.h.canvas=Lt.l,It=Lt.h.GL.createContext(Lt.l,{antialias:!1,alpha:!1,na:typeof WebGL2RenderingContext<"u"?2:1}),Lt.h.GL.makeContextCurrent(It),At.g=4;break;case 7:if(Lt.l=document.createElement("canvas"),gt=Lt.l.getContext("webgl2",{}),!gt&&(gt=Lt.l.getContext("webgl",{}),!gt))return alert("Failed to create WebGL canvas context when passing video frame."),At.return();Lt.G=gt,Lt.h.canvas=Lt.l,Lt.h.createContext(Lt.l,!0,!0,{});case 4:Lt.i=new Lt.h.SolutionWasm,Lt.$=!1,At.g=0}})}function So(Lt){var $t,hn,Rn,Yn,It,Wt,Yt,bt;return ho(function(Mt){if(Mt.g==1){if(Lt.g.graph&&Lt.g.graph.url&&Lt.Z===Lt.g.graph.url)return Mt.return();if(Lt.s=!0,!Lt.g.graph||!Lt.g.graph.url){Mt.g=2;return}return Lt.Z=Lt.g.graph.url,Cr(Mt,Lo(Lt,Lt.g.graph.url),3)}for(Mt.g!=2&&($t=Mt.h,Lt.i.loadGraph($t)),hn=Nn(Object.keys(Lt.C)),Rn=hn.next();!Rn.done;Rn=hn.next())Yn=Rn.value,Lt.i.overrideFile(Yn,Lt.C[Yn]);if(Lt.C={},Lt.g.listeners)for(It=Nn(Lt.g.listeners),Wt=It.next();!Wt.done;Wt=It.next())Yt=Wt.value,ko(Lt,Yt);bt=Lt.j,Lt.j={},Lt.setOptions(bt),Mt.g=0})}xt.reset=function(){var Lt=this;return ho(function($t){Lt.i&&(Lt.i.reset(),Lt.o={},Lt.u={}),$t.g=0})},xt.setOptions=function(Lt,$t){var hn=this;if($t=$t||this.g.options){for(var Rn=[],Yn=[],It={},Wt=Nn(Object.keys(Lt)),Yt=Wt.next();!Yt.done;It={R:It.R,S:It.S},Yt=Wt.next()){var bt=Yt.value;bt in this.j&&this.j[bt]===Lt[bt]||(this.j[bt]=Lt[bt],Yt=$t[bt],Yt!==void 0&&(Yt.onChange&&(It.R=Yt.onChange,It.S=Lt[bt],Rn.push(function(Mt){return function(){var Dt;return ho(function(gt){if(gt.g==1)return Cr(gt,Mt.R(Mt.S),2);Dt=gt.h,Dt===!0&&(hn.s=!0),gt.g=0})}}(It))),Yt.graphOptionXref&&(bt={valueNumber:Yt.type===1?Lt[bt]:0,valueBoolean:Yt.type===0?Lt[bt]:!1,valueString:Yt.type===2?Lt[bt]:""},Yt=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Yt.graphOptionXref),bt),Yn.push(Yt))))}(Rn.length!==0||Yn.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(Yn),this.A=(this.A===void 0?[]:this.A).concat(Rn))}};function qo(Lt){var $t,hn,Rn,Yn,It,Wt,Yt;return ho(function(bt){switch(bt.g){case 1:if(!Lt.s)return bt.return();if(!Lt.A){bt.g=2;break}$t=Nn(Lt.A),hn=$t.next();case 3:if(hn.done){bt.g=5;break}return Rn=hn.value,Cr(bt,Rn(),4);case 4:hn=$t.next(),bt.g=3;break;case 5:Lt.A=void 0;case 2:if(Lt.B){for(Yn=new Lt.h.GraphOptionChangeRequestList,It=Nn(Lt.B),Wt=It.next();!Wt.done;Wt=It.next())Yt=Wt.value,Yn.push_back(Yt);Lt.i.changeOptions(Yn),Yn.delete(),Lt.B=void 0}Lt.s=!1,bt.g=0}})}xt.initialize=function(){var Lt=this;return ho(function($t){return $t.g==1?Cr($t,fo(Lt),2):$t.g!=3?Cr($t,So(Lt),3):Cr($t,qo(Lt),0)})};function Lo(Lt,$t){var hn,Rn;return ho(function(Yn){return $t in Lt.H?Yn.return(Lt.H[$t]):(hn=Lt.locateFile($t,""),Rn=fetch(hn).then(function(It){return It.arrayBuffer()}),Lt.H[$t]=Rn,Yn.return(Rn))})}xt.overrideFile=function(Lt,$t){this.i?this.i.overrideFile(Lt,$t):this.C[Lt]=$t},xt.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},xt.send=function(Lt,$t){var hn=this,Rn,Yn,It,Wt,Yt,bt,Mt,Dt,gt;return ho(function(At){switch(At.g){case 1:return hn.g.inputs?(Rn=1e3*($t??performance.now()),Cr(At,hn.D,2)):At.return();case 2:return Cr(At,hn.initialize(),3);case 3:for(Yn=new hn.h.PacketDataList,It=Nn(Object.keys(Lt)),Wt=It.next();!Wt.done;Wt=It.next())if(Yt=Wt.value,bt=hn.g.inputs[Yt]){e:{var Gt=Lt[Yt];switch(bt.type){case"video":var Xt=hn.o[bt.stream];if(Xt||(Xt=new Jr(hn.h,hn.G),hn.o[bt.stream]=Xt),Xt.l===0&&(Xt.l=Xt.h.createTexture()),typeof HTMLVideoElement<"u"&&Gt instanceof HTMLVideoElement)var yn=Gt.videoWidth,kn=Gt.videoHeight;else typeof HTMLImageElement<"u"&&Gt instanceof HTMLImageElement?(yn=Gt.naturalWidth,kn=Gt.naturalHeight):(yn=Gt.width,kn=Gt.height);kn={glName:Xt.l,width:yn,height:kn},yn=Xt.g,yn.canvas.width=kn.width,yn.canvas.height=kn.height,yn.activeTexture(yn.TEXTURE0),Xt.h.bindTexture2d(Xt.l),yn.texImage2D(yn.TEXTURE_2D,0,yn.RGBA,yn.RGBA,yn.UNSIGNED_BYTE,Gt),Xt.h.bindTexture2d(0),Xt=kn;break e;case"detections":for(Xt=hn.o[bt.stream],Xt||(Xt=new pn(hn.h),hn.o[bt.stream]=Xt),Xt.data||(Xt.data=new Xt.g.DetectionListData),Xt.data.reset(Gt.length),kn=0;kn<Gt.length;++kn){yn=Gt[kn];var Mn=Xt.data,_n=Mn.setBoundingBox,lr=kn,xr=yn.ea,Rr=new Kt;if(Xo(Rr,1,xr.ka),Xo(Rr,2,xr.la),Xo(Rr,3,xr.height),Xo(Rr,4,xr.width),Xo(Rr,5,xr.rotation),Xo(Rr,6,xr.ia),xr=gr(Rr,Zn),_n.call(Mn,lr,xr),yn.Y)for(Mn=0;Mn<yn.Y.length;++Mn){Rr=yn.Y[Mn];var zr=!!Rr.visibility;_n=Xt.data,lr=_n.addNormalizedLandmark,xr=kn,Rr=Object.assign(Object.assign({},Rr),{visibility:zr?Rr.visibility:0}),zr=new Xs,Xo(zr,1,Rr.x),Xo(zr,2,Rr.y),Xo(zr,3,Rr.z),Rr.visibility&&Xo(zr,4,Rr.visibility),Rr=gr(zr,Hs),lr.call(_n,xr,Rr)}if(yn.V)for(Mn=0;Mn<yn.V.length;++Mn)_n=Xt.data,lr=_n.addClassification,xr=kn,Rr=yn.V[Mn],zr=new $o,Xo(zr,2,Rr.score),Rr.index&&Xo(zr,1,Rr.index),Rr.label&&Xo(zr,3,Rr.label),Rr.displayName&&Xo(zr,4,Rr.displayName),Rr=gr(zr,Po),lr.call(_n,xr,Rr)}Xt=Xt.data;break e;default:Xt={}}}switch(Mt=Xt,Dt=bt.stream,bt.type){case"video":Yn.pushTexture2d(Object.assign(Object.assign({},Mt),{stream:Dt,timestamp:Rn}));break;case"detections":gt=Mt,gt.stream=Dt,gt.timestamp=Rn,Yn.pushDetectionList(gt);break;default:throw Error("Unknown input config type: '"+bt.type+"'")}}return hn.i.send(Yn),Cr(At,hn.D,4);case 4:Yn.delete(),At.g=0}})};function ro(Lt,$t,hn){var Rn,Yn,It,Wt,Yt,bt,Mt,Dt,gt,At,Gt,Xt,yn,kn;return ho(function(Mn){switch(Mn.g){case 1:if(!hn)return Mn.return($t);for(Rn={},Yn=0,It=Nn(Object.keys(hn)),Wt=It.next();!Wt.done;Wt=It.next())Yt=Wt.value,bt=hn[Yt],typeof bt!="string"&&bt.type==="texture"&&$t[bt.stream]!==void 0&&++Yn;1<Yn&&(Lt.I=!1),Mt=Nn(Object.keys(hn)),Wt=Mt.next();case 2:if(Wt.done){Mn.g=4;break}if(Dt=Wt.value,gt=hn[Dt],typeof gt=="string")return yn=Rn,kn=Dt,Cr(Mn,Co(Lt,Dt,$t[gt]),14);if(At=$t[gt.stream],gt.type==="detection_list"){if(At){for(var _n=At.getRectList(),lr=At.getLandmarksList(),xr=At.getClassificationsList(),Rr=[],zr=0;zr<_n.size();++zr){var io=dn(_n.get(zr),Kt,Zn);io={ea:{ka:Is(io,1),la:Is(io,2),height:Is(io,3),width:Is(io,4),rotation:Is(io,5,0),ia:ws(io,6)},Y:Il(dn(lr.get(zr),Vl,Ft),Xs,1).map(rr),V:Tr(dn(xr.get(zr),Jo,vs))},Rr.push(io)}_n=Rr}else _n=[];Rn[Dt]=_n,Mn.g=7;break}if(gt.type==="proto_list"){if(At){for(_n=Array(At.size()),lr=0;lr<At.size();lr++)_n[lr]=At.get(lr);At.delete()}else _n=[];Rn[Dt]=_n,Mn.g=7;break}if(At===void 0){Mn.g=3;break}if(gt.type==="float_list"){Rn[Dt]=At,Mn.g=7;break}if(gt.type==="proto"){Rn[Dt]=At,Mn.g=7;break}if(gt.type!=="texture")throw Error("Unknown output config type: '"+gt.type+"'");return Gt=Lt.u[Dt],Gt||(Gt=new Jr(Lt.h,Lt.G),Lt.u[Dt]=Gt),Cr(Mn,Ot(Gt,At,Lt.I),13);case 13:Xt=Mn.h,Rn[Dt]=Xt;case 7:gt.transform&&Rn[Dt]&&(Rn[Dt]=gt.transform(Rn[Dt])),Mn.g=3;break;case 14:yn[kn]=Mn.h;case 3:Wt=Mt.next(),Mn.g=2;break;case 4:return Mn.return(Rn)}})}function Co(Lt,$t,hn){var Rn;return ho(function(Yn){return typeof hn=="number"||hn instanceof Uint8Array||hn instanceof Lt.h.Uint8BlobList?Yn.return(hn):hn instanceof Lt.h.Texture2dDataOut?(Rn=Lt.u[$t],Rn||(Rn=new Jr(Lt.h,Lt.G),Lt.u[$t]=Rn),Yn.return(Ot(Rn,hn,Lt.I))):Yn.return(void 0)})}function ko(Lt,$t){for(var hn=$t.name||"$",Rn=[].concat(or($t.wants)),Yn=new Lt.h.StringList,It=Nn($t.wants),Wt=It.next();!Wt.done;Wt=It.next())Yn.push_back(Wt.value);It=Lt.h.PacketListener.implement({onResults:function(Yt){for(var bt={},Mt=0;Mt<$t.wants.length;++Mt)bt[Rn[Mt]]=Yt.get(Mt);var Dt=Lt.listeners[hn];Dt&&(Lt.D=ro(Lt,bt,$t.outs).then(function(gt){gt=Dt(gt);for(var At=0;At<$t.wants.length;++At){var Gt=bt[Rn[At]];typeof Gt=="object"&&Gt.hasOwnProperty&&Gt.hasOwnProperty("delete")&&Gt.delete()}gt&&(Lt.D=gt)}))}}),Lt.i.attachMultiListener(Yn,It),Yn.delete()}xt.onResults=function(Lt,$t){this.listeners[$t||"$"]=Lt},Bo("Solution",Ar),Bo("OptionType",{BOOL:0,NUMBER:1,ma:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Wo(Lt){return Lt===void 0&&(Lt=0),Lt===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Do(Lt){var $t=this;Lt=Lt||{},this.g=new Ar({locateFile:Lt.locateFile,files:function(hn){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Wo(hn.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:kr},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:kr},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(hn){return hn.map(function(Rn){return Tr(dn(Rn,Jo,vs))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(hn){var Rn,Yn,It;return ho(function(Wt){return Wt.g==1?(Rn=Wo(hn),Yn="third_party/mediapipe/modules/hand_landmark/"+Rn,Cr(Wt,Lo($t.g,Rn),2)):(It=Wt.h,$t.g.overrideFile(Yn,It),Wt.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}xt=Do.prototype,xt.close=function(){return this.g.close(),nt.resolve()},xt.onResults=function(Lt){this.g.onResults(Lt)},xt.initialize=function(){var Lt=this;return ho(function($t){return Cr($t,Lt.g.initialize(),0)})},xt.reset=function(){this.g.reset()},xt.send=function(Lt){var $t=this;return ho(function(hn){return Cr(hn,$t.g.send(Lt),0)})},xt.setOptions=function(Lt){this.g.setOptions(Lt)},Bo("Hands",Do),Bo("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),Bo("VERSION","0.4.1646424915")}).call(Bl);var vu={};(function(){var xt;function St(bt){var Mt=0;return function(){return Mt<bt.length?{done:!1,value:bt[Mt++]}:{done:!0}}}var Tt=typeof Object.defineProperties=="function"?Object.defineProperty:function(bt,Mt,Dt){return bt==Array.prototype||bt==Object.prototype||(bt[Mt]=Dt.value),bt};function Ut(bt){bt=[typeof globalThis=="object"&&globalThis,bt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Mt=0;Mt<bt.length;++Mt){var Dt=bt[Mt];if(Dt&&Dt.Math==Math)return Dt}throw Error("Cannot find global object")}var Qt=Ut(this);function In(bt,Mt){if(Mt)e:{var Dt=Qt;bt=bt.split(".");for(var gt=0;gt<bt.length-1;gt++){var At=bt[gt];if(!(At in Dt))break e;Dt=Dt[At]}bt=bt[bt.length-1],gt=Dt[bt],Mt=Mt(gt),Mt!=gt&&Mt!=null&&Tt(Dt,bt,{configurable:!0,writable:!0,value:Mt})}}In("Symbol",function(bt){function Mt(Gt){if(this instanceof Mt)throw new TypeError("Symbol is not a constructor");return new Dt(gt+(Gt||"")+"_"+At++,Gt)}function Dt(Gt,Xt){this.g=Gt,Tt(this,"description",{configurable:!0,writable:!0,value:Xt})}if(bt)return bt;Dt.prototype.toString=function(){return this.g};var gt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",At=0;return Mt}),In("Symbol.iterator",function(bt){if(bt)return bt;bt=Symbol("Symbol.iterator");for(var Mt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Dt=0;Dt<Mt.length;Dt++){var gt=Qt[Mt[Dt]];typeof gt=="function"&&typeof gt.prototype[bt]!="function"&&Tt(gt.prototype,bt,{configurable:!0,writable:!0,value:function(){return Xn(St(this))}})}return bt});function Xn(bt){return bt={next:bt},bt[Symbol.iterator]=function(){return this},bt}function Nn(bt){var Mt=typeof Symbol<"u"&&Symbol.iterator&&bt[Symbol.iterator];return Mt?Mt.call(bt):{next:St(bt)}}function or(bt){if(!(bt instanceof Array)){bt=Nn(bt);for(var Mt,Dt=[];!(Mt=bt.next()).done;)Dt.push(Mt.value);bt=Dt}return bt}var Br=typeof Object.create=="function"?Object.create:function(bt){function Mt(){}return Mt.prototype=bt,new Mt},eo;if(typeof Object.setPrototypeOf=="function")eo=Object.setPrototypeOf;else{var ao;e:{var Zo={a:!0},Fo={};try{Fo.__proto__=Zo,ao=Fo.a;break e}catch{}ao=!1}eo=ao?function(bt,Mt){if(bt.__proto__=Mt,bt.__proto__!==Mt)throw new TypeError(bt+" is not extensible");return bt}:null}var no=eo;function uo(bt,Mt){if(bt.prototype=Br(Mt.prototype),bt.prototype.constructor=bt,no)no(bt,Mt);else for(var Dt in Mt)if(Dt!="prototype")if(Object.defineProperties){var gt=Object.getOwnPropertyDescriptor(Mt,Dt);gt&&Object.defineProperty(bt,Dt,gt)}else bt[Dt]=Mt[Dt];bt.da=Mt.prototype}function es(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function ts(bt){if(bt.l)throw new TypeError("Generator is already running");bt.l=!0}es.prototype.o=function(bt){this.h=bt};function Cs(bt,Mt){bt.j={U:Mt,V:!0},bt.g=bt.m||bt.s}es.prototype.return=function(bt){this.j={return:bt},this.g=this.s};function Cr(bt,Mt,Dt){return bt.g=Dt,{value:Mt}}function du(bt){this.g=new es,this.h=bt}function tu(bt,Mt){ts(bt.g);var Dt=bt.g.i;return Dt?Js(bt,"return"in Dt?Dt.return:function(gt){return{value:gt,done:!0}},Mt,bt.g.return):(bt.g.return(Mt),ls(bt))}function Js(bt,Mt,Dt,gt){try{var At=Mt.call(bt.g.i,Dt);if(!(At instanceof Object))throw new TypeError("Iterator result "+At+" is not an object");if(!At.done)return bt.g.l=!1,At;var Gt=At.value}catch(Xt){return bt.g.i=null,Cs(bt.g,Xt),ls(bt)}return bt.g.i=null,gt.call(bt.g,Gt),ls(bt)}function ls(bt){for(;bt.g.g;)try{var Mt=bt.h(bt.g);if(Mt)return bt.g.l=!1,{value:Mt.value,done:!1}}catch(Dt){bt.g.h=void 0,Cs(bt.g,Dt)}if(bt.g.l=!1,bt.g.j){if(Mt=bt.g.j,bt.g.j=null,Mt.V)throw Mt.U;return{value:Mt.return,done:!0}}return{value:void 0,done:!0}}function rp(bt){this.next=function(Mt){return ts(bt.g),bt.g.i?Mt=Js(bt,bt.g.i.next,Mt,bt.g.o):(bt.g.o(Mt),Mt=ls(bt)),Mt},this.throw=function(Mt){return ts(bt.g),bt.g.i?Mt=Js(bt,bt.g.i.throw,Mt,bt.g.o):(Cs(bt.g,Mt),Mt=ls(bt)),Mt},this.return=function(Mt){return tu(bt,Mt)},this[Symbol.iterator]=function(){return this}}function Ts(bt){function Mt(gt){return bt.next(gt)}function Dt(gt){return bt.throw(gt)}return new nt(function(gt,At){function Gt(Xt){Xt.done?gt(Xt.value):nt.resolve(Xt.value).then(Mt,Dt).then(Gt,At)}Gt(bt.next())})}function ho(bt){return Ts(new rp(new du(bt)))}In("Promise",function(bt){function Mt(Xt){this.h=0,this.i=void 0,this.g=[],this.o=!1;var yn=this.j();try{Xt(yn.resolve,yn.reject)}catch(kn){yn.reject(kn)}}function Dt(){this.g=null}function gt(Xt){return Xt instanceof Mt?Xt:new Mt(function(yn){yn(Xt)})}if(bt)return bt;Dt.prototype.h=function(Xt){if(this.g==null){this.g=[];var yn=this;this.i(function(){yn.l()})}this.g.push(Xt)};var At=Qt.setTimeout;Dt.prototype.i=function(Xt){At(Xt,0)},Dt.prototype.l=function(){for(;this.g&&this.g.length;){var Xt=this.g;this.g=[];for(var yn=0;yn<Xt.length;++yn){var kn=Xt[yn];Xt[yn]=null;try{kn()}catch(Mn){this.j(Mn)}}}this.g=null},Dt.prototype.j=function(Xt){this.i(function(){throw Xt})},Mt.prototype.j=function(){function Xt(Mn){return function(_n){kn||(kn=!0,Mn.call(yn,_n))}}var yn=this,kn=!1;return{resolve:Xt(this.C),reject:Xt(this.l)}},Mt.prototype.C=function(Xt){if(Xt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Xt instanceof Mt)this.F(Xt);else{e:switch(typeof Xt){case"object":var yn=Xt!=null;break e;case"function":yn=!0;break e;default:yn=!1}yn?this.v(Xt):this.m(Xt)}},Mt.prototype.v=function(Xt){var yn=void 0;try{yn=Xt.then}catch(kn){this.l(kn);return}typeof yn=="function"?this.G(yn,Xt):this.m(Xt)},Mt.prototype.l=function(Xt){this.s(2,Xt)},Mt.prototype.m=function(Xt){this.s(1,Xt)},Mt.prototype.s=function(Xt,yn){if(this.h!=0)throw Error("Cannot settle("+Xt+", "+yn+"): Promise already settled in state"+this.h);this.h=Xt,this.i=yn,this.h===2&&this.D(),this.A()},Mt.prototype.D=function(){var Xt=this;At(function(){if(Xt.B()){var yn=Qt.console;typeof yn<"u"&&yn.error(Xt.i)}},1)},Mt.prototype.B=function(){if(this.o)return!1;var Xt=Qt.CustomEvent,yn=Qt.Event,kn=Qt.dispatchEvent;return typeof kn>"u"?!0:(typeof Xt=="function"?Xt=new Xt("unhandledrejection",{cancelable:!0}):typeof yn=="function"?Xt=new yn("unhandledrejection",{cancelable:!0}):(Xt=Qt.document.createEvent("CustomEvent"),Xt.initCustomEvent("unhandledrejection",!1,!0,Xt)),Xt.promise=this,Xt.reason=this.i,kn(Xt))},Mt.prototype.A=function(){if(this.g!=null){for(var Xt=0;Xt<this.g.length;++Xt)Gt.h(this.g[Xt]);this.g=null}};var Gt=new Dt;return Mt.prototype.F=function(Xt){var yn=this.j();Xt.J(yn.resolve,yn.reject)},Mt.prototype.G=function(Xt,yn){var kn=this.j();try{Xt.call(yn,kn.resolve,kn.reject)}catch(Mn){kn.reject(Mn)}},Mt.prototype.then=function(Xt,yn){function kn(xr,Rr){return typeof xr=="function"?function(zr){try{Mn(xr(zr))}catch(io){_n(io)}}:Rr}var Mn,_n,lr=new Mt(function(xr,Rr){Mn=xr,_n=Rr});return this.J(kn(Xt,Mn),kn(yn,_n)),lr},Mt.prototype.catch=function(Xt){return this.then(void 0,Xt)},Mt.prototype.J=function(Xt,yn){function kn(){switch(Mn.h){case 1:Xt(Mn.i);break;case 2:yn(Mn.i);break;default:throw Error("Unexpected state: "+Mn.h)}}var Mn=this;this.g==null?Gt.h(kn):this.g.push(kn),this.o=!0},Mt.resolve=gt,Mt.reject=function(Xt){return new Mt(function(yn,kn){kn(Xt)})},Mt.race=function(Xt){return new Mt(function(yn,kn){for(var Mn=Nn(Xt),_n=Mn.next();!_n.done;_n=Mn.next())gt(_n.value).J(yn,kn)})},Mt.all=function(Xt){var yn=Nn(Xt),kn=yn.next();return kn.done?gt([]):new Mt(function(Mn,_n){function lr(zr){return function(io){xr[zr]=io,Rr--,Rr==0&&Mn(xr)}}var xr=[],Rr=0;do xr.push(void 0),Rr++,gt(kn.value).J(lr(xr.length-1),_n),kn=yn.next();while(!kn.done)})},Mt});function xu(bt,Mt){bt instanceof String&&(bt+="");var Dt=0,gt=!1,At={next:function(){if(!gt&&Dt<bt.length){var Gt=Dt++;return{value:Mt(Gt,bt[Gt]),done:!1}}return gt=!0,{done:!0,value:void 0}}};return At[Symbol.iterator]=function(){return At},At}var Ep=typeof Object.assign=="function"?Object.assign:function(bt,Mt){for(var Dt=1;Dt<arguments.length;Dt++){var gt=arguments[Dt];if(gt)for(var At in gt)Object.prototype.hasOwnProperty.call(gt,At)&&(bt[At]=gt[At])}return bt};In("Object.assign",function(bt){return bt||Ep}),In("Object.is",function(bt){return bt||function(Mt,Dt){return Mt===Dt?Mt!==0||1/Mt===1/Dt:Mt!==Mt&&Dt!==Dt}}),In("Array.prototype.includes",function(bt){return bt||function(Mt,Dt){var gt=this;gt instanceof String&&(gt=String(gt));var At=gt.length;for(Dt=Dt||0,0>Dt&&(Dt=Math.max(Dt+At,0));Dt<At;Dt++){var Gt=gt[Dt];if(Gt===Mt||Object.is(Gt,Mt))return!0}return!1}}),In("String.prototype.includes",function(bt){return bt||function(Mt,Dt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Mt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Mt,Dt||0)!==-1}}),In("Array.prototype.keys",function(bt){return bt||function(){return xu(this,function(Mt){return Mt})}});var $a=this||self;function Bo(bt,Mt){bt=bt.split(".");var Dt=$a;bt[0]in Dt||typeof Dt.execScript>"u"||Dt.execScript("var "+bt[0]);for(var gt;bt.length&&(gt=bt.shift());)bt.length||Mt===void 0?Dt[gt]&&Dt[gt]!==Object.prototype[gt]?Dt=Dt[gt]:Dt=Dt[gt]={}:Dt[gt]=Mt}function Tl(bt){$a.setTimeout(function(){throw bt},0)}function fu(bt){Tl(bt)}function Nu(bt,Mt){fu(Error("Invalid wire type: "+bt+" (at position "+Mt+")"))}function _u(){fu(Error("Failed to read varint, encoding is invalid."))}function Gu(bt,Mt){return Mt=String.fromCharCode.apply(null,Mt),bt==null?Mt:bt+Mt}var ip,bu=typeof TextDecoder<"u",Ru,lp=typeof TextEncoder<"u";function qu(bt){if(lp)bt=(Ru||(Ru=new TextEncoder)).encode(bt);else{var Mt=void 0;Mt=Mt===void 0?!1:Mt;for(var Dt=0,gt=new Uint8Array(3*bt.length),At=0;At<bt.length;At++){var Gt=bt.charCodeAt(At);if(128>Gt)gt[Dt++]=Gt;else{if(2048>Gt)gt[Dt++]=Gt>>6|192;else{if(55296<=Gt&&57343>=Gt){if(56319>=Gt&&At<bt.length){var Xt=bt.charCodeAt(++At);if(56320<=Xt&&57343>=Xt){Gt=1024*(Gt-55296)+Xt-56320+65536,gt[Dt++]=Gt>>18|240,gt[Dt++]=Gt>>12&63|128,gt[Dt++]=Gt>>6&63|128,gt[Dt++]=Gt&63|128;continue}else At--}if(Mt)throw Error("Found an unpaired surrogate");Gt=65533}gt[Dt++]=Gt>>12|224,gt[Dt++]=Gt>>6&63|128}gt[Dt++]=Gt&63|128}}bt=gt.subarray(0,Dt)}return bt}var Kl={},Yl=null;function Wu(bt){var Mt;Mt===void 0&&(Mt=0),Cl(),Mt=Kl[Mt];for(var Dt=Array(Math.floor(bt.length/3)),gt=Mt[64]||"",At=0,Gt=0;At<bt.length-2;At+=3){var Xt=bt[At],yn=bt[At+1],kn=bt[At+2],Mn=Mt[Xt>>2];Xt=Mt[(Xt&3)<<4|yn>>4],yn=Mt[(yn&15)<<2|kn>>6],kn=Mt[kn&63],Dt[Gt++]=Mn+Xt+yn+kn}switch(Mn=0,kn=gt,bt.length-At){case 2:Mn=bt[At+1],kn=Mt[(Mn&15)<<2]||gt;case 1:bt=bt[At],Dt[Gt]=Mt[bt>>2]+Mt[(bt&3)<<4|Mn>>4]+kn+gt}return Dt.join("")}function Pu(bt){var Mt=bt.length,Dt=3*Mt/4;Dt%3?Dt=Math.floor(Dt):"=.".indexOf(bt[Mt-1])!=-1&&(Dt="=.".indexOf(bt[Mt-2])!=-1?Dt-2:Dt-1);var gt=new Uint8Array(Dt),At=0;return Fs(bt,function(Gt){gt[At++]=Gt}),gt.subarray(0,At)}function Fs(bt,Mt){function Dt(kn){for(;gt<bt.length;){var Mn=bt.charAt(gt++),_n=Yl[Mn];if(_n!=null)return _n;if(!/^[\s\xa0]*$/.test(Mn))throw Error("Unknown base64 encoding at char: "+Mn)}return kn}Cl();for(var gt=0;;){var At=Dt(-1),Gt=Dt(0),Xt=Dt(64),yn=Dt(64);if(yn===64&&At===-1)break;Mt(At<<2|Gt>>4),Xt!=64&&(Mt(Gt<<4&240|Xt>>2),yn!=64&&Mt(Xt<<6&192|yn))}}function Cl(){if(!Yl){Yl={};for(var bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Mt=["+/=","+/","-_=","-_.","-_"],Dt=0;5>Dt;Dt++){var gt=bt.concat(Mt[Dt].split(""));Kl[Dt]=gt;for(var At=0;At<gt.length;At++){var Gt=gt[At];Yl[Gt]===void 0&&(Yl[Gt]=At)}}}}var Jl=typeof Uint8Array=="function",xs;function ga(bt){if(this.g=bt,bt!==null&&bt.length===0)throw Error("ByteString should be constructed with non-empty values")}ga.prototype.toJSON=function(){if(this.g==null)var bt="";else bt=this.g,bt=this.g=bt==null||typeof bt=="string"?bt:Jl&&bt instanceof Uint8Array?Wu(bt):null;return bt};var pu=typeof Uint8Array.prototype.slice=="function";function Xl(bt,Mt,Dt){return Mt===Dt?xs||(xs=new Uint8Array(0)):pu?bt.slice(Mt,Dt):new Uint8Array(bt.subarray(Mt,Dt))}var gs=0,$s=0;function Ll(bt){if(bt.constructor===Uint8Array)return bt;if(bt.constructor===ArrayBuffer)return new Uint8Array(bt);if(bt.constructor===Array)return new Uint8Array(bt);if(bt.constructor===String)return Pu(bt);if(bt.constructor===ga){if(bt.g==null)var Mt=xs||(xs=new Uint8Array(0));else{Mt=Uint8Array;var Dt=bt.g;Dt=Dt==null||Jl&&Dt!=null&&Dt instanceof Uint8Array?Dt:typeof Dt=="string"?Pu(Dt):null,bt=bt.g=Dt,Mt=new Mt(bt)}return Mt}if(bt instanceof Uint8Array)return new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function ns(bt,Mt){Mt=Mt===void 0?{}:Mt,Mt=Mt.u===void 0?!1:Mt.u,this.h=null,this.g=this.i=this.m=0,this.l=!1,this.u=Mt,bt&&yl(this,bt)}function yl(bt,Mt){bt.h=Ll(Mt),bt.m=0,bt.i=bt.h.length,bt.g=bt.m}ns.prototype.reset=function(){this.g=this.m};function ds(bt){for(var Mt=128,Dt=0,gt=0,At=0;4>At&&128<=Mt;At++)Mt=bt.h[bt.g++],Dt|=(Mt&127)<<7*At;if(128<=Mt&&(Mt=bt.h[bt.g++],Dt|=(Mt&127)<<28,gt|=(Mt&127)>>4),128<=Mt)for(At=0;5>At&&128<=Mt;At++)Mt=bt.h[bt.g++],gt|=(Mt&127)<<7*At+3;if(128>Mt)return bt=Dt>>>0,Mt=gt>>>0,(gt=Mt&2147483648)&&(bt=~bt+1>>>0,Mt=~Mt>>>0,bt==0&&(Mt=Mt+1>>>0)),bt=4294967296*Mt+(bt>>>0),gt?-bt:bt;bt.l=!0,_u()}function Bs(bt){bt.g>bt.i&&(bt.l=!0,fu(Error("Tried to read past the end of the data "+bt.g+" > "+bt.i)))}ns.prototype.j=function(){var bt=this.h,Mt=bt[this.g],Dt=Mt&127;return 128>Mt?(this.g+=1,Bs(this),Dt):(Mt=bt[this.g+1],Dt|=(Mt&127)<<7,128>Mt?(this.g+=2,Bs(this),Dt):(Mt=bt[this.g+2],Dt|=(Mt&127)<<14,128>Mt?(this.g+=3,Bs(this),Dt):(Mt=bt[this.g+3],Dt|=(Mt&127)<<21,128>Mt?(this.g+=4,Bs(this),Dt):(Mt=bt[this.g+4],Dt|=(Mt&15)<<28,128>Mt?(this.g+=5,Bs(this),Dt>>>0):(this.g+=5,128<=bt[this.g++]&&128<=bt[this.g++]&&128<=bt[this.g++]&&128<=bt[this.g++]&&128<=bt[this.g++]?(this.l=!0,_u(),Dt):(Bs(this),Dt))))))},ns.prototype.o=function(){var bt=this.h[this.g],Mt=this.h[this.g+1],Dt=this.h[this.g+2],gt=this.h[this.g+3];return this.g+=4,Bs(this),Dt=(bt<<0|Mt<<8|Dt<<16|gt<<24)>>>0,bt=2*(Dt>>31)+1,Mt=Dt>>>23&255,Dt&=8388607,Mt==255?Dt?NaN:1/0*bt:Mt==0?bt*Math.pow(2,-149)*Dt:bt*Math.pow(2,Mt-150)*(Dt+Math.pow(2,23))};var xl=[];function nu(){this.g=new Uint8Array(64),this.h=0}function Qs(bt,Mt){if(!(bt.h+1<bt.g.length)){var Dt=bt.g;bt.g=new Uint8Array(Math.ceil(1+2*bt.g.length)),bt.g.set(Dt)}bt.g[bt.h++]=Mt}nu.prototype.length=function(){return this.h},nu.prototype.end=function(){var bt=this.g,Mt=this.h;return this.h=0,Xl(bt,0,Mt)};function fs(bt,Mt){for(;127<Mt;)Qs(bt,Mt&127|128),Mt>>>=7;Qs(bt,Mt)}function $l(bt){var Mt={},Dt=Mt.N===void 0?!1:Mt.N;this.m={u:Mt.u===void 0?!1:Mt.u},this.N=Dt,Mt=this.m,xl.length?(Dt=xl.pop(),Mt&&(Dt.u=Mt.u),bt&&yl(Dt,bt),bt=Dt):bt=new ns(bt,Mt),this.g=bt,this.l=this.g.g,this.h=this.i=-1,this.j=!1}$l.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function Ql(bt){var Mt=bt.g;if((Mt=Mt.g==Mt.i)||(Mt=bt.j)||(Mt=bt.g,Mt=Mt.l||0>Mt.g||Mt.g>Mt.i),Mt)return!1;bt.l=bt.g.g;var Dt=bt.g.j();return Mt=Dt>>>3,Dt&=7,0<=Dt&&5>=Dt?(bt.i=Mt,bt.h=Dt,!0):(bt.j=!0,Nu(Dt,bt.l),!1)}function Sl(bt){switch(bt.h){case 0:if(bt.h!=0)Sl(bt);else e:{bt=bt.g;for(var Mt=bt.g,Dt=0;10>Dt;Dt++){if(!(bt.h[Mt]&128)){bt.g=Mt+1,Bs(bt);break e}Mt++}bt.l=!0,_u()}break;case 1:bt=bt.g,bt.g+=8,Bs(bt);break;case 2:bt.h!=2?Sl(bt):(Mt=bt.g.j(),bt=bt.g,bt.g+=Mt,Bs(bt));break;case 5:bt=bt.g,bt.g+=4,Bs(bt);break;case 3:Mt=bt.i;do{if(!Ql(bt)){bt.j=!0,fu(Error("Unmatched start-group tag: stream EOF"));break}if(bt.h==4){bt.i!=Mt&&(bt.j=!0,fu(Error("Unmatched end-group tag")));break}Sl(bt)}while(1);break;default:bt.j=!0,Nu(bt.h,bt.l)}}function Vu(bt,Mt,Dt){bt.N||(bt=Xl(bt.g.h,Dt,bt.g.g),(Dt=Mt.o)?Dt.push(bt):Mt.o=[bt])}function hu(bt,Mt,Dt){var gt=bt.g.i,At=bt.g.j(),Gt=bt.g.g+At;if(bt.g.i=Gt,Dt(Mt,bt),Dt=Gt-bt.g.g,Dt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(At+" bytes, instead read "+(At-Dt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return bt.g.g=Gt,bt.g.i=gt,Mt}function _l(bt,Mt,Dt){var gt=bt.g.j();for(gt=bt.g.g+gt;bt.g.g<gt;)Dt.push(Mt.call(bt.g))}var mu=[];function zs(){this.h=[],this.i=0,this.g=new nu}function Rl(bt,Mt){Mt.length!==0&&(bt.h.push(Mt),bt.i+=Mt.length)}function Ks(bt,Mt,Dt){fs(bt.g,8*Mt+2),fs(bt.g,Dt.length),Rl(bt,bt.g.end()),Rl(bt,Dt)}var Rs=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function eu(bt,Mt){Object.isFrozen(bt)||(Rs?bt[Rs]|=Mt:bt.g!==void 0?bt.g|=Mt:Object.defineProperties(bt,{g:{value:Mt,configurable:!0,writable:!0,enumerable:!1}}))}function Ss(bt){if(!bt)return 0;var Mt;return Rs?Mt=bt[Rs]:Mt=bt.g,Mt??0}function ps(bt){return Array.isArray(bt)&&eu(bt,1),bt}function Su(bt){if(!Array.isArray(bt))throw Error("cannot mark non-array as immutable");eu(bt,2)}function Ds(bt){return bt!==null&&typeof bt=="object"&&bt.constructor===Object}function Xo(bt){switch(typeof bt){case"number":return isFinite(bt)?bt:String(bt);case"object":return Jl&&bt!=null&&bt instanceof Uint8Array?Wu(bt):bt;default:return bt}}function Io(bt,Mt){if(bt!=null)return Array.isArray(bt)||Ds(bt)?Is(bt,Mt):Mt(bt)}function Is(bt,Mt){if(Array.isArray(bt)){for(var Dt=Array(bt.length),gt=0;gt<bt.length;gt++)Dt[gt]=Io(bt[gt],Mt);return Ss(bt)&1&&ps(Dt),Dt}Dt={};for(gt in bt)Dt[gt]=Io(bt[gt],Mt);return Dt}var Il;function Es(bt,Mt,Dt){var gt=Il;Il=null,bt||(bt=gt),gt=this.constructor.ba,bt||(bt=gt?[gt]:[]),this.j=(gt?0:-1)-(this.constructor.$||0),this.m=this.g=null,this.h=bt;e:{if(gt=this.h.length,bt=gt-1,gt&&(gt=this.h[bt],Ds(gt))){this.l=bt-this.j,this.i=gt;break e}Mt!==void 0&&-1<Mt?(this.l=Math.max(Mt,bt+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(Dt)for(Mt=0;Mt<Dt.length;Mt++)bt=Dt[Mt],bt<this.l?(bt+=this.j,(gt=this.h[bt])?ps(gt):this.h[bt]=ws):(Vr(this),(gt=this.i[bt])?ps(gt):this.i[bt]=ws)}var ws=Object.freeze(ps([]));function Vr(bt){var Mt=bt.l+bt.j;bt.h[Mt]||(bt.i=bt.h[Mt]={})}function jr(bt,Mt,Dt){return Mt===-1?null:Dt!==void 0&&Dt||Mt>=bt.l?bt.i?bt.i[Mt]:void 0:bt.h[Mt+bt.j]}function _r(bt,Mt,Dt){Dt=Dt===void 0?!0:Dt;var gt=gt===void 0?!1:gt,At=jr(bt,Mt,gt);return At==null&&(At=ws),At===ws?(At=ps([]),No(bt,Mt,At,gt)):Dt&&Array.isArray(At)&&Ss(At)&2&&(At=At.slice(),No(bt,Mt,At,gt)),At}function hs(bt){var Mt=_r(bt,3,!1);if(bt.m||(bt.m={}),!bt.m[3]){for(var Dt=0;Dt<Mt.length;Dt++)Mt[Dt]=+Mt[Dt];bt.m[3]=!0}return Mt}function Ps(bt,Mt,Dt){return bt=jr(bt,Mt),bt??Dt}function Ls(bt,Mt,Dt){return bt=jr(bt,Mt),bt=bt==null?bt:+bt,bt??(Dt===void 0?0:Dt)}function No(bt,Mt,Dt,gt){gt!==void 0&&gt||Mt>=bt.l?(Vr(bt),bt.i[Mt]=Dt):bt.h[Mt+bt.j]=Dt}function js(bt,Mt,Dt){if(Dt===-1)return null;bt.g||(bt.g={});var gt=bt.g[Dt];if(gt)return gt;var At=jr(bt,Dt,!1);return At==null?gt:(Mt=new Mt(At),bt.g[Dt]=Mt)}function Nl(bt,Mt,Dt){bt.g||(bt.g={});var gt=bt.g[Dt];if(!gt){var At=_r(bt,Dt,!1);gt=[];for(var Gt=Array.isArray(At)?!!(Ss(At)&2):!1,Xt=0;Xt<At.length;Xt++)gt[Xt]=new Mt(At[Xt]),Gt&&Su(gt[Xt].h);Gt&&(Su(gt),Object.freeze(gt)),bt.g[Dt]=gt}return gt}function ru(bt,Mt,Dt,gt,At){var Gt=Nl(bt,gt,Mt);Dt=Dt||new gt,bt=_r(bt,Mt),At!=null?(Gt.splice(At,0,Dt),bt.splice(At,0,iu(Dt))):(Gt.push(Dt),bt.push(iu(Dt)))}Es.prototype.toJSON=function(){var bt=iu(this);return Is(bt,Xo)};function iu(bt){if(bt.g)for(var Mt in bt.g){var Dt=bt.g[Mt];if(Array.isArray(Dt))for(var gt=0;gt<Dt.length;gt++)Dt[gt]&&iu(Dt[gt]);else Dt&&iu(Dt)}return bt.h}Es.prototype.toString=function(){return iu(this).toString()};function Eu(bt,Mt){if(bt=bt.o){Rl(Mt,Mt.g.end());for(var Dt=0;Dt<bt.length;Dt++)Rl(Mt,bt[Dt])}}function Iu(bt){var Mt=bt[0];switch(bt.length){case 2:var Dt=bt[1];return function(kn,Mn,_n){return Mt(kn,Mn,_n,Dt)};case 3:var gt=bt[1],At=bt[2];return function(kn,Mn,_n){return Mt(kn,Mn,_n,gt,At)};case 4:var Gt=bt[1],Xt=bt[2],yn=bt[3];return function(kn,Mn,_n){return Mt(kn,Mn,_n,Gt,Xt,yn)};default:throw Error("unsupported number of parameters, expected [2-4], got "+bt.length)}}function Ol(bt,Mt,Dt){for(;Ql(Mt)&&Mt.h!=4;){var gt=Mt.i,At=Dt[gt];if(At){if(Array.isArray(At)&&(At=Dt[gt]=Iu(At)),!At(Mt,bt,gt)){gt=Mt,At=bt;var Gt=gt.l;Sl(gt),Vu(gt,At,Gt)}}else gt=Mt,At=bt,Gt=gt.l,Sl(gt),Vu(gt,At,Gt)}return bt}function ou(bt,Mt){var Dt=new zs;if(Mt(bt,Dt),bt=Dt.i+Dt.g.length(),bt===0)Dt=new Uint8Array(0);else{bt=new Uint8Array(bt);for(var gt=Dt.h,At=gt.length,Gt=Mt=0;Gt<At;Gt++){var Xt=gt[Gt];Xt.length!==0&&(bt.set(Xt,Mt),Mt+=Xt.length)}gt=Dt.g,At=gt.h,At!==0&&(bt.set(gt.g.subarray(0,At),Mt),gt.h=0),Dt.h=[bt],Dt=bt}return Dt}function Cp(bt,Mt,Dt){if(mu.length){var gt=mu.pop();bt&&(yl(gt.g,bt),gt.i=-1,gt.h=-1),bt=gt}else bt=new $l(bt);try{return Dt(new Mt,bt)}finally{Mt=bt.g,Mt.h=null,Mt.m=0,Mt.i=0,Mt.g=0,Mt.l=!1,Mt.u=!1,bt.i=-1,bt.h=-1,bt.j=!1,100>mu.length&&mu.push(bt)}}function su(bt,Mt,Dt){if(Mt=jr(Mt,Dt),Mt!=null){fs(bt.g,8*Dt+5),bt=bt.g;var gt=Mt;gt=(Dt=0>gt?1:0)?-gt:gt,gt===0?0<1/gt?gs=$s=0:($s=0,gs=2147483648):isNaN(gt)?($s=0,gs=2147483647):34028234663852886e22<gt?($s=0,gs=(Dt<<31|2139095040)>>>0):11754943508222875e-54>gt?(gt=Math.round(gt/Math.pow(2,-149)),$s=0,gs=(Dt<<31|gt)>>>0):(Mt=Math.floor(Math.log(gt)/Math.LN2),gt*=Math.pow(2,-Mt),gt=Math.round(8388608*gt),16777216<=gt&&++Mt,$s=0,gs=(Dt<<31|Mt+127<<23|gt&8388607)>>>0),Dt=gs,Qs(bt,Dt>>>0&255),Qs(bt,Dt>>>8&255),Qs(bt,Dt>>>16&255),Qs(bt,Dt>>>24&255)}}function Pl(bt,Mt,Dt){return bt.h!==5?!1:(No(Mt,Dt,bt.g.o()),!0)}function Lu(bt,Mt,Dt){return bt.h!==5&&bt.h!==2?!1:(Mt=_r(Mt,Dt),bt.h==2?_l(bt,ns.prototype.o,Mt):Mt.push(bt.g.o()),!0)}function Fu(bt,Mt,Dt){return bt.h!==0?!1:(No(Mt,Dt,ds(bt.g)),!0)}function Ul(bt,Mt,Dt){return bt.h!==0?!1:(No(Mt,Dt,bt.g.j()),!0)}function up(bt,Mt,Dt){if(bt.h!==2)return!1;var gt=bt.g.j();bt=bt.g;var At=bt.g;bt.g+=gt,Bs(bt),bt=bt.h;var Gt;if(bu)(Gt=ip)||(Gt=ip=new TextDecoder("utf-8",{fatal:!1})),Gt=Gt.decode(bt.subarray(At,At+gt));else{gt=At+gt;for(var Xt=[],yn=null,kn,Mn,_n;At<gt;)kn=bt[At++],128>kn?Xt.push(kn):224>kn?At>=gt?Xt.push(65533):(Mn=bt[At++],194>kn||(Mn&192)!==128?(At--,Xt.push(65533)):Xt.push((kn&31)<<6|Mn&63)):240>kn?At>=gt-1?Xt.push(65533):(Mn=bt[At++],(Mn&192)!==128||kn===224&&160>Mn||kn===237&&160<=Mn||((Gt=bt[At++])&192)!==128?(At--,Xt.push(65533)):Xt.push((kn&15)<<12|(Mn&63)<<6|Gt&63)):244>=kn?At>=gt-2?Xt.push(65533):(Mn=bt[At++],(Mn&192)!==128||(kn<<28)+(Mn-144)>>30||((Gt=bt[At++])&192)!==128||((_n=bt[At++])&192)!==128?(At--,Xt.push(65533)):(kn=(kn&7)<<18|(Mn&63)<<12|(Gt&63)<<6|_n&63,kn-=65536,Xt.push((kn>>10&1023)+55296,(kn&1023)+56320))):Xt.push(65533),8192<=Xt.length&&(yn=Gu(yn,Xt),Xt.length=0);Gt=Gu(yn,Xt)}return No(Mt,Dt,Gt),!0}function au(bt,Mt,Dt,gt,At){if(bt.h!==2)return!1;bt=hu(bt,new gt,At);var Gt=Gt===void 0?!1:Gt;return Mt.g||(Mt.g={}),gt=bt&&iu(bt),Mt.g[Dt]=bt,No(Mt,Dt,gt,Gt),!0}function ku(bt,Mt,Dt,gt,At){return bt.h!==2?!1:(bt=hu(bt,new gt,At),ru(Mt,Dt,bt,gt,void 0),!0)}function Uu(bt,Mt,Dt){return bt.h!==0&&bt.h!==2?!1:(Mt=_r(Mt,Dt),bt.h==2?_l(bt,ns.prototype.j,Mt):Mt.push(bt.g.j()),!0)}function yp(bt,Mt,Dt){return bt.h!==0?!1:(No(Mt,Dt,ds(bt.g)),!0)}function gu(bt){Es.call(this,bt,-1,Mp)}var Bu;uo(gu,Es),gu.prototype.getRows=function(){return jr(this,1)},gu.prototype.getCols=function(){return jr(this,2)},gu.prototype.getPackedDataList=function(){return hs(this)},gu.prototype.getLayout=function(){return Ps(this,4,0)};function Vp(bt,Mt){return Ol(bt,Mt,Bu||(Bu={1:Ul,2:Ul,3:Lu,4:yp}))}var Mp=[3];function Hu(bt){Es.call(this,bt)}var _d;uo(Hu,Es);function jt(bt,Mt){var Dt=jr(bt,1);if(Dt!=null&&Dt!=null){fs(Mt.g,8);var gt=Mt.g;if(0<=Dt)fs(gt,Dt);else{for(var At=0;9>At;At++)Qs(gt,Dt&127|128),Dt>>=7;Qs(gt,1)}}su(Mt,bt,2),gt=jr(bt,3),gt!=null&&Ks(Mt,3,qu(gt)),gt=jr(bt,4),gt!=null&&Ks(Mt,4,qu(gt)),Eu(bt,Mt)}function ln(bt,Mt){return Ol(bt,Mt,_d||(_d={1:Ul,2:Pl,3:up,4:up}))}function dn(bt){Es.call(this,bt,-1,Hr)}var Kn;uo(dn,Es),dn.prototype.addClassification=function(bt,Mt){return ru(this,1,bt,Hu,Mt),this};function gr(bt,Mt){return Ol(bt,Mt,Kn||(Kn={1:[ku,Hu,ln]}))}var Hr=[1];function hr(bt){Es.call(this,bt)}var Fr;uo(hr,Es);function lo(bt,Mt){su(Mt,bt,1),su(Mt,bt,2),su(Mt,bt,3),su(Mt,bt,4),su(Mt,bt,5),Eu(bt,Mt)}function Ao(bt,Mt){return Ol(bt,Mt,Fr||(Fr={1:Pl,2:Pl,3:Pl,4:Pl,5:Pl}))}function _o(bt){Es.call(this,bt,-1,$o)}var Ho;uo(_o,Es);function bs(bt,Mt){return Ol(bt,Mt,Ho||(Ho={1:[ku,hr,Ao]}))}var $o=[1];function Po(bt){Es.call(this,bt)}var Jo;uo(Po,Es);function vs(bt,Mt){su(Mt,bt,1),su(Mt,bt,2),su(Mt,bt,3),su(Mt,bt,4),su(Mt,bt,5);var Dt=jr(bt,6);if(Dt!=null&&Dt!=null){fs(Mt.g,48);var gt=Mt.g,At=Dt;Dt=0>At,At=Math.abs(At);var Gt=At>>>0;for(At=Math.floor((At-Gt)/4294967296),At>>>=0,Dt&&(At=~At>>>0,Gt=(~Gt>>>0)+1,4294967295<Gt&&(Gt=0,At++,4294967295<At&&(At=0))),gs=Gt,$s=At,Dt=gs,Gt=$s;0<Gt||127<Dt;)Qs(gt,Dt&127|128),Dt=(Dt>>>7|Gt<<25)>>>0,Gt>>>=7;Qs(gt,Dt)}Eu(bt,Mt)}function ks(bt,Mt){return Ol(bt,Mt,Jo||(Jo={1:Pl,2:Pl,3:Pl,4:Pl,5:Pl,6:Fu}))}function Xs(bt){Es.call(this,bt,-1,Ft)}var Hs;uo(Xs,Es),Xs.prototype.getVertexType=function(){return Ps(this,1,0)},Xs.prototype.getPrimitiveType=function(){return Ps(this,2,0)},Xs.prototype.getVertexBufferList=function(){return hs(this)},Xs.prototype.getIndexBufferList=function(){return _r(this,4)};function Vl(bt,Mt){return Ol(bt,Mt,Hs||(Hs={1:yp,2:yp,3:Lu,4:Uu}))}var Ft=[3,4];function Ht(bt){Es.call(this,bt)}var Kt;uo(Ht,Es),Ht.prototype.getMesh=function(){return js(this,Xs,1)},Ht.prototype.getPoseTransformMatrix=function(){return js(this,gu,2)};function Zn(bt,Mt){return Ol(bt,Mt,Kt||(Kt={1:[au,Xs,Vl],2:[au,gu,Vp]}))}var nr=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Tr=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],rr=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],kr=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Jr=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Ot=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Jt=[].concat(or(nr),or(Tr),or(rr),or(kr),or(Jr),or(Ot));function pn(bt,Mt,Dt){if(Dt=bt.createShader(Dt===0?bt.VERTEX_SHADER:bt.FRAGMENT_SHADER),bt.shaderSource(Dt,Mt),bt.compileShader(Dt),!bt.getShaderParameter(Dt,bt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+bt.getShaderInfoLog(Dt));return Dt}function An(bt){return Nl(bt,Hu,1).map(function(Mt){return{index:Ps(Mt,1,0),score:Ls(Mt,2),label:jr(Mt,3)!=null?Ps(Mt,3,""):void 0,displayName:jr(Mt,4)!=null?Ps(Mt,4,""):void 0}})}function Hn(bt){return{x:Ls(bt,1),y:Ls(bt,2),z:Ls(bt,3),visibility:jr(bt,4)!=null?Ls(bt,4):void 0}}function ar(bt){return Nl(Cp(bt,_o,bs),hr,1).map(Hn)}function qn(bt,Mt){this.h=bt,this.g=Mt,this.l=0}function Zr(bt,Mt,Dt){return Ar(bt,Mt),typeof bt.g.canvas.transferToImageBitmap=="function"?nt.resolve(bt.g.canvas.transferToImageBitmap()):Dt?nt.resolve(bt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(bt.g.canvas):(bt.i===void 0&&(bt.i=document.createElement("canvas")),new nt(function(gt){bt.i.height=bt.g.canvas.height,bt.i.width=bt.g.canvas.width,bt.i.getContext("2d",{}).drawImage(bt.g.canvas,0,0,bt.g.canvas.width,bt.g.canvas.height),gt(bt.i)}))}function Ar(bt,Mt){var Dt=bt.g;if(bt.m===void 0){var gt=pn(Dt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),At=pn(Dt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Gt=Dt.createProgram();if(Dt.attachShader(Gt,gt),Dt.attachShader(Gt,At),Dt.linkProgram(Gt),!Dt.getProgramParameter(Gt,Dt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Dt.getProgramInfoLog(Gt));gt=bt.m=Gt,Dt.useProgram(gt),At=Dt.getUniformLocation(gt,"sampler0"),bt.j={I:Dt.getAttribLocation(gt,"aVertex"),H:Dt.getAttribLocation(gt,"aTex"),ca:At},bt.s=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,bt.s),Dt.enableVertexAttribArray(bt.j.I),Dt.vertexAttribPointer(bt.j.I,2,Dt.FLOAT,!1,0,0),Dt.bufferData(Dt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Dt.STATIC_DRAW),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),bt.o=Dt.createBuffer(),Dt.bindBuffer(Dt.ARRAY_BUFFER,bt.o),Dt.enableVertexAttribArray(bt.j.H),Dt.vertexAttribPointer(bt.j.H,2,Dt.FLOAT,!1,0,0),Dt.bufferData(Dt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Dt.STATIC_DRAW),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),Dt.uniform1i(At,0)}gt=bt.j,Dt.useProgram(bt.m),Dt.canvas.width=Mt.width,Dt.canvas.height=Mt.height,Dt.viewport(0,0,Mt.width,Mt.height),Dt.activeTexture(Dt.TEXTURE0),bt.h.bindTexture2d(Mt.glName),Dt.enableVertexAttribArray(gt.I),Dt.bindBuffer(Dt.ARRAY_BUFFER,bt.s),Dt.vertexAttribPointer(gt.I,2,Dt.FLOAT,!1,0,0),Dt.enableVertexAttribArray(gt.H),Dt.bindBuffer(Dt.ARRAY_BUFFER,bt.o),Dt.vertexAttribPointer(gt.H,2,Dt.FLOAT,!1,0,0),Dt.bindFramebuffer(Dt.DRAW_FRAMEBUFFER?Dt.DRAW_FRAMEBUFFER:Dt.FRAMEBUFFER,null),Dt.clearColor(0,0,0,0),Dt.clear(Dt.COLOR_BUFFER_BIT),Dt.colorMask(!0,!0,!0,!0),Dt.drawArrays(Dt.TRIANGLE_FAN,0,4),Dt.disableVertexAttribArray(gt.I),Dt.disableVertexAttribArray(gt.H),Dt.bindBuffer(Dt.ARRAY_BUFFER,null),bt.h.bindTexture2d(0)}function fo(bt){this.g=bt}var So=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function qo(bt,Mt){return Mt+bt}function Lo(bt,Mt){window[bt]=Mt}function ro(bt){var Mt=document.createElement("script");return Mt.setAttribute("src",bt),Mt.setAttribute("crossorigin","anonymous"),new nt(function(Dt){Mt.addEventListener("load",function(){Dt()},!1),Mt.addEventListener("error",function(){Dt()},!1),document.body.appendChild(Mt)})}function Co(){return ho(function(bt){switch(bt.g){case 1:return bt.m=2,Cr(bt,WebAssembly.instantiate(So),4);case 4:bt.g=3,bt.m=0;break;case 2:return bt.m=0,bt.j=null,bt.return(!1);case 3:return bt.return(!0)}})}function ko(bt){if(this.g=bt,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=bt&&bt.locateFile||qo,typeof window=="object")var Mt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Mt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Mt,bt.options){Mt=Nn(Object.keys(bt.options));for(var Dt=Mt.next();!Dt.done;Dt=Mt.next()){Dt=Dt.value;var gt=bt.options[Dt].default;gt!==void 0&&(this.j[Dt]=typeof gt=="function"?gt():gt)}}}xt=ko.prototype,xt.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Wo(bt){var Mt,Dt,gt,At,Gt,Xt,yn,kn,Mn,_n,lr;return ho(function(xr){switch(xr.g){case 1:return bt.R?(Mt=bt.g.files===void 0?[]:typeof bt.g.files=="function"?bt.g.files(bt.j):bt.g.files,Cr(xr,Co(),2)):xr.return();case 2:if(Dt=xr.h,typeof window=="object")return Lo("createMediapipeSolutionsWasm",{locateFile:bt.locateFile}),Lo("createMediapipeSolutionsPackedAssets",{locateFile:bt.locateFile}),Xt=Mt.filter(function(Rr){return Rr.data!==void 0}),yn=Mt.filter(function(Rr){return Rr.data===void 0}),kn=nt.all(Xt.map(function(Rr){var zr=$t(bt,Rr.url);if(Rr.path!==void 0){var io=Rr.path;zr=zr.then(function(oo){return bt.overrideFile(io,oo),nt.resolve(oo)})}return zr})),Mn=nt.all(yn.map(function(Rr){return Rr.simd===void 0||Rr.simd&&Dt||!Rr.simd&&!Dt?ro(bt.locateFile(Rr.url,bt.S)):nt.resolve()})).then(function(){var Rr,zr,io;return ho(function(oo){if(oo.g==1)return Rr=window.createMediapipeSolutionsWasm,zr=window.createMediapipeSolutionsPackedAssets,io=bt,Cr(oo,Rr(zr),2);io.h=oo.h,oo.g=0})}),_n=function(){return ho(function(Rr){return bt.g.graph&&bt.g.graph.url?Rr=Cr(Rr,$t(bt,bt.g.graph.url),0):(Rr.g=0,Rr=void 0),Rr})}(),Cr(xr,nt.all([Mn,kn,_n]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return gt=Mt.filter(function(Rr){return Rr.simd===void 0||Rr.simd&&Dt||!Rr.simd&&!Dt}).map(function(Rr){return bt.locateFile(Rr.url,bt.S)}),importScripts.apply(null,or(gt)),At=bt,Cr(xr,createMediapipeSolutionsWasm(Module),6);case 6:At.h=xr.h,bt.l=new OffscreenCanvas(1,1),bt.h.canvas=bt.l,Gt=bt.h.GL.createContext(bt.l,{antialias:!1,alpha:!1,aa:typeof WebGL2RenderingContext<"u"?2:1}),bt.h.GL.makeContextCurrent(Gt),xr.g=4;break;case 7:if(bt.l=document.createElement("canvas"),lr=bt.l.getContext("webgl2",{}),!lr&&(lr=bt.l.getContext("webgl",{}),!lr))return alert("Failed to create WebGL canvas context when passing video frame."),xr.return();bt.D=lr,bt.h.canvas=bt.l,bt.h.createContext(bt.l,!0,!0,{});case 4:bt.i=new bt.h.SolutionWasm,bt.R=!1,xr.g=0}})}function Do(bt){var Mt,Dt,gt,At,Gt,Xt,yn,kn;return ho(function(Mn){if(Mn.g==1){if(bt.g.graph&&bt.g.graph.url&&bt.P===bt.g.graph.url)return Mn.return();if(bt.o=!0,!bt.g.graph||!bt.g.graph.url){Mn.g=2;return}return bt.P=bt.g.graph.url,Cr(Mn,$t(bt,bt.g.graph.url),3)}for(Mn.g!=2&&(Mt=Mn.h,bt.i.loadGraph(Mt)),Dt=Nn(Object.keys(bt.B)),gt=Dt.next();!gt.done;gt=Dt.next())At=gt.value,bt.i.overrideFile(At,bt.B[At]);if(bt.B={},bt.g.listeners)for(Gt=Nn(bt.g.listeners),Xt=Gt.next();!Xt.done;Xt=Gt.next())yn=Xt.value,Yn(bt,yn);kn=bt.j,bt.j={},bt.setOptions(kn),Mn.g=0})}xt.reset=function(){var bt=this;return ho(function(Mt){bt.i&&(bt.i.reset(),bt.m={},bt.s={}),Mt.g=0})},xt.setOptions=function(bt,Mt){var Dt=this;if(Mt=Mt||this.g.options){for(var gt=[],At=[],Gt={},Xt=Nn(Object.keys(bt)),yn=Xt.next();!yn.done;Gt={K:Gt.K,L:Gt.L},yn=Xt.next()){var kn=yn.value;kn in this.j&&this.j[kn]===bt[kn]||(this.j[kn]=bt[kn],yn=Mt[kn],yn!==void 0&&(yn.onChange&&(Gt.K=yn.onChange,Gt.L=bt[kn],gt.push(function(Mn){return function(){var _n;return ho(function(lr){if(lr.g==1)return Cr(lr,Mn.K(Mn.L),2);_n=lr.h,_n===!0&&(Dt.o=!0),lr.g=0})}}(Gt))),yn.graphOptionXref&&(kn={valueNumber:yn.type===1?bt[kn]:0,valueBoolean:yn.type===0?bt[kn]:!1,valueString:yn.type===2?bt[kn]:""},yn=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),yn.graphOptionXref),kn),At.push(yn))))}(gt.length!==0||At.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(At),this.v=(this.v===void 0?[]:this.v).concat(gt))}};function Lt(bt){var Mt,Dt,gt,At,Gt,Xt,yn;return ho(function(kn){switch(kn.g){case 1:if(!bt.o)return kn.return();if(!bt.v){kn.g=2;break}Mt=Nn(bt.v),Dt=Mt.next();case 3:if(Dt.done){kn.g=5;break}return gt=Dt.value,Cr(kn,gt(),4);case 4:Dt=Mt.next(),kn.g=3;break;case 5:bt.v=void 0;case 2:if(bt.A){for(At=new bt.h.GraphOptionChangeRequestList,Gt=Nn(bt.A),Xt=Gt.next();!Xt.done;Xt=Gt.next())yn=Xt.value,At.push_back(yn);bt.i.changeOptions(At),At.delete(),bt.A=void 0}bt.o=!1,kn.g=0}})}xt.initialize=function(){var bt=this;return ho(function(Mt){return Mt.g==1?Cr(Mt,Wo(bt),2):Mt.g!=3?Cr(Mt,Do(bt),3):Cr(Mt,Lt(bt),0)})};function $t(bt,Mt){var Dt,gt;return ho(function(At){return Mt in bt.F?At.return(bt.F[Mt]):(Dt=bt.locateFile(Mt,""),gt=fetch(Dt).then(function(Gt){return Gt.arrayBuffer()}),bt.F[Mt]=gt,At.return(gt))})}xt.overrideFile=function(bt,Mt){this.i?this.i.overrideFile(bt,Mt):this.B[bt]=Mt},xt.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},xt.send=function(bt,Mt){var Dt=this,gt,At,Gt,Xt,yn,kn,Mn,_n,lr;return ho(function(xr){switch(xr.g){case 1:return Dt.g.inputs?(gt=1e3*(Mt??performance.now()),Cr(xr,Dt.C,2)):xr.return();case 2:return Cr(xr,Dt.initialize(),3);case 3:for(At=new Dt.h.PacketDataList,Gt=Nn(Object.keys(bt)),Xt=Gt.next();!Xt.done;Xt=Gt.next())if(yn=Xt.value,kn=Dt.g.inputs[yn]){e:{var Rr=bt[yn];switch(kn.type){case"video":var zr=Dt.m[kn.stream];if(zr||(zr=new qn(Dt.h,Dt.D),Dt.m[kn.stream]=zr),zr.l===0&&(zr.l=zr.h.createTexture()),typeof HTMLVideoElement<"u"&&Rr instanceof HTMLVideoElement)var io=Rr.videoWidth,oo=Rr.videoHeight;else typeof HTMLImageElement<"u"&&Rr instanceof HTMLImageElement?(io=Rr.naturalWidth,oo=Rr.naturalHeight):(io=Rr.width,oo=Rr.height);oo={glName:zr.l,width:io,height:oo},io=zr.g,io.canvas.width=oo.width,io.canvas.height=oo.height,io.activeTexture(io.TEXTURE0),zr.h.bindTexture2d(zr.l),io.texImage2D(io.TEXTURE_2D,0,io.RGBA,io.RGBA,io.UNSIGNED_BYTE,Rr),zr.h.bindTexture2d(0),zr=oo;break e;case"detections":for(zr=Dt.m[kn.stream],zr||(zr=new fo(Dt.h),Dt.m[kn.stream]=zr),zr.data||(zr.data=new zr.g.DetectionListData),zr.data.reset(Rr.length),oo=0;oo<Rr.length;++oo){io=Rr[oo];var vo=zr.data,go=vo.setBoundingBox,as=oo,Os=io.T,As=new Po;if(No(As,1,Os.X),No(As,2,Os.Y),No(As,3,Os.height),No(As,4,Os.width),No(As,5,Os.rotation),No(As,6,Os.W),Os=ou(As,vs),go.call(vo,as,Os),io.O)for(vo=0;vo<io.O.length;++vo){As=io.O[vo];var Wl=!!As.visibility;go=zr.data,as=go.addNormalizedLandmark,Os=oo,As=Object.assign(Object.assign({},As),{visibility:Wl?As.visibility:0}),Wl=new hr,No(Wl,1,As.x),No(Wl,2,As.y),No(Wl,3,As.z),As.visibility&&No(Wl,4,As.visibility),As=ou(Wl,lo),as.call(go,Os,As)}if(io.M)for(vo=0;vo<io.M.length;++vo)go=zr.data,as=go.addClassification,Os=oo,As=io.M[vo],Wl=new Hu,No(Wl,2,As.score),As.index&&No(Wl,1,As.index),As.label&&No(Wl,3,As.label),As.displayName&&No(Wl,4,As.displayName),As=ou(Wl,jt),as.call(go,Os,As)}zr=zr.data;break e;default:zr={}}}switch(Mn=zr,_n=kn.stream,kn.type){case"video":At.pushTexture2d(Object.assign(Object.assign({},Mn),{stream:_n,timestamp:gt}));break;case"detections":lr=Mn,lr.stream=_n,lr.timestamp=gt,At.pushDetectionList(lr);break;default:throw Error("Unknown input config type: '"+kn.type+"'")}}return Dt.i.send(At),Cr(xr,Dt.C,4);case 4:At.delete(),xr.g=0}})};function hn(bt,Mt,Dt){var gt,At,Gt,Xt,yn,kn,Mn,_n,lr,xr,Rr,zr,io,oo;return ho(function(vo){switch(vo.g){case 1:if(!Dt)return vo.return(Mt);for(gt={},At=0,Gt=Nn(Object.keys(Dt)),Xt=Gt.next();!Xt.done;Xt=Gt.next())yn=Xt.value,kn=Dt[yn],typeof kn!="string"&&kn.type==="texture"&&Mt[kn.stream]!==void 0&&++At;1<At&&(bt.G=!1),Mn=Nn(Object.keys(Dt)),Xt=Mn.next();case 2:if(Xt.done){vo.g=4;break}if(_n=Xt.value,lr=Dt[_n],typeof lr=="string")return io=gt,oo=_n,Cr(vo,Rn(bt,_n,Mt[lr]),14);if(xr=Mt[lr.stream],lr.type==="detection_list"){if(xr){for(var go=xr.getRectList(),as=xr.getLandmarksList(),Os=xr.getClassificationsList(),As=[],Wl=0;Wl<go.size();++Wl){var Mu=Cp(go.get(Wl),Po,ks);Mu={T:{X:Ls(Mu,1),Y:Ls(Mu,2),height:Ls(Mu,3),width:Ls(Mu,4),rotation:Ls(Mu,5,0),W:Ps(Mu,6,0)},O:ar(as.get(Wl)),M:An(Cp(Os.get(Wl),dn,gr))},As.push(Mu)}go=As}else go=[];gt[_n]=go,vo.g=7;break}if(lr.type==="proto_list"){if(xr){for(go=Array(xr.size()),as=0;as<xr.size();as++)go[as]=xr.get(as);xr.delete()}else go=[];gt[_n]=go,vo.g=7;break}if(xr===void 0){vo.g=3;break}if(lr.type==="float_list"){gt[_n]=xr,vo.g=7;break}if(lr.type==="proto"){gt[_n]=xr,vo.g=7;break}if(lr.type!=="texture")throw Error("Unknown output config type: '"+lr.type+"'");return Rr=bt.s[_n],Rr||(Rr=new qn(bt.h,bt.D),bt.s[_n]=Rr),Cr(vo,Zr(Rr,xr,bt.G),13);case 13:zr=vo.h,gt[_n]=zr;case 7:lr.transform&&gt[_n]&&(gt[_n]=lr.transform(gt[_n])),vo.g=3;break;case 14:io[oo]=vo.h;case 3:Xt=Mn.next(),vo.g=2;break;case 4:return vo.return(gt)}})}function Rn(bt,Mt,Dt){var gt;return ho(function(At){return typeof Dt=="number"||Dt instanceof Uint8Array||Dt instanceof bt.h.Uint8BlobList?At.return(Dt):Dt instanceof bt.h.Texture2dDataOut?(gt=bt.s[Mt],gt||(gt=new qn(bt.h,bt.D),bt.s[Mt]=gt),At.return(Zr(gt,Dt,bt.G))):At.return(void 0)})}function Yn(bt,Mt){for(var Dt=Mt.name||"$",gt=[].concat(or(Mt.wants)),At=new bt.h.StringList,Gt=Nn(Mt.wants),Xt=Gt.next();!Xt.done;Xt=Gt.next())At.push_back(Xt.value);Gt=bt.h.PacketListener.implement({onResults:function(yn){for(var kn={},Mn=0;Mn<Mt.wants.length;++Mn)kn[gt[Mn]]=yn.get(Mn);var _n=bt.listeners[Dt];_n&&(bt.C=hn(bt,kn,Mt.outs).then(function(lr){lr=_n(lr);for(var xr=0;xr<Mt.wants.length;++xr){var Rr=kn[gt[xr]];typeof Rr=="object"&&Rr.hasOwnProperty&&Rr.hasOwnProperty("delete")&&Rr.delete()}lr&&(bt.C=lr)}))}}),bt.i.attachMultiListener(At,Gt),At.delete()}xt.onResults=function(bt,Mt){this.listeners[Mt||"$"]=bt},Bo("Solution",ko),Bo("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"});function It(bt){return bt.map(Wt)}function Wt(bt){bt=Cp(bt,Ht,Zn);var Mt=bt.getMesh();if(!Mt)return bt;var Dt=new Float32Array(Mt.getVertexBufferList());Mt.getVertexBufferList=function(){return Dt};var gt=new Uint32Array(Mt.getIndexBufferList());return Mt.getIndexBufferList=function(){return gt},bt}function Yt(bt){var Mt=this;bt=bt||{},this.g=new ko({locateFile:bt.locateFile,files:[{url:"holistic_solution_packed_assets_loader.js"},{simd:!1,url:"holistic_solution_wasm_bin.js"},{simd:!0,url:"holistic_solution_simd_wasm_bin.js"}],graph:{url:"holistic.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:"left_hand_landmarks right_hand_landmarks face_landmarks pose_landmarks world_landmarks segmentation_mask image_transformed multi_face_geometry".split(" "),outs:{image:{type:"texture",stream:"image_transformed"},leftHandLandmarks:{type:"proto",stream:"left_hand_landmarks",transform:ar},rightHandLandmarks:{type:"proto",stream:"right_hand_landmarks",transform:ar},faceLandmarks:{type:"proto",stream:"face_landmarks",transform:ar},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:ar},ea:{type:"proto",stream:"world_landmarks",transform:ar},segmentationMask:{type:"texture",stream:"segmentation_mask"},multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:It}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,default:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(Dt){var gt,At,Gt,Xt;return ho(function(yn){if(yn.g==1){switch(gt="",Dt){case 1:gt="pose_landmark_full.tflite";break;case 2:gt="pose_landmark_heavy.tflite";break;default:gt="pose_landmark_lite.tflite"}return At="third_party/mediapipe/modules/pose_landmark/"+gt,Gt=Mt.g.locateFile(gt,""),Cr(yn,fetch(Gt),3)}return yn.g!=2?Cr(yn,yn.h.arrayBuffer(),2):(Xt=yn.h,Mt.g.overrideFile(At,Xt),Cr(yn,Mt.g.reset(),0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},refineFaceLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineFaceLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}})}xt=Yt.prototype,xt.close=function(){return this.g.close(),nt.resolve()},xt.onResults=function(bt){this.g.onResults(bt)},xt.initialize=function(){var bt=this;return ho(function(Mt){return Cr(Mt,bt.g.initialize(),0)})},xt.reset=function(){this.g.reset()},xt.send=function(bt){var Mt=this;return ho(function(Dt){return Cr(Dt,Mt.g.send(bt),0)})},xt.setOptions=function(bt){this.g.setOptions(bt)},Bo("Holistic",Yt),Bo("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),Bo("FACEMESH_LIPS",nr),Bo("FACEMESH_LEFT_EYE",Tr),Bo("FACEMESH_LEFT_EYEBROW",rr),Bo("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),Bo("FACEMESH_RIGHT_EYE",kr),Bo("FACEMESH_RIGHT_EYEBROW",Jr),Bo("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),Bo("FACEMESH_FACE_OVAL",Ot),Bo("FACEMESH_CONTOURS",Jt),Bo("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),Bo("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),Bo("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),Bo("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),Bo("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),Bo("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),Bo("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),Bo("matrixDataToMatrix",function(bt){for(var Mt=bt.getCols(),Dt=bt.getRows(),gt=bt.getPackedDataList(),At=[],Gt=0;Gt<Dt;Gt++)At.push(Array(Mt));for(Gt=0;Gt<Dt;Gt++)for(var Xt=0;Xt<Mt;Xt++){var yn=bt.getLayout()===1?Gt*Mt+Xt:Xt*Dt+Gt;At[Gt][Xt]=gt[yn]}return At}),Bo("VERSION","0.5.1635989137")}).call(vu);const Yu={};(function(){var xt;function St(It){var Wt=0;return function(){return Wt<It.length?{done:!1,value:It[Wt++]}:{done:!0}}}var Tt=typeof Object.defineProperties=="function"?Object.defineProperty:function(It,Wt,Yt){return It==Array.prototype||It==Object.prototype||(It[Wt]=Yt.value),It};function Ut(It){It=[typeof globalThis=="object"&&globalThis,It,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Wt=0;Wt<It.length;++Wt){var Yt=It[Wt];if(Yt&&Yt.Math==Math)return Yt}throw Error("Cannot find global object")}var Qt=Ut(this);function In(It,Wt){if(Wt)e:{var Yt=Qt;It=It.split(".");for(var bt=0;bt<It.length-1;bt++){var Mt=It[bt];if(!(Mt in Yt))break e;Yt=Yt[Mt]}It=It[It.length-1],bt=Yt[It],Wt=Wt(bt),Wt!=bt&&Wt!=null&&Tt(Yt,It,{configurable:!0,writable:!0,value:Wt})}}In("Symbol",function(It){function Wt(Dt){if(this instanceof Wt)throw new TypeError("Symbol is not a constructor");return new Yt(bt+(Dt||"")+"_"+Mt++,Dt)}function Yt(Dt,gt){this.g=Dt,Tt(this,"description",{configurable:!0,writable:!0,value:gt})}if(It)return It;Yt.prototype.toString=function(){return this.g};var bt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Mt=0;return Wt}),In("Symbol.iterator",function(It){if(It)return It;It=Symbol("Symbol.iterator");for(var Wt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Yt=0;Yt<Wt.length;Yt++){var bt=Qt[Wt[Yt]];typeof bt=="function"&&typeof bt.prototype[It]!="function"&&Tt(bt.prototype,It,{configurable:!0,writable:!0,value:function(){return Xn(St(this))}})}return It});function Xn(It){return It={next:It},It[Symbol.iterator]=function(){return this},It}function Nn(It){var Wt=typeof Symbol<"u"&&Symbol.iterator&&It[Symbol.iterator];return Wt?Wt.call(It):{next:St(It)}}function or(It){if(!(It instanceof Array)){It=Nn(It);for(var Wt,Yt=[];!(Wt=It.next()).done;)Yt.push(Wt.value);It=Yt}return It}var Br=typeof Object.create=="function"?Object.create:function(It){function Wt(){}return Wt.prototype=It,new Wt},eo;if(typeof Object.setPrototypeOf=="function")eo=Object.setPrototypeOf;else{var ao;e:{var Zo={a:!0},Fo={};try{Fo.__proto__=Zo,ao=Fo.a;break e}catch{}ao=!1}eo=ao?function(It,Wt){if(It.__proto__=Wt,It.__proto__!==Wt)throw new TypeError(It+" is not extensible");return It}:null}var no=eo;function uo(It,Wt){if(It.prototype=Br(Wt.prototype),It.prototype.constructor=It,no)no(It,Wt);else for(var Yt in Wt)if(Yt!="prototype")if(Object.defineProperties){var bt=Object.getOwnPropertyDescriptor(Wt,Yt);bt&&Object.defineProperty(It,Yt,bt)}else It[Yt]=Wt[Yt];It.na=Wt.prototype}function es(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function ts(It){if(It.l)throw new TypeError("Generator is already running");It.l=!0}es.prototype.s=function(It){this.h=It};function Cs(It,Wt){It.j={da:Wt,ea:!0},It.g=It.o||It.u}es.prototype.return=function(It){this.j={return:It},this.g=this.u};function Cr(It,Wt,Yt){return It.g=Yt,{value:Wt}}function du(It){this.g=new es,this.h=It}function tu(It,Wt){ts(It.g);var Yt=It.g.i;return Yt?Js(It,"return"in Yt?Yt.return:function(bt){return{value:bt,done:!0}},Wt,It.g.return):(It.g.return(Wt),ls(It))}function Js(It,Wt,Yt,bt){try{var Mt=Wt.call(It.g.i,Yt);if(!(Mt instanceof Object))throw new TypeError("Iterator result "+Mt+" is not an object");if(!Mt.done)return It.g.l=!1,Mt;var Dt=Mt.value}catch(gt){return It.g.i=null,Cs(It.g,gt),ls(It)}return It.g.i=null,bt.call(It.g,Dt),ls(It)}function ls(It){for(;It.g.g;)try{var Wt=It.h(It.g);if(Wt)return It.g.l=!1,{value:Wt.value,done:!1}}catch(Yt){It.g.h=void 0,Cs(It.g,Yt)}if(It.g.l=!1,It.g.j){if(Wt=It.g.j,It.g.j=null,Wt.ea)throw Wt.da;return{value:Wt.return,done:!0}}return{value:void 0,done:!0}}function rp(It){this.next=function(Wt){return ts(It.g),It.g.i?Wt=Js(It,It.g.i.next,Wt,It.g.s):(It.g.s(Wt),Wt=ls(It)),Wt},this.throw=function(Wt){return ts(It.g),It.g.i?Wt=Js(It,It.g.i.throw,Wt,It.g.s):(Cs(It.g,Wt),Wt=ls(It)),Wt},this.return=function(Wt){return tu(It,Wt)},this[Symbol.iterator]=function(){return this}}function Ts(It){function Wt(bt){return It.next(bt)}function Yt(bt){return It.throw(bt)}return new nt(function(bt,Mt){function Dt(gt){gt.done?bt(gt.value):nt.resolve(gt.value).then(Wt,Yt).then(Dt,Mt)}Dt(It.next())})}function ho(It){return Ts(new rp(new du(It)))}In("Promise",function(It){function Wt(gt){this.h=0,this.i=void 0,this.g=[],this.s=!1;var At=this.j();try{gt(At.resolve,At.reject)}catch(Gt){At.reject(Gt)}}function Yt(){this.g=null}function bt(gt){return gt instanceof Wt?gt:new Wt(function(At){At(gt)})}if(It)return It;Yt.prototype.h=function(gt){if(this.g==null){this.g=[];var At=this;this.i(function(){At.l()})}this.g.push(gt)};var Mt=Qt.setTimeout;Yt.prototype.i=function(gt){Mt(gt,0)},Yt.prototype.l=function(){for(;this.g&&this.g.length;){var gt=this.g;this.g=[];for(var At=0;At<gt.length;++At){var Gt=gt[At];gt[At]=null;try{Gt()}catch(Xt){this.j(Xt)}}}this.g=null},Yt.prototype.j=function(gt){this.i(function(){throw gt})},Wt.prototype.j=function(){function gt(Xt){return function(yn){Gt||(Gt=!0,Xt.call(At,yn))}}var At=this,Gt=!1;return{resolve:gt(this.D),reject:gt(this.l)}},Wt.prototype.D=function(gt){if(gt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(gt instanceof Wt)this.H(gt);else{e:switch(typeof gt){case"object":var At=gt!=null;break e;case"function":At=!0;break e;default:At=!1}At?this.A(gt):this.o(gt)}},Wt.prototype.A=function(gt){var At=void 0;try{At=gt.then}catch(Gt){this.l(Gt);return}typeof At=="function"?this.I(At,gt):this.o(gt)},Wt.prototype.l=function(gt){this.u(2,gt)},Wt.prototype.o=function(gt){this.u(1,gt)},Wt.prototype.u=function(gt,At){if(this.h!=0)throw Error("Cannot settle("+gt+", "+At+"): Promise already settled in state"+this.h);this.h=gt,this.i=At,this.h===2&&this.G(),this.B()},Wt.prototype.G=function(){var gt=this;Mt(function(){if(gt.C()){var At=Qt.console;typeof At<"u"&&At.error(gt.i)}},1)},Wt.prototype.C=function(){if(this.s)return!1;var gt=Qt.CustomEvent,At=Qt.Event,Gt=Qt.dispatchEvent;return typeof Gt>"u"?!0:(typeof gt=="function"?gt=new gt("unhandledrejection",{cancelable:!0}):typeof At=="function"?gt=new At("unhandledrejection",{cancelable:!0}):(gt=Qt.document.createEvent("CustomEvent"),gt.initCustomEvent("unhandledrejection",!1,!0,gt)),gt.promise=this,gt.reason=this.i,Gt(gt))},Wt.prototype.B=function(){if(this.g!=null){for(var gt=0;gt<this.g.length;++gt)Dt.h(this.g[gt]);this.g=null}};var Dt=new Yt;return Wt.prototype.H=function(gt){var At=this.j();gt.M(At.resolve,At.reject)},Wt.prototype.I=function(gt,At){var Gt=this.j();try{gt.call(At,Gt.resolve,Gt.reject)}catch(Xt){Gt.reject(Xt)}},Wt.prototype.then=function(gt,At){function Gt(Mn,_n){return typeof Mn=="function"?function(lr){try{Xt(Mn(lr))}catch(xr){yn(xr)}}:_n}var Xt,yn,kn=new Wt(function(Mn,_n){Xt=Mn,yn=_n});return this.M(Gt(gt,Xt),Gt(At,yn)),kn},Wt.prototype.catch=function(gt){return this.then(void 0,gt)},Wt.prototype.M=function(gt,At){function Gt(){switch(Xt.h){case 1:gt(Xt.i);break;case 2:At(Xt.i);break;default:throw Error("Unexpected state: "+Xt.h)}}var Xt=this;this.g==null?Dt.h(Gt):this.g.push(Gt),this.s=!0},Wt.resolve=bt,Wt.reject=function(gt){return new Wt(function(At,Gt){Gt(gt)})},Wt.race=function(gt){return new Wt(function(At,Gt){for(var Xt=Nn(gt),yn=Xt.next();!yn.done;yn=Xt.next())bt(yn.value).M(At,Gt)})},Wt.all=function(gt){var At=Nn(gt),Gt=At.next();return Gt.done?bt([]):new Wt(function(Xt,yn){function kn(lr){return function(xr){Mn[lr]=xr,_n--,_n==0&&Xt(Mn)}}var Mn=[],_n=0;do Mn.push(void 0),_n++,bt(Gt.value).M(kn(Mn.length-1),yn),Gt=At.next();while(!Gt.done)})},Wt});function xu(It,Wt){It instanceof String&&(It+="");var Yt=0,bt=!1,Mt={next:function(){if(!bt&&Yt<It.length){var Dt=Yt++;return{value:Wt(Dt,It[Dt]),done:!1}}return bt=!0,{done:!0,value:void 0}}};return Mt[Symbol.iterator]=function(){return Mt},Mt}var Ep=typeof Object.assign=="function"?Object.assign:function(It,Wt){for(var Yt=1;Yt<arguments.length;Yt++){var bt=arguments[Yt];if(bt)for(var Mt in bt)Object.prototype.hasOwnProperty.call(bt,Mt)&&(It[Mt]=bt[Mt])}return It};In("Object.assign",function(It){return It||Ep}),In("Object.is",function(It){return It||function(Wt,Yt){return Wt===Yt?Wt!==0||1/Wt===1/Yt:Wt!==Wt&&Yt!==Yt}}),In("Array.prototype.includes",function(It){return It||function(Wt,Yt){var bt=this;bt instanceof String&&(bt=String(bt));var Mt=bt.length;for(Yt=Yt||0,0>Yt&&(Yt=Math.max(Yt+Mt,0));Yt<Mt;Yt++){var Dt=bt[Yt];if(Dt===Wt||Object.is(Dt,Wt))return!0}return!1}}),In("String.prototype.includes",function(It){return It||function(Wt,Yt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Wt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Wt,Yt||0)!==-1}}),In("Array.prototype.keys",function(It){return It||function(){return xu(this,function(Wt){return Wt})}});var $a=this||self;function Bo(It,Wt){It=It.split(".");var Yt=$a;It[0]in Yt||typeof Yt.execScript>"u"||Yt.execScript("var "+It[0]);for(var bt;It.length&&(bt=It.shift());)It.length||Wt===void 0?Yt[bt]&&Yt[bt]!==Object.prototype[bt]?Yt=Yt[bt]:Yt=Yt[bt]={}:Yt[bt]=Wt}function Tl(){throw Error("Invalid UTF8")}function fu(It,Wt){return Wt=String.fromCharCode.apply(null,Wt),It==null?Wt:It+Wt}var Nu,_u=typeof TextDecoder<"u",Gu,ip=typeof TextEncoder<"u",bu={},Ru=null;function lp(It){var Wt;Wt===void 0&&(Wt=0),Yl(),Wt=bu[Wt];for(var Yt=Array(Math.floor(It.length/3)),bt=Wt[64]||"",Mt=0,Dt=0;Mt<It.length-2;Mt+=3){var gt=It[Mt],At=It[Mt+1],Gt=It[Mt+2],Xt=Wt[gt>>2];gt=Wt[(gt&3)<<4|At>>4],At=Wt[(At&15)<<2|Gt>>6],Gt=Wt[Gt&63],Yt[Dt++]=Xt+gt+At+Gt}switch(Xt=0,Gt=bt,It.length-Mt){case 2:Xt=It[Mt+1],Gt=Wt[(Xt&15)<<2]||bt;case 1:It=It[Mt],Yt[Dt]=Wt[It>>2]+Wt[(It&3)<<4|Xt>>4]+Gt+bt}return Yt.join("")}function qu(It){var Wt=It.length,Yt=3*Wt/4;Yt%3?Yt=Math.floor(Yt):"=.".indexOf(It[Wt-1])!=-1&&(Yt="=.".indexOf(It[Wt-2])!=-1?Yt-2:Yt-1);var bt=new Uint8Array(Yt),Mt=0;return Kl(It,function(Dt){bt[Mt++]=Dt}),Mt!==Yt?bt.subarray(0,Mt):bt}function Kl(It,Wt){function Yt(Gt){for(;bt<It.length;){var Xt=It.charAt(bt++),yn=Ru[Xt];if(yn!=null)return yn;if(!/^[\s\xa0]*$/.test(Xt))throw Error("Unknown base64 encoding at char: "+Xt)}return Gt}Yl();for(var bt=0;;){var Mt=Yt(-1),Dt=Yt(0),gt=Yt(64),At=Yt(64);if(At===64&&Mt===-1)break;Wt(Mt<<2|Dt>>4),gt!=64&&(Wt(Dt<<4&240|gt>>2),At!=64&&Wt(gt<<6&192|At))}}function Yl(){if(!Ru){Ru={};for(var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Wt=["+/=","+/","-_=","-_.","-_"],Yt=0;5>Yt;Yt++){var bt=It.concat(Wt[Yt].split(""));bu[Yt]=bt;for(var Mt=0;Mt<bt.length;Mt++){var Dt=bt[Mt];Ru[Dt]===void 0&&(Ru[Dt]=Mt)}}}}var Wu=typeof Uint8Array=="function";function Pu(It){return Wu&&It!=null&&It instanceof Uint8Array}var Fs;function Cl(It){if(this.L=It,It!==null&&It.length===0)throw Error("ByteString should be constructed with non-empty values")}var Jl=typeof Uint8Array.prototype.slice=="function",xs=0,ga=0;function pu(It,Wt){if(It.constructor===Uint8Array)return It;if(It.constructor===ArrayBuffer)return new Uint8Array(It);if(It.constructor===Array)return new Uint8Array(It);if(It.constructor===String)return qu(It);if(It.constructor===Cl)return!Wt&&(Wt=It.L)&&Wt.constructor===Uint8Array?Wt:(Wt=It.L,Wt=Wt==null||Pu(Wt)?Wt:typeof Wt=="string"?qu(Wt):null,(It=It.L=Wt)?new Uint8Array(It):Fs||(Fs=new Uint8Array(0)));if(It instanceof Uint8Array)return new Uint8Array(It.buffer,It.byteOffset,It.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Xl(It,Wt){return Error("Invalid wire type: "+It+" (at position "+Wt+")")}function gs(){return Error("Failed to read varint, encoding is invalid.")}function $s(It,Wt){Wt=Wt===void 0?{}:Wt,Wt=Wt.v===void 0?!1:Wt.v,this.h=null,this.g=this.i=this.j=0,this.v=Wt,It&&Ll(this,It)}function Ll(It,Wt){It.h=pu(Wt,It.v),It.j=0,It.i=It.h.length,It.g=It.j}$s.prototype.reset=function(){this.g=this.j};function ns(It){if(It.g>It.i)throw Error("Tried to read past the end of the data "+It.g+" > "+It.i)}function yl(It){var Wt=It.h,Yt=Wt[It.g],bt=Yt&127;if(128>Yt)return It.g+=1,ns(It),bt;if(Yt=Wt[It.g+1],bt|=(Yt&127)<<7,128>Yt)return It.g+=2,ns(It),bt;if(Yt=Wt[It.g+2],bt|=(Yt&127)<<14,128>Yt)return It.g+=3,ns(It),bt;if(Yt=Wt[It.g+3],bt|=(Yt&127)<<21,128>Yt)return It.g+=4,ns(It),bt;if(Yt=Wt[It.g+4],It.g+=5,bt|=(Yt&15)<<28,128>Yt)return ns(It),bt;if(128<=Wt[It.g++]&&128<=Wt[It.g++]&&128<=Wt[It.g++]&&128<=Wt[It.g++]&&128<=Wt[It.g++])throw gs();return ns(It),bt}var ds=[];function Bs(){this.g=[]}Bs.prototype.length=function(){return this.g.length},Bs.prototype.end=function(){var It=this.g;return this.g=[],It};function xl(It,Wt){for(;127<Wt;)It.g.push(Wt&127|128),Wt>>>=7;It.g.push(Wt)}function nu(It){var Wt={},Yt=Wt.W===void 0?!1:Wt.W;this.l={v:Wt.v===void 0?!1:Wt.v},this.W=Yt,Wt=this.l,ds.length?(Yt=ds.pop(),Wt&&(Yt.v=Wt.v),It&&Ll(Yt,It),It=Yt):It=new $s(It,Wt),this.g=It,this.j=this.g.g,this.h=this.i=-1}nu.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function Qs(It){var Wt=It.g;if(Wt.g==Wt.i)return!1;It.j=It.g.g;var Yt=yl(It.g)>>>0;if(Wt=Yt>>>3,Yt&=7,!(0<=Yt&&5>=Yt))throw Xl(Yt,It.j);if(1>Wt)throw Error("Invalid field number: "+Wt+" (at position "+It.j+")");return It.i=Wt,It.h=Yt,!0}function fs(It){switch(It.h){case 0:if(It.h!=0)fs(It);else e:{It=It.g;for(var Wt=It.g,Yt=Wt+10;Wt<Yt;)if(!(It.h[Wt++]&128)){It.g=Wt,ns(It);break e}throw gs()}break;case 1:It=It.g,It.g+=8,ns(It);break;case 2:It.h!=2?fs(It):(Wt=yl(It.g)>>>0,It=It.g,It.g+=Wt,ns(It));break;case 5:It=It.g,It.g+=4,ns(It);break;case 3:Wt=It.i;do{if(!Qs(It))throw Error("Unmatched start-group tag: stream EOF");if(It.h==4){if(It.i!=Wt)throw Error("Unmatched end-group tag");break}fs(It)}while(1);break;default:throw Xl(It.h,It.j)}}var $l=[];function Ql(){this.i=[],this.h=0,this.g=new Bs}function Sl(It,Wt){Wt.length!==0&&(It.i.push(Wt),It.h+=Wt.length)}function Vu(It,Wt){if(Wt=Wt.ba){Sl(It,It.g.end());for(var Yt=0;Yt<Wt.length;Yt++)Sl(It,Wt[Yt])}}var hu=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function _l(It,Wt){Object.isFrozen(It)||(hu?It[hu]|=Wt:It.N!==void 0?It.N|=Wt:Object.defineProperties(It,{N:{value:Wt,configurable:!0,writable:!0,enumerable:!1}}))}function mu(It){var Wt;return hu?Wt=It[hu]:Wt=It.N,Wt??0}function zs(It){return _l(It,1),It}function Rl(It){return Array.isArray(It)?!!(mu(It)&2):!1}function Ks(It){if(!Array.isArray(It))throw Error("cannot mark non-array as immutable");_l(It,2)}function Rs(It){return It!==null&&typeof It=="object"&&!Array.isArray(It)&&It.constructor===Object}var eu=Object.freeze(zs([]));function Ss(It){if(Rl(It.m))throw Error("Cannot mutate an immutable Message")}var ps=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function Su(It){return{value:It,configurable:!1,writable:!1,enumerable:!1}}function Ds(It,Wt,Yt){return Wt===-1?null:Wt>=It.i?It.g?It.g[Wt]:void 0:Yt!==void 0&&Yt&&It.g&&(Yt=It.g[Wt],Yt!=null)?Yt:It.m[Wt+It.h]}function Xo(It,Wt,Yt,bt){bt=bt===void 0?!1:bt,Ss(It),Wt<It.i&&!bt?It.m[Wt+It.h]=Yt:(It.g||(It.g=It.m[It.i+It.h]={}))[Wt]=Yt}function Io(It,Wt,Yt,bt){Yt=Yt===void 0?!0:Yt,bt=bt===void 0?!1:bt;var Mt=Ds(It,Wt,bt);return Mt==null&&(Mt=eu),Rl(It.m)?Yt&&(Ks(Mt),Object.freeze(Mt)):(Mt===eu||Rl(Mt))&&(Mt=zs(Mt.slice()),Xo(It,Wt,Mt,bt)),Mt}function Is(It,Wt,Yt){return It=Ds(It,Wt),It=It==null?It:+It,It??(Yt===void 0?0:Yt)}function Il(It,Wt,Yt,bt){It.j||(It.j={});var Mt=Rl(It.m),Dt=It.j[Yt];if(!Dt){bt=Io(It,Yt,!0,bt===void 0?!1:bt),Dt=[],Mt=Mt||Rl(bt);for(var gt=0;gt<bt.length;gt++)Dt[gt]=new Wt(bt[gt]),Mt&&Ks(Dt[gt].m);Mt&&(Ks(Dt),Object.freeze(Dt)),It.j[Yt]=Dt}return Dt}function Es(It,Wt,Yt,bt,Mt){var Dt=Dt===void 0?!1:Dt;return Ss(It),Dt=Il(It,Yt,Wt,Dt),Yt=bt||new Yt,It=Io(It,Wt),Mt!=null?(Dt.splice(Mt,0,Yt),It.splice(Mt,0,Yt.m)):(Dt.push(Yt),It.push(Yt.m)),Yt}function ws(It,Wt){return It=Ds(It,Wt),It??0}function Vr(It,Wt){return It=Ds(It,Wt),It??""}function jr(It){switch(typeof It){case"number":return isFinite(It)?It:String(It);case"object":if(It&&!Array.isArray(It)){if(Pu(It))return lp(It);if(It instanceof Cl){var Wt=It.L;return Wt=Wt==null||typeof Wt=="string"?Wt:Wu&&Wt instanceof Uint8Array?lp(Wt):null,(It.L=Wt)||""}}}return It}function _r(It){var Wt=Ls;return Wt=Wt===void 0?No:Wt,Ps(It,Wt)}function hs(It,Wt){if(It!=null){if(Array.isArray(It))It=Ps(It,Wt);else if(Rs(It)){var Yt={},bt;for(bt in It)Yt[bt]=hs(It[bt],Wt);It=Yt}else It=Wt(It);return It}}function Ps(It,Wt){for(var Yt=It.slice(),bt=0;bt<Yt.length;bt++)Yt[bt]=hs(Yt[bt],Wt);return Array.isArray(It)&&mu(It)&1&&zs(Yt),Yt}function Ls(It){return It&&typeof It=="object"&&It.toJSON?It.toJSON():(It=jr(It),Array.isArray(It)?_r(It):It)}function No(It){return Pu(It)?new Uint8Array(It):It}function js(It,Wt,Yt){It||(It=Nl),Nl=null;var bt=this.constructor.h;It||(It=bt?[bt]:[]),this.h=(bt?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=It;e:{if(bt=this.m.length,It=bt-1,bt&&(bt=this.m[It],Rs(bt))){this.i=It-this.h,this.g=bt;break e}Wt!==void 0&&-1<Wt?(this.i=Math.max(Wt,It+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(Yt)for(Wt=0;Wt<Yt.length;Wt++)if(It=Yt[Wt],It<this.i)It+=this.h,(bt=this.m[It])?Array.isArray(bt)&&zs(bt):this.m[It]=eu;else{bt=this.g||(this.g=this.m[this.i+this.h]={});var Mt=bt[It];Mt?Array.isArray(Mt)&&zs(Mt):bt[It]=eu}}js.prototype.toJSON=function(){return _r(this.m)},js.prototype.toString=function(){return this.m.toString()};var Nl;function ru(){js.apply(this,arguments)}if(uo(ru,js),ps){var iu={};Object.defineProperties(ru,(iu[Symbol.hasInstance]=Su(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),iu))}function Eu(It,Wt,Yt){if(Yt){var bt={},Mt;for(Mt in Yt){var Dt=Yt[Mt],gt=Dt.ha;gt||(bt.F=Dt.la||Dt.fa.P,Dt.aa?(bt.U=Fu(Dt.aa),gt=function(At){return function(Gt,Xt,yn){return At.F(Gt,Xt,yn,At.U)}}(bt)):Dt.ca?(bt.T=Ul(Dt.X.g,Dt.ca),gt=function(At){return function(Gt,Xt,yn){return At.F(Gt,Xt,yn,At.T)}}(bt)):gt=bt.F,Dt.ha=gt),gt(Wt,It,Dt.X),bt={F:bt.F,U:bt.U,T:bt.T}}}Vu(Wt,It)}var Iu=Symbol();function Ol(It,Wt,Yt){return It[Iu]||(It[Iu]=function(bt,Mt){return Wt(bt,Mt,Yt)})}function ou(It){var Wt=It[Iu];if(!Wt){var Yt=jt(It);Wt=function(bt,Mt){return ln(bt,Mt,Yt)},It[Iu]=Wt}return Wt}function Cp(It){var Wt=It.aa;if(Wt)return ou(Wt);if(Wt=It.ka)return Ol(It.X.g,Wt,It.ca)}function su(It){var Wt=Cp(It),Yt=It.X,bt=It.fa.O;return Wt?function(Mt,Dt){return bt(Mt,Dt,Yt,Wt)}:function(Mt,Dt){return bt(Mt,Dt,Yt)}}function Pl(It,Wt,Yt,bt,Mt,Dt){It=It();var gt=0;for(It.length&&typeof It[0]!="number"&&(Yt(Wt,It[0]),gt++);gt<It.length;){Yt=It[gt++];for(var At=gt+1;At<It.length&&typeof It[At]!="number";)At++;var Gt=It[gt++];switch(At-=gt,At){case 0:bt(Wt,Yt,Gt);break;case 1:bt(Wt,Yt,Gt,It[gt++]);break;case 2:Mt(Wt,Yt,Gt,It[gt++],It[gt++]);break;case 3:At=It[gt++];var Xt=It[gt++],yn=It[gt++];Array.isArray(yn)?Mt(Wt,Yt,Gt,At,Xt,yn):Dt(Wt,Yt,Gt,At,Xt,yn);break;case 4:Dt(Wt,Yt,Gt,It[gt++],It[gt++],It[gt++],It[gt++]);break;default:throw Error("unexpected number of binary field arguments: "+At)}}return Wt}var Lu=Symbol();function Fu(It){var Wt=It[Lu];if(!Wt){var Yt=gu(It);Wt=function(bt,Mt){return Kn(bt,Mt,Yt)},It[Lu]=Wt}return Wt}function Ul(It,Wt){var Yt=It[Lu];return Yt||(Yt=function(bt,Mt){return Eu(bt,Mt,Wt)},It[Lu]=Yt),Yt}var up=Symbol();function au(It,Wt){It.push(Wt)}function ku(It,Wt,Yt){It.push(Wt,Yt.P)}function Uu(It,Wt,Yt,bt,Mt){var Dt=Fu(Mt),gt=Yt.P;It.push(Wt,function(At,Gt,Xt){return gt(At,Gt,Xt,bt,Dt)})}function yp(It,Wt,Yt,bt,Mt,Dt){var gt=Ul(bt,Dt),At=Yt.P;It.push(Wt,function(Gt,Xt,yn){return At(Gt,Xt,yn,bt,gt)})}function gu(It){var Wt=It[up];return Wt||Pl(It,It[up]=[],au,ku,Uu,yp)}var Bu=Symbol();function Vp(It,Wt){It[0]=Wt}function Mp(It,Wt,Yt,bt){var Mt=Yt.O;It[Wt]=bt?function(Dt,gt,At){return Mt(Dt,gt,At,bt)}:Mt}function Hu(It,Wt,Yt,bt,Mt,Dt){var gt=Yt.O,At=ou(Mt);It[Wt]=function(Gt,Xt,yn){return gt(Gt,Xt,yn,bt,At,Dt)}}function _d(It,Wt,Yt,bt,Mt,Dt,gt){var At=Yt.O,Gt=Ol(bt,Mt,Dt);It[Wt]=function(Xt,yn,kn){return At(Xt,yn,kn,bt,Gt,gt)}}function jt(It){var Wt=It[Bu];return Wt||Pl(It,It[Bu]={},Vp,Mp,Hu,_d)}function ln(It,Wt,Yt){for(;Qs(Wt)&&Wt.h!=4;){var bt=Wt.i,Mt=Yt[bt];if(!Mt){var Dt=Yt[0];Dt&&(Dt=Dt[bt])&&(Mt=Yt[bt]=su(Dt))}if((!Mt||!Mt(Wt,It,bt))&&(Mt=Wt,bt=It,Dt=Mt.j,fs(Mt),!Mt.W)){var gt=Mt.g.h;Mt=Mt.g.g,Mt=Dt===Mt?Fs||(Fs=new Uint8Array(0)):Jl?gt.slice(Dt,Mt):new Uint8Array(gt.subarray(Dt,Mt)),(Dt=bt.ba)?Dt.push(Mt):bt.ba=[Mt]}}return It}function dn(It,Wt,Yt){if($l.length){var bt=$l.pop();It&&(Ll(bt.g,It),bt.i=-1,bt.h=-1),It=bt}else It=new nu(It);try{return ln(new Wt,It,jt(Yt))}finally{Wt=It.g,Wt.h=null,Wt.j=0,Wt.i=0,Wt.g=0,Wt.v=!1,It.i=-1,It.h=-1,100>$l.length&&$l.push(It)}}function Kn(It,Wt,Yt){for(var bt=Yt.length,Mt=bt%2==1,Dt=Mt?1:0;Dt<bt;Dt+=2)(0,Yt[Dt+1])(Wt,It,Yt[Dt]);Eu(It,Wt,Mt?Yt[0]:void 0)}function gr(It,Wt){var Yt=new Ql;Kn(It,Yt,gu(Wt)),Sl(Yt,Yt.g.end()),It=new Uint8Array(Yt.h),Wt=Yt.i;for(var bt=Wt.length,Mt=0,Dt=0;Dt<bt;Dt++){var gt=Wt[Dt];It.set(gt,Mt),Mt+=gt.length}return Yt.i=[It],It}function Hr(It,Wt){return{O:It,P:Wt}}var hr=Hr(function(It,Wt,Yt){if(It.h!==5)return!1;It=It.g;var bt=It.h[It.g],Mt=It.h[It.g+1],Dt=It.h[It.g+2],gt=It.h[It.g+3];return It.g+=4,ns(It),Mt=(bt<<0|Mt<<8|Dt<<16|gt<<24)>>>0,It=2*(Mt>>31)+1,bt=Mt>>>23&255,Mt&=8388607,Xo(Wt,Yt,bt==255?Mt?NaN:1/0*It:bt==0?It*Math.pow(2,-149)*Mt:It*Math.pow(2,bt-150)*(Mt+Math.pow(2,23))),!0},function(It,Wt,Yt){if(Wt=Ds(Wt,Yt),Wt!=null){xl(It.g,8*Yt+5),It=It.g;var bt=Wt;bt=(Yt=0>bt?1:0)?-bt:bt,bt===0?0<1/bt?xs=ga=0:(ga=0,xs=2147483648):isNaN(bt)?(ga=0,xs=2147483647):34028234663852886e22<bt?(ga=0,xs=(Yt<<31|2139095040)>>>0):11754943508222875e-54>bt?(bt=Math.round(bt/Math.pow(2,-149)),ga=0,xs=(Yt<<31|bt)>>>0):(Wt=Math.floor(Math.log(bt)/Math.LN2),bt*=Math.pow(2,-Wt),bt=Math.round(8388608*bt),16777216<=bt&&++Wt,ga=0,xs=(Yt<<31|Wt+127<<23|bt&8388607)>>>0),Yt=xs,It.g.push(Yt>>>0&255),It.g.push(Yt>>>8&255),It.g.push(Yt>>>16&255),It.g.push(Yt>>>24&255)}}),Fr=Hr(function(It,Wt,Yt){if(It.h!==0)return!1;for(var bt=It.g,Mt=128,Dt=0,gt=It=0;4>gt&&128<=Mt;gt++)Mt=bt.h[bt.g++],ns(bt),Dt|=(Mt&127)<<7*gt;if(128<=Mt&&(Mt=bt.h[bt.g++],ns(bt),Dt|=(Mt&127)<<28,It|=(Mt&127)>>4),128<=Mt)for(gt=0;5>gt&&128<=Mt;gt++)Mt=bt.h[bt.g++],ns(bt),It|=(Mt&127)<<7*gt+3;if(128>Mt)bt=Dt>>>0,Mt=It>>>0,(It=Mt&2147483648)&&(bt=~bt+1>>>0,Mt=~Mt>>>0,bt==0&&(Mt=Mt+1>>>0)),bt=4294967296*Mt+(bt>>>0);else throw gs();return Xo(Wt,Yt,It?-bt:bt),!0},function(It,Wt,Yt){if(Wt=Ds(Wt,Yt),Wt!=null&&Wt!=null){xl(It.g,8*Yt),It=It.g;var bt=Wt;for(Yt=0>bt,bt=Math.abs(bt),Wt=bt>>>0,bt=Math.floor((bt-Wt)/4294967296),bt>>>=0,Yt&&(bt=~bt>>>0,Wt=(~Wt>>>0)+1,4294967295<Wt&&(Wt=0,bt++,4294967295<bt&&(bt=0))),xs=Wt,ga=bt,Yt=xs,Wt=ga;0<Wt||127<Yt;)It.g.push(Yt&127|128),Yt=(Yt>>>7|Wt<<25)>>>0,Wt>>>=7;It.g.push(Yt)}}),lo=Hr(function(It,Wt,Yt){return It.h!==0?!1:(Xo(Wt,Yt,yl(It.g)),!0)},function(It,Wt,Yt){if(Wt=Ds(Wt,Yt),Wt!=null&&Wt!=null)if(xl(It.g,8*Yt),It=It.g,Yt=Wt,0<=Yt)xl(It,Yt);else{for(Wt=0;9>Wt;Wt++)It.g.push(Yt&127|128),Yt>>=7;It.g.push(1)}}),Ao=Hr(function(It,Wt,Yt){if(It.h!==2)return!1;var bt=yl(It.g)>>>0;It=It.g;var Mt=It.g;It.g+=bt,ns(It),It=It.h;var Dt;if(_u)(Dt=Nu)||(Dt=Nu=new TextDecoder("utf-8",{fatal:!0})),Dt=Dt.decode(It.subarray(Mt,Mt+bt));else{bt=Mt+bt;for(var gt=[],At=null,Gt,Xt,yn;Mt<bt;)Gt=It[Mt++],128>Gt?gt.push(Gt):224>Gt?Mt>=bt?Tl():(Xt=It[Mt++],194>Gt||(Xt&192)!==128?(Mt--,Tl()):gt.push((Gt&31)<<6|Xt&63)):240>Gt?Mt>=bt-1?Tl():(Xt=It[Mt++],(Xt&192)!==128||Gt===224&&160>Xt||Gt===237&&160<=Xt||((Dt=It[Mt++])&192)!==128?(Mt--,Tl()):gt.push((Gt&15)<<12|(Xt&63)<<6|Dt&63)):244>=Gt?Mt>=bt-2?Tl():(Xt=It[Mt++],(Xt&192)!==128||(Gt<<28)+(Xt-144)>>30||((Dt=It[Mt++])&192)!==128||((yn=It[Mt++])&192)!==128?(Mt--,Tl()):(Gt=(Gt&7)<<18|(Xt&63)<<12|(Dt&63)<<6|yn&63,Gt-=65536,gt.push((Gt>>10&1023)+55296,(Gt&1023)+56320))):Tl(),8192<=gt.length&&(At=fu(At,gt),gt.length=0);Dt=fu(At,gt)}return Xo(Wt,Yt,Dt),!0},function(It,Wt,Yt){if(Wt=Ds(Wt,Yt),Wt!=null){var bt=!1;if(bt=bt===void 0?!1:bt,ip){if(bt&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(Wt))throw Error("Found an unpaired surrogate");Wt=(Gu||(Gu=new TextEncoder)).encode(Wt)}else{for(var Mt=0,Dt=new Uint8Array(3*Wt.length),gt=0;gt<Wt.length;gt++){var At=Wt.charCodeAt(gt);if(128>At)Dt[Mt++]=At;else{if(2048>At)Dt[Mt++]=At>>6|192;else{if(55296<=At&&57343>=At){if(56319>=At&&gt<Wt.length){var Gt=Wt.charCodeAt(++gt);if(56320<=Gt&&57343>=Gt){At=1024*(At-55296)+Gt-56320+65536,Dt[Mt++]=At>>18|240,Dt[Mt++]=At>>12&63|128,Dt[Mt++]=At>>6&63|128,Dt[Mt++]=At&63|128;continue}else gt--}if(bt)throw Error("Found an unpaired surrogate");At=65533}Dt[Mt++]=At>>12|224,Dt[Mt++]=At>>6&63|128}Dt[Mt++]=At&63|128}}Wt=Dt.subarray(0,Mt)}xl(It.g,8*Yt+2),xl(It.g,Wt.length),Sl(It,It.g.end()),Sl(It,Wt)}}),_o=Hr(function(It,Wt,Yt,bt,Mt){if(It.h!==2)return!1;Wt=Es(Wt,Yt,bt),Yt=It.g.i,bt=yl(It.g)>>>0;var Dt=It.g.g+bt,gt=Dt-Yt;if(0>=gt&&(It.g.i=Dt,Mt(Wt,It),gt=Dt-It.g.g),gt)throw Error("Message parsing ended unexpectedly. Expected to read "+(bt+" bytes, instead read "+(bt-gt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return It.g.g=Dt,It.g.i=Yt,!0},function(It,Wt,Yt,bt,Mt){if(Wt=Il(Wt,bt,Yt),Wt!=null)for(bt=0;bt<Wt.length;bt++){var Dt=It;xl(Dt.g,8*Yt+2);var gt=Dt.g.end();Sl(Dt,gt),gt.push(Dt.h),Dt=gt,Mt(Wt[bt],It),gt=It;var At=Dt.pop();for(At=gt.h+gt.g.length()-At;127<At;)Dt.push(At&127|128),At>>>=7,gt.h++;Dt.push(At),gt.h++}});function Ho(){ru.apply(this,arguments)}if(uo(Ho,ru),ps){var bs={};Object.defineProperties(Ho,(bs[Symbol.hasInstance]=Su(Object[Symbol.hasInstance]),bs))}function $o(It){Ho.call(this,It)}uo($o,Ho);function Po(){return[1,lo,2,hr,3,Ao,4,Ao]}function Jo(It){Ho.call(this,It,-1,ks)}uo(Jo,Ho),Jo.prototype.addClassification=function(It,Wt){return Es(this,1,$o,It,Wt),this};function vs(){return[1,_o,$o,Po]}var ks=[1];function Xs(It){Ho.call(this,It)}uo(Xs,Ho);function Hs(){return[1,hr,2,hr,3,hr,4,hr,5,hr]}function Vl(It){Ho.call(this,It,-1,Ht)}uo(Vl,Ho);function Ft(){return[1,_o,Xs,Hs]}var Ht=[1];function Kt(It){Ho.call(this,It)}uo(Kt,Ho);function Zn(){return[1,hr,2,hr,3,hr,4,hr,5,hr,6,Fr]}var nr=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Tr=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],rr=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],kr=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Jr=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Ot=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Jt=[].concat(or(nr),or(Tr),or(rr),or(kr),or(Jr),or(Ot));function pn(It,Wt,Yt){if(Yt=It.createShader(Yt===0?It.VERTEX_SHADER:It.FRAGMENT_SHADER),It.shaderSource(Yt,Wt),It.compileShader(Yt),!It.getShaderParameter(Yt,It.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+It.getShaderInfoLog(Yt));return Yt}function An(It){return Il(It,$o,1).map(function(Wt){return{index:ws(Wt,1),ga:Is(Wt,2),label:Ds(Wt,3)!=null?Vr(Wt,3):void 0,displayName:Ds(Wt,4)!=null?Vr(Wt,4):void 0}})}function Hn(It){return{x:Is(It,1),y:Is(It,2),z:Is(It,3),visibility:Ds(It,4)!=null?Is(It,4):void 0}}function ar(It,Wt){this.h=It,this.g=Wt,this.l=0}function qn(It,Wt,Yt){return Zr(It,Wt),typeof It.g.canvas.transferToImageBitmap=="function"?nt.resolve(It.g.canvas.transferToImageBitmap()):Yt?nt.resolve(It.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(It.g.canvas):(It.i===void 0&&(It.i=document.createElement("canvas")),new nt(function(bt){It.i.height=It.g.canvas.height,It.i.width=It.g.canvas.width,It.i.getContext("2d",{}).drawImage(It.g.canvas,0,0,It.g.canvas.width,It.g.canvas.height),bt(It.i)}))}function Zr(It,Wt){var Yt=It.g;if(It.o===void 0){var bt=pn(Yt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Mt=pn(Yt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Dt=Yt.createProgram();if(Yt.attachShader(Dt,bt),Yt.attachShader(Dt,Mt),Yt.linkProgram(Dt),!Yt.getProgramParameter(Dt,Yt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Yt.getProgramInfoLog(Dt));bt=It.o=Dt,Yt.useProgram(bt),Mt=Yt.getUniformLocation(bt,"sampler0"),It.j={K:Yt.getAttribLocation(bt,"aVertex"),J:Yt.getAttribLocation(bt,"aTex"),ma:Mt},It.u=Yt.createBuffer(),Yt.bindBuffer(Yt.ARRAY_BUFFER,It.u),Yt.enableVertexAttribArray(It.j.K),Yt.vertexAttribPointer(It.j.K,2,Yt.FLOAT,!1,0,0),Yt.bufferData(Yt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Yt.STATIC_DRAW),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),It.s=Yt.createBuffer(),Yt.bindBuffer(Yt.ARRAY_BUFFER,It.s),Yt.enableVertexAttribArray(It.j.J),Yt.vertexAttribPointer(It.j.J,2,Yt.FLOAT,!1,0,0),Yt.bufferData(Yt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Yt.STATIC_DRAW),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),Yt.uniform1i(Mt,0)}bt=It.j,Yt.useProgram(It.o),Yt.canvas.width=Wt.width,Yt.canvas.height=Wt.height,Yt.viewport(0,0,Wt.width,Wt.height),Yt.activeTexture(Yt.TEXTURE0),It.h.bindTexture2d(Wt.glName),Yt.enableVertexAttribArray(bt.K),Yt.bindBuffer(Yt.ARRAY_BUFFER,It.u),Yt.vertexAttribPointer(bt.K,2,Yt.FLOAT,!1,0,0),Yt.enableVertexAttribArray(bt.J),Yt.bindBuffer(Yt.ARRAY_BUFFER,It.s),Yt.vertexAttribPointer(bt.J,2,Yt.FLOAT,!1,0,0),Yt.bindFramebuffer(Yt.DRAW_FRAMEBUFFER?Yt.DRAW_FRAMEBUFFER:Yt.FRAMEBUFFER,null),Yt.clearColor(0,0,0,0),Yt.clear(Yt.COLOR_BUFFER_BIT),Yt.colorMask(!0,!0,!0,!0),Yt.drawArrays(Yt.TRIANGLE_FAN,0,4),Yt.disableVertexAttribArray(bt.K),Yt.disableVertexAttribArray(bt.J),Yt.bindBuffer(Yt.ARRAY_BUFFER,null),It.h.bindTexture2d(0)}function Ar(It){this.g=It}var fo=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function So(It,Wt){return Wt+It}function qo(It,Wt){window[It]=Wt}function Lo(It){var Wt=document.createElement("script");return Wt.setAttribute("src",It),Wt.setAttribute("crossorigin","anonymous"),new nt(function(Yt){Wt.addEventListener("load",function(){Yt()},!1),Wt.addEventListener("error",function(){Yt()},!1),document.body.appendChild(Wt)})}function ro(){return ho(function(It){switch(It.g){case 1:return It.o=2,Cr(It,WebAssembly.instantiate(fo),4);case 4:It.g=3,It.o=0;break;case 2:return It.o=0,It.j=null,It.return(!1);case 3:return It.return(!0)}})}function Co(It){if(this.g=It,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=nt.resolve(),this.Y="",this.C={},this.locateFile=It&&It.locateFile||So,typeof window=="object")var Wt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Wt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.$=Wt,It.options){Wt=Nn(Object.keys(It.options));for(var Yt=Wt.next();!Yt.done;Yt=Wt.next()){Yt=Yt.value;var bt=It.options[Yt].default;bt!==void 0&&(this.j[Yt]=typeof bt=="function"?bt():bt)}}}xt=Co.prototype,xt.close=function(){return this.i&&this.i.delete(),nt.resolve()};function ko(It){var Wt,Yt,bt,Mt,Dt,gt,At,Gt,Xt,yn,kn;return ho(function(Mn){switch(Mn.g){case 1:return It.Z?(Wt=It.g.files===void 0?[]:typeof It.g.files=="function"?It.g.files(It.j):It.g.files,Cr(Mn,ro(),2)):Mn.return();case 2:if(Yt=Mn.h,typeof window=="object")return qo("createMediapipeSolutionsWasm",{locateFile:It.locateFile}),qo("createMediapipeSolutionsPackedAssets",{locateFile:It.locateFile}),gt=Wt.filter(function(_n){return _n.data!==void 0}),At=Wt.filter(function(_n){return _n.data===void 0}),Gt=nt.all(gt.map(function(_n){var lr=Lt(It,_n.url);if(_n.path!==void 0){var xr=_n.path;lr=lr.then(function(Rr){return It.overrideFile(xr,Rr),nt.resolve(Rr)})}return lr})),Xt=nt.all(At.map(function(_n){return _n.simd===void 0||_n.simd&&Yt||!_n.simd&&!Yt?Lo(It.locateFile(_n.url,It.$)):nt.resolve()})).then(function(){var _n,lr,xr;return ho(function(Rr){if(Rr.g==1)return _n=window.createMediapipeSolutionsWasm,lr=window.createMediapipeSolutionsPackedAssets,xr=It,Cr(Rr,_n(lr),2);xr.h=Rr.h,Rr.g=0})}),yn=function(){return ho(function(_n){return It.g.graph&&It.g.graph.url?_n=Cr(_n,Lt(It,It.g.graph.url),0):(_n.g=0,_n=void 0),_n})}(),Cr(Mn,nt.all([Xt,Gt,yn]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return bt=Wt.filter(function(_n){return _n.simd===void 0||_n.simd&&Yt||!_n.simd&&!Yt}).map(function(_n){return It.locateFile(_n.url,It.$)}),importScripts.apply(null,or(bt)),Mt=It,Cr(Mn,createMediapipeSolutionsWasm(Module),6);case 6:Mt.h=Mn.h,It.l=new OffscreenCanvas(1,1),It.h.canvas=It.l,Dt=It.h.GL.createContext(It.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),It.h.GL.makeContextCurrent(Dt),Mn.g=4;break;case 7:if(It.l=document.createElement("canvas"),kn=It.l.getContext("webgl2",{}),!kn&&(kn=It.l.getContext("webgl",{}),!kn))return alert("Failed to create WebGL canvas context when passing video frame."),Mn.return();It.G=kn,It.h.canvas=It.l,It.h.createContext(It.l,!0,!0,{});case 4:It.i=new It.h.SolutionWasm,It.Z=!1,Mn.g=0}})}function Wo(It){var Wt,Yt,bt,Mt,Dt,gt,At,Gt;return ho(function(Xt){if(Xt.g==1){if(It.g.graph&&It.g.graph.url&&It.Y===It.g.graph.url)return Xt.return();if(It.s=!0,!It.g.graph||!It.g.graph.url){Xt.g=2;return}return It.Y=It.g.graph.url,Cr(Xt,Lt(It,It.g.graph.url),3)}for(Xt.g!=2&&(Wt=Xt.h,It.i.loadGraph(Wt)),Yt=Nn(Object.keys(It.C)),bt=Yt.next();!bt.done;bt=Yt.next())Mt=bt.value,It.i.overrideFile(Mt,It.C[Mt]);if(It.C={},It.g.listeners)for(Dt=Nn(It.g.listeners),gt=Dt.next();!gt.done;gt=Dt.next())At=gt.value,Rn(It,At);Gt=It.j,It.j={},It.setOptions(Gt),Xt.g=0})}xt.reset=function(){var It=this;return ho(function(Wt){It.i&&(It.i.reset(),It.o={},It.u={}),Wt.g=0})},xt.setOptions=function(It,Wt){var Yt=this;if(Wt=Wt||this.g.options){for(var bt=[],Mt=[],Dt={},gt=Nn(Object.keys(It)),At=gt.next();!At.done;Dt={R:Dt.R,S:Dt.S},At=gt.next()){var Gt=At.value;Gt in this.j&&this.j[Gt]===It[Gt]||(this.j[Gt]=It[Gt],At=Wt[Gt],At!==void 0&&(At.onChange&&(Dt.R=At.onChange,Dt.S=It[Gt],bt.push(function(Xt){return function(){var yn;return ho(function(kn){if(kn.g==1)return Cr(kn,Xt.R(Xt.S),2);yn=kn.h,yn===!0&&(Yt.s=!0),kn.g=0})}}(Dt))),At.graphOptionXref&&(Gt={valueNumber:At.type===1?It[Gt]:0,valueBoolean:At.type===0?It[Gt]:!1,valueString:At.type===2?It[Gt]:""},At=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),At.graphOptionXref),Gt),Mt.push(At))))}(bt.length!==0||Mt.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(Mt),this.A=(this.A===void 0?[]:this.A).concat(bt))}};function Do(It){var Wt,Yt,bt,Mt,Dt,gt,At;return ho(function(Gt){switch(Gt.g){case 1:if(!It.s)return Gt.return();if(!It.A){Gt.g=2;break}Wt=Nn(It.A),Yt=Wt.next();case 3:if(Yt.done){Gt.g=5;break}return bt=Yt.value,Cr(Gt,bt(),4);case 4:Yt=Wt.next(),Gt.g=3;break;case 5:It.A=void 0;case 2:if(It.B){for(Mt=new It.h.GraphOptionChangeRequestList,Dt=Nn(It.B),gt=Dt.next();!gt.done;gt=Dt.next())At=gt.value,Mt.push_back(At);It.i.changeOptions(Mt),Mt.delete(),It.B=void 0}It.s=!1,Gt.g=0}})}xt.initialize=function(){var It=this;return ho(function(Wt){return Wt.g==1?Cr(Wt,ko(It),2):Wt.g!=3?Cr(Wt,Wo(It),3):Cr(Wt,Do(It),0)})};function Lt(It,Wt){var Yt,bt;return ho(function(Mt){return Wt in It.H?Mt.return(It.H[Wt]):(Yt=It.locateFile(Wt,""),bt=fetch(Yt).then(function(Dt){return Dt.arrayBuffer()}),It.H[Wt]=bt,Mt.return(bt))})}xt.overrideFile=function(It,Wt){this.i?this.i.overrideFile(It,Wt):this.C[It]=Wt},xt.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},xt.send=function(It,Wt){var Yt=this,bt,Mt,Dt,gt,At,Gt,Xt,yn,kn;return ho(function(Mn){switch(Mn.g){case 1:return Yt.g.inputs?(bt=1e3*(Wt??performance.now()),Cr(Mn,Yt.D,2)):Mn.return();case 2:return Cr(Mn,Yt.initialize(),3);case 3:for(Mt=new Yt.h.PacketDataList,Dt=Nn(Object.keys(It)),gt=Dt.next();!gt.done;gt=Dt.next())if(At=gt.value,Gt=Yt.g.inputs[At]){e:{var _n=It[At];switch(Gt.type){case"video":var lr=Yt.o[Gt.stream];if(lr||(lr=new ar(Yt.h,Yt.G),Yt.o[Gt.stream]=lr),lr.l===0&&(lr.l=lr.h.createTexture()),typeof HTMLVideoElement<"u"&&_n instanceof HTMLVideoElement)var xr=_n.videoWidth,Rr=_n.videoHeight;else typeof HTMLImageElement<"u"&&_n instanceof HTMLImageElement?(xr=_n.naturalWidth,Rr=_n.naturalHeight):(xr=_n.width,Rr=_n.height);Rr={glName:lr.l,width:xr,height:Rr},xr=lr.g,xr.canvas.width=Rr.width,xr.canvas.height=Rr.height,xr.activeTexture(xr.TEXTURE0),lr.h.bindTexture2d(lr.l),xr.texImage2D(xr.TEXTURE_2D,0,xr.RGBA,xr.RGBA,xr.UNSIGNED_BYTE,_n),lr.h.bindTexture2d(0),lr=Rr;break e;case"detections":for(lr=Yt.o[Gt.stream],lr||(lr=new Ar(Yt.h),Yt.o[Gt.stream]=lr),lr.data||(lr.data=new lr.g.DetectionListData),lr.data.reset(_n.length),Rr=0;Rr<_n.length;++Rr){xr=_n[Rr];var zr=lr.data,io=zr.setBoundingBox,oo=Rr,vo=xr.boundingBox,go=new Kt;if(Xo(go,1,vo.xCenter),Xo(go,2,vo.yCenter),Xo(go,3,vo.height),Xo(go,4,vo.width),Xo(go,5,vo.rotation),Xo(go,6,vo.rectId),vo=gr(go,Zn),io.call(zr,oo,vo),xr.landmarks)for(zr=0;zr<xr.landmarks.length;++zr){go=xr.landmarks[zr];var as=!!go.visibility;io=lr.data,oo=io.addNormalizedLandmark,vo=Rr,go=Object.assign(Object.assign({},go),{visibility:as?go.visibility:0}),as=new Xs,Xo(as,1,go.x),Xo(as,2,go.y),Xo(as,3,go.z),go.visibility&&Xo(as,4,go.visibility),go=gr(as,Hs),oo.call(io,vo,go)}if(xr.V)for(zr=0;zr<xr.V.length;++zr)io=lr.data,oo=io.addClassification,vo=Rr,go=xr.V[zr],as=new $o,Xo(as,2,go.ga),go.index&&Xo(as,1,go.index),go.label&&Xo(as,3,go.label),go.displayName&&Xo(as,4,go.displayName),go=gr(as,Po),oo.call(io,vo,go)}lr=lr.data;break e;default:lr={}}}switch(Xt=lr,yn=Gt.stream,Gt.type){case"video":Mt.pushTexture2d(Object.assign(Object.assign({},Xt),{stream:yn,timestamp:bt}));break;case"detections":kn=Xt,kn.stream=yn,kn.timestamp=bt,Mt.pushDetectionList(kn);break;default:throw Error("Unknown input config type: '"+Gt.type+"'")}}return Yt.i.send(Mt),Cr(Mn,Yt.D,4);case 4:Mt.delete(),Mn.g=0}})};function $t(It,Wt,Yt){var bt,Mt,Dt,gt,At,Gt,Xt,yn,kn,Mn,_n,lr,xr,Rr;return ho(function(zr){switch(zr.g){case 1:if(!Yt)return zr.return(Wt);for(bt={},Mt=0,Dt=Nn(Object.keys(Yt)),gt=Dt.next();!gt.done;gt=Dt.next())At=gt.value,Gt=Yt[At],typeof Gt!="string"&&Gt.type==="texture"&&Wt[Gt.stream]!==void 0&&++Mt;1<Mt&&(It.I=!1),Xt=Nn(Object.keys(Yt)),gt=Xt.next();case 2:if(gt.done){zr.g=4;break}if(yn=gt.value,kn=Yt[yn],typeof kn=="string")return xr=bt,Rr=yn,Cr(zr,hn(It,yn,Wt[kn]),14);if(Mn=Wt[kn.stream],kn.type==="detection_list"){if(Mn){for(var io=Mn.getRectList(),oo=Mn.getLandmarksList(),vo=Mn.getClassificationsList(),go=[],as=0;as<io.size();++as){var Os=dn(io.get(as),Kt,Zn);Os={boundingBox:{xCenter:Is(Os,1),yCenter:Is(Os,2),height:Is(Os,3),width:Is(Os,4),rotation:Is(Os,5,0),rectId:ws(Os,6)},landmarks:Il(dn(oo.get(as),Vl,Ft),Xs,1).map(Hn),V:An(dn(vo.get(as),Jo,vs))},go.push(Os)}io=go}else io=[];bt[yn]=io,zr.g=7;break}if(kn.type==="proto_list"){if(Mn){for(io=Array(Mn.size()),oo=0;oo<Mn.size();oo++)io[oo]=Mn.get(oo);Mn.delete()}else io=[];bt[yn]=io,zr.g=7;break}if(Mn===void 0){zr.g=3;break}if(kn.type==="float_list"){bt[yn]=Mn,zr.g=7;break}if(kn.type==="proto"){bt[yn]=Mn,zr.g=7;break}if(kn.type!=="texture")throw Error("Unknown output config type: '"+kn.type+"'");return _n=It.u[yn],_n||(_n=new ar(It.h,It.G),It.u[yn]=_n),Cr(zr,qn(_n,Mn,It.I),13);case 13:lr=zr.h,bt[yn]=lr;case 7:kn.transform&&bt[yn]&&(bt[yn]=kn.transform(bt[yn])),zr.g=3;break;case 14:xr[Rr]=zr.h;case 3:gt=Xt.next(),zr.g=2;break;case 4:return zr.return(bt)}})}function hn(It,Wt,Yt){var bt;return ho(function(Mt){return typeof Yt=="number"||Yt instanceof Uint8Array||Yt instanceof It.h.Uint8BlobList?Mt.return(Yt):Yt instanceof It.h.Texture2dDataOut?(bt=It.u[Wt],bt||(bt=new ar(It.h,It.G),It.u[Wt]=bt),Mt.return(qn(bt,Yt,It.I))):Mt.return(void 0)})}function Rn(It,Wt){for(var Yt=Wt.name||"$",bt=[].concat(or(Wt.wants)),Mt=new It.h.StringList,Dt=Nn(Wt.wants),gt=Dt.next();!gt.done;gt=Dt.next())Mt.push_back(gt.value);Dt=It.h.PacketListener.implement({onResults:function(At){for(var Gt={},Xt=0;Xt<Wt.wants.length;++Xt)Gt[bt[Xt]]=At.get(Xt);var yn=It.listeners[Yt];yn&&(It.D=$t(It,Gt,Wt.outs).then(function(kn){kn=yn(kn);for(var Mn=0;Mn<Wt.wants.length;++Mn){var _n=Gt[bt[Mn]];typeof _n=="object"&&_n.hasOwnProperty&&_n.hasOwnProperty("delete")&&_n.delete()}kn&&(It.D=kn)}))}}),It.i.attachMultiListener(Mt,Dt),Mt.delete()}xt.onResults=function(It,Wt){this.listeners[Wt||"$"]=It},Bo("Solution",Co),Bo("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Yn(It){var Wt=this;It=It||{};var Yt={url:"face_detection_short.binarypb"},bt={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Co({locateFile:It.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:Yt,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(Mt){var Dt,gt,At,Gt,Xt,yn;return ho(function(kn){switch(kn.g){case 1:Dt=Mt==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"],gt=Nn(Dt),At=gt.next();case 2:if(At.done){kn.g=4;break}return Gt=At.value,Xt="third_party/mediapipe/modules/face_detection/"+Gt,Cr(kn,Lt(Wt.g,Gt),5);case 5:yn=kn.h,Wt.g.overrideFile(Xt,yn),At=gt.next(),kn.g=2;break;case 4:return Yt.url=Mt==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",bt.graphOptionXref.calculatorName=Mt==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",kn.return(!0)}})}},minDetectionConfidence:bt}})}xt=Yn.prototype,xt.close=function(){return this.g.close(),nt.resolve()},xt.onResults=function(It){this.g.onResults(It)},xt.initialize=function(){var It=this;return ho(function(Wt){return Cr(Wt,It.g.initialize(),0)})},xt.reset=function(){this.g.reset()},xt.send=function(It){var Wt=this;return ho(function(Yt){return Cr(Yt,Wt.g.send(It),0)})},xt.setOptions=function(It){this.g.setOptions(It)},Bo("FaceDetection",Yn),Bo("FACEDETECTION_LIPS",nr),Bo("FACEDETECTION_LEFT_EYE",Tr),Bo("FACEDETECTION_LEFT_EYEBROW",rr),Bo("FACEDETECTION_RIGHT_EYE",kr),Bo("FACEDETECTION_RIGHT_EYEBROW",Jr),Bo("FACEDETECTION_FACE_OVAL",Ot),Bo("FACEDETECTION_CONTOURS",Jt),Bo("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),Bo("VERSION","0.4.1646425229")}).call(Yu);const Cu={};(function(){var xt;function St(Ft){var Ht=0;return function(){return Ht<Ft.length?{done:!1,value:Ft[Ht++]}:{done:!0}}}var Tt=typeof Object.defineProperties=="function"?Object.defineProperty:function(Ft,Ht,Kt){return Ft==Array.prototype||Ft==Object.prototype||(Ft[Ht]=Kt.value),Ft};function Ut(Ft){Ft=[typeof globalThis=="object"&&globalThis,Ft,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Ht=0;Ht<Ft.length;++Ht){var Kt=Ft[Ht];if(Kt&&Kt.Math==Math)return Kt}throw Error("Cannot find global object")}var Qt=Ut(this);function In(Ft,Ht){if(Ht)e:{var Kt=Qt;Ft=Ft.split(".");for(var Zn=0;Zn<Ft.length-1;Zn++){var nr=Ft[Zn];if(!(nr in Kt))break e;Kt=Kt[nr]}Ft=Ft[Ft.length-1],Zn=Kt[Ft],Ht=Ht(Zn),Ht!=Zn&&Ht!=null&&Tt(Kt,Ft,{configurable:!0,writable:!0,value:Ht})}}In("Symbol",function(Ft){function Ht(Tr){if(this instanceof Ht)throw new TypeError("Symbol is not a constructor");return new Kt(Zn+(Tr||"")+"_"+nr++,Tr)}function Kt(Tr,rr){this.g=Tr,Tt(this,"description",{configurable:!0,writable:!0,value:rr})}if(Ft)return Ft;Kt.prototype.toString=function(){return this.g};var Zn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",nr=0;return Ht}),In("Symbol.iterator",function(Ft){if(Ft)return Ft;Ft=Symbol("Symbol.iterator");for(var Ht="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Kt=0;Kt<Ht.length;Kt++){var Zn=Qt[Ht[Kt]];typeof Zn=="function"&&typeof Zn.prototype[Ft]!="function"&&Tt(Zn.prototype,Ft,{configurable:!0,writable:!0,value:function(){return Xn(St(this))}})}return Ft});function Xn(Ft){return Ft={next:Ft},Ft[Symbol.iterator]=function(){return this},Ft}function Nn(Ft){var Ht=typeof Symbol<"u"&&Symbol.iterator&&Ft[Symbol.iterator];return Ht?Ht.call(Ft):{next:St(Ft)}}function or(Ft){if(!(Ft instanceof Array)){Ft=Nn(Ft);for(var Ht,Kt=[];!(Ht=Ft.next()).done;)Kt.push(Ht.value);Ft=Kt}return Ft}var Br=typeof Object.create=="function"?Object.create:function(Ft){function Ht(){}return Ht.prototype=Ft,new Ht},eo;if(typeof Object.setPrototypeOf=="function")eo=Object.setPrototypeOf;else{var ao;e:{var Zo={a:!0},Fo={};try{Fo.__proto__=Zo,ao=Fo.a;break e}catch{}ao=!1}eo=ao?function(Ft,Ht){if(Ft.__proto__=Ht,Ft.__proto__!==Ht)throw new TypeError(Ft+" is not extensible");return Ft}:null}var no=eo;function uo(Ft,Ht){if(Ft.prototype=Br(Ht.prototype),Ft.prototype.constructor=Ft,no)no(Ft,Ht);else for(var Kt in Ht)if(Kt!="prototype")if(Object.defineProperties){var Zn=Object.getOwnPropertyDescriptor(Ht,Kt);Zn&&Object.defineProperty(Ft,Kt,Zn)}else Ft[Kt]=Ht[Kt];Ft.ea=Ht.prototype}function es(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function ts(Ft){if(Ft.l)throw new TypeError("Generator is already running");Ft.l=!0}es.prototype.o=function(Ft){this.h=Ft};function Cs(Ft,Ht){Ft.j={U:Ht,V:!0},Ft.g=Ft.m||Ft.s}es.prototype.return=function(Ft){this.j={return:Ft},this.g=this.s};function Cr(Ft,Ht,Kt){return Ft.g=Kt,{value:Ht}}function du(Ft){this.g=new es,this.h=Ft}function tu(Ft,Ht){ts(Ft.g);var Kt=Ft.g.i;return Kt?Js(Ft,"return"in Kt?Kt.return:function(Zn){return{value:Zn,done:!0}},Ht,Ft.g.return):(Ft.g.return(Ht),ls(Ft))}function Js(Ft,Ht,Kt,Zn){try{var nr=Ht.call(Ft.g.i,Kt);if(!(nr instanceof Object))throw new TypeError("Iterator result "+nr+" is not an object");if(!nr.done)return Ft.g.l=!1,nr;var Tr=nr.value}catch(rr){return Ft.g.i=null,Cs(Ft.g,rr),ls(Ft)}return Ft.g.i=null,Zn.call(Ft.g,Tr),ls(Ft)}function ls(Ft){for(;Ft.g.g;)try{var Ht=Ft.h(Ft.g);if(Ht)return Ft.g.l=!1,{value:Ht.value,done:!1}}catch(Kt){Ft.g.h=void 0,Cs(Ft.g,Kt)}if(Ft.g.l=!1,Ft.g.j){if(Ht=Ft.g.j,Ft.g.j=null,Ht.V)throw Ht.U;return{value:Ht.return,done:!0}}return{value:void 0,done:!0}}function rp(Ft){this.next=function(Ht){return ts(Ft.g),Ft.g.i?Ht=Js(Ft,Ft.g.i.next,Ht,Ft.g.o):(Ft.g.o(Ht),Ht=ls(Ft)),Ht},this.throw=function(Ht){return ts(Ft.g),Ft.g.i?Ht=Js(Ft,Ft.g.i.throw,Ht,Ft.g.o):(Cs(Ft.g,Ht),Ht=ls(Ft)),Ht},this.return=function(Ht){return tu(Ft,Ht)},this[Symbol.iterator]=function(){return this}}function Ts(Ft,Ht){return Ht=new rp(new du(Ht)),no&&Ft.prototype&&no(Ht,Ft.prototype),Ht}function ho(Ft,Ht){Ft instanceof String&&(Ft+="");var Kt=0,Zn=!1,nr={next:function(){if(!Zn&&Kt<Ft.length){var Tr=Kt++;return{value:Ht(Tr,Ft[Tr]),done:!1}}return Zn=!0,{done:!0,value:void 0}}};return nr[Symbol.iterator]=function(){return nr},nr}var xu=typeof Object.assign=="function"?Object.assign:function(Ft,Ht){for(var Kt=1;Kt<arguments.length;Kt++){var Zn=arguments[Kt];if(Zn)for(var nr in Zn)Object.prototype.hasOwnProperty.call(Zn,nr)&&(Ft[nr]=Zn[nr])}return Ft};In("Object.assign",function(Ft){return Ft||xu}),In("Promise",function(Ft){function Ht(rr){this.h=0,this.i=void 0,this.g=[],this.o=!1;var kr=this.j();try{rr(kr.resolve,kr.reject)}catch(Jr){kr.reject(Jr)}}function Kt(){this.g=null}function Zn(rr){return rr instanceof Ht?rr:new Ht(function(kr){kr(rr)})}if(Ft)return Ft;Kt.prototype.h=function(rr){if(this.g==null){this.g=[];var kr=this;this.i(function(){kr.l()})}this.g.push(rr)};var nr=Qt.setTimeout;Kt.prototype.i=function(rr){nr(rr,0)},Kt.prototype.l=function(){for(;this.g&&this.g.length;){var rr=this.g;this.g=[];for(var kr=0;kr<rr.length;++kr){var Jr=rr[kr];rr[kr]=null;try{Jr()}catch(Ot){this.j(Ot)}}}this.g=null},Kt.prototype.j=function(rr){this.i(function(){throw rr})},Ht.prototype.j=function(){function rr(Ot){return function(Jt){Jr||(Jr=!0,Ot.call(kr,Jt))}}var kr=this,Jr=!1;return{resolve:rr(this.C),reject:rr(this.l)}},Ht.prototype.C=function(rr){if(rr===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(rr instanceof Ht)this.F(rr);else{e:switch(typeof rr){case"object":var kr=rr!=null;break e;case"function":kr=!0;break e;default:kr=!1}kr?this.u(rr):this.m(rr)}},Ht.prototype.u=function(rr){var kr=void 0;try{kr=rr.then}catch(Jr){this.l(Jr);return}typeof kr=="function"?this.G(kr,rr):this.m(rr)},Ht.prototype.l=function(rr){this.s(2,rr)},Ht.prototype.m=function(rr){this.s(1,rr)},Ht.prototype.s=function(rr,kr){if(this.h!=0)throw Error("Cannot settle("+rr+", "+kr+"): Promise already settled in state"+this.h);this.h=rr,this.i=kr,this.h===2&&this.D(),this.A()},Ht.prototype.D=function(){var rr=this;nr(function(){if(rr.B()){var kr=Qt.console;typeof kr<"u"&&kr.error(rr.i)}},1)},Ht.prototype.B=function(){if(this.o)return!1;var rr=Qt.CustomEvent,kr=Qt.Event,Jr=Qt.dispatchEvent;return typeof Jr>"u"?!0:(typeof rr=="function"?rr=new rr("unhandledrejection",{cancelable:!0}):typeof kr=="function"?rr=new kr("unhandledrejection",{cancelable:!0}):(rr=Qt.document.createEvent("CustomEvent"),rr.initCustomEvent("unhandledrejection",!1,!0,rr)),rr.promise=this,rr.reason=this.i,Jr(rr))},Ht.prototype.A=function(){if(this.g!=null){for(var rr=0;rr<this.g.length;++rr)Tr.h(this.g[rr]);this.g=null}};var Tr=new Kt;return Ht.prototype.F=function(rr){var kr=this.j();rr.J(kr.resolve,kr.reject)},Ht.prototype.G=function(rr,kr){var Jr=this.j();try{rr.call(kr,Jr.resolve,Jr.reject)}catch(Ot){Jr.reject(Ot)}},Ht.prototype.then=function(rr,kr){function Jr(An,Hn){return typeof An=="function"?function(ar){try{Ot(An(ar))}catch(qn){Jt(qn)}}:Hn}var Ot,Jt,pn=new Ht(function(An,Hn){Ot=An,Jt=Hn});return this.J(Jr(rr,Ot),Jr(kr,Jt)),pn},Ht.prototype.catch=function(rr){return this.then(void 0,rr)},Ht.prototype.J=function(rr,kr){function Jr(){switch(Ot.h){case 1:rr(Ot.i);break;case 2:kr(Ot.i);break;default:throw Error("Unexpected state: "+Ot.h)}}var Ot=this;this.g==null?Tr.h(Jr):this.g.push(Jr),this.o=!0},Ht.resolve=Zn,Ht.reject=function(rr){return new Ht(function(kr,Jr){Jr(rr)})},Ht.race=function(rr){return new Ht(function(kr,Jr){for(var Ot=Nn(rr),Jt=Ot.next();!Jt.done;Jt=Ot.next())Zn(Jt.value).J(kr,Jr)})},Ht.all=function(rr){var kr=Nn(rr),Jr=kr.next();return Jr.done?Zn([]):new Ht(function(Ot,Jt){function pn(ar){return function(qn){An[ar]=qn,Hn--,Hn==0&&Ot(An)}}var An=[],Hn=0;do An.push(void 0),Hn++,Zn(Jr.value).J(pn(An.length-1),Jt),Jr=kr.next();while(!Jr.done)})},Ht}),In("Object.is",function(Ft){return Ft||function(Ht,Kt){return Ht===Kt?Ht!==0||1/Ht===1/Kt:Ht!==Ht&&Kt!==Kt}}),In("Array.prototype.includes",function(Ft){return Ft||function(Ht,Kt){var Zn=this;Zn instanceof String&&(Zn=String(Zn));var nr=Zn.length;for(Kt=Kt||0,0>Kt&&(Kt=Math.max(Kt+nr,0));Kt<nr;Kt++){var Tr=Zn[Kt];if(Tr===Ht||Object.is(Tr,Ht))return!0}return!1}}),In("String.prototype.includes",function(Ft){return Ft||function(Ht,Kt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Ht instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Ht,Kt||0)!==-1}}),In("Array.prototype.keys",function(Ft){return Ft||function(){return ho(this,function(Ht){return Ht})}});var Ep=this||self;function $a(Ft,Ht){Ft=Ft.split(".");var Kt=Ep;Ft[0]in Kt||typeof Kt.execScript>"u"||Kt.execScript("var "+Ft[0]);for(var Zn;Ft.length&&(Zn=Ft.shift());)Ft.length||Ht===void 0?Kt[Zn]&&Kt[Zn]!==Object.prototype[Zn]?Kt=Kt[Zn]:Kt=Kt[Zn]={}:Kt[Zn]=Ht}function Bo(Ft,Ht){return Ht=String.fromCharCode.apply(null,Ht),Ft==null?Ht:Ft+Ht}var Tl,fu=typeof TextDecoder<"u",Nu,_u=typeof TextEncoder<"u";function Gu(Ft){if(_u)Ft=(Nu||(Nu=new TextEncoder)).encode(Ft);else{var Ht=void 0;Ht=Ht===void 0?!1:Ht;for(var Kt=0,Zn=new Uint8Array(3*Ft.length),nr=0;nr<Ft.length;nr++){var Tr=Ft.charCodeAt(nr);if(128>Tr)Zn[Kt++]=Tr;else{if(2048>Tr)Zn[Kt++]=Tr>>6|192;else{if(55296<=Tr&&57343>=Tr){if(56319>=Tr&&nr<Ft.length){var rr=Ft.charCodeAt(++nr);if(56320<=rr&&57343>=rr){Tr=1024*(Tr-55296)+rr-56320+65536,Zn[Kt++]=Tr>>18|240,Zn[Kt++]=Tr>>12&63|128,Zn[Kt++]=Tr>>6&63|128,Zn[Kt++]=Tr&63|128;continue}else nr--}if(Ht)throw Error("Found an unpaired surrogate");Tr=65533}Zn[Kt++]=Tr>>12|224,Zn[Kt++]=Tr>>6&63|128}Zn[Kt++]=Tr&63|128}}Ft=Zn.subarray(0,Kt)}return Ft}var ip={},bu=null;function Ru(Ft,Ht){Ht===void 0&&(Ht=0),Kl(),Ht=ip[Ht];for(var Kt=Array(Math.floor(Ft.length/3)),Zn=Ht[64]||"",nr=0,Tr=0;nr<Ft.length-2;nr+=3){var rr=Ft[nr],kr=Ft[nr+1],Jr=Ft[nr+2],Ot=Ht[rr>>2];rr=Ht[(rr&3)<<4|kr>>4],kr=Ht[(kr&15)<<2|Jr>>6],Jr=Ht[Jr&63],Kt[Tr++]=Ot+rr+kr+Jr}switch(Ot=0,Jr=Zn,Ft.length-nr){case 2:Ot=Ft[nr+1],Jr=Ht[(Ot&15)<<2]||Zn;case 1:Ft=Ft[nr],Kt[Tr]=Ht[Ft>>2]+Ht[(Ft&3)<<4|Ot>>4]+Jr+Zn}return Kt.join("")}function lp(Ft){var Ht=Ft.length,Kt=3*Ht/4;Kt%3?Kt=Math.floor(Kt):"=.".indexOf(Ft[Ht-1])!=-1&&(Kt="=.".indexOf(Ft[Ht-2])!=-1?Kt-2:Kt-1);var Zn=new Uint8Array(Kt),nr=0;return qu(Ft,function(Tr){Zn[nr++]=Tr}),Zn.subarray(0,nr)}function qu(Ft,Ht){function Kt(Jr){for(;Zn<Ft.length;){var Ot=Ft.charAt(Zn++),Jt=bu[Ot];if(Jt!=null)return Jt;if(!/^[\s\xa0]*$/.test(Ot))throw Error("Unknown base64 encoding at char: "+Ot)}return Jr}Kl();for(var Zn=0;;){var nr=Kt(-1),Tr=Kt(0),rr=Kt(64),kr=Kt(64);if(kr===64&&nr===-1)break;Ht(nr<<2|Tr>>4),rr!=64&&(Ht(Tr<<4&240|rr>>2),kr!=64&&Ht(rr<<6&192|kr))}}function Kl(){if(!bu){bu={};for(var Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ht=["+/=","+/","-_=","-_.","-_"],Kt=0;5>Kt;Kt++){var Zn=Ft.concat(Ht[Kt].split(""));ip[Kt]=Zn;for(var nr=0;nr<Zn.length;nr++){var Tr=Zn[nr];bu[Tr]===void 0&&(bu[Tr]=nr)}}}}var Yl=typeof Uint8Array.prototype.slice=="function",Wu;function Pu(Ft,Ht,Kt){return Ht===Kt?Wu||(Wu=new Uint8Array(0)):Yl?Ft.slice(Ht,Kt):new Uint8Array(Ft.subarray(Ht,Kt))}var Fs=0,Cl=0;function Jl(Ft,Ht){Ht=Ht===void 0?{}:Ht,Ht=Ht.v===void 0?!1:Ht.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=Ht,Ft&&xs(this,Ft)}function xs(Ft,Ht){Ht=Ht.constructor===Uint8Array?Ht:Ht.constructor===ArrayBuffer?new Uint8Array(Ht):Ht.constructor===Array?new Uint8Array(Ht):Ht.constructor===String?lp(Ht):Ht instanceof Uint8Array?new Uint8Array(Ht.buffer,Ht.byteOffset,Ht.byteLength):new Uint8Array(0),Ft.h=Ht,Ft.l=0,Ft.j=Ft.h.length,Ft.g=Ft.l}Jl.prototype.reset=function(){this.g=this.l};function ga(Ft){for(var Ht=128,Kt=0,Zn=0,nr=0;4>nr&&128<=Ht;nr++)Ht=Ft.h[Ft.g++],Kt|=(Ht&127)<<7*nr;if(128<=Ht&&(Ht=Ft.h[Ft.g++],Kt|=(Ht&127)<<28,Zn|=(Ht&127)>>4),128<=Ht)for(nr=0;5>nr&&128<=Ht;nr++)Ht=Ft.h[Ft.g++],Zn|=(Ht&127)<<7*nr+3;if(128>Ht)return Ft=Kt>>>0,Ht=Zn>>>0,(Zn=Ht&2147483648)&&(Ft=~Ft+1>>>0,Ht=~Ht>>>0,Ft==0&&(Ht=Ht+1>>>0)),Ft=4294967296*Ht+(Ft>>>0),Zn?-Ft:Ft;Ft.m=!0}Jl.prototype.i=function(){var Ft=this.h,Ht=Ft[this.g],Kt=Ht&127;return 128>Ht?(this.g+=1,Kt):(Ht=Ft[this.g+1],Kt|=(Ht&127)<<7,128>Ht?(this.g+=2,Kt):(Ht=Ft[this.g+2],Kt|=(Ht&127)<<14,128>Ht?(this.g+=3,Kt):(Ht=Ft[this.g+3],Kt|=(Ht&127)<<21,128>Ht?(this.g+=4,Kt):(Ht=Ft[this.g+4],Kt|=(Ht&15)<<28,128>Ht?(this.g+=5,Kt>>>0):(this.g+=5,128<=Ft[this.g++]&&128<=Ft[this.g++]&&128<=Ft[this.g++]&&128<=Ft[this.g++]&&this.g++,Kt)))))},Jl.prototype.o=function(){var Ft=this.h[this.g],Ht=this.h[this.g+1],Kt=this.h[this.g+2],Zn=this.h[this.g+3];return this.g+=4,Kt=(Ft<<0|Ht<<8|Kt<<16|Zn<<24)>>>0,Ft=2*(Kt>>31)+1,Ht=Kt>>>23&255,Kt&=8388607,Ht==255?Kt?NaN:1/0*Ft:Ht==0?Ft*Math.pow(2,-149)*Kt:Ft*Math.pow(2,Ht-150)*(Kt+Math.pow(2,23))};var pu=[];function Xl(){this.g=new Uint8Array(64),this.h=0}Xl.prototype.push=function(Ft){if(!(this.h+1<this.g.length)){var Ht=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(Ht)}this.g[this.h++]=Ft},Xl.prototype.length=function(){return this.h},Xl.prototype.end=function(){var Ft=this.g,Ht=this.h;return this.h=0,Pu(Ft,0,Ht)};function gs(Ft,Ht){for(;127<Ht;)Ft.push(Ht&127|128),Ht>>>=7;Ft.push(Ht)}function $s(Ft){var Ht={},Kt=Ht.N===void 0?!1:Ht.N;this.o={v:Ht.v===void 0?!1:Ht.v},this.N=Kt,Ht=this.o,pu.length?(Kt=pu.pop(),Ht&&(Kt.v=Ht.v),Ft&&xs(Kt,Ft),Ft=Kt):Ft=new Jl(Ft,Ht),this.g=Ft,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}$s.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function Ll(Ft){var Ht=Ft.g;if((Ht=Ht.g==Ht.j)||(Ht=Ft.j)||(Ht=Ft.g,Ht=Ht.m||0>Ht.g||Ht.g>Ht.j),Ht)return!1;Ft.m=Ft.g.g,Ht=Ft.g.i();var Kt=Ht&7;return Kt!=0&&Kt!=5&&Kt!=1&&Kt!=2&&Kt!=3&&Kt!=4?(Ft.j=!0,!1):(Ft.i=Ht,Ft.l=Ht>>>3,Ft.h=Kt,!0)}function ns(Ft){switch(Ft.h){case 0:if(Ft.h!=0)ns(Ft);else{for(Ft=Ft.g;Ft.h[Ft.g]&128;)Ft.g++;Ft.g++}break;case 1:Ft.h!=1?ns(Ft):(Ft=Ft.g,Ft.g+=8);break;case 2:if(Ft.h!=2)ns(Ft);else{var Ht=Ft.g.i();Ft=Ft.g,Ft.g+=Ht}break;case 5:Ft.h!=5?ns(Ft):(Ft=Ft.g,Ft.g+=4);break;case 3:Ht=Ft.l;do{if(!Ll(Ft)){Ft.j=!0;break}if(Ft.h==4){Ft.l!=Ht&&(Ft.j=!0);break}ns(Ft)}while(1);break;default:Ft.j=!0}}function yl(Ft,Ht,Kt){var Zn=Ft.g.j,nr=Ft.g.i(),Tr=Ft.g.g+nr;if(Ft.g.j=Tr,Kt(Ht,Ft),Kt=Tr-Ft.g.g,Kt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+nr+" bytes, instead read "+(nr-Kt)+" bytes, either the data ended unexpectedly or the message misreported its own length");return Ft.g.g=Tr,Ft.g.j=Zn,Ht}function ds(Ft){return Ft.g.o()}function Bs(Ft){var Ht=Ft.g.i();Ft=Ft.g;var Kt=Ft.g;Ft.g+=Ht,Ft=Ft.h;var Zn;if(fu)(Zn=Tl)||(Zn=Tl=new TextDecoder("utf-8",{fatal:!1})),Zn=Zn.decode(Ft.subarray(Kt,Kt+Ht));else{Ht=Kt+Ht;for(var nr=[],Tr=null,rr,kr,Jr;Kt<Ht;)rr=Ft[Kt++],128>rr?nr.push(rr):224>rr?Kt>=Ht?nr.push(65533):(kr=Ft[Kt++],194>rr||(kr&192)!==128?(Kt--,nr.push(65533)):nr.push((rr&31)<<6|kr&63)):240>rr?Kt>=Ht-1?nr.push(65533):(kr=Ft[Kt++],(kr&192)!==128||rr===224&&160>kr||rr===237&&160<=kr||((Zn=Ft[Kt++])&192)!==128?(Kt--,nr.push(65533)):nr.push((rr&15)<<12|(kr&63)<<6|Zn&63)):244>=rr?Kt>=Ht-2?nr.push(65533):(kr=Ft[Kt++],(kr&192)!==128||(rr<<28)+(kr-144)>>30||((Zn=Ft[Kt++])&192)!==128||((Jr=Ft[Kt++])&192)!==128?(Kt--,nr.push(65533)):(rr=(rr&7)<<18|(kr&63)<<12|(Zn&63)<<6|Jr&63,rr-=65536,nr.push((rr>>10&1023)+55296,(rr&1023)+56320))):nr.push(65533),8192<=nr.length&&(Tr=Bo(Tr,nr),nr.length=0);Zn=Bo(Tr,nr)}return Zn}function xl(Ft,Ht,Kt){var Zn=Ft.g.i();for(Zn=Ft.g.g+Zn;Ft.g.g<Zn;)Kt.push(Ht.call(Ft.g))}function nu(Ft,Ht){Ft.h==2?xl(Ft,Jl.prototype.o,Ht):Ht.push(ds(Ft))}function Qs(){this.h=[],this.i=0,this.g=new Xl}function fs(Ft,Ht){Ht.length!==0&&(Ft.h.push(Ht),Ft.i+=Ht.length)}function $l(Ft){var Ht=Ft.i+Ft.g.length();if(Ht===0)return new Uint8Array(0);Ht=new Uint8Array(Ht);for(var Kt=Ft.h,Zn=Kt.length,nr=0,Tr=0;Tr<Zn;Tr++){var rr=Kt[Tr];rr.length!==0&&(Ht.set(rr,nr),nr+=rr.length)}return Kt=Ft.g,Zn=Kt.h,Zn!==0&&(Ht.set(Kt.g.subarray(0,Zn),nr),Kt.h=0),Ft.h=[Ht],Ht}function Ql(Ft,Ht,Kt){if(Kt!=null){gs(Ft.g,8*Ht+5),Ft=Ft.g;var Zn=Kt;Zn=(Kt=0>Zn?1:0)?-Zn:Zn,Zn===0?0<1/Zn?Fs=Cl=0:(Cl=0,Fs=2147483648):isNaN(Zn)?(Cl=0,Fs=2147483647):34028234663852886e22<Zn?(Cl=0,Fs=(Kt<<31|2139095040)>>>0):11754943508222875e-54>Zn?(Zn=Math.round(Zn/Math.pow(2,-149)),Cl=0,Fs=(Kt<<31|Zn)>>>0):(Ht=Math.floor(Math.log(Zn)/Math.LN2),Zn*=Math.pow(2,-Ht),Zn=Math.round(8388608*Zn),16777216<=Zn&&++Ht,Cl=0,Fs=(Kt<<31|Ht+127<<23|Zn&8388607)>>>0),Kt=Fs,Ft.push(Kt>>>0&255),Ft.push(Kt>>>8&255),Ft.push(Kt>>>16&255),Ft.push(Kt>>>24&255)}}var Sl=typeof Uint8Array=="function";function Vu(Ft,Ht,Kt){if(Ft!=null)return typeof Ft=="object"?Sl&&Ft instanceof Uint8Array?Kt(Ft):hu(Ft,Ht,Kt):Ht(Ft)}function hu(Ft,Ht,Kt){if(Array.isArray(Ft)){for(var Zn=Array(Ft.length),nr=0;nr<Ft.length;nr++)Zn[nr]=Vu(Ft[nr],Ht,Kt);return Array.isArray(Ft)&&Ft.W&&zs(Zn),Zn}Zn={};for(nr in Ft)Zn[nr]=Vu(Ft[nr],Ht,Kt);return Zn}function _l(Ft){return typeof Ft=="number"?isFinite(Ft)?Ft:String(Ft):Ft}var mu={W:{value:!0,configurable:!0}};function zs(Ft){return Array.isArray(Ft)&&!Object.isFrozen(Ft)&&Object.defineProperties(Ft,mu),Ft}var Rl;function Ks(Ft,Ht,Kt){var Zn=Rl;Rl=null,Ft||(Ft=Zn),Zn=this.constructor.ca,Ft||(Ft=Zn?[Zn]:[]),this.j=Zn?0:-1,this.m=this.g=null,this.h=Ft;e:{if(Zn=this.h.length,Ft=Zn-1,Zn&&(Zn=this.h[Ft],!(Zn===null||typeof Zn!="object"||Array.isArray(Zn)||Sl&&Zn instanceof Uint8Array))){this.l=Ft-this.j,this.i=Zn;break e}Ht!==void 0&&-1<Ht?(this.l=Math.max(Ht,Ft+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(Kt)for(Ht=0;Ht<Kt.length;Ht++)Ft=Kt[Ht],Ft<this.l?(Ft+=this.j,(Zn=this.h[Ft])?zs(Zn):this.h[Ft]=Rs):(eu(this),(Zn=this.i[Ft])?zs(Zn):this.i[Ft]=Rs)}var Rs=Object.freeze(zs([]));function eu(Ft){var Ht=Ft.l+Ft.j;Ft.h[Ht]||(Ft.i=Ft.h[Ht]={})}function Ss(Ft,Ht,Kt){return Ht===-1?null:Kt!==void 0&&Kt||Ht>=Ft.l?Ft.i?Ft.i[Ht]:void 0:Ft.h[Ht+Ft.j]}function ps(Ft,Ht){var Kt=Kt===void 0?!1:Kt,Zn=Ss(Ft,Ht,Kt);return Zn==null&&(Zn=Rs),Zn===Rs&&(Zn=zs([]),Io(Ft,Ht,Zn,Kt)),Zn}function Su(Ft){var Ht=ps(Ft,3);if(Ft.m||(Ft.m={}),!Ft.m[3]){for(var Kt=0;Kt<Ht.length;Kt++)Ht[Kt]=+Ht[Kt];Ft.m[3]=!0}return Ht}function Ds(Ft,Ht,Kt){return Ft=Ss(Ft,Ht),Ft??Kt}function Xo(Ft,Ht,Kt){return Ft=Ss(Ft,Ht),Ft=Ft==null?Ft:+Ft,Ft??(Kt===void 0?0:Kt)}function Io(Ft,Ht,Kt,Zn){Zn!==void 0&&Zn||Ht>=Ft.l?(eu(Ft),Ft.i[Ht]=Kt):Ft.h[Ht+Ft.j]=Kt}function Is(Ft,Ht,Kt){if(Kt===-1)return null;if(Ft.g||(Ft.g={}),!Ft.g[Kt]){var Zn=Ss(Ft,Kt,!1);Zn&&(Ft.g[Kt]=new Ht(Zn))}return Ft.g[Kt]}function Il(Ft,Ht){Ft.g||(Ft.g={});var Kt=Ft.g[1];if(!Kt){var Zn=ps(Ft,1);Kt=[];for(var nr=0;nr<Zn.length;nr++)Kt[nr]=new Ht(Zn[nr]);Ft.g[1]=Kt}return Kt}function Es(Ft,Ht,Kt){var Zn=Zn===void 0?!1:Zn;Ft.g||(Ft.g={});var nr=Kt&&Vr(Kt);Ft.g[Ht]=Kt,Io(Ft,Ht,nr,Zn)}function ws(Ft,Ht,Kt,Zn){var nr=Il(Ft,Kt);Ht=Ht||new Kt,Ft=ps(Ft,1),Zn!=null?(nr.splice(Zn,0,Ht),Ft.splice(Zn,0,Vr(Ht))):(nr.push(Ht),Ft.push(Vr(Ht)))}Ks.prototype.toJSON=function(){var Ft=Vr(this);return hu(Ft,_l,Ru)};function Vr(Ft,Ht){if(Ft.g)for(var Kt in Ft.g){var Zn=Ft.g[Kt];if(Array.isArray(Zn))for(var nr=0;nr<Zn.length;nr++)Zn[nr]&&Vr(Zn[nr]);else Zn&&Vr(Zn)}return Ft.h}Ks.prototype.toString=function(){return Vr(this).toString()};function jr(Ft,Ht){if(Ft=Ft.o){fs(Ht,Ht.g.end());for(var Kt=0;Kt<Ft.length;Kt++)fs(Ht,Ft[Kt])}}function _r(Ft,Ht){if(Ht.h==4)return!1;var Kt=Ht.m;return ns(Ht),Ht.N||(Ht=Pu(Ht.g.h,Kt,Ht.g.g),(Kt=Ft.o)?Kt.push(Ht):Ft.o=[Ht]),!0}function hs(Ft){Ks.call(this,Ft,-1,Ls)}uo(hs,Ks),hs.prototype.getRows=function(){return Ss(this,1)},hs.prototype.getCols=function(){return Ss(this,2)},hs.prototype.getPackedDataList=function(){return Su(this)},hs.prototype.getLayout=function(){return Ds(this,4,0)};function Ps(Ft,Ht){for(;Ll(Ht);)switch(Ht.i){case 8:var Kt=Ht.g.i();Io(Ft,1,Kt);break;case 16:Kt=Ht.g.i(),Io(Ft,2,Kt);break;case 29:case 26:nu(Ht,Ft.getPackedDataList());break;case 32:Kt=ga(Ht.g),Io(Ft,4,Kt);break;default:if(!_r(Ft,Ht))return Ft}return Ft}var Ls=[3];function No(Ft,Ht){var Kt=void 0;return new(Kt||(Kt=nt))(function(Zn,nr){function Tr(Jr){try{kr(Ht.next(Jr))}catch(Ot){nr(Ot)}}function rr(Jr){try{kr(Ht.throw(Jr))}catch(Ot){nr(Ot)}}function kr(Jr){Jr.done?Zn(Jr.value):new Kt(function(Ot){Ot(Jr.value)}).then(Tr,rr)}kr((Ht=Ht.apply(Ft,void 0)).next())})}function js(Ft){Ks.call(this,Ft)}uo(js,Ks);function Nl(Ft,Ht){for(;Ll(Ht);)switch(Ht.i){case 8:var Kt=Ht.g.i();Io(Ft,1,Kt);break;case 21:Kt=ds(Ht),Io(Ft,2,Kt);break;case 26:Kt=Bs(Ht),Io(Ft,3,Kt);break;case 34:Kt=Bs(Ht),Io(Ft,4,Kt);break;default:if(!_r(Ft,Ht))return Ft}return Ft}function ru(Ft){Ks.call(this,Ft,-1,iu)}uo(ru,Ks),ru.prototype.addClassification=function(Ft,Ht){return ws(this,Ft,js,Ht),this};var iu=[1];function Eu(Ft){Ks.call(this,Ft)}uo(Eu,Ks);function Iu(Ft,Ht){for(;Ll(Ht);)switch(Ht.i){case 13:var Kt=ds(Ht);Io(Ft,1,Kt);break;case 21:Kt=ds(Ht),Io(Ft,2,Kt);break;case 29:Kt=ds(Ht),Io(Ft,3,Kt);break;case 37:Kt=ds(Ht),Io(Ft,4,Kt);break;case 45:Kt=ds(Ht),Io(Ft,5,Kt);break;default:if(!_r(Ft,Ht))return Ft}return Ft}function Ol(Ft){Ks.call(this,Ft,-1,Cp)}uo(Ol,Ks);function ou(Ft){e:{var Ht=new Ol;for(Ft=new $s(Ft);Ll(Ft);)switch(Ft.i){case 10:var Kt=yl(Ft,new Eu,Iu);ws(Ht,Kt,Eu,void 0);break;default:if(!_r(Ht,Ft))break e}}return Ht}var Cp=[1];function su(Ft){Ks.call(this,Ft)}uo(su,Ks);function Pl(Ft){Ks.call(this,Ft,-1,Fu)}uo(Pl,Ks),Pl.prototype.getVertexType=function(){return Ds(this,1,0)},Pl.prototype.getPrimitiveType=function(){return Ds(this,2,0)},Pl.prototype.getVertexBufferList=function(){return Su(this)},Pl.prototype.getIndexBufferList=function(){return ps(this,4)};function Lu(Ft,Ht){for(;Ll(Ht);)switch(Ht.i){case 8:var Kt=ga(Ht.g);Io(Ft,1,Kt);break;case 16:Kt=ga(Ht.g),Io(Ft,2,Kt);break;case 29:case 26:nu(Ht,Ft.getVertexBufferList());break;case 32:case 34:Kt=Ht;var Zn=Ft.getIndexBufferList();Kt.h==2?xl(Kt,Jl.prototype.i,Zn):Zn.push(Kt.g.i());break;default:if(!_r(Ft,Ht))return Ft}return Ft}var Fu=[3,4];function Ul(Ft){Ks.call(this,Ft)}uo(Ul,Ks),Ul.prototype.getMesh=function(){return Is(this,Pl,1)},Ul.prototype.getPoseTransformMatrix=function(){return Is(this,hs,2)};function up(Ft){e:{var Ht=new Ul;for(Ft=new $s(Ft);Ll(Ft);)switch(Ft.i){case 10:var Kt=yl(Ft,new Pl,Lu);Es(Ht,1,Kt);break;case 18:Kt=yl(Ft,new hs,Ps),Es(Ht,2,Kt);break;default:if(!_r(Ht,Ft))break e}}return Ht}function au(Ft,Ht,Kt){if(Kt=Ft.createShader(Kt===0?Ft.VERTEX_SHADER:Ft.FRAGMENT_SHADER),Ft.shaderSource(Kt,Ht),Ft.compileShader(Kt),!Ft.getShaderParameter(Kt,Ft.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+Ft.getShaderInfoLog(Kt));return Kt}function ku(Ft){return Il(Ft,js).map(function(Ht){return{index:Ds(Ht,1,0),Y:Xo(Ht,2),label:Ss(Ht,3)!=null?Ds(Ht,3,""):void 0,displayName:Ss(Ht,4)!=null?Ds(Ht,4,""):void 0}})}function Uu(Ft){return{x:Xo(Ft,1),y:Xo(Ft,2),z:Xo(Ft,3),visibility:Ss(Ft,4)!=null?Xo(Ft,4):void 0}}function yp(Ft,Ht){this.h=Ft,this.g=Ht,this.l=0}function gu(Ft,Ht,Kt){return Bu(Ft,Ht),typeof Ft.g.canvas.transferToImageBitmap=="function"?nt.resolve(Ft.g.canvas.transferToImageBitmap()):Kt?nt.resolve(Ft.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(Ft.g.canvas):(Ft.i===void 0&&(Ft.i=document.createElement("canvas")),new nt(function(Zn){Ft.i.height=Ft.g.canvas.height,Ft.i.width=Ft.g.canvas.width,Ft.i.getContext("2d",{}).drawImage(Ft.g.canvas,0,0,Ft.g.canvas.width,Ft.g.canvas.height),Zn(Ft.i)}))}function Bu(Ft,Ht){var Kt=Ft.g;if(Ft.m===void 0){var Zn=au(Kt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),nr=au(Kt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Tr=Kt.createProgram();if(Kt.attachShader(Tr,Zn),Kt.attachShader(Tr,nr),Kt.linkProgram(Tr),!Kt.getProgramParameter(Tr,Kt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Kt.getProgramInfoLog(Tr));Zn=Ft.m=Tr,Kt.useProgram(Zn),nr=Kt.getUniformLocation(Zn,"sampler0"),Ft.j={I:Kt.getAttribLocation(Zn,"aVertex"),H:Kt.getAttribLocation(Zn,"aTex"),da:nr},Ft.s=Kt.createBuffer(),Kt.bindBuffer(Kt.ARRAY_BUFFER,Ft.s),Kt.enableVertexAttribArray(Ft.j.I),Kt.vertexAttribPointer(Ft.j.I,2,Kt.FLOAT,!1,0,0),Kt.bufferData(Kt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Kt.STATIC_DRAW),Kt.bindBuffer(Kt.ARRAY_BUFFER,null),Ft.o=Kt.createBuffer(),Kt.bindBuffer(Kt.ARRAY_BUFFER,Ft.o),Kt.enableVertexAttribArray(Ft.j.H),Kt.vertexAttribPointer(Ft.j.H,2,Kt.FLOAT,!1,0,0),Kt.bufferData(Kt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Kt.STATIC_DRAW),Kt.bindBuffer(Kt.ARRAY_BUFFER,null),Kt.uniform1i(nr,0)}Zn=Ft.j,Kt.useProgram(Ft.m),Kt.canvas.width=Ht.width,Kt.canvas.height=Ht.height,Kt.viewport(0,0,Ht.width,Ht.height),Kt.activeTexture(Kt.TEXTURE0),Ft.h.bindTexture2d(Ht.glName),Kt.enableVertexAttribArray(Zn.I),Kt.bindBuffer(Kt.ARRAY_BUFFER,Ft.s),Kt.vertexAttribPointer(Zn.I,2,Kt.FLOAT,!1,0,0),Kt.enableVertexAttribArray(Zn.H),Kt.bindBuffer(Kt.ARRAY_BUFFER,Ft.o),Kt.vertexAttribPointer(Zn.H,2,Kt.FLOAT,!1,0,0),Kt.bindFramebuffer(Kt.DRAW_FRAMEBUFFER?Kt.DRAW_FRAMEBUFFER:Kt.FRAMEBUFFER,null),Kt.clearColor(0,0,0,0),Kt.clear(Kt.COLOR_BUFFER_BIT),Kt.colorMask(!0,!0,!0,!0),Kt.drawArrays(Kt.TRIANGLE_FAN,0,4),Kt.disableVertexAttribArray(Zn.I),Kt.disableVertexAttribArray(Zn.H),Kt.bindBuffer(Kt.ARRAY_BUFFER,null),Ft.h.bindTexture2d(0)}function Vp(Ft){this.g=Ft}var Mp=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Hu(Ft,Ht){return Ht+Ft}function _d(Ft,Ht){window[Ft]=Ht}function jt(Ft){var Ht=document.createElement("script");return Ht.setAttribute("src",Ft),Ht.setAttribute("crossorigin","anonymous"),new nt(function(Kt){Ht.addEventListener("load",function(){Kt()},!1),Ht.addEventListener("error",function(){Kt()},!1),document.body.appendChild(Ht)})}function ln(){return No(this,function Ft(){return Ts(Ft,function(Ht){switch(Ht.g){case 1:return Ht.m=2,Cr(Ht,WebAssembly.instantiate(Mp),4);case 4:Ht.g=3,Ht.m=0;break;case 2:return Ht.m=0,Ht.j=null,Ht.return(!1);case 3:return Ht.return(!0)}})})}function dn(Ft){if(this.g=Ft,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=Ft&&Ft.locateFile||Hu,typeof window=="object")var Ht=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Ht=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Ht,Ft.options){Ht=Nn(Object.keys(Ft.options));for(var Kt=Ht.next();!Kt.done;Kt=Ht.next()){Kt=Kt.value;var Zn=Ft.options[Kt].default;Zn!==void 0&&(this.j[Kt]=typeof Zn=="function"?Zn():Zn)}}}xt=dn.prototype,xt.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Kn(Ft,Ht){return Ft.g.files===void 0?[]:typeof Ft.g.files=="function"?Ft.g.files(Ht):Ft.g.files}function gr(Ft){return No(Ft,function Ht(){var Kt=this,Zn,nr,Tr,rr,kr,Jr,Ot,Jt,pn,An,Hn;return Ts(Ht,function(ar){switch(ar.g){case 1:return Zn=Kt,Kt.R?(nr=Kn(Kt,Kt.j),Cr(ar,ln(),2)):ar.return();case 2:if(Tr=ar.h,typeof window=="object")return _d("createMediapipeSolutionsWasm",{locateFile:Kt.locateFile}),_d("createMediapipeSolutionsPackedAssets",{locateFile:Kt.locateFile}),Jr=nr.filter(function(qn){return qn.data!==void 0}),Ot=nr.filter(function(qn){return qn.data===void 0}),Jt=nt.all(Jr.map(function(qn){var Zr=Fr(Zn,qn.url);if(qn.path!==void 0){var Ar=qn.path;Zr=Zr.then(function(fo){return Zn.overrideFile(Ar,fo),nt.resolve(fo)})}return Zr})),pn=nt.all(Ot.map(function(qn){return qn.simd===void 0||qn.simd&&Tr||!qn.simd&&!Tr?jt(Zn.locateFile(qn.url,Zn.S)):nt.resolve()})).then(function(){return No(Zn,function qn(){var Zr,Ar,fo=this;return Ts(qn,function(So){if(So.g==1)return Zr=window.createMediapipeSolutionsWasm,Ar=window.createMediapipeSolutionsPackedAssets,Cr(So,Zr(Ar),2);fo.h=So.h,So.g=0})})}),An=function(){return No(Zn,function qn(){var Zr=this;return Ts(qn,function(Ar){return Zr.g.graph&&Zr.g.graph.url?Ar=Cr(Ar,Fr(Zr,Zr.g.graph.url),0):(Ar.g=0,Ar=void 0),Ar})})}(),Cr(ar,nt.all([pn,Jt,An]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return rr=nr.filter(function(qn){return qn.simd===void 0||qn.simd&&Tr||!qn.simd&&!Tr}).map(function(qn){return Zn.locateFile(qn.url,Zn.S)}),importScripts.apply(null,or(rr)),Cr(ar,createMediapipeSolutionsWasm(Module),6);case 6:Kt.h=ar.h,Kt.l=new OffscreenCanvas(1,1),Kt.h.canvas=Kt.l,kr=Kt.h.GL.createContext(Kt.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),Kt.h.GL.makeContextCurrent(kr),ar.g=4;break;case 7:if(Kt.l=document.createElement("canvas"),Hn=Kt.l.getContext("webgl2",{}),!Hn&&(Hn=Kt.l.getContext("webgl",{}),!Hn))return alert("Failed to create WebGL canvas context when passing video frame."),ar.return();Kt.D=Hn,Kt.h.canvas=Kt.l,Kt.h.createContext(Kt.l,!0,!0,{});case 4:Kt.i=new Kt.h.SolutionWasm,Kt.R=!1,ar.g=0}})})}function Hr(Ft){return No(Ft,function Ht(){var Kt=this,Zn,nr,Tr,rr,kr,Jr,Ot,Jt;return Ts(Ht,function(pn){if(pn.g==1){if(Kt.g.graph&&Kt.g.graph.url&&Kt.P===Kt.g.graph.url)return pn.return();if(Kt.o=!0,!Kt.g.graph||!Kt.g.graph.url){pn.g=2;return}return Kt.P=Kt.g.graph.url,Cr(pn,Fr(Kt,Kt.g.graph.url),3)}for(pn.g!=2&&(Zn=pn.h,Kt.i.loadGraph(Zn)),nr=Nn(Object.keys(Kt.B)),Tr=nr.next();!Tr.done;Tr=nr.next())rr=Tr.value,Kt.i.overrideFile(rr,Kt.B[rr]);if(Kt.B={},Kt.g.listeners)for(kr=Nn(Kt.g.listeners),Jr=kr.next();!Jr.done;Jr=kr.next())Ot=Jr.value,_o(Kt,Ot);Jt=Kt.j,Kt.j={},Kt.setOptions(Jt),pn.g=0})})}xt.reset=function(){return No(this,function Ft(){var Ht=this;return Ts(Ft,function(Kt){Ht.i&&(Ht.i.reset(),Ht.m={},Ht.s={}),Kt.g=0})})},xt.setOptions=function(Ft,Ht){var Kt=this;if(Ht=Ht||this.g.options){for(var Zn=[],nr=[],Tr={},rr=Nn(Object.keys(Ft)),kr=rr.next();!kr.done;Tr={K:Tr.K,L:Tr.L},kr=rr.next()){var Jr=kr.value;Jr in this.j&&this.j[Jr]===Ft[Jr]||(this.j[Jr]=Ft[Jr],kr=Ht[Jr],kr!==void 0&&(kr.onChange&&(Tr.K=kr.onChange,Tr.L=Ft[Jr],Zn.push(function(Ot){return function(){return No(Kt,function Jt(){var pn,An=this;return Ts(Jt,function(Hn){if(Hn.g==1)return Cr(Hn,Ot.K(Ot.L),2);pn=Hn.h,pn===!0&&(An.o=!0),Hn.g=0})})}}(Tr))),kr.graphOptionXref&&(Jr={valueNumber:kr.type===1?Ft[Jr]:0,valueBoolean:kr.type===0?Ft[Jr]:!1,valueString:kr.type===2?Ft[Jr]:""},kr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),kr.graphOptionXref),Jr),nr.push(kr))))}(Zn.length!==0||nr.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(nr),this.u=(this.u===void 0?[]:this.u).concat(Zn))}};function hr(Ft){return No(Ft,function Ht(){var Kt=this,Zn,nr,Tr,rr,kr,Jr,Ot;return Ts(Ht,function(Jt){switch(Jt.g){case 1:if(!Kt.o)return Jt.return();if(!Kt.u){Jt.g=2;break}Zn=Nn(Kt.u),nr=Zn.next();case 3:if(nr.done){Jt.g=5;break}return Tr=nr.value,Cr(Jt,Tr(),4);case 4:nr=Zn.next(),Jt.g=3;break;case 5:Kt.u=void 0;case 2:if(Kt.A){for(rr=new Kt.h.GraphOptionChangeRequestList,kr=Nn(Kt.A),Jr=kr.next();!Jr.done;Jr=kr.next())Ot=Jr.value,rr.push_back(Ot);Kt.i.changeOptions(rr),rr.delete(),Kt.A=void 0}Kt.o=!1,Jt.g=0}})})}xt.initialize=function(){return No(this,function Ft(){var Ht=this;return Ts(Ft,function(Kt){return Kt.g==1?Cr(Kt,gr(Ht),2):Kt.g!=3?Cr(Kt,Hr(Ht),3):Cr(Kt,hr(Ht),0)})})};function Fr(Ft,Ht){return No(Ft,function Kt(){var Zn=this,nr,Tr;return Ts(Kt,function(rr){return Ht in Zn.F?rr.return(Zn.F[Ht]):(nr=Zn.locateFile(Ht,""),Tr=fetch(nr).then(function(kr){return kr.arrayBuffer()}),Zn.F[Ht]=Tr,rr.return(Tr))})})}xt.overrideFile=function(Ft,Ht){this.i?this.i.overrideFile(Ft,Ht):this.B[Ft]=Ht},xt.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},xt.send=function(Ft,Ht){return No(this,function Kt(){var Zn=this,nr,Tr,rr,kr,Jr,Ot,Jt,pn,An;return Ts(Kt,function(Hn){switch(Hn.g){case 1:return Zn.g.inputs?(nr=1e3*(Ht??performance.now()),Cr(Hn,Zn.C,2)):Hn.return();case 2:return Cr(Hn,Zn.initialize(),3);case 3:for(Tr=new Zn.h.PacketDataList,rr=Nn(Object.keys(Ft)),kr=rr.next();!kr.done;kr=rr.next())if(Jr=kr.value,Ot=Zn.g.inputs[Jr]){e:{var ar=Zn,qn=Ft[Jr];switch(Ot.type){case"video":var Zr=ar.m[Ot.stream];if(Zr||(Zr=new yp(ar.h,ar.D),ar.m[Ot.stream]=Zr),ar=Zr,ar.l===0&&(ar.l=ar.h.createTexture()),typeof HTMLVideoElement<"u"&&qn instanceof HTMLVideoElement){var Ar=qn.videoWidth;Zr=qn.videoHeight}else typeof HTMLImageElement<"u"&&qn instanceof HTMLImageElement?(Ar=qn.naturalWidth,Zr=qn.naturalHeight):(Ar=qn.width,Zr=qn.height);Zr={glName:ar.l,width:Ar,height:Zr},Ar=ar.g,Ar.canvas.width=Zr.width,Ar.canvas.height=Zr.height,Ar.activeTexture(Ar.TEXTURE0),ar.h.bindTexture2d(ar.l),Ar.texImage2D(Ar.TEXTURE_2D,0,Ar.RGBA,Ar.RGBA,Ar.UNSIGNED_BYTE,qn),ar.h.bindTexture2d(0),ar=Zr;break e;case"detections":for(Zr=ar.m[Ot.stream],Zr||(Zr=new Vp(ar.h),ar.m[Ot.stream]=Zr),ar=Zr,ar.data||(ar.data=new ar.g.DetectionListData),ar.data.reset(qn.length),Zr=0;Zr<qn.length;++Zr){Ar=qn[Zr];var fo=ar.data,So=fo.setBoundingBox,qo=Zr,Lo=Ar.T,ro=new su;Io(ro,1,Lo.Z),Io(ro,2,Lo.$),Io(ro,3,Lo.height),Io(ro,4,Lo.width),Io(ro,5,Lo.rotation),Io(ro,6,Lo.X);var Co=Lo=new Qs;Ql(Co,1,Ss(ro,1)),Ql(Co,2,Ss(ro,2)),Ql(Co,3,Ss(ro,3)),Ql(Co,4,Ss(ro,4)),Ql(Co,5,Ss(ro,5));var ko=Ss(ro,6);if(ko!=null&&ko!=null){gs(Co.g,48);var Wo=Co.g,Do=ko;ko=0>Do,Do=Math.abs(Do);var Lt=Do>>>0;for(Do=Math.floor((Do-Lt)/4294967296),Do>>>=0,ko&&(Do=~Do>>>0,Lt=(~Lt>>>0)+1,4294967295<Lt&&(Lt=0,Do++,4294967295<Do&&(Do=0))),Fs=Lt,Cl=Do,ko=Fs,Lt=Cl;0<Lt||127<ko;)Wo.push(ko&127|128),ko=(ko>>>7|Lt<<25)>>>0,Lt>>>=7;Wo.push(ko)}if(jr(ro,Co),Lo=$l(Lo),So.call(fo,qo,Lo),Ar.O)for(fo=0;fo<Ar.O.length;++fo)ro=Ar.O[fo],Co=!!ro.visibility,So=ar.data,qo=So.addNormalizedLandmark,Lo=Zr,ro=Object.assign(Object.assign({},ro),{visibility:Co?ro.visibility:0}),Co=new Eu,Io(Co,1,ro.x),Io(Co,2,ro.y),Io(Co,3,ro.z),ro.visibility&&Io(Co,4,ro.visibility),Wo=ro=new Qs,Ql(Wo,1,Ss(Co,1)),Ql(Wo,2,Ss(Co,2)),Ql(Wo,3,Ss(Co,3)),Ql(Wo,4,Ss(Co,4)),Ql(Wo,5,Ss(Co,5)),jr(Co,Wo),ro=$l(ro),qo.call(So,Lo,ro);if(Ar.M)for(fo=0;fo<Ar.M.length;++fo){if(So=ar.data,qo=So.addClassification,Lo=Zr,ro=Ar.M[fo],Co=new js,Io(Co,2,ro.Y),ro.index&&Io(Co,1,ro.index),ro.label&&Io(Co,3,ro.label),ro.displayName&&Io(Co,4,ro.displayName),Wo=ro=new Qs,Lt=Ss(Co,1),Lt!=null&&Lt!=null)if(gs(Wo.g,8),ko=Wo.g,0<=Lt)gs(ko,Lt);else{for(Do=0;9>Do;Do++)ko.push(Lt&127|128),Lt>>=7;ko.push(1)}Ql(Wo,2,Ss(Co,2)),ko=Ss(Co,3),ko!=null&&(ko=Gu(ko),gs(Wo.g,26),gs(Wo.g,ko.length),fs(Wo,Wo.g.end()),fs(Wo,ko)),ko=Ss(Co,4),ko!=null&&(ko=Gu(ko),gs(Wo.g,34),gs(Wo.g,ko.length),fs(Wo,Wo.g.end()),fs(Wo,ko)),jr(Co,Wo),ro=$l(ro),qo.call(So,Lo,ro)}}ar=ar.data;break e;default:ar={}}}switch(Jt=ar,pn=Ot.stream,Ot.type){case"video":Tr.pushTexture2d(Object.assign(Object.assign({},Jt),{stream:pn,timestamp:nr}));break;case"detections":An=Jt,An.stream=pn,An.timestamp=nr,Tr.pushDetectionList(An);break;default:throw Error("Unknown input config type: '"+Ot.type+"'")}}return Zn.i.send(Tr),Cr(Hn,Zn.C,4);case 4:Tr.delete(),Hn.g=0}})})};function lo(Ft,Ht,Kt){return No(Ft,function Zn(){var nr,Tr,rr,kr,Jr,Ot,Jt=this,pn,An,Hn,ar,qn,Zr,Ar,fo;return Ts(Zn,function(So){switch(So.g){case 1:if(!Kt)return So.return(Ht);for(nr={},Tr=0,rr=Nn(Object.keys(Kt)),kr=rr.next();!kr.done;kr=rr.next())Jr=kr.value,Ot=Kt[Jr],typeof Ot!="string"&&Ot.type==="texture"&&Ht[Ot.stream]!==void 0&&++Tr;1<Tr&&(Jt.G=!1),pn=Nn(Object.keys(Kt)),kr=pn.next();case 2:if(kr.done){So.g=4;break}if(An=kr.value,Hn=Kt[An],typeof Hn=="string")return Ar=nr,fo=An,Cr(So,Ao(Jt,An,Ht[Hn]),14);if(ar=Ht[Hn.stream],Hn.type==="detection_list"){if(ar){for(var qo=ar.getRectList(),Lo=ar.getLandmarksList(),ro=ar.getClassificationsList(),Co=[],ko=0;ko<qo.size();++ko){var Wo=qo.get(ko);e:{var Do=new su;for(Wo=new $s(Wo);Ll(Wo);)switch(Wo.i){case 13:var Lt=ds(Wo);Io(Do,1,Lt);break;case 21:Lt=ds(Wo),Io(Do,2,Lt);break;case 29:Lt=ds(Wo),Io(Do,3,Lt);break;case 37:Lt=ds(Wo),Io(Do,4,Lt);break;case 45:Lt=ds(Wo),Io(Do,5,Lt);break;case 48:Lt=ga(Wo.g),Io(Do,6,Lt);break;default:if(!_r(Do,Wo))break e}}Do={Z:Xo(Do,1),$:Xo(Do,2),height:Xo(Do,3),width:Xo(Do,4),rotation:Xo(Do,5,0),X:Ds(Do,6,0)},Wo=Il(ou(Lo.get(ko)),Eu).map(Uu);var $t=ro.get(ko);e:for(Lt=new ru,$t=new $s($t);Ll($t);)switch($t.i){case 10:Lt.addClassification(yl($t,new js,Nl));break;default:if(!_r(Lt,$t))break e}Do={T:Do,O:Wo,M:ku(Lt)},Co.push(Do)}qo=Co}else qo=[];nr[An]=qo,So.g=7;break}if(Hn.type==="proto_list"){if(ar){for(qo=Array(ar.size()),Lo=0;Lo<ar.size();Lo++)qo[Lo]=ar.get(Lo);ar.delete()}else qo=[];nr[An]=qo,So.g=7;break}if(ar===void 0){So.g=3;break}if(Hn.type==="float_list"){nr[An]=ar,So.g=7;break}if(Hn.type==="proto"){nr[An]=ar,So.g=7;break}if(Hn.type!=="texture")throw Error("Unknown output config type: '"+Hn.type+"'");return qn=Jt.s[An],qn||(qn=new yp(Jt.h,Jt.D),Jt.s[An]=qn),Cr(So,gu(qn,ar,Jt.G),13);case 13:Zr=So.h,nr[An]=Zr;case 7:Hn.transform&&nr[An]&&(nr[An]=Hn.transform(nr[An])),So.g=3;break;case 14:Ar[fo]=So.h;case 3:kr=pn.next(),So.g=2;break;case 4:return So.return(nr)}})})}function Ao(Ft,Ht,Kt){return No(Ft,function Zn(){var nr=this,Tr;return Ts(Zn,function(rr){return typeof Kt=="number"||Kt instanceof Uint8Array||Kt instanceof nr.h.Uint8BlobList?rr.return(Kt):Kt instanceof nr.h.Texture2dDataOut?(Tr=nr.s[Ht],Tr||(Tr=new yp(nr.h,nr.D),nr.s[Ht]=Tr),rr.return(gu(Tr,Kt,nr.G))):rr.return(void 0)})})}function _o(Ft,Ht){for(var Kt=Ht.name||"$",Zn=[].concat(or(Ht.wants)),nr=new Ft.h.StringList,Tr=Nn(Ht.wants),rr=Tr.next();!rr.done;rr=Tr.next())nr.push_back(rr.value);Tr=Ft.h.PacketListener.implement({onResults:function(kr){for(var Jr={},Ot=0;Ot<Ht.wants.length;++Ot)Jr[Zn[Ot]]=kr.get(Ot);var Jt=Ft.listeners[Kt];Jt&&(Ft.C=lo(Ft,Jr,Ht.outs).then(function(pn){pn=Jt(pn);for(var An=0;An<Ht.wants.length;++An){var Hn=Jr[Zn[An]];typeof Hn=="object"&&Hn.hasOwnProperty&&Hn.hasOwnProperty("delete")&&Hn.delete()}pn&&(Ft.C=pn)}))}}),Ft.i.attachMultiListener(nr,Tr),nr.delete()}xt.onResults=function(Ft,Ht){this.listeners[Ht||"$"]=Ft},$a("Solution",dn),$a("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Ho(Ft){Ft=up(Ft);var Ht=Ft.getMesh();if(!Ht)return Ft;var Kt=new Float32Array(Ht.getVertexBufferList());Ht.getVertexBufferList=function(){return Kt};var Zn=new Uint32Array(Ht.getIndexBufferList());return Ht.getIndexBufferList=function(){return Zn},Ft}var bs={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(Ft){return Ft.map(Ho)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(Ft){return Ft.map(function(Ht){return Il(ou(Ht),Eu).map(Uu)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},$o=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Po=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Jo=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],vs=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],ks=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Xs=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Hs=[].concat(or($o),or(Po),or(Jo),or(vs),or(ks),or(Xs));function Vl(Ft){Ft=Ft||{},Ft=Object.assign(Object.assign({},bs),Ft),this.g=new dn(Ft)}xt=Vl.prototype,xt.close=function(){return this.g.close(),nt.resolve()},xt.onResults=function(Ft){this.g.onResults(Ft)},xt.initialize=function(){return No(this,function Ft(){var Ht=this;return Ts(Ft,function(Kt){return Cr(Kt,Ht.g.initialize(),0)})})},xt.reset=function(){this.g.reset()},xt.send=function(Ft){return No(this,function Ht(){var Kt=this;return Ts(Ht,function(Zn){return Cr(Zn,Kt.g.send(Ft),0)})})},xt.setOptions=function(Ft){this.g.setOptions(Ft)},$a("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),$a("FaceMesh",Vl),$a("FACEMESH_LIPS",$o),$a("FACEMESH_LEFT_EYE",Po),$a("FACEMESH_LEFT_EYEBROW",Jo),$a("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),$a("FACEMESH_RIGHT_EYE",vs),$a("FACEMESH_RIGHT_EYEBROW",ks),$a("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),$a("FACEMESH_FACE_OVAL",Xs),$a("FACEMESH_CONTOURS",Hs),$a("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),$a("matrixDataToMatrix",function(Ft){for(var Ht=Ft.getCols(),Kt=Ft.getRows(),Zn=Ft.getPackedDataList(),nr=[],Tr=0;Tr<Kt;Tr++)nr.push(Array(Ht));for(Tr=0;Tr<Kt;Tr++)for(var rr=0;rr<Ht;rr++){var kr=Ft.getLayout()===1?Tr*Ht+rr:rr*Kt+Tr;nr[Tr][rr]=Zn[kr]}return nr}),$a("VERSION","0.4.1633559619")}).call(Cu);const Yo={};(function(){var xt;function St(gt){var At=0;return function(){return At<gt.length?{done:!1,value:gt[At++]}:{done:!0}}}var Tt=typeof Object.defineProperties=="function"?Object.defineProperty:function(gt,At,Gt){return gt==Array.prototype||gt==Object.prototype||(gt[At]=Gt.value),gt};function Ut(gt){gt=[typeof globalThis=="object"&&globalThis,gt,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var At=0;At<gt.length;++At){var Gt=gt[At];if(Gt&&Gt.Math==Math)return Gt}throw Error("Cannot find global object")}var Qt=Ut(this);function In(gt,At){if(At)e:{var Gt=Qt;gt=gt.split(".");for(var Xt=0;Xt<gt.length-1;Xt++){var yn=gt[Xt];if(!(yn in Gt))break e;Gt=Gt[yn]}gt=gt[gt.length-1],Xt=Gt[gt],At=At(Xt),At!=Xt&&At!=null&&Tt(Gt,gt,{configurable:!0,writable:!0,value:At})}}In("Symbol",function(gt){function At(kn){if(this instanceof At)throw new TypeError("Symbol is not a constructor");return new Gt(Xt+(kn||"")+"_"+yn++,kn)}function Gt(kn,Mn){this.g=kn,Tt(this,"description",{configurable:!0,writable:!0,value:Mn})}if(gt)return gt;Gt.prototype.toString=function(){return this.g};var Xt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",yn=0;return At}),In("Symbol.iterator",function(gt){if(gt)return gt;gt=Symbol("Symbol.iterator");for(var At="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Gt=0;Gt<At.length;Gt++){var Xt=Qt[At[Gt]];typeof Xt=="function"&&typeof Xt.prototype[gt]!="function"&&Tt(Xt.prototype,gt,{configurable:!0,writable:!0,value:function(){return Xn(St(this))}})}return gt});function Xn(gt){return gt={next:gt},gt[Symbol.iterator]=function(){return this},gt}function Nn(gt){var At=typeof Symbol<"u"&&Symbol.iterator&&gt[Symbol.iterator];return At?At.call(gt):{next:St(gt)}}function or(gt){if(!(gt instanceof Array)){gt=Nn(gt);for(var At,Gt=[];!(At=gt.next()).done;)Gt.push(At.value);gt=Gt}return gt}var Br=typeof Object.create=="function"?Object.create:function(gt){function At(){}return At.prototype=gt,new At},eo;if(typeof Object.setPrototypeOf=="function")eo=Object.setPrototypeOf;else{var ao;e:{var Zo={a:!0},Fo={};try{Fo.__proto__=Zo,ao=Fo.a;break e}catch{}ao=!1}eo=ao?function(gt,At){if(gt.__proto__=At,gt.__proto__!==At)throw new TypeError(gt+" is not extensible");return gt}:null}var no=eo;function uo(gt,At){if(gt.prototype=Br(At.prototype),gt.prototype.constructor=gt,no)no(gt,At);else for(var Gt in At)if(Gt!="prototype")if(Object.defineProperties){var Xt=Object.getOwnPropertyDescriptor(At,Gt);Xt&&Object.defineProperty(gt,Gt,Xt)}else gt[Gt]=At[Gt];gt.ka=At.prototype}function es(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function ts(gt){if(gt.l)throw new TypeError("Generator is already running");gt.l=!0}es.prototype.o=function(gt){this.h=gt};function Cs(gt,At){gt.j={V:At,X:!0},gt.g=gt.m||gt.s}es.prototype.return=function(gt){this.j={return:gt},this.g=this.s};function Cr(gt,At,Gt){return gt.g=Gt,{value:At}}function du(gt){this.g=new es,this.h=gt}function tu(gt,At){ts(gt.g);var Gt=gt.g.i;return Gt?Js(gt,"return"in Gt?Gt.return:function(Xt){return{value:Xt,done:!0}},At,gt.g.return):(gt.g.return(At),ls(gt))}function Js(gt,At,Gt,Xt){try{var yn=At.call(gt.g.i,Gt);if(!(yn instanceof Object))throw new TypeError("Iterator result "+yn+" is not an object");if(!yn.done)return gt.g.l=!1,yn;var kn=yn.value}catch(Mn){return gt.g.i=null,Cs(gt.g,Mn),ls(gt)}return gt.g.i=null,Xt.call(gt.g,kn),ls(gt)}function ls(gt){for(;gt.g.g;)try{var At=gt.h(gt.g);if(At)return gt.g.l=!1,{value:At.value,done:!1}}catch(Gt){gt.g.h=void 0,Cs(gt.g,Gt)}if(gt.g.l=!1,gt.g.j){if(At=gt.g.j,gt.g.j=null,At.X)throw At.V;return{value:At.return,done:!0}}return{value:void 0,done:!0}}function rp(gt){this.next=function(At){return ts(gt.g),gt.g.i?At=Js(gt,gt.g.i.next,At,gt.g.o):(gt.g.o(At),At=ls(gt)),At},this.throw=function(At){return ts(gt.g),gt.g.i?At=Js(gt,gt.g.i.throw,At,gt.g.o):(Cs(gt.g,At),At=ls(gt)),At},this.return=function(At){return tu(gt,At)},this[Symbol.iterator]=function(){return this}}function Ts(gt){function At(Xt){return gt.next(Xt)}function Gt(Xt){return gt.throw(Xt)}return new nt(function(Xt,yn){function kn(Mn){Mn.done?Xt(Mn.value):nt.resolve(Mn.value).then(At,Gt).then(kn,yn)}kn(gt.next())})}function ho(gt){return Ts(new rp(new du(gt)))}In("Promise",function(gt){function At(Mn){this.h=0,this.i=void 0,this.g=[],this.o=!1;var _n=this.j();try{Mn(_n.resolve,_n.reject)}catch(lr){_n.reject(lr)}}function Gt(){this.g=null}function Xt(Mn){return Mn instanceof At?Mn:new At(function(_n){_n(Mn)})}if(gt)return gt;Gt.prototype.h=function(Mn){if(this.g==null){this.g=[];var _n=this;this.i(function(){_n.l()})}this.g.push(Mn)};var yn=Qt.setTimeout;Gt.prototype.i=function(Mn){yn(Mn,0)},Gt.prototype.l=function(){for(;this.g&&this.g.length;){var Mn=this.g;this.g=[];for(var _n=0;_n<Mn.length;++_n){var lr=Mn[_n];Mn[_n]=null;try{lr()}catch(xr){this.j(xr)}}}this.g=null},Gt.prototype.j=function(Mn){this.i(function(){throw Mn})},At.prototype.j=function(){function Mn(xr){return function(Rr){lr||(lr=!0,xr.call(_n,Rr))}}var _n=this,lr=!1;return{resolve:Mn(this.D),reject:Mn(this.l)}},At.prototype.D=function(Mn){if(Mn===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Mn instanceof At)this.G(Mn);else{e:switch(typeof Mn){case"object":var _n=Mn!=null;break e;case"function":_n=!0;break e;default:_n=!1}_n?this.A(Mn):this.m(Mn)}},At.prototype.A=function(Mn){var _n=void 0;try{_n=Mn.then}catch(lr){this.l(lr);return}typeof _n=="function"?this.H(_n,Mn):this.m(Mn)},At.prototype.l=function(Mn){this.s(2,Mn)},At.prototype.m=function(Mn){this.s(1,Mn)},At.prototype.s=function(Mn,_n){if(this.h!=0)throw Error("Cannot settle("+Mn+", "+_n+"): Promise already settled in state"+this.h);this.h=Mn,this.i=_n,this.h===2&&this.F(),this.B()},At.prototype.F=function(){var Mn=this;yn(function(){if(Mn.C()){var _n=Qt.console;typeof _n<"u"&&_n.error(Mn.i)}},1)},At.prototype.C=function(){if(this.o)return!1;var Mn=Qt.CustomEvent,_n=Qt.Event,lr=Qt.dispatchEvent;return typeof lr>"u"?!0:(typeof Mn=="function"?Mn=new Mn("unhandledrejection",{cancelable:!0}):typeof _n=="function"?Mn=new _n("unhandledrejection",{cancelable:!0}):(Mn=Qt.document.createEvent("CustomEvent"),Mn.initCustomEvent("unhandledrejection",!1,!0,Mn)),Mn.promise=this,Mn.reason=this.i,lr(Mn))},At.prototype.B=function(){if(this.g!=null){for(var Mn=0;Mn<this.g.length;++Mn)kn.h(this.g[Mn]);this.g=null}};var kn=new Gt;return At.prototype.G=function(Mn){var _n=this.j();Mn.K(_n.resolve,_n.reject)},At.prototype.H=function(Mn,_n){var lr=this.j();try{Mn.call(_n,lr.resolve,lr.reject)}catch(xr){lr.reject(xr)}},At.prototype.then=function(Mn,_n){function lr(io,oo){return typeof io=="function"?function(vo){try{xr(io(vo))}catch(go){Rr(go)}}:oo}var xr,Rr,zr=new At(function(io,oo){xr=io,Rr=oo});return this.K(lr(Mn,xr),lr(_n,Rr)),zr},At.prototype.catch=function(Mn){return this.then(void 0,Mn)},At.prototype.K=function(Mn,_n){function lr(){switch(xr.h){case 1:Mn(xr.i);break;case 2:_n(xr.i);break;default:throw Error("Unexpected state: "+xr.h)}}var xr=this;this.g==null?kn.h(lr):this.g.push(lr),this.o=!0},At.resolve=Xt,At.reject=function(Mn){return new At(function(_n,lr){lr(Mn)})},At.race=function(Mn){return new At(function(_n,lr){for(var xr=Nn(Mn),Rr=xr.next();!Rr.done;Rr=xr.next())Xt(Rr.value).K(_n,lr)})},At.all=function(Mn){var _n=Nn(Mn),lr=_n.next();return lr.done?Xt([]):new At(function(xr,Rr){function zr(vo){return function(go){io[vo]=go,oo--,oo==0&&xr(io)}}var io=[],oo=0;do io.push(void 0),oo++,Xt(lr.value).K(zr(io.length-1),Rr),lr=_n.next();while(!lr.done)})},At});function xu(gt,At){gt instanceof String&&(gt+="");var Gt=0,Xt=!1,yn={next:function(){if(!Xt&&Gt<gt.length){var kn=Gt++;return{value:At(kn,gt[kn]),done:!1}}return Xt=!0,{done:!0,value:void 0}}};return yn[Symbol.iterator]=function(){return yn},yn}var Ep=typeof Object.assign=="function"?Object.assign:function(gt,At){for(var Gt=1;Gt<arguments.length;Gt++){var Xt=arguments[Gt];if(Xt)for(var yn in Xt)Object.prototype.hasOwnProperty.call(Xt,yn)&&(gt[yn]=Xt[yn])}return gt};In("Object.assign",function(gt){return gt||Ep}),In("Object.is",function(gt){return gt||function(At,Gt){return At===Gt?At!==0||1/At===1/Gt:At!==At&&Gt!==Gt}}),In("Array.prototype.includes",function(gt){return gt||function(At,Gt){var Xt=this;Xt instanceof String&&(Xt=String(Xt));var yn=Xt.length;for(Gt=Gt||0,0>Gt&&(Gt=Math.max(Gt+yn,0));Gt<yn;Gt++){var kn=Xt[Gt];if(kn===At||Object.is(kn,At))return!0}return!1}}),In("String.prototype.includes",function(gt){return gt||function(At,Gt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(At instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(At,Gt||0)!==-1}}),In("Array.prototype.keys",function(gt){return gt||function(){return xu(this,function(At){return At})}});var $a=this||self;function Bo(gt,At){gt=gt.split(".");var Gt=$a;gt[0]in Gt||typeof Gt.execScript>"u"||Gt.execScript("var "+gt[0]);for(var Xt;gt.length&&(Xt=gt.shift());)gt.length||At===void 0?Gt[Xt]&&Gt[Xt]!==Object.prototype[Xt]?Gt=Gt[Xt]:Gt=Gt[Xt]={}:Gt[Xt]=At}function Tl(gt){throw gt}function fu(gt,At){Tl(Error("Invalid wire type: "+gt+" (at position "+At+")"))}function Nu(){Tl(Error("Failed to read varint, encoding is invalid."))}function _u(gt,At){return At=String.fromCharCode.apply(null,At),gt==null?At:gt+At}var Gu,ip=typeof TextDecoder<"u",bu,Ru=typeof TextEncoder<"u";function lp(gt){if(Ru)gt=(bu||(bu=new TextEncoder)).encode(gt);else{var At=void 0;At=At===void 0?!1:At;for(var Gt=0,Xt=new Uint8Array(3*gt.length),yn=0;yn<gt.length;yn++){var kn=gt.charCodeAt(yn);if(128>kn)Xt[Gt++]=kn;else{if(2048>kn)Xt[Gt++]=kn>>6|192;else{if(55296<=kn&&57343>=kn){if(56319>=kn&&yn<gt.length){var Mn=gt.charCodeAt(++yn);if(56320<=Mn&&57343>=Mn){kn=1024*(kn-55296)+Mn-56320+65536,Xt[Gt++]=kn>>18|240,Xt[Gt++]=kn>>12&63|128,Xt[Gt++]=kn>>6&63|128,Xt[Gt++]=kn&63|128;continue}else yn--}if(At)throw Error("Found an unpaired surrogate");kn=65533}Xt[Gt++]=kn>>12|224,Xt[Gt++]=kn>>6&63|128}Xt[Gt++]=kn&63|128}}gt=Xt.subarray(0,Gt)}return gt}var qu={},Kl=null;function Yl(gt){var At;At===void 0&&(At=0),Fs(),At=qu[At];for(var Gt=Array(Math.floor(gt.length/3)),Xt=At[64]||"",yn=0,kn=0;yn<gt.length-2;yn+=3){var Mn=gt[yn],_n=gt[yn+1],lr=gt[yn+2],xr=At[Mn>>2];Mn=At[(Mn&3)<<4|_n>>4],_n=At[(_n&15)<<2|lr>>6],lr=At[lr&63],Gt[kn++]=xr+Mn+_n+lr}switch(xr=0,lr=Xt,gt.length-yn){case 2:xr=gt[yn+1],lr=At[(xr&15)<<2]||Xt;case 1:gt=gt[yn],Gt[kn]=At[gt>>2]+At[(gt&3)<<4|xr>>4]+lr+Xt}return Gt.join("")}function Wu(gt){var At=gt.length,Gt=3*At/4;Gt%3?Gt=Math.floor(Gt):"=.".indexOf(gt[At-1])!=-1&&(Gt="=.".indexOf(gt[At-2])!=-1?Gt-2:Gt-1);var Xt=new Uint8Array(Gt),yn=0;return Pu(gt,function(kn){Xt[yn++]=kn}),Xt.subarray(0,yn)}function Pu(gt,At){function Gt(lr){for(;Xt<gt.length;){var xr=gt.charAt(Xt++),Rr=Kl[xr];if(Rr!=null)return Rr;if(!/^[\s\xa0]*$/.test(xr))throw Error("Unknown base64 encoding at char: "+xr)}return lr}Fs();for(var Xt=0;;){var yn=Gt(-1),kn=Gt(0),Mn=Gt(64),_n=Gt(64);if(_n===64&&yn===-1)break;At(yn<<2|kn>>4),Mn!=64&&(At(kn<<4&240|Mn>>2),_n!=64&&At(Mn<<6&192|_n))}}function Fs(){if(!Kl){Kl={};for(var gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),At=["+/=","+/","-_=","-_.","-_"],Gt=0;5>Gt;Gt++){var Xt=gt.concat(At[Gt].split(""));qu[Gt]=Xt;for(var yn=0;yn<Xt.length;yn++){var kn=Xt[yn];Kl[kn]===void 0&&(Kl[kn]=yn)}}}}var Cl=typeof Uint8Array=="function",Jl;function xs(gt){if(this.g=gt,gt!==null&&gt.length===0)throw Error("ByteString should be constructed with non-empty values")}var ga=typeof Uint8Array.prototype.slice=="function";function pu(gt,At,Gt){return At===Gt?Jl||(Jl=new Uint8Array(0)):ga?gt.slice(At,Gt):new Uint8Array(gt.subarray(At,Gt))}var Xl=0,gs=0;function $s(gt){if(gt.constructor===Uint8Array)return gt;if(gt.constructor===ArrayBuffer)return new Uint8Array(gt);if(gt.constructor===Array)return new Uint8Array(gt);if(gt.constructor===String)return Wu(gt);if(gt.constructor===xs){if(gt.g==null)var At=Jl||(Jl=new Uint8Array(0));else{At=Uint8Array;var Gt=gt.g;Gt=Gt==null||Cl&&Gt!=null&&Gt instanceof Uint8Array?Gt:typeof Gt=="string"?Wu(Gt):null,gt=gt.g=Gt,At=new At(gt)}return At}if(gt instanceof Uint8Array)return new Uint8Array(gt.buffer,gt.byteOffset,gt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Ll(gt,At){At=At===void 0?{}:At,At=At.v===void 0?!1:At.v,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.v=At,gt&&ns(this,gt)}function ns(gt,At){gt.h=$s(At),gt.l=0,gt.i=gt.h.length,gt.g=gt.l}Ll.prototype.reset=function(){this.g=this.l};function yl(gt){for(var At=128,Gt=0,Xt=0,yn=0;4>yn&&128<=At;yn++)At=gt.h[gt.g++],Gt|=(At&127)<<7*yn;if(128<=At&&(At=gt.h[gt.g++],Gt|=(At&127)<<28,Xt|=(At&127)>>4),128<=At)for(yn=0;5>yn&&128<=At;yn++)At=gt.h[gt.g++],Xt|=(At&127)<<7*yn+3;if(128>At)return gt=Gt>>>0,At=Xt>>>0,(Xt=At&2147483648)&&(gt=~gt+1>>>0,At=~At>>>0,gt==0&&(At=At+1>>>0)),gt=4294967296*At+(gt>>>0),Xt?-gt:gt;gt.j=!0,Nu()}function ds(gt){gt.g>gt.i&&(gt.j=!0,Tl(Error("Tried to read past the end of the data "+gt.g+" > "+gt.i)))}function Bs(gt){var At=gt.h,Gt=At[gt.g],Xt=Gt&127;return 128>Gt?(gt.g+=1,ds(gt),Xt):(Gt=At[gt.g+1],Xt|=(Gt&127)<<7,128>Gt?(gt.g+=2,ds(gt),Xt):(Gt=At[gt.g+2],Xt|=(Gt&127)<<14,128>Gt?(gt.g+=3,ds(gt),Xt):(Gt=At[gt.g+3],Xt|=(Gt&127)<<21,128>Gt?(gt.g+=4,ds(gt),Xt):(Gt=At[gt.g+4],Xt|=(Gt&15)<<28,128>Gt?(gt.g+=5,ds(gt),Xt>>>0):(gt.g+=5,128<=At[gt.g++]&&128<=At[gt.g++]&&128<=At[gt.g++]&&128<=At[gt.g++]&&128<=At[gt.g++]?(gt.j=!0,Nu(),Xt):(ds(gt),Xt))))))}function xl(gt){var At=gt.h[gt.g],Gt=gt.h[gt.g+1],Xt=gt.h[gt.g+2],yn=gt.h[gt.g+3];return gt.g+=4,ds(gt),(At<<0|Gt<<8|Xt<<16|yn<<24)>>>0}Ll.prototype.m=function(){var gt=xl(this),At=2*(gt>>31)+1,Gt=gt>>>23&255;return gt&=8388607,Gt==255?gt?NaN:1/0*At:Gt==0?At*Math.pow(2,-149)*gt:At*Math.pow(2,Gt-150)*(gt+Math.pow(2,23))};var nu=[];function Qs(){this.g=new Uint8Array(64),this.h=0}function fs(gt,At){if(!(gt.h+1<gt.g.length)){var Gt=gt.g;gt.g=new Uint8Array(Math.ceil(1+2*gt.g.length)),gt.g.set(Gt)}gt.g[gt.h++]=At}Qs.prototype.length=function(){return this.h},Qs.prototype.end=function(){var gt=this.g,At=this.h;return this.h=0,pu(gt,0,At)};function $l(gt,At){for(;127<At;)fs(gt,At&127|128),At>>>=7;fs(gt,At)}function Ql(gt){var At={},Gt=At.O===void 0?!1:At.O;this.m={v:At.v===void 0?!1:At.v},this.O=Gt,At=this.m,nu.length?(Gt=nu.pop(),At&&(Gt.v=At.v),gt&&ns(Gt,gt),gt=Gt):gt=new Ll(gt,At),this.g=gt,this.l=this.g.g,this.h=this.i=-1,this.j=!1}Ql.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function Sl(gt){var At=gt.g;if((At=At.g==At.i)||(At=gt.j)||(At=gt.g,At=At.j||0>At.g||At.g>At.i),At)return!1;gt.l=gt.g.g;var Gt=Bs(gt.g);return At=Gt>>>3,Gt&=7,0<=Gt&&5>=Gt?(gt.i=At,gt.h=Gt,!0):(gt.j=!0,fu(Gt,gt.l),!1)}function Vu(gt){switch(gt.h){case 0:if(gt.h!=0)Vu(gt);else e:{gt=gt.g;for(var At=gt.g,Gt=0;10>Gt;Gt++){if(!(gt.h[At]&128)){gt.g=At+1,ds(gt);break e}At++}gt.j=!0,Nu()}break;case 1:gt=gt.g,gt.g+=8,ds(gt);break;case 2:gt.h!=2?Vu(gt):(At=Bs(gt.g),gt=gt.g,gt.g+=At,ds(gt));break;case 5:gt=gt.g,gt.g+=4,ds(gt);break;case 3:At=gt.i;do{if(!Sl(gt)){gt.j=!0,Tl(Error("Unmatched start-group tag: stream EOF"));break}if(gt.h==4){gt.i!=At&&(gt.j=!0,Tl(Error("Unmatched end-group tag")));break}Vu(gt)}while(1);break;default:gt.j=!0,fu(gt.h,gt.l)}}function hu(gt,At,Gt){var Xt=gt.g.i,yn=Bs(gt.g),kn=gt.g.g+yn;if(gt.g.i=kn,Gt(At,gt),Gt=kn-gt.g.g,Gt!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(yn+" bytes, instead read "+(yn-Gt)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return gt.g.g=kn,gt.g.i=Xt,At}var _l=[];function mu(){this.h=[],this.i=0,this.g=new Qs}function zs(gt,At){At.length!==0&&(gt.h.push(At),gt.i+=At.length)}function Rl(gt,At,Gt){$l(gt.g,8*At+2),$l(gt.g,Gt.length),zs(gt,gt.g.end()),zs(gt,Gt)}var Ks=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Rs(gt){return Object.isFrozen(gt)||(Ks?gt[Ks]|=1:gt.g!==void 0?gt.g|=1:Object.defineProperties(gt,{g:{value:1,configurable:!0,writable:!0,enumerable:!1}})),gt}function eu(gt){return gt!==null&&typeof gt=="object"&&gt.constructor===Object}function Ss(gt){switch(typeof gt){case"number":return isFinite(gt)?gt:String(gt);case"object":if(Cl&&gt!=null&&gt instanceof Uint8Array)return Yl(gt);if(gt instanceof xs){if(gt.g==null)gt="";else{var At=gt.g;At=At==null||typeof At=="string"?At:Cl&&At instanceof Uint8Array?Yl(At):null,gt=gt.g=At}return gt}}return gt}function ps(gt,At){if(gt!=null)return Array.isArray(gt)||eu(gt)?Su(gt,At):At(gt)}function Su(gt,At){if(Array.isArray(gt)){for(var Gt=Array(gt.length),Xt=0;Xt<gt.length;Xt++)Gt[Xt]=ps(gt[Xt],At);if(At=Array.isArray(gt)){var yn;Ks?yn=gt[Ks]:yn=gt.g,At=(yn??0)&1}return At&&Rs(Gt),Gt}yn={};for(Gt in gt)yn[Gt]=ps(gt[Gt],At);return yn}function Ds(gt){return gt=Ss(gt),Array.isArray(gt)?Su(gt,Ds):gt}var Xo;function Io(gt,At,Gt){var Xt=Xo;Xo=null,gt||(gt=Xt),Xt=this.constructor.ha,gt||(gt=Xt?[Xt]:[]),this.i=(Xt?0:-1)-(this.constructor.fa||0),this.l=this.g=null,this.u=gt;e:{if(Xt=this.u.length,gt=Xt-1,Xt&&(Xt=this.u[gt],eu(Xt))){this.j=gt-this.i,this.h=Xt;break e}At!==void 0&&-1<At?(this.j=Math.max(At,gt+1-this.i),this.h=null):this.j=Number.MAX_VALUE}if(Gt)for(At=0;At<Gt.length;At++)gt=Gt[At],gt<this.j?(gt+=this.i,(Xt=this.u[gt])?Array.isArray(Xt)&&Rs(Xt):this.u[gt]=Is):(Il(this),(Xt=this.h[gt])?Array.isArray(Xt)&&Rs(Xt):this.h[gt]=Is)}var Is=Object.freeze(Rs([]));function Il(gt){var At=gt.j+gt.i;gt.u[At]||(gt.h=gt.u[At]={})}function Es(gt,At,Gt){return At===-1?null:Gt!==void 0&&Gt||At>=gt.j?gt.h?gt.h[At]:void 0:gt.u[At+gt.i]}function ws(gt,At,Gt){Gt=Gt===void 0?!1:Gt;var Xt=Es(gt,At,Gt);return Xt==null&&(Xt=Is),Xt===Is&&(Xt=Rs(Xt.slice()),_r(gt,At,Xt,Gt)),Xt}function Vr(gt,At){var Gt=ws(gt,At);if(gt.l||(gt.l={}),!gt.l[At]){for(var Xt=0;Xt<Gt.length;Xt++)Gt[Xt]=+Gt[Xt];gt.l[At]=!0}return Gt}function jr(gt,At,Gt){return gt=Es(gt,At),gt=gt==null?gt:+gt,gt??(Gt===void 0?0:Gt)}function _r(gt,At,Gt,Xt){Xt!==void 0&&Xt||At>=gt.j?(Il(gt),gt.h[At]=Gt):gt.u[At+gt.i]=Gt}function hs(gt,At,Gt,Xt){Gt!==Xt?_r(gt,At,Gt):_r(gt,At,void 0,!1)}function Ps(gt,At,Gt){if(Gt===-1)return null;gt.g||(gt.g={});var Xt=gt.g[Gt];if(Xt)return Xt;var yn=Es(gt,Gt,!1);return yn==null?Xt:(At=new At(yn),gt.g[Gt]=At)}function Ls(gt,At,Gt){gt.g||(gt.g={});var Xt=gt.g[Gt];if(!Xt){var yn=ws(gt,Gt,!1);Xt=[];for(var kn=0;kn<yn.length;kn++)Xt[kn]=new At(yn[kn]);gt.g[Gt]=Xt}return Xt}function No(gt,At,Gt,Xt,yn){var kn=Ls(gt,Xt,At);Gt=Gt||new Xt,gt=ws(gt,At),yn!=null?(kn.splice(yn,0,Gt),gt.splice(yn,0,Gt.u)):(kn.push(Gt),gt.push(Gt.u))}Io.prototype.toJSON=function(){return Su(this.u,Ds)},Io.prototype.toString=function(){return this.u.toString()};function js(gt,At){return gt=Es(gt,At),gt??0}function Nl(gt,At){return gt=Es(gt,At),gt??""}function ru(gt,At){if(gt=gt.m){zs(At,At.g.end());for(var Gt=0;Gt<gt.length;Gt++)zs(At,gt[Gt])}}var iu=Symbol();function Eu(gt,At,Gt){return gt[iu]||(gt[iu]=function(Xt,yn){return At(Xt,yn,Gt)})}function Iu(gt){var At=gt[iu];if(!At){var Gt=gt[su]||(gt[su]=gt());At=function(Xt,yn){return Pl(Xt,yn,Gt)},gt[iu]=At}return At}function Ol(gt){var At=gt.da;if(At)return Iu(At);if(At=gt.ia){var Gt=gt.Y;return delete gt.Y,Eu(gt.W.g,At,Gt)}}function ou(gt){var At=Ol(gt),Gt=gt.W,Xt=gt.ea;return At?function(yn,kn){return Xt(yn,kn,Gt,At)}:function(yn,kn){return Xt(yn,kn,Gt)}}function Cp(gt){var At=gt[0];switch(gt.length){case 2:var Gt=gt[1];return function(oo,vo,go){return At(oo,vo,go,Gt)};case 3:var Xt=gt[1],yn=Iu(gt[2]);return function(oo,vo,go){return At(oo,vo,go,Xt,yn)};case 4:var kn=gt[1],Mn=gt[3],_n=Iu(gt[2]);return function(oo,vo,go){return At(oo,vo,go,kn,_n,Mn)};case 5:var lr=gt[1],xr=Eu(lr,gt[3],gt[4]);return function(oo,vo,go){return At(oo,vo,go,lr,xr)};case 6:var Rr=gt[1],zr=gt[5],io=Eu(Rr,gt[3],gt[4]);return function(oo,vo,go){return At(oo,vo,go,Rr,io,zr)};default:throw Error("Unsupported number of parameters, expected [2-6], got "+gt.length)}}var su=Symbol();function Pl(gt,At,Gt){for(;Sl(At)&&At.h!=4;){var Xt=At.i,yn=Gt[Xt];if(yn)Array.isArray(yn)&&(yn=Gt[Xt]=Cp(yn));else{var kn=Gt[0];kn&&(kn=kn[Xt])&&(yn=Gt[Xt]=ou(kn))}yn&&yn(At,gt,Xt)||(yn=At,Xt=gt,kn=yn.l,Vu(yn),yn.O||(yn=pu(yn.g.h,kn,yn.g.g),(kn=Xt.m)?kn.push(yn):Xt.m=[yn]))}return gt}function Lu(gt,At){var Gt=new mu;if(At(gt,Gt),gt=Gt.i+Gt.g.length(),gt===0)Gt=new Uint8Array(0);else{gt=new Uint8Array(gt);for(var Xt=Gt.h,yn=Xt.length,kn=At=0;kn<yn;kn++){var Mn=Xt[kn];Mn.length!==0&&(gt.set(Mn,At),At+=Mn.length)}Xt=Gt.g,yn=Xt.h,yn!==0&&(gt.set(Xt.g.subarray(0,yn),At),Xt.h=0),Gt.h=[gt],Gt=gt}return Gt}function Fu(gt,At,Gt){if(_l.length){var Xt=_l.pop();gt&&(ns(Xt.g,gt),Xt.i=-1,Xt.h=-1),gt=Xt}else gt=new Ql(gt);try{var yn=new At;return Pl(yn,gt,Gt[su]||(Gt[su]=Gt()))}finally{At=gt.g,At.h=null,At.l=0,At.i=0,At.g=0,At.j=!1,At.v=!1,gt.i=-1,gt.h=-1,gt.j=!1,100>_l.length&&_l.push(gt)}}function Ul(gt,At,Gt){if(At=Es(At,Gt),At!=null){$l(gt.g,8*Gt+5),gt=gt.g;var Xt=At;Xt=(Gt=0>Xt?1:0)?-Xt:Xt,Xt===0?0<1/Xt?Xl=gs=0:(gs=0,Xl=2147483648):isNaN(Xt)?(gs=0,Xl=2147483647):34028234663852886e22<Xt?(gs=0,Xl=(Gt<<31|2139095040)>>>0):11754943508222875e-54>Xt?(Xt=Math.round(Xt/Math.pow(2,-149)),gs=0,Xl=(Gt<<31|Xt)>>>0):(At=Math.floor(Math.log(Xt)/Math.LN2),Xt*=Math.pow(2,-At),Xt=Math.round(8388608*Xt),16777216<=Xt&&++At,gs=0,Xl=(Gt<<31|At+127<<23|Xt&8388607)>>>0),Gt=Xl,fs(gt,Gt>>>0&255),fs(gt,Gt>>>8&255),fs(gt,Gt>>>16&255),fs(gt,Gt>>>24&255)}}function up(gt,At,Gt){if(gt.h!==1)return!1;var Xt=gt.g;gt=xl(Xt);var yn=xl(Xt);Xt=2*(yn>>31)+1;var kn=yn>>>20&2047;return gt=4294967296*(yn&1048575)+gt,hs(At,Gt,kn==2047?gt?NaN:1/0*Xt:kn==0?Xt*Math.pow(2,-1074)*gt:Xt*Math.pow(2,kn-1075)*(gt+4503599627370496),0),!0}function au(gt,At,Gt){return gt.h!==5?!1:(_r(At,Gt,gt.g.m()),!0)}function ku(gt,At,Gt){if(gt.h!==5&&gt.h!==2)return!1;if(At=ws(At,Gt),gt.h==2){Gt=Ll.prototype.m;var Xt=Bs(gt.g);for(Xt=gt.g.g+Xt;gt.g.g<Xt;)At.push(Gt.call(gt.g))}else At.push(gt.g.m());return!0}function Uu(gt,At,Gt){return gt.h!==5?!1:(gt=gt.g.m(),hs(At,Gt,gt,0),!0)}function yp(gt,At,Gt){return gt.h!==0?!1:(_r(At,Gt,yl(gt.g)),!0)}function gu(gt,At,Gt){return gt.h!==0?!1:(_r(At,Gt,Bs(gt.g)),!0)}function Bu(gt,At,Gt){return gt.h!==0?!1:(gt=Bs(gt.g),hs(At,Gt,gt,0),!0)}function Vp(gt,At,Gt){return gt.h!==0?!1:(gt=!!Bs(gt.g),hs(At,Gt,gt,!1),!0)}function Mp(gt,At,Gt){if(gt.h!==2)return!1;var Xt=Bs(gt.g);gt=gt.g;var yn=gt.g;gt.g+=Xt,ds(gt),gt=gt.h;var kn;if(ip)(kn=Gu)||(kn=Gu=new TextDecoder("utf-8",{fatal:!1})),kn=kn.decode(gt.subarray(yn,yn+Xt));else{Xt=yn+Xt;for(var Mn=[],_n=null,lr,xr,Rr;yn<Xt;)lr=gt[yn++],128>lr?Mn.push(lr):224>lr?yn>=Xt?Mn.push(65533):(xr=gt[yn++],194>lr||(xr&192)!==128?(yn--,Mn.push(65533)):Mn.push((lr&31)<<6|xr&63)):240>lr?yn>=Xt-1?Mn.push(65533):(xr=gt[yn++],(xr&192)!==128||lr===224&&160>xr||lr===237&&160<=xr||((kn=gt[yn++])&192)!==128?(yn--,Mn.push(65533)):Mn.push((lr&15)<<12|(xr&63)<<6|kn&63)):244>=lr?yn>=Xt-2?Mn.push(65533):(xr=gt[yn++],(xr&192)!==128||(lr<<28)+(xr-144)>>30||((kn=gt[yn++])&192)!==128||((Rr=gt[yn++])&192)!==128?(yn--,Mn.push(65533)):(lr=(lr&7)<<18|(xr&63)<<12|(kn&63)<<6|Rr&63,lr-=65536,Mn.push((lr>>10&1023)+55296,(lr&1023)+56320))):Mn.push(65533),8192<=Mn.length&&(_n=_u(_n,Mn),Mn.length=0);kn=_u(_n,Mn)}return _r(At,Gt,kn),!0}function Hu(gt,At,Gt,Xt,yn){return gt.h!==2?!1:(gt=hu(gt,new Xt,yn),At.g||(At.g={}),Xt=gt&&gt.u,At.g[Gt]=gt,_r(At,Gt,Xt,!1),!0)}function _d(gt,At,Gt,Xt,yn){return gt.h!==2?!1:(gt=hu(gt,new Xt,yn),No(At,Gt,gt,Xt,void 0),!0)}function jt(gt,At,Gt){return gt.h!==0?!1:(_r(At,Gt,yl(gt.g)),!0)}function ln(gt){Io.call(this,gt)}uo(ln,Io);function dn(){return{1:gu,2:au,3:Mp,4:Mp}}function Kn(gt,At){var Gt=Es(gt,1);if(Gt!=null&&Gt!=null){$l(At.g,8);var Xt=At.g;if(0<=Gt)$l(Xt,Gt);else{for(var yn=0;9>yn;yn++)fs(Xt,Gt&127|128),Gt>>=7;fs(Xt,1)}}Ul(At,gt,2),Xt=Es(gt,3),Xt!=null&&Rl(At,3,lp(Xt)),Xt=Es(gt,4),Xt!=null&&Rl(At,4,lp(Xt)),ru(gt,At)}function gr(gt){Io.call(this,gt,-1,hr)}uo(gr,Io),gr.prototype.addClassification=function(gt,At){return No(this,1,gt,ln,At),this};function Hr(){return{1:[_d,ln,dn]}}var hr=[1];function Fr(gt){Io.call(this,gt)}uo(Fr,Io);function lo(){return{1:au,2:au,3:au,4:au,5:au}}function Ao(gt,At){Ul(At,gt,1),Ul(At,gt,2),Ul(At,gt,3),Ul(At,gt,4),Ul(At,gt,5),ru(gt,At)}function _o(gt){Io.call(this,gt,-1,bs)}uo(_o,Io);function Ho(){return{1:[_d,Fr,lo]}}var bs=[1];function $o(gt){Io.call(this,gt)}uo($o,Io);function Po(){return{1:au,2:au,3:au,4:au,5:au,6:yp}}function Jo(gt,At){Ul(At,gt,1),Ul(At,gt,2),Ul(At,gt,3),Ul(At,gt,4),Ul(At,gt,5);var Gt=Es(gt,6);if(Gt!=null&&Gt!=null){$l(At.g,48);var Xt=At.g,yn=Gt;Gt=0>yn,yn=Math.abs(yn);var kn=yn>>>0;for(yn=Math.floor((yn-kn)/4294967296),yn>>>=0,Gt&&(yn=~yn>>>0,kn=(~kn>>>0)+1,4294967295<kn&&(kn=0,yn++,4294967295<yn&&(yn=0))),Xl=kn,gs=yn,Gt=Xl,kn=gs;0<kn||127<Gt;)fs(Xt,Gt&127|128),Gt=(Gt>>>7|kn<<25)>>>0,kn>>>=7;fs(Xt,Gt)}ru(gt,At)}function vs(gt){Io.call(this,gt,-1,Vl)}uo(vs,Io);function ks(){return{1:jt,2:jt,3:ku,4:[Hu,Xs,Hs],5:gu,6:gu,7:ku,8:ku,9:ku}}function Xs(gt){Io.call(this,gt)}uo(Xs,Io);function Hs(){return{1:au,2:au,3:au}}var Vl=[3,7,8,9];function Ft(gt){Io.call(this,gt)}uo(Ft,Io);function Ht(){return{1:Uu,2:Uu,3:Uu}}function Kt(gt){Io.call(this,gt)}uo(Kt,Io);function Zn(){return{1:Uu,2:Uu,3:Uu}}function nr(gt){Io.call(this,gt)}uo(nr,Io);function Tr(){return{1:Bu,2:[Hu,Kt,Zn],3:[Hu,Ft,Ht],4:Vp}}function rr(gt){Io.call(this,gt,-1,Jr)}uo(rr,Io);function kr(){return{1:Bu,2:[_d,nr,Tr],3:Uu,4:ku,5:ku,6:ku}}var Jr=[2,4,5,6];function Ot(gt){Io.call(this,gt,-1,pn)}uo(Ot,Io);function Jt(){return{1:Bu,2:[_d,rr,kr],3:[Hu,vs,ks],4:up,5:ku,6:ku}}var pn=[2,5,6];function An(gt,At,Gt){if(Gt=gt.createShader(Gt===0?gt.VERTEX_SHADER:gt.FRAGMENT_SHADER),gt.shaderSource(Gt,At),gt.compileShader(Gt),!gt.getShaderParameter(Gt,gt.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+gt.getShaderInfoLog(Gt));return Gt}function Hn(gt){return Ls(gt,ln,1).map(function(At){return{index:js(At,1),$:jr(At,2),label:Es(At,3)!=null?Nl(At,3):void 0,displayName:Es(At,4)!=null?Nl(At,4):void 0}})}function ar(gt){return{x:jr(gt,1),y:jr(gt,2),z:jr(gt,3),visibility:Es(gt,4)!=null?jr(gt,4):void 0}}function qn(gt,At){this.h=gt,this.g=At,this.l=0}function Zr(gt,At,Gt){return Ar(gt,At),typeof gt.g.canvas.transferToImageBitmap=="function"?nt.resolve(gt.g.canvas.transferToImageBitmap()):Gt?nt.resolve(gt.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(gt.g.canvas):(gt.i===void 0&&(gt.i=document.createElement("canvas")),new nt(function(Xt){gt.i.height=gt.g.canvas.height,gt.i.width=gt.g.canvas.width,gt.i.getContext("2d",{}).drawImage(gt.g.canvas,0,0,gt.g.canvas.width,gt.g.canvas.height),Xt(gt.i)}))}function Ar(gt,At){var Gt=gt.g;if(gt.m===void 0){var Xt=An(Gt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),yn=An(Gt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),kn=Gt.createProgram();if(Gt.attachShader(kn,Xt),Gt.attachShader(kn,yn),Gt.linkProgram(kn),!Gt.getProgramParameter(kn,Gt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Gt.getProgramInfoLog(kn));Xt=gt.m=kn,Gt.useProgram(Xt),yn=Gt.getUniformLocation(Xt,"sampler0"),gt.j={J:Gt.getAttribLocation(Xt,"aVertex"),I:Gt.getAttribLocation(Xt,"aTex"),ja:yn},gt.s=Gt.createBuffer(),Gt.bindBuffer(Gt.ARRAY_BUFFER,gt.s),Gt.enableVertexAttribArray(gt.j.J),Gt.vertexAttribPointer(gt.j.J,2,Gt.FLOAT,!1,0,0),Gt.bufferData(Gt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Gt.STATIC_DRAW),Gt.bindBuffer(Gt.ARRAY_BUFFER,null),gt.o=Gt.createBuffer(),Gt.bindBuffer(Gt.ARRAY_BUFFER,gt.o),Gt.enableVertexAttribArray(gt.j.I),Gt.vertexAttribPointer(gt.j.I,2,Gt.FLOAT,!1,0,0),Gt.bufferData(Gt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Gt.STATIC_DRAW),Gt.bindBuffer(Gt.ARRAY_BUFFER,null),Gt.uniform1i(yn,0)}Xt=gt.j,Gt.useProgram(gt.m),Gt.canvas.width=At.width,Gt.canvas.height=At.height,Gt.viewport(0,0,At.width,At.height),Gt.activeTexture(Gt.TEXTURE0),gt.h.bindTexture2d(At.glName),Gt.enableVertexAttribArray(Xt.J),Gt.bindBuffer(Gt.ARRAY_BUFFER,gt.s),Gt.vertexAttribPointer(Xt.J,2,Gt.FLOAT,!1,0,0),Gt.enableVertexAttribArray(Xt.I),Gt.bindBuffer(Gt.ARRAY_BUFFER,gt.o),Gt.vertexAttribPointer(Xt.I,2,Gt.FLOAT,!1,0,0),Gt.bindFramebuffer(Gt.DRAW_FRAMEBUFFER?Gt.DRAW_FRAMEBUFFER:Gt.FRAMEBUFFER,null),Gt.clearColor(0,0,0,0),Gt.clear(Gt.COLOR_BUFFER_BIT),Gt.colorMask(!0,!0,!0,!0),Gt.drawArrays(Gt.TRIANGLE_FAN,0,4),Gt.disableVertexAttribArray(Xt.J),Gt.disableVertexAttribArray(Xt.I),Gt.bindBuffer(Gt.ARRAY_BUFFER,null),gt.h.bindTexture2d(0)}function fo(gt){this.g=gt}var So=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function qo(gt,At){return At+gt}function Lo(gt,At){window[gt]=At}function ro(gt){var At=document.createElement("script");return At.setAttribute("src",gt),At.setAttribute("crossorigin","anonymous"),new nt(function(Gt){At.addEventListener("load",function(){Gt()},!1),At.addEventListener("error",function(){Gt()},!1),document.body.appendChild(At)})}function Co(){return ho(function(gt){switch(gt.g){case 1:return gt.m=2,Cr(gt,WebAssembly.instantiate(So),4);case 4:gt.g=3,gt.m=0;break;case 2:return gt.m=0,gt.j=null,gt.return(!1);case 3:return gt.return(!0)}})}function ko(gt){if(this.g=gt,this.listeners={},this.j={},this.G={},this.m={},this.s={},this.H=this.o=this.S=!0,this.D=nt.resolve(),this.R="",this.C={},this.locateFile=gt&&gt.locateFile||qo,typeof window=="object")var At=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")At=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.T=At,gt.options){At=Nn(Object.keys(gt.options));for(var Gt=At.next();!Gt.done;Gt=At.next()){Gt=Gt.value;var Xt=gt.options[Gt].default;Xt!==void 0&&(this.j[Gt]=typeof Xt=="function"?Xt():Xt)}}}xt=ko.prototype,xt.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Wo(gt){var At,Gt,Xt,yn,kn,Mn,_n,lr,xr,Rr,zr;return ho(function(io){switch(io.g){case 1:return gt.S?(At=gt.g.files===void 0?[]:typeof gt.g.files=="function"?gt.g.files(gt.j):gt.g.files,Cr(io,Co(),2)):io.return();case 2:if(Gt=io.h,typeof window=="object")return Lo("createMediapipeSolutionsWasm",{locateFile:gt.locateFile}),Lo("createMediapipeSolutionsPackedAssets",{locateFile:gt.locateFile}),Mn=At.filter(function(oo){return oo.data!==void 0}),_n=At.filter(function(oo){return oo.data===void 0}),lr=nt.all(Mn.map(function(oo){var vo=$t(gt,oo.url);if(oo.path!==void 0){var go=oo.path;vo=vo.then(function(as){return gt.overrideFile(go,as),nt.resolve(as)})}return vo})),xr=nt.all(_n.map(function(oo){return oo.simd===void 0||oo.simd&&Gt||!oo.simd&&!Gt?ro(gt.locateFile(oo.url,gt.T)):nt.resolve()})).then(function(){var oo,vo,go;return ho(function(as){if(as.g==1)return oo=window.createMediapipeSolutionsWasm,vo=window.createMediapipeSolutionsPackedAssets,go=gt,Cr(as,oo(vo),2);go.h=as.h,as.g=0})}),Rr=function(){return ho(function(oo){return gt.g.graph&&gt.g.graph.url?oo=Cr(oo,$t(gt,gt.g.graph.url),0):(oo.g=0,oo=void 0),oo})}(),Cr(io,nt.all([xr,lr,Rr]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return Xt=At.filter(function(oo){return oo.simd===void 0||oo.simd&&Gt||!oo.simd&&!Gt}).map(function(oo){return gt.locateFile(oo.url,gt.T)}),importScripts.apply(null,or(Xt)),yn=gt,Cr(io,createMediapipeSolutionsWasm(Module),6);case 6:yn.h=io.h,gt.l=new OffscreenCanvas(1,1),gt.h.canvas=gt.l,kn=gt.h.GL.createContext(gt.l,{antialias:!1,alpha:!1,ga:typeof WebGL2RenderingContext<"u"?2:1}),gt.h.GL.makeContextCurrent(kn),io.g=4;break;case 7:if(gt.l=document.createElement("canvas"),zr=gt.l.getContext("webgl2",{}),!zr&&(zr=gt.l.getContext("webgl",{}),!zr))return alert("Failed to create WebGL canvas context when passing video frame."),io.return();gt.F=zr,gt.h.canvas=gt.l,gt.h.createContext(gt.l,!0,!0,{});case 4:gt.i=new gt.h.SolutionWasm,gt.S=!1,io.g=0}})}function Do(gt){var At,Gt,Xt,yn,kn,Mn,_n,lr;return ho(function(xr){if(xr.g==1){if(gt.g.graph&&gt.g.graph.url&&gt.R===gt.g.graph.url)return xr.return();if(gt.o=!0,!gt.g.graph||!gt.g.graph.url){xr.g=2;return}return gt.R=gt.g.graph.url,Cr(xr,$t(gt,gt.g.graph.url),3)}for(xr.g!=2&&(At=xr.h,gt.i.loadGraph(At)),Gt=Nn(Object.keys(gt.C)),Xt=Gt.next();!Xt.done;Xt=Gt.next())yn=Xt.value,gt.i.overrideFile(yn,gt.C[yn]);if(gt.C={},gt.g.listeners)for(kn=Nn(gt.g.listeners),Mn=kn.next();!Mn.done;Mn=kn.next())_n=Mn.value,Yn(gt,_n);lr=gt.j,gt.j={},gt.setOptions(lr),xr.g=0})}xt.reset=function(){var gt=this;return ho(function(At){gt.i&&(gt.i.reset(),gt.m={},gt.s={}),At.g=0})},xt.setOptions=function(gt,At){var Gt=this;if(At=At||this.g.options){for(var Xt=[],yn=[],kn={},Mn=Nn(Object.keys(gt)),_n=Mn.next();!_n.done;kn={L:kn.L,M:kn.M},_n=Mn.next()){var lr=_n.value;lr in this.j&&this.j[lr]===gt[lr]||(this.j[lr]=gt[lr],_n=At[lr],_n!==void 0&&(_n.onChange&&(kn.L=_n.onChange,kn.M=gt[lr],Xt.push(function(xr){return function(){var Rr;return ho(function(zr){if(zr.g==1)return Cr(zr,xr.L(xr.M),2);Rr=zr.h,Rr===!0&&(Gt.o=!0),zr.g=0})}}(kn))),_n.graphOptionXref&&(lr={valueNumber:_n.type===1?gt[lr]:0,valueBoolean:_n.type===0?gt[lr]:!1,valueString:_n.type===2?gt[lr]:""},_n=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),_n.graphOptionXref),lr),yn.push(_n))))}(Xt.length!==0||yn.length!==0)&&(this.o=!0,this.B=(this.B===void 0?[]:this.B).concat(yn),this.A=(this.A===void 0?[]:this.A).concat(Xt))}};function Lt(gt){var At,Gt,Xt,yn,kn,Mn,_n;return ho(function(lr){switch(lr.g){case 1:if(!gt.o)return lr.return();if(!gt.A){lr.g=2;break}At=Nn(gt.A),Gt=At.next();case 3:if(Gt.done){lr.g=5;break}return Xt=Gt.value,Cr(lr,Xt(),4);case 4:Gt=At.next(),lr.g=3;break;case 5:gt.A=void 0;case 2:if(gt.B){for(yn=new gt.h.GraphOptionChangeRequestList,kn=Nn(gt.B),Mn=kn.next();!Mn.done;Mn=kn.next())_n=Mn.value,yn.push_back(_n);gt.i.changeOptions(yn),yn.delete(),gt.B=void 0}gt.o=!1,lr.g=0}})}xt.initialize=function(){var gt=this;return ho(function(At){return At.g==1?Cr(At,Wo(gt),2):At.g!=3?Cr(At,Do(gt),3):Cr(At,Lt(gt),0)})};function $t(gt,At){var Gt,Xt;return ho(function(yn){return At in gt.G?yn.return(gt.G[At]):(Gt=gt.locateFile(At,""),Xt=fetch(Gt).then(function(kn){return kn.arrayBuffer()}),gt.G[At]=Xt,yn.return(Xt))})}xt.overrideFile=function(gt,At){this.i?this.i.overrideFile(gt,At):this.C[gt]=At},xt.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},xt.send=function(gt,At){var Gt=this,Xt,yn,kn,Mn,_n,lr,xr,Rr,zr;return ho(function(io){switch(io.g){case 1:return Gt.g.inputs?(Xt=1e3*(At??performance.now()),Cr(io,Gt.D,2)):io.return();case 2:return Cr(io,Gt.initialize(),3);case 3:for(yn=new Gt.h.PacketDataList,kn=Nn(Object.keys(gt)),Mn=kn.next();!Mn.done;Mn=kn.next())if(_n=Mn.value,lr=Gt.g.inputs[_n]){e:{var oo=gt[_n];switch(lr.type){case"video":var vo=Gt.m[lr.stream];if(vo||(vo=new qn(Gt.h,Gt.F),Gt.m[lr.stream]=vo),vo.l===0&&(vo.l=vo.h.createTexture()),typeof HTMLVideoElement<"u"&&oo instanceof HTMLVideoElement)var go=oo.videoWidth,as=oo.videoHeight;else typeof HTMLImageElement<"u"&&oo instanceof HTMLImageElement?(go=oo.naturalWidth,as=oo.naturalHeight):(go=oo.width,as=oo.height);as={glName:vo.l,width:go,height:as},go=vo.g,go.canvas.width=as.width,go.canvas.height=as.height,go.activeTexture(go.TEXTURE0),vo.h.bindTexture2d(vo.l),go.texImage2D(go.TEXTURE_2D,0,go.RGBA,go.RGBA,go.UNSIGNED_BYTE,oo),vo.h.bindTexture2d(0),vo=as;break e;case"detections":for(vo=Gt.m[lr.stream],vo||(vo=new fo(Gt.h),Gt.m[lr.stream]=vo),vo.data||(vo.data=new vo.g.DetectionListData),vo.data.reset(oo.length),as=0;as<oo.length;++as){go=oo[as];var Os=vo.data,As=Os.setBoundingBox,Wl=as,Mu=go.U,Fl=new $o;if(_r(Fl,1,Mu.aa),_r(Fl,2,Mu.ba),_r(Fl,3,Mu.height),_r(Fl,4,Mu.width),_r(Fl,5,Mu.rotation),_r(Fl,6,Mu.Z),Mu=Lu(Fl,Jo),As.call(Os,Wl,Mu),go.P)for(Os=0;Os<go.P.length;++Os){Fl=go.P[Os];var op=!!Fl.visibility;As=vo.data,Wl=As.addNormalizedLandmark,Mu=as,Fl=Object.assign(Object.assign({},Fl),{visibility:op?Fl.visibility:0}),op=new Fr,_r(op,1,Fl.x),_r(op,2,Fl.y),_r(op,3,Fl.z),Fl.visibility&&_r(op,4,Fl.visibility),Fl=Lu(op,Ao),Wl.call(As,Mu,Fl)}if(go.N)for(Os=0;Os<go.N.length;++Os)As=vo.data,Wl=As.addClassification,Mu=as,Fl=go.N[Os],op=new ln,_r(op,2,Fl.$),Fl.index&&_r(op,1,Fl.index),Fl.label&&_r(op,3,Fl.label),Fl.displayName&&_r(op,4,Fl.displayName),Fl=Lu(op,Kn),Wl.call(As,Mu,Fl)}vo=vo.data;break e;default:vo={}}}switch(xr=vo,Rr=lr.stream,lr.type){case"video":yn.pushTexture2d(Object.assign(Object.assign({},xr),{stream:Rr,timestamp:Xt}));break;case"detections":zr=xr,zr.stream=Rr,zr.timestamp=Xt,yn.pushDetectionList(zr);break;default:throw Error("Unknown input config type: '"+lr.type+"'")}}return Gt.i.send(yn),Cr(io,Gt.D,4);case 4:yn.delete(),io.g=0}})};function hn(gt,At,Gt){var Xt,yn,kn,Mn,_n,lr,xr,Rr,zr,io,oo,vo,go,as;return ho(function(Os){switch(Os.g){case 1:if(!Gt)return Os.return(At);for(Xt={},yn=0,kn=Nn(Object.keys(Gt)),Mn=kn.next();!Mn.done;Mn=kn.next())_n=Mn.value,lr=Gt[_n],typeof lr!="string"&&lr.type==="texture"&&At[lr.stream]!==void 0&&++yn;1<yn&&(gt.H=!1),xr=Nn(Object.keys(Gt)),Mn=xr.next();case 2:if(Mn.done){Os.g=4;break}if(Rr=Mn.value,zr=Gt[Rr],typeof zr=="string")return go=Xt,as=Rr,Cr(Os,Rn(gt,Rr,At[zr]),14);if(io=At[zr.stream],zr.type==="detection_list"){if(io){for(var As=io.getRectList(),Wl=io.getLandmarksList(),Mu=io.getClassificationsList(),Fl=[],op=0;op<As.size();++op){var Zm=Fu(As.get(op),$o,Po);Zm={U:{aa:jr(Zm,1),ba:jr(Zm,2),height:jr(Zm,3),width:jr(Zm,4),rotation:jr(Zm,5,0),Z:js(Zm,6)},P:Ls(Fu(Wl.get(op),_o,Ho),Fr,1).map(ar),N:Hn(Fu(Mu.get(op),gr,Hr))},Fl.push(Zm)}As=Fl}else As=[];Xt[Rr]=As,Os.g=7;break}if(zr.type==="proto_list"){if(io){for(As=Array(io.size()),Wl=0;Wl<io.size();Wl++)As[Wl]=io.get(Wl);io.delete()}else As=[];Xt[Rr]=As,Os.g=7;break}if(io===void 0){Os.g=3;break}if(zr.type==="float_list"){Xt[Rr]=io,Os.g=7;break}if(zr.type==="proto"){Xt[Rr]=io,Os.g=7;break}if(zr.type!=="texture")throw Error("Unknown output config type: '"+zr.type+"'");return oo=gt.s[Rr],oo||(oo=new qn(gt.h,gt.F),gt.s[Rr]=oo),Cr(Os,Zr(oo,io,gt.H),13);case 13:vo=Os.h,Xt[Rr]=vo;case 7:zr.transform&&Xt[Rr]&&(Xt[Rr]=zr.transform(Xt[Rr])),Os.g=3;break;case 14:go[as]=Os.h;case 3:Mn=xr.next(),Os.g=2;break;case 4:return Os.return(Xt)}})}function Rn(gt,At,Gt){var Xt;return ho(function(yn){return typeof Gt=="number"||Gt instanceof Uint8Array||Gt instanceof gt.h.Uint8BlobList?yn.return(Gt):Gt instanceof gt.h.Texture2dDataOut?(Xt=gt.s[At],Xt||(Xt=new qn(gt.h,gt.F),gt.s[At]=Xt),yn.return(Zr(Xt,Gt,gt.H))):yn.return(void 0)})}function Yn(gt,At){for(var Gt=At.name||"$",Xt=[].concat(or(At.wants)),yn=new gt.h.StringList,kn=Nn(At.wants),Mn=kn.next();!Mn.done;Mn=kn.next())yn.push_back(Mn.value);kn=gt.h.PacketListener.implement({onResults:function(_n){for(var lr={},xr=0;xr<At.wants.length;++xr)lr[Xt[xr]]=_n.get(xr);var Rr=gt.listeners[Gt];Rr&&(gt.D=hn(gt,lr,At.outs).then(function(zr){zr=Rr(zr);for(var io=0;io<At.wants.length;++io){var oo=lr[Xt[io]];typeof oo=="object"&&oo.hasOwnProperty&&oo.hasOwnProperty("delete")&&oo.delete()}zr&&(gt.D=zr)}))}}),gt.i.attachMultiListener(yn,kn),yn.delete()}xt.onResults=function(gt,At){this.listeners[At||"$"]=gt},Bo("Solution",ko),Bo("OptionType",{BOOL:0,NUMBER:1,ca:2,0:"BOOL",1:"NUMBER",2:"STRING"});function It(gt){var At=js(gt,1),Gt=Ps(gt,Ft,3);return Gt={x:jr(Gt,1),y:jr(Gt,2),depth:jr(Gt,3)},gt=Ps(gt,Kt,2),{id:At,point2d:Gt,point3d:{x:jr(gt,1),y:jr(gt,2),z:jr(gt,3)}}}function Wt(gt){var At=Fu(gt,Ot,Jt);gt=[],At=Ls(At,rr,2);for(var Gt=0;Gt<At.length;Gt++)gt.push({id:js(At[Gt],1),keypoints:Ls(At[Gt],nr,2).map(It),visibility:jr(At[Gt],3),scale:Vr(At[Gt],6),translation:Vr(At[Gt],5),rotation:Vr(At[Gt],4)});return gt}function Yt(gt){switch(gt){case"Camera":return"object_detection_3d_camera.tflite";case"Chair":return"object_detection_3d_chair.tflite";case"Cup":return"object_detection_3d_cup.tflite";default:return"object_detection_3d_sneakers.tflite"}}function bt(gt){switch(gt){case"Camera":return"Camera";case"Chair":return"Chair";case"Cup":return"Coffee cup, Mug";default:return"Footwear"}}var Mt={focalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_x"}},focalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_y"}},principalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_x"}},principalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_y"}},allowedLabels:{type:2,graphOptionXref:{calculatorName:"ConstantSidePacketCalculatorAllowedLabels",calculatorType:"ConstantSidePacketCalculator",fieldName:"string_value"}}};function Dt(gt){var At=this;gt=gt||{},this.g=new ko({locateFile:gt.locateFile,files:[{url:"objectron_solution_packed_assets_loader.js"},{simd:!1,url:"objectron_solution_wasm_bin.js"},{simd:!0,url:"objectron_solution_simd_wasm_bin.js"}],graph:{url:"objectron.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["lifted_objects","image_transformed"],outs:{image:"image_transformed",objectDetections:{type:"proto",stream:"lifted_objects",transform:Wt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,default:!1,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumObjects:{type:1,default:5,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorMaxNumObjects",fieldName:"int_value"}},staticImageMode:{type:0,default:!0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"objectrongpusubgraph__ConstantSidePacketCalculator",fieldName:"bool_value"}},minDetectionConfidence:{type:1,default:.5,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"objectrongpusubgraph__objectdetectionoidv4subgraph__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,default:.99,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"objectrongpusubgraph__boxlandmarksubgraph__ThresholdingCalculator",fieldName:"threshold"}},modelName:{default:"Shoe",onChange:function(Gt){var Xt,yn,kn,Mn;return ho(function(_n){return _n.g==1?(Xt=Gt,At.g.setOptions({allowedLabels:bt(Xt)},Mt),yn=Yt(Xt),kn="object_detection_3d.tflite",Cr(_n,$t(At.g,yn),2)):(Mn=_n.h,At.g.overrideFile(kn,Mn),_n.return(!0))})}},focalLength:{default:[1,1],onChange:function(Gt){var Xt;return ho(function(yn){return Xt=Gt,At.h=Xt,At.g.setOptions({focalX:Xt[0],focalY:Xt[1]},Mt),yn.return(!0)})}},principalPoint:{default:[0,0],onChange:function(Gt){var Xt;return ho(function(yn){return Xt=Gt,At.i=Xt,At.g.setOptions({principalX:Xt[0],principalY:Xt[1]},Mt),yn.return(!0)})}},imageSize:{onChange:function(Gt){var Xt,yn,kn,Mn;return ho(function(_n){if(At.h===void 0||At.i===void 0)return console.error('"focalLength" and "principalPoint" must be set if setting image size'),_n.return();Xt=Gt,yn=[Xt[0]/2,Xt[1]/2],kn=[At.h[0]/yn[0],At.h[1]/yn[1]],Mn=[At.i[0]/yn[0],At.i[1]/yn[1]],At.setOptions({focalLength:kn,principalPoint:Mn}),_n.g=0})}}}})}xt=Dt.prototype,xt.close=function(){return this.g.close(),nt.resolve()},xt.onResults=function(gt){this.g.onResults(gt)},xt.initialize=function(){var gt=this;return ho(function(At){return Cr(At,gt.g.initialize(),0)})},xt.reset=function(){this.g.reset()},xt.send=function(gt){var At=this;return ho(function(Gt){return Cr(Gt,At.g.send(gt),0)})},xt.setOptions=function(gt){this.g.setOptions(gt)},Bo("Objectron",Dt),Bo("BOX_CONNECTIONS",[[1,2],[2,4],[4,3],[3,1],[5,6],[6,8],[8,7],[7,5],[1,5],[2,6],[3,7],[4,8]]),Bo("BOX_KEYPOINTS",{CENTER:0,BACK_BOTTOM_LEFT:1,FRONT_BOTTOM_LEFT:2,BACK_TOP_LEFT:3,FRONT_TOP_LEFT:4,BACK_BOTTOM_RIGHT:5,FRONT_BOTTOM_RIGHT:6,BACK_TOP_RIGHT:7,FRONT_TOP_RIGHT:8}),Bo("VERSION","0.4.1636596145")}).call(Yo);const Gl={};(function(){var xt;function St(Ot){var Jt=0;return function(){return Jt<Ot.length?{done:!1,value:Ot[Jt++]}:{done:!0}}}var Tt=typeof Object.defineProperties=="function"?Object.defineProperty:function(Ot,Jt,pn){return Ot==Array.prototype||Ot==Object.prototype||(Ot[Jt]=pn.value),Ot};function Ut(Ot){Ot=[typeof globalThis=="object"&&globalThis,Ot,typeof window=="object"&&window,typeof self=="object"&&self,typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal)];for(var Jt=0;Jt<Ot.length;++Jt){var pn=Ot[Jt];if(pn&&pn.Math==Math)return pn}throw Error("Cannot find global object")}var Qt=Ut(this);function In(Ot,Jt){if(Jt)e:{var pn=Qt;Ot=Ot.split(".");for(var An=0;An<Ot.length-1;An++){var Hn=Ot[An];if(!(Hn in pn))break e;pn=pn[Hn]}Ot=Ot[Ot.length-1],An=pn[Ot],Jt=Jt(An),Jt!=An&&Jt!=null&&Tt(pn,Ot,{configurable:!0,writable:!0,value:Jt})}}In("Symbol",function(Ot){function Jt(ar){if(this instanceof Jt)throw new TypeError("Symbol is not a constructor");return new pn(An+(ar||"")+"_"+Hn++,ar)}function pn(ar,qn){this.g=ar,Tt(this,"description",{configurable:!0,writable:!0,value:qn})}if(Ot)return Ot;pn.prototype.toString=function(){return this.g};var An="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Hn=0;return Jt}),In("Symbol.iterator",function(Ot){if(Ot)return Ot;Ot=Symbol("Symbol.iterator");for(var Jt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),pn=0;pn<Jt.length;pn++){var An=Qt[Jt[pn]];typeof An=="function"&&typeof An.prototype[Ot]!="function"&&Tt(An.prototype,Ot,{configurable:!0,writable:!0,value:function(){return Xn(St(this))}})}return Ot});function Xn(Ot){return Ot={next:Ot},Ot[Symbol.iterator]=function(){return this},Ot}function Nn(Ot){var Jt=typeof Symbol<"u"&&Symbol.iterator&&Ot[Symbol.iterator];return Jt?Jt.call(Ot):{next:St(Ot)}}function or(Ot){if(!(Ot instanceof Array)){Ot=Nn(Ot);for(var Jt,pn=[];!(Jt=Ot.next()).done;)pn.push(Jt.value);Ot=pn}return Ot}var Br=typeof Object.create=="function"?Object.create:function(Ot){function Jt(){}return Jt.prototype=Ot,new Jt},eo;if(typeof Object.setPrototypeOf=="function")eo=Object.setPrototypeOf;else{var ao;e:{var Zo={a:!0},Fo={};try{Fo.__proto__=Zo,ao=Fo.a;break e}catch{}ao=!1}eo=ao?function(Ot,Jt){if(Ot.__proto__=Jt,Ot.__proto__!==Jt)throw new TypeError(Ot+" is not extensible");return Ot}:null}var no=eo;function uo(Ot,Jt){if(Ot.prototype=Br(Jt.prototype),Ot.prototype.constructor=Ot,no)no(Ot,Jt);else for(var pn in Jt)if(pn!="prototype")if(Object.defineProperties){var An=Object.getOwnPropertyDescriptor(Jt,pn);An&&Object.defineProperty(Ot,pn,An)}else Ot[pn]=Jt[pn];Ot.ea=Jt.prototype}function es(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function ts(Ot){if(Ot.l)throw new TypeError("Generator is already running");Ot.l=!0}es.prototype.o=function(Ot){this.h=Ot};function Cs(Ot,Jt){Ot.j={U:Jt,V:!0},Ot.g=Ot.m||Ot.s}es.prototype.return=function(Ot){this.j={return:Ot},this.g=this.s};function Cr(Ot,Jt,pn){return Ot.g=pn,{value:Jt}}function du(Ot){this.g=new es,this.h=Ot}function tu(Ot,Jt){ts(Ot.g);var pn=Ot.g.i;return pn?Js(Ot,"return"in pn?pn.return:function(An){return{value:An,done:!0}},Jt,Ot.g.return):(Ot.g.return(Jt),ls(Ot))}function Js(Ot,Jt,pn,An){try{var Hn=Jt.call(Ot.g.i,pn);if(!(Hn instanceof Object))throw new TypeError("Iterator result "+Hn+" is not an object");if(!Hn.done)return Ot.g.l=!1,Hn;var ar=Hn.value}catch(qn){return Ot.g.i=null,Cs(Ot.g,qn),ls(Ot)}return Ot.g.i=null,An.call(Ot.g,ar),ls(Ot)}function ls(Ot){for(;Ot.g.g;)try{var Jt=Ot.h(Ot.g);if(Jt)return Ot.g.l=!1,{value:Jt.value,done:!1}}catch(pn){Ot.g.h=void 0,Cs(Ot.g,pn)}if(Ot.g.l=!1,Ot.g.j){if(Jt=Ot.g.j,Ot.g.j=null,Jt.V)throw Jt.U;return{value:Jt.return,done:!0}}return{value:void 0,done:!0}}function rp(Ot){this.next=function(Jt){return ts(Ot.g),Ot.g.i?Jt=Js(Ot,Ot.g.i.next,Jt,Ot.g.o):(Ot.g.o(Jt),Jt=ls(Ot)),Jt},this.throw=function(Jt){return ts(Ot.g),Ot.g.i?Jt=Js(Ot,Ot.g.i.throw,Jt,Ot.g.o):(Cs(Ot.g,Jt),Jt=ls(Ot)),Jt},this.return=function(Jt){return tu(Ot,Jt)},this[Symbol.iterator]=function(){return this}}function Ts(Ot){function Jt(An){return Ot.next(An)}function pn(An){return Ot.throw(An)}return new nt(function(An,Hn){function ar(qn){qn.done?An(qn.value):nt.resolve(qn.value).then(Jt,pn).then(ar,Hn)}ar(Ot.next())})}function ho(Ot){return Ts(new rp(new du(Ot)))}In("Promise",function(Ot){function Jt(qn){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Zr=this.j();try{qn(Zr.resolve,Zr.reject)}catch(Ar){Zr.reject(Ar)}}function pn(){this.g=null}function An(qn){return qn instanceof Jt?qn:new Jt(function(Zr){Zr(qn)})}if(Ot)return Ot;pn.prototype.h=function(qn){if(this.g==null){this.g=[];var Zr=this;this.i(function(){Zr.l()})}this.g.push(qn)};var Hn=Qt.setTimeout;pn.prototype.i=function(qn){Hn(qn,0)},pn.prototype.l=function(){for(;this.g&&this.g.length;){var qn=this.g;this.g=[];for(var Zr=0;Zr<qn.length;++Zr){var Ar=qn[Zr];qn[Zr]=null;try{Ar()}catch(fo){this.j(fo)}}}this.g=null},pn.prototype.j=function(qn){this.i(function(){throw qn})},Jt.prototype.j=function(){function qn(fo){return function(So){Ar||(Ar=!0,fo.call(Zr,So))}}var Zr=this,Ar=!1;return{resolve:qn(this.C),reject:qn(this.l)}},Jt.prototype.C=function(qn){if(qn===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(qn instanceof Jt)this.F(qn);else{e:switch(typeof qn){case"object":var Zr=qn!=null;break e;case"function":Zr=!0;break e;default:Zr=!1}Zr?this.v(qn):this.m(qn)}},Jt.prototype.v=function(qn){var Zr=void 0;try{Zr=qn.then}catch(Ar){this.l(Ar);return}typeof Zr=="function"?this.G(Zr,qn):this.m(qn)},Jt.prototype.l=function(qn){this.s(2,qn)},Jt.prototype.m=function(qn){this.s(1,qn)},Jt.prototype.s=function(qn,Zr){if(this.h!=0)throw Error("Cannot settle("+qn+", "+Zr+"): Promise already settled in state"+this.h);this.h=qn,this.i=Zr,this.h===2&&this.D(),this.A()},Jt.prototype.D=function(){var qn=this;Hn(function(){if(qn.B()){var Zr=Qt.console;typeof Zr<"u"&&Zr.error(qn.i)}},1)},Jt.prototype.B=function(){if(this.o)return!1;var qn=Qt.CustomEvent,Zr=Qt.Event,Ar=Qt.dispatchEvent;return typeof Ar>"u"?!0:(typeof qn=="function"?qn=new qn("unhandledrejection",{cancelable:!0}):typeof Zr=="function"?qn=new Zr("unhandledrejection",{cancelable:!0}):(qn=Qt.document.createEvent("CustomEvent"),qn.initCustomEvent("unhandledrejection",!1,!0,qn)),qn.promise=this,qn.reason=this.i,Ar(qn))},Jt.prototype.A=function(){if(this.g!=null){for(var qn=0;qn<this.g.length;++qn)ar.h(this.g[qn]);this.g=null}};var ar=new pn;return Jt.prototype.F=function(qn){var Zr=this.j();qn.J(Zr.resolve,Zr.reject)},Jt.prototype.G=function(qn,Zr){var Ar=this.j();try{qn.call(Zr,Ar.resolve,Ar.reject)}catch(fo){Ar.reject(fo)}},Jt.prototype.then=function(qn,Zr){function Ar(Lo,ro){return typeof Lo=="function"?function(Co){try{fo(Lo(Co))}catch(ko){So(ko)}}:ro}var fo,So,qo=new Jt(function(Lo,ro){fo=Lo,So=ro});return this.J(Ar(qn,fo),Ar(Zr,So)),qo},Jt.prototype.catch=function(qn){return this.then(void 0,qn)},Jt.prototype.J=function(qn,Zr){function Ar(){switch(fo.h){case 1:qn(fo.i);break;case 2:Zr(fo.i);break;default:throw Error("Unexpected state: "+fo.h)}}var fo=this;this.g==null?ar.h(Ar):this.g.push(Ar),this.o=!0},Jt.resolve=An,Jt.reject=function(qn){return new Jt(function(Zr,Ar){Ar(qn)})},Jt.race=function(qn){return new Jt(function(Zr,Ar){for(var fo=Nn(qn),So=fo.next();!So.done;So=fo.next())An(So.value).J(Zr,Ar)})},Jt.all=function(qn){var Zr=Nn(qn),Ar=Zr.next();return Ar.done?An([]):new Jt(function(fo,So){function qo(Co){return function(ko){Lo[Co]=ko,ro--,ro==0&&fo(Lo)}}var Lo=[],ro=0;do Lo.push(void 0),ro++,An(Ar.value).J(qo(Lo.length-1),So),Ar=Zr.next();while(!Ar.done)})},Jt});function xu(Ot,Jt){Ot instanceof String&&(Ot+="");var pn=0,An=!1,Hn={next:function(){if(!An&&pn<Ot.length){var ar=pn++;return{value:Jt(ar,Ot[ar]),done:!1}}return An=!0,{done:!0,value:void 0}}};return Hn[Symbol.iterator]=function(){return Hn},Hn}var Ep=typeof Object.assign=="function"?Object.assign:function(Ot,Jt){for(var pn=1;pn<arguments.length;pn++){var An=arguments[pn];if(An)for(var Hn in An)Object.prototype.hasOwnProperty.call(An,Hn)&&(Ot[Hn]=An[Hn])}return Ot};In("Object.assign",function(Ot){return Ot||Ep}),In("Object.is",function(Ot){return Ot||function(Jt,pn){return Jt===pn?Jt!==0||1/Jt===1/pn:Jt!==Jt&&pn!==pn}}),In("Array.prototype.includes",function(Ot){return Ot||function(Jt,pn){var An=this;An instanceof String&&(An=String(An));var Hn=An.length;for(pn=pn||0,0>pn&&(pn=Math.max(pn+Hn,0));pn<Hn;pn++){var ar=An[pn];if(ar===Jt||Object.is(ar,Jt))return!0}return!1}}),In("String.prototype.includes",function(Ot){return Ot||function(Jt,pn){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Jt instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Jt,pn||0)!==-1}}),In("Array.prototype.keys",function(Ot){return Ot||function(){return xu(this,function(Jt){return Jt})}});var $a=this||self;function Bo(Ot,Jt){Ot=Ot.split(".");var pn=$a;Ot[0]in pn||typeof pn.execScript>"u"||pn.execScript("var "+Ot[0]);for(var An;Ot.length&&(An=Ot.shift());)Ot.length||Jt===void 0?pn[An]&&pn[An]!==Object.prototype[An]?pn=pn[An]:pn=pn[An]={}:pn[An]=Jt}function Tl(Ot){$a.setTimeout(function(){throw Ot},0)}function fu(Ot){Tl(Ot)}function Nu(Ot,Jt){fu(Error("Invalid wire type: "+Ot+" (at position "+Jt+")"))}function _u(){fu(Error("Failed to read varint, encoding is invalid."))}function Gu(Ot,Jt){return Jt=String.fromCharCode.apply(null,Jt),Ot==null?Jt:Ot+Jt}var ip,bu=typeof TextDecoder<"u",Ru,lp=typeof TextEncoder<"u";function qu(Ot){if(lp)Ot=(Ru||(Ru=new TextEncoder)).encode(Ot);else{var Jt=void 0;Jt=Jt===void 0?!1:Jt;for(var pn=0,An=new Uint8Array(3*Ot.length),Hn=0;Hn<Ot.length;Hn++){var ar=Ot.charCodeAt(Hn);if(128>ar)An[pn++]=ar;else{if(2048>ar)An[pn++]=ar>>6|192;else{if(55296<=ar&&57343>=ar){if(56319>=ar&&Hn<Ot.length){var qn=Ot.charCodeAt(++Hn);if(56320<=qn&&57343>=qn){ar=1024*(ar-55296)+qn-56320+65536,An[pn++]=ar>>18|240,An[pn++]=ar>>12&63|128,An[pn++]=ar>>6&63|128,An[pn++]=ar&63|128;continue}else Hn--}if(Jt)throw Error("Found an unpaired surrogate");ar=65533}An[pn++]=ar>>12|224,An[pn++]=ar>>6&63|128}An[pn++]=ar&63|128}}Ot=An.subarray(0,pn)}return Ot}var Kl={},Yl=null;function Wu(Ot){var Jt;Jt===void 0&&(Jt=0),Cl(),Jt=Kl[Jt];for(var pn=Array(Math.floor(Ot.length/3)),An=Jt[64]||"",Hn=0,ar=0;Hn<Ot.length-2;Hn+=3){var qn=Ot[Hn],Zr=Ot[Hn+1],Ar=Ot[Hn+2],fo=Jt[qn>>2];qn=Jt[(qn&3)<<4|Zr>>4],Zr=Jt[(Zr&15)<<2|Ar>>6],Ar=Jt[Ar&63],pn[ar++]=fo+qn+Zr+Ar}switch(fo=0,Ar=An,Ot.length-Hn){case 2:fo=Ot[Hn+1],Ar=Jt[(fo&15)<<2]||An;case 1:Ot=Ot[Hn],pn[ar]=Jt[Ot>>2]+Jt[(Ot&3)<<4|fo>>4]+Ar+An}return pn.join("")}function Pu(Ot){var Jt=Ot.length,pn=3*Jt/4;pn%3?pn=Math.floor(pn):"=.".indexOf(Ot[Jt-1])!=-1&&(pn="=.".indexOf(Ot[Jt-2])!=-1?pn-2:pn-1);var An=new Uint8Array(pn),Hn=0;return Fs(Ot,function(ar){An[Hn++]=ar}),An.subarray(0,Hn)}function Fs(Ot,Jt){function pn(Ar){for(;An<Ot.length;){var fo=Ot.charAt(An++),So=Yl[fo];if(So!=null)return So;if(!/^[\s\xa0]*$/.test(fo))throw Error("Unknown base64 encoding at char: "+fo)}return Ar}Cl();for(var An=0;;){var Hn=pn(-1),ar=pn(0),qn=pn(64),Zr=pn(64);if(Zr===64&&Hn===-1)break;Jt(Hn<<2|ar>>4),qn!=64&&(Jt(ar<<4&240|qn>>2),Zr!=64&&Jt(qn<<6&192|Zr))}}function Cl(){if(!Yl){Yl={};for(var Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Jt=["+/=","+/","-_=","-_.","-_"],pn=0;5>pn;pn++){var An=Ot.concat(Jt[pn].split(""));Kl[pn]=An;for(var Hn=0;Hn<An.length;Hn++){var ar=An[Hn];Yl[ar]===void 0&&(Yl[ar]=Hn)}}}}var Jl=typeof Uint8Array=="function",xs;function ga(Ot){if(this.g=Ot,Ot!==null&&Ot.length===0)throw Error("ByteString should be constructed with non-empty values")}ga.prototype.toJSON=function(){if(this.g==null)var Ot="";else Ot=this.g,Ot=this.g=Ot==null||typeof Ot=="string"?Ot:Jl&&Ot instanceof Uint8Array?Wu(Ot):null;return Ot};var pu=typeof Uint8Array.prototype.slice=="function";function Xl(Ot,Jt,pn){return Jt===pn?xs||(xs=new Uint8Array(0)):pu?Ot.slice(Jt,pn):new Uint8Array(Ot.subarray(Jt,pn))}var gs=0,$s=0;function Ll(Ot){if(Ot.constructor===Uint8Array)return Ot;if(Ot.constructor===ArrayBuffer)return new Uint8Array(Ot);if(Ot.constructor===Array)return new Uint8Array(Ot);if(Ot.constructor===String)return Pu(Ot);if(Ot.constructor===ga){if(Ot.g==null)var Jt=xs||(xs=new Uint8Array(0));else{Jt=Uint8Array;var pn=Ot.g;pn=pn==null||Jl&&pn!=null&&pn instanceof Uint8Array?pn:typeof pn=="string"?Pu(pn):null,Ot=Ot.g=pn,Jt=new Jt(Ot)}return Jt}if(Ot instanceof Uint8Array)return new Uint8Array(Ot.buffer,Ot.byteOffset,Ot.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function ns(Ot,Jt){Jt=Jt===void 0?{}:Jt,Jt=Jt.u===void 0?!1:Jt.u,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.u=Jt,Ot&&yl(this,Ot)}function yl(Ot,Jt){Ot.h=Ll(Jt),Ot.l=0,Ot.i=Ot.h.length,Ot.g=Ot.l}ns.prototype.reset=function(){this.g=this.l};function ds(Ot){Ot.g>Ot.i&&(Ot.j=!0,fu(Error("Tried to read past the end of the data "+Ot.g+" > "+Ot.i)))}function Bs(Ot){var Jt=Ot.h,pn=Jt[Ot.g],An=pn&127;return 128>pn?(Ot.g+=1,ds(Ot),An):(pn=Jt[Ot.g+1],An|=(pn&127)<<7,128>pn?(Ot.g+=2,ds(Ot),An):(pn=Jt[Ot.g+2],An|=(pn&127)<<14,128>pn?(Ot.g+=3,ds(Ot),An):(pn=Jt[Ot.g+3],An|=(pn&127)<<21,128>pn?(Ot.g+=4,ds(Ot),An):(pn=Jt[Ot.g+4],An|=(pn&15)<<28,128>pn?(Ot.g+=5,ds(Ot),An>>>0):(Ot.g+=5,128<=Jt[Ot.g++]&&128<=Jt[Ot.g++]&&128<=Jt[Ot.g++]&&128<=Jt[Ot.g++]&&128<=Jt[Ot.g++]?(Ot.j=!0,_u(),An):(ds(Ot),An))))))}var xl=[];function nu(){this.g=new Uint8Array(64),this.h=0}function Qs(Ot,Jt){if(!(Ot.h+1<Ot.g.length)){var pn=Ot.g;Ot.g=new Uint8Array(Math.ceil(1+2*Ot.g.length)),Ot.g.set(pn)}Ot.g[Ot.h++]=Jt}nu.prototype.length=function(){return this.h},nu.prototype.end=function(){var Ot=this.g,Jt=this.h;return this.h=0,Xl(Ot,0,Jt)};function fs(Ot,Jt){for(;127<Jt;)Qs(Ot,Jt&127|128),Jt>>>=7;Qs(Ot,Jt)}function $l(Ot){var Jt={},pn=Jt.N===void 0?!1:Jt.N;this.m={u:Jt.u===void 0?!1:Jt.u},this.N=pn,Jt=this.m,xl.length?(pn=xl.pop(),Jt&&(pn.u=Jt.u),Ot&&yl(pn,Ot),Ot=pn):Ot=new ns(Ot,Jt),this.g=Ot,this.l=this.g.g,this.h=this.i=-1,this.j=!1}$l.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function Ql(Ot){var Jt=Ot.g;if((Jt=Jt.g==Jt.i)||(Jt=Ot.j)||(Jt=Ot.g,Jt=Jt.j||0>Jt.g||Jt.g>Jt.i),Jt)return!1;Ot.l=Ot.g.g;var pn=Bs(Ot.g);return Jt=pn>>>3,pn&=7,0<=pn&&5>=pn?(Ot.i=Jt,Ot.h=pn,!0):(Ot.j=!0,Nu(pn,Ot.l),!1)}function Sl(Ot){switch(Ot.h){case 0:if(Ot.h!=0)Sl(Ot);else e:{Ot=Ot.g;for(var Jt=Ot.g,pn=0;10>pn;pn++){if(!(Ot.h[Jt]&128)){Ot.g=Jt+1,ds(Ot);break e}Jt++}Ot.j=!0,_u()}break;case 1:Ot=Ot.g,Ot.g+=8,ds(Ot);break;case 2:Ot.h!=2?Sl(Ot):(Jt=Bs(Ot.g),Ot=Ot.g,Ot.g+=Jt,ds(Ot));break;case 5:Ot=Ot.g,Ot.g+=4,ds(Ot);break;case 3:Jt=Ot.i;do{if(!Ql(Ot)){Ot.j=!0,fu(Error("Unmatched start-group tag: stream EOF"));break}if(Ot.h==4){Ot.i!=Jt&&(Ot.j=!0,fu(Error("Unmatched end-group tag")));break}Sl(Ot)}while(1);break;default:Ot.j=!0,Nu(Ot.h,Ot.l)}}function Vu(Ot,Jt,pn){Ot.N||(Ot=Xl(Ot.g.h,pn,Ot.g.g),(pn=Jt.m)?pn.push(Ot):Jt.m=[Ot])}var hu=[];function _l(){this.h=[],this.i=0,this.g=new nu}function mu(Ot,Jt){Jt.length!==0&&(Ot.h.push(Jt),Ot.i+=Jt.length)}function zs(Ot,Jt,pn){fs(Ot.g,8*Jt+2),fs(Ot.g,pn.length),mu(Ot,Ot.g.end()),mu(Ot,pn)}var Rl=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Ks(Ot,Jt){Object.isFrozen(Ot)||(Rl?Ot[Rl]|=Jt:Ot.g!==void 0?Ot.g|=Jt:Object.defineProperties(Ot,{g:{value:Jt,configurable:!0,writable:!0,enumerable:!1}}))}function Rs(Ot){if(!Ot)return 0;var Jt;return Rl?Jt=Ot[Rl]:Jt=Ot.g,Jt??0}function eu(Ot){return Array.isArray(Ot)&&Ks(Ot,1),Ot}function Ss(Ot){if(!Array.isArray(Ot))throw Error("cannot mark non-array as immutable");Ks(Ot,2)}function ps(Ot){return Ot!==null&&typeof Ot=="object"&&Ot.constructor===Object}function Su(Ot){switch(typeof Ot){case"number":return isFinite(Ot)?Ot:String(Ot);case"object":return Jl&&Ot!=null&&Ot instanceof Uint8Array?Wu(Ot):Ot;default:return Ot}}function Ds(Ot,Jt){if(Ot!=null)return Array.isArray(Ot)||ps(Ot)?Xo(Ot,Jt):Jt(Ot)}function Xo(Ot,Jt){if(Array.isArray(Ot)){for(var pn=Array(Ot.length),An=0;An<Ot.length;An++)pn[An]=Ds(Ot[An],Jt);return Rs(Ot)&1&&eu(pn),pn}pn={};for(An in Ot)pn[An]=Ds(Ot[An],Jt);return pn}var Io;function Is(Ot,Jt,pn){var An=Io;Io=null,Ot||(Ot=An),An=this.constructor.ca,Ot||(Ot=An?[An]:[]),this.j=(An?0:-1)-(this.constructor.aa||0),this.i=null,this.g=Ot;e:{if(An=this.g.length,Ot=An-1,An&&(An=this.g[Ot],ps(An))){this.l=Ot-this.j,this.h=An;break e}Jt!==void 0&&-1<Jt?(this.l=Math.max(Jt,Ot+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(pn)for(Jt=0;Jt<pn.length;Jt++)Ot=pn[Jt],Ot<this.l?(Ot+=this.j,(An=this.g[Ot])?eu(An):this.g[Ot]=Il):(Es(this),(An=this.h[Ot])?eu(An):this.h[Ot]=Il)}var Il=Object.freeze(eu([]));function Es(Ot){var Jt=Ot.l+Ot.j;Ot.g[Jt]||(Ot.h=Ot.g[Jt]={})}function ws(Ot,Jt,pn){return Jt===-1?null:pn!==void 0&&pn||Jt>=Ot.l?Ot.h?Ot.h[Jt]:void 0:Ot.g[Jt+Ot.j]}function Vr(Ot,Jt,pn){pn=pn===void 0?!0:pn;var An=An===void 0?!1:An,Hn=ws(Ot,Jt,An);return Hn==null&&(Hn=Il),Hn===Il?(Hn=eu([]),_r(Ot,Jt,Hn,An)):pn&&Array.isArray(Hn)&&Rs(Hn)&2&&(Hn=Hn.slice(),_r(Ot,Jt,Hn,An)),Hn}function jr(Ot,Jt,pn){return Ot=ws(Ot,Jt),Ot=Ot==null?Ot:+Ot,Ot??(pn===void 0?0:pn)}function _r(Ot,Jt,pn,An){An!==void 0&&An||Jt>=Ot.l?(Es(Ot),Ot.h[Jt]=pn):Ot.g[Jt+Ot.j]=pn}function hs(Ot,Jt,pn){Ot.i||(Ot.i={});var An=Ot.i[pn];if(!An){var Hn=Vr(Ot,pn,!1);An=[];for(var ar=Array.isArray(Hn)?!!(Rs(Hn)&2):!1,qn=0;qn<Hn.length;qn++)An[qn]=new Jt(Hn[qn]),ar&&Ss(An[qn].g);ar&&(Ss(An),Object.freeze(An)),Ot.i[pn]=An}return An}function Ps(Ot,Jt,pn,An,Hn){var ar=hs(Ot,An,Jt);pn=pn||new An,Ot=Vr(Ot,Jt),Hn!=null?(ar.splice(Hn,0,pn),Ot.splice(Hn,0,Ls(pn))):(ar.push(pn),Ot.push(Ls(pn)))}Is.prototype.toJSON=function(){var Ot=Ls(this);return Xo(Ot,Su)};function Ls(Ot){if(Ot.i)for(var Jt in Ot.i){var pn=Ot.i[Jt];if(Array.isArray(pn))for(var An=0;An<pn.length;An++)pn[An]&&Ls(pn[An]);else pn&&Ls(pn)}return Ot.g}Is.prototype.toString=function(){return Ls(this).toString()};function No(Ot,Jt){return Ot=ws(Ot,Jt),Ot??0}function js(Ot,Jt){return Ot=ws(Ot,Jt),Ot??""}function Nl(Ot,Jt){if(Ot=Ot.m){mu(Jt,Jt.g.end());for(var pn=0;pn<Ot.length;pn++)mu(Jt,Ot[pn])}}function ru(Ot){var Jt=Ot[0];switch(Ot.length){case 2:var pn=Ot[1];return function(Ar,fo,So){return Jt(Ar,fo,So,pn)};case 3:var An=Ot[1],Hn=Ot[2];return function(Ar,fo,So){return Jt(Ar,fo,So,An,Hn)};case 4:var ar=Ot[1],qn=Ot[2],Zr=Ot[3];return function(Ar,fo,So){return Jt(Ar,fo,So,ar,qn,Zr)};default:throw Error("unsupported number of parameters, expected [2-4], got "+Ot.length)}}function iu(Ot,Jt,pn){for(;Ql(Jt)&&Jt.h!=4;){var An=Jt.i,Hn=pn[An];if(Hn){if(Array.isArray(Hn)&&(Hn=pn[An]=ru(Hn)),!Hn(Jt,Ot,An)){An=Jt,Hn=Ot;var ar=An.l;Sl(An),Vu(An,Hn,ar)}}else An=Jt,Hn=Ot,ar=An.l,Sl(An),Vu(An,Hn,ar)}return Ot}function Eu(Ot,Jt){var pn=new _l;if(Jt(Ot,pn),Ot=pn.i+pn.g.length(),Ot===0)pn=new Uint8Array(0);else{Ot=new Uint8Array(Ot);for(var An=pn.h,Hn=An.length,ar=Jt=0;ar<Hn;ar++){var qn=An[ar];qn.length!==0&&(Ot.set(qn,Jt),Jt+=qn.length)}An=pn.g,Hn=An.h,Hn!==0&&(Ot.set(An.g.subarray(0,Hn),Jt),An.h=0),pn.h=[Ot],pn=Ot}return pn}function Iu(Ot,Jt,pn){if(hu.length){var An=hu.pop();Ot&&(yl(An.g,Ot),An.i=-1,An.h=-1),Ot=An}else Ot=new $l(Ot);try{return pn(new Jt,Ot)}finally{Jt=Ot.g,Jt.h=null,Jt.l=0,Jt.i=0,Jt.g=0,Jt.j=!1,Jt.u=!1,Ot.i=-1,Ot.h=-1,Ot.j=!1,100>hu.length&&hu.push(Ot)}}function Ol(Ot,Jt,pn){if(Jt=ws(Jt,pn),Jt!=null){fs(Ot.g,8*pn+5),Ot=Ot.g;var An=Jt;An=(pn=0>An?1:0)?-An:An,An===0?0<1/An?gs=$s=0:($s=0,gs=2147483648):isNaN(An)?($s=0,gs=2147483647):34028234663852886e22<An?($s=0,gs=(pn<<31|2139095040)>>>0):11754943508222875e-54>An?(An=Math.round(An/Math.pow(2,-149)),$s=0,gs=(pn<<31|An)>>>0):(Jt=Math.floor(Math.log(An)/Math.LN2),An*=Math.pow(2,-Jt),An=Math.round(8388608*An),16777216<=An&&++Jt,$s=0,gs=(pn<<31|Jt+127<<23|An&8388607)>>>0),pn=gs,Qs(Ot,pn>>>0&255),Qs(Ot,pn>>>8&255),Qs(Ot,pn>>>16&255),Qs(Ot,pn>>>24&255)}}function ou(Ot,Jt,pn){if(Ot.h!==5)return!1;Ot=Ot.g;var An=Ot.h[Ot.g],Hn=Ot.h[Ot.g+1],ar=Ot.h[Ot.g+2],qn=Ot.h[Ot.g+3];return Ot.g+=4,ds(Ot),Hn=(An<<0|Hn<<8|ar<<16|qn<<24)>>>0,Ot=2*(Hn>>31)+1,An=Hn>>>23&255,Hn&=8388607,_r(Jt,pn,An==255?Hn?NaN:1/0*Ot:An==0?Ot*Math.pow(2,-149)*Hn:Ot*Math.pow(2,An-150)*(Hn+Math.pow(2,23))),!0}function Cp(Ot,Jt,pn){if(Ot.h!==0)return!1;for(var An=Ot.g,Hn=128,ar=0,qn=Ot=0;4>qn&&128<=Hn;qn++)Hn=An.h[An.g++],ar|=(Hn&127)<<7*qn;if(128<=Hn&&(Hn=An.h[An.g++],ar|=(Hn&127)<<28,Ot|=(Hn&127)>>4),128<=Hn)for(qn=0;5>qn&&128<=Hn;qn++)Hn=An.h[An.g++],Ot|=(Hn&127)<<7*qn+3;return 128>Hn?(An=ar>>>0,Hn=Ot>>>0,(Ot=Hn&2147483648)&&(An=~An+1>>>0,Hn=~Hn>>>0,An==0&&(Hn=Hn+1>>>0)),An=4294967296*Hn+(An>>>0),Ot=Ot?-An:An):(An.j=!0,_u(),Ot=void 0),_r(Jt,pn,Ot),!0}function su(Ot,Jt,pn){return Ot.h!==0?!1:(_r(Jt,pn,Bs(Ot.g)),!0)}function Pl(Ot,Jt,pn){if(Ot.h!==2)return!1;var An=Bs(Ot.g);Ot=Ot.g;var Hn=Ot.g;Ot.g+=An,ds(Ot),Ot=Ot.h;var ar;if(bu)(ar=ip)||(ar=ip=new TextDecoder("utf-8",{fatal:!1})),ar=ar.decode(Ot.subarray(Hn,Hn+An));else{An=Hn+An;for(var qn=[],Zr=null,Ar,fo,So;Hn<An;)Ar=Ot[Hn++],128>Ar?qn.push(Ar):224>Ar?Hn>=An?qn.push(65533):(fo=Ot[Hn++],194>Ar||(fo&192)!==128?(Hn--,qn.push(65533)):qn.push((Ar&31)<<6|fo&63)):240>Ar?Hn>=An-1?qn.push(65533):(fo=Ot[Hn++],(fo&192)!==128||Ar===224&&160>fo||Ar===237&&160<=fo||((ar=Ot[Hn++])&192)!==128?(Hn--,qn.push(65533)):qn.push((Ar&15)<<12|(fo&63)<<6|ar&63)):244>=Ar?Hn>=An-2?qn.push(65533):(fo=Ot[Hn++],(fo&192)!==128||(Ar<<28)+(fo-144)>>30||((ar=Ot[Hn++])&192)!==128||((So=Ot[Hn++])&192)!==128?(Hn--,qn.push(65533)):(Ar=(Ar&7)<<18|(fo&63)<<12|(ar&63)<<6|So&63,Ar-=65536,qn.push((Ar>>10&1023)+55296,(Ar&1023)+56320))):qn.push(65533),8192<=qn.length&&(Zr=Gu(Zr,qn),qn.length=0);ar=Gu(Zr,qn)}return _r(Jt,pn,ar),!0}function Lu(Ot,Jt,pn,An,Hn){if(Ot.h!==2)return!1;var ar=new An,qn=Ot.g.i,Zr=Bs(Ot.g),Ar=Ot.g.g+Zr;if(Ot.g.i=Ar,Hn(ar,Ot),Hn=Ar-Ot.g.g,Hn!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(Zr+" bytes, instead read "+(Zr-Hn)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return Ot.g.g=Ar,Ot.g.i=qn,Ps(Jt,pn,ar,An,void 0),!0}function Fu(Ot){Is.call(this,Ot)}var Ul;uo(Fu,Is);function up(Ot,Jt){var pn=ws(Ot,1);if(pn!=null&&pn!=null){fs(Jt.g,8);var An=Jt.g;if(0<=pn)fs(An,pn);else{for(var Hn=0;9>Hn;Hn++)Qs(An,pn&127|128),pn>>=7;Qs(An,1)}}Ol(Jt,Ot,2),An=ws(Ot,3),An!=null&&zs(Jt,3,qu(An)),An=ws(Ot,4),An!=null&&zs(Jt,4,qu(An)),Nl(Ot,Jt)}function au(Ot,Jt){return iu(Ot,Jt,Ul||(Ul={1:su,2:ou,3:Pl,4:Pl}))}function ku(Ot){Is.call(this,Ot,-1,gu)}var Uu;uo(ku,Is),ku.prototype.addClassification=function(Ot,Jt){return Ps(this,1,Ot,Fu,Jt),this};function yp(Ot,Jt){return iu(Ot,Jt,Uu||(Uu={1:[Lu,Fu,au]}))}var gu=[1];function Bu(Ot){Is.call(this,Ot)}var Vp;uo(Bu,Is);function Mp(Ot,Jt){Ol(Jt,Ot,1),Ol(Jt,Ot,2),Ol(Jt,Ot,3),Ol(Jt,Ot,4),Ol(Jt,Ot,5),Nl(Ot,Jt)}function Hu(Ot,Jt){return iu(Ot,Jt,Vp||(Vp={1:ou,2:ou,3:ou,4:ou,5:ou}))}function _d(Ot){Is.call(this,Ot,-1,dn)}var jt;uo(_d,Is);function ln(Ot,Jt){return iu(Ot,Jt,jt||(jt={1:[Lu,Bu,Hu]}))}var dn=[1];function Kn(Ot){Is.call(this,Ot)}var gr;uo(Kn,Is);function Hr(Ot,Jt){Ol(Jt,Ot,1),Ol(Jt,Ot,2),Ol(Jt,Ot,3),Ol(Jt,Ot,4),Ol(Jt,Ot,5);var pn=ws(Ot,6);if(pn!=null&&pn!=null){fs(Jt.g,48);var An=Jt.g,Hn=pn;pn=0>Hn,Hn=Math.abs(Hn);var ar=Hn>>>0;for(Hn=Math.floor((Hn-ar)/4294967296),Hn>>>=0,pn&&(Hn=~Hn>>>0,ar=(~ar>>>0)+1,4294967295<ar&&(ar=0,Hn++,4294967295<Hn&&(Hn=0))),gs=ar,$s=Hn,pn=gs,ar=$s;0<ar||127<pn;)Qs(An,pn&127|128),pn=(pn>>>7|ar<<25)>>>0,ar>>>=7;Qs(An,pn)}Nl(Ot,Jt)}function hr(Ot,Jt){return iu(Ot,Jt,gr||(gr={1:ou,2:ou,3:ou,4:ou,5:ou,6:Cp}))}function Fr(Ot,Jt,pn){if(pn=Ot.createShader(pn===0?Ot.VERTEX_SHADER:Ot.FRAGMENT_SHADER),Ot.shaderSource(pn,Jt),Ot.compileShader(pn),!Ot.getShaderParameter(pn,Ot.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+Ot.getShaderInfoLog(pn));return pn}function lo(Ot){return hs(Ot,Fu,1).map(function(Jt){return{index:No(Jt,1),X:jr(Jt,2),label:ws(Jt,3)!=null?js(Jt,3):void 0,displayName:ws(Jt,4)!=null?js(Jt,4):void 0}})}function Ao(Ot){return{x:jr(Ot,1),y:jr(Ot,2),z:jr(Ot,3),visibility:ws(Ot,4)!=null?jr(Ot,4):void 0}}function _o(Ot){return hs(Iu(Ot,_d,ln),Bu,1).map(Ao)}function Ho(Ot,Jt){this.h=Ot,this.g=Jt,this.l=0}function bs(Ot,Jt,pn){return $o(Ot,Jt),typeof Ot.g.canvas.transferToImageBitmap=="function"?nt.resolve(Ot.g.canvas.transferToImageBitmap()):pn?nt.resolve(Ot.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(Ot.g.canvas):(Ot.i===void 0&&(Ot.i=document.createElement("canvas")),new nt(function(An){Ot.i.height=Ot.g.canvas.height,Ot.i.width=Ot.g.canvas.width,Ot.i.getContext("2d",{}).drawImage(Ot.g.canvas,0,0,Ot.g.canvas.width,Ot.g.canvas.height),An(Ot.i)}))}function $o(Ot,Jt){var pn=Ot.g;if(Ot.m===void 0){var An=Fr(pn,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Hn=Fr(pn,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),ar=pn.createProgram();if(pn.attachShader(ar,An),pn.attachShader(ar,Hn),pn.linkProgram(ar),!pn.getProgramParameter(ar,pn.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+pn.getProgramInfoLog(ar));An=Ot.m=ar,pn.useProgram(An),Hn=pn.getUniformLocation(An,"sampler0"),Ot.j={I:pn.getAttribLocation(An,"aVertex"),H:pn.getAttribLocation(An,"aTex"),da:Hn},Ot.s=pn.createBuffer(),pn.bindBuffer(pn.ARRAY_BUFFER,Ot.s),pn.enableVertexAttribArray(Ot.j.I),pn.vertexAttribPointer(Ot.j.I,2,pn.FLOAT,!1,0,0),pn.bufferData(pn.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),pn.STATIC_DRAW),pn.bindBuffer(pn.ARRAY_BUFFER,null),Ot.o=pn.createBuffer(),pn.bindBuffer(pn.ARRAY_BUFFER,Ot.o),pn.enableVertexAttribArray(Ot.j.H),pn.vertexAttribPointer(Ot.j.H,2,pn.FLOAT,!1,0,0),pn.bufferData(pn.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),pn.STATIC_DRAW),pn.bindBuffer(pn.ARRAY_BUFFER,null),pn.uniform1i(Hn,0)}An=Ot.j,pn.useProgram(Ot.m),pn.canvas.width=Jt.width,pn.canvas.height=Jt.height,pn.viewport(0,0,Jt.width,Jt.height),pn.activeTexture(pn.TEXTURE0),Ot.h.bindTexture2d(Jt.glName),pn.enableVertexAttribArray(An.I),pn.bindBuffer(pn.ARRAY_BUFFER,Ot.s),pn.vertexAttribPointer(An.I,2,pn.FLOAT,!1,0,0),pn.enableVertexAttribArray(An.H),pn.bindBuffer(pn.ARRAY_BUFFER,Ot.o),pn.vertexAttribPointer(An.H,2,pn.FLOAT,!1,0,0),pn.bindFramebuffer(pn.DRAW_FRAMEBUFFER?pn.DRAW_FRAMEBUFFER:pn.FRAMEBUFFER,null),pn.clearColor(0,0,0,0),pn.clear(pn.COLOR_BUFFER_BIT),pn.colorMask(!0,!0,!0,!0),pn.drawArrays(pn.TRIANGLE_FAN,0,4),pn.disableVertexAttribArray(An.I),pn.disableVertexAttribArray(An.H),pn.bindBuffer(pn.ARRAY_BUFFER,null),Ot.h.bindTexture2d(0)}function Po(Ot){this.g=Ot}var Jo=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function vs(Ot,Jt){return Jt+Ot}function ks(Ot,Jt){window[Ot]=Jt}function Xs(Ot){var Jt=document.createElement("script");return Jt.setAttribute("src",Ot),Jt.setAttribute("crossorigin","anonymous"),new nt(function(pn){Jt.addEventListener("load",function(){pn()},!1),Jt.addEventListener("error",function(){pn()},!1),document.body.appendChild(Jt)})}function Hs(){return ho(function(Ot){switch(Ot.g){case 1:return Ot.m=2,Cr(Ot,WebAssembly.instantiate(Jo),4);case 4:Ot.g=3,Ot.m=0;break;case 2:return Ot.m=0,Ot.j=null,Ot.return(!1);case 3:return Ot.return(!0)}})}function Vl(Ot){if(this.g=Ot,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=nt.resolve(),this.P="",this.B={},this.locateFile=Ot&&Ot.locateFile||vs,typeof window=="object")var Jt=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")Jt=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=Jt,Ot.options){Jt=Nn(Object.keys(Ot.options));for(var pn=Jt.next();!pn.done;pn=Jt.next()){pn=pn.value;var An=Ot.options[pn].default;An!==void 0&&(this.j[pn]=typeof An=="function"?An():An)}}}xt=Vl.prototype,xt.close=function(){return this.i&&this.i.delete(),nt.resolve()};function Ft(Ot){var Jt,pn,An,Hn,ar,qn,Zr,Ar,fo,So,qo;return ho(function(Lo){switch(Lo.g){case 1:return Ot.R?(Jt=Ot.g.files===void 0?[]:typeof Ot.g.files=="function"?Ot.g.files(Ot.j):Ot.g.files,Cr(Lo,Hs(),2)):Lo.return();case 2:if(pn=Lo.h,typeof window=="object")return ks("createMediapipeSolutionsWasm",{locateFile:Ot.locateFile}),ks("createMediapipeSolutionsPackedAssets",{locateFile:Ot.locateFile}),qn=Jt.filter(function(ro){return ro.data!==void 0}),Zr=Jt.filter(function(ro){return ro.data===void 0}),Ar=nt.all(qn.map(function(ro){var Co=Zn(Ot,ro.url);if(ro.path!==void 0){var ko=ro.path;Co=Co.then(function(Wo){return Ot.overrideFile(ko,Wo),nt.resolve(Wo)})}return Co})),fo=nt.all(Zr.map(function(ro){return ro.simd===void 0||ro.simd&&pn||!ro.simd&&!pn?Xs(Ot.locateFile(ro.url,Ot.S)):nt.resolve()})).then(function(){var ro,Co,ko;return ho(function(Wo){if(Wo.g==1)return ro=window.createMediapipeSolutionsWasm,Co=window.createMediapipeSolutionsPackedAssets,ko=Ot,Cr(Wo,ro(Co),2);ko.h=Wo.h,Wo.g=0})}),So=function(){return ho(function(ro){return Ot.g.graph&&Ot.g.graph.url?ro=Cr(ro,Zn(Ot,Ot.g.graph.url),0):(ro.g=0,ro=void 0),ro})}(),Cr(Lo,nt.all([fo,Ar,So]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return An=Jt.filter(function(ro){return ro.simd===void 0||ro.simd&&pn||!ro.simd&&!pn}).map(function(ro){return Ot.locateFile(ro.url,Ot.S)}),importScripts.apply(null,or(An)),Hn=Ot,Cr(Lo,createMediapipeSolutionsWasm(Module),6);case 6:Hn.h=Lo.h,Ot.l=new OffscreenCanvas(1,1),Ot.h.canvas=Ot.l,ar=Ot.h.GL.createContext(Ot.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),Ot.h.GL.makeContextCurrent(ar),Lo.g=4;break;case 7:if(Ot.l=document.createElement("canvas"),qo=Ot.l.getContext("webgl2",{}),!qo&&(qo=Ot.l.getContext("webgl",{}),!qo))return alert("Failed to create WebGL canvas context when passing video frame."),Lo.return();Ot.D=qo,Ot.h.canvas=Ot.l,Ot.h.createContext(Ot.l,!0,!0,{});case 4:Ot.i=new Ot.h.SolutionWasm,Ot.R=!1,Lo.g=0}})}function Ht(Ot){var Jt,pn,An,Hn,ar,qn,Zr,Ar;return ho(function(fo){if(fo.g==1){if(Ot.g.graph&&Ot.g.graph.url&&Ot.P===Ot.g.graph.url)return fo.return();if(Ot.o=!0,!Ot.g.graph||!Ot.g.graph.url){fo.g=2;return}return Ot.P=Ot.g.graph.url,Cr(fo,Zn(Ot,Ot.g.graph.url),3)}for(fo.g!=2&&(Jt=fo.h,Ot.i.loadGraph(Jt)),pn=Nn(Object.keys(Ot.B)),An=pn.next();!An.done;An=pn.next())Hn=An.value,Ot.i.overrideFile(Hn,Ot.B[Hn]);if(Ot.B={},Ot.g.listeners)for(ar=Nn(Ot.g.listeners),qn=ar.next();!qn.done;qn=ar.next())Zr=qn.value,rr(Ot,Zr);Ar=Ot.j,Ot.j={},Ot.setOptions(Ar),fo.g=0})}xt.reset=function(){var Ot=this;return ho(function(Jt){Ot.i&&(Ot.i.reset(),Ot.m={},Ot.s={}),Jt.g=0})},xt.setOptions=function(Ot,Jt){var pn=this;if(Jt=Jt||this.g.options){for(var An=[],Hn=[],ar={},qn=Nn(Object.keys(Ot)),Zr=qn.next();!Zr.done;ar={K:ar.K,L:ar.L},Zr=qn.next()){var Ar=Zr.value;Ar in this.j&&this.j[Ar]===Ot[Ar]||(this.j[Ar]=Ot[Ar],Zr=Jt[Ar],Zr!==void 0&&(Zr.onChange&&(ar.K=Zr.onChange,ar.L=Ot[Ar],An.push(function(fo){return function(){var So;return ho(function(qo){if(qo.g==1)return Cr(qo,fo.K(fo.L),2);So=qo.h,So===!0&&(pn.o=!0),qo.g=0})}}(ar))),Zr.graphOptionXref&&(Ar={valueNumber:Zr.type===1?Ot[Ar]:0,valueBoolean:Zr.type===0?Ot[Ar]:!1,valueString:Zr.type===2?Ot[Ar]:""},Zr=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Zr.graphOptionXref),Ar),Hn.push(Zr))))}(An.length!==0||Hn.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(Hn),this.v=(this.v===void 0?[]:this.v).concat(An))}};function Kt(Ot){var Jt,pn,An,Hn,ar,qn,Zr;return ho(function(Ar){switch(Ar.g){case 1:if(!Ot.o)return Ar.return();if(!Ot.v){Ar.g=2;break}Jt=Nn(Ot.v),pn=Jt.next();case 3:if(pn.done){Ar.g=5;break}return An=pn.value,Cr(Ar,An(),4);case 4:pn=Jt.next(),Ar.g=3;break;case 5:Ot.v=void 0;case 2:if(Ot.A){for(Hn=new Ot.h.GraphOptionChangeRequestList,ar=Nn(Ot.A),qn=ar.next();!qn.done;qn=ar.next())Zr=qn.value,Hn.push_back(Zr);Ot.i.changeOptions(Hn),Hn.delete(),Ot.A=void 0}Ot.o=!1,Ar.g=0}})}xt.initialize=function(){var Ot=this;return ho(function(Jt){return Jt.g==1?Cr(Jt,Ft(Ot),2):Jt.g!=3?Cr(Jt,Ht(Ot),3):Cr(Jt,Kt(Ot),0)})};function Zn(Ot,Jt){var pn,An;return ho(function(Hn){return Jt in Ot.F?Hn.return(Ot.F[Jt]):(pn=Ot.locateFile(Jt,""),An=fetch(pn).then(function(ar){return ar.arrayBuffer()}),Ot.F[Jt]=An,Hn.return(An))})}xt.overrideFile=function(Ot,Jt){this.i?this.i.overrideFile(Ot,Jt):this.B[Ot]=Jt},xt.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},xt.send=function(Ot,Jt){var pn=this,An,Hn,ar,qn,Zr,Ar,fo,So,qo;return ho(function(Lo){switch(Lo.g){case 1:return pn.g.inputs?(An=1e3*(Jt??performance.now()),Cr(Lo,pn.C,2)):Lo.return();case 2:return Cr(Lo,pn.initialize(),3);case 3:for(Hn=new pn.h.PacketDataList,ar=Nn(Object.keys(Ot)),qn=ar.next();!qn.done;qn=ar.next())if(Zr=qn.value,Ar=pn.g.inputs[Zr]){e:{var ro=Ot[Zr];switch(Ar.type){case"video":var Co=pn.m[Ar.stream];if(Co||(Co=new Ho(pn.h,pn.D),pn.m[Ar.stream]=Co),Co.l===0&&(Co.l=Co.h.createTexture()),typeof HTMLVideoElement<"u"&&ro instanceof HTMLVideoElement)var ko=ro.videoWidth,Wo=ro.videoHeight;else typeof HTMLImageElement<"u"&&ro instanceof HTMLImageElement?(ko=ro.naturalWidth,Wo=ro.naturalHeight):(ko=ro.width,Wo=ro.height);Wo={glName:Co.l,width:ko,height:Wo},ko=Co.g,ko.canvas.width=Wo.width,ko.canvas.height=Wo.height,ko.activeTexture(ko.TEXTURE0),Co.h.bindTexture2d(Co.l),ko.texImage2D(ko.TEXTURE_2D,0,ko.RGBA,ko.RGBA,ko.UNSIGNED_BYTE,ro),Co.h.bindTexture2d(0),Co=Wo;break e;case"detections":for(Co=pn.m[Ar.stream],Co||(Co=new Po(pn.h),pn.m[Ar.stream]=Co),Co.data||(Co.data=new Co.g.DetectionListData),Co.data.reset(ro.length),Wo=0;Wo<ro.length;++Wo){ko=ro[Wo];var Do=Co.data,Lt=Do.setBoundingBox,$t=Wo,hn=ko.T,Rn=new Kn;if(_r(Rn,1,hn.Y),_r(Rn,2,hn.Z),_r(Rn,3,hn.height),_r(Rn,4,hn.width),_r(Rn,5,hn.rotation),_r(Rn,6,hn.W),hn=Eu(Rn,Hr),Lt.call(Do,$t,hn),ko.O)for(Do=0;Do<ko.O.length;++Do){Rn=ko.O[Do];var Yn=!!Rn.visibility;Lt=Co.data,$t=Lt.addNormalizedLandmark,hn=Wo,Rn=Object.assign(Object.assign({},Rn),{visibility:Yn?Rn.visibility:0}),Yn=new Bu,_r(Yn,1,Rn.x),_r(Yn,2,Rn.y),_r(Yn,3,Rn.z),Rn.visibility&&_r(Yn,4,Rn.visibility),Rn=Eu(Yn,Mp),$t.call(Lt,hn,Rn)}if(ko.M)for(Do=0;Do<ko.M.length;++Do)Lt=Co.data,$t=Lt.addClassification,hn=Wo,Rn=ko.M[Do],Yn=new Fu,_r(Yn,2,Rn.X),Rn.index&&_r(Yn,1,Rn.index),Rn.label&&_r(Yn,3,Rn.label),Rn.displayName&&_r(Yn,4,Rn.displayName),Rn=Eu(Yn,up),$t.call(Lt,hn,Rn)}Co=Co.data;break e;default:Co={}}}switch(fo=Co,So=Ar.stream,Ar.type){case"video":Hn.pushTexture2d(Object.assign(Object.assign({},fo),{stream:So,timestamp:An}));break;case"detections":qo=fo,qo.stream=So,qo.timestamp=An,Hn.pushDetectionList(qo);break;default:throw Error("Unknown input config type: '"+Ar.type+"'")}}return pn.i.send(Hn),Cr(Lo,pn.C,4);case 4:Hn.delete(),Lo.g=0}})};function nr(Ot,Jt,pn){var An,Hn,ar,qn,Zr,Ar,fo,So,qo,Lo,ro,Co,ko,Wo;return ho(function(Do){switch(Do.g){case 1:if(!pn)return Do.return(Jt);for(An={},Hn=0,ar=Nn(Object.keys(pn)),qn=ar.next();!qn.done;qn=ar.next())Zr=qn.value,Ar=pn[Zr],typeof Ar!="string"&&Ar.type==="texture"&&Jt[Ar.stream]!==void 0&&++Hn;1<Hn&&(Ot.G=!1),fo=Nn(Object.keys(pn)),qn=fo.next();case 2:if(qn.done){Do.g=4;break}if(So=qn.value,qo=pn[So],typeof qo=="string")return ko=An,Wo=So,Cr(Do,Tr(Ot,So,Jt[qo]),14);if(Lo=Jt[qo.stream],qo.type==="detection_list"){if(Lo){for(var Lt=Lo.getRectList(),$t=Lo.getLandmarksList(),hn=Lo.getClassificationsList(),Rn=[],Yn=0;Yn<Lt.size();++Yn){var It=Iu(Lt.get(Yn),Kn,hr);It={T:{Y:jr(It,1),Z:jr(It,2),height:jr(It,3),width:jr(It,4),rotation:jr(It,5,0),W:No(It,6)},O:_o($t.get(Yn)),M:lo(Iu(hn.get(Yn),ku,yp))},Rn.push(It)}Lt=Rn}else Lt=[];An[So]=Lt,Do.g=7;break}if(qo.type==="proto_list"){if(Lo){for(Lt=Array(Lo.size()),$t=0;$t<Lo.size();$t++)Lt[$t]=Lo.get($t);Lo.delete()}else Lt=[];An[So]=Lt,Do.g=7;break}if(Lo===void 0){Do.g=3;break}if(qo.type==="float_list"){An[So]=Lo,Do.g=7;break}if(qo.type==="proto"){An[So]=Lo,Do.g=7;break}if(qo.type!=="texture")throw Error("Unknown output config type: '"+qo.type+"'");return ro=Ot.s[So],ro||(ro=new Ho(Ot.h,Ot.D),Ot.s[So]=ro),Cr(Do,bs(ro,Lo,Ot.G),13);case 13:Co=Do.h,An[So]=Co;case 7:qo.transform&&An[So]&&(An[So]=qo.transform(An[So])),Do.g=3;break;case 14:ko[Wo]=Do.h;case 3:qn=fo.next(),Do.g=2;break;case 4:return Do.return(An)}})}function Tr(Ot,Jt,pn){var An;return ho(function(Hn){return typeof pn=="number"||pn instanceof Uint8Array||pn instanceof Ot.h.Uint8BlobList?Hn.return(pn):pn instanceof Ot.h.Texture2dDataOut?(An=Ot.s[Jt],An||(An=new Ho(Ot.h,Ot.D),Ot.s[Jt]=An),Hn.return(bs(An,pn,Ot.G))):Hn.return(void 0)})}function rr(Ot,Jt){for(var pn=Jt.name||"$",An=[].concat(or(Jt.wants)),Hn=new Ot.h.StringList,ar=Nn(Jt.wants),qn=ar.next();!qn.done;qn=ar.next())Hn.push_back(qn.value);ar=Ot.h.PacketListener.implement({onResults:function(Zr){for(var Ar={},fo=0;fo<Jt.wants.length;++fo)Ar[An[fo]]=Zr.get(fo);var So=Ot.listeners[pn];So&&(Ot.C=nr(Ot,Ar,Jt.outs).then(function(qo){qo=So(qo);for(var Lo=0;Lo<Jt.wants.length;++Lo){var ro=Ar[An[Lo]];typeof ro=="object"&&ro.hasOwnProperty&&ro.hasOwnProperty("delete")&&ro.delete()}qo&&(Ot.C=qo)}))}}),Ot.i.attachMultiListener(Hn,ar),Hn.delete()}xt.onResults=function(Ot,Jt){this.listeners[Jt||"$"]=Ot},Bo("Solution",Vl),Bo("OptionType",{BOOL:0,NUMBER:1,$:2,0:"BOOL",1:"NUMBER",2:"STRING"});function kr(Ot){switch(Ot===void 0&&(Ot=0),Ot){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function Jr(Ot){var Jt=this;Ot=Ot||{},this.g=new Vl({locateFile:Ot.locateFile,files:function(pn){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:kr(pn.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:_o},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:_o},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(pn){var An,Hn,ar;return ho(function(qn){return qn.g==1?(An=kr(pn),Hn="third_party/mediapipe/modules/pose_landmark/"+An,Cr(qn,Zn(Jt.g,An),2)):(ar=qn.h,Jt.g.overrideFile(Hn,ar),qn.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}xt=Jr.prototype,xt.reset=function(){this.g.reset()},xt.close=function(){return this.g.close(),nt.resolve()},xt.onResults=function(Ot){this.g.onResults(Ot)},xt.initialize=function(){var Ot=this;return ho(function(Jt){return Cr(Jt,Ot.g.initialize(),0)})},xt.send=function(Ot,Jt){var pn=this;return ho(function(An){return Cr(An,pn.g.send(Ot,Jt),0)})},xt.setOptions=function(Ot){this.g.setOptions(Ot)},Bo("Pose",Jr),Bo("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),Bo("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),Bo("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),Bo("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),Bo("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),Bo("VERSION","0.5.1635988162")}).call(Gl);const bo=class{constructor(){st(this,"mediapipeMap_",new Map)}getVersion(xt){switch(xt){case"face_detection":return Yu.VERSION;case"face_mesh":return Cu.VERSION;case"hands":return Bl.VERSION;case"holistic":return vu.VERSION;case"objectron":return Yo.VERSION;case"selfie_segmentation":return Ko.VERSION;case"pose":return Gl.VERSION;default:return""}}initialize(xt){return new nt(async(St,Tt)=>{if(xt.mediaPipeModelConfigArray.length==0){Tt("no model was selected");return}for(let Ut=0;Ut<xt.mediaPipeModelConfigArray.length;Ut++){const Qt=xt.mediaPipeModelConfigArray[Ut];if(this.mediapipeMap_.has(Qt.modelType)){Tt("setting same type is not supported");return}if(typeof Qt.listener!="function"){Tt(`[${Qt.modelType}] ResultsListener must be provided`);return}let In;switch(Qt.modelType){case"face_mesh":In=new Cu.FaceMesh({locateFile:(Xn,Nn)=>(Qt.assetsUri||bo.defaultAssetsBaseUrl+"face_mesh/"+this.getVersion("face_mesh"))+"/"+Xn});break;case"face_detection":In=new Yu.FaceDetection({locateFile:(Xn,Nn)=>(Qt.assetsUri||bo.defaultAssetsBaseUrl+"face_detection/"+this.getVersion("face_detection"))+"/"+Xn});break;case"hands":In=new Bl.Hands({locateFile:(Xn,Nn)=>(Qt.assetsUri||bo.defaultAssetsBaseUrl+"hands/"+this.getVersion("hands"))+"/"+Xn});break;case"holistic":In=new vu.Holistic({locateFile:(Xn,Nn)=>(Qt.assetsUri||bo.defaultAssetsBaseUrl+"holistic/"+this.getVersion("holistic"))+"/"+Xn});break;case"objectron":In=new Yo.Objectron({locateFile:(Xn,Nn)=>(Qt.assetsUri||bo.defaultAssetsBaseUrl+"objectron/"+this.getVersion("objectron"))+"/"+Xn});break;case"selfie_segmentation":In=new Ko.SelfieSegmentation({locateFile:(Xn,Nn)=>(Qt.assetsUri||bo.defaultAssetsBaseUrl+"selfie_segmentation/"+this.getVersion("selfie_segmentation"))+"/"+Xn});break;case"pose":In=new Gl.Pose({locateFile:(Xn,Nn)=>(Qt.assetsUri||bo.defaultAssetsBaseUrl+"pose/"+this.getVersion("pose"))+"/"+Xn});break;default:Tt("unknown model type");return}In.onResults(Qt.listener),Qt.options&&In.setOptions(Qt.options);try{await In.initialize(),this.mediapipeMap_.set(Qt.modelType,In)}catch(Xn){Tt(Xn);return}}St()})}close(xt){return new nt((St,Tt)=>{let Ut=[];if(xt){let Qt=this.mediapipeMap_.get(xt);if(Qt)this.mediapipeMap_.delete(xt),Ut.push(Qt.close());else{Tt("model not exit");return}}else{for(const[Qt,In]of this.mediapipeMap_.entries())Ut.push(In.close());this.mediapipeMap_.clear()}nt.all(Ut).then(()=>{St()}).catch(Qt=>{Tt(Qt)})})}send(xt,St){return new nt((Tt,Ut)=>{let Qt=[];if(St){let In=this.mediapipeMap_.get(St);if(In)Qt.push(In.send({image:xt}));else{Ut("model not exit");return}}else for(const[In,Xn]of this.mediapipeMap_.entries())Qt.push(Xn.send({image:xt}));nt.all(Qt).then(()=>{Tt()}).catch(In=>{Ut(In)})})}reset(xt){if(xt){let St=this.mediapipeMap_.get(xt);St&&typeof St.reset=="function"&&St.reset()}else for(const[St,Tt]of this.mediapipeMap_.entries())Tt&&typeof Tt.reset=="function"&&Tt.reset()}};let sp=bo;st(sp,"defaultAssetsBaseUrl","https://d3opqjmqzxf057.cloudfront.net/ml/mediapipe/");const Zu=new WeakMap,_f=new WeakMap,ys=new WeakMap,Bp=Symbol("anyProducer"),Hp=nt.resolve(),fp=Symbol("listenerAdded"),ep=Symbol("listenerRemoved");let Zp=!1;function pp(xt){if(typeof xt!="string"&&typeof xt!="symbol")throw new TypeError("eventName must be a string or a symbol")}function hp(xt){if(typeof xt!="function")throw new TypeError("listener must be a function")}function $u(xt,St){const Tt=_f.get(xt);return Tt.has(St)||Tt.set(St,new Set),Tt.get(St)}function _a(xt,St){const Tt=typeof St=="string"||typeof St=="symbol"?St:Bp,Ut=ys.get(xt);return Ut.has(Tt)||Ut.set(Tt,new Set),Ut.get(Tt)}function ap(xt,St,Tt){const Ut=ys.get(xt);if(Ut.has(St))for(const Qt of Ut.get(St))Qt.enqueue(Tt);if(Ut.has(Bp)){const Qt=nt.all([St,Tt]);for(const In of Ut.get(Bp))In.enqueue(Qt)}}function Op(xt,St){St=Array.isArray(St)?St:[St];let Tt=!1,Ut=()=>{},Qt=[];const In={enqueue(Xn){Qt.push(Xn),Ut()},finish(){Tt=!0,Ut()}};for(const Xn of St)_a(xt,Xn).add(In);return{async next(){return Qt?Qt.length===0?Tt?(Qt=void 0,this.next()):(await new nt(Xn=>{Ut=Xn}),this.next()):{done:!1,value:await Qt.shift()}:{done:!0}},async return(Xn){Qt=void 0;for(const Nn of St)_a(xt,Nn).delete(In);return Ut(),arguments.length>0?{done:!0,value:await Xn}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Ys(xt){if(xt===void 0)return tr;if(!Array.isArray(xt))throw new TypeError("`methodNames` must be an array of strings");for(const St of xt)if(!tr.includes(St))throw typeof St!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${St} is not Emittery method`);return xt}const Vn=xt=>xt===fp||xt===ep;class $n{static mixin(St,Tt){return Tt=Ys(Tt),Ut=>{if(typeof Ut!="function")throw new TypeError("`target` must be function");for(const Xn of Tt)if(Ut.prototype[Xn]!==void 0)throw new Error(`The property \`${Xn}\` already exists on \`target\``);function Qt(){return Object.defineProperty(this,St,{enumerable:!1,value:new $n}),this[St]}Object.defineProperty(Ut.prototype,St,{enumerable:!1,get:Qt});const In=Xn=>function(...Nn){return this[St][Xn](...Nn)};for(const Xn of Tt)Object.defineProperty(Ut.prototype,Xn,{enumerable:!1,value:In(Xn)});return Ut}}static get isDebugEnabled(){if(typeof rt!="object")return Zp;const{env:St}=rt||{env:{}};return St.DEBUG==="emittery"||St.DEBUG==="*"||Zp}static set isDebugEnabled(St){Zp=St}constructor(St={}){Zu.set(this,new Set),_f.set(this,new Map),ys.set(this,new Map),this.debug=St.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(Tt,Ut,Qt,In)=>{try{In=JSON.stringify(In)}catch{In=`Object with the following keys failed to stringify: ${Object.keys(In).join(",")}`}typeof Qt=="symbol"&&(Qt=Qt.toString());const Xn=new Date,Nn=`${Xn.getHours()}:${Xn.getMinutes()}:${Xn.getSeconds()}.${Xn.getMilliseconds()}`;console.log(`[${Nn}][emittery:${Tt}][${Ut}] Event Name: ${Qt}
	data: ${In}`)})}logIfDebugEnabled(St,Tt,Ut){($n.isDebugEnabled||this.debug.enabled)&&this.debug.logger(St,this.debug.name,Tt,Ut)}on(St,Tt){hp(Tt),St=Array.isArray(St)?St:[St];for(const Ut of St)pp(Ut),$u(this,Ut).add(Tt),this.logIfDebugEnabled("subscribe",Ut,void 0),Vn(Ut)||this.emit(fp,{eventName:Ut,listener:Tt});return this.off.bind(this,St,Tt)}off(St,Tt){hp(Tt),St=Array.isArray(St)?St:[St];for(const Ut of St)pp(Ut),$u(this,Ut).delete(Tt),this.logIfDebugEnabled("unsubscribe",Ut,void 0),Vn(Ut)||this.emit(ep,{eventName:Ut,listener:Tt})}once(St){return new nt(Tt=>{const Ut=this.on(St,Qt=>{Ut(),Tt(Qt)})})}events(St){St=Array.isArray(St)?St:[St];for(const Tt of St)pp(Tt);return Op(this,St)}async emit(St,Tt){pp(St),this.logIfDebugEnabled("emit",St,Tt),ap(this,St,Tt);const Ut=$u(this,St),Qt=Zu.get(this),In=[...Ut],Xn=Vn(St)?[]:[...Qt];await Hp,await nt.all([...In.map(async Nn=>{if(Ut.has(Nn))return Nn(Tt)}),...Xn.map(async Nn=>{if(Qt.has(Nn))return Nn(St,Tt)})])}async emitSerial(St,Tt){pp(St),this.logIfDebugEnabled("emitSerial",St,Tt);const Ut=$u(this,St),Qt=Zu.get(this),In=[...Ut],Xn=[...Qt];await Hp;for(const Nn of In)Ut.has(Nn)&&await Nn(Tt);for(const Nn of Xn)Qt.has(Nn)&&await Nn(St,Tt)}onAny(St){return hp(St),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Zu.get(this).add(St),this.emit(fp,{listener:St}),this.offAny.bind(this,St)}anyEvent(){return Op(this)}offAny(St){hp(St),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(ep,{listener:St}),Zu.get(this).delete(St)}clearListeners(St){St=Array.isArray(St)?St:[St];for(const Tt of St)if(this.logIfDebugEnabled("clear",Tt,void 0),typeof Tt=="string"||typeof Tt=="symbol"){$u(this,Tt).clear();const Ut=_a(this,Tt);for(const Qt of Ut)Qt.finish();Ut.clear()}else{Zu.get(this).clear();for(const Ut of _f.get(this).values())Ut.clear();for(const Ut of ys.get(this).values()){for(const Qt of Ut)Qt.finish();Ut.clear()}}}listenerCount(St){St=Array.isArray(St)?St:[St];let Tt=0;for(const Ut of St){if(typeof Ut=="string"){Tt+=Zu.get(this).size+$u(this,Ut).size+_a(this,Ut).size+_a(this).size;continue}typeof Ut<"u"&&pp(Ut),Tt+=Zu.get(this).size;for(const Qt of _f.get(this).values())Tt+=Qt.size;for(const Qt of ys.get(this).values())Tt+=Qt.size}return Tt}bindMethods(St,Tt){if(typeof St!="object"||St===null)throw new TypeError("`target` must be an object");Tt=Ys(Tt);for(const Ut of Tt){if(St[Ut]!==void 0)throw new Error(`The property \`${Ut}\` already exists on \`target\``);Object.defineProperty(St,Ut,{enumerable:!1,value:this[Ut].bind(this)})}}}const tr=Object.getOwnPropertyNames($n.prototype).filter(xt=>xt!=="constructor");Object.defineProperty($n,"listenerAdded",{value:fp,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty($n,"listenerRemoved",{value:ep,writable:!1,enumerable:!0,configurable:!1});var Pr=$n;function Qr(xt,St){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let Tt=globalThis.vonage.workerizer;return Tt[xt]||(Tt[xt]=St),Tt[xt]}const Xr=Qr("globals",{});var Uo=(xt=>(xt.INIT="INIT",xt.FORWARD="FORWARD",xt.TERMINATE="TERMINATE",xt.GLOBALS_SYNC="GLOBALS_SYNC",xt))(Uo||{});function Ws(xt){return[ImageBitmap,ReadableStream,WritableStream].some(St=>xt instanceof St)}let Ms=0;function na(xt,St,Tt,Ut,Qt){const In=Ms++;return xt.postMessage({id:In,type:St,functionName:Tt,args:Ut},Ut.filter(Xn=>Ws(Xn))),new nt(Xn=>{Qt==null||Qt.set(In,Xn)})}function Go(xt,St){const{id:Tt,type:Ut}=xt,Qt=Array.isArray(St)?St:[St];postMessage({id:Tt,type:Ut,result:St},Qt.filter(In=>Ws(In)))}const Ou=Qr("workerized",{});function cp(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}async function lm(){if(cp())Go({type:Uo.GLOBALS_SYNC},Xr);else{const xt=[];for(const St in Ou){const{worker:Tt,resolvers:Ut}=Ou[St].workerContext;Tt&&xt.push(na(Tt,Uo.GLOBALS_SYNC,"",[Xr],Ut))}await nt.all(xt)}}function Zs(xt,St){if(Array.isArray(St))St.splice(0,St.length);else if(typeof St=="object")for(const Tt in St)delete St[Tt];for(const Tt in xt)Array.isArray(xt[Tt])?(St[Tt]=[],Zs(xt[Tt],St[Tt])):typeof xt[Tt]=="object"?(St[Tt]={},Zs(xt[Tt],St[Tt])):St[Tt]=xt[Tt]}async function Ap(xt,St,Tt){const Ut=new St;if(Ut.addEventListener("message",async({data:Qt})=>{var In,Xn,Nn,or,Br,eo,ao;switch(Qt.type){case Uo.GLOBALS_SYNC:Qt.id?((Xn=Tt.get((In=Qt.id)!=null?In:-1))==null||Xn(Qt.result),Tt.delete((Nn=Qt.id)!=null?Nn:-1)):(Zs((or=Qt.result)!=null?or:{},Xr),await lm());break;default:(eo=Tt.get((Br=Qt.id)!=null?Br:-1))==null||eo(Qt.result),Tt.delete((ao=Qt.id)!=null?ao:-1)}}),!await na(Ut,Uo.INIT,"",[xt.workerId,Xr],Tt))throw"Failed to instantiate workerized class";return Ut}let _s=0;async function Qp(xt,St,Tt){const Ut={},Qt=_s++;return Object.getOwnPropertyNames(xt.prototype).forEach(In=>{Ut[In]=(...Xn)=>na(St,Uo.FORWARD,In,Xn,Tt)}),Ut.terminate=async(...In)=>{const Xn=await na(St,Uo.TERMINATE,"",In,Tt);return delete Ou[Qt],St.terminate(),Ut.workerContext.worker=void 0,Xn},Ut.workerContext={id:Qt,worker:St,resolvers:Tt},Ou[Qt]=Ut,Ut}async function Gp(xt,St){const Tt=new Map,Ut=await Ap(xt,St,Tt);return Qp(xt,Ut,Tt)}async function zu(xt,St){const{functionName:Tt,args:Ut}=xt;if(!St.instance)throw"instance not initialized";if(!Tt)throw"missing function name to call";if(!St.instance[Tt])throw`undefined function [${Tt}] in class ${St.instance.constructor.workerId}`;Go(xt,await St.instance[Tt](...Ut??[]))}const _p=Qr("registeredWorkers",{});function mp(xt,St){St.workerId=xt,cp()&&(_p[St.workerId]=St)}function Wp(xt,St){if(!xt.args)throw"Missing className while initializing worker";const[Tt,Ut]=xt.args,Qt=_p[Tt];if(Qt)St.instance=new Qt(xt.args.slice(1));else throw`unknown worker class ${Tt}`;Zs(Ut,Xr),Go(xt,typeof St.instance!==void 0)}async function lu(xt,St){const{args:Tt}=xt;if(!St.instance)throw"instance not initialized";let Ut;St.instance.terminate&&(Ut=await St.instance.terminate(...Tt??[])),Go(xt,Ut)}function Fp(xt){if(!xt.args)throw"Missing globals while syncing";Zs(xt.args[0],Xr),Go(xt,{})}function Ku(){const xt={};onmessage=async St=>{const Tt=St.data;switch(Tt.type){case Uo.INIT:Wp(Tt,xt);break;case Uo.FORWARD:zu(Tt,xt);break;case Uo.TERMINATE:lu(Tt,xt);break;case Uo.GLOBALS_SYNC:Fp(Tt);break}}}cp()&&Ku();class gm{static async createVideoReadable(St){return new nt((Tt,Ut)=>{const Qt=document.createElement("video");let In=new AbortController,Xn=new AbortController;Qt.addEventListener("canplay",()=>{In.abort(),Qt.muted=!0,Qt.loop=!0,Qt.play().then(()=>{try{const Nn=Qt.captureStream(),or=new MediaStreamTrackProcessor(Nn.getVideoTracks()[0]);Tt(or.readable)}catch(Nn){Ut(Nn)}})},{once:!0,signal:Xn.signal}),Qt.addEventListener("error",Nn=>{Xn.abort(),Ut("loading error:"+Nn)},{once:!0,signal:In.signal}),Qt.crossOrigin="anonymous",Qt.src=St})}static async createImageCanvas(St){const Tt=await(await fetch(St)).blob();return await createImageBitmap(Tt)}}var Ju=Object.defineProperty,Ro=(xt,St,Tt)=>St in xt?Ju(xt,St,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):xt[St]=Tt,_i=(xt,St,Tt)=>(Ro(xt,typeof St!="symbol"?St+"":St,Tt),Tt);const qp="hlg.tokbox.com/prod/logging/vcp_webrtc",gp="https://",Tm=1e4;let ba;const jo=new Uint8Array(16);function xm(){if(!ba&&(ba=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ba))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ba(jo)}const qs=[];for(let xt=0;xt<256;++xt)qs.push((xt+256).toString(16).slice(1));function vm(xt,St=0){return(qs[xt[St+0]]+qs[xt[St+1]]+qs[xt[St+2]]+qs[xt[St+3]]+"-"+qs[xt[St+4]]+qs[xt[St+5]]+"-"+qs[xt[St+6]]+qs[xt[St+7]]+"-"+qs[xt[St+8]]+qs[xt[St+9]]+"-"+qs[xt[St+10]]+qs[xt[St+11]]+qs[xt[St+12]]+qs[xt[St+13]]+qs[xt[St+14]]+qs[xt[St+15]]).toLowerCase()}const _h=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),em={randomUUID:_h};function um(xt,St,Tt){if(em.randomUUID&&!St&&!xt)return em.randomUUID();xt=xt||{};const Ut=xt.random||(xt.rng||xm)();if(Ut[6]=Ut[6]&15|64,Ut[8]=Ut[8]&63|128,St){Tt=Tt||0;for(let Qt=0;Qt<16;++Qt)St[Tt+Qt]=Ut[Qt];return St}return vm(Ut)}function Yp(xt,St){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let Tt=globalThis.vonage.workerizer;return Tt[xt]||(Tt[xt]=St),Tt[xt]}const Lp=Yp("globals",{});var Dp=(xt=>(xt.INIT="INIT",xt.FORWARD="FORWARD",xt.TERMINATE="TERMINATE",xt.GLOBALS_SYNC="GLOBALS_SYNC",xt))(Dp||{});function cs(xt){return[ImageBitmap,ReadableStream,WritableStream].some(St=>xt instanceof St)}let Mo=0;function v0(xt,St,Tt,Ut,Qt){const In=Mo++;return xt.postMessage({id:In,type:St,functionName:Tt,args:Ut},Ut.filter(Xn=>cs(Xn))),new nt(Xn=>{Qt==null||Qt.set(In,Xn)})}function $p(xt,St){const{id:Tt,type:Ut}=xt,Qt=Array.isArray(St)?St:[St];postMessage({id:Tt,type:Ut,result:St},Qt.filter(In=>cs(In)))}const zp=Yp("workerized",{});function vp(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}async function tp(){if(vp())$p({type:Dp.GLOBALS_SYNC},Lp);else{const xt=[];for(const St in zp){const{worker:Tt,resolvers:Ut}=zp[St].workerContext;Tt&&xt.push(v0(Tt,Dp.GLOBALS_SYNC,"",[Lp],Ut))}await nt.all(xt)}}function jp(xt,St){if(Array.isArray(St))St.splice(0,St.length);else if(typeof St=="object")for(const Tt in St)delete St[Tt];for(const Tt in xt)Array.isArray(xt[Tt])?(St[Tt]=[],jp(xt[Tt],St[Tt])):typeof xt[Tt]=="object"?(St[Tt]={},jp(xt[Tt],St[Tt])):St[Tt]=xt[Tt]}async function Gm(xt,St){const{functionName:Tt,args:Ut}=xt;if(!St.instance)throw"instance not initialized";if(!Tt)throw"missing function name to call";if(!St.instance[Tt])throw`undefined function [${Tt}] in class ${St.instance.constructor.workerId}`;$p(xt,await St.instance[Tt](...Ut??[]))}const Xp=Yp("registeredWorkers",{});function e0(xt,St){if(!xt.args)throw"Missing className while initializing worker";const[Tt,Ut]=xt.args,Qt=Xp[Tt];if(Qt)St.instance=new Qt(xt.args.slice(1));else throw`unknown worker class ${Tt}`;jp(Ut,Lp),$p(xt,typeof St.instance!==void 0)}async function Wm(xt,St){const{args:Tt}=xt;if(!St.instance)throw"instance not initialized";let Ut;St.instance.terminate&&(Ut=await St.instance.terminate(...Tt??[])),$p(xt,Ut)}function Fm(xt){if(!xt.args)throw"Missing globals while syncing";jp(xt.args[0],Lp),$p(xt,{})}function ym(){const xt={};onmessage=async St=>{const Tt=St.data;switch(Tt.type){case Dp.INIT:e0(Tt,xt);break;case Dp.FORWARD:Gm(Tt,xt);break;case Dp.TERMINATE:Wm(Tt,xt);break;case Dp.GLOBALS_SYNC:Fm(Tt);break}}}vp()&&ym();function t0(xt,St){return Lp[xt]||(Lp[xt]=St),[()=>Lp[xt],async Tt=>{Lp[xt]=Tt,await tp()}]}function ss(xt,St){return t0(xt,St)}const[Dm,tm]=ss("metadata");function Rm(){return Dm()}class jm{constructor(St){_i(this,"uuid",um()),this.config=St}async send(St){var Tt,Ut,Qt;const{appId:In,sourceType:Xn}=(Tt=Rm())!=null?Tt:{};if(!In||!Xn)return"metadata missing";const Nn=new AbortController,or=setTimeout(()=>Nn.abort(),Tm);return await((Qt=(Ut=this.config)==null?void 0:Ut.fetch)!=null?Qt:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(St)),signal:Nn.signal}),clearTimeout(or),"success"}getUrl(){var St;let Tt=(St=Rm().proxyUrl)!=null?St:gp;return Tt+=(Tt.at(-1)==="/"?"":"/")+qp,Tt}getHeaders(){return{"Content-Type":"application/json"}}buildReport(St){const Tt=Rm();return{guid:this.uuid,...St,applicationId:Tt.appId,timestamp:Date.now(),proxyUrl:Tt.proxyUrl,source:Tt.sourceType}}}const bp="5.0.1";class Kp{constructor(){st(this,"canvas"),st(this,"context");const St=new OffscreenCanvas(0,0),Tt=St.getContext("2d");if(!Tt)throw"Fail to retrieve webgl2 context";this.canvas=St,this.context=Tt}setFlickeringOptions(St){}enablePostProcessing(){}disablePostProcessing(){}async profileWebgl(St){return[]}async render(St,Tt){return this.canvas}resizeCanvas(St){const{width:Tt,height:Ut}=St;this.canvas.width=Tt,this.canvas.height=Ut}renderSilhouette(St,Tt,Ut="none"){const{width:Qt,height:In}=St;this.context.save(),this.context.drawImage(Tt,0,0,Tt.width,Tt.height,0,0,Qt,In),this.context.globalCompositeOperation="source-in",this.context.filter=Ut,this.context.drawImage(St,0,0,Qt,In,0,0,this.canvas.width,this.canvas.height),this.context.restore()}}class np extends Kp{constructor(St){super(),this.radius=St}async render(St,Tt){return super.resizeCanvas(St),this.renderSilhouette(St,Tt),this.context.save(),this.context.filter=`blur(${this.radius}px)`,this.context.globalCompositeOperation="destination-over",this.context.drawImage(St,0,0,St.width,St.height),this.context.restore(),super.render(St,Tt)}}class bm extends Kp{constructor(St){super(),this.radius=St}async render(St,Tt){return super.resizeCanvas(St),this.renderSilhouette(St,Tt,`blur(${this.radius}px)`),this.context.save(),this.context.filter="none",this.context.globalCompositeOperation="destination-over",this.context.drawImage(St,0,0,St.width,St.height),this.context.restore(),super.render(St,Tt)}}class Up extends Kp{constructor(){super(...arguments),st(this,"backgroundImage")}setBackgroundImage(St){this.backgroundImage=St}async render(St,Tt){return super.resizeCanvas(St),this.renderSilhouette(St,Tt),this.backgroundImage&&(this.context.save(),this.context.filter="none",this.context.globalCompositeOperation="destination-over",this.context.drawImage(this.backgroundImage,0,0,this.backgroundImage.width,this.backgroundImage.height,0,0,St.width,St.height),this.context.restore()),super.render(St,Tt)}}/* @license twgl.js 5.2.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const dm=5120,zl=5121,Im=5122,Tp=5123,Jp=5124,kp=5125,wm=5126,Xm=32819,_c=32820,Um=33635,Om=5131,n0=33640,ju=35899,y0=35902,Sm=36269,Bm=34042,r0={};{const xt=r0;xt[dm]=Int8Array,xt[zl]=Uint8Array,xt[Im]=Int16Array,xt[Tp]=Uint16Array,xt[Jp]=Int32Array,xt[kp]=Uint32Array,xt[wm]=Float32Array,xt[Xm]=Uint16Array,xt[_c]=Uint16Array,xt[Um]=Uint16Array,xt[Om]=Uint16Array,xt[n0]=Uint32Array,xt[ju]=Uint32Array,xt[y0]=Uint32Array,xt[Sm]=Uint32Array,xt[Bm]=Uint32Array}function Hm(xt){if(xt instanceof Int8Array)return dm;if(xt instanceof Uint8Array||xt instanceof Uint8ClampedArray)return zl;if(xt instanceof Int16Array)return Im;if(xt instanceof Uint16Array)return Tp;if(xt instanceof Int32Array)return Jp;if(xt instanceof Uint32Array)return kp;if(xt instanceof Float32Array)return wm;throw new Error("unsupported typed array type")}function i0(xt){if(xt===Int8Array)return dm;if(xt===Uint8Array||xt===Uint8ClampedArray)return zl;if(xt===Int16Array)return Im;if(xt===Uint16Array)return Tp;if(xt===Int32Array)return Jp;if(xt===Uint32Array)return kp;if(xt===Float32Array)return wm;throw new Error("unsupported typed array type")}function Ym(xt){const St=r0[xt];if(!St)throw new Error("unknown gl type");return St}const Em=typeof SharedArrayBuffer<"u"?function(xt){return xt&&xt.buffer&&(xt.buffer instanceof ArrayBuffer||xt.buffer instanceof SharedArrayBuffer)}:function(xt){return xt&&xt.buffer&&xt.buffer instanceof ArrayBuffer};function fm(...xt){console.error(...xt)}const pm=new Map;function hm(xt,St){if(!xt||typeof xt!="object")return!1;let Tt=pm.get(St);Tt||(Tt=new WeakMap,pm.set(St,Tt));let Ut=Tt.get(xt);if(Ut===void 0){const Qt=Object.prototype.toString.call(xt);Ut=Qt.substring(8,Qt.length-1)===St,Tt.set(xt,Ut)}return Ut}function Am(xt,St){return typeof WebGLBuffer<"u"&&hm(St,"WebGLBuffer")}function nm(xt,St){return typeof WebGLRenderbuffer<"u"&&hm(St,"WebGLRenderbuffer")}function Lm(xt,St){return typeof WebGLTexture<"u"&&hm(St,"WebGLTexture")}function b0(xt,St){return typeof WebGLSampler<"u"&&hm(St,"WebGLSampler")}const yu=35044,Hl=34962,o0=34963,S0=34660,E0=5120,s0=5121,rm=5122,C0=5123,T0=5124,x0=5125,im=5126,Cm={attribPrefix:""};function $m(xt,St,Tt,Ut,Qt){xt.bindBuffer(St,Tt),xt.bufferData(St,Ut,Qt||yu)}function zm(xt,St,Tt,Ut){if(Am(xt,St))return St;Tt=Tt||Hl;const Qt=xt.createBuffer();return $m(xt,Tt,Qt,St,Ut),Qt}function mm(xt){return xt==="indices"}function Km(xt){return xt===Int8Array||xt===Uint8Array}function km(xt){return xt.length?xt:xt.data}const a0=/coord|texture/i,Jm=/color|colour/i;function c0(xt,St){let Tt;if(a0.test(xt)?Tt=2:Jm.test(xt)?Tt=4:Tt=3,St%Tt>0)throw new Error(`Can not guess numComponents for attribute '${xt}'. Tried ${Tt} but ${St} values is not evenly divisible by ${Tt}. You should specify it.`);return Tt}function R0(xt,St,Tt){return xt.numComponents||xt.size||c0(St,Tt||km(xt).length)}function l0(xt,St){if(Em(xt))return xt;if(Em(xt.data))return xt.data;Array.isArray(xt)&&(xt={data:xt});let Tt=xt.type?om(xt.type):void 0;return Tt||(mm(St)?Tt=Uint16Array:Tt=Float32Array),new Tt(xt.data)}function Nm(xt){return typeof xt=="number"?xt:xt?i0(xt):im}function om(xt){return typeof xt=="number"?Ym(xt):xt||Float32Array}function I0(xt,St){return{buffer:St.buffer,numValues:2*3*4,type:Nm(St.type),arrayType:om(St.type)}}function u0(xt,St){const Tt=St.data||St,Ut=om(St.type),Qt=Tt*Ut.BYTES_PER_ELEMENT,In=xt.createBuffer();return xt.bindBuffer(Hl,In),xt.bufferData(Hl,Qt,St.drawType||yu),{buffer:In,numValues:Tt,type:i0(Ut),arrayType:Ut}}function w0(xt,St,Tt){const Ut=l0(St,Tt);return{arrayType:Ut.constructor,buffer:zm(xt,Ut,void 0,St.drawType),type:Hm(Ut),numValues:0}}function Qm(xt,St){const Tt={};return Object.keys(St).forEach(function(Ut){if(!mm(Ut)){const Qt=St[Ut],In=Qt.attrib||Qt.name||Qt.attribName||Cm.attribPrefix+Ut;if(Qt.value){if(!Array.isArray(Qt.value)&&!Em(Qt.value))throw new Error("array.value is not array or typedarray");Tt[In]={value:Qt.value}}else{let Xn;Qt.buffer&&Qt.buffer instanceof WebGLBuffer?Xn=I0:typeof Qt=="number"||typeof Qt.data=="number"?Xn=u0:Xn=w0;const{buffer:Nn,type:or,numValues:Br,arrayType:eo}=Xn(xt,Qt,Ut),ao=Qt.normalize!==void 0?Qt.normalize:Km(eo),Zo=R0(Qt,Ut,Br);Tt[In]={buffer:Nn,numComponents:Zo,type:or,normalize:ao,stride:Qt.stride||0,offset:Qt.offset||0,divisor:Qt.divisor===void 0?void 0:Qt.divisor,drawType:Qt.drawType}}}}),xt.bindBuffer(Hl,null),Tt}function Pn(xt,St){return St===E0||St===s0?1:St===rm||St===C0?2:St===T0||St===x0||St===im?4:0}const wn=["position","positions","a_position"];function Gn(xt,St){let Tt,Ut;for(Ut=0;Ut<wn.length&&(Tt=wn[Ut],!(Tt in St||(Tt=Cm.attribPrefix+Tt,Tt in St)));++Ut);Ut===wn.length&&(Tt=Object.keys(St)[0]);const Qt=St[Tt];if(!Qt.buffer)return 1;xt.bindBuffer(Hl,Qt.buffer);const In=xt.getBufferParameter(Hl,S0);xt.bindBuffer(Hl,null);const Xn=Pn(xt,Qt.type),Nn=In/Xn,or=Qt.numComponents||Qt.size,Br=Nn/or;if(Br%1!==0)throw new Error(`numComponents ${or} not correct for length ${length}`);return Br}function Bn(xt,St,Tt){const Ut=Qm(xt,St),Qt=Object.assign({},Tt||{});Qt.attribs=Object.assign({},Tt?Tt.attribs:{},Ut);const In=St.indices;if(In){const Xn=l0(In,"indices");Qt.indices=zm(xt,Xn,o0),Qt.numElements=Xn.length,Qt.elementType=Hm(Xn)}else Qt.numElements||(Qt.numElements=Gn(xt,Qt.attribs));return Qt}function vr(xt){return!!xt.texStorage2D}const ir=function(){const xt={},St={};function Tt(Ut){const Qt=Ut.constructor.name;if(!xt[Qt]){for(const In in Ut)if(typeof Ut[In]=="number"){const Xn=St[Ut[In]];St[Ut[In]]=Xn?`${Xn} | ${In}`:In}xt[Qt]=!0}}return function(Ut,Qt){return Tt(Ut),St[Qt]||(typeof Qt=="number"?`0x${Qt.toString(16)}`:Qt)}}(),Cn={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Tn=Em,Fn=function(){let xt;return function(){return xt=xt||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),xt}}(),er=6406,Dn=6407,Sr=6408,Or=6409,Ur=6410,Ns=6402,us=34041,Eo=33071,xa=9728,Np=9729,uu=3553,Xu=34067,sm=32879,Pp=35866,O0=34069,q0=34070,Fv=34071,Dv=34072,jv=34073,Xv=34074,e1=10241,t1=10240,P0=10242,V0=10243,w1=32882,Uv=33082,Bv=33083,Hv=33084,Yv=33085,n1=3317,O1=3314,A1=32878,L1=3316,k1=3315,N1=32877,$v=37443,zv=37441,Kv=37440,Jv=33321,Qv=36756,_v=33325,qv=33326,ey=33330,ty=33329,ny=33338,ry=33337,iy=33340,oy=33339,sy=33323,ay=36757,cy=33327,ly=33328,uy=33336,dy=33335,fy=33332,py=33331,hy=33334,my=33333,gy=32849,vy=35905,yy=36194,by=36758,Sy=35898,Ey=35901,Cy=34843,Ty=34837,xy=36221,Ry=36239,Iy=36215,wy=36233,Oy=36209,Ay=36227,Ly=32856,ky=35907,Ny=36759,Py=32855,Vy=32854,My=32857,Zy=34842,Gy=34836,Wy=36220,Fy=36238,Dy=36975,jy=36214,Xy=36232,Uy=36226,By=36208,Hy=33189,Yy=33190,$y=36012,zy=36013,Ky=35056,Pm=5120,Au=5121,M0=5122,d0=5123,Z0=5124,_m=5125,Sp=5126,P1=32819,V1=32820,M1=33635,am=5131,A0=36193,r1=33640,Jy=35899,Qy=35902,_y=36269,qy=34042,G0=33319,f0=33320,W0=6403,p0=36244,h0=36248,qm=36249;let i1;function F0(xt){if(!i1){const St={};St[er]={textureFormat:er,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Au,am,A0,Sp]},St[Or]={textureFormat:Or,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Au,am,A0,Sp]},St[Ur]={textureFormat:Ur,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Au,am,A0,Sp]},St[Dn]={textureFormat:Dn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Au,am,A0,Sp,M1]},St[Sr]={textureFormat:Sr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Au,am,A0,Sp,P1,V1]},St[Ns]={textureFormat:Ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[_m,d0]},St[Jv]={textureFormat:W0,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Au]},St[Qv]={textureFormat:W0,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Pm]},St[_v]={textureFormat:W0,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Sp,am]},St[qv]={textureFormat:W0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Sp]},St[ey]={textureFormat:p0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Au]},St[ty]={textureFormat:p0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Pm]},St[fy]={textureFormat:p0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[d0]},St[py]={textureFormat:p0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[M0]},St[hy]={textureFormat:p0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_m]},St[my]={textureFormat:p0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Z0]},St[sy]={textureFormat:G0,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Au]},St[ay]={textureFormat:G0,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Pm]},St[cy]={textureFormat:G0,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Sp,am]},St[ly]={textureFormat:G0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Sp]},St[uy]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Au]},St[dy]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Pm]},St[ny]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[d0]},St[ry]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[M0]},St[iy]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[_m]},St[oy]={textureFormat:f0,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Z0]},St[gy]={textureFormat:Dn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Au]},St[vy]={textureFormat:Dn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Au]},St[yy]={textureFormat:Dn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Au,M1]},St[by]={textureFormat:Dn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Pm]},St[Sy]={textureFormat:Dn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Sp,am,Jy]},St[Ey]={textureFormat:Dn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Sp,am,Qy]},St[Cy]={textureFormat:Dn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Sp,am]},St[Ty]={textureFormat:Dn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Sp]},St[xy]={textureFormat:h0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Au]},St[Ry]={textureFormat:h0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Pm]},St[Iy]={textureFormat:h0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[d0]},St[wy]={textureFormat:h0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[M0]},St[Oy]={textureFormat:h0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[_m]},St[Ay]={textureFormat:h0,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Z0]},St[Ly]={textureFormat:Sr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Au]},St[ky]={textureFormat:Sr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Au]},St[Ny]={textureFormat:Sr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Pm]},St[Py]={textureFormat:Sr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Au,V1,r1]},St[Vy]={textureFormat:Sr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Au,P1]},St[My]={textureFormat:Sr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[r1]},St[Zy]={textureFormat:Sr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Sp,am]},St[Gy]={textureFormat:Sr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Sp]},St[Wy]={textureFormat:qm,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Au]},St[Fy]={textureFormat:qm,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Pm]},St[Dy]={textureFormat:qm,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[r1]},St[jy]={textureFormat:qm,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[d0]},St[Xy]={textureFormat:qm,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[M0]},St[Uy]={textureFormat:qm,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Z0]},St[By]={textureFormat:qm,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[_m]},St[Hy]={textureFormat:Ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[d0,_m]},St[Yy]={textureFormat:Ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_m]},St[$y]={textureFormat:Ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Sp]},St[Ky]={textureFormat:us,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[qy]},St[zy]={textureFormat:us,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_y]},Object.keys(St).forEach(function(Tt){const Ut=St[Tt];Ut.bytesPerElementMap={},Ut.bytesPerElement.forEach(function(Qt,In){const Xn=Ut.type[In];Ut.bytesPerElementMap[Xn]=Qt})}),i1=St}return i1[xt]}function e2(xt,St){const Tt=F0(xt);if(!Tt)throw"unknown internal format";const Ut=Tt.bytesPerElementMap[St];if(Ut===void 0)throw"unknown internal format";return Ut}function L0(xt){const St=F0(xt);if(!St)throw"unknown internal format";return{format:St.textureFormat,type:St.type[0]}}function Z1(xt){return(xt&xt-1)===0}function t2(xt,St,Tt,Ut){if(!vr(xt))return Z1(St)&&Z1(Tt);const Qt=F0(Ut);if(!Qt)throw"unknown internal format";return Qt.colorRenderable&&Qt.textureFilterable}function n2(xt){const St=F0(xt);if(!St)throw"unknown internal format";return St.textureFilterable}function r2(xt,St,Tt){return Tn(St)?Hm(St):Tt||Au}function D0(xt,St,Tt,Ut,Qt){if(Qt%1!==0)throw"can't guess dimensions";if(!Tt&&!Ut){const In=Math.sqrt(Qt/(St===Xu?6:1));In%1===0?(Tt=In,Ut=In):(Tt=Qt,Ut=1)}else if(Ut){if(!Tt&&(Tt=Qt/Ut,Tt%1))throw"can't guess dimensions"}else if(Ut=Qt/Tt,Ut%1)throw"can't guess dimensions";return{width:Tt,height:Ut}}function m0(xt,St){St.colorspaceConversion!==void 0&&xt.pixelStorei($v,St.colorspaceConversion),St.premultiplyAlpha!==void 0&&xt.pixelStorei(zv,St.premultiplyAlpha),St.flipY!==void 0&&xt.pixelStorei(Kv,St.flipY)}function G1(xt){xt.pixelStorei(n1,4),vr(xt)&&(xt.pixelStorei(O1,0),xt.pixelStorei(A1,0),xt.pixelStorei(L1,0),xt.pixelStorei(k1,0),xt.pixelStorei(N1,0))}function i2(xt,St,Tt,Ut){Ut.minMag&&(Tt.call(xt,St,e1,Ut.minMag),Tt.call(xt,St,t1,Ut.minMag)),Ut.min&&Tt.call(xt,St,e1,Ut.min),Ut.mag&&Tt.call(xt,St,t1,Ut.mag),Ut.wrap&&(Tt.call(xt,St,P0,Ut.wrap),Tt.call(xt,St,V0,Ut.wrap),(St===sm||b0(xt,St))&&Tt.call(xt,St,w1,Ut.wrap)),Ut.wrapR&&Tt.call(xt,St,w1,Ut.wrapR),Ut.wrapS&&Tt.call(xt,St,P0,Ut.wrapS),Ut.wrapT&&Tt.call(xt,St,V0,Ut.wrapT),Ut.minLod&&Tt.call(xt,St,Uv,Ut.minLod),Ut.maxLod&&Tt.call(xt,St,Bv,Ut.maxLod),Ut.baseLevel&&Tt.call(xt,St,Hv,Ut.baseLevel),Ut.maxLevel&&Tt.call(xt,St,Yv,Ut.maxLevel)}function W1(xt,St,Tt){const Ut=Tt.target||uu;xt.bindTexture(Ut,St),i2(xt,Ut,xt.texParameteri,Tt)}function o2(xt){return xt=xt||Cn.textureColor,Tn(xt)?xt:new Uint8Array([xt[0]*255,xt[1]*255,xt[2]*255,xt[3]*255])}function o1(xt,St,Tt,Ut,Qt,In){Tt=Tt||Cn.textureOptions,In=In||Sr;const Xn=Tt.target||uu;if(Ut=Ut||Tt.width,Qt=Qt||Tt.height,xt.bindTexture(Xn,St),t2(xt,Ut,Qt,In))xt.generateMipmap(Xn);else{const Nn=n2(In)?Np:xa;xt.texParameteri(Xn,e1,Nn),xt.texParameteri(Xn,t1,Nn),xt.texParameteri(Xn,P0,Eo),xt.texParameteri(Xn,V0,Eo)}}function k0(xt){return xt.auto===!0||xt.auto===void 0&&xt.level===void 0}function s1(xt,St){return St=St||{},St.cubeFaceOrder||[O0,q0,Fv,Dv,jv,Xv]}function a1(xt,St){const Tt=s1(xt,St).map(function(Ut,Qt){return{face:Ut,ndx:Qt}});return Tt.sort(function(Ut,Qt){return Ut.face-Qt.face}),Tt}function F1(xt,St,Tt,Ut){Ut=Ut||Cn.textureOptions;const Qt=Ut.target||uu,In=Ut.level||0;let Xn=Tt.width,Nn=Tt.height;const or=Ut.internalFormat||Ut.format||Sr,Br=L0(or),eo=Ut.format||Br.format,ao=Ut.type||Br.type;if(m0(xt,Ut),xt.bindTexture(Qt,St),Qt===Xu){const Zo=Tt.width,Fo=Tt.height;let no,uo;if(Zo/6===Fo)no=Fo,uo=[0,0,1,0,2,0,3,0,4,0,5,0];else if(Fo/6===Zo)no=Zo,uo=[0,0,0,1,0,2,0,3,0,4,0,5];else if(Zo/3===Fo/2)no=Zo/3,uo=[0,0,1,0,2,0,0,1,1,1,2,1];else if(Zo/2===Fo/3)no=Zo/2,uo=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(Tt.src?Tt.src:Tt.nodeName);const es=Fn();es?(es.canvas.width=no,es.canvas.height=no,Xn=no,Nn=no,a1(xt,Ut).forEach(function(ts){const Cs=uo[ts.ndx*2+0]*no,Cr=uo[ts.ndx*2+1]*no;es.drawImage(Tt,Cs,Cr,no,no,0,0,no,no),xt.texImage2D(ts.face,In,or,eo,ao,es.canvas)}),es.canvas.width=1,es.canvas.height=1):typeof createImageBitmap<"u"&&(Xn=no,Nn=no,a1(xt,Ut).forEach(function(ts){const Cs=uo[ts.ndx*2+0]*no,Cr=uo[ts.ndx*2+1]*no;xt.texImage2D(ts.face,In,or,no,no,0,eo,ao,null),createImageBitmap(Tt,Cs,Cr,no,no,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(du){m0(xt,Ut),xt.bindTexture(Qt,St),xt.texImage2D(ts.face,In,or,eo,ao,du),k0(Ut)&&o1(xt,St,Ut,Xn,Nn,or)})}))}else if(Qt===sm||Qt===Pp){const Zo=Math.min(Tt.width,Tt.height),Fo=Math.max(Tt.width,Tt.height),no=Fo/Zo;if(no%1!==0)throw"can not compute 3D dimensions of element";const uo=Tt.width===Fo?1:0,es=Tt.height===Fo?1:0;xt.pixelStorei(n1,1),xt.pixelStorei(O1,Tt.width),xt.pixelStorei(A1,0),xt.pixelStorei(N1,0),xt.texImage3D(Qt,In,or,Zo,Zo,Zo,0,eo,ao,null);for(let ts=0;ts<no;++ts){const Cs=ts*Zo*uo,Cr=ts*Zo*es;xt.pixelStorei(L1,Cs),xt.pixelStorei(k1,Cr),xt.texSubImage3D(Qt,In,0,0,ts,Zo,Zo,1,eo,ao,Tt)}G1(xt)}else xt.texImage2D(Qt,In,or,eo,ao,Tt);k0(Ut)&&o1(xt,St,Ut,Xn,Nn,or),W1(xt,St,Ut)}function N0(){}function s2(xt){if(typeof document<"u"){const St=document.createElement("a");return St.href=xt,St.hostname===location.hostname&&St.port===location.port&&St.protocol===location.protocol}else{const St=new URL(location.href).origin;return new URL(xt,location.href).origin===St}}function a2(xt,St){return St===void 0&&!s2(xt)?"anonymous":St}function c2(xt,St,Tt){Tt=Tt||N0;let Ut;if(St=St!==void 0?St:Cn.crossOrigin,St=a2(xt,St),typeof Image<"u"){Ut=new Image,St!==void 0&&(Ut.crossOrigin=St);const Qt=function(){Ut.removeEventListener("error",In),Ut.removeEventListener("load",Xn),Ut=null},In=function(){const Nn="couldn't load image: "+xt;fm(Nn),Tt(Nn,Ut),Qt()},Xn=function(){Tt(null,Ut),Qt()};return Ut.addEventListener("error",In),Ut.addEventListener("load",Xn),Ut.src=xt,Ut}else if(typeof ImageBitmap<"u"){let Qt,In;const Xn=function(){Tt(Qt,In)},Nn={};St&&(Nn.mode="cors"),fetch(xt,Nn).then(function(or){if(!or.ok)throw or;return or.blob()}).then(function(or){return createImageBitmap(or,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(or){In=or,setTimeout(Xn)}).catch(function(or){Qt=or,setTimeout(Xn)}),Ut=null}return Ut}function D1(xt){return typeof ImageBitmap<"u"&&xt instanceof ImageBitmap||typeof ImageData<"u"&&xt instanceof ImageData||typeof HTMLElement<"u"&&xt instanceof HTMLElement}function c1(xt,St,Tt){return D1(xt)?(setTimeout(function(){Tt(null,xt)}),xt):c2(xt,St,Tt)}function l1(xt,St,Tt){Tt=Tt||Cn.textureOptions;const Ut=Tt.target||uu;if(xt.bindTexture(Ut,St),Tt.color===!1)return;const Qt=o2(Tt.color);if(Ut===Xu)for(let In=0;In<6;++In)xt.texImage2D(O0+In,0,Sr,1,1,0,Sr,Au,Qt);else Ut===sm||Ut===Pp?xt.texImage3D(Ut,0,Sr,1,1,1,0,Sr,Au,Qt):xt.texImage2D(Ut,0,Sr,1,1,0,Sr,Au,Qt)}function l2(xt,St,Tt,Ut){return Ut=Ut||N0,Tt=Tt||Cn.textureOptions,l1(xt,St,Tt),Tt=Object.assign({},Tt),c1(Tt.src,Tt.crossOrigin,function(Qt,In){Qt?Ut(Qt,St,In):(F1(xt,St,In,Tt),Ut(null,St,In))})}function u2(xt,St,Tt,Ut){Ut=Ut||N0;const Qt=Tt.src;if(Qt.length!==6)throw"there must be 6 urls for a cubemap";const In=Tt.level||0,Xn=Tt.internalFormat||Tt.format||Sr,Nn=L0(Xn),or=Tt.format||Nn.format,Br=Tt.type||Au,eo=Tt.target||uu;if(eo!==Xu)throw"target must be TEXTURE_CUBE_MAP";l1(xt,St,Tt),Tt=Object.assign({},Tt);let ao=6;const Zo=[],Fo=s1(xt,Tt);let no;function uo(es){return function(ts,Cs){--ao,ts?Zo.push(ts):Cs.width!==Cs.height?Zo.push("cubemap face img is not a square: "+Cs.src):(m0(xt,Tt),xt.bindTexture(eo,St),ao===5?s1().forEach(function(Cr){xt.texImage2D(Cr,In,Xn,or,Br,Cs)}):xt.texImage2D(es,In,Xn,or,Br,Cs),k0(Tt)&&xt.generateMipmap(eo)),ao===0&&Ut(Zo.length?Zo:void 0,St,no)}}no=Qt.map(function(es,ts){return c1(es,Tt.crossOrigin,uo(Fo[ts]))})}function d2(xt,St,Tt,Ut){Ut=Ut||N0;const Qt=Tt.src,In=Tt.internalFormat||Tt.format||Sr,Xn=L0(In),Nn=Tt.format||Xn.format,or=Tt.type||Au,Br=Tt.target||Pp;if(Br!==sm&&Br!==Pp)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";l1(xt,St,Tt),Tt=Object.assign({},Tt);let eo=Qt.length;const ao=[];let Zo;const Fo=Tt.level||0;let no=Tt.width,uo=Tt.height;const es=Qt.length;let ts=!0;function Cs(Cr){return function(du,tu){if(--eo,du)ao.push(du);else{if(m0(xt,Tt),xt.bindTexture(Br,St),ts){ts=!1,no=Tt.width||tu.width,uo=Tt.height||tu.height,xt.texImage3D(Br,Fo,In,no,uo,es,0,Nn,or,null);for(let Js=0;Js<es;++Js)xt.texSubImage3D(Br,Fo,0,0,Js,no,uo,1,Nn,or,tu)}else{let Js=tu,ls;(tu.width!==no||tu.height!==uo)&&(ls=Fn(),Js=ls.canvas,ls.canvas.width=no,ls.canvas.height=uo,ls.drawImage(tu,0,0,no,uo)),xt.texSubImage3D(Br,Fo,0,0,Cr,no,uo,1,Nn,or,Js),ls&&Js===ls.canvas&&(ls.canvas.width=0,ls.canvas.height=0)}k0(Tt)&&xt.generateMipmap(Br)}eo===0&&Ut(ao.length?ao:void 0,St,Zo)}}Zo=Qt.map(function(Cr,du){return c1(Cr,Tt.crossOrigin,Cs(du))})}function f2(xt,St,Tt,Ut){Ut=Ut||Cn.textureOptions;const Qt=Ut.target||uu;xt.bindTexture(Qt,St);let In=Ut.width,Xn=Ut.height,Nn=Ut.depth;const or=Ut.level||0,Br=Ut.internalFormat||Ut.format||Sr,eo=L0(Br),ao=Ut.format||eo.format,Zo=Ut.type||r2(xt,Tt,eo.type);if(Tn(Tt))Tt instanceof Uint8ClampedArray&&(Tt=new Uint8Array(Tt.buffer));else{const es=Ym(Zo);Tt=new es(Tt)}const Fo=e2(Br,Zo),no=Tt.byteLength/Fo;if(no%1)throw"length wrong size for format: "+ir(xt,ao);let uo;if(Qt===sm||Qt===Pp)if(!In&&!Xn&&!Nn){const es=Math.cbrt(no);if(es%1!==0)throw"can't guess cube size of array of numElements: "+no;In=es,Xn=es,Nn=es}else In&&(!Xn||!Nn)?(uo=D0(xt,Qt,Xn,Nn,no/In),Xn=uo.width,Nn=uo.height):Xn&&(!In||!Nn)?(uo=D0(xt,Qt,In,Nn,no/Xn),In=uo.width,Nn=uo.height):(uo=D0(xt,Qt,In,Xn,no/Nn),In=uo.width,Xn=uo.height);else uo=D0(xt,Qt,In,Xn,no),In=uo.width,Xn=uo.height;if(G1(xt),xt.pixelStorei(n1,Ut.unpackAlignment||1),m0(xt,Ut),Qt===Xu){const es=Fo/Tt.BYTES_PER_ELEMENT,ts=no/6*es;a1(xt,Ut).forEach(Cs=>{const Cr=ts*Cs.ndx,du=Tt.subarray(Cr,Cr+ts);xt.texImage2D(Cs.face,or,Br,In,Xn,0,ao,Zo,du)})}else Qt===sm||Qt===Pp?xt.texImage3D(Qt,or,Br,In,Xn,Nn,0,ao,Zo,Tt):xt.texImage2D(Qt,or,Br,In,Xn,0,ao,Zo,Tt);return{width:In,height:Xn,depth:Nn,type:Zo}}function p2(xt,St,Tt){const Ut=Tt.target||uu;xt.bindTexture(Ut,St);const Qt=Tt.level||0,In=Tt.internalFormat||Tt.format||Sr,Xn=L0(In),Nn=Tt.format||Xn.format,or=Tt.type||Xn.type;if(m0(xt,Tt),Ut===Xu)for(let Br=0;Br<6;++Br)xt.texImage2D(O0+Br,Qt,In,Tt.width,Tt.height,0,Nn,or,null);else Ut===sm||Ut===Pp?xt.texImage3D(Ut,Qt,In,Tt.width,Tt.height,Tt.depth,0,Nn,or,null):xt.texImage2D(Ut,Qt,In,Tt.width,Tt.height,0,Nn,or,null)}function j1(xt,St,Tt){Tt=Tt||N0,St=St||Cn.textureOptions;const Ut=xt.createTexture(),Qt=St.target||uu;let In=St.width||1,Xn=St.height||1;const Nn=St.internalFormat||Sr;xt.bindTexture(Qt,Ut),Qt===Xu&&(xt.texParameteri(Qt,P0,Eo),xt.texParameteri(Qt,V0,Eo));let or=St.src;if(or)if(typeof or=="function"&&(or=or(xt,St)),typeof or=="string")l2(xt,Ut,St,Tt);else if(Tn(or)||Array.isArray(or)&&(typeof or[0]=="number"||Array.isArray(or[0])||Tn(or[0]))){const Br=f2(xt,Ut,or,St);In=Br.width,Xn=Br.height}else Array.isArray(or)&&(typeof or[0]=="string"||D1(or[0]))?Qt===Xu?u2(xt,Ut,St,Tt):d2(xt,Ut,St,Tt):(F1(xt,Ut,or,St),In=or.width,Xn=or.height);else p2(xt,Ut,St);return k0(St)&&o1(xt,Ut,St,In,Xn,Nn),W1(xt,Ut,St),Ut}const u1=fm;function X1(xt){return typeof document<"u"&&document.getElementById?document.getElementById(xt):null}const j0=33984,X0=34962,h2=34963,m2=35713,g2=35714,v2=35632,y2=35633,b2=35981,U1=35718,S2=35721,E2=35971,C2=35382,T2=35396,x2=35398,R2=35392,I2=35395,U0=5126,B1=35664,H1=35665,Y1=35666,d1=5124,$1=35667,z1=35668,K1=35669,J1=35670,Q1=35671,_1=35672,q1=35673,ev=35674,tv=35675,nv=35676,w2=35678,O2=35680,A2=35679,L2=35682,k2=35685,N2=35686,P2=35687,V2=35688,M2=35689,Z2=35690,G2=36289,W2=36292,F2=36293,f1=5125,rv=36294,iv=36295,ov=36296,D2=36298,j2=36299,X2=36300,U2=36303,B2=36306,H2=36307,Y2=36308,$2=36311,B0=3553,H0=34067,p1=32879,Y0=35866,Us={};function sv(xt,St){return Us[St].bindPoint}function z2(xt,St){return function(Tt){xt.uniform1f(St,Tt)}}function K2(xt,St){return function(Tt){xt.uniform1fv(St,Tt)}}function J2(xt,St){return function(Tt){xt.uniform2fv(St,Tt)}}function Q2(xt,St){return function(Tt){xt.uniform3fv(St,Tt)}}function _2(xt,St){return function(Tt){xt.uniform4fv(St,Tt)}}function av(xt,St){return function(Tt){xt.uniform1i(St,Tt)}}function cv(xt,St){return function(Tt){xt.uniform1iv(St,Tt)}}function lv(xt,St){return function(Tt){xt.uniform2iv(St,Tt)}}function uv(xt,St){return function(Tt){xt.uniform3iv(St,Tt)}}function dv(xt,St){return function(Tt){xt.uniform4iv(St,Tt)}}function q2(xt,St){return function(Tt){xt.uniform1ui(St,Tt)}}function _b(xt,St){return function(Tt){xt.uniform1uiv(St,Tt)}}function e3(xt,St){return function(Tt){xt.uniform2uiv(St,Tt)}}function t3(xt,St){return function(Tt){xt.uniform3uiv(St,Tt)}}function n3(xt,St){return function(Tt){xt.uniform4uiv(St,Tt)}}function r3(xt,St){return function(Tt){xt.uniformMatrix2fv(St,!1,Tt)}}function i3(xt,St){return function(Tt){xt.uniformMatrix3fv(St,!1,Tt)}}function o3(xt,St){return function(Tt){xt.uniformMatrix4fv(St,!1,Tt)}}function s3(xt,St){return function(Tt){xt.uniformMatrix2x3fv(St,!1,Tt)}}function a3(xt,St){return function(Tt){xt.uniformMatrix3x2fv(St,!1,Tt)}}function c3(xt,St){return function(Tt){xt.uniformMatrix2x4fv(St,!1,Tt)}}function l3(xt,St){return function(Tt){xt.uniformMatrix4x2fv(St,!1,Tt)}}function u3(xt,St){return function(Tt){xt.uniformMatrix3x4fv(St,!1,Tt)}}function d3(xt,St){return function(Tt){xt.uniformMatrix4x3fv(St,!1,Tt)}}function xp(xt,St,Tt,Ut){const Qt=sv(xt,St);return vr(xt)?function(In){let Xn,Nn;Lm(xt,In)?(Xn=In,Nn=null):(Xn=In.texture,Nn=In.sampler),xt.uniform1i(Ut,Tt),xt.activeTexture(j0+Tt),xt.bindTexture(Qt,Xn),xt.bindSampler(Tt,Nn)}:function(In){xt.uniform1i(Ut,Tt),xt.activeTexture(j0+Tt),xt.bindTexture(Qt,In)}}function Rp(xt,St,Tt,Ut,Qt){const In=sv(xt,St),Xn=new Int32Array(Qt);for(let Nn=0;Nn<Qt;++Nn)Xn[Nn]=Tt+Nn;return vr(xt)?function(Nn){xt.uniform1iv(Ut,Xn),Nn.forEach(function(or,Br){xt.activeTexture(j0+Xn[Br]);let eo,ao;Lm(xt,or)?(eo=or,ao=null):(eo=or.texture,ao=or.sampler),xt.bindSampler(Tt,ao),xt.bindTexture(In,eo)})}:function(Nn){xt.uniform1iv(Ut,Xn),Nn.forEach(function(or,Br){xt.activeTexture(j0+Xn[Br]),xt.bindTexture(In,or)})}}Us[U0]={Type:Float32Array,size:4,setter:z2,arraySetter:K2},Us[B1]={Type:Float32Array,size:8,setter:J2,cols:2},Us[H1]={Type:Float32Array,size:12,setter:Q2,cols:3},Us[Y1]={Type:Float32Array,size:16,setter:_2,cols:4},Us[d1]={Type:Int32Array,size:4,setter:av,arraySetter:cv},Us[$1]={Type:Int32Array,size:8,setter:lv,cols:2},Us[z1]={Type:Int32Array,size:12,setter:uv,cols:3},Us[K1]={Type:Int32Array,size:16,setter:dv,cols:4},Us[f1]={Type:Uint32Array,size:4,setter:q2,arraySetter:_b},Us[rv]={Type:Uint32Array,size:8,setter:e3,cols:2},Us[iv]={Type:Uint32Array,size:12,setter:t3,cols:3},Us[ov]={Type:Uint32Array,size:16,setter:n3,cols:4},Us[J1]={Type:Uint32Array,size:4,setter:av,arraySetter:cv},Us[Q1]={Type:Uint32Array,size:8,setter:lv,cols:2},Us[_1]={Type:Uint32Array,size:12,setter:uv,cols:3},Us[q1]={Type:Uint32Array,size:16,setter:dv,cols:4},Us[ev]={Type:Float32Array,size:32,setter:r3,rows:2,cols:2},Us[tv]={Type:Float32Array,size:48,setter:i3,rows:3,cols:3},Us[nv]={Type:Float32Array,size:64,setter:o3,rows:4,cols:4},Us[k2]={Type:Float32Array,size:32,setter:s3,rows:2,cols:3},Us[N2]={Type:Float32Array,size:32,setter:c3,rows:2,cols:4},Us[P2]={Type:Float32Array,size:48,setter:a3,rows:3,cols:2},Us[V2]={Type:Float32Array,size:48,setter:u3,rows:3,cols:4},Us[M2]={Type:Float32Array,size:64,setter:l3,rows:4,cols:2},Us[Z2]={Type:Float32Array,size:64,setter:d3,rows:4,cols:3},Us[w2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:B0},Us[O2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:H0},Us[A2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:p1},Us[L2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:B0},Us[G2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:Y0},Us[W2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:Y0},Us[F2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:H0},Us[D2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:B0},Us[j2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:p1},Us[X2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:H0},Us[U2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:Y0},Us[B2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:B0},Us[H2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:p1},Us[Y2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:H0},Us[$2]={Type:null,size:0,setter:xp,arraySetter:Rp,bindPoint:Y0};function $0(xt,St){return function(Tt){if(Tt.value)switch(xt.disableVertexAttribArray(St),Tt.value.length){case 4:xt.vertexAttrib4fv(St,Tt.value);break;case 3:xt.vertexAttrib3fv(St,Tt.value);break;case 2:xt.vertexAttrib2fv(St,Tt.value);break;case 1:xt.vertexAttrib1fv(St,Tt.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else xt.bindBuffer(X0,Tt.buffer),xt.enableVertexAttribArray(St),xt.vertexAttribPointer(St,Tt.numComponents||Tt.size,Tt.type||U0,Tt.normalize||!1,Tt.stride||0,Tt.offset||0),xt.vertexAttribDivisor&&xt.vertexAttribDivisor(St,Tt.divisor||0)}}function Vm(xt,St){return function(Tt){if(Tt.value)if(xt.disableVertexAttribArray(St),Tt.value.length===4)xt.vertexAttrib4iv(St,Tt.value);else throw new Error("The length of an integer constant value must be 4!");else xt.bindBuffer(X0,Tt.buffer),xt.enableVertexAttribArray(St),xt.vertexAttribIPointer(St,Tt.numComponents||Tt.size,Tt.type||d1,Tt.stride||0,Tt.offset||0),xt.vertexAttribDivisor&&xt.vertexAttribDivisor(St,Tt.divisor||0)}}function z0(xt,St){return function(Tt){if(Tt.value)if(xt.disableVertexAttribArray(St),Tt.value.length===4)xt.vertexAttrib4uiv(St,Tt.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else xt.bindBuffer(X0,Tt.buffer),xt.enableVertexAttribArray(St),xt.vertexAttribIPointer(St,Tt.numComponents||Tt.size,Tt.type||f1,Tt.stride||0,Tt.offset||0),xt.vertexAttribDivisor&&xt.vertexAttribDivisor(St,Tt.divisor||0)}}function h1(xt,St,Tt){const Ut=Tt.size,Qt=Tt.count;return function(In){xt.bindBuffer(X0,In.buffer);const Xn=In.size||In.numComponents||Ut,Nn=Xn/Qt,or=In.type||U0,Br=Us[or].size*Xn,eo=In.normalize||!1,ao=In.offset||0,Zo=Br/Qt;for(let Fo=0;Fo<Qt;++Fo)xt.enableVertexAttribArray(St+Fo),xt.vertexAttribPointer(St+Fo,Nn,or,eo,Br,ao+Zo*Fo),xt.vertexAttribDivisor&&xt.vertexAttribDivisor(St+Fo,In.divisor||0)}}const Qu={};Qu[U0]={size:4,setter:$0},Qu[B1]={size:8,setter:$0},Qu[H1]={size:12,setter:$0},Qu[Y1]={size:16,setter:$0},Qu[d1]={size:4,setter:Vm},Qu[$1]={size:8,setter:Vm},Qu[z1]={size:12,setter:Vm},Qu[K1]={size:16,setter:Vm},Qu[f1]={size:4,setter:z0},Qu[rv]={size:8,setter:z0},Qu[iv]={size:12,setter:z0},Qu[ov]={size:16,setter:z0},Qu[J1]={size:4,setter:Vm},Qu[Q1]={size:8,setter:Vm},Qu[_1]={size:12,setter:Vm},Qu[q1]={size:16,setter:Vm},Qu[ev]={size:4,setter:h1,count:2},Qu[tv]={size:9,setter:h1,count:3},Qu[nv]={size:16,setter:h1,count:4};const f3=/ERROR:\s*\d+:(\d+)/gi;function p3(xt,St="",Tt=0){const Ut=[...St.matchAll(f3)],Qt=new Map(Ut.map((In,Xn)=>{const Nn=parseInt(In[1]),or=Ut[Xn+1],Br=or?or.index:St.length,eo=St.substring(In.index,Br);return[Nn-1,eo]}));return xt.split(`
`).map((In,Xn)=>{const Nn=Qt.get(Xn);return`${Xn+1+Tt}: ${In}${Nn?`

^^^ ${Nn}`:""}`}).join(`
`)}const fv=/^[ \t]*\n/;function pv(xt){let St=0;return fv.test(xt)&&(St=1,xt=xt.replace(fv,"")),{lineOffset:St,shaderSource:xt}}function h3(xt,St){return xt.errorCallback(St),xt.callback&&setTimeout(()=>{xt.callback(`${St}
${xt.errors.join(`
`)}`)}),null}function m3(xt,St,Tt,Ut){if(Ut=Ut||u1,!xt.getShaderParameter(Tt,m2)){const Qt=xt.getShaderInfoLog(Tt),{lineOffset:In,shaderSource:Xn}=pv(xt.getShaderSource(Tt)),Nn=`${p3(Xn,Qt,In)}
Error compiling ${ir(xt,St)}: ${Qt}`;return Ut(Nn),Nn}return""}function m1(xt,St,Tt){let Ut,Qt,In;if(typeof St=="function"&&(Tt=St,St=void 0),typeof xt=="function")Tt=xt,xt=void 0;else if(xt&&!Array.isArray(xt)){const Br=xt;Tt=Br.errorCallback,xt=Br.attribLocations,Ut=Br.transformFeedbackVaryings,Qt=Br.transformFeedbackMode,In=Br.callback}const Xn=Tt||u1,Nn=[],or={errorCallback(Br,...eo){Nn.push(Br),Xn(Br,...eo)},transformFeedbackVaryings:Ut,transformFeedbackMode:Qt,callback:In,errors:Nn};{let Br={};Array.isArray(xt)?xt.forEach(function(eo,ao){Br[eo]=St?St[ao]:ao}):Br=xt||{},or.attribLocations=Br}return or}const g3=["VERTEX_SHADER","FRAGMENT_SHADER"];function v3(xt,St){if(St.indexOf("frag")>=0)return v2;if(St.indexOf("vert")>=0)return y2}function y3(xt,St,Tt){const Ut=xt.getAttachedShaders(St);for(const Qt of Ut)Tt.has(Qt)&&xt.deleteShader(Qt);xt.deleteProgram(St)}const b3=(xt=0)=>new nt(St=>setTimeout(St,xt));function S3(xt,St,Tt){const Ut=xt.createProgram(),{attribLocations:Qt,transformFeedbackVaryings:In,transformFeedbackMode:Xn}=m1(Tt);for(let Nn=0;Nn<St.length;++Nn){let or=St[Nn];if(typeof or=="string"){const Br=X1(or),eo=Br?Br.text:or;let ao=xt[g3[Nn]];Br&&Br.type&&(ao=v3(xt,Br.type)||ao),or=xt.createShader(ao),xt.shaderSource(or,pv(eo).shaderSource),xt.compileShader(or),xt.attachShader(Ut,or)}}Object.entries(Qt).forEach(([Nn,or])=>xt.bindAttribLocation(Ut,or,Nn));{let Nn=In;Nn&&(Nn.attribs&&(Nn=Nn.attribs),Array.isArray(Nn)||(Nn=Object.keys(Nn)),xt.transformFeedbackVaryings(Ut,Nn,Xn||b2))}return xt.linkProgram(Ut),Ut}function E3(xt,St,Tt,Ut,Qt){const In=m1(Tt,Ut,Qt),Xn=new Set(St),Nn=S3(xt,St,In);function or(Br,eo){const ao=T3(Br,eo,In.errorCallback);return ao&&y3(Br,eo,Xn),ao}if(In.callback){C3(xt,Nn).then(()=>{const Br=or(xt,Nn);In.callback(Br,Br?void 0:Nn)});return}return or(xt,Nn)?void 0:Nn}async function C3(xt,St){const Tt=xt.getExtension("KHR_parallel_shader_compile"),Ut=Tt?(In,Xn)=>In.getProgramParameter(Xn,Tt.COMPLETION_STATUS_KHR):()=>!0;let Qt=0;do await b3(Qt),Qt=1e3/60;while(!Ut(xt,St))}function T3(xt,St,Tt){if(Tt=Tt||u1,!xt.getProgramParameter(St,g2)){const Ut=xt.getProgramInfoLog(St);Tt(`Error in program linking: ${Ut}`);const Qt=xt.getAttachedShaders(St).map(In=>m3(xt,xt.getShaderParameter(In,xt.SHADER_TYPE),In,Tt));return`${Ut}
${Qt.filter(In=>In).join(`
`)}`}}function x3(xt,St,Tt,Ut,Qt){return E3(xt,St,Tt,Ut,Qt)}function hv(xt){const St=xt.name;return St.startsWith("gl_")||St.startsWith("webgl_")}const R3=/(\.|\[|]|\w+)/g,I3=xt=>xt>="0"&&xt<="9";function w3(xt,St,Tt,Ut){const Qt=xt.split(R3).filter(Nn=>Nn!=="");let In=0,Xn="";for(;;){const Nn=Qt[In++];Xn+=Nn;const or=I3(Nn[0]),Br=or?parseInt(Nn):Nn;if(or&&(Xn+=Qt[In++]),In===Qt.length){Tt[Br]=St;break}else{const eo=Qt[In++],ao=eo==="[",Zo=Tt[Br]||(ao?[]:{});Tt[Br]=Zo,Tt=Zo,Ut[Xn]=Ut[Xn]||function(Fo){return function(no){mv(Fo,no)}}(Zo),Xn+=eo}}}function O3(xt,St){let Tt=0;function Ut(Nn,or,Br){const eo=or.name.endsWith("[0]"),ao=or.type,Zo=Us[ao];if(!Zo)throw new Error(`unknown type: 0x${ao.toString(16)}`);let Fo;if(Zo.bindPoint){const no=Tt;Tt+=or.size,eo?Fo=Zo.arraySetter(xt,ao,no,Br,or.size):Fo=Zo.setter(xt,ao,no,Br,or.size)}else Zo.arraySetter&&eo?Fo=Zo.arraySetter(xt,Br):Fo=Zo.setter(xt,Br);return Fo.location=Br,Fo}const Qt={},In={},Xn=xt.getProgramParameter(St,U1);for(let Nn=0;Nn<Xn;++Nn){const or=xt.getActiveUniform(St,Nn);if(hv(or))continue;let Br=or.name;Br.endsWith("[0]")&&(Br=Br.substr(0,Br.length-3));const eo=xt.getUniformLocation(St,or.name);if(eo){const ao=Ut(St,or,eo);Qt[Br]=ao,w3(Br,ao,In,Qt)}}return Qt}function A3(xt,St){const Tt={},Ut=xt.getProgramParameter(St,E2);for(let Qt=0;Qt<Ut;++Qt){const In=xt.getTransformFeedbackVarying(St,Qt);Tt[In.name]={index:Qt,type:In.type,size:In.size}}return Tt}function L3(xt,St){const Tt=xt.getProgramParameter(St,U1),Ut=[],Qt=[];for(let Nn=0;Nn<Tt;++Nn){Qt.push(Nn),Ut.push({});const or=xt.getActiveUniform(St,Nn);Ut[Nn].name=or.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(Nn){const or=Nn[0],Br=Nn[1];xt.getActiveUniforms(St,Qt,xt[or]).forEach(function(eo,ao){Ut[ao][Br]=eo})});const In={},Xn=xt.getProgramParameter(St,C2);for(let Nn=0;Nn<Xn;++Nn){const or=xt.getActiveUniformBlockName(St,Nn),Br={index:xt.getUniformBlockIndex(St,or),usedByVertexShader:xt.getActiveUniformBlockParameter(St,Nn,T2),usedByFragmentShader:xt.getActiveUniformBlockParameter(St,Nn,x2),size:xt.getActiveUniformBlockParameter(St,Nn,R2),uniformIndices:xt.getActiveUniformBlockParameter(St,Nn,I2)};Br.used=Br.usedByVertexShader||Br.usedByFragmentShader,In[or]=Br}return{blockSpecs:In,uniformData:Ut}}function mv(xt,St){for(const Tt in St){const Ut=xt[Tt];typeof Ut=="function"?Ut(St[Tt]):mv(xt[Tt],St[Tt])}}function gv(xt,...St){const Tt=xt.uniformSetters||xt,Ut=St.length;for(let Qt=0;Qt<Ut;++Qt){const In=St[Qt];if(Array.isArray(In)){const Xn=In.length;for(let Nn=0;Nn<Xn;++Nn)gv(Tt,In[Nn])}else for(const Xn in In){const Nn=Tt[Xn];Nn&&Nn(In[Xn])}}}function k3(xt,St){const Tt={},Ut=xt.getProgramParameter(St,S2);for(let Qt=0;Qt<Ut;++Qt){const In=xt.getActiveAttrib(St,Qt);if(hv(In))continue;const Xn=xt.getAttribLocation(St,In.name),Nn=Qu[In.type],or=Nn.setter(xt,Xn,Nn);or.location=Xn,Tt[In.name]=or}return Tt}function N3(xt,St){for(const Tt in St){const Ut=xt[Tt];Ut&&Ut(St[Tt])}}function P3(xt,St,Tt){Tt.vertexArrayObject?xt.bindVertexArray(Tt.vertexArrayObject):(N3(St.attribSetters||St,Tt.attribs),Tt.indices&&xt.bindBuffer(h2,Tt.indices))}function vv(xt,St){const Tt=O3(xt,St),Ut=k3(xt,St),Qt={program:St,uniformSetters:Tt,attribSetters:Ut};return vr(xt)&&(Qt.uniformBlockSpec=L3(xt,St),Qt.transformFeedbackInfo=A3(xt,St)),Qt}const V3=/\s|{|}|;/;function M3(xt,St,Tt,Ut,Qt){const In=m1(Tt,Ut,Qt),Xn=[];if(St=St.map(function(Br){if(!V3.test(Br)){const eo=X1(Br);if(eo)Br=eo.text;else{const ao=`no element with id: ${Br}`;In.errorCallback(ao),Xn.push(ao)}}return Br}),Xn.length)return h3(In,"");const Nn=In.callback;Nn&&(In.callback=(Br,eo)=>{Nn(Br,Br?void 0:vv(xt,eo))});const or=x3(xt,St,In);return or?vv(xt,or):null}const Z3=4,yv=5123;function G3(xt,St,Tt,Ut,Qt,In){Tt=Tt===void 0?Z3:Tt;const Xn=St.indices,Nn=St.elementType,or=Ut===void 0?St.numElements:Ut;Qt=Qt===void 0?0:Qt,Nn||Xn?In!==void 0?xt.drawElementsInstanced(Tt,or,Nn===void 0?yv:St.elementType,Qt,In):xt.drawElements(Tt,or,Nn===void 0?yv:St.elementType,Qt):In!==void 0?xt.drawArraysInstanced(Tt,Qt,or,In):xt.drawArrays(Tt,Qt,or)}const bv=36160,K0=36161,W3=3553,F3=5121,D3=6402,j3=6408,X3=33190,U3=36012,B3=35056,H3=36013,Y3=32854,$3=32855,z3=36194,Sv=33189,Ev=6401,Cv=36168,g1=34041,v1=36064,J0=36096,Tv=36128,y1=33306,b1=33071,S1=9729,K3=[{format:j3,type:F3,min:S1,wrap:b1},{format:g1}],cm={};cm[g1]=y1,cm[Ev]=Tv,cm[Cv]=Tv,cm[D3]=J0,cm[Sv]=J0,cm[X3]=J0,cm[U3]=J0,cm[B3]=y1,cm[H3]=y1;function J3(xt,St){return cm[xt]||cm[St]}const Mm={};Mm[Y3]=!0,Mm[$3]=!0,Mm[z3]=!0,Mm[g1]=!0,Mm[Sv]=!0,Mm[Ev]=!0,Mm[Cv]=!0;function Q3(xt){return Mm[xt]}const _3=32;function q3(xt){return xt>=v1&&xt<v1+_3}function Q0(xt,St,Tt,Ut){const Qt=bv,In=xt.createFramebuffer();xt.bindFramebuffer(Qt,In),Tt=Tt||xt.drawingBufferWidth,Ut=Ut||xt.drawingBufferHeight,St=St||K3;const Xn=[],Nn={framebuffer:In,attachments:[],width:Tt,height:Ut};return St.forEach(function(or,Br){let eo=or.attachment;const ao=or.samples,Zo=or.format;let Fo=or.attachmentPoint||J3(Zo,or.internalFormat);if(Fo||(Fo=v1+Br),q3(Fo)&&Xn.push(Fo),!eo)if(ao!==void 0||Q3(Zo))eo=xt.createRenderbuffer(),xt.bindRenderbuffer(K0,eo),ao>1?xt.renderbufferStorageMultisample(K0,ao,Zo,Tt,Ut):xt.renderbufferStorage(K0,Zo,Tt,Ut);else{const no=Object.assign({},or);no.width=Tt,no.height=Ut,no.auto===void 0&&(no.auto=!1,no.min=no.min||no.minMag||S1,no.mag=no.mag||no.minMag||S1,no.wrapS=no.wrapS||no.wrap||b1,no.wrapT=no.wrapT||no.wrap||b1),eo=j1(xt,no)}if(nm(xt,eo))xt.framebufferRenderbuffer(Qt,Fo,K0,eo);else if(Lm(xt,eo))or.layer!==void 0?xt.framebufferTextureLayer(Qt,Fo,eo,or.level||0,or.layer):xt.framebufferTexture2D(Qt,Fo,or.target||W3,eo,or.level||0);else throw new Error("unknown attachment type");Nn.attachments.push(eo)}),xt.drawBuffers&&xt.drawBuffers(Xn),Nn}function eS(xt,St,Tt){Tt=Tt||bv,St?(xt.bindFramebuffer(Tt,St.framebuffer),xt.viewport(0,0,St.width,St.height)):(xt.bindFramebuffer(Tt,null),xt.viewport(0,0,xt.drawingBufferWidth,xt.drawingBufferHeight))}function Tu(xt,St){return()=>St instanceof WebGLTexture?St:j1(xt,{src:St,wrap:xt.CLAMP_TO_EDGE})}const g0=2;class _g{constructor(St){st(this,"id","_"),st(this,"context"),st(this,"output"),st(this,"fbi"),st(this,"options"),st(this,"programInfo"),st(this,"bufferInfo"),st(this,"profiler"),st(this,"lastRun");const{context:Tt,width:Ut,height:Qt}=St;this.context=Tt,this.options=St;const In=this.buildDefines();this.programInfo=M3(this.context,[In+this.getVertexShader(),In+this.getFragmentShader()]),this.bufferInfo=Bn(this.context,this.getBuffers()),this.fbi=Q0(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],Ut,Qt),this.output=this.fbi.attachments[0]}resizeOutput(St,Tt){this.fbi=Q0(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],St,Tt),this.options.width=St,this.options.height=Tt,this.output=this.fbi.attachments[0]}getDefines(){return{}}getBuffers(){return{position:{numComponents:2,data:[-1,-1,-1,1,1,-1,1,1,-1,1,1,-1]},texture_coord:{numComponents:2,data:[0,0,0,1,1,0,1,1,0,1,1,0]}}}buildDefines(){let St="";const Tt=this.getDefines();for(let Ut in Tt)St+=`#define ${Ut} ${Tt[Ut].toFixed(1)}
`;return St}run(St){var Tt,Ut,Qt,In,Xn,Nn;(Tt=this.profiler)==null||Tt.pushContext(`[${this.id}] PROG : ${this.constructor.name}`),(Ut=this.profiler)==null||Ut.pushContext(`[${this.id}] UNIFORMS`);for(const eo in St)typeof St[eo]=="function"&&((Qt=this.profiler)==null||Qt.pushContext(`[${this.id}] UNI : ${eo}`),St[eo]=St[eo](),(In=this.profiler)==null||In.popContext(`[${this.id}] UNI : ${eo}`));(Xn=this.profiler)==null||Xn.popContext(`[${this.id}] UNIFORMS`);const or=Date.now();let Br=0;this.lastRun&&(Br=(or-this.lastRun)/1e3),this.lastRun=or,this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height),this.context.useProgram(this.programInfo.program),P3(this.context,this.programInfo,this.bufferInfo),gv(this.programInfo,{delta:Br,canvas:[this.context.canvas.width,this.context.canvas.height],...St}),eS(this.context,this.options.disableFramebuffer?null:this.fbi),G3(this.context,this.bufferInfo),(Nn=this.profiler)==null||Nn.popContext(`[${this.id}] PROG : ${this.constructor.name}`)}setProfiler(St){this.profiler=St}}const tS=`precision mediump float;

varying vec2 _texture_coord;

uniform sampler2D background;
uniform sampler2D foreground;
uniform sampler2D threshold;

void main() {
  vec4 backgroundColor = texture2D(background, _texture_coord);
  vec4 foregroundColor = texture2D(foreground, _texture_coord);
  vec4 tresholdColor = texture2D(threshold, _texture_coord);
  gl_FragColor = foregroundColor * tresholdColor.a +
                 backgroundColor * (1. - tresholdColor.a);
}
`,nS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
  _texture_coord.y = 1. - texture_coord.y;
}
`;class E1 extends _g{getFragmentShader(){return tS}getVertexShader(){return nS}}class C1{constructor(){st(this,"steps",[]),st(this,"profiler")}addStep(St){this.steps.push(St)}async run(){for(const St of this.steps)St.program.run(St.getUniforms())}resizeOutput(St,Tt){var Ut,Qt;(Ut=this.profiler)==null||Ut.pushContext(`PIP [${this.constructor.name}]`);for(const In of this.steps)In.preventResize||In.program.resizeOutput(St,Tt);(Qt=this.profiler)==null||Qt.popContext(`PIP [${this.constructor.name}]`)}setProfiler(St){this.profiler=St;for(const Tt of this.steps)Tt.program.setProfiler(St)}setId(St){for(const Tt of this.steps)Tt.program.id=St}}class T1 extends C1{constructor(){super(...arguments),st(this,"preciseMaskEnabled",!1)}}class xv extends T1{constructor(St){super(),st(this,"inputImage"),st(this,"inputBackgroundImage"),st(this,"inputMask"),st(this,"preciseMaskEnabled",!0),this.context=St;const Tt={context:St,height:St.canvas.height,width:St.canvas.width},Ut=new E1({...Tt,disableFramebuffer:!0});this.addStep({program:Ut,getUniforms:()=>({background:Tu(St,this.inputBackgroundImage),foreground:Tu(St,this.inputImage),threshold:Tu(St,this.inputMask)})})}setData(St,Tt){this.inputImage=St,this.inputMask=Tt}}const rS=`precision mediump float;

varying vec2 _texture_coord;
uniform sampler2D texture;

void main() { gl_FragColor = texture2D(texture, _texture_coord); }
`,iS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;
uniform bool invert_y;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
  if (invert_y) {
    _texture_coord.y = 1. - texture_coord.y;
  }
}
`;class oS extends _g{getFragmentShader(){return rS}getVertexShader(){return iS}}class sS extends C1{constructor(St,Tt,Ut){super(),st(this,"inputImage"),this.context=St;const Qt={context:St,height:Ut,width:Tt};this.addStep({program:new oS({...Qt,disableFramebuffer:!0}),getUniforms:()=>({texture:Tu(St,this.inputImage),invert_y:!0})})}setData(St){this.inputImage=St}}async function Rv(xt){return new nt(St=>{setTimeout(()=>{St()},xt)})}const aS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

vec4 loop();

void main() { gl_FragColor = loop(); }
`,cS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;var x1=(xt=>(xt[xt.LINEAR=0]="LINEAR",xt[xt.GAUSSIAN=1]="GAUSSIAN",xt))(x1||{});class Iv extends _g{getDefines(){var St;return{RADIUS:(St=this.options.radius)!=null?St:1}}getFragmentShader(){return aS+this.createLoopFunction()}getVertexShader(){return cS}createLoopFunction(){var St;let Tt=(St=this.options.radius)!=null?St:1;return`

        vec4 loop() { 
            vec4 result = vec4(0,0,0,0);
            float factorSum = 0.;

            vec2 normalizedRadius = vec2(-${Tt}.) / canvas;
            vec2 normalizedIncrement = vec2(1.) / canvas;
            vec2 diff = normalizedRadius;

            for(int y=-${Tt}; y<${Tt+1}; ++y) {
                for(int x=-${Tt}; x<${Tt+1}; ++x) {
                    float factor = 1.;
                    result += factor * texture2D(texture, _texture_coord + diff);
                    factorSum += factor;
                    diff.x += normalizedIncrement.x;
                }
                diff.y += normalizedIncrement.y;
                diff.x = normalizedRadius.x;
            }
            return result / factorSum;
        }`}getFactor(St,Tt){switch(this.options.type){case 1:return this.getLinearFactor(St,Tt);case 0:default:return this.getLinearFactor(St,Tt)}}getLinearFactor(St,Tt){return 1}getGaussianFactor(St,Tt){var Ut;const Qt=Math.PI*2,In=Math.max((Ut=this.options.radius)!=null?Ut:1,1),Xn=1/(Qt*In**2),Nn=-(St**2+Tt**2),or=Xn*Nn;return Xn*Math.E**or}}class R1 extends _g{constructor(St){super(St),st(this,"fbi2"),this.fbi2=Q0(St.context,[{format:St.context.RGBA,type:St.context.UNSIGNED_BYTE,min:St.context.LINEAR,mag:St.context.LINEAR,wrap:St.context.CLAMP_TO_EDGE}],St.width,St.height)}run(St){const Tt=this.fbi;this.fbi=this.fbi2,this.fbi2=Tt,this.output=this.fbi.attachments[0],super.run({...St,previous_rendering:this.fbi2.attachments[0]})}resizeOutput(St,Tt){super.resizeOutput(St,Tt),this.fbi2=Q0(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],St,Tt)}}const lS=`precision mediump float;

varying vec2 _texture_coord;

// uniform float treshold;
uniform sampler2D image_now;
uniform sampler2D image_before;
uniform sampler2D mask_now;
uniform sampler2D mask_before;
uniform sampler2D previous_rendering;
uniform vec2 canvas;

uniform float delta;

float current_factor = 0.69;
float previous_factor = 0.74;
float threshold_activation = 0.54;

float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float getThreshold() {
  vec4 color = vec4(0.);
  for (float y = -6.; y < 7.; y += 1.) {
    for (float x = -6.; x < 7.; x += 1.) {
      vec4 image_now_color =
          texture2D(image_now, _texture_coord + vec2(x, y) / canvas);
      vec4 image_before_color =
          texture2D(image_before, _texture_coord + vec2(x, y) / canvas);
      color += abs(image_before_color - image_now_color);
    }
  }
  return (color.x + color.y + color.z) / (3. * 9.);
}

void main() {
  float treshold_input = .4;
  float treshold_previous_rendering = .98;

  vec4 mask_now_color = texture2D(mask_now, _texture_coord);
  vec4 mask_before_color = texture2D(mask_before, _texture_coord);
  vec4 previous_rendering_color = texture2D(previous_rendering, _texture_coord);

  vec3 mask_diff = abs(mask_before_color.xyz - mask_now_color.xyz);
  float flickering = mask_diff.x;
  float threshold = getThreshold();
  if (threshold < threshold_activation) {
    gl_FragColor = vec4(flickering, 0., 0., 1.) * current_factor +
                   previous_rendering_color * previous_factor;
    gl_FragColor *= (1. - threshold);
  }
}
`,uS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class dS extends R1{getFragmentShader(){return lS}getVertexShader(){return uS}}const fS=`#version 300 es
// https://github.com/Volcomix/virtual-background/blob/main/src/pipelines/webgl2/jointBilateralFilterStage.ts

precision highp float;
uniform sampler2D input_frame;
uniform sampler2D segmentation_mask;
uniform sampler2D threshold;
uniform vec2 texel_size;
uniform float step;
uniform float radius;
uniform float offset;
uniform float sigma_texel;
uniform float sigma_color;

in vec2 _texture_coord;
out vec4 outColor;

float gaussian(float x, float sigma) {
  float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);
  return exp((x * x) * coeff);
}

void main() {
  vec2 centerCoord = _texture_coord;
  vec3 centerColor = texture(input_frame, centerCoord).rgb;
  float newVal = 0.0;
  float spaceWeight = 0.0;
  float colorWeight = 0.0;
  float totalWeight = 0.0;
  // Subsample kernel space.
  for (float i = -radius + offset; i <= radius; i += step) {
    for (float j = -radius + offset; j <= radius; j += step) {
      vec2 shift = vec2(j, i) * texel_size;
      vec2 coord = vec2(centerCoord + shift);
      vec3 frameColor = texture(input_frame, coord).rgb;
      float threshold = texture(threshold, coord).a;
      float outVal = texture(segmentation_mask, coord).a;

      spaceWeight = gaussian(distance(centerCoord, coord), sigma_texel);
      colorWeight = gaussian(distance(centerColor, frameColor), sigma_color);
      totalWeight += spaceWeight * colorWeight;
      newVal += spaceWeight * colorWeight * outVal * threshold;
    }
  }
  newVal /= totalWeight;
  outColor = vec4(vec3(0.), newVal);
}`,pS=`#version 300 es
in vec2 position;
in vec2 texture_coord;
out vec2 _texture_coord;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
  _texture_coord = texture_coord;
}`;class hS extends _g{getFragmentShader(){return fS}getVertexShader(){return pS}}const mS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

void main() {
  int count = 0;
  for (float y = -1.; y < 2.; y += 1.) {
    for (float x = -1.; x < 2.; x += 1.) {
      vec2 coord = _texture_coord + vec2(y, x) / canvas;
      vec4 color = texture2D(texture, coord);
      if (color.r > .1) {
        count++;
      }
    }
  }
  if (count > 5) {
    gl_FragColor = texture2D(texture, _texture_coord);
  }
}
`,gS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class vS extends _g{getFragmentShader(){return mS}getVertexShader(){return gS}}const yS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;

void main() {
  vec4 color = texture2D(texture, _texture_coord);
  for (float y = -2.; y < 3.; y += 1.) {
    for (float x = -2.; x < 3.; x += 1.) {
      vec2 coord = _texture_coord;
      coord += vec2(y, x) / canvas;
      color += texture2D(texture, coord) * (1. / 4.);
    }
  }

  gl_FragColor = color;
}
`,bS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class SS extends R1{getFragmentShader(){return yS}getVertexShader(){return bS}}const ES=`precision mediump float;

varying vec2 _texture_coord;

uniform sampler2D threshold;
uniform sampler2D inputs;

void main() {
  vec4 inputs_color = texture2D(inputs, _texture_coord);
  vec4 threshold_color = texture2D(threshold, _texture_coord);
  if (threshold_color.r < .1 && inputs_color.r > .5) {
    gl_FragColor = inputs_color;
  }
}
`,CS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class TS extends R1{getFragmentShader(){return ES}getVertexShader(){return CS}}class xS extends C1{constructor(St,Tt,Ut){super(),st(this,"inputImage"),st(this,"inputMask"),st(this,"previousInputImage"),st(this,"previousInputMask"),st(this,"output"),st(this,"options",{currentThresholdMinimum:0,currentThresholdMaximum:1,previousThresholdMinimum:0,previousThresholdMaximum:1,thresholdMinimum:0,thresholdMaximum:1,thresholdFactor:1}),st(this,"jointBilateral"),this.context=St;const Qt={context:St,height:Ut,width:Tt},In=new dS(Qt),Xn=new Iv({...Qt,radius:1,type:x1.GAUSSIAN}),Nn=new TS(Qt),or=new SS(Qt),Br=new vS(Qt);this.jointBilateral=new hS(Qt),this.addStep({program:In,getUniforms:()=>({image_now:Tu(St,this.inputImage),image_before:Tu(St,this.previousInputImage),mask_now:Tu(St,this.inputMask),mask_before:Tu(St,this.previousInputMask),current_threshold_minimum:this.options.currentThresholdMinimum,current_threshold_maximum:this.options.currentThresholdMaximum,previous_threshold_minimum:this.options.previousThresholdMinimum,previous_threshold_maximum:this.options.previousThresholdMaximum,threshold_minimum:this.options.thresholdMinimum,threshold_maximum:this.options.thresholdMaximum,threshold_factor:this.options.thresholdFactor})}),this.addStep({program:Nn,getUniforms:()=>({inputs:Tu(St,this.inputMask),threshold:Tu(St,In.output)})}),this.addStep({program:Br,getUniforms:()=>({texture:Tu(St,Nn.output)})}),this.addStep({program:or,getUniforms:()=>({texture:Tu(St,Br.output)})}),this.addStep({program:Xn,getUniforms:()=>({texture:Tu(St,or.output)})}),this.addStep({program:this.jointBilateral,getUniforms:()=>{var eo,ao,Zo,Fo,no,uo,es,ts;const Cs=(ao=(eo=this.inputImage)==null?void 0:eo.width)!=null?ao:1,Cr=(Fo=(Zo=this.inputImage)==null?void 0:Zo.height)!=null?Fo:1,du=(uo=(no=this.inputMask)==null?void 0:no.width)!=null?uo:1,tu=(ts=(es=this.inputMask)==null?void 0:es.height)!=null?ts:1,Js=Math.max(Cs/du,Cr/tu),ls=Math.max(1,Math.sqrt(Js)*.66),rp=1/Cs,Ts=1/Cr;return{input_frame:Tu(St,this.inputImage),segmentation_mask:Tu(St,this.inputMask),threshold:Tu(St,Xn.output),texel_size:[rp,Ts],step:ls,radius:Js,offset:ls>1?ls*.5:0,sigma_texel:Math.max(rp,Ts)*Js,sigma_color:.1}}}),this.output=this.jointBilateral.output}setData(St,Tt){this.previousInputImage=this.inputImage?this.inputImage:St,this.previousInputMask=this.inputMask?this.inputMask:Tt,this.inputImage=St,this.inputMask=Tt}setOptions(St){this.options=St}resizeOutput(St,Tt){super.resizeOutput(St,Tt),this.output=this.jointBilateral.output}}var wv=(xt=>(xt.PUSH="PUSH",xt.POP="POP",xt))(wv||{});class RS{constructor(St){st(this,"context"),st(this,"extension"),st(this,"queries",[]),st(this,"activeQuery"),this.context=St,this.extension=St.getExtension("EXT_disjoint_timer_query_webgl2")}start(){}stop(){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT)}pushContext(St){this.createQuery("PUSH",St)}popContext(St){this.createQuery("POP",St)}createQuery(St,Tt){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT),this.activeQuery=this.context.createQuery(),this.context.beginQuery(this.extension.TIME_ELAPSED_EXT,this.activeQuery),this.queries.push({name:Tt,action:St,query:this.activeQuery})}async getResolvedQueries(){const St=(await nt.all([...this.queries].map(Tt=>this.resolveQuery(Tt)))).filter(Tt=>Tt);for(let Tt=1;Tt<St.length;++Tt)St[Tt].timestamp+=St[Tt-1].duration+St[Tt-1].timestamp;return St}async resolveQuery(St){if(!await this.awaitQueryAvailable(St)){console.log("Unawaitable query",St);return}if(this.context.getParameter(this.extension.GPU_DISJOINT_EXT)){console.log("Disjointed query",St);return}return{...St,duration:this.context.getQueryParameter(St.query,this.context.QUERY_RESULT),timestamp:0}}async awaitQueryAvailable(St){for(let Tt=0;Tt<10;++Tt){if(this.context.getQueryParameter(St.query,this.context.QUERY_RESULT_AVAILABLE))return St;await Rv(200)}}}class _0{constructor(){st(this,"canvas"),st(this,"context"),st(this,"pipeline"),st(this,"previousImageWidth",0),st(this,"previousImageHeight",0),st(this,"previousMaskWidth",g0),st(this,"previousMaskHeight",g0),st(this,"profiler"),st(this,"postProcessingEnabled",!0),st(this,"improveMask");const St=new OffscreenCanvas(0,0),Tt=St.getContext("webgl2");if(!Tt)throw"Fail to retrieve webgl2 context";this.canvas=St,this.context=Tt,this.improveMask=new xS(this.context,g0,g0)}setFlickeringOptions(St){this.improveMask.setOptions(St)}enablePostProcessing(){this.postProcessingEnabled=!0}disablePostProcessing(){this.postProcessingEnabled=!1}async profileWebgl(St){const Tt=new RS(this.context);return this.profiler=Tt,Tt.start(),await Rv(St),this.profiler=void 0,Tt.stop(),Tt.getResolvedQueries()}async render(St,Tt){var Ut,Qt;if(!this.pipeline)throw"missing pipeline";(this.previousImageHeight!==St.height||this.previousImageWidth!==St.width)&&this.resizeOutput(St.width,St.height),(this.previousMaskHeight!==Tt.height||this.previousMaskWidth!==Tt.width)&&(this.improveMask.resizeOutput(Tt.width,Tt.height),this.previousMaskWidth=Tt.width,this.previousMaskHeight=Tt.height);const In="renderer";(Ut=this.profiler)==null||Ut.pushContext(In),this.improveMask.setProfiler(this.profiler),this.pipeline.setProfiler(this.profiler);let Xn=Tt;return this.postProcessingEnabled&&(this.improveMask.setData(St,Tt),this.improveMask.run(),Xn=this.improveMask.output),this.pipeline.setData(St,Xn),await this.pipeline.run(),(Qt=this.profiler)==null||Qt.popContext(In),this.canvas}resizeOutput(St,Tt){var Ut;this.canvas.width=St,this.canvas.height=Tt,(Ut=this.pipeline)==null||Ut.resizeOutput(St,Tt),this.previousImageWidth=St,this.previousImageHeight=Tt}}class Ov extends _0{constructor(){super(),st(this,"pipeline"),st(this,"backgroundImage"),st(this,"backgroundImageResizerCanvas"),st(this,"backgroundImageResizerContext"),st(this,"backgroundImageResizer"),this.pipeline=new xv(this.context);const St=new OffscreenCanvas(0,0),Tt=St.getContext("webgl2");if(!Tt)throw"Fail to retrieve webgl context";this.backgroundImageResizerCanvas=St,this.backgroundImageResizerContext=Tt,this.backgroundImageResizer=new sS(this.backgroundImageResizerContext,0,0)}setBackgroundImage(St){this.backgroundImage=St,this.updateBackgroundImage()}updateBackgroundImage(){const{width:St,height:Tt}=this.canvas;this.backgroundImageResizer.resizeOutput(St,Tt),this.backgroundImageResizer.setData(this.backgroundImage),this.backgroundImageResizer.run(),this.pipeline.inputBackgroundImage=this.backgroundImageResizerCanvas}resizeOutput(St,Tt){super.resizeOutput(St,Tt),this.backgroundImageResizerCanvas.width=St,this.backgroundImageResizerCanvas.height=Tt,this.backgroundImageResizer.resizeOutput(St,Tt),this.updateBackgroundImage()}}class IS extends Ov{constructor(){super(...arguments),st(this,"frameReader")}setBackgroundVideo(St){this.frameReader=St.getReader(),this.readNextVideoFrame()}async render(St,Tt){return await this.readNextVideoFrame(),super.render(St,Tt)}async readNextVideoFrame(){var St;const Tt=await((St=this.frameReader)==null?void 0:St.read());if(Tt!=null&&Tt.value){const Ut=await createImageBitmap(Tt.value);this.setBackgroundImage(Ut),Tt.value.close()}}}class Av{blurBackground(St){return new np(St)}blurSilhouette(St){return new bm(St)}imageBackground(){return new Up}videoBackground(){return new IS}}const wS=`precision mediump float;

varying vec2 _texture_coord;

uniform vec2 canvas;
uniform sampler2D texture;
uniform sampler2D mask;

vec4 loop();

void main() { gl_FragColor = loop(); }
`,OS=`varying vec2 _texture_coord;

attribute vec2 position;
attribute vec2 texture_coord;

void main() {
  gl_Position = vec4(position, 0., 1.);
  _texture_coord = texture_coord;
}
`;class AS extends _g{getDefines(){var St;return{RADIUS:(St=this.options.radius)!=null?St:1}}getFragmentShader(){return wS+this.createLoopFunction()}getVertexShader(){return OS}createLoopFunction(){var St;let Tt=(St=this.options.radius)!=null?St:1;return`

        vec4 loop() { 
            vec4 result = vec4(0,0,0,0);
            float factorSum = 0.;

            vec2 normalizedRadius = vec2(-${Tt}.) / canvas;
            vec2 normalizedIncrement = vec2(1.) / canvas;
            vec2 diff = normalizedRadius;
            float maxLength = length(normalizedRadius);

            for(int y=-${Tt}; y<${Tt+1}; ++y) {
                for(int x=-${Tt}; x<${Tt+1}; ++x) {
                    float factor = (1.- texture2D(mask, _texture_coord + diff).a) * (maxLength - length(diff)) / maxLength;
                    result += factor * texture2D(texture, _texture_coord + diff);
                    factorSum += factor;
                    diff.x += normalizedIncrement.x;
                }
                diff.y += normalizedIncrement.y;
                diff.x = normalizedRadius.x;
            }
            return result / factorSum;
        }`}}const LS=10,kS=2,NS=8;class PS extends T1{constructor(St,Tt){super(),st(this,"inputImage"),st(this,"inputMask"),st(this,"blur"),this.context=St,this.radius=Tt;const Ut={context:St,height:St.canvas.height,width:St.canvas.width};this.blur=new AS({...Ut,radius:Tt,...this.getBlurTextureSize(St.canvas.width,St.canvas.height)});const Qt=new E1({...Ut,disableFramebuffer:!0});this.addStep({program:this.blur,preventResize:!0,getUniforms:()=>({texture:Tu(St,this.inputImage),mask:Tu(St,this.inputMask)})}),this.addStep({program:Qt,getUniforms:()=>({background:Tu(St,this.blur.output),foreground:Tu(St,this.inputImage),threshold:Tu(St,this.inputMask)})})}getBlurTextureSize(St,Tt){const Ut=this.radius>LS?NS:kS;return{width:Math.max(g0,St/Ut),height:Math.max(g0,Tt/Ut)}}setData(St,Tt){this.inputImage=St,this.inputMask=Tt}resizeOutput(St,Tt){super.resizeOutput(St,Tt);const Ut=this.getBlurTextureSize(St,Tt);this.blur.resizeOutput(Ut.width,Ut.height)}}class VS extends _0{constructor(St){super(),st(this,"pipeline"),this.pipeline=new PS(this.context,St),this.disablePostProcessing()}}class ZS extends T1{constructor(St,Tt){super(),st(this,"inputImage"),st(this,"inputMask"),this.context=St;const Ut={context:St,height:St.canvas.height,width:St.canvas.width},Qt=new Iv({...Ut,radius:Tt,type:x1.GAUSSIAN}),In=new E1({...Ut,disableFramebuffer:!0});this.addStep({program:Qt,getUniforms:()=>({texture:Tu(St,this.inputImage)})}),this.addStep({program:In,getUniforms:()=>({background:Tu(St,this.inputImage),foreground:Tu(St,Qt.output),threshold:Tu(St,this.inputMask)})})}setData(St,Tt){this.inputImage=St,this.inputMask=Tt}}class GS extends _0{constructor(St){super(),st(this,"pipeline"),this.pipeline=new ZS(this.context,St),this.disablePostProcessing()}}class WS extends xv{constructor(){super(...arguments),st(this,"frameReader"),st(this,"preciseMaskEnabled",!0)}set inputVideo(St){this.frameReader=St.getReader(),this.readNextVideoFrame()}async run(){this.frameReader&&(await super.run(),this.readNextVideoFrame())}async readNextVideoFrame(){var St;const Tt=await((St=this.frameReader)==null?void 0:St.read());Tt!=null&&Tt.value&&(this.inputBackgroundImage=await createImageBitmap(Tt.value),Tt.value.close())}}class FS extends _0{constructor(){super(),st(this,"pipeline"),this.pipeline=new WS(this.context)}setBackgroundVideo(St){this.pipeline.inputVideo=St}}class Lv{blurBackground(St){return new VS(St)}blurSilhouette(St){return new GS(St)}imageBackground(){return new Ov}videoBackground(){return new FS}}class DS{constructor(St){switch(st(this,"factory"),St){case xo.CANVAS:this.factory=new Av;break;case xo.WEBGL:this.factory=new Lv;break;default:const Tt=dp();this.factory=Tt.supported?new Lv:new Av}}blurBackground(St){return this.getFactory().blurBackground(St)}blurSilhouette(St){return this.getFactory().blurSilhouette(St)}imageBackground(){return this.getFactory().imageBackground()}videoBackground(){return this.getFactory().videoBackground()}getFactory(){if(!this.factory)throw"Factory is not initialized";return this.factory}}class jS{constructor(){st(this,"renderer")}setBackgroundOptions(St){var Tt,Ut;const Qt=new DS((Tt=St.renderingOptions)==null?void 0:Tt.type);switch(St.transformerType){case"BackgroundBlur":this.renderer=Qt.blurBackground(this.getBlurSize(St.radius));break;case"SilhouetteBlur":this.renderer=Qt.blurSilhouette(this.getBlurSize(St.radius));break;case"VideoBackground":this.renderer=Qt.videoBackground();break;case"VirtualBackground":this.renderer=Qt.imageBackground();break;default:throw`Unknown rendering type [${St.transformerType}]`}((Ut=St.renderingOptions)==null?void 0:Ut.type)===xo.WEBGL&&(St.renderingOptions.selfieSegmentationType===yr.PRECISE?this.renderer.enablePostProcessing():St.renderingOptions.selfieSegmentationType===yr.FAST&&this.renderer.disablePostProcessing())}setFlickeringOptions(St){var Tt;(Tt=this.renderer)==null||Tt.setFlickeringOptions(St)}setVideoBGReadable(St){const Tt=this.renderer;Tt.setBackgroundVideo&&Tt.setBackgroundVideo(St)}async setVirtualBGImage(St){const Tt=this.renderer;Tt.setBackgroundImage&&Tt.setBackgroundImage(St)}async process(St,Tt){if(this.renderer)return this.renderer.render(St,Tt)}async resizeForeground(St,Tt){}getBlurSize(St=fr.Low){switch(St){case fr.Low:return 5;case fr.High:return 12}return St}async profile(St){var Tt,Ut;return(Ut=(Tt=this.renderer)==null?void 0:Tt.profileWebgl(St))!=null?Ut:[]}}class kv{constructor(){st(this,"selfieSegmentation",new Du),st(this,"backgroundFilter"),st(this,"reporter",new jm),st(this,"backgroundOptions")}async init(St,Tt){await this.selfieSegmentation.init(Tt.wasmAssetUriPath,Tt.tfliteAssetUriPath),this.backgroundFilter=new jS,this.report({variation:"Create"})}async transform(St,Tt){var Ut,Qt;let In;const Xn=(Ut=St.timestamp)!=null?Ut:0,Nn=await createImageBitmap(St),or=await this.selfieSegmentation.process(Nn);or&&(In=await((Qt=this.backgroundFilter)==null?void 0:Qt.process(Nn,or))),In?(St.close(),Tt.enqueue(new VideoFrame(In,{timestamp:Xn,alpha:"discard"}))):Tt.enqueue(St)}async setBackgroundOptions(St){var Tt;this.backgroundOptions=St,await((Tt=this.backgroundFilter)==null?void 0:Tt.setBackgroundOptions(St)),this.report({variation:"Update"})}async setVideoBGReadable(St){var Tt;await((Tt=this.backgroundFilter)==null?void 0:Tt.setVideoBGReadable(St))}async setVirtualBGImage(St){var Tt;await((Tt=this.backgroundFilter)==null?void 0:Tt.setVirtualBGImage(St))}setFlickeringOptions(St){var Tt;(Tt=this.backgroundFilter)==null||Tt.setFlickeringOptions(St),this.report({variation:"Update"})}async profile(St){var Tt,Ut;return(Ut=(Tt=this.backgroundFilter)==null?void 0:Tt.profile(St))!=null?Ut:[]}getTransformerType(){var St,Tt;return(Tt=(St=this.backgroundOptions)==null?void 0:St.transformerType)!=null?Tt:"Undefined"}report(St){var Tt;this.reporter.send({version:bp,action:"MlTransformers",transformerType:(Tt=this.backgroundOptions)==null?void 0:Tt.transformerType,config:JSON.stringify(this.backgroundOptions),...St})}}const Nv=class{constructor(){st(this,"backgroundTransformer",new kv),st(this,"mediaProcessor",new wu),st(this,"rate",30),st(this,"resolveOnMediaProcessor"),st(this,"eventsQueue",[])}async init(xt,St){await this.backgroundTransformer.init(xt,St),await this.mediaProcessor.setTransformers([this.backgroundTransformer]),this.mediaProcessor.setTrackExpectedRate(this.rate),this.mediaProcessor.onAny((Tt,Ut)=>{this.resolveOnMediaProcessor?(this.resolveOnMediaProcessor({name:Tt,data:Ut}),this.resolveOnMediaProcessor=void 0):this.eventsQueue.push({name:Tt,data:Ut})})}async onMediaProcessorEvent(){return await new nt(xt=>{this.eventsQueue.length>0?xt(this.eventsQueue.shift()):this.resolveOnMediaProcessor=xt})}async setTrackExpectedRate(xt){this.rate=xt,this.mediaProcessor.setTrackExpectedRate(xt)}async transform(xt,St){this.mediaProcessor.transform(xt,St)}async setBackgroundOptions(xt){var St;await((St=this.backgroundTransformer)==null?void 0:St.setBackgroundOptions(xt))}setVideoBGReadable(xt){this.backgroundTransformer.setVideoBGReadable(xt)}async setVirtualBGImage(xt){await this.backgroundTransformer.setVirtualBGImage(xt)}async terminate(){await this.mediaProcessor.destroy()}setFlickeringOptions(xt){this.backgroundTransformer.setFlickeringOptions(xt)}setVonageMetadata(xt){wr(xt)}async profile(xt){return JSON.stringify(await this.backgroundTransformer.profile(xt))}};let XS=Nv;mp("ProcessorWorker",Nv);const Pv="dmFyIF9sPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgYmw9KEosUSxIKT0+USBpbiBKP19sKEosUSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6SH0pOkpbUV09SDt2YXIgbD0oSixRLEgpPT4oYmwoSix0eXBlb2YgUSE9InN5bWJvbCI/USsiIjpRLEgpLEgpOyhmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBKKHIsdCl7Z2xvYmFsVGhpcy52b25hZ2V8fChnbG9iYWxUaGlzLnZvbmFnZT17fSksZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcnx8KGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI9e30pO2xldCBlPWdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI7cmV0dXJuIGVbcl18fChlW3JdPXQpLGVbcl19Y29uc3QgUT1KKCJnbG9iYWxzIix7fSk7dmFyIEg9KHI9PihyLklOSVQ9IklOSVQiLHIuRk9SV0FSRD0iRk9SV0FSRCIsci5URVJNSU5BVEU9IlRFUk1JTkFURSIsci5HTE9CQUxTX1NZTkM9IkdMT0JBTFNfU1lOQyIscikpKEh8fHt9KTtmdW5jdGlvbiBUbyhyKXtyZXR1cm5bSW1hZ2VCaXRtYXAsUmVhZGFibGVTdHJlYW0sV3JpdGFibGVTdHJlYW1dLnNvbWUodD0+ciBpbnN0YW5jZW9mIHQpfWZ1bmN0aW9uIEhlKHIsdCl7Y29uc3R7aWQ6ZSx0eXBlOm59PXIsbz1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3Bvc3RNZXNzYWdlKHtpZDplLHR5cGU6bixyZXN1bHQ6dH0sby5maWx0ZXIoaT0+VG8oaSkpKX1KKCJ3b3JrZXJpemVkIix7fSk7ZnVuY3Rpb24gRHIoKXtyZXR1cm4gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlPCJ1IiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlfWZ1bmN0aW9uIGplKHIsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSl0LnNwbGljZSgwLHQubGVuZ3RoKTtlbHNlIGlmKHR5cGVvZiB0PT0ib2JqZWN0Iilmb3IoY29uc3QgZSBpbiB0KWRlbGV0ZSB0W2VdO2Zvcihjb25zdCBlIGluIHIpQXJyYXkuaXNBcnJheShyW2VdKT8odFtlXT1bXSxqZShyW2VdLHRbZV0pKTp0eXBlb2YgcltlXT09Im9iamVjdCI/KHRbZV09e30samUocltlXSx0W2VdKSk6dFtlXT1yW2VdfWFzeW5jIGZ1bmN0aW9uIEFvKHIsdCl7Y29uc3R7ZnVuY3Rpb25OYW1lOmUsYXJnczpufT1yO2lmKCF0Lmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7aWYoIWUpdGhyb3cibWlzc2luZyBmdW5jdGlvbiBuYW1lIHRvIGNhbGwiO2lmKCF0Lmluc3RhbmNlW2VdKXRocm93YHVuZGVmaW5lZCBmdW5jdGlvbiBbJHtlfV0gaW4gY2xhc3MgJHt0Lmluc3RhbmNlLmNvbnN0cnVjdG9yLndvcmtlcklkfWA7SGUocixhd2FpdCB0Lmluc3RhbmNlW2VdKC4uLm4hPW51bGw/bjpbXSkpfWNvbnN0IENyPUooInJlZ2lzdGVyZWRXb3JrZXJzIix7fSk7ZnVuY3Rpb24gd28ocix0KXt0LndvcmtlcklkPXIsRHIoKSYmKENyW3Qud29ya2VySWRdPXQpfWZ1bmN0aW9uIElvKHIsdCl7aWYoIXIuYXJncyl0aHJvdyJNaXNzaW5nIGNsYXNzTmFtZSB3aGlsZSBpbml0aWFsaXppbmcgd29ya2VyIjtjb25zdFtlLG5dPXIuYXJncyxvPUNyW2VdO2lmKG8pdC5pbnN0YW5jZT1uZXcgbyhyLmFyZ3Muc2xpY2UoMSkpO2Vsc2UgdGhyb3dgdW5rbm93biB3b3JrZXIgY2xhc3MgJHtlfWA7amUobixRKSxIZShyLHR5cGVvZiB0Lmluc3RhbmNlIT09dm9pZCAwKX1hc3luYyBmdW5jdGlvbiBTbyhyLHQpe2NvbnN0e2FyZ3M6ZX09cjtpZighdC5pbnN0YW5jZSl0aHJvdyJpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWQiO2xldCBuO3QuaW5zdGFuY2UudGVybWluYXRlJiYobj1hd2FpdCB0Lmluc3RhbmNlLnRlcm1pbmF0ZSguLi5lIT1udWxsP2U6W10pKSxIZShyLG4pfWZ1bmN0aW9uIFJvKHIpe2lmKCFyLmFyZ3MpdGhyb3ciTWlzc2luZyBnbG9iYWxzIHdoaWxlIHN5bmNpbmciO2plKHIuYXJnc1swXSxRKSxIZShyLHt9KX1mdW5jdGlvbiBGbygpe2NvbnN0IHI9e307b25tZXNzYWdlPWFzeW5jIHQ9Pntjb25zdCBlPXQuZGF0YTtzd2l0Y2goZS50eXBlKXtjYXNlIEguSU5JVDpJbyhlLHIpO2JyZWFrO2Nhc2UgSC5GT1JXQVJEOkFvKGUscik7YnJlYWs7Y2FzZSBILlRFUk1JTkFURTpTbyhlLHIpO2JyZWFrO2Nhc2UgSC5HTE9CQUxTX1NZTkM6Um8oZSk7YnJlYWt9fX1EcigpJiZGbygpO3ZhciBQbz1PYmplY3QuZGVmaW5lUHJvcGVydHksa289KHIsdCxlKT0+dCBpbiByP1BvKHIsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnJbdF09ZSxBPShyLHQsZSk9PihrbyhyLHR5cGVvZiB0IT0ic3ltYm9sIj90KyIiOnQsZSksZSk7Y2xhc3MgWnt9QShaLCJ1cGRhdGVzIix7dHJhbnNmb3JtZXJfbmV3OiJOZXcgdHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyX251bGw6Ik51bGwgdHJhbnNmb3JtZXIifSksQShaLCJlcnJvcnMiLHt0cmFuc2Zvcm1lcl9ub25lOiJObyB0cmFuc2Zvcm1lcnMgcHJvdmlkZWQiLHRyYW5zZm9ybWVyX3N0YXJ0OiJDYW5ub3Qgc3RhcnQgdHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyX3RyYW5zZm9ybToiQ2Fubm90IHRyYW5zZm9ybSBmcmFtZSIsdHJhbnNmb3JtZXJfZmx1c2g6IkNhbm5vdCBmbHVzaCB0cmFuc2Zvcm1lciIscmVhZGFibGVfbnVsbDoiUmVhZGFibGUgaXMgbnVsbCIsd3JpdGFibGVfbnVsbDoiV3JpdGFibGUgaXMgbnVsbCJ9KTtjb25zdCBlZT1uZXcgV2Vha01hcCxZZT1uZXcgV2Vha01hcCxQZT1uZXcgV2Vha01hcCxrdD1TeW1ib2woImFueVByb2R1Y2VyIiksQnI9UHJvbWlzZS5yZXNvbHZlKCksWGU9U3ltYm9sKCJsaXN0ZW5lckFkZGVkIiksUWU9U3ltYm9sKCJsaXN0ZW5lclJlbW92ZWQiKTtsZXQgRHQ9ITE7ZnVuY3Rpb24gRWUocil7aWYodHlwZW9mIHIhPSJzdHJpbmciJiZ0eXBlb2YgciE9InN5bWJvbCIpdGhyb3cgbmV3IFR5cGVFcnJvcigiZXZlbnROYW1lIG11c3QgYmUgYSBzdHJpbmcgb3IgYSBzeW1ib2wiKX1mdW5jdGlvbiBLZShyKXtpZih0eXBlb2YgciE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBUZShyLHQpe2NvbnN0IGU9WWUuZ2V0KHIpO3JldHVybiBlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KSxlLmdldCh0KX1mdW5jdGlvbiBrZShyLHQpe2NvbnN0IGU9dHlwZW9mIHQ9PSJzdHJpbmcifHx0eXBlb2YgdD09InN5bWJvbCI/dDprdCxuPVBlLmdldChyKTtyZXR1cm4gbi5oYXMoZSl8fG4uc2V0KGUsbmV3IFNldCksbi5nZXQoZSl9ZnVuY3Rpb24gRG8ocix0LGUpe2NvbnN0IG49UGUuZ2V0KHIpO2lmKG4uaGFzKHQpKWZvcihjb25zdCBvIG9mIG4uZ2V0KHQpKW8uZW5xdWV1ZShlKTtpZihuLmhhcyhrdCkpe2NvbnN0IG89UHJvbWlzZS5hbGwoW3QsZV0pO2Zvcihjb25zdCBpIG9mIG4uZ2V0KGt0KSlpLmVucXVldWUobyl9fWZ1bmN0aW9uIE5yKHIsdCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2xldCBlPSExLG49KCk9Pnt9LG89W107Y29uc3QgaT17ZW5xdWV1ZShzKXtvLnB1c2gocyksbigpfSxmaW5pc2goKXtlPSEwLG4oKX19O2Zvcihjb25zdCBzIG9mIHQpa2UocixzKS5hZGQoaSk7cmV0dXJue2FzeW5jIG5leHQoKXtyZXR1cm4gbz9vLmxlbmd0aD09PTA/ZT8obz12b2lkIDAsdGhpcy5uZXh0KCkpOihhd2FpdCBuZXcgUHJvbWlzZShzPT57bj1zfSksdGhpcy5uZXh0KCkpOntkb25lOiExLHZhbHVlOmF3YWl0IG8uc2hpZnQoKX06e2RvbmU6ITB9fSxhc3luYyByZXR1cm4ocyl7bz12b2lkIDA7Zm9yKGNvbnN0IGEgb2YgdClrZShyLGEpLmRlbGV0ZShpKTtyZXR1cm4gbigpLGFyZ3VtZW50cy5sZW5ndGg+MD97ZG9uZTohMCx2YWx1ZTphd2FpdCBzfTp7ZG9uZTohMH19LFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKXtyZXR1cm4gdGhpc319fWZ1bmN0aW9uIE9yKHIpe2lmKHI9PT12b2lkIDApcmV0dXJuIE1yO2lmKCFBcnJheS5pc0FycmF5KHIpKXRocm93IG5ldyBUeXBlRXJyb3IoImBtZXRob2ROYW1lc2AgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIik7Zm9yKGNvbnN0IHQgb2YgcilpZighTXIuaW5jbHVkZXModCkpdGhyb3cgdHlwZW9mIHQhPSJzdHJpbmciP25ldyBUeXBlRXJyb3IoImBtZXRob2ROYW1lc2AgZWxlbWVudCBtdXN0IGJlIGEgc3RyaW5nIik6bmV3IEVycm9yKGAke3R9IGlzIG5vdCBFbWl0dGVyeSBtZXRob2RgKTtyZXR1cm4gcn1jb25zdCBDdD1yPT5yPT09WGV8fHI9PT1RZTtjbGFzcyBsZXtzdGF0aWMgbWl4aW4odCxlKXtyZXR1cm4gZT1PcihlKSxuPT57aWYodHlwZW9mIG4hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBmdW5jdGlvbiIpO2Zvcihjb25zdCBzIG9mIGUpaWYobi5wcm90b3R5cGVbc10hPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke3N9XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO2Z1bmN0aW9uIG8oKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMSx2YWx1ZTpuZXcgbGV9KSx0aGlzW3RdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiExLGdldDpvfSk7Y29uc3QgaT1zPT5mdW5jdGlvbiguLi5hKXtyZXR1cm4gdGhpc1t0XVtzXSguLi5hKX07Zm9yKGNvbnN0IHMgb2YgZSlPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUscyx7ZW51bWVyYWJsZTohMSx2YWx1ZTppKHMpfSk7cmV0dXJuIG59fXN0YXRpYyBnZXQgaXNEZWJ1Z0VuYWJsZWQoKXtpZih0eXBlb2YgcHJvY2VzcyE9Im9iamVjdCIpcmV0dXJuIER0O2NvbnN0e2Vudjp0fT1wcm9jZXNzfHx7ZW52Ont9fTtyZXR1cm4gdC5ERUJVRz09PSJlbWl0dGVyeSJ8fHQuREVCVUc9PT0iKiJ8fER0fXN0YXRpYyBzZXQgaXNEZWJ1Z0VuYWJsZWQodCl7RHQ9dH1jb25zdHJ1Y3Rvcih0PXt9KXtlZS5zZXQodGhpcyxuZXcgU2V0KSxZZS5zZXQodGhpcyxuZXcgTWFwKSxQZS5zZXQodGhpcyxuZXcgTWFwKSx0aGlzLmRlYnVnPXQuZGVidWd8fHt9LHRoaXMuZGVidWcuZW5hYmxlZD09PXZvaWQgMCYmKHRoaXMuZGVidWcuZW5hYmxlZD0hMSksdGhpcy5kZWJ1Zy5sb2dnZXJ8fCh0aGlzLmRlYnVnLmxvZ2dlcj0oZSxuLG8saSk9Pnt0cnl7aT1KU09OLnN0cmluZ2lmeShpKX1jYXRjaHtpPWBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGtleXMgZmFpbGVkIHRvIHN0cmluZ2lmeTogJHtPYmplY3Qua2V5cyhpKS5qb2luKCIsIil9YH10eXBlb2Ygbz09InN5bWJvbCImJihvPW8udG9TdHJpbmcoKSk7Y29uc3Qgcz1uZXcgRGF0ZSxhPWAke3MuZ2V0SG91cnMoKX06JHtzLmdldE1pbnV0ZXMoKX06JHtzLmdldFNlY29uZHMoKX0uJHtzLmdldE1pbGxpc2Vjb25kcygpfWA7Y29uc29sZS5sb2coYFske2F9XVtlbWl0dGVyeToke2V9XVske259XSBFdmVudCBOYW1lOiAke299CglkYXRhOiAke2l9YCl9KX1sb2dJZkRlYnVnRW5hYmxlZCh0LGUsbil7KGxlLmlzRGVidWdFbmFibGVkfHx0aGlzLmRlYnVnLmVuYWJsZWQpJiZ0aGlzLmRlYnVnLmxvZ2dlcih0LHRoaXMuZGVidWcubmFtZSxlLG4pfW9uKHQsZSl7S2UoZSksdD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2Zvcihjb25zdCBuIG9mIHQpRWUobiksVGUodGhpcyxuKS5hZGQoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlIixuLHZvaWQgMCksQ3Qobil8fHRoaXMuZW1pdChYZSx7ZXZlbnROYW1lOm4sbGlzdGVuZXI6ZX0pO3JldHVybiB0aGlzLm9mZi5iaW5kKHRoaXMsdCxlKX1vZmYodCxlKXtLZShlKSx0PUFycmF5LmlzQXJyYXkodCk/dDpbdF07Zm9yKGNvbnN0IG4gb2YgdClFZShuKSxUZSh0aGlzLG4pLmRlbGV0ZShlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZSIsbix2b2lkIDApLEN0KG4pfHx0aGlzLmVtaXQoUWUse2V2ZW50TmFtZTpuLGxpc3RlbmVyOmV9KX1vbmNlKHQpe3JldHVybiBuZXcgUHJvbWlzZShlPT57Y29uc3Qgbj10aGlzLm9uKHQsbz0+e24oKSxlKG8pfSl9KX1ldmVudHModCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2Zvcihjb25zdCBlIG9mIHQpRWUoZSk7cmV0dXJuIE5yKHRoaXMsdCl9YXN5bmMgZW1pdCh0LGUpe0VlKHQpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImVtaXQiLHQsZSksRG8odGhpcyx0LGUpO2NvbnN0IG49VGUodGhpcyx0KSxvPWVlLmdldCh0aGlzKSxpPVsuLi5uXSxzPUN0KHQpP1tdOlsuLi5vXTthd2FpdCBCcixhd2FpdCBQcm9taXNlLmFsbChbLi4uaS5tYXAoYXN5bmMgYT0+e2lmKG4uaGFzKGEpKXJldHVybiBhKGUpfSksLi4ucy5tYXAoYXN5bmMgYT0+e2lmKG8uaGFzKGEpKXJldHVybiBhKHQsZSl9KV0pfWFzeW5jIGVtaXRTZXJpYWwodCxlKXtFZSh0KSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0U2VyaWFsIix0LGUpO2NvbnN0IG49VGUodGhpcyx0KSxvPWVlLmdldCh0aGlzKSxpPVsuLi5uXSxzPVsuLi5vXTthd2FpdCBCcjtmb3IoY29uc3QgYSBvZiBpKW4uaGFzKGEpJiZhd2FpdCBhKGUpO2Zvcihjb25zdCBhIG9mIHMpby5oYXMoYSkmJmF3YWl0IGEodCxlKX1vbkFueSh0KXtyZXR1cm4gS2UodCksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlQW55Iix2b2lkIDAsdm9pZCAwKSxlZS5nZXQodGhpcykuYWRkKHQpLHRoaXMuZW1pdChYZSx7bGlzdGVuZXI6dH0pLHRoaXMub2ZmQW55LmJpbmQodGhpcyx0KX1hbnlFdmVudCgpe3JldHVybiBOcih0aGlzKX1vZmZBbnkodCl7S2UodCksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmVBbnkiLHZvaWQgMCx2b2lkIDApLHRoaXMuZW1pdChRZSx7bGlzdGVuZXI6dH0pLGVlLmdldCh0aGlzKS5kZWxldGUodCl9Y2xlYXJMaXN0ZW5lcnModCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2Zvcihjb25zdCBlIG9mIHQpaWYodGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiY2xlYXIiLGUsdm9pZCAwKSx0eXBlb2YgZT09InN0cmluZyJ8fHR5cGVvZiBlPT0ic3ltYm9sIil7VGUodGhpcyxlKS5jbGVhcigpO2NvbnN0IG49a2UodGhpcyxlKTtmb3IoY29uc3QgbyBvZiBuKW8uZmluaXNoKCk7bi5jbGVhcigpfWVsc2V7ZWUuZ2V0KHRoaXMpLmNsZWFyKCk7Zm9yKGNvbnN0IG4gb2YgWWUuZ2V0KHRoaXMpLnZhbHVlcygpKW4uY2xlYXIoKTtmb3IoY29uc3QgbiBvZiBQZS5nZXQodGhpcykudmFsdWVzKCkpe2Zvcihjb25zdCBvIG9mIG4pby5maW5pc2goKTtuLmNsZWFyKCl9fX1saXN0ZW5lckNvdW50KHQpe3Q9QXJyYXkuaXNBcnJheSh0KT90Olt0XTtsZXQgZT0wO2Zvcihjb25zdCBuIG9mIHQpe2lmKHR5cGVvZiBuPT0ic3RyaW5nIil7ZSs9ZWUuZ2V0KHRoaXMpLnNpemUrVGUodGhpcyxuKS5zaXplK2tlKHRoaXMsbikuc2l6ZStrZSh0aGlzKS5zaXplO2NvbnRpbnVlfXR5cGVvZiBuPCJ1IiYmRWUobiksZSs9ZWUuZ2V0KHRoaXMpLnNpemU7Zm9yKGNvbnN0IG8gb2YgWWUuZ2V0KHRoaXMpLnZhbHVlcygpKWUrPW8uc2l6ZTtmb3IoY29uc3QgbyBvZiBQZS5nZXQodGhpcykudmFsdWVzKCkpZSs9by5zaXplfXJldHVybiBlfWJpbmRNZXRob2RzKHQsZSl7aWYodHlwZW9mIHQhPSJvYmplY3QifHx0PT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJgdGFyZ2V0YCBtdXN0IGJlIGFuIG9iamVjdCIpO2U9T3IoZSk7Zm9yKGNvbnN0IG4gb2YgZSl7aWYodFtuXSE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm9wZXJ0eSBcYCR7bn1cYCBhbHJlYWR5IGV4aXN0cyBvbiBcYHRhcmdldFxgYCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMSx2YWx1ZTp0aGlzW25dLmJpbmQodGhpcyl9KX19fWNvbnN0IE1yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGxlLnByb3RvdHlwZSkuZmlsdGVyKHI9PnIhPT0iY29uc3RydWN0b3IiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobGUsImxpc3RlbmVyQWRkZWQiLHt2YWx1ZTpYZSx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsZSwibGlzdGVuZXJSZW1vdmVkIix7dmFsdWU6UWUsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KTt2YXIgQnQ9bGU7ZnVuY3Rpb24gQ28ocil7cmV0dXJuIHR5cGVvZiByPT0ib2JqZWN0IiYmciE9PW51bGwmJiJtZXNzYWdlImluIHImJnR5cGVvZiByLm1lc3NhZ2U9PSJzdHJpbmcifWZ1bmN0aW9uIEJvKHIpe2lmKENvKHIpKXJldHVybiByO3RyeXtyZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHIpKX1jYXRjaHtyZXR1cm4gbmV3IEVycm9yKFN0cmluZyhyKSl9fWZ1bmN0aW9uIE50KHIpe3JldHVybiBCbyhyKS5tZXNzYWdlfXZhciBObz1PYmplY3QuZGVmaW5lUHJvcGVydHksT289KHIsdCxlKT0+dCBpbiByP05vKHIsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnJbdF09ZSxNbz0ocix0LGUpPT4oT28ocix0eXBlb2YgdCE9InN5bWJvbCI/dCsiIjp0LGUpLGUpO2NvbnN0IFVvPSJobGcudG9rYm94LmNvbS9wcm9kL2xvZ2dpbmcvdmNwX3dlYnJ0YyIsTG89Imh0dHBzOi8vIix6bz0xZTQ7bGV0IHFlO2NvbnN0ICRvPW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBHbygpe2lmKCFxZSYmKHFlPXR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSwhcWUpKXRocm93IG5ldyBFcnJvcigiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQiKTtyZXR1cm4gcWUoJG8pfWNvbnN0IEM9W107Zm9yKGxldCByPTA7cjwyNTY7KytyKUMucHVzaCgocisyNTYpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7ZnVuY3Rpb24gV28ocix0PTApe3JldHVybihDW3JbdCswXV0rQ1tyW3QrMV1dK0Nbclt0KzJdXStDW3JbdCszXV0rIi0iK0Nbclt0KzRdXStDW3JbdCs1XV0rIi0iK0Nbclt0KzZdXStDW3JbdCs3XV0rIi0iK0Nbclt0KzhdXStDW3JbdCs5XV0rIi0iK0Nbclt0KzEwXV0rQ1tyW3QrMTFdXStDW3JbdCsxMl1dK0Nbclt0KzEzXV0rQ1tyW3QrMTRdXStDW3JbdCsxNV1dKS50b0xvd2VyQ2FzZSgpfWNvbnN0IFZvPXR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8ucmFuZG9tVVVJRCYmY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pLFVyPXtyYW5kb21VVUlEOlZvfTtmdW5jdGlvbiBIbyhyLHQsZSl7aWYoVXIucmFuZG9tVVVJRCYmIXQmJiFyKXJldHVybiBVci5yYW5kb21VVUlEKCk7cj1yfHx7fTtjb25zdCBuPXIucmFuZG9tfHwoci5ybmd8fEdvKSgpO2lmKG5bNl09bls2XSYxNXw2NCxuWzhdPW5bOF0mNjN8MTI4LHQpe2U9ZXx8MDtmb3IobGV0IG89MDtvPDE2Oysrbyl0W2Urb109bltvXTtyZXR1cm4gdH1yZXR1cm4gV28obil9ZnVuY3Rpb24gT3Qocix0KXtnbG9iYWxUaGlzLnZvbmFnZXx8KGdsb2JhbFRoaXMudm9uYWdlPXt9KSxnbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyfHwoZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcj17fSk7bGV0IGU9Z2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcjtyZXR1cm4gZVtyXXx8KGVbcl09dCksZVtyXX1jb25zdCB0ZT1PdCgiZ2xvYmFscyIse30pO3ZhciBkZT0ocj0+KHIuSU5JVD0iSU5JVCIsci5GT1JXQVJEPSJGT1JXQVJEIixyLlRFUk1JTkFURT0iVEVSTUlOQVRFIixyLkdMT0JBTFNfU1lOQz0iR0xPQkFMU19TWU5DIixyKSkoZGV8fHt9KTtmdW5jdGlvbiBMcihyKXtyZXR1cm5bSW1hZ2VCaXRtYXAsUmVhZGFibGVTdHJlYW0sV3JpdGFibGVTdHJlYW1dLnNvbWUodD0+ciBpbnN0YW5jZW9mIHQpfWxldCBqbz0wO2Z1bmN0aW9uIFlvKHIsdCxlLG4sbyl7Y29uc3QgaT1qbysrO3JldHVybiByLnBvc3RNZXNzYWdlKHtpZDppLHR5cGU6dCxmdW5jdGlvbk5hbWU6ZSxhcmdzOm59LG4uZmlsdGVyKHM9PkxyKHMpKSksbmV3IFByb21pc2Uocz0+e289PW51bGx8fG8uc2V0KGkscyl9KX1mdW5jdGlvbiBEZShyLHQpe2NvbnN0e2lkOmUsdHlwZTpufT1yLG89QXJyYXkuaXNBcnJheSh0KT90Olt0XTtwb3N0TWVzc2FnZSh7aWQ6ZSx0eXBlOm4scmVzdWx0OnR9LG8uZmlsdGVyKGk9PkxyKGkpKSl9Y29uc3QgenI9T3QoIndvcmtlcml6ZWQiLHt9KTtmdW5jdGlvbiAkcigpe3JldHVybiB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGU8InUiJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9YXN5bmMgZnVuY3Rpb24gWG8oKXtpZigkcigpKURlKHt0eXBlOmRlLkdMT0JBTFNfU1lOQ30sdGUpO2Vsc2V7Y29uc3Qgcj1bXTtmb3IoY29uc3QgdCBpbiB6cil7Y29uc3R7d29ya2VyOmUscmVzb2x2ZXJzOm59PXpyW3RdLndvcmtlckNvbnRleHQ7ZSYmci5wdXNoKFlvKGUsZGUuR0xPQkFMU19TWU5DLCIiLFt0ZV0sbikpfWF3YWl0IFByb21pc2UuYWxsKHIpfX1mdW5jdGlvbiBKZShyLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpdC5zcGxpY2UoMCx0Lmxlbmd0aCk7ZWxzZSBpZih0eXBlb2YgdD09Im9iamVjdCIpZm9yKGNvbnN0IGUgaW4gdClkZWxldGUgdFtlXTtmb3IoY29uc3QgZSBpbiByKUFycmF5LmlzQXJyYXkocltlXSk/KHRbZV09W10sSmUocltlXSx0W2VdKSk6dHlwZW9mIHJbZV09PSJvYmplY3QiPyh0W2VdPXt9LEplKHJbZV0sdFtlXSkpOnRbZV09cltlXX1hc3luYyBmdW5jdGlvbiBRbyhyLHQpe2NvbnN0e2Z1bmN0aW9uTmFtZTplLGFyZ3M6bn09cjtpZighdC5pbnN0YW5jZSl0aHJvdyJpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWQiO2lmKCFlKXRocm93Im1pc3NpbmcgZnVuY3Rpb24gbmFtZSB0byBjYWxsIjtpZighdC5pbnN0YW5jZVtlXSl0aHJvd2B1bmRlZmluZWQgZnVuY3Rpb24gWyR7ZX1dIGluIGNsYXNzICR7dC5pbnN0YW5jZS5jb25zdHJ1Y3Rvci53b3JrZXJJZH1gO0RlKHIsYXdhaXQgdC5pbnN0YW5jZVtlXSguLi5uIT1udWxsP246W10pKX1jb25zdCBLbz1PdCgicmVnaXN0ZXJlZFdvcmtlcnMiLHt9KTtmdW5jdGlvbiBxbyhyLHQpe2lmKCFyLmFyZ3MpdGhyb3ciTWlzc2luZyBjbGFzc05hbWUgd2hpbGUgaW5pdGlhbGl6aW5nIHdvcmtlciI7Y29uc3RbZSxuXT1yLmFyZ3Msbz1Lb1tlXTtpZihvKXQuaW5zdGFuY2U9bmV3IG8oci5hcmdzLnNsaWNlKDEpKTtlbHNlIHRocm93YHVua25vd24gd29ya2VyIGNsYXNzICR7ZX1gO0plKG4sdGUpLERlKHIsdHlwZW9mIHQuaW5zdGFuY2UhPT12b2lkIDApfWFzeW5jIGZ1bmN0aW9uIEpvKHIsdCl7Y29uc3R7YXJnczplfT1yO2lmKCF0Lmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7bGV0IG47dC5pbnN0YW5jZS50ZXJtaW5hdGUmJihuPWF3YWl0IHQuaW5zdGFuY2UudGVybWluYXRlKC4uLmUhPW51bGw/ZTpbXSkpLERlKHIsbil9ZnVuY3Rpb24gWm8ocil7aWYoIXIuYXJncyl0aHJvdyJNaXNzaW5nIGdsb2JhbHMgd2hpbGUgc3luY2luZyI7SmUoci5hcmdzWzBdLHRlKSxEZShyLHt9KX1mdW5jdGlvbiBlaSgpe2NvbnN0IHI9e307b25tZXNzYWdlPWFzeW5jIHQ9Pntjb25zdCBlPXQuZGF0YTtzd2l0Y2goZS50eXBlKXtjYXNlIGRlLklOSVQ6cW8oZSxyKTticmVhaztjYXNlIGRlLkZPUldBUkQ6UW8oZSxyKTticmVhaztjYXNlIGRlLlRFUk1JTkFURTpKbyhlLHIpO2JyZWFrO2Nhc2UgZGUuR0xPQkFMU19TWU5DOlpvKGUpO2JyZWFrfX19JHIoKSYmZWkoKTtmdW5jdGlvbiB0aShyLHQpe3JldHVybiB0ZVtyXXx8KHRlW3JdPXQpLFsoKT0+dGVbcl0sYXN5bmMgZT0+e3RlW3JdPWUsYXdhaXQgWG8oKX1dfWZ1bmN0aW9uIHJpKHIsdCl7cmV0dXJuIHRpKHIsdCl9Y29uc3Rbbmksb2ldPXJpKCJtZXRhZGF0YSIpO2Z1bmN0aW9uIGlpKHIpe29pKHIpfWZ1bmN0aW9uIE10KCl7cmV0dXJuIG5pKCl9Y2xhc3MgVXR7Y29uc3RydWN0b3IodCl7TW8odGhpcywidXVpZCIsSG8oKSksdGhpcy5jb25maWc9dH1hc3luYyBzZW5kKHQpe3ZhciBlLG4sbztjb25zdHthcHBJZDppLHNvdXJjZVR5cGU6c309KGU9TXQoKSkhPW51bGw/ZTp7fTtpZighaXx8IXMpcmV0dXJuIm1ldGFkYXRhIG1pc3NpbmciO2NvbnN0IGE9bmV3IEFib3J0Q29udHJvbGxlcix1PXNldFRpbWVvdXQoKCk9PmEuYWJvcnQoKSx6byk7cmV0dXJuIGF3YWl0KChvPShuPXRoaXMuY29uZmlnKT09bnVsbD92b2lkIDA6bi5mZXRjaCkhPW51bGw/bzpmZXRjaCkodGhpcy5nZXRVcmwoKSx7bWV0aG9kOiJQT1NUIixoZWFkZXJzOnRoaXMuZ2V0SGVhZGVycygpLGJvZHk6SlNPTi5zdHJpbmdpZnkodGhpcy5idWlsZFJlcG9ydCh0KSksc2lnbmFsOmEuc2lnbmFsfSksY2xlYXJUaW1lb3V0KHUpLCJzdWNjZXNzIn1nZXRVcmwoKXt2YXIgdDtsZXQgZT0odD1NdCgpLnByb3h5VXJsKSE9bnVsbD90OkxvO3JldHVybiBlKz0oZS5hdCgtMSk9PT0iLyI/IiI6Ii8iKStVbyxlfWdldEhlYWRlcnMoKXtyZXR1cm57IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifX1idWlsZFJlcG9ydCh0KXtjb25zdCBlPU10KCk7cmV0dXJue2d1aWQ6dGhpcy51dWlkLC4uLnQsYXBwbGljYXRpb25JZDplLmFwcElkLHRpbWVzdGFtcDpEYXRlLm5vdygpLHByb3h5VXJsOmUucHJveHlVcmwsc291cmNlOmUuc291cmNlVHlwZX19fWNvbnN0IFplPSIyLjAuMyI7Y2xhc3Mgc2l7Y29uc3RydWN0b3IodCl7QSh0aGlzLCJmcmFtZVRyYW5zZm9ybWVkQ291bnQiLDApLEEodGhpcywiZnJhbWVGcm9tU291cmNlQ291bnQiLDApLEEodGhpcywic3RhcnRBdCIsMCksQSh0aGlzLCJyZXBvcnRlciIpLHRoaXMuY29uZmlnPXQsdGhpcy5yZXBvcnRlcj1uZXcgVXQodCl9YXN5bmMgb25GcmFtZUZyb21Tb3VyY2UoKXt0aGlzLmZyYW1lRnJvbVNvdXJjZUNvdW50Kyt9Z2V0IGZwcygpe2NvbnN0e3N0YXJ0QXQ6dCxmcmFtZUZyb21Tb3VyY2VDb3VudDplfT10aGlzLG49KERhdGUubm93KCktdCkvMWUzO3JldHVybiBlL259YXN5bmMgb25GcmFtZVRyYW5zZm9ybWVkKHQ9e30sZT0hMSl7dGhpcy5zdGFydEF0PT09MCYmKHRoaXMuc3RhcnRBdD1EYXRlLm5vdygpKSx0aGlzLmZyYW1lVHJhbnNmb3JtZWRDb3VudCsrO2NvbnN0e3N0YXJ0QXQ6bixmcmFtZVRyYW5zZm9ybWVkQ291bnQ6byxmcmFtZUZyb21Tb3VyY2VDb3VudDppfT10aGlzLHM9RGF0ZS5ub3coKSxhPShzLW4pLzFlMyx1PW8vYSxmPWkvYTtyZXR1cm4gZXx8dGhpcy5mcmFtZVRyYW5zZm9ybWVkQ291bnQ+PXRoaXMuY29uZmlnLmxvZ2dpbmdJbnRlcnZhbEZyYW1lQ291bnQ/KHRoaXMuZnJhbWVGcm9tU291cmNlQ291bnQ9MCx0aGlzLmZyYW1lVHJhbnNmb3JtZWRDb3VudD0wLHRoaXMuc3RhcnRBdD1zLHRoaXMucmVwb3J0ZXIuY29uZmlnPXRoaXMuY29uZmlnLHRoaXMucmVwb3J0ZXIuc2VuZCh7Li4udGhpcy5jb25maWcucmVwb3J0LHZhcmlhdGlvbjoiUW9TIixmcHM6Zix0cmFuc2Zvcm1lZEZwczp1LGZyYW1lc1RyYW5zZm9ybWVkOm8sLi4udH0pKToic3VjY2VzcyJ9fXZhciBMdD0ocj0+KHIucGlwZWxpbmVfZW5kZWQ9InBpcGVsaW5lX2VuZGVkIixyLnBpcGVsaW5lX2VuZGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX2VuZGVkX3dpdGhfZXJyb3IiLHIucGlwZWxpbmVfc3RhcnRlZD0icGlwZWxpbmVfc3RhcnRlZCIsci5waXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciIsci5waXBlbGluZV9yZXN0YXJ0ZWQ9InBpcGVsaW5lX3Jlc3RhcnRlZCIsci5waXBlbGluZV9yZXN0YXJ0ZWRfd2l0aF9lcnJvcj0icGlwZWxpbmVfcmVzdGFydGVkX3dpdGhfZXJyb3IiLHIpKShMdHx8e30pO2NvbnN0IGFpPTUwMCx1aT0uODtjbGFzcyBjaSBleHRlbmRzIEJ0e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSxBKHRoaXMsInJlcG9ydGVyXyIsbmV3IFV0KSxBKHRoaXMsInJlcG9ydGVyUW9zXyIsbmV3IHNpKHtsb2dnaW5nSW50ZXJ2YWxGcmFtZUNvdW50OmFpLHJlcG9ydDp7dmVyc2lvbjpaZX19KSksQSh0aGlzLCJ0cmFuc2Zvcm1lclR5cGVfIiksQSh0aGlzLCJ0cmFuc2Zvcm1lcl8iKSxBKHRoaXMsInNob3VsZFN0b3BfIiksQSh0aGlzLCJpc0ZsYXNoZWRfIiksQSh0aGlzLCJtZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfIiksQSh0aGlzLCJ2aWRlb0hlaWdodF8iKSxBKHRoaXMsInZpZGVvV2lkdGhfIiksQSh0aGlzLCJ0cmFja0V4cGVjdGVkUmF0ZV8iKSxBKHRoaXMsImluZGV4XyIpLEEodGhpcywiY29udHJvbGxlcl8iKSx0aGlzLmluZGV4Xz1lLHRoaXMudHJhbnNmb3JtZXJfPXQsdGhpcy5zaG91bGRTdG9wXz0hMSx0aGlzLmlzRmxhc2hlZF89ITEsdGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPTAsdGhpcy52aWRlb0hlaWdodF89MCx0aGlzLnZpZGVvV2lkdGhfPTAsdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTEsdGhpcy50cmFuc2Zvcm1lclR5cGVfPSJDdXN0b20iLCJnZXRUcmFuc2Zvcm1lclR5cGUiaW4gdCYmKHRoaXMudHJhbnNmb3JtZXJUeXBlXz10LmdldFRyYW5zZm9ybWVyVHlwZSgpKSx0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJDcmVhdGUifSl9c2V0VHJhY2tFeHBlY3RlZFJhdGUodCl7dGhpcy50cmFja0V4cGVjdGVkUmF0ZV89dH1hc3luYyBzdGFydCh0KXtpZih0aGlzLmNvbnRyb2xsZXJfPXQsdGhpcy50cmFuc2Zvcm1lcl8mJnR5cGVvZiB0aGlzLnRyYW5zZm9ybWVyXy5zdGFydD09ImZ1bmN0aW9uIil0cnl7YXdhaXQgdGhpcy50cmFuc2Zvcm1lcl8uc3RhcnQodCl9Y2F0Y2goZSl7dGhpcy5yZXBvcnQoe21lc3NhZ2U6Wi5lcnJvcnMudHJhbnNmb3JtZXJfc3RhcnQsdmFyaWF0aW9uOiJFcnJvciIsZXJyb3I6TnQoZSl9KTtjb25zdCBuPXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjplLGZ1bmN0aW9uOiJzdGFydCJ9O3RoaXMuZW1pdCgiZXJyb3IiLG4pfX1hc3luYyB0cmFuc2Zvcm0odCxlKXt2YXIgbixvLGkscztpZih0aGlzLm1lZGlhVHJhbnNmb3JtZXJRb3NSZXBvcnRTdGFydFRpbWVzdGFtcF89PT0wJiYodGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPURhdGUubm93KCkpLHQgaW5zdGFuY2VvZiBWaWRlb0ZyYW1lJiYodGhpcy52aWRlb0hlaWdodF89KG49dD09bnVsbD92b2lkIDA6dC5kaXNwbGF5SGVpZ2h0KSE9bnVsbD9uOjAsdGhpcy52aWRlb1dpZHRoXz0obz10PT1udWxsP3ZvaWQgMDp0LmRpc3BsYXlXaWR0aCkhPW51bGw/bzowKSx0aGlzLnJlcG9ydGVyUW9zXy5vbkZyYW1lRnJvbVNvdXJjZSgpLHRoaXMudHJhbnNmb3JtZXJfKWlmKHRoaXMuc2hvdWxkU3RvcF8pY29uc29sZS53YXJuKCJbUGlwZWxpbmVdIGZsdXNoIGZyb20gdHJhbnNmb3JtIiksdC5jbG9zZSgpLHRoaXMuZmx1c2goZSksZS50ZXJtaW5hdGUoKTtlbHNle3RyeXthd2FpdCgocz0oaT10aGlzLnRyYW5zZm9ybWVyXykudHJhbnNmb3JtKT09bnVsbD92b2lkIDA6cy5jYWxsKGksdCxlKSksdGhpcy5yZXBvcnRRb3MoKX1jYXRjaChhKXt0aGlzLnJlcG9ydCh7bWVzc2FnZTpaLmVycm9ycy50cmFuc2Zvcm1lcl90cmFuc2Zvcm0sdmFyaWF0aW9uOiJFcnJvciIsZXJyb3I6TnQoYSl9KTtjb25zdCB1PXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjphLGZ1bmN0aW9uOiJ0cmFuc2Zvcm0ifTt0aGlzLmVtaXQoImVycm9yIix1KX1pZih0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyE9LTEmJnRoaXMudHJhY2tFeHBlY3RlZFJhdGVfKnVpPnRoaXMucmVwb3J0ZXJRb3NfLmZwcyl7Y29uc3QgYT17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sd2FybmluZ1R5cGU6ImZwc19kcm9wIixkcm9wSW5mbzp7cmVxdWVzdGVkOnRoaXMudHJhY2tFeHBlY3RlZFJhdGVfLGN1cnJlbnQ6dGhpcy5yZXBvcnRlclFvc18uZnBzfX07dGhpcy5lbWl0KCJ3YXJuIixhKX19fWFzeW5jIGZsdXNoKHQpe2lmKHRoaXMudHJhbnNmb3JtZXJfJiZ0eXBlb2YgdGhpcy50cmFuc2Zvcm1lcl8uZmx1c2g9PSJmdW5jdGlvbiImJiF0aGlzLmlzRmxhc2hlZF8pe3RoaXMuaXNGbGFzaGVkXz0hMDt0cnl7YXdhaXQgdGhpcy50cmFuc2Zvcm1lcl8uZmx1c2godCl9Y2F0Y2goZSl7dGhpcy5yZXBvcnQoe21lc3NhZ2U6Wi5lcnJvcnMudHJhbnNmb3JtZXJfZmx1c2gsdmFyaWF0aW9uOiJFcnJvciIsZXJyb3I6TnQoZSl9KTtjb25zdCBuPXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjplLGZ1bmN0aW9uOiJmbHVzaCJ9O3RoaXMuZW1pdCgiZXJyb3IiLG4pfX10aGlzLnJlcG9ydFFvcyghMCksdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiRGVsZXRlIn0pfXN0b3AoKXtjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBTdG9wIHN0cmVhbS4iKSx0aGlzLmNvbnRyb2xsZXJfJiYodGhpcy5mbHVzaCh0aGlzLmNvbnRyb2xsZXJfKSx0aGlzLmNvbnRyb2xsZXJfLnRlcm1pbmF0ZSgpKSx0aGlzLnNob3VsZFN0b3BfPSEwfXJlcG9ydCh0KXt0aGlzLnJlcG9ydGVyXy5zZW5kKHt2ZXJzaW9uOlplLGFjdGlvbjoiTWVkaWFUcmFuc2Zvcm1lciIsdHJhbnNmb3JtZXJUeXBlOnRoaXMudHJhbnNmb3JtZXJUeXBlXywuLi50fSl9cmVwb3J0UW9zKHQ9ITEpe3RoaXMucmVwb3J0ZXJRb3NfLmNvbmZpZz17Li4udGhpcy5yZXBvcnRlclFvc18uY29uZmlnfSx0aGlzLnJlcG9ydGVyUW9zXy5vbkZyYW1lVHJhbnNmb3JtZWQoe3ZlcnNpb246WmUsYWN0aW9uOiJNZWRpYVRyYW5zZm9ybWVyIix0cmFuc2Zvcm1lclR5cGU6dGhpcy50cmFuc2Zvcm1lclR5cGVfLHZpZGVvV2lkdGg6dGhpcy52aWRlb1dpZHRoXyx2aWRlb0hlaWdodDp0aGlzLnZpZGVvSGVpZ2h0X30sdCl9fWNsYXNzIGZpIGV4dGVuZHMgQnR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSxBKHRoaXMsInRyYW5zZm9ybWVyc18iKSxBKHRoaXMsInRyYWNrRXhwZWN0ZWRSYXRlXyIpLHRoaXMudHJhbnNmb3JtZXJzXz1bXSx0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz0tMTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7bGV0IG49bmV3IGNpKHRbZV0sZSk7bi5vbigiZXJyb3IiLG89Pnt0aGlzLmVtaXQoImVycm9yIixvKX0pLG4ub24oIndhcm4iLG89Pnt0aGlzLmVtaXQoIndhcm4iLG8pfSksdGhpcy50cmFuc2Zvcm1lcnNfLnB1c2gobil9fXNldFRyYWNrRXhwZWN0ZWRSYXRlKHQpe3RoaXMudHJhY2tFeHBlY3RlZFJhdGVfPXQ7Zm9yKGxldCBlIG9mIHRoaXMudHJhbnNmb3JtZXJzXyllLnNldFRyYWNrRXhwZWN0ZWRSYXRlKHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfKX1hc3luYyBzdGFydCh0LGUpe2lmKCF0aGlzLnRyYW5zZm9ybWVyc198fHRoaXMudHJhbnNmb3JtZXJzXy5sZW5ndGg9PT0wKXtjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBObyB0cmFuc2Zvcm1lcnMuIik7cmV0dXJufXRyeXtsZXQgbj10O2ZvcihsZXQgbyBvZiB0aGlzLnRyYW5zZm9ybWVyc18pdD10LnBpcGVUaHJvdWdoKG5ldyBUcmFuc2Zvcm1TdHJlYW0obykpO3QucGlwZVRvKGUpLnRoZW4oYXN5bmMoKT0+e2NvbnNvbGUubG9nKCJbUGlwZWxpbmVdIFNldHVwLiIpLGF3YWl0IGUuYWJvcnQoKSxhd2FpdCBuLmNhbmNlbCgpLHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIiwicGlwZWxpbmVfZW5kZWQiKX0pLmNhdGNoKGFzeW5jIG89Pnt0LmNhbmNlbCgpLnRoZW4oKCk9Pntjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBTaHV0dGluZyBkb3duIHN0cmVhbXMgYWZ0ZXIgYWJvcnQuIil9KS5jYXRjaChpPT57Y29uc29sZS5lcnJvcigiW1BpcGVsaW5lXSBFcnJvciBmcm9tIHN0cmVhbSB0cmFuc2Zvcm06IixpKX0pLGF3YWl0IGUuYWJvcnQobyksYXdhaXQgbi5jYW5jZWwobyksdGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9lbmRlZF93aXRoX2Vycm9yIil9KX1jYXRjaHt0aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsInBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciIpLHRoaXMuZGVzdHJveSgpO3JldHVybn10aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsInBpcGVsaW5lX3N0YXJ0ZWQiKSxjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBQaXBlbGluZSBzdGFydGVkLiIpfWFzeW5jIGRlc3Ryb3koKXtjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBEZXN0cm95aW5nIFBpcGVsaW5lLiIpO2ZvcihsZXQgdCBvZiB0aGlzLnRyYW5zZm9ybWVyc18pdC5zdG9wKCl9fWNsYXNzIGxpIGV4dGVuZHMgQnR7Y29uc3RydWN0b3IoKXtzdXBlcigpLEEodGhpcywicmVwb3J0ZXJfIiksQSh0aGlzLCJwaXBlbGluZV8iKSxBKHRoaXMsInRyYW5zZm9ybWVyc18iKSxBKHRoaXMsInJlYWRhYmxlXyIpLEEodGhpcywid3JpdGFibGVfIiksQSh0aGlzLCJ0cmFja0V4cGVjdGVkUmF0ZV8iKSx0aGlzLnJlcG9ydGVyXz1uZXcgVXQsdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTEsdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiQ3JlYXRlIn0pfXNldFRyYWNrRXhwZWN0ZWRSYXRlKHQpe3RoaXMudHJhY2tFeHBlY3RlZFJhdGVfPXQsdGhpcy5waXBlbGluZV8mJnRoaXMucGlwZWxpbmVfLnNldFRyYWNrRXhwZWN0ZWRSYXRlKHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfKX10cmFuc2Zvcm0odCxlKXtyZXR1cm4gdGhpcy5yZWFkYWJsZV89dCx0aGlzLndyaXRhYmxlXz1lLHRoaXMudHJhbnNmb3JtSW50ZXJuYWwoKX10cmFuc2Zvcm1JbnRlcm5hbCgpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyh0LGUpPT57aWYoIXRoaXMudHJhbnNmb3JtZXJzX3x8dGhpcy50cmFuc2Zvcm1lcnNfLmxlbmd0aD09PTApe3RoaXMucmVwb3J0KHttZXNzYWdlOlouZXJyb3JzLnRyYW5zZm9ybWVyX25vbmUsdmFyaWF0aW9uOiJFcnJvciJ9KSxlKCJbTWVkaWFQcm9jZXNzb3JdIE5lZWQgdG8gc2V0IHRyYW5zZm9ybWVycy4iKTtyZXR1cm59aWYoIXRoaXMucmVhZGFibGVfKXt0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJFcnJvciIsbWVzc2FnZTpaLmVycm9ycy5yZWFkYWJsZV9udWxsfSksZSgiW01lZGlhUHJvY2Vzc29yXSBSZWFkYWJsZSBpcyBudWxsLiIpO3JldHVybn1pZighdGhpcy53cml0YWJsZV8pe3RoaXMucmVwb3J0KHt2YXJpYXRpb246IkVycm9yIixtZXNzYWdlOlouZXJyb3JzLndyaXRhYmxlX251bGx9KSxlKCJbTWVkaWFQcm9jZXNzb3JdIFdyaXRhYmxlIGlzIG51bGwuIik7cmV0dXJufWxldCBuPSExO3RoaXMucGlwZWxpbmVfJiYobj0hMCx0aGlzLnBpcGVsaW5lXy5jbGVhckxpc3RlbmVycygpLHRoaXMucGlwZWxpbmVfLmRlc3Ryb3koKSksdGhpcy5waXBlbGluZV89bmV3IGZpKHRoaXMudHJhbnNmb3JtZXJzXyksdGhpcy5waXBlbGluZV8ub24oIndhcm4iLG89Pnt0aGlzLmVtaXQoIndhcm4iLG8pfSksdGhpcy5waXBlbGluZV8ub24oImVycm9yIixvPT57dGhpcy5lbWl0KCJlcnJvciIsbyl9KSx0aGlzLnBpcGVsaW5lXy5vbigicGlwZWxpbmVJbmZvIixvPT57biYmKG89PT0icGlwZWxpbmVfc3RhcnRlZCI/bz1MdC5waXBlbGluZV9yZXN0YXJ0ZWQ6bz09PSJwaXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3IiJiYobz1MdC5waXBlbGluZV9yZXN0YXJ0ZWRfd2l0aF9lcnJvcikpLHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIixvKX0pLHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfIT0tMSYmdGhpcy5waXBlbGluZV8uc2V0VHJhY2tFeHBlY3RlZFJhdGUodGhpcy50cmFja0V4cGVjdGVkUmF0ZV8pLHRoaXMucGlwZWxpbmVfLnN0YXJ0KHRoaXMucmVhZGFibGVfLHRoaXMud3JpdGFibGVfKS50aGVuKCgpPT57dCgpfSkuY2F0Y2gobz0+e2Uobyl9KX0pfXNldFRyYW5zZm9ybWVycyh0KXtyZXR1cm4gdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiVXBkYXRlIixtZXNzYWdlOloudXBkYXRlcy50cmFuc2Zvcm1lcl9uZXd9KSx0aGlzLnRyYW5zZm9ybWVyc189dCx0aGlzLnJlYWRhYmxlXyYmdGhpcy53cml0YWJsZV8/dGhpcy50cmFuc2Zvcm1JbnRlcm5hbCgpOlByb21pc2UucmVzb2x2ZSgpfWRlc3Ryb3koKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgdD0+e3RoaXMucGlwZWxpbmVfJiZ0aGlzLnBpcGVsaW5lXy5kZXN0cm95KCksdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiRGVsZXRlIn0pLHQoKX0pfXJlcG9ydCh0KXt0aGlzLnJlcG9ydGVyXy5zZW5kKHt2ZXJzaW9uOlplLGFjdGlvbjoiTWVkaWFQcm9jZXNzb3IiLC4uLnR9KX19dmFyIGRpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxtaT0ocix0LGUpPT50IGluIHI/ZGkocix0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6clt0XT1lLGhpPShyLHQsZSk9PihtaShyLHR5cGVvZiB0IT0ic3ltYm9sIj90KyIiOnQsZSksZSk7Y29uc3QgcGk9ImhsZy50b2tib3guY29tL3Byb2QvbG9nZ2luZy92Y3Bfd2VicnRjIixnaT0iaHR0cHM6Ly8iLHlpPTFlNDtsZXQgZXQ7Y29uc3QgeGk9bmV3IFVpbnQ4QXJyYXkoMTYpO2Z1bmN0aW9uIF9pKCl7aWYoIWV0JiYoZXQ9dHlwZW9mIGNyeXB0bzwidSImJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pLCFldCkpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiBldCh4aSl9Y29uc3QgQj1bXTtmb3IobGV0IHI9MDtyPDI1NjsrK3IpQi5wdXNoKChyKzI1NikudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtmdW5jdGlvbiBiaShyLHQ9MCl7cmV0dXJuKEJbclt0KzBdXStCW3JbdCsxXV0rQltyW3QrMl1dK0Jbclt0KzNdXSsiLSIrQltyW3QrNF1dK0Jbclt0KzVdXSsiLSIrQltyW3QrNl1dK0Jbclt0KzddXSsiLSIrQltyW3QrOF1dK0Jbclt0KzldXSsiLSIrQltyW3QrMTBdXStCW3JbdCsxMV1dK0Jbclt0KzEyXV0rQltyW3QrMTNdXStCW3JbdCsxNF1dK0Jbclt0KzE1XV0pLnRvTG93ZXJDYXNlKCl9Y29uc3Qgdmk9dHlwZW9mIGNyeXB0bzwidSImJmNyeXB0by5yYW5kb21VVUlEJiZjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byksR3I9e3JhbmRvbVVVSUQ6dml9O2Z1bmN0aW9uIEVpKHIsdCxlKXtpZihHci5yYW5kb21VVUlEJiYhdCYmIXIpcmV0dXJuIEdyLnJhbmRvbVVVSUQoKTtyPXJ8fHt9O2NvbnN0IG49ci5yYW5kb218fChyLnJuZ3x8X2kpKCk7aWYobls2XT1uWzZdJjE1fDY0LG5bOF09bls4XSY2M3wxMjgsdCl7ZT1lfHwwO2ZvcihsZXQgbz0wO288MTY7KytvKXRbZStvXT1uW29dO3JldHVybiB0fXJldHVybiBiaShuKX1mdW5jdGlvbiB6dChyLHQpe2dsb2JhbFRoaXMudm9uYWdlfHwoZ2xvYmFsVGhpcy52b25hZ2U9e30pLGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXJ8fChnbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyPXt9KTtsZXQgZT1nbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyO3JldHVybiBlW3JdfHwoZVtyXT10KSxlW3JdfWNvbnN0IHJlPXp0KCJnbG9iYWxzIix7fSk7dmFyIG1lPShyPT4oci5JTklUPSJJTklUIixyLkZPUldBUkQ9IkZPUldBUkQiLHIuVEVSTUlOQVRFPSJURVJNSU5BVEUiLHIuR0xPQkFMU19TWU5DPSJHTE9CQUxTX1NZTkMiLHIpKShtZXx8e30pO2Z1bmN0aW9uIFdyKHIpe3JldHVybltJbWFnZUJpdG1hcCxSZWFkYWJsZVN0cmVhbSxXcml0YWJsZVN0cmVhbV0uc29tZSh0PT5yIGluc3RhbmNlb2YgdCl9bGV0IFRpPTA7ZnVuY3Rpb24gQWkocix0LGUsbixvKXtjb25zdCBpPVRpKys7cmV0dXJuIHIucG9zdE1lc3NhZ2Uoe2lkOmksdHlwZTp0LGZ1bmN0aW9uTmFtZTplLGFyZ3M6bn0sbi5maWx0ZXIocz0+V3IocykpKSxuZXcgUHJvbWlzZShzPT57bz09bnVsbHx8by5zZXQoaSxzKX0pfWZ1bmN0aW9uIENlKHIsdCl7Y29uc3R7aWQ6ZSx0eXBlOm59PXIsbz1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3Bvc3RNZXNzYWdlKHtpZDplLHR5cGU6bixyZXN1bHQ6dH0sby5maWx0ZXIoaT0+V3IoaSkpKX1jb25zdCBWcj16dCgid29ya2VyaXplZCIse30pO2Z1bmN0aW9uIEhyKCl7cmV0dXJuIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZTwidSImJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1hc3luYyBmdW5jdGlvbiB3aSgpe2lmKEhyKCkpQ2Uoe3R5cGU6bWUuR0xPQkFMU19TWU5DfSxyZSk7ZWxzZXtjb25zdCByPVtdO2Zvcihjb25zdCB0IGluIFZyKXtjb25zdHt3b3JrZXI6ZSxyZXNvbHZlcnM6bn09VnJbdF0ud29ya2VyQ29udGV4dDtlJiZyLnB1c2goQWkoZSxtZS5HTE9CQUxTX1NZTkMsIiIsW3JlXSxuKSl9YXdhaXQgUHJvbWlzZS5hbGwocil9fWZ1bmN0aW9uIHR0KHIsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSl0LnNwbGljZSgwLHQubGVuZ3RoKTtlbHNlIGlmKHR5cGVvZiB0PT0ib2JqZWN0Iilmb3IoY29uc3QgZSBpbiB0KWRlbGV0ZSB0W2VdO2Zvcihjb25zdCBlIGluIHIpQXJyYXkuaXNBcnJheShyW2VdKT8odFtlXT1bXSx0dChyW2VdLHRbZV0pKTp0eXBlb2YgcltlXT09Im9iamVjdCI/KHRbZV09e30sdHQocltlXSx0W2VdKSk6dFtlXT1yW2VdfWFzeW5jIGZ1bmN0aW9uIElpKHIsdCl7Y29uc3R7ZnVuY3Rpb25OYW1lOmUsYXJnczpufT1yO2lmKCF0Lmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7aWYoIWUpdGhyb3cibWlzc2luZyBmdW5jdGlvbiBuYW1lIHRvIGNhbGwiO2lmKCF0Lmluc3RhbmNlW2VdKXRocm93YHVuZGVmaW5lZCBmdW5jdGlvbiBbJHtlfV0gaW4gY2xhc3MgJHt0Lmluc3RhbmNlLmNvbnN0cnVjdG9yLndvcmtlcklkfWA7Q2Uocixhd2FpdCB0Lmluc3RhbmNlW2VdKC4uLm4hPW51bGw/bjpbXSkpfWNvbnN0IFNpPXp0KCJyZWdpc3RlcmVkV29ya2VycyIse30pO2Z1bmN0aW9uIFJpKHIsdCl7aWYoIXIuYXJncyl0aHJvdyJNaXNzaW5nIGNsYXNzTmFtZSB3aGlsZSBpbml0aWFsaXppbmcgd29ya2VyIjtjb25zdFtlLG5dPXIuYXJncyxvPVNpW2VdO2lmKG8pdC5pbnN0YW5jZT1uZXcgbyhyLmFyZ3Muc2xpY2UoMSkpO2Vsc2UgdGhyb3dgdW5rbm93biB3b3JrZXIgY2xhc3MgJHtlfWA7dHQobixyZSksQ2Uocix0eXBlb2YgdC5pbnN0YW5jZSE9PXZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gRmkocix0KXtjb25zdHthcmdzOmV9PXI7aWYoIXQuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtsZXQgbjt0Lmluc3RhbmNlLnRlcm1pbmF0ZSYmKG49YXdhaXQgdC5pbnN0YW5jZS50ZXJtaW5hdGUoLi4uZSE9bnVsbD9lOltdKSksQ2UocixuKX1mdW5jdGlvbiBQaShyKXtpZighci5hcmdzKXRocm93Ik1pc3NpbmcgZ2xvYmFscyB3aGlsZSBzeW5jaW5nIjt0dChyLmFyZ3NbMF0scmUpLENlKHIse30pfWZ1bmN0aW9uIGtpKCl7Y29uc3Qgcj17fTtvbm1lc3NhZ2U9YXN5bmMgdD0+e2NvbnN0IGU9dC5kYXRhO3N3aXRjaChlLnR5cGUpe2Nhc2UgbWUuSU5JVDpSaShlLHIpO2JyZWFrO2Nhc2UgbWUuRk9SV0FSRDpJaShlLHIpO2JyZWFrO2Nhc2UgbWUuVEVSTUlOQVRFOkZpKGUscik7YnJlYWs7Y2FzZSBtZS5HTE9CQUxTX1NZTkM6UGkoZSk7YnJlYWt9fX1IcigpJiZraSgpO2Z1bmN0aW9uIERpKHIsdCl7cmV0dXJuIHJlW3JdfHwocmVbcl09dCksWygpPT5yZVtyXSxhc3luYyBlPT57cmVbcl09ZSxhd2FpdCB3aSgpfV19ZnVuY3Rpb24gQ2kocix0KXtyZXR1cm4gRGkocix0KX1jb25zdFtCaSx2bF09Q2koIm1ldGFkYXRhIik7ZnVuY3Rpb24gJHQoKXtyZXR1cm4gQmkoKX1jbGFzcyBOaXtjb25zdHJ1Y3Rvcih0KXtoaSh0aGlzLCJ1dWlkIixFaSgpKSx0aGlzLmNvbmZpZz10fWFzeW5jIHNlbmQodCl7dmFyIGUsbixvO2NvbnN0e2FwcElkOmksc291cmNlVHlwZTpzfT0oZT0kdCgpKSE9bnVsbD9lOnt9O2lmKCFpfHwhcylyZXR1cm4ibWV0YWRhdGEgbWlzc2luZyI7Y29uc3QgYT1uZXcgQWJvcnRDb250cm9sbGVyLHU9c2V0VGltZW91dCgoKT0+YS5hYm9ydCgpLHlpKTtyZXR1cm4gYXdhaXQoKG89KG49dGhpcy5jb25maWcpPT1udWxsP3ZvaWQgMDpuLmZldGNoKSE9bnVsbD9vOmZldGNoKSh0aGlzLmdldFVybCgpLHttZXRob2Q6IlBPU1QiLGhlYWRlcnM6dGhpcy5nZXRIZWFkZXJzKCksYm9keTpKU09OLnN0cmluZ2lmeSh0aGlzLmJ1aWxkUmVwb3J0KHQpKSxzaWduYWw6YS5zaWduYWx9KSxjbGVhclRpbWVvdXQodSksInN1Y2Nlc3MifWdldFVybCgpe3ZhciB0O2xldCBlPSh0PSR0KCkucHJveHlVcmwpIT1udWxsP3Q6Z2k7cmV0dXJuIGUrPShlLmF0KC0xKT09PSIvIj8iIjoiLyIpK3BpLGV9Z2V0SGVhZGVycygpe3JldHVybnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9fWJ1aWxkUmVwb3J0KHQpe2NvbnN0IGU9JHQoKTtyZXR1cm57Z3VpZDp0aGlzLnV1aWQsLi4udCxhcHBsaWNhdGlvbklkOmUuYXBwSWQsdGltZXN0YW1wOkRhdGUubm93KCkscHJveHlVcmw6ZS5wcm94eVVybCxzb3VyY2U6ZS5zb3VyY2VUeXBlfX19Y29uc3QgT2k9IjUuMC4xIjt2YXIgcnQ9KHI9PihyLkxvdz0iTG93IixyLkhpZ2g9IkhpZ2giLHIpKShydHx8e30pLEd0PShyPT4oci5GQVNUPSJGQVNUIixyLlBSRUNJU0U9IlBSRUNJU0UiLHIpKShHdHx8e30pLG50PShyPT4oci5DQU5WQVM9IkNBTlZBUyIsci5XRUJHTD0iV0VCR0wiLHIpKShudHx8e30pLE1pPWZ1bmN0aW9uKCl7dmFyIHI9dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdD9kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzp2b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKHQpe3Q9dHx8e307dmFyIGU9dHlwZW9mIHQ8InUiP3Q6e30sbixvO2UucmVhZHk9bmV3IFByb21pc2UoZnVuY3Rpb24oYyxoKXtuPWMsbz1ofSk7dmFyIGk9e30scztmb3IocyBpbiBlKWUuaGFzT3duUHJvcGVydHkocykmJihpW3NdPWVbc10pO3ZhciBhPSIuL3RoaXMucHJvZ3JhbSIsdT1mdW5jdGlvbihjLGgpe3Rocm93IGh9LGY9ITAsbT0iIjtmdW5jdGlvbiBwKGMpe3JldHVybiBlLmxvY2F0ZUZpbGU/ZS5sb2NhdGVGaWxlKGMsbSk6bStjfXZhciBnO3R5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJihtPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSxyJiYobT1yKSxtLmluZGV4T2YoImJsb2I6IikhPT0wP209bS5zdWJzdHIoMCxtLnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6bT0iIjt2YXIgeD1lLnByaW50fHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLGQ9ZS5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7Zm9yKHMgaW4gaSlpLmhhc093blByb3BlcnR5KHMpJiYoZVtzXT1pW3NdKTtpPW51bGwsZS5hcmd1bWVudHMmJmUuYXJndW1lbnRzLGUudGhpc1Byb2dyYW0mJihhPWUudGhpc1Byb2dyYW0pLGUucXVpdCYmKHU9ZS5xdWl0KTt2YXIgXztlLndhc21CaW5hcnkmJihfPWUud2FzbUJpbmFyeSk7dmFyIEU9ZS5ub0V4aXRSdW50aW1lfHwhMDt0eXBlb2YgV2ViQXNzZW1ibHkhPSJvYmplY3QiJiZmZSgibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpO3ZhciB2LEY9ITEsaz10eXBlb2YgVGV4dERlY29kZXI8InUiP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnZvaWQgMDtmdW5jdGlvbiAkKGMsaCx5KXtmb3IodmFyIFQ9aCt5LEQ9aDtjW0RdJiYhKEQ+PVQpOykrK0Q7aWYoRC1oPjE2JiZjLnN1YmFycmF5JiZrKXJldHVybiBrLmRlY29kZShjLnN1YmFycmF5KGgsRCkpO2Zvcih2YXIgTj0iIjtoPEQ7KXt2YXIgdz1jW2grK107aWYoISh3JjEyOCkpe04rPVN0cmluZy5mcm9tQ2hhckNvZGUodyk7Y29udGludWV9dmFyIE09Y1toKytdJjYzO2lmKCh3JjIyNCk9PTE5Mil7Tis9U3RyaW5nLmZyb21DaGFyQ29kZSgodyYzMSk8PDZ8TSk7Y29udGludWV9dmFyIHE9Y1toKytdJjYzO2lmKCh3JjI0MCk9PTIyND93PSh3JjE1KTw8MTJ8TTw8NnxxOnc9KHcmNyk8PDE4fE08PDEyfHE8PDZ8Y1toKytdJjYzLHc8NjU1MzYpTis9U3RyaW5nLmZyb21DaGFyQ29kZSh3KTtlbHNle3ZhciBFbz13LTY1NTM2O04rPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8RW8+PjEwLDU2MzIwfEVvJjEwMjMpfX1yZXR1cm4gTn1mdW5jdGlvbiB6KGMsaCl7cmV0dXJuIGM/JChjZSxjLGgpOiIifWZ1bmN0aW9uIFYoYyxoLHkpe2Zvcih2YXIgVD0wO1Q8Yy5sZW5ndGg7KytUKWJlW2grKz4+MF09Yy5jaGFyQ29kZUF0KFQpO3l8fChiZVtoPj4wXT0wKX1mdW5jdGlvbiBHKGMsaCl7cmV0dXJuIGMlaD4wJiYoYys9aC1jJWgpLGN9dmFyIEdlLGJlLGNlLFc7ZnVuY3Rpb24gcG8oYyl7R2U9YyxlLkhFQVA4PWJlPW5ldyBJbnQ4QXJyYXkoYyksZS5IRUFQMTY9bmV3IEludDE2QXJyYXkoYyksZS5IRUFQMzI9Vz1uZXcgSW50MzJBcnJheShjKSxlLkhFQVBVOD1jZT1uZXcgVWludDhBcnJheShjKSxlLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGMpLGUuSEVBUFUzMj1uZXcgVWludDMyQXJyYXkoYyksZS5IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoYyksZS5IRUFQRjY0PW5ldyBGbG9hdDY0QXJyYXkoYyl9ZS5JTklUSUFMX01FTU9SWTt2YXIgUnIsZ289W10seW89W10seG89W10sT2Y9MDtmdW5jdGlvbiBNZigpe3JldHVybiBFfHxPZj4wfWZ1bmN0aW9uIFVmKCl7aWYoZS5wcmVSdW4pZm9yKHR5cGVvZiBlLnByZVJ1bj09ImZ1bmN0aW9uIiYmKGUucHJlUnVuPVtlLnByZVJ1bl0pO2UucHJlUnVuLmxlbmd0aDspJGYoZS5wcmVSdW4uc2hpZnQoKSk7RnIoZ28pfWZ1bmN0aW9uIExmKCl7RnIoeW8pfWZ1bmN0aW9uIHpmKCl7aWYoZS5wb3N0UnVuKWZvcih0eXBlb2YgZS5wb3N0UnVuPT0iZnVuY3Rpb24iJiYoZS5wb3N0UnVuPVtlLnBvc3RSdW5dKTtlLnBvc3RSdW4ubGVuZ3RoOylXZihlLnBvc3RSdW4uc2hpZnQoKSk7RnIoeG8pfWZ1bmN0aW9uICRmKGMpe2dvLnVuc2hpZnQoYyl9ZnVuY3Rpb24gR2YoYyl7eW8udW5zaGlmdChjKX1mdW5jdGlvbiBXZihjKXt4by51bnNoaWZ0KGMpfXZhciB2ZT0wLFdlPW51bGw7ZnVuY3Rpb24gVmYoYyl7dmUrKyxlLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh2ZSl9ZnVuY3Rpb24gSGYoYyl7aWYodmUtLSxlLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh2ZSksdmU9PTAmJldlKXt2YXIgaD1XZTtXZT1udWxsLGgoKX19ZS5wcmVsb2FkZWRJbWFnZXM9e30sZS5wcmVsb2FkZWRBdWRpb3M9e307ZnVuY3Rpb24gZmUoYyl7ZS5vbkFib3J0JiZlLm9uQWJvcnQoYyksYz0iQWJvcnRlZCgiK2MrIikiLGQoYyksRj0hMCxjKz0iLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLiI7dmFyIGg9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihjKTt0aHJvdyBvKGgpLGh9dmFyIGpmPSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiBfbyhjKXtyZXR1cm4gYy5zdGFydHNXaXRoKGpmKX12YXIgWDtYPSJ0ZmxpdGUtc2ltZC53YXNtIixfbyhYKXx8KFg9cChYKSk7ZnVuY3Rpb24gYm8oYyl7dHJ5e2lmKGM9PVgmJl8pcmV0dXJuIG5ldyBVaW50OEFycmF5KF8pO2lmKCFnKXRocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1jYXRjaChoKXtmZShoKX19ZnVuY3Rpb24gWWYoKXtyZXR1cm4hXyYmZiYmdHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iP2ZldGNoKFgse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKGMpe2lmKCFjLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrWCsiJyI7cmV0dXJuIGMuYXJyYXlCdWZmZXIoKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIGJvKFgpfSk6UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBibyhYKX0pfWZ1bmN0aW9uIFhmKCl7dmFyIGM9e2E6cGx9O2Z1bmN0aW9uIGgodyxNKXt2YXIgcT13LmV4cG9ydHM7ZS5hc209cSx2PWUuYXNtLnEscG8odi5idWZmZXIpLFJyPWUuYXNtLkUsR2YoZS5hc20uciksSGYoKX1WZigpO2Z1bmN0aW9uIHkodyl7aCh3Lmluc3RhbmNlKX1mdW5jdGlvbiBUKHcpe3JldHVybiBZZigpLnRoZW4oZnVuY3Rpb24oTSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKE0sYyl9KS50aGVuKGZ1bmN0aW9uKE0pe3JldHVybiBNfSkudGhlbih3LGZ1bmN0aW9uKE0pe2QoImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICIrTSksZmUoTSl9KX1mdW5jdGlvbiBEKCl7cmV0dXJuIV8mJnR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZz09ImZ1bmN0aW9uIiYmIV9vKFgpJiZ0eXBlb2YgZmV0Y2g9PSJmdW5jdGlvbiI/ZmV0Y2goWCx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oZnVuY3Rpb24odyl7dmFyIE09V2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcodyxjKTtyZXR1cm4gTS50aGVuKHksZnVuY3Rpb24ocSl7cmV0dXJuIGQoIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK3EpLGQoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksVCh5KX0pfSk6VCh5KX1pZihlLmluc3RhbnRpYXRlV2FzbSl0cnl7dmFyIE49ZS5pbnN0YW50aWF0ZVdhc20oYyxoKTtyZXR1cm4gTn1jYXRjaCh3KXtyZXR1cm4gZCgiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIit3KSwhMX1yZXR1cm4gRCgpLmNhdGNoKG8pLHt9fWZ1bmN0aW9uIEZyKGMpe2Zvcig7Yy5sZW5ndGg+MDspe3ZhciBoPWMuc2hpZnQoKTtpZih0eXBlb2YgaD09ImZ1bmN0aW9uIil7aChlKTtjb250aW51ZX12YXIgeT1oLmZ1bmM7dHlwZW9mIHk9PSJudW1iZXIiP2guYXJnPT09dm9pZCAwP1JyLmdldCh5KSgpOlJyLmdldCh5KShoLmFyZyk6eShoLmFyZz09PXZvaWQgMD9udWxsOmguYXJnKX19ZnVuY3Rpb24gUWYoYyxoLHksVCl7ZmUoIkFzc2VydGlvbiBmYWlsZWQ6ICIreihjKSsiLCBhdDogIitbaD96KGgpOiJ1bmtub3duIGZpbGVuYW1lIix5LFQ/eihUKToidW5rbm93biBmdW5jdGlvbiJdKX1mdW5jdGlvbiBLZihjLGgpe2ZlKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlbidzIGxpbmtpbmcgc3VwcG9ydCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciKX1mdW5jdGlvbiBxZihjLGgpe2ZlKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlbidzIGxpbmtpbmcgc3VwcG9ydCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciKX1mdW5jdGlvbiBKZigpe2ZlKCIiKX12YXIgU3Q7U3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCl9O3ZhciBaZj0hMDtmdW5jdGlvbiBlbChjKXtyZXR1cm4gV1t2bygpPj4yXT1jLGN9ZnVuY3Rpb24gdGwoYyxoKXt2YXIgeTtpZihjPT09MCl5PURhdGUubm93KCk7ZWxzZSBpZigoYz09PTF8fGM9PT00KSYmWmYpeT1TdCgpO2Vsc2UgcmV0dXJuIGVsKDI4KSwtMTtyZXR1cm4gV1toPj4yXT15LzFlM3wwLFdbaCs0Pj4yXT15JTFlMyoxZTMqMWUzfDAsMH1mdW5jdGlvbiBybCgpe3JldHVybiAyMTQ3NDgzNjQ4fWZ1bmN0aW9uIG5sKGMsaCx5KXtjZS5jb3B5V2l0aGluKGMsaCxoK3kpfWZ1bmN0aW9uIG9sKGMpe3RyeXtyZXR1cm4gdi5ncm93KGMtR2UuYnl0ZUxlbmd0aCs2NTUzNT4+PjE2KSxwbyh2LmJ1ZmZlciksMX1jYXRjaHt9fWZ1bmN0aW9uIGlsKGMpe3ZhciBoPWNlLmxlbmd0aDtjPWM+Pj4wO3ZhciB5PTIxNDc0ODM2NDg7aWYoYz55KXJldHVybiExO2Zvcih2YXIgVD0xO1Q8PTQ7VCo9Mil7dmFyIEQ9aCooMSsuMi9UKTtEPU1hdGgubWluKEQsYysxMDA2NjMyOTYpO3ZhciBOPU1hdGgubWluKHksRyhNYXRoLm1heChjLEQpLDY1NTM2KSksdz1vbChOKTtpZih3KXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHNsKGMpe2Zvcih2YXIgaD1TdCgpO1N0KCktaDxjOyk7fXZhciBQcj17fTtmdW5jdGlvbiBhbCgpe3JldHVybiBhfHwiLi90aGlzLnByb2dyYW0ifWZ1bmN0aW9uIFZlKCl7aWYoIVZlLnN0cmluZ3Mpe3ZhciBjPSh0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0IiYmbmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8IkMiKS5yZXBsYWNlKCItIiwiXyIpKyIuVVRGLTgiLGg9e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzpjLF86YWwoKX07Zm9yKHZhciB5IGluIFByKVByW3ldPT09dm9pZCAwP2RlbGV0ZSBoW3ldOmhbeV09UHJbeV07dmFyIFQ9W107Zm9yKHZhciB5IGluIGgpVC5wdXNoKHkrIj0iK2hbeV0pO1ZlLnN0cmluZ3M9VH1yZXR1cm4gVmUuc3RyaW5nc312YXIgUnQ9e21hcHBpbmdzOnt9LGJ1ZmZlcnM6W251bGwsW10sW11dLHByaW50Q2hhcjpmdW5jdGlvbihjLGgpe3ZhciB5PVJ0LmJ1ZmZlcnNbY107aD09PTB8fGg9PT0xMD8oKGM9PT0xP3g6ZCkoJCh5LDApKSx5Lmxlbmd0aD0wKTp5LnB1c2goaCl9LHZhcmFyZ3M6dm9pZCAwLGdldDpmdW5jdGlvbigpe1J0LnZhcmFyZ3MrPTQ7dmFyIGM9V1tSdC52YXJhcmdzLTQ+PjJdO3JldHVybiBjfSxnZXRTdHI6ZnVuY3Rpb24oYyl7dmFyIGg9eihjKTtyZXR1cm4gaH0sZ2V0NjQ6ZnVuY3Rpb24oYyxoKXtyZXR1cm4gY319O2Z1bmN0aW9uIHVsKGMsaCl7dmFyIHk9MDtyZXR1cm4gVmUoKS5mb3JFYWNoKGZ1bmN0aW9uKFQsRCl7dmFyIE49aCt5O1dbYytEKjQ+PjJdPU4sVihULE4pLHkrPVQubGVuZ3RoKzF9KSwwfWZ1bmN0aW9uIGNsKGMsaCl7dmFyIHk9VmUoKTtXW2M+PjJdPXkubGVuZ3RoO3ZhciBUPTA7cmV0dXJuIHkuZm9yRWFjaChmdW5jdGlvbihEKXtUKz1ELmxlbmd0aCsxfSksV1toPj4yXT1ULDB9ZnVuY3Rpb24gZmwoYyl7eWwoYyl9ZnVuY3Rpb24gbGwoYyl7cmV0dXJuIDB9ZnVuY3Rpb24gZGwoYyxoLHksVCxEKXt9ZnVuY3Rpb24gbWwoYyxoLHksVCl7Zm9yKHZhciBEPTAsTj0wO048eTtOKyspe2Zvcih2YXIgdz1XW2grTio4Pj4yXSxNPVdbaCsoTio4KzQpPj4yXSxxPTA7cTxNO3ErKylSdC5wcmludENoYXIoYyxjZVt3K3FdKTtEKz1NfXJldHVybiBXW1Q+PjJdPUQsMH1mdW5jdGlvbiBobCgpe2lmKHR5cGVvZiBjcnlwdG89PSJvYmplY3QiJiZ0eXBlb2YgY3J5cHRvLmdldFJhbmRvbVZhbHVlcz09ImZ1bmN0aW9uIil7dmFyIGM9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYyksY1swXX19ZWxzZSByZXR1cm4gZnVuY3Rpb24oKXtmZSgicmFuZG9tRGV2aWNlIil9fWZ1bmN0aW9uIEZ0KGMsaCl7RnQucmFuZG9tRGV2aWNlfHwoRnQucmFuZG9tRGV2aWNlPWhsKCkpO2Zvcih2YXIgeT0wO3k8aDt5KyspYmVbYyt5Pj4wXT1GdC5yYW5kb21EZXZpY2UoKTtyZXR1cm4gMH12YXIgcGw9e2E6UWYsZTpLZixkOnFmLGI6SmYsbjp0bCxoOnJsLGw6bmwsbTppbCxwOnNsLGY6dWwsZzpjbCxqOmZsLGk6bGwsazpkbCxjOm1sLG86RnR9O1hmKCksZS5fX193YXNtX2NhbGxfY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fX193YXNtX2NhbGxfY3RvcnM9ZS5hc20ucikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldD1mdW5jdGlvbigpe3JldHVybihlLl9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldD1lLmFzbS5zKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX2dldElucHV0TWVtb3J5T2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuKGUuX2dldElucHV0TWVtb3J5T2Zmc2V0PWUuYXNtLnQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fZ2V0SW5wdXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fZ2V0SW5wdXRIZWlnaHQ9ZS5hc20udSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRJbnB1dFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuKGUuX2dldElucHV0V2lkdGg9ZS5hc20udikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRJbnB1dENoYW5uZWxDb3VudD1mdW5jdGlvbigpe3JldHVybihlLl9nZXRJbnB1dENoYW5uZWxDb3VudD1lLmFzbS53KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX2dldE91dHB1dE1lbW9yeU9mZnNldD1mdW5jdGlvbigpe3JldHVybihlLl9nZXRPdXRwdXRNZW1vcnlPZmZzZXQ9ZS5hc20ueCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRPdXRwdXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fZ2V0T3V0cHV0SGVpZ2h0PWUuYXNtLnkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fZ2V0T3V0cHV0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fZ2V0T3V0cHV0V2lkdGg9ZS5hc20ueikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRPdXRwdXRDaGFubmVsQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fZ2V0T3V0cHV0Q2hhbm5lbENvdW50PWUuYXNtLkEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fbG9hZE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuKGUuX2xvYWRNb2RlbD1lLmFzbS5CKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX3J1bkluZmVyZW5jZT1mdW5jdGlvbigpe3JldHVybihlLl9ydW5JbmZlcmVuY2U9ZS5hc20uQykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9pc0dQVUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5faXNHUFVFbmFibGVkPWUuYXNtLkQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIHZvPWUuX19fZXJybm9fbG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4odm89ZS5fX19lcnJub19sb2NhdGlvbj1lLmFzbS5GKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFB0O2Z1bmN0aW9uIGdsKGMpe3RoaXMubmFtZT0iRXhpdFN0YXR1cyIsdGhpcy5tZXNzYWdlPSJQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCIrYysiKSIsdGhpcy5zdGF0dXM9Y31XZT1mdW5jdGlvbiBjKCl7UHR8fGtyKCksUHR8fChXZT1jKX07ZnVuY3Rpb24ga3IoYyl7aWYodmU+MHx8KFVmKCksdmU+MCkpcmV0dXJuO2Z1bmN0aW9uIGgoKXtQdHx8KFB0PSEwLGUuY2FsbGVkUnVuPSEwLCFGJiYoTGYoKSxuKGUpLGUub25SdW50aW1lSW5pdGlhbGl6ZWQmJmUub25SdW50aW1lSW5pdGlhbGl6ZWQoKSx6ZigpKSl9ZS5zZXRTdGF0dXM/KGUuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnNldFN0YXR1cygiIil9LDEpLGgoKX0sMSkpOmgoKX1lLnJ1bj1rcjtmdW5jdGlvbiB5bChjLGgpe3hsKGMpfWZ1bmN0aW9uIHhsKGMpe01mKCl8fChlLm9uRXhpdCYmZS5vbkV4aXQoYyksRj0hMCksdShjLG5ldyBnbChjKSl9aWYoZS5wcmVJbml0KWZvcih0eXBlb2YgZS5wcmVJbml0PT0iZnVuY3Rpb24iJiYoZS5wcmVJbml0PVtlLnByZUluaXRdKTtlLnByZUluaXQubGVuZ3RoPjA7KWUucHJlSW5pdC5wb3AoKSgpO3JldHVybiBrcigpLHQucmVhZHl9fSgpO2NsYXNzIFVpe2NvbnN0cnVjdG9yKCl7bCh0aGlzLCJzZWxlY3RlZFRGTGl0ZSIpO2wodGhpcywiaXNTSU1EU3VwcG9ydGVkIiwhMSk7bCh0aGlzLCJpc1RocmVhZHNTdXBwb3J0ZWQiLCExKTtsKHRoaXMsImlucHV0V2lkdGgiLDApO2wodGhpcywiaW5wdXRIZWlnaHQiLDApO2wodGhpcywiaW5wdXRDaGFubmVsQ291bnQiLDApO2wodGhpcywiaW5wdXRNZW1vcnlPZmZzZXQiLDApO2wodGhpcywib3V0cHV0V2lkdGgiLDApO2wodGhpcywib3V0cHV0SGVpZ2h0IiwwKTtsKHRoaXMsIm91dHB1dENoYW5uZWxDb3VudCIsMCk7bCh0aGlzLCJvdXRwdXRNZW1vcnlPZmZzZXQiLDApfX1jb25zdCBMaT0iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC92b25hZ2UtdGVuc29yZmxvdy13YXNtL3RmbGl0ZS1zaW1kLXdhc20vMS4xLjMvIix6aT0iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC9tbC9zZWxmaWVfc2VnbWVudGF0aW9uLzQuMC4wLyI7YXN5bmMgZnVuY3Rpb24gJGkocj1MaSx0PXppKXtsZXQgZT1uZXcgVWk7dmFyIG49bmV3IFByb21pc2UoZnVuY3Rpb24obyxpKXthc3luYyBmdW5jdGlvbiBzKCl7cmV0dXJuIE1pKHtsb2NhdGVGaWxlOmZ1bmN0aW9uKGYpe3JldHVybiByK2Z9fSl9YXN5bmMgZnVuY3Rpb24gYSh1KXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoZixtKT0+e2NvbnN0IHA9dTtpZih0eXBlb2YgcD4idSIpcmV0dXJuIG0oIlRGTGl0ZSBiYWNrZW5kIHVuYXZhaWxhYmxlOiB3YXNtU2ltZCIpO2NvbnN0IGc9InNlbGZpZV9zZWdtZW50YXRpb25fbGFuZHNjYXBlIjtjb25zb2xlLmxvZygiTG9hZGluZyB0ZmxpdGUgbW9kZWw6IixnKTtsZXQgeD10K2Ake2d9LnRmbGl0ZWA7Y29uc29sZS5sb2coIlRGTGl0ZSBtb2RlbFVybDogIit4KTt0cnl7Y29uc3QgXz1hd2FpdChhd2FpdCBmZXRjaCh4KSkuYXJyYXlCdWZmZXIoKTtjb25zb2xlLmxvZygiTW9kZWwgYnVmZmVyIHNpemU6IixfLmJ5dGVMZW5ndGgpO2NvbnN0IEU9cC5fZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQoKTtjb25zb2xlLmxvZygiTW9kZWwgYnVmZmVyIG1lbW9yeSBvZmZzZXQ6IixFKSxjb25zb2xlLmxvZygiTG9hZGluZyBtb2RlbCBidWZmZXIuLi4iKSxwLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkoXyksRSk7Y29uc3Qgdj1wLl9sb2FkTW9kZWwoXy5ieXRlTGVuZ3RoKTtpZihjb25zb2xlLmxvZygiTG9hZCBtb2RlbCByZXN1bHQ6Iix2KSx2IT09MCl7bSgiQ2Fubm90IGxvYWQgbW9kZWwiKTtyZXR1cm59ZS5pbnB1dFdpZHRoPXAuX2dldElucHV0V2lkdGgoKSxlLmlucHV0SGVpZ2h0PXAuX2dldElucHV0SGVpZ2h0KCksZS5pbnB1dENoYW5uZWxDb3VudD1wLl9nZXRJbnB1dENoYW5uZWxDb3VudCgpLGUuaW5wdXRNZW1vcnlPZmZzZXQ9cC5fZ2V0SW5wdXRNZW1vcnlPZmZzZXQoKSxjb25zb2xlLmxvZygiSW5wdXQgbWVtb3J5IG9mZnNldDoiLGUuaW5wdXRNZW1vcnlPZmZzZXQpLGNvbnNvbGUubG9nKCJJbnB1dCBoZWlnaHQ6IixlLmlucHV0SGVpZ2h0KSxjb25zb2xlLmxvZygiSW5wdXQgd2lkdGg6IixlLmlucHV0V2lkdGgpLGNvbnNvbGUubG9nKCJJbnB1dCBjaGFubmVsczoiLGUuaW5wdXRDaGFubmVsQ291bnQpLGUub3V0cHV0TWVtb3J5T2Zmc2V0PXAuX2dldE91dHB1dE1lbW9yeU9mZnNldCgpLGUub3V0cHV0V2lkdGg9cC5fZ2V0T3V0cHV0V2lkdGgoKSxlLm91dHB1dEhlaWdodD1wLl9nZXRPdXRwdXRIZWlnaHQoKSxlLm91dHB1dENoYW5uZWxDb3VudD1wLl9nZXRPdXRwdXRDaGFubmVsQ291bnQoKSxjb25zb2xlLmxvZygiT3V0cHV0IG1lbW9yeSBvZmZzZXQ6IixlLm91dHB1dE1lbW9yeU9mZnNldCksY29uc29sZS5sb2coIk91dHB1dCBoZWlnaHQ6IixlLm91dHB1dEhlaWdodCksY29uc29sZS5sb2coIk91dHB1dCB3aWR0aDoiLGUub3V0cHV0V2lkdGgpLGNvbnNvbGUubG9nKCJPdXRwdXQgY2hhbm5lbHM6IixlLm91dHB1dENoYW5uZWxDb3VudCksZS5zZWxlY3RlZFRGTGl0ZT1wfWNhdGNoKGQpe20oZCk7cmV0dXJufWYoKX0pfXMoKS50aGVuKHU9PntpZih1PT09bnVsbCl0aHJvdyBjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlIG51bGwiKSwibG9hZFRGTGl0ZSBudWxsIjthKHUpLnRoZW4oZj0+e28oZSl9KS5jYXRjaChmPT57Y29uc29sZS5lcnJvcigibG9hZFRGTGl0ZU1vZGVsIGVycm9yIiksaSgibG9hZFRGTGl0ZU1vZGVsIGVycm9yIil9KX0pLmNhdGNoKHU9Pntjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlIGVycm9yOiIsdSksaSgibG9hZFRGTGl0ZSBlcnJvcjoiK3UpfSl9KTtyZXR1cm4gbn1jbGFzcyBHaXtjb25zdHJ1Y3Rvcigpe2wodGhpcywiY2FudmFzIixuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCkpO2wodGhpcywiY29udGV4dCIsdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KSk7bCh0aGlzLCJwaXhlbENvdW50IiwwKTtsKHRoaXMsImlucHV0T2Zmc2V0IiwwKTtsKHRoaXMsIm91dHB1dE9mZnNldCIsMCk7bCh0aGlzLCJpbmZvcyIpO2wodGhpcywibWFzayIpfWFzeW5jIGluaXQodCxlKXthd2FpdCB0aGlzLmluaXRXYXNtKHQsZSksdGhpcy5pbmZvcyYmKHRoaXMuY2FudmFzLndpZHRoPXRoaXMuaW5mb3MuaW5wdXRXaWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQ9dGhpcy5pbmZvcy5pbnB1dEhlaWdodCx0aGlzLnBpeGVsQ291bnQ9dGhpcy5pbmZvcy5pbnB1dFdpZHRoKnRoaXMuaW5mb3MuaW5wdXRIZWlnaHQsdGhpcy5tYXNrPW5ldyBJbWFnZURhdGEodGhpcy5pbmZvcy5pbnB1dFdpZHRoLHRoaXMuaW5mb3MuaW5wdXRIZWlnaHQpLHRoaXMuaW5wdXRPZmZzZXQ9dGhpcy5pbmZvcy5pbnB1dE1lbW9yeU9mZnNldC80LHRoaXMub3V0cHV0T2Zmc2V0PXRoaXMuaW5mb3Mub3V0cHV0TWVtb3J5T2Zmc2V0LzQpfWFzeW5jIGluaXRXYXNtKHQsZSl7dGhpcy5pbmZvcz1hd2FpdCAkaSh0LGUpfWdldE91dHB1dERpbWVuc2lvbnMoKXt2YXIgdCxlLG4sbztyZXR1cm57d2lkdGg6KGU9KHQ9dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOnQub3V0cHV0V2lkdGgpIT1udWxsP2U6MCxoZWlnaHQ6KG89KG49dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOm4ub3V0cHV0SGVpZ2h0KSE9bnVsbD9vOjB9fWFzeW5jIHByb2Nlc3ModCl7aWYoIXRoaXMubWFza3x8IXRoaXMuaW5mb3MpcmV0dXJuO2NvbnN0IGU9dGhpcy5pbmZvcy5pbnB1dFdpZHRoLG49dGhpcy5pbmZvcy5pbnB1dEhlaWdodDt0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHQsMCwwLHQud2lkdGgsdC5oZWlnaHQsMCwwLGUsbik7Y29uc3Qgbz10aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCxlLG4pLGk9dGhpcy5pbmZvcy5zZWxlY3RlZFRGTGl0ZS5IRUFQRjMyO2ZvcihsZXQgcz0wO3M8dGhpcy5waXhlbENvdW50O3MrKyl7Y29uc3QgYT10aGlzLmlucHV0T2Zmc2V0K3MqMztpW2FdPW8uZGF0YVtzKjRdLzI1NSxpW2ErMV09by5kYXRhW3MqNCsxXS8yNTUsaVthKzJdPW8uZGF0YVtzKjQrMl0vMjU1fXRoaXMuaW5mb3Muc2VsZWN0ZWRURkxpdGUuX3J1bkluZmVyZW5jZSgpO2ZvcihsZXQgcz0wO3M8dGhpcy5waXhlbENvdW50O3MrKyl7Y29uc3QgYT10aGlzLmluZm9zLnNlbGVjdGVkVEZMaXRlLkhFQVBGMzJbdGhpcy5vdXRwdXRPZmZzZXQrc107dGhpcy5tYXNrLmRhdGFbcyo0XT10aGlzLm1hc2suZGF0YVtzKjQrM109MjU1KmF9cmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKHRoaXMubWFzayl9aXNHcHVTdXBwb3J0ZWQoKXt2YXIgdCxlLG47cmV0dXJuKG49KGU9KHQ9dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOnQuc2VsZWN0ZWRURkxpdGUpPT1udWxsP3ZvaWQgMDplLl9pc0dQVUVuYWJsZWQoKSkhPW51bGw/bjohMX19ZnVuY3Rpb24gV2koKXtyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcygwLDApLmdldENvbnRleHQoIndlYmdsMiIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KT97c3VwcG9ydGVkOiEwfTp7c3VwcG9ydGVkOiExLG1lc3NhZ2U6IllvdXIgaGFyZHdhcmUgZG9lcyBub3QgcGVyZm9ybSBnb29kIGVub3VnaCB0byBydW4gdGhlIGxpYnJhcnkgZWZmaWNpZW50bHkifX1jbGFzcyBXdHtjb25zdHJ1Y3Rvcigpe2wodGhpcywiY2FudmFzIik7bCh0aGlzLCJjb250ZXh0Iik7Y29uc3QgdD1uZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCksZT10LmdldENvbnRleHQoIjJkIik7aWYoIWUpdGhyb3ciRmFpbCB0byByZXRyaWV2ZSB3ZWJnbDIgY29udGV4dCI7dGhpcy5jYW52YXM9dCx0aGlzLmNvbnRleHQ9ZX1zZXRGbGlja2VyaW5nT3B0aW9ucyh0KXt9ZW5hYmxlUG9zdFByb2Nlc3NpbmcoKXt9ZGlzYWJsZVBvc3RQcm9jZXNzaW5nKCl7fWFzeW5jIHByb2ZpbGVXZWJnbCh0KXtyZXR1cm5bXX1hc3luYyByZW5kZXIodCxlKXtyZXR1cm4gdGhpcy5jYW52YXN9cmVzaXplQ2FudmFzKHQpe2NvbnN0e3dpZHRoOmUsaGVpZ2h0Om59PXQ7dGhpcy5jYW52YXMud2lkdGg9ZSx0aGlzLmNhbnZhcy5oZWlnaHQ9bn1yZW5kZXJTaWxob3VldHRlKHQsZSxuPSJub25lIil7Y29uc3R7d2lkdGg6byxoZWlnaHQ6aX09dDt0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsbyxpKSx0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJzb3VyY2UtaW4iLHRoaXMuY29udGV4dC5maWx0ZXI9bix0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHQsMCwwLG8saSwwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KSx0aGlzLmNvbnRleHQucmVzdG9yZSgpfX1jbGFzcyBWaSBleHRlbmRzIFd0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5yYWRpdXM9dH1hc3luYyByZW5kZXIodCxlKXtyZXR1cm4gc3VwZXIucmVzaXplQ2FudmFzKHQpLHRoaXMucmVuZGVyU2lsaG91ZXR0ZSh0LGUpLHRoaXMuY29udGV4dC5zYXZlKCksdGhpcy5jb250ZXh0LmZpbHRlcj1gYmx1cigke3RoaXMucmFkaXVzfXB4KWAsdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iZGVzdGluYXRpb24tb3ZlciIsdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSx0aGlzLmNvbnRleHQucmVzdG9yZSgpLHN1cGVyLnJlbmRlcih0LGUpfX1jbGFzcyBIaSBleHRlbmRzIFd0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5yYWRpdXM9dH1hc3luYyByZW5kZXIodCxlKXtyZXR1cm4gc3VwZXIucmVzaXplQ2FudmFzKHQpLHRoaXMucmVuZGVyU2lsaG91ZXR0ZSh0LGUsYGJsdXIoJHt0aGlzLnJhZGl1c31weClgKSx0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5maWx0ZXI9Im5vbmUiLHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImRlc3RpbmF0aW9uLW92ZXIiLHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodCwwLDAsdC53aWR0aCx0LmhlaWdodCksdGhpcy5jb250ZXh0LnJlc3RvcmUoKSxzdXBlci5yZW5kZXIodCxlKX19Y2xhc3MgamkgZXh0ZW5kcyBXdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7bCh0aGlzLCJiYWNrZ3JvdW5kSW1hZ2UiKX1zZXRCYWNrZ3JvdW5kSW1hZ2UoZSl7dGhpcy5iYWNrZ3JvdW5kSW1hZ2U9ZX1hc3luYyByZW5kZXIoZSxuKXtyZXR1cm4gc3VwZXIucmVzaXplQ2FudmFzKGUpLHRoaXMucmVuZGVyU2lsaG91ZXR0ZShlLG4pLHRoaXMuYmFja2dyb3VuZEltYWdlJiYodGhpcy5jb250ZXh0LnNhdmUoKSx0aGlzLmNvbnRleHQuZmlsdGVyPSJub25lIix0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJkZXN0aW5hdGlvbi1vdmVyIix0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuYmFja2dyb3VuZEltYWdlLDAsMCx0aGlzLmJhY2tncm91bmRJbWFnZS53aWR0aCx0aGlzLmJhY2tncm91bmRJbWFnZS5oZWlnaHQsMCwwLGUud2lkdGgsZS5oZWlnaHQpLHRoaXMuY29udGV4dC5yZXN0b3JlKCkpLHN1cGVyLnJlbmRlcihlLG4pfX0vKiBAbGljZW5zZSB0d2dsLmpzIDUuMi4wIENvcHlyaWdodCAoYykgMjAxNSwgR3JlZ2cgVGF2YXJlcyBBbGwgUmlnaHRzIFJlc2VydmVkLgpBdmFpbGFibGUgdmlhIHRoZSBNSVQgbGljZW5zZS4Kc2VlOiBodHRwOi8vZ2l0aHViLmNvbS9ncmVnZ21hbi90d2dsLmpzIGZvciBkZXRhaWxzICovY29uc3QgVnQ9NTEyMCxCZT01MTIxLEh0PTUxMjIsanQ9NTEyMyxZdD01MTI0LFh0PTUxMjUsUXQ9NTEyNixZaT0zMjgxOSxYaT0zMjgyMCxRaT0zMzYzNSxLaT01MTMxLHFpPTMzNjQwLEppPTM1ODk5LFppPTM1OTAyLGVzPTM2MjY5LHRzPTM0MDQyLGpyPXt9O3tjb25zdCByPWpyO3JbVnRdPUludDhBcnJheSxyW0JlXT1VaW50OEFycmF5LHJbSHRdPUludDE2QXJyYXkscltqdF09VWludDE2QXJyYXkscltZdF09SW50MzJBcnJheSxyW1h0XT1VaW50MzJBcnJheSxyW1F0XT1GbG9hdDMyQXJyYXkscltZaV09VWludDE2QXJyYXkscltYaV09VWludDE2QXJyYXkscltRaV09VWludDE2QXJyYXkscltLaV09VWludDE2QXJyYXkscltxaV09VWludDMyQXJyYXkscltKaV09VWludDMyQXJyYXkscltaaV09VWludDMyQXJyYXkscltlc109VWludDMyQXJyYXksclt0c109VWludDMyQXJyYXl9ZnVuY3Rpb24gS3Qocil7aWYociBpbnN0YW5jZW9mIEludDhBcnJheSlyZXR1cm4gVnQ7aWYociBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHIgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSlyZXR1cm4gQmU7aWYociBpbnN0YW5jZW9mIEludDE2QXJyYXkpcmV0dXJuIEh0O2lmKHIgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlyZXR1cm4ganQ7aWYociBpbnN0YW5jZW9mIEludDMyQXJyYXkpcmV0dXJuIFl0O2lmKHIgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gWHQ7aWYociBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlyZXR1cm4gUXQ7dGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlIil9ZnVuY3Rpb24gWXIocil7aWYocj09PUludDhBcnJheSlyZXR1cm4gVnQ7aWYocj09PVVpbnQ4QXJyYXl8fHI9PT1VaW50OENsYW1wZWRBcnJheSlyZXR1cm4gQmU7aWYocj09PUludDE2QXJyYXkpcmV0dXJuIEh0O2lmKHI9PT1VaW50MTZBcnJheSlyZXR1cm4ganQ7aWYocj09PUludDMyQXJyYXkpcmV0dXJuIFl0O2lmKHI9PT1VaW50MzJBcnJheSlyZXR1cm4gWHQ7aWYocj09PUZsb2F0MzJBcnJheSlyZXR1cm4gUXQ7dGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlIil9ZnVuY3Rpb24gWHIocil7Y29uc3QgdD1qcltyXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gZ2wgdHlwZSIpO3JldHVybiB0fWNvbnN0IG90PXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjwidSI/ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuYnVmZmVyJiYodC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dC5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcil9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LmJ1ZmZlciYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn07ZnVuY3Rpb24gUXIoLi4ucil7Y29uc29sZS5lcnJvciguLi5yKX1jb25zdCBLcj1uZXcgTWFwO2Z1bmN0aW9uIGl0KHIsdCl7aWYoIXJ8fHR5cGVvZiByIT0ib2JqZWN0IilyZXR1cm4hMTtsZXQgZT1Lci5nZXQodCk7ZXx8KGU9bmV3IFdlYWtNYXAsS3Iuc2V0KHQsZSkpO2xldCBuPWUuZ2V0KHIpO2lmKG49PT12b2lkIDApe2NvbnN0IG89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpO249by5zdWJzdHJpbmcoOCxvLmxlbmd0aC0xKT09PXQsZS5zZXQocixuKX1yZXR1cm4gbn1mdW5jdGlvbiBycyhyLHQpe3JldHVybiB0eXBlb2YgV2ViR0xCdWZmZXI8InUiJiZpdCh0LCJXZWJHTEJ1ZmZlciIpfWZ1bmN0aW9uIG5zKHIsdCl7cmV0dXJuIHR5cGVvZiBXZWJHTFJlbmRlcmJ1ZmZlcjwidSImJml0KHQsIldlYkdMUmVuZGVyYnVmZmVyIil9ZnVuY3Rpb24gcXQocix0KXtyZXR1cm4gdHlwZW9mIFdlYkdMVGV4dHVyZTwidSImJml0KHQsIldlYkdMVGV4dHVyZSIpfWZ1bmN0aW9uIG9zKHIsdCl7cmV0dXJuIHR5cGVvZiBXZWJHTFNhbXBsZXI8InUiJiZpdCh0LCJXZWJHTFNhbXBsZXIiKX1jb25zdCBxcj0zNTA0NCxoZT0zNDk2Mixpcz0zNDk2Myxzcz0zNDY2MCxhcz01MTIwLHVzPTUxMjEsY3M9NTEyMixmcz01MTIzLGxzPTUxMjQsZHM9NTEyNSxKcj01MTI2LFpyPXthdHRyaWJQcmVmaXg6IiJ9O2Z1bmN0aW9uIG1zKHIsdCxlLG4sbyl7ci5iaW5kQnVmZmVyKHQsZSksci5idWZmZXJEYXRhKHQsbixvfHxxcil9ZnVuY3Rpb24gZW4ocix0LGUsbil7aWYocnMocix0KSlyZXR1cm4gdDtlPWV8fGhlO2NvbnN0IG89ci5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gbXMocixlLG8sdCxuKSxvfWZ1bmN0aW9uIHRuKHIpe3JldHVybiByPT09ImluZGljZXMifWZ1bmN0aW9uIGhzKHIpe3JldHVybiByPT09SW50OEFycmF5fHxyPT09VWludDhBcnJheX1mdW5jdGlvbiBwcyhyKXtyZXR1cm4gci5sZW5ndGg/cjpyLmRhdGF9Y29uc3QgZ3M9L2Nvb3JkfHRleHR1cmUvaSx5cz0vY29sb3J8Y29sb3VyL2k7ZnVuY3Rpb24geHMocix0KXtsZXQgZTtpZihncy50ZXN0KHIpP2U9Mjp5cy50ZXN0KHIpP2U9NDplPTMsdCVlPjApdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IGd1ZXNzIG51bUNvbXBvbmVudHMgZm9yIGF0dHJpYnV0ZSAnJHtyfScuIFRyaWVkICR7ZX0gYnV0ICR7dH0gdmFsdWVzIGlzIG5vdCBldmVubHkgZGl2aXNpYmxlIGJ5ICR7ZX0uIFlvdSBzaG91bGQgc3BlY2lmeSBpdC5gKTtyZXR1cm4gZX1mdW5jdGlvbiBfcyhyLHQsZSl7cmV0dXJuIHIubnVtQ29tcG9uZW50c3x8ci5zaXplfHx4cyh0LGV8fHBzKHIpLmxlbmd0aCl9ZnVuY3Rpb24gcm4ocix0KXtpZihvdChyKSlyZXR1cm4gcjtpZihvdChyLmRhdGEpKXJldHVybiByLmRhdGE7QXJyYXkuaXNBcnJheShyKSYmKHI9e2RhdGE6cn0pO2xldCBlPXIudHlwZT9KdChyLnR5cGUpOnZvaWQgMDtyZXR1cm4gZXx8KHRuKHQpP2U9VWludDE2QXJyYXk6ZT1GbG9hdDMyQXJyYXkpLG5ldyBlKHIuZGF0YSl9ZnVuY3Rpb24gYnMocil7cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIj9yOnI/WXIocik6SnJ9ZnVuY3Rpb24gSnQocil7cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIj9YcihyKTpyfHxGbG9hdDMyQXJyYXl9ZnVuY3Rpb24gdnMocix0KXtyZXR1cm57YnVmZmVyOnQuYnVmZmVyLG51bVZhbHVlczoyKjMqNCx0eXBlOmJzKHQudHlwZSksYXJyYXlUeXBlOkp0KHQudHlwZSl9fWZ1bmN0aW9uIEVzKHIsdCl7Y29uc3QgZT10LmRhdGF8fHQsbj1KdCh0LnR5cGUpLG89ZSpuLkJZVEVTX1BFUl9FTEVNRU5ULGk9ci5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gci5iaW5kQnVmZmVyKGhlLGkpLHIuYnVmZmVyRGF0YShoZSxvLHQuZHJhd1R5cGV8fHFyKSx7YnVmZmVyOmksbnVtVmFsdWVzOmUsdHlwZTpZcihuKSxhcnJheVR5cGU6bn19ZnVuY3Rpb24gVHMocix0LGUpe2NvbnN0IG49cm4odCxlKTtyZXR1cm57YXJyYXlUeXBlOm4uY29uc3RydWN0b3IsYnVmZmVyOmVuKHIsbix2b2lkIDAsdC5kcmF3VHlwZSksdHlwZTpLdChuKSxudW1WYWx1ZXM6MH19ZnVuY3Rpb24gQXMocix0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCF0bihuKSl7Y29uc3Qgbz10W25dLGk9by5hdHRyaWJ8fG8ubmFtZXx8by5hdHRyaWJOYW1lfHxaci5hdHRyaWJQcmVmaXgrbjtpZihvLnZhbHVlKXtpZighQXJyYXkuaXNBcnJheShvLnZhbHVlKSYmIW90KG8udmFsdWUpKXRocm93IG5ldyBFcnJvcigiYXJyYXkudmFsdWUgaXMgbm90IGFycmF5IG9yIHR5cGVkYXJyYXkiKTtlW2ldPXt2YWx1ZTpvLnZhbHVlfX1lbHNle2xldCBzO28uYnVmZmVyJiZvLmJ1ZmZlciBpbnN0YW5jZW9mIFdlYkdMQnVmZmVyP3M9dnM6dHlwZW9mIG89PSJudW1iZXIifHx0eXBlb2Ygby5kYXRhPT0ibnVtYmVyIj9zPUVzOnM9VHM7Y29uc3R7YnVmZmVyOmEsdHlwZTp1LG51bVZhbHVlczpmLGFycmF5VHlwZTptfT1zKHIsbyxuKSxwPW8ubm9ybWFsaXplIT09dm9pZCAwP28ubm9ybWFsaXplOmhzKG0pLGc9X3MobyxuLGYpO2VbaV09e2J1ZmZlcjphLG51bUNvbXBvbmVudHM6Zyx0eXBlOnUsbm9ybWFsaXplOnAsc3RyaWRlOm8uc3RyaWRlfHwwLG9mZnNldDpvLm9mZnNldHx8MCxkaXZpc29yOm8uZGl2aXNvcj09PXZvaWQgMD92b2lkIDA6by5kaXZpc29yLGRyYXdUeXBlOm8uZHJhd1R5cGV9fX19KSxyLmJpbmRCdWZmZXIoaGUsbnVsbCksZX1mdW5jdGlvbiB3cyhyLHQpe3JldHVybiB0PT09YXN8fHQ9PT11cz8xOnQ9PT1jc3x8dD09PWZzPzI6dD09PWxzfHx0PT09ZHN8fHQ9PT1Kcj80OjB9Y29uc3QgWnQ9WyJwb3NpdGlvbiIsInBvc2l0aW9ucyIsImFfcG9zaXRpb24iXTtmdW5jdGlvbiBJcyhyLHQpe2xldCBlLG47Zm9yKG49MDtuPFp0Lmxlbmd0aCYmKGU9WnRbbl0sIShlIGluIHR8fChlPVpyLmF0dHJpYlByZWZpeCtlLGUgaW4gdCkpKTsrK24pO249PT1adC5sZW5ndGgmJihlPU9iamVjdC5rZXlzKHQpWzBdKTtjb25zdCBvPXRbZV07aWYoIW8uYnVmZmVyKXJldHVybiAxO3IuYmluZEJ1ZmZlcihoZSxvLmJ1ZmZlcik7Y29uc3QgaT1yLmdldEJ1ZmZlclBhcmFtZXRlcihoZSxzcyk7ci5iaW5kQnVmZmVyKGhlLG51bGwpO2NvbnN0IHM9d3MocixvLnR5cGUpLGE9aS9zLHU9by5udW1Db21wb25lbnRzfHxvLnNpemUsZj1hL3U7aWYoZiUxIT09MCl0aHJvdyBuZXcgRXJyb3IoYG51bUNvbXBvbmVudHMgJHt1fSBub3QgY29ycmVjdCBmb3IgbGVuZ3RoICR7bGVuZ3RofWApO3JldHVybiBmfWZ1bmN0aW9uIFNzKHIsdCxlKXtjb25zdCBuPUFzKHIsdCksbz1PYmplY3QuYXNzaWduKHt9LGV8fHt9KTtvLmF0dHJpYnM9T2JqZWN0LmFzc2lnbih7fSxlP2UuYXR0cmliczp7fSxuKTtjb25zdCBpPXQuaW5kaWNlcztpZihpKXtjb25zdCBzPXJuKGksImluZGljZXMiKTtvLmluZGljZXM9ZW4ocixzLGlzKSxvLm51bUVsZW1lbnRzPXMubGVuZ3RoLG8uZWxlbWVudFR5cGU9S3Qocyl9ZWxzZSBvLm51bUVsZW1lbnRzfHwoby5udW1FbGVtZW50cz1JcyhyLG8uYXR0cmlicykpO3JldHVybiBvfWZ1bmN0aW9uIE5lKHIpe3JldHVybiEhci50ZXhTdG9yYWdlMkR9Y29uc3Qgbm49ZnVuY3Rpb24oKXtjb25zdCByPXt9LHQ9e307ZnVuY3Rpb24gZShuKXtjb25zdCBvPW4uY29uc3RydWN0b3IubmFtZTtpZighcltvXSl7Zm9yKGNvbnN0IGkgaW4gbilpZih0eXBlb2YgbltpXT09Im51bWJlciIpe2NvbnN0IHM9dFtuW2ldXTt0W25baV1dPXM/YCR7c30gfCAke2l9YDppfXJbb109ITB9fXJldHVybiBmdW5jdGlvbihvLGkpe3JldHVybiBlKG8pLHRbaV18fCh0eXBlb2YgaT09Im51bWJlciI/YDB4JHtpLnRvU3RyaW5nKDE2KX1gOmkpfX0oKSxuZT17dGV4dHVyZUNvbG9yOm5ldyBVaW50OEFycmF5KFsxMjgsMTkyLDI1NSwyNTVdKSx0ZXh0dXJlT3B0aW9uczp7fSxjcm9zc09yaWdpbjp2b2lkIDB9LE9lPW90LG9uPWZ1bmN0aW9uKCl7bGV0IHI7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHI9cnx8KHR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTpudWxsKSxyfX0oKSxzbj02NDA2LEs9NjQwNyxSPTY0MDgsYW49NjQwOSx1bj02NDEwLE1lPTY0MDIsY249MzQwNDEsc3Q9MzMwNzEsUnM9OTcyOCxGcz05NzI5LG9lPTM1NTMsaWU9MzQwNjcscGU9MzI4NzksZ2U9MzU4NjYsZXI9MzQwNjksUHM9MzQwNzAsa3M9MzQwNzEsRHM9MzQwNzIsQ3M9MzQwNzMsQnM9MzQwNzQsdHI9MTAyNDEscnI9MTAyNDAsYXQ9MTAyNDIsdXQ9MTAyNDMsZm49MzI4ODIsTnM9MzMwODIsT3M9MzMwODMsTXM9MzMwODQsVXM9MzMwODUsbnI9MzMxNyxsbj0zMzE0LGRuPTMyODc4LG1uPTMzMTYsaG49MzMxNSxwbj0zMjg3NyxMcz0zNzQ0Myx6cz0zNzQ0MSwkcz0zNzQ0MCxHcz0zMzMyMSxXcz0zNjc1NixWcz0zMzMyNSxIcz0zMzMyNixqcz0zMzMzMCxZcz0zMzMyOSxYcz0zMzMzOCxRcz0zMzMzNyxLcz0zMzM0MCxxcz0zMzMzOSxKcz0zMzMyMyxacz0zNjc1NyxlYT0zMzMyNyx0YT0zMzMyOCxyYT0zMzMzNixuYT0zMzMzNSxvYT0zMzMzMixpYT0zMzMzMSxzYT0zMzMzNCxhYT0zMzMzMyx1YT0zMjg0OSxjYT0zNTkwNSxmYT0zNjE5NCxsYT0zNjc1OCxkYT0zNTg5OCxtYT0zNTkwMSxoYT0zNDg0MyxwYT0zNDgzNyxnYT0zNjIyMSx5YT0zNjIzOSx4YT0zNjIxNSxfYT0zNjIzMyxiYT0zNjIwOSx2YT0zNjIyNyxFYT0zMjg1NixUYT0zNTkwNyxBYT0zNjc1OSx3YT0zMjg1NSxJYT0zMjg1NCxTYT0zMjg1NyxSYT0zNDg0MixGYT0zNDgzNixQYT0zNjIyMCxrYT0zNjIzOCxEYT0zNjk3NSxDYT0zNjIxNCxCYT0zNjIzMixOYT0zNjIyNixPYT0zNjIwOCxNYT0zMzE4OSxVYT0zMzE5MCxMYT0zNjAxMix6YT0zNjAxMywkYT0zNTA1NixzZT01MTIwLFM9NTEyMSxjdD01MTIyLEFlPTUxMjMsZnQ9NTEyNCx5ZT01MTI1LE89NTEyNixnbj0zMjgxOSx5bj0zMjgyMCx4bj0zMzYzNSxqPTUxMzEsVWU9MzYxOTMsb3I9MzM2NDAsR2E9MzU4OTksV2E9MzU5MDIsVmE9MzYyNjksSGE9MzQwNDIsbHQ9MzMzMTksd2U9MzMzMjAsZHQ9NjQwMyxJZT0zNjI0NCxTZT0zNjI0OCx4ZT0zNjI0OTtsZXQgaXI7ZnVuY3Rpb24gbXQocil7aWYoIWlyKXtjb25zdCB0PXt9O3Rbc25dPXt0ZXh0dXJlRm9ybWF0OnNuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEsMiwyLDRdLHR5cGU6W1MsaixVZSxPXX0sdFthbl09e3RleHR1cmVGb3JtYXQ6YW4sY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMSwyLDIsNF0sdHlwZTpbUyxqLFVlLE9dfSx0W3VuXT17dGV4dHVyZUZvcm1hdDp1bixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsyLDQsNCw4XSx0eXBlOltTLGosVWUsT119LHRbS109e3RleHR1cmVGb3JtYXQ6Syxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlszLDYsNiwxMiwyXSx0eXBlOltTLGosVWUsTyx4bl19LHRbUl09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDgsOCwxNiwyLDJdLHR5cGU6W1MsaixVZSxPLGduLHluXX0sdFtNZV09e3RleHR1cmVGb3JtYXQ6TWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMiw0XSx0eXBlOlt5ZSxBZV19LHRbR3NdPXt0ZXh0dXJlRm9ybWF0OmR0LGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W1NdfSx0W1dzXT17dGV4dHVyZUZvcm1hdDpkdCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxXSx0eXBlOltzZV19LHRbVnNdPXt0ZXh0dXJlRm9ybWF0OmR0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzQsMl0sdHlwZTpbTyxqXX0sdFtIc109e3RleHR1cmVGb3JtYXQ6ZHQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbT119LHRbanNdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W1NdfSx0W1lzXT17dGV4dHVyZUZvcm1hdDpJZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxXSx0eXBlOltzZV19LHRbb2FdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W0FlXX0sdFtpYV09e3RleHR1cmVGb3JtYXQ6SWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbY3RdfSx0W3NhXT17dGV4dHVyZUZvcm1hdDpJZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt5ZV19LHRbYWFdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W2Z0XX0sdFtKc109e3RleHR1cmVGb3JtYXQ6bHQsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbU119LHRbWnNdPXt0ZXh0dXJlRm9ybWF0Omx0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W3NlXX0sdFtlYV09e3RleHR1cmVGb3JtYXQ6bHQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbOCw0XSx0eXBlOltPLGpdfSx0W3RhXT17dGV4dHVyZUZvcm1hdDpsdCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltPXX0sdFtyYV09e3RleHR1cmVGb3JtYXQ6d2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbU119LHRbbmFdPXt0ZXh0dXJlRm9ybWF0OndlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W3NlXX0sdFtYc109e3RleHR1cmVGb3JtYXQ6d2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbQWVdfSx0W1FzXT17dGV4dHVyZUZvcm1hdDp3ZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltjdF19LHRbS3NdPXt0ZXh0dXJlRm9ybWF0OndlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzhdLHR5cGU6W3llXX0sdFtxc109e3RleHR1cmVGb3JtYXQ6d2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbZnRdfSx0W3VhXT17dGV4dHVyZUZvcm1hdDpLLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W1NdfSx0W2NhXT17dGV4dHVyZUZvcm1hdDpLLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W1NdfSx0W2ZhXT17dGV4dHVyZUZvcm1hdDpLLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzMsMl0sdHlwZTpbUyx4bl19LHRbbGFdPXt0ZXh0dXJlRm9ybWF0OkssY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbM10sdHlwZTpbc2VdfSx0W2RhXT17dGV4dHVyZUZvcm1hdDpLLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEyLDYsNF0sdHlwZTpbTyxqLEdhXX0sdFttYV09e3RleHR1cmVGb3JtYXQ6Syxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxMiw2LDRdLHR5cGU6W08saixXYV19LHRbaGFdPXt0ZXh0dXJlRm9ybWF0OkssY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTIsNl0sdHlwZTpbTyxqXX0sdFtwYV09e3RleHR1cmVGb3JtYXQ6Syxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbT119LHRbZ2FdPXt0ZXh0dXJlRm9ybWF0OlNlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W1NdfSx0W3lhXT17dGV4dHVyZUZvcm1hdDpTZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlszXSx0eXBlOltzZV19LHRbeGFdPXt0ZXh0dXJlRm9ybWF0OlNlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzZdLHR5cGU6W0FlXX0sdFtfYV09e3RleHR1cmVGb3JtYXQ6U2UsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNl0sdHlwZTpbY3RdfSx0W2JhXT17dGV4dHVyZUZvcm1hdDpTZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbeWVdfSx0W3ZhXT17dGV4dHVyZUZvcm1hdDpTZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbZnRdfSx0W0VhXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1NdfSx0W1RhXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1NdfSx0W0FhXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W3NlXX0sdFt3YV09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDIsNF0sdHlwZTpbUyx5bixvcl19LHRbSWFdPXt0ZXh0dXJlRm9ybWF0OlIsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbNCwyXSx0eXBlOltTLGduXX0sdFtTYV09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltvcl19LHRbUmFdPXt0ZXh0dXJlRm9ybWF0OlIsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTYsOF0sdHlwZTpbTyxqXX0sdFtGYV09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxNl0sdHlwZTpbT119LHRbUGFdPXt0ZXh0dXJlRm9ybWF0OnhlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1NdfSx0W2thXT17dGV4dHVyZUZvcm1hdDp4ZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltzZV19LHRbRGFdPXt0ZXh0dXJlRm9ybWF0OnhlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W29yXX0sdFtDYV09e3RleHR1cmVGb3JtYXQ6eGUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbQWVdfSx0W0JhXT17dGV4dHVyZUZvcm1hdDp4ZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltjdF19LHRbTmFdPXt0ZXh0dXJlRm9ybWF0OnhlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOltmdF19LHRbT2FdPXt0ZXh0dXJlRm9ybWF0OnhlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOlt5ZV19LHRbTWFdPXt0ZXh0dXJlRm9ybWF0Ok1lLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzIsNF0sdHlwZTpbQWUseWVdfSx0W1VhXT17dGV4dHVyZUZvcm1hdDpNZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt5ZV19LHRbTGFdPXt0ZXh0dXJlRm9ybWF0Ok1lLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W09dfSx0WyRhXT17dGV4dHVyZUZvcm1hdDpjbixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltIYV19LHRbemFdPXt0ZXh0dXJlRm9ybWF0OmNuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1ZhXX0sT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtjb25zdCBuPXRbZV07bi5ieXRlc1BlckVsZW1lbnRNYXA9e30sbi5ieXRlc1BlckVsZW1lbnQuZm9yRWFjaChmdW5jdGlvbihvLGkpe2NvbnN0IHM9bi50eXBlW2ldO24uYnl0ZXNQZXJFbGVtZW50TWFwW3NdPW99KX0pLGlyPXR9cmV0dXJuIGlyW3JdfWZ1bmN0aW9uIGphKHIsdCl7Y29uc3QgZT1tdChyKTtpZighZSl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7Y29uc3Qgbj1lLmJ5dGVzUGVyRWxlbWVudE1hcFt0XTtpZihuPT09dm9pZCAwKXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm4gbn1mdW5jdGlvbiBMZShyKXtjb25zdCB0PW10KHIpO2lmKCF0KXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm57Zm9ybWF0OnQudGV4dHVyZUZvcm1hdCx0eXBlOnQudHlwZVswXX19ZnVuY3Rpb24gX24ocil7cmV0dXJuKHImci0xKT09PTB9ZnVuY3Rpb24gWWEocix0LGUsbil7aWYoIU5lKHIpKXJldHVybiBfbih0KSYmX24oZSk7Y29uc3Qgbz1tdChuKTtpZighbyl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7cmV0dXJuIG8uY29sb3JSZW5kZXJhYmxlJiZvLnRleHR1cmVGaWx0ZXJhYmxlfWZ1bmN0aW9uIFhhKHIpe2NvbnN0IHQ9bXQocik7aWYoIXQpdGhyb3cidW5rbm93biBpbnRlcm5hbCBmb3JtYXQiO3JldHVybiB0LnRleHR1cmVGaWx0ZXJhYmxlfWZ1bmN0aW9uIFFhKHIsdCxlKXtyZXR1cm4gT2UodCk/S3QodCk6ZXx8U31mdW5jdGlvbiBodChyLHQsZSxuLG8pe2lmKG8lMSE9PTApdGhyb3ciY2FuJ3QgZ3Vlc3MgZGltZW5zaW9ucyI7aWYoIWUmJiFuKXtjb25zdCBpPU1hdGguc3FydChvLyh0PT09aWU/NjoxKSk7aSUxPT09MD8oZT1pLG49aSk6KGU9byxuPTEpfWVsc2UgaWYobil7aWYoIWUmJihlPW8vbixlJTEpKXRocm93ImNhbid0IGd1ZXNzIGRpbWVuc2lvbnMifWVsc2UgaWYobj1vL2UsbiUxKXRocm93ImNhbid0IGd1ZXNzIGRpbWVuc2lvbnMiO3JldHVybnt3aWR0aDplLGhlaWdodDpufX1mdW5jdGlvbiBSZShyLHQpe3QuY29sb3JzcGFjZUNvbnZlcnNpb24hPT12b2lkIDAmJnIucGl4ZWxTdG9yZWkoTHMsdC5jb2xvcnNwYWNlQ29udmVyc2lvbiksdC5wcmVtdWx0aXBseUFscGhhIT09dm9pZCAwJiZyLnBpeGVsU3RvcmVpKHpzLHQucHJlbXVsdGlwbHlBbHBoYSksdC5mbGlwWSE9PXZvaWQgMCYmci5waXhlbFN0b3JlaSgkcyx0LmZsaXBZKX1mdW5jdGlvbiBibihyKXtyLnBpeGVsU3RvcmVpKG5yLDQpLE5lKHIpJiYoci5waXhlbFN0b3JlaShsbiwwKSxyLnBpeGVsU3RvcmVpKGRuLDApLHIucGl4ZWxTdG9yZWkobW4sMCksci5waXhlbFN0b3JlaShobiwwKSxyLnBpeGVsU3RvcmVpKHBuLDApKX1mdW5jdGlvbiBLYShyLHQsZSxuKXtuLm1pbk1hZyYmKGUuY2FsbChyLHQsdHIsbi5taW5NYWcpLGUuY2FsbChyLHQscnIsbi5taW5NYWcpKSxuLm1pbiYmZS5jYWxsKHIsdCx0cixuLm1pbiksbi5tYWcmJmUuY2FsbChyLHQscnIsbi5tYWcpLG4ud3JhcCYmKGUuY2FsbChyLHQsYXQsbi53cmFwKSxlLmNhbGwocix0LHV0LG4ud3JhcCksKHQ9PT1wZXx8b3Mocix0KSkmJmUuY2FsbChyLHQsZm4sbi53cmFwKSksbi53cmFwUiYmZS5jYWxsKHIsdCxmbixuLndyYXBSKSxuLndyYXBTJiZlLmNhbGwocix0LGF0LG4ud3JhcFMpLG4ud3JhcFQmJmUuY2FsbChyLHQsdXQsbi53cmFwVCksbi5taW5Mb2QmJmUuY2FsbChyLHQsTnMsbi5taW5Mb2QpLG4ubWF4TG9kJiZlLmNhbGwocix0LE9zLG4ubWF4TG9kKSxuLmJhc2VMZXZlbCYmZS5jYWxsKHIsdCxNcyxuLmJhc2VMZXZlbCksbi5tYXhMZXZlbCYmZS5jYWxsKHIsdCxVcyxuLm1heExldmVsKX1mdW5jdGlvbiB2bihyLHQsZSl7Y29uc3Qgbj1lLnRhcmdldHx8b2U7ci5iaW5kVGV4dHVyZShuLHQpLEthKHIsbixyLnRleFBhcmFtZXRlcmksZSl9ZnVuY3Rpb24gcWEocil7cmV0dXJuIHI9cnx8bmUudGV4dHVyZUNvbG9yLE9lKHIpP3I6bmV3IFVpbnQ4QXJyYXkoW3JbMF0qMjU1LHJbMV0qMjU1LHJbMl0qMjU1LHJbM10qMjU1XSl9ZnVuY3Rpb24gc3Iocix0LGUsbixvLGkpe2U9ZXx8bmUudGV4dHVyZU9wdGlvbnMsaT1pfHxSO2NvbnN0IHM9ZS50YXJnZXR8fG9lO2lmKG49bnx8ZS53aWR0aCxvPW98fGUuaGVpZ2h0LHIuYmluZFRleHR1cmUocyx0KSxZYShyLG4sbyxpKSlyLmdlbmVyYXRlTWlwbWFwKHMpO2Vsc2V7Y29uc3QgYT1YYShpKT9GczpScztyLnRleFBhcmFtZXRlcmkocyx0cixhKSxyLnRleFBhcmFtZXRlcmkocyxycixhKSxyLnRleFBhcmFtZXRlcmkocyxhdCxzdCksci50ZXhQYXJhbWV0ZXJpKHMsdXQsc3QpfX1mdW5jdGlvbiB6ZShyKXtyZXR1cm4gci5hdXRvPT09ITB8fHIuYXV0bz09PXZvaWQgMCYmci5sZXZlbD09PXZvaWQgMH1mdW5jdGlvbiBhcihyLHQpe3JldHVybiB0PXR8fHt9LHQuY3ViZUZhY2VPcmRlcnx8W2VyLFBzLGtzLERzLENzLEJzXX1mdW5jdGlvbiB1cihyLHQpe2NvbnN0IG49YXIocix0KS5tYXAoZnVuY3Rpb24obyxpKXtyZXR1cm57ZmFjZTpvLG5keDppfX0pO3JldHVybiBuLnNvcnQoZnVuY3Rpb24obyxpKXtyZXR1cm4gby5mYWNlLWkuZmFjZX0pLG59ZnVuY3Rpb24gRW4ocix0LGUsbil7bj1ufHxuZS50ZXh0dXJlT3B0aW9ucztjb25zdCBvPW4udGFyZ2V0fHxvZSxpPW4ubGV2ZWx8fDA7bGV0IHM9ZS53aWR0aCxhPWUuaGVpZ2h0O2NvbnN0IHU9bi5pbnRlcm5hbEZvcm1hdHx8bi5mb3JtYXR8fFIsZj1MZSh1KSxtPW4uZm9ybWF0fHxmLmZvcm1hdCxwPW4udHlwZXx8Zi50eXBlO2lmKFJlKHIsbiksci5iaW5kVGV4dHVyZShvLHQpLG89PT1pZSl7Y29uc3QgZz1lLndpZHRoLHg9ZS5oZWlnaHQ7bGV0IGQsXztpZihnLzY9PT14KWQ9eCxfPVswLDAsMSwwLDIsMCwzLDAsNCwwLDUsMF07ZWxzZSBpZih4LzY9PT1nKWQ9ZyxfPVswLDAsMCwxLDAsMiwwLDMsMCw0LDAsNV07ZWxzZSBpZihnLzM9PT14LzIpZD1nLzMsXz1bMCwwLDEsMCwyLDAsMCwxLDEsMSwyLDFdO2Vsc2UgaWYoZy8yPT09eC8zKWQ9Zy8yLF89WzAsMCwxLDAsMCwxLDEsMSwwLDIsMSwyXTtlbHNlIHRocm93ImNhbid0IGZpZ3VyZSBvdXQgY3ViZSBtYXAgZnJvbSBlbGVtZW50OiAiKyhlLnNyYz9lLnNyYzplLm5vZGVOYW1lKTtjb25zdCBFPW9uKCk7RT8oRS5jYW52YXMud2lkdGg9ZCxFLmNhbnZhcy5oZWlnaHQ9ZCxzPWQsYT1kLHVyKHIsbikuZm9yRWFjaChmdW5jdGlvbih2KXtjb25zdCBGPV9bdi5uZHgqMiswXSpkLGs9X1t2Lm5keCoyKzFdKmQ7RS5kcmF3SW1hZ2UoZSxGLGssZCxkLDAsMCxkLGQpLHIudGV4SW1hZ2UyRCh2LmZhY2UsaSx1LG0scCxFLmNhbnZhcyl9KSxFLmNhbnZhcy53aWR0aD0xLEUuY2FudmFzLmhlaWdodD0xKTp0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXA8InUiJiYocz1kLGE9ZCx1cihyLG4pLmZvckVhY2goZnVuY3Rpb24odil7Y29uc3QgRj1fW3YubmR4KjIrMF0qZCxrPV9bdi5uZHgqMisxXSpkO3IudGV4SW1hZ2UyRCh2LmZhY2UsaSx1LGQsZCwwLG0scCxudWxsKSxjcmVhdGVJbWFnZUJpdG1hcChlLEYsayxkLGQse3ByZW11bHRpcGx5QWxwaGE6Im5vbmUiLGNvbG9yU3BhY2VDb252ZXJzaW9uOiJub25lIn0pLnRoZW4oZnVuY3Rpb24oJCl7UmUocixuKSxyLmJpbmRUZXh0dXJlKG8sdCksci50ZXhJbWFnZTJEKHYuZmFjZSxpLHUsbSxwLCQpLHplKG4pJiZzcihyLHQsbixzLGEsdSl9KX0pKX1lbHNlIGlmKG89PT1wZXx8bz09PWdlKXtjb25zdCBnPU1hdGgubWluKGUud2lkdGgsZS5oZWlnaHQpLHg9TWF0aC5tYXgoZS53aWR0aCxlLmhlaWdodCksZD14L2c7aWYoZCUxIT09MCl0aHJvdyJjYW4gbm90IGNvbXB1dGUgM0QgZGltZW5zaW9ucyBvZiBlbGVtZW50Ijtjb25zdCBfPWUud2lkdGg9PT14PzE6MCxFPWUuaGVpZ2h0PT09eD8xOjA7ci5waXhlbFN0b3JlaShuciwxKSxyLnBpeGVsU3RvcmVpKGxuLGUud2lkdGgpLHIucGl4ZWxTdG9yZWkoZG4sMCksci5waXhlbFN0b3JlaShwbiwwKSxyLnRleEltYWdlM0QobyxpLHUsZyxnLGcsMCxtLHAsbnVsbCk7Zm9yKGxldCB2PTA7djxkOysrdil7Y29uc3QgRj12KmcqXyxrPXYqZypFO3IucGl4ZWxTdG9yZWkobW4sRiksci5waXhlbFN0b3JlaShobixrKSxyLnRleFN1YkltYWdlM0QobyxpLDAsMCx2LGcsZywxLG0scCxlKX1ibihyKX1lbHNlIHIudGV4SW1hZ2UyRChvLGksdSxtLHAsZSk7emUobikmJnNyKHIsdCxuLHMsYSx1KSx2bihyLHQsbil9ZnVuY3Rpb24gJGUoKXt9ZnVuY3Rpb24gSmEocil7aWYodHlwZW9mIGRvY3VtZW50PCJ1Iil7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIHQuaHJlZj1yLHQuaG9zdG5hbWU9PT1sb2NhdGlvbi5ob3N0bmFtZSYmdC5wb3J0PT09bG9jYXRpb24ucG9ydCYmdC5wcm90b2NvbD09PWxvY2F0aW9uLnByb3RvY29sfWVsc2V7Y29uc3QgdD1uZXcgVVJMKGxvY2F0aW9uLmhyZWYpLm9yaWdpbjtyZXR1cm4gbmV3IFVSTChyLGxvY2F0aW9uLmhyZWYpLm9yaWdpbj09PXR9fWZ1bmN0aW9uIFphKHIsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJiFKYShyKT8iYW5vbnltb3VzIjp0fWZ1bmN0aW9uIGV1KHIsdCxlKXtlPWV8fCRlO2xldCBuO2lmKHQ9dCE9PXZvaWQgMD90Om5lLmNyb3NzT3JpZ2luLHQ9WmEocix0KSx0eXBlb2YgSW1hZ2U8InUiKXtuPW5ldyBJbWFnZSx0IT09dm9pZCAwJiYobi5jcm9zc09yaWdpbj10KTtjb25zdCBvPWZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsaSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixzKSxuPW51bGx9LGk9ZnVuY3Rpb24oKXtjb25zdCB1PSJjb3VsZG4ndCBsb2FkIGltYWdlOiAiK3I7UXIodSksZSh1LG4pLG8oKX0scz1mdW5jdGlvbigpe2UobnVsbCxuKSxvKCl9O3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixpKSxuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHMpLG4uc3JjPXIsbn1lbHNlIGlmKHR5cGVvZiBJbWFnZUJpdG1hcDwidSIpe2xldCBvLGk7Y29uc3Qgcz1mdW5jdGlvbigpe2UobyxpKX0sYT17fTt0JiYoYS5tb2RlPSJjb3JzIiksZmV0Y2gocixhKS50aGVuKGZ1bmN0aW9uKHUpe2lmKCF1Lm9rKXRocm93IHU7cmV0dXJuIHUuYmxvYigpfSkudGhlbihmdW5jdGlvbih1KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodSx7cHJlbXVsdGlwbHlBbHBoYToibm9uZSIsY29sb3JTcGFjZUNvbnZlcnNpb246Im5vbmUifSl9KS50aGVuKGZ1bmN0aW9uKHUpe2k9dSxzZXRUaW1lb3V0KHMpfSkuY2F0Y2goZnVuY3Rpb24odSl7bz11LHNldFRpbWVvdXQocyl9KSxuPW51bGx9cmV0dXJuIG59ZnVuY3Rpb24gVG4ocil7cmV0dXJuIHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJnIgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcHx8dHlwZW9mIEltYWdlRGF0YTwidSImJnIgaW5zdGFuY2VvZiBJbWFnZURhdGF8fHR5cGVvZiBIVE1MRWxlbWVudDwidSImJnIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudH1mdW5jdGlvbiBjcihyLHQsZSl7cmV0dXJuIFRuKHIpPyhzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShudWxsLHIpfSkscik6ZXUocix0LGUpfWZ1bmN0aW9uIGZyKHIsdCxlKXtlPWV8fG5lLnRleHR1cmVPcHRpb25zO2NvbnN0IG49ZS50YXJnZXR8fG9lO2lmKHIuYmluZFRleHR1cmUobix0KSxlLmNvbG9yPT09ITEpcmV0dXJuO2NvbnN0IG89cWEoZS5jb2xvcik7aWYobj09PWllKWZvcihsZXQgaT0wO2k8NjsrK2kpci50ZXhJbWFnZTJEKGVyK2ksMCxSLDEsMSwwLFIsUyxvKTtlbHNlIG49PT1wZXx8bj09PWdlP3IudGV4SW1hZ2UzRChuLDAsUiwxLDEsMSwwLFIsUyxvKTpyLnRleEltYWdlMkQobiwwLFIsMSwxLDAsUixTLG8pfWZ1bmN0aW9uIHR1KHIsdCxlLG4pe3JldHVybiBuPW58fCRlLGU9ZXx8bmUudGV4dHVyZU9wdGlvbnMsZnIocix0LGUpLGU9T2JqZWN0LmFzc2lnbih7fSxlKSxjcihlLnNyYyxlLmNyb3NzT3JpZ2luLGZ1bmN0aW9uKGkscyl7aT9uKGksdCxzKTooRW4ocix0LHMsZSksbihudWxsLHQscykpfSl9ZnVuY3Rpb24gcnUocix0LGUsbil7bj1ufHwkZTtjb25zdCBvPWUuc3JjO2lmKG8ubGVuZ3RoIT09Nil0aHJvdyJ0aGVyZSBtdXN0IGJlIDYgdXJscyBmb3IgYSBjdWJlbWFwIjtjb25zdCBpPWUubGV2ZWx8fDAscz1lLmludGVybmFsRm9ybWF0fHxlLmZvcm1hdHx8UixhPUxlKHMpLHU9ZS5mb3JtYXR8fGEuZm9ybWF0LGY9ZS50eXBlfHxTLG09ZS50YXJnZXR8fG9lO2lmKG0hPT1pZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFX0NVQkVfTUFQIjtmcihyLHQsZSksZT1PYmplY3QuYXNzaWduKHt9LGUpO2xldCBwPTY7Y29uc3QgZz1bXSx4PWFyKHIsZSk7bGV0IGQ7ZnVuY3Rpb24gXyhFKXtyZXR1cm4gZnVuY3Rpb24odixGKXstLXAsdj9nLnB1c2godik6Ri53aWR0aCE9PUYuaGVpZ2h0P2cucHVzaCgiY3ViZW1hcCBmYWNlIGltZyBpcyBub3QgYSBzcXVhcmU6ICIrRi5zcmMpOihSZShyLGUpLHIuYmluZFRleHR1cmUobSx0KSxwPT09NT9hcigpLmZvckVhY2goZnVuY3Rpb24oayl7ci50ZXhJbWFnZTJEKGssaSxzLHUsZixGKX0pOnIudGV4SW1hZ2UyRChFLGkscyx1LGYsRiksemUoZSkmJnIuZ2VuZXJhdGVNaXBtYXAobSkpLHA9PT0wJiZuKGcubGVuZ3RoP2c6dm9pZCAwLHQsZCl9fWQ9by5tYXAoZnVuY3Rpb24oRSx2KXtyZXR1cm4gY3IoRSxlLmNyb3NzT3JpZ2luLF8oeFt2XSkpfSl9ZnVuY3Rpb24gbnUocix0LGUsbil7bj1ufHwkZTtjb25zdCBvPWUuc3JjLGk9ZS5pbnRlcm5hbEZvcm1hdHx8ZS5mb3JtYXR8fFIscz1MZShpKSxhPWUuZm9ybWF0fHxzLmZvcm1hdCx1PWUudHlwZXx8UyxmPWUudGFyZ2V0fHxnZTtpZihmIT09cGUmJmYhPT1nZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFXzNEIG9yIFRFWFRVUkVfMkRfQVJSQVkiO2ZyKHIsdCxlKSxlPU9iamVjdC5hc3NpZ24oe30sZSk7bGV0IG09by5sZW5ndGg7Y29uc3QgcD1bXTtsZXQgZztjb25zdCB4PWUubGV2ZWx8fDA7bGV0IGQ9ZS53aWR0aCxfPWUuaGVpZ2h0O2NvbnN0IEU9by5sZW5ndGg7bGV0IHY9ITA7ZnVuY3Rpb24gRihrKXtyZXR1cm4gZnVuY3Rpb24oJCx6KXtpZigtLW0sJClwLnB1c2goJCk7ZWxzZXtpZihSZShyLGUpLHIuYmluZFRleHR1cmUoZix0KSx2KXt2PSExLGQ9ZS53aWR0aHx8ei53aWR0aCxfPWUuaGVpZ2h0fHx6LmhlaWdodCxyLnRleEltYWdlM0QoZix4LGksZCxfLEUsMCxhLHUsbnVsbCk7Zm9yKGxldCBWPTA7VjxFOysrVilyLnRleFN1YkltYWdlM0QoZix4LDAsMCxWLGQsXywxLGEsdSx6KX1lbHNle2xldCBWPXosRzsoei53aWR0aCE9PWR8fHouaGVpZ2h0IT09XykmJihHPW9uKCksVj1HLmNhbnZhcyxHLmNhbnZhcy53aWR0aD1kLEcuY2FudmFzLmhlaWdodD1fLEcuZHJhd0ltYWdlKHosMCwwLGQsXykpLHIudGV4U3ViSW1hZ2UzRChmLHgsMCwwLGssZCxfLDEsYSx1LFYpLEcmJlY9PT1HLmNhbnZhcyYmKEcuY2FudmFzLndpZHRoPTAsRy5jYW52YXMuaGVpZ2h0PTApfXplKGUpJiZyLmdlbmVyYXRlTWlwbWFwKGYpfW09PT0wJiZuKHAubGVuZ3RoP3A6dm9pZCAwLHQsZyl9fWc9by5tYXAoZnVuY3Rpb24oaywkKXtyZXR1cm4gY3IoayxlLmNyb3NzT3JpZ2luLEYoJCkpfSl9ZnVuY3Rpb24gb3Uocix0LGUsbil7bj1ufHxuZS50ZXh0dXJlT3B0aW9ucztjb25zdCBvPW4udGFyZ2V0fHxvZTtyLmJpbmRUZXh0dXJlKG8sdCk7bGV0IGk9bi53aWR0aCxzPW4uaGVpZ2h0LGE9bi5kZXB0aDtjb25zdCB1PW4ubGV2ZWx8fDAsZj1uLmludGVybmFsRm9ybWF0fHxuLmZvcm1hdHx8UixtPUxlKGYpLHA9bi5mb3JtYXR8fG0uZm9ybWF0LGc9bi50eXBlfHxRYShyLGUsbS50eXBlKTtpZihPZShlKSllIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkmJihlPW5ldyBVaW50OEFycmF5KGUuYnVmZmVyKSk7ZWxzZXtjb25zdCBFPVhyKGcpO2U9bmV3IEUoZSl9Y29uc3QgeD1qYShmLGcpLGQ9ZS5ieXRlTGVuZ3RoL3g7aWYoZCUxKXRocm93Imxlbmd0aCB3cm9uZyBzaXplIGZvciBmb3JtYXQ6ICIrbm4ocixwKTtsZXQgXztpZihvPT09cGV8fG89PT1nZSlpZighaSYmIXMmJiFhKXtjb25zdCBFPU1hdGguY2JydChkKTtpZihFJTEhPT0wKXRocm93ImNhbid0IGd1ZXNzIGN1YmUgc2l6ZSBvZiBhcnJheSBvZiBudW1FbGVtZW50czogIitkO2k9RSxzPUUsYT1FfWVsc2UgaSYmKCFzfHwhYSk/KF89aHQocixvLHMsYSxkL2kpLHM9Xy53aWR0aCxhPV8uaGVpZ2h0KTpzJiYoIWl8fCFhKT8oXz1odChyLG8saSxhLGQvcyksaT1fLndpZHRoLGE9Xy5oZWlnaHQpOihfPWh0KHIsbyxpLHMsZC9hKSxpPV8ud2lkdGgscz1fLmhlaWdodCk7ZWxzZSBfPWh0KHIsbyxpLHMsZCksaT1fLndpZHRoLHM9Xy5oZWlnaHQ7aWYoYm4ociksci5waXhlbFN0b3JlaShucixuLnVucGFja0FsaWdubWVudHx8MSksUmUocixuKSxvPT09aWUpe2NvbnN0IEU9eC9lLkJZVEVTX1BFUl9FTEVNRU5ULHY9ZC82KkU7dXIocixuKS5mb3JFYWNoKEY9Pntjb25zdCBrPXYqRi5uZHgsJD1lLnN1YmFycmF5KGssayt2KTtyLnRleEltYWdlMkQoRi5mYWNlLHUsZixpLHMsMCxwLGcsJCl9KX1lbHNlIG89PT1wZXx8bz09PWdlP3IudGV4SW1hZ2UzRChvLHUsZixpLHMsYSwwLHAsZyxlKTpyLnRleEltYWdlMkQobyx1LGYsaSxzLDAscCxnLGUpO3JldHVybnt3aWR0aDppLGhlaWdodDpzLGRlcHRoOmEsdHlwZTpnfX1mdW5jdGlvbiBpdShyLHQsZSl7Y29uc3Qgbj1lLnRhcmdldHx8b2U7ci5iaW5kVGV4dHVyZShuLHQpO2NvbnN0IG89ZS5sZXZlbHx8MCxpPWUuaW50ZXJuYWxGb3JtYXR8fGUuZm9ybWF0fHxSLHM9TGUoaSksYT1lLmZvcm1hdHx8cy5mb3JtYXQsdT1lLnR5cGV8fHMudHlwZTtpZihSZShyLGUpLG49PT1pZSlmb3IobGV0IGY9MDtmPDY7KytmKXIudGV4SW1hZ2UyRChlcitmLG8saSxlLndpZHRoLGUuaGVpZ2h0LDAsYSx1LG51bGwpO2Vsc2Ugbj09PXBlfHxuPT09Z2U/ci50ZXhJbWFnZTNEKG4sbyxpLGUud2lkdGgsZS5oZWlnaHQsZS5kZXB0aCwwLGEsdSxudWxsKTpyLnRleEltYWdlMkQobixvLGksZS53aWR0aCxlLmhlaWdodCwwLGEsdSxudWxsKX1mdW5jdGlvbiBBbihyLHQsZSl7ZT1lfHwkZSx0PXR8fG5lLnRleHR1cmVPcHRpb25zO2NvbnN0IG49ci5jcmVhdGVUZXh0dXJlKCksbz10LnRhcmdldHx8b2U7bGV0IGk9dC53aWR0aHx8MSxzPXQuaGVpZ2h0fHwxO2NvbnN0IGE9dC5pbnRlcm5hbEZvcm1hdHx8UjtyLmJpbmRUZXh0dXJlKG8sbiksbz09PWllJiYoci50ZXhQYXJhbWV0ZXJpKG8sYXQsc3QpLHIudGV4UGFyYW1ldGVyaShvLHV0LHN0KSk7bGV0IHU9dC5zcmM7aWYodSlpZih0eXBlb2YgdT09ImZ1bmN0aW9uIiYmKHU9dShyLHQpKSx0eXBlb2YgdT09InN0cmluZyIpdHUocixuLHQsZSk7ZWxzZSBpZihPZSh1KXx8QXJyYXkuaXNBcnJheSh1KSYmKHR5cGVvZiB1WzBdPT0ibnVtYmVyInx8QXJyYXkuaXNBcnJheSh1WzBdKXx8T2UodVswXSkpKXtjb25zdCBmPW91KHIsbix1LHQpO2k9Zi53aWR0aCxzPWYuaGVpZ2h0fWVsc2UgQXJyYXkuaXNBcnJheSh1KSYmKHR5cGVvZiB1WzBdPT0ic3RyaW5nInx8VG4odVswXSkpP289PT1pZT9ydShyLG4sdCxlKTpudShyLG4sdCxlKTooRW4ocixuLHUsdCksaT11LndpZHRoLHM9dS5oZWlnaHQpO2Vsc2UgaXUocixuLHQpO3JldHVybiB6ZSh0KSYmc3IocixuLHQsaSxzLGEpLHZuKHIsbix0KSxufWNvbnN0IGxyPVFyO2Z1bmN0aW9uIHduKHIpe3JldHVybiB0eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5nZXRFbGVtZW50QnlJZD9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTpudWxsfWNvbnN0IHB0PTMzOTg0LGd0PTM0OTYyLHN1PTM0OTYzLGF1PTM1NzEzLHV1PTM1NzE0LGN1PTM1NjMyLGZ1PTM1NjMzLGx1PTM1OTgxLEluPTM1NzE4LGR1PTM1NzIxLG11PTM1OTcxLGh1PTM1MzgyLHB1PTM1Mzk2LGd1PTM1Mzk4LHl1PTM1MzkyLHh1PTM1Mzk1LHl0PTUxMjYsU249MzU2NjQsUm49MzU2NjUsRm49MzU2NjYsZHI9NTEyNCxQbj0zNTY2Nyxrbj0zNTY2OCxEbj0zNTY2OSxDbj0zNTY3MCxCbj0zNTY3MSxObj0zNTY3MixPbj0zNTY3MyxNbj0zNTY3NCxVbj0zNTY3NSxMbj0zNTY3NixfdT0zNTY3OCxidT0zNTY4MCx2dT0zNTY3OSxFdT0zNTY4MixUdT0zNTY4NSxBdT0zNTY4Nix3dT0zNTY4NyxJdT0zNTY4OCxTdT0zNTY4OSxSdT0zNTY5MCxGdT0zNjI4OSxQdT0zNjI5MixrdT0zNjI5Myxtcj01MTI1LHpuPTM2Mjk0LCRuPTM2Mjk1LEduPTM2Mjk2LER1PTM2Mjk4LEN1PTM2Mjk5LEJ1PTM2MzAwLE51PTM2MzAzLE91PTM2MzA2LE11PTM2MzA3LFV1PTM2MzA4LEx1PTM2MzExLHh0PTM1NTMsX3Q9MzQwNjcsaHI9MzI4NzksYnQ9MzU4NjYsYj17fTtmdW5jdGlvbiBXbihyLHQpe3JldHVybiBiW3RdLmJpbmRQb2ludH1mdW5jdGlvbiB6dShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm0xZih0LGUpfX1mdW5jdGlvbiAkdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm0xZnYodCxlKX19ZnVuY3Rpb24gR3Uocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtMmZ2KHQsZSl9fWZ1bmN0aW9uIFd1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybTNmdih0LGUpfX1mdW5jdGlvbiBWdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm00ZnYodCxlKX19ZnVuY3Rpb24gVm4ocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtMWkodCxlKX19ZnVuY3Rpb24gSG4ocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtMWl2KHQsZSl9fWZ1bmN0aW9uIGpuKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybTJpdih0LGUpfX1mdW5jdGlvbiBZbihyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm0zaXYodCxlKX19ZnVuY3Rpb24gWG4ocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtNGl2KHQsZSl9fWZ1bmN0aW9uIEh1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybTF1aSh0LGUpfX1mdW5jdGlvbiBqdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm0xdWl2KHQsZSl9fWZ1bmN0aW9uIFl1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybTJ1aXYodCxlKX19ZnVuY3Rpb24gWHUocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtM3Vpdih0LGUpfX1mdW5jdGlvbiBRdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm00dWl2KHQsZSl9fWZ1bmN0aW9uIEt1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDJmdih0LCExLGUpfX1mdW5jdGlvbiBxdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm1NYXRyaXgzZnYodCwhMSxlKX19ZnVuY3Rpb24gSnUocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtTWF0cml4NGZ2KHQsITEsZSl9fWZ1bmN0aW9uIFp1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDJ4M2Z2KHQsITEsZSl9fWZ1bmN0aW9uIGVjKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDN4MmZ2KHQsITEsZSl9fWZ1bmN0aW9uIHRjKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDJ4NGZ2KHQsITEsZSl9fWZ1bmN0aW9uIHJjKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDR4MmZ2KHQsITEsZSl9fWZ1bmN0aW9uIG5jKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDN4NGZ2KHQsITEsZSl9fWZ1bmN0aW9uIG9jKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDR4M2Z2KHQsITEsZSl9fWZ1bmN0aW9uIFUocix0LGUsbil7Y29uc3Qgbz1XbihyLHQpO3JldHVybiBOZShyKT9mdW5jdGlvbihpKXtsZXQgcyxhO3F0KHIsaSk/KHM9aSxhPW51bGwpOihzPWkudGV4dHVyZSxhPWkuc2FtcGxlciksci51bmlmb3JtMWkobixlKSxyLmFjdGl2ZVRleHR1cmUocHQrZSksci5iaW5kVGV4dHVyZShvLHMpLHIuYmluZFNhbXBsZXIoZSxhKX06ZnVuY3Rpb24oaSl7ci51bmlmb3JtMWkobixlKSxyLmFjdGl2ZVRleHR1cmUocHQrZSksci5iaW5kVGV4dHVyZShvLGkpfX1mdW5jdGlvbiBMKHIsdCxlLG4sbyl7Y29uc3QgaT1XbihyLHQpLHM9bmV3IEludDMyQXJyYXkobyk7Zm9yKGxldCBhPTA7YTxvOysrYSlzW2FdPWUrYTtyZXR1cm4gTmUocik/ZnVuY3Rpb24oYSl7ci51bmlmb3JtMWl2KG4scyksYS5mb3JFYWNoKGZ1bmN0aW9uKHUsZil7ci5hY3RpdmVUZXh0dXJlKHB0K3NbZl0pO2xldCBtLHA7cXQocix1KT8obT11LHA9bnVsbCk6KG09dS50ZXh0dXJlLHA9dS5zYW1wbGVyKSxyLmJpbmRTYW1wbGVyKGUscCksci5iaW5kVGV4dHVyZShpLG0pfSl9OmZ1bmN0aW9uKGEpe3IudW5pZm9ybTFpdihuLHMpLGEuZm9yRWFjaChmdW5jdGlvbih1LGYpe3IuYWN0aXZlVGV4dHVyZShwdCtzW2ZdKSxyLmJpbmRUZXh0dXJlKGksdSl9KX19Ylt5dF09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NCxzZXR0ZXI6enUsYXJyYXlTZXR0ZXI6JHV9LGJbU25dPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjgsc2V0dGVyOkd1LGNvbHM6Mn0sYltSbl09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6MTIsc2V0dGVyOld1LGNvbHM6M30sYltGbl09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6MTYsc2V0dGVyOlZ1LGNvbHM6NH0sYltkcl09e1R5cGU6SW50MzJBcnJheSxzaXplOjQsc2V0dGVyOlZuLGFycmF5U2V0dGVyOkhufSxiW1BuXT17VHlwZTpJbnQzMkFycmF5LHNpemU6OCxzZXR0ZXI6am4sY29sczoyfSxiW2tuXT17VHlwZTpJbnQzMkFycmF5LHNpemU6MTIsc2V0dGVyOlluLGNvbHM6M30sYltEbl09e1R5cGU6SW50MzJBcnJheSxzaXplOjE2LHNldHRlcjpYbixjb2xzOjR9LGJbbXJdPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6NCxzZXR0ZXI6SHUsYXJyYXlTZXR0ZXI6anV9LGJbem5dPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6OCxzZXR0ZXI6WXUsY29sczoyfSxiWyRuXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjEyLHNldHRlcjpYdSxjb2xzOjN9LGJbR25dPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6MTYsc2V0dGVyOlF1LGNvbHM6NH0sYltDbl09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo0LHNldHRlcjpWbixhcnJheVNldHRlcjpIbn0sYltCbl09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo4LHNldHRlcjpqbixjb2xzOjJ9LGJbTm5dPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6MTIsc2V0dGVyOlluLGNvbHM6M30sYltPbl09e1R5cGU6VWludDMyQXJyYXksc2l6ZToxNixzZXR0ZXI6WG4sY29sczo0fSxiW01uXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTozMixzZXR0ZXI6S3Uscm93czoyLGNvbHM6Mn0sYltVbl09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NDgsc2V0dGVyOnF1LHJvd3M6Myxjb2xzOjN9LGJbTG5dPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjY0LHNldHRlcjpKdSxyb3dzOjQsY29sczo0fSxiW1R1XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTozMixzZXR0ZXI6WnUscm93czoyLGNvbHM6M30sYltBdV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6MzIsc2V0dGVyOnRjLHJvd3M6Mixjb2xzOjR9LGJbd3VdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjQ4LHNldHRlcjplYyxyb3dzOjMsY29sczoyfSxiW0l1XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo0OCxzZXR0ZXI6bmMscm93czozLGNvbHM6NH0sYltTdV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NjQsc2V0dGVyOnJjLHJvd3M6NCxjb2xzOjJ9LGJbUnVdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjY0LHNldHRlcjpvYyxyb3dzOjQsY29sczozfSxiW191XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDp4dH0sYltidV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6X3R9LGJbdnVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OmhyfSxiW0V1XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDp4dH0sYltGdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6YnR9LGJbUHVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OmJ0fSxiW2t1XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDpfdH0sYltEdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6eHR9LGJbQ3VdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OmhyfSxiW0J1XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDpfdH0sYltOdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6YnR9LGJbT3VdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50Onh0fSxiW011XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDpocn0sYltVdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6X3R9LGJbTHVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OmJ0fTtmdW5jdGlvbiB2dChyLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLnZhbHVlKXN3aXRjaChyLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSh0KSxlLnZhbHVlLmxlbmd0aCl7Y2FzZSA0OnIudmVydGV4QXR0cmliNGZ2KHQsZS52YWx1ZSk7YnJlYWs7Y2FzZSAzOnIudmVydGV4QXR0cmliM2Z2KHQsZS52YWx1ZSk7YnJlYWs7Y2FzZSAyOnIudmVydGV4QXR0cmliMmZ2KHQsZS52YWx1ZSk7YnJlYWs7Y2FzZSAxOnIudmVydGV4QXR0cmliMWZ2KHQsZS52YWx1ZSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInRoZSBsZW5ndGggb2YgYSBmbG9hdCBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgNCEiKX1lbHNlIHIuYmluZEJ1ZmZlcihndCxlLmJ1ZmZlciksci5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0KSxyLnZlcnRleEF0dHJpYlBvaW50ZXIodCxlLm51bUNvbXBvbmVudHN8fGUuc2l6ZSxlLnR5cGV8fHl0LGUubm9ybWFsaXplfHwhMSxlLnN0cmlkZXx8MCxlLm9mZnNldHx8MCksci52ZXJ0ZXhBdHRyaWJEaXZpc29yJiZyLnZlcnRleEF0dHJpYkRpdmlzb3IodCxlLmRpdmlzb3J8fDApfX1mdW5jdGlvbiBhZShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLnZhbHVlKWlmKHIuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLGUudmFsdWUubGVuZ3RoPT09NClyLnZlcnRleEF0dHJpYjRpdih0LGUudmFsdWUpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJUaGUgbGVuZ3RoIG9mIGFuIGludGVnZXIgY29uc3RhbnQgdmFsdWUgbXVzdCBiZSA0ISIpO2Vsc2Ugci5iaW5kQnVmZmVyKGd0LGUuYnVmZmVyKSxyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLHIudmVydGV4QXR0cmliSVBvaW50ZXIodCxlLm51bUNvbXBvbmVudHN8fGUuc2l6ZSxlLnR5cGV8fGRyLGUuc3RyaWRlfHwwLGUub2Zmc2V0fHwwKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcih0LGUuZGl2aXNvcnx8MCl9fWZ1bmN0aW9uIEV0KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUudmFsdWUpaWYoci5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkodCksZS52YWx1ZS5sZW5ndGg9PT00KXIudmVydGV4QXR0cmliNHVpdih0LGUudmFsdWUpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJUaGUgbGVuZ3RoIG9mIGFuIHVuc2lnbmVkIGludGVnZXIgY29uc3RhbnQgdmFsdWUgbXVzdCBiZSA0ISIpO2Vsc2Ugci5iaW5kQnVmZmVyKGd0LGUuYnVmZmVyKSxyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLHIudmVydGV4QXR0cmliSVBvaW50ZXIodCxlLm51bUNvbXBvbmVudHN8fGUuc2l6ZSxlLnR5cGV8fG1yLGUuc3RyaWRlfHwwLGUub2Zmc2V0fHwwKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcih0LGUuZGl2aXNvcnx8MCl9fWZ1bmN0aW9uIHByKHIsdCxlKXtjb25zdCBuPWUuc2l6ZSxvPWUuY291bnQ7cmV0dXJuIGZ1bmN0aW9uKGkpe3IuYmluZEJ1ZmZlcihndCxpLmJ1ZmZlcik7Y29uc3Qgcz1pLnNpemV8fGkubnVtQ29tcG9uZW50c3x8bixhPXMvbyx1PWkudHlwZXx8eXQsbT1iW3VdLnNpemUqcyxwPWkubm9ybWFsaXplfHwhMSxnPWkub2Zmc2V0fHwwLHg9bS9vO2ZvcihsZXQgZD0wO2Q8bzsrK2Qpci5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0K2QpLHIudmVydGV4QXR0cmliUG9pbnRlcih0K2QsYSx1LHAsbSxnK3gqZCksci52ZXJ0ZXhBdHRyaWJEaXZpc29yJiZyLnZlcnRleEF0dHJpYkRpdmlzb3IodCtkLGkuZGl2aXNvcnx8MCl9fWNvbnN0IFA9e307UFt5dF09e3NpemU6NCxzZXR0ZXI6dnR9LFBbU25dPXtzaXplOjgsc2V0dGVyOnZ0fSxQW1JuXT17c2l6ZToxMixzZXR0ZXI6dnR9LFBbRm5dPXtzaXplOjE2LHNldHRlcjp2dH0sUFtkcl09e3NpemU6NCxzZXR0ZXI6YWV9LFBbUG5dPXtzaXplOjgsc2V0dGVyOmFlfSxQW2tuXT17c2l6ZToxMixzZXR0ZXI6YWV9LFBbRG5dPXtzaXplOjE2LHNldHRlcjphZX0sUFttcl09e3NpemU6NCxzZXR0ZXI6RXR9LFBbem5dPXtzaXplOjgsc2V0dGVyOkV0fSxQWyRuXT17c2l6ZToxMixzZXR0ZXI6RXR9LFBbR25dPXtzaXplOjE2LHNldHRlcjpFdH0sUFtDbl09e3NpemU6NCxzZXR0ZXI6YWV9LFBbQm5dPXtzaXplOjgsc2V0dGVyOmFlfSxQW05uXT17c2l6ZToxMixzZXR0ZXI6YWV9LFBbT25dPXtzaXplOjE2LHNldHRlcjphZX0sUFtNbl09e3NpemU6NCxzZXR0ZXI6cHIsY291bnQ6Mn0sUFtVbl09e3NpemU6OSxzZXR0ZXI6cHIsY291bnQ6M30sUFtMbl09e3NpemU6MTYsc2V0dGVyOnByLGNvdW50OjR9O2NvbnN0IGljPS9FUlJPUjpccypcZCs6KFxkKykvZ2k7ZnVuY3Rpb24gc2Mocix0PSIiLGU9MCl7Y29uc3Qgbj1bLi4udC5tYXRjaEFsbChpYyldLG89bmV3IE1hcChuLm1hcCgoaSxzKT0+e2NvbnN0IGE9cGFyc2VJbnQoaVsxXSksdT1uW3MrMV0sZj11P3UuaW5kZXg6dC5sZW5ndGgsbT10LnN1YnN0cmluZyhpLmluZGV4LGYpO3JldHVyblthLTEsbV19KSk7cmV0dXJuIHIuc3BsaXQoYApgKS5tYXAoKGkscyk9Pntjb25zdCBhPW8uZ2V0KHMpO3JldHVybmAke3MrMStlfTogJHtpfSR7YT9gCgpeXl4gJHthfWA6IiJ9YH0pLmpvaW4oYApgKX1jb25zdCBRbj0vXlsgXHRdKlxuLztmdW5jdGlvbiBLbihyKXtsZXQgdD0wO3JldHVybiBRbi50ZXN0KHIpJiYodD0xLHI9ci5yZXBsYWNlKFFuLCIiKSkse2xpbmVPZmZzZXQ6dCxzaGFkZXJTb3VyY2U6cn19ZnVuY3Rpb24gYWMocix0KXtyZXR1cm4gci5lcnJvckNhbGxiYWNrKHQpLHIuY2FsbGJhY2smJnNldFRpbWVvdXQoKCk9PntyLmNhbGxiYWNrKGAke3R9CiR7ci5lcnJvcnMuam9pbihgCmApfWApfSksbnVsbH1mdW5jdGlvbiB1YyhyLHQsZSxuKXtpZihuPW58fGxyLCFyLmdldFNoYWRlclBhcmFtZXRlcihlLGF1KSl7Y29uc3QgaT1yLmdldFNoYWRlckluZm9Mb2coZSkse2xpbmVPZmZzZXQ6cyxzaGFkZXJTb3VyY2U6YX09S24oci5nZXRTaGFkZXJTb3VyY2UoZSkpLHU9YCR7c2MoYSxpLHMpfQpFcnJvciBjb21waWxpbmcgJHtubihyLHQpfTogJHtpfWA7cmV0dXJuIG4odSksdX1yZXR1cm4iIn1mdW5jdGlvbiBncihyLHQsZSl7bGV0IG4sbyxpO2lmKHR5cGVvZiB0PT0iZnVuY3Rpb24iJiYoZT10LHQ9dm9pZCAwKSx0eXBlb2Ygcj09ImZ1bmN0aW9uIillPXIscj12b2lkIDA7ZWxzZSBpZihyJiYhQXJyYXkuaXNBcnJheShyKSl7Y29uc3QgZj1yO2U9Zi5lcnJvckNhbGxiYWNrLHI9Zi5hdHRyaWJMb2NhdGlvbnMsbj1mLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3Msbz1mLnRyYW5zZm9ybUZlZWRiYWNrTW9kZSxpPWYuY2FsbGJhY2t9Y29uc3Qgcz1lfHxscixhPVtdLHU9e2Vycm9yQ2FsbGJhY2soZiwuLi5tKXthLnB1c2goZikscyhmLC4uLm0pfSx0cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzOm4sdHJhbnNmb3JtRmVlZGJhY2tNb2RlOm8sY2FsbGJhY2s6aSxlcnJvcnM6YX07e2xldCBmPXt9O0FycmF5LmlzQXJyYXkocik/ci5mb3JFYWNoKGZ1bmN0aW9uKG0scCl7ZlttXT10P3RbcF06cH0pOmY9cnx8e30sdS5hdHRyaWJMb2NhdGlvbnM9Zn1yZXR1cm4gdX1jb25zdCBjYz1bIlZFUlRFWF9TSEFERVIiLCJGUkFHTUVOVF9TSEFERVIiXTtmdW5jdGlvbiBmYyhyLHQpe2lmKHQuaW5kZXhPZigiZnJhZyIpPj0wKXJldHVybiBjdTtpZih0LmluZGV4T2YoInZlcnQiKT49MClyZXR1cm4gZnV9ZnVuY3Rpb24gbGMocix0LGUpe2NvbnN0IG49ci5nZXRBdHRhY2hlZFNoYWRlcnModCk7Zm9yKGNvbnN0IG8gb2YgbillLmhhcyhvKSYmci5kZWxldGVTaGFkZXIobyk7ci5kZWxldGVQcm9ncmFtKHQpfWNvbnN0IGRjPShyPTApPT5uZXcgUHJvbWlzZSh0PT5zZXRUaW1lb3V0KHQscikpO2Z1bmN0aW9uIG1jKHIsdCxlKXtjb25zdCBuPXIuY3JlYXRlUHJvZ3JhbSgpLHthdHRyaWJMb2NhdGlvbnM6byx0cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzOmksdHJhbnNmb3JtRmVlZGJhY2tNb2RlOnN9PWdyKGUpO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7KythKXtsZXQgdT10W2FdO2lmKHR5cGVvZiB1PT0ic3RyaW5nIil7Y29uc3QgZj13bih1KSxtPWY/Zi50ZXh0OnU7bGV0IHA9cltjY1thXV07ZiYmZi50eXBlJiYocD1mYyhyLGYudHlwZSl8fHApLHU9ci5jcmVhdGVTaGFkZXIocCksci5zaGFkZXJTb3VyY2UodSxLbihtKS5zaGFkZXJTb3VyY2UpLHIuY29tcGlsZVNoYWRlcih1KSxyLmF0dGFjaFNoYWRlcihuLHUpfX1PYmplY3QuZW50cmllcyhvKS5mb3JFYWNoKChbYSx1XSk9PnIuYmluZEF0dHJpYkxvY2F0aW9uKG4sdSxhKSk7e2xldCBhPWk7YSYmKGEuYXR0cmlicyYmKGE9YS5hdHRyaWJzKSxBcnJheS5pc0FycmF5KGEpfHwoYT1PYmplY3Qua2V5cyhhKSksci50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKG4sYSxzfHxsdSkpfXJldHVybiByLmxpbmtQcm9ncmFtKG4pLG59ZnVuY3Rpb24gaGMocix0LGUsbixvKXtjb25zdCBpPWdyKGUsbixvKSxzPW5ldyBTZXQodCksYT1tYyhyLHQsaSk7ZnVuY3Rpb24gdShmLG0pe2NvbnN0IHA9Z2MoZixtLGkuZXJyb3JDYWxsYmFjayk7cmV0dXJuIHAmJmxjKGYsbSxzKSxwfWlmKGkuY2FsbGJhY2spe3BjKHIsYSkudGhlbigoKT0+e2NvbnN0IGY9dShyLGEpO2kuY2FsbGJhY2soZixmP3ZvaWQgMDphKX0pO3JldHVybn1yZXR1cm4gdShyLGEpP3ZvaWQgMDphfWFzeW5jIGZ1bmN0aW9uIHBjKHIsdCl7Y29uc3QgZT1yLmdldEV4dGVuc2lvbigiS0hSX3BhcmFsbGVsX3NoYWRlcl9jb21waWxlIiksbj1lPyhpLHMpPT5pLmdldFByb2dyYW1QYXJhbWV0ZXIocyxlLkNPTVBMRVRJT05fU1RBVFVTX0tIUik6KCk9PiEwO2xldCBvPTA7ZG8gYXdhaXQgZGMobyksbz0xZTMvNjA7d2hpbGUoIW4ocix0KSl9ZnVuY3Rpb24gZ2Mocix0LGUpe2lmKGU9ZXx8bHIsIXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LHV1KSl7Y29uc3Qgbz1yLmdldFByb2dyYW1JbmZvTG9nKHQpO2UoYEVycm9yIGluIHByb2dyYW0gbGlua2luZzogJHtvfWApO2NvbnN0IHM9ci5nZXRBdHRhY2hlZFNoYWRlcnModCkubWFwKGE9PnVjKHIsci5nZXRTaGFkZXJQYXJhbWV0ZXIoYSxyLlNIQURFUl9UWVBFKSxhLGUpKTtyZXR1cm5gJHtvfQoke3MuZmlsdGVyKGE9PmEpLmpvaW4oYApgKX1gfX1mdW5jdGlvbiB5YyhyLHQsZSxuLG8pe3JldHVybiBoYyhyLHQsZSxuLG8pfWZ1bmN0aW9uIHFuKHIpe2NvbnN0IHQ9ci5uYW1lO3JldHVybiB0LnN0YXJ0c1dpdGgoImdsXyIpfHx0LnN0YXJ0c1dpdGgoIndlYmdsXyIpfWNvbnN0IHhjPS8oXC58XFt8XXxcdyspL2csX2M9cj0+cj49IjAiJiZyPD0iOSI7ZnVuY3Rpb24gYmMocix0LGUsbil7Y29uc3Qgbz1yLnNwbGl0KHhjKS5maWx0ZXIoYT0+YSE9PSIiKTtsZXQgaT0wLHM9IiI7Zm9yKDs7KXtjb25zdCBhPW9baSsrXTtzKz1hO2NvbnN0IHU9X2MoYVswXSksZj11P3BhcnNlSW50KGEpOmE7aWYodSYmKHMrPW9baSsrXSksaT09PW8ubGVuZ3RoKXtlW2ZdPXQ7YnJlYWt9ZWxzZXtjb25zdCBwPW9baSsrXSxnPXA9PT0iWyIseD1lW2ZdfHwoZz9bXTp7fSk7ZVtmXT14LGU9eCxuW3NdPW5bc118fGZ1bmN0aW9uKGQpe3JldHVybiBmdW5jdGlvbihfKXtKbihkLF8pfX0oeCkscys9cH19fWZ1bmN0aW9uIHZjKHIsdCl7bGV0IGU9MDtmdW5jdGlvbiBuKGEsdSxmKXtjb25zdCBtPXUubmFtZS5lbmRzV2l0aCgiWzBdIikscD11LnR5cGUsZz1iW3BdO2lmKCFnKXRocm93IG5ldyBFcnJvcihgdW5rbm93biB0eXBlOiAweCR7cC50b1N0cmluZygxNil9YCk7bGV0IHg7aWYoZy5iaW5kUG9pbnQpe2NvbnN0IGQ9ZTtlKz11LnNpemUsbT94PWcuYXJyYXlTZXR0ZXIocixwLGQsZix1LnNpemUpOng9Zy5zZXR0ZXIocixwLGQsZix1LnNpemUpfWVsc2UgZy5hcnJheVNldHRlciYmbT94PWcuYXJyYXlTZXR0ZXIocixmKTp4PWcuc2V0dGVyKHIsZik7cmV0dXJuIHgubG9jYXRpb249Zix4fWNvbnN0IG89e30saT17fSxzPXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LEluKTtmb3IobGV0IGE9MDthPHM7KythKXtjb25zdCB1PXIuZ2V0QWN0aXZlVW5pZm9ybSh0LGEpO2lmKHFuKHUpKWNvbnRpbnVlO2xldCBmPXUubmFtZTtmLmVuZHNXaXRoKCJbMF0iKSYmKGY9Zi5zdWJzdHIoMCxmLmxlbmd0aC0zKSk7Y29uc3QgbT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0LHUubmFtZSk7aWYobSl7Y29uc3QgcD1uKHQsdSxtKTtvW2ZdPXAsYmMoZixwLGksbyl9fXJldHVybiBvfWZ1bmN0aW9uIEVjKHIsdCl7Y29uc3QgZT17fSxuPXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LG11KTtmb3IobGV0IG89MDtvPG47KytvKXtjb25zdCBpPXIuZ2V0VHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nKHQsbyk7ZVtpLm5hbWVdPXtpbmRleDpvLHR5cGU6aS50eXBlLHNpemU6aS5zaXplfX1yZXR1cm4gZX1mdW5jdGlvbiBUYyhyLHQpe2NvbnN0IGU9ci5nZXRQcm9ncmFtUGFyYW1ldGVyKHQsSW4pLG49W10sbz1bXTtmb3IobGV0IGE9MDthPGU7KythKXtvLnB1c2goYSksbi5wdXNoKHt9KTtjb25zdCB1PXIuZ2V0QWN0aXZlVW5pZm9ybSh0LGEpO25bYV0ubmFtZT11Lm5hbWV9W1siVU5JRk9STV9UWVBFIiwidHlwZSJdLFsiVU5JRk9STV9TSVpFIiwic2l6ZSJdLFsiVU5JRk9STV9CTE9DS19JTkRFWCIsImJsb2NrTmR4Il0sWyJVTklGT1JNX09GRlNFVCIsIm9mZnNldCJdXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2NvbnN0IHU9YVswXSxmPWFbMV07ci5nZXRBY3RpdmVVbmlmb3Jtcyh0LG8sclt1XSkuZm9yRWFjaChmdW5jdGlvbihtLHApe25bcF1bZl09bX0pfSk7Y29uc3QgaT17fSxzPXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LGh1KTtmb3IobGV0IGE9MDthPHM7KythKXtjb25zdCB1PXIuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrTmFtZSh0LGEpLGY9e2luZGV4OnIuZ2V0VW5pZm9ybUJsb2NrSW5kZXgodCx1KSx1c2VkQnlWZXJ0ZXhTaGFkZXI6ci5nZXRBY3RpdmVVbmlmb3JtQmxvY2tQYXJhbWV0ZXIodCxhLHB1KSx1c2VkQnlGcmFnbWVudFNoYWRlcjpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcih0LGEsZ3UpLHNpemU6ci5nZXRBY3RpdmVVbmlmb3JtQmxvY2tQYXJhbWV0ZXIodCxhLHl1KSx1bmlmb3JtSW5kaWNlczpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcih0LGEseHUpfTtmLnVzZWQ9Zi51c2VkQnlWZXJ0ZXhTaGFkZXJ8fGYudXNlZEJ5RnJhZ21lbnRTaGFkZXIsaVt1XT1mfXJldHVybntibG9ja1NwZWNzOmksdW5pZm9ybURhdGE6bn19ZnVuY3Rpb24gSm4ocix0KXtmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBuPXJbZV07dHlwZW9mIG49PSJmdW5jdGlvbiI/bih0W2VdKTpKbihyW2VdLHRbZV0pfX1mdW5jdGlvbiBabihyLC4uLnQpe2NvbnN0IGU9ci51bmlmb3JtU2V0dGVyc3x8cixuPXQubGVuZ3RoO2ZvcihsZXQgbz0wO288bjsrK28pe2NvbnN0IGk9dFtvXTtpZihBcnJheS5pc0FycmF5KGkpKXtjb25zdCBzPWkubGVuZ3RoO2ZvcihsZXQgYT0wO2E8czsrK2EpWm4oZSxpW2FdKX1lbHNlIGZvcihjb25zdCBzIGluIGkpe2NvbnN0IGE9ZVtzXTthJiZhKGlbc10pfX19ZnVuY3Rpb24gQWMocix0KXtjb25zdCBlPXt9LG49ci5nZXRQcm9ncmFtUGFyYW1ldGVyKHQsZHUpO2ZvcihsZXQgbz0wO288bjsrK28pe2NvbnN0IGk9ci5nZXRBY3RpdmVBdHRyaWIodCxvKTtpZihxbihpKSljb250aW51ZTtjb25zdCBzPXIuZ2V0QXR0cmliTG9jYXRpb24odCxpLm5hbWUpLGE9UFtpLnR5cGVdLHU9YS5zZXR0ZXIocixzLGEpO3UubG9jYXRpb249cyxlW2kubmFtZV09dX1yZXR1cm4gZX1mdW5jdGlvbiB3YyhyLHQpe2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IG49cltlXTtuJiZuKHRbZV0pfX1mdW5jdGlvbiBJYyhyLHQsZSl7ZS52ZXJ0ZXhBcnJheU9iamVjdD9yLmJpbmRWZXJ0ZXhBcnJheShlLnZlcnRleEFycmF5T2JqZWN0KTood2ModC5hdHRyaWJTZXR0ZXJzfHx0LGUuYXR0cmlicyksZS5pbmRpY2VzJiZyLmJpbmRCdWZmZXIoc3UsZS5pbmRpY2VzKSl9ZnVuY3Rpb24gZW8ocix0KXtjb25zdCBlPXZjKHIsdCksbj1BYyhyLHQpLG89e3Byb2dyYW06dCx1bmlmb3JtU2V0dGVyczplLGF0dHJpYlNldHRlcnM6bn07cmV0dXJuIE5lKHIpJiYoby51bmlmb3JtQmxvY2tTcGVjPVRjKHIsdCksby50cmFuc2Zvcm1GZWVkYmFja0luZm89RWMocix0KSksb31jb25zdCBTYz0vXHN8e3x9fDsvO2Z1bmN0aW9uIFJjKHIsdCxlLG4sbyl7Y29uc3QgaT1ncihlLG4sbykscz1bXTtpZih0PXQubWFwKGZ1bmN0aW9uKGYpe2lmKCFTYy50ZXN0KGYpKXtjb25zdCBtPXduKGYpO2lmKG0pZj1tLnRleHQ7ZWxzZXtjb25zdCBwPWBubyBlbGVtZW50IHdpdGggaWQ6ICR7Zn1gO2kuZXJyb3JDYWxsYmFjayhwKSxzLnB1c2gocCl9fXJldHVybiBmfSkscy5sZW5ndGgpcmV0dXJuIGFjKGksIiIpO2NvbnN0IGE9aS5jYWxsYmFjazthJiYoaS5jYWxsYmFjaz0oZixtKT0+e2EoZixmP3ZvaWQgMDplbyhyLG0pKX0pO2NvbnN0IHU9eWMocix0LGkpO3JldHVybiB1P2VvKHIsdSk6bnVsbH1jb25zdCBGYz00LHRvPTUxMjM7ZnVuY3Rpb24gUGMocix0LGUsbixvLGkpe2U9ZT09PXZvaWQgMD9GYzplO2NvbnN0IHM9dC5pbmRpY2VzLGE9dC5lbGVtZW50VHlwZSx1PW49PT12b2lkIDA/dC5udW1FbGVtZW50czpuO289bz09PXZvaWQgMD8wOm8sYXx8cz9pIT09dm9pZCAwP3IuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKGUsdSxhPT09dm9pZCAwP3RvOnQuZWxlbWVudFR5cGUsbyxpKTpyLmRyYXdFbGVtZW50cyhlLHUsYT09PXZvaWQgMD90bzp0LmVsZW1lbnRUeXBlLG8pOmkhPT12b2lkIDA/ci5kcmF3QXJyYXlzSW5zdGFuY2VkKGUsbyx1LGkpOnIuZHJhd0FycmF5cyhlLG8sdSl9Y29uc3Qgcm89MzYxNjAsVHQ9MzYxNjEsa2M9MzU1MyxEYz01MTIxLENjPTY0MDIsQmM9NjQwOCxOYz0zMzE5MCxPYz0zNjAxMixNYz0zNTA1NixVYz0zNjAxMyxMYz0zMjg1NCx6Yz0zMjg1NSwkYz0zNjE5NCxubz0zMzE4OSxvbz02NDAxLGlvPTM2MTY4LHlyPTM0MDQxLHhyPTM2MDY0LEF0PTM2MDk2LHNvPTM2MTI4LF9yPTMzMzA2LGJyPTMzMDcxLHZyPTk3MjksR2M9W3tmb3JtYXQ6QmMsdHlwZTpEYyxtaW46dnIsd3JhcDpicn0se2Zvcm1hdDp5cn1dLFk9e307WVt5cl09X3IsWVtvb109c28sWVtpb109c28sWVtDY109QXQsWVtub109QXQsWVtOY109QXQsWVtPY109QXQsWVtNY109X3IsWVtVY109X3I7ZnVuY3Rpb24gV2Mocix0KXtyZXR1cm4gWVtyXXx8WVt0XX1jb25zdCB1ZT17fTt1ZVtMY109ITAsdWVbemNdPSEwLHVlWyRjXT0hMCx1ZVt5cl09ITAsdWVbbm9dPSEwLHVlW29vXT0hMCx1ZVtpb109ITA7ZnVuY3Rpb24gVmMocil7cmV0dXJuIHVlW3JdfWNvbnN0IEhjPTMyO2Z1bmN0aW9uIGpjKHIpe3JldHVybiByPj14ciYmcjx4citIY31mdW5jdGlvbiB3dChyLHQsZSxuKXtjb25zdCBvPXJvLGk9ci5jcmVhdGVGcmFtZWJ1ZmZlcigpO3IuYmluZEZyYW1lYnVmZmVyKG8saSksZT1lfHxyLmRyYXdpbmdCdWZmZXJXaWR0aCxuPW58fHIuZHJhd2luZ0J1ZmZlckhlaWdodCx0PXR8fEdjO2NvbnN0IHM9W10sYT17ZnJhbWVidWZmZXI6aSxhdHRhY2htZW50czpbXSx3aWR0aDplLGhlaWdodDpufTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHUsZil7bGV0IG09dS5hdHRhY2htZW50O2NvbnN0IHA9dS5zYW1wbGVzLGc9dS5mb3JtYXQ7bGV0IHg9dS5hdHRhY2htZW50UG9pbnR8fFdjKGcsdS5pbnRlcm5hbEZvcm1hdCk7aWYoeHx8KHg9eHIrZiksamMoeCkmJnMucHVzaCh4KSwhbSlpZihwIT09dm9pZCAwfHxWYyhnKSltPXIuY3JlYXRlUmVuZGVyYnVmZmVyKCksci5iaW5kUmVuZGVyYnVmZmVyKFR0LG0pLHA+MT9yLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShUdCxwLGcsZSxuKTpyLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoVHQsZyxlLG4pO2Vsc2V7Y29uc3QgZD1PYmplY3QuYXNzaWduKHt9LHUpO2Qud2lkdGg9ZSxkLmhlaWdodD1uLGQuYXV0bz09PXZvaWQgMCYmKGQuYXV0bz0hMSxkLm1pbj1kLm1pbnx8ZC5taW5NYWd8fHZyLGQubWFnPWQubWFnfHxkLm1pbk1hZ3x8dnIsZC53cmFwUz1kLndyYXBTfHxkLndyYXB8fGJyLGQud3JhcFQ9ZC53cmFwVHx8ZC53cmFwfHxiciksbT1BbihyLGQpfWlmKG5zKHIsbSkpci5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihvLHgsVHQsbSk7ZWxzZSBpZihxdChyLG0pKXUubGF5ZXIhPT12b2lkIDA/ci5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihvLHgsbSx1LmxldmVsfHwwLHUubGF5ZXIpOnIuZnJhbWVidWZmZXJUZXh0dXJlMkQobyx4LHUudGFyZ2V0fHxrYyxtLHUubGV2ZWx8fDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIGF0dGFjaG1lbnQgdHlwZSIpO2EuYXR0YWNobWVudHMucHVzaChtKX0pLHIuZHJhd0J1ZmZlcnMmJnIuZHJhd0J1ZmZlcnMocyksYX1mdW5jdGlvbiBZYyhyLHQsZSl7ZT1lfHxybyx0PyhyLmJpbmRGcmFtZWJ1ZmZlcihlLHQuZnJhbWVidWZmZXIpLHIudmlld3BvcnQoMCwwLHQud2lkdGgsdC5oZWlnaHQpKTooci5iaW5kRnJhbWVidWZmZXIoZSxudWxsKSxyLnZpZXdwb3J0KDAsMCxyLmRyYXdpbmdCdWZmZXJXaWR0aCxyLmRyYXdpbmdCdWZmZXJIZWlnaHQpKX1mdW5jdGlvbiBJKHIsdCl7cmV0dXJuKCk9PnQgaW5zdGFuY2VvZiBXZWJHTFRleHR1cmU/dDpBbihyLHtzcmM6dCx3cmFwOnIuQ0xBTVBfVE9fRURHRX0pfWNvbnN0IEZlPTI7Y2xhc3MgX2V7Y29uc3RydWN0b3IodCl7bCh0aGlzLCJpZCIsIl8iKTtsKHRoaXMsImNvbnRleHQiKTtsKHRoaXMsIm91dHB1dCIpO2wodGhpcywiZmJpIik7bCh0aGlzLCJvcHRpb25zIik7bCh0aGlzLCJwcm9ncmFtSW5mbyIpO2wodGhpcywiYnVmZmVySW5mbyIpO2wodGhpcywicHJvZmlsZXIiKTtsKHRoaXMsImxhc3RSdW4iKTtjb25zdHtjb250ZXh0OmUsd2lkdGg6bixoZWlnaHQ6b309dDt0aGlzLmNvbnRleHQ9ZSx0aGlzLm9wdGlvbnM9dDtjb25zdCBpPXRoaXMuYnVpbGREZWZpbmVzKCk7dGhpcy5wcm9ncmFtSW5mbz1SYyh0aGlzLmNvbnRleHQsW2krdGhpcy5nZXRWZXJ0ZXhTaGFkZXIoKSxpK3RoaXMuZ2V0RnJhZ21lbnRTaGFkZXIoKV0pLHRoaXMuYnVmZmVySW5mbz1Tcyh0aGlzLmNvbnRleHQsdGhpcy5nZXRCdWZmZXJzKCkpLHRoaXMuZmJpPXd0KHRoaXMuY29udGV4dCxbe2Zvcm1hdDp0aGlzLmNvbnRleHQuUkdCQSx0eXBlOnRoaXMuY29udGV4dC5VTlNJR05FRF9CWVRFLG1pbjp0aGlzLmNvbnRleHQuTElORUFSLHdyYXA6dGhpcy5jb250ZXh0LkNMQU1QX1RPX0VER0V9XSxuLG8pLHRoaXMub3V0cHV0PXRoaXMuZmJpLmF0dGFjaG1lbnRzWzBdfXJlc2l6ZU91dHB1dCh0LGUpe3RoaXMuZmJpPXd0KHRoaXMuY29udGV4dCxbe2Zvcm1hdDp0aGlzLmNvbnRleHQuUkdCQSx0eXBlOnRoaXMuY29udGV4dC5VTlNJR05FRF9CWVRFLG1pbjp0aGlzLmNvbnRleHQuTElORUFSLHdyYXA6dGhpcy5jb250ZXh0LkNMQU1QX1RPX0VER0V9XSx0LGUpLHRoaXMub3B0aW9ucy53aWR0aD10LHRoaXMub3B0aW9ucy5oZWlnaHQ9ZSx0aGlzLm91dHB1dD10aGlzLmZiaS5hdHRhY2htZW50c1swXX1nZXREZWZpbmVzKCl7cmV0dXJue319Z2V0QnVmZmVycygpe3JldHVybntwb3NpdGlvbjp7bnVtQ29tcG9uZW50czoyLGRhdGE6Wy0xLC0xLC0xLDEsMSwtMSwxLDEsLTEsMSwxLC0xXX0sdGV4dHVyZV9jb29yZDp7bnVtQ29tcG9uZW50czoyLGRhdGE6WzAsMCwwLDEsMSwwLDEsMSwwLDEsMSwwXX19fWJ1aWxkRGVmaW5lcygpe2xldCB0PSIiO2NvbnN0IGU9dGhpcy5nZXREZWZpbmVzKCk7Zm9yKGxldCBuIGluIGUpdCs9YCNkZWZpbmUgJHtufSAke2Vbbl0udG9GaXhlZCgxKX0KYDtyZXR1cm4gdH1ydW4odCl7dmFyIG8saSxzLGEsdSxmOyhvPXRoaXMucHJvZmlsZXIpPT1udWxsfHxvLnB1c2hDb250ZXh0KGBbJHt0aGlzLmlkfV0gUFJPRyA6ICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApLChpPXRoaXMucHJvZmlsZXIpPT1udWxsfHxpLnB1c2hDb250ZXh0KGBbJHt0aGlzLmlkfV0gVU5JRk9STVNgKTtmb3IoY29uc3QgbSBpbiB0KXR5cGVvZiB0W21dPT0iZnVuY3Rpb24iJiYoKHM9dGhpcy5wcm9maWxlcik9PW51bGx8fHMucHVzaENvbnRleHQoYFske3RoaXMuaWR9XSBVTkkgOiAke219YCksdFttXT10W21dKCksKGE9dGhpcy5wcm9maWxlcik9PW51bGx8fGEucG9wQ29udGV4dChgWyR7dGhpcy5pZH1dIFVOSSA6ICR7bX1gKSk7KHU9dGhpcy5wcm9maWxlcik9PW51bGx8fHUucG9wQ29udGV4dChgWyR7dGhpcy5pZH1dIFVOSUZPUk1TYCk7Y29uc3QgZT1EYXRlLm5vdygpO2xldCBuPTA7dGhpcy5sYXN0UnVuJiYobj0oZS10aGlzLmxhc3RSdW4pLzFlMyksdGhpcy5sYXN0UnVuPWUsdGhpcy5jb250ZXh0LnZpZXdwb3J0KDAsMCx0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoLHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0KSx0aGlzLmNvbnRleHQudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW1JbmZvLnByb2dyYW0pLEljKHRoaXMuY29udGV4dCx0aGlzLnByb2dyYW1JbmZvLHRoaXMuYnVmZmVySW5mbyksWm4odGhpcy5wcm9ncmFtSW5mbyx7ZGVsdGE6bixjYW52YXM6W3RoaXMuY29udGV4dC5jYW52YXMud2lkdGgsdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHRdLC4uLnR9KSxZYyh0aGlzLmNvbnRleHQsdGhpcy5vcHRpb25zLmRpc2FibGVGcmFtZWJ1ZmZlcj9udWxsOnRoaXMuZmJpKSxQYyh0aGlzLmNvbnRleHQsdGhpcy5idWZmZXJJbmZvKSwoZj10aGlzLnByb2ZpbGVyKT09bnVsbHx8Zi5wb3BDb250ZXh0KGBbJHt0aGlzLmlkfV0gUFJPRyA6ICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApfXNldFByb2ZpbGVyKHQpe3RoaXMucHJvZmlsZXI9dH19dmFyIFhjPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gc2FtcGxlcjJEIGJhY2tncm91bmQ7CnVuaWZvcm0gc2FtcGxlcjJEIGZvcmVncm91bmQ7CnVuaWZvcm0gc2FtcGxlcjJEIHRocmVzaG9sZDsKCnZvaWQgbWFpbigpIHsKICB2ZWM0IGJhY2tncm91bmRDb2xvciA9IHRleHR1cmUyRChiYWNrZ3JvdW5kLCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCBmb3JlZ3JvdW5kQ29sb3IgPSB0ZXh0dXJlMkQoZm9yZWdyb3VuZCwgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgdHJlc2hvbGRDb2xvciA9IHRleHR1cmUyRCh0aHJlc2hvbGQsIF90ZXh0dXJlX2Nvb3JkKTsKICBnbF9GcmFnQ29sb3IgPSBmb3JlZ3JvdW5kQ29sb3IgKiB0cmVzaG9sZENvbG9yLmEgKwogICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciAqICgxLiAtIHRyZXNob2xkQ29sb3IuYSk7Cn0KYCxRYz1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKICBfdGV4dHVyZV9jb29yZC55ID0gMS4gLSB0ZXh0dXJlX2Nvb3JkLnk7Cn0KYDtjbGFzcyBFciBleHRlbmRzIF9le2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIFhjfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBRY319Y2xhc3MgVHJ7Y29uc3RydWN0b3IoKXtsKHRoaXMsInN0ZXBzIixbXSk7bCh0aGlzLCJwcm9maWxlciIpfWFkZFN0ZXAodCl7dGhpcy5zdGVwcy5wdXNoKHQpfWFzeW5jIHJ1bigpe2Zvcihjb25zdCB0IG9mIHRoaXMuc3RlcHMpdC5wcm9ncmFtLnJ1bih0LmdldFVuaWZvcm1zKCkpfXJlc2l6ZU91dHB1dCh0LGUpe3ZhciBuLG87KG49dGhpcy5wcm9maWxlcik9PW51bGx8fG4ucHVzaENvbnRleHQoYFBJUCBbJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9XWApO2Zvcihjb25zdCBpIG9mIHRoaXMuc3RlcHMpaS5wcmV2ZW50UmVzaXplfHxpLnByb2dyYW0ucmVzaXplT3V0cHV0KHQsZSk7KG89dGhpcy5wcm9maWxlcik9PW51bGx8fG8ucG9wQ29udGV4dChgUElQIFske3RoaXMuY29uc3RydWN0b3IubmFtZX1dYCl9c2V0UHJvZmlsZXIodCl7dGhpcy5wcm9maWxlcj10O2Zvcihjb25zdCBlIG9mIHRoaXMuc3RlcHMpZS5wcm9ncmFtLnNldFByb2ZpbGVyKHQpfXNldElkKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuc3RlcHMpZS5wcm9ncmFtLmlkPXR9fWNsYXNzIEFyIGV4dGVuZHMgVHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO2wodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMSl9fWNsYXNzIGFvIGV4dGVuZHMgQXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTtsKHRoaXMsImlucHV0SW1hZ2UiKTtsKHRoaXMsImlucHV0QmFja2dyb3VuZEltYWdlIik7bCh0aGlzLCJpbnB1dE1hc2siKTtsKHRoaXMsInByZWNpc2VNYXNrRW5hYmxlZCIsITApO3RoaXMuY29udGV4dD1lO2NvbnN0IG49e2NvbnRleHQ6ZSxoZWlnaHQ6ZS5jYW52YXMuaGVpZ2h0LHdpZHRoOmUuY2FudmFzLndpZHRofSxvPW5ldyBFcih7Li4ubixkaXNhYmxlRnJhbWVidWZmZXI6ITB9KTt0aGlzLmFkZFN0ZXAoe3Byb2dyYW06byxnZXRVbmlmb3JtczooKT0+KHtiYWNrZ3JvdW5kOkkoZSx0aGlzLmlucHV0QmFja2dyb3VuZEltYWdlKSxmb3JlZ3JvdW5kOkkoZSx0aGlzLmlucHV0SW1hZ2UpLHRocmVzaG9sZDpJKGUsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKGUsbil7dGhpcy5pbnB1dEltYWdlPWUsdGhpcy5pbnB1dE1hc2s9bn19dmFyIEtjPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKCnZvaWQgbWFpbigpIHsgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIF90ZXh0dXJlX2Nvb3JkKTsgfQpgLHFjPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKdW5pZm9ybSBib29sIGludmVydF95OwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7CiAgaWYgKGludmVydF95KSB7CiAgICBfdGV4dHVyZV9jb29yZC55ID0gMS4gLSB0ZXh0dXJlX2Nvb3JkLnk7CiAgfQp9CmA7Y2xhc3MgSmMgZXh0ZW5kcyBfZXtnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBLY31nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gcWN9fWNsYXNzIFpjIGV4dGVuZHMgVHJ7Y29uc3RydWN0b3IoZSxuLG8pe3N1cGVyKCk7bCh0aGlzLCJpbnB1dEltYWdlIik7dGhpcy5jb250ZXh0PWU7Y29uc3QgaT17Y29udGV4dDplLGhlaWdodDpvLHdpZHRoOm59O3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpuZXcgSmMoey4uLmksZGlzYWJsZUZyYW1lYnVmZmVyOiEwfSksZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpJKGUsdGhpcy5pbnB1dEltYWdlKSxpbnZlcnRfeTohMH0pfSl9c2V0RGF0YShlKXt0aGlzLmlucHV0SW1hZ2U9ZX19YXN5bmMgZnVuY3Rpb24gdW8ocil7cmV0dXJuIG5ldyBQcm9taXNlKHQ9PntzZXRUaW1lb3V0KCgpPT57dCgpfSxyKX0pfXZhciBlZj1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7Cgp1bmlmb3JtIHZlYzIgY2FudmFzOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlOwoKdmVjNCBsb29wKCk7Cgp2b2lkIG1haW4oKSB7IGdsX0ZyYWdDb2xvciA9IGxvb3AoKTsgfQpgLHRmPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmAsd3I9KHI9PihyW3IuTElORUFSPTBdPSJMSU5FQVIiLHJbci5HQVVTU0lBTj0xXT0iR0FVU1NJQU4iLHIpKSh3cnx8e30pO2NsYXNzIGNvIGV4dGVuZHMgX2V7Z2V0RGVmaW5lcygpe3ZhciB0O3JldHVybntSQURJVVM6KHQ9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/dDoxfX1nZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBlZit0aGlzLmNyZWF0ZUxvb3BGdW5jdGlvbigpfWdldFZlcnRleFNoYWRlcigpe3JldHVybiB0Zn1jcmVhdGVMb29wRnVuY3Rpb24oKXt2YXIgZTtsZXQgdD0oZT10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD9lOjE7cmV0dXJuYAoKICAgICAgICB2ZWM0IGxvb3AoKSB7IAogICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCwwLDAsMCk7CiAgICAgICAgICAgIGZsb2F0IGZhY3RvclN1bSA9IDAuOwoKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkUmFkaXVzID0gdmVjMigtJHt0fS4pIC8gY2FudmFzOwogICAgICAgICAgICB2ZWMyIG5vcm1hbGl6ZWRJbmNyZW1lbnQgPSB2ZWMyKDEuKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBkaWZmID0gbm9ybWFsaXplZFJhZGl1czsKCiAgICAgICAgICAgIGZvcihpbnQgeT0tJHt0fTsgeTwke3QrMX07ICsreSkgewogICAgICAgICAgICAgICAgZm9yKGludCB4PS0ke3R9OyB4PCR7dCsxfTsgKyt4KSB7CiAgICAgICAgICAgICAgICAgICAgZmxvYXQgZmFjdG9yID0gMS47CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZhY3RvciAqIHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpOwogICAgICAgICAgICAgICAgICAgIGZhY3RvclN1bSArPSBmYWN0b3I7CiAgICAgICAgICAgICAgICAgICAgZGlmZi54ICs9IG5vcm1hbGl6ZWRJbmNyZW1lbnQueDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpZmYueSArPSBub3JtYWxpemVkSW5jcmVtZW50Lnk7CiAgICAgICAgICAgICAgICBkaWZmLnggPSBub3JtYWxpemVkUmFkaXVzLng7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAvIGZhY3RvclN1bTsKICAgICAgICB9YH1nZXRGYWN0b3IodCxlKXtzd2l0Y2godGhpcy5vcHRpb25zLnR5cGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5nZXRMaW5lYXJGYWN0b3IodCxlKTtjYXNlIDA6ZGVmYXVsdDpyZXR1cm4gdGhpcy5nZXRMaW5lYXJGYWN0b3IodCxlKX19Z2V0TGluZWFyRmFjdG9yKHQsZSl7cmV0dXJuIDF9Z2V0R2F1c3NpYW5GYWN0b3IodCxlKXt2YXIgdTtjb25zdCBuPU1hdGguUEkqMixvPU1hdGgubWF4KCh1PXRoaXMub3B0aW9ucy5yYWRpdXMpIT1udWxsP3U6MSwxKSxpPTEvKG4qbyoqMikscz0tKHQqKjIrZSoqMiksYT1pKnM7cmV0dXJuIGkqTWF0aC5FKiphfX1jbGFzcyBJciBleHRlbmRzIF9le2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2wodGhpcywiZmJpMiIpO3RoaXMuZmJpMj13dChlLmNvbnRleHQsW3tmb3JtYXQ6ZS5jb250ZXh0LlJHQkEsdHlwZTplLmNvbnRleHQuVU5TSUdORURfQllURSxtaW46ZS5jb250ZXh0LkxJTkVBUixtYWc6ZS5jb250ZXh0LkxJTkVBUix3cmFwOmUuY29udGV4dC5DTEFNUF9UT19FREdFfV0sZS53aWR0aCxlLmhlaWdodCl9cnVuKGUpe2NvbnN0IG49dGhpcy5mYmk7dGhpcy5mYmk9dGhpcy5mYmkyLHRoaXMuZmJpMj1uLHRoaXMub3V0cHV0PXRoaXMuZmJpLmF0dGFjaG1lbnRzWzBdLHN1cGVyLnJ1bih7Li4uZSxwcmV2aW91c19yZW5kZXJpbmc6dGhpcy5mYmkyLmF0dGFjaG1lbnRzWzBdfSl9cmVzaXplT3V0cHV0KGUsbil7c3VwZXIucmVzaXplT3V0cHV0KGUsbiksdGhpcy5mYmkyPXd0KHRoaXMuY29udGV4dCxbe2Zvcm1hdDp0aGlzLmNvbnRleHQuUkdCQSx0eXBlOnRoaXMuY29udGV4dC5VTlNJR05FRF9CWVRFLG1pbjp0aGlzLmNvbnRleHQuTElORUFSLHdyYXA6dGhpcy5jb250ZXh0LkNMQU1QX1RPX0VER0V9XSxlLG4pfX12YXIgcmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKLy8gdW5pZm9ybSBmbG9hdCB0cmVzaG9sZDsKdW5pZm9ybSBzYW1wbGVyMkQgaW1hZ2Vfbm93Owp1bmlmb3JtIHNhbXBsZXIyRCBpbWFnZV9iZWZvcmU7CnVuaWZvcm0gc2FtcGxlcjJEIG1hc2tfbm93Owp1bmlmb3JtIHNhbXBsZXIyRCBtYXNrX2JlZm9yZTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJldmlvdXNfcmVuZGVyaW5nOwp1bmlmb3JtIHZlYzIgY2FudmFzOwoKdW5pZm9ybSBmbG9hdCBkZWx0YTsKCmZsb2F0IGN1cnJlbnRfZmFjdG9yID0gMC42OTsKZmxvYXQgcHJldmlvdXNfZmFjdG9yID0gMC43NDsKZmxvYXQgdGhyZXNob2xkX2FjdGl2YXRpb24gPSAwLjU0OwoKZmxvYXQgbWFwKGZsb2F0IHZhbHVlLCBmbG9hdCBtaW4xLCBmbG9hdCBtYXgxLCBmbG9hdCBtaW4yLCBmbG9hdCBtYXgyKSB7CiAgcmV0dXJuIG1pbjIgKyAodmFsdWUgLSBtaW4xKSAqIChtYXgyIC0gbWluMikgLyAobWF4MSAtIG1pbjEpOwp9CgpmbG9hdCBnZXRUaHJlc2hvbGQoKSB7CiAgdmVjNCBjb2xvciA9IHZlYzQoMC4pOwogIGZvciAoZmxvYXQgeSA9IC02LjsgeSA8IDcuOyB5ICs9IDEuKSB7CiAgICBmb3IgKGZsb2F0IHggPSAtNi47IHggPCA3LjsgeCArPSAxLikgewogICAgICB2ZWM0IGltYWdlX25vd19jb2xvciA9CiAgICAgICAgICB0ZXh0dXJlMkQoaW1hZ2Vfbm93LCBfdGV4dHVyZV9jb29yZCArIHZlYzIoeCwgeSkgLyBjYW52YXMpOwogICAgICB2ZWM0IGltYWdlX2JlZm9yZV9jb2xvciA9CiAgICAgICAgICB0ZXh0dXJlMkQoaW1hZ2VfYmVmb3JlLCBfdGV4dHVyZV9jb29yZCArIHZlYzIoeCwgeSkgLyBjYW52YXMpOwogICAgICBjb2xvciArPSBhYnMoaW1hZ2VfYmVmb3JlX2NvbG9yIC0gaW1hZ2Vfbm93X2NvbG9yKTsKICAgIH0KICB9CiAgcmV0dXJuIChjb2xvci54ICsgY29sb3IueSArIGNvbG9yLnopIC8gKDMuICogOS4pOwp9Cgp2b2lkIG1haW4oKSB7CiAgZmxvYXQgdHJlc2hvbGRfaW5wdXQgPSAuNDsKICBmbG9hdCB0cmVzaG9sZF9wcmV2aW91c19yZW5kZXJpbmcgPSAuOTg7CgogIHZlYzQgbWFza19ub3dfY29sb3IgPSB0ZXh0dXJlMkQobWFza19ub3csIF90ZXh0dXJlX2Nvb3JkKTsKICB2ZWM0IG1hc2tfYmVmb3JlX2NvbG9yID0gdGV4dHVyZTJEKG1hc2tfYmVmb3JlLCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCBwcmV2aW91c19yZW5kZXJpbmdfY29sb3IgPSB0ZXh0dXJlMkQocHJldmlvdXNfcmVuZGVyaW5nLCBfdGV4dHVyZV9jb29yZCk7CgogIHZlYzMgbWFza19kaWZmID0gYWJzKG1hc2tfYmVmb3JlX2NvbG9yLnh5eiAtIG1hc2tfbm93X2NvbG9yLnh5eik7CiAgZmxvYXQgZmxpY2tlcmluZyA9IG1hc2tfZGlmZi54OwogIGZsb2F0IHRocmVzaG9sZCA9IGdldFRocmVzaG9sZCgpOwogIGlmICh0aHJlc2hvbGQgPCB0aHJlc2hvbGRfYWN0aXZhdGlvbikgewogICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChmbGlja2VyaW5nLCAwLiwgMC4sIDEuKSAqIGN1cnJlbnRfZmFjdG9yICsKICAgICAgICAgICAgICAgICAgIHByZXZpb3VzX3JlbmRlcmluZ19jb2xvciAqIHByZXZpb3VzX2ZhY3RvcjsKICAgIGdsX0ZyYWdDb2xvciAqPSAoMS4gLSB0aHJlc2hvbGQpOwogIH0KfQpgLG5mPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmA7Y2xhc3Mgb2YgZXh0ZW5kcyBJcntnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiByZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gbmZ9fXZhciBzZj1gI3ZlcnNpb24gMzAwIGVzCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Wb2xjb21peC92aXJ0dWFsLWJhY2tncm91bmQvYmxvYi9tYWluL3NyYy9waXBlbGluZXMvd2ViZ2wyL2pvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UudHMKCnByZWNpc2lvbiBoaWdocCBmbG9hdDsKdW5pZm9ybSBzYW1wbGVyMkQgaW5wdXRfZnJhbWU7CnVuaWZvcm0gc2FtcGxlcjJEIHNlZ21lbnRhdGlvbl9tYXNrOwp1bmlmb3JtIHNhbXBsZXIyRCB0aHJlc2hvbGQ7CnVuaWZvcm0gdmVjMiB0ZXhlbF9zaXplOwp1bmlmb3JtIGZsb2F0IHN0ZXA7CnVuaWZvcm0gZmxvYXQgcmFkaXVzOwp1bmlmb3JtIGZsb2F0IG9mZnNldDsKdW5pZm9ybSBmbG9hdCBzaWdtYV90ZXhlbDsKdW5pZm9ybSBmbG9hdCBzaWdtYV9jb2xvcjsKCmluIHZlYzIgX3RleHR1cmVfY29vcmQ7Cm91dCB2ZWM0IG91dENvbG9yOwoKZmxvYXQgZ2F1c3NpYW4oZmxvYXQgeCwgZmxvYXQgc2lnbWEpIHsKICBmbG9hdCBjb2VmZiA9IC0wLjUgLyAoc2lnbWEgKiBzaWdtYSAqIDQuMCArIDEuMGUtNik7CiAgcmV0dXJuIGV4cCgoeCAqIHgpICogY29lZmYpOwp9Cgp2b2lkIG1haW4oKSB7CiAgdmVjMiBjZW50ZXJDb29yZCA9IF90ZXh0dXJlX2Nvb3JkOwogIHZlYzMgY2VudGVyQ29sb3IgPSB0ZXh0dXJlKGlucHV0X2ZyYW1lLCBjZW50ZXJDb29yZCkucmdiOwogIGZsb2F0IG5ld1ZhbCA9IDAuMDsKICBmbG9hdCBzcGFjZVdlaWdodCA9IDAuMDsKICBmbG9hdCBjb2xvcldlaWdodCA9IDAuMDsKICBmbG9hdCB0b3RhbFdlaWdodCA9IDAuMDsKICAvLyBTdWJzYW1wbGUga2VybmVsIHNwYWNlLgogIGZvciAoZmxvYXQgaSA9IC1yYWRpdXMgKyBvZmZzZXQ7IGkgPD0gcmFkaXVzOyBpICs9IHN0ZXApIHsKICAgIGZvciAoZmxvYXQgaiA9IC1yYWRpdXMgKyBvZmZzZXQ7IGogPD0gcmFkaXVzOyBqICs9IHN0ZXApIHsKICAgICAgdmVjMiBzaGlmdCA9IHZlYzIoaiwgaSkgKiB0ZXhlbF9zaXplOwogICAgICB2ZWMyIGNvb3JkID0gdmVjMihjZW50ZXJDb29yZCArIHNoaWZ0KTsKICAgICAgdmVjMyBmcmFtZUNvbG9yID0gdGV4dHVyZShpbnB1dF9mcmFtZSwgY29vcmQpLnJnYjsKICAgICAgZmxvYXQgdGhyZXNob2xkID0gdGV4dHVyZSh0aHJlc2hvbGQsIGNvb3JkKS5hOwogICAgICBmbG9hdCBvdXRWYWwgPSB0ZXh0dXJlKHNlZ21lbnRhdGlvbl9tYXNrLCBjb29yZCkuYTsKCiAgICAgIHNwYWNlV2VpZ2h0ID0gZ2F1c3NpYW4oZGlzdGFuY2UoY2VudGVyQ29vcmQsIGNvb3JkKSwgc2lnbWFfdGV4ZWwpOwogICAgICBjb2xvcldlaWdodCA9IGdhdXNzaWFuKGRpc3RhbmNlKGNlbnRlckNvbG9yLCBmcmFtZUNvbG9yKSwgc2lnbWFfY29sb3IpOwogICAgICB0b3RhbFdlaWdodCArPSBzcGFjZVdlaWdodCAqIGNvbG9yV2VpZ2h0OwogICAgICBuZXdWYWwgKz0gc3BhY2VXZWlnaHQgKiBjb2xvcldlaWdodCAqIG91dFZhbCAqIHRocmVzaG9sZDsKICAgIH0KICB9CiAgbmV3VmFsIC89IHRvdGFsV2VpZ2h0OwogIG91dENvbG9yID0gdmVjNCh2ZWMzKDAuKSwgbmV3VmFsKTsKfWAsYWY9YCN2ZXJzaW9uIDMwMCBlcwppbiB2ZWMyIHBvc2l0aW9uOwppbiB2ZWMyIHRleHR1cmVfY29vcmQ7Cm91dCB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLjAsIDEuMCk7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9YDtjbGFzcyB1ZiBleHRlbmRzIF9le2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIHNmfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBhZn19dmFyIGNmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gdmVjMiBjYW52YXM7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7Cgp2b2lkIG1haW4oKSB7CiAgaW50IGNvdW50ID0gMDsKICBmb3IgKGZsb2F0IHkgPSAtMS47IHkgPCAyLjsgeSArPSAxLikgewogICAgZm9yIChmbG9hdCB4ID0gLTEuOyB4IDwgMi47IHggKz0gMS4pIHsKICAgICAgdmVjMiBjb29yZCA9IF90ZXh0dXJlX2Nvb3JkICsgdmVjMih5LCB4KSAvIGNhbnZhczsKICAgICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCBjb29yZCk7CiAgICAgIGlmIChjb2xvci5yID4gLjEpIHsKICAgICAgICBjb3VudCsrOwogICAgICB9CiAgICB9CiAgfQogIGlmIChjb3VudCA+IDUpIHsKICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCk7CiAgfQp9CmAsZmY9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn0KYDtjbGFzcyBsZiBleHRlbmRzIF9le2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIGNmfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBmZn19dmFyIGRmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gdmVjMiBjYW52YXM7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7Cgp2b2lkIG1haW4oKSB7CiAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCk7CiAgZm9yIChmbG9hdCB5ID0gLTIuOyB5IDwgMy47IHkgKz0gMS4pIHsKICAgIGZvciAoZmxvYXQgeCA9IC0yLjsgeCA8IDMuOyB4ICs9IDEuKSB7CiAgICAgIHZlYzIgY29vcmQgPSBfdGV4dHVyZV9jb29yZDsKICAgICAgY29vcmQgKz0gdmVjMih5LCB4KSAvIGNhbnZhczsKICAgICAgY29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkKSAqICgxLiAvIDQuKTsKICAgIH0KICB9CgogIGdsX0ZyYWdDb2xvciA9IGNvbG9yOwp9CmAsbWY9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn0KYDtjbGFzcyBoZiBleHRlbmRzIElye2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIGRmfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBtZn19dmFyIHBmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gc2FtcGxlcjJEIHRocmVzaG9sZDsKdW5pZm9ybSBzYW1wbGVyMkQgaW5wdXRzOwoKdm9pZCBtYWluKCkgewogIHZlYzQgaW5wdXRzX2NvbG9yID0gdGV4dHVyZTJEKGlucHV0cywgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgdGhyZXNob2xkX2NvbG9yID0gdGV4dHVyZTJEKHRocmVzaG9sZCwgX3RleHR1cmVfY29vcmQpOwogIGlmICh0aHJlc2hvbGRfY29sb3IuciA8IC4xICYmIGlucHV0c19jb2xvci5yID4gLjUpIHsKICAgIGdsX0ZyYWdDb2xvciA9IGlucHV0c19jb2xvcjsKICB9Cn0KYCxnZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIHlmIGV4dGVuZHMgSXJ7Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gcGZ9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIGdmfX1jbGFzcyB4ZiBleHRlbmRzIFRye2NvbnN0cnVjdG9yKGUsbixvKXtzdXBlcigpO2wodGhpcywiaW5wdXRJbWFnZSIpO2wodGhpcywiaW5wdXRNYXNrIik7bCh0aGlzLCJwcmV2aW91c0lucHV0SW1hZ2UiKTtsKHRoaXMsInByZXZpb3VzSW5wdXRNYXNrIik7bCh0aGlzLCJvdXRwdXQiKTtsKHRoaXMsIm9wdGlvbnMiLHtjdXJyZW50VGhyZXNob2xkTWluaW11bTowLGN1cnJlbnRUaHJlc2hvbGRNYXhpbXVtOjEscHJldmlvdXNUaHJlc2hvbGRNaW5pbXVtOjAscHJldmlvdXNUaHJlc2hvbGRNYXhpbXVtOjEsdGhyZXNob2xkTWluaW11bTowLHRocmVzaG9sZE1heGltdW06MSx0aHJlc2hvbGRGYWN0b3I6MX0pO2wodGhpcywiam9pbnRCaWxhdGVyYWwiKTt0aGlzLmNvbnRleHQ9ZTtjb25zdCBpPXtjb250ZXh0OmUsaGVpZ2h0Om8sd2lkdGg6bn0scz1uZXcgb2YoaSksYT1uZXcgY28oey4uLmkscmFkaXVzOjEsdHlwZTp3ci5HQVVTU0lBTn0pLHU9bmV3IHlmKGkpLGY9bmV3IGhmKGkpLG09bmV3IGxmKGkpO3RoaXMuam9pbnRCaWxhdGVyYWw9bmV3IHVmKGkpLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2ltYWdlX25vdzpJKGUsdGhpcy5pbnB1dEltYWdlKSxpbWFnZV9iZWZvcmU6SShlLHRoaXMucHJldmlvdXNJbnB1dEltYWdlKSxtYXNrX25vdzpJKGUsdGhpcy5pbnB1dE1hc2spLG1hc2tfYmVmb3JlOkkoZSx0aGlzLnByZXZpb3VzSW5wdXRNYXNrKSxjdXJyZW50X3RocmVzaG9sZF9taW5pbXVtOnRoaXMub3B0aW9ucy5jdXJyZW50VGhyZXNob2xkTWluaW11bSxjdXJyZW50X3RocmVzaG9sZF9tYXhpbXVtOnRoaXMub3B0aW9ucy5jdXJyZW50VGhyZXNob2xkTWF4aW11bSxwcmV2aW91c190aHJlc2hvbGRfbWluaW11bTp0aGlzLm9wdGlvbnMucHJldmlvdXNUaHJlc2hvbGRNaW5pbXVtLHByZXZpb3VzX3RocmVzaG9sZF9tYXhpbXVtOnRoaXMub3B0aW9ucy5wcmV2aW91c1RocmVzaG9sZE1heGltdW0sdGhyZXNob2xkX21pbmltdW06dGhpcy5vcHRpb25zLnRocmVzaG9sZE1pbmltdW0sdGhyZXNob2xkX21heGltdW06dGhpcy5vcHRpb25zLnRocmVzaG9sZE1heGltdW0sdGhyZXNob2xkX2ZhY3Rvcjp0aGlzLm9wdGlvbnMudGhyZXNob2xkRmFjdG9yfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06dSxnZXRVbmlmb3JtczooKT0+KHtpbnB1dHM6SShlLHRoaXMuaW5wdXRNYXNrKSx0aHJlc2hvbGQ6SShlLHMub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOm0sZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpJKGUsdS5vdXRwdXQpfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06ZixnZXRVbmlmb3JtczooKT0+KHt0ZXh0dXJlOkkoZSxtLm91dHB1dCl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTphLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SShlLGYub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOnRoaXMuam9pbnRCaWxhdGVyYWwsZ2V0VW5pZm9ybXM6KCk9Pnt2YXIgJCx6LFYsRyxHZSxiZSxjZSxXO2NvbnN0IGc9KHo9KCQ9dGhpcy5pbnB1dEltYWdlKT09bnVsbD92b2lkIDA6JC53aWR0aCkhPW51bGw/ejoxLHg9KEc9KFY9dGhpcy5pbnB1dEltYWdlKT09bnVsbD92b2lkIDA6Vi5oZWlnaHQpIT1udWxsP0c6MSxkPShiZT0oR2U9dGhpcy5pbnB1dE1hc2spPT1udWxsP3ZvaWQgMDpHZS53aWR0aCkhPW51bGw/YmU6MSxfPShXPShjZT10aGlzLmlucHV0TWFzayk9PW51bGw/dm9pZCAwOmNlLmhlaWdodCkhPW51bGw/VzoxLEU9TWF0aC5tYXgoZy9kLHgvXyksdj1NYXRoLm1heCgxLE1hdGguc3FydChFKSouNjYpLEY9MS9nLGs9MS94O3JldHVybntpbnB1dF9mcmFtZTpJKGUsdGhpcy5pbnB1dEltYWdlKSxzZWdtZW50YXRpb25fbWFzazpJKGUsdGhpcy5pbnB1dE1hc2spLHRocmVzaG9sZDpJKGUsYS5vdXRwdXQpLHRleGVsX3NpemU6W0Ysa10sc3RlcDp2LHJhZGl1czpFLG9mZnNldDp2PjE/diouNTowLHNpZ21hX3RleGVsOk1hdGgubWF4KEYsaykqRSxzaWdtYV9jb2xvcjouMX19fSksdGhpcy5vdXRwdXQ9dGhpcy5qb2ludEJpbGF0ZXJhbC5vdXRwdXR9c2V0RGF0YShlLG4pe3RoaXMucHJldmlvdXNJbnB1dEltYWdlPXRoaXMuaW5wdXRJbWFnZT90aGlzLmlucHV0SW1hZ2U6ZSx0aGlzLnByZXZpb3VzSW5wdXRNYXNrPXRoaXMuaW5wdXRNYXNrP3RoaXMuaW5wdXRNYXNrOm4sdGhpcy5pbnB1dEltYWdlPWUsdGhpcy5pbnB1dE1hc2s9bn1zZXRPcHRpb25zKGUpe3RoaXMub3B0aW9ucz1lfXJlc2l6ZU91dHB1dChlLG4pe3N1cGVyLnJlc2l6ZU91dHB1dChlLG4pLHRoaXMub3V0cHV0PXRoaXMuam9pbnRCaWxhdGVyYWwub3V0cHV0fX1jbGFzcyBfZntjb25zdHJ1Y3Rvcih0KXtsKHRoaXMsImNvbnRleHQiKTtsKHRoaXMsImV4dGVuc2lvbiIpO2wodGhpcywicXVlcmllcyIsW10pO2wodGhpcywiYWN0aXZlUXVlcnkiKTt0aGlzLmNvbnRleHQ9dCx0aGlzLmV4dGVuc2lvbj10LmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiIpfXN0YXJ0KCl7fXN0b3AoKXt0aGlzLmFjdGl2ZVF1ZXJ5JiZ0aGlzLmNvbnRleHQuZW5kUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCl9cHVzaENvbnRleHQodCl7dGhpcy5jcmVhdGVRdWVyeSgiUFVTSCIsdCl9cG9wQ29udGV4dCh0KXt0aGlzLmNyZWF0ZVF1ZXJ5KCJQT1AiLHQpfWNyZWF0ZVF1ZXJ5KHQsZSl7dGhpcy5hY3RpdmVRdWVyeSYmdGhpcy5jb250ZXh0LmVuZFF1ZXJ5KHRoaXMuZXh0ZW5zaW9uLlRJTUVfRUxBUFNFRF9FWFQpLHRoaXMuYWN0aXZlUXVlcnk9dGhpcy5jb250ZXh0LmNyZWF0ZVF1ZXJ5KCksdGhpcy5jb250ZXh0LmJlZ2luUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCx0aGlzLmFjdGl2ZVF1ZXJ5KSx0aGlzLnF1ZXJpZXMucHVzaCh7bmFtZTplLGFjdGlvbjp0LHF1ZXJ5OnRoaXMuYWN0aXZlUXVlcnl9KX1hc3luYyBnZXRSZXNvbHZlZFF1ZXJpZXMoKXtjb25zdCB0PShhd2FpdCBQcm9taXNlLmFsbChbLi4udGhpcy5xdWVyaWVzXS5tYXAoZT0+dGhpcy5yZXNvbHZlUXVlcnkoZSkpKSkuZmlsdGVyKGU9PmUpO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7KytlKXRbZV0udGltZXN0YW1wKz10W2UtMV0uZHVyYXRpb24rdFtlLTFdLnRpbWVzdGFtcDtyZXR1cm4gdH1hc3luYyByZXNvbHZlUXVlcnkodCl7aWYoIWF3YWl0IHRoaXMuYXdhaXRRdWVyeUF2YWlsYWJsZSh0KSl7Y29uc29sZS5sb2coIlVuYXdhaXRhYmxlIHF1ZXJ5Iix0KTtyZXR1cm59aWYodGhpcy5jb250ZXh0LmdldFBhcmFtZXRlcih0aGlzLmV4dGVuc2lvbi5HUFVfRElTSk9JTlRfRVhUKSl7Y29uc29sZS5sb2coIkRpc2pvaW50ZWQgcXVlcnkiLHQpO3JldHVybn1yZXR1cm57Li4udCxkdXJhdGlvbjp0aGlzLmNvbnRleHQuZ2V0UXVlcnlQYXJhbWV0ZXIodC5xdWVyeSx0aGlzLmNvbnRleHQuUVVFUllfUkVTVUxUKSx0aW1lc3RhbXA6MH19YXN5bmMgYXdhaXRRdWVyeUF2YWlsYWJsZSh0KXtmb3IobGV0IGU9MDtlPDEwOysrZSl7aWYodGhpcy5jb250ZXh0LmdldFF1ZXJ5UGFyYW1ldGVyKHQucXVlcnksdGhpcy5jb250ZXh0LlFVRVJZX1JFU1VMVF9BVkFJTEFCTEUpKXJldHVybiB0O2F3YWl0IHVvKDIwMCl9fX1jbGFzcyBJdHtjb25zdHJ1Y3Rvcigpe2wodGhpcywiY2FudmFzIik7bCh0aGlzLCJjb250ZXh0Iik7bCh0aGlzLCJwaXBlbGluZSIpO2wodGhpcywicHJldmlvdXNJbWFnZVdpZHRoIiwwKTtsKHRoaXMsInByZXZpb3VzSW1hZ2VIZWlnaHQiLDApO2wodGhpcywicHJldmlvdXNNYXNrV2lkdGgiLEZlKTtsKHRoaXMsInByZXZpb3VzTWFza0hlaWdodCIsRmUpO2wodGhpcywicHJvZmlsZXIiKTtsKHRoaXMsInBvc3RQcm9jZXNzaW5nRW5hYmxlZCIsITApO2wodGhpcywiaW1wcm92ZU1hc2siKTtjb25zdCB0PW5ldyBPZmZzY3JlZW5DYW52YXMoMCwwKSxlPXQuZ2V0Q29udGV4dCgid2ViZ2wyIik7aWYoIWUpdGhyb3ciRmFpbCB0byByZXRyaWV2ZSB3ZWJnbDIgY29udGV4dCI7dGhpcy5jYW52YXM9dCx0aGlzLmNvbnRleHQ9ZSx0aGlzLmltcHJvdmVNYXNrPW5ldyB4Zih0aGlzLmNvbnRleHQsRmUsRmUpfXNldEZsaWNrZXJpbmdPcHRpb25zKHQpe3RoaXMuaW1wcm92ZU1hc2suc2V0T3B0aW9ucyh0KX1lbmFibGVQb3N0UHJvY2Vzc2luZygpe3RoaXMucG9zdFByb2Nlc3NpbmdFbmFibGVkPSEwfWRpc2FibGVQb3N0UHJvY2Vzc2luZygpe3RoaXMucG9zdFByb2Nlc3NpbmdFbmFibGVkPSExfWFzeW5jIHByb2ZpbGVXZWJnbCh0KXtjb25zdCBlPW5ldyBfZih0aGlzLmNvbnRleHQpO3JldHVybiB0aGlzLnByb2ZpbGVyPWUsZS5zdGFydCgpLGF3YWl0IHVvKHQpLHRoaXMucHJvZmlsZXI9dm9pZCAwLGUuc3RvcCgpLGUuZ2V0UmVzb2x2ZWRRdWVyaWVzKCl9YXN5bmMgcmVuZGVyKHQsZSl7dmFyIGkscztpZighdGhpcy5waXBlbGluZSl0aHJvdyJtaXNzaW5nIHBpcGVsaW5lIjsodGhpcy5wcmV2aW91c0ltYWdlSGVpZ2h0IT09dC5oZWlnaHR8fHRoaXMucHJldmlvdXNJbWFnZVdpZHRoIT09dC53aWR0aCkmJnRoaXMucmVzaXplT3V0cHV0KHQud2lkdGgsdC5oZWlnaHQpLCh0aGlzLnByZXZpb3VzTWFza0hlaWdodCE9PWUuaGVpZ2h0fHx0aGlzLnByZXZpb3VzTWFza1dpZHRoIT09ZS53aWR0aCkmJih0aGlzLmltcHJvdmVNYXNrLnJlc2l6ZU91dHB1dChlLndpZHRoLGUuaGVpZ2h0KSx0aGlzLnByZXZpb3VzTWFza1dpZHRoPWUud2lkdGgsdGhpcy5wcmV2aW91c01hc2tIZWlnaHQ9ZS5oZWlnaHQpO2NvbnN0IG49InJlbmRlcmVyIjsoaT10aGlzLnByb2ZpbGVyKT09bnVsbHx8aS5wdXNoQ29udGV4dChuKSx0aGlzLmltcHJvdmVNYXNrLnNldFByb2ZpbGVyKHRoaXMucHJvZmlsZXIpLHRoaXMucGlwZWxpbmUuc2V0UHJvZmlsZXIodGhpcy5wcm9maWxlcik7bGV0IG89ZTtyZXR1cm4gdGhpcy5wb3N0UHJvY2Vzc2luZ0VuYWJsZWQmJih0aGlzLmltcHJvdmVNYXNrLnNldERhdGEodCxlKSx0aGlzLmltcHJvdmVNYXNrLnJ1bigpLG89dGhpcy5pbXByb3ZlTWFzay5vdXRwdXQpLHRoaXMucGlwZWxpbmUuc2V0RGF0YSh0LG8pLGF3YWl0IHRoaXMucGlwZWxpbmUucnVuKCksKHM9dGhpcy5wcm9maWxlcik9PW51bGx8fHMucG9wQ29udGV4dChuKSx0aGlzLmNhbnZhc31yZXNpemVPdXRwdXQodCxlKXt2YXIgbjt0aGlzLmNhbnZhcy53aWR0aD10LHRoaXMuY2FudmFzLmhlaWdodD1lLChuPXRoaXMucGlwZWxpbmUpPT1udWxsfHxuLnJlc2l6ZU91dHB1dCh0LGUpLHRoaXMucHJldmlvdXNJbWFnZVdpZHRoPXQsdGhpcy5wcmV2aW91c0ltYWdlSGVpZ2h0PWV9fWNsYXNzIGZvIGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoKXtzdXBlcigpO2wodGhpcywicGlwZWxpbmUiKTtsKHRoaXMsImJhY2tncm91bmRJbWFnZSIpO2wodGhpcywiYmFja2dyb3VuZEltYWdlUmVzaXplckNhbnZhcyIpO2wodGhpcywiYmFja2dyb3VuZEltYWdlUmVzaXplckNvbnRleHQiKTtsKHRoaXMsImJhY2tncm91bmRJbWFnZVJlc2l6ZXIiKTt0aGlzLnBpcGVsaW5lPW5ldyBhbyh0aGlzLmNvbnRleHQpO2NvbnN0IGU9bmV3IE9mZnNjcmVlbkNhbnZhcygwLDApLG49ZS5nZXRDb250ZXh0KCJ3ZWJnbDIiKTtpZighbil0aHJvdyJGYWlsIHRvIHJldHJpZXZlIHdlYmdsIGNvbnRleHQiO3RoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNhbnZhcz1lLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNvbnRleHQ9bix0aGlzLmJhY2tncm91bmRJbWFnZVJlc2l6ZXI9bmV3IFpjKHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNvbnRleHQsMCwwKX1zZXRCYWNrZ3JvdW5kSW1hZ2UoZSl7dGhpcy5iYWNrZ3JvdW5kSW1hZ2U9ZSx0aGlzLnVwZGF0ZUJhY2tncm91bmRJbWFnZSgpfXVwZGF0ZUJhY2tncm91bmRJbWFnZSgpe2NvbnN0e3dpZHRoOmUsaGVpZ2h0Om59PXRoaXMuY2FudmFzO3RoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplci5yZXNpemVPdXRwdXQoZSxuKSx0aGlzLmJhY2tncm91bmRJbWFnZVJlc2l6ZXIuc2V0RGF0YSh0aGlzLmJhY2tncm91bmRJbWFnZSksdGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyLnJ1bigpLHRoaXMucGlwZWxpbmUuaW5wdXRCYWNrZ3JvdW5kSW1hZ2U9dGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ2FudmFzfXJlc2l6ZU91dHB1dChlLG4pe3N1cGVyLnJlc2l6ZU91dHB1dChlLG4pLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNhbnZhcy53aWR0aD1lLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNhbnZhcy5oZWlnaHQ9bix0aGlzLmJhY2tncm91bmRJbWFnZVJlc2l6ZXIucmVzaXplT3V0cHV0KGUsbiksdGhpcy51cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoKX19Y2xhc3MgYmYgZXh0ZW5kcyBmb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7bCh0aGlzLCJmcmFtZVJlYWRlciIpfXNldEJhY2tncm91bmRWaWRlbyhlKXt0aGlzLmZyYW1lUmVhZGVyPWUuZ2V0UmVhZGVyKCksdGhpcy5yZWFkTmV4dFZpZGVvRnJhbWUoKX1hc3luYyByZW5kZXIoZSxuKXtyZXR1cm4gYXdhaXQgdGhpcy5yZWFkTmV4dFZpZGVvRnJhbWUoKSxzdXBlci5yZW5kZXIoZSxuKX1hc3luYyByZWFkTmV4dFZpZGVvRnJhbWUoKXt2YXIgbjtjb25zdCBlPWF3YWl0KChuPXRoaXMuZnJhbWVSZWFkZXIpPT1udWxsP3ZvaWQgMDpuLnJlYWQoKSk7aWYoZSE9bnVsbCYmZS52YWx1ZSl7Y29uc3Qgbz1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChlLnZhbHVlKTt0aGlzLnNldEJhY2tncm91bmRJbWFnZShvKSxlLnZhbHVlLmNsb3NlKCl9fX1jbGFzcyBsb3tibHVyQmFja2dyb3VuZCh0KXtyZXR1cm4gbmV3IFZpKHQpfWJsdXJTaWxob3VldHRlKHQpe3JldHVybiBuZXcgSGkodCl9aW1hZ2VCYWNrZ3JvdW5kKCl7cmV0dXJuIG5ldyBqaX12aWRlb0JhY2tncm91bmQoKXtyZXR1cm4gbmV3IGJmfX12YXIgdmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgbWFzazsKCnZlYzQgbG9vcCgpOwoKdm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSBsb29wKCk7IH0KYCxFZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIFRmIGV4dGVuZHMgX2V7Z2V0RGVmaW5lcygpe3ZhciB0O3JldHVybntSQURJVVM6KHQ9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/dDoxfX1nZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiB2Zit0aGlzLmNyZWF0ZUxvb3BGdW5jdGlvbigpfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBFZn1jcmVhdGVMb29wRnVuY3Rpb24oKXt2YXIgZTtsZXQgdD0oZT10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD9lOjE7cmV0dXJuYAoKICAgICAgICB2ZWM0IGxvb3AoKSB7IAogICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCwwLDAsMCk7CiAgICAgICAgICAgIGZsb2F0IGZhY3RvclN1bSA9IDAuOwoKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkUmFkaXVzID0gdmVjMigtJHt0fS4pIC8gY2FudmFzOwogICAgICAgICAgICB2ZWMyIG5vcm1hbGl6ZWRJbmNyZW1lbnQgPSB2ZWMyKDEuKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBkaWZmID0gbm9ybWFsaXplZFJhZGl1czsKICAgICAgICAgICAgZmxvYXQgbWF4TGVuZ3RoID0gbGVuZ3RoKG5vcm1hbGl6ZWRSYWRpdXMpOwoKICAgICAgICAgICAgZm9yKGludCB5PS0ke3R9OyB5PCR7dCsxfTsgKyt5KSB7CiAgICAgICAgICAgICAgICBmb3IoaW50IHg9LSR7dH07IHg8JHt0KzF9OyArK3gpIHsKICAgICAgICAgICAgICAgICAgICBmbG9hdCBmYWN0b3IgPSAoMS4tIHRleHR1cmUyRChtYXNrLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpLmEpICogKG1heExlbmd0aCAtIGxlbmd0aChkaWZmKSkgLyBtYXhMZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZhY3RvciAqIHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpOwogICAgICAgICAgICAgICAgICAgIGZhY3RvclN1bSArPSBmYWN0b3I7CiAgICAgICAgICAgICAgICAgICAgZGlmZi54ICs9IG5vcm1hbGl6ZWRJbmNyZW1lbnQueDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpZmYueSArPSBub3JtYWxpemVkSW5jcmVtZW50Lnk7CiAgICAgICAgICAgICAgICBkaWZmLnggPSBub3JtYWxpemVkUmFkaXVzLng7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAvIGZhY3RvclN1bTsKICAgICAgICB9YH19Y29uc3QgQWY9MTAsd2Y9MixJZj04O2NsYXNzIFNmIGV4dGVuZHMgQXJ7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpO2wodGhpcywiaW5wdXRJbWFnZSIpO2wodGhpcywiaW5wdXRNYXNrIik7bCh0aGlzLCJibHVyIik7dGhpcy5jb250ZXh0PWUsdGhpcy5yYWRpdXM9bjtjb25zdCBvPXtjb250ZXh0OmUsaGVpZ2h0OmUuY2FudmFzLmhlaWdodCx3aWR0aDplLmNhbnZhcy53aWR0aH07dGhpcy5ibHVyPW5ldyBUZih7Li4ubyxyYWRpdXM6biwuLi50aGlzLmdldEJsdXJUZXh0dXJlU2l6ZShlLmNhbnZhcy53aWR0aCxlLmNhbnZhcy5oZWlnaHQpfSk7Y29uc3QgaT1uZXcgRXIoey4uLm8sZGlzYWJsZUZyYW1lYnVmZmVyOiEwfSk7dGhpcy5hZGRTdGVwKHtwcm9ncmFtOnRoaXMuYmx1cixwcmV2ZW50UmVzaXplOiEwLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SShlLHRoaXMuaW5wdXRJbWFnZSksbWFzazpJKGUsdGhpcy5pbnB1dE1hc2spfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06aSxnZXRVbmlmb3JtczooKT0+KHtiYWNrZ3JvdW5kOkkoZSx0aGlzLmJsdXIub3V0cHV0KSxmb3JlZ3JvdW5kOkkoZSx0aGlzLmlucHV0SW1hZ2UpLHRocmVzaG9sZDpJKGUsdGhpcy5pbnB1dE1hc2spfSl9KX1nZXRCbHVyVGV4dHVyZVNpemUoZSxuKXtjb25zdCBvPXRoaXMucmFkaXVzPkFmP0lmOndmO3JldHVybnt3aWR0aDpNYXRoLm1heChGZSxlL28pLGhlaWdodDpNYXRoLm1heChGZSxuL28pfX1zZXREYXRhKGUsbil7dGhpcy5pbnB1dEltYWdlPWUsdGhpcy5pbnB1dE1hc2s9bn1yZXNpemVPdXRwdXQoZSxuKXtzdXBlci5yZXNpemVPdXRwdXQoZSxuKTtjb25zdCBvPXRoaXMuZ2V0Qmx1clRleHR1cmVTaXplKGUsbik7dGhpcy5ibHVyLnJlc2l6ZU91dHB1dChvLndpZHRoLG8uaGVpZ2h0KX19Y2xhc3MgUmYgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO2wodGhpcywicGlwZWxpbmUiKTt0aGlzLnBpcGVsaW5lPW5ldyBTZih0aGlzLmNvbnRleHQsZSksdGhpcy5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKX19Y2xhc3MgRmYgZXh0ZW5kcyBBcntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCk7bCh0aGlzLCJpbnB1dEltYWdlIik7bCh0aGlzLCJpbnB1dE1hc2siKTt0aGlzLmNvbnRleHQ9ZTtjb25zdCBvPXtjb250ZXh0OmUsaGVpZ2h0OmUuY2FudmFzLmhlaWdodCx3aWR0aDplLmNhbnZhcy53aWR0aH0saT1uZXcgY28oey4uLm8scmFkaXVzOm4sdHlwZTp3ci5HQVVTU0lBTn0pLHM9bmV3IEVyKHsuLi5vLGRpc2FibGVGcmFtZWJ1ZmZlcjohMH0pO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTppLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SShlLHRoaXMuaW5wdXRJbWFnZSl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2JhY2tncm91bmQ6SShlLHRoaXMuaW5wdXRJbWFnZSksZm9yZWdyb3VuZDpJKGUsaS5vdXRwdXQpLHRocmVzaG9sZDpJKGUsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKGUsbil7dGhpcy5pbnB1dEltYWdlPWUsdGhpcy5pbnB1dE1hc2s9bn19Y2xhc3MgUGYgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO2wodGhpcywicGlwZWxpbmUiKTt0aGlzLnBpcGVsaW5lPW5ldyBGZih0aGlzLmNvbnRleHQsZSksdGhpcy5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKX19Y2xhc3Mga2YgZXh0ZW5kcyBhb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7bCh0aGlzLCJmcmFtZVJlYWRlciIpO2wodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMCl9c2V0IGlucHV0VmlkZW8oZSl7dGhpcy5mcmFtZVJlYWRlcj1lLmdldFJlYWRlcigpLHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCl9YXN5bmMgcnVuKCl7dGhpcy5mcmFtZVJlYWRlciYmKGF3YWl0IHN1cGVyLnJ1bigpLHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCkpfWFzeW5jIHJlYWROZXh0VmlkZW9GcmFtZSgpe3ZhciBuO2NvbnN0IGU9YXdhaXQoKG49dGhpcy5mcmFtZVJlYWRlcik9PW51bGw/dm9pZCAwOm4ucmVhZCgpKTtlIT1udWxsJiZlLnZhbHVlJiYodGhpcy5pbnB1dEJhY2tncm91bmRJbWFnZT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChlLnZhbHVlKSxlLnZhbHVlLmNsb3NlKCkpfX1jbGFzcyBEZiBleHRlbmRzIEl0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtsKHRoaXMsInBpcGVsaW5lIik7dGhpcy5waXBlbGluZT1uZXcga2YodGhpcy5jb250ZXh0KX1zZXRCYWNrZ3JvdW5kVmlkZW8oZSl7dGhpcy5waXBlbGluZS5pbnB1dFZpZGVvPWV9fWNsYXNzIG1ve2JsdXJCYWNrZ3JvdW5kKHQpe3JldHVybiBuZXcgUmYodCl9Ymx1clNpbGhvdWV0dGUodCl7cmV0dXJuIG5ldyBQZih0KX1pbWFnZUJhY2tncm91bmQoKXtyZXR1cm4gbmV3IGZvfXZpZGVvQmFja2dyb3VuZCgpe3JldHVybiBuZXcgRGZ9fWNsYXNzIENme2NvbnN0cnVjdG9yKHQpe2wodGhpcywiZmFjdG9yeSIpO3N3aXRjaCh0KXtjYXNlIG50LkNBTlZBUzp0aGlzLmZhY3Rvcnk9bmV3IGxvO2JyZWFrO2Nhc2UgbnQuV0VCR0w6dGhpcy5mYWN0b3J5PW5ldyBtbzticmVhaztkZWZhdWx0OmNvbnN0IGU9V2koKTt0aGlzLmZhY3Rvcnk9ZS5zdXBwb3J0ZWQ/bmV3IG1vOm5ldyBsb319Ymx1ckJhY2tncm91bmQodCl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmJsdXJCYWNrZ3JvdW5kKHQpfWJsdXJTaWxob3VldHRlKHQpe3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5ibHVyU2lsaG91ZXR0ZSh0KX1pbWFnZUJhY2tncm91bmQoKXtyZXR1cm4gdGhpcy5nZXRGYWN0b3J5KCkuaW1hZ2VCYWNrZ3JvdW5kKCl9dmlkZW9CYWNrZ3JvdW5kKCl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLnZpZGVvQmFja2dyb3VuZCgpfWdldEZhY3RvcnkoKXtpZighdGhpcy5mYWN0b3J5KXRocm93IkZhY3RvcnkgaXMgbm90IGluaXRpYWxpemVkIjtyZXR1cm4gdGhpcy5mYWN0b3J5fX1jbGFzcyBCZntjb25zdHJ1Y3Rvcigpe2wodGhpcywicmVuZGVyZXIiKX1zZXRCYWNrZ3JvdW5kT3B0aW9ucyh0KXt2YXIgbixvO2NvbnN0IGU9bmV3IENmKChuPXQucmVuZGVyaW5nT3B0aW9ucyk9PW51bGw/dm9pZCAwOm4udHlwZSk7c3dpdGNoKHQudHJhbnNmb3JtZXJUeXBlKXtjYXNlIkJhY2tncm91bmRCbHVyIjp0aGlzLnJlbmRlcmVyPWUuYmx1ckJhY2tncm91bmQodGhpcy5nZXRCbHVyU2l6ZSh0LnJhZGl1cykpO2JyZWFrO2Nhc2UiU2lsaG91ZXR0ZUJsdXIiOnRoaXMucmVuZGVyZXI9ZS5ibHVyU2lsaG91ZXR0ZSh0aGlzLmdldEJsdXJTaXplKHQucmFkaXVzKSk7YnJlYWs7Y2FzZSJWaWRlb0JhY2tncm91bmQiOnRoaXMucmVuZGVyZXI9ZS52aWRlb0JhY2tncm91bmQoKTticmVhaztjYXNlIlZpcnR1YWxCYWNrZ3JvdW5kIjp0aGlzLnJlbmRlcmVyPWUuaW1hZ2VCYWNrZ3JvdW5kKCk7YnJlYWs7ZGVmYXVsdDp0aHJvd2BVbmtub3duIHJlbmRlcmluZyB0eXBlIFske3QudHJhbnNmb3JtZXJUeXBlfV1gfSgobz10LnJlbmRlcmluZ09wdGlvbnMpPT1udWxsP3ZvaWQgMDpvLnR5cGUpPT09bnQuV0VCR0wmJih0LnJlbmRlcmluZ09wdGlvbnMuc2VsZmllU2VnbWVudGF0aW9uVHlwZT09PUd0LlBSRUNJU0U/dGhpcy5yZW5kZXJlci5lbmFibGVQb3N0UHJvY2Vzc2luZygpOnQucmVuZGVyaW5nT3B0aW9ucy5zZWxmaWVTZWdtZW50YXRpb25UeXBlPT09R3QuRkFTVCYmdGhpcy5yZW5kZXJlci5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKSl9c2V0RmxpY2tlcmluZ09wdGlvbnModCl7dmFyIGU7KGU9dGhpcy5yZW5kZXJlcik9PW51bGx8fGUuc2V0RmxpY2tlcmluZ09wdGlvbnModCl9c2V0VmlkZW9CR1JlYWRhYmxlKHQpe2NvbnN0IGU9dGhpcy5yZW5kZXJlcjtlLnNldEJhY2tncm91bmRWaWRlbyYmZS5zZXRCYWNrZ3JvdW5kVmlkZW8odCl9YXN5bmMgc2V0VmlydHVhbEJHSW1hZ2UodCl7Y29uc3QgZT10aGlzLnJlbmRlcmVyO2Uuc2V0QmFja2dyb3VuZEltYWdlJiZlLnNldEJhY2tncm91bmRJbWFnZSh0KX1hc3luYyBwcm9jZXNzKHQsZSl7aWYodGhpcy5yZW5kZXJlcilyZXR1cm4gdGhpcy5yZW5kZXJlci5yZW5kZXIodCxlKX1hc3luYyByZXNpemVGb3JlZ3JvdW5kKHQsZSl7fWdldEJsdXJTaXplKHQ9cnQuTG93KXtzd2l0Y2godCl7Y2FzZSBydC5Mb3c6cmV0dXJuIDU7Y2FzZSBydC5IaWdoOnJldHVybiAxMn1yZXR1cm4gdH1hc3luYyBwcm9maWxlKHQpe3ZhciBlLG47cmV0dXJuKG49KGU9dGhpcy5yZW5kZXJlcik9PW51bGw/dm9pZCAwOmUucHJvZmlsZVdlYmdsKHQpKSE9bnVsbD9uOltdfX1jbGFzcyBOZntjb25zdHJ1Y3Rvcigpe2wodGhpcywic2VsZmllU2VnbWVudGF0aW9uIixuZXcgR2kpO2wodGhpcywiYmFja2dyb3VuZEZpbHRlciIpO2wodGhpcywicmVwb3J0ZXIiLG5ldyBOaSk7bCh0aGlzLCJiYWNrZ3JvdW5kT3B0aW9ucyIpfWFzeW5jIGluaXQodCxlKXthd2FpdCB0aGlzLnNlbGZpZVNlZ21lbnRhdGlvbi5pbml0KGUud2FzbUFzc2V0VXJpUGF0aCxlLnRmbGl0ZUFzc2V0VXJpUGF0aCksdGhpcy5iYWNrZ3JvdW5kRmlsdGVyPW5ldyBCZix0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJDcmVhdGUifSl9YXN5bmMgdHJhbnNmb3JtKHQsZSl7dmFyIGEsdTtsZXQgbjtjb25zdCBvPShhPXQudGltZXN0YW1wKSE9bnVsbD9hOjAsaT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcCh0KSxzPWF3YWl0IHRoaXMuc2VsZmllU2VnbWVudGF0aW9uLnByb2Nlc3MoaSk7cyYmKG49YXdhaXQoKHU9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dS5wcm9jZXNzKGkscykpKSxuPyh0LmNsb3NlKCksZS5lbnF1ZXVlKG5ldyBWaWRlb0ZyYW1lKG4se3RpbWVzdGFtcDpvLGFscGhhOiJkaXNjYXJkIn0pKSk6ZS5lbnF1ZXVlKHQpfWFzeW5jIHNldEJhY2tncm91bmRPcHRpb25zKHQpe3ZhciBlO3RoaXMuYmFja2dyb3VuZE9wdGlvbnM9dCxhd2FpdCgoZT10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsP3ZvaWQgMDplLnNldEJhY2tncm91bmRPcHRpb25zKHQpKSx0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJVcGRhdGUifSl9YXN5bmMgc2V0VmlkZW9CR1JlYWRhYmxlKHQpe3ZhciBlO2F3YWl0KChlPXRoaXMuYmFja2dyb3VuZEZpbHRlcik9PW51bGw/dm9pZCAwOmUuc2V0VmlkZW9CR1JlYWRhYmxlKHQpKX1hc3luYyBzZXRWaXJ0dWFsQkdJbWFnZSh0KXt2YXIgZTthd2FpdCgoZT10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsP3ZvaWQgMDplLnNldFZpcnR1YWxCR0ltYWdlKHQpKX1zZXRGbGlja2VyaW5nT3B0aW9ucyh0KXt2YXIgZTsoZT10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsfHxlLnNldEZsaWNrZXJpbmdPcHRpb25zKHQpLHRoaXMucmVwb3J0KHt2YXJpYXRpb246IlVwZGF0ZSJ9KX1hc3luYyBwcm9maWxlKHQpe3ZhciBlLG47cmV0dXJuKG49KGU9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6ZS5wcm9maWxlKHQpKSE9bnVsbD9uOltdfWdldFRyYW5zZm9ybWVyVHlwZSgpe3ZhciB0LGU7cmV0dXJuKGU9KHQ9dGhpcy5iYWNrZ3JvdW5kT3B0aW9ucyk9PW51bGw/dm9pZCAwOnQudHJhbnNmb3JtZXJUeXBlKSE9bnVsbD9lOiJVbmRlZmluZWQifXJlcG9ydCh0KXt2YXIgZTt0aGlzLnJlcG9ydGVyLnNlbmQoe3ZlcnNpb246T2ksYWN0aW9uOiJNbFRyYW5zZm9ybWVycyIsdHJhbnNmb3JtZXJUeXBlOihlPXRoaXMuYmFja2dyb3VuZE9wdGlvbnMpPT1udWxsP3ZvaWQgMDplLnRyYW5zZm9ybWVyVHlwZSxjb25maWc6SlNPTi5zdHJpbmdpZnkodGhpcy5iYWNrZ3JvdW5kT3B0aW9ucyksLi4udH0pfX1jb25zdCBTcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe2wodGhpcywiYmFja2dyb3VuZFRyYW5zZm9ybWVyIixuZXcgTmYpO2wodGhpcywibWVkaWFQcm9jZXNzb3IiLG5ldyBsaSk7bCh0aGlzLCJyYXRlIiwzMCk7bCh0aGlzLCJyZXNvbHZlT25NZWRpYVByb2Nlc3NvciIpO2wodGhpcywiZXZlbnRzUXVldWUiLFtdKX1hc3luYyBpbml0KHQsZSl7YXdhaXQgdGhpcy5iYWNrZ3JvdW5kVHJhbnNmb3JtZXIuaW5pdCh0LGUpLGF3YWl0IHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhbnNmb3JtZXJzKFt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lcl0pLHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhY2tFeHBlY3RlZFJhdGUodGhpcy5yYXRlKSx0aGlzLm1lZGlhUHJvY2Vzc29yLm9uQW55KChuLG8pPT57dGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj8odGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcih7bmFtZTpuLGRhdGE6b30pLHRoaXMucmVzb2x2ZU9uTWVkaWFQcm9jZXNzb3I9dm9pZCAwKTp0aGlzLmV2ZW50c1F1ZXVlLnB1c2goe25hbWU6bixkYXRhOm99KX0pfWFzeW5jIG9uTWVkaWFQcm9jZXNzb3JFdmVudCgpe3JldHVybiBhd2FpdCBuZXcgUHJvbWlzZSh0PT57dGhpcy5ldmVudHNRdWV1ZS5sZW5ndGg+MD90KHRoaXMuZXZlbnRzUXVldWUuc2hpZnQoKSk6dGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj10fSl9YXN5bmMgc2V0VHJhY2tFeHBlY3RlZFJhdGUodCl7dGhpcy5yYXRlPXQsdGhpcy5tZWRpYVByb2Nlc3Nvci5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0KX1hc3luYyB0cmFuc2Zvcm0odCxlKXt0aGlzLm1lZGlhUHJvY2Vzc29yLnRyYW5zZm9ybSh0LGUpfWFzeW5jIHNldEJhY2tncm91bmRPcHRpb25zKHQpe3ZhciBlO2F3YWl0KChlPXRoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyKT09bnVsbD92b2lkIDA6ZS5zZXRCYWNrZ3JvdW5kT3B0aW9ucyh0KSl9c2V0VmlkZW9CR1JlYWRhYmxlKHQpe3RoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyLnNldFZpZGVvQkdSZWFkYWJsZSh0KX1hc3luYyBzZXRWaXJ0dWFsQkdJbWFnZSh0KXthd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRWaXJ0dWFsQkdJbWFnZSh0KX1hc3luYyB0ZXJtaW5hdGUoKXthd2FpdCB0aGlzLm1lZGlhUHJvY2Vzc29yLmRlc3Ryb3koKX1zZXRGbGlja2VyaW5nT3B0aW9ucyh0KXt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRGbGlja2VyaW5nT3B0aW9ucyh0KX1zZXRWb25hZ2VNZXRhZGF0YSh0KXtpaSh0KX1hc3luYyBwcm9maWxlKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeShhd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5wcm9maWxlKHQpKX19O2xldCBobz1TcjsoKCk9Pnt3bygiUHJvY2Vzc29yV29ya2VyIixTcil9KSgpfSkoKTsK",Vv=typeof window<"u"&&window.Blob&&new Blob([atob(Pv)],{type:"text/javascript;charset=utf-8"});function US(){const xt=Vv&&(window.URL||window.webkitURL).createObjectURL(Vv);try{return xt?new Worker(xt):new Worker("data:application/javascript;base64,"+Pv)}finally{xt&&(window.URL||window.webkitURL).revokeObjectURL(xt)}}const Mv=class extends Pr{constructor(){super(...arguments),st(this,"rate",30),st(this,"worker")}async init(xt){this.worker=await Gp(XS,US),await this.worker.init(`worker_${Mv.initCount++}`,xt),await this.worker.setVonageMetadata(Oo()),await this.setBackgroundOptions(xt),this.listenWorker()}async setTrackExpectedRate(xt){var St;await((St=this.worker)==null?void 0:St.setTrackExpectedRate(xt))}async setBackgroundOptions(xt){var St,Tt,Ut;await((St=this.worker)==null?void 0:St.setBackgroundOptions(xt));const{transformerType:Qt}=xt;switch(Qt){case"VideoBackground":await((Tt=this.worker)==null?void 0:Tt.setVideoBGReadable(await gm.createVideoReadable(xt.backgroundAssetUri)));break;case"VirtualBackground":await((Ut=this.worker)==null?void 0:Ut.setVirtualBGImage(await gm.createImageCanvas(xt.backgroundAssetUri)));break}}async transform(xt,St){var Tt;await((Tt=this.worker)==null?void 0:Tt.transform(xt,St))}async destroy(){var xt;await((xt=this.worker)==null?void 0:xt.terminate())}async setFlickeringOptions(xt){var St;await((St=this.worker)==null?void 0:St.setFlickeringOptions(xt))}async profile(xt){var St;const Tt=await((St=this.worker)==null?void 0:St.profile(xt));return JSON.parse(Tt??"[]")}async listenWorker(){for(var xt,St,Tt;(xt=this.worker)!=null&&xt.workerContext.worker;){const{name:Ut,data:Qt}=await((St=this.worker)==null?void 0:St.onMediaProcessorEvent());switch(Ut){case"error":case"warn":this.emit(Ut,Qt);break;case"pipelineInfo":switch(this.emit(Ut,Qt),Qt){case"pipeline_ended":case"pipeline_ended_with_error":await((Tt=this.worker)==null?void 0:Tt.terminate());return}break}}}};let Zv=Mv;st(Zv,"initCount",0);class BS{constructor(St){this.queries=St}async downloadSpeedscope(){this.download(await this.convertToSpeedscope())}download(St){const Tt=document.createElement("a");Tt.href=URL.createObjectURL(new Blob([St],{type:"application/json"})),Tt.download=`profile-${+new Date}.speedscope.json`,document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt)}convertToSpeedscope(){const St=[],Tt={},Ut=[];let Qt=0;for(const Xn of this.queries){const Nn=[];for(const or of Xn)Tt[or.name]===void 0&&(Tt[or.name]=St.length,St.push({name:or.name})),Nn.push({type:or.action==wv.PUSH?"O":"C",frame:Tt[or.name],at:or.timestamp}),Qt=Math.max(Qt,or.timestamp+or.duration);Ut.push({events:Nn,type:"evented",name:"GPU Profile",unit:"nanoseconds",startValue:0,endValue:Qt})}return JSON.stringify({$schema:"https://www.speedscope.app/file-format-schema.json",shared:{frames:St},profiles:Ut},null,2)}}class I1 extends Pr{constructor(){super(),st(this,"worker",new Zv),st(this,"connector",new jn(this.worker))}async init(St){await this.worker.init(St),this.worker.onAny((Tt,Ut)=>this.emit(Tt,Ut))}async setBackgroundOptions(St){await this.worker.setBackgroundOptions(St)}setTrackExpectedRate(St){this.worker.setTrackExpectedRate(St)}getConnector(){return this.connector}async profile(St){return this.worker.profile(St)}static async profile(St){const Tt=await nt.all(this.instances.map(Ut=>Ut.profile(St)));return new BS(Tt)}static async create(St){const Tt=new this;return await Tt.init(St),this.instances.push(Tt),Tt}}st(I1,"instances",[]);function HS(){return Ko}function YS(){return Bl}function $S(){return vu}function zS(){return Yu}function KS(){return Cu}function JS(){return Yo}function QS(){return Gl}async function _S(xt){return await I1.create(xt)}}).call(this,et(2),et(43))},function(_e,tt,et){const nt=et(35)().onlyLocal(),rt=et(101),it=rt.prependProxyToUrlIfNeeded,ot=(at,ct)=>{let ut=at.apiUrl.includes("anvil.opentok.com")?"https://static.opentok.com":"https://www.dev.tokbox.com";return ct&&(ct.includes("euproxy.opentok.com")?ut="https://static-eu.opentok.com":ut=it(ut,ct)),`${ut}/ml-transformers/v4.0.0`},st={getConfig:function(ct){ct===void 0&&(ct={});const lt=ct,dt=lt.staticConfig,ut=dt===void 0?nt:dt,ft=lt.proxyUrl,pt=ot(ut,ft);return{mediapipeBaseAssetsUri:`${pt}`,wasmAssetUriPath:`${pt}/`,tfliteAssetUriPath:`${pt}/`}}};_e.exports=st},function(_e,tt,et){const nt=et(17),rt=et(11),it=et(732),ot=et(733),st=et(734);_e.exports=function(ct){ct===void 0&&(ct={});const lt=ct.Errors||et(7),dt=ct.ExceptionCodes||et(10),ut=ct.logging||et(0)("publisherInit"),ft=ct.otError||et(13)(),pt=ct.OTHelpers||et(8),vt=ct.Publisher||et(169)(),Ct=ct.sessionObjects||et(22);return function(mt,yt,Et){ut.debug(`OT.initPublisher(${mt})`),typeof mt=="string"&&!document.getElementById(mt)&&(mt=yt,yt=Et,Et=arguments[3]),typeof mt=="function"?(Et=mt,yt=void 0,mt=void 0):rt(mt)&&!pt.isElementNode(mt)&&(Et=yt,yt=mt,mt=void 0),typeof yt=="function"&&(Et=yt,yt=void 0);let Rt;yt&&(rt(yt)?yt.insertDefaultUI===!1&&mt?Rt="You cannot specify a target element if insertDefaultUI is false":it(yt.audioSource)&&it(yt.videoSource)&&(Rt="You cannot specify both audioSource and videoSource as null or false"):(Rt="properties argument to Publisher constructor, if provided, should be an object",yt=void 0)),ot(yt),st(yt);const Pt=new vt(yt||{});Ct.publishers.add(Pt);const Vt=function(){Et&&nt(Et)&&(Et(...arguments),Et=void 0)};Rt!==void 0&&(ut.error(Rt),Vt(ft(lt.INVALID_PARAMETER,new Error(Rt),dt.INVALID_PARAMETER)));const Nt=function(Zt){Pt.off("publishComplete",kt),Vt(Zt)};let kt=function(Zt){Pt.off("initSuccess",Nt),Zt&&Vt(Zt)};return Pt.once("initSuccess",Nt),Pt.once("publishComplete",kt),Pt.publish(mt),Pt}}},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5));const st=et(14),at=et(735),ct=et(11),lt=et(17),dt=et(9),ut=et(26),ft=et(6),pt=et(21),vt=et(35)(),Ct=et(74),ht=et(318),mt=et(737),yt=et(738),Et=et(739),Rt=et(101),Pt=Rt.prependProxyToUrlIfNeeded,Vt=et(102),Nt=Vt.getProxyUrl,kt=et(741);_e.exports=function(Zt){Zt===void 0&&(Zt={});const qt=Zt.adaptIceServers||et(103).adaptIceServers,zt=Zt.AnalyticsHelper||pt,Bt=Zt.APIKEY||et(71),sn=Zt.Capabilities||et(170),mn=Zt.convertAnvilErrorCode||et(742),En=Zt.convertRumorError||et(325),cn=Zt.Errors||et(7),xn=Zt.Events||et(24)(),bn=Zt.Stream||et(171),gn=Zt.ExceptionCodes||et(10),vn=Zt.hasIceRestartsCapability||et(326),Wn=Zt.hasE2eeCapability||et(110),Un=Zt.logging||et(0)("Session"),Sn=Zt.otError||et(13)(),On=Zt.OTErrorClass||et(23),Ln=Zt.OTHelpers||et(8),Jn=et(743),ur=Zt.StaticConfig||vt,sr=Zt.staticConfig||ur.onlyLocal(),pr=Zt.Publisher||et(169)(),Ir=Zt.RaptorSocket||et(744).default(),Er=Zt.SessionDispatcher||et(334),Kr=Zt.sessionObjects||et(22),Dr=Zt.sessionTag||et(333),to=Zt.socketCloseCodes||et(77),po=Zt.Subscriber||et(310)(),Nr=Zt.systemRequirements||et(153),br=Zt.uuid||et(16),zn=yt({otError:Sn}),Qn=Zt.global||(typeof window!==void 0?window:commonjsGlobal),cr=Zt.getSessionInfo||et(768)(),qr=et(142),To=Zt.KeyStore||et(771),dr=Zt.SFrameClientStore||et(773),Lr=Zt.SinglePeerConnectionController||et(775),Yr=Zt.initPublisher||et(323)({Publisher:pr});return function(wo,mo,so){var Gr=this;let wr=so===void 0?{}:so,Oo=wr.iceConfig,$r=wr.connectionEventsSuppressed,os=wr.ipWhitelist,rs=os===void 0?!1:os,Al=wr.encryptionSecret,Vo=wr._enableSinglePeerConnection;const is=Nt(),Gs=new zt,cu=Vn=>typeof Vn=="string"?this.streams.get(Vn)||{id:Vn}:Vn;ft(this),this._tag=Dr,Nr.check()||Nr.upgrade(),mo==null&&(mo=wo,wo=null),zn(Oo),this.id=mo,this.sessionId=mo,this.keyStore=new To,this.sFrameClientStore=new dr;let Vs,Ml,wu,mr,jn,fr,Wr,yr,xo=!1,Qo=wo;const zo=this;let El=mo,co=br(),Dl=Un,Ip=!1;const Du=[];let ms=null,Zl=!1,wp=!1,dp=Al,Ko,Bl,vu,Yu;const Cu=Ln.statable(this,["disconnected","connecting","connected","disconnecting"],"disconnected");this.connection=null,this.connections=new Ln.Collection,this.streams=new Ln.Collection,this.archives=new Ln.Collection;let Yo;const Gl=function($n){Cu("disconnected"),$n.code||($n.code=gn.CONNECT_FAILED),Dl.error(`${$n.name||"Unknown Error"}: ${$n.message}`),On.handleJsException({error:$n,target:this,analytics:Gs}),this.trigger("sessionConnectFailed",$n)},bo=function($n){xo=!1;const tr=$n.reason;this.logEvent("Connect","Disconnected",{reason:$n.reason});const Pr=new xn.SessionDisconnectEvent("sessionDisconnected",tr.replace("networkTimedout","networkDisconnected"));this.isConnected()&&this.disconnect(),Bl(),Ko.call(this,tr),setTimeout(()=>{this.dispatchEvent(Pr),vu.call(this,Pr.reason),Pr.isDefaultPrevented()||Yu.call(this,Pr.reason)})},sp=function($n){$r||$n.id.match(/^symphony\./)||this.dispatchEvent(new xn.ConnectionEvent(ut.CONNECTION_CREATED,$n))},Zu=function($n,tr){$n.id.match(/^symphony\./)||Vs&&$n.id===Vs.id()||this.dispatchEvent(new xn.ConnectionEvent(ut.CONNECTION_DESTROYED,$n,tr))},_f=function($n){$n&&$n.connection&&(!this.connection||$n.connection.id!==this.connection.id)&&this.dispatchEvent(new xn.StreamEvent(ut.STREAM_CREATED,$n,null,!1))},ys=function($n){const tr=$n.target,Pr=$n.changedProperty;let Qr=$n.newValue;Pr==="videoDisableWarning"||Pr==="audioDisableWarning"||(Pr==="videoDimensions"&&(Qr={width:Qr.width,height:Qr.height}),this.dispatchEvent(new xn.StreamPropertyChangedEvent(ut.STREAM_PROPERTY_CHANGED,tr,Pr,$n.oldValue,Qr)))},Bp=function($n,tr){tr===void 0&&(tr="clientDisconnected");const Pr=new xn.StreamEvent("streamDestroyed",$n,tr,!0),Qr=()=>{Kr.subscribers.where({streamId:$n.id}).filter(Xr=>Xr.session.id===this.id&&Xr.stream).forEach(Xr=>{Xr._disconnect({reason:tr}),Pr.isDefaultPrevented()||Xr._destroy({reason:tr,noStateTransition:!0})})};$n.connection.id===this.connection.id?Kr.publishers.where({streamId:$n.id}).forEach(function(Xr){Xr._.unpublishStreamFromSession($n,this,tr)},this):this.dispatchEvent(Pr),Qr()},Hp=function($n){this.dispatchEvent(new xn.ArchiveEvent("archiveStarted",$n))},fp=function($n){this.dispatchEvent(new xn.ArchiveEvent("archiveDestroyed",$n))},ep=function($n){const tr=$n.target,Pr=$n.changedProperty,Qr=$n.newValue;Pr==="status"&&Qr==="stopped"?this.dispatchEvent(new xn.ArchiveEvent("archiveStopped",tr)):this.dispatchEvent(new xn.ArchiveEvent("archiveUpdated",tr))},Zp=()=>Kr.subscribers.forEach(Vn=>Vn._.pauseAndPlayVideoElement()),pp=function(){zo.token=null,wu=null,Cu("disconnected"),Vs=null,Ml&&(Ml.stop(),Ml=null),zo.connection=null,zo.capabilities=new sn([],{hasE2eeCapability:Wn}),zo.connections.destroy(),zo.streams.destroy(),zo.archives.destroy()};Bl=function(){co=br(),pp()},Ko=function($n){Kr.publishers.where({session:this}).forEach(tr=>{tr.disconnect($n)}),Kr.subscribers.where({session:this}).forEach(tr=>{tr._disconnect()})},vu=function($n){Kr.publishers.where({session:this}).forEach(tr=>{tr._.streamDestroyed($n)})},Yu=function($n){Kr.subscribers.where({session:this}).forEach(tr=>{tr._destroy({reason:$n})})};const hp=function(){Dl.debug("OT.Session: connecting to Raptor");const $n=Pt(this.sessionInfo.messagingURL,is),tr=["forceMute"];this.sessionInfo.isAdaptiveEnabled&&tr.push("amr"),wp&&tr.push("spc"),Vs=new Ir({connectionId:co,sessionId:mo,messagingSocketUrl:$n,symphonyUrl:this.sessionInfo.symphonyAddress,dispatcher:Er(this,{connectionEventsSuppressed:$r}),analytics:Gs,requestedCapabilities:tr});function Qr(Xr,Uo){let Ws;switch(Xr){case"WebSocketConnection":if(Ws=at(to.codes,Ms=>Ms===Uo),Ws)return cn[`SOCKET_${Ws}`];break;case"ConnectToSession":case"GetSessionState":switch(Uo){case gn.CONNECT_FAILED:return cn.CONNECT_FAILED;case gn.UNEXPECTED_SERVER_RESPONSE:return cn.UNEXPECTED_SERVER_RESPONSE;case gn.CONNECTION_LIMIT_EXCEEDED:return cn.CONNECTION_LIMIT_EXCEEDED}break}}Vs.connect(wu,this.sessionInfo,{connectionEventsSuppressed:$r},(Xr,Uo)=>{if(Xr){const Ms={};let na;if(Xr.reason==="ConnectToSession"||Xr.reason==="GetSessionState"){const Ou=En(Xr);dt(Ms,{originalMessage:Xr.message,originalCode:Xr.code}),Xr.code=Ou.code,Xr.message=Ou.message}(Xr.code||Xr.message||Xr.reason)&&(na={failureCode:Xr.code,failureMessage:Xr.message,failureReason:Xr.reason,socketId:Vs.socketId}),Vs=null,this.logConnectivityEvent("Failure",Ms,na);const Go=Qr(Xr.reason,Xr.code);Go&&(Xr=Sn(Go,new Error(Xr.message),Xr.code)),Gl.call(this,Xr);return}Dl.debug("OT.Session: Received session state from Raptor",Uo),this.connection=this.connections.get(Vs.id()),this.connection&&(this.capabilities=this.connection.permissions),Cu("connected"),this.logConnectivityEvent("Success",{connectionId:this.connection.id}),this.connection.on("destroyed",bo,this),this.dispatchEvent(new xn.SessionConnectEvent(ut.SESSION_CONNECTED)),this.connections.on({add:sp,remove:Zu},this),this.streams.on({add:_f,remove:Bp,update:ys},this),this.archives.on({add:Hp,remove:fp,update:ep},this),this.connections._triggerAddEvents(),this.streams._triggerAddEvents(),this.archives._triggerAddEvents(),Ln.env.isiOS&&Ln.env.iOSVersion>=13.3&&this.on("gsmCallEnded",Zp)})},$u=Vn=>this.capabilities.permittedTo(Vn),_a=(Vn,$n)=>{Un.error(`${Vn.name}: ${Vn.message}`),typeof $n=="function"&&$n(Vn),On.handleJsException({error:Vn,target:this,analytics:Gs})},ap=Vn=>{const $n=Sn(Vn.code,new Error(Vn.message),Vn.exceptionCode);return _a($n),$n},Op=()=>this.isNot("connected")?ap(Jn.NOT_CONNECTED):$u("forceMute")?null:ap(Jn.PERMISSION_DENIED),Ys=Vn=>Vn.code==="404"?ap(Jn.NOT_FOUND):Vn.code==="403"?ap(Jn.PERMISSION_DENIED):ap(Jn.UNEXPECTED_SERVER_RESPONSE);this.reportIssue=Vn=>{let $n=Vn.id;return ht(Gs.logEvent.bind(Gs))({action:"ReportIssue",variation:"Event",connectionId:co,payload:{reportIssueId:$n}},null)},this.logEvent=function(Vn,$n,tr,Pr){let Qr={action:Vn,variation:$n,payload:tr,sessionId:El,messagingServer:jn,p2p:mr,partnerId:Qo,connectionId:co};Pr&&(Qr=dt(Pr,Qr)),Gs.logEvent(Qr)},this.logConfigurationFileEvent=function(Vn,$n,tr){if($n===void 0&&($n=null),tr===void 0&&(tr={}),Vn==="Attempt")Wr=new Date().getTime();else if(Vn==="Failure"||Vn==="Success"){const Pr=new Date().getTime()-Wr;dt(tr,{attemptDuration:Pr})}is&&(tr.proxyUrl=is),this.logEvent("ConfigurationFile",Vn,$n,Object.assign({},tr))},this.logConnectivityEvent=function(Vn,$n,tr){if($n===void 0&&($n=null),tr===void 0&&(tr={}),is&&(tr.proxyUrl=is),Vn==="Attempt"&&(Ml&&(Ml.stop(),Un.error("_connectivityAttemptPinger should have been cleaned up")),fr=new Date().getTime(),Ml=new Ct(()=>{this.logEvent("Connect","Attempting",$n,Object.assign({},tr))},1/5,6),Ml.start()),Vn==="Failure"||Vn==="Success"||Vn==="Cancel"){const Pr=Qr=>{Ml&&(Ml.stop(),Ml=void 0),this.logEvent("Connect",Vn,$n,Object.assign({},tr,{attemptDuration:new Date().getTime()-fr,iceConfig:Qr,ipWhitelist:rs}))};Vn==="Success"?this._.getIceConfig().then(Qr=>{const Xr={includeServers:Oo&&Oo.includeServers||"all",transportPolicy:Qr.transportPolicy};Xr.servers=Qr.servers?Qr.servers.map(Uo=>({url:Uo.urls})):[],Pr(Xr)}):Pr()}else this.logEvent("Connect",Vn,$n,tr)},this.connect=function(){let Vn;for(var $n=arguments.length,tr=new Array($n),Pr=0;Pr<$n;Pr++)tr[Pr]=arguments[Pr];tr.length>1&&(typeof tr[0]=="string"||typeof tr[0]=="number")&&typeof tr[1]=="string"?(wo==null&&(Qo=tr[0].toString()),Vn=tr[1]):Vn=tr[0];const Qr=tr[tr.length-1];if(Gr.is("connecting","connected"))return Dl.warn(`OT.Session: Cannot connect, the session is already ${Gr.currentState}`),Gr;Gs.sessionInfo=new qr,pp(),Cu("connecting");const Xr=co;function Uo(){const Go=co!==Xr;return Go&&Un.debug("Connection was interrupted"),Go}if(Gr.token=!lt(Vn)&&Vn,wu=!lt(Vn)&&Vn,Qr&&lt(Qr)){let Go;const Ou=function(){Go();for(var Zs=arguments.length,Ap=new Array(Zs),_s=0;_s<Zs;_s++)Ap[_s]=arguments[_s];Qr(void 0,...Ap)},cp=function(){Go(),Qr(...arguments)};Go=()=>{Gr.off("sessionConnected",Ou),Gr.off("sessionConnectFailed",cp)},Gr.once("sessionConnected",Ou),Gr.once("sessionConnectFailed",cp)}if(Qo==null||lt(Qo))return setTimeout(Gl.bind(Gr,Sn(cn.AUTHENTICATION_ERROR,new Error("API Key is undefined. You must pass an API Key to initSession."),gn.AUTHENTICATION_ERROR))),Gr;if(!El||ct(El)||Array.isArray(El)){let Go;return El?(Go="SessionID is not a string. You must use string as the session ID passed into OT.initSession().",El=El.toString()):Go="SessionID is undefined. You must pass a sessionID to initSession.",setTimeout(Gl.bind(Gr,Sn(cn.INVALID_SESSION_ID,new Error(Go),gn.INVALID_SESSION_ID))),Gr.logConnectivityEvent("Attempt"),Gr.logConnectivityEvent("Failure",null,{failureReason:"ConnectToSession",failureCode:gn.INVALID_SESSION_ID,failureMessage:Go}),Gr}if(Gr.apiKey=Qo.toString(),Qo=Qo.toString(),dp){if(!Wn())return setTimeout(Gl.bind(Gr,Sn(cn.UNSUPPORTED_BROWSER,new Error("E2E Encryption is not supported in your browser.")))),Gr;try{kt(dp),Gr.keyStore.set(mo,dp),Zl=!0}catch(Go){return setTimeout(Gl.bind(Gr,Sn(cn.INVALID_ENCRYPTION_SECRET,new Error(`Invalid encryptionSecret: ${Go.message}`)))),Gr}}Bt.value.length===0&&(Bt.value=Qo);const Ws=!!ur.onlyLocal().configUrl,Ms=rs===!0&&!!ur.onlyLocal().ipWhitelistConfigUrl;return!Ws&&!Ms?Gr.logConfigurationFileEvent("Event",{message:"No configUrl, using local config only"}):Gr.logConfigurationFileEvent("Attempt"),(Ws||Ms?ur.get({partnerId:Qo,token:Vn,useIpWhitelistConfigUrl:Ms,proxyUrl:is}):nt.resolve(ur.onlyLocal())).then(Go=>((Ws||Ms)&&Gr.logConfigurationFileEvent("Success"),Go),Go=>((Ws||Ms)&&Gr.logConfigurationFileEvent("Failure",{failureMessage:Go.message,failureStack:Go.stack}),ur.onlyLocal())).then(Go=>{if(Gr.staticConfig=Go,Gs.staticConfig=Go,Go.apiEnabled===!1)throw Sn(cn.API_KEY_DISABLED,new Error("The API KEY has been disabled. Access to the service is currently being restricted. Please contact support."));if(Uo())return;Gr.logConnectivityEvent("Attempt"),is?Gr.logEvent("SessionInfo","Attempt",null,{proxyUrl:is}):Gr.logEvent("SessionInfo","Attempt");const Ou=Zs=>{Zs.code=mn(Zs.code),Gr.logConnectivityEvent("Failure",null,{failureReason:"GetSessionInfo",failureCode:Zs.code||"No code",failureMessage:Zs.message,failureName:Zs.name}),Zs.name&&(Zs=Sn(Zs.name,new Error(`${Zs.message}${Zs.code?` (${Zs.code})`:""}`),Zs.code)),Gl.call(Gr,Zs)},cp=Zs=>{if(Uo())return;if(Zs.partnerId&&Zs.partnerId!==Qo){const _s="Authentication Error: The API key does not match the token or session.";Ou(Sn(cn.AUTHENTICATION_ERROR,new Error(_s),gn.AUTHENTICATION_ERROR));return}wp=Et(Zs,Vo),wp&&(Yo=new Lr(Gr)),Gs.sessionInfo=Zs;const Ap={features:{reconnection:Zs.reconnection,renegotiation:vn()&&Zs.renegotiation,simulcast:Zs.simulcast===void 0?!1:Zs.simulcast&&Ln.env.name==="Chrome"}};if(is&&(Ap.proxyUrl=is),Gr.is("connecting")){Gr.sessionInfo=Zs,Gr._.setIceServers(Gr.sessionInfo.iceServers),mr=Zs.p2pEnabled,jn=Zs.messagingServer,Gr.logEvent("SessionInfo","Success",null,Ap,{messagingServer:Zs.messagingServer});const _s=Go.sessionInfoOverrides;_s!=null&&typeof _s=="object"&&Object.keys(_s).forEach(Qp=>{Object.defineProperty(Gr.sessionInfo,Qp,{value:_s[Qp]})}),hp.call(Gr)}},lm=Pt(Go.apiUrl,is);return cr({anvilUrl:lm,sessionId:mo,token:wu,connectionId:co,clientVersion:Go.clientVersion}).then(cp,Ou)}).catch(Go=>{Gl.call(Gr,Go)}),Gr},this.disconnect=function(){Yo&&(Yo.destroy(),Yo=null),Vs&&Vs.isNot("disconnected")?Vs.isNot("disconnecting")&&(Vs.isNot("connecting")||this.logConnectivityEvent("Cancel"),Cu("disconnecting"),Vs.disconnect(),this.off("gsmCallEnded",Zp)):Bl()},this.destroy=function(){this.streams.destroy(),this.connections.destroy(),this.archives.destroy(),this.disconnect()},this.publish=function(Vn,$n,tr){if(typeof Vn=="function"&&(tr=Vn,Vn=void 0),typeof $n=="function"&&(tr=$n,$n=void 0),tr=tr||function(){},this.isNot("connected"))return Gs.logError(1010,"OT.exception","We need to be connected before you can publish",null,{action:"Publish",variation:"Failure",failureReason:"unconnected",failureCode:gn.NOT_CONNECTED,failureMessage:"We need to be connected before you can publish",sessionId:El,streamId:Vn&&Vn.stream?Vn.stream.id:null,p2p:this.sessionInfo?this.sessionInfo.p2pEnabled:void 0,messagingServer:this.sessionInfo?this.sessionInfo.messagingServer:null,partnerId:Qo}),_a(Sn(cn.NOT_CONNECTED,new Error("We need to be connected before you can publish"),gn.NOT_CONNECTED),tr),null;if(!$u("publish")){const Pr="This token does not allow publishing. The role must be at least `publisher` to enable this functionality",Qr={failureReason:"Permission",failureCode:gn.UNABLE_TO_PUBLISH,failureMessage:Pr};return this.logEvent("Publish","Failure",null,Qr),_a(Sn(cn.PERMISSION_DENIED,new Error(Pr),gn.UNABLE_TO_PUBLISH),tr),null}if(!Vn||typeof Vn=="string"||Ln.isElementNode(Vn))Vn=Yr(Vn,$n);else if(Vn instanceof pr)"session"in Vn&&Vn.session&&"sessionId"in Vn.session&&(Vn.session.sessionId===this.sessionId?Dl.warn(`Cannot publish ${Vn.guid()} again to ${this.sessionId}. Please call session.unpublish(publisher) first.`):Dl.warn(`Cannot publish ${Vn.guid()} publisher already attached to ${Vn.session.sessionId}. Please call session.unpublish(publisher) first.`));else{_a(Sn(cn.INVALID_PARAMETER,new Error("Session.publish :: First parameter passed in is neither a string nor an instance of the Publisher"),gn.UNABLE_TO_PUBLISH),tr);return}return Ip&&Vn._.forceMuteAudio(),Vn._.publishToSession(this,Gs).catch(Pr=>{throw Pr.message=`Session.publish :: ${Pr.message}`,Dl.error(Pr.code,Pr.message),Pr}).then(()=>Vn).then(function(){for(var Pr=arguments.length,Qr=new Array(Pr),Xr=0;Xr<Pr;Xr++)Qr[Xr]=arguments[Xr];return tr(null,...Qr)},Pr=>tr(Pr)),Vn},this.unpublish=function(Vn){if(!Vn){Dl.error("OT.Session.unpublish: publisher parameter missing.");return}Vn._.unpublishFromSession(this,"unpublished")},this.setIceConfig=function(){var Vn=(0,ot.default)(it.default.mark(function $n(tr){var Pr,Qr,Xr;return it.default.wrap(function(Ws){for(;;)switch(Ws.prev=Ws.next){case 0:if(zn(tr),Gs.logEvent({action:"setIceConfig",variation:"Attempt",payload:{newIceConfig:tr}}),Oo=Object.assign({},tr),tr.includeServers!=="all"){Ws.next=8;break}return Ws.next=6,zo._.getOtIceServerInfo();case 6:Pr=Ws.sent,tr.customServers=tr.customServers.concat(Pr.servers);case 8:return Qr=Ms=>({iceServers:Ms.customServers,iceTransportPolicy:Ms.transportPolicy}),Xr=Qr(tr),Ws.prev=10,Ws.next=13,nt.all(Kr.publishers.map(Ms=>Ms._.setIceConfig(Xr)).concat(Kr.subscribers.map(Ms=>Ms._.setIceConfig(Xr))));case 13:Ws.next=19;break;case 15:throw Ws.prev=15,Ws.t0=Ws.catch(10),Gs.logEvent({action:"setIceConfig",variation:"Failure",payload:{newIceConfig:tr}}),Ws.t0;case 19:Gs.logEvent({action:"setIceConfig",variation:"Success",payload:{newIceConfig:tr}});case 20:case"end":return Ws.stop()}},$n,null,[[10,15]])}));return function($n){return Vn.apply(this,arguments)}}(),this.subscribe=function(Vn,$n,tr,Pr){if(typeof $n=="function"&&(Pr=$n,$n=void 0,tr=void 0),typeof tr=="function"&&(Pr=tr,tr=void 0),Pr=Pr||function(){},!this.connection||!this.connection.connectionId){_a(Sn(cn.NOT_CONNECTED,new Error("Session.subscribe :: Connection required to subscribe"),gn.UNABLE_TO_SUBSCRIBE),Pr);return}if(!Vn){_a(Sn(cn.INVALID_PARAMETER,new Error("Session.subscribe :: stream cannot be null"),gn.UNABLE_TO_SUBSCRIBE),Pr);return}if(!Object.prototype.hasOwnProperty.call(Vn,"streamId")){_a(Sn(cn.INVALID_PARAMETER,new Error("Session.subscribe :: invalid stream object"),gn.UNABLE_TO_SUBSCRIBE),Pr);return}if(tr&&tr.insertDefaultUI===!1&&$n){_a(Sn(cn.INVALID_PARAMETER,new Error("You cannot specify a target element if insertDefaultUI is false"),gn.INVALID_PARAMETER),Pr);return}$n&&$n.insertDefaultUI===!1&&(tr=$n,$n=void 0);const Qr=new po($n,dt(tr||{},{stream:Vn,session:this,analytics:Gs,_singlePeerConnectionController:Yo}),Xr=>{if(Xr){_a(Xr,Pr);return}Pr(null,Qr)});return Kr.subscribers.add(Qr),Qr},this.unsubscribe=function(Vn){if(!Vn){const $n="OT.Session.unsubscribe: subscriber cannot be null";throw Dl.error($n),new Error($n)}return Vn.stream?(Dl.debug(`OT.Session.unsubscribe: subscriber ${Vn.id}`),Vn._destroy({reason:"Unsubscribe"}),!0):(Dl.warn("OT.Session.unsubscribe:: tried to unsubscribe a subscriber that had no stream"),!1)},this.getSubscribersForStream=function(Vn){return Kr.subscribers.where({streamId:Vn.id})},this.getPublisherForStream=function(Vn){let $n,tr;if(typeof Vn=="string")$n=Vn;else if(typeof Vn=="object"&&Vn&&Object.hasOwnProperty.call(Vn,"id"))$n=Vn.id;else throw tr="Session.getPublisherForStream :: Invalid stream type",Dl.error(tr),new Error(tr);return Kr.publishers.where({streamId:$n})[0]},this._={getProxyUrl(){return is},isE2ee(){return zo.sessionInfo.e2ee&&Zl&&!!zo.capabilities.supportsE2ee},isSocketReconnecting(){return xo},getSocket(){return Vs},reconnecting:(function(){xo=!0,this.dispatchEvent(new xn.SessionReconnectingEvent)}).bind(this),reconnected:(function(){xo=!1,this.dispatchEvent(new xn.SessionReconnectedEvent),this.sessionInfo.reconnection&&(Kr.publishers.where({session:this}).forEach(Vn=>{Vn._.iceRestart()}),this.sessionInfo.p2pEnabled||Kr.subscribers.where({session:this}).forEach(Vn=>{Vn._.iceRestart("socket reconnected")}))}).bind(this),dispatchSignal:(function(Vn,$n,tr){const Pr=new xn.SignalEvent($n,tr,Vn);Pr.target=this,this.trigger(ut.SIGNAL,Pr),$n&&this.dispatchEvent(Pr)}).bind(this),dispatchCaption:(function(Vn,$n){let tr,Pr,Qr;try{const Uo=JSON.parse($n.data);tr=Uo.caption.text,Pr=Uo.streamId,Qr=Uo.isFinal}catch(Uo){Dl.error(`Caption parsing failed: ${Uo.message}`);return}const Xr=new xn.CaptionReceivedEvent(tr,Pr,Qr);Xr.target=this,this.trigger(ut.SUBSCRIBER_CAPTION_RECEIVED,Xr),this.dispatchEvent(Xr)}).bind(this),subscriberChannelUpdate(Vn,$n,tr,Pr){return Vs?Vs.subscriberChannelUpdate(Vn.id,$n.widgetId,tr.id,Pr):(Dl.warn("You are disconnected, cannot update subscriber properties ",Pr),null)},streamCreate(Vn,$n){let tr=Vn===void 0?{}:Vn,Pr=tr.name,Qr=tr.streamId,Xr=tr.subscriberAudioFallbackEnabled,Uo=tr.channels,Ws=tr.minBitrate,Ms=tr.sourceStreamId,na=tr.e2ee,Go=tr.publisherAudioFallbackEnabled,Ou=tr.customProperties;if(!Vs){Dl.warn("You are disconnected, cannot create stream ",Qr);return}Vs.streamCreate({name:Pr,streamId:Qr,subscriberAudioFallbackEnabled:Xr,channels:Uo,minBitrate:Ws,maxBitrate:void 0,sourceStreamId:Ms,e2ee:na,publisherAudioFallbackEnabled:Go,customProperties:Ou},$n)},streamDestroy(Vn,$n){if(!Vs){Dl.warn("You are disconnected, cannot destroy stream ",Vn);return}Vs.streamDestroy(Vn,$n)},streamChannelUpdate(Vn,$n,tr){if(!Vs){Dl.warn("You are disconnected, cannot update stream properties ",tr);return}Vs.streamChannelUpdate(Vn.id,$n.id,tr)},setSocket(Vn){Vs=Vn},setLogging(Vn){Dl=Vn},setState:Cu,setIceServers(Vn){Vn&&(yr={iceServers:qt(Vn),timestamp:Date.now()})},getOtIceServerInfo(){const Vn=yr?Date.now()-yr.timestamp:1/0,tr=24*60*60*1e3-Vn,Pr=5*60*1e3;if(tr>Pr)return nt.resolve({transportPolicy:zo&&zo.sessionInfo&&zo.sessionInfo.clientCandidates,servers:yr&&yr.iceServers});if(!wu)return nt.resolve({transportPolicy:zo&&zo.sessionInfo&&zo.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0});const Qr=sr.clientVersion;return cr({anvilUrl:(this.staticConfig||sr).apiUrl,sessionId:mo,token:wu,connectionId:co,clientVersion:Qr}).then(Xr=>(zo._.setIceServers(Xr.iceServers),yr?{transportPolicy:zo&&zo.sessionInfo&&zo.sessionInfo.clientCandidates,servers:yr&&yr.iceServers}:{transportPolicy:zo.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0}))},getCodecFlags:()=>({h264:zo.sessionInfo.h264,vp9:zo.sessionInfo.vp9,vp8:zo.sessionInfo.vp8}),getVideoCodecsCompatible:Vn=>mt({RTCPeerConnection:Qn.RTCPeerConnection,env:Ln.env,stream:Vn,codecFlags:zo._.getCodecFlags()}),getIceConfig:()=>{if(!Oo)return zo._.getOtIceServerInfo();const Vn=(()=>Oo&&Oo.transportPolicy==="relay"?"relay":zo.sessionInfo.clientCandidates)();return(Oo.includeServers==="custom"?nt.resolve({servers:[]}):zo._.getOtIceServerInfo()).then(tr=>dt(tr,{transportPolicy:Vn,servers:[...tr.servers,...Oo.customServers]}))},forceMute:(function(Vn){this.dispatchEvent(new xn.MuteForcedEvent(Vn))}).bind(this),enableMuteOnEntry:()=>{Ip=!0},addSubscriberToPeerConnectionsQueue:(Vn,$n)=>{Du.push({pc:Vn,message:$n}),ms||(ms=setInterval(()=>{const tr=Du.shift();tr?tr.pc.processMessage("offer",tr.message):(clearInterval(ms),ms=null)},100))},disableMuteOnEntry:()=>{Ip=!1},privateEvents:new st},this.signal=function(Vn,$n){let tr=Vn,Pr=$n||function(){};if(lt(tr)&&(Pr=tr,tr=null),this.isNot("connected")){const Xr="Unable to send signal - you are not connected to the session.";_a(Sn(cn.NOT_CONNECTED,new Error(Xr),500),Pr);return}function Qr(Xr){switch(Xr){case 400:case 413:return cn.INVALID_PARAMETER;case 429:return cn.RATE_LIMIT_EXCEEDED;case 404:return cn.NOT_FOUND;case 500:return cn.NOT_CONNECTED;case 403:return cn.PERMISSION_DENIED;case 2001:return cn.UNEXPECTED_SERVER_RESPONSE;default:return}}Vs.signal(tr,function(Xr){if(Xr){const na=Qr(Xr.code);na&&(Xr=Sn(na,new Error(Xr.message),Xr.code)),Pr(Xr);return}for(var Uo=arguments.length,Ws=new Array(Uo>1?Uo-1:0),Ms=1;Ms<Uo;Ms++)Ws[Ms-1]=arguments[Ms];Pr(Xr,...Ws)},this.logEvent),Vn&&Vn.data&&typeof Vn.data!="string"&&Dl.warn("Signaling of anything other than Strings is deprecated. Please update the data property to be a string.")},this.forceDisconnect=function(Vn,$n){if(this.isNot("connected")){const Xr="Cannot call forceDisconnect(). You are not connected to the session.";_a(Sn(cn.NOT_CONNECTED,new Error(Xr),gn.NOT_CONNECTED),$n);return}const tr=typeof Vn=="string"?Vn:Vn.id,Pr="Invalid Parameter. Check that you have passed valid parameter values into the method call.";if(!tr){_a(Sn(cn.INVALID_PARAMETER,new Error(Pr),gn.INVALID_PARAMETER),$n);return}const Qr="This token does not allow forceDisconnect. The role must be at least `moderator` to enable this functionality";if(!$u("forceDisconnect")){_a(Sn(cn.PERMISSION_DENIED,new Error(Qr),gn.UNABLE_TO_FORCE_DISCONNECT),$n);return}Vs.forceDisconnect(tr,function(Xr){if(Xr)_a(Sn(cn.INVALID_PARAMETER,new Error(Pr),gn.INVALID_PARAMETER),$n);else if($n&&lt($n)){for(var Uo=arguments.length,Ws=new Array(Uo>1?Uo-1:0),Ms=1;Ms<Uo;Ms++)Ws[Ms-1]=arguments[Ms];$n(Xr,...Ws)}})},this.forceUnpublish=function(Vn,$n){$n===void 0&&($n=()=>{});const tr=na=>_a(Sn(na.name,new Error(na.msg),na.code),$n),Pr={msg:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",code:gn.INVALID_PARAMETER,name:cn.INVALID_PARAMETER},Qr={msg:"Cannot call forceUnpublish(). You are not connected to the session.",code:gn.NOT_CONNECTED,name:cn.NOT_CONNECTED},Xr={msg:"This token does not allow forceUnpublish. The role must be at least `moderator` to enable this functionality",code:gn.UNABLE_TO_FORCE_UNPUBLISH,name:cn.PERMISSION_DENIED},Uo={msg:"The stream does not exist.",name:cn.NOT_FOUND},Ws={msg:"An unexpected error occurred.",name:cn.UNEXPECTED_SERVER_RESPONSE,code:gn.UNEXPECTED_SERVER_RESPONSE};if(!Vn){tr(Pr);return}if(Gr.isNot("connected")){tr(Qr);return}const Ms=cu(Vn);if(!$u("forceUnpublish")){tr(Xr);return}Vs.forceUnpublish(Ms.id,na=>{if(!na){$n(null);return}na.code==="404"?tr(Uo):na.code==="403"?tr(Xr):tr(Ws)})},this.forceMuteStream=Vn=>new nt(($n,tr)=>{const Pr=Op();if(Pr){tr(Pr);return}if(!Vn||!Vn.id){tr(ap(Jn.INVALID_PARAMETER));return}Vs.forceMuteStream(Vn.id,Qr=>{Qr?tr(Ys(Qr)):$n()})}),this.forceMuteAll=Vn=>new nt(($n,tr)=>{const Pr=Op();if(Pr){tr(Pr);return}if(Array.isArray(Vn)&&!Vn.every(Xr=>Xr instanceof bn)||Vn&&!Array.isArray(Vn)){tr(ap(Jn.INVALID_PARAMETER));return}const Qr=(Vn||[]).map(Xr=>Xr.id);Vs.forceMuteAll(Qr,!0,Xr=>{Xr?tr(Ys(Xr)):$n()})}),this.disableForceMute=()=>new nt((Vn,$n)=>{const tr=Op();if(tr){$n(tr);return}Vs.forceMuteAll([],!1,Pr=>{Pr?$n(Ys(Pr)):Vn()})}),this.setEncryptionSecret=function(){var Vn=(0,ot.default)(it.default.mark(function $n(tr){return it.default.wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(dp){Qr.next=3;break}return Un.error("Encryption secret must first be set in initSession."),Qr.abrupt("return");case 3:Qr.prev=3,kt(tr),Qr.next=10;break;case 7:throw Qr.prev=7,Qr.t0=Qr.catch(3),Sn(cn.INVALID_ENCRYPTION_SECRET,new Error(`setEncryptionSecret: ${Qr.t0.message}`));case 10:return Qr.prev=10,Qr.next=13,Gr.keyStore.set(mo,tr);case 13:dp=tr,Qr.next=19;break;case 16:Qr.prev=16,Qr.t1=Qr.catch(10),Dl.error(`Error in setEncryptionSecret}: ${Qr.t1.message}`);case 19:case"end":return Qr.stop()}},$n,null,[[3,7],[10,16]])}));return function($n){return Vn.apply(this,arguments)}}(),this.isConnected=()=>this.is("connected"),this.capabilities=new sn([],{hasE2eeCapability:Wn})}}}).call(this,et(2))},function(_e,tt,et){const nt=et(10),rt=et(23),it=[400,403,409,nt.CONNECTION_LIMIT_EXCEEDED],ot={CONNECT:"ConnectToSession",SESSION_STATE:"GetSessionState"};_e.exports=function(at){let ct,lt;if(at.reason===ot.CONNECT&&at.code===nt.CONNECT_FAILED)ct=at.code,lt=rt.getTitleByCode(at.code);else if(at.code&&it.indexOf(Number(at.code))>-1)switch(ct=nt.CONNECT_FAILED,at.reason){case ot.CONNECT:switch(at.code){case nt.CONNECTION_LIMIT_EXCEEDED:ct=at.code,lt="Cannot connect -- the limit for concurrent connections to the session has been reached";break;default:lt="Received error response to connection create message.";break}break;case ot.SESSION_STATE:lt="Received error response to session read";break;default:lt="";break}else ct=nt.UNEXPECTED_SERVER_RESPONSE,lt="Unexpected server response. Try this operation again later.";return{code:ct,message:lt}}},function(_e,tt,et){const nt=et(3),rt=et(52).once;_e.exports=()=>rt()&&(nt.isChromiumEdge||["Chrome","Safari","Firefox","Opera"].includes(nt.name))},function(_e,tt,et){_e.exports=function(rt){return JSON.stringify(rt)}},function(_e,tt){function et(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}_e.exports=et},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=rt=>{let it=rt.logger,ot=rt.obj;rt.eventNames.forEach(at=>{ot.on(at,function(){for(var ct=arguments.length,lt=new Array(ct),dt=0;dt<ct;dt++)lt[dt]=arguments[dt];return it.spam("emitted",at,lt)})})};tt.default=nt},function(_e,tt,et){const nt=et(17),rt=et(23),it=et(6),ot=et(0)("Dispatcher"),st=et(172),at=et(759),ct=function(){it(this),this.callbacks={}};_e.exports=ct,ct.prototype.registerCallback=function(lt,dt){this.callbacks[lt]=dt},ct.prototype.triggerCallback=function(lt){if(!lt)return;const dt=this.callbacks[lt];if(dt&&nt(dt)){const ut=Array.prototype.slice.call(arguments);ut.shift(),dt(...ut)}delete this.callbacks[lt]},ct.prototype.onClose=function(lt){this.emit("close",lt)},ct.prototype.onReconnected=function(){this.emit("reconnected")},ct.prototype.onReconnecting=function(){this.emit("reconnecting")},ct.prototype.dispatch=function(lt){var dt,ut;if(lt.type===st.STATUS){var ft;ot.debug(lt);let vt;if(lt.isError){let ht;if(typeof lt.data=="string")try{const mt=JSON.parse(lt.data);mt&&typeof mt=="object"&&(ht=mt.reason)}catch(mt){ot.warn("Failed to parse rumorMessage.data",mt)}vt=new rt(lt.status,ht)}const Ct=lt.data?JSON.parse(lt.data):"";Ct!=null&&(ft=Ct.mute)!=null&&ft.active&&this.dispatchMuteOnEntry(),this.triggerCallback(lt.transactionId,vt,lt);return}const pt=at(lt);switch(ot.debug(`${pt.signature}:`,pt),pt.resource){case"session":this.dispatchSession(pt);break;case"connection":if(pt!=null&&(dt=pt.content)!=null&&(ut=dt.userAgent)!=null&&ut.includes("auriga"))return;this.dispatchConnection(pt);break;case"stream":this.dispatchStream(pt);break;case"stream_channel":this.dispatchStreamChannel(pt);break;case"subscriber":this.dispatchSubscriber(pt);break;case"subscriber_channel":this.dispatchSubscriberChannel(pt);break;case"signal":this.dispatchSignal(pt);break;case"data":this.dispatchCaption(pt);break;case"archive":this.dispatchArchive(pt);break;case"source":this.dispatchSource(pt);break;default:ot.debug(`Type ${pt.resource} is not currently implemented`)}},ct.prototype.dispatchSession=function(lt){switch(lt.method){case"read":this.emit("session#read",lt.content,lt.transactionId);break;case"update":this.emit("session#update",lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchMuteOnEntry=function(){this.emit("session#muted")},ct.prototype.dispatchConnection=function(lt){switch(lt.method){case"created":this.emit("connection#created",lt.content);break;case"deleted":this.emit("connection#deleted",lt.params.connection,lt.reason);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchStream=function(lt){switch(lt.method){case"created":this.emit("stream#created",lt.content,lt.transactionId);break;case"deleted":this.emit("stream#deleted",lt.params.stream,lt.reason,lt.content);break;case"updated":this.emit("stream#updated",lt.params.stream,lt.content);break;case"update":this.emit("stream#update",lt.params.stream,lt.content);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(lt.method,lt);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchStreamChannel=function(lt){switch(lt.method){case"updated":this.emit("streamChannel#updated",lt.params.stream,lt.params.channel,lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchJsep=function(lt,dt){this.emit(`jsep#${lt}`,dt.params.stream,dt.fromAddress,dt)},ct.prototype.dispatchSubscriberChannel=function(lt){switch(lt.method){case"updated":this.emit("subscriberChannel#updated",lt.params.stream,lt.params.channel,lt.content);break;case"update":this.emit("subscriberChannel#update",lt.params.subscriber,lt.params.stream,lt.content);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchSubscriber=function(lt){switch(lt.method){case"created":this.emit("subscriber#created",lt.params.stream,lt.fromAddress,lt.content.id);break;case"deleted":this.dispatchJsep("unsubscribe",lt),this.emit("subscriber#deleted",lt.params.stream,lt.fromAddress);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(lt.method,lt);break;default:ot.debug(`${lt.signature} is not currently implemented`)}},ct.prototype.dispatchSignal=function(lt){if(lt.method!=="signal"){ot.debug(`${lt.signature} is not currently implemented`);return}this.emit("signal",lt.fromAddress,lt.content)},ct.prototype.dispatchCaption=function(lt){this.emit("caption",lt.fromAddress,lt.content)},ct.prototype.dispatchArchive=function(lt){switch(lt.method){case"created":this.emit("archive#created",lt.content);break;case"updated":this.emit("archive#updated",lt.params.archive,lt.content);break}},ct.prototype.dispatchSource=function(lt){switch(lt.method){case"create":this.emit("source#create",lt.params.source,lt.params.stream,lt.reason);break;case"delete":this.emit("source#delete",lt.params.source,lt.params.stream,lt.reason);break;default:ot.debug(`${lt.signature} is not currently implemented`)}}},function(_e,tt,et){const nt=et(16),rt=et(8),it=et(762),ot=et(763),st=et(327),at=et(764),ct=et(35)().onlyLocal(),lt={};_e.exports=lt,lt.connections={},lt.connections.create=function(dt){const ut=dt.apiKey,ft=dt.sessionId,pt=dt.connectionId,vt=dt.connectionEventsSuppressed,Ct=dt.capabilities;return st({method:"create",uri:`/v2/partner/${ut}/session/${ft}/connection/${pt}`,content:{userAgent:rt.env.userAgent,clientVersion:ct.clientVersion,capabilities:Ct||[],connectionEventsSuppressed:vt}})},lt.connections.destroy=function(dt){const ut=dt.apiKey,ft=dt.sessionId,pt=dt.connectionId;return st({method:"delete",uri:`/v2/partner/${ut}/session/${ft}/connection/${pt}`,content:{}})},lt.sessions={},lt.sessions.get=function(dt,ut){return st({method:"read",uri:`/v2/partner/${dt}/session/${ut}`,content:{}})},lt.streams={},lt.streams.get=function(dt,ut,ft){return st({method:"read",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}`,content:{}})},lt.streams.channelFromOTChannel=function(dt){const ut={id:dt.id,type:dt.type,active:dt.active};return dt.type==="video"&&(ut.width=dt.width,ut.height=dt.height,ut.orientation=dt.orientation,ut.frameRate=dt.frameRate,dt.source!=="default"&&(ut.source=dt.source),ut.fitMode=dt.fitMode),ut},lt.streams.create=function(dt){dt===void 0&&(dt={});const ut=dt,ft=ut.apiKey,pt=ut.sessionId,vt=ut.streamId,Ct=ut.name,ht=ut.audioFallbackEnabled,mt=ut.publisherAudioFallbackEnabled,yt=ut.subscriberAudioFallbackEnabled,Et=ut.channels,Rt=ut.minBitrate,Pt=ut.maxBitrate,Vt=ut.sourceStreamId,Nt=ut.e2ee,kt=ut.customProperties,wt={id:vt,name:Ct,audioFallbackEnabled:ht,publisherAudioFallbackEnabled:mt,subscriberAudioFallbackEnabled:yt,channel:Et.map(Zt=>lt.streams.channelFromOTChannel(Zt)),e2ee:Nt,customProperties:kt};return Rt&&(wt.minBitrate=Math.round(Rt)),Pt&&(wt.maxBitrate=Math.round(Pt)),Vt&&(wt.sourceStreamId=Vt),typeof Nt=="boolean"&&(wt.e2ee=Nt),st({method:"create",uri:`/v2/partner/${ft}/session/${pt}/stream/${vt}`,content:wt})},lt.streams.destroy=function(dt,ut,ft,pt){const vt={};return pt&&(vt.sourceStreamId=pt),st({method:"delete",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}`,content:vt})},lt.streamChannels={},lt.streamChannels.update=function(dt,ut,ft,pt,vt){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/channel/${pt}`,content:vt})},lt.subscribers={},lt.subscribers.create=function(dt){dt===void 0&&(dt={});const ut=dt,ft=ut.apiKey,pt=ut.sessionId,vt=ut.streamId,Ct=ut.subscriberId,ht=ut.connectionId,mt=ut.channelsToSubscribeTo,yt=ut.sourceStreamId,Et=ut.e2ee,Rt={id:Ct,connection:ht,keyManagementMethod:at,bundleSupport:it(),rtcpMuxSupport:ot(),e2ee:Et};return mt&&(Rt.channel=mt),yt&&(Rt.sourceStreamId=yt),st({method:"create",uri:`/v2/partner/${ft}/session/${pt}/stream/${vt}/subscriber/${Ct}`,content:Rt})},lt.subscribers.destroy=function(dt,ut,ft,pt){return st({method:"delete",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}`,content:{}})},lt.subscribers.update=function(dt,ut,ft,pt,vt){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}`,content:vt})},lt.subscriberChannels={},lt.subscriberChannels.update=function(dt,ut,ft,pt,vt,Ct){return st({method:"update",uri:`/v2/partner/${dt}/session/${ut}/stream/${ft}/subscriber/${pt}/channel/${vt}`,content:Ct})},lt.signals={},lt.signals.create=function(dt,ut,ft,pt,vt){const Ct={};return pt!==void 0&&(Ct.type=pt),vt!==void 0&&(Ct.data=vt),st({method:"signal",uri:`/v2/partner/${dt}/session/${ut}${ft!==void 0?`/connection/${ft}`:""}/signal/${nt()}`,content:Ct})},lt.forceMute={},lt.forceMute.update=dt=>{const ut=dt.apiKey,ft=dt.sessionId,pt=dt.streamId,vt=dt.active,Ct=dt.excludedStreamIds,ht={reason:"mute",channels:["audio"],active:vt,locked:!1};return Ct&&(ht.exclusion=Ct),st({method:"update",uri:`/v2/partner/${ut}/session/${ft}${pt?`/stream/${pt}`:""}`,content:ht})}},function(_e,tt,et){const nt=et(38),rt=et(71),it=et(173),ot=et(331),st=et(333),at=8192,ct=128;_e.exports=function(dt,ut,ft){const pt=function(Et){return!/^[a-zA-Z0-9\-\._~]+$/.exec(Et)},vt=function(Et){return Et?Et instanceof it||Et._tag===st?null:{code:400,reason:"The To field was invalid"}:{code:400,reason:"The signal to field was invalid. Either set it to a OT.Connection, OT.Session, or omit it entirely"}},Ct=function(Et){let Rt=null;return Et==null?Rt={code:400,reason:"The signal type was null or undefined. Either set it to a String value or omit it"}:Et.length>ct?Rt={code:413,reason:`The signal type was too long, the maximum length of it is ${ct} characters`}:pt(Et)&&(Rt={code:400,reason:"The signal type was invalid, it can only contain letters, numbers, '-', '_', and '~'."}),Rt},ht=function(Et){let Rt=null;if(Et==null)Rt={code:400,reason:"The signal data was null or undefined. Either set it to a String value or omit it"};else try{JSON.stringify(Et).length>at&&(Rt={code:413,reason:`The data field was too long, the maximum size of it is ${at} characters`})}catch{Rt={code:400,reason:"The data field was not valid JSON"}}return Rt},mt=function(Et){let Rt=null;return Et===!0||Et===!1||(Rt={code:400,reason:"The signal retryAfterReconnect was not true or false. Either set it to a Boolean value or omit it"}),Rt};this.toRaptorMessage=function(){let yt=this.to;return yt&&typeof yt!="string"&&(yt=yt.id),ot.signals.create(rt.value,dt,yt,this.type,this.data)},this.toHash=function(){return ft},this.error=null,this.retryAfterReconnect=!0,ft&&(ft.hasOwnProperty("data")&&(this.data=nt(ft.data),this.error=ht(this.data)),ft.hasOwnProperty("to")&&(this.to=ft.to,this.error||(this.error=vt(this.to))),ft.hasOwnProperty("type")&&(this.error||(this.error=Ct(ft.type)),this.type=ft.type),ft.hasOwnProperty("retryAfterReconnect")&&(this.error||(this.error=mt(ft.retryAfterReconnect)),this.retryAfterReconnect=ft.retryAfterReconnect)),this.valid=this.error===null}},function(_e,tt,et){_e.exports={}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=et(335),st=et(50),at=et(173),ct=et(767),lt=et(330),dt=et(0)("SessionDispatcher"),ut=et(22),ft=et(171),pt=et(150),vt=et(168);function Ct(Vt){return{id:Vt,creationTime:new Date().getTime(),data:{},capablities:{},permissions:[]}}function ht(Vt,Nt){const kt=Vt.channel.map(Zt=>new pt(Zt)),wt=Vt.connectionId?Vt.connectionId:Vt.connection.id;return new ft(Vt.id,Vt.name,Vt.creationTime,Nt.connections.get(wt),Nt,kt,Vt.customProperties&&Vt.customProperties.initials)}function mt(Vt,Nt){if(Nt.streams.has(Vt.id))return;const kt=ht(Vt,Nt);return Nt.streams.add(kt),kt}function yt(Vt){return new ot(Vt.id,Vt.name,Vt.status)}function Et(Vt,Nt){if(Nt.archives.has(Vt.id))return;const kt=yt(Vt);return Nt.archives.add(kt),kt}const Rt=function(Nt){const kt={};this.enqueue=function(){const Zt=arguments[0],qt=Array.prototype.slice.call(arguments,1);kt[Zt]||(kt[Zt]=new ct(Nt)),kt[Zt].enqueue.apply(kt[Zt],qt)},this.triggerConnectionCreated=function(Zt){kt[`connectionCreated${Zt.id}`]&&kt[`connectionCreated${Zt.id}`].triggerAll()},this.triggerSessionConnected=function(Zt){kt.sessionConnected&&kt.sessionConnected.triggerAll(),Zt.forEach(function(qt){this.triggerConnectionCreated(qt)},this)}},Pt={};_e.exports=function(Nt,kt){let wt=kt===void 0?{}:kt,Zt=wt.connectionEventsSuppressed;const qt=new lt;let zt=!1;const Bt=new Rt(qt);qt.on("reconnecting",()=>{Nt._.reconnecting()}),qt.on("reconnected",()=>{Nt._.reconnected()}),qt.on("close",En=>{const cn=Nt.connection;if(cn){if(cn.destroyedReason()){dt.debug(`Socket was closed but the connection had already been destroyed. Reason: ${cn.destroyedReason()}`);return}cn.destroy(En)}});const sn=function(cn,xn){return Nt.connections.has(cn.id)?Nt.connections.get(cn.id):(cn=at.fromHash(cn),(xn||Nt.connection&&cn.id!==Nt.connection.id)&&(Nt.connections.add(cn),Bt.triggerConnectionCreated(cn)),Object.keys(Pt).forEach(bn=>{const gn=Pt[bn];if(gn&&cn.id===gn.connection.id){mt(gn,Nt),delete Pt[gn.id];const vn={debug:xn?"connection came in session#read":"connection came in connection#created",streamId:gn.id,connectionId:cn.id};Nt.logEvent("streamCreated","warning",vn)}}),cn)};qt.on("session#read",(En,cn)=>{let xn;const bn={};bn.streams=[],bn.connections=[],bn.archives=[],En.connection.forEach(gn=>{xn=sn(gn,!0),bn.connections.push(xn)}),En.stream.forEach(gn=>{bn.streams.push(mt(gn,Nt))}),(En.archive||En.archives).forEach(gn=>{bn.archives.push(Et(gn,Nt))}),qt.triggerCallback(cn,null,bn),zt=!0,Bt.triggerSessionConnected(Nt.connections)}),qt.on("session#update",En=>{if(En.reason!=="mute"){dt.debug("session#update that handle this reason is not currently implemented");return}const cn=En.active===!0;Nt._.forceMute({active:cn}),cn?Nt._.enableMuteOnEntry():Nt._.disableMuteOnEntry()}),qt.on("session#muted",()=>{Nt._.enableMuteOnEntry(),Nt._.forceMute({active:!0})}),qt.on("connection#created",En=>{sn(En)}),qt.on("connection#deleted",(En,cn)=>{if(En=Nt.connections.get(En),!En){dt.warn("A connection was deleted that we do not know about");return}En.destroy(cn)}),qt.on("stream#created",(En,cn)=>{const xn=En.id,bn=En.sourceStreamId,gn=En.connection;let vn;if(Zt){if(gn==null||gn.id==null){Nt.logEvent("SessionDispatcher:stream#created","Event",{connection:gn,info:"Stream did not contain a connection object. Event ignored"});return}sn(gn)}const Wn=En.connectionId||gn.id;if(Nt.connections.has(Wn))vn=mt(En,Nt);else{Pt[xn]=En;const Un={debug:"eventOrderError -- streamCreated event before connectionCreated",streamId:xn,sourceStreamId:vt(bn)};Nt.logEvent("streamCreated","warning",Un)}vn?(vn.publisher&&vn.publisher.setStream(vn),qt.triggerCallback(cn,null,vn)):Nt.sessionInfo.isAdaptiveEnabled&&bn==="P2P"&&ut.subscribers.where({streamId:xn}).forEach(Un=>{Un._.startRoutedToRelayedTransition()})}),qt.on("stream#deleted",(En,cn,xn)=>{const bn=Nt.streams.get(En),gn=xn.sourceStreamId,vn=ut.subscribers,Un=Nt.sessionInfo.isAdaptiveEnabled&&gn==="P2P";!bn&&!Un||(Un?vn.where({streamId:En}).forEach(Sn=>{Sn._.startRelayedToRoutedTransition()}):bn.destroy(cn))}),qt.on("stream#updated",(En,cn)=>{const xn=Nt.streams.get(En);if(!xn){dt.error(`A stream does not exist with the id of ${En}, for stream#updated message!`);return}xn._.update(cn)}),qt.on("stream#update",(En,cn)=>{const xn=Nt.streams.get(En),bn=cn.reason,gn=cn.active;if(!xn){dt.error(`A stream does not exist with the id of ${En}, for stream#updated message!`);return}if(bn!=="mute"){dt.debug("stream#update that handle this reason is not currently implemented");return}gn&&xn._.forceMute(cn)}),qt.on("streamChannel#updated",(En,cn,xn)=>{let bn;if(!(En&&(bn=Nt.streams.get(En)))){dt.error("Unable to determine streamId, or the stream does not exist, for streamChannel message!");return}bn._.updateChannel(cn,xn)});const mn=(En,cn,xn,bn)=>{let gn,vn;const Wn={streamId:cn},Un=ut.subscribers,Sn=ut.publishers;switch(bn.params.subscriber?gn={widgetId:bn.params.subscriber}:gn=Wn,En){case"offer":vn=[].concat(Un.where(gn),Sn.where(Wn)).slice(0,1);break;case"answer":case"pranswer":vn=[].concat(Sn.where(Wn),Un.where(gn)).slice(0,1);break;case"generateoffer":case"unsubscribe":vn=Sn.where(Wn);break;case"candidate":vn=[].concat(Un.where(gn),Sn.where(Wn));break;default:dt.debug(`jsep#${En} is not currently implemented`);return}if(vn.length===0)return;let On=Nt.connections.get(xn);!On&&xn.match(/^symphony\./)&&(On=at.fromHash({id:xn,creationTime:Math.floor(st())}),Nt.connections.add(On)),vn.forEach(function(){var Ln=(0,it.default)(rt.default.mark(function Jn(ur){return rt.default.wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:return pr.prev=0,pr.next=3,ur.processMessage(En,xn,bn);case 3:pr.next=8;break;case 5:pr.prev=5,pr.t0=pr.catch(0),dt.error("Error occurred during processMessage",pr.t0);case 8:case"end":return pr.stop()}},Jn,null,[[0,5]])}));return function(Jn){return Ln.apply(this,arguments)}}())};return qt.on("jsep#offer",mn.bind(null,"offer")),qt.on("jsep#answer",mn.bind(null,"answer")),qt.on("jsep#pranswer",mn.bind(null,"pranswer")),qt.on("jsep#generateoffer",mn.bind(null,"generateoffer")),qt.on("jsep#unsubscribe",mn.bind(null,"unsubscribe")),qt.on("jsep#candidate",mn.bind(null,"candidate")),qt.on("subscriberChannel#updated",(En,cn,xn)=>{if(!En||!Nt.streams.has(En)){dt.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#updated message!");return}Nt.streams.get(En)._.updateChannel(cn,xn)}),qt.on("subscriberChannel#update",(En,cn,xn)=>{if(!cn||!Nt.streams.has(cn)){dt.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#update message!");return}if(!ut.subscribers.has(En)){dt.error("Unable to determine subscriberId, or the subscriber does not exist, for subscriberChannel#update message!");return}ut.subscribers.get(En).disableVideo(xn.active)}),qt.on("signal",(En,cn)=>{if(Zt){let vn=cn.connection||cn.fromConnection;(vn==null||vn.id==null)&&(vn=Ct(En),Nt.logEvent("SessionDispatcher:Signal","Event",{fromAddress:En,connection:cn.connection,fromConnection:cn.fromConnection,info:"Signal did not contain a connection object. One has been constructed",constructedConnection:vn})),sn(vn)}const xn=cn.type,bn=cn.data,gn=Nt.connections.get(En);Nt.connection&&En===Nt.connection.connectionId?zt?Nt._.dispatchSignal(gn,xn,bn):Bt.enqueue("sessionConnected","signal",En,xn,bn):Nt.connections.get(En)?Nt._.dispatchSignal(gn,xn,bn):En===""?Nt._.dispatchSignal(null,xn,bn):Bt.enqueue(`connectionCreated${En}`,"signal",En,xn,bn)}),qt.on("caption",(En,cn)=>{Nt._.dispatchCaption(En,cn)}),qt.on("archive#created",En=>{Et(En,Nt)}),qt.on("archive#updated",(En,cn)=>{const xn=Nt.archives.get(En);if(!xn){dt.error(`An archive does not exist with the id of ${En}, for archive#updated message!`);return}xn._.update(cn)}),qt.on("source#create",(En,cn,xn)=>{const bn=vt(En);Nt.logEvent("SessionDispatcher:source#create","Event",{sourceStreamId:bn,streamId:cn,reason:xn}),dt.debug(`Received a request from RUMOR to start a transition to ${En} for the stream ID ${cn} with the reason: ${xn}`),ut.publishers.where({streamId:cn}).forEach(gn=>{gn._.startRoutedToRelayedTransition()})}),qt.on("source#delete",(En,cn,xn)=>{Nt.logEvent("SessionDispatcher:source#delete","Event",{sourceStreamId:vt(En),streamId:cn,reason:xn}),dt.debug(`Received a request from RUMOR to start a transition from P2P to MANTIS for the stream ID ${cn} with the reason: ${xn}`),ut.publishers.where({streamId:cn}).forEach(bn=>{bn._.startRelayedToRoutedTransition()})}),qt}},function(_e,tt,et){const nt=et(24)(),rt=et(6);_e.exports=function(ot,st,at){this.id=ot,this.name=st,this.status=at,this._={},rt(this),this._.update=ct=>{Object.keys(ct).forEach(lt=>{const dt=this[lt];this[lt]=ct[lt];const ut=new nt.ArchiveUpdatedEvent(this,lt,dt,this[lt]);this.dispatchEvent(ut)})},this.destroy=()=>{}}},function(_e,tt,et){const nt=et(20)(),rt=nt.getAudioOutputMediaDevices;_e.exports=()=>rt()},function(_e,tt,et){const nt=et(20)(),rt=nt.getActiveAudioOutputDevice;_e.exports=()=>rt()},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5));const st=et(22),at=et(107),ct=at.setCurrentAudioOutputDeviceId,lt=et(337),dt=et(20)(),ut=dt.getDefaultAudioOutputDeviceId,ft=dt.getAudioOutputMediaDevices,pt=et(297),vt=et(21),Ct=new vt,ht=(Pt,Vt)=>{Ct.logEvent({action:"updateSubscribersSinkId",variation:Pt,payload:Vt})},mt=Pt=>{const Vt=st.subscribers.map(Nt=>Nt._.setSinkId(Pt));return nt.all(Vt)},yt=function(){var Pt=(0,ot.default)(it.default.mark(function Vt(Nt){return it.default.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.next=2,pt();case 2:return wt.prev=2,ht("Attempt",{deviceId:Nt}),wt.next=6,mt(Nt);case 6:ht("Success",{deviceId:Nt}),wt.next=13;break;case 9:throw wt.prev=9,wt.t0=wt.catch(2),ht("Failure",{deviceId:Nt,error:wt.t0==null?void 0:wt.t0.message}),wt.t0;case 13:case"end":return wt.stop()}},Vt,null,[[2,9]])}));return function(Nt){return Pt.apply(this,arguments)}}(),Et=function(){var Pt=(0,ot.default)(it.default.mark(function Vt(){var Nt,kt;return it.default.wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return Zt.next=2,ft();case 2:return Nt=Zt.sent,kt=ut(Nt),Zt.prev=4,Zt.next=7,yt(kt);case 7:ct(kt),Zt.next=12;break;case 10:Zt.prev=10,Zt.t0=Zt.catch(4);case 12:case"end":return Zt.stop()}},Vt,null,[[4,10]])}));return function(){return Pt.apply(this,arguments)}}(),Rt=function(){var Pt=(0,ot.default)(it.default.mark(function Vt(){var Nt;return it.default.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.next=2,lt();case 2:return Nt=wt.sent,wt.prev=3,wt.next=6,yt(Nt.deviceId);case 6:wt.next=12;break;case 8:return wt.prev=8,wt.t0=wt.catch(3),wt.next=12,Et();case 12:case"end":return wt.stop()}},Vt,null,[[3,8]])}));return function(){return Pt.apply(this,arguments)}}();_e.exports=function(){var Pt=(0,ot.default)(it.default.mark(function Vt(Nt){return it.default.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.prev=0,ht("Attempt",{deviceId:Nt}),wt.next=4,mt(Nt);case 4:ht("Success",{deviceId:Nt}),ct(Nt),wt.next=14;break;case 8:return wt.prev=8,wt.t0=wt.catch(0),ht("Failure",{deviceId:Nt,error:wt.t0==null?void 0:wt.t0.message}),wt.next=13,Rt();case 13:throw wt.t0;case 14:case"end":return wt.stop()}},Vt,null,[[0,8]])}));return function(Vt){return Pt.apply(this,arguments)}}()}).call(this,et(2))},function(_e,tt,et){et(340);const nt=et(38),rt=et(26),it=et(6),ot=et(128),st=et(35)(),at=et(21),ct=et(249),lt=et(567),dt=et(568),ut=st.onlyLocal(),ft={};ft.noConflict=et(569)(),(typeof window!==void 0?window:commonjsGlobal).OT=ft,_e.exports=ft,(()=>{let Vo=ft;Object.defineProperty(typeof window!==void 0?window:commonjsGlobal,"TB",{get:()=>(Vo===ft&&console.warn("window.TB is deprecated, and will be removed in the future. Please access via window.OT"),Vo),set:is=>{Vo=is},configurable:!0})})();const pt=et(143)(typeof window!==void 0?window:commonjsGlobal),vt=et(8),Ct=et(71),ht=et(144),mt=et(252),yt=et(145),Et=et(146),Rt=et(253),Pt=et(147),Vt=et(7),Nt=et(10),kt=et(254),wt=et(241),Zt=et(0)("OT"),qt=et(121),zt=et(596),Bt=et(23),sn=et(103),mn=sn.parseIceServers,En=et(267),cn=et(22),xn=et(150),bn=et(152),gn=et(153),vn=et(72)({global:pt}),Wn=et(13)({}),Un=et(158)(),Sn=et(281)({otError:Wn}),On=et(282)(),Ln=et(288)({global:pt}),Jn=et(20)({getNativeEnumerateDevices:Ln}),ur=et(24)(),sr=et(160)(),pr=et(651)({otError:Wn,global:pt}),Ir=et(161)({chromeExtensionHelper:Sn,otError:Wn}),Er=et(656)({deviceHelpers:Jn,generateConstraintInfo:kt,getUserMediaHelper:pr,global:pt,OTHelpers:vt,screenSharing:Ir}),Kr=et(659)({otError:Wn,processPubOptions:Er}),Dr=et(162)({otError:Wn}),to=et(74),po=et(294)(),Nr=et(295)({otError:Wn}),br=et(296)({global:pt,videoElementErrorMap:Nr}),zn=et(163)({global:pt}),Qn=et(298)({PeerConnection:vn,setCertificates:zn}),cr=et(305)({PeerConnection:vn,setCertificates:zn}),qr=et(307)(),To=et(682)({otError:Wn}),dr=et(109)({NativeVideoElementWrapper:br}),Lr=et(151)(),Yr=et(165)({VideoElementFacade:dr}),yo=et(310)({interpretPeerConnectionError:Dr,otError:Wn,SubscriberPeerConnection:cr,WidgetView:Yr}),Mr=et(169)({APIKEY:Ct,createChromeMixin:On,deviceHelpers:Jn,EnvironmentLoader:Pt,Errors:Vt,Events:ur,ExceptionCodes:Nt,calculateCapableSimulcastStreams:mt,global:pt,interpretPeerConnectionError:Dr,IntervalRunner:to,Microphone:po,otError:Wn,OTErrorClass:Bt,OTHelpers:vt,parseIceServers:mn,processPubOptions:Er,PUBLISH_MAX_DELAY:En,PublisherPeerConnection:Qn,PublishingState:qr,StreamChannel:xn,systemRequirements:gn,VideoOrientation:Lr,WidgetView:Yr}),wo=et(323)({otError:Wn,Publisher:Mr}),mo=et(324)({global:pt,initPublisher:wo,otError:Wn,Publisher:Mr,Subscriber:yo}),so=et(777)({Session:mo});it(ft);const Gr=et(778),wr=et(781),Oo=et(782);ct(ft,"$",{name:"OT.$",getMessage:"Please use an external library like jQuery to select elements from the page.",value:vt}),ft.APIKEY=Ct.value,ft.AnalyserAudioLevelSampler=Et,ft.Archive=et(335),ft.ArchiveEvent=ur.ArchiveEvent,ft.ArchiveUpdatedEvent=ur.ArchiveUpdatedEvent,ft.AudioLevelTransformer=ht,ft.AudioLevelUpdatedEvent=ur.AudioLevelUpdatedEvent,ft.Capabilities=et(170),ft.Chrome=yt,ft.Connection=et(173),ft.ConnectionCapabilities=ft.Connection.Capabilities,ft.ConnectionEvent=ur.ConnectionEvent,Object.keys(qt).forEach(Vo=>{ft[Vo.toUpperCase()]=qt[Vo].priority}),ft.NONE=0,ft.debug=Zt.debug,ft.error=Zt.error,ft.info=Zt.info,ft.log=Zt.log,ft.warn=Zt.warn,ft.DestroyedEvent=ur.DestroyedEvent,ft.EnvLoadedEvent=ur.EnvLoadedEvent,ft.Error=Bt,ft.Error.on(rt.EXCEPTION,Vo=>{if(Vo.target===ft.Error){const is=nt(Vo);is.target=ft,ft.dispatchEvent(is)}else ft.dispatchEvent(Vo)}),ft.Event=ot,ft.ExceptionCodes=Nt,ft.ExceptionEvent=ur.ExceptionEvent,ft.getDevices=et(783),ft.getAudioOutputDevices=et(336),ft.getActiveAudioOutputDevice=et(337),ft.setAudioOutputDevice=et(784)(),ft.GetAudioLevelSampler=Rt,ft.HAS_REQUIREMENTS=1,ft.IntervalRunner=to,ft.IssueReportedEvent=ur.IssueReportedEvent,ft.MediaStoppedEvent=ur.MediaStoppedEvent,ft.Microphone=po,ft.NOT_HAS_REQUIREMENTS=0,ft.PeerConnection=vn,ft.PeerConnection.QOS=et(279).default,ft.Publisher=Mr,ft.PublisherPeerConnection=Qn,ft.PublishingState=qr,ft.MuteForcedEvent=ur.MuteForcedEvent,ft.Session=mo,ft.SessionConnectEvent=ur.SessionConnectEvent,ft.SessionDisconnectEvent=ur.SessionDisconnectEvent,ft.SessionDispatcher=et(334),ft.Signal=et(332),ft.SignalEvent=ur.SignalEvent,ft.Stream=et(171),ft.StreamChannel=xn,ft.StreamEvent=ur.StreamEvent,ft.StreamPropertyChangedEvent=ur.StreamPropertyChangedEvent,ft.StreamUpdatedEvent=ur.StreamUpdatedEvent,ft.StylableComponent=bn,ft.Subscriber=yo,ft.SubscriberPeerConnection=cr,ft.SubscribingState=et(313),ft.VideoDimensionsChangedEvent=ur.VideoDimensionsChangedEvent,ft.VideoDisableWarningEvent=ur.VideoDisableWarningEvent,ft.VideoElement=dr,ft.VideoEnabledChangedEvent=ur.VideoEnabledChangedEvent,ft.VideoOrientation=Lr,ft.WidgetView=Yr,ft.getSupportedCodecs=Gr,ft.hasMediaProcessorSupport=wr,ft.hasEndToEndEncryptionSupport=Oo,ft._={AnalyticsHelper:at,getClientGuid:wt.get,StaticConfig:st},Object.defineProperty(ft,"version",{value:ut.version});const $r={},os=Vo=>dt.includes(Vo);ct($r,"version",{value:ut.version,name:"OT.properties.version",getWarning:"Please use OT.version instead",warnOnSet:!0,setWarning:"Mutating version has no effect"}),lt.forEach(Vo=>{let is,Gs;if(Array.isArray(Vo)){const Vs=Vo[0],Ml=Vo[1];Gs=Vs,is=ut[Ml]||Ml}else is=ut[Vo],Gs=Vo;const cu=os(Gs);ct($r,Gs,{value:is,name:`OT.properties.${Gs}`,warnOnSet:!0,canSet:cu,setWarning:cu?`Mutating ${Gs} can cause side effects`:`Mutating ${Gs} has no effect`})}),ft.properties=$r,ft.audioContext=Un,ft.checkScreenSharingCapability=Ir.checkCapability,ft.checkSystemRequirements=gn.check,ft.components={},ft.generateSimpleStateMachine=sr,ft.getErrorTitleByCode=Bt.getTitleByCode,ft.getLogs=Zt.getLogs,ft.getStatsAdpater=et(275),ft.getStatsHelpers=et(76),ft.getUserMedia=Kr,ft.handleJsException=Bt.handleJsException,ft.initPublisher=wo,ft.setProxyUrl=et(102).setProxyUrl,ft.initSession=function(Vo,is,Gs){return is==null&&(is=Vo,Vo=null),Ct.value.length===0&&Vo&&(Ct.value=Vo,ft.APIKEY=Vo),so(Vo,is,Gs)};const rs=Vo=>`${Vo} is deprecated and will be removed in a future version of OpenTok`,Al=(Vo,is)=>()=>(console.warn(rs(Vo)),is);Object.defineProperties(ft,{isUnloaded:{get:Al("OT.isUnloaded",Pt.isUnloaded)},onLoad:{get:Al("OT.onLoad",Pt.onLoad)},onUnload:{get:Al("OT.onUnload",Pt.onUnload)},overrideGuidStorage:{get:Al("OT.overrideGuidStorage",wt.override)}}),ft.pickScreenSharingHelper=Ir.pickHelper,ft.publishers=cn.publishers,ft.registerScreenSharingExtension=Ir.registerExtension,ft.registerScreenSharingExtensionHelper=Ir.registerExtensionHelper,ft.reportIssue=To,ft.sessions=cn.sessions,ft.setLogLevel=zt,ft.shouldLog=Zt.shouldLog,ft.subscribers=cn.subscribers,ft.unblockAudio=et(167),ft.upgradeSystemRequirements=gn.upgrade,Pt.onUnload(()=>{cn.publishers.destroy(),cn.subscribers.destroy(),cn.sessions.destroy("unloaded")}),et(785)()},function(_e,tt,et){var nt=et(341);typeof nt=="string"&&(nt=[[_e.i,nt,""]]);var rt,it={hmr:!0};it.transform=rt,it.insertInto=void 0,et(355)(nt,it),nt.locals&&(_e.exports=nt.locals)},function(_e,tt,et){tt=_e.exports=et(342)(!1);var nt=et(343),rt=nt(et(344)),it=nt(et(345)),ot=nt(et(346)),st=nt(et(347)),at=nt(et(348)),ct=nt(et(349)),lt=nt(et(350)),dt=nt(et(351)),ut=nt(et(352)),ft=nt(et(353)),pt=nt(et(354));tt.push([_e.i,`/*!
 * Copyright (c) 2017 TokBox, Inc.
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 */

/**
 * OT Base styles
 */

/* Root OT object, this is where our CSS reset happens */
.OT_root,
.OT_root * {
  color: #ffffff;
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font-family: Arial, Helvetica, sans-serif;
  vertical-align: baseline;
}

/**
 * Specific Element Reset
 */

.OT_root h1,
.OT_root h2,
.OT_root h3,
.OT_root h4,
.OT_root h5,
.OT_root h6 {
  color: #ffffff;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 100%;
  font-weight: bold;
}

.OT_root header {

}

.OT_root footer {

}

.OT_root div {

}

.OT_root section {

}

.OT_root video {

}

.OT_root button {

}

.OT_root strong {
  font-weight: bold;
}

.OT_root em {
  font-style: italic;
}

.OT_root a,
.OT_root a:link,
.OT_root a:visited,
.OT_root a:hover,
.OT_root a:active {
  font-family: Arial, Helvetica, sans-serif;
}

.OT_root ul, .OT_root ol {
  margin: 1em 1em 1em 2em;
}

.OT_root ol {
  list-style: decimal outside;
}

.OT_root ul {
  list-style: disc outside;
}

.OT_root dl {
  margin: 4px;
}

.OT_root dl dt,
.OT_root dl dd {
  float: left;
  margin: 0;
  padding: 0;
}

.OT_root dl dt {
  clear: left;
  text-align: right;
  width: 50px;
}

.OT_root dl dd {
  margin-left: 10px;
}

.OT_root img {
  border: 0 none;
}

/* Modal dialog styles */

/* Modal dialog styles */

.OT_dialog-centering {
  display: table;
  width: 100%;
  height: 100%;
}

.OT_dialog-centering-child {
  display: table-cell;
  vertical-align: middle;
}

.OT_dialog {
  position: relative;

  box-sizing: border-box;
  max-width: 576px;
  margin-right: auto;
  margin-left: auto;
  padding: 36px;
  text-align: center; /* centers all the inline content */

  background-color: #363636;
  color: #fff;
  box-shadow: 2px 4px 6px #999;
  font-family: 'Didact Gothic', sans-serif;
  font-size: 13px;
  line-height: 1.4;
}

.OT_dialog * {
  font-family: inherit;
  box-sizing: inherit;
}

.OT_closeButton {
  color: #999999;
  cursor: pointer;
  font-size: 32px;
  line-height: 36px;
  position: absolute;
  right: 18px;
  top: 0;
}

.OT_dialog-messages {
  text-align: center;
}

.OT_dialog-messages-main {
  margin-bottom: 36px;
  line-height: 36px;

  font-weight: 300;
  font-size: 24px;
}

.OT_dialog-messages-minor {
  margin-bottom: 18px;

  font-size: 13px;
  line-height: 18px;
  color: #A4A4A4;
}

.OT_dialog-messages-minor strong {
  color: #ffffff;
}

.OT_dialog-actions-card {
  display: inline-block;
}

.OT_dialog-button-title {
  margin-bottom: 18px;
  line-height: 18px;

  font-weight: 300;
  text-align: center;
  font-size: 14px;
  color: #999999;
}
.OT_dialog-button-title label {
  color: #999999;
}

.OT_dialog-button-title a,
.OT_dialog-button-title a:link,
.OT_dialog-button-title a:active {
  color: #02A1DE;
}

.OT_dialog-button-title strong {
  color: #ffffff;
  font-weight: 100;
  display: block;
}

.OT_dialog-button {
  display: inline-block;

  margin-bottom: 18px;
  padding: 0 1em;

  background-color: #1CA3DC;
  text-align: center;
  cursor: pointer;
}

.OT_dialog-button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.OT_dialog-button-large {
  line-height: 36px;
  padding-top: 9px;
  padding-bottom: 9px;

  font-weight: 100;
  font-size: 24px;
}

.OT_dialog-button-small {
  line-height: 18px;
  padding-top: 9px;
  padding-bottom: 9px;

  background-color: #444444;
  color: #999999;
  font-size: 16px;
}

.OT_dialog-progress-bar {
  display: inline-block; /* prevents margin collapse */
  width: 100%;
  margin-top: 5px;
  margin-bottom: 41px;

  border: 1px solid #4E4E4E;
  height: 8px;
}

.OT_dialog-progress-bar-fill {
  height: 100%;

  background-color: #29A4DA;
}

/* Helpers */

.OT_centered {
  position: fixed;
  left: 50%;
  top: 50%;
  margin: 0;
}

.OT_dialog-hidden {
  display: none;
}

.OT_dialog-button-block {
  display: block;
}

.OT_dialog-no-natural-margin {
  margin-bottom: 0;
}

/* Publisher and Subscriber styles */

.OT_publisher, .OT_subscriber {
  position: relative;
  min-width: 48px;
  min-height: 48px;
}

.OT_publisher .OT_video-element,
.OT_subscriber .OT_video-element {
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;

  transform-origin: 0 0;
}

/* Styles that are applied when the video element should be mirrored */
.OT_publisher.OT_mirrored .OT_video-element {
  transform: scale(-1, 1);
  transform-origin: 50% 50%;
}

.OT_subscriber_error {
  background-color: #000;
  color: #fff;
  text-align: center;
}

.OT_subscriber_error > p {
  padding: 20px;
}

/* The publisher/subscriber name/mute background */
.OT_publisher .OT_bar,
.OT_subscriber .OT_bar,
.OT_publisher .OT_name,
.OT_subscriber .OT_name,
.OT_publisher .OT_archiving,
.OT_subscriber .OT_archiving,
.OT_publisher .OT_archiving-status,
.OT_subscriber .OT_archiving-status,
.OT_publisher .OT_archiving-light-box,
.OT_subscriber .OT_archiving-light-box {
  -ms-box-sizing: border-box;
  box-sizing: border-box;
  top: 0;
  left: 0;
  right: 0;
  display: block;
  height: 34px;
  position: absolute;
}

.OT_publisher .OT_bar,
.OT_subscriber .OT_bar {
  background: rgba(0, 0, 0, 0.4);
}

.OT_publisher .OT_edge-bar-item,
.OT_subscriber .OT_edge-bar-item {
  z-index: 1; /* required to get audio level meter underneath */
}

/* The publisher/subscriber name panel/archiving status bar */
.OT_publisher .OT_name,
.OT_subscriber .OT_name {
  background-color: transparent;
  color: #ffffff;
  font-size: 15px;
  line-height: 34px;
  font-weight: normal;
  padding: 0 4px 0 36px;
  letter-spacing: normal;
}

.OT_publisher .OT_archiving-status,
.OT_subscriber .OT_archiving-status {
  background: rgba(0, 0, 0, 0.4);
  top: auto;
  bottom: 0;
  left: 34px;
  padding: 0 4px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 15px;
  line-height: 34px;
  font-weight: normal;
  letter-spacing: normal;
}

.OT_micro .OT_archiving-status,
.OT_micro:hover .OT_archiving-status,
.OT_mini .OT_archiving-status,
.OT_mini:hover .OT_archiving-status {
  display: none;
}

.OT_publisher .OT_archiving-light-box,
.OT_subscriber .OT_archiving-light-box {
  background: rgba(0, 0, 0, 0.4);
  top: auto;
  bottom: 0;
  right: auto;
  width: 34px;
  height: 34px;
}

.OT_archiving-light {
  width: 7px;
  height: 7px;
  border-radius: 30px;
  position: absolute;
  top: 14px;
  left: 14px;
  background-color: #575757;
  box-shadow: 0 0 5px 1px #575757;
}

.OT_archiving-light.OT_active {
  background-color: #970d13;
  -webkit-animation: OT_pulse 1.3s ease-in;
  -moz-animation: OT_pulse 1.3s ease-in;
  -webkit-animation: OT_pulse 1.3s ease-in;
  -webkit-animation-iteration-count: infinite;
  -moz-animation-iteration-count: infinite;
  -webkit-animation-iteration-count: infinite;
}

.OT_mini .OT_bar,
.OT_bar.OT_mode-mini,
.OT_bar.OT_mode-mini-auto {
  bottom: 0;
  height: auto;
}

.OT_mini .OT_name.OT_mode-off,
.OT_mini .OT_name.OT_mode-on,
.OT_mini .OT_name.OT_mode-auto,
.OT_mini:hover .OT_name.OT_mode-auto {
  display: none;
}

.OT_publisher .OT_name,
.OT_subscriber .OT_name {
    left: 10px;
    right: 37px;
    height: 34px;
    padding-left: 0;
}

.OT_publisher .OT_mute,
.OT_subscriber .OT_mute {
    border: none;
    cursor: pointer;
    display: block;
    position: absolute;
    text-align: center;
    text-indent: -9999em;
    background-color: transparent;
    background-repeat: no-repeat;
}

.OT_publisher .OT_mute,
.OT_subscriber .OT_mute {
  right: 0;
  top: 0;
  border-left: 1px solid rgba(255, 255, 255, 0.2);
  height: 36px;
  width: 37px;
}

.OT_mini .OT_mute,
.OT_publisher.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold,
.OT_subscriber.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold {
  top: 50%;
  left: 50%;
  right: auto;
  margin-top: -18px;
  margin-left: -18.5px;
  border-left: none;
}

.OT_publisher .OT_mute {
  background-image: url(`+rt+`);
  background-position: 9px 5px;
}

.OT_publisher .OT_mute.OT_active {
  background-image: url(`+it+`);
  background-position: 9px 4px;
}

.OT_subscriber .OT_mute {
  background-image: url(`+ot+`);
  background-position: 8px 7px;
}

.OT_subscriber .OT_mute.OT_active {
  background-image: url(`+st+`);
  background-position: 7px 7px;
}

/**
 * Styles for display modes
 *
 * Note: It's important that these completely control the display and opacity
 * attributes, no other selectors should atempt to change them.
 */

/* Default display mode transitions for various chrome elements */
.OT_publisher .OT_edge-bar-item,
.OT_subscriber .OT_edge-bar-item {
  transition-property: top, bottom, opacity;
  transition-duration: 0.5s;
  transition-timing-function: ease-in;
}

.OT_publisher .OT_edge-bar-item.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_mode-off,
.OT_publisher .OT_edge-bar-item.OT_mode-auto,
.OT_subscriber .OT_edge-bar-item.OT_mode-auto,
.OT_publisher .OT_edge-bar-item.OT_mode-mini-auto,
.OT_subscriber .OT_edge-bar-item.OT_mode-mini-auto {
  top: -25px;
  opacity: 0;
}

.OT_publisher .OT_edge-bar-item.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_mode-off {
  display: none;
}

.OT_mini .OT_mute.OT_mode-auto,
.OT_publisher .OT_mute.OT_mode-mini-auto,
.OT_subscriber .OT_mute.OT_mode-mini-auto {
  top: 50%;
}

.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,
.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto {
  top: auto;
  bottom: -25px;
}

.OT_publisher .OT_edge-bar-item.OT_mode-on,
.OT_subscriber .OT_edge-bar-item.OT_mode-on,
.OT_publisher .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,
.OT_subscriber .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,
.OT_publisher:hover .OT_edge-bar-item.OT_mode-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_mode-auto,
.OT_publisher:hover .OT_edge-bar-item.OT_mode-mini-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_mode-mini-auto {
  top: 0;
  opacity: 1;
}

.OT_mini .OT_mute.OT_mode-on,
.OT_mini:hover .OT_mute.OT_mode-auto,
.OT_mute.OT_mode-mini,
.OT_root:hover .OT_mute.OT_mode-mini-auto {
  top: 50%;
}

.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,
.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,
.OT_publisher:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,
.OT_subscriber:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto {
  top: auto;
  bottom: 0;
  opacity: 1;
}


/* Contains the video element, used to fix video letter-boxing */
.OT_widget-container {
  position: absolute;
  background: linear-gradient(60.08deg, #333333 0%, #1A1A1A 100%);
  overflow: hidden;
}

.OT_hidden-audio {
  position: absolute !important;
  height: 1px !important;
  width: 1px !important;
}

/* Load animation */
.OT_root .OT_video-loading {
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: none;

  background-color: rgba(0, 0, 0, .75);
}

.OT_root .OT_video-loading .OT_video-loading-spinner {
  background: url(`+at+`) no-repeat;
  position: absolute;
  width: 32px;
  height: 32px;
  left: 50%;
  top: 50%;
  margin-left: -16px;
  margin-top: -16px;
  animation: OT_spin 2s linear infinite;
}
@keyframes OT_spin {
  100% {
    transform: rotate(360deg);
  }
}

.OT_publisher.OT_loading .OT_video-loading,
.OT_subscriber.OT_loading .OT_video-loading {
  display: block;
}

.OT_publisher.OT_loading .OT_video-element,
.OT_subscriber.OT_loading .OT_video-element {
  /*display: none;*/
}

.OT_video-centering {
  display: table;
  width: 100%;
  height: 100%;
}

.OT_video-container {
  display: table-cell;
  vertical-align: middle;
}

.OT_video-poster {
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: none;

  opacity: 1.0;

  background-repeat: no-repeat;
  background-image: url(`+ct+`);
  background-size: auto 55%;
}

.OT_fit-mode-cover .OT_video-element {
  object-fit: cover;
}

/* Workaround for iOS freezing issue when cropping videos */
/* https://bugs.webkit.org/show_bug.cgi?id=176439 */
@media only screen
  and (orientation: portrait) {
  .OT_subscriber.OT_ForceContain.OT_fit-mode-cover .OT_video-element {
    object-fit: contain !important;
  }
}

.OT_fit-mode-contain .OT_video-element {
  object-fit: contain;
}

.OT_fit-mode-cover .OT_video-poster {
  background-position: center;
}

.OT_fit-mode-contain .OT_video-poster {
  background-position: center;
}

.OT_audio-level-meter {
  position: absolute;
  width: 25%;
  max-width: 224px;
  min-width: 21px;
  top: 0;
  right: 0;
  overflow: hidden;
}

.OT_audio-level-meter:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_audio-level-meter__audio-only-img {
  position: absolute;
  top: 22%;
  right: 15%;
  width: 40%;

  opacity: .7;

  background: url(`+lt+`) no-repeat center;
}

.OT_audio-level-meter__audio-only-img:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_audio-level-meter__value {
  will-change: transform;
  position: absolute;
  top: -100%;
  right: -100%;
  width: 200%;
  height: 200%;
  transform: scale(0);
  border-radius: 50%;
  background-image: radial-gradient(circle, rgba(151, 206, 0, 1) 0%, rgba(151, 206, 0, 0) 100%);
}

.OT_audio-level-meter.OT_mode-off {
    display: none;
}

.OT_audio-level-meter.OT_mode-on,
.OT_audio-only .OT_audio-level-meter.OT_mode-auto {
  display: block;
}

.OT_audio-only.OT_publisher .OT_video-element,
.OT_audio-only.OT_subscriber .OT_video-element {
  display: none;
}


.OT_video-disabled-indicator {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: bottom right;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 3px;
  right: 3px;
}

.OT_video-disabled {
  background-image: url(`+dt+`);
  background-size: 33px auto;
}

.OT_video-disabled-warning {
  background-image: url(`+ut+`);
  background-size: 33px auto;
}

.OT_video-disabled-indicator.OT_active {
  display: block;
}

.OT_audio-blocked-indicator {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

.OT_audio-blocked {
  background-image: url(`+ft+`);
  background-size: 90px auto;
}

.OT_container-audio-blocked {
  cursor: pointer;
}

.OT_container-audio-blocked.OT_mini .OT_edge-bar-item {
  display: none;
}

.OT_container-audio-blocked .OT_mute {
  display: none;
}

.OT_audio-blocked-indicator.OT_active {
  display: block;
}

.OT_video-unsupported {
  opacity: 1;
  border: none;
  display: none;
  position: absolute;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: center;
  background-image: url(`+pt+`);
  background-size: 58px auto;
  pointer-events: none;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  margin-top: -30px;
}

.OT_video-unsupported-bar {
  display: none;
  position: absolute;
  width: 192%; /* copy the size of the audio meter bar for symmetry */
  height: 192%;
  top: -96% /* half of the size */;
  left: -96%;
  border-radius: 50%;

  background-color: rgba(0, 0, 0, .8);
}

.OT_video-unsupported-img {
  display: none;
  position: absolute;
  top: 11%;
  left: 15%;
  width: 70%;
  opacity: .7;
  background-image: url(`+pt+`);
  background-repeat: no-repeat;
  background-position: center;
  background-size: 100% auto;
}

.OT_video-unsupported-img:before {
  /* makes the height of the container 93% of its width (90/97 px) */
  content: '';
  display: block;
  padding-top: 93%;
}

.OT_video-unsupported-text {
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  height: 100%;
  margin-top: 40px;
}

.OT_video-unsupported.OT_active {
  display: block;
}

.OT_mini .OT_video-unsupported,
.OT_micro .OT_video-unsupported {
  position: absolute;
  width: 25%;
  max-width: 224px;
  min-width: 21px;
  top: 0;
  left: 0;
  overflow: hidden;
  background: none;
  bottom: auto;
  right: auto;
  margin: auto;
}

.OT_mini .OT_video-unsupported:before,
.OT_micro .OT_video-unsupported:before {
  /* makes the height of the container equals its width */
  content: '';
  display: block;
  padding-top: 100%;
}

.OT_mini .OT_video-unsupported-bar,
.OT_micro .OT_video-unsupported-bar,
.OT_mini .OT_video-unsupported-img,
.OT_micro .OT_video-unsupported-img {
  display: block;
}

.OT_mini .OT_video-unsupported-text,
.OT_micro .OT_video-unsupported-text {
  display: none;
}

.OT_hide-forced {
  display: none;
}

.OT_ModalDialog {
  position: fixed;
  top: 0px;
  left: 0px;
  right: 0px;
  bottom: 0px;
  z-index: 1000;
  background-color: rgba(0, 0, 0, 0.2);
}

#tb_alert {
  position: fixed;
  width: 570px;
  font-family: "Lucida Grande", Arial;
  top: 50%;
  left: 50%;
  margin-top: -75px;
  margin-left: -285px;
}

#tb_alert * {
  box-sizing: border-box;
}

#tb_alert .OT_alert {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  background-color: #333;
  position: relative;
  padding: 30px;
  overflow: visible;
  margin-left: 70px;
  border-bottom-color: rgba(255, 255, 255, 0.1);
  border-left-color: rgba(255, 255, 255, 0.1);

  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));

  background-image: -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));

  background-size: 4px 4px;
  background-position: 0 0, 2px 2px;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

#tb_alert .OT_alert-exclamation {
  background-color: #9c1408;
  background-image: linear-gradient(0deg, #dd0c0a 0%, #9c1408 100%);
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);

  margin: -1px 0;

  font-family: MS Trebuchet;
  font-weight: bold;
  font-size: 60px;
  text-shadow: -1px -1px 2px rgba(0, 0, 0, 0.5);

  color: white;
  width: 65px;
  position: absolute;
  padding: 42px 0;
  text-align: center;
  left: -70px;
  top: 0;
  bottom: 0;
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;

  border-bottom-color: transparent;
  border-left: none;
  border-right: none;
}

#tb_alert .OT_alert-exclamation:after,
#tb_alert .OT_alert-exclamation:before {
  content: " ";
  position: absolute;
  right: -24px;
  top: 40%;
  border: 12px solid transparent;
  border-left-color: #9c1408;
}

#tb_alert .OT_alert-exclamation:before {
  border-left-color: #bc3428;
  top: 39%;
}

#tb_alert .OT_alert-body {
  color: #c8c5c5;
  margin: 0;
  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);
  font-size: 14px;
  line-height: 1.3em;
}

#tb_alert .continue-text {
  margin-top: 12px
}

#tb_alert > * a {
  color: #a7d8df;
  text-decoration: none;
}

#tb_alert .OT_alert-header {
  font-size: 24px;
  padding-bottom: 5px;
  color: #aaa;
  font-weight: bold;
  position: relative;
  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);
  margin: 0;
}

#tb_alert .OT_alert-header::before {
  content: attr(data-text);
  position: absolute;
  left: 0;
  color: white;
  -webkit-mask-image: -webkit-gradient(
    linear,
    left top, left bottom,
    from(rgba(0, 0, 0, 1)),
    color-stop(60%, rgba(0, 0, 0, 0)),
    to(rgba(0, 0, 0, 0))
  );
}

#tb_alert .OT_alert-close-button {
  position: absolute;
  right: 8px;
  top: 5px;
  background-color: #000;
  color: #666;
  border: none;
  font-size: 20px;
  /** Hack to bring it up to the proper line top */
  line-height: 14px;
  padding: 0;
  padding-bottom: 3px;
  cursor: pointer;
}

#tb_alert #section-mobile-browser,
#tb_alert #section-supported-mobile-browser {
  width: 200px;
  top: 0px;
  left: 25%;
  margin-top: 0;
  margin-left: 0;
}

@media all and (max-height: 300px) {
  #tb_alert {
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    margin-left: 0;
    margin-top: 0;
  }
  #tb_alert #section-mobile-browser,
  #tb_alert #section-supported-mobile-browser {
    margin-left: 0;
    margin-top: 10px;
    left: 0;
  }
}

#tb_alert #section-normal-install,
#tb_alert #section-upgrade-install,
#tb_alert #section-mobile-browser,
#tb_alert #section-supported-mobile-browser {
  display: none;
}
`,""])},function(_e,tt,et){_e.exports=function(it){var ot=[];return ot.toString=function(){return this.map(function(at){var ct=nt(at,it);return at[2]?"@media "+at[2]+"{"+ct+"}":ct}).join("")},ot.i=function(st,at){typeof st=="string"&&(st=[[null,st,""]]);for(var ct={},lt=0;lt<this.length;lt++){var dt=this[lt][0];dt!=null&&(ct[dt]=!0)}for(lt=0;lt<st.length;lt++){var ut=st[lt];(ut[0]==null||!ct[ut[0]])&&(at&&!ut[2]?ut[2]=at:at&&(ut[2]="("+ut[2]+") and ("+at+")"),ot.push(ut))}},ot};function nt(it,ot){var st=it[1]||"",at=it[3];if(!at)return st;if(ot&&typeof btoa=="function"){var ct=rt(at),lt=at.sources.map(function(dt){return"/*# sourceURL="+at.sourceRoot+dt+" */"});return[st].concat(lt).concat([ct]).join(`
`)}return[st].join(`
`)}function rt(it){var ot=btoa(unescape(encodeURIComponent(JSON.stringify(it)))),st="sourceMappingURL=data:application/json;charset=utf-8;base64,"+ot;return"/*# "+st+" */"}},function(_e,tt,et){_e.exports=function(rt,it){return typeof rt!="string"?rt:(/^['"].*['"]$/.test(rt)&&(rt=rt.slice(1,-1)),/["'() \t\n]/.test(rt)||it?'"'+rt.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':rt)}},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwMTAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNiKSIgZD0iTTg2LjYgNTBBMTAwIDEwMCAwIDAxMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2MpIiBkPSJNMCAxMDBhMTAwIDEwMCAwIDAxLTg2LjYtNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2QpIiBkPSJNLTg2LjYgNTBhMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2UpIiBkPSJNLTg2LjYtNTBBMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAxODYuNiA1MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48L2c+PC9tYXNrPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSItMjAiIHk9Ii0yMCIgbWFzaz0idXJsKCNnKSIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDciIGhlaWdodD0iNDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIHI9IjIzLjUiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjcuNjM0IDE4LjUwOGE0LjMwNCA0LjMwNCAwIDExLTguNjA5IDAgNC4zMDQgNC4zMDQgMCAwMTguNjA5IDB6bTQuNzEyIDEyLjgwNGMuMTIyLjUwNi0uMjc1Ljk2OS0uNzg2Ljk2OUgxNS4xYy0uNTEyIDAtLjkwOS0uNDYyLS43ODctLjk3Ljk5My00LjEzNyA0LjY1My03LjIwOCA5LjAxNi03LjIwOHM4LjAyMyAzLjA3IDkuMDE3IDcuMjA5eiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+"},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAINUlEQVR42u2aaUxUVxTHcRBmAAEBRVTK4sKwDIsg+wCK7CqIw1CN1YobbbS2qYlJ06Qx1UpdqMbYWq2pSzWmH6ytNbXWJY1Lq7VuqBERtW64V0XFLYae0/xvcp3MMAMzDz6IyT/ge2ce5/7ucpY3Ts3NzZ1ygF57AJ0gO0G2jyZPmdbFyclJSAV1EeoEaUUSLGdSV5KLLFxzFmA7QVqGqDqjixhWkxCVeyRVl38wM6bwj6yYItYK47BAuu9B0gCqs6Ng2r494KQtkj/Dz2jHraw6qw2fdSE4rNmcCPCvZONP8iF1I6kdBdMaQJWZLeJqRWa2kPJAxXY+GxE+zxLI03GRh8lGSwoi9WCY8FWlCEh+8JOnT7MfPGjMuXX7Tt61hoaCi/9cKmKdv3BxeEtim/UbNpnbQiqF4MmT7kqrbr4lkMcTo46TTSpJB5g+8NHuVWnWuaampvhmO/7duHmrGluoO4C6OsJZGRrkDIld43ZqUOTnlkDSmXmabAoBU0vqBf+6KgFSxQ9++uzZ8rZApM81TJ8xM5me0Z/UF7PuBmdVdkGEb5gYDeQmyZNW3SJLIP9Kj64lGyMpmxRN6sOfIbkoAhKOdnv2/PmB1kB88eLFo+olyyrps3rSINIAzLonnqlqK8R9w+L86vtrt5L2nhug3Vc3ULu/Liz8AOuXESlZZONH6kmr7gtLIA9lRNeRzVukAvj3BslLnJNKgfScO69K+/Lly0ZbQW7e8tNK+pwBjqaSIjDrXgJkW1ciAZvbQjQ+RDahpBBKd5ZZsqN758hmImk4KQHnpDd8UwSkCyJarx07d4+3BeKJmlMHyX4qaRxpBCmNFE4KENvHDpAutVERn1kCVBMfeRRgYvZnx62wZPdnZkw92VQA5GClQXYRBze2S+iJmpPVVoJLA9l9QKokjcWKTCT1R5rhLg70NuSsziT16diIKkuAjibrTpJNDkn/e17CahtAjlAWJAYkb29Sb1LE9Rs391kILk8mVkyuIpuZcLKUlEmKkra1WuSTNuesEPzwoEploSVAh9Oiz+BIyd9dOHhtx4OEpFpVg6gbNK3yXX1j48N6U5Dz5i/gc/FDrMY3sTLiSMEkXxGxzUEUAGnbxlPaksMlHUXWAlHS8URCPseSohZbCSLjSSU7ixLXdzhIWVKq4Y7t2a/2bN0qGeKly1fYsVmk6RgIDz4J0bonyUOcjeYqm/8hRoYbWkigV2NH9CHAS60EkUkkw47hSRs6FqT1LR5AVcsrueXlK1d5AO+RpmBrZZEiefByytPCanRGNLZY0uF52gNDYr9sCRB8MHY0SJu2OJWKS2WQV65e4y31DmkCImEi0hBfufRime0RIhpbKen0/Ny9OYNW2ghyYytABjNIaxNuKttAWk6HPLn0k0FevdZwFinPWFIuKZbUV16NVko6jbWSDoPO3pOf8K0jQWLSQ0S9bdpkYck+m7vfWpAiHfKgBsZiGSSt0FqcTeU8WETqAHE2CgcAVd3Gkm4MD3xXYeI6B4NMItvKbcUpQ9gP+KMWnSsW+TaYJtoo+avBWLoKoK0CCSDud+7eXWQGZAXqV3YoQjQCfixJ8+fzj9ta3JHhlUeJ8wJOY2ws6eRKpPS3oqTvHAESEz9ya0naXL5WH6pt3FqSOhTHkTcKEXc6k1POh4Q9YJu/03TT4a8PoGMFI4i2EqSbOZAYaBkpCyD92RkG6KCSbjI/H0HEISBnlOZPFdcEzI2GTO4KBZICGKyAKLTEmJOB2txf5MbgohBINCl4FTqmpJMB2W+HiRn1Q2l6lXyPmiEP6VVE2TfGoaMYrHyPdtAnyI0jEOn9RLWmNEhvBBE7SjpFQZaShtLK+1S+T12lRwxUvrZlVPp8jE1PikeO7C/nyEqBDCB1t7+kUx4kKUWclea0yZC5BIGpiJSNSD9QgFR0RQKkL6KxHSWdsiARHJNYewoGrzG1/bk4dTPSunL2EyDjcbb7MQ+lQfZmkKiN7SjpFAM5CWAyGcwyY84YsZ1lUcbRNNtQMAdtQWGvQ0DyVjzYAKQfQFodeAeC1C8vzymXIZqD+ZEh/2OyLSalS/3VbnJZ+VqDXGjMrTCFuK4s66vVZUNfqaDolcbjOcb899sLpEE+I20GifywXe2QR3KElu99PzqjGufhREqB1pjCnG3IL3fY1v733r2FMsiGhutn0LAoJWWIGbPxjKwgjUbF0m52mPhigrpdXOecEq9pR6MkHbu2LOtrcZ9y3d0ODTb15y9MePz48aF79+8fvXnr9sljx2u2I7KNxDuaMPGVECoRs7mC4eT7SIruFNfNHK15MKuM2evwNq+4qjxvGnd5CHwNNynawW4cOlUZdG8b55IIJHmkItwrZHH6QxB3OSL9kTtAGpIvZiQB3Z4SKBfXQtEE9sashWAW87Bt3sYZNR6zn4uzJwWDKUKXfaKCdqUoBpLxSjYe9nqGiwWRBGipuGZ3Qm76itYLbbJI/PEhUApfw73uOIy9xfse3M9F9BuFJHcYrseSouGkHtCVtkuGTTikI8XgZzhg9SeF4VqcvSWiaSvNHQ8JwkNjIfEHemCmNLD1RaEfLs18mlgNuN6PFALHo7CyU5W2g00gFAQF4ozvibH04muwDbWraSFAyt/AAMzewgGR8uCeWn77xzBxPxgzPRCDDMZ14bQ/3jqGKGoHf2Hjgx3kw5LbaJDYWb52t9FMgw4AuWNWukNeuOYqOsmQi2jgws4PA/DD/z0B2x0/veCs4naw0cgybezid7X9jV3rX2RSs0wfLkll4pBGcgifg+NYxe1kJ2ycTaRq66uG/wBOl0vjcw70xwAAAABJRU5ErkJggg=="},function(_e,tt){_e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAGMElEQVR4Ae2aA7D0yBaAc7oH12vbRmlLaxYWb23btm3btm2899a2bWuYtPZ01cmtU9lJrib315yqr9I3Oem/5/s7acwEnehEJzoxCcX2O+wEeIgRBDDaGjAZOgQ6ihRpLklHZDJIXK1WWymMIhGGkVBKCWMM+Iv/f/b5t7faYtM/sGgIS7j8RNLjceUVl41GvGN1BFiHy9sgtRWaYbhvuVQ6o1VOvV5/tLe3dyssKoZuh8xClkDEi2MMS6ZjR0cScxdK/+HgnJsmLccYOx0e/PUGUqfTJDEHkV5go9lcMQoj4R8RpSIRRUr4a9baTJFCCNfqESKJ7RYJibK0xoi05EhFRTxMi1Rit6xHAuLaKRLwEVi6q1x+EhlVpd3d3Wfh4VQkQhRhxthYLg7SRGqdLlIp7UVOHf+JhEhEMscUolVje3p63saeeOFoKsT7fjj++BNuw2I/0ouUENmGaQcQEilQvUU6xuWC0kqmVWCt8df6kG7WLoFA20VSCOyNh0RKPT+SyrTWtQsvuvTYCy84z3+oAdbgAiLGIvHjTz6bFuu/B3lKKfVkFKknwih6EnnipZdfXQZzepAupXSGSCfwUGZtkrx3t/0dSQGnnXbmdocdetArQoj+4VR23wMP3bj/vnv9Sv/rBmkish09ca655thHSrlWq4TFF1vkNDxsgjiUnPqZnHPABIq47jx7pPMcecShfz7x1DO7D6eit99576X1113nVd8rqLGAuDaNitJonTGIqHgQGQjDsJglMrUH5iDSEQbRa6y2yrNvv/PuWVmV/PTzLz8steTit1B9FtGJeZrJksmWdBzBMcami4xUkaY1A1Qe94WIaPGBApJhaERrLrXkElf8+NPPz6YMLs1DDjn0Wn9PnI/UiQadM4jNEkhzVsEGE8nIHESM1j5/KqRX+/IEiOQ/yifNBlEkpnb00cccesbpp13T3983H88/48xzrrvm6it/8U5JXgX5G6nSvSq1R5LATR7aYGkwMG1RSwkWABH+4jUb3vT/uJ1Z0xpjraTBRltrxUQhksIRmgTJyy69+Pv99tv3qYX6FxgU+fU33352xGEHf5wisU7nNWJpZRMkAjZ6aIN1mwV7h29Jo2wCHlveu/GV169z65E+T6koexCh6c+EEiky3lnxQKFjUeVyOeI5AOBzIiayRhJryd7YYnkIHgvB0qk9Tdql6N3XH4bRUIOIIIKJSiRb0hkSEpZKRd1CpEq8GxtIyCVmDSgFl94GacTgaJw1rUlYhYng0c4ewaUsmKRIJjpiqMSOCh9QeI+UYECmtQIsxEu6OorEcv6Rl0gu0woh8MhFkmSCTXVI4pC704WCFRJvSRNJSzrMMEZO2iKZTCHAZYnmvXCny7ed5vfZK3viHSBdIFCKEFj2+nt+73nw8m2uedcLJlktA++VNMEPaR45aYukcKnnCfY3/DFbZS8t7eHxNgsPM0N1hXhJJwwM1QbpoQFlog2R13a/zBxEYHAQEUYUM6qiVwEyBYoM6JFNF2kFLelI5KQf+fVI4dJFCguDS7oAyx2R6SFQJKRedSDj/cMg/RXQ6ZE05GSIDAaXdCi1I3L021SQWNJ1RLY5OiIdL4/yvuw8ADfWPFrSciaMyH8tEQPwf1uGG54g5+KlJGTmsrxsQdl5PKidnPFe2QS///7Hu+VS6WX/HYnf0sevGL7lXydwod2/9DykZq0s5yff0sgSWCigNOH7TPHL7ufj+/TH8P/+qYpL4HkBDiRYpEXeM8/89/9zzjn7EtY64dfd1nqccM7Bs8+9MKy8555/8TnKS+5MufH6EZVASkgPzf+mJXroet17JirU0ALST3nT0y5ONyLpeo1y64ih+vuQfsoTOeRFSJXa+SvyB90TUmdw49EjLaKpMQ0mzEeTzkWsd/oI6fzfiKM8gWg6X6OjpXstu5ZHnmIb0GFiu29MIUfUewkmVrEN3RqVQ/bY8FzNcquMBv/pCNUZ5pHHem01KdN/I/DG66/lLhKSvTO5M84kav5C5z2ZfyAivi9i9VGd45RH7UWJbjwGG/7NYsRECt7jiOToHedKAui8SW4CsxyRc54mKH/8f7ELhCCACyNcIl/wI+FaAJyc8yzRtinQPzWzuFZrFHq/AAAAAElFTkSuQmCC"},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwMTQzIDQ0YTguOTg4IDguOTg4IDAgMDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAxMTAuMzc0LS40MkM1MS43MDIgMTkuMTE0IDU0IDI5LjIwOCA1NCA0NS4yMDhjMCAxNC41MjctMi4zNDMgMjMuODgtNy4wMyAyOC4wNThhNy4yOCA3LjI4IDAgMDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwMS01LTV2LTEzYTUgNSAwIDAxNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(_e,tt){_e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMDE1IDVWNTguMThhNSA1IDAgMDEtNSA1SDkuMTFhNSA1IDAgMDEtNS01VjI1Ljk3YTUgNSAwIDAxNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwMTQuMzA0IDIuNzAydjI2LjgzNWEzIDMgMCAwMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(_e,tt,et){var nt={},rt=function(kt){var wt;return function(){return typeof wt>"u"&&(wt=kt.apply(this,arguments)),wt}},it=rt(function(){return window&&document&&document.all&&!window.atob}),ot=function(kt,wt){return wt?wt.querySelector(kt):document.querySelector(kt)},st=function(kt){var wt={};return function(Zt,qt){if(typeof Zt=="function")return Zt();if(typeof wt[Zt]>"u"){var zt=ot.call(this,Zt,qt);if(window.HTMLIFrameElement&&zt instanceof window.HTMLIFrameElement)try{zt=zt.contentDocument.head}catch{zt=null}wt[Zt]=zt}return wt[Zt]}}(),at=null,ct=0,lt=[],dt=et(356);_e.exports=function(kt,wt){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");wt=wt||{},wt.attrs=typeof wt.attrs=="object"?wt.attrs:{},!wt.singleton&&typeof wt.singleton!="boolean"&&(wt.singleton=it()),wt.insertInto||(wt.insertInto="head"),wt.insertAt||(wt.insertAt="bottom");var Zt=ft(kt,wt);return ut(Zt,wt),function(zt){for(var Bt=[],sn=0;sn<Zt.length;sn++){var mn=Zt[sn],En=nt[mn.id];En.refs--,Bt.push(En)}if(zt){var cn=ft(zt,wt);ut(cn,wt)}for(var sn=0;sn<Bt.length;sn++){var En=Bt[sn];if(En.refs===0){for(var xn=0;xn<En.parts.length;xn++)En.parts[xn]();delete nt[En.id]}}}};function ut(kt,wt){for(var Zt=0;Zt<kt.length;Zt++){var qt=kt[Zt],zt=nt[qt.id];if(zt){zt.refs++;for(var Bt=0;Bt<zt.parts.length;Bt++)zt.parts[Bt](qt.parts[Bt]);for(;Bt<qt.parts.length;Bt++)zt.parts.push(Et(qt.parts[Bt],wt))}else{for(var sn=[],Bt=0;Bt<qt.parts.length;Bt++)sn.push(Et(qt.parts[Bt],wt));nt[qt.id]={id:qt.id,refs:1,parts:sn}}}}function ft(kt,wt){for(var Zt=[],qt={},zt=0;zt<kt.length;zt++){var Bt=kt[zt],sn=wt.base?Bt[0]+wt.base:Bt[0],mn=Bt[1],En=Bt[2],cn=Bt[3],xn={css:mn,media:En,sourceMap:cn};qt[sn]?qt[sn].parts.push(xn):Zt.push(qt[sn]={id:sn,parts:[xn]})}return Zt}function pt(kt,wt){var Zt=st(kt.insertInto);if(!Zt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var qt=lt[lt.length-1];if(kt.insertAt==="top")qt?qt.nextSibling?Zt.insertBefore(wt,qt.nextSibling):Zt.appendChild(wt):Zt.insertBefore(wt,Zt.firstChild),lt.push(wt);else if(kt.insertAt==="bottom")Zt.appendChild(wt);else if(typeof kt.insertAt=="object"&&kt.insertAt.before){var zt=st(kt.insertAt.before,Zt);Zt.insertBefore(wt,zt)}else throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`)}function vt(kt){if(kt.parentNode===null)return!1;kt.parentNode.removeChild(kt);var wt=lt.indexOf(kt);wt>=0&&lt.splice(wt,1)}function Ct(kt){var wt=document.createElement("style");if(kt.attrs.type===void 0&&(kt.attrs.type="text/css"),kt.attrs.nonce===void 0){var Zt=yt();Zt&&(kt.attrs.nonce=Zt)}return mt(wt,kt.attrs),pt(kt,wt),wt}function ht(kt){var wt=document.createElement("link");return kt.attrs.type===void 0&&(kt.attrs.type="text/css"),kt.attrs.rel="stylesheet",mt(wt,kt.attrs),pt(kt,wt),wt}function mt(kt,wt){Object.keys(wt).forEach(function(Zt){kt.setAttribute(Zt,wt[Zt])})}function yt(){return et.nc}function Et(kt,wt){var Zt,qt,zt,Bt;if(wt.transform&&kt.css)if(Bt=typeof wt.transform=="function"?wt.transform(kt.css):wt.transform.default(kt.css),Bt)kt.css=Bt;else return function(){};if(wt.singleton){var sn=ct++;Zt=at||(at=Ct(wt)),qt=Pt.bind(null,Zt,sn,!1),zt=Pt.bind(null,Zt,sn,!0)}else kt.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(Zt=ht(wt),qt=Nt.bind(null,Zt,wt),zt=function(){vt(Zt),Zt.href&&URL.revokeObjectURL(Zt.href)}):(Zt=Ct(wt),qt=Vt.bind(null,Zt),zt=function(){vt(Zt)});return qt(kt),function(En){if(En){if(En.css===kt.css&&En.media===kt.media&&En.sourceMap===kt.sourceMap)return;qt(kt=En)}else zt()}}var Rt=function(){var kt=[];return function(wt,Zt){return kt[wt]=Zt,kt.filter(Boolean).join(`
`)}}();function Pt(kt,wt,Zt,qt){var zt=Zt?"":qt.css;if(kt.styleSheet)kt.styleSheet.cssText=Rt(wt,zt);else{var Bt=document.createTextNode(zt),sn=kt.childNodes;sn[wt]&&kt.removeChild(sn[wt]),sn.length?kt.insertBefore(Bt,sn[wt]):kt.appendChild(Bt)}}function Vt(kt,wt){var Zt=wt.css,qt=wt.media;if(qt&&kt.setAttribute("media",qt),kt.styleSheet)kt.styleSheet.cssText=Zt;else{for(;kt.firstChild;)kt.removeChild(kt.firstChild);kt.appendChild(document.createTextNode(Zt))}}function Nt(kt,wt,Zt){var qt=Zt.css,zt=Zt.sourceMap,Bt=wt.convertToAbsoluteUrls===void 0&&zt;(wt.convertToAbsoluteUrls||Bt)&&(qt=dt(qt)),zt&&(qt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(zt))))+" */");var sn=new Blob([qt],{type:"text/css"}),mn=kt.href;kt.href=URL.createObjectURL(sn),mn&&URL.revokeObjectURL(mn)}},function(_e,tt){_e.exports=function(et){var nt=typeof window<"u"&&window.location;if(!nt)throw new Error("fixUrls requires window.location");if(!et||typeof et!="string")return et;var rt=nt.protocol+"//"+nt.host,it=rt+nt.pathname.replace(/\/[^\/]*$/,"/"),ot=et.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(st,at){var ct=at.trim().replace(/^"(.*)"$/,function(dt,ut){return ut}).replace(/^'(.*)'$/,function(dt,ut){return ut});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(ct))return st;var lt;return ct.indexOf("//")===0?lt=ct:ct.indexOf("/")===0?lt=rt+ct:lt=it+ct.replace(/^\.\//,""),"url("+JSON.stringify(lt)+")"});return ot}},function(_e,tt){function et(){this.__data__=[],this.size=0}_e.exports=et},function(_e,tt,et){var nt=et(81),rt=Array.prototype,it=rt.splice;function ot(st){var at=this.__data__,ct=nt(at,st);if(ct<0)return!1;var lt=at.length-1;return ct==lt?at.pop():it.call(at,ct,1),--this.size,!0}_e.exports=ot},function(_e,tt,et){var nt=et(81);function rt(it){var ot=this.__data__,st=nt(ot,it);return st<0?void 0:ot[st][1]}_e.exports=rt},function(_e,tt,et){var nt=et(81);function rt(it){return nt(this.__data__,it)>-1}_e.exports=rt},function(_e,tt,et){var nt=et(81);function rt(it,ot){var st=this.__data__,at=nt(st,it);return at<0?(++this.size,st.push([it,ot])):st[at][1]=ot,this}_e.exports=rt},function(_e,tt,et){var nt=et(80);function rt(){this.__data__=new nt,this.size=0}_e.exports=rt},function(_e,tt){function et(nt){var rt=this.__data__,it=rt.delete(nt);return this.size=rt.size,it}_e.exports=et},function(_e,tt){function et(nt){return this.__data__.get(nt)}_e.exports=et},function(_e,tt){function et(nt){return this.__data__.has(nt)}_e.exports=et},function(_e,tt,et){var nt=et(80),rt=et(111),it=et(112),ot=200;function st(at,ct){var lt=this.__data__;if(lt instanceof nt){var dt=lt.__data__;if(!rt||dt.length<ot-1)return dt.push([at,ct]),this.size=++lt.size,this;lt=this.__data__=new it(dt)}return lt.set(at,ct),this.size=lt.size,this}_e.exports=st},function(_e,tt,et){var nt=et(17),rt=et(370),it=et(11),ot=et(175),st=/[\\^$.*+?()[\]{}|]/g,at=/^\[object .+?Constructor\]$/,ct=Function.prototype,lt=Object.prototype,dt=ct.toString,ut=lt.hasOwnProperty,ft=RegExp("^"+dt.call(ut).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pt(vt){if(!it(vt)||rt(vt))return!1;var Ct=nt(vt)?ft:at;return Ct.test(ot(vt))}_e.exports=pt},function(_e,tt,et){var nt=et(40),rt=Object.prototype,it=rt.hasOwnProperty,ot=rt.toString,st=nt?nt.toStringTag:void 0;function at(ct){var lt=it.call(ct,st),dt=ct[st];try{ct[st]=void 0;var ut=!0}catch{}var ft=ot.call(ct);return ut&&(lt?ct[st]=dt:delete ct[st]),ft}_e.exports=at},function(_e,tt){var et=Object.prototype,nt=et.toString;function rt(it){return nt.call(it)}_e.exports=rt},function(_e,tt,et){var nt=et(371),rt=function(){var ot=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return ot?"Symbol(src)_1."+ot:""}();function it(ot){return!!rt&&rt in ot}_e.exports=it},function(_e,tt,et){var nt=et(15),rt=nt["__core-js_shared__"];_e.exports=rt},function(_e,tt){function et(nt,rt){return nt==null?void 0:nt[rt]}_e.exports=et},function(_e,tt,et){var nt=et(374),rt=et(80),it=et(111);function ot(){this.size=0,this.__data__={hash:new nt,map:new(it||rt),string:new nt}}_e.exports=ot},function(_e,tt,et){var nt=et(375),rt=et(376),it=et(377),ot=et(378),st=et(379);function at(ct){var lt=-1,dt=ct==null?0:ct.length;for(this.clear();++lt<dt;){var ut=ct[lt];this.set(ut[0],ut[1])}}at.prototype.clear=nt,at.prototype.delete=rt,at.prototype.get=it,at.prototype.has=ot,at.prototype.set=st,_e.exports=at},function(_e,tt,et){var nt=et(82);function rt(){this.__data__=nt?nt(null):{},this.size=0}_e.exports=rt},function(_e,tt){function et(nt){var rt=this.has(nt)&&delete this.__data__[nt];return this.size-=rt?1:0,rt}_e.exports=et},function(_e,tt,et){var nt=et(82),rt="__lodash_hash_undefined__",it=Object.prototype,ot=it.hasOwnProperty;function st(at){var ct=this.__data__;if(nt){var lt=ct[at];return lt===rt?void 0:lt}return ot.call(ct,at)?ct[at]:void 0}_e.exports=st},function(_e,tt,et){var nt=et(82),rt=Object.prototype,it=rt.hasOwnProperty;function ot(st){var at=this.__data__;return nt?at[st]!==void 0:it.call(at,st)}_e.exports=ot},function(_e,tt,et){var nt=et(82),rt="__lodash_hash_undefined__";function it(ot,st){var at=this.__data__;return this.size+=this.has(ot)?0:1,at[ot]=nt&&st===void 0?rt:st,this}_e.exports=it},function(_e,tt,et){var nt=et(83);function rt(it){var ot=nt(this,it).delete(it);return this.size-=ot?1:0,ot}_e.exports=rt},function(_e,tt){function et(nt){var rt=typeof nt;return rt=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?nt!=="__proto__":nt===null}_e.exports=et},function(_e,tt,et){var nt=et(83);function rt(it){return nt(this,it).get(it)}_e.exports=rt},function(_e,tt,et){var nt=et(83);function rt(it){return nt(this,it).has(it)}_e.exports=rt},function(_e,tt,et){var nt=et(83);function rt(it,ot){var st=nt(this,it),at=st.size;return st.set(it,ot),this.size+=st.size==at?0:1,this}_e.exports=rt},function(_e,tt){function et(nt,rt){for(var it=-1,ot=Array(nt);++it<nt;)ot[it]=rt(it);return ot}_e.exports=et},function(_e,tt,et){var nt=et(30),rt=et(18),it="[object Arguments]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt){function et(){return!1}_e.exports=et},function(_e,tt,et){var nt=et(30),rt=et(114),it=et(18),ot="[object Arguments]",st="[object Array]",at="[object Boolean]",ct="[object Date]",lt="[object Error]",dt="[object Function]",ut="[object Map]",ft="[object Number]",pt="[object Object]",vt="[object RegExp]",Ct="[object Set]",ht="[object String]",mt="[object WeakMap]",yt="[object ArrayBuffer]",Et="[object DataView]",Rt="[object Float32Array]",Pt="[object Float64Array]",Vt="[object Int8Array]",Nt="[object Int16Array]",kt="[object Int32Array]",wt="[object Uint8Array]",Zt="[object Uint8ClampedArray]",qt="[object Uint16Array]",zt="[object Uint32Array]",Bt={};Bt[Rt]=Bt[Pt]=Bt[Vt]=Bt[Nt]=Bt[kt]=Bt[wt]=Bt[Zt]=Bt[qt]=Bt[zt]=!0,Bt[ot]=Bt[st]=Bt[yt]=Bt[at]=Bt[Et]=Bt[ct]=Bt[lt]=Bt[dt]=Bt[ut]=Bt[ft]=Bt[pt]=Bt[vt]=Bt[Ct]=Bt[ht]=Bt[mt]=!1;function sn(mn){return it(mn)&&rt(mn.length)&&!!Bt[nt(mn)]}_e.exports=sn},function(_e,tt,et){var nt=et(179),rt=nt(Object.keys,Object);_e.exports=rt},function(_e,tt,et){var nt=et(41),rt=et(54);function it(ot,st){return ot&&nt(st,rt(st),ot)}_e.exports=it},function(_e,tt,et){var nt=et(11),rt=et(68),it=et(392),ot=Object.prototype,st=ot.hasOwnProperty;function at(ct){if(!nt(ct))return it(ct);var lt=rt(ct),dt=[];for(var ut in ct)ut=="constructor"&&(lt||!st.call(ct,ut))||dt.push(ut);return dt}_e.exports=at},function(_e,tt){function et(nt){var rt=[];if(nt!=null)for(var it in Object(nt))rt.push(it);return rt}_e.exports=et},function(_e,tt,et){var nt=et(41),rt=et(117);function it(ot,st){return nt(ot,rt(ot),st)}_e.exports=it},function(_e,tt){function et(nt,rt){for(var it=-1,ot=nt==null?0:nt.length,st=0,at=[];++it<ot;){var ct=nt[it];rt(ct,it,nt)&&(at[st++]=ct)}return at}_e.exports=et},function(_e,tt,et){var nt=et(41),rt=et(182);function it(ot,st){return nt(ot,rt(ot),st)}_e.exports=it},function(_e,tt,et){var nt=et(39),rt=et(15),it=nt(rt,"DataView");_e.exports=it},function(_e,tt,et){var nt=et(39),rt=et(15),it=nt(rt,"Promise");_e.exports=it},function(_e,tt){var et=Object.prototype,nt=et.hasOwnProperty;function rt(it){var ot=it.length,st=new it.constructor(ot);return ot&&typeof it[0]=="string"&&nt.call(it,"index")&&(st.index=it.index,st.input=it.input),st}_e.exports=rt},function(_e,tt,et){var nt=et(120),rt=et(400),it=et(401),ot=et(402),st=et(189),at="[object Boolean]",ct="[object Date]",lt="[object Map]",dt="[object Number]",ut="[object RegExp]",ft="[object Set]",pt="[object String]",vt="[object Symbol]",Ct="[object ArrayBuffer]",ht="[object DataView]",mt="[object Float32Array]",yt="[object Float64Array]",Et="[object Int8Array]",Rt="[object Int16Array]",Pt="[object Int32Array]",Vt="[object Uint8Array]",Nt="[object Uint8ClampedArray]",kt="[object Uint16Array]",wt="[object Uint32Array]";function Zt(qt,zt,Bt){var sn=qt.constructor;switch(zt){case Ct:return nt(qt);case at:case ct:return new sn(+qt);case ht:return rt(qt,Bt);case mt:case yt:case Et:case Rt:case Pt:case Vt:case Nt:case kt:case wt:return st(qt,Bt);case lt:return new sn;case dt:case pt:return new sn(qt);case ut:return it(qt);case ft:return new sn;case vt:return ot(qt)}}_e.exports=Zt},function(_e,tt,et){var nt=et(120);function rt(it,ot){var st=ot?nt(it.buffer):it.buffer;return new it.constructor(st,it.byteOffset,it.byteLength)}_e.exports=rt},function(_e,tt){var et=/\w*$/;function nt(rt){var it=new rt.constructor(rt.source,et.exec(rt));return it.lastIndex=rt.lastIndex,it}_e.exports=nt},function(_e,tt,et){var nt=et(40),rt=nt?nt.prototype:void 0,it=rt?rt.valueOf:void 0;function ot(st){return it?Object(it.call(st)):{}}_e.exports=ot},function(_e,tt,et){var nt=et(404),rt=et(67),it=et(115),ot=it&&it.isMap,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(42),rt=et(18),it="[object Map]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){var nt=et(406),rt=et(67),it=et(115),ot=it&&it.isSet,st=ot?rt(ot):nt;_e.exports=st},function(_e,tt,et){var nt=et(42),rt=et(18),it="[object Set]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){(function(nt){tt.log=ot,tt.formatArgs=it,tt.save=st,tt.load=at,tt.useColors=rt,tt.storage=lt(),tt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function rt(){var ut=ct("colors");return/^(no|off|false|disabled)$/i.test(ut)?!1:typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:!!(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function it(ut){var ft=this.useColors;if(ut[0]=(ft?"%c":"")+this.namespace+(ft?" %c":" ")+ut[0]+(ft?"%c ":" ")+"+"+_e.exports.humanize(this.diff),!!ft){var pt="color: "+this.color;ut.splice(1,0,pt,"color: inherit");var vt=0,Ct=0;ut[0].replace(/%[a-zA-Z%]/g,function(ht){ht!=="%%"&&(vt++,ht==="%c"&&(Ct=vt))}),ut.splice(Ct,0,pt)}}function ot(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function st(ut){try{ut==null?tt.storage.removeItem("debug"):tt.storage.setItem("debug",ut)}catch{}}function at(){var ut;try{ut=tt.storage.getItem("debug")}catch{}return!ut&&typeof nt<"u"&&"env"in nt&&(ut={}.DEBUG),ut}function ct(ut){var ft="debug_"+ut.toLowerCase();try{return tt.storage.getItem(ft)}catch{return typeof nt<"u"&&"env"in nt?nt.env[ft.toUpperCase()]:void 0}}function lt(){try{return localStorage}catch{}}_e.exports=et(408)(tt);var dt=_e.exports.formatters;dt.j=function(ut){try{return JSON.stringify(ut)}catch(ft){return"[UnexpectedJSONParseError]: "+ft.message}}}).call(this,et(43))},function(_e,tt,et){_e.exports=function(rt){ot.debug=ot.default=ot,ot.coerce=dt,ot.disable=ct,ot.enable=at,ot.enabled=lt,ot.humanize=et(409),Object.keys(rt).forEach(function(ut){ot[ut]=rt[ut]}),ot.instances=[],ot.names=[],ot.skips=[],ot.formatters={};function it(ut){var ft=0,pt;for(pt in ut)ft=(ft<<5)-ft+ut.charCodeAt(pt),ft|=0;return ot.colors[Math.abs(ft)%ot.colors.length]}ot.selectColor=it;function ot(ut){var ft;function pt(){if(pt.enabled){var vt=pt,Ct=+new Date,ht=Ct-(ft||Ct);vt.diff=ht,vt.prev=ft,vt.curr=Ct,ft=Ct;for(var mt=new Array(arguments.length),yt=0;yt<mt.length;yt++)mt[yt]=arguments[yt];mt[0]=ot.coerce(mt[0]),typeof mt[0]!="string"&&mt.unshift("%O");var Et=0;mt[0]=mt[0].replace(/%([a-zA-Z%])/g,function(Pt,Vt){if(Pt==="%%")return Pt;Et++;var Nt=ot.formatters[Vt];if(typeof Nt=="function"){var kt=mt[Et];Pt=Nt.call(vt,kt),mt.splice(Et,1),Et--}return Pt}),ot.formatArgs.call(vt,mt);var Rt=vt.log||ot.log;Rt.apply(vt,mt)}}return pt.namespace=ut,pt.enabled=ot.enabled(ut),pt.useColors=ot.useColors(),pt.color=it(ut),pt.destroy=st,typeof ot.init=="function"&&ot.init(pt),ot.instances.push(pt),pt}function st(){var ut=ot.instances.indexOf(this);return ut!==-1?(ot.instances.splice(ut,1),!0):!1}function at(ut){ot.save(ut),ot.names=[],ot.skips=[];var ft,pt=(typeof ut=="string"?ut:"").split(/[\s,]+/),vt=pt.length;for(ft=0;ft<vt;ft++)pt[ft]&&(ut=pt[ft].replace(/\*/g,".*?"),ut[0]==="-"?ot.skips.push(new RegExp("^"+ut.substr(1)+"$")):ot.names.push(new RegExp("^"+ut+"$")));for(ft=0;ft<ot.instances.length;ft++){var Ct=ot.instances[ft];Ct.enabled=ot.enabled(Ct.namespace)}}function ct(){ot.enable("")}function lt(ut){if(ut[ut.length-1]==="*")return!0;var ft,pt;for(ft=0,pt=ot.skips.length;ft<pt;ft++)if(ot.skips[ft].test(ut))return!1;for(ft=0,pt=ot.names.length;ft<pt;ft++)if(ot.names[ft].test(ut))return!0;return!1}function dt(ut){return ut instanceof Error?ut.stack||ut.message:ut}return ot.enable(ot.load()),ot}},function(_e,tt){var et=1e3,nt=et*60,rt=nt*60,it=rt*24,ot=it*7,st=it*365.25;_e.exports=function(ut,ft){ft=ft||{};var pt=typeof ut;if(pt==="string"&&ut.length>0)return at(ut);if(pt==="number"&&isFinite(ut))return ft.long?lt(ut):ct(ut);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ut))};function at(ut){if(ut=String(ut),!(ut.length>100)){var ft=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ut);if(ft){var pt=parseFloat(ft[1]),vt=(ft[2]||"ms").toLowerCase();switch(vt){case"years":case"year":case"yrs":case"yr":case"y":return pt*st;case"weeks":case"week":case"w":return pt*ot;case"days":case"day":case"d":return pt*it;case"hours":case"hour":case"hrs":case"hr":case"h":return pt*rt;case"minutes":case"minute":case"mins":case"min":case"m":return pt*nt;case"seconds":case"second":case"secs":case"sec":case"s":return pt*et;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return pt;default:return}}}}function ct(ut){var ft=Math.abs(ut);return ft>=it?Math.round(ut/it)+"d":ft>=rt?Math.round(ut/rt)+"h":ft>=nt?Math.round(ut/nt)+"m":ft>=et?Math.round(ut/et)+"s":ut+"ms"}function lt(ut){var ft=Math.abs(ut);return ft>=it?dt(ut,ft,it,"day"):ft>=rt?dt(ut,ft,rt,"hour"):ft>=nt?dt(ut,ft,nt,"minute"):ft>=et?dt(ut,ft,et,"second"):ut+" ms"}function dt(ut,ft,pt,vt){var Ct=ft>=pt*1.5;return Math.round(ut/pt)+" "+vt+(Ct?"s":"")}},function(_e,tt,et){var nt=et(411),rt=et(176),it=et(89),ot=rt?function(st,at){return rt(st,"toString",{configurable:!0,enumerable:!1,value:nt(at),writable:!0})}:it;_e.exports=ot},function(_e,tt){function et(nt){return function(){return nt}}_e.exports=et},function(_e,tt,et){const nt=et(195),rt=new nt;function it(ot,st){if(st===void 0)return ot;rt.has(st)||rt.set(st,new nt);const at=rt.get(st);return at.has(ot)||at.set(ot,ot.bind(st)),at.get(ot)}_e.exports=it},function(_e,tt,et){_e.exports=function(){var nt,rt;if(typeof WeakMap!="function")return!1;try{nt=new WeakMap([[rt={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(nt)!=="[object WeakMap]"||typeof nt.set!="function"||nt.set({},1)!==nt||typeof nt.delete!="function"||typeof nt.has!="function"||nt.get(rt)!=="one")}},function(_e,tt,et){var nt=et(44),rt=et(125),it=et(417),ot=et(32),st=et(418),at=et(33),ct=et(202),lt=et(460),dt=et(45).toStringTag,ut=et(461),ft=Array.isArray,pt=Object.defineProperty,vt=Object.prototype.hasOwnProperty,Ct=Object.getPrototypeOf,ht;_e.exports=ht=function(){var mt=arguments[0],yt;if(!(this instanceof ht))throw new TypeError("Constructor requires 'new'");return yt=ut&&rt&&WeakMap!==ht?rt(new WeakMap,Ct(this)):this,nt(mt)&&(ft(mt)||(mt=ct(mt))),pt(yt,"__weakMapData__",at("c","$weakMap$"+st())),mt&&lt(mt,function(Et){ot(Et),yt.set(Et[0],Et[1])}),yt},ut&&(rt&&rt(ht,WeakMap),ht.prototype=Object.create(WeakMap.prototype,{constructor:at(ht)})),Object.defineProperties(ht.prototype,{delete:at(function(mt){return vt.call(it(mt),this.__weakMapData__)?(delete mt[this.__weakMapData__],!0):!1}),get:at(function(mt){if(vt.call(it(mt),this.__weakMapData__))return mt[this.__weakMapData__]}),has:at(function(mt){return vt.call(it(mt),this.__weakMapData__)}),set:at(function(mt,yt){return pt(it(mt),this.__weakMapData__,at("c",yt)),this}),toString:at(function(){return"[object WeakMap]"})}),pt(ht.prototype,dt,at("c","WeakMap"))},function(_e,tt,et){_e.exports=function(){}},function(_e,tt,et){var nt=Object.create,rt;et(196)()||(rt=et(197)),_e.exports=function(){var it,ot,st;return!rt||rt.level!==1?nt:(it={},ot={},st={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(at){if(at==="__proto__"){ot[at]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}ot[at]=st}),Object.defineProperties(it,ot),Object.defineProperty(rt,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:it}),function(at,ct){return nt(at===null?it:at,ct)})}()},function(_e,tt,et){var nt=et(198);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not an Object");return rt}},function(_e,tt,et){var nt=Object.create(null),rt=Math.random;_e.exports=function(){var it;do it=rt().toString(36).slice(2);while(nt[it]);return it}},function(_e,tt,et){var nt=et(420);_e.exports=function(rt){if(typeof rt!="function"||!hasOwnProperty.call(rt,"length"))return!1;try{if(typeof rt.length!="number"||typeof rt.call!="function"||typeof rt.apply!="function")return!1}catch{return!1}return!nt(rt)}},function(_e,tt,et){var nt=et(126);_e.exports=function(rt){if(!nt(rt))return!1;try{return rt.constructor?rt.constructor.prototype===rt:!1}catch{return!1}}},function(_e,tt,et){_e.exports=function(){var nt=Object.assign,rt;return typeof nt!="function"?!1:(rt={foo:"raz"},nt(rt,{bar:"dwa"},{trzy:"trzy"}),rt.foo+rt.bar+rt.trzy==="razdwatrzy")}},function(_e,tt,et){var nt=et(423),rt=et(32),it=Math.max;_e.exports=function(ot,st){var at,ct,lt=it(arguments.length,2),dt;for(ot=Object(rt(ot)),dt=function(ut){try{ot[ut]=st[ut]}catch(ft){at||(at=ft)}},ct=1;ct<lt;++ct)st=arguments[ct],nt(st).forEach(dt);if(at!==void 0)throw at;return ot}},function(_e,tt,et){_e.exports=et(424)()?Object.keys:et(425)},function(_e,tt,et){_e.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(_e,tt,et){var nt=et(44),rt=Object.keys;_e.exports=function(it){return rt(nt(it)?Object(it):it)}},function(_e,tt,et){var nt="razdwatrzy";_e.exports=function(){return typeof nt.contains!="function"?!1:nt.contains("dwa")===!0&&nt.contains("foo")===!1}},function(_e,tt,et){var nt=String.prototype.indexOf;_e.exports=function(rt){return nt.call(this,rt,arguments[1])>-1}},function(_e,tt,et){var nt=et(125),rt=et(201),it=et(33),ot=et(45),st=et(204),at=Object.defineProperty,ct;ct=_e.exports=function(lt,dt){if(!(this instanceof ct))throw new TypeError("Constructor requires 'new'");st.call(this,lt),dt?rt.call(dt,"key+value")?dt="key+value":rt.call(dt,"key")?dt="key":dt="value":dt="value",at(this,"__kind__",it("",dt))},nt&&nt(ct,st),delete ct.prototype.constructor,ct.prototype=Object.create(st.prototype,{_resolve:it(function(lt){return this.__kind__==="value"?this.__list__[lt]:this.__kind__==="key+value"?[lt,this.__list__[lt]]:lt})}),at(ct.prototype,ot.toStringTag,it("c","Array Iterator"))},function(_e,tt,et){var nt=et(92),rt={object:!0,symbol:!0};_e.exports=function(){var it=nt.Symbol,ot;if(typeof it!="function")return!1;ot=it("test symbol");try{String(ot)}catch{return!1}return!(!rt[typeof it.iterator]||!rt[typeof it.toPrimitive]||!rt[typeof it.toStringTag])}},function(_e,tt,et){_e.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},function(_e,tt){var et=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};_e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return et()}try{return __global__||et()}finally{delete Object.prototype.__global__}}()},function(_e,tt,et){var nt=et(33),rt=et(203),it=et(92).Symbol,ot=et(434),st=et(435),at=et(436),ct=Object.create,lt=Object.defineProperties,dt=Object.defineProperty,ut,ft,pt;if(typeof it=="function")try{String(it()),pt=!0}catch{}else it=null;ft=function(Ct){if(this instanceof ft)throw new TypeError("Symbol is not a constructor");return ut(Ct)},_e.exports=ut=function vt(Ct){var ht;if(this instanceof vt)throw new TypeError("Symbol is not a constructor");return pt?it(Ct):(ht=ct(ft.prototype),Ct=Ct===void 0?"":String(Ct),lt(ht,{__description__:nt("",Ct),__name__:nt("",ot(Ct))}))},st(ut),at(ut),lt(ft.prototype,{constructor:nt(ut),toString:nt("",function(){return this.__name__})}),lt(ut.prototype,{toString:nt(function(){return"Symbol ("+rt(this).__description__+")"}),valueOf:nt(function(){return rt(this)})}),dt(ut.prototype,ut.toPrimitive,nt("",function(){var vt=rt(this);return typeof vt=="symbol"?vt:vt.toString()})),dt(ut.prototype,ut.toStringTag,nt("c","Symbol")),dt(ft.prototype,ut.toStringTag,nt("c",ut.prototype[ut.toStringTag])),dt(ft.prototype,ut.toPrimitive,nt("c",ut.prototype[ut.toPrimitive]))},function(_e,tt,et){_e.exports=function(nt){return nt?typeof nt=="symbol"?!0:!nt.constructor||nt.constructor.name!=="Symbol"?!1:nt[nt.constructor.toStringTag]==="Symbol":!1}},function(_e,tt,et){var nt=et(33),rt=Object.create,it=Object.defineProperty,ot=Object.prototype,st=rt(null);_e.exports=function(at){for(var ct=0,lt,dt;st[at+(ct||"")];)++ct;return at+=ct||"",st[at]=!0,lt="@@"+at,it(ot,lt,nt.gs(null,function(ut){dt||(dt=!0,it(this,lt,nt(ut)),dt=!1)})),lt}},function(_e,tt,et){var nt=et(33),rt=et(92).Symbol;_e.exports=function(it){return Object.defineProperties(it,{hasInstance:nt("",rt&&rt.hasInstance||it("hasInstance")),isConcatSpreadable:nt("",rt&&rt.isConcatSpreadable||it("isConcatSpreadable")),iterator:nt("",rt&&rt.iterator||it("iterator")),match:nt("",rt&&rt.match||it("match")),replace:nt("",rt&&rt.replace||it("replace")),search:nt("",rt&&rt.search||it("search")),species:nt("",rt&&rt.species||it("species")),split:nt("",rt&&rt.split||it("split")),toPrimitive:nt("",rt&&rt.toPrimitive||it("toPrimitive")),toStringTag:nt("",rt&&rt.toStringTag||it("toStringTag")),unscopables:nt("",rt&&rt.unscopables||it("unscopables"))})}},function(_e,tt,et){var nt=et(33),rt=et(203),it=Object.create(null);_e.exports=function(ot){return Object.defineProperties(ot,{for:nt(function(st){return it[st]?it[st]:it[st]=ot(String(st))}),keyFor:nt(function(st){var at;rt(st);for(at in it)if(it[at]===st)return at})})}},function(_e,tt,et){var nt=et(32);_e.exports=function(){return nt(this).length=0,this}},function(_e,tt,et){var nt=et(56),rt=et(439),it=et(443),ot=et(444),st=et(200),at=et(454),ct=Function.prototype.bind,lt=Object.defineProperty,dt=Object.prototype.hasOwnProperty,ut;ut=function(ft,pt,vt){var Ct=rt(pt)&&it(pt.value),ht;return ht=ot(pt),delete ht.writable,delete ht.value,ht.get=function(){return!vt.overwriteDefinition&&dt.call(this,ft)?Ct:(pt.value=ct.call(Ct,vt.resolveContext?vt.resolveContext(this):this),lt(this,ft,pt),this[ft])},ht},_e.exports=function(ft){var pt=st(arguments[1]);return nt(pt.resolveContext)&&it(pt.resolveContext),at(ft,function(vt,Ct){return ut(Ct,vt,pt)})}},function(_e,tt,et){var nt=et(205),rt=et(56);_e.exports=function(it){return rt(it)?it:nt(it,"Cannot use %v",arguments[1])}},function(_e,tt,et){var nt=et(56),rt=et(126),it=Object.prototype.toString;_e.exports=function(ot){if(!nt(ot))return null;if(rt(ot)){var st=ot.toString;if(typeof st!="function"||st===it)return null}try{return""+ot}catch{return null}}},function(_e,tt,et){var nt=et(442),rt=/[\n\r\u2028\u2029]/g;_e.exports=function(it){var ot=nt(it);return ot===null?"<Non-coercible to string value>":(ot.length>100&&(ot=ot.slice(0,99)+""),ot=ot.replace(rt,function(st){switch(st){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),ot)}},function(_e,tt,et){_e.exports=function(nt){try{return nt.toString()}catch{try{return String(nt)}catch{return null}}}},function(_e,tt,et){var nt=et(205),rt=et(199);_e.exports=function(it){return rt(it)?it:nt(it,"%v is not a plain function",arguments[1])}},function(_e,tt,et){var nt=et(445),rt=et(127),it=et(32);_e.exports=function(ot){var st=Object(it(ot)),at=arguments[1],ct=Object(arguments[2]);if(st!==ot&&!at)return st;var lt={};return at?nt(at,function(dt){(ct.ensure||dt in ot)&&(lt[dt]=ot[dt])}):rt(lt,ot),lt}},function(_e,tt,et){_e.exports=et(446)()?Array.from:et(447)},function(_e,tt,et){_e.exports=function(){var nt=Array.from,rt,it;return typeof nt!="function"?!1:(rt=["raz","dwa"],it=nt(rt),!!(it&&it!==rt&&it[1]==="dwa"))}},function(_e,tt,et){var nt=et(45).iterator,rt=et(90),it=et(448),ot=et(449),st=et(69),at=et(32),ct=et(44),lt=et(91),dt=Array.isArray,ut=Function.prototype.call,ft={configurable:!0,enumerable:!0,writable:!0,value:null},pt=Object.defineProperty;_e.exports=function(vt){var Ct=arguments[1],ht=arguments[2],mt,yt,Et,Rt,Pt,Vt,Nt,kt,wt,Zt;if(vt=Object(at(vt)),ct(Ct)&&st(Ct),!this||this===Array||!it(this)){if(!Ct){if(rt(vt))return Pt=vt.length,Pt!==1?Array.apply(null,vt):(Rt=new Array(1),Rt[0]=vt[0],Rt);if(dt(vt)){for(Rt=new Array(Pt=vt.length),yt=0;yt<Pt;++yt)Rt[yt]=vt[yt];return Rt}}Rt=[]}else mt=this;if(!dt(vt)){if((wt=vt[nt])!==void 0){for(Nt=st(wt).call(vt),mt&&(Rt=new mt),kt=Nt.next(),yt=0;!kt.done;)Zt=Ct?ut.call(Ct,ht,kt.value,yt):kt.value,mt?(ft.value=Zt,pt(Rt,yt,ft)):Rt[yt]=Zt,kt=Nt.next(),++yt;Pt=yt}else if(lt(vt)){for(Pt=vt.length,mt&&(Rt=new mt),yt=0,Et=0;yt<Pt;++yt)Zt=vt[yt],yt+1<Pt&&(Vt=Zt.charCodeAt(0),Vt>=55296&&Vt<=56319&&(Zt+=vt[++yt])),Zt=Ct?ut.call(Ct,ht,Zt,Et):Zt,mt?(ft.value=Zt,pt(Rt,Et,ft)):Rt[Et]=Zt,++Et;Pt=Et}}if(Pt===void 0)for(Pt=ot(vt.length),mt&&(Rt=new mt(Pt)),yt=0;yt<Pt;++yt)Zt=Ct?ut.call(Ct,ht,vt[yt],yt):vt[yt],mt?(ft.value=Zt,pt(Rt,yt,ft)):Rt[yt]=Zt;return mt&&(ft.value=null,Rt.length=Pt),Rt}},function(_e,tt,et){var nt=Object.prototype.toString,rt=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);_e.exports=function(it){return typeof it=="function"&&rt(nt.call(it))}},function(_e,tt,et){var nt=et(450),rt=Math.max;_e.exports=function(it){return rt(0,nt(it))}},function(_e,tt,et){var nt=et(451),rt=Math.abs,it=Math.floor;_e.exports=function(ot){return isNaN(ot)?0:(ot=Number(ot),ot===0||!isFinite(ot)?ot:nt(ot)*it(rt(ot)))}},function(_e,tt,et){_e.exports=et(452)()?Math.sign:et(453)},function(_e,tt,et){_e.exports=function(){var nt=Math.sign;return typeof nt!="function"?!1:nt(10)===1&&nt(-20)===-1}},function(_e,tt,et){_e.exports=function(nt){return nt=Number(nt),isNaN(nt)||nt===0?nt:nt>0?1:-1}},function(_e,tt,et){var nt=et(69),rt=et(455),it=Function.prototype.call;_e.exports=function(ot,st){var at={},ct=arguments[2];return nt(st),rt(ot,function(lt,dt,ut,ft){at[dt]=it.call(st,ct,lt,dt,ut,ft)}),at}},function(_e,tt,et){_e.exports=et(456)("forEach")},function(_e,tt,et){var nt=et(69),rt=et(32),it=Function.prototype.bind,ot=Function.prototype.call,st=Object.keys,at=Object.prototype.propertyIsEnumerable;_e.exports=function(ct,lt){return function(dt,ut){var ft,pt=arguments[2],vt=arguments[3];return dt=Object(rt(dt)),nt(ut),ft=st(dt),vt&&ft.sort(typeof vt=="function"?it.call(vt,dt):void 0),typeof ct!="function"&&(ct=ft[ct]),ot.call(ct,ft,function(Ct,ht){return at.call(dt,Ct)?ot.call(ut,pt,dt[Ct],Ct,dt,ht):lt})}}},function(_e,tt,et){var nt=et(125),rt=et(33),it=et(45),ot=et(204),st=Object.defineProperty,at;at=_e.exports=function(ct){if(!(this instanceof at))throw new TypeError("Constructor requires 'new'");ct=String(ct),ot.call(this,ct),st(this,"__length__",rt("",ct.length))},nt&&nt(at,ot),delete at.prototype.constructor,at.prototype=Object.create(ot.prototype,{_next:rt(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:rt(function(ct){var lt=this.__list__[ct],dt;return this.__nextIndex__===this.__length__?lt:(dt=lt.charCodeAt(0),dt>=55296&&dt<=56319?lt+this.__list__[this.__nextIndex__++]:lt)})}),st(at.prototype,it.toStringTag,rt("c","String Iterator"))},function(_e,tt,et){var nt=et(459);_e.exports=function(rt){if(!nt(rt))throw new TypeError(rt+" is not iterable");return rt}},function(_e,tt,et){var nt=et(90),rt=et(44),it=et(91),ot=et(45).iterator,st=Array.isArray;_e.exports=function(at){return rt(at)?st(at)||it(at)||nt(at)?!0:typeof at[ot]=="function":!1}},function(_e,tt,et){var nt=et(90),rt=et(69),it=et(91),ot=et(202),st=Array.isArray,at=Function.prototype.call,ct=Array.prototype.some;_e.exports=function(lt,dt){var ut,ft=arguments[2],pt,vt,Ct,ht,mt,yt,Et;if(st(lt)||nt(lt)?ut="array":it(lt)?ut="string":lt=ot(lt),rt(dt),vt=function(){Ct=!0},ut==="array"){ct.call(lt,function(Rt){return at.call(dt,ft,Rt,vt),Ct});return}if(ut==="string"){for(mt=lt.length,ht=0;ht<mt&&(yt=lt[ht],ht+1<mt&&(Et=yt.charCodeAt(0),Et>=55296&&Et<=56319&&(yt+=lt[++ht])),at.call(dt,ft,yt,vt),!Ct);++ht);return}for(pt=lt.next();!pt.done;){if(at.call(dt,ft,pt.value,vt),Ct)return;pt=lt.next()}}},function(_e,tt,et){_e.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},function(_e,tt,et){var nt=et(93),rt=et(94),it=et(130),ot=et(34),st=et(67),at=et(95),ct=Math.min;function lt(dt,ut,ft){for(var pt=ft?it:rt,vt=dt[0].length,Ct=dt.length,ht=Ct,mt=Array(Ct),yt=1/0,Et=[];ht--;){var Rt=dt[ht];ht&&ut&&(Rt=ot(Rt,st(ut))),yt=ct(Rt.length,yt),mt[ht]=!ft&&(ut||vt>=120&&Rt.length>=120)?new nt(ht&&Rt):void 0}Rt=dt[0];var Pt=-1,Vt=mt[0];e:for(;++Pt<vt&&Et.length<yt;){var Nt=Rt[Pt],kt=ut?ut(Nt):Nt;if(Nt=ft||Nt!==0?Nt:0,!(Vt?at(Vt,kt):pt(Et,kt,ft))){for(ht=Ct;--ht;){var wt=mt[ht];if(!(wt?at(wt,kt):pt(dt[ht],kt,ft)))continue e}Vt&&Vt.push(kt),Et.push(Nt)}}return Et}_e.exports=lt},function(_e,tt){var et="__lodash_hash_undefined__";function nt(rt){return this.__data__.set(rt,et),this}_e.exports=nt},function(_e,tt){function et(nt){return this.__data__.has(nt)}_e.exports=et},function(_e,tt,et){var nt=et(206),rt=et(466),it=et(467);function ot(st,at,ct){return at===at?it(st,at,ct):nt(st,rt,ct)}_e.exports=ot},function(_e,tt){function et(nt){return nt!==nt}_e.exports=et},function(_e,tt){function et(nt,rt,it){for(var ot=it-1,st=nt.length;++ot<st;)if(nt[ot]===rt)return ot;return-1}_e.exports=et},function(_e,tt,et){var nt=et(131);function rt(it){return nt(it)?it:[]}_e.exports=rt},function(_e,tt,et){(function(nt){var rt=et(19),it=et(208),ot=et(470),st=et(214),at=et(132);function ct(dt){var ut=new ot(dt),ft=it(ot.prototype.request,ut);return rt.extend(ft,ot.prototype,ut),rt.extend(ft,ut),ft}var lt=ct(at);lt.Axios=ot,lt.create=function(ut){return ct(st(lt.defaults,ut))},lt.Cancel=et(215),lt.CancelToken=et(484),lt.isCancel=et(213),lt.all=function(ut){return nt.all(ut)},lt.spread=et(485),lt.isAxiosError=et(486),_e.exports=lt,_e.exports.default=lt}).call(this,et(2))},function(_e,tt,et){(function(nt){var rt=et(19),it=et(209),ot=et(471),st=et(472),at=et(214),ct=et(482),lt=ct.validators;function dt(ut){this.defaults=ut,this.interceptors={request:new ot,response:new ot}}dt.prototype.request=function(ft){typeof ft=="string"?(ft=arguments[1]||{},ft.url=arguments[0]):ft=ft||{},ft=at(this.defaults,ft),ft.method?ft.method=ft.method.toLowerCase():this.defaults.method?ft.method=this.defaults.method.toLowerCase():ft.method="get";var pt=ft.transitional;pt!==void 0&&ct.assertOptions(pt,{silentJSONParsing:lt.transitional(lt.boolean,"1.0.0"),forcedJSONParsing:lt.transitional(lt.boolean,"1.0.0"),clarifyTimeoutError:lt.transitional(lt.boolean,"1.0.0")},!1);var vt=[],Ct=!0;this.interceptors.request.forEach(function(Nt){typeof Nt.runWhen=="function"&&Nt.runWhen(ft)===!1||(Ct=Ct&&Nt.synchronous,vt.unshift(Nt.fulfilled,Nt.rejected))});var ht=[];this.interceptors.response.forEach(function(Nt){ht.push(Nt.fulfilled,Nt.rejected)});var mt;if(!Ct){var yt=[st,void 0];for(Array.prototype.unshift.apply(yt,vt),yt=yt.concat(ht),mt=nt.resolve(ft);yt.length;)mt=mt.then(yt.shift(),yt.shift());return mt}for(var Et=ft;vt.length;){var Rt=vt.shift(),Pt=vt.shift();try{Et=Rt(Et)}catch(Vt){Pt(Vt);break}}try{mt=st(Et)}catch(Vt){return nt.reject(Vt)}for(;ht.length;)mt=mt.then(ht.shift(),ht.shift());return mt},dt.prototype.getUri=function(ft){return ft=at(this.defaults,ft),it(ft.url,ft.params,ft.paramsSerializer).replace(/^\?/,"")},rt.forEach(["delete","get","head","options"],function(ft){dt.prototype[ft]=function(pt,vt){return this.request(at(vt||{},{method:ft,url:pt,data:(vt||{}).data}))}}),rt.forEach(["post","put","patch"],function(ft){dt.prototype[ft]=function(pt,vt,Ct){return this.request(at(Ct||{},{method:ft,url:pt,data:vt}))}}),_e.exports=dt}).call(this,et(2))},function(_e,tt,et){var nt=et(19);function rt(){this.handlers=[]}rt.prototype.use=function(ot,st,at){return this.handlers.push({fulfilled:ot,rejected:st,synchronous:at?at.synchronous:!1,runWhen:at?at.runWhen:null}),this.handlers.length-1},rt.prototype.eject=function(ot){this.handlers[ot]&&(this.handlers[ot]=null)},rt.prototype.forEach=function(ot){nt.forEach(this.handlers,function(at){at!==null&&ot(at)})},_e.exports=rt},function(_e,tt,et){(function(nt){var rt=et(19),it=et(473),ot=et(213),st=et(132);function at(ct){ct.cancelToken&&ct.cancelToken.throwIfRequested()}_e.exports=function(lt){at(lt),lt.headers=lt.headers||{},lt.data=it.call(lt,lt.data,lt.headers,lt.transformRequest),lt.headers=rt.merge(lt.headers.common||{},lt.headers[lt.method]||{},lt.headers),rt.forEach(["delete","get","head","post","put","patch","common"],function(ft){delete lt.headers[ft]});var dt=lt.adapter||st.adapter;return dt(lt).then(function(ft){return at(lt),ft.data=it.call(lt,ft.data,ft.headers,lt.transformResponse),ft},function(ft){return ot(ft)||(at(lt),ft&&ft.response&&(ft.response.data=it.call(lt,ft.response.data,ft.response.headers,lt.transformResponse))),nt.reject(ft)})}}).call(this,et(2))},function(_e,tt,et){var nt=et(19),rt=et(132);_e.exports=function(ot,st,at){var ct=this||rt;return nt.forEach(at,function(dt){ot=dt.call(ct,ot,st)}),ot}},function(_e,tt,et){var nt=et(19);_e.exports=function(it,ot){nt.forEach(it,function(at,ct){ct!==ot&&ct.toUpperCase()===ot.toUpperCase()&&(it[ot]=at,delete it[ct])})}},function(_e,tt,et){var nt=et(212);_e.exports=function(it,ot,st){var at=st.config.validateStatus;!st.status||!at||at(st.status)?it(st):ot(nt("Request failed with status code "+st.status,st.config,null,st.request,st))}},function(_e,tt,et){var nt=et(19);_e.exports=nt.isStandardBrowserEnv()?function(){return{write:function(ot,st,at,ct,lt,dt){var ut=[];ut.push(ot+"="+encodeURIComponent(st)),nt.isNumber(at)&&ut.push("expires="+new Date(at).toGMTString()),nt.isString(ct)&&ut.push("path="+ct),nt.isString(lt)&&ut.push("domain="+lt),dt===!0&&ut.push("secure"),document.cookie=ut.join("; ")},read:function(ot){var st=document.cookie.match(new RegExp("(^|;\\s*)("+ot+")=([^;]*)"));return st?decodeURIComponent(st[3]):null},remove:function(ot){this.write(ot,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(_e,tt,et){var nt=et(478),rt=et(479);_e.exports=function(ot,st){return ot&&!nt(st)?rt(ot,st):st}},function(_e,tt,et){_e.exports=function(rt){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(rt)}},function(_e,tt,et){_e.exports=function(rt,it){return it?rt.replace(/\/+$/,"")+"/"+it.replace(/^\/+/,""):rt}},function(_e,tt,et){var nt=et(19),rt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];_e.exports=function(ot){var st={},at,ct,lt;return ot&&nt.forEach(ot.split(`
`),function(ut){if(lt=ut.indexOf(":"),at=nt.trim(ut.substr(0,lt)).toLowerCase(),ct=nt.trim(ut.substr(lt+1)),at){if(st[at]&&rt.indexOf(at)>=0)return;at==="set-cookie"?st[at]=(st[at]?st[at]:[]).concat([ct]):st[at]=st[at]?st[at]+", "+ct:ct}}),st}},function(_e,tt,et){var nt=et(19);_e.exports=nt.isStandardBrowserEnv()?function(){var it=/(msie|trident)/i.test(navigator.userAgent),ot=document.createElement("a"),st;function at(ct){var lt=ct;return it&&(ot.setAttribute("href",lt),lt=ot.href),ot.setAttribute("href",lt),{href:ot.href,protocol:ot.protocol?ot.protocol.replace(/:$/,""):"",host:ot.host,search:ot.search?ot.search.replace(/^\?/,""):"",hash:ot.hash?ot.hash.replace(/^#/,""):"",hostname:ot.hostname,port:ot.port,pathname:ot.pathname.charAt(0)==="/"?ot.pathname:"/"+ot.pathname}}return st=at(window.location.href),function(lt){var dt=nt.isString(lt)?at(lt):lt;return dt.protocol===st.protocol&&dt.host===st.host}}():function(){return function(){return!0}}()},function(_e,tt,et){var nt=et(483),rt={};["object","boolean","number","function","string","symbol"].forEach(function(ct,lt){rt[ct]=function(ut){return typeof ut===ct||"a"+(lt<1?"n ":" ")+ct}});var it={},ot=nt.version.split(".");function st(ct,lt){for(var dt=lt?lt.split("."):ot,ut=ct.split("."),ft=0;ft<3;ft++){if(dt[ft]>ut[ft])return!0;if(dt[ft]<ut[ft])return!1}return!1}rt.transitional=function(lt,dt,ut){var ft=dt&&st(dt);function pt(vt,Ct){return"[Axios v"+nt.version+"] Transitional option '"+vt+"'"+Ct+(ut?". "+ut:"")}return function(vt,Ct,ht){if(lt===!1)throw new Error(pt(Ct," has been removed in "+dt));return ft&&!it[Ct]&&(it[Ct]=!0,console.warn(pt(Ct," has been deprecated since v"+dt+" and will be removed in the near future"))),lt?lt(vt,Ct,ht):!0}};function at(ct,lt,dt){if(typeof ct!="object")throw new TypeError("options must be an object");for(var ut=Object.keys(ct),ft=ut.length;ft-- >0;){var pt=ut[ft],vt=lt[pt];if(vt){var Ct=ct[pt],ht=Ct===void 0||vt(Ct,pt,ct);if(ht!==!0)throw new TypeError("option "+pt+" must be "+ht);continue}if(dt!==!0)throw Error("Unknown option "+pt)}}_e.exports={isOlderVersion:st,assertOptions:at,validators:rt}},function(_e){_e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(_e,tt,et){(function(nt){var rt=et(215);function it(ot){if(typeof ot!="function")throw new TypeError("executor must be a function.");var st;this.promise=new nt(function(lt){st=lt});var at=this;ot(function(lt){at.reason||(at.reason=new rt(lt),st(at.reason))})}it.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},it.source=function(){var st,at=new it(function(lt){st=lt});return{token:at,cancel:st}},_e.exports=it}).call(this,et(2))},function(_e,tt,et){_e.exports=function(rt){return function(ot){return rt.apply(null,ot)}}},function(_e,tt,et){_e.exports=function(rt){return typeof rt=="object"&&rt.isAxiosError===!0}},function(_e,tt,et){var nt=et(216),rt=nt("pick",et(48));rt.placeholder=et(133),_e.exports=rt},function(_e,tt,et){var nt=et(489),rt=et(133),it=Array.prototype.push;function ot(ft,pt){return pt==2?function(vt,Ct){return ft.apply(void 0,arguments)}:function(vt){return ft.apply(void 0,arguments)}}function st(ft,pt){return pt==2?function(vt,Ct){return ft(vt,Ct)}:function(vt){return ft(vt)}}function at(ft){for(var pt=ft?ft.length:0,vt=Array(pt);pt--;)vt[pt]=ft[pt];return vt}function ct(ft){return function(pt){return ft({},pt)}}function lt(ft,pt){return function(){for(var vt=arguments.length,Ct=vt-1,ht=Array(vt);vt--;)ht[vt]=arguments[vt];var mt=ht[pt],yt=ht.slice(0,pt);return mt&&it.apply(yt,mt),pt!=Ct&&it.apply(yt,ht.slice(pt+1)),ft.apply(this,yt)}}function dt(ft,pt){return function(){var vt=arguments.length;if(vt){for(var Ct=Array(vt);vt--;)Ct[vt]=arguments[vt];var ht=Ct[0]=pt.apply(void 0,Ct);return ft.apply(void 0,Ct),ht}}}function ut(ft,pt,vt,Ct){var ht=typeof pt=="function",mt=pt===Object(pt);if(mt&&(Ct=vt,vt=pt,pt=void 0),vt==null)throw new TypeError;Ct||(Ct={});var yt={cap:"cap"in Ct?Ct.cap:!0,curry:"curry"in Ct?Ct.curry:!0,fixed:"fixed"in Ct?Ct.fixed:!0,immutable:"immutable"in Ct?Ct.immutable:!0,rearg:"rearg"in Ct?Ct.rearg:!0},Et=ht?vt:rt,Rt="curry"in Ct&&Ct.curry,Pt="fixed"in Ct&&Ct.fixed,Vt="rearg"in Ct&&Ct.rearg,Nt=ht?vt.runInContext():void 0,kt=ht?vt:{ary:ft.ary,assign:ft.assign,clone:ft.clone,curry:ft.curry,forEach:ft.forEach,isArray:ft.isArray,isError:ft.isError,isFunction:ft.isFunction,isWeakMap:ft.isWeakMap,iteratee:ft.iteratee,keys:ft.keys,rearg:ft.rearg,toInteger:ft.toInteger,toPath:ft.toPath},wt=kt.ary,Zt=kt.assign,qt=kt.clone,zt=kt.curry,Bt=kt.forEach,sn=kt.isArray,mn=kt.isError,En=kt.isFunction,cn=kt.isWeakMap,xn=kt.keys,bn=kt.rearg,gn=kt.toInteger,vn=kt.toPath,Wn=xn(nt.aryMethod),Un={castArray:function(Nr){return function(){var br=arguments[0];return sn(br)?Nr(at(br)):Nr.apply(void 0,arguments)}},iteratee:function(Nr){return function(){var br=arguments[0],zn=arguments[1],Qn=Nr(br,zn),cr=Qn.length;return yt.cap&&typeof zn=="number"?(zn=zn>2?zn-2:1,cr&&cr<=zn?Qn:st(Qn,zn)):Qn}},mixin:function(Nr){return function(br){var zn=this;if(!En(zn))return Nr(zn,Object(br));var Qn=[];return Bt(xn(br),function(cr){En(br[cr])&&Qn.push([cr,zn.prototype[cr]])}),Nr(zn,Object(br)),Bt(Qn,function(cr){var qr=cr[1];En(qr)?zn.prototype[cr[0]]=qr:delete zn.prototype[cr[0]]}),zn}},nthArg:function(Nr){return function(br){var zn=br<0?1:gn(br)+1;return zt(Nr(br),zn)}},rearg:function(Nr){return function(br,zn){var Qn=zn?zn.length:0;return zt(Nr(br,zn),Qn)}},runInContext:function(Nr){return function(br){return ut(ft,Nr(br),Ct)}}};function Sn(Nr,br){if(yt.cap){var zn=nt.iterateeRearg[Nr];if(zn)return Er(br,zn);var Qn=!ht&&nt.iterateeAry[Nr];if(Qn)return Ir(br,Qn)}return br}function On(Nr,br,zn){return Rt||yt.curry&&zn>1?zt(br,zn):br}function Ln(Nr,br,zn){if(yt.fixed&&(Pt||!nt.skipFixed[Nr])){var Qn=nt.methodSpread[Nr],cr=Qn&&Qn.start;return cr===void 0?wt(br,zn):lt(br,cr)}return br}function Jn(Nr,br,zn){return yt.rearg&&zn>1&&(Vt||!nt.skipRearg[Nr])?bn(br,nt.methodRearg[Nr]||nt.aryRearg[zn]):br}function ur(Nr,br){br=vn(br);for(var zn=-1,Qn=br.length,cr=Qn-1,qr=qt(Object(Nr)),To=qr;To!=null&&++zn<Qn;){var dr=br[zn],Lr=To[dr];Lr!=null&&!(En(Lr)||mn(Lr)||cn(Lr))&&(To[dr]=qt(zn==cr?Lr:Object(Lr))),To=To[dr]}return qr}function sr(Nr){return to.runInContext.convert(Nr)(void 0)}function pr(Nr,br){var zn=nt.aliasToReal[Nr]||Nr,Qn=nt.remap[zn]||zn,cr=Ct;return function(qr){var To=ht?Nt:kt,dr=ht?Nt[Qn]:br,Lr=Zt(Zt({},cr),qr);return ut(To,zn,dr,Lr)}}function Ir(Nr,br){return Kr(Nr,function(zn){return typeof zn=="function"?st(zn,br):zn})}function Er(Nr,br){return Kr(Nr,function(zn){var Qn=br.length;return ot(bn(st(zn,Qn),br),Qn)})}function Kr(Nr,br){return function(){var zn=arguments.length;if(!zn)return Nr();for(var Qn=Array(zn);zn--;)Qn[zn]=arguments[zn];var cr=yt.rearg?0:zn-1;return Qn[cr]=br(Qn[cr]),Nr.apply(void 0,Qn)}}function Dr(Nr,br,zn){var Qn,cr=nt.aliasToReal[Nr]||Nr,qr=br,To=Un[cr];return To?qr=To(br):yt.immutable&&(nt.mutate.array[cr]?qr=dt(br,at):nt.mutate.object[cr]?qr=dt(br,ct(br)):nt.mutate.set[cr]&&(qr=dt(br,ur))),Bt(Wn,function(dr){return Bt(nt.aryMethod[dr],function(Lr){if(cr==Lr){var Yr=nt.methodSpread[cr],yo=Yr&&Yr.afterRearg;return Qn=yo?Ln(cr,Jn(cr,qr,dr),dr):Jn(cr,Ln(cr,qr,dr),dr),Qn=Sn(cr,Qn),Qn=On(cr,Qn,dr),!1}}),!Qn}),Qn||(Qn=qr),Qn==br&&(Qn=Rt?zt(Qn,1):function(){return br.apply(this,arguments)}),Qn.convert=pr(cr,br),Qn.placeholder=br.placeholder=zn,Qn}if(!mt)return Dr(pt,vt,Et);var to=vt,po=[];return Bt(Wn,function(Nr){Bt(nt.aryMethod[Nr],function(br){var zn=to[nt.remap[br]||br];zn&&po.push([br,Dr(br,zn,to)])})}),Bt(xn(to),function(Nr){var br=to[Nr];if(typeof br=="function"){for(var zn=po.length;zn--;)if(po[zn][0]==Nr)return;br.convert=pr(Nr,br),po.push([Nr,br])}}),Bt(po,function(Nr){to[Nr[0]]=Nr[1]}),to.convert=sr,to.placeholder=to,Bt(xn(to),function(Nr){Bt(nt.realToAlias[Nr]||[],function(br){to[br]=to[Nr]})}),to}_e.exports=ut},function(_e,tt){tt.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},tt.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},tt.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},tt.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},tt.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},tt.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},tt.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},tt.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},tt.realToAlias=function(){var et=Object.prototype.hasOwnProperty,nt=tt.aliasToReal,rt={};for(var it in nt){var ot=nt[it];et.call(rt,ot)?rt[ot].push(it):rt[ot]=[it]}return rt}(),tt.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},tt.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},tt.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(_e,tt,et){_e.exports={ary:et(491),assign:et(177),clone:et(38),curry:et(509),forEach:et(113),isArray:et(12),isError:et(510),isFunction:et(17),isWeakMap:et(511),iteratee:et(512),keys:et(116),rearg:et(527),toInteger:et(97),toPath:et(530)}},function(_e,tt,et){var nt=et(134),rt=128;function it(ot,st,at){return st=at?void 0:st,st=ot&&st==null?ot.length:st,nt(ot,rt,void 0,void 0,void 0,void 0,st)}_e.exports=it},function(_e,tt,et){var nt=et(96),rt=et(15),it=1;function ot(st,at,ct){var lt=at&it,dt=nt(st);function ut(){var ft=this&&this!==rt&&this instanceof ut?dt:st;return ft.apply(lt?ct:this,arguments)}return ut}_e.exports=ot},function(_e,tt,et){var nt=et(122),rt=et(96),it=et(219),ot=et(222),st=et(228),at=et(137),ct=et(15);function lt(dt,ut,ft){var pt=rt(dt);function vt(){for(var Ct=arguments.length,ht=Array(Ct),mt=Ct,yt=st(vt);mt--;)ht[mt]=arguments[mt];var Et=Ct<3&&ht[0]!==yt&&ht[Ct-1]!==yt?[]:at(ht,yt);if(Ct-=Et.length,Ct<ft)return ot(dt,ut,it,vt.placeholder,void 0,ht,Et,void 0,void 0,ft-Ct);var Rt=this&&this!==ct&&this instanceof vt?pt:dt;return nt(Rt,this,ht)}return vt}_e.exports=lt},function(_e,tt){function et(nt,rt){for(var it=nt.length,ot=0;it--;)nt[it]===rt&&++ot;return ot}_e.exports=et},function(_e,tt,et){var nt=et(135),rt=et(223),it=et(496),ot=et(498);function st(at){var ct=it(at),lt=ot[ct];if(typeof lt!="function"||!(ct in nt.prototype))return!1;if(at===lt)return!0;var dt=rt(lt);return!!dt&&at===dt[0]}_e.exports=st},function(_e,tt,et){var nt=et(497),rt=Object.prototype,it=rt.hasOwnProperty;function ot(st){for(var at=st.name+"",ct=nt[at],lt=it.call(nt,at)?ct.length:0;lt--;){var dt=ct[lt],ut=dt.func;if(ut==null||ut==st)return dt.name}return at}_e.exports=ot},function(_e,tt){var et={};_e.exports=et},function(_e,tt,et){var nt=et(135),rt=et(225),it=et(136),ot=et(12),st=et(18),at=et(499),ct=Object.prototype,lt=ct.hasOwnProperty;function dt(ut){if(st(ut)&&!ot(ut)&&!(ut instanceof nt)){if(ut instanceof rt)return ut;if(lt.call(ut,"__wrapped__"))return at(ut)}return new rt(ut)}dt.prototype=it.prototype,dt.prototype.constructor=dt,_e.exports=dt},function(_e,tt,et){var nt=et(135),rt=et(225),it=et(55);function ot(st){if(st instanceof nt)return st.clone();var at=new rt(st.__wrapped__,st.__chain__);return at.__actions__=it(st.__actions__),at.__index__=st.__index__,at.__values__=st.__values__,at}_e.exports=ot},function(_e,tt){var et=/\{\n\/\* \[wrapped with (.+)\] \*/,nt=/,? & /;function rt(it){var ot=it.match(et);return ot?ot[1].split(nt):[]}_e.exports=rt},function(_e,tt){var et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function nt(rt,it){var ot=it.length;if(!ot)return rt;var st=ot-1;return it[st]=(ot>1?"& ":"")+it[st],it=it.join(ot>2?", ":" "),rt.replace(et,`{
/* [wrapped with `+it+`] */
`)}_e.exports=nt},function(_e,tt,et){var nt=et(113),rt=et(94),it=1,ot=2,st=8,at=16,ct=32,lt=64,dt=128,ut=256,ft=512,pt=[["ary",dt],["bind",it],["bindKey",ot],["curry",st],["curryRight",at],["flip",ft],["partial",ct],["partialRight",lt],["rearg",ut]];function vt(Ct,ht){return nt(pt,function(mt){var yt="_."+mt[0];ht&mt[1]&&!rt(Ct,yt)&&Ct.push(yt)}),Ct.sort()}_e.exports=vt},function(_e,tt,et){var nt=et(55),rt=et(66),it=Math.min;function ot(st,at){for(var ct=st.length,lt=it(at.length,ct),dt=nt(st);lt--;){var ut=at[lt];st[lt]=rt(ut,ct)?dt[ut]:void 0}return st}_e.exports=ot},function(_e,tt,et){var nt=et(122),rt=et(96),it=et(15),ot=1;function st(at,ct,lt,dt){var ut=ct&ot,ft=rt(at);function pt(){for(var vt=-1,Ct=arguments.length,ht=-1,mt=dt.length,yt=Array(mt+Ct),Et=this&&this!==it&&this instanceof pt?ft:at;++ht<mt;)yt[ht]=dt[ht];for(;Ct--;)yt[ht++]=arguments[++vt];return nt(Et,ut?lt:this,yt)}return pt}_e.exports=st},function(_e,tt,et){var nt=et(220),rt=et(221),it=et(137),ot="__lodash_placeholder__",st=1,at=2,ct=4,lt=8,dt=128,ut=256,ft=Math.min;function pt(vt,Ct){var ht=vt[1],mt=Ct[1],yt=ht|mt,Et=yt<(st|at|dt),Rt=mt==dt&&ht==lt||mt==dt&&ht==ut&&vt[7].length<=Ct[8]||mt==(dt|ut)&&Ct[7].length<=Ct[8]&&ht==lt;if(!(Et||Rt))return vt;mt&st&&(vt[2]=Ct[2],yt|=ht&st?0:ct);var Pt=Ct[3];if(Pt){var Vt=vt[3];vt[3]=Vt?nt(Vt,Pt,Ct[4]):Pt,vt[4]=Vt?it(vt[3],ot):Ct[4]}return Pt=Ct[5],Pt&&(Vt=vt[5],vt[5]=Vt?rt(Vt,Pt,Ct[6]):Pt,vt[6]=Vt?it(vt[5],ot):Ct[6]),Pt=Ct[7],Pt&&(vt[7]=Pt),mt&dt&&(vt[8]=vt[8]==null?Ct[8]:ft(vt[8],Ct[8])),vt[9]==null&&(vt[9]=Ct[9]),vt[0]=Ct[0],vt[1]=yt,vt}_e.exports=pt},function(_e,tt,et){var nt=et(229),rt=1/0,it=17976931348623157e292;function ot(st){if(!st)return st===0?st:0;if(st=nt(st),st===rt||st===-rt){var at=st<0?-1:1;return at*it}return st===st?st:0}_e.exports=ot},function(_e,tt,et){var nt=et(508),rt=/^\s+/;function it(ot){return ot&&ot.slice(0,nt(ot)+1).replace(rt,"")}_e.exports=it},function(_e,tt){var et=/\s/;function nt(rt){for(var it=rt.length;it--&&et.test(rt.charAt(it)););return it}_e.exports=nt},function(_e,tt,et){var nt=et(134),rt=8;function it(ot,st,at){st=at?void 0:st;var ct=nt(ot,rt,void 0,void 0,void 0,void 0,void 0,st);return ct.placeholder=it.placeholder,ct}it.placeholder={},_e.exports=it},function(_e,tt,et){var nt=et(30),rt=et(18),it=et(138),ot="[object DOMException]",st="[object Error]";function at(ct){if(!rt(ct))return!1;var lt=nt(ct);return lt==st||lt==ot||typeof ct.message=="string"&&typeof ct.name=="string"&&!it(ct)}_e.exports=at},function(_e,tt,et){var nt=et(42),rt=et(18),it="[object WeakMap]";function ot(st){return rt(st)&&nt(st)==it}_e.exports=ot},function(_e,tt,et){var nt=et(78),rt=et(36),it=1;function ot(st){return rt(typeof st=="function"?st:nt(st,it))}_e.exports=ot},function(_e,tt,et){var nt=et(514),rt=et(518),it=et(235);function ot(st){var at=rt(st);return at.length==1&&at[0][2]?it(at[0][0],at[0][1]):function(ct){return ct===st||nt(ct,st,at)}}_e.exports=ot},function(_e,tt,et){var nt=et(79),rt=et(230),it=1,ot=2;function st(at,ct,lt,dt){var ut=lt.length,ft=ut,pt=!dt;if(at==null)return!ft;for(at=Object(at);ut--;){var vt=lt[ut];if(pt&&vt[2]?vt[1]!==at[vt[0]]:!(vt[0]in at))return!1}for(;++ut<ft;){vt=lt[ut];var Ct=vt[0],ht=at[Ct],mt=vt[1];if(pt&&vt[2]){if(ht===void 0&&!(Ct in at))return!1}else{var yt=new nt;if(dt)var Et=dt(ht,mt,Ct,at,ct,yt);if(!(Et===void 0?rt(mt,ht,it|ot,dt,yt):Et))return!1}}return!0}_e.exports=st},function(_e,tt,et){var nt=et(79),rt=et(231),it=et(516),ot=et(517),st=et(42),at=et(12),ct=et(65),lt=et(86),dt=1,ut="[object Arguments]",ft="[object Array]",pt="[object Object]",vt=Object.prototype,Ct=vt.hasOwnProperty;function ht(mt,yt,Et,Rt,Pt,Vt){var Nt=at(mt),kt=at(yt),wt=Nt?ft:st(mt),Zt=kt?ft:st(yt);wt=wt==ut?pt:wt,Zt=Zt==ut?pt:Zt;var qt=wt==pt,zt=Zt==pt,Bt=wt==Zt;if(Bt&&ct(mt)){if(!ct(yt))return!1;Nt=!0,qt=!1}if(Bt&&!qt)return Vt||(Vt=new nt),Nt||lt(mt)?rt(mt,yt,Et,Rt,Pt,Vt):it(mt,yt,wt,Et,Rt,Pt,Vt);if(!(Et&dt)){var sn=qt&&Ct.call(mt,"__wrapped__"),mn=zt&&Ct.call(yt,"__wrapped__");if(sn||mn){var En=sn?mt.value():mt,cn=mn?yt.value():yt;return Vt||(Vt=new nt),Pt(En,cn,Et,Rt,Vt)}}return Bt?(Vt||(Vt=new nt),ot(mt,yt,Et,Rt,Pt,Vt)):!1}_e.exports=ht},function(_e,tt,et){var nt=et(40),rt=et(188),it=et(53),ot=et(231),st=et(233),at=et(98),ct=1,lt=2,dt="[object Boolean]",ut="[object Date]",ft="[object Error]",pt="[object Map]",vt="[object Number]",Ct="[object RegExp]",ht="[object Set]",mt="[object String]",yt="[object Symbol]",Et="[object ArrayBuffer]",Rt="[object DataView]",Pt=nt?nt.prototype:void 0,Vt=Pt?Pt.valueOf:void 0;function Nt(kt,wt,Zt,qt,zt,Bt,sn){switch(Zt){case Rt:if(kt.byteLength!=wt.byteLength||kt.byteOffset!=wt.byteOffset)return!1;kt=kt.buffer,wt=wt.buffer;case Et:return!(kt.byteLength!=wt.byteLength||!Bt(new rt(kt),new rt(wt)));case dt:case ut:case vt:return it(+kt,+wt);case ft:return kt.name==wt.name&&kt.message==wt.message;case Ct:case mt:return kt==wt+"";case pt:var mn=st;case ht:var En=qt&ct;if(mn||(mn=at),kt.size!=wt.size&&!En)return!1;var cn=sn.get(kt);if(cn)return cn==wt;qt|=lt,sn.set(kt,wt);var xn=ot(mn(kt),mn(wt),qt,zt,Bt,sn);return sn.delete(kt),xn;case yt:if(Vt)return Vt.call(kt)==Vt.call(wt)}return!1}_e.exports=Nt},function(_e,tt,et){var nt=et(183),rt=1,it=Object.prototype,ot=it.hasOwnProperty;function st(at,ct,lt,dt,ut,ft){var pt=lt&rt,vt=nt(at),Ct=vt.length,ht=nt(ct),mt=ht.length;if(Ct!=mt&&!pt)return!1;for(var yt=Ct;yt--;){var Et=vt[yt];if(!(pt?Et in ct:ot.call(ct,Et)))return!1}var Rt=ft.get(at),Pt=ft.get(ct);if(Rt&&Pt)return Rt==ct&&Pt==at;var Vt=!0;ft.set(at,ct),ft.set(ct,at);for(var Nt=pt;++yt<Ct;){Et=vt[yt];var kt=at[Et],wt=ct[Et];if(dt)var Zt=pt?dt(wt,kt,Et,ct,at,ft):dt(kt,wt,Et,at,ct,ft);if(!(Zt===void 0?kt===wt||ut(kt,wt,lt,dt,ft):Zt)){Vt=!1;break}Nt||(Nt=Et=="constructor")}if(Vt&&!Nt){var qt=at.constructor,zt=ct.constructor;qt!=zt&&"constructor"in at&&"constructor"in ct&&!(typeof qt=="function"&&qt instanceof qt&&typeof zt=="function"&&zt instanceof zt)&&(Vt=!1)}return ft.delete(at),ft.delete(ct),Vt}_e.exports=st},function(_e,tt,et){var nt=et(234),rt=et(31);function it(ot){for(var st=rt(ot),at=st.length;at--;){var ct=st[at],lt=ot[ct];st[at]=[ct,lt,nt(lt)]}return st}_e.exports=it},function(_e,tt,et){var nt=et(230),rt=et(58),it=et(237),ot=et(139),st=et(234),at=et(235),ct=et(47),lt=1,dt=2;function ut(ft,pt){return ot(ft)&&st(pt)?at(ct(ft),pt):function(vt){var Ct=rt(vt,ft);return Ct===void 0&&Ct===pt?it(vt,ft):nt(pt,Ct,lt|dt)}}_e.exports=ut},function(_e,tt,et){var nt=et(191),rt=500;function it(ot){var st=nt(ot,function(ct){return at.size===rt&&at.clear(),ct}),at=st.cache;return st}_e.exports=it},function(_e,tt,et){var nt=et(40),rt=et(34),it=et(12),ot=et(70),st=1/0,at=nt?nt.prototype:void 0,ct=at?at.toString:void 0;function lt(dt){if(typeof dt=="string")return dt;if(it(dt))return rt(dt,lt)+"";if(ot(dt))return ct?ct.call(dt):"";var ut=dt+"";return ut=="0"&&1/dt==-st?"-0":ut}_e.exports=lt},function(_e,tt){function et(nt,rt){return nt!=null&&rt in Object(nt)}_e.exports=et},function(_e,tt,et){var nt=et(59),rt=et(64),it=et(12),ot=et(66),st=et(114),at=et(47);function ct(lt,dt,ut){dt=nt(dt,lt);for(var ft=-1,pt=dt.length,vt=!1;++ft<pt;){var Ct=at(dt[ft]);if(!(vt=lt!=null&&ut(lt,Ct)))break;lt=lt[Ct]}return vt||++ft!=pt?vt:(pt=lt==null?0:lt.length,!!pt&&st(pt)&&ot(Ct,pt)&&(it(lt)||rt(lt)))}_e.exports=ct},function(_e,tt,et){var nt=et(525),rt=et(526),it=et(139),ot=et(47);function st(at){return it(at)?nt(ot(at)):rt(at)}_e.exports=st},function(_e,tt){function et(nt){return function(rt){return rt==null?void 0:rt[nt]}}_e.exports=et},function(_e,tt,et){var nt=et(99);function rt(it){return function(ot){return nt(ot,it)}}_e.exports=rt},function(_e,tt,et){var nt=et(134),rt=et(140),it=256,ot=rt(function(st,at){return nt(st,it,void 0,void 0,void 0,at)});_e.exports=ot},function(_e,tt,et){var nt=et(238);function rt(it){var ot=it==null?0:it.length;return ot?nt(it,1):[]}_e.exports=rt},function(_e,tt,et){var nt=et(40),rt=et(64),it=et(12),ot=nt?nt.isConcatSpreadable:void 0;function st(at){return it(at)||rt(at)||!!(ot&&at&&at[ot])}_e.exports=st},function(_e,tt,et){var nt=et(34),rt=et(55),it=et(12),ot=et(70),st=et(236),at=et(47),ct=et(60);function lt(dt){return it(dt)?nt(dt,at):ot(dt)?[dt]:rt(st(ct(dt)))}_e.exports=lt},function(_e,tt,et){var nt=et(532),rt=et(237);function it(ot,st){return nt(ot,st,function(at,ct){return rt(ot,ct)})}_e.exports=it},function(_e,tt,et){var nt=et(99),rt=et(533),it=et(59);function ot(st,at,ct){for(var lt=-1,dt=at.length,ut={};++lt<dt;){var ft=at[lt],pt=nt(st,ft);ct(pt,ft)&&rt(ut,it(ft,st),pt)}return ut}_e.exports=ot},function(_e,tt,et){var nt=et(84),rt=et(59),it=et(66),ot=et(11),st=et(47);function at(ct,lt,dt,ut){if(!ot(ct))return ct;lt=rt(lt,ct);for(var ft=-1,pt=lt.length,vt=pt-1,Ct=ct;Ct!=null&&++ft<pt;){var ht=st(lt[ft]),mt=dt;if(ht==="__proto__"||ht==="constructor"||ht==="prototype")return ct;if(ft!=vt){var yt=Ct[ht];mt=ut?ut(yt,ht,Ct):void 0,mt===void 0&&(mt=ot(yt)?yt:it(lt[ft+1])?[]:{})}nt(Ct,ht,mt),Ct=Ct[ht]}return ct}_e.exports=at},function(_e,tt,et){var nt=et(216),rt=nt("mapKeys",et(535));rt.placeholder=et(133),_e.exports=rt},function(_e,tt,et){var nt=et(63),rt=et(100),it=et(36);function ot(st,at){var ct={};return at=it(at,3),rt(st,function(lt,dt,ut){nt(ct,at(lt,dt,ut),lt)}),ct}_e.exports=ot},function(_e,tt){function et(nt){return function(rt,it,ot){for(var st=-1,at=Object(rt),ct=ot(rt),lt=ct.length;lt--;){var dt=ct[nt?lt:++st];if(it(at[dt],dt,at)===!1)break}return rt}}_e.exports=et},function(_e,tt,et){(function(nt){var rt;(function(it){tt&&tt.nodeType,nt&&nt.nodeType;var ot=typeof(typeof window!==void 0?window:commonjsGlobal)=="object"&&(typeof window!==void 0?window:commonjsGlobal);ot.global===ot||ot.window===ot||ot.self;var st,at=2147483647,ct=36,lt=1,dt=26,ut=38,ft=700,pt=72,vt=128,Ct="-",ht=/^xn--/,mt=/[^\x20-\x7E]/,yt=/[\x2E\u3002\uFF0E\uFF61]/g,Et={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Rt=ct-lt,Pt=Math.floor,Vt=String.fromCharCode;function Nt(bn){throw new RangeError(Et[bn])}function kt(bn,gn){for(var vn=bn.length,Wn=[];vn--;)Wn[vn]=gn(bn[vn]);return Wn}function wt(bn,gn){var vn=bn.split("@"),Wn="";vn.length>1&&(Wn=vn[0]+"@",bn=vn[1]),bn=bn.replace(yt,".");var Un=bn.split("."),Sn=kt(Un,gn).join(".");return Wn+Sn}function Zt(bn){for(var gn=[],vn=0,Wn=bn.length,Un,Sn;vn<Wn;)Un=bn.charCodeAt(vn++),Un>=55296&&Un<=56319&&vn<Wn?(Sn=bn.charCodeAt(vn++),(Sn&64512)==56320?gn.push(((Un&1023)<<10)+(Sn&1023)+65536):(gn.push(Un),vn--)):gn.push(Un);return gn}function qt(bn){return kt(bn,function(gn){var vn="";return gn>65535&&(gn-=65536,vn+=Vt(gn>>>10&1023|55296),gn=56320|gn&1023),vn+=Vt(gn),vn}).join("")}function zt(bn){return bn-48<10?bn-22:bn-65<26?bn-65:bn-97<26?bn-97:ct}function Bt(bn,gn){return bn+22+75*(bn<26)-((gn!=0)<<5)}function sn(bn,gn,vn){var Wn=0;for(bn=vn?Pt(bn/ft):bn>>1,bn+=Pt(bn/gn);bn>Rt*dt>>1;Wn+=ct)bn=Pt(bn/Rt);return Pt(Wn+(Rt+1)*bn/(bn+ut))}function mn(bn){var gn=[],vn=bn.length,Wn,Un=0,Sn=vt,On=pt,Ln,Jn,ur,sr,pr,Ir,Er,Kr,Dr;for(Ln=bn.lastIndexOf(Ct),Ln<0&&(Ln=0),Jn=0;Jn<Ln;++Jn)bn.charCodeAt(Jn)>=128&&Nt("not-basic"),gn.push(bn.charCodeAt(Jn));for(ur=Ln>0?Ln+1:0;ur<vn;){for(sr=Un,pr=1,Ir=ct;ur>=vn&&Nt("invalid-input"),Er=zt(bn.charCodeAt(ur++)),(Er>=ct||Er>Pt((at-Un)/pr))&&Nt("overflow"),Un+=Er*pr,Kr=Ir<=On?lt:Ir>=On+dt?dt:Ir-On,!(Er<Kr);Ir+=ct)Dr=ct-Kr,pr>Pt(at/Dr)&&Nt("overflow"),pr*=Dr;Wn=gn.length+1,On=sn(Un-sr,Wn,sr==0),Pt(Un/Wn)>at-Sn&&Nt("overflow"),Sn+=Pt(Un/Wn),Un%=Wn,gn.splice(Un++,0,Sn)}return qt(gn)}function En(bn){var gn,vn,Wn,Un,Sn,On,Ln,Jn,ur,sr,pr,Ir=[],Er,Kr,Dr,to;for(bn=Zt(bn),Er=bn.length,gn=vt,vn=0,Sn=pt,On=0;On<Er;++On)pr=bn[On],pr<128&&Ir.push(Vt(pr));for(Wn=Un=Ir.length,Un&&Ir.push(Ct);Wn<Er;){for(Ln=at,On=0;On<Er;++On)pr=bn[On],pr>=gn&&pr<Ln&&(Ln=pr);for(Kr=Wn+1,Ln-gn>Pt((at-vn)/Kr)&&Nt("overflow"),vn+=(Ln-gn)*Kr,gn=Ln,On=0;On<Er;++On)if(pr=bn[On],pr<gn&&++vn>at&&Nt("overflow"),pr==gn){for(Jn=vn,ur=ct;sr=ur<=Sn?lt:ur>=Sn+dt?dt:ur-Sn,!(Jn<sr);ur+=ct)to=Jn-sr,Dr=ct-sr,Ir.push(Vt(Bt(sr+to%Dr,0))),Jn=Pt(to/Dr);Ir.push(Vt(Bt(Jn,0))),Sn=sn(vn,Kr,Wn==Un),vn=0,++Wn}++vn,++gn}return Ir.join("")}function cn(bn){return wt(bn,function(gn){return ht.test(gn)?mn(gn.slice(4).toLowerCase()):gn})}function xn(bn){return wt(bn,function(gn){return mt.test(gn)?"xn--"+En(gn):gn})}st={version:"1.4.1",ucs2:{decode:Zt,encode:qt},decode:mn,encode:En,toASCII:xn,toUnicode:cn},rt=(function(){return st}).call(tt,et,tt,nt),rt!==void 0&&(nt.exports=rt)})()}).call(this,et(85)(_e))},function(_e,tt,et){_e.exports={isString:function(nt){return typeof nt=="string"},isObject:function(nt){return typeof nt=="object"&&nt!==null},isNull:function(nt){return nt===null},isNullOrUndefined:function(nt){return nt==null}}},function(_e,tt,et){tt.decode=tt.parse=et(540),tt.encode=tt.stringify=et(541)},function(_e,tt,et){function nt(it,ot){return Object.prototype.hasOwnProperty.call(it,ot)}_e.exports=function(it,ot,st,at){ot=ot||"&",st=st||"=";var ct={};if(typeof it!="string"||it.length===0)return ct;var lt=/\+/g;it=it.split(ot);var dt=1e3;at&&typeof at.maxKeys=="number"&&(dt=at.maxKeys);var ut=it.length;dt>0&&ut>dt&&(ut=dt);for(var ft=0;ft<ut;++ft){var pt=it[ft].replace(lt,"%20"),vt=pt.indexOf(st),Ct,ht,mt,yt;vt>=0?(Ct=pt.substr(0,vt),ht=pt.substr(vt+1)):(Ct=pt,ht=""),mt=decodeURIComponent(Ct),yt=decodeURIComponent(ht),nt(ct,mt)?rt(ct[mt])?ct[mt].push(yt):ct[mt]=[ct[mt],yt]:ct[mt]=yt}return ct};var rt=Array.isArray||function(it){return Object.prototype.toString.call(it)==="[object Array]"}},function(_e,tt,et){var nt=function(st){switch(typeof st){case"string":return st;case"boolean":return st?"true":"false";case"number":return isFinite(st)?st:"";default:return""}};_e.exports=function(st,at,ct,lt){return at=at||"&",ct=ct||"=",st===null&&(st=void 0),typeof st=="object"?it(ot(st),function(dt){var ut=encodeURIComponent(nt(dt))+ct;return rt(st[dt])?it(st[dt],function(ft){return ut+encodeURIComponent(nt(ft))}).join(at):ut+encodeURIComponent(nt(st[dt]))}).join(at):lt?encodeURIComponent(nt(lt))+ct+encodeURIComponent(nt(st)):""};var rt=Array.isArray||function(st){return Object.prototype.toString.call(st)==="[object Array]"};function it(st,at){if(st.map)return st.map(at);for(var ct=[],lt=0;lt<st.length;lt++)ct.push(at(st[lt],lt));return ct}var ot=Object.keys||function(st){var at=[];for(var ct in st)Object.prototype.hasOwnProperty.call(st,ct)&&at.push(ct);return at}},function(_e,tt,et){var nt=function(){return this||typeof self=="object"&&self}()||Function("return this")(),rt=nt.regeneratorRuntime&&Object.getOwnPropertyNames(nt).indexOf("regeneratorRuntime")>=0,it=rt&&nt.regeneratorRuntime;if(nt.regeneratorRuntime=void 0,_e.exports=et(543),rt)nt.regeneratorRuntime=it;else try{delete nt.regeneratorRuntime}catch{nt.regeneratorRuntime=void 0}},function(_e,tt,et){(function(nt){(function(rt){var it=Object.prototype,ot=it.hasOwnProperty,st,at=typeof Symbol=="function"?Symbol:{},ct=at.iterator||"@@iterator",lt=at.asyncIterator||"@@asyncIterator",dt=at.toStringTag||"@@toStringTag",ut=typeof _e=="object",ft=rt.regeneratorRuntime;if(ft){ut&&(_e.exports=ft);return}ft=rt.regeneratorRuntime=ut?_e.exports:{};function pt(gn,vn,Wn,Un){var Sn=vn&&vn.prototype instanceof Rt?vn:Rt,On=Object.create(Sn.prototype),Ln=new cn(Un||[]);return On._invoke=Bt(gn,Wn,Ln),On}ft.wrap=pt;function vt(gn,vn,Wn){try{return{type:"normal",arg:gn.call(vn,Wn)}}catch(Un){return{type:"throw",arg:Un}}}var Ct="suspendedStart",ht="suspendedYield",mt="executing",yt="completed",Et={};function Rt(){}function Pt(){}function Vt(){}var Nt={};Nt[ct]=function(){return this};var kt=Object.getPrototypeOf,wt=kt&&kt(kt(xn([])));wt&&wt!==it&&ot.call(wt,ct)&&(Nt=wt);var Zt=Vt.prototype=Rt.prototype=Object.create(Nt);Pt.prototype=Zt.constructor=Vt,Vt.constructor=Pt,Vt[dt]=Pt.displayName="GeneratorFunction";function qt(gn){["next","throw","return"].forEach(function(vn){gn[vn]=function(Wn){return this._invoke(vn,Wn)}})}ft.isGeneratorFunction=function(gn){var vn=typeof gn=="function"&&gn.constructor;return vn?vn===Pt||(vn.displayName||vn.name)==="GeneratorFunction":!1},ft.mark=function(gn){return Object.setPrototypeOf?Object.setPrototypeOf(gn,Vt):(gn.__proto__=Vt,dt in gn||(gn[dt]="GeneratorFunction")),gn.prototype=Object.create(Zt),gn},ft.awrap=function(gn){return{__await:gn}};function zt(gn){function vn(Sn,On,Ln,Jn){var ur=vt(gn[Sn],gn,On);if(ur.type==="throw")Jn(ur.arg);else{var sr=ur.arg,pr=sr.value;return pr&&typeof pr=="object"&&ot.call(pr,"__await")?nt.resolve(pr.__await).then(function(Ir){vn("next",Ir,Ln,Jn)},function(Ir){vn("throw",Ir,Ln,Jn)}):nt.resolve(pr).then(function(Ir){sr.value=Ir,Ln(sr)},function(Ir){return vn("throw",Ir,Ln,Jn)})}}var Wn;function Un(Sn,On){function Ln(){return new nt(function(Jn,ur){vn(Sn,On,Jn,ur)})}return Wn=Wn?Wn.then(Ln,Ln):Ln()}this._invoke=Un}qt(zt.prototype),zt.prototype[lt]=function(){return this},ft.AsyncIterator=zt,ft.async=function(gn,vn,Wn,Un){var Sn=new zt(pt(gn,vn,Wn,Un));return ft.isGeneratorFunction(vn)?Sn:Sn.next().then(function(On){return On.done?On.value:Sn.next()})};function Bt(gn,vn,Wn){var Un=Ct;return function(On,Ln){if(Un===mt)throw new Error("Generator is already running");if(Un===yt){if(On==="throw")throw Ln;return bn()}for(Wn.method=On,Wn.arg=Ln;;){var Jn=Wn.delegate;if(Jn){var ur=sn(Jn,Wn);if(ur){if(ur===Et)continue;return ur}}if(Wn.method==="next")Wn.sent=Wn._sent=Wn.arg;else if(Wn.method==="throw"){if(Un===Ct)throw Un=yt,Wn.arg;Wn.dispatchException(Wn.arg)}else Wn.method==="return"&&Wn.abrupt("return",Wn.arg);Un=mt;var sr=vt(gn,vn,Wn);if(sr.type==="normal"){if(Un=Wn.done?yt:ht,sr.arg===Et)continue;return{value:sr.arg,done:Wn.done}}else sr.type==="throw"&&(Un=yt,Wn.method="throw",Wn.arg=sr.arg)}}}function sn(gn,vn){var Wn=gn.iterator[vn.method];if(Wn===st){if(vn.delegate=null,vn.method==="throw"){if(gn.iterator.return&&(vn.method="return",vn.arg=st,sn(gn,vn),vn.method==="throw"))return Et;vn.method="throw",vn.arg=new TypeError("The iterator does not provide a 'throw' method")}return Et}var Un=vt(Wn,gn.iterator,vn.arg);if(Un.type==="throw")return vn.method="throw",vn.arg=Un.arg,vn.delegate=null,Et;var Sn=Un.arg;if(!Sn)return vn.method="throw",vn.arg=new TypeError("iterator result is not an object"),vn.delegate=null,Et;if(Sn.done)vn[gn.resultName]=Sn.value,vn.next=gn.nextLoc,vn.method!=="return"&&(vn.method="next",vn.arg=st);else return Sn;return vn.delegate=null,Et}qt(Zt),Zt[dt]="Generator",Zt[ct]=function(){return this},Zt.toString=function(){return"[object Generator]"};function mn(gn){var vn={tryLoc:gn[0]};1 in gn&&(vn.catchLoc=gn[1]),2 in gn&&(vn.finallyLoc=gn[2],vn.afterLoc=gn[3]),this.tryEntries.push(vn)}function En(gn){var vn=gn.completion||{};vn.type="normal",delete vn.arg,gn.completion=vn}function cn(gn){this.tryEntries=[{tryLoc:"root"}],gn.forEach(mn,this),this.reset(!0)}ft.keys=function(gn){var vn=[];for(var Wn in gn)vn.push(Wn);return vn.reverse(),function Un(){for(;vn.length;){var Sn=vn.pop();if(Sn in gn)return Un.value=Sn,Un.done=!1,Un}return Un.done=!0,Un}};function xn(gn){if(gn){var vn=gn[ct];if(vn)return vn.call(gn);if(typeof gn.next=="function")return gn;if(!isNaN(gn.length)){var Wn=-1,Un=function Sn(){for(;++Wn<gn.length;)if(ot.call(gn,Wn))return Sn.value=gn[Wn],Sn.done=!1,Sn;return Sn.value=st,Sn.done=!0,Sn};return Un.next=Un}}return{next:bn}}ft.values=xn;function bn(){return{value:st,done:!0}}cn.prototype={constructor:cn,reset:function(gn){if(this.prev=0,this.next=0,this.sent=this._sent=st,this.done=!1,this.delegate=null,this.method="next",this.arg=st,this.tryEntries.forEach(En),!gn)for(var vn in this)vn.charAt(0)==="t"&&ot.call(this,vn)&&!isNaN(+vn.slice(1))&&(this[vn]=st)},stop:function(){this.done=!0;var gn=this.tryEntries[0],vn=gn.completion;if(vn.type==="throw")throw vn.arg;return this.rval},dispatchException:function(gn){if(this.done)throw gn;var vn=this;function Wn(ur,sr){return On.type="throw",On.arg=gn,vn.next=ur,sr&&(vn.method="next",vn.arg=st),!!sr}for(var Un=this.tryEntries.length-1;Un>=0;--Un){var Sn=this.tryEntries[Un],On=Sn.completion;if(Sn.tryLoc==="root")return Wn("end");if(Sn.tryLoc<=this.prev){var Ln=ot.call(Sn,"catchLoc"),Jn=ot.call(Sn,"finallyLoc");if(Ln&&Jn){if(this.prev<Sn.catchLoc)return Wn(Sn.catchLoc,!0);if(this.prev<Sn.finallyLoc)return Wn(Sn.finallyLoc)}else if(Ln){if(this.prev<Sn.catchLoc)return Wn(Sn.catchLoc,!0)}else if(Jn){if(this.prev<Sn.finallyLoc)return Wn(Sn.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(gn,vn){for(var Wn=this.tryEntries.length-1;Wn>=0;--Wn){var Un=this.tryEntries[Wn];if(Un.tryLoc<=this.prev&&ot.call(Un,"finallyLoc")&&this.prev<Un.finallyLoc){var Sn=Un;break}}Sn&&(gn==="break"||gn==="continue")&&Sn.tryLoc<=vn&&vn<=Sn.finallyLoc&&(Sn=null);var On=Sn?Sn.completion:{};return On.type=gn,On.arg=vn,Sn?(this.method="next",this.next=Sn.finallyLoc,Et):this.complete(On)},complete:function(gn,vn){if(gn.type==="throw")throw gn.arg;return gn.type==="break"||gn.type==="continue"?this.next=gn.arg:gn.type==="return"?(this.rval=this.arg=gn.arg,this.method="return",this.next="end"):gn.type==="normal"&&vn&&(this.next=vn),Et},finish:function(gn){for(var vn=this.tryEntries.length-1;vn>=0;--vn){var Wn=this.tryEntries[vn];if(Wn.finallyLoc===gn)return this.complete(Wn.completion,Wn.afterLoc),En(Wn),Et}},catch:function(gn){for(var vn=this.tryEntries.length-1;vn>=0;--vn){var Wn=this.tryEntries[vn];if(Wn.tryLoc===gn){var Un=Wn.completion;if(Un.type==="throw"){var Sn=Un.arg;En(Wn)}return Sn}}throw new Error("illegal catch attempt")},delegateYield:function(gn,vn,Wn){return this.delegate={iterator:xn(gn),resultName:vn,nextLoc:Wn},this.method==="next"&&(this.arg=st),Et}}})(function(){return this||typeof self=="object"&&self}()||Function("return this")())}).call(this,et(2))},function(_e,tt,et){var nt=et(242),rt=et(243),it,ot,st=0,at=0;function ct(lt,dt,ut){var ft=dt&&ut||0,pt=dt||[];lt=lt||{};var vt=lt.node||it,Ct=lt.clockseq!==void 0?lt.clockseq:ot;if(vt==null||Ct==null){var ht=nt();vt==null&&(vt=it=[ht[0]|1,ht[1],ht[2],ht[3],ht[4],ht[5]]),Ct==null&&(Ct=ot=(ht[6]<<8|ht[7])&16383)}var mt=lt.msecs!==void 0?lt.msecs:new Date().getTime(),yt=lt.nsecs!==void 0?lt.nsecs:at+1,Et=mt-st+(yt-at)/1e4;if(Et<0&&lt.clockseq===void 0&&(Ct=Ct+1&16383),(Et<0||mt>st)&&lt.nsecs===void 0&&(yt=0),yt>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");st=mt,at=yt,ot=Ct,mt+=122192928e5;var Rt=((mt&268435455)*1e4+yt)%4294967296;pt[ft++]=Rt>>>24&255,pt[ft++]=Rt>>>16&255,pt[ft++]=Rt>>>8&255,pt[ft++]=Rt&255;var Pt=mt/4294967296*1e4&268435455;pt[ft++]=Pt>>>8&255,pt[ft++]=Pt&255,pt[ft++]=Pt>>>24&15|16,pt[ft++]=Pt>>>16&255,pt[ft++]=Ct>>>8|128,pt[ft++]=Ct&255;for(var Vt=0;Vt<6;++Vt)pt[ft+Vt]=vt[Vt];return dt||rt(pt)}_e.exports=ct},function(_e,tt,et){var nt=et(242),rt=et(243);function it(ot,st,at){var ct=st&&at||0;typeof ot=="string"&&(st=ot==="binary"?new Array(16):null,ot=null),ot=ot||{};var lt=ot.random||(ot.rng||nt)();if(lt[6]=lt[6]&15|64,lt[8]=lt[8]&63|128,st)for(var dt=0;dt<16;++dt)st[ct+dt]=lt[dt];return st||rt(lt)}_e.exports=it},function(_e,tt,et){const nt=et(9),rt=et(0)("analytics"),it=et(547),ot=et(16),st=et(244),at=et(101),ct=at.prependProxyToUrlIfNeeded,lt=et(102),dt=lt.getProxyUrl,ut=ot(),ft=new it;_e.exports=function(vt){var Ct=this;let ht=vt.loggingUrl,mt=vt.queue,yt=mt===void 0?ft:mt,Et=vt.ajax,Rt=Et===void 0?st:Et;this.loggingUrl=ht,this.updateEndPoints=()=>{if(!this.proxyUrl){this.proxyUrl=dt();const kt=ct(this.loggingUrl,this.proxyUrl);this.loggingUrl=kt}this.endPoint=`${this.loggingUrl}/logging/ClientEvent`,this.endPointQos=`${this.loggingUrl}/logging/ClientQos`},this.updateEndPoints();const Pt={},Vt=function(wt,Zt,qt){Zt===void 0&&(Zt=()=>{}),yt.add(zt=>{rt.debug("sending analytics:",Ct.loggingUrl,wt),Rt.post(qt?Ct.endPointQos:Ct.endPoint,{body:wt,overrideMimeType:"text/plain",headers:{Accept:"text/plain","Content-Type":"application/json"}},Bt=>{Bt&&rt.debug("Failed to send ClientEvent, moving on to the next item."),Zt(Bt||void 0),zt()})})},Nt=(kt,wt,Zt)=>{if(!Zt)return!1;const qt=[Zt,wt,kt].join("_"),zt=100;return(Pt[qt]||0)>=zt};this.logError=function(kt,wt,Zt,qt,zt){qt===void 0&&(qt=null),zt===void 0&&(zt={});const Bt=zt,sn=Bt.partnerId;if(Nt(kt,wt,sn))return;const mn=[sn,wt,kt].join("_"),En=qt;Pt[mn]=typeof Pt[mn]<"u"?Pt[mn]+1:1,Ct.logEvent(nt(zt,{action:`${wt}.${kt}`,payload:En}),!1)},this.logEvent=function(kt,wt,Zt,qt){wt===void 0&&(wt=!1),qt===void 0&&(qt=()=>{}),Ct.updateEndPoints();const zt=Object.assign({},kt,{clientInstanceId:ut});if(Zt&&!isNaN(Zt)&&Math.random()>Zt){rt.debug("skipping sending analytics due to throttle:",zt);return}rt.debug("queueing analytics:",Ct.loggingUrl,zt);let Bt;try{Bt=JSON.stringify(zt)}catch(sn){qt(sn);return}Vt(Bt,qt,wt)},this.logQOS=kt=>this.logEvent(kt,!0)}},function(_e,tt,et){let nt=function(){function rt(ot){let st=ot===void 0?{}:ot,at=st.waitTime,ct=at===void 0?50:at;this.queue=[],this.running=!1,this.waitTime=ct}var it=rt.prototype;return it.add=function(st){this.queue.push(st),this.run()},it.run=function(){if(this.running)return;this.running=!0;const st=()=>{if(this.queue.length===0){this.running=!1;return}this.queue.shift()(()=>{setTimeout(st,this.waitTime)})};st()},rt}();_e.exports=nt},function(_e,tt,et){const nt=et(11),rt={for:"htmlFor",class:"className"};_e.exports=function(it){it.prototype.attr=function(at,ct){if(nt(at)){let lt;Object.keys(at).forEach(dt=>{lt=rt[dt]||dt,this.first.setAttribute(lt,at[dt])})}else{if(ct===void 0)return this.first.getAttribute(rt[at]||at);this.first.setAttribute(rt[at]||at,ct)}return this},it.prototype.removeAttr=function(at){const ct=rt[at]||at;return this.forEach(lt=>{lt.removeAttribute(ct)}),this},it.prototype.html=function(at){return at!==void 0&&(this.first.innerHTML=at),this.first.innerHTML},it.prototype.center=function(at,ct){let lt;return this.forEach(dt=>{lt=new it(dt),at=at||parseInt(lt.width(),10),ct=ct||parseInt(lt.height(),10);const ut=`${-.5*at}px`,ft=`${-.5*ct}px`;lt.css("margin",`${ft} 0 0 ${ut}`).addClass("OT_centered")}),this},it._attachToOTHelpers.centerElement=function(at,ct,lt){return new it(at).center(ct,lt)};const ot=function(ct){return ct.offsetWidth>0?`${ct.offsetWidth}px`:new it(ct).css("width")},st=function(ct){return ct.offsetHeight>0?`${ct.offsetHeight}px`:new it(ct).css("height")};it.prototype.width=function(at){return at?(this.css("width",at),this):this.isDisplayNone()?this.makeVisibleAndYield(ct=>ot(ct))[0]:ot(this.get(0))},it._attachToOTHelpers.width=function(at,ct){const lt=new it(at).width(ct);return ct?it._attachToOTHelpers:lt},it.prototype.height=function(at){return at?(this.css("height",at),this):this.isDisplayNone()?this.makeVisibleAndYield(ct=>st(ct))[0]:st(this.get(0))},it._attachToOTHelpers.height=function(at,ct){const lt=new it(at).height(ct);return ct?it._attachToOTHelpers:lt}}},function(_e,tt,et){const nt=et(3),rt=(typeof window!==void 0?window:commonjsGlobal).getComputedStyle,it={Firefox:"moz",Opera:"O",Chrome:"Webkit",Safari:"Webkit"};function ot(){return it[nt.name]}_e.exports=function(st,at){const ct={},lt={},dt=function(yt){if(lt[yt.ownerDocument]&&lt[yt.ownerDocument][yt.nodeName])return lt[yt.ownerDocument][yt.nodeName];lt[yt.ownerDocument]||(lt[yt.ownerDocument]={});let Et=yt.ownerDocument.createElement(yt.nodeName),Rt;return yt.ownerDocument.body.appendChild(Et),Rt=new st(Et).css("display"),lt[yt.ownerDocument][yt.nodeName]=Rt,new st(Et).remove(),Et=null,Rt},ut=function(yt){return rt(yt).getPropertyValue("display")==="none"},ft=function(yt,Et){if(Et in yt.style)return Et;const Pt=ot()+Et[0].toUpperCase()+Et.slice(1);return Pt in yt.style?Pt:Et},pt=function(yt,Et){const Rt=yt.style;for(const Pt in Et)Et.hasOwnProperty(Pt)&&(Rt[ft(yt,Pt)]=Et[Pt])},vt=function(yt,Et,Rt){yt.style[ft(yt,Et)]=Rt},Ct=function(yt,Et){const Rt=ft(yt,Et);let Vt=rt(yt).getPropertyValue(Rt);return Vt===""&&(Vt=yt.style[Rt]),Vt},ht=function(yt,Et,Rt){const Pt=new st(yt),Vt={};let Nt,kt;for(Nt in Et)Et.hasOwnProperty(Nt)&&(Vt[Nt]=yt.style[Nt],Pt.css(Nt,Et[Nt]));kt=Rt(yt);for(Nt in Et)Et.hasOwnProperty(Nt)&&Pt.css(Nt,Vt[Nt]||"");return kt};st.prototype.show=function(){return this.forEach(mt=>{const yt=mt.style.display;(yt===""||yt==="none")&&(mt.style.display=ct[mt]||"",delete ct[mt]),ut(mt)&&(ct[mt]="none",mt.style.display=dt(mt))})},st.prototype.hide=function(){return this.forEach(mt=>{mt.style.display!=="none"&&(ct[mt]=mt.style.display,mt.style.display="none")})},st.prototype.css=function(mt,yt){if(this.length!==0)return typeof mt!="string"?this.forEach(Et=>{pt(Et,mt)}):yt!==void 0?this.forEach(Et=>{vt(Et,mt,yt)}):Ct(this.first,mt)},st.prototype.makeVisibleAndYield=function(mt){const yt={display:"block",visibility:"hidden"},Et=[];return this.forEach(Rt=>{const Pt=at(Rt);Pt?Et.push(ht(Pt,yt,mt)):Et.push(void 0)}),Et}}},function(_e,tt,et){(function(nt){const rt=et(551),it=rt.isiPhone,ot=rt.isiPad,st=rt.isiOS,at=et(552),ct=et(553),lt=ht=>{var mt,yt;return ht=ht||((mt=typeof window!==void 0?window:commonjsGlobal)==null?void 0:mt.navigator),((yt=ht)==null?void 0:yt.userAgent.toLowerCase().indexOf("electron"))>=0},dt=()=>{var ht,mt,yt;return typeof((ht=typeof window!==void 0?window:commonjsGlobal)==null||(mt=ht.process)==null||(yt=mt.versions)==null?void 0:yt.node)=="string"&&!lt()};let ut;const ft=()=>{ut={version:-1,name:"unknown"}},pt=()=>{ut.name="Node",ut.isNode=!0,ut.version=parseInt(nt.versions.node,10),ut.userAgent=`${ut.name} ${ut.version}`},vt=ht=>{if(ht=ht||(typeof window!==void 0?window:commonjsGlobal).navigator,ut.userAgent=ht.userAgent.toLowerCase(),ut.name="unknown",ut.userAgent.indexOf("opera")>-1||ut.userAgent.indexOf("opr/")>-1)ut.name="Opera",ut.isOpera=!0,/opr\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1));else if(ut.userAgent.indexOf("firefox")>-1)ut.name="Firefox",ut.isFirefox=!0,/firefox\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1));else if(ut.userAgent.match(/edge?\/(\d+)(?:\.\d+)+$/)){ut.name="Edge",ut.isEdge=!0;const mt=RegExp.$1;ut.version=parseInt(mt,10)}else ut.userAgent.indexOf("chrome")>-1?(ut.name="Chrome",ut.isElectron=lt(ht),ut.isElectron?ut.electronVersion=ct(ht.userAgent):ut.isChrome=!0,/chrome\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null&&(ut.version=parseFloat(RegExp.$1))):ht.vendor&&ht.vendor.toLowerCase().indexOf("apple")>-1?(ut.name="Safari",ut.isSafari=!0,ut.isiPhone=it(ht.userAgent),ut.isiPad=ot(ht.userAgent),ut.isiOS=st(ht.userAgent),ut.isiOS&&(ut.iOSVersion=at(ht.userAgent)),(/version\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null||/fxios\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null||/crios\/([0-9]{1,}[.0-9]{0,})/.exec(ut.userAgent)!==null)&&(ut.version=parseFloat(RegExp.$1))):ut.userAgent.indexOf("applewebkit")>-1&&ut.userAgent.indexOf("version")===-1&&(ut.isIosWebView=!0);ut.isChromiumEdge=ut.name==="Edge"&&ut.version>=79,ut.isLegacyEdge=ut.name==="Edge"&&ut.version<79,ut.isLegacyElectron=ut.isElectron&&ut.electronVersion<16,ut.isLegacyChrome=ut.isChrome&&ut.version<87,ut.isLegacyFirefox=ut.isFirefox&&ut.version<=98,ut.isChromium=!!(ut.isChrome||ut.isChromiumEdge||ut.isElectron||ut.isOpera),ut.isAndroid=ut.userAgent.indexOf("android")>-1,ut.userAgent=ht.userAgent,ut.protocol=location.protocol,ut.hostName=location.hostName,(ut.version===-1||ut.name==="unknown"||ut.isiOS&&!ut.iOSVersion)&&(ut.error=!0)},Ct=ht=>(ft(),dt()?pt():vt(ht),ut);_e.exports={parse:Ct,isNode:dt}}).call(this,et(43))},function(_e,tt,et){const nt=st=>/iPhone/.test(st),rt=st=>{try{return st.includes("Mac")&&"ontouchend"in document}catch{return!1}},it=st=>/iPad/.test(st)||rt(st),ot=st=>nt(st)||it(st);_e.exports={isiPhone:nt,isiPad:it,isiOS:ot}},function(_e,tt,et){_e.exports=function(rt){const it=rt.match(/OS (\d+_\d+).* like Mac/);if(!(it===null||!it[1]))return parseFloat(it[1].replace("_","."))}},function(_e,tt,et){const nt=/(Electron)\/([0-9]{1,}[.0-9]{0,})/;_e.exports=rt=>{const it=rt.match(nt);return it&&parseFloat(it[2])}},function(_e,tt,et){const nt=et(555);function rt(at,ct){return ct?nt()?at.classList.contains(ct):at.className.indexOf(ct)>-1:!1}function it(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.toggle(ct[dt]);return}let ut=` ${at.className} `.replace(/[\s+]/," ");for(;dt<lt;++dt)rt(at,ct[dt])?ut=ut.replace(` ${ct[dt]} `," "):ut+=`${ct[dt]} `;at.className=ut.trim()}function ot(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.add(ct[dt]);return}if(!at.className&&ct.length===1)at.className=ct.join(" ");else{let ut=` ${at.className} `;for(;dt<lt;++dt)~ut.indexOf(` ${ct[dt]} `)||(ut+=`${ct[dt]} `);at.className=ut.trim()}}function st(at,ct){if(!ct||ct.length===0||at.nodeType!==1)return;const lt=ct.length;let dt=0;if(nt()){for(;dt<lt;++dt)at.classList.remove(ct[dt]);return}let ut=` ${at.className} `.replace(/[\s+]/," ");for(;dt<lt;++dt)ut=ut.replace(` ${ct[dt]} `," ");at.className=ut.trim()}_e.exports=function(at){at.prototype.addClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{ot(dt,lt)})}return this},at.prototype.removeClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{st(dt,lt)})}return this},at.prototype.toggleClass=function(ct){if(ct){const lt=ct.trim().split(/\s+/);this.forEach(dt=>{it(dt,lt)})}return this},at.prototype.hasClass=function(ct){return this.some(lt=>rt(lt,ct))}}},function(_e,tt,et){_e.exports=()=>typeof document<"u"&&"classList"in document.createElement("a")},function(_e,tt,et){const nt=et(557);_e.exports=function(rt){let it=0,ot=0;const st=function(dt,ut,ft){const pt={},vt=function(mt){switch(mt){case"width":return new rt(dt).width();case"height":return new rt(dt).height();default:return new rt(dt).css(mt)}};ut.forEach(ht=>{pt[ht]=vt(ht)});const Ct=new(typeof window!==void 0?window:commonjsGlobal).MutationObserver(ht=>{const mt={};ht.forEach(yt=>{if(yt.attributeName!=="style")return;const Et=new rt(dt).isDisplayNone();ut.forEach(Rt=>{if(Et&&(Rt==="width"||Rt==="height"))return;const Pt=vt(Rt);Pt!==pt[Rt]&&(mt[Rt]=[pt[Rt],Pt],pt[Rt]=Pt)})}),nt(mt)||setTimeout(()=>{ft.call(null,mt)})});return Ct.observe(dt,{attributes:!0,attributeFilter:["style"],childList:!1,characterData:!1,subtree:!1}),Ct},at=function(dt,ut){const ft=new(typeof window!==void 0?window:commonjsGlobal).MutationObserver(vt=>{let Ct=[];vt.forEach(ht=>{ht.removedNodes.length&&(Ct=Ct.concat(Array.prototype.slice.call(ht.removedNodes)))}),Ct.length&&setTimeout(()=>{ut(new rt(Ct))})});ft.observe(dt,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),ot++;const pt=ft.disconnect;return ft.disconnect=function(){pt.apply(ft,arguments),ot--},ft},ct=function(dt,ut){let ft={width:0,height:0};const pt=setInterval(()=>{const vt=dt.getBoundingClientRect();(ft.width!==vt.width||ft.height!==vt.height)&&(ut(vt,ft),ft={width:vt.width,height:vt.height})},1e3/5);return it++,{disconnect(){clearInterval(pt),it--}}};rt.prototype.observeStyleChanges=function(lt,dt){const ut=[];return this.forEach(ft=>{ut.push(st(ft,lt,dt))}),ut},rt.prototype.observeNodeOrChildNodeRemoval=function(lt){const dt=[];return this.forEach(ut=>{dt.push(at(ut,lt))}),dt},rt.prototype.observeSize=function(lt){const dt=[];return this.forEach(ut=>{dt.push(ct(ut,lt))}),dt},rt._attachToOTHelpers.observeStyleChanges=function(lt,dt,ut){return new rt(lt).observeStyleChanges(dt,ut)[0]},rt._attachToOTHelpers.observeNodeOrChildNodeRemoval=function(lt,dt){return new rt(lt).observeNodeOrChildNodeRemoval(dt)[0]},rt.__testOnly||(rt.__testOnly={}),rt.__testOnly.sizeObserverCount=function(){return it},rt.__testOnly.nodeRemovalObserverCount=function(){return ot}}},function(_e,tt,et){var nt=et(116),rt=et(42),it=et(64),ot=et(12),st=et(25),at=et(65),ct=et(68),lt=et(86),dt="[object Map]",ut="[object Set]",ft=Object.prototype,pt=ft.hasOwnProperty;function vt(Ct){if(Ct==null)return!0;if(st(Ct)&&(ot(Ct)||typeof Ct=="string"||typeof Ct.splice=="function"||at(Ct)||lt(Ct)||it(Ct)))return!Ct.length;var ht=rt(Ct);if(ht==dt||ht==ut)return!Ct.size;if(ct(Ct))return!nt(Ct).length;for(var mt in Ct)if(pt.call(Ct,mt))return!1;return!0}_e.exports=vt},function(_e,tt,et){_e.exports={1004:"Authentication error",1005:"Invalid Session ID",1006:"Connect Failed",1007:"Connect Rejected",1008:"Connect Time-out",1009:"Security Error",1010:"Not Connected",1011:"Invalid Parameter",1012:"Peer-to-peer Stream Play Failed",1013:"Connection Failed",1014:"API Response Failure",1015:"PeerConnection not connected, cannot call this method",1021:"Request Timeout",1026:"Terms of Service Violation: Export Compliance",1027:"Connection Limit Exceeded",1040:"Set Video Source Failure",1041:"Invalid Video Source",1500:"Unable to Publish",1501:"Unable to Subscribe",1502:"Unsupported Video Codec",1503:"No TURN server found",1520:"Unable to Force Disconnect",1530:"Unable to Force Unpublish",1540:"Unable to Force Mute",1553:"Publisher ICEWorkflow failed",1554:"Subscriber ICEWorkflow failed",1600:"createOffer, createAnswer, setLocalDescription, setRemoteDescription",1605:"Stream Limit Exceeded",2e3:"Internal Error",2001:"Unexpected Server Response",2021:"Proxy URL Timing Error",2022:"Proxy URL Already Set Error",2031:"getRtcStatsReport is not supported in this browser",4e3:"WebSocket Connection Failed",4001:"WebSocket Network Disconnected",5001:"Unable to access media engine"}},function(_e,tt,et){const nt=et(17);_e.exports=function(it,ot,st,at,ct){let lt,dt=st;it.currentState=st;const ut=function(pt){if(dt!==pt){if(ot.indexOf(pt)===-1){ct&&nt(ct)&&ct("invalidState",pt);return}it.previousState=dt,lt=dt,it.currentState=pt,dt=pt,at&&nt(at)&&at(pt,lt)}};return it.is=function(){return Array.prototype.indexOf.call(arguments,dt)!==-1},it.isNot=function(){return Array.prototype.indexOf.call(arguments,dt)===-1},ut}},function(_e,tt,et){const nt=et(247),rt={};_e.exports=rt,rt.isElementNode=function(it){return it&&typeof it=="object"&&it.nodeType===1},rt.createElement=function(it,ot,st,at){const ct=(at||document).createElement(it);ot=ot||{},Object.keys(ot).forEach(dt=>{if(typeof ot[dt]=="object"){ct[dt]||(ct[dt]={});const ut=ot[dt];Object.keys(ut).forEach(ft=>{ct[dt][ft]=ut[ft]})}else dt==="className"?ct.className=ot[dt]:ct.setAttribute(dt,ot[dt])});const lt=function(ut){typeof ut=="string"?ct.innerHTML+=ut:ct.appendChild(ut)};return Array.isArray(st)?st.forEach(lt):st&&lt(st),ct},nt(rt)},function(_e,tt,et){const nt=et(562);_e.exports=(rt,it)=>{if(typeof rt=="string"&&typeof it=="string"){const ot=nt(rt),st=it.match(/(\w+:\/\/)(.*)/),at=st[1],ct=st[2];return`${at}${ot}/${ct}`}return it}},function(_e,tt,et){_e.exports=nt=>nt.replace(/\/+$/,"").replace(/^.*:\/+/,"")},function(_e,tt,et){const nt=et(564);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.isSessionProxied||et(565),ot=rt,st=ot.sessionId;it(st)&&nt.forEach(at=>{at in rt&&(rt[at]="")})}},function(_e,tt,et){_e.exports=["audioLocalAddress","audioRemoteAddress","videoLocalAddress","videoRemoteAddress"]},function(_e,tt,et){const rt=et(22).sessions;_e.exports=it=>{const ot=rt.get(it);return ot?!!ot._.getProxyUrl():!1}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot={architecture:"event_ua_arch",bitness:"event_ua_bitness",model:"event_ua_model",platformVersion:"event_ua_platform_version"},st=function(){var at=(0,it.default)(rt.default.mark(function ct(lt){var dt,ut;return rt.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(dt={},!(lt!=null&&lt.getHighEntropyValues)){pt.next=6;break}return pt.next=4,lt.getHighEntropyValues(Object.keys(ot));case 4:ut=pt.sent,ut&&Object.entries(ot).forEach(vt=>{let Ct=vt[0],ht=vt[1];ut[Ct]!==void 0&&(dt[ht]=ut[Ct])});case 6:return pt.abrupt("return",dt);case 7:case"end":return pt.stop()}},ct)}));return function(lt){return at.apply(this,arguments)}}();_e.exports=st},function(_e,tt,et){const nt=["buildHash","minimumVersion","debug",["websiteURL","websiteUrl"],["cdnURL","cdnUrl"],["loggingURL","loggingUrl"],["apiURL","apiUrl"],["supportSSL",!0],["cdnURLSSL","cdnUrl"],["loggingURLSSL","loggingUrl"],["apiURLSSL","apiUrl"],["assetURL","assetUrl"]];_e.exports=nt},function(_e,tt,et){const nt=["apiUrl","apiURL","apiURLSSL"];_e.exports=nt},function(_e,tt,et){_e.exports=function(){const rt=(typeof window!==void 0?window:commonjsGlobal).OT,it=(typeof window!==void 0?window:commonjsGlobal).TB;return()=>{const ot=(typeof window!==void 0?window:commonjsGlobal).OT;return(typeof window!==void 0?window:commonjsGlobal).OT=rt,(typeof window!==void 0?window:commonjsGlobal).TB=it,ot}}},function(_e,tt,et){const nt=rt=>{const it={};return Object.getOwnPropertyNames(rt).forEach(ot=>{it[ot]=Object.getOwnPropertyDescriptor(rt,ot)}),it};_e.exports=function(it){function ot(){for(var st=arguments.length,at=new Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct];const lt=new it(...at);return Object.setPrototypeOf(lt,ot.prototype),lt}return ot.prototype=Object.create(it.prototype),Object.defineProperties(ot.prototype,nt(it.prototype)),Object.keys(it).forEach(st=>{ot[st]=it[st]}),ot}},function(_e,tt,et){var nt=et(27);_e.exports=function(rt,it){var ot=rt&&rt.window,st={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var at in it)hasOwnProperty.call(it,at)&&(st[at]=it[at]);var ct=nt.log,lt=nt.detectBrowser(ot),dt=et(572)||null,ut=et(574)||null,ft=et(578)||null,pt=et(580)||null,vt=et(581)||null,Ct={browserDetails:lt,commonShim:vt,extractVersion:nt.extractVersion,disableLog:nt.disableLog,disableWarnings:nt.disableWarnings};switch(lt.browser){case"chrome":if(!dt||!dt.shimPeerConnection||!st.shimChrome)return ct("Chrome shim is not included in this adapter release."),Ct;ct("adapter.js shimming chrome."),Ct.browserShim=dt,vt.shimCreateObjectURL(ot),dt.shimGetUserMedia(ot),dt.shimMediaStream(ot),dt.shimSourceObject(ot),dt.shimPeerConnection(ot),dt.shimOnTrack(ot),dt.shimAddTrackRemoveTrack(ot),dt.shimGetSendersWithDtmf(ot),dt.shimSenderReceiverGetStats(ot),dt.fixNegotiationNeeded(ot),vt.shimRTCIceCandidate(ot),vt.shimMaxMessageSize(ot),vt.shimSendThrowTypeError(ot);break;case"firefox":if(!ft||!ft.shimPeerConnection||!st.shimFirefox)return ct("Firefox shim is not included in this adapter release."),Ct;ct("adapter.js shimming firefox."),Ct.browserShim=ft,vt.shimCreateObjectURL(ot),ft.shimGetUserMedia(ot),ft.shimSourceObject(ot),ft.shimPeerConnection(ot),ft.shimOnTrack(ot),ft.shimRemoveStream(ot),ft.shimSenderGetStats(ot),ft.shimReceiverGetStats(ot),ft.shimRTCDataChannel(ot),vt.shimRTCIceCandidate(ot),vt.shimMaxMessageSize(ot),vt.shimSendThrowTypeError(ot);break;case"edge":if(!ut||!ut.shimPeerConnection||!st.shimEdge)return ct("MS edge shim is not included in this adapter release."),Ct;ct("adapter.js shimming edge."),Ct.browserShim=ut,vt.shimCreateObjectURL(ot),ut.shimGetUserMedia(ot),ut.shimPeerConnection(ot),ut.shimReplaceTrack(ot),ut.shimGetDisplayMedia(ot),vt.shimMaxMessageSize(ot),vt.shimSendThrowTypeError(ot);break;case"safari":if(!pt||!st.shimSafari)return ct("Safari shim is not included in this adapter release."),Ct;ct("adapter.js shimming safari."),Ct.browserShim=pt,vt.shimCreateObjectURL(ot),pt.shimRTCIceServerUrls(ot),pt.shimCreateOfferLegacy(ot),pt.shimCallbacksAPI(ot),pt.shimLocalStreamsAPI(ot),pt.shimRemoteStreamsAPI(ot),pt.shimTrackEventTransceiver(ot),pt.shimGetUserMedia(ot),vt.shimRTCIceCandidate(ot),vt.shimMaxMessageSize(ot),vt.shimSendThrowTypeError(ot);break;default:ct("Unsupported browser!");break}return Ct}},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;function ot(at,ct,lt){!ct||lt.has(ct.id)||(lt.set(ct.id,ct),Object.keys(ct).forEach(function(dt){dt.endsWith("Id")?ot(at,at.get(ct[dt]),lt):dt.endsWith("Ids")&&ct[dt].forEach(function(ut){ot(at,at.get(ut),lt)})}))}function st(at,ct,lt){var dt=lt?"outbound-rtp":"inbound-rtp",ut=new Map;if(ct===null)return ut;var ft=[];return at.forEach(function(pt){pt.type==="track"&&pt.trackIdentifier===ct.id&&ft.push(pt)}),ft.forEach(function(pt){at.forEach(function(vt){vt.type===dt&&vt.trackId===pt.id&&ot(at,vt,ut)})}),ut}_e.exports={shimGetUserMedia:et(573),shimMediaStream:function(at){at.MediaStream=at.MediaStream||at.webkitMediaStream},shimOnTrack:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&!("ontrack"in at.RTCPeerConnection.prototype)){Object.defineProperty(at.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(lt){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=lt)},enumerable:!0,configurable:!0});var ct=at.RTCPeerConnection.prototype.setRemoteDescription;at.RTCPeerConnection.prototype.setRemoteDescription=function(){var lt=this;return lt._ontrackpoly||(lt._ontrackpoly=function(dt){dt.stream.addEventListener("addtrack",function(ut){var ft;at.RTCPeerConnection.prototype.getReceivers?ft=lt.getReceivers().find(function(vt){return vt.track&&vt.track.id===ut.track.id}):ft={track:ut.track};var pt=new Event("track");pt.track=ut.track,pt.receiver=ft,pt.transceiver={receiver:ft},pt.streams=[dt.stream],lt.dispatchEvent(pt)}),dt.stream.getTracks().forEach(function(ut){var ft;at.RTCPeerConnection.prototype.getReceivers?ft=lt.getReceivers().find(function(vt){return vt.track&&vt.track.id===ut.id}):ft={track:ut};var pt=new Event("track");pt.track=ut,pt.receiver=ft,pt.transceiver={receiver:ft},pt.streams=[dt.stream],lt.dispatchEvent(pt)})},lt.addEventListener("addstream",lt._ontrackpoly)),ct.apply(lt,arguments)}}else rt.wrapPeerConnectionEvent(at,"track",function(lt){return lt.transceiver||Object.defineProperty(lt,"transceiver",{value:{receiver:lt.receiver}}),lt})},shimGetSendersWithDtmf:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&!("getSenders"in at.RTCPeerConnection.prototype)&&"createDTMFSender"in at.RTCPeerConnection.prototype){var ct=function(vt,Ct){return{track:Ct,get dtmf(){return this._dtmf===void 0&&(Ct.kind==="audio"?this._dtmf=vt.createDTMFSender(Ct):this._dtmf=null),this._dtmf},_pc:vt}};if(!at.RTCPeerConnection.prototype.getSenders){at.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var lt=at.RTCPeerConnection.prototype.addTrack;at.RTCPeerConnection.prototype.addTrack=function(vt,Ct){var ht=this,mt=lt.apply(ht,arguments);return mt||(mt=ct(ht,vt),ht._senders.push(mt)),mt};var dt=at.RTCPeerConnection.prototype.removeTrack;at.RTCPeerConnection.prototype.removeTrack=function(vt){var Ct=this;dt.apply(Ct,arguments);var ht=Ct._senders.indexOf(vt);ht!==-1&&Ct._senders.splice(ht,1)}}var ut=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(vt){var Ct=this;Ct._senders=Ct._senders||[],ut.apply(Ct,[vt]),vt.getTracks().forEach(function(ht){Ct._senders.push(ct(Ct,ht))})};var ft=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(vt){var Ct=this;Ct._senders=Ct._senders||[],ft.apply(Ct,[vt]),vt.getTracks().forEach(function(ht){var mt=Ct._senders.find(function(yt){return yt.track===ht});mt&&Ct._senders.splice(Ct._senders.indexOf(mt),1)})}}else if(typeof at=="object"&&at.RTCPeerConnection&&"getSenders"in at.RTCPeerConnection.prototype&&"createDTMFSender"in at.RTCPeerConnection.prototype&&at.RTCRtpSender&&!("dtmf"in at.RTCRtpSender.prototype)){var pt=at.RTCPeerConnection.prototype.getSenders;at.RTCPeerConnection.prototype.getSenders=function(){var vt=this,Ct=pt.apply(vt,[]);return Ct.forEach(function(ht){ht._pc=vt}),Ct},Object.defineProperty(at.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(at){if(typeof at=="object"&&at.RTCPeerConnection&&at.RTCRtpSender&&at.RTCRtpReceiver){if(!("getStats"in at.RTCRtpSender.prototype)){var ct=at.RTCPeerConnection.prototype.getSenders;ct&&(at.RTCPeerConnection.prototype.getSenders=function(){var ft=this,pt=ct.apply(ft,[]);return pt.forEach(function(vt){vt._pc=ft}),pt});var lt=at.RTCPeerConnection.prototype.addTrack;lt&&(at.RTCPeerConnection.prototype.addTrack=function(){var ft=lt.apply(this,arguments);return ft._pc=this,ft}),at.RTCRtpSender.prototype.getStats=function(){var ft=this;return this._pc.getStats().then(function(pt){return st(pt,ft.track,!0)})}}if(!("getStats"in at.RTCRtpReceiver.prototype)){var dt=at.RTCPeerConnection.prototype.getReceivers;dt&&(at.RTCPeerConnection.prototype.getReceivers=function(){var ft=this,pt=dt.apply(ft,[]);return pt.forEach(function(vt){vt._pc=ft}),pt}),rt.wrapPeerConnectionEvent(at,"track",function(ft){return ft.receiver._pc=ft.srcElement,ft}),at.RTCRtpReceiver.prototype.getStats=function(){var ft=this;return this._pc.getStats().then(function(pt){return st(pt,ft.track,!1)})}}if("getStats"in at.RTCRtpSender.prototype&&"getStats"in at.RTCRtpReceiver.prototype){var ut=at.RTCPeerConnection.prototype.getStats;at.RTCPeerConnection.prototype.getStats=function(){var ft=this;if(arguments.length>0&&arguments[0]instanceof at.MediaStreamTrack){var pt=arguments[0],vt,Ct,ht;return ft.getSenders().forEach(function(mt){mt.track===pt&&(vt?ht=!0:vt=mt)}),ft.getReceivers().forEach(function(mt){return mt.track===pt&&(Ct?ht=!0:Ct=mt),mt.track===pt}),ht||vt&&Ct?nt.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):vt?vt.getStats():Ct?Ct.getStats():nt.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return ut.apply(ft,arguments)}}}},shimSourceObject:function(at){var ct=at&&at.URL;typeof at=="object"&&at.HTMLMediaElement&&!("srcObject"in at.HTMLMediaElement.prototype)&&Object.defineProperty(at.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(lt){var dt=this;if(this._srcObject=lt,this.src&&ct.revokeObjectURL(this.src),!lt){this.src="";return}this.src=ct.createObjectURL(lt),lt.addEventListener("addtrack",function(){dt.src&&ct.revokeObjectURL(dt.src),dt.src=ct.createObjectURL(lt)}),lt.addEventListener("removetrack",function(){dt.src&&ct.revokeObjectURL(dt.src),dt.src=ct.createObjectURL(lt)})}})},shimAddTrackRemoveTrackWithNative:function(at){at.RTCPeerConnection.prototype.getLocalStreams=function(){var ft=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(pt){return ft._shimmedLocalStreams[pt][0]})};var ct=at.RTCPeerConnection.prototype.addTrack;at.RTCPeerConnection.prototype.addTrack=function(ft,pt){if(!pt)return ct.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var vt=ct.apply(this,arguments);return this._shimmedLocalStreams[pt.id]?this._shimmedLocalStreams[pt.id].indexOf(vt)===-1&&this._shimmedLocalStreams[pt.id].push(vt):this._shimmedLocalStreams[pt.id]=[pt,vt],vt};var lt=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(ft){var pt=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},ft.getTracks().forEach(function(ht){var mt=pt.getSenders().find(function(yt){return yt.track===ht});if(mt)throw new DOMException("Track already exists.","InvalidAccessError")});var vt=pt.getSenders();lt.apply(this,arguments);var Ct=pt.getSenders().filter(function(ht){return vt.indexOf(ht)===-1});this._shimmedLocalStreams[ft.id]=[ft].concat(Ct)};var dt=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(ft){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[ft.id],dt.apply(this,arguments)};var ut=at.RTCPeerConnection.prototype.removeTrack;at.RTCPeerConnection.prototype.removeTrack=function(ft){var pt=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},ft&&Object.keys(this._shimmedLocalStreams).forEach(function(vt){var Ct=pt._shimmedLocalStreams[vt].indexOf(ft);Ct!==-1&&pt._shimmedLocalStreams[vt].splice(Ct,1),pt._shimmedLocalStreams[vt].length===1&&delete pt._shimmedLocalStreams[vt]}),ut.apply(this,arguments)}},shimAddTrackRemoveTrack:function(at){if(!at.RTCPeerConnection)return;var ct=rt.detectBrowser(at);if(at.RTCPeerConnection.prototype.addTrack&&ct.version>=65)return this.shimAddTrackRemoveTrackWithNative(at);var lt=at.RTCPeerConnection.prototype.getLocalStreams;at.RTCPeerConnection.prototype.getLocalStreams=function(){var ht=this,mt=lt.apply(this);return ht._reverseStreams=ht._reverseStreams||{},mt.map(function(yt){return ht._reverseStreams[yt.id]})};var dt=at.RTCPeerConnection.prototype.addStream;at.RTCPeerConnection.prototype.addStream=function(ht){var mt=this;if(mt._streams=mt._streams||{},mt._reverseStreams=mt._reverseStreams||{},ht.getTracks().forEach(function(Et){var Rt=mt.getSenders().find(function(Pt){return Pt.track===Et});if(Rt)throw new DOMException("Track already exists.","InvalidAccessError")}),!mt._reverseStreams[ht.id]){var yt=new at.MediaStream(ht.getTracks());mt._streams[ht.id]=yt,mt._reverseStreams[yt.id]=ht,ht=yt}dt.apply(mt,[ht])};var ut=at.RTCPeerConnection.prototype.removeStream;at.RTCPeerConnection.prototype.removeStream=function(ht){var mt=this;mt._streams=mt._streams||{},mt._reverseStreams=mt._reverseStreams||{},ut.apply(mt,[mt._streams[ht.id]||ht]),delete mt._reverseStreams[mt._streams[ht.id]?mt._streams[ht.id].id:ht.id],delete mt._streams[ht.id]},at.RTCPeerConnection.prototype.addTrack=function(ht,mt){var yt=this;if(yt.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var Et=[].slice.call(arguments,1);if(Et.length!==1||!Et[0].getTracks().find(function(Nt){return Nt===ht}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var Rt=yt.getSenders().find(function(Nt){return Nt.track===ht});if(Rt)throw new DOMException("Track already exists.","InvalidAccessError");yt._streams=yt._streams||{},yt._reverseStreams=yt._reverseStreams||{};var Pt=yt._streams[mt.id];if(Pt)Pt.addTrack(ht),nt.resolve().then(function(){yt.dispatchEvent(new Event("negotiationneeded"))});else{var Vt=new at.MediaStream([ht]);yt._streams[mt.id]=Vt,yt._reverseStreams[Vt.id]=mt,yt.addStream(Vt)}return yt.getSenders().find(function(Nt){return Nt.track===ht})};function ft(ht,mt){var yt=mt.sdp;return Object.keys(ht._reverseStreams||[]).forEach(function(Et){var Rt=ht._reverseStreams[Et],Pt=ht._streams[Rt.id];yt=yt.replace(new RegExp(Pt.id,"g"),Rt.id)}),new RTCSessionDescription({type:mt.type,sdp:yt})}function pt(ht,mt){var yt=mt.sdp;return Object.keys(ht._reverseStreams||[]).forEach(function(Et){var Rt=ht._reverseStreams[Et],Pt=ht._streams[Rt.id];yt=yt.replace(new RegExp(Rt.id,"g"),Pt.id)}),new RTCSessionDescription({type:mt.type,sdp:yt})}["createOffer","createAnswer"].forEach(function(ht){var mt=at.RTCPeerConnection.prototype[ht];at.RTCPeerConnection.prototype[ht]=function(){var yt=this,Et=arguments,Rt=arguments.length&&typeof arguments[0]=="function";return Rt?mt.apply(yt,[function(Pt){var Vt=ft(yt,Pt);Et[0].apply(null,[Vt])},function(Pt){Et[1]&&Et[1].apply(null,Pt)},arguments[2]]):mt.apply(yt,arguments).then(function(Pt){return ft(yt,Pt)})}});var vt=at.RTCPeerConnection.prototype.setLocalDescription;at.RTCPeerConnection.prototype.setLocalDescription=function(){var ht=this;return!arguments.length||!arguments[0].type||(arguments[0]=pt(ht,arguments[0])),vt.apply(ht,arguments)};var Ct=Object.getOwnPropertyDescriptor(at.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(at.RTCPeerConnection.prototype,"localDescription",{get:function(){var ht=this,mt=Ct.get.apply(this);return mt.type===""?mt:ft(ht,mt)}}),at.RTCPeerConnection.prototype.removeTrack=function(ht){var mt=this;if(mt.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ht._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var yt=ht._pc===mt;if(!yt)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");mt._streams=mt._streams||{};var Et;Object.keys(mt._streams).forEach(function(Rt){var Pt=mt._streams[Rt].getTracks().find(function(Vt){return ht.track===Vt});Pt&&(Et=mt._streams[Rt])}),Et&&(Et.getTracks().length===1?mt.removeStream(mt._reverseStreams[Et.id]):Et.removeTrack(ht.track),mt.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(at){var ct=rt.detectBrowser(at);if(!at.RTCPeerConnection&&at.webkitRTCPeerConnection&&(at.RTCPeerConnection=function(ut,ft){return it("PeerConnection"),ut&&ut.iceTransportPolicy&&(ut.iceTransports=ut.iceTransportPolicy),new at.webkitRTCPeerConnection(ut,ft)},at.RTCPeerConnection.prototype=at.webkitRTCPeerConnection.prototype,at.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(at.RTCPeerConnection,"generateCertificate",{get:function(){return at.webkitRTCPeerConnection.generateCertificate}})),!!at.RTCPeerConnection){var lt=at.RTCPeerConnection.prototype.getStats;at.RTCPeerConnection.prototype.getStats=function(ut,ft,pt){var vt=this,Ct=arguments;if(arguments.length>0&&typeof ut=="function")return lt.apply(this,arguments);if(lt.length===0&&(arguments.length===0||typeof arguments[0]!="function"))return lt.apply(this,[]);var ht=function(Et){var Rt={},Pt=Et.result();return Pt.forEach(function(Vt){var Nt={id:Vt.id,timestamp:Vt.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Vt.type]||Vt.type};Vt.names().forEach(function(kt){Nt[kt]=Vt.stat(kt)}),Rt[Nt.id]=Nt}),Rt},mt=function(Et){return new Map(Object.keys(Et).map(function(Rt){return[Rt,Et[Rt]]}))};if(arguments.length>=2){var yt=function(Et){Ct[1](mt(ht(Et)))};return lt.apply(this,[yt,arguments[0]])}return new nt(function(Et,Rt){lt.apply(vt,[function(Pt){Et(mt(ht(Pt)))},Rt])}).then(ft,pt)},ct.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){var pt=arguments,vt=this,Ct=new nt(function(ht,mt){ft.apply(vt,[pt[0],ht,mt])});return pt.length<2?Ct:Ct.then(function(){pt[1].apply(null,[])},function(ht){pt.length>=3&&pt[2].apply(null,[ht])})}}),ct.version<52&&["createOffer","createAnswer"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){var pt=this;if(arguments.length<1||arguments.length===1&&typeof arguments[0]=="object"){var vt=arguments.length===1?arguments[0]:void 0;return new nt(function(Ct,ht){ft.apply(pt,[Ct,ht,vt])})}return ft.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ut){var ft=at.RTCPeerConnection.prototype[ut];at.RTCPeerConnection.prototype[ut]=function(){return arguments[0]=new(ut==="addIceCandidate"?at.RTCIceCandidate:at.RTCSessionDescription)(arguments[0]),ft.apply(this,arguments)}});var dt=at.RTCPeerConnection.prototype.addIceCandidate;at.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?dt.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),nt.resolve())}}},fixNegotiationNeeded:function(at){rt.wrapPeerConnectionEvent(at,"negotiationneeded",function(ct){var lt=ct.target;if(lt.signalingState==="stable")return ct})},shimGetDisplayMedia:function(at,ct){if(!(!at.navigator||!at.navigator.mediaDevices||"getDisplayMedia"in at.navigator.mediaDevices)){if(typeof ct!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}at.navigator.mediaDevices.getDisplayMedia=function(lt){return ct(lt).then(function(dt){var ut=lt.video&&lt.video.width,ft=lt.video&&lt.video.height,pt=lt.video&&lt.video.frameRate;return lt.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:dt,maxFrameRate:pt||3}},ut&&(lt.video.mandatory.maxWidth=ut),ft&&(lt.video.mandatory.maxHeight=ft),at.navigator.mediaDevices.getUserMedia(lt)})},at.navigator.getDisplayMedia=function(lt){return rt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),at.navigator.mediaDevices.getDisplayMedia(lt)}}}}}).call(this,et(2))},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;_e.exports=function(ot){var st=rt.detectBrowser(ot),at=ot&&ot.navigator,ct=function(vt){if(typeof vt!="object"||vt.mandatory||vt.optional)return vt;var Ct={};return Object.keys(vt).forEach(function(ht){if(!(ht==="require"||ht==="advanced"||ht==="mediaSource")){var mt=typeof vt[ht]=="object"?vt[ht]:{ideal:vt[ht]};mt.exact!==void 0&&typeof mt.exact=="number"&&(mt.min=mt.max=mt.exact);var yt=function(Rt,Pt){return Rt?Rt+Pt.charAt(0).toUpperCase()+Pt.slice(1):Pt==="deviceId"?"sourceId":Pt};if(mt.ideal!==void 0){Ct.optional=Ct.optional||[];var Et={};typeof mt.ideal=="number"?(Et[yt("min",ht)]=mt.ideal,Ct.optional.push(Et),Et={},Et[yt("max",ht)]=mt.ideal,Ct.optional.push(Et)):(Et[yt("",ht)]=mt.ideal,Ct.optional.push(Et))}mt.exact!==void 0&&typeof mt.exact!="number"?(Ct.mandatory=Ct.mandatory||{},Ct.mandatory[yt("",ht)]=mt.exact):["min","max"].forEach(function(Rt){mt[Rt]!==void 0&&(Ct.mandatory=Ct.mandatory||{},Ct.mandatory[yt(Rt,ht)]=mt[Rt])})}}),vt.advanced&&(Ct.optional=(Ct.optional||[]).concat(vt.advanced)),Ct},lt=function(vt,Ct){if(st.version>=61)return Ct(vt);if(vt=JSON.parse(JSON.stringify(vt)),vt&&typeof vt.audio=="object"){var ht=function(Rt,Pt,Vt){Pt in Rt&&!(Vt in Rt)&&(Rt[Vt]=Rt[Pt],delete Rt[Pt])};vt=JSON.parse(JSON.stringify(vt)),ht(vt.audio,"autoGainControl","googAutoGainControl"),ht(vt.audio,"noiseSuppression","googNoiseSuppression"),vt.audio=ct(vt.audio)}if(vt&&typeof vt.video=="object"){var mt=vt.video.facingMode;mt=mt&&(typeof mt=="object"?mt:{ideal:mt});var yt=st.version<66;if(mt&&(mt.exact==="user"||mt.exact==="environment"||mt.ideal==="user"||mt.ideal==="environment")&&!(at.mediaDevices.getSupportedConstraints&&at.mediaDevices.getSupportedConstraints().facingMode&&!yt)){delete vt.video.facingMode;var Et;if(mt.exact==="environment"||mt.ideal==="environment"?Et=["back","rear"]:(mt.exact==="user"||mt.ideal==="user")&&(Et=["front"]),Et)return at.mediaDevices.enumerateDevices().then(function(Rt){Rt=Rt.filter(function(Vt){return Vt.kind==="videoinput"});var Pt=Rt.find(function(Vt){return Et.some(function(Nt){return Vt.label.toLowerCase().indexOf(Nt)!==-1})});return!Pt&&Rt.length&&Et.indexOf("back")!==-1&&(Pt=Rt[Rt.length-1]),Pt&&(vt.video.deviceId=mt.exact?{exact:Pt.deviceId}:{ideal:Pt.deviceId}),vt.video=ct(vt.video),it("chrome: "+JSON.stringify(vt)),Ct(vt)})}vt.video=ct(vt.video)}return it("chrome: "+JSON.stringify(vt)),Ct(vt)},dt=function(vt){return st.version>=64?vt:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[vt.name]||vt.name,message:vt.message,constraint:vt.constraint||vt.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},ut=function(vt,Ct,ht){lt(vt,function(mt){at.webkitGetUserMedia(mt,Ct,function(yt){ht&&ht(dt(yt))})})};at.getUserMedia=ut;var ft=function(vt){return new nt(function(Ct,ht){at.getUserMedia(vt,Ct,ht)})};if(at.mediaDevices||(at.mediaDevices={getUserMedia:ft,enumerateDevices:function(){return new nt(function(vt){var Ct={audio:"audioinput",video:"videoinput"};return ot.MediaStreamTrack.getSources(function(ht){vt(ht.map(function(mt){return{label:mt.label,kind:Ct[mt.kind],deviceId:mt.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),!at.mediaDevices.getUserMedia)at.mediaDevices.getUserMedia=function(vt){return ft(vt)};else{var pt=at.mediaDevices.getUserMedia.bind(at.mediaDevices);at.mediaDevices.getUserMedia=function(vt){return lt(vt,function(Ct){return pt(Ct).then(function(ht){if(Ct.audio&&!ht.getAudioTracks().length||Ct.video&&!ht.getVideoTracks().length)throw ht.getTracks().forEach(function(mt){mt.stop()}),new DOMException("","NotFoundError");return ht},function(ht){return nt.reject(dt(ht))})})}}typeof at.mediaDevices.addEventListener>"u"&&(at.mediaDevices.addEventListener=function(){it("Dummy mediaDevices.addEventListener called.")}),typeof at.mediaDevices.removeEventListener>"u"&&(at.mediaDevices.removeEventListener=function(){it("Dummy mediaDevices.removeEventListener called.")})}}).call(this,et(2))},function(_e,tt,et){var nt=et(27),rt=et(575),it=et(576);_e.exports={shimGetUserMedia:et(577),shimPeerConnection:function(ot){var st=nt.detectBrowser(ot);if(ot.RTCIceGatherer&&(ot.RTCIceCandidate||(ot.RTCIceCandidate=function(lt){return lt}),ot.RTCSessionDescription||(ot.RTCSessionDescription=function(lt){return lt}),st.version<15025)){var at=Object.getOwnPropertyDescriptor(ot.MediaStreamTrack.prototype,"enabled");Object.defineProperty(ot.MediaStreamTrack.prototype,"enabled",{set:function(lt){at.set.call(this,lt);var dt=new Event("enabled");dt.enabled=lt,this.dispatchEvent(dt)}})}ot.RTCRtpSender&&!("dtmf"in ot.RTCRtpSender.prototype)&&Object.defineProperty(ot.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new ot.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),ot.RTCDtmfSender&&!ot.RTCDTMFSender&&(ot.RTCDTMFSender=ot.RTCDtmfSender);var ct=it(ot,st.version);ot.RTCPeerConnection=function(lt){return lt&&lt.iceServers&&(lt.iceServers=rt(lt.iceServers)),new ct(lt)},ot.RTCPeerConnection.prototype=ct.prototype},shimReplaceTrack:function(ot){ot.RTCRtpSender&&!("replaceTrack"in ot.RTCRtpSender.prototype)&&(ot.RTCRtpSender.prototype.replaceTrack=ot.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(ot,st){if(!(!("getDisplayMedia"in ot.navigator)||!ot.navigator.mediaDevices||"getDisplayMedia"in ot.navigator.mediaDevices)){var at=ot.navigator.getDisplayMedia;ot.navigator.mediaDevices.getDisplayMedia=function(ct){return at.call(ot.navigator,ct)},ot.navigator.getDisplayMedia=function(ct){return nt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),at.call(ot.navigator,ct)}}}}},function(_e,tt,et){var nt=et(27);_e.exports=function(rt,it){var ot=!1;return rt=JSON.parse(JSON.stringify(rt)),rt.filter(function(st){if(st&&(st.urls||st.url)){var at=st.urls||st.url;st.url&&!st.urls&&nt.deprecated("RTCIceServer.url","RTCIceServer.urls");var ct=typeof at=="string";return ct&&(at=[at]),at=at.filter(function(lt){var dt=lt.indexOf("turn:")===0&&lt.indexOf("transport=udp")!==-1&&lt.indexOf("turn:[")===-1&&!ot;return dt?(ot=!0,!0):lt.indexOf("stun:")===0&&it>=14393&&lt.indexOf("?transport=udp")===-1}),delete st.url,st.urls=ct?at[0]:at,!!at.length}})}},function(_e,tt,et){(function(nt){var rt=et(251);function it(ut){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[ut.type]||ut.type}function ot(ut,ft,pt,vt,Ct){var ht=rt.writeRtpDescription(ut.kind,ft);if(ht+=rt.writeIceParameters(ut.iceGatherer.getLocalParameters()),ht+=rt.writeDtlsParameters(ut.dtlsTransport.getLocalParameters(),pt==="offer"?"actpass":Ct||"active"),ht+="a=mid:"+ut.mid+`\r
`,ut.rtpSender&&ut.rtpReceiver?ht+=`a=sendrecv\r
`:ut.rtpSender?ht+=`a=sendonly\r
`:ut.rtpReceiver?ht+=`a=recvonly\r
`:ht+=`a=inactive\r
`,ut.rtpSender){var mt=ut.rtpSender._initialTrackId||ut.rtpSender.track.id;ut.rtpSender._initialTrackId=mt;var yt="msid:"+(vt?vt.id:"-")+" "+mt+`\r
`;ht+="a="+yt,ht+="a=ssrc:"+ut.sendEncodingParameters[0].ssrc+" "+yt,ut.sendEncodingParameters[0].rtx&&(ht+="a=ssrc:"+ut.sendEncodingParameters[0].rtx.ssrc+" "+yt,ht+="a=ssrc-group:FID "+ut.sendEncodingParameters[0].ssrc+" "+ut.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return ht+="a=ssrc:"+ut.sendEncodingParameters[0].ssrc+" cname:"+rt.localCName+`\r
`,ut.rtpSender&&ut.sendEncodingParameters[0].rtx&&(ht+="a=ssrc:"+ut.sendEncodingParameters[0].rtx.ssrc+" cname:"+rt.localCName+`\r
`),ht}function st(ut,ft){var pt=!1;return ut=JSON.parse(JSON.stringify(ut)),ut.filter(function(vt){if(vt&&(vt.urls||vt.url)){var Ct=vt.urls||vt.url;vt.url&&!vt.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var ht=typeof Ct=="string";return ht&&(Ct=[Ct]),Ct=Ct.filter(function(mt){var yt=mt.indexOf("turn:")===0&&mt.indexOf("transport=udp")!==-1&&mt.indexOf("turn:[")===-1&&!pt;return yt?(pt=!0,!0):mt.indexOf("stun:")===0&&ft>=14393&&mt.indexOf("?transport=udp")===-1}),delete vt.url,vt.urls=ht?Ct[0]:Ct,!!Ct.length}})}function at(ut,ft){var pt={codecs:[],headerExtensions:[],fecMechanisms:[]},vt=function(ht,mt){ht=parseInt(ht,10);for(var yt=0;yt<mt.length;yt++)if(mt[yt].payloadType===ht||mt[yt].preferredPayloadType===ht)return mt[yt]},Ct=function(ht,mt,yt,Et){var Rt=vt(ht.parameters.apt,yt),Pt=vt(mt.parameters.apt,Et);return Rt&&Pt&&Rt.name.toLowerCase()===Pt.name.toLowerCase()};return ut.codecs.forEach(function(ht){for(var mt=0;mt<ft.codecs.length;mt++){var yt=ft.codecs[mt];if(ht.name.toLowerCase()===yt.name.toLowerCase()&&ht.clockRate===yt.clockRate){if(ht.name.toLowerCase()==="rtx"&&ht.parameters&&yt.parameters.apt&&!Ct(ht,yt,ut.codecs,ft.codecs))continue;yt=JSON.parse(JSON.stringify(yt)),yt.numChannels=Math.min(ht.numChannels,yt.numChannels),pt.codecs.push(yt),yt.rtcpFeedback=yt.rtcpFeedback.filter(function(Et){for(var Rt=0;Rt<ht.rtcpFeedback.length;Rt++)if(ht.rtcpFeedback[Rt].type===Et.type&&ht.rtcpFeedback[Rt].parameter===Et.parameter)return!0;return!1});break}}}),ut.headerExtensions.forEach(function(ht){for(var mt=0;mt<ft.headerExtensions.length;mt++){var yt=ft.headerExtensions[mt];if(ht.uri===yt.uri){pt.headerExtensions.push(yt);break}}}),pt}function ct(ut,ft,pt){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[ft][ut].indexOf(pt)!==-1}function lt(ut,ft){var pt=ut.getRemoteCandidates().find(function(vt){return ft.foundation===vt.foundation&&ft.ip===vt.ip&&ft.port===vt.port&&ft.priority===vt.priority&&ft.protocol===vt.protocol&&ft.type===vt.type});return pt||ut.addRemoteCandidate(ft),!pt}function dt(ut,ft){var pt=new Error(ft);return pt.name=ut,pt.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[ut],pt}_e.exports=function(ut,ft){function pt(Et,Rt){Rt.addTrack(Et),Rt.dispatchEvent(new ut.MediaStreamTrackEvent("addtrack",{track:Et}))}function vt(Et,Rt){Rt.removeTrack(Et),Rt.dispatchEvent(new ut.MediaStreamTrackEvent("removetrack",{track:Et}))}function Ct(Et,Rt,Pt,Vt){var Nt=new Event("track");Nt.track=Rt,Nt.receiver=Pt,Nt.transceiver={receiver:Pt},Nt.streams=Vt,ut.setTimeout(function(){Et._dispatchEvent("track",Nt)})}var ht=function(Et){var Rt=this,Pt=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(Nt){Rt[Nt]=Pt[Nt].bind(Pt)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",Et=JSON.parse(JSON.stringify(Et||{})),this.usingBundle=Et.bundlePolicy==="max-bundle",Et.rtcpMuxPolicy==="negotiate")throw dt("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(Et.rtcpMuxPolicy||(Et.rtcpMuxPolicy="require"),Et.iceTransportPolicy){case"all":case"relay":break;default:Et.iceTransportPolicy="all";break}switch(Et.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:Et.bundlePolicy="balanced";break}if(Et.iceServers=st(Et.iceServers||[],ft),this._iceGatherers=[],Et.iceCandidatePoolSize)for(var Vt=Et.iceCandidatePoolSize;Vt>0;Vt--)this._iceGatherers.push(new ut.RTCIceGatherer({iceServers:Et.iceServers,gatherPolicy:Et.iceTransportPolicy}));else Et.iceCandidatePoolSize=0;this._config=Et,this.transceivers=[],this._sdpSessionId=rt.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(ht.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(ht.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),ht.prototype.onicecandidate=null,ht.prototype.onaddstream=null,ht.prototype.ontrack=null,ht.prototype.onremovestream=null,ht.prototype.onsignalingstatechange=null,ht.prototype.oniceconnectionstatechange=null,ht.prototype.onconnectionstatechange=null,ht.prototype.onicegatheringstatechange=null,ht.prototype.onnegotiationneeded=null,ht.prototype.ondatachannel=null,ht.prototype._dispatchEvent=function(Et,Rt){this._isClosed||(this.dispatchEvent(Rt),typeof this["on"+Et]=="function"&&this["on"+Et](Rt))},ht.prototype._emitGatheringStateChange=function(){var Et=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",Et)},ht.prototype.getConfiguration=function(){return this._config},ht.prototype.getLocalStreams=function(){return this.localStreams},ht.prototype.getRemoteStreams=function(){return this.remoteStreams},ht.prototype._createTransceiver=function(Et,Rt){var Pt=this.transceivers.length>0,Vt={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:Et,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&Pt)Vt.iceTransport=this.transceivers[0].iceTransport,Vt.dtlsTransport=this.transceivers[0].dtlsTransport;else{var Nt=this._createIceAndDtlsTransports();Vt.iceTransport=Nt.iceTransport,Vt.dtlsTransport=Nt.dtlsTransport}return Rt||this.transceivers.push(Vt),Vt},ht.prototype.addTrack=function(Et,Rt){if(this._isClosed)throw dt("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var Pt=this.transceivers.find(function(kt){return kt.track===Et});if(Pt)throw dt("InvalidAccessError","Track already exists.");for(var Vt,Nt=0;Nt<this.transceivers.length;Nt++)!this.transceivers[Nt].track&&this.transceivers[Nt].kind===Et.kind&&(Vt=this.transceivers[Nt]);return Vt||(Vt=this._createTransceiver(Et.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(Rt)===-1&&this.localStreams.push(Rt),Vt.track=Et,Vt.stream=Rt,Vt.rtpSender=new ut.RTCRtpSender(Et,Vt.dtlsTransport),Vt.rtpSender},ht.prototype.addStream=function(Et){var Rt=this;if(ft>=15025)Et.getTracks().forEach(function(Vt){Rt.addTrack(Vt,Et)});else{var Pt=Et.clone();Et.getTracks().forEach(function(Vt,Nt){var kt=Pt.getTracks()[Nt];Vt.addEventListener("enabled",function(wt){kt.enabled=wt.enabled})}),Pt.getTracks().forEach(function(Vt){Rt.addTrack(Vt,Pt)})}},ht.prototype.removeTrack=function(Et){if(this._isClosed)throw dt("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(Et instanceof ut.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var Rt=this.transceivers.find(function(Nt){return Nt.rtpSender===Et});if(!Rt)throw dt("InvalidAccessError","Sender was not created by this connection.");var Pt=Rt.stream;Rt.rtpSender.stop(),Rt.rtpSender=null,Rt.track=null,Rt.stream=null;var Vt=this.transceivers.map(function(Nt){return Nt.stream});Vt.indexOf(Pt)===-1&&this.localStreams.indexOf(Pt)>-1&&this.localStreams.splice(this.localStreams.indexOf(Pt),1),this._maybeFireNegotiationNeeded()},ht.prototype.removeStream=function(Et){var Rt=this;Et.getTracks().forEach(function(Pt){var Vt=Rt.getSenders().find(function(Nt){return Nt.track===Pt});Vt&&Rt.removeTrack(Vt)})},ht.prototype.getSenders=function(){return this.transceivers.filter(function(Et){return!!Et.rtpSender}).map(function(Et){return Et.rtpSender})},ht.prototype.getReceivers=function(){return this.transceivers.filter(function(Et){return!!Et.rtpReceiver}).map(function(Et){return Et.rtpReceiver})},ht.prototype._createIceGatherer=function(Et,Rt){var Pt=this;if(Rt&&Et>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var Vt=new ut.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(Vt,"state",{value:"new",writable:!0}),this.transceivers[Et].bufferedCandidateEvents=[],this.transceivers[Et].bufferCandidates=function(Nt){var kt=!Nt.candidate||Object.keys(Nt.candidate).length===0;Vt.state=kt?"completed":"gathering",Pt.transceivers[Et].bufferedCandidateEvents!==null&&Pt.transceivers[Et].bufferedCandidateEvents.push(Nt)},Vt.addEventListener("localcandidate",this.transceivers[Et].bufferCandidates),Vt},ht.prototype._gather=function(Et,Rt){var Pt=this,Vt=this.transceivers[Rt].iceGatherer;if(!Vt.onlocalcandidate){var Nt=this.transceivers[Rt].bufferedCandidateEvents;this.transceivers[Rt].bufferedCandidateEvents=null,Vt.removeEventListener("localcandidate",this.transceivers[Rt].bufferCandidates),Vt.onlocalcandidate=function(kt){if(!(Pt.usingBundle&&Rt>0)){var wt=new Event("icecandidate");wt.candidate={sdpMid:Et,sdpMLineIndex:Rt};var Zt=kt.candidate,qt=!Zt||Object.keys(Zt).length===0;if(qt)(Vt.state==="new"||Vt.state==="gathering")&&(Vt.state="completed");else{Vt.state==="new"&&(Vt.state="gathering"),Zt.component=1,Zt.ufrag=Vt.getLocalParameters().usernameFragment;var zt=rt.writeCandidate(Zt);wt.candidate=Object.assign(wt.candidate,rt.parseCandidate(zt)),wt.candidate.candidate=zt,wt.candidate.toJSON=function(){return{candidate:wt.candidate.candidate,sdpMid:wt.candidate.sdpMid,sdpMLineIndex:wt.candidate.sdpMLineIndex,usernameFragment:wt.candidate.usernameFragment}}}var Bt=rt.getMediaSections(Pt._localDescription.sdp);qt?Bt[wt.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:Bt[wt.candidate.sdpMLineIndex]+="a="+wt.candidate.candidate+`\r
`,Pt._localDescription.sdp=rt.getDescription(Pt._localDescription.sdp)+Bt.join("");var sn=Pt.transceivers.every(function(mn){return mn.iceGatherer&&mn.iceGatherer.state==="completed"});Pt.iceGatheringState!=="gathering"&&(Pt.iceGatheringState="gathering",Pt._emitGatheringStateChange()),qt||Pt._dispatchEvent("icecandidate",wt),sn&&(Pt._dispatchEvent("icecandidate",new Event("icecandidate")),Pt.iceGatheringState="complete",Pt._emitGatheringStateChange())}},ut.setTimeout(function(){Nt.forEach(function(kt){Vt.onlocalcandidate(kt)})},0)}},ht.prototype._createIceAndDtlsTransports=function(){var Et=this,Rt=new ut.RTCIceTransport(null);Rt.onicestatechange=function(){Et._updateIceConnectionState(),Et._updateConnectionState()};var Pt=new ut.RTCDtlsTransport(Rt);return Pt.ondtlsstatechange=function(){Et._updateConnectionState()},Pt.onerror=function(){Object.defineProperty(Pt,"state",{value:"failed",writable:!0}),Et._updateConnectionState()},{iceTransport:Rt,dtlsTransport:Pt}},ht.prototype._disposeIceAndDtlsTransports=function(Et){var Rt=this.transceivers[Et].iceGatherer;Rt&&(delete Rt.onlocalcandidate,delete this.transceivers[Et].iceGatherer);var Pt=this.transceivers[Et].iceTransport;Pt&&(delete Pt.onicestatechange,delete this.transceivers[Et].iceTransport);var Vt=this.transceivers[Et].dtlsTransport;Vt&&(delete Vt.ondtlsstatechange,delete Vt.onerror,delete this.transceivers[Et].dtlsTransport)},ht.prototype._transceive=function(Et,Rt,Pt){var Vt=at(Et.localCapabilities,Et.remoteCapabilities);Rt&&Et.rtpSender&&(Vt.encodings=Et.sendEncodingParameters,Vt.rtcp={cname:rt.localCName,compound:Et.rtcpParameters.compound},Et.recvEncodingParameters.length&&(Vt.rtcp.ssrc=Et.recvEncodingParameters[0].ssrc),Et.rtpSender.send(Vt)),Pt&&Et.rtpReceiver&&Vt.codecs.length>0&&(Et.kind==="video"&&Et.recvEncodingParameters&&ft<15019&&Et.recvEncodingParameters.forEach(function(Nt){delete Nt.rtx}),Et.recvEncodingParameters.length?Vt.encodings=Et.recvEncodingParameters:Vt.encodings=[{}],Vt.rtcp={compound:Et.rtcpParameters.compound},Et.rtcpParameters.cname&&(Vt.rtcp.cname=Et.rtcpParameters.cname),Et.sendEncodingParameters.length&&(Vt.rtcp.ssrc=Et.sendEncodingParameters[0].ssrc),Et.rtpReceiver.receive(Vt))},ht.prototype.setLocalDescription=function(Et){var Rt=this;if(["offer","answer"].indexOf(Et.type)===-1)return nt.reject(dt("TypeError",'Unsupported type "'+Et.type+'"'));if(!ct("setLocalDescription",Et.type,Rt.signalingState)||Rt._isClosed)return nt.reject(dt("InvalidStateError","Can not set local "+Et.type+" in state "+Rt.signalingState));var Pt,Vt;if(Et.type==="offer")Pt=rt.splitSections(Et.sdp),Vt=Pt.shift(),Pt.forEach(function(kt,wt){var Zt=rt.parseRtpParameters(kt);Rt.transceivers[wt].localCapabilities=Zt}),Rt.transceivers.forEach(function(kt,wt){Rt._gather(kt.mid,wt)});else if(Et.type==="answer"){Pt=rt.splitSections(Rt._remoteDescription.sdp),Vt=Pt.shift();var Nt=rt.matchPrefix(Vt,"a=ice-lite").length>0;Pt.forEach(function(kt,wt){var Zt=Rt.transceivers[wt],qt=Zt.iceGatherer,zt=Zt.iceTransport,Bt=Zt.dtlsTransport,sn=Zt.localCapabilities,mn=Zt.remoteCapabilities,En=rt.isRejected(kt)&&rt.matchPrefix(kt,"a=bundle-only").length===0;if(!En&&!Zt.rejected){var cn=rt.getIceParameters(kt,Vt),xn=rt.getDtlsParameters(kt,Vt);Nt&&(xn.role="server"),(!Rt.usingBundle||wt===0)&&(Rt._gather(Zt.mid,wt),zt.state==="new"&&zt.start(qt,cn,Nt?"controlling":"controlled"),Bt.state==="new"&&Bt.start(xn));var bn=at(sn,mn);Rt._transceive(Zt,bn.codecs.length>0,!1)}})}return Rt._localDescription={type:Et.type,sdp:Et.sdp},Et.type==="offer"?Rt._updateSignalingState("have-local-offer"):Rt._updateSignalingState("stable"),nt.resolve()},ht.prototype.setRemoteDescription=function(Et){var Rt=this;if(["offer","answer"].indexOf(Et.type)===-1)return nt.reject(dt("TypeError",'Unsupported type "'+Et.type+'"'));if(!ct("setRemoteDescription",Et.type,Rt.signalingState)||Rt._isClosed)return nt.reject(dt("InvalidStateError","Can not set remote "+Et.type+" in state "+Rt.signalingState));var Pt={};Rt.remoteStreams.forEach(function(zt){Pt[zt.id]=zt});var Vt=[],Nt=rt.splitSections(Et.sdp),kt=Nt.shift(),wt=rt.matchPrefix(kt,"a=ice-lite").length>0,Zt=rt.matchPrefix(kt,"a=group:BUNDLE ").length>0;Rt.usingBundle=Zt;var qt=rt.matchPrefix(kt,"a=ice-options:")[0];return qt?Rt.canTrickleIceCandidates=qt.substr(14).split(" ").indexOf("trickle")>=0:Rt.canTrickleIceCandidates=!1,Nt.forEach(function(zt,Bt){var sn=rt.splitLines(zt),mn=rt.getKind(zt),En=rt.isRejected(zt)&&rt.matchPrefix(zt,"a=bundle-only").length===0,cn=sn[0].substr(2).split(" ")[2],xn=rt.getDirection(zt,kt),bn=rt.parseMsid(zt),gn=rt.getMid(zt)||rt.generateIdentifier();if(En||mn==="application"&&(cn==="DTLS/SCTP"||cn==="UDP/DTLS/SCTP")){Rt.transceivers[Bt]={mid:gn,kind:mn,protocol:cn,rejected:!0};return}!En&&Rt.transceivers[Bt]&&Rt.transceivers[Bt].rejected&&(Rt.transceivers[Bt]=Rt._createTransceiver(mn,!0));var vn,Wn,Un,Sn,On,Ln,Jn,ur,sr,pr=rt.parseRtpParameters(zt),Ir,Er;En||(Ir=rt.getIceParameters(zt,kt),Er=rt.getDtlsParameters(zt,kt),Er.role="client"),Jn=rt.parseRtpEncodingParameters(zt);var Kr=rt.parseRtcpParameters(zt),Dr=rt.matchPrefix(zt,"a=end-of-candidates",kt).length>0,to=rt.matchPrefix(zt,"a=candidate:").map(function(Qn){return rt.parseCandidate(Qn)}).filter(function(Qn){return Qn.component===1});if((Et.type==="offer"||Et.type==="answer")&&!En&&Zt&&Bt>0&&Rt.transceivers[Bt]&&(Rt._disposeIceAndDtlsTransports(Bt),Rt.transceivers[Bt].iceGatherer=Rt.transceivers[0].iceGatherer,Rt.transceivers[Bt].iceTransport=Rt.transceivers[0].iceTransport,Rt.transceivers[Bt].dtlsTransport=Rt.transceivers[0].dtlsTransport,Rt.transceivers[Bt].rtpSender&&Rt.transceivers[Bt].rtpSender.setTransport(Rt.transceivers[0].dtlsTransport),Rt.transceivers[Bt].rtpReceiver&&Rt.transceivers[Bt].rtpReceiver.setTransport(Rt.transceivers[0].dtlsTransport)),Et.type==="offer"&&!En){vn=Rt.transceivers[Bt]||Rt._createTransceiver(mn),vn.mid=gn,vn.iceGatherer||(vn.iceGatherer=Rt._createIceGatherer(Bt,Zt)),to.length&&vn.iceTransport.state==="new"&&(Dr&&(!Zt||Bt===0)?vn.iceTransport.setRemoteCandidates(to):to.forEach(function(Qn){lt(vn.iceTransport,Qn)})),ur=ut.RTCRtpReceiver.getCapabilities(mn),ft<15019&&(ur.codecs=ur.codecs.filter(function(Qn){return Qn.name!=="rtx"})),Ln=vn.sendEncodingParameters||[{ssrc:(2*Bt+2)*1001}];var po=!1;if(xn==="sendrecv"||xn==="sendonly"){if(po=!vn.rtpReceiver,On=vn.rtpReceiver||new ut.RTCRtpReceiver(vn.dtlsTransport,mn),po){var Nr;sr=On.track,bn&&bn.stream==="-"||(bn?(Pt[bn.stream]||(Pt[bn.stream]=new ut.MediaStream,Object.defineProperty(Pt[bn.stream],"id",{get:function(){return bn.stream}})),Object.defineProperty(sr,"id",{get:function(){return bn.track}}),Nr=Pt[bn.stream]):(Pt.default||(Pt.default=new ut.MediaStream),Nr=Pt.default)),Nr&&(pt(sr,Nr),vn.associatedRemoteMediaStreams.push(Nr)),Vt.push([sr,On,Nr])}}else vn.rtpReceiver&&vn.rtpReceiver.track&&(vn.associatedRemoteMediaStreams.forEach(function(Qn){var cr=Qn.getTracks().find(function(qr){return qr.id===vn.rtpReceiver.track.id});cr&&vt(cr,Qn)}),vn.associatedRemoteMediaStreams=[]);vn.localCapabilities=ur,vn.remoteCapabilities=pr,vn.rtpReceiver=On,vn.rtcpParameters=Kr,vn.sendEncodingParameters=Ln,vn.recvEncodingParameters=Jn,Rt._transceive(Rt.transceivers[Bt],!1,po)}else if(Et.type==="answer"&&!En){vn=Rt.transceivers[Bt],Wn=vn.iceGatherer,Un=vn.iceTransport,Sn=vn.dtlsTransport,On=vn.rtpReceiver,Ln=vn.sendEncodingParameters,ur=vn.localCapabilities,Rt.transceivers[Bt].recvEncodingParameters=Jn,Rt.transceivers[Bt].remoteCapabilities=pr,Rt.transceivers[Bt].rtcpParameters=Kr,to.length&&Un.state==="new"&&((wt||Dr)&&(!Zt||Bt===0)?Un.setRemoteCandidates(to):to.forEach(function(Qn){lt(vn.iceTransport,Qn)})),(!Zt||Bt===0)&&(Un.state==="new"&&Un.start(Wn,Ir,"controlling"),Sn.state==="new"&&Sn.start(Er));var br=at(vn.localCapabilities,vn.remoteCapabilities),zn=br.codecs.filter(function(Qn){return Qn.name.toLowerCase()==="rtx"}).length;!zn&&vn.sendEncodingParameters[0].rtx&&delete vn.sendEncodingParameters[0].rtx,Rt._transceive(vn,xn==="sendrecv"||xn==="recvonly",xn==="sendrecv"||xn==="sendonly"),On&&(xn==="sendrecv"||xn==="sendonly")?(sr=On.track,bn?(Pt[bn.stream]||(Pt[bn.stream]=new ut.MediaStream),pt(sr,Pt[bn.stream]),Vt.push([sr,On,Pt[bn.stream]])):(Pt.default||(Pt.default=new ut.MediaStream),pt(sr,Pt.default),Vt.push([sr,On,Pt.default]))):delete vn.rtpReceiver}}),Rt._dtlsRole===void 0&&(Rt._dtlsRole=Et.type==="offer"?"active":"passive"),Rt._remoteDescription={type:Et.type,sdp:Et.sdp},Et.type==="offer"?Rt._updateSignalingState("have-remote-offer"):Rt._updateSignalingState("stable"),Object.keys(Pt).forEach(function(zt){var Bt=Pt[zt];if(Bt.getTracks().length){if(Rt.remoteStreams.indexOf(Bt)===-1){Rt.remoteStreams.push(Bt);var sn=new Event("addstream");sn.stream=Bt,ut.setTimeout(function(){Rt._dispatchEvent("addstream",sn)})}Vt.forEach(function(mn){var En=mn[0],cn=mn[1];Bt.id===mn[2].id&&Ct(Rt,En,cn,[Bt])})}}),Vt.forEach(function(zt){zt[2]||Ct(Rt,zt[0],zt[1],[])}),ut.setTimeout(function(){Rt&&Rt.transceivers&&Rt.transceivers.forEach(function(zt){zt.iceTransport&&zt.iceTransport.state==="new"&&zt.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),zt.iceTransport.addRemoteCandidate({}))})},4e3),nt.resolve()},ht.prototype.close=function(){this.transceivers.forEach(function(Et){Et.iceTransport&&Et.iceTransport.stop(),Et.dtlsTransport&&Et.dtlsTransport.stop(),Et.rtpSender&&Et.rtpSender.stop(),Et.rtpReceiver&&Et.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},ht.prototype._updateSignalingState=function(Et){this.signalingState=Et;var Rt=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",Rt)},ht.prototype._maybeFireNegotiationNeeded=function(){var Et=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,ut.setTimeout(function(){if(Et.needNegotiation){Et.needNegotiation=!1;var Rt=new Event("negotiationneeded");Et._dispatchEvent("negotiationneeded",Rt)}},0))},ht.prototype._updateIceConnectionState=function(){var Et,Rt={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(Vt){Vt.iceTransport&&!Vt.rejected&&Rt[Vt.iceTransport.state]++}),Et="new",Rt.failed>0?Et="failed":Rt.checking>0?Et="checking":Rt.disconnected>0?Et="disconnected":Rt.new>0?Et="new":Rt.connected>0?Et="connected":Rt.completed>0&&(Et="completed"),Et!==this.iceConnectionState){this.iceConnectionState=Et;var Pt=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",Pt)}},ht.prototype._updateConnectionState=function(){var Et,Rt={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(Vt){Vt.iceTransport&&Vt.dtlsTransport&&!Vt.rejected&&(Rt[Vt.iceTransport.state]++,Rt[Vt.dtlsTransport.state]++)}),Rt.connected+=Rt.completed,Et="new",Rt.failed>0?Et="failed":Rt.connecting>0?Et="connecting":Rt.disconnected>0?Et="disconnected":Rt.new>0?Et="new":Rt.connected>0&&(Et="connected"),Et!==this.connectionState){this.connectionState=Et;var Pt=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",Pt)}},ht.prototype.createOffer=function(){var Et=this;if(Et._isClosed)return nt.reject(dt("InvalidStateError","Can not call createOffer after close"));var Rt=Et.transceivers.filter(function(wt){return wt.kind==="audio"}).length,Pt=Et.transceivers.filter(function(wt){return wt.kind==="video"}).length,Vt=arguments[0];if(Vt){if(Vt.mandatory||Vt.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");Vt.offerToReceiveAudio!==void 0&&(Vt.offerToReceiveAudio===!0?Rt=1:Vt.offerToReceiveAudio===!1?Rt=0:Rt=Vt.offerToReceiveAudio),Vt.offerToReceiveVideo!==void 0&&(Vt.offerToReceiveVideo===!0?Pt=1:Vt.offerToReceiveVideo===!1?Pt=0:Pt=Vt.offerToReceiveVideo)}for(Et.transceivers.forEach(function(wt){wt.kind==="audio"?(Rt--,Rt<0&&(wt.wantReceive=!1)):wt.kind==="video"&&(Pt--,Pt<0&&(wt.wantReceive=!1))});Rt>0||Pt>0;)Rt>0&&(Et._createTransceiver("audio"),Rt--),Pt>0&&(Et._createTransceiver("video"),Pt--);var Nt=rt.writeSessionBoilerplate(Et._sdpSessionId,Et._sdpSessionVersion++);Et.transceivers.forEach(function(wt,Zt){var qt=wt.track,zt=wt.kind,Bt=wt.mid||rt.generateIdentifier();wt.mid=Bt,wt.iceGatherer||(wt.iceGatherer=Et._createIceGatherer(Zt,Et.usingBundle));var sn=ut.RTCRtpSender.getCapabilities(zt);ft<15019&&(sn.codecs=sn.codecs.filter(function(En){return En.name!=="rtx"})),sn.codecs.forEach(function(En){En.name==="H264"&&En.parameters["level-asymmetry-allowed"]===void 0&&(En.parameters["level-asymmetry-allowed"]="1"),wt.remoteCapabilities&&wt.remoteCapabilities.codecs&&wt.remoteCapabilities.codecs.forEach(function(cn){En.name.toLowerCase()===cn.name.toLowerCase()&&En.clockRate===cn.clockRate&&(En.preferredPayloadType=cn.payloadType)})}),sn.headerExtensions.forEach(function(En){var cn=wt.remoteCapabilities&&wt.remoteCapabilities.headerExtensions||[];cn.forEach(function(xn){En.uri===xn.uri&&(En.id=xn.id)})});var mn=wt.sendEncodingParameters||[{ssrc:(2*Zt+1)*1001}];qt&&ft>=15019&&zt==="video"&&!mn[0].rtx&&(mn[0].rtx={ssrc:mn[0].ssrc+1}),wt.wantReceive&&(wt.rtpReceiver=new ut.RTCRtpReceiver(wt.dtlsTransport,zt)),wt.localCapabilities=sn,wt.sendEncodingParameters=mn}),Et._config.bundlePolicy!=="max-compat"&&(Nt+="a=group:BUNDLE "+Et.transceivers.map(function(wt){return wt.mid}).join(" ")+`\r
`),Nt+=`a=ice-options:trickle\r
`,Et.transceivers.forEach(function(wt,Zt){Nt+=ot(wt,wt.localCapabilities,"offer",wt.stream,Et._dtlsRole),Nt+=`a=rtcp-rsize\r
`,wt.iceGatherer&&Et.iceGatheringState!=="new"&&(Zt===0||!Et.usingBundle)&&(wt.iceGatherer.getLocalCandidates().forEach(function(qt){qt.component=1,Nt+="a="+rt.writeCandidate(qt)+`\r
`}),wt.iceGatherer.state==="completed"&&(Nt+=`a=end-of-candidates\r
`))});var kt=new ut.RTCSessionDescription({type:"offer",sdp:Nt});return nt.resolve(kt)},ht.prototype.createAnswer=function(){var Et=this;if(Et._isClosed)return nt.reject(dt("InvalidStateError","Can not call createAnswer after close"));if(!(Et.signalingState==="have-remote-offer"||Et.signalingState==="have-local-pranswer"))return nt.reject(dt("InvalidStateError","Can not call createAnswer in signalingState "+Et.signalingState));var Rt=rt.writeSessionBoilerplate(Et._sdpSessionId,Et._sdpSessionVersion++);Et.usingBundle&&(Rt+="a=group:BUNDLE "+Et.transceivers.map(function(Nt){return Nt.mid}).join(" ")+`\r
`),Rt+=`a=ice-options:trickle\r
`;var Pt=rt.getMediaSections(Et._remoteDescription.sdp).length;Et.transceivers.forEach(function(Nt,kt){if(!(kt+1>Pt)){if(Nt.rejected){Nt.kind==="application"?Nt.protocol==="DTLS/SCTP"?Rt+=`m=application 0 DTLS/SCTP 5000\r
`:Rt+="m=application 0 "+Nt.protocol+` webrtc-datachannel\r
`:Nt.kind==="audio"?Rt+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:Nt.kind==="video"&&(Rt+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),Rt+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+Nt.mid+`\r
`;return}if(Nt.stream){var wt;Nt.kind==="audio"?wt=Nt.stream.getAudioTracks()[0]:Nt.kind==="video"&&(wt=Nt.stream.getVideoTracks()[0]),wt&&ft>=15019&&Nt.kind==="video"&&!Nt.sendEncodingParameters[0].rtx&&(Nt.sendEncodingParameters[0].rtx={ssrc:Nt.sendEncodingParameters[0].ssrc+1})}var Zt=at(Nt.localCapabilities,Nt.remoteCapabilities),qt=Zt.codecs.filter(function(zt){return zt.name.toLowerCase()==="rtx"}).length;!qt&&Nt.sendEncodingParameters[0].rtx&&delete Nt.sendEncodingParameters[0].rtx,Rt+=ot(Nt,Zt,"answer",Nt.stream,Et._dtlsRole),Nt.rtcpParameters&&Nt.rtcpParameters.reducedSize&&(Rt+=`a=rtcp-rsize\r
`)}});var Vt=new ut.RTCSessionDescription({type:"answer",sdp:Rt});return nt.resolve(Vt)},ht.prototype.addIceCandidate=function(Et){var Rt=this,Pt;return Et&&!(Et.sdpMLineIndex!==void 0||Et.sdpMid)?nt.reject(new TypeError("sdpMLineIndex or sdpMid required")):new nt(function(Vt,Nt){if(Rt._remoteDescription)if(!Et||Et.candidate==="")for(var kt=0;kt<Rt.transceivers.length&&!(!Rt.transceivers[kt].rejected&&(Rt.transceivers[kt].iceTransport.addRemoteCandidate({}),Pt=rt.getMediaSections(Rt._remoteDescription.sdp),Pt[kt]+=`a=end-of-candidates\r
`,Rt._remoteDescription.sdp=rt.getDescription(Rt._remoteDescription.sdp)+Pt.join(""),Rt.usingBundle));kt++);else{var wt=Et.sdpMLineIndex;if(Et.sdpMid){for(var Zt=0;Zt<Rt.transceivers.length;Zt++)if(Rt.transceivers[Zt].mid===Et.sdpMid){wt=Zt;break}}var qt=Rt.transceivers[wt];if(qt){if(qt.rejected)return Vt();var zt=Object.keys(Et.candidate).length>0?rt.parseCandidate(Et.candidate):{};if(zt.protocol==="tcp"&&(zt.port===0||zt.port===9)||zt.component&&zt.component!==1)return Vt();if((wt===0||wt>0&&qt.iceTransport!==Rt.transceivers[0].iceTransport)&&!lt(qt.iceTransport,zt))return Nt(dt("OperationError","Can not add ICE candidate"));var Bt=Et.candidate.trim();Bt.indexOf("a=")===0&&(Bt=Bt.substr(2)),Pt=rt.getMediaSections(Rt._remoteDescription.sdp),Pt[wt]+="a="+(zt.type?Bt:"end-of-candidates")+`\r
`,Rt._remoteDescription.sdp=rt.getDescription(Rt._remoteDescription.sdp)+Pt.join("")}else return Nt(dt("OperationError","Can not add ICE candidate"))}else return Nt(dt("InvalidStateError","Can not add ICE candidate without a remote description"));Vt()})},ht.prototype.getStats=function(Et){if(Et&&Et instanceof ut.MediaStreamTrack){var Rt=null;if(this.transceivers.forEach(function(Vt){Vt.rtpSender&&Vt.rtpSender.track===Et?Rt=Vt.rtpSender:Vt.rtpReceiver&&Vt.rtpReceiver.track===Et&&(Rt=Vt.rtpReceiver)}),!Rt)throw dt("InvalidAccessError","Invalid selector.");return Rt.getStats()}var Pt=[];return this.transceivers.forEach(function(Vt){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(Nt){Vt[Nt]&&Pt.push(Vt[Nt].getStats())})}),nt.all(Pt).then(function(Vt){var Nt=new Map;return Vt.forEach(function(kt){kt.forEach(function(wt){Nt.set(wt.id,wt)})}),Nt})};var mt=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];mt.forEach(function(Et){var Rt=ut[Et];if(Rt&&Rt.prototype&&Rt.prototype.getStats){var Pt=Rt.prototype.getStats;Rt.prototype.getStats=function(){return Pt.apply(this).then(function(Vt){var Nt=new Map;return Object.keys(Vt).forEach(function(kt){Vt[kt].type=it(Vt[kt]),Nt.set(kt,Vt[kt])}),Nt})}}});var yt=["createOffer","createAnswer"];return yt.forEach(function(Et){var Rt=ht.prototype[Et];ht.prototype[Et]=function(){var Pt=arguments;return typeof Pt[0]=="function"||typeof Pt[1]=="function"?Rt.apply(this,[arguments[2]]).then(function(Vt){typeof Pt[0]=="function"&&Pt[0].apply(null,[Vt])},function(Vt){typeof Pt[1]=="function"&&Pt[1].apply(null,[Vt])}):Rt.apply(this,arguments)}}),yt=["setLocalDescription","setRemoteDescription","addIceCandidate"],yt.forEach(function(Et){var Rt=ht.prototype[Et];ht.prototype[Et]=function(){var Pt=arguments;return typeof Pt[1]=="function"||typeof Pt[2]=="function"?Rt.apply(this,arguments).then(function(){typeof Pt[1]=="function"&&Pt[1].apply(null)},function(Vt){typeof Pt[2]=="function"&&Pt[2].apply(null,[Vt])}):Rt.apply(this,arguments)}}),["getStats"].forEach(function(Et){var Rt=ht.prototype[Et];ht.prototype[Et]=function(){var Pt=arguments;return typeof Pt[1]=="function"?Rt.apply(this,arguments).then(function(){typeof Pt[1]=="function"&&Pt[1].apply(null)}):Rt.apply(this,arguments)}}),ht}}).call(this,et(2))},function(_e,tt,et){(function(nt){_e.exports=function(rt){var it=rt&&rt.navigator,ot=function(at){return{name:{PermissionDeniedError:"NotAllowedError"}[at.name]||at.name,message:at.message,constraint:at.constraint,toString:function(){return this.name}}},st=it.mediaDevices.getUserMedia.bind(it.mediaDevices);it.mediaDevices.getUserMedia=function(at){return st(at).catch(function(ct){return nt.reject(ot(ct))})}}}).call(this,et(2))},function(_e,tt,et){(function(nt){var rt=et(27);_e.exports={shimGetUserMedia:et(579),shimOnTrack:function(it){typeof it=="object"&&it.RTCPeerConnection&&!("ontrack"in it.RTCPeerConnection.prototype)&&Object.defineProperty(it.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(ot){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=ot),this.addEventListener("addstream",this._ontrackpoly=(function(st){st.stream.getTracks().forEach((function(at){var ct=new Event("track");ct.track=at,ct.receiver={track:at},ct.transceiver={receiver:ct.receiver},ct.streams=[st.stream],this.dispatchEvent(ct)}).bind(this))}).bind(this))},enumerable:!0,configurable:!0}),typeof it=="object"&&it.RTCTrackEvent&&"receiver"in it.RTCTrackEvent.prototype&&!("transceiver"in it.RTCTrackEvent.prototype)&&Object.defineProperty(it.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(it){typeof it=="object"&&it.HTMLMediaElement&&!("srcObject"in it.HTMLMediaElement.prototype)&&Object.defineProperty(it.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(ot){this.mozSrcObject=ot}})},shimPeerConnection:function(it){var ot=rt.detectBrowser(it);if(!(typeof it!="object"||!(it.RTCPeerConnection||it.mozRTCPeerConnection))){it.RTCPeerConnection||(it.RTCPeerConnection=function(dt,ut){if(ot.version<38&&dt&&dt.iceServers){for(var ft=[],pt=0;pt<dt.iceServers.length;pt++){var vt=dt.iceServers[pt];if(vt.hasOwnProperty("urls"))for(var Ct=0;Ct<vt.urls.length;Ct++){var ht={url:vt.urls[Ct]};vt.urls[Ct].indexOf("turn")===0&&(ht.username=vt.username,ht.credential=vt.credential),ft.push(ht)}else ft.push(dt.iceServers[pt])}dt.iceServers=ft}return new it.mozRTCPeerConnection(dt,ut)},it.RTCPeerConnection.prototype=it.mozRTCPeerConnection.prototype,it.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(it.RTCPeerConnection,"generateCertificate",{get:function(){return it.mozRTCPeerConnection.generateCertificate}}),it.RTCSessionDescription=it.mozRTCSessionDescription,it.RTCIceCandidate=it.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(dt){var ut=it.RTCPeerConnection.prototype[dt];it.RTCPeerConnection.prototype[dt]=function(){return arguments[0]=new(dt==="addIceCandidate"?it.RTCIceCandidate:it.RTCSessionDescription)(arguments[0]),ut.apply(this,arguments)}});var st=it.RTCPeerConnection.prototype.addIceCandidate;it.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?st.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),nt.resolve())};var at=function(dt){var ut=new Map;return Object.keys(dt).forEach(function(ft){ut.set(ft,dt[ft]),ut[ft]=dt[ft]}),ut},ct={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},lt=it.RTCPeerConnection.prototype.getStats;it.RTCPeerConnection.prototype.getStats=function(dt,ut,ft){return lt.apply(this,[dt||null]).then(function(pt){if(ot.version<48&&(pt=at(pt)),ot.version<53&&!ut)try{pt.forEach(function(vt){vt.type=ct[vt.type]||vt.type})}catch(vt){if(vt.name!=="TypeError")throw vt;pt.forEach(function(Ct,ht){pt.set(ht,Object.assign({},Ct,{type:ct[Ct.type]||Ct.type}))})}return pt}).then(ut,ft)}}},shimSenderGetStats:function(it){if(typeof it=="object"&&it.RTCPeerConnection&&it.RTCRtpSender&&!(it.RTCRtpSender&&"getStats"in it.RTCRtpSender.prototype)){var ot=it.RTCPeerConnection.prototype.getSenders;ot&&(it.RTCPeerConnection.prototype.getSenders=function(){var at=this,ct=ot.apply(at,[]);return ct.forEach(function(lt){lt._pc=at}),ct});var st=it.RTCPeerConnection.prototype.addTrack;st&&(it.RTCPeerConnection.prototype.addTrack=function(){var at=st.apply(this,arguments);return at._pc=this,at}),it.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):nt.resolve(new Map)}}},shimReceiverGetStats:function(it){if(typeof it=="object"&&it.RTCPeerConnection&&it.RTCRtpSender&&!(it.RTCRtpSender&&"getStats"in it.RTCRtpReceiver.prototype)){var ot=it.RTCPeerConnection.prototype.getReceivers;ot&&(it.RTCPeerConnection.prototype.getReceivers=function(){var st=this,at=ot.apply(st,[]);return at.forEach(function(ct){ct._pc=st}),at}),rt.wrapPeerConnectionEvent(it,"track",function(st){return st.receiver._pc=st.srcElement,st}),it.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(it){!it.RTCPeerConnection||"removeStream"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.removeStream=function(ot){var st=this;rt.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(at){at.track&&ot.getTracks().indexOf(at.track)!==-1&&st.removeTrack(at)})})},shimRTCDataChannel:function(it){it.DataChannel&&!it.RTCDataChannel&&(it.RTCDataChannel=it.DataChannel)},shimGetDisplayMedia:function(it,ot){!it.navigator||!it.navigator.mediaDevices||"getDisplayMedia"in it.navigator.mediaDevices||(it.navigator.mediaDevices.getDisplayMedia=function(st){if(!(st&&st.video)){var at=new DOMException("getDisplayMedia without video constraints is undefined");return at.name="NotFoundError",at.code=8,nt.reject(at)}return st.video===!0?st.video={mediaSource:ot}:st.video.mediaSource=ot,it.navigator.mediaDevices.getUserMedia(st)},it.navigator.getDisplayMedia=function(st){return rt.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),it.navigator.mediaDevices.getDisplayMedia(st)})}}}).call(this,et(2))},function(_e,tt,et){(function(nt){var rt=et(27),it=rt.log;_e.exports=function(ot){var st=rt.detectBrowser(ot),at=ot&&ot.navigator,ct=ot&&ot.MediaStreamTrack,lt=function(yt){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[yt.name]||yt.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[yt.message]||yt.message,constraint:yt.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},dt=function(yt,Et,Rt){var Pt=function(Vt){if(typeof Vt!="object"||Vt.require)return Vt;var Nt=[];return Object.keys(Vt).forEach(function(kt){if(!(kt==="require"||kt==="advanced"||kt==="mediaSource")){var wt=Vt[kt]=typeof Vt[kt]=="object"?Vt[kt]:{ideal:Vt[kt]};if((wt.min!==void 0||wt.max!==void 0||wt.exact!==void 0)&&Nt.push(kt),wt.exact!==void 0&&(typeof wt.exact=="number"?wt.min=wt.max=wt.exact:Vt[kt]=wt.exact,delete wt.exact),wt.ideal!==void 0){Vt.advanced=Vt.advanced||[];var Zt={};typeof wt.ideal=="number"?Zt[kt]={min:wt.ideal,max:wt.ideal}:Zt[kt]=wt.ideal,Vt.advanced.push(Zt),delete wt.ideal,Object.keys(wt).length||delete Vt[kt]}}}),Nt.length&&(Vt.require=Nt),Vt};return yt=JSON.parse(JSON.stringify(yt)),st.version<38&&(it("spec: "+JSON.stringify(yt)),yt.audio&&(yt.audio=Pt(yt.audio)),yt.video&&(yt.video=Pt(yt.video)),it("ff37: "+JSON.stringify(yt))),at.mozGetUserMedia(yt,Et,function(Vt){Rt(lt(Vt))})},ut=function(yt){return new nt(function(Et,Rt){dt(yt,Et,Rt)})};if(at.mediaDevices||(at.mediaDevices={getUserMedia:ut,addEventListener:function(){},removeEventListener:function(){}}),at.mediaDevices.enumerateDevices=at.mediaDevices.enumerateDevices||function(){return new nt(function(yt){var Et=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];yt(Et)})},st.version<41){var ft=at.mediaDevices.enumerateDevices.bind(at.mediaDevices);at.mediaDevices.enumerateDevices=function(){return ft().then(void 0,function(yt){if(yt.name==="NotFoundError")return[];throw yt})}}if(st.version<49){var pt=at.mediaDevices.getUserMedia.bind(at.mediaDevices);at.mediaDevices.getUserMedia=function(yt){return pt(yt).then(function(Et){if(yt.audio&&!Et.getAudioTracks().length||yt.video&&!Et.getVideoTracks().length)throw Et.getTracks().forEach(function(Rt){Rt.stop()}),new DOMException("The object can not be found here.","NotFoundError");return Et},function(Et){return nt.reject(lt(Et))})}}if(!(st.version>55&&"autoGainControl"in at.mediaDevices.getSupportedConstraints())){var vt=function(yt,Et,Rt){Et in yt&&!(Rt in yt)&&(yt[Rt]=yt[Et],delete yt[Et])},Ct=at.mediaDevices.getUserMedia.bind(at.mediaDevices);if(at.mediaDevices.getUserMedia=function(yt){return typeof yt=="object"&&typeof yt.audio=="object"&&(yt=JSON.parse(JSON.stringify(yt)),vt(yt.audio,"autoGainControl","mozAutoGainControl"),vt(yt.audio,"noiseSuppression","mozNoiseSuppression")),Ct(yt)},ct&&ct.prototype.getSettings){var ht=ct.prototype.getSettings;ct.prototype.getSettings=function(){var yt=ht.apply(this,arguments);return vt(yt,"mozAutoGainControl","autoGainControl"),vt(yt,"mozNoiseSuppression","noiseSuppression"),yt}}if(ct&&ct.prototype.applyConstraints){var mt=ct.prototype.applyConstraints;ct.prototype.applyConstraints=function(yt){return this.kind==="audio"&&typeof yt=="object"&&(yt=JSON.parse(JSON.stringify(yt)),vt(yt,"autoGainControl","mozAutoGainControl"),vt(yt,"noiseSuppression","mozNoiseSuppression")),mt.apply(this,[yt])}}}at.getUserMedia=function(yt,Et,Rt){if(st.version<44)return dt(yt,Et,Rt);rt.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),at.mediaDevices.getUserMedia(yt).then(Et,Rt)}}}).call(this,et(2))},function(_e,tt,et){(function(nt){var rt=et(27);_e.exports={shimLocalStreamsAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)){if("getLocalStreams"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getStreamById=function(st){var at=null;return this._localStreams&&this._localStreams.forEach(function(ct){ct.id===st&&(at=ct)}),this._remoteStreams&&this._remoteStreams.forEach(function(ct){ct.id===st&&(at=ct)}),at}),!("addStream"in it.RTCPeerConnection.prototype)){var ot=it.RTCPeerConnection.prototype.addTrack;it.RTCPeerConnection.prototype.addStream=function(st){this._localStreams||(this._localStreams=[]),this._localStreams.indexOf(st)===-1&&this._localStreams.push(st);var at=this;st.getTracks().forEach(function(ct){ot.call(at,ct,st)})},it.RTCPeerConnection.prototype.addTrack=function(st,at){return at&&(this._localStreams?this._localStreams.indexOf(at)===-1&&this._localStreams.push(at):this._localStreams=[at]),ot.call(this,st,at)}}"removeStream"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.removeStream=function(st){this._localStreams||(this._localStreams=[]);var at=this._localStreams.indexOf(st);if(at!==-1){this._localStreams.splice(at,1);var ct=this,lt=st.getTracks();this.getSenders().forEach(function(dt){lt.indexOf(dt.track)!==-1&&ct.removeTrack(dt)})}})}},shimRemoteStreamsAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)&&("getRemoteStreams"in it.RTCPeerConnection.prototype||(it.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in it.RTCPeerConnection.prototype))){Object.defineProperty(it.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(st){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=st)}});var ot=it.RTCPeerConnection.prototype.setRemoteDescription;it.RTCPeerConnection.prototype.setRemoteDescription=function(){var st=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(at){at.streams.forEach(function(ct){if(st._remoteStreams||(st._remoteStreams=[]),!(st._remoteStreams.indexOf(ct)>=0)){st._remoteStreams.push(ct);var lt=new Event("addstream");lt.stream=ct,st.dispatchEvent(lt)}})}),ot.apply(st,arguments)}}},shimCallbacksAPI:function(it){if(!(typeof it!="object"||!it.RTCPeerConnection)){var ot=it.RTCPeerConnection.prototype,st=ot.createOffer,at=ot.createAnswer,ct=ot.setLocalDescription,lt=ot.setRemoteDescription,dt=ot.addIceCandidate;ot.createOffer=function(ft,pt){var vt=arguments.length>=2?arguments[2]:arguments[0],Ct=st.apply(this,[vt]);return pt?(Ct.then(ft,pt),nt.resolve()):Ct},ot.createAnswer=function(ft,pt){var vt=arguments.length>=2?arguments[2]:arguments[0],Ct=at.apply(this,[vt]);return pt?(Ct.then(ft,pt),nt.resolve()):Ct};var ut=function(ft,pt,vt){var Ct=ct.apply(this,[ft]);return vt?(Ct.then(pt,vt),nt.resolve()):Ct};ot.setLocalDescription=ut,ut=function(ft,pt,vt){var Ct=lt.apply(this,[ft]);return vt?(Ct.then(pt,vt),nt.resolve()):Ct},ot.setRemoteDescription=ut,ut=function(ft,pt,vt){var Ct=dt.apply(this,[ft]);return vt?(Ct.then(pt,vt),nt.resolve()):Ct},ot.addIceCandidate=ut}},shimGetUserMedia:function(it){var ot=it&&it.navigator;ot.getUserMedia||(ot.webkitGetUserMedia?ot.getUserMedia=ot.webkitGetUserMedia.bind(ot):ot.mediaDevices&&ot.mediaDevices.getUserMedia&&(ot.getUserMedia=(function(st,at,ct){ot.mediaDevices.getUserMedia(st).then(at,ct)}).bind(ot)))},shimRTCIceServerUrls:function(it){var ot=it.RTCPeerConnection;it.RTCPeerConnection=function(st,at){if(st&&st.iceServers){for(var ct=[],lt=0;lt<st.iceServers.length;lt++){var dt=st.iceServers[lt];!dt.hasOwnProperty("urls")&&dt.hasOwnProperty("url")?(rt.deprecated("RTCIceServer.url","RTCIceServer.urls"),dt=JSON.parse(JSON.stringify(dt)),dt.urls=dt.url,delete dt.url,ct.push(dt)):ct.push(st.iceServers[lt])}st.iceServers=ct}return new ot(st,at)},it.RTCPeerConnection.prototype=ot.prototype,"generateCertificate"in it.RTCPeerConnection&&Object.defineProperty(it.RTCPeerConnection,"generateCertificate",{get:function(){return ot.generateCertificate}})},shimTrackEventTransceiver:function(it){typeof it=="object"&&it.RTCPeerConnection&&"receiver"in it.RTCTrackEvent.prototype&&!it.RTCTransceiver&&Object.defineProperty(it.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(it){var ot=it.RTCPeerConnection.prototype.createOffer;it.RTCPeerConnection.prototype.createOffer=function(st){var at=this;if(st){typeof st.offerToReceiveAudio<"u"&&(st.offerToReceiveAudio=!!st.offerToReceiveAudio);var ct=at.getTransceivers().find(function(dt){return dt.sender.track&&dt.sender.track.kind==="audio"});st.offerToReceiveAudio===!1&&ct?ct.direction==="sendrecv"?ct.setDirection?ct.setDirection("sendonly"):ct.direction="sendonly":ct.direction==="recvonly"&&(ct.setDirection?ct.setDirection("inactive"):ct.direction="inactive"):st.offerToReceiveAudio===!0&&!ct&&at.addTransceiver("audio"),typeof st.offerToReceiveVideo<"u"&&(st.offerToReceiveVideo=!!st.offerToReceiveVideo);var lt=at.getTransceivers().find(function(dt){return dt.sender.track&&dt.sender.track.kind==="video"});st.offerToReceiveVideo===!1&&lt?lt.direction==="sendrecv"?lt.setDirection("sendonly"):lt.direction==="recvonly"&&lt.setDirection("inactive"):st.offerToReceiveVideo===!0&&!lt&&at.addTransceiver("video")}return ot.apply(at,arguments)}}}}).call(this,et(2))},function(_e,tt,et){var nt=et(251),rt=et(27);_e.exports={shimRTCIceCandidate:function(it){if(!(!it.RTCIceCandidate||it.RTCIceCandidate&&"foundation"in it.RTCIceCandidate.prototype)){var ot=it.RTCIceCandidate;it.RTCIceCandidate=function(st){if(typeof st=="object"&&st.candidate&&st.candidate.indexOf("a=")===0&&(st=JSON.parse(JSON.stringify(st)),st.candidate=st.candidate.substr(2)),st.candidate&&st.candidate.length){var at=new ot(st),ct=nt.parseCandidate(st.candidate),lt=Object.assign(at,ct);return lt.toJSON=function(){return{candidate:lt.candidate,sdpMid:lt.sdpMid,sdpMLineIndex:lt.sdpMLineIndex,usernameFragment:lt.usernameFragment}},lt}return new ot(st)},it.RTCIceCandidate.prototype=ot.prototype,rt.wrapPeerConnectionEvent(it,"icecandidate",function(st){return st.candidate&&Object.defineProperty(st,"candidate",{value:new it.RTCIceCandidate(st.candidate),writable:"false"}),st})}},shimCreateObjectURL:function(it){var ot=it&&it.URL;if(typeof it=="object"&&it.HTMLMediaElement&&"srcObject"in it.HTMLMediaElement.prototype&&ot.createObjectURL&&ot.revokeObjectURL){var st=ot.createObjectURL.bind(ot),at=ot.revokeObjectURL.bind(ot),ct=new Map,lt=0;ot.createObjectURL=function(ft){if("getTracks"in ft){var pt="polyblob:"+ ++lt;return ct.set(pt,ft),rt.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),pt}return st(ft)},ot.revokeObjectURL=function(ft){at(ft),ct.delete(ft)};var dt=Object.getOwnPropertyDescriptor(it.HTMLMediaElement.prototype,"src");Object.defineProperty(it.HTMLMediaElement.prototype,"src",{get:function(){return dt.get.apply(this)},set:function(ft){return this.srcObject=ct.get(ft)||null,dt.set.apply(this,[ft])}});var ut=it.HTMLMediaElement.prototype.setAttribute;it.HTMLMediaElement.prototype.setAttribute=function(){return arguments.length===2&&(""+arguments[0]).toLowerCase()==="src"&&(this.srcObject=ct.get(arguments[1])||null),ut.apply(this,arguments)}}},shimMaxMessageSize:function(it){if(!(it.RTCSctpTransport||!it.RTCPeerConnection)){var ot=rt.detectBrowser(it);"sctp"in it.RTCPeerConnection.prototype||Object.defineProperty(it.RTCPeerConnection.prototype,"sctp",{get:function(){return typeof this._sctp>"u"?null:this._sctp}});var st=function(ut){var ft=nt.splitSections(ut.sdp);return ft.shift(),ft.some(function(pt){var vt=nt.parseMLine(pt);return vt&&vt.kind==="application"&&vt.protocol.indexOf("SCTP")!==-1})},at=function(ut){var ft=ut.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(ft===null||ft.length<2)return-1;var pt=parseInt(ft[1],10);return pt!==pt?-1:pt},ct=function(ut){var ft=65536;return ot.browser==="firefox"&&(ot.version<57?ut===-1?ft=16384:ft=2147483637:ot.version<60?ft=ot.version===57?65535:65536:ft=2147483637),ft},lt=function(ut,ft){var pt=65536;ot.browser==="firefox"&&ot.version===57&&(pt=65535);var vt=nt.matchPrefix(ut.sdp,"a=max-message-size:");return vt.length>0?pt=parseInt(vt[0].substr(19),10):ot.browser==="firefox"&&ft!==-1&&(pt=2147483637),pt},dt=it.RTCPeerConnection.prototype.setRemoteDescription;it.RTCPeerConnection.prototype.setRemoteDescription=function(){var ut=this;if(ut._sctp=null,st(arguments[0])){var ft=at(arguments[0]),pt=ct(ft),vt=lt(arguments[0],ft),Ct;pt===0&&vt===0?Ct=Number.POSITIVE_INFINITY:pt===0||vt===0?Ct=Math.max(pt,vt):Ct=Math.min(pt,vt);var ht={};Object.defineProperty(ht,"maxMessageSize",{get:function(){return Ct}}),ut._sctp=ht}return dt.apply(ut,arguments)}}},shimSendThrowTypeError:function(it){if(!(it.RTCPeerConnection&&"createDataChannel"in it.RTCPeerConnection.prototype))return;function ot(at,ct){var lt=at.send;at.send=function(){var dt=arguments[0],ut=dt.length||dt.size||dt.byteLength;if(at.readyState==="open"&&ct.sctp&&ut>ct.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+ct.sctp.maxMessageSize+" bytes)");return lt.apply(at,arguments)}}var st=it.RTCPeerConnection.prototype.createDataChannel;it.RTCPeerConnection.prototype.createDataChannel=function(){var at=this,ct=st.apply(at,arguments);return ot(ct,at),ct},rt.wrapPeerConnectionEvent(it,"datachannel",function(at){return ot(at.channel,at.target),at})}}},function(_e,tt,et){(function(nt){const rt=et(6);function it(){return typeof document>"u"||document.readyState==="complete"||document.readyState==="interactive"&&document.body}let ot=!1;const st={isDomLoaded:it,isDomUnloaded(){return ot},whenUnloaded:new nt(at=>{if(typeof window<"u"){const ct=()=>{ot=!0,st.emit("unload"),at()};window.addEventListener("unload",ct)}}),whenLoaded:new nt(at=>{if(it()){at();return}const ct=()=>{document.removeEventListener("DOMContentLoaded",ct),document.removeEventListener("load",ct),st.emit("load"),at()};document.addEventListener("DOMContentLoaded",ct),document.addEventListener("load",ct)})};rt(st),_e.exports=st}).call(this,et(2))},function(_e,tt,et){var nt=et(79),rt=et(256),it=et(239),ot=et(584),st=et(11),at=et(54),ct=et(257);function lt(dt,ut,ft,pt,vt){dt!==ut&&it(ut,function(Ct,ht){if(vt||(vt=new nt),st(Ct))ot(dt,ut,ht,ft,lt,pt,vt);else{var mt=pt?pt(ct(dt,ht),Ct,ht+"",dt,ut,vt):void 0;mt===void 0&&(mt=Ct),rt(dt,ht,mt)}},at)}_e.exports=lt},function(_e,tt,et){var nt=et(256),rt=et(180),it=et(189),ot=et(55),st=et(190),at=et(64),ct=et(12),lt=et(131),dt=et(65),ut=et(17),ft=et(11),pt=et(138),vt=et(86),Ct=et(257),ht=et(585);function mt(yt,Et,Rt,Pt,Vt,Nt,kt){var wt=Ct(yt,Rt),Zt=Ct(Et,Rt),qt=kt.get(Zt);if(qt){nt(yt,Rt,qt);return}var zt=Nt?Nt(wt,Zt,Rt+"",yt,Et,kt):void 0,Bt=zt===void 0;if(Bt){var sn=ct(Zt),mn=!sn&&dt(Zt),En=!sn&&!mn&&vt(Zt);zt=Zt,sn||mn||En?ct(wt)?zt=wt:lt(wt)?zt=ot(wt):mn?(Bt=!1,zt=rt(Zt,!0)):En?(Bt=!1,zt=it(Zt,!0)):zt=[]:pt(Zt)||at(Zt)?(zt=wt,at(wt)?zt=ht(wt):(!ft(wt)||ut(wt))&&(zt=st(Zt))):Bt=!1}Bt&&(kt.set(Zt,zt),Vt(zt,Zt,Pt,Nt,kt),kt.delete(Zt)),nt(yt,Rt,zt)}_e.exports=mt},function(_e,tt,et){var nt=et(41),rt=et(54);function it(ot){return nt(ot,rt(ot))}_e.exports=it},function(_e,tt,et){const nt=et(148),rt=et(258),it=et(259),ot=et(264),st=et(0)("normalizeConstraintInput"),at={"320x240":{width:320,height:240},"320x180":{width:320,height:180},"640x480":{width:640,height:480},"640x360":{width:640,height:360},"1280x720":{width:1280,height:720},"1280x960":{width:1280,height:960},"1920x1080":{width:1920,height:1080}},ct=[1,7,15,30];function lt(Ct){return Ct._inject&&Ct._inject.logging||st}function dt(Ct,ht,mt,yt,Et){if(ht===void 0)return;const Rt=mt(ht);return Rt||Et.warn(`Invalid ${Ct} passed to the Publisher. Got: ${ht}, expecting one of ${yt}`),Rt}function ut(Ct,ht){const mt=lt(ht),yt=(()=>{const Rt=ht[`publish${it(Ct)}`];return Rt!==void 0?!!Rt:!0})();let Et=(()=>{const Rt=ht[`${Ct}Source`];return Rt===void 0?!0:Rt===null||Rt===!1?!1:typeof Rt=="object"?ht[`isCustom${it(Ct)}Track`]?!1:typeof Rt.deviceId!="string"?(mt.warn(`Invalid ${Ct}Source passed to Publisher. Expected either a device ID or device.`),!0):Rt.deviceId:typeof Rt!="string"?(mt.warn(`Ignoring invalid ${Ct}Source parameter`),!0):Rt})();return Ct==="audio"&&ht.isScreenSharing&&!ot&&Et!==!1&&(ht.audioSource&&lt(ht).warn("Invalid audioSource passed to Publisher - when using screen sharing no audioSource may be used"),Et=!1),{source:Et,publish:yt}}function ft(Ct,ht){return Ct.name==="Chrome"&&Ct.userAgent.indexOf("Mac OS X")!==-1&&ht===1?2:ht}const pt=["user","environment","left","right"],vt=(Ct,ht)=>{if(Ct===void 0||pt.indexOf(Ct)>=0)return Ct;lt(ht).warn(`Invalid facingMode passed to Publisher. Expected one of: ${pt.join(", ")}`)};_e.exports=function(ht){const mt=lt(ht),yt=ht.env||{},Et=ht.isScreenSharing,Rt=ht.isCustomAudioTrack,Pt=ht.isCustomVideoTrack;return Et&&!rt&&nt(ht.usingOptionalMandatoryStyle,"Screensharing only uses optional-mandatory constraints right now"),["echoCancellation","autoGainControl","noiseSuppression"].forEach(Vt=>{ht[Vt]!==!1&&Object.assign(ht,{[Vt]:!0})}),{isScreenSharing:Et,isCustomAudioTrack:Rt,isCustomVideoTrack:Pt,audio:ut("audio",ht),video:ut("video",ht),usingOptionalMandatoryStyle:ht.usingOptionalMandatoryStyle,enableRenegotiation:ht.enableRenegotiation,enableStereo:ht.enableStereo,noiseSuppression:ht.noiseSuppression,autoGainControl:ht.autoGainControl,echoCancellation:ht.echoCancellation,disableAudioProcessing:ht.disableAudioProcessing,videoDimensions:dt("resolution",ht.resolution,Vt=>at[Vt],`"${Object.keys(at).join('", "')}"`,mt),frameRate:ft(yt,dt("frameRate",ht.frameRate,Vt=>ct.indexOf(Vt)!==-1?Vt:void 0,ct.join(","),mt)),maxResolution:function(){if(ht.maxResolution===void 0)return Et?{width:1920,height:1920}:void 0;const Vt={width:ht.maxResolution.width,height:ht.maxResolution.height};return Object.keys(Vt).forEach(Nt=>{const kt=Vt[Nt];(typeof kt!="number"||kt>1920)&&(mt.warn(`Invalid maxResolution passed to the Publisher. maxResolution.${Nt} must be less than or equal to 1920`),Vt[Nt]=1920)}),Vt}(),facingMode:vt(ht.facingMode,ht)}}},function(_e,tt,et){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;function ot(at){if(at==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(at)}function st(){try{if(!Object.assign)return!1;var at=new String("abc");if(at[5]="de",Object.getOwnPropertyNames(at)[0]==="5")return!1;for(var ct={},lt=0;lt<10;lt++)ct["_"+String.fromCharCode(lt)]=lt;var dt=Object.getOwnPropertyNames(ct).map(function(ft){return ct[ft]});if(dt.join("")!=="0123456789")return!1;var ut={};return"abcdefghijklmnopqrst".split("").forEach(function(ft){ut[ft]=ft}),Object.keys(Object.assign({},ut)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}_e.exports=st()?Object.assign:function(at,ct){for(var lt,dt=ot(at),ut,ft=1;ft<arguments.length;ft++){lt=Object(arguments[ft]);for(var pt in lt)rt.call(lt,pt)&&(dt[pt]=lt[pt]);if(nt){ut=nt(lt);for(var vt=0;vt<ut.length;vt++)it.call(lt,ut[vt])&&(dt[ut[vt]]=lt[ut[vt]])}}return dt}},function(_e,tt,et){(function(nt,rt){var it=Object.getOwnPropertyDescriptors||function(On){for(var Ln=Object.keys(On),Jn={},ur=0;ur<Ln.length;ur++)Jn[Ln[ur]]=Object.getOwnPropertyDescriptor(On,Ln[ur]);return Jn},ot=/%[sdj%]/g;tt.format=function(Sn){if(!Nt(Sn)){for(var On=[],Ln=0;Ln<arguments.length;Ln++)On.push(ct(arguments[Ln]));return On.join(" ")}for(var Ln=1,Jn=arguments,ur=Jn.length,sr=String(Sn).replace(ot,function(Ir){if(Ir==="%%")return"%";if(Ln>=ur)return Ir;switch(Ir){case"%s":return String(Jn[Ln++]);case"%d":return Number(Jn[Ln++]);case"%j":try{return JSON.stringify(Jn[Ln++])}catch{return"[Circular]"}default:return Ir}}),pr=Jn[Ln];Ln<ur;pr=Jn[++Ln])Rt(pr)||!qt(pr)?sr+=" "+pr:sr+=" "+ct(pr);return sr},tt.deprecate=function(Sn,On){if(typeof nt<"u"&&nt.noDeprecation===!0)return Sn;if(typeof nt>"u")return function(){return tt.deprecate(Sn,On).apply(this,arguments)};var Ln=!1;function Jn(){if(!Ln){if(nt.throwDeprecation)throw new Error(On);nt.traceDeprecation?console.trace(On):console.error(On),Ln=!0}return Sn.apply(this,arguments)}return Jn};var st={},at;tt.debuglog=function(Sn){if(wt(at)&&(at={}.NODE_DEBUG||""),Sn=Sn.toUpperCase(),!st[Sn])if(new RegExp("\\b"+Sn+"\\b","i").test(at)){var On=nt.pid;st[Sn]=function(){var Ln=tt.format.apply(tt,arguments);console.error("%s %d: %s",Sn,On,Ln)}}else st[Sn]=function(){};return st[Sn]};function ct(Sn,On){var Ln={seen:[],stylize:dt};return arguments.length>=3&&(Ln.depth=arguments[2]),arguments.length>=4&&(Ln.colors=arguments[3]),Et(On)?Ln.showHidden=On:On&&tt._extend(Ln,On),wt(Ln.showHidden)&&(Ln.showHidden=!1),wt(Ln.depth)&&(Ln.depth=2),wt(Ln.colors)&&(Ln.colors=!1),wt(Ln.customInspect)&&(Ln.customInspect=!0),Ln.colors&&(Ln.stylize=lt),ft(Ln,Sn,Ln.depth)}tt.inspect=ct,ct.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ct.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function lt(Sn,On){var Ln=ct.styles[On];return Ln?"\x1B["+ct.colors[Ln][0]+"m"+Sn+"\x1B["+ct.colors[Ln][1]+"m":Sn}function dt(Sn,On){return Sn}function ut(Sn){var On={};return Sn.forEach(function(Ln,Jn){On[Ln]=!0}),On}function ft(Sn,On,Ln){if(Sn.customInspect&&On&&sn(On.inspect)&&On.inspect!==tt.inspect&&!(On.constructor&&On.constructor.prototype===On)){var Jn=On.inspect(Ln,Sn);return Nt(Jn)||(Jn=ft(Sn,Jn,Ln)),Jn}var ur=pt(Sn,On);if(ur)return ur;var sr=Object.keys(On),pr=ut(sr);if(Sn.showHidden&&(sr=Object.getOwnPropertyNames(On)),Bt(On)&&(sr.indexOf("message")>=0||sr.indexOf("description")>=0))return vt(On);if(sr.length===0){if(sn(On)){var Ir=On.name?": "+On.name:"";return Sn.stylize("[Function"+Ir+"]","special")}if(Zt(On))return Sn.stylize(RegExp.prototype.toString.call(On),"regexp");if(zt(On))return Sn.stylize(Date.prototype.toString.call(On),"date");if(Bt(On))return vt(On)}var Er="",Kr=!1,Dr=["{","}"];if(yt(On)&&(Kr=!0,Dr=["[","]"]),sn(On)){var to=On.name?": "+On.name:"";Er=" [Function"+to+"]"}if(Zt(On)&&(Er=" "+RegExp.prototype.toString.call(On)),zt(On)&&(Er=" "+Date.prototype.toUTCString.call(On)),Bt(On)&&(Er=" "+vt(On)),sr.length===0&&(!Kr||On.length==0))return Dr[0]+Er+Dr[1];if(Ln<0)return Zt(On)?Sn.stylize(RegExp.prototype.toString.call(On),"regexp"):Sn.stylize("[Object]","special");Sn.seen.push(On);var po;return Kr?po=Ct(Sn,On,Ln,pr,sr):po=sr.map(function(Nr){return ht(Sn,On,Ln,pr,Nr,Kr)}),Sn.seen.pop(),mt(po,Er,Dr)}function pt(Sn,On){if(wt(On))return Sn.stylize("undefined","undefined");if(Nt(On)){var Ln="'"+JSON.stringify(On).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Sn.stylize(Ln,"string")}if(Vt(On))return Sn.stylize(""+On,"number");if(Et(On))return Sn.stylize(""+On,"boolean");if(Rt(On))return Sn.stylize("null","null")}function vt(Sn){return"["+Error.prototype.toString.call(Sn)+"]"}function Ct(Sn,On,Ln,Jn,ur){for(var sr=[],pr=0,Ir=On.length;pr<Ir;++pr)gn(On,String(pr))?sr.push(ht(Sn,On,Ln,Jn,String(pr),!0)):sr.push("");return ur.forEach(function(Er){Er.match(/^\d+$/)||sr.push(ht(Sn,On,Ln,Jn,Er,!0))}),sr}function ht(Sn,On,Ln,Jn,ur,sr){var pr,Ir,Er;if(Er=Object.getOwnPropertyDescriptor(On,ur)||{value:On[ur]},Er.get?Er.set?Ir=Sn.stylize("[Getter/Setter]","special"):Ir=Sn.stylize("[Getter]","special"):Er.set&&(Ir=Sn.stylize("[Setter]","special")),gn(Jn,ur)||(pr="["+ur+"]"),Ir||(Sn.seen.indexOf(Er.value)<0?(Rt(Ln)?Ir=ft(Sn,Er.value,null):Ir=ft(Sn,Er.value,Ln-1),Ir.indexOf(`
`)>-1&&(sr?Ir=Ir.split(`
`).map(function(Kr){return"  "+Kr}).join(`
`).substr(2):Ir=`
`+Ir.split(`
`).map(function(Kr){return"   "+Kr}).join(`
`))):Ir=Sn.stylize("[Circular]","special")),wt(pr)){if(sr&&ur.match(/^\d+$/))return Ir;pr=JSON.stringify(""+ur),pr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(pr=pr.substr(1,pr.length-2),pr=Sn.stylize(pr,"name")):(pr=pr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),pr=Sn.stylize(pr,"string"))}return pr+": "+Ir}function mt(Sn,On,Ln){var Jn=Sn.reduce(function(ur,sr){return sr.indexOf(`
`)>=0,ur+sr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Jn>60?Ln[0]+(On===""?"":On+`
 `)+" "+Sn.join(`,
  `)+" "+Ln[1]:Ln[0]+On+" "+Sn.join(", ")+" "+Ln[1]}function yt(Sn){return Array.isArray(Sn)}tt.isArray=yt;function Et(Sn){return typeof Sn=="boolean"}tt.isBoolean=Et;function Rt(Sn){return Sn===null}tt.isNull=Rt;function Pt(Sn){return Sn==null}tt.isNullOrUndefined=Pt;function Vt(Sn){return typeof Sn=="number"}tt.isNumber=Vt;function Nt(Sn){return typeof Sn=="string"}tt.isString=Nt;function kt(Sn){return typeof Sn=="symbol"}tt.isSymbol=kt;function wt(Sn){return Sn===void 0}tt.isUndefined=wt;function Zt(Sn){return qt(Sn)&&En(Sn)==="[object RegExp]"}tt.isRegExp=Zt;function qt(Sn){return typeof Sn=="object"&&Sn!==null}tt.isObject=qt;function zt(Sn){return qt(Sn)&&En(Sn)==="[object Date]"}tt.isDate=zt;function Bt(Sn){return qt(Sn)&&(En(Sn)==="[object Error]"||Sn instanceof Error)}tt.isError=Bt;function sn(Sn){return typeof Sn=="function"}tt.isFunction=sn;function mn(Sn){return Sn===null||typeof Sn=="boolean"||typeof Sn=="number"||typeof Sn=="string"||typeof Sn=="symbol"||typeof Sn>"u"}tt.isPrimitive=mn,tt.isBuffer=et(589);function En(Sn){return Object.prototype.toString.call(Sn)}function cn(Sn){return Sn<10?"0"+Sn.toString(10):Sn.toString(10)}var xn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function bn(){var Sn=new Date,On=[cn(Sn.getHours()),cn(Sn.getMinutes()),cn(Sn.getSeconds())].join(":");return[Sn.getDate(),xn[Sn.getMonth()],On].join(" ")}tt.log=function(){console.log("%s - %s",bn(),tt.format.apply(tt,arguments))},tt.inherits=et(590),tt._extend=function(Sn,On){if(!On||!qt(On))return Sn;for(var Ln=Object.keys(On),Jn=Ln.length;Jn--;)Sn[Ln[Jn]]=On[Ln[Jn]];return Sn};function gn(Sn,On){return Object.prototype.hasOwnProperty.call(Sn,On)}var vn=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;tt.promisify=function(On){if(typeof On!="function")throw new TypeError('The "original" argument must be of type Function');if(vn&&On[vn]){var Ln=On[vn];if(typeof Ln!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Ln,vn,{value:Ln,enumerable:!1,writable:!1,configurable:!0}),Ln}function Ln(){for(var Jn,ur,sr=new rt(function(Er,Kr){Jn=Er,ur=Kr}),pr=[],Ir=0;Ir<arguments.length;Ir++)pr.push(arguments[Ir]);pr.push(function(Er,Kr){Er?ur(Er):Jn(Kr)});try{On.apply(this,pr)}catch(Er){ur(Er)}return sr}return Object.setPrototypeOf(Ln,Object.getPrototypeOf(On)),vn&&Object.defineProperty(Ln,vn,{value:Ln,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Ln,it(On))},tt.promisify.custom=vn;function Wn(Sn,On){if(!Sn){var Ln=new Error("Promise was rejected with a falsy value");Ln.reason=Sn,Sn=Ln}return On(Sn)}function Un(Sn){if(typeof Sn!="function")throw new TypeError('The "original" argument must be of type Function');function On(){for(var Ln=[],Jn=0;Jn<arguments.length;Jn++)Ln.push(arguments[Jn]);var ur=Ln.pop();if(typeof ur!="function")throw new TypeError("The last argument must be of type Function");var sr=this,pr=function(){return ur.apply(sr,arguments)};Sn.apply(this,Ln).then(function(Ir){nt.nextTick(pr,null,Ir)},function(Ir){nt.nextTick(Wn,Ir,pr)})}return Object.setPrototypeOf(On,Object.getPrototypeOf(Sn)),Object.defineProperties(On,it(Sn)),On}tt.callbackify=Un}).call(this,et(43),et(2))},function(_e,tt){_e.exports=function(nt){return nt&&typeof nt=="object"&&typeof nt.copy=="function"&&typeof nt.fill=="function"&&typeof nt.readUInt8=="function"}},function(_e,tt){typeof Object.create=="function"?_e.exports=function(nt,rt){nt.super_=rt,nt.prototype=Object.create(rt.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}})}:_e.exports=function(nt,rt){nt.super_=rt;var it=function(){};it.prototype=rt.prototype,nt.prototype=new it,nt.prototype.constructor=nt}},function(_e,tt,et){var nt=et(592),rt=et(262),it=et(263),ot=et(60);function st(at){return function(ct){ct=ot(ct);var lt=rt(ct)?it(ct):void 0,dt=lt?lt[0]:ct.charAt(0),ut=lt?nt(lt,1).join(""):ct.slice(1);return dt[at]()+ut}}_e.exports=st},function(_e,tt,et){var nt=et(261);function rt(it,ot,st){var at=it.length;return st=st===void 0?at:st,!ot&&st>=at?it:nt(it,ot,st)}_e.exports=rt},function(_e,tt){function et(nt){return nt.split("")}_e.exports=et},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\ufe0e\\ufe0f",at="["+et+"]",ct="["+ot+"]",lt="\\ud83c[\\udffb-\\udfff]",dt="(?:"+ct+"|"+lt+")",ut="[^"+et+"]",ft="(?:\\ud83c[\\udde6-\\uddff]){2}",pt="[\\ud800-\\udbff][\\udc00-\\udfff]",vt="\\u200d",Ct=dt+"?",ht="["+st+"]?",mt="(?:"+vt+"(?:"+[ut,ft,pt].join("|")+")"+ht+Ct+")*",yt=ht+Ct+mt,Et="(?:"+[ut+ct+"?",ct,ft,pt,at].join("|")+")",Rt=RegExp(lt+"(?="+lt+")|"+Et+yt,"g");function Pt(Vt){return Vt.match(Rt)||[]}_e.exports=Pt},function(_e,tt,et){_e.exports=["screen","window","tab","browser","application"]},function(_e,tt,et){const nt=et(0),rt=et(35)(),it=et(51),ot=et(121),st=et(598),at=et(601),ct="/opentok/webrtc/docs/js/release-notes.html",lt=rt.onlyLocal(),dt=nt("setLogLevel"),ut=`
          
   
               
               
              
                   `,ft=it(()=>{dt.info(`%c${ut}`,'font-family: "Fire Code", Courier, "Courier New", Consolas, "DejaVu Sans Mono"'),dt.info(`OpenTok JS SDK ${lt.version}`),dt.info(`Release notes: ${lt.websiteUrl}${ct}`),dt.info(`Known issues: ${lt.websiteUrl}${ct}l#knownIssues`)});function pt(vt){if(vt===void 0||!st(ot,{priority:vt})&&vt!==0){const ht=at(ot,(mt,yt)=>`OT.${yt.toUpperCase()} = ${mt.priority}`).join(", ");dt.error(`level must be one of: OT.NONE = 0, ${ht}`),dt.warn("Using OT.WARN instead"),vt=ot.warn.priority}nt.setLogLevel(vt),vt>=ot.debug.priority&&ft();const Ct="https://www.npmjs.com/package/debug#browser-support";return dt.info(`OpenTok JS SDK now uses the debug library. More info at ${Ct}`),dt.info(`Changed log level to: ${vt}`),vt}pt(lt.debug?ot.debug.priority:ot.warn.priority),_e.exports=pt},function(_e,tt,et){var nt=et(97),rt="Expected a function";function it(ot,st){var at;if(typeof st!="function")throw new TypeError(rt);return ot=nt(ot),function(){return--ot>0&&(at=st.apply(this,arguments)),ot<=1&&(st=void 0),at}}_e.exports=it},function(_e,tt,et){var nt=et(232),rt=et(36),it=et(599),ot=et(12),st=et(124);function at(ct,lt,dt){var ut=ot(ct)?nt:it;return dt&&st(ct,lt,dt)&&(lt=void 0),ut(ct,rt(lt,3))}_e.exports=at},function(_e,tt,et){var nt=et(266);function rt(it,ot){var st;return nt(it,function(at,ct,lt){return st=ot(at,ct,lt),!st}),!!st}_e.exports=rt},function(_e,tt,et){var nt=et(25);function rt(it,ot){return function(st,at){if(st==null)return st;if(!nt(st))return it(st,at);for(var ct=st.length,lt=ot?ct:-1,dt=Object(st);(ot?lt--:++lt<ct)&&at(dt[lt],lt,dt)!==!1;);return st}}_e.exports=rt},function(_e,tt,et){var nt=et(34),rt=et(36),it=et(602),ot=et(12);function st(at,ct){var lt=ot(at)?nt:it;return lt(at,rt(ct,3))}_e.exports=st},function(_e,tt,et){var nt=et(266),rt=et(25);function it(ot,st){var at=-1,ct=rt(ot)?Array(ot.length):[];return nt(ot,function(lt,dt,ut){ct[++at]=st(lt,dt,ut)}),ct}_e.exports=it},function(_e,tt,et){_e.exports=function(rt){return rt.substr(0,5)!=="http:"&&rt.substr(0,6)!=="https:"&&rt.substr(0,22)!=="data:image/png;base64,"?`data:image/png;base64,${rt}`:rt}},function(_e,tt,et){const nt=et(57),rt=et(0)("Style");_e.exports=function(ot,st){const at=this,ct={},lt={buttonDisplayMode:["auto","mini","mini-auto","off","on"],nameDisplayMode:["auto","off","on"],audioLevelDisplayMode:["auto","off","on"],showSettingsButton:[!0,!1],showSpeakerButton:null,showMicButton:[!0,!1],backgroundImageURI:null,showControlBar:[!0,!1],showArchiveStatus:[!0,!1],archiveStatusDisplayMode:["auto","off","on"],videoDisabledDisplayMode:["auto","off","on"],audioBlockedDisplayMode:["auto","off","on"]},dt=function(pt,vt){const Ct=lt[pt];return Ct===void 0?!1:Ct===null?!0:Ct.indexOf(vt)!==-1},ut=function(pt){switch(pt){case"true":return!0;case"false":return!1;default:return pt}};at.getAll=function(){return nt(ct)},at.get=function(ft){return ft?ct[ft]:at.getAll()},at.setAll=function(ft,pt){return Object.keys(ft).forEach(vt=>{at.set(vt,ft[vt],pt)}),at},at.set=function(ft,pt,vt){rt.debug(`setStyle: ${ft.toString()}`);let Ct;const ht=ut(pt);return dt(ft,ht)?(Ct=ct[ft],ht!==Ct&&(ct[ft]=ht,vt||st(ft,pt,Ct)),at):(rt.warn(`Style.set::Invalid style property passed ${ft} : ${ht}`),at)},ot&&at.setAll(ot,!0)}},function(_e,tt,et){const nt=et(3),rt=et(270),it=()=>nt.isIosWebView?!1:rt()?!0:(typeof window!==void 0?window:commonjsGlobal).navigator.mediaDevices&&(typeof window!==void 0?window:commonjsGlobal).navigator.mediaDevices.getUserMedia||(typeof window!==void 0?window:commonjsGlobal).navigator.webkitGetUserMedia||(typeof window!==void 0?window:commonjsGlobal).navigator.mozGetUserMedia;_e.exports=()=>!!(nt.name!=="Node"&&it())},function(_e,tt,et){const nt=et(3);_e.exports=()=>nt.name==="Node"?!1:typeof(typeof window!==void 0?window:commonjsGlobal).webkitRTCPeerConnection=="function"&&(typeof window!==void 0?window:commonjsGlobal).webkitRTCPeerConnection.prototype.addTrack||typeof(typeof window!==void 0?window:commonjsGlobal).RTCPeerConnection=="function"?!0:typeof(typeof window!==void 0?window:commonjsGlobal).mozRTCPeerConnection=="function"&&nt.version>20},function(_e,tt,et){_e.exports=(typeof window!==void 0?window:commonjsGlobal).WebSocket!==void 0},function(_e,tt){_e.exports=`<div id="tb_alert"><div id="section-normal-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div></div><div id="section-upgrade-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-supported-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com.au/chrome/browser/mobile/">Google Chrome</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application is not supported on your mobile device's browser at this time.</div></div></div>`},function(_e,tt,et){var nt=et(1),rt=nt(et(49));const it=et(14);_e.exports=function(ot){(0,rt.default)(st,ot);function st(ct,lt){var dt;let ut=lt===void 0?{}:lt,ft=ut.destroyOnClose,pt=ft===void 0?!0:ft;dt=ot.call(this)||this,dt.modalDiv=document.createElement("div"),dt.modalDiv.classList.add("OT_ModalDialog"),dt.modalDiv.innerHTML=ct;const vt=dt.modalDiv.querySelectorAll("[role=OT_close]");return[].forEach.call(vt,Ct=>Ct.addEventListener("click",ht=>{ht.preventDefault(),dt.close()})),dt.close(),document.body.appendChild(dt.modalDiv),pt&&dt.on("closed",()=>dt.destroy()),dt}var at=st.prototype;return at.open=function(){this.modalDiv.style.display="block",this.emit("opened")},at.close=function(){this.modalDiv.style.display="none",this.emit("closed")},at.destroy=function(){this.modalDiv.innerHTML="",this.modalDiv.parentNode.removeChild(this.modalDiv),this.emit("destroyed")},at.el=function(lt){return this.modalDiv.querySelector(lt)},st}(it)},function(_e,tt,et){const nt=et(21);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.env||et(3),ot=rt.analytics||new nt;ot.logEvent({action:"UserAgentParsing",variation:"Attempt",payload:{userAgent:it.userAgent}}),ot.logEvent({action:"UserAgentParsing",variation:it.error?"Failure":"Success",payload:{userAgent:it.userAgent}})}},function(_e,tt,et){var nt=et(612),rt=et(271),it=et(613),ot=et(614);function st(at){var ct=typeof Map=="function"?new Map:void 0;return _e.exports=st=function(dt){if(dt===null||!it(dt))return dt;if(typeof dt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ct<"u"){if(ct.has(dt))return ct.get(dt);ct.set(dt,ut)}function ut(){return ot(dt,arguments,nt(this).constructor)}return ut.prototype=Object.create(dt.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}),rt(ut,dt)},st(at)}_e.exports=st},function(_e,tt){function et(nt){return _e.exports=et=Object.setPrototypeOf?Object.getPrototypeOf:function(it){return it.__proto__||Object.getPrototypeOf(it)},et(nt)}_e.exports=et},function(_e,tt){function et(nt){return Function.toString.call(nt).indexOf("[native code]")!==-1}_e.exports=et},function(_e,tt,et){var nt=et(271);function rt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function it(ot,st,at){return rt()?_e.exports=it=Reflect.construct:_e.exports=it=function(lt,dt,ut){var ft=[null];ft.push.apply(ft,dt);var pt=Function.bind.apply(lt,ft),vt=new pt;return ut&&nt(vt,ut.prototype),vt},it.apply(null,arguments)}_e.exports=it},function(_e,tt,et){(function(nt){_e.exports=(rt,it)=>(it=it||(()=>{}),rt.then(ot=>new nt(st=>{st(it())}).then(()=>ot),ot=>new nt(st=>{st(it())}).then(()=>{throw ot})))}).call(this,et(2))},function(_e,tt,et){var nt=et(59),rt=et(617),it=et(618),ot=et(47);function st(at,ct){return ct=nt(ct,at),at=it(at,ct),at==null||delete at[ot(rt(ct))]}_e.exports=st},function(_e,tt){function et(nt){var rt=nt==null?0:nt.length;return rt?nt[rt-1]:void 0}_e.exports=et},function(_e,tt,et){var nt=et(99),rt=et(261);function it(ot,st){return st.length<2?ot:nt(ot,rt(st,0,-1))}_e.exports=it},function(_e,tt,et){var nt=et(138);function rt(it){return nt(it)?void 0:it}_e.exports=rt},function(_e,tt,et){var nt=et(36),rt=et(25),it=et(31);function ot(st){return function(at,ct,lt){var dt=Object(at);if(!rt(at)){var ut=nt(ct,3);at=it(at),ct=function(pt){return ut(dt[pt],pt,dt)}}var ft=st(at,ct,lt);return ft>-1?dt[ut?at[ft]:ft]:void 0}}_e.exports=ot},function(_e,tt,et){var nt=et(93),rt=et(94),it=et(130),ot=et(95),st=et(622),at=et(98),ct=200;function lt(dt,ut,ft){var pt=-1,vt=rt,Ct=dt.length,ht=!0,mt=[],yt=mt;if(ft)ht=!1,vt=it;else if(Ct>=ct){var Et=ut?null:st(dt);if(Et)return at(Et);ht=!1,vt=ot,yt=new nt}else yt=ut?[]:mt;e:for(;++pt<Ct;){var Rt=dt[pt],Pt=ut?ut(Rt):Rt;if(Rt=ft||Rt!==0?Rt:0,ht&&Pt===Pt){for(var Vt=yt.length;Vt--;)if(yt[Vt]===Pt)continue e;ut&&yt.push(Pt),mt.push(Rt)}else vt(yt,Pt,ft)||(yt!==mt&&yt.push(Pt),mt.push(Rt))}return mt}_e.exports=lt},function(_e,tt,et){var nt=et(186),rt=et(224),it=et(98),ot=1/0,st=nt&&1/it(new nt([,-0]))[1]==ot?function(at){return new nt(at)}:rt;_e.exports=st},function(_e,tt,et){const nt=ot=>ot&&ot.replace(/\D+/g,"")||"0",rt=ot=>ot.substring(0,9),it=ot=>parseInt(ot,10);_e.exports=ot=>it(rt(nt(ot)))},function(_e,tt,et){(function(nt){var rt=et(1),it=rt(et(4)),ot=rt(et(5));const at=et(0)("hasValidPeerConnection");function ct(ut){return new nt(ft=>{ut.addEventListener("signalingstatechange",()=>ft(!0)),ut.createOffer({offerToReceiveAudio:1}).then(pt=>ut.setLocalDescription(pt)).then(()=>setTimeout(()=>{ft(!1)},1e3))})}function lt(ut){return dt.apply(this,arguments)}function dt(){return dt=(0,ot.default)(it.default.mark(function ut(ft){var pt;return it.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:Ct.prev=0,pt=new ft({iceServers:[]}),Ct.next=8;break;case 4:return Ct.prev=4,Ct.t0=Ct.catch(0),at.error("Error occurred creating PeerConnection",Ct.t0),Ct.abrupt("return",!1);case 8:return Ct.prev=8,Ct.next=11,ct(pt);case 11:Ct.next=18;break;case 13:Ct.prev=13,Ct.t1=Ct.catch(8),at.error("Error occurred checking the validity of the PeerConnection",Ct.t1);try{pt.close()}catch{}return Ct.abrupt("return",!1);case 18:Ct.prev=18,pt.close(),Ct.next=26;break;case 22:return Ct.prev=22,Ct.t2=Ct.catch(18),at.error("Error occurred closing PeerConnection",Ct.t2),Ct.abrupt("return",!1);case 26:return Ct.abrupt("return",!0);case 27:case"end":return Ct.stop()}},ut,null,[[0,4],[8,13],[18,22]])})),dt.apply(this,arguments)}_e.exports=lt}).call(this,et(2))},function(_e,tt,et){(function(nt){const rt=et(38),it=et(3),ot=et(626),st=et(73),at=et(0)("createPeerConnection");_e.exports=function(lt){let dt=lt.window,ut=lt.config,ft=lt.constraints;at.debug("called");const pt=rt(ut);pt.iceServers=ot(it,pt.iceServers),st()&&(pt.sdpSemantics="plan-b");const vt=new dt.RTCPeerConnection(pt,ft);return nt.resolve(vt)}}).call(this,et(2))},function(_e,tt,et){const nt=et(9),rt=et(272),it={Edge(ot){let st=!1;return ot.map(at=>{if(!at)return;const ct=at.urls||at.url&&[at.url];if(!ct)return;const lt=ct.filter(dt=>dt.indexOf("turn:")===0&&dt.indexOf("transport=udp")!==-1&&dt.indexOf("turn:[")===-1&&!st?(st=!0,!0):dt.indexOf("stun:")===0);if(lt.length!==0)return nt(rt(at,["url","urls"]),{urls:lt})}).filter(at=>at!==void 0)},Safari(ot){return ot.map(st=>{if(st.urls!==void 0&&st.url===void 0)return st;const at=st.urls||st.url&&[st.url];return nt(rt(st,["url","urls"]),{urls:at})})}};_e.exports=function(st,at){let ct=st.name;st.isEdge&&(ct=st.isLegacyEdge?"Edge":"ChromiumEdge");const lt=it[ct];return lt?lt(at):at}},function(_e,tt,et){const nt=et(28),rt=et(3),it={h264:{baseline:"42001f",constBaseline:"42e01f"}},ot=st=>{let at=st.sdp,ct=st.from,lt=st.to;return at.replace(new RegExp(`^(a=fmtp:\\d+ .*profile-level-id=)${ct}`,"gmi"),`$1${lt}`)};_e.exports={local:{offer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.numSimulcastStreams,ut=lt.audioBitrate,ft=lt.priorityVideoCodec,pt=ft===void 0?"":ft,vt=lt.codecFlags,Ct=vt===void 0?{}:vt,ht=lt.enableStereo,mt=ht===void 0?!1:ht,yt=lt.enableDtx,Et=yt===void 0?!1:yt,Rt=lt.replaceBaselineProfile,Pt=Rt===void 0?!1:Rt,Vt=lt.removeVideoOrientation,Nt=Vt===void 0?!1:Vt,kt=nt.filterExcessSSRCs(ct);dt>1&&(kt=nt.enableSimulcast(kt,dt)),ut>0&&(kt=nt.setAudioBitrate(kt,ut)),Nt&&(kt=nt.removeVideoOrientation(kt)),kt=nt.modifyReceiveStereo(kt,!1),kt=nt.modifySendStereo(kt,!!mt),kt=nt.modifyDtx(kt,!!Et),rt.isLegacyEdge||Object.keys(Ct).filter(Zt=>Ct[Zt]===!1).forEach(Zt=>{kt=nt.removeVideoCodec(kt,Zt)}),pt&&!rt.isLegacyEdge?kt=nt.reprioritizeVideoCodec(kt,pt,"top"):pt!=="h264"&&(kt=nt.reprioritizeVideoCodec(kt,"h264","bottom"));let wt=kt;return Pt&&(wt=ot({sdp:wt,from:it.h264.baseline,to:it.h264.constBaseline})),{local:kt,remote:wt}},answer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.audioBitrate,ut=lt.codecFlags,ft=lt.enableStereo,pt=ft===void 0?!1:ft,vt=lt.enableDtx,Ct=vt===void 0?!1:vt,ht=lt.replaceBaselineProfile,mt=ht===void 0?!1:ht,yt=lt.sourceStreamId,Et=ct;dt>0&&(Et=nt.setAudioBitrate(Et,dt)),Et=nt.modifyReceiveStereo(Et,!!pt),Et=nt.modifySendStereo(Et,!1),Et=nt.modifyDtx(Et,!!Ct),yt==="MANTIS"&&nt.getSetupRole(Et)==="passive"&&(Et=nt.setSetupRole(Et,"active")),ut&&Object.keys(ut).filter(Pt=>ut[Pt]===!1).forEach(Pt=>{Et=nt.removeVideoCodec(Et,Pt)});let Rt=Et;return mt&&(Rt=ot({sdp:Rt,from:it.h264.baseline,to:it.h264.constBaseline})),{local:Et,remote:Rt}}},remote:{offer:(st,at)=>{let ct=st.replaceBaselineProfile,lt=ct===void 0?!1:ct,dt=at;if(dt.indexOf("a=rtcp-fb")===-1){const ut=`a=rtcp-fb:* ccm fir\r
a=rtcp-fb:* nack `;dt=dt.replace(/^m=video(.*)$/gmi,`m=video$1\r
${ut}`)}return lt&&(dt=ot({sdp:dt,from:it.h264.constBaseline,to:it.h264.baseline})),{local:dt}},answer:function(at,ct){let lt=at===void 0?{}:at,dt=lt.audioBitrate,ut=lt.replaceBaselineProfile,ft=ut===void 0?!1:ut,pt=ct;return dt>0&&(pt=nt.setAudioBitrate(pt,dt)),ft&&(pt=ot({sdp:pt,from:it.h264.constBaseline,to:it.h264.baseline})),{local:pt}}}}},function(_e,tt,et){var nt=et(40),rt=et(55),it=et(42),ot=et(25),st=et(276),at=et(629),ct=et(233),lt=et(98),dt=et(263),ut=et(277),ft="[object Map]",pt="[object Set]",vt=nt?nt.iterator:void 0;function Ct(ht){if(!ht)return[];if(ot(ht))return st(ht)?dt(ht):rt(ht);if(vt&&ht[vt])return at(ht[vt]());var mt=it(ht),yt=mt==ft?ct:mt==pt?lt:ut;return yt(ht)}_e.exports=Ct},function(_e,tt){function et(nt){for(var rt,it=[];!(rt=nt.next()).done;)it.push(rt.value);return it}_e.exports=et},function(_e,tt,et){var nt=et(34);function rt(it,ot){return nt(ot,function(st){return it[st]})}_e.exports=rt},function(_e,tt,et){_e.exports=(nt,rt)=>{let it=[],ot=null;if(typeof nt.getReceivers=="function"){const st=nt.getReceivers().find(at=>at.track.kind==="audio");st&&(it=st.getSynchronizationSources())}else ot=new Error("peerConnection does not support getReceivers function");rt&&rt(ot,it)}},function(_e,tt,et){(function(nt){const rt=et(633),it=function(st){this.pending=[],this._processBinding=this.maybeProcessPending.bind(this),st&&this.setPeerConnection(st)};it.prototype.setPeerConnection=function(st){if(this.pc)throw new Error("Peer connection already set");this.pc=st,this._forwardIceCandidate=rt(this.pc,"addIceCandidate"),this.pc.addEventListener("signalingstatechange",this._processBinding),this.maybeProcessPending()},it.prototype.canAddCandidates=function(){return!!(this.pc&&this.pc.iceConnectionState!=="closed"&&this.pc.remoteDescription&&this.pc.remoteDescription.type&&this.pc.localDescription&&this.pc.localDescription.type)},it.prototype.addIceCandidate=function(st){if(this.canAddCandidates())return this._forwardIceCandidate(st);const at=this.pending;return new nt((ct,lt)=>{at.push({iceCandidate:st,resolve:ct,reject:lt})})},it.prototype.maybeProcessPending=function(){this.canAddCandidates()&&this.process()},it.prototype.process=function(){for(;this.pending.length;){const st=this.pending.shift();this._forwardIceCandidate(st.iceCandidate).then(st.resolve).catch(st.reject)}},it.prototype.destroy=function(){this.pc&&this.pc.removeEventListener("signalingstatechange",this._processBinding),this._processBinding=null,this.pc=null},_e.exports=it}).call(this,et(2))},function(_e,tt,et){(function(nt){_e.exports=function(it,ot){const st=it[ot];return function(at){return new nt((ct,lt)=>{const dt=st.apply(it,[at,ct,lt]);dt&&typeof dt.then=="function"&&ct(dt)})}}}).call(this,et(2))},function(_e,tt,et){const nt=et(156),rt=et(3),it=et(0)("offerProcessor"),ot=et(28),st=et(635);_e.exports=function(ct,lt,dt,ut,ft,pt,vt,Ct,ht,mt,yt,Et,Rt){const Pt=(qt,zt)=>Bt=>{it.error(qt),it.error(Bt),mt&&mt(qt,Bt,zt)},Vt=qt=>{const zt=ot.hasSendStereo(pt.sdp),Bt=ot.hasSendDtx(pt.sdp),sn=ot.getAudioBitrate(pt.sdp),mn=nt(ft,"local","answer",{enableStereo:zt,enableDtx:Bt,audioBitrate:sn,replaceBaselineProfile:Et,codecFlags:vt,sourceStreamId:Rt},qt.sdp),En=new ut({type:qt.type,sdp:mn.local}),cn={type:qt.type,sdp:mn.remote};return ct.setLocalDescription(En).then(()=>ht(cn)).catch(Pt("Error while setting LocalDescription","SetLocalDescription"))},Nt=()=>ct.createAnswer().then(Vt).catch(Pt("Error while setting createAnswer","CreateAnswer")),kt=new ut({type:pt.type,sdp:nt(ft,"remote","offer",{replaceBaselineProfile:Et},pt.sdp).local}),wt=Pt("Error while setting RemoteDescription","SetRemoteDescription");return st(kt,Ct,rt,lt,dt).then(()=>(yt(!0),kt)).catch(qt=>{if(yt(!1),!ot.hasMediaType(kt.sdp,"audio"))throw new Error("Unsupported video without audio for fallback");it.debug("Couldn't set remote description",kt,qt,", trying without video");const zt=new ut({type:pt.type,sdp:ot.disableMediaType(kt.sdp,"video")});return it.debug("offer without video",zt.sdp),zt}).then(qt=>ct.setRemoteDescription(qt)).then(Nt).catch(wt)}},function(_e,tt,et){(function(nt){const rt=et(73),it=(ot,st,at,ct,lt)=>{if(!ct)return nt.resolve(!0);const dt={iceServers:[]};rt()&&(dt.sdpSemantics="plan-b");const ut=new ct(dt),ft=()=>{try{ut.close()}catch{}};return ut.setRemoteDescription(new lt(ot)).then(()=>{ft()}).catch(pt=>{throw ft(),pt})};_e.exports=it}).call(this,et(2))},function(_e,tt,et){const nt=et(61),rt=et(637);_e.exports=function(ot){let st=[];const at={};let ct={sentMessages:0,recvMessages:0};const lt=function(ft){st.filter(pt=>ft!==pt)},dt=function(ft){const pt=new rt(ft);return st.push(pt),pt.on("close",()=>{lt(pt)}),pt};return at.add=function(ut,ft){return dt(ot.createDataChannel(ut,ft))},at.addMany=function(ut){for(const ft in ut)ut.hasOwnProperty(ft)&&at.add(ft,ut[ft])},at.get=function(ut,ft){return nt(st,pt=>pt.equals(ut,ft))},at.getOrAdd=function(ut,ft){let pt=at.get(ut,ft);return pt||(pt=at.add(ut,ft)),pt},at.getQosData=function(){const ut={sentMessages:0,recvMessages:0};return st.forEach(ft=>{ut.sentMessages+=ft.getQosData().sentMessages,ut.recvMessages+=ft.getQosData().recvMessages}),ut},at.sampleQos=function(){const ut=at.getQosData(),ft={sentMessages:ut.sentMessages-ct.sentMessages,recvMessages:ut.recvMessages-ct.recvMessages};return ct=ut,ft},at.destroy=function(){st.forEach(ut=>{ut.close()}),st=[]},ot.addEventListener("datachannel",ut=>{dt(ut.channel)}),at}},function(_e,tt,et){const nt=et(6),rt=et(0)("DataChannel"),it=function(st){this.data=st.data,this.source=st.source,this.lastEventId=st.lastEventId,this.origin=st.origin,this.timeStamp=st.timeStamp,this.type=st.type,this.ports=st.ports,this.path=st.path};_e.exports=function(st){const at={},ct=[],lt={sentMessages:0,recvMessages:0},dt=function(yt){return ct.push(yt),at},ut=function(yt){return st.send(yt),lt.sentMessages++,at},ft=function(){let yt;for(;yt=ct.shift();)at.send(yt)},pt=function(){at.send=ut,ft()},vt=function(yt){at.send=dt,at.trigger("close",yt)},Ct=function(yt){rt.error(yt)},ht=function(yt){const Et=new it(yt);lt.recvMessages++,at.trigger("message",Et)};return nt(at,!0),at.label=st.label,at.id=st.id,at.reliable=st.reliable,at.negotiated=st.negotiated,at.ordered=st.ordered,at.protocol=st.protocol,at._channel=st,at.close=function(){st.close()},at.equals=function(mt,yt){if(at.label!==mt)return!1;for(const Et in yt)if(yt.hasOwnProperty(Et)&&at[Et]!==yt[Et])return!1;return!0},at.getQosData=function(){return lt},at.send=dt,st.addEventListener("open",pt,!1),st.addEventListener("close",vt,!1),st.addEventListener("error",Ct,!1),st.addEventListener("message",ht,!1),at}},function(_e,tt,et){const nt=et(9),rt=et(156),it=et(0)("subscribeProcessor"),ot=et(28);_e.exports=function(at){let ct=at.peerConnection,lt=at.NativeRTCSessionDescription,dt=at.sdpTransforms,ut=at.numSimulcastStreams,ft=at.offerOverrides,pt=at.offerConstraints,vt=at.replaceBaselineProfile,Ct=at.removeVideoOrientation,ht=at.removeUnusedCodecs;const mt=(Et,Rt)=>Pt=>{it.error(Et,Pt);const Vt=new Error(Et);throw Vt.reason=Pt,Vt.prefix=Rt,Vt},yt=Et=>{it.debug("subscribeProcessor: offer created",Et);let Rt=Et.sdp;if(ht){var Pt;Rt=ot.removeUnusedCodecs(Rt,(Pt=ct.currentLocalDescription)==null?void 0:Pt.sdp)}const Vt=rt(dt,"local","offer",nt({numSimulcastStreams:ut,replaceBaselineProfile:vt,removeVideoOrientation:Ct},ft),Rt),Nt=new lt({type:Et.type,sdp:Vt.local}),kt=new lt({type:Et.type,sdp:Vt.remote});return it.debug("subscribeProcessor: setting local description"),ct.setLocalDescription(Nt).then(()=>kt,mt("Error while setting LocalDescription","SetLocalDescription"))};return it.debug("subscribeProcessor: creating offer"),ct.createOffer(pt).then(yt,mt("Error while creating Offer","CreateOffer")).then(Et=>({sdp:Et.sdp,type:Et.type}))}},function(_e,tt,et){const nt=et(640);let rt=function(){function it(st){this.state=nt.RESOLVED,this.offerAnswerQueue=[],this.logAnalyticsEvent=st}var ot=it.prototype;return ot.setPending=function(){this.state=nt.PENDING},ot.setResolved=function(){this.state=nt.RESOLVED;const at=this.offerAnswerQueue.shift();at&&(this.logAnalyticsEvent("dequeueOfferAnswer","Event"),this.setPending(),at())},ot.isPending=function(){return this.state===nt.PENDING},ot.enqueueOfferAnswer=function(at){this.isPending()?(this.offerAnswerQueue.push(at),this.logAnalyticsEvent("enqueueOfferAnswer","Event")):(this.setPending(),at())},it}();_e.exports=rt},function(_e,tt,et){_e.exports={PENDING:"pending",RESOLVED:"resolved"}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=et(28),st=ot.mediaDirections,at=st.RECVONLY,ct=st.INACTIVE,lt=function(){var dt=(0,it.default)(rt.default.mark(function ut(ft,pt){var vt,Ct,ht;return rt.default.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(ft){yt.next=2;break}return yt.abrupt("return");case 2:return yt.next=4,ft.createOffer();case 4:return vt=yt.sent,yt.next=7,ft.setLocalDescription(vt);case 7:Ct=ft.remoteDescription.sdp,ht=ot.changeMediaDirection(Ct,pt),ft.setRemoteDescription({type:ft.remoteDescription.type,sdp:ht});case 10:case"end":return yt.stop()}},ut)}));return function(ft,pt){return dt.apply(this,arguments)}}();_e.exports={changeMediaDirectionToInactive:dt=>lt(dt,ct),changeMediaDirectionToRecvOnly:dt=>lt(dt,at)}},function(_e,tt,et){tt.__esModule=!0,tt.default=Et,tt.parseStatsNewAPI=yt,tt.parseStatsOldAPI=mt;function nt(Pt,Vt){var Nt=typeof Symbol<"u"&&Pt[Symbol.iterator]||Pt["@@iterator"];if(Nt)return(Nt=Nt.call(Pt)).next.bind(Nt);if(Array.isArray(Pt)||(Nt=rt(Pt))||Vt&&Pt&&typeof Pt.length=="number"){Nt&&(Pt=Nt);var kt=0;return function(){return kt>=Pt.length?{done:!0}:{done:!1,value:Pt[kt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(Pt,Vt){if(Pt){if(typeof Pt=="string")return it(Pt,Vt);var Nt=Object.prototype.toString.call(Pt).slice(8,-1);if(Nt==="Object"&&Pt.constructor&&(Nt=Pt.constructor.name),Nt==="Map"||Nt==="Set")return Array.from(Pt);if(Nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt))return it(Pt,Vt)}}function it(Pt,Vt){(Vt==null||Vt>Pt.length)&&(Vt=Pt.length);for(var Nt=0,kt=new Array(Vt);Nt<Vt;Nt++)kt[Nt]=Pt[Nt];return kt}const ot=et(3),st=et(8),at=et(0)("QoS"),ct=et(28),lt=et(280),dt=et(643),ut=et(104)(),ft=et(157),pt=["audioCodec","audioSentBytes","audioSentPackets","audioSentPacketsLost","audioRtt","videoCodec","videoHeight","videoHeightInput","videoSentBytes","videoFrameRateSent","videoSentPackets","videoRtt","videoSentPacketsLost","videoWidthInput","videoWidth","srtpCipher"],vt=["audioCodec","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoCodec","videoHeight","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost","videoFrameRateReceived","videoWidth","srtpCipher"],Ct=(Pt,Vt)=>at.debug(`Raw stats for peer conn ${Pt.id}:`,Vt),ht=Pt=>{const Vt=Pt.portNumber||Pt.port;return`${Pt.ipAddress||Pt.address||Pt.ip}:${Vt}`};function mt(Pt,Vt,Nt,kt,wt){const Zt=Bt=>(Number(Bt.stat("googFrameRateSent"))>0?(Nt.videoSentBytes=Number(Bt.stat("bytesSent")),Nt.videoSentPackets=Number(Bt.stat("packetsSent")),Nt.videoSentPacketsLost=Number(Bt.stat("packetsLost")),Nt.videoRtt=Number(Bt.stat("googRtt"))/1e3,Nt.videoFrameRate=Number(Bt.stat("googFrameRateInput")),Nt.videoWidth=Number(Bt.stat("googFrameWidthSent")),Nt.videoHeight=Number(Bt.stat("googFrameHeightSent")),Nt.videoFrameRateSent=Number(Bt.stat("googFrameRateSent")),Nt.videoWidthInput=Number(Bt.stat("googFrameWidthInput")),Nt.videoHeightInput=Number(Bt.stat("googFrameHeightInput")),Nt.videoCodec=Bt.stat("googCodecName"),Nt.videoBandwidthLimitedResolution=Bt.stat("googBandwidthLimitedResolution")==="true",Nt.cpuLimitedResolution=Bt.stat("googCpuLimitedResolution")==="true"):Number(Bt.stat("googFrameRateReceived"))>0&&(Nt.videoRecvBytes=Number(Bt.stat("bytesReceived")),Nt.videoRecvPackets=Number(Bt.stat("packetsReceived")),Nt.videoRecvPacketsLost=Number(Bt.stat("packetsLost")),Nt.videoFrameRate=Number(Bt.stat("googFrameRateOutput")),Nt.videoFrameRateReceived=Number(Bt.stat("googFrameRateReceived")),Nt.videoFrameRateDecoded=Number(Bt.stat("googFrameRateDecoded")),Nt.videoWidth=Number(Bt.stat("googFrameWidthReceived")),Nt.videoHeight=Number(Bt.stat("googFrameHeightReceived")),Nt.videoCodec=Bt.stat("googCodecName")),null),qt=Bt=>{Number(Bt.stat("audioInputLevel"))>0?(Nt.audioSentPackets=Number(Bt.stat("packetsSent")),Nt.audioSentPacketsLost=Number(Bt.stat("packetsLost")),Nt.audioSentBytes=Number(Bt.stat("bytesSent")),Nt.audioCodec=Bt.stat("googCodecName"),Nt.audioRtt=Number(Bt.stat("googRtt"))/1e3):Number(Bt.stat("audioOutputLevel"))>0&&(Nt.audioRecvPackets=Number(Bt.stat("packetsReceived")),Nt.audioRecvPacketsLost=Number(Bt.stat("packetsLost")),Nt.audioRecvBytes=Number(Bt.stat("bytesReceived")),Nt.audioCodec=Bt.stat("googCodecName"))},zt=Bt=>{if(Bt.result){const sn=Bt.result();Ct(Pt,sn);const mn=(xn,bn)=>sn.filter(gn=>gn.id===bn.stat(xn))[0],En=xn=>mn("localCandidateId",xn),cn=xn=>mn("remoteCandidateId",xn);for(let xn=0;xn<sn.length;xn++){const bn=sn[xn];bn.stat&&(bn.stat("googActiveConnection")==="true"&&(bn.stat("googChannelId").indexOf("audio")>-1?(Nt.audioLocalAddress=bn.stat("googLocalAddress"),Nt.audioRemoteAddress=bn.stat("googRemoteAddress"),Nt.audioLocalCandidateType=bn.stat("googLocalCandidateType"),Nt.audioRemoteCandidateType=bn.stat("googRemoteCandidateType"),Nt.audioTransportType=bn.stat("googTransportType"),Nt.audioLocalRelayProtocol=lt(En(bn).stat("priority")),Nt.audioRemoteRelayProtocol=lt(cn(bn).stat("priority"))):bn.stat("googChannelId").indexOf("video")>-1&&(Nt.videoLocalAddress=bn.stat("googLocalAddress"),Nt.videoRemoteAddress=bn.stat("googRemoteAddress"),Nt.videoLocalCandidateType=bn.stat("googLocalCandidateType"),Nt.videoRemoteCandidateType=bn.stat("googRemoteCandidateType"),Nt.videoTransportType=bn.stat("googTransportType"),Nt.videoLocalRelayProtocol=lt(En(bn).stat("priority")),Nt.videoRemoteRelayProtocol=lt(cn(bn).stat("priority")))),Number(bn.stat("googAvailableSendBandwidth"))>0&&(Nt.videoSentEstimatedBandwidth=Number(bn.stat("googAvailableSendBandwidth"))),Number(bn.stat("googAvailableReceiveBandwidth"))>0&&(Nt.videoRecvEstimatedBandwidth=Number(bn.stat("googAvailableReceiveBandwidth"))),qt(bn),Zt(bn))}"videoCodec"in Nt&&!Nt.videoLocalAddress&&["LocalAddress","RemoteAddress","LocalCandidateType","RemoteCandidateType","TransportType","LocalRelayProtocol","RemoteRelayProtocol"].forEach(xn=>{Nt[`video${xn}`]=Nt[`audio${xn}`]})}wt(null,Nt)};Pt.getStats(zt)}function yt(Pt,Vt,Nt,kt,wt){const Zt=function(mn){wt(mn)},qt=(sn,mn)=>{if(mn==="outboundrtp"?(Nt.audioSentPackets=sn.packetsSent,Nt.audioSentPacketsLost=sn.packetsLost,Nt.audioSentBytes=sn.bytesSent):mn==="inboundrtp"&&(Nt.audioRecvPackets=sn.packetsReceived,Nt.audioRecvPacketsLost=sn.packetsLost,Nt.audioRecvBytes=sn.bytesReceived),Nt.audioCodec===void 0&&["Safari"].indexOf(st.env.name)!==-1&&sn.codecId!==void 0){const En=Pt.remoteDescription.type==="answer"?Pt.remoteDescription:Pt.localDescription,cn=En.sdp,xn=sn.codecId.lastIndexOf("_"),bn=ct.getCodecsAndCodecMap(cn,"audio");xn!==-1&&bn!==void 0&&(Nt.audioCodec=bn.codecMap[sn.codecId.substring(xn+1)])}},zt=sn=>{const mn={packetsSent:"videoSentPackets",packetsLost:"videoSentPacketsLost",bytesSent:"videoSentBytes",framesPerSecond:"videoFrameRate",framesSent:"videoFrameRateSent",framesReceived:"videoFramesReceived",frameWidth:"videoWidth",frameHeight:"videoHeight"},En=["videoSentPackets","videoSentBytes"];for(const cn in mn)if(cn in sn){const xn=mn[cn];En.includes(xn)&&Number.isSafeInteger(Nt[xn])?Nt[xn]+=sn[cn]:Nt[xn]=sn[cn]}},Bt=(sn,mn)=>{const En=()=>{if(!("videoSentBytes"in Nt?Nt.videoSentBytes>0:Nt.videoRecvBytes>0))return 0;let xn=0;if(ot.isFirefox&&ot.version<96)xn=Number(sn.framerateMean);else{const bn=mn==="outboundrtp"?"framesEncoded":"framesDecoded";Nt[bn]=sn[bn],xn=ft({currentStatFrames:sn[bn],currentTimestamp:sn.timestamp,prevStatFrames:Vt[bn],prevTimestamp:Vt.timeStamp||Date.now()})}return xn};if(mn==="outboundrtp"?(sn.hasOwnProperty("qualityLimitationReason")&&(Nt.videoBandwidthLimitedResolution=sn.qualityLimitationReason==="bandwidth",Nt.cpuLimitedResolution=sn.qualityLimitationReason==="cpu"),zt(sn)):mn==="inboundrtp"&&(Nt.videoRecvPackets=sn.packetsReceived,Nt.videoRecvPacketsLost=sn.packetsLost,Nt.videoRecvBytes=sn.bytesReceived),(ot.isFirefox&&["outboundrtp","inboundrtp"].includes(mn)||!kt&&mn==="inboundrtp")&&(Nt.videoFrameRate=En()),Nt.videoCodec===void 0&&["Safari"].indexOf(st.env.name)!==-1&&sn.codecId!==void 0){const cn=Pt.remoteDescription.type==="answer"?Pt.remoteDescription:Pt.localDescription,xn=cn.sdp,bn=sn.codecId.lastIndexOf("_"),gn=ct.getCodecsAndCodecMap(xn,"video");bn!==-1&&gn!==void 0&&(Nt.videoCodec=gn.codecMap[sn.codecId.substring(bn+1)])}};Pt.getStats(null).then(sn=>{let mn,En,cn,xn,bn,gn,vn,Wn;const Un=[],Sn=()=>{if(Un.length===0)return null;const sr=Un.filter(Er=>Er>0),pr=sr.reduce((Er,Kr)=>Er+Kr,0);return sr.length?pr/sr.length:0},On=sr=>sr.toLowerCase().replace(/[^a-z]/g,""),Ln=sr=>{const pr=On(sr.type),Ir=sr.id.toLowerCase();if(/(in|out)boundrtp$/.test(pr)){const Er=/rtp/.test(Ir),Kr=Er&&/audio/.test(Ir),Dr=Er&&/video/.test(Ir),to=Kr||sr.kind==="audio",po=Dr||sr.kind==="video";if(to?qt(sr,pr):po&&Bt(sr,pr),sr.hasOwnProperty("roundTripTime")){const Nr=sr.mediaType||sr.kind;Nr==="video"?Un.push(sr.roundTripTime):Nr==="audio"&&(Nt.audioRtt=sr.roundTripTime)}if(pr==="remoteinboundrtp"&&sr.hasOwnProperty("packetsLost")){const br=`${sr.kind}SentPacketsLost`;Nt[br]||(Nt[br]=0),Nt[br]+=sr.packetsLost}}else if(pr==="transport"){const Er=sr.selectedCandidatePairId,Kr=sr.srtpCipher;Nt.srtpCipher=Kr,Er&&(xn=dt(Er,sn))}else if(pr==="localcandidate")mn=sr.candidateType,cn=ht(sr),gn=sr.protocol||sr.transport;else if(pr==="remotecandidate")En=sr.candidateType,bn=ht(sr);else if(pr==="track"&&Ir.indexOf("video")!==0)vn=sr.frameWidth,Wn=sr.frameHeight,zt(sr);else if(pr==="mediasource")sr.hasOwnProperty("framesPerSecond")&&(Nt.videoFrameRate=sr.framesPerSecond),sr.hasOwnProperty("width")&&(Nt.videoWidthInput=sr.width),sr.hasOwnProperty("height")&&(Nt.videoHeightInput=sr.height);else if(pr==="candidatepair"&&sr.hasOwnProperty("availableOutgoingBitrate")){const Er=`video${kt?"Sent":"Recv"}EstimatedBandwidth`;Nt[Er]=parseInt(sr.availableOutgoingBitrate,10)}};if(typeof sn[Symbol.iterator]=="function"){Ct(Pt,Array.from(sn));for(var Jn=nt(sn),ur;!(ur=Jn()).done;){const sr=ur.value,pr=Array.isArray(sr)?sr[1]:sr;Ln(pr)}}else{Ct(Pt,sn);for(const sr in sn)sn.hasOwnProperty(sr)&&Ln(sn[sr])}if(Pt.currentRemoteDescription&&(Nt.useDtx=ct.hasSendDtx(Pt.currentRemoteDescription.sdp)),kt&&(Nt.videoRtt=Sn()),(Nt.audioRecvBytes||Nt.audioSentBytes)&&(Nt.audioLocalCandidateType=mn,Nt.audioLocalAddress=cn,Nt.audioRemoteCandidateType=En,Nt.audioRemoteAddress=bn,Nt.audioTransportType=gn,Nt.audioLocalRelayProtocol=xn,Nt.audioCodec===void 0)){const sr=Pt.remoteDescription.type==="answer"?Pt.remoteDescription:Pt.localDescription,pr=sr.sdp,Ir=ct.getCodecs(pr,"audio");Nt.audioCodec=Ir[0]}if((Nt.videoRecvBytes||Nt.videoSentBytes)&&(Nt.videoLocalCandidateType=mn,Nt.videoLocalAddress=cn,Nt.videoRemoteCandidateType=En,Nt.videoRemoteAddress=bn,Nt.videoTransportType=gn,Nt.videoLocalRelayProtocol=xn,Nt.videoCodec===void 0)){const sr=Pt.remoteDescription.type==="answer"?Pt.remoteDescription:Pt.localDescription,pr=sr.sdp,Ir=ct.getCodecs(pr,"video");Nt.videoCodec=Ir[0]}Rt(Nt,kt),Nt.videoWidth=Nt.videoWidth||vn,Nt.videoHeight=Nt.videoHeight||Wn,wt(null,Nt)}).catch(Zt)}function Et(Pt,Vt,Nt,kt,wt){return ut?yt(Pt,Vt,Nt,kt,wt):mt(Pt,Vt,Nt,kt,wt)}function Rt(Pt,Vt){(Vt?pt:vt).forEach(kt=>{Pt.hasOwnProperty(kt)||(Pt[kt]=null)})}},function(_e,tt,et){const nt=et(280);_e.exports=(rt,it)=>{let ot="";if(!rt||!it)return ot;const st=it.get(rt);if(st){const at=st.localCandidateId;if(at){const ct=it.get(at);if(ct){const lt=ct.relayProtocol,dt=ct.priority;lt?ot=`TURN/${lt.toUpperCase()}`:ot=nt(dt)}}}return ot}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;let nt=function(){function rt(){this.value=null,this.changeCount=0}var it=rt.prototype;return it.onValue=function(st){st&&st!==this.value&&(this.value&&(this.changeCount+=1),this.value=st)},rt}();tt.default=nt},function(_e,tt,et){var nt=et(11),rt=et(646),it=et(229),ot="Expected a function",st=Math.max,at=Math.min;function ct(lt,dt,ut){var ft,pt,vt,Ct,ht,mt,yt=0,Et=!1,Rt=!1,Pt=!0;if(typeof lt!="function")throw new TypeError(ot);dt=it(dt)||0,nt(ut)&&(Et=!!ut.leading,Rt="maxWait"in ut,vt=Rt?st(it(ut.maxWait)||0,dt):vt,Pt="trailing"in ut?!!ut.trailing:Pt);function Vt(mn){var En=ft,cn=pt;return ft=pt=void 0,yt=mn,Ct=lt.apply(cn,En),Ct}function Nt(mn){return yt=mn,ht=setTimeout(Zt,dt),Et?Vt(mn):Ct}function kt(mn){var En=mn-mt,cn=mn-yt,xn=dt-En;return Rt?at(xn,vt-cn):xn}function wt(mn){var En=mn-mt,cn=mn-yt;return mt===void 0||En>=dt||En<0||Rt&&cn>=vt}function Zt(){var mn=rt();if(wt(mn))return qt(mn);ht=setTimeout(Zt,kt(mn))}function qt(mn){return ht=void 0,Pt&&ft?Vt(mn):(ft=pt=void 0,Ct)}function zt(){ht!==void 0&&clearTimeout(ht),yt=0,ft=mt=pt=ht=void 0}function Bt(){return ht===void 0?Ct:qt(rt())}function sn(){var mn=rt(),En=wt(mn);if(ft=arguments,pt=this,mt=mn,En){if(ht===void 0)return Nt(mt);if(Rt)return clearTimeout(ht),ht=setTimeout(Zt,dt),Vt(mt)}return ht===void 0&&(ht=setTimeout(Zt,dt)),Ct}return sn.cancel=zt,sn.flush=Bt,sn}_e.exports=ct},function(_e,tt,et){var nt=et(15),rt=function(){return nt.Date.now()};_e.exports=rt},function(_e,tt,et){const nt=et(51);tt.check=function(rt){rt===void 0&&(rt={});const it=rt.env||et(3);return it.name==="Chrome"&&it.userAgent.toLowerCase().indexOf("android")>-1&&it.version<65},tt.once=nt(()=>tt.check())},function(_e,tt,et){const nt=et(3);_e.exports=function(rt){rt===void 0&&(rt={});const it=rt,ot=it.env,st=ot===void 0?nt:ot;return!!(st.isiOS&&st.iOSVersion>10)}},function(_e,tt,et){const nt=et(37),rt=et(8);_e.exports=function(ot){let st,at,ct,lt,dt;const ut=this;let ft=ot.archiving;const pt=ot.archivingStarted||"Archiving on",vt=ot.archivingEnded||"Archiving off";let Ct=!0;const ht=function(Et){lt.nodeValue=Et,st.setAttribute("title",Et)},mt=function(){dt&&(clearTimeout(dt),dt=null),ft?rt.addClass(at,"OT_active"):rt.removeClass(at,"OT_active"),rt.removeClass(ut.domElement,`OT_archiving-${ft?"off":"on"}`),rt.addClass(ut.domElement,`OT_archiving-${ft?"on":"off"}`),ot.show&&ft?(ht(pt),rt.addClass(ct,"OT_mode-on"),rt.removeClass(ct,"OT_mode-auto"),ut.setDisplayMode("on"),dt=setTimeout(()=>{rt.addClass(ct,"OT_mode-auto"),rt.removeClass(ct,"OT_mode-on")},5e3)):ot.show&&!Ct?(rt.addClass(ct,"OT_mode-on"),rt.removeClass(ct,"OT_mode-auto"),ut.setDisplayMode("on"),ht(vt),dt=setTimeout(()=>{ut.setDisplayMode("off")},5e3)):ut.setDisplayMode("off")};nt(this,{mode:ft&&ot.show&&"on"||"off",nodeName:"h1",htmlAttributes:{className:"OT_archiving OT_edge-bar-item OT_edge-bottom"},onCreate(){st=rt.createElement("div",{className:"OT_archiving-light-box"},""),at=rt.createElement("div",{className:"OT_archiving-light"},""),st.appendChild(at),ct=rt.createElement("div",{className:"OT_archiving-status OT_mode-on OT_edge-bar-item OT_edge-bottom"},""),lt=document.createTextNode(""),ct.appendChild(lt),ut.domElement.appendChild(st),ut.domElement.appendChild(ct),mt()}}),this.setShowArchiveStatus=function(yt){ot.show=yt,ut.domElement&&mt.call(ut)},this.setArchiving=function(yt){ft=yt,Ct=!1,ut.domElement&&mt.call(ut)}}},function(_e,tt,et){_e.exports=function(nt){nt===void 0&&(nt={});const rt=nt.global||(typeof window!==void 0?window:commonjsGlobal);return()=>rt.navigator&&rt.navigator.mediaDevices}},function(_e,tt,et){(function(nt){const rt=et(9),it=et(11),ot=et(108),st=et(652),at=et(21),ct=et(23),lt=et(6);_e.exports=function(ut){ut===void 0&&(ut={});const ft=ut.env||et(3),pt=ut.Errors||et(7),vt=ut.otError||et(13)(),Ct=ut.logging||et(0)("getUserMedia"),ht=ut.screenSharing||et(161)(),mt=ut.getDisplayMediaExtensionHelper||et(290),yt=ut.customGetUserMedia,Et=ut.global||(typeof window!==void 0?window:commonjsGlobal),Rt=ut.analytics||new at,Pt=Et.navigator,Vt=Et.location,Nt=()=>{if(yt)return yt;if(Pt.mediaDevices){var mn;return(mn=Pt.mediaDevices).getUserMedia.bind(mn)}},kt=function(){const En=Nt();return En?En(...arguments):nt.reject(new Error("Cannot find getUserMedia"))},wt=()=>{if(yt)return yt;if(Pt.mediaDevices&&Pt.getDisplayMedia)return Pt.getDisplayMedia.bind(Pt);if(Pt.mediaDevices&&Pt.mediaDevices.getDisplayMedia){var mn;return(mn=Pt.mediaDevices).getDisplayMedia.bind(mn)}},Zt=function(){const En=wt();return En?En(...arguments):nt.reject(new Error("Cannot find getDisplayMedia"))},qt=(()=>{const mn={name:pt.USER_MEDIA_ACCESS_DENIED,message:"End-user denied permission to hardware devices"},En={name:pt.NOT_SUPPORTED,message:"A constraint specified is not supported by the browser."},cn={name:pt.CONSTRAINTS_NOT_SATISFIED,message:"It's not possible to satisfy one or more constraints passed into the getUserMedia function"},xn={name:pt.NO_DEVICES_FOUND,message:"No voice or video input devices are available on this machine."},bn={name:pt.HARDWARE_UNAVAILABLE,message:"The selected voice or video devices are unavailable. Verify that the chosen devices are not in use by another application."},gn={name:pt.UNABLE_TO_CAPTURE_SCREEN,message:"Unable to capture screen. Unknown error occurred"},Wn={AbortError:{name:pt.UNABLE_TO_CAPTURE_MEDIA,message:"Unable to capture media. Unknown error occurred"},NotAllowedError:mn,NotFoundError:xn,NotReadableError:bn,OverconstrainedError:cn,SecurityError:rt({},mn,{message:"End-user denied permission to hardware devices or user media support may be disabled on this page"}),TypeError:cn,PermissionDeniedError:mn,PermissionDismissedError:mn,NotSupportedError:En,ConstraintNotSatisfiedError:cn,MandatoryUnsatisfiedError:cn,OverConstrainedError:cn,DevicesNotFoundError:xn,NoDevicesFoundError:xn,HardwareUnavailableError:bn,SourceUnavailableError:bn,TrackStartError:bn,ScreenCaptureError:gn,TabCaptureError:gn};return st({objectToTrack:Wn,keys:["PermissionDeniedError","PermissionDismissedError","NotSupportedError","ConstraintNotSatisfiedError","MandatoryUnsatisfiedError","OverConstrainedError","DevicesNotFoundError","NoDevicesFoundError","HardwareUnavailableError","SourceUnavailableError","TrackStartError","ScreenCaptureError","TabCaptureError"],onUsage(Un){Rt.logEvent({action:"DeprecatedPropertyUsage:getUserMedia:errorMap",variation:"Event",payload:{key:Un}})}}),Wn})(),zt=(mn,En)=>{let cn=mn;cn==="AbortError"&&typeof En=="string"&&En.match(/(screen|tab).?capture/i)&&(cn="ScreenCaptureError");const xn=qt[cn];let bn;return xn?bn=vt(xn.name,new Error(`${xn.message} (getUserMedia error: ${mn})`)):bn=new Error(`Unknown error while getting user media: ${mn}`),bn.originalMessage=En,bn.originalName=mn,bn},Bt=mn=>{if(it(mn)&&mn.name){let En=mn.name,cn=mn.message;if((cn==="Cannot find getUserMedia"||cn==="Cannot find getDisplayMedia")&&(ft.name==="Chrome"&&ft.version>73&&Et.location.protocol!=="https:"?En="NotAllowedError":En="NotSupportedError"),ft.name==="Safari"&&En==="Error"){const gn=Object.prototype.toString.call(mn).match(/^\[object (\w+Error)\]$/);gn&&(En=gn[1])}const xn=zt(En,cn);return xn.constraintName=mn.constraint||mn.constraintName,xn instanceof ct||Rt.logEvent({action:"UnexpectedError:getUserMedia:parseErrorEvent",variation:"Event",payload:{name:xn.name,message:xn.message,originalMessage:xn.originalMessage}}),xn}if(typeof mn=="string"){const En=zt(mn);return Rt.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error is string",error:mn}}),En}return Rt.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error was not string or object with name property",error:mn}}),new Error("Unknown error type while getting media")},sn=function(En){if(!En||!it(En))return!0;for(const cn in En)if(En.hasOwnProperty(cn)&&En[cn])return!1;return!0};return function(mn,En){if(En===void 0&&(En=!1),Ct.debug("getUserMedia wrapper called with",mn),sn(mn))return Ct.error("Couldn't get UserMedia: All constraints were false"),lt(nt.reject(vt(pt.NO_VALID_CONSTRAINTS,new Error("Video and Audio was disabled, you need to enable at least one"))));const cn=En&&mt.isSupportedInThisBrowser?Zt:kt,xn=lt(cn(mn).catch(Wn=>{const Un=Bt(Wn);if(Un.name===pt.UNABLE_TO_CAPTURE_SCREEN)return new nt((Sn,On)=>{ht.checkCapability(Ln=>{if(Ln.extensionRequired==="chrome"){if(Ln.extensionRegistered&&!Ln.extensionInstalled){const Jn=vt(pt.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,Un);Jn.message="Screen sharing extension not installed see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",On(Jn)}else if(!Ln.extensionRegistered){const Jn=vt(pt.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,Un);Jn.message="Screen sharing extension not registered see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",On(Jn)}}else On(Un)})});throw Un}).then(Wn=>(Ct.debug("got stream:",{stream:Wn,tracks:Wn.getTracks(),trackLabels:Wn.getTracks().map(Un=>Un.label)}),Wn))),bn=Vt.protocol.indexOf("https")!==-1?500:100;let gn=!0;const vn=()=>{gn=!1};return xn.then(vn,vn),ot(bn).then(()=>{if(!gn)return;const Wn=()=>{xn.emit("accessDialogClosed")};xn.emit("accessDialogOpened"),xn.then(Wn,Wn)}),xn}}}).call(this,et(2))},function(_e,tt,et){_e.exports=function(nt){let rt=nt===void 0?{}:nt,it=rt.objectToTrack,ot=rt.keys,st=rt.onUsage;if(!Array.isArray(ot)&&ot!==void 0)throw new Error("keys must be an array, or undefined");if(typeof st!="function")throw new Error("onUsage must be a function");if(it==null)throw new Error("Expected objectToTrack to be a trackable object");Object.keys(it).forEach(at=>{if(ot!==void 0&&ot.indexOf(at)===-1)return;let ct=it[at];Object.defineProperty(it,at,{get(){return st(at),ct},set(lt){ct=lt,st(at,ct)},enumerable:!0})})}},function(_e,tt,et){const nt=et(3),rt=et(654),it=rt.isCallbackBasedAPI;let ot=et(265),st=null;const at=(ut,ft)=>{st.getSources(ut,ft)},ct=(ut,ft)=>{st.getSources(ut).then(pt=>{ft(void 0,pt)},ft)},lt=()=>it?at:ct,dt=(ut,ft)=>{lt()({types:[ut]},(vt,Ct)=>{if(vt){ft(vt);return}const ht=Ct[0];if(!ht){ft(new Error("Could not find Electron source for screensharing"));return}const mt={audio:!1,video:{mandatory:{chromeMediaSource:ut,chromeMediaSourceId:ht.id}}};ft(void 0,mt)})};_e.exports=function(ft){ft===void 0&&(ft={});try{const pt=()=>{let Ct=typeof window!==void 0?window:commonjsGlobal;for(;typeof Ct.require!="function"&&Ct.parent&&Ct.parent!==Ct;)Ct=Ct.parent;return Ct},vt=()=>{const Ct=pt();return(Ct.require?Ct.require("electron"):Ct.electron).desktopCapturer};st=ft.desktopCapturer||(nt.isElectron?vt():null),ot=ft.isElectronScreenSharingSource||ot}catch{}return{isSupportedInThisBrowser:st!==null,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!0,window:!0,browser:!0},register:()=>({isInstalled:pt=>pt(!0),getConstraints(pt,vt,Ct){ot(pt)?Ct(void 0,{audio:!0,video:!1}):dt(pt,Ct)}})}}},function(_e,tt,et){const rt=et(3).version<78,it=!rt;_e.exports={isCallbackBasedAPI:rt,isPromiseBasedAPI:it}},function(_e,tt,et){const nt=et(3),rt=et(159).default,it=()=>nt.isFirefox?!rt:!1;_e.exports={isSupportedInThisBrowser:it(),autoRegisters:!0,extensionRequired:!1,extensionInstalled:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:!0,browser:!1},register(){return{isInstalled(ot){ot(typeof OTScreenSharing=="object")},getConstraints(ot,st,at){st.video={mediaSource:ot},st.browserWindow&&(st.video.browserWindow=st.browserWindow,delete st.browserWindow),typeof st.scrollWithPage<"u"&&(st.video.scrollWithPage=st.scrollWithPage,delete st.scrollWithPage),at(void 0,st)}}}}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=et(657),st=ot.normaliseOptions,at=et(291),ct=at.isMediaStreamTrack,lt=et(148),dt=et(9),ut=et(141),ft=et(292).default,pt=et(7),vt=et(48),Ct=et(13)(),ht=et(293),mt=ht.isValidVideoContentHint,yt=et(6),Et=et(149),Rt=et(3),Pt=et(264),Vt="getUserMedia request was aborted";_e.exports=function(kt){kt===void 0&&(kt={}),["deviceHelpers","getUserMediaHelper"].forEach(bn=>{lt(kt[bn],`${bn} dependency must be injected into processPubOptions`)});const wt=kt.generateConstraintInfo||et(254),Zt=kt.global||(typeof window!==void 0?window:commonjsGlobal),qt=kt.logging||et(0)("processPubOptions"),zt=kt.navigator||Zt.navigator,Bt=kt.screenSharing||et(161)(),sn=kt.env||Rt,mn=et(658)({navigator:zt||{}}),En=kt,cn=En.deviceHelpers,xn=En.getUserMediaHelper;return(bn,gn,vn)=>{var Wn,Un,Sn;const On=st(bn,gn,qt),Ln=Et(On.videoSource),Jn=ct(On.audioSource),ur=ct(On.videoSource),sr=!Jn&&On.audioSource!==null,pr=!ur&&On.videoSource!==null,Ir=sr||pr,Er=zn=>typeof zn=="boolean",Kr=!Ln||Jn||Pt,Dr=ut(On,{mirror:!Ln&&!ur,publishAudio:!0,publishVideo:!0,showControls:!0,fitMode:Ln?"contain":"cover",insertDefaultUI:!0,enableRenegotiation:!1,enableStereo:!1,enableDtx:!1,disableAudioProcessing:!1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),to=On.audioFallback,po=to===void 0?{}:to,Nr=On.audioFallbackEnabled;if(Dr.publisherAudioFallbackEnabled=(Wn=po.publisher)!=null?Wn:!1,Dr.subscriberAudioFallbackEnabled=(Un=(Sn=po.subscriber)!=null?Sn:Nr)!=null?Un:!Ln,Dr.videoContentHint!==void 0&&!mt(Dr.videoContentHint)&&(qt.warn(`${gn}: Invalid content hint. Valid content hints are "text", "detail", "motion", or ""`),Dr.videoContentHint=""),Dr.name&&(Dr.name=String(Dr.name)),Er(Dr.enableDtx)||(Dr.enableDtx=!1),Er(Dr.enableStereo)||(Dr.enableStereo=!1),Dr.initials&&(typeof Dr.initials!="string"&&(Dr.initials=""),Dr.initials.length>2&&(Dr.initials="",qt.warn("Publisher initials cleared. Only one or two characters allowed for publisher initials.")),Dr.initials=Dr.initials.toUpperCase()),Dr.constraints)qt.warn(`${gn}: You have passed your own constraints not using ours`);else{const zn=wt(Object.assign({isScreenSharing:Ln,isCustomAudioTrack:Jn,isCustomVideoTrack:ur},vt(Dr,["audioSource","publishAudio","videoSource","publishVideo","resolution","maxResolution","frameRate","facingMode","enableRenegotiation","enableStereo","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl"]),{env:sn,usingOptionalMandatoryStyle:mn(Ln)}));dt(Dr,zn)}const br={isScreenSharing:Ln,isCustomAudioTrack:Jn,isCustomVideoTrack:ur,shouldAllowAudio:Kr,properties:Dr};return yt(br),br.getUserMedia=(0,it.default)(rt.default.mark(function zn(){var Qn,cr,qr,To,dr,Lr,Yr,yo,Mr;return rt.default.wrap(function(mo){for(;;)switch(mo.prev=mo.next){case 0:if(Qn=function(){for(var Gr=arguments.length,wr=new Array(Gr),Oo=0;Oo<Gr;Oo++)wr[Oo]=arguments[Oo];return br.emit("accessDialogOpened",...wr)},cr=function(){for(var Gr=arguments.length,wr=new Array(Gr),Oo=0;Oo<Gr;Oo++)wr[Oo]=arguments[Oo];return br.emit("accessDialogClosed",...wr)},Ir){mo.next=7;break}return qr=new Zt.MediaStream,Jn&&qr.addTrack(On.audioSource),ur&&qr.addTrack(On.videoSource),mo.abrupt("return",qr);case 7:if(!Ln){mo.next=15;break}return mo.next=10,Bt.getConstraints({onAccessDialogOpened:Qn,onAccessDialogClosed:cr,videoSource:On.videoSource,constraints:Dr.constraints});case 10:if(Dr.constraints=mo.sent,!vn()){mo.next=13;break}throw Ct(pt.CANCEL,new Error(Vt));case 13:mo.next=25;break;case 15:return mo.next=17,cn.shouldAskForDevices();case 17:if(To=mo.sent,!vn()){mo.next=20;break}throw Ct(pt.CANCEL,new Error(Vt));case 20:qt.debug(`${gn}: shouldAskForDevices:`,To),To.video||(qt.warn(`${gn}: Setting video constraint to false, there are no video sources`),Dr.constraints.video=!1),To.audio||(qt.warn(`${gn}: Setting audio constraint to false, there are no audio sources`),Dr.constraints.audio=!1),br.videoDevices=To.videoDevices,br.audioDevices=To.audioDevices;case 25:if(dr=Dr.constraints,qt.debug(`${gn}: onConstraintsFound`,dr),!vn()){mo.next=29;break}throw Ct(pt.CANCEL,new Error(Vt));case 29:return Lr="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=188088",Yr="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=204106",yo=so=>so.originalName==="NotReadableError"&&so.originalMessage==="Failed starting capture of a video track",Mr=function(){var so=(0,it.default)(rt.default.mark(function Gr(){var wr,Oo,$r,os,rs;return rt.default.wrap(function(Vo){for(;;)switch(Vo.prev=Vo.next){case 0:return wr=xn(dr,Ln),wr.on("accessDialogOpened",Qn),wr.on("accessDialogClosed",cr),Vo.prev=3,Vo.next=6,wr;case 6:if(Oo=Vo.sent,!(sn.isiOS&&Dr.publishVideo&&Oo.getVideoTracks().length&&Oo.getVideoTracks()[0].readyState==="ended")){Vo.next=11;break}throw Oo.getTracks().forEach(is=>is.stop()),$r=new Error(Lr),$r;case 11:return Vo.abrupt("return",Oo);case 14:if(Vo.prev=14,Vo.t0=Vo.catch(3),!sn.isiOS){Vo.next=34;break}if(!(yo(Vo.t0)&&sn.iOSVersion>=13&&sn.iOSVersion<13.4)){Vo.next=32;break}return Vo.prev=18,os=xn({audio:!0,video:!1},!1),Vo.next=22,os;case 22:rs=Vo.sent,rs.getTracks().forEach(is=>is.stop()),Vo.next=29;break;case 26:Vo.prev=26,Vo.t1=Vo.catch(18),qt.debug(`${gn}: error disposing audio track`,Vo.t1);case 29:throw new Error(Yr);case 32:if(Vo.t0.name!==pt.HARDWARE_UNAVAILABLE){Vo.next=34;break}throw new Error(Lr);case 34:throw Vo.t0;case 35:return Vo.prev=35,setTimeout(()=>{wr.off("accessDialogOpened",Qn),wr.off("accessDialogClosed",cr)}),Vo.finish(35);case 38:case"end":return Vo.stop()}},Gr,null,[[3,14,35,38],[18,26]])}));return function(){return so.apply(this,arguments)}}(),mo.next=35,ft(Mr,(so,Gr)=>[Lr,Yr].includes(so.message)&&Gr===1&&!vn()?1e3:!1)();case 35:if(qr=mo.sent,!vn()){mo.next=39;break}throw qr.getTracks().forEach(so=>{so.stop()}),Ct(pt.CANCEL,new Error(Vt));case 39:return Jn&&qr.addTrack(On.audioSource),ur&&qr.addTrack(On.videoSource),mo.abrupt("return",qr);case 42:case"end":return mo.stop()}},zn)})),br}}},function(_e,tt,et){const nt=et(291),rt=nt.isMediaStreamTrack,it=et(38),ot=et(3),st=(at,ct,lt)=>{const dt=at&&typeof at=="object"?it(at):{};if(dt.audioSource===!1&&(dt.audioSource=null),dt.videoSource===!1&&(dt.videoSource=null),dt.minVideoBitrate!==void 0&&!(typeof dt.minVideoBitrate=="number"&&dt.minVideoBitrate>0)&&(lt.warn(`${ct}: Invalid minVideoBitrate in publisher properties. minVideoBitrate must be a positive number`),delete dt.minVideoBitrate),dt.audioBitrate!==void 0&&!(dt.audioBitrate>=6*1e3&&dt.audioBitrate<=510*1e3)&&(lt.warn(`${ct}: Invalid audioBitrate in publisher properties. audioBitrate must be a number between ${6*1e3} and ${510*1e3} bits per second`),delete dt.audioBitrate),ot.name==="Firefox"&&ot.version<49){const ut="Firefox 48 and below";rt(dt.audioSource)&&(dt.audioSource=null,lt.warn(`${ct}: Cannot use custom tracks with ${ut}. Setting audioSource to null`)),rt(dt.videoSource)&&(dt.videoSource=null,lt.warn(`${ct}: Cannot use custom tracks with ${ut}. Setting videoSource to null`))}return dt};tt.normaliseOptions=st},function(_e,tt,et){const nt=et(3),rt=nt.name,it=nt.version,ot=et(258);_e.exports=function(at){let ct=at===void 0?{}:at,lt=ct.navigator,dt=lt===void 0?window.navigator:lt;return function(ft){return ft&&!ot||!(dt.mediaDevices&&dt.mediaDevices.getUserMedia)||rt==="Chrome"&&it<61}}},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={}),["processPubOptions"].forEach(ct=>{if(!rt[ct])throw new Error(`${ct} dependency must be injected into OT.getUserMedia`)});const it=rt.logging||et(0)("getUserMedia"),ot=rt,st=ot.processPubOptions;return function(lt){return lt===void 0&&(lt={}),st(lt,"OT.getUserMedia",()=>!1).getUserMedia().catch(ut=>{throw it.error(`OT.getUserMedia failed to getUserMedia: ${ut}`),ut})}}},function(_e,tt,et){_e.exports=function(rt,it){const ot=(st,at)=>()=>{throw new Error(`Cannot ${st} ${at}, ${rt} is destroyed`)};Object.keys(it).forEach(st=>{typeof it[st]=="function"?it[st]=ot("call",st):Object.defineProperty(it,st,{get:ot("get",st),set:ot("set",st)})})}},function(_e,tt,et){_e.exports=nt=>{if("srcObject"in nt)return;const rt=window&&window.URL;"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(nt,"srcObject",{get(){return this._srcObject},set(it){const ot=this;if(this._srcObject=it,this.src&&rt.revokeObjectURL(this.src),!it){this.src="";return}return this.src=rt.createObjectURL(it),it.addEventListener("addtrack",()=>{ot.src&&rt.revokeObjectURL(ot.src),ot.src=rt.createObjectURL(it)}),it.addEventListener("removetrack",()=>{ot.src&&rt.revokeObjectURL(ot.src),ot.src=rt.createObjectURL(it)}),this._srcObject}})}},function(_e,tt,et){const nt=ot=>!(!ot||typeof ot.getBoundingClientRect!="function"),rt=ot=>{const st=ot.getBoundingClientRect(),at=window.innerHeight||document.documentElement.clientHeight,ct=window.innerWidth||document.documentElement.clientWidth,lt=st.top<=at&&st.top+st.height>=0,dt=st.left<=ct&&st.left+st.width>=0;return lt&&dt},it=ot=>{const st=at=>at.style&&at.style.visibility==="hidden"?!0:at.parentNode?st(at.parentNode):!1;return ot.offsetParent!==null&&!st(ot)};_e.exports=ot=>nt(ot)&&rt(ot)&&it(ot)},function(_e,tt,et){const nt=et(106),rt=et(8),it={0:"rotate(0deg)",270:"rotate(90deg)",90:"rotate(-90deg)",180:"rotate(180deg)"};_e.exports=function(st,at,ct){let lt=ct;nt(st,{isRotated:{get(){return this.orientation()&&(this.orientation().videoOrientation===270||this.orientation().videoOrientation===90)}},orientation:{get(){return lt},set(dt){lt=dt;const ut=it[dt.videoOrientation]||it.ROTATED_NORMAL;switch(rt.env.name){case"Chrome":case"Safari":at().style.webkitTransform=ut;break;default:at().style.transform=ut}st.trigger("orientationChanged",lt)}},audioChannelType:{get(){return"mozAudioChannelType"in this.domElement?this.domElement.mozAudioChannelType:"unknown"},set(dt){"mozAudioChannelType"in this.domElement&&(this.domElement.mozAudioChannelType=dt)}}})}},function(_e,tt,et){_e.exports=function(){function rt(it){return it.getTracks().every(ot=>ot.readyState==="ended")}return function(ot,st,at){const ct=[];function lt(pt){setTimeout(()=>{if(ct.length)if(rt(ot))ut(),typeof st=="function"&&st();else{const vt=pt.target;dt(vt),typeof at=="function"&&at(vt)}},100)}function dt(pt){pt.onended===lt&&(pt.onended=null);const vt=ct.indexOf(pt);vt>=0&&ct.splice(vt,1)}function ut(){ct.slice().forEach(dt)}function ft(){ot.getTracks().forEach(pt=>{ct.push(pt),pt.onended=lt})}return ft(),{stop:ut,refresh:()=>{ut(),ft()}}}}},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(14)),it=nt(et(0)),ot=nt(et(75)),st=et(29);const at=(0,it.default)("AudioFallbackState");var lt=()=>{const dt=new rt.default;let ut=st.CongestionLevels.LOW,ft=ot.default.ACTIVE_VIDEO;const pt=yt=>{ft=yt,dt.emit("stateChange",{state:yt})},vt=()=>{ut=st.CongestionLevels.LOW,pt(ot.default.ACTIVE_VIDEO)},Ct=()=>{ut===st.CongestionLevels.LOW&&pt(ot.default.ACTIVE_VIDEO_WITH_WARNING),ut=st.CongestionLevels.MEDIUM},ht=()=>{ut=st.CongestionLevels.CRITICAL,pt(ot.default.SUSPENDED_VIDEO)},mt={[st.CongestionLevels.LOW]:vt,[st.CongestionLevels.MEDIUM]:Ct,[st.CongestionLevels.CRITICAL]:ht};return Object.assign(dt,{setCongestionLevel(yt){if(ut===yt)return;const Et=mt[yt];Et?Et():at.warn(`Invalid congestion level: ${yt}`)},getState(){return{videoState:ft,congestionLevel:ut}},setInternalState(yt){ft=yt.videoState,ut=yt.congestionLevel},reset(){ut=st.CongestionLevels.LOW,ft=ot.default.ACTIVE_VIDEO}})};tt.default=lt},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(667)),it=nt(et(668)),ot=nt(et(299)),st=nt(et(300)),at=nt(et(670));const ct=et(14);var dt=function(ft,pt){ft===void 0&&(ft={}),pt===void 0&&(pt={});const vt=new ct,Ct=ft,ht=Ct.videoResolution,mt=Ct.getStats,yt=pt,Et=yt.createMovingAverageTracker,Rt=Et===void 0?st.default:Et,Pt=yt.createTimeBasedCongestionLevel,Vt=Pt===void 0?rt.default:Pt,Nt=yt.createBasicCongestionLevel,kt=Nt===void 0?it.default:Nt,wt=yt.getFairQualityBandwidthForResolution,Zt=wt===void 0?at.default:wt,qt=yt.createCongestionLevelStats,zt=qt===void 0?ot.default:qt,Bt={bandwidthFairThreshold:Zt(ht)},sn=Vt(Bt),mn=kt(Bt),En=Rt(),cn=Rt(),xn=Rt(),bn=()=>sn.getLevel({bandwidth:xn.getMovingAverageValue(),audioPacketLoss:En.getMovingAverageValue()}),gn=()=>mn.getLevel({bandwidth:xn.getMovingAverageValue(),audioPacketLoss:En.getMovingAverageValue()}),vn=()=>{const Sn=bn(),On=gn(),Ln=Math.max(Sn,On);vt.emit("congestionLevel",Ln)},Wn=Sn=>{let On=Sn.audioPacketLoss,Ln=Sn.videoPacketLoss,Jn=Sn.bandwidth;En.addValue(On),cn.addValue(Ln),xn.addValue(Jn),vn()},Un=zt(mt);return Un.on("statsAvailable",Sn=>{Wn(Sn)}),Object.assign(vt,{start(){Un.start()},stop(){Un.stop()}})};tt.default=dt},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(164)),it=et(29),ot=nt(et(0));const st=(0,ot.default)("pafdebug:TimeBasedCongestionLevel");var ct=function(dt){dt===void 0&&(dt={});const ut=Object.assign({},rt.default,dt);let ft=!1,pt;return{getLevel(vt){let Ct=vt.audioPacketLoss;const ht=yt=>st.info(`${yt}`,{audioPacketLoss:Ct,params:ut});if(Ct<ut.packetLossCriticalThreshold)return ft=!1,it.LOW;const mt=Date.now();return ft||(pt=mt,ft=!0),mt>pt+ut.criticalCongestionPeriod?(ht("CRITICAL"),it.CRITICAL):mt>pt+ut.criticalCongestionPeriod/2?(ht("MEDIUM"),it.MEDIUM):it.LOW}}};tt.default=ct},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(164)),it=et(29),ot=nt(et(0));const st=(0,ot.default)("pafdebug:BasicConnectionLevel"),at=["LOW","MEDIUM","CRITICAL"];var lt=function(ut){ut===void 0&&(ut={});const ft=Object.assign({},rt.default,ut);return{getLevel(pt){let vt=pt.bandwidth,Ct=pt.audioPacketLoss,ht;const mt=yt=>st.info(`${at[ht]} Branch: ${yt}`,{bandwidth:vt,audioPacketLoss:Ct,params:ft});if(vt<=0)return Ct>ft.packetLossCriticalThresholdMediumBw?(ht=it.CRITICAL,mt("audioPacketLoss > params.packetLossCriticalThresholdMediumBw")):ht=it.LOW,ht;if(vt>=ft.bandwidthFairThreshold?ht=it.LOW:vt>=ft.bandwidthCriticalThreshold?vt>=(ft.bandwidthCriticalThreshold+ft.bandwidthFairThreshold)/2?Ct>ft.packetLossCriticalThresholdMediumBw*2?(ht=it.CRITICAL,mt("audioPacketLoss > params.packetLossCriticalThresholdMediumBw * 2.0")):(ht=it.MEDIUM,mt("!audioPacketLoss > params.packetLossCriticalThresholdMediumBw * 2.0")):Ct>ft.packetLossCriticalThresholdMediumBw?(ht=it.CRITICAL,mt("audioPacketLoss > params.packetLossCriticalThresholdMediumBw")):(ht=it.MEDIUM,mt("audioPacketLoss > params.packetLossCriticalThresholdMediumBw")):Ct>ft.packetLossCriticalThreshold?(ht=it.CRITICAL,mt("audioPacketLoss > params.packetLossCriticalThreshold")):(ht=it.MEDIUM,mt("audioPacketLoss > params.packetLossCriticalThreshold")),ht===void 0)throw new Error("undefined congestion level");return ht}}};tt.default=lt},function(_e,tt,et){tt.__esModule=!0,tt.parseStats=tt.getVideoResolution=tt.getVideoPacketStats=tt.getVideoPacketLoss=tt.getSelectedCandidatePairId=tt.getBandwidth=tt.getAudioPacketStats=tt.getAudioPacketLoss=void 0;const nt=(vt,Ct)=>{const ht=vt.filter(Rt=>{let Pt=Rt.type,Vt=Rt.kind;return Pt==="outbound-rtp"&&Vt===Ct}),mt=vt.filter(Rt=>{let Pt=Rt.type,Vt=Rt.kind;return Pt==="remote-inbound-rtp"&&Vt===Ct}),yt=ht.reduce((Rt,Pt)=>Rt+Pt.packetsSent,0),Et=mt.reduce((Rt,Pt)=>Rt+Pt.packetsLost,0);return{packetsSent:yt,packetsLost:Et}},rt=vt=>vt.filter(mt=>{let yt=mt.type,Et=mt.kind;return yt==="outbound-rtp"&&Et==="video"}).reduce((mt,yt)=>({width:Math.max(mt.width,yt.frameWidth),height:Math.max(mt.height,yt.frameHeight)}),{width:0,height:0});tt.getVideoResolution=rt;const it=vt=>{const Ct=nt(vt,"audio"),ht=Ct.packetsSent;return{audioPacketsLost:Ct.packetsLost,audioPacketsSent:ht}};tt.getAudioPacketStats=it;const ot=vt=>{const Ct=nt(vt,"video"),ht=Ct.packetsSent;return{videoPacketsLost:Ct.packetsLost,videoPacketsSent:ht}};tt.getVideoPacketStats=ot;const st=vt=>{const Ct=vt.find(ht=>ht.type==="transport");return Ct==null?void 0:Ct.selectedCandidatePairId};tt.getSelectedCandidatePairId=st;const at=(vt,Ct)=>{if(Ct){const ht=vt.find(mt=>{let yt=mt.id,Et=mt.type;return yt===Ct&&Et==="candidate-pair"});return ht==null?void 0:ht.availableOutgoingBitrate}},ct=vt=>{const Ct=at(vt,st(vt));if(Ct!==void 0)return Ct;const ht=vt.find(mt=>{let yt=mt.type,Et=mt.availableOutgoingBitrate;return yt==="candidate-pair"&&Et!==void 0});return ht==null?void 0:ht.availableOutgoingBitrate};tt.getBandwidth=ct;const lt=vt=>{const Ct=it(vt),ht=Ct.audioPacketsSent,mt=Ct.audioPacketsLost,yt=ot(vt),Et=yt.videoPacketsSent,Rt=yt.videoPacketsLost;return{bandwidth:ct(vt),audioPacketsSent:ht,audioPacketsLost:mt,videoPacketsSent:Et,videoPacketsLost:Rt}};tt.parseStats=lt;const dt=(vt,Ct)=>Ct===0?0:vt/Ct,ut=(vt,Ct,ht)=>{const mt=Ct[`${vt}PacketsSent`]-ht[`${vt}PacketsSent`],yt=Ct[`${vt}PacketsLost`]-ht[`${vt}PacketsLost`];return dt(yt,mt)},ft=(vt,Ct)=>ut("audio",vt,Ct);tt.getAudioPacketLoss=ft;const pt=(vt,Ct)=>ut("video",vt,Ct);tt.getVideoPacketLoss=pt},function(_e,tt,et){const nt=[{width:"320",height:"180",fairQualityBitrate:12e4},{width:"320",height:"240",fairQualityBitrate:12e4},{width:"352",height:"288",fairQualityBitrate:125e3},{width:"480",height:"270",fairQualityBitrate:125e3},{width:"640",height:"360",fairQualityBitrate:15e4},{width:"640",height:"480",fairQualityBitrate:15e4},{width:"960",height:"540",fairQualityBitrate:15e4},{width:"1280",height:"720",fairQualityBitrate:4e5},{width:"1920",height:"1080",fairQualityBitrate:5e5}].sort((st,at)=>st.fairQualityBitrate-at.fairQualityBitrate),rt=25e4,it=nt.reduce((st,at)=>{let ct=at.fairQualityBitrate;return Math.max(st,ct)},rt),ot=(st,at)=>{var ct;return!st||!at?rt:((ct=nt.find(dt=>{let ut=dt.height,ft=dt.width;return at*st<=ut*ft}))==null?void 0:ct.fairQualityBitrate)||it};_e.exports=ot},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(14)),it=nt(et(672)),ot=et(29),st=nt(et(301)),ct=function(dt){dt===void 0&&(dt={});const ut=new rt.default,ft=dt,pt=ft.getStats,vt=ft.setVideoActive,Ct=ft.createNetworkProbe,ht=Ct===void 0?it.default:Ct;let mt,yt;const Et=()=>{var Pt,Vt;(Pt=mt)==null||Pt.removeAllListeners(),clearTimeout(yt),(Vt=mt)==null||Vt.stop(),mt=void 0};return Object.assign(ut,{start:function(Vt){let Nt=Vt===void 0?{}:Vt,kt=Nt.getDelayForProbeNumber,wt=kt===void 0?st.default:kt;mt&&Et(),mt=ht({getStats:pt});let Zt=0;const qt=()=>{const zt=wt(Zt);Zt++,yt=setTimeout(()=>{vt(!0),mt.start()},zt)};mt.on("probeResult",zt=>{zt===ot.LOW?ut.emit("networkRecovered"):(vt(!1),qt())}),qt()},stop:Et})};tt.default=ct},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(14)),it=nt(et(673)),ot=et(29),st=nt(et(0));const at=(0,st.default)("networkProbe"),ct=20;var dt=function(ft){ft===void 0&&(ft={});const pt=new rt.default,vt=ft,Ct=vt.getStats,ht=vt.createRecoveryCongestionLevelCalculator,mt=ht===void 0?it.default:ht;let yt=0;const Et=mt({getStats:Ct}),Rt=Pt=>{Et.stop(),at.info(`Network probe result ${Pt}`),pt.emit("probeResult",Pt)};return Et.on("congestionLevel",Pt=>{yt+=1,Pt===ot.CRITICAL?Rt(ot.CRITICAL):yt>=ct&&(Pt===ot.LOW?Rt(ot.LOW):Rt(ot.CRITICAL))}),Object.assign(pt,{start(){at.info("Start network probe"),Et.start()},stop(){at.info("Stop network probe"),Et.stop(),yt=0}})};tt.default=dt},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(14)),it=nt(et(674)),ot=nt(et(299)),st=nt(et(300)),ct=function(dt){dt===void 0&&(dt={});const ut=new rt.default,ft=dt,pt=ft.getStats,vt=ft.createMovingAverageTracker,Ct=vt===void 0?st.default:vt,ht=ft.createBandwidthCongestionLevel,mt=ht===void 0?it.default:ht,yt=ft.createCongestionLevelStats,Et=yt===void 0?ot.default:yt,Rt=mt(),Pt=Ct(),Vt=Ct(),Nt=Et(pt),kt=()=>{Pt.reset(),Vt.reset()},wt=()=>{Nt.stop(),kt()},Zt=()=>Rt.getLevel({audioPacketLoss:Pt.getMovingAverageValue(),videoPacketLoss:Vt.getMovingAverageValue()}),qt=zt=>{let Bt=zt.audioPacketLoss,sn=zt.videoPacketLoss;Pt.addValue(Bt),Vt.addValue(sn);const mn=Zt();ut.emit("congestionLevel",mn)};return Nt.on("statsAvailable",qt),Object.assign(ut,{start(){Nt.start()},stop(){wt()}})};tt.default=ct},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(164)),it=et(29);const ot=.8,st=.5;var ct=function(dt){dt===void 0&&(dt={});const ft=Object.assign({},rt.default,dt).packetLossCriticalThreshold,pt=ft*st,vt=ft*ot,Ct=vt*st;return{getLevel(ht){let mt=ht.audioPacketLoss,yt=ht.videoPacketLoss;return mt>vt||yt>ft?it.CRITICAL:mt>Ct||yt>pt?it.MEDIUM:it.LOW}}};tt.default=ct},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=et(302),it=nt(et(301)),st=at=>at===0?5*rt.ONE_SECOND_IN_MS:(0,it.default)(at-1);tt.default=st},function(_e,tt,et){const nt=rt=>rt>=15&&rt<15.4;_e.exports=rt=>(rt=rt||et(3),rt.isiPad?!0:rt.isiPhone?nt(rt.iOSVersion):rt.isSafari?nt(rt.version):!1)},function(_e,tt,et){const nt=[{width:320,height:180,maxBitrate:3e5},{width:320,height:240,maxBitrate:4e5},{width:352,height:288,maxBitrate:5e5},{width:480,height:270,maxBitrate:55e4},{width:640,height:360,maxBitrate:8e5},{width:640,height:480,maxBitrate:8e5},{width:960,height:540,maxBitrate:11e5},{width:1280,height:720,maxBitrate:25e5},{width:1920,height:1080,maxBitrate:45e5}].sort((ot,st)=>ot.maxBitrate-st.maxBitrate),rt=45e5,it=(ot,st)=>{var at;return!ot||!st?rt:((at=nt.find(lt=>{let dt=lt.height,ut=lt.width;return st*ot<=dt*ut}))==null?void 0:at.maxBitrate)||rt};_e.exports=it},function(_e,tt,et){var nt=et(63),rt=et(100),it=et(36);function ot(st,at){var ct={};return at=it(at,3),rt(st,function(lt,dt,ut){nt(ct,dt,at(lt,dt,ut))}),ct}_e.exports=ot},function(_e,tt,et){_e.exports=function(rt,it){const ot=setTimeout(()=>{rt((st,at)=>{if(!st)for(let ct=0;ct<at.length;ct+=1){const lt=at[ct];lt.id.indexOf("_send")!==-1&&lt.type==="ssrc"&&(lt.kind==="audio"||lt.mediaType==="audio")&&parseInt(lt.bytesSent,10)===0&&it()}})},3e3);return function(){clearTimeout(ot)}}},function(_e,tt,et){const nt=et(6),rt=et(306),it=et(16);_e.exports=function(){return function(at,ct){const lt={},dt=[];let ut=!1,ft=!1;this._id=it();const pt=()=>{this.trigger("iceConnected"),ut=!0},vt=()=>this.trigger("close"),Ct=kt=>this.trigger("remoteVideoSupported",kt),ht=kt=>{let wt=kt.reason,Zt=kt.prefix;return this.trigger("error",wt,Zt)},mt=kt=>{kt.parsedStats.isSinglePeerConnection=!0,this.trigger("qos",kt)},yt=kt=>this.trigger("iceConnectionStateChange",kt),Et=kt=>this.trigger("signalingStateChange",kt),Rt=kt=>this.trigger("signalingStateStable",kt),Pt=()=>{ft&&(ft=!1,ct.removeFromSinglePeerConnection(this._id))};nt(this);const Vt=ct.getPeerConnection(at,this);Vt.on({iceConnected:pt,close:vt,signalingStateChange:Et,signalingStateStable:Rt,error:ht,qos:mt,iceConnectionStateChange:yt,remoteVideoSupported:Ct,negotiationNeeded:Pt},this);const Nt=()=>Vt.iceConnectionStateIsConnected()&&!ut;this._onTrackAdded=kt=>{const wt=kt.track,Zt=kt.transceiver;lt[wt.id]=Zt.mid,dt.push(wt),Nt()&&pt(),this.trigger("trackAdded",kt)},this.disconnect=()=>{ft=!0,ct.removeSubscriber(this._id,Object.values(lt))},this.removeTrack=kt=>{lt[kt.id]&&ct.removeSubscriber(this._id,[lt[kt.id]]),rt(dt,kt),ct.removeTrack(kt,this._id)},this.remoteTracks=()=>dt,this.generateOfferAndSend=()=>Vt.generateOfferAndSend(),this.getDataChannel=(kt,wt,Zt)=>{Vt.getDataChannel(kt,wt,Zt)},this.getSourceStreamId=()=>Vt.getSourceStreamId(),this.processMessage=(kt,wt)=>{(kt==="offer"||kt==="answer")&&ct.cacheOfferAnswer(wt.content),Vt.processMessage(kt,wt)},this.remoteDescription=()=>Vt.remoteDescription(),this.getStats=kt=>{Vt.getStats(kt)},this.getSynchronizationSources=kt=>{Vt.getSynchronizationSources(kt)},this.getRtcStatsReport=kt=>{Vt.getRtcStatsReport(kt)},this.remoteStreams=()=>Vt.remoteStreams(),this.hasRelayCandidates=()=>Vt.hasRelayCandidates(),this.iceRestart=()=>Vt.iceRestart(),this.iceConnectionStateIsConnected=()=>Vt.iceConnectionStateIsConnected()}}},function(_e,tt,et){_e.exports=function(it,ot,st){st===void 0&&(st=!1);let at=null,ct=0,lt=null,dt=st;const ut=mt=>mt.type==="inbound-rtp"&&(mt.kind||mt.mediaType)==="audio",ft=mt=>mt.id===lt&&mt.type==="track"&&(mt.kind||mt.mediaType)==="audio",pt=(mt,yt)=>mt===at&&yt===ct,vt=(mt,yt)=>!dt&&mt===0&&at===0&&yt>ct,Ct=()=>{setTimeout(()=>{dt=!0},3e3)},ht=setInterval(()=>{it((mt,yt)=>{if(mt)return;lt=(yt.find(ut)||{}).trackId;const Rt=yt.find(ft);if(Rt){const Pt=Rt.audioLevel,Vt=Rt.totalSamplesReceived;if(Pt===void 0)return;pt(Pt,Vt)?(clearInterval(ht),ot("audioLevelStuck")):vt(Pt,Vt)&&(clearInterval(ht),ot("audioLevelStuckAt0")),at=Pt,ct=Vt}})},500);return st||Ct(),{stop:()=>{clearInterval(ht)}}}},function(_e,tt,et){(function(nt){const rt=et(21),it=new rt;_e.exports=function(st){st===void 0&&(st={});const at=st.analytics||it,ct=st.errors||et(7),lt=st.ExceptionCodes||et(10),dt=st.otError||et(13)(),ut=st.sessionObjects||et(22),ft=st.uuid||et(16);return function(vt){vt===void 0&&(vt=()=>{});const Ct=ft();function ht(mt){mt?vt(dt(ct.REPORT_ISSUE_FAILED,new Error("Error calling OT.reportIssue(). Check the client's network connection."),lt.REPORT_ISSUE_ERROR)):vt(null,Ct)}ut.sessions.length()===0?at.logEvent({action:"ReportIssue",variation:"Event",payload:{reportIssueId:Ct}},null,ht):nt.all(ut.sessions.map(mt=>mt.reportIssue({id:Ct}))).then(()=>ht(),mt=>ht(mt))}}}).call(this,et(2))},function(_e,tt,et){_e.exports=nt=>{let rt=nt.window,it=!1;try{const ot=Object.defineProperty({},"passive",{get(){it=!0}});rt.addEventListener("testPassive",null,ot),rt.removeEventListener("testPassive",null,ot)}catch{}return it}},function(_e,tt,et){Object.defineProperty(tt,"__esModule",{value:!0});var nt=function(){function lt(dt,ut){for(var ft=0;ft<ut.length;ft++){var pt=ut[ft];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(dt,pt.key,pt)}}return function(dt,ut,ft){return ut&&lt(dt.prototype,ut),ft&&lt(dt,ft),dt}}(),rt=et(308),it=ot(rt);function ot(lt){return lt&&lt.__esModule?lt:{default:lt}}function st(lt,dt){if(!(lt instanceof dt))throw new TypeError("Cannot call a class as a function")}var at=function(){},ct=function(){function lt(){st(this,lt),this.internalIsCanceled=!1,this.listeners=[]}return nt(lt,[{key:"isCanceled",value:function(){return this.internalIsCanceled}},{key:"cancel",value:function(){this.internalIsCanceled||(this.internalIsCanceled=!0,this.listeners.forEach(function(ut){return ut()}),this.listeners=null)}},{key:"throwIfCanceled",value:function(){if(this.internalIsCanceled)throw new it.default("Operation has been canceled.")}},{key:"onCancel",value:function(ut){var ft=this;return this.internalIsCanceled?at:(this.listeners.push(ut),function(){if(ft.listeners){var pt=ft.listeners.indexOf(ut);pt!==-1&&ft.listeners.splice(pt,1)}})}},{key:"fork",value:function(){if(this.internalIsCanceled)return lt.CANCELED;var ut=new lt;return this.onCancel(function(){return ut.cancel()}),ut}}]),lt}();tt.default=ct,ct.CANCELED=new ct,ct.CANCELED.internalIsCanceled=!0},function(_e,tt,et){(function(nt){const rt=et(62),it=et(309).default,ot=et(154);et(109)();function st(at,ct){const lt=rt(at),dt=new nt(ut=>{const ft=()=>{(at.videoWidth()>2||at.videoHeight()>2)&&ut(!0)};lt.on("videoDimensionsChanged",ft),ft()});return it(ot(dt,ct,()=>!1),()=>lt.removeAll())}_e.exports=st}).call(this,et(2))},function(_e,tt,et){(function(nt){const rt=et(62),it=et(309).default,ot=et(154);et(109)();function st(at,ct){ct===void 0&&(ct=5e3);const lt=rt(at),dt=new nt(ut=>{lt.on("timeupdate",ut),lt.on("loadedmetadata",ut)});return it(ot(dt,ct,()=>!1),()=>lt.removeAll())}_e.exports=st}).call(this,et(2))},function(_e,tt,et){const nt=et(0)("WidgetView:fixMini"),rt=128,it=128,ot=64,st=64;_e.exports=function(ct){const lt=ct.clientWidth,dt=ct.clientHeight;ct.classList.remove("OT_micro"),ct.classList.remove("OT_mini"),(lt<ot||dt<st)&&(ct.classList.add("OT_micro"),nt.debug("OT_micro class added",{clientWidth:lt,clientHeight:dt,microWidth:ot,microHeight:st})),(lt<rt||dt<it)&&(ct.classList.add("OT_mini"),nt.debug("OT_mini class added",{clientWidth:lt,clientHeight:dt,miniWidth:rt,miniHeight:it}))}},function(_e,tt,et){const nt=et(16);_e.exports=function(it,ot){let st,at;if(it&&it.nodeName?(st=it,(!st.getAttribute("id")||st.getAttribute("id").length===0)&&st.setAttribute("id",`OT_${nt()}`),at=st.getAttribute("id")):it&&(st=document.getElementById(it),st&&(at=it)),at||(at=`OT_${nt().replace(/-/g,"_")}`),!st)return st=document.createElement("div"),st.id=at,st.setAttribute("id",at),st.style.backgroundColor="#000000",document.body.appendChild(st),st;const ct=document.createElement("div");switch(ct.id=`OT_${nt()}`,ot){case"append":return st.appendChild(ct),ct;case"before":return st.parentNode.insertBefore(ct,st),ct;case"after":return st.parentNode.insertBefore(ct,st.nextSibling),ct;case"replace":default:for(;st.firstChild;)st.removeChild(st.firstChild);return st}}},function(_e,tt,et){_e.exports=function(rt,it){return it===void 0&&(it="px"),String(parseFloat(rt,10))===String(rt).trim()?`${String(rt).trim()}${it}`:rt}},function(_e,tt,et){const nt=()=>{const it=document.createElementNS("http://www.w3.org/2000/svg","circle");return it.setAttribute("cx","50%"),it.setAttribute("cy","50%"),it.setAttribute("r","50%"),it.setAttribute("fill","%23000000"),it},rt=it=>{const ot=document.createElementNS("http://www.w3.org/2000/svg","text");ot.setAttribute("x","50%"),ot.setAttribute("y","50%"),ot.setAttribute("dy","5%"),ot.setAttribute("line-height","133%"),ot.setAttribute("font-size","108"),ot.setAttribute("font-weight","500"),ot.setAttribute("font-style","normal"),ot.setAttribute("fill","%23FFFFFF"),ot.setAttribute("font-family","spezia,sans-serif"),ot.setAttribute("dominant-baseline","middle"),ot.setAttribute("text-anchor","middle");const st=document.createTextNode(it);return ot.appendChild(st),ot};_e.exports=it=>{const ot=document.createElementNS("http://www.w3.org/2000/svg","svg");ot.setAttribute("viewBox","0 0 300 300"),ot.setAttribute("style","width: 50%; dominant-baseline: middle; text-anchor: middle;");const st=nt(),at=rt(it);return ot.appendChild(st),ot.appendChild(at),ot}},function(_e,tt,et){(function(nt){var rt=et(1);tt.__esModule=!0,tt.default=void 0;var it=rt(et(4)),ot=rt(et(5));const st=et(74);var at=function(lt){let dt=lt===void 0?{}:lt,ut=dt.asynchronous;return(ut===void 0?!1:ut)?function(pt,vt){let Ct=vt===void 0?{}:vt,ht=Ct.frequency,mt=ht===void 0?10:ht,yt=Ct.timeout,Et=yt===void 0?2e3:yt;return new nt((Rt,Pt)=>{let Vt;const Nt=new st((0,ot.default)(it.default.mark(function kt(){var wt,Zt,qt;return it.default.wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return Zt=function(){return Zt=(0,ot.default)(it.default.mark(function mn(){return it.default.wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:return cn.prev=0,cn.next=3,pt();case 3:return cn.abrupt("return",cn.sent);case 6:return cn.prev=6,cn.t0=cn.catch(0),cn.abrupt("return",!1);case 9:case"end":return cn.stop()}},mn,null,[[0,6]])})),Zt.apply(this,arguments)},wt=function(){return Zt.apply(this,arguments)},Bt.next=4,wt();case 4:qt=Bt.sent,qt&&(clearTimeout(Vt),Nt.stop(),Rt());case 6:case"end":return Bt.stop()}},kt)})),mt);Vt=setTimeout(()=>{Nt.stop(),Pt(new Error("TIMEOUT"))},Et),Nt.start()})}:function(pt,vt){let Ct=vt===void 0?{}:vt,ht=Ct.frequency,mt=ht===void 0?60:ht,yt=Ct.timeout,Et=yt===void 0?2e3:yt;return new nt((Rt,Pt)=>{let Vt;const Nt=new st(()=>{function kt(){try{return pt()}catch{return!1}}kt()&&(clearTimeout(Vt),Nt.stop(),Rt())},mt);Vt=setTimeout(()=>{Nt.stop(),Pt(new Error("TIMEOUT"))},Et),Nt.start()})}};tt.default=at}).call(this,et(2))},function(_e,tt,et){const nt=et(13)(),rt=et(7),it=et(10);_e.exports=ot=>String(ot.code)==="404"?nt(rt.STREAM_NOT_FOUND,new Error("stream not found"),it.UNABLE_TO_SUBSCRIBE):String(ot.code)==="409"&&ot.message==="streamLimitExceeded"?nt(rt.STREAM_LIMIT_EXCEEDED,new Error("The limit for concurrent streams in the session has been reached"),it.STREAM_LIMIT_EXCEEDED):String(ot.code)==="405"&&ot.message==="IncompatibleEncryptionSettings"?nt(rt.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to an encrypted stream without enabling encryption"),it.UNABLE_TO_SUBSCRIBE):String(ot.code)==="500"&&ot.message==="Not connected."?nt(rt.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to a stream while disconnected."),it.UNABLE_TO_SUBSCRIBE):nt(rt.UNABLE_TO_SUBSCRIBE,new Error(`subscriberCreate failed with unexpected code ${ot.code}: ${ot.message}`),it.UNEXPECTED_SERVER_RESPONSE)},function(_e,tt,et){const nt=et(26),rt=et(50),it=et(105),ot=et(24)();_e.exports=st=>{let at=st.subscriber,ct=st.audioLevelSampler,lt=0,dt=0;const ut=new it(()=>{const ft=at.listenerCount(nt.AUDIO_LEVEL_UPDATED);if((()=>rt()-dt>1e4&&ft===0)()){ut.stop();return}lt=ct.sample(),ft>0&&at.dispatchEvent(new ot.AudioLevelUpdatedEvent(lt))});return Object.defineProperty(at,"loudness",{get(){return ut.start(),dt=rt(),lt},set(){throw new TypeError("Cannot set readonly property loudness")},configurable:!0}),at.listenerCount(nt.AUDIO_LEVEL_UPDATED)&&ut.start(),at.on("audioLevelUpdated:added",()=>{ut.start()}),at.once(nt.SUBSCRIBER_DESTROYED,()=>{ut.stop()}),{destroy(){ct.destroy(),ut.stop()}}}},function(_e,tt,et){const nt=et(253),rt=et(146),it=et(695),ot=et(311),st=et(312),at=et(158)(),ct=et(696),lt=et(0)("Subscriber");_e.exports=function(dt,ut){ut===void 0&&(ut={});const ft=ut.hasGetSynchronizationSupport;if(dt){if(it({hasGetSynchronizationSupport:ft}))return new nt(dt.getSynchronizationSources);if(ot())return new nt(dt.getStats);if(st()){let pt;try{pt=ut.audioContext||at()}catch(vt){lt.warn("Failed to get AudioContext()",vt)}if(ct(pt))return new rt(pt)}}}},function(_e,tt,et){const rt=et(3),it=()=>window.RTCRtpReceiver&&"getSynchronizationSources"in window.RTCRtpReceiver.prototype;_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.hasGetSynchronizationSupport||it;return(typeof ot.isEnabled=="boolean"?ot.isEnabled:!1)&&st()&&!rt.isFirefox}},function(_e,tt,et){_e.exports=nt=>(typeof window!==void 0?window:commonjsGlobal).AudioContext&&nt instanceof(typeof window!==void 0?window:commonjsGlobal).AudioContext||(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext&&nt instanceof(typeof window!==void 0?window:commonjsGlobal).webkitAudioContext},function(_e,tt,et){const nt=et(37),rt=et(8);_e.exports=function(ot){let st=!1;const at=lt=>{const dt=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(lt,["OT_audio-blocked","OT_active"].join(" ")),dt&&(st&&rt.addClass(lt,"OT_audio-blocked"),rt.addClass(lt,"OT_active"))};this.setAudioBlocked=lt=>{st=lt,at(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-blocked-indicator"}});const ct=this.setDisplayMode.bind(this);this.setDisplayMode=lt=>{ct(lt),at(this.domElement)}}},function(_e,tt,et){const nt=et(37),rt=et(8);_e.exports=function(ot){let st=!1;const at=lt=>{const dt=["auto","on"].indexOf(this.getDisplayMode())>-1;rt.removeClass(lt,["OT_active"].join(" ")),!(!dt||!st)&&rt.addClass(lt,"OT_active")};this.setVideoUnsupported=lt=>{st=lt,at(this.domElement)},nt(this,{mode:ot.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-unsupported"},htmlContent:'<div class="OT_video-unsupported-bar"></div><div class="OT_video-unsupported-img"></div><span class="OT_video-unsupported-text">Video format not supported</span>'});const ct=this.setDisplayMode.bind(this);this.setDisplayMode=lt=>{ct(lt),at(this.domElement)}}},function(_e,tt,et){const nt=et(48),rt=et(9),it=et(61),ot=et(76),st=et(157),at=function(lt,dt){dt===void 0&&(dt=5e3);let ut,ft=!1;const pt={},vt=function(mt){return mt===void 0&&(mt=[]),it(mt,yt=>ot.isVideoInboundRtpStat(yt))},Ct=()=>{ft||lt((ht,mt)=>{if(!ft){if(!ht){const yt=vt(mt);yt?rt(pt,nt(yt,["timestamp","framesDecoded"])):pt.timestamp||rt(pt,{timestamp:Date.now(),framesDecoded:0})}ut=setTimeout(Ct,dt)}})};return Ct(),{getFrameRateFromStat(ht){return st({currentStatFrames:ht.framesDecoded,currentTimestamp:ht.timestamp,prevStatFrames:pt.framesDecoded,prevTimestamp:pt.timestamp})},destroy(){ft=!0,ut&&(clearTimeout(ut),ut=null)}}};_e.exports=at},function(_e,tt,et){_e.exports=nt=>{let rt=nt.connectivityState,it=nt.onWarning,ot=nt.onTimeout,st=nt.warningMs,at=nt.timeoutMs;const ct=[],lt=()=>{ct.forEach(dt=>clearTimeout(dt))};rt.observe({onEnterConnecting(){ct.push(setTimeout(it,st),setTimeout(ot,at))},onEnterConnected:lt,onEnterDisconnected:lt})}},function(_e,tt,et){const nt=et(315);_e.exports=rt=>{let it=rt.onInvalidTransition;return new nt({init:"disconnected",transitions:[{name:"beginConnect",from:"disconnected",to:"connecting"},{name:"connect",from:"connecting",to:"connected"},{name:"fail",from:["connecting","connected"],to:"disconnected"},{name:"cancel",from:["connecting","connected"],to:"disconnected"},{name:"disconnect",from:["connecting","connected"],to:"disconnected"}],methods:{onInvalidTransition:it}})}},function(_e,tt,et){const nt=et(74);_e.exports=rt=>{let it=rt.connectivityState,ot=rt.logAttempt;const st=new nt(ot,1/5,6);it.observe({onEnterConnecting(){st.start()},onEnterDisconnected(){st.stop()},onEnterConnected(){st.stop()}})}},function(_e,tt){function et(nt){if(nt==null)throw new TypeError("Cannot destructure undefined")}_e.exports=et},function(_e,tt){function et(){return _e.exports=et=Object.assign||function(nt){for(var rt=1;rt<arguments.length;rt++){var it=arguments[rt];for(var ot in it)Object.prototype.hasOwnProperty.call(it,ot)&&(nt[ot]=it[ot])}return nt},et.apply(this,arguments)}_e.exports=et},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(14)),st=nt(et(706)),at=nt(et(75)),ct=et(29);const lt=at.default.ACTIVE_VIDEO,dt=at.default.ACTIVE_VIDEO_WITH_WARNING,ut=at.default.SUSPENDED_VIDEO;var pt=vt=>{let Ct=vt.getAllPeerConnections,ht=vt.AnalyticsHelper;const mt=new ot.default,yt=new ht,Et=(0,st.default)();Et.on("stateChange",function(){for(var Vt=arguments.length,Nt=new Array(Vt),kt=0;kt<Vt;kt++)Nt[kt]=arguments[kt];return mt.emit("stateChange",...Nt)});const Rt=function(){var Vt=(0,it.default)(rt.default.mark(function Nt(){var kt,wt;return rt.default.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return qt.next=2,Ct();case 2:kt=qt.sent,wt=kt.reduce((zt,Bt)=>{var sn;return Math.max(zt,(sn=Bt.getAudioFallbackState())==null?void 0:sn.videoState)},lt),Et.setState(wt);case 5:case"end":return qt.stop()}},Nt)}));return function(){return Vt.apply(this,arguments)}}();return Object.assign(mt,{onPeerConnectionStateChange:Vt=>{let Nt=Vt.state,kt=Vt.peerConnection,wt=Vt.publishVideo,Zt=Vt.stream,qt=Vt.peerId,zt=Vt.connectionId,Bt=Vt.sessionId;if(wt){const sn=kt.getSourceStreamId()==="MANTIS"?void 0:qt;switch(Nt){case lt:Zt.setChannelActiveState("video",!0,"auto",ct.LOW,sn);break;case dt:Zt.setChannelActiveState("video",!0,"auto",ct.MEDIUM,sn);break;case ut:Zt.setChannelActiveState("video",!1,"auto",ct.CRITICAL,sn);break}yt.logEvent({action:"congestionLevelChanged",payload:{congestionLevel:Nt},streamId:Zt.id,sessionId:Bt,connectionId:zt})}Rt()},onPeerConnectionDisconnected:()=>{Rt()},reset:()=>Et.reset(),getState:()=>Et.getState()})};tt.default=pt},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(14)),it=nt(et(75)),st=()=>{const at=new rt.default;let ct=it.default.ACTIVE_VIDEO;return Object.assign(at,{getState(){return ct},setState(lt){if(!Object.values(it.default).includes(lt))throw new Error("Invalid video state: ",lt);if(lt===ct)return;const dt=ct;ct=lt,at.emit("stateChange",{state:ct,previousState:dt})},reset(){ct=it.default.ACTIVE_VIDEO}})};tt.default=st},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=dt;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(708)),st=nt(et(20));const at=(0,ot.default)(),ct=(0,st.default)(),lt=ct.getNativeMediaDevices;function dt(ut){const ft=lt();let pt=!1;ft.addEventListener("devicechange",(0,it.default)(rt.default.mark(function vt(){var Ct;return rt.default.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:if(!pt){mt.next=2;break}return mt.abrupt("return");case 2:return pt=!0,mt.next=5,at();case 5:Ct=mt.sent,pt=!1,ut.setAudioSource(Ct);case 8:case"end":return mt.stop()}},vt)})))}},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(20)),st=nt(et(289)),at=function(lt){lt===void 0&&(lt={});const dt=lt.deviceHelpers||(0,ot.default)(),ut=dt.getAudioInputMediaDevices,ft=dt.getDefaultAudioInputDevice,pt=dt.hasDevice,vt=lt.currentAudioOutputDevice||st.default,Ct=vt.getCurrentAudioInputDevice,ht=vt.setCurrentAudioInputDevice;return function(){var yt=(0,it.default)(rt.default.mark(function Et(){var Rt,Pt,Vt,Nt;return rt.default.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.next=2,ut();case 2:if(Rt=wt.sent,Rt.length!==0){wt.next=6;break}return ht(""),wt.abrupt("return");case 6:if(Pt=Ct(),Vt=pt(Rt,Pt.deviceId),Nt=ft(Rt),!(Vt&&Pt.label===Nt.label)){wt.next=11;break}return wt.abrupt("return");case 11:return ht(Nt),wt.abrupt("return",Nt.deviceId);case 13:case"end":return wt.stop()}},Et)}));return function(){return yt.apply(this,arguments)}}()};tt.default=at},function(_e,tt,et){var nt=et(710),rt=et(260),it=nt(function(ot,st,at){return ot+(at?" ":"")+rt(st)});_e.exports=it},function(_e,tt,et){var nt=et(711),rt=et(712),it=et(715),ot="[']",st=RegExp(ot,"g");function at(ct){return function(lt){return nt(it(rt(lt).replace(st,"")),ct,"")}}_e.exports=at},function(_e,tt){function et(nt,rt,it,ot){var st=-1,at=nt==null?0:nt.length;for(ot&&at&&(it=nt[++st]);++st<at;)it=rt(it,nt[st],st,nt);return it}_e.exports=et},function(_e,tt,et){var nt=et(713),rt=et(60),it=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ot="\\u0300-\\u036f",st="\\ufe20-\\ufe2f",at="\\u20d0-\\u20ff",ct=ot+st+at,lt="["+ct+"]",dt=RegExp(lt,"g");function ut(ft){return ft=rt(ft),ft&&ft.replace(it,nt).replace(dt,"")}_e.exports=ut},function(_e,tt,et){var nt=et(714),rt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},it=nt(rt);_e.exports=it},function(_e,tt){function et(nt){return function(rt){return nt==null?void 0:nt[rt]}}_e.exports=et},function(_e,tt,et){var nt=et(716),rt=et(717),it=et(60),ot=et(718);function st(at,ct,lt){return at=it(at),ct=lt?void 0:ct,ct===void 0?rt(at)?ot(at):nt(at):at.match(ct)||[]}_e.exports=st},function(_e,tt){var et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function nt(rt){return rt.match(et)||[]}_e.exports=nt},function(_e,tt){var et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function nt(rt){return et.test(rt)}_e.exports=nt},function(_e,tt){var et="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\u2700-\\u27bf",at="a-z\\xdf-\\xf6\\xf8-\\xff",ct="\\xac\\xb1\\xd7\\xf7",lt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dt="\\u2000-\\u206f",ut=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",vt=ct+lt+dt+ut,Ct="[']",ht="["+vt+"]",mt="["+ot+"]",yt="\\d+",Et="["+st+"]",Rt="["+at+"]",Pt="[^"+et+vt+yt+st+at+ft+"]",Vt="\\ud83c[\\udffb-\\udfff]",Nt="(?:"+mt+"|"+Vt+")",kt="[^"+et+"]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",Zt="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+ft+"]",zt="\\u200d",Bt="(?:"+Rt+"|"+Pt+")",sn="(?:"+qt+"|"+Pt+")",mn="(?:"+Ct+"(?:d|ll|m|re|s|t|ve))?",En="(?:"+Ct+"(?:D|LL|M|RE|S|T|VE))?",cn=Nt+"?",xn="["+pt+"]?",bn="(?:"+zt+"(?:"+[kt,wt,Zt].join("|")+")"+xn+cn+")*",gn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wn=xn+cn+bn,Un="(?:"+[Et,wt,Zt].join("|")+")"+Wn,Sn=RegExp([qt+"?"+Rt+"+"+mn+"(?="+[ht,qt,"$"].join("|")+")",sn+"+"+En+"(?="+[ht,qt+Bt,"$"].join("|")+")",qt+"?"+Bt+"+"+mn,qt+"+"+En,vn,gn,yt,Un].join("|"),"g");function On(Ln){return Ln.match(Sn)||[]}_e.exports=On},function(_e,tt,et){const nt=et(48),rt=et(269),it=et(319);_e.exports=ot=>{const st=nt(ot,["audioDeviceId","audioFallback","audioFallbackEnabled","audioSource","channels","classNames","constraints","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl","enableRenegotiation","enableStereo","facingMode","fitMode","frameRate","height","insertDefaultUI","insertMode","audioBitrate","maxResolution","minVideoBitrate","mirror","name","publishAudio","publishVideo","publishCaptions","resolution","scalableScreenshare","scalableVideo","showControls","style","videoContentHint","videoDeviceId","videoDimensions","videoFilter","videoSource","width"]);return st.style&&(st.style=rt(st.style)),st.videoFilter&&(st.videoFilter=it(st.videoFilter)),st}},function(_e,tt,et){const nt=et(26),rt=et(50),it=et(105),ot=et(24)();_e.exports=st=>{let at=st.publisher,ct=st.widgetView,lt=0,dt=0;const ut=new it(()=>{const ft=at.listenerCount(nt.AUDIO_LEVEL_UPDATED);if((()=>rt()-dt>1e4&&ft===0)()){ut.stop();return}const vt=ct&&ct.video();if(vt){const Ct=vt.getAudioInputLevel();lt=Ct,ft>0&&at.dispatchEvent(new ot.AudioLevelUpdatedEvent(Ct))}});Object.defineProperty(at,"loudness",{get(){return ut.start(),dt=rt(),lt},set(){throw new TypeError("Cannot set readonly property loudness")}}),at.listenerCount(nt.AUDIO_LEVEL_UPDATED)&&ut.start(),at.on("audioLevelUpdated:added",()=>{ut.start()}),at.once(nt.PUBLISHER_DESTROYED,()=>{ut.stop()})}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));_e.exports=function(st){let at=!1;return function(){var ct=(0,it.default)(rt.default.mark(function dt(){var ut,ft,pt,vt=arguments;return rt.default.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(!at){ht.next=2;break}throw new Error("The previous call to this function has not yet completed.");case 2:for(at=!0,ht.prev=3,ut=vt.length,ft=new Array(ut),pt=0;pt<ut;pt++)ft[pt]=vt[pt];return ht.next=7,st.call(this,...ft);case 7:return ht.abrupt("return",ht.sent);case 8:return ht.prev=8,at=!1,ht.finish(8);case 11:case"end":return ht.stop()}},dt,this,[[3,,8,11]])}));function lt(){return ct.apply(this,arguments)}return lt}()}},function(_e,tt,et){const nt=et(13)(),rt=et(7);_e.exports=function(ot){const st=document.createElement("canvas");if(!st.captureStream)throw nt(rt.NOT_SUPPORTED,new Error("Your browser does not support HTMLCanvasElement.captureStream()"));st.width=ot.width,st.height=ot.height,st.getContext("2d").fillRect(0,0,1,1);const at=st.captureStream().getVideoTracks(),ct=at[0];return ct.isCreatedCanvas=!0,ct.enabled=!1,ct}},function(_e,tt,et){const nt=st=>st.getSettings&&st.getSettings().deviceId,rt=st=>{let at;return st.getConstraints&&st.getConstraints().deviceId&&(at=st.getConstraints().deviceId.exact),at},it=(st,at)=>{let ct;if(at&&at.length){const lt=at.find(dt=>dt.label===st.label);lt&&(ct=lt.deviceId)}return ct},ot=(st,at)=>nt(st)||rt(st)||it(st,at);_e.exports=(st,at)=>{if(!st)return null;const ct=st.getVideoTracks(),lt=ct[0];return lt?ot(lt,at):null}},function(_e,tt,et){const nt=et(7),rt=et(10),it=et(13)();_e.exports=ot=>{const st=["403","404","409"],at=String(ot.code);return at==="405"&&ot.message==="IncompatibleEncryptionSettings"?it(nt.STREAM_CREATE_FAILED,new Error("IncompatibleEncryptionSettings: Tried to publish a stream to an encrypted session without enabling encryption"),rt.UNABLE_TO_PUBLISH):st.includes(at)?it(nt.STREAM_CREATE_FAILED,new Error(`Failed to create stream in server model: ${ot.message}`),rt.UNABLE_TO_PUBLISH):it(nt.UNEXPECTED_SERVER_RESPONSE,new Error(`Unexpected server response: ${ot.message}`),rt.UNEXPECTED_SERVER_RESPONSE)}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=et(3),st=et(320),at=et(727),ct=et(0)("MediaProcessor"),lt=et(102),dt=lt.getProxyUrl;function ut(ft){var pt=this;ft===void 0&&(ft={});const vt=ft,Ct=vt.ML,ht=Ct===void 0?st:Ct,mt=vt.MediaTransform,yt=mt===void 0?at:mt,Et=vt.getProxyUrl,Rt=Et===void 0?dt:Et;let Pt,Vt,Nt,kt;this.isValidVideoFilter=wt=>{const Zt=wt.type;return yt.isSupported(Zt)&&yt.isValidConfig(wt)},this.canUpdateVideoFilter=wt=>["backgroundBlur","backgroundReplacement"].includes(wt),this.updateVideoFilter=function(){var wt=(0,it.default)(rt.default.mark(function Zt(qt){var zt,Bt,sn;return rt.default.wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(zt=qt.type,pt.canUpdateVideoFilter(zt)){En.next=4;break}return ct.warn(`Ignoring: filter "${zt}" doesn't support real-time updates`),En.abrupt("return");case 4:return Bt=yt.getConfigurator(zt),sn=Bt.getConfig(Object.assign({proxyUrl:Rt()},qt)),En.next=8,Vt.setBackgroundOptions(sn);case 8:Nt=qt;case 9:case"end":return En.stop()}},Zt)}));return function(Zt){return wt.apply(this,arguments)}}(),this.setVideoFilter=function(){var wt=(0,it.default)(rt.default.mark(function Zt(qt){var zt,Bt,sn,mn;return rt.default.wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:if(zt=qt.type,Bt=yt.getConfigurator(zt),Bt){cn.next=5;break}return ct.warn(`Ignoring: filter "${zt}" isn't supported`),cn.abrupt("return");case 5:if(sn=Bt.getConfig(Object.assign({proxyUrl:Rt()},qt)),sn){cn.next=9;break}return ct.warn(`Ignoring: couldn't configure filter ${zt}`),cn.abrupt("return");case 9:if(mn=!!pt.getVideoFilter(),!mn){cn.next=20;break}return cn.prev=11,cn.next=14,pt.destroy();case 14:cn.next=20;break;case 16:return cn.prev=16,cn.t0=cn.catch(11),ct.warn(`Ignoring, couldn't remove previous filter: ${cn.t0}`),cn.abrupt("return");case 20:return cn.next=22,ht.createProcessor(sn);case 22:return Vt=cn.sent,cn.next=25,Vt.getConnector();case 25:Pt=cn.sent,Nt=qt;case 27:case"end":return cn.stop()}},Zt,null,[[11,16]])}));return function(Zt){return wt.apply(this,arguments)}}(),this.getVideoFilter=()=>Nt,this.getOriginalVideoTrack=()=>kt,this.setMediaStream=function(){var wt=(0,it.default)(rt.default.mark(function Zt(qt){var zt,Bt,sn;return rt.default.wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(zt=qt.getVideoTracks(),Bt=zt[0],Bt){En.next=4;break}return ct.warn("Ignoring. No video track found"),En.abrupt("return",null);case 4:return sn=null,En.prev=5,En.next=8,Pt.setTrack(Bt);case 8:sn=En.sent,kt=Bt,En.next=15;break;case 12:En.prev=12,En.t0=En.catch(5),ct.error(`Error setting media stream: ${En.t0}`);case 15:return En.abrupt("return",sn);case 16:case"end":return En.stop()}},Zt,null,[[5,12]])}));return function(Zt){return wt.apply(this,arguments)}}(),this.setVideoTrack=function(){var wt=(0,it.default)(rt.default.mark(function Zt(qt){var zt;return rt.default.wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return zt=null,sn.prev=1,sn.next=4,Pt.setTrack(qt);case 4:zt=sn.sent,kt=qt,sn.next=11;break;case 8:sn.prev=8,sn.t0=sn.catch(1),ct.error(`Error setting video track: ${sn.t0}`);case 11:return sn.abrupt("return",zt);case 12:case"end":return sn.stop()}},Zt,null,[[1,8]])}));return function(Zt){return wt.apply(this,arguments)}}(),this._setConnector=wt=>{Pt=wt},this.destroy=(0,it.default)(rt.default.mark(function wt(){return rt.default.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return qt.prev=0,qt.next=3,Pt.destroy();case 3:qt.next=8;break;case 5:qt.prev=5,qt.t0=qt.catch(0),ct.warn(`Error destroying connector: ${qt.t0}`);case 8:Pt=null,Nt=null,kt=null;case 11:case"end":return qt.stop()}},wt,null,[[0,5]])})),this.enableLogging=wt=>{if(!wt){ct.warn("Error enabling logging: invalid API key");return}const Zt={appId:wt,sourceType:"video"},qt=Rt();qt&&(Zt.proxyUrl=qt),ht.setMetadata(Zt)},this.disableLogging=()=>{ht.setMetadata()}}ut.isSupported=function(ft){ft===void 0&&(ft={});const pt=ft,vt=pt.env,Ct=vt===void 0?ot:vt,ht=pt.ML,mt=ht===void 0?st:ht;return!!Ct.isChromium&&mt.isSupported()},_e.exports=ut},function(_e,tt,et){et.r(tt),(function(nt,rt){et.d(tt,"ErrorFunction",function(){return rs}),et.d(tt,"MediaProcessor",function(){return Vs}),et.d(tt,"MediaProcessorConnector",function(){return wu}),et.d(tt,"PipelineInfoData",function(){return Al}),et.d(tt,"VonageSourceType",function(){return xn}),et.d(tt,"WarningType",function(){return os}),et.d(tt,"getVonageMetadata",function(){return Gr}),et.d(tt,"isSupported",function(){return at}),et.d(tt,"setVonageMetadata",function(){return so});var it=Object.defineProperty,ot=(mr,jn,fr)=>jn in mr?it(mr,jn,{enumerable:!0,configurable:!0,writable:!0,value:fr}):mr[jn]=fr,st=(mr,jn,fr)=>(ot(mr,typeof jn!="symbol"?jn+"":jn,fr),fr);function at(){return new nt((mr,jn)=>{typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?jn("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):mr()})}class ct{}st(ct,"updates",{transformer_new:"New transformer",transformer_null:"Null transformer"}),st(ct,"errors",{transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"});const lt=new WeakMap,dt=new WeakMap,ut=new WeakMap,ft=Symbol("anyProducer"),pt=nt.resolve(),vt=Symbol("listenerAdded"),Ct=Symbol("listenerRemoved");let ht=!1;function mt(mr){if(typeof mr!="string"&&typeof mr!="symbol")throw new TypeError("eventName must be a string or a symbol")}function yt(mr){if(typeof mr!="function")throw new TypeError("listener must be a function")}function Et(mr,jn){const fr=dt.get(mr);return fr.has(jn)||fr.set(jn,new Set),fr.get(jn)}function Rt(mr,jn){const fr=typeof jn=="string"||typeof jn=="symbol"?jn:ft,Wr=ut.get(mr);return Wr.has(fr)||Wr.set(fr,new Set),Wr.get(fr)}function Pt(mr,jn,fr){const Wr=ut.get(mr);if(Wr.has(jn))for(const yr of Wr.get(jn))yr.enqueue(fr);if(Wr.has(ft)){const yr=nt.all([jn,fr]);for(const xo of Wr.get(ft))xo.enqueue(yr)}}function Vt(mr,jn){jn=Array.isArray(jn)?jn:[jn];let fr=!1,Wr=()=>{},yr=[];const xo={enqueue(Qo){yr.push(Qo),Wr()},finish(){fr=!0,Wr()}};for(const Qo of jn)Rt(mr,Qo).add(xo);return{async next(){return yr?yr.length===0?fr?(yr=void 0,this.next()):(await new nt(Qo=>{Wr=Qo}),this.next()):{done:!1,value:await yr.shift()}:{done:!0}},async return(Qo){yr=void 0;for(const zo of jn)Rt(mr,zo).delete(xo);return Wr(),arguments.length>0?{done:!0,value:await Qo}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Nt(mr){if(mr===void 0)return Zt;if(!Array.isArray(mr))throw new TypeError("`methodNames` must be an array of strings");for(const jn of mr)if(!Zt.includes(jn))throw typeof jn!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${jn} is not Emittery method`);return mr}const kt=mr=>mr===vt||mr===Ct;class wt{static mixin(jn,fr){return fr=Nt(fr),Wr=>{if(typeof Wr!="function")throw new TypeError("`target` must be function");for(const Qo of fr)if(Wr.prototype[Qo]!==void 0)throw new Error(`The property \`${Qo}\` already exists on \`target\``);function yr(){return Object.defineProperty(this,jn,{enumerable:!1,value:new wt}),this[jn]}Object.defineProperty(Wr.prototype,jn,{enumerable:!1,get:yr});const xo=Qo=>function(...zo){return this[jn][Qo](...zo)};for(const Qo of fr)Object.defineProperty(Wr.prototype,Qo,{enumerable:!1,value:xo(Qo)});return Wr}}static get isDebugEnabled(){if(typeof rt!="object")return ht;const{env:jn}=rt||{env:{}};return jn.DEBUG==="emittery"||jn.DEBUG==="*"||ht}static set isDebugEnabled(jn){ht=jn}constructor(jn={}){lt.set(this,new Set),dt.set(this,new Map),ut.set(this,new Map),this.debug=jn.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(fr,Wr,yr,xo)=>{try{xo=JSON.stringify(xo)}catch{xo=`Object with the following keys failed to stringify: ${Object.keys(xo).join(",")}`}typeof yr=="symbol"&&(yr=yr.toString());const Qo=new Date,zo=`${Qo.getHours()}:${Qo.getMinutes()}:${Qo.getSeconds()}.${Qo.getMilliseconds()}`;console.log(`[${zo}][emittery:${fr}][${Wr}] Event Name: ${yr}
	data: ${xo}`)})}logIfDebugEnabled(jn,fr,Wr){(wt.isDebugEnabled||this.debug.enabled)&&this.debug.logger(jn,this.debug.name,fr,Wr)}on(jn,fr){yt(fr),jn=Array.isArray(jn)?jn:[jn];for(const Wr of jn)mt(Wr),Et(this,Wr).add(fr),this.logIfDebugEnabled("subscribe",Wr,void 0),kt(Wr)||this.emit(vt,{eventName:Wr,listener:fr});return this.off.bind(this,jn,fr)}off(jn,fr){yt(fr),jn=Array.isArray(jn)?jn:[jn];for(const Wr of jn)mt(Wr),Et(this,Wr).delete(fr),this.logIfDebugEnabled("unsubscribe",Wr,void 0),kt(Wr)||this.emit(Ct,{eventName:Wr,listener:fr})}once(jn){return new nt(fr=>{const Wr=this.on(jn,yr=>{Wr(),fr(yr)})})}events(jn){jn=Array.isArray(jn)?jn:[jn];for(const fr of jn)mt(fr);return Vt(this,jn)}async emit(jn,fr){mt(jn),this.logIfDebugEnabled("emit",jn,fr),Pt(this,jn,fr);const Wr=Et(this,jn),yr=lt.get(this),xo=[...Wr],Qo=kt(jn)?[]:[...yr];await pt,await nt.all([...xo.map(async zo=>{if(Wr.has(zo))return zo(fr)}),...Qo.map(async zo=>{if(yr.has(zo))return zo(jn,fr)})])}async emitSerial(jn,fr){mt(jn),this.logIfDebugEnabled("emitSerial",jn,fr);const Wr=Et(this,jn),yr=lt.get(this),xo=[...Wr],Qo=[...yr];await pt;for(const zo of xo)Wr.has(zo)&&await zo(fr);for(const zo of Qo)yr.has(zo)&&await zo(jn,fr)}onAny(jn){return yt(jn),this.logIfDebugEnabled("subscribeAny",void 0,void 0),lt.get(this).add(jn),this.emit(vt,{listener:jn}),this.offAny.bind(this,jn)}anyEvent(){return Vt(this)}offAny(jn){yt(jn),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(Ct,{listener:jn}),lt.get(this).delete(jn)}clearListeners(jn){jn=Array.isArray(jn)?jn:[jn];for(const fr of jn)if(this.logIfDebugEnabled("clear",fr,void 0),typeof fr=="string"||typeof fr=="symbol"){Et(this,fr).clear();const Wr=Rt(this,fr);for(const yr of Wr)yr.finish();Wr.clear()}else{lt.get(this).clear();for(const Wr of dt.get(this).values())Wr.clear();for(const Wr of ut.get(this).values()){for(const yr of Wr)yr.finish();Wr.clear()}}}listenerCount(jn){jn=Array.isArray(jn)?jn:[jn];let fr=0;for(const Wr of jn){if(typeof Wr=="string"){fr+=lt.get(this).size+Et(this,Wr).size+Rt(this,Wr).size+Rt(this).size;continue}typeof Wr<"u"&&mt(Wr),fr+=lt.get(this).size;for(const yr of dt.get(this).values())fr+=yr.size;for(const yr of ut.get(this).values())fr+=yr.size}return fr}bindMethods(jn,fr){if(typeof jn!="object"||jn===null)throw new TypeError("`target` must be an object");fr=Nt(fr);for(const Wr of fr){if(jn[Wr]!==void 0)throw new Error(`The property \`${Wr}\` already exists on \`target\``);Object.defineProperty(jn,Wr,{enumerable:!1,value:this[Wr].bind(this)})}}}const Zt=Object.getOwnPropertyNames(wt.prototype).filter(mr=>mr!=="constructor");Object.defineProperty(wt,"listenerAdded",{value:vt,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(wt,"listenerRemoved",{value:Ct,writable:!1,enumerable:!0,configurable:!1});var qt=wt;function zt(mr){return typeof mr=="object"&&mr!==null&&"message"in mr&&typeof mr.message=="string"}function Bt(mr){if(zt(mr))return mr;try{return new Error(JSON.stringify(mr))}catch{return new Error(String(mr))}}function sn(mr){return Bt(mr).message}var mn=Object.defineProperty,En=(mr,jn,fr)=>jn in mr?mn(mr,jn,{enumerable:!0,configurable:!0,writable:!0,value:fr}):mr[jn]=fr,cn=(mr,jn,fr)=>(En(mr,typeof jn!="symbol"?jn+"":jn,fr),fr),xn=(mr=>(mr.automation="automation",mr.test="test",mr.vbc="vbc",mr.video="video",mr.voice="voice",mr))(xn||{});const bn="hlg.tokbox.com/prod/logging/vcp_webrtc",gn="https://",vn=1e4;let Wn;const Un=new Uint8Array(16);function Sn(){if(!Wn&&(Wn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wn(Un)}const On=[];for(let mr=0;mr<256;++mr)On.push((mr+256).toString(16).slice(1));function Ln(mr,jn=0){return(On[mr[jn+0]]+On[mr[jn+1]]+On[mr[jn+2]]+On[mr[jn+3]]+"-"+On[mr[jn+4]]+On[mr[jn+5]]+"-"+On[mr[jn+6]]+On[mr[jn+7]]+"-"+On[mr[jn+8]]+On[mr[jn+9]]+"-"+On[mr[jn+10]]+On[mr[jn+11]]+On[mr[jn+12]]+On[mr[jn+13]]+On[mr[jn+14]]+On[mr[jn+15]]).toLowerCase()}const Jn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ur={randomUUID:Jn};function sr(mr,jn,fr){if(ur.randomUUID&&!jn&&!mr)return ur.randomUUID();mr=mr||{};const Wr=mr.random||(mr.rng||Sn)();if(Wr[6]=Wr[6]&15|64,Wr[8]=Wr[8]&63|128,jn){fr=fr||0;for(let yr=0;yr<16;++yr)jn[fr+yr]=Wr[yr];return jn}return Ln(Wr)}function pr(mr,jn){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let fr=globalThis.vonage.workerizer;return fr[mr]||(fr[mr]=jn),fr[mr]}const Ir=pr("globals",{});var Er=(mr=>(mr.INIT="INIT",mr.FORWARD="FORWARD",mr.TERMINATE="TERMINATE",mr.GLOBALS_SYNC="GLOBALS_SYNC",mr))(Er||{});function Kr(mr){return[ImageBitmap,ReadableStream,WritableStream].some(jn=>mr instanceof jn)}let Dr=0;function to(mr,jn,fr,Wr,yr){const xo=Dr++;return mr.postMessage({id:xo,type:jn,functionName:fr,args:Wr},Wr.filter(Qo=>Kr(Qo))),new nt(Qo=>{yr==null||yr.set(xo,Qo)})}function po(mr,jn){const{id:fr,type:Wr}=mr,yr=Array.isArray(jn)?jn:[jn];postMessage({id:fr,type:Wr,result:jn},yr.filter(xo=>Kr(xo)))}const Nr=pr("workerized",{});function br(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}async function zn(){if(br())po({type:Er.GLOBALS_SYNC},Ir);else{const mr=[];for(const jn in Nr){const{worker:fr,resolvers:Wr}=Nr[jn].workerContext;fr&&mr.push(to(fr,Er.GLOBALS_SYNC,"",[Ir],Wr))}await nt.all(mr)}}function Qn(mr,jn){if(Array.isArray(jn))jn.splice(0,jn.length);else if(typeof jn=="object")for(const fr in jn)delete jn[fr];for(const fr in mr)Array.isArray(mr[fr])?(jn[fr]=[],Qn(mr[fr],jn[fr])):typeof mr[fr]=="object"?(jn[fr]={},Qn(mr[fr],jn[fr])):jn[fr]=mr[fr]}async function cr(mr,jn){const{functionName:fr,args:Wr}=mr;if(!jn.instance)throw"instance not initialized";if(!fr)throw"missing function name to call";if(!jn.instance[fr])throw`undefined function [${fr}] in class ${jn.instance.constructor.workerId}`;po(mr,await jn.instance[fr](...Wr??[]))}const qr=pr("registeredWorkers",{});function To(mr,jn){if(!mr.args)throw"Missing className while initializing worker";const[fr,Wr]=mr.args,yr=qr[fr];if(yr)jn.instance=new yr(mr.args.slice(1));else throw`unknown worker class ${fr}`;Qn(Wr,Ir),po(mr,typeof jn.instance!==void 0)}async function dr(mr,jn){const{args:fr}=mr;if(!jn.instance)throw"instance not initialized";let Wr;jn.instance.terminate&&(Wr=await jn.instance.terminate(...fr??[])),po(mr,Wr)}function Lr(mr){if(!mr.args)throw"Missing globals while syncing";Qn(mr.args[0],Ir),po(mr,{})}function Yr(){const mr={};onmessage=async jn=>{const fr=jn.data;switch(fr.type){case Er.INIT:To(fr,mr);break;case Er.FORWARD:cr(fr,mr);break;case Er.TERMINATE:dr(fr,mr);break;case Er.GLOBALS_SYNC:Lr(fr);break}}}br()&&Yr();function yo(mr,jn){return Ir[mr]||(Ir[mr]=jn),[()=>Ir[mr],async fr=>{Ir[mr]=fr,await zn()}]}function Mr(mr,jn){return yo(mr,jn)}const[wo,mo]=Mr("metadata");function so(mr){mo(mr)}function Gr(){return wo()}class wr{constructor(jn){cn(this,"uuid",sr()),this.config=jn}async send(jn){var fr,Wr,yr;const{appId:xo,sourceType:Qo}=(fr=Gr())!=null?fr:{};if(!xo||!Qo)return"metadata missing";const zo=new AbortController,El=setTimeout(()=>zo.abort(),vn);return await((yr=(Wr=this.config)==null?void 0:Wr.fetch)!=null?yr:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(jn)),signal:zo.signal}),clearTimeout(El),"success"}getUrl(){var jn;let fr=(jn=Gr().proxyUrl)!=null?jn:gn;return fr+=(fr.at(-1)==="/"?"":"/")+bn,fr}getHeaders(){return{"Content-Type":"application/json"}}buildReport(jn){const fr=Gr();return{guid:this.uuid,...jn,applicationId:fr.appId,timestamp:Date.now(),proxyUrl:fr.proxyUrl,source:fr.sourceType}}}const Oo="2.0.3";class $r{constructor(jn){st(this,"frameTransformedCount",0),st(this,"frameFromSourceCount",0),st(this,"startAt",0),st(this,"reporter"),this.config=jn,this.reporter=new wr(jn)}async onFrameFromSource(){this.frameFromSourceCount++}get fps(){const{startAt:jn,frameFromSourceCount:fr}=this,Wr=(Date.now()-jn)/1e3;return fr/Wr}async onFrameTransformed(jn={},fr=!1){this.startAt===0&&(this.startAt=Date.now()),this.frameTransformedCount++;const{startAt:Wr,frameTransformedCount:yr,frameFromSourceCount:xo}=this,Qo=Date.now(),zo=(Qo-Wr)/1e3,El=yr/zo,co=xo/zo;return fr||this.frameTransformedCount>=this.config.loggingIntervalFrameCount?(this.frameFromSourceCount=0,this.frameTransformedCount=0,this.startAt=Qo,this.reporter.config=this.config,this.reporter.send({...this.config.report,variation:"QoS",fps:co,transformedFps:El,framesTransformed:yr,...jn})):"success"}}var os=(mr=>(mr.FPS_DROP="fps_drop",mr))(os||{}),rs=(mr=>(mr.start="start",mr.transform="transform",mr.flush="flush",mr))(rs||{}),Al=(mr=>(mr.pipeline_ended="pipeline_ended",mr.pipeline_ended_with_error="pipeline_ended_with_error",mr.pipeline_started="pipeline_started",mr.pipeline_started_with_error="pipeline_started_with_error",mr.pipeline_restarted="pipeline_restarted",mr.pipeline_restarted_with_error="pipeline_restarted_with_error",mr))(Al||{});const Vo=500,is=.8;class Gs extends qt{constructor(jn,fr){super(),st(this,"reporter_",new wr),st(this,"reporterQos_",new $r({loggingIntervalFrameCount:Vo,report:{version:Oo}})),st(this,"transformerType_"),st(this,"transformer_"),st(this,"shouldStop_"),st(this,"isFlashed_"),st(this,"mediaTransformerQosReportStartTimestamp_"),st(this,"videoHeight_"),st(this,"videoWidth_"),st(this,"trackExpectedRate_"),st(this,"index_"),st(this,"controller_"),this.index_=fr,this.transformer_=jn,this.shouldStop_=!1,this.isFlashed_=!1,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in jn&&(this.transformerType_=jn.getTransformerType()),this.report({variation:"Create"})}setTrackExpectedRate(jn){this.trackExpectedRate_=jn}async start(jn){if(this.controller_=jn,this.transformer_&&typeof this.transformer_.start=="function")try{await this.transformer_.start(jn)}catch(fr){this.report({message:ct.errors.transformer_start,variation:"Error",error:sn(fr)});const Wr={eventMetaData:{transformerIndex:this.index_},error:fr,function:"start"};this.emit("error",Wr)}}async transform(jn,fr){var Wr,yr,xo,Qo;if(this.mediaTransformerQosReportStartTimestamp_===0&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),jn instanceof VideoFrame&&(this.videoHeight_=(Wr=jn==null?void 0:jn.displayHeight)!=null?Wr:0,this.videoWidth_=(yr=jn==null?void 0:jn.displayWidth)!=null?yr:0),this.reporterQos_.onFrameFromSource(),this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),jn.close(),this.flush(fr),fr.terminate();else{try{await((Qo=(xo=this.transformer_).transform)==null?void 0:Qo.call(xo,jn,fr)),this.reportQos()}catch(zo){this.report({message:ct.errors.transformer_transform,variation:"Error",error:sn(zo)});const El={eventMetaData:{transformerIndex:this.index_},error:zo,function:"transform"};this.emit("error",El)}if(this.trackExpectedRate_!=-1&&this.trackExpectedRate_*is>this.reporterQos_.fps){const zo={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:this.reporterQos_.fps}};this.emit("warn",zo)}}}async flush(jn){if(this.transformer_&&typeof this.transformer_.flush=="function"&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(jn)}catch(fr){this.report({message:ct.errors.transformer_flush,variation:"Error",error:sn(fr)});const Wr={eventMetaData:{transformerIndex:this.index_},error:fr,function:"flush"};this.emit("error",Wr)}}this.reportQos(!0),this.report({variation:"Delete"})}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}report(jn){this.reporter_.send({version:Oo,action:"MediaTransformer",transformerType:this.transformerType_,...jn})}reportQos(jn=!1){this.reporterQos_.config={...this.reporterQos_.config},this.reporterQos_.onFrameTransformed({version:Oo,action:"MediaTransformer",transformerType:this.transformerType_,videoWidth:this.videoWidth_,videoHeight:this.videoHeight_},jn)}}class cu extends qt{constructor(jn){super(),st(this,"transformers_"),st(this,"trackExpectedRate_"),this.transformers_=[],this.trackExpectedRate_=-1;for(let fr=0;fr<jn.length;fr++){let Wr=new Gs(jn[fr],fr);Wr.on("error",yr=>{this.emit("error",yr)}),Wr.on("warn",yr=>{this.emit("warn",yr)}),this.transformers_.push(Wr)}}setTrackExpectedRate(jn){this.trackExpectedRate_=jn;for(let fr of this.transformers_)fr.setTrackExpectedRate(this.trackExpectedRate_)}async start(jn,fr){if(!this.transformers_||this.transformers_.length===0){console.log("[Pipeline] No transformers.");return}try{let Wr=jn;for(let yr of this.transformers_)jn=jn.pipeThrough(new TransformStream(yr));jn.pipeTo(fr).then(async()=>{console.log("[Pipeline] Setup."),await fr.abort(),await Wr.cancel(),this.emit("pipelineInfo","pipeline_ended")}).catch(async yr=>{jn.cancel().then(()=>{console.log("[Pipeline] Shutting down streams after abort.")}).catch(xo=>{console.error("[Pipeline] Error from stream transform:",xo)}),await fr.abort(yr),await Wr.cancel(yr),this.emit("pipelineInfo","pipeline_ended_with_error")})}catch{this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy();return}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let jn of this.transformers_)jn.stop()}}class Vs extends qt{constructor(){super(),st(this,"reporter_"),st(this,"pipeline_"),st(this,"transformers_"),st(this,"readable_"),st(this,"writable_"),st(this,"trackExpectedRate_"),this.reporter_=new wr,this.trackExpectedRate_=-1,this.report({variation:"Create"})}setTrackExpectedRate(jn){this.trackExpectedRate_=jn,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(jn,fr){return this.readable_=jn,this.writable_=fr,this.transformInternal()}transformInternal(){return new nt(async(jn,fr)=>{if(!this.transformers_||this.transformers_.length===0){this.report({message:ct.errors.transformer_none,variation:"Error"}),fr("[MediaProcessor] Need to set transformers.");return}if(!this.readable_){this.report({variation:"Error",message:ct.errors.readable_null}),fr("[MediaProcessor] Readable is null.");return}if(!this.writable_){this.report({variation:"Error",message:ct.errors.writable_null}),fr("[MediaProcessor] Writable is null.");return}let Wr=!1;this.pipeline_&&(Wr=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new cu(this.transformers_),this.pipeline_.on("warn",yr=>{this.emit("warn",yr)}),this.pipeline_.on("error",yr=>{this.emit("error",yr)}),this.pipeline_.on("pipelineInfo",yr=>{Wr&&(yr==="pipeline_started"?yr=Al.pipeline_restarted:yr==="pipeline_started_with_error"&&(yr=Al.pipeline_restarted_with_error)),this.emit("pipelineInfo",yr)}),this.trackExpectedRate_!=-1&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then(()=>{jn()}).catch(yr=>{fr(yr)})})}setTransformers(jn){return this.report({variation:"Update",message:ct.updates.transformer_new}),this.transformers_=jn,this.readable_&&this.writable_?this.transformInternal():nt.resolve()}destroy(){return new nt(async jn=>{this.pipeline_&&this.pipeline_.destroy(),this.report({variation:"Delete"}),jn()})}report(jn){this.reporter_.send({version:Oo,action:"MediaProcessor",...jn})}}class Ml{constructor(){st(this,"processor_"),st(this,"generator_"),this.processor_=null,this.generator_=null}init(jn){return new nt((fr,Wr)=>{try{this.processor_=new MediaStreamTrackProcessor(jn)}catch(yr){console.log(`[InsertableStreamHelper] MediaStreamTrackProcessor failed: ${yr}`),Wr(yr)}try{jn.kind==="audio"?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):jn.kind==="video"?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):Wr("kind not supported")}catch(yr){console.log(`[InsertableStreamHelper] MediaStreamTrackGenerator failed: ${yr}`),Wr(yr)}fr()})}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class wu{constructor(jn){st(this,"insertableStreamHelper_"),st(this,"mediaProcessor_"),this.insertableStreamHelper_=new Ml,this.mediaProcessor_=jn}setTrack(jn){return new nt((fr,Wr)=>{this.insertableStreamHelper_.init(jn).then(()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then(()=>{fr(this.insertableStreamHelper_.getProccesorTrack())}).catch(yr=>{Wr(yr)})}).catch(yr=>{Wr(yr)})})}destroy(){return new nt((jn,fr)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then(()=>{jn()}).catch(Wr=>{fr(Wr)}):fr("no processor")})}}}).call(this,et(2),et(43))},function(_e,tt,et){const nt={backgroundBlur:et(728),backgroundReplacement:et(729)},rt=at=>!!nt[at],it=at=>rt(at)?nt[at]:null,st={isSupported:rt,getConfigurator:it,isValidConfig:at=>{const ct=at.type;return rt(ct)?it(ct).isValidConfig(at):!1}};_e.exports=st},function(_e,tt,et){const nt=et(321).BlurRadius,rt=et(322),it=nt.High,ot=dt=>Object.assign({},rt.getConfig(dt),{transformerType:"BackgroundBlur",radius:it}),st=dt=>dt==="low"||dt==="high",at=dt=>dt==="low"?nt.Low:nt.High,lt={isValidConfig:dt=>{if((dt==null?void 0:dt.type)!=="backgroundBlur")return!1;const ut=dt.blurStrength;return ut?st(ut):!0},getConfig:function(ut){ut===void 0&&(ut={});const ft=ot(ut),pt=ut,vt=pt.blurStrength;return st(vt)&&(ft.radius=at(vt)),ft}};_e.exports=lt},function(_e,tt,et){const nt=et(322),rt=at=>Object.assign({},nt.getConfig(at),{transformerType:"VirtualBackground"}),it=at=>/^data:image\/(?:png|jpeg|bmp|gif);base64/.test(at)||/\.(?:png|jpe?g|bmp|gif)$/i.test(at),st={isValidConfig:at=>{if((at==null?void 0:at.type)!=="backgroundReplacement")return!1;const ct=at.backgroundImgUrl;return it(ct)},getConfig:function(ct){ct===void 0&&(ct={});const lt=rt(ct),dt=ct,ut=dt.backgroundImgUrl;return it(ut)&&(lt.backgroundAssetUri=ut),lt}};_e.exports=st},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=et(0)("MediaProcessorConnector");let st=function(ct){var lt=this;this.setTrack=function(){var dt=(0,it.default)(rt.default.mark(function ut(ft){var pt;return rt.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return pt=null,Ct.prev=1,Ct.next=4,lt.connector.setTrack(ft);case 4:pt=Ct.sent,lt.originalTrack=ft,Ct.next=11;break;case 8:Ct.prev=8,Ct.t0=Ct.catch(1),ot.error(`Error setting track: ${Ct.t0}`);case 11:return Ct.abrupt("return",pt);case 12:case"end":return Ct.stop()}},ut,null,[[1,8]])}));return function(ut){return dt.apply(this,arguments)}}(),this.destroy=(0,it.default)(rt.default.mark(function dt(){return rt.default.wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ft.prev=0,ft.next=3,lt.connector.destroy();case 3:ft.next=8;break;case 5:ft.prev=5,ft.t0=ft.catch(0),ot.warn(`Error destroying connector: ${ft.t0}`);case 8:case"end":return ft.stop()}},dt,null,[[0,5]])})),this.stopOriginalTrack=()=>{this.originalTrack&&(this.originalTrack.stop(),this.originalTrack=null)},this.connector=ct};st.isValidConnector=at=>typeof(at==null?void 0:at.setTrack)=="function"&&typeof(at==null?void 0:at.destroy)=="function",_e.exports=st},function(_e,tt,et){_e.exports=nt=>nt?!!nt.apiKey:!1},function(_e,tt,et){const nt=rt=>rt===null||rt===!1;_e.exports=nt},function(_e,tt,et){_e.exports=nt=>{var rt;const it=!!(nt&&(rt=nt.videoSource)!=null&&rt.canvas),ot=!!(nt&&"videoContentHint"in nt);it&&!ot&&(nt.videoContentHint="detail")}},function(_e,tt,et){const nt=et(149),rt=it=>!!(it!=null&&it.scalableScreenshare);_e.exports=it=>{var ot;it||(it={});const st=!!nt((ot=it)==null?void 0:ot.videoSource);it.capableSimulcastScreenshare=st&&rt(it)}},function(_e,tt,et){var nt=et(736),rt=et(100),it=et(36);function ot(st,at){return nt(st,it(at,3),rt)}_e.exports=ot},function(_e,tt){function et(nt,rt,it){var ot;return it(nt,function(st,at,ct){if(rt(st,at,ct))return ot=at,!1}),ot}_e.exports=et},function(_e,tt,et){(function(nt){const rt=et(28),it=et(73);_e.exports=ot=>{let st=ot.RTCPeerConnection,at=ot.env,ct=ot.stream,lt=ot.codecFlags;if(at.isLegacyEdge)return!0;let dt,ut;const ft=()=>{try{dt.close()}catch{}try{ut.close()}catch{}dt=null,ut=null};try{const pt={iceServers:[]};it()&&(pt.sdpSemantics="plan-b"),dt=new st(pt),ut=new st(pt),ct.getTracks().forEach(vt=>dt.addTrack(vt,ct))}catch{return ft(),nt.resolve(!1)}return dt.createOffer().then(pt=>{const vt={type:pt.type,sdp:pt.sdp};return Object.keys(lt).forEach(Ct=>{lt[Ct]||(vt.sdp=rt.removeVideoCodec(vt.sdp,Ct))}),ut.setRemoteDescription(vt)}).then(()=>!0).catch(()=>!1).then(pt=>(ft(),pt))}}).call(this,et(2))},function(_e,tt,et){const nt=et(7),rt=nt.INVALID_PARAMETER;_e.exports=it=>{let ot=it.otError;return st=>{if(!st)return;const at=(ct,lt)=>{if(!ct)throw ot(rt,new Error(`iceConfig invalid: ${lt}`))};"includeServers"in st&&at(["all","custom"].indexOf(st.includeServers)!==-1,".includeServers must be all or custom"),"transportPolicy"in st&&at(["all","relay"].indexOf(st.transportPolicy)!==-1,".transportPolicy must be all or relay"),at(Array.isArray(st.customServers),".customServers must be an array"),st.customServers.forEach(ct=>{at(ct.urls||!("url"in ct),"ice servers need .urls, not .url"),at(typeof ct.urls=="string"||Array.isArray(ct.urls),"ice server .urls must be a string or an array"),at(!ct.username||typeof ct.username=="string","ice server .username must be a string if present"),at(!ct.credential||typeof ct.credential=="string","ice server .credential must be a string if present")})}}},function(_e,tt,et){var nt=et(1),rt=nt(et(740));_e.exports=(it,ot)=>{const st=it||{},at=st.p2pEnabled,ct=st.singlePeerConnection;if(at)return!1;let lt=!!ct;return typeof ot=="boolean"&&(lt=ot),lt&&(0,rt.default)()}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;const nt=et(3);var rt=()=>nt.isChromium||nt.isFirefox||nt.isSafari;tt.default=rt},function(_e,tt,et){const it=ot=>{if(typeof ot!="string")throw new Error("secret must be a string");if(ot.length<8)throw new Error("secret must have at least 8 characters");if(ot.length>256)throw new Error("secret must not exceed 256 characters")};_e.exports=it},function(_e,tt,et){const nt=et(10);_e.exports=function(it){switch(it){case nt.AUTHENTICATION_ERROR:case nt.INVALID_SESSION_ID:case nt.TERMS_OF_SERVICE_FAILURE:case nt.UNEXPECTED_SERVER_RESPONSE:return it;case nt.ANVIL_EMPTY_RESPONSE_BODY:case nt.ANVIL_CONNECT_FAILED:return nt.CONNECT_FAILED;case nt.ANVIL_BADLY_FORMED_RESPONSE:case nt.ANVIL_INVALID_HTTP_STATUS:case nt.ANVIL_XDOMAIN_OR_PARSING_ERROR:case nt.ANVIL_UNKNOWN_HTTP_ERROR:case nt.ANVIL_UNEXPECTED_ERROR_CODE:default:return nt.UNEXPECTED_SERVER_RESPONSE}}},function(_e,tt,et){const nt=et(10),rt=et(7);_e.exports={NOT_CONNECTED:{code:rt.NOT_CONNECTED,message:"Cannot use forceMute functionality. You are not connected to the session.",exceptionCode:nt.NOT_CONNECTED},PERMISSION_DENIED:{code:rt.PERMISSION_DENIED,message:"This token does not allow forceMute usage. The role must be at least `moderator` to enable this functionality",exceptionCode:nt.UNABLE_TO_FORCE_MUTE},INVALID_PARAMETER:{code:rt.INVALID_PARAMETER,message:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",exceptionCode:nt.INVALID_PARAMETER},NOT_FOUND:{code:rt.NOT_FOUND,message:"The stream does not exist."},UNEXPECTED_SERVER_RESPONSE:{code:rt.UNEXPECTED_SERVER_RESPONSE,message:"An unexpected error occurred.",exceptionCode:nt.UNEXPECTED_SERVER_RESPONSE}}},function(_e,tt,et){(function(nt){var rt=et(1);tt.__esModule=!0,tt.default=dt;var it=rt(et(17)),ot=rt(et(9)),st=rt(et(51)),at=rt(et(16)),ct=rt(et(327)),lt=rt(et(745));function dt(ut){ut===void 0&&(ut={});const ft=ut.convertRumorError||et(325),pt=ut.Dispatcher||et(330),vt=ut.ExceptionCodes||et(10),Ct=ut.hasIceRestartsCapability||et(326),ht=ut.hasRenegotiationCapability||et(761),mt=ut.hasE2eeCapability||et(110),yt=ut.logging||et(0)("RaptorSocket"),Et=ut.Message||et(331),Rt=ut.OTHelpers||et(8),Pt=ut.RumorSocket||(0,lt.default)(),Vt=ut.Signal||et(332),Nt=ut.SignalError||et(766),kt=function wt(Zt){var qt=this;let zt=Zt.connectionId,Bt=Zt.sessionId,sn=Zt.messagingSocketUrl,mn=Zt.symphonyUrl,En=Zt.dispatcher,cn=Zt.analytics,xn=Zt.requestedCapabilities,bn=xn===void 0?[]:xn,gn,vn,Wn,Un,Sn,On,Ln,Jn;const ur=["disconnected","connecting","connected","error","disconnecting"],sr=En||new pt,pr=Rt.statable(this,ur,"disconnected"),Ir=function(Qn){(!Qn.action||!Qn.variation)&&yt.debug("Expected action and variation"),cn.logEvent((0,ot.default)({sessionId:vn,partnerId:gn,p2p:On,messagingServer:Ln,connectionId:zt},Qn))},Er=function(){for(var Qn=arguments.length,cr=new Array(Qn),qr=0;qr<Qn;qr++)cr[qr]=arguments[qr];const To=cr[0];pr(To?"error":"connected"),Sn(...cr)},Kr=zn=>{let Qn="clientDisconnected";!this.is("disconnecting")&&Jn&&(Qn="networkDisconnected"),zn&&zn.code===4001&&(Qn="networkTimedout"),pr("disconnected"),sr.onClose(Qn)},Dr=zn=>{Jn=!0,yt.error(zn)},to=()=>{sr.onReconnecting()},po=()=>{Ir({action:"Reconnect",variation:"Success",retries:this._rumor.reconnectRetriesCount(),messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId}),sr.onReconnected()},Nr=()=>{Ir({action:"Reconnect",variation:"Attempt",retries:this._rumor.reconnectRetriesCount(),messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId})},br=zn=>{zn.message==="connectionLimitExceeded"&&(zn.code=vt.CONNECTION_LIMIT_EXCEEDED),zn.reason="ConnectToSession";const Qn=ft(zn);Ir({action:"Reconnect",variation:"Failure",failureReason:zn.reason,failureCode:Qn.code,failureMessage:Qn.message,messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId})};Object.defineProperty(this,"socketId",{get(){return this._rumor.socketID}}),this.connect=function(Qn,cr,qr,To){if(!this.is("disconnected","error")){yt.warn("Cannot connect the Raptor Socket as it is currently connected. You should disconnect first.");return}pr("connecting"),gn=cr.partnerId,vn=cr.sessionId,On=cr.p2pEnabled,Ln=cr.messagingServer,Wn=Qn,Sn=To,Un={apiKey:gn,sessionId:vn};const dr=`/v2/partner/${gn}/session/${vn}`;this._rumor=new wt.RumorSocket({messagingURL:sn,notifyDisconnectAddress:mn,connectionId:zt,sessionId:Bt,enableReconnection:cr.reconnection}),this._rumor.on("close",Kr),this._rumor.on("error",Dr),this._rumor.on("reconnecting",to),this._rumor.on("reconnectAttempt",Nr),this._rumor.on("reconnectFailure",br),this._rumor.on("reconnected",po),this._rumor.on("message",sr.dispatch.bind(sr));const Lr=Yr=>{Er({reason:"WebSocketConnection",code:Yr.code,message:Yr.message})};this._rumor.once("error",Lr),this._rumor.once("open",()=>{this._rumor.removeListener("error",Lr),yt.debug(`connected. Subscribing to ${dr} on ${sn}`),this._rumor.subscribe([dr]);const Yr=bn;(wt.hasIceRestartsCapability()||wt.hasRenegotiationCapability())&&cr.renegotiation&&Yr.push("renegotiation"),wt.hasE2eeCapability()&&cr.e2ee&&Yr.push("e2ee");const wo=Et.connections.create({apiKey:gn,sessionId:vn,connectionId:this._rumor.id,connectionEventsSuppressed:qr.connectionEventsSuppressed,capabilities:Yr}),mo=new nt(so=>{const Gr=wr=>{wr.id===this._rumor.id&&(so(wr),En.off("connection#created",Gr))};En.on("connection#created",Gr)});this.publish(wo,{"X-TB-TOKEN-AUTH":Wn},!0,(so,Gr)=>{if(so){so.message==="connectionLimitExceeded"&&(so.code=vt.CONNECTION_LIMIT_EXCEEDED),Er({reason:"ConnectToSession",code:so.code,message:so.message,socketId:this.socketId});return}const wr=Gr&&Gr.data?JSON.parse(Gr.data):null;wr&&(!wr.connection||wr.connection.length===0)&&(wr.connection=[],Array.isArray(wr.stream)&&wr.stream.forEach($r=>{let os=$r.connection;return wr.connection.push(os)}));const Oo=($r,os)=>{$r?Er({reason:"GetSessionState",code:$r.code,message:$r.message,socketId:this.socketId}):Er(void 0,os)};mo.then($r=>{wr.connection.some(rs=>rs.id===$r.id)||wr.connection.unshift($r);const os=(0,at.default)();sr.registerCallback(os,Oo),sr.emit("session#read",wr,os)})})})},this.disconnect=function(){this.is("disconnected")||(pr("disconnecting"),this._rumor.disconnect())},this.publish=function(zn,Qn,cr,qr){qr=qr||function(){};const To=(0,st.default)(qr),dr=(0,at.default)();if(yt.debug(`Publish (ID:${dr}) ${zn}`),this._rumor.readyState!==Pt.OPEN||this._rumor.reconnecting&&!cr){const Lr=new Error("Not connected.");Lr.code=500,To(Lr),yt.error("cannot publish until the socket is connected.");return}return sr.registerCallback(dr,To),this._rumor.publish([mn],zn,(0,ot.default)({},Qn,{"Content-Type":"application/x-raptor+v2","TRANSACTION-ID":dr,"X-TB-FROM-ADDRESS":this._rumor.id}),cr,function(Lr){Lr&&To(...arguments)}),dr},this.send=function(zn,Qn,cr,qr){cr===void 0&&(cr=!0),qr===void 0&&(qr=()=>{}),qt.publish((0,ct.default)(zn),Qn,cr,qr)},this.streamCreate=function(zn,Qn){zn===void 0&&(zn={}),Qn===void 0&&(Qn=()=>{});const cr=zn,qr=cr.name,To=cr.streamId,dr=cr.subscriberAudioFallbackEnabled,Lr=cr.channels,Yr=cr.minBitrate,yo=cr.maxBitrate,Mr=cr.sourceStreamId,wo=cr.e2ee,mo=cr.publisherAudioFallbackEnabled,so=cr.customProperties,Gr={apiKey:gn,sessionId:vn,streamId:To,name:qr,audioFallbackEnabled:dr,subscriberAudioFallbackEnabled:dr,channels:Lr,minBitrate:Yr,maxBitrate:yo,sourceStreamId:Mr,e2ee:wo,publisherAudioFallbackEnabled:mo,customProperties:so},wr=Et.streams.create(Gr);this.publish(wr,{},!0,(Oo,$r)=>{Qn(Oo,To,$r)})},this.streamDestroy=function(zn,Qn){this.publish(Et.streams.destroy(gn,vn,zn,Qn),{},!0)},this.streamChannelUpdate=function(zn,Qn,cr){this.publish(Et.streamChannels.update(gn,vn,zn,Qn,cr),{},!0)},this.subscriberCreate=function(zn,Qn,cr,qr,To,dr){const Lr={apiKey:gn,sessionId:vn,streamId:zn,subscriberId:Qn,connectionId:this._rumor.id,channelsToSubscribeTo:cr,sourceStreamId:qr,e2ee:To};this.publish(Et.subscribers.create(Lr),{},!0,dr)},this.subscriberDestroy=function(zn,Qn){this.publish(Et.subscribers.destroy(gn,vn,zn,Qn),{},!0)},this.subscriberUpdate=function(zn,Qn,cr){this.publish(Et.subscribers.update(gn,vn,zn,Qn,cr),{},!0)},this.subscriberChannelUpdate=function(zn,Qn,cr,qr){this.publish(Et.subscriberChannels.update(gn,vn,zn,Qn,cr,qr),{},!0)},this.forceDisconnect=function(zn,Qn){this.publish(Et.connections.destroy({apiKey:gn,sessionId:vn,connectionId:zn}),{},!0,Qn)},this.forceUnpublish=function(zn,Qn){this.publish(Et.streams.destroy(gn,vn,zn),{},!0,Qn)},this.forceMuteStream=function(zn,Qn){const cr={streamId:zn,active:!0};this.publish(Et.forceMute.update(Object.assign({},Un,cr)),{},!0,Qn)},this.forceMuteAll=function(zn,Qn,cr){const qr={excludedStreamIds:zn,active:Qn};this.publish(Et.forceMute.update(Object.assign({},Un,qr)),{},!0,cr)},this.signal=function(zn,Qn,cr){const qr=new Vt(vn,this._rumor.id,zn||{});if(!qr.valid){Qn&&(0,it.default)(Qn)&&Qn(new Nt(qr.error.code,qr.error.reason),qr.toHash());return}this.publish(qr.toRaptorMessage(),{},qr.retryAfterReconnect,To=>{let dr,Lr,Yr;const yo=[400,403,404,413,500];if(To){const Mr=parseInt(To.code,10);yo.includes(Mr)?(Lr=Mr,Yr=To.message):(Lr=vt.UNEXPECTED_SERVER_RESPONSE,Yr="Unexpected server response. Try this operation again later."),dr=new Nt(Lr,Yr)}else{const Mr=qr.data?typeof qr.data:null;cr("signal","send",{type:Mr})}Qn&&(0,it.default)(Qn)&&Qn(dr,qr.toHash())})},this.id=function(){return this._rumor&&this._rumor.id}};return kt.hasIceRestartsCapability=Ct,kt.hasRenegotiationCapability=ht,kt.hasE2eeCapability=mt,kt.RumorSocket=Pt,kt}}).call(this,et(2))},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=dt;var rt=nt(et(14)),it=nt(et(746)),ot=nt(et(0)),st=nt(et(747)),at=nt(et(752)),ct=nt(et(757)),lt=nt(et(21));function dt(ut){let ft=ut===void 0?{}:ut,pt=ft.WebSocket,vt=pt===void 0?ct.default:pt;const Ct=(0,it.default)(),ht=(0,st.default)({AnalyticsHelper:lt.default,EventEmitter:rt.default,WebSocket:vt,logging:ot.default,allocateId:Ct});return(0,at.default)({EventEmitter:rt.default,ReconnectableSocket:ht,logging:ot.default,allocateId:Ct})}},function(_e,tt,et){tt.__esModule=!0,tt.default=nt;function nt(){let rt=0;return()=>(rt+=1,rt)}},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(46)),st=nt(et(328)),at=nt(et(49)),ct=nt(et(329)),lt=et(77),dt=nt(et(748)),ut=nt(et(62)),ft=nt(et(749)),pt=nt(et(751));const vt=yt=>function(){yt(...arguments)},Ct=yt=>yt===1e3||yt>=3e3&&yt<=4999,ht=lt.codes.CLOSE_TIMEOUT;var mt=yt=>{var Et;let Rt=yt.AnalyticsHelper,Pt=yt.EventEmitter,Vt=yt.WebSocket,Nt=yt.logging,kt=yt.allocateId,wt=yt.BUFFER_DRAIN_INTERVAL,Zt=wt===void 0?100:wt,qt=yt.BUFFER_DRAIN_MAX_RETRIES,zt=qt===void 0?10:qt;return Et=function(Bt){(0,at.default)(sn,Bt);function sn(En){var cn;cn=Bt.call(this)||this,cn._url=void 0,cn._id=kt(),cn._logger=Nt(`ReconnectableSocket:${cn._id}`),cn._webSocket=void 0,cn._connectTimer=void 0,cn._pingTimer=void 0,cn._pingWarningTimer=void 0,cn._disconnectTimer=void 0,cn._queuedMessages=[],cn._draining=!1,cn._analytics=new Rt,cn._logAnalyticsEvent=Er=>{let Kr=Er.action,Dr=Er.variation,to=Er.payload;cn._analytics.logEvent({action:Kr,variation:Dr,payload:to,sessionId:cn.sessionId,connectionId:cn.connectionId})};const xn=En.url,bn=En.connectionId,gn=En.sessionId,vn=En.connectTimeout,Wn=vn===void 0?15e3:vn,Un=En.pingThreshold,Sn=Un===void 0?3e3:Un,On=En.pingWarningDelay,Ln=On===void 0?100:On,Jn=En.disconnectThreshold,ur=Jn===void 0?5900:Jn,sr=En.reconnectMaxDuration,pr=sr===void 0?6e4:sr;if(!xn)throw new Error("Must provide url");cn.connectionId=bn,cn.sessionId=gn,cn.readyStateMachine=(0,ft.default)({reconnectMaxDuration:pr,CLOSED:sn.CLOSED,CLOSING:sn.CLOSING}),cn._url=xn,(0,ct.default)({logger:cn._logger,obj:(0,st.default)(cn),eventNames:["error","open","message","needsPing","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),cn.readyStateMachine.observe("onEnterOpen",Er=>{let Kr=Er.from;cn._resetPingTimers(),cn._resetDisconnectTimer(),cn._connectTimer.clear(),Kr==="reconnecting"?(cn._queuedMessages.forEach(Dr=>cn.send(Dr,!0)),cn._queuedMessages=[],cn.emit("reconnected"),cn._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Success"})):(cn.emit("open"),cn._logAnalyticsEvent({action:"WebSocket:open"}))}),cn.readyStateMachine.observe("onEnterClosed",(Er,Kr)=>{let Dr=Er.from,to=Er.code,po=Er.reason;cn.emit("close",Kr),Dr==="reconnecting"&&cn._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure",payload:{code:to,reason:po}})}),cn.readyStateMachine.observe("onEnterClosing",vt(function(){var Er=(0,it.default)(rt.default.mark(function Kr(Dr,to){var po,Nr,br;return rt.default.wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:return po=Dr.from,Nr=to.code,br=to.reason,cn._clearTimers(),Qn.next=5,cn._clearSocket({drain:po==="open",code:Nr,reason:br});case 5:po==="reconnecting"&&(cn.emit("reconnectFailure",{code:Nr,reason:br}),cn._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure"})),setTimeout(()=>{cn.readyStateMachine.closed({code:Nr,reason:br})});case 7:case"end":return Qn.stop()}},Kr)}));return function(Kr,Dr){return Er.apply(this,arguments)}}())),cn.readyStateMachine.observe("onEnterReconnecting",()=>{cn.emit("reconnecting"),cn._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Attempt"})}),cn.readyStateMachine.observe("onDisconnect",vt(function(){var Er=(0,it.default)(rt.default.mark(function Kr(Dr,to){var po,Nr,br,zn;return rt.default.wrap(function(cr){for(;;)switch(cr.prev=cr.next){case 0:if(po=Dr.from,Nr=Dr.to,br=to.code,zn=to.reason,Nr!=="reconnecting"){cr.next=12;break}if(!cn._draining){cr.next=5;break}return cr.abrupt("return");case 5:return cn._clearTimers(),cn.emit("reconnectAttempt"),cr.next=9,cn._clearSocket({drain:po==="open",code:br,reason:zn});case 9:cn._createSocket(),cr.next=13;break;case 12:cn._logAnalyticsEvent({action:"WebSocket:disconnect",payload:{code:br,reason:zn}});case 13:case"end":return cr.stop()}},Kr)}));return function(Kr,Dr){return Er.apply(this,arguments)}}()));const Ir=(Er,Kr)=>new dt.default({name:Er,duration:Kr,logger:cn._logger});return cn._connectTimer=Ir("connect",Wn),cn._pingTimer=Ir("ping",Sn),cn._pingWarningTimer=Ir("pingWarning",Ln),cn._disconnectTimer=Ir("disconnect",ur),cn._createSocket(),cn}var mn=sn.prototype;return mn._createSocket=function(){const cn=new Vt(this.url);cn.binaryType="arraybuffer";const xn=(0,ut.default)(cn);xn.on("open",()=>{this.readyStateMachine.open()}),xn.on("close",bn=>{let gn=bn.code,vn=bn.reason;this.readyStateMachine.disconnect({code:gn,reason:vn})}),xn.on("error",bn=>{this.emit("error",bn)}),xn.on("message",bn=>{this.readyState!==sn.CLOSING&&this._resetDisconnectTimer(),this.emit("message",bn)}),this._webSocket=cn,this._webSocketEvents=xn,this._connectTimer.reset(()=>{const bn={code:ht,reason:"Timeout while opening connection"},gn=new Error(bn.reason);gn.code=ht,this.emit("error",gn),this.readyStateMachine.disconnect(bn)})},mn._clearSocket=function(){var En=(0,it.default)(rt.default.mark(function xn(bn){var gn,vn,Wn,Un,Sn;return rt.default.wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:if(gn=bn===void 0?{}:bn,vn=gn.drain,Wn=vn===void 0?!1:vn,Un=gn.code,Sn=gn.reason,this._draining=!0,this._webSocketEvents&&this._webSocketEvents.removeAll(),this._webSocket.readyState===sn.CLOSED){Ln.next=9;break}if(!Wn){Ln.next=7;break}return Ln.next=7,(0,pt.default)(this._webSocket,{BUFFER_DRAIN_INTERVAL:Zt,BUFFER_DRAIN_MAX_RETRIES:zt});case 7:this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:Un,reason:Sn},variation:"Attempt"});try{!Ct(Un)||Un===void 0&&Sn===void 0?this._webSocket.close():this._webSocket.close(Un,Sn),this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:Un,reason:Sn},variation:"Success"})}catch(Jn){Nt.error("Could not close websocket",Jn),this._logAnalyticsEvent({action:"WebSocket:close",payload:{err:Jn},variation:"Failure"})}case 9:this._draining=!1;case 10:case"end":return Ln.stop()}},xn,this)}));function cn(xn){return En.apply(this,arguments)}return cn}(),mn.send=function(cn,xn){xn===void 0&&(xn=!0),this.readyState===sn.OPEN&&this._resetPingTimers();const bn=()=>{try{return this._webSocket.send(cn),"sent"}catch(gn){if(this._webSocket.readyState===Vt.OPEN)return this._logger.debug("webSocket.send threw exception even though it was open:",gn),"dropped";throw gn}};if(this.readyStateMachine.state==="reconnecting"){if(this._webSocket.readyState===Vt.OPEN)try{bn()}catch{}return xn?(this._queuedMessages.push(cn),"queued"):(this._logger.debug("Dropping message during reconnection since retryAfterReconnect is false:",cn),"dropped")}return bn()},mn.close=function(cn,xn){if(this.readyState===sn.CLOSING)throw new Error("Can not call close on a closing ReconnectableSocket");if(this.readyState===sn.CLOSED)throw new Error("Can not call close on an already closed ReconnectableSocket");this.readyStateMachine.close({code:cn,reason:xn})},mn._resetPingTimers=function(){this._pingWarningTimer.clear(),this._pingTimer.reset(()=>{this._pingWarningTimer.reset(()=>{this._logger.warn("Did not send message after needsPing event. Other side may disconnect.")}),this.emit("needsPing")})},mn._resetDisconnectTimer=function(){this._disconnectTimer.reset(()=>this.readyStateMachine.disconnect({code:ht,reason:"No activity"}))},mn._clearTimers=function(){[this._disconnectTimer,this._connectTimer,this._pingTimer,this._pingWarningTimer].forEach(cn=>cn.clear())},(0,ot.default)(sn,[{key:"url",get:function(){return typeof this._url=="function"?this._url():this._url}},{key:"reconnecting",get:function(){return this.readyStateMachine.state==="reconnecting"}},{key:"binaryType",get:function(){return this._webSocket.binaryType}},{key:"bufferedAmount",get:function(){return this._webSocket.bufferedAmount}},{key:"protocol",get:function(){return this._webSocket.protocol}},{key:"extensions",get:function(){return this._webSocket.extensions}},{key:"readyState",get:function(){return{reconnecting:sn.OPEN,open:sn.OPEN,closing:sn.CLOSING,closed:sn.CLOSED,connecting:sn.CONNECTING}[this.readyStateMachine.state]}}]),sn}(Pt),Et.CONNECTING=Vt.CONNECTING,Et.OPEN=Vt.OPEN,Et.CLOSING=Vt.CLOSING,Et.CLOSED=Vt.CLOSED,Et};tt.default=mt},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;let nt=function(){function rt(ot){let st=ot.name,at=ot.logger,ct=ot.duration;this.name=void 0,this.logger=void 0,this.duration=void 0,this.currId=void 0,this.name=st,this.logger=at,this.duration=ct}var it=rt.prototype;return it.reset=function(st){this.clear();const at=setTimeout(()=>{this.currId!==void 0&&(this.logger.spam(`${this.name} timer with id ${this.currId} expired, entering callback`),this.currId=void 0,st())},this.duration);this.currId=at,this.logger.spam(`Started ${this.name} timer with id ${this.currId}, expires in ${this.duration}ms`)},it.clear=function(){this.currId!==void 0&&(clearTimeout(this.currId),this.logger.spam(`Cleared ${this.name} timer with id ${this.currId}`),this.currId=void 0)},it.isRunning=function(){return this.currId!==void 0},rt}();tt.default=nt},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(315)),it=nt(et(750)),ot=et(77),st=nt(et(0));const at=(0,st.default)("ReconnectableSocketStateMachine"),ct=ot.codes.CLOSE_UNSUPPORTED,lt=ot.codes.CLOSE_UNEXPECTED_CONDITION;var dt=ut=>{let ft=ut.reconnectMaxDuration,pt=ut.CLOSED,vt=ut.CLOSING,Ct;function ht(mt){let yt=mt.code;return(this.state==="open"||!Ct)&&(Ct=(0,it.default)(ft)),ft>0&&!Ct()&&[ct,lt].indexOf(yt)===-1&&[pt,vt].indexOf(this.readyState)===-1?"reconnecting":"closing"}return new rt.default({init:"connecting",methods:{onInvalidTransition(mt,yt,Et){at.error("Invalid state transition",{transition:mt,from:yt,to:Et})}},transitions:[{name:"open",from:["connecting","reconnecting"],to:"open"},{name:"close",from:["connecting","reconnecting","open"],to:"closing"},{name:"closed",from:"closing",to:"closed"},{name:"disconnect",from:["reconnecting","open","connecting"],to:ht}]})};tt.default=dt},function(_e,tt,et){_e.exports=nt=>{let rt=!1;return setTimeout(()=>{rt=!0},nt),()=>rt}},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(4)),it=nt(et(5)),ot=nt(et(108)),st=function(){var at=(0,it.default)(rt.default.mark(function ct(lt,dt){var ut,ft,pt,vt,Ct,ht;return rt.default.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:ut=dt===void 0?{}:dt,ft=ut.BUFFER_DRAIN_INTERVAL,pt=ft===void 0?100:ft,vt=ut.BUFFER_DRAIN_MAX_RETRIES,Ct=vt===void 0?10:vt,ht=0;case 2:if(!(ht<Ct)){yt.next=10;break}if(lt.bufferedAmount!==0){yt.next=5;break}return yt.abrupt("break",10);case 5:return yt.next=7,(0,ot.default)(pt);case 7:ht+=1,yt.next=2;break;case 10:case"end":return yt.stop()}},ct)}));return function(ct,lt){return at.apply(this,arguments)}}();tt.default=st},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(46)),it=nt(et(328)),ot=nt(et(49)),st=nt(et(16)),at=nt(et(329)),ct=nt(et(753)),lt=pt(et(172)),dt=nt(et(756)),ut=et(77);function ft(Ct){if(typeof WeakMap!="function")return null;var ht=new WeakMap,mt=new WeakMap;return(ft=function(Et){return Et?mt:ht})(Ct)}function pt(Ct,ht){if(!ht&&Ct&&Ct.__esModule)return Ct;if(Ct===null||typeof Ct!="object"&&typeof Ct!="function")return{default:Ct};var mt=ft(ht);if(mt&&mt.has(Ct))return mt.get(Ct);var yt={},Et=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Rt in Ct)if(Rt!=="default"&&Object.prototype.hasOwnProperty.call(Ct,Rt)){var Pt=Et?Object.getOwnPropertyDescriptor(Ct,Rt):null;Pt&&(Pt.get||Pt.set)?Object.defineProperty(yt,Rt,Pt):yt[Rt]=Ct[Rt]}return yt.default=Ct,mt&&mt.set(Ct,yt),yt}var vt=Ct=>{var ht;let mt=Ct.EventEmitter,yt=Ct.ReconnectableSocket,Et=Ct.logging,Rt=Ct.allocateId;return ht=function(Pt){(0,ot.default)(Vt,Pt);function Vt(kt){var wt;let Zt=kt.messagingURL,qt=kt.notifyDisconnectAddress,zt=kt.connectionId,Bt=kt.sessionId,sn=kt.enableReconnection,mn=kt.pingThreshold,En=mn===void 0?2e3:mn,cn=kt.disconnectThreshold,xn=cn===void 0?(sn?3:25)*En-100:cn,bn=kt.reconnectMaxDuration,gn=bn===void 0?sn?6e4:0:bn;wt=Pt.call(this)||this,wt.url=void 0,wt.id=void 0,wt._opened=!1,wt._socket=void 0,wt._reconnectAttempts=0,wt._socketID=(0,st.default)(),wt._receivedTransactionIDs=[],wt._notifyDisconnectAddress=void 0,wt._enableReconnection=void 0,wt._pendingMessages=[],wt._logger=Et(`RumorSocket:${Rt()}`),(0,at.default)({logger:wt._logger,obj:(0,it.default)(wt),eventNames:["open","message","error","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),wt.url=Zt,wt.id=zt,wt._notifyDisconnectAddress=qt,wt._enableReconnection=sn,wt.on("error",Wn=>{wt._logger.error(Wn.message)});try{wt._socket=new yt({url:()=>wt._enableReconnection?[wt.url,wt.url.indexOf("?")>=0?"&":"?",`socketId=${wt._socketID}`,wt._socket&&wt._socket.reconnecting?"&reconnect=true":"",`&attempt=${(0,st.default)()}`].join(""):wt.url,pingThreshold:En,disconnectThreshold:xn,reconnectMaxDuration:gn,connectionId:zt,sessionId:Bt})}catch(Wn){wt._logger.error(Wn),wt.emit("error",new dt.default(ut.codes.CLOSE_CONNECT_EXCEPTION))}const vn=()=>{wt._opened=!0,wt._socket.send(ct.default.Connect(wt.id,qt).serialize()),wt.emit("open",wt.id)};return wt._socket.once("open",vn),wt._socket.on("message",Wn=>wt._receiveMessage(Wn)),wt._socket.once("close",Wn=>{wt._logger.debug(`ReconnectableSocket closed (code: ${Wn.code})`),wt._clearPendingMessages();const Un=ut.codes.CLOSE_NORMAL,Sn=ut.codes.CLOSE_GOING_AWAY,On=ut.codes.CLOSE_TIMEOUT;[Un,Sn,On].indexOf(Wn.code)===-1&&wt.emit("error",new dt.default(Wn.code)),wt.emit("close",Wn)}),wt._socket.on("error",Wn=>{let Un=Wn.code;return wt.emit("error",new dt.default(Un))}),wt._socket.on("needsPing",()=>{wt._socket.send(ct.default.Ping().serialize())}),wt._socket.on("reconnecting",()=>{wt._opened&&(wt._clearPendingMessagesWhichShouldntRetry(),wt.emit("reconnecting"),wt._reconnectAttempts=0)}),wt._socket.on("reconnectAttempt",()=>{wt._opened&&(wt._reconnectAttempts+=1,wt._socket.send(ct.default.Disconnect("1").serialize(),!1),wt.emit("reconnectAttempt"))}),wt._socket.on("reconnected",()=>{if(!wt._opened){vn();return}wt._pendingMessages.forEach(Wn=>{wt._socket.send(Wn.rumorMessage.serialize())}),wt.emit("reconnected")}),wt._socket.on("reconnectFailure",()=>{wt._opened&&(wt._logger.debug(`Reconnecting failed as connectivity was not restored within ${gn}ms`),wt.emit("reconnectFailure",new dt.default))}),wt}var Nt=Vt.prototype;return Nt._clearPendingMessagesWhichShouldntRetry=function(){const wt=this._pendingMessages.filter(Zt=>!Zt.retryAfterReconnect);this._pendingMessages=this._pendingMessages.filter(Zt=>Zt.retryAfterReconnect),wt.forEach(Zt=>{const qt=new Error("Not connected.");qt.code=500,Zt.completion(qt)})},Nt._clearPendingMessages=function(){this._pendingMessages.forEach(wt=>{const Zt=new Error("Not connected.");Zt.code=500,wt.completion(Zt)}),this._pendingMessages=[]},Nt._sendAck=function(wt){this._socket.send(ct.default.Status([wt.fromAddress],{"TRANSACTION-ID":wt.headers["TRANSACTION-ID"],"X-TB-FROM-ADDRESS":this.id}).serialize())},Nt._receiveMessage=function(wt){const Zt=ct.default.deserialize(wt.data);if(Zt.type!==lt.PONG){if(this._logger.debug("Received:",Zt),Zt.transactionId&&(this._pendingMessages=this._pendingMessages.filter(qt=>(qt.rumorMessage.transactionId===Zt.transactionId&&(this._logger.debug("Marking",Zt.transactionId," as received"),qt.completion(void 0,Zt)),qt.rumorMessage.transactionId!==Zt.transactionId))),Zt.transactionId&&Zt.type!==lt.STATUS){if(this._sendAck(Zt),this._receivedTransactionIDs.indexOf(Zt.transactionId)>=0)return;this._receivedTransactionIDs.push(Zt.transactionId)}this.emit("message",Zt)}},Nt.publish=function(wt,Zt,qt,zt,Bt){Bt===void 0&&(Bt=()=>{});const sn=ct.default.Publish(wt,Zt,qt);if(this._socket.send(sn.serialize(),!1)==="dropped"&&!zt){const En=new Error("Not connected.");En.code=500,Bt(En);return}this._pendingMessages.push({rumorMessage:sn,retryAfterReconnect:zt,completion:Bt})},Nt.subscribe=function(wt){this._socket.send(ct.default.Subscribe(wt).serialize())},Nt.unsubscribe=function(wt){this._socket.send(ct.default.Unsubscribe(wt).serialize())},Nt.disconnect=function(){if(this.readyState===Vt.OPEN&&this._socket.send(ct.default.Disconnect().serialize()),this._socket.readyState!==yt.CLOSED&&this._socket.readyState!==yt.CLOSING){const wt=ut.codes.CLOSE_NORMAL;this._socket.close(wt,ut.messages[wt])}},Nt.status=function(wt,Zt){this._socket.send(ct.default.Status(wt,{"TRANSACTION-ID":Zt,"X-TB-FROM-ADDRESS":this.id}).serialize())},Nt.reconnectRetriesCount=function(){return this._reconnectAttempts},Nt.messageQueueSize=function(){return this._pendingMessages.length},(0,rt.default)(Vt,[{key:"readyState",get:function(){return this._socket?this._socket.readyState:yt.CONNECTING}},{key:"reconnecting",get:function(){return this._opened&&this._socket&&this._socket.reconnecting}},{key:"socketID",get:function(){return this._socketID}}]),Vt}(mt),ht.CONNECTING=yt.CONNECTING,ht.OPEN=yt.OPEN,ht.CLOSING=yt.CLOSING,ht.CLOSED=yt.CLOSED,ht};tt.default=vt},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(16)),it=et(754),ot=at(et(172));function st(dt){if(typeof WeakMap!="function")return null;var ut=new WeakMap,ft=new WeakMap;return(st=function(vt){return vt?ft:ut})(dt)}function at(dt,ut){if(!ut&&dt&&dt.__esModule)return dt;if(dt===null||typeof dt!="object"&&typeof dt!="function")return{default:dt};var ft=st(ut);if(ft&&ft.has(dt))return ft.get(dt);var pt={},vt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ct in dt)if(Ct!=="default"&&Object.prototype.hasOwnProperty.call(dt,Ct)){var ht=vt?Object.getOwnPropertyDescriptor(dt,Ct):null;ht&&(ht.get||ht.set)?Object.defineProperty(pt,Ct,ht):pt[Ct]=dt[Ct]}return pt.default=dt,ft&&ft.set(dt,pt),pt}const ct=dt=>{const ut=new ArrayBuffer(dt.length),ft=new Uint8Array(ut);for(let pt=0;pt<dt.length;++pt)ft[pt]=dt[pt];return ut};let lt=function(){function dt(ft,pt,vt,Ct){this.type=void 0,this.toAddress=void 0,this.headers=void 0,this.data=void 0,this.type=ft,this.toAddress=pt,this.headers=vt,this.data=Ct,this.fromAddress=this.headers["X-TB-FROM-ADDRESS"],this.transactionId=this.headers["TRANSACTION-ID"],this.status=this.headers.STATUS,this.isError=this.status&&this.status[0]!=="2"}var ut=dt.prototype;return ut.serialize=function(){let pt,vt,Ct,ht,mt=8,yt=7;const Et=[],Rt=[],Pt=[];for(yt++,Ct=0;Ct<this.toAddress.length;Ct++)Et.push(new it.TextEncoder("utf-8").encode(this.toAddress[Ct])),yt+=2,yt+=Et[Ct].length;yt++,Ct=0;for(const kt in this.headers)this.headers.hasOwnProperty(kt)&&(Rt.push(new it.TextEncoder("utf-8").encode(kt)),Pt.push(new it.TextEncoder("utf-8").encode(this.headers[kt])),yt+=4,yt+=Rt[Ct].length,yt+=Pt[Ct].length,Ct++);vt=new it.TextEncoder("utf-8").encode(this.data),yt+=vt.length;const Vt=new ArrayBuffer(yt),Nt=new Uint8Array(Vt,0,yt);for(yt-=4,Nt[0]=(yt&4278190080)>>>24,Nt[1]=(yt&16711680)>>>16,Nt[2]=(yt&65280)>>>8,Nt[3]=(yt&255)>>>0,Nt[4]=0,Nt[5]=0,Nt[6]=this.type,Nt[7]=this.toAddress.length,Ct=0;Ct<Et.length;Ct++)for(pt=Et[Ct],Nt[mt++]=pt.length>>8&255,Nt[mt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)Nt[mt++]=pt[ht];for(Nt[mt++]=Rt.length,Ct=0;Ct<Rt.length;Ct++){for(pt=Rt[Ct],Nt[mt++]=pt.length>>8&255,Nt[mt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)Nt[mt++]=pt[ht];for(pt=Pt[Ct],Nt[mt++]=pt.length>>8&255,Nt[mt++]=pt.length>>0&255,ht=0;ht<pt.length;ht++)Nt[mt++]=pt[ht]}for(Ct=0;Ct<vt.length;Ct++)Nt[mt++]=vt[Ct];return Vt},dt.deserialize=function(pt){(typeof window!==void 0?window:commonjsGlobal).Buffer&&(typeof window!==void 0?window:commonjsGlobal).Buffer.isBuffer(pt)&&(pt=ct(pt));let vt,Ct,ht,mt,yt,Et,Rt,Pt,Vt=8;const Nt=new Uint8Array(pt);vt=Nt[6];const kt=[];for(Pt=0;Pt<Nt[7];Pt++)Rt=Nt[Vt++]<<8,Rt+=Nt[Vt++],Ct=new Uint8Array(pt,Vt,Rt),kt[Pt]=new it.TextDecoder("utf-8").decode(Ct),Vt+=Rt;for(ht=Nt[Vt++],mt={},Pt=0;Pt<ht;Pt++)Rt=Nt[Vt++]<<8,Rt+=Nt[Vt++],Ct=new Uint8Array(pt,Vt,Rt),yt=new it.TextDecoder("utf-8").decode(Ct),Vt+=Rt,Rt=Nt[Vt++]<<8,Rt+=Nt[Vt++],Ct=new Uint8Array(pt,Vt,Rt),Et=new it.TextDecoder("utf-8").decode(Ct),mt[yt]=Et,Vt+=Rt;const wt=new Uint8Array(pt,Vt),Zt=new it.TextDecoder("utf-8").decode(wt);return new dt(vt,kt,mt,Zt)},dt.Connect=function(pt,vt){const Ct={uniqueId:pt,"TRANSACTION-ID":(0,rt.default)(),notifyDisconnectAddress:vt};return new dt(ot.CONNECT,[],Ct,"")},dt.Disconnect=function(pt){return new dt(ot.DISCONNECT,[],{reconnect:pt},"")},dt.Subscribe=function(pt){return new dt(ot.SUBSCRIBE,pt,{},"")},dt.Unsubscribe=function(pt){return new dt(ot.UNSUBSCRIBE,pt,{},"")},dt.Publish=function(pt,vt,Ct){return new dt(ot.MESSAGE,pt,Ct||{},vt||"")},dt.Status=function(pt,vt){return new dt(ot.STATUS,pt,vt||{},"")},dt.Ping=function(){return new dt(ot.PING,[],{},"")},dt}();tt.default=lt},function(_e,tt,et){tt.__esModule=!0,tt.TextEncoder=tt.TextDecoder=void 0;var nt=it(et(755));function rt(at){if(typeof WeakMap!="function")return null;var ct=new WeakMap,lt=new WeakMap;return(rt=function(ut){return ut?lt:ct})(at)}function it(at,ct){if(!ct&&at&&at.__esModule)return at;if(at===null||typeof at!="object"&&typeof at!="function")return{default:at};var lt=rt(ct);if(lt&&lt.has(at))return lt.get(at);var dt={},ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ft in at)if(ft!=="default"&&Object.prototype.hasOwnProperty.call(at,ft)){var pt=ut?Object.getOwnPropertyDescriptor(at,ft):null;pt&&(pt.get||pt.set)?Object.defineProperty(dt,ft,pt):dt[ft]=at[ft]}return dt.default=at,lt&&lt.set(at,dt),dt}const ot=(typeof window!==void 0?window:commonjsGlobal).TextEncoder||nt.TextEncoder;tt.TextEncoder=ot;const st=(typeof window!==void 0?window:commonjsGlobal).TextDecoder||nt.TextDecoder;tt.TextDecoder=st},function(_e,tt,et){et.r(tt),et.d(tt,"TextEncoder",function(){return ft}),et.d(tt,"TextDecoder",function(){return ut});function nt(Ct,ht,mt){return ht<=Ct&&Ct<=mt}function rt(Ct){if(Ct===void 0)return{};if(Ct===Object(Ct))return Ct;throw TypeError("Could not convert argument to dictionary")}function it(Ct){for(var ht=String(Ct),mt=ht.length,yt=0,Et=[];yt<mt;){var Rt=ht.charCodeAt(yt);if(Rt<55296||Rt>57343)Et.push(Rt);else if(56320<=Rt&&Rt<=57343)Et.push(65533);else if(55296<=Rt&&Rt<=56319)if(yt===mt-1)Et.push(65533);else{var Pt=Ct.charCodeAt(yt+1);if(56320<=Pt&&Pt<=57343){var Vt=Rt&1023,Nt=Pt&1023;Et.push(65536+(Vt<<10)+Nt),yt+=1}else Et.push(65533)}yt+=1}return Et}function ot(Ct){for(var ht="",mt=0;mt<Ct.length;++mt){var yt=Ct[mt];yt<=65535?ht+=String.fromCharCode(yt):(yt-=65536,ht+=String.fromCharCode((yt>>10)+55296,(yt&1023)+56320))}return ht}var st=-1;function at(Ct){this.tokens=[].slice.call(Ct)}at.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():st},prepend:function(Ct){if(Array.isArray(Ct))for(var ht=Ct;ht.length;)this.tokens.unshift(ht.pop());else this.tokens.unshift(Ct)},push:function(Ct){if(Array.isArray(Ct))for(var ht=Ct;ht.length;)this.tokens.push(ht.shift());else this.tokens.push(Ct)}};var ct=-1;function lt(Ct,ht){if(Ct)throw TypeError("Decoder error");return ht||65533}var dt="utf-8";function ut(Ct,ht){if(!(this instanceof ut))return new ut(Ct,ht);if(Ct=Ct!==void 0?String(Ct).toLowerCase():dt,Ct!==dt)throw new Error("Encoding not supported. Only utf-8 is supported");ht=rt(ht),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!ht.fatal,this._ignoreBOM=!!ht.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ut.prototype={decode:function(ht,mt){var yt;typeof ht=="object"&&ht instanceof ArrayBuffer?yt=new Uint8Array(ht):typeof ht=="object"&&"buffer"in ht&&ht.buffer instanceof ArrayBuffer?yt=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):yt=new Uint8Array(0),mt=rt(mt),this._streaming||(this._decoder=new pt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!mt.stream;for(var Et=new at(yt),Rt=[],Pt;!Et.endOfStream()&&(Pt=this._decoder.handler(Et,Et.read()),Pt!==ct);)Pt!==null&&(Array.isArray(Pt)?Rt.push.apply(Rt,Pt):Rt.push(Pt));if(!this._streaming){do{if(Pt=this._decoder.handler(Et,Et.read()),Pt===ct)break;Pt!==null&&(Array.isArray(Pt)?Rt.push.apply(Rt,Pt):Rt.push(Pt))}while(!Et.endOfStream());this._decoder=null}return Rt.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(Rt[0]===65279?(this._BOMseen=!0,Rt.shift()):this._BOMseen=!0),ot(Rt)}};function ft(Ct,ht){if(!(this instanceof ft))return new ft(Ct,ht);if(Ct=Ct!==void 0?String(Ct).toLowerCase():dt,Ct!==dt)throw new Error("Encoding not supported. Only utf-8 is supported");ht=rt(ht),this._streaming=!1,this._encoder=null,this._options={fatal:!!ht.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ft.prototype={encode:function(ht,mt){ht=ht?String(ht):"",mt=rt(mt),this._streaming||(this._encoder=new vt(this._options)),this._streaming=!!mt.stream;for(var yt=[],Et=new at(it(ht)),Rt;!Et.endOfStream()&&(Rt=this._encoder.handler(Et,Et.read()),Rt!==ct);)Array.isArray(Rt)?yt.push.apply(yt,Rt):yt.push(Rt);if(!this._streaming){for(;Rt=this._encoder.handler(Et,Et.read()),Rt!==ct;)Array.isArray(Rt)?yt.push.apply(yt,Rt):yt.push(Rt);this._encoder=null}return new Uint8Array(yt)}};function pt(Ct){var ht=Ct.fatal,mt=0,yt=0,Et=0,Rt=128,Pt=191;this.handler=function(Vt,Nt){if(Nt===st&&Et!==0)return Et=0,lt(ht);if(Nt===st)return ct;if(Et===0){if(nt(Nt,0,127))return Nt;if(nt(Nt,194,223))Et=1,mt=Nt-192;else if(nt(Nt,224,239))Nt===224&&(Rt=160),Nt===237&&(Pt=159),Et=2,mt=Nt-224;else if(nt(Nt,240,244))Nt===240&&(Rt=144),Nt===244&&(Pt=143),Et=3,mt=Nt-240;else return lt(ht);return mt=mt<<6*Et,null}if(!nt(Nt,Rt,Pt))return mt=Et=yt=0,Rt=128,Pt=191,Vt.prepend(Nt),lt(ht);if(Rt=128,Pt=191,yt+=1,mt+=Nt-128<<6*(Et-yt),yt!==Et)return null;var kt=mt;return mt=Et=yt=0,kt}}function vt(Ct){Ct.fatal,this.handler=function(ht,mt){if(mt===st)return ct;if(nt(mt,0,127))return mt;var yt,Et;nt(mt,128,2047)?(yt=1,Et=192):nt(mt,2048,65535)?(yt=2,Et=224):nt(mt,65536,1114111)&&(yt=3,Et=240);for(var Rt=[(mt>>6*yt)+Et];yt>0;){var Pt=mt>>6*(yt-1);Rt.push(128|Pt&63),yt-=1}return Rt}}},function(_e,tt,et){tt.__esModule=!0,tt.default=void 0;var nt=it(et(77));function rt(at){if(typeof WeakMap!="function")return null;var ct=new WeakMap,lt=new WeakMap;return(rt=function(ut){return ut?lt:ct})(at)}function it(at,ct){if(!ct&&at&&at.__esModule)return at;if(at===null||typeof at!="object"&&typeof at!="function")return{default:at};var lt=rt(ct);if(lt&&lt.has(at))return lt.get(at);var dt={},ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ft in at)if(ft!=="default"&&Object.prototype.hasOwnProperty.call(at,ft)){var pt=ut?Object.getOwnPropertyDescriptor(at,ft):null;pt&&(pt.get||pt.set)?Object.defineProperty(dt,ft,pt):dt[ft]=at[ft]}return dt.default=at,lt&&lt.set(at,dt),dt}const ot=et(7);let st=function(ct){if(this.code=void 0,this.message=void 0,this.name=void 0,this.code=nt.codes.CLOSE_FALLBACK_CODE,Object.values(nt.codes).includes(ct))switch(this.code=ct,this.code){case nt.codes.CLOSE_GOING_AWAY:case nt.codes.CLOSE_PROTOCOL_ERROR:case nt.codes.CLOSE_UNSUPPORTED:case nt.codes.CLOSE_NO_STATUS:case nt.codes.CLOSE_ABNORMAL:case nt.codes.CLOSE_INCONSISTENT_DATA:case nt.codes.CLOSE_POLICY_VIOLATION:case nt.codes.CLOSE_TOO_LARGE:case nt.codes.CLOSE_UNEXPECTED_CONDITION:case nt.codes.CLOSE_CONNECTIVITY_LOSS:case nt.codes.CLOSE_CONNECT_EXCEPTION:case nt.codes.CLOSE_TIMEOUT:this.name=ot.DISCONNECTED,this.message="Action failed due to session disconnection.";return}this.message=nt.messages[this.code]||"No message available from code."};tt.default=st},function(_e,tt,et){var nt=et(1);tt.__esModule=!0,tt.default=void 0;var rt=nt(et(758)),it=(()=>(typeof window!==void 0?window:commonjsGlobal).WebSocket?(typeof window!==void 0?window:commonjsGlobal).WebSocket:rt.default)();tt.default=it},function(_e,tt,et){_e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(_e,tt,et){const nt=et(760);_e.exports=function(it){const ot=nt(it.data);return ot.transactionId=it.transactionId,ot.fromAddress=it.headers["X-TB-FROM-ADDRESS"],ot}},function(_e,tt,et){_e.exports=function(rt){if(rt.length===0)return{};const it=JSON.parse(rt),ot=it.uri.substr(1).split("/");ot.shift(),ot[ot.length-1]===""&&ot.pop(),it.params={};for(let st=0,at=ot.length;st<at-1;st+=2)it.params[ot[st]]=ot[st+1];return ot.length%2===0?ot[ot.length-2]==="channel"&&ot.length>6?it.resource=`${ot[ot.length-4]}_${ot[ot.length-2]}`:it.resource=ot[ot.length-2]:ot[ot.length-1]==="channel"&&ot.length>5?it.resource=`${ot[ot.length-3]}_${ot[ot.length-1]}`:it.resource=ot[ot.length-1],it.signature=`${it.resource}#${it.method}`,it}},function(_e,tt,et){const nt=et(3),rt=nt.name,it=et(52).once;_e.exports=()=>it()&&["Chrome","Firefox","Safari"].indexOf(rt)>-1},function(_e,tt,et){const nt=et(3),rt=et(52).once;_e.exports=()=>rt()&&(nt.name==="Chrome"||nt.name==="Firefox"||nt.name==="Node"||nt.name==="Safari"||nt.name==="Edge")},function(_e,tt,et){const nt=et(52).once;_e.exports=()=>nt()},function(_e,tt,et){_e.exports="DTLS_SRTP"},function(_e,tt,et){_e.exports=function(rt){let it=rt.supportsWebRTC;return{supportsWebRTC:it==="true"||it===!0}}},function(_e,tt,et){_e.exports=function(rt,it){this.code=rt,this.message=it,this.reason=it}},function(_e,tt,et){const nt=function(it){const ot=[];this.enqueue=function(){ot.push(Array.prototype.slice.call(arguments))},this.triggerAll=function(){let at;for(;at=ot.shift();)it.trigger(...at)}};_e.exports=nt},function(_e,tt,et){const nt=et(207),rt=et(240),it=et(58),ot=et(9),st=et(142),at=et(10),ct=et(769),lt=et(770),dt=et(292).default,ut={EMPTY_RESPONSE:"Response body was empty, probably due to connectivity loss",BADLY_FORMED:"Unknown error: JSON response was badly formed",NO_ERROR:"No error message",UNEXPECTED_SERVER_RESPONSE:vt=>`Unexpected server response (${vt}). Try this operation again later.`},ft=[0,600,1200];function pt(vt){let Ct=vt===void 0?{}:vt,ht=Ct.axios,mt=ht===void 0?nt:ht,yt=Ct.retryDelays,Et=yt===void 0?ft:yt;function Rt(Vt){let Nt=Vt.anvilUrl,kt=Vt.sessionId,wt=Vt.token,Zt=Vt.clientVersion,qt=Vt.connectionId;const zt=rt.parse(Nt,!0),Bt=rt.format({protocol:zt.protocol,auth:zt.auth,host:zt.host,pathname:rt.resolve((zt.pathname||"").replace(/\/?$/,"/"),`session/${kt}`),query:Object.assign({},zt.query,{extended:!0})});return mt.get(Bt,{validateStatus:sn=>sn>=200&&sn<300,headers:{"X-OPENTOK-AUTH":wt,"X-TB-VERSION":1,"X-TB-CLIENT-VERSION":Zt,"X-TB-CONNECTIONID":qt,Accept:"application/json"}}).catch(sn=>{if(sn.response){const mn=new Error(ut.UNEXPECTED_SERVER_RESPONSE(`${sn.response.statusCode}${sn.response.status?` ${sn.response.status}`:""}`));throw mn.code=at.ANVIL_INVALID_HTTP_STATUS,mn.name=ct(mn.code),mn}else if(sn.request){const mn=new Error(ut.CONNECT_FAILED);throw mn.code=at.ANVIL_CONNECT_FAILED,mn.name=ct(mn.code),mn}else{const mn=at.ANVIL_UNKNOWN_HTTP_ERROR,En=ct(sn.code);throw ot(sn,{code:mn,name:En}),sn}}).then(sn=>{let mn=sn.data;if(typeof mn=="string"){if(mn.length>0)try{JSON.parse(mn)}catch(bn){throw bn.message=ut.UNEXPECTED_SERVER_RESPONSE(bn.toString()),bn.code=at.ANVIL_XDOMAIN_OR_PARSING_ERROR,bn.name=ct(bn.code),bn}const xn=new Error(mn.length===0?ut.EMPTY_RESPONSE:ut.BADLY_FORMED);throw xn.code=mn.length===0?at.ANVIL_EMPTY_RESPONSE_BODY:at.ANVIL_BADLY_FORMED_RESPONSE,xn.name=ct(xn.code),xn}if(mn===null||mn.length===0){const xn=new Error(ut.EMPTY_RESPONSE);throw xn.code=at.ANVIL_EMPTY_RESPONSE_BODY,xn.name=ct(xn.code),xn}const En=mn.filter(xn=>xn.error!=null),cn=En[0];if(cn){const xn=lt(it(cn,"error.code","500"));it(cn,"error.errorMessage.message")==="Invalid token format"&&(cn.error.errorMessage.message+=` Token: ${wt}`);const bn=new Error(it(cn,"error.errorMessage.message",xn===void 0?`Unknown error: ${cn.error.code}`:ut.NO_ERROR));throw bn.code=xn||at.ANVIL_UNEXPECTED_ERROR_CODE,bn.name=ct(bn.code),bn}return new st(mn[0])})}return dt(Rt,(Vt,Nt)=>Vt.code&&Vt.code>=3e3&&Vt.code<=3007&&Et[Nt])}_e.exports=pt},function(_e,tt,et){const nt=et(10),rt=et(7),it={[nt.ANVIL_BADLY_FORMED_RESPONSE]:rt.BADLY_FORMED_RESPONSE,[nt.ANVIL_INVALID_HTTP_STATUS]:rt.INVALID_HTTP_STATUS,[nt.ANVIL_XDOMAIN_OR_PARSING_ERROR]:rt.XDOMAIN_OR_PARSING_ERROR,[nt.ANVIL_UNKNOWN_HTTP_ERROR]:rt.UNKNOWN_HTTP_ERROR,[nt.ANVIL_UNEXPECTED_ERROR_CODE]:rt.UNEXPECTED_ERROR_CODE,[nt.ANVIL_EMPTY_RESPONSE_BODY]:rt.EMPTY_RESPONSE_BODY,[nt.ANVIL_CONNECT_FAILED]:rt.CONNECT_FAILED,[nt.AUTHENTICATION_ERROR]:rt.AUTHENTICATION_ERROR,[nt.INVALID_SESSION_ID]:rt.INVALID_SESSION_ID,[nt.TERMS_OF_SERVICE_FAILURE]:rt.TERMS_OF_SERVICE_FAILURE,[nt.UNEXPECTED_SERVER_RESPONSE]:rt.UNEXPECTED_SERVER_RESPONSE};function ot(st){return it[st]}_e.exports=ot},function(_e,tt,et){const nt=et(10),rt={400:nt.INVALID_SESSION_ID,403:nt.AUTHENTICATION_ERROR,404:nt.INVALID_SESSION_ID,409:nt.TERMS_OF_SERVICE_FAILURE,500:nt.UNEXPECTED_SERVER_RESPONSE};function it(ot){return rt[ot]}_e.exports=it},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5)),ot=nt(et(49));const st=et(14),at=et(772);let ct=function(lt){(0,ot.default)(dt,lt);function dt(ft){var pt;return ft===void 0&&(ft={}),pt=lt.call(this)||this,pt._generateKey=ft.generateKey||at,pt}var ut=dt.prototype;return ut.set=function(){var ft=(0,it.default)(rt.default.mark(function vt(Ct,ht){var mt;return rt.default.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:return this.keyPromise=this._generateKey(Ct,ht),Et.next=3,this.keyPromise;case 3:mt=Et.sent,this.emit("keyChanged",mt);case 5:case"end":return Et.stop()}},vt,this)}));function pt(vt,Ct){return ft.apply(this,arguments)}return pt}(),ut.get=function(){var ft=(0,it.default)(rt.default.mark(function vt(){var Ct;return rt.default.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return mt.next=2,this.keyPromise;case 2:return Ct=mt.sent,mt.abrupt("return",Ct);case 4:case"end":return mt.stop()}},vt,this)}));function pt(){return ft.apply(this,arguments)}return pt}(),ut.clear=function(){this.keyPromise=void 0},dt}(st);_e.exports=ct},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=function(){var st=(0,it.default)(rt.default.mark(function at(ct,lt){var dt,ut,ft,pt;return rt.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return dt=!1,ut=!0,ft=new TextEncoder,Ct.next=5,window.crypto.subtle.importKey("raw",ft.encode(lt),{name:"PBKDF2"},dt,["deriveBits","deriveKey"]);case 5:return pt=Ct.sent,Ct.abrupt("return",window.crypto.subtle.deriveKey({name:"PBKDF2",salt:ft.encode(ct),iterations:1e5,hash:"SHA-256"},pt,{name:"AES-CTR",length:256},ut,["encrypt","decrypt"]));case 7:case"end":return Ct.stop()}},at)}));return function(ct,lt){return st.apply(this,arguments)}}();_e.exports=ot},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=et(3);let st={SFrame:{}};ot.isNode||(st=et(774));const at=st,ct=at.SFrame,lt=ut=>ct.createClient(ut,{skipVp8PayloadHeader:!0});let dt=function(){function ut(){this._clientStore={}}var ft=ut.prototype;return ft.createSender=function(){var pt=(0,it.default)(rt.default.mark(function Ct(ht){return rt.default.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(ht===void 0&&(ht=0),!this.getSender(ht)){yt.next=3;break}return yt.abrupt("return",this.getSender(ht));case 3:return this._clientStore[ht]||(this._clientStore[ht]={}),yt.next=6,lt(ht);case 6:return this._clientStore[ht].sender=yt.sent,yt.abrupt("return",this.getSender(ht));case 8:case"end":return yt.stop()}},Ct,this)}));function vt(Ct){return pt.apply(this,arguments)}return vt}(),ft.createReceiver=function(){var pt=(0,it.default)(rt.default.mark(function Ct(ht){return rt.default.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(!this.getReceiver(ht)){yt.next=2;break}return yt.abrupt("return",this.getReceiver(ht));case 2:return this._clientStore[ht]||(this._clientStore[ht]={}),yt.next=5,lt(ht);case 5:return this._clientStore[ht].receiver=yt.sent,yt.abrupt("return",this.getReceiver(ht));case 7:case"end":return yt.stop()}},Ct,this)}));function vt(Ct){return pt.apply(this,arguments)}return vt}(),ft.getSender=function(vt){var Ct;return(Ct=this._clientStore[vt])==null?void 0:Ct.sender},ft.getReceiver=function(vt){var Ct;return(Ct=this._clientStore[vt])==null?void 0:Ct.receiver},ft.deleteReceiver=function(vt){this.getReceiver(vt)&&(this._clientStore[vt].receiver.deleteReceiver(vt),delete this._clientStore[vt].receiver)},ft.deleteSender=function(vt){var Ct;(Ct=this._clientStore[vt])==null||delete Ct.sender},ut}();_e.exports=dt},function(_e,tt,et){(function(nt){(function(it,ot){_e.exports=ot()})(this,function(){return function(rt){var it={};function ot(st){if(it[st])return it[st].exports;var at=it[st]={i:st,l:!1,exports:{}};return rt[st].call(at.exports,at,at.exports,ot),at.l=!0,at.exports}return ot.m=rt,ot.c=it,ot.d=function(st,at,ct){ot.o(st,at)||Object.defineProperty(st,at,{enumerable:!0,get:ct})},ot.r=function(st){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(st,"__esModule",{value:!0})},ot.t=function(st,at){if(at&1&&(st=ot(st)),at&8||at&4&&typeof st=="object"&&st&&st.__esModule)return st;var ct=Object.create(null);if(ot.r(ct),Object.defineProperty(ct,"default",{enumerable:!0,value:st}),at&2&&typeof st!="string")for(var lt in st)ot.d(ct,lt,(function(dt){return st[dt]}).bind(null,lt));return ct},ot.n=function(st){var at=st&&st.__esModule?function(){return st.default}:function(){return st};return ot.d(at,"a",at),at},ot.o=function(st,at){return Object.prototype.hasOwnProperty.call(st,at)},ot.p="",ot(ot.s="./index.js")}({"./Client.js":function(rt,it,ot){ot.r(it),ot.d(it,"SFrame",function(){return at});var st=ot("./Worker.js");const at={createClient:async function(dt,ut){const ft=new lt;return await ft.init(dt,ut),ft}};async function ct(dt){return dt instanceof CryptoKey&&dt.type=="private"?await crypto.subtle.exportKey("pkcs8",dt):dt instanceof CryptoKey?await crypto.subtle.exportKey("raw",dt):dt instanceof Uint8Array?dt.buffer.slice(0):dt.slice(0)}class lt extends EventTarget{constructor(){super(),this.worker=new st.default,this.transId=1,this.transactions=new Map,this.worker.addEventListener("message",async ut=>{const ft=ut.data;if(ft.transId){const pt=this.transactions.get(ft.transId);this.transactions.delete(ft.transId),ft.error?pt.reject(new Error(ft.error)):pt.resolve(ft.result)}else if(ft.event){const pt=new Event(ft.event.name);pt.id=ft.event.data.id,pt.senderId=ft.event.data.senderId,this.dispatchEvent(pt)}}),this.postMessage=(ut,ft,pt)=>new nt((vt,Ct)=>{const ht=this.transId++;this.worker.postMessage({transId:ht,cmd:ut,args:ft},pt),this.transactions.set(ht,{resolve:vt,reject:Ct})})}async init(ut,ft){return this.postMessage("init",{senderId:ut,config:ft})}async setSenderEncryptionKey(ut){const ft=await ct(ut);return this.postMessage("setSenderEncryptionKey",[ft],[ft])}async ratchetSenderEncryptionKey(){return this.postMessage("ratchetSenderEncryptionKey")}async setSenderSigningKey(ut){const ft=await ct(ut);return this.postMessage("setSenderSigningKey",[ft])}async addReceiver(ut){return this.postMessage("addReceiver",[ut])}async setReceiverEncryptionKey(ut,ft){const pt=await ct(ft);return this.postMessage("setReceiverEncryptionKey",[ut,pt],[pt])}async setReceiverVerifyKey(ut,ft){const pt=await ct(ft);return this.postMessage("setReceiverVerifyKey",[ut,pt],[pt])}deleteReceiver(ut){return this.postMessage("deleteReceiver",[ut])}async encrypt(ut,ft){const pt=ft.track.kind,{readable:vt,writable:Ct}=ft.createEncodedStreams?ft.createEncodedStreams():ft.createEncodedVideoStreams?ft.createEncodedVideoStreams():ft.createEncodedAudioStreams();return this.postMessage("encrypt",{id:ut,kind:pt,readableStream:vt,writableStream:Ct},[vt,Ct])}async decrypt(ut,ft){const pt=ft.track.kind,{readable:vt,writable:Ct}=ft.createEncodedStreams?ft.createEncodedStreams():ft.createEncodedVideoStreams?ft.createEncodedVideoStreams():ft.createEncodedAudioStreams();return this.postMessage("decrypt",{id:ut,kind:pt,readableStream:vt,writableStream:Ct},[vt,Ct])}close(){this.worker.terminate();for(let ut of this.transactions.values())ut.reject(new Error("Client closed"));this.transactions.clear()}}},"./Worker.js":function(rt,it,ot){ot.r(it),ot.d(it,"default",function(){return ct});var st=ot("./node_modules/worker-loader/dist/runtime/inline.js"),at=ot.n(st);function ct(){return at()(`/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./Worker.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./Worker.js":
/*!*******************!*\\
  !*** ./Worker.js ***!
  \\*******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_Context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/Context.js */ "./lib/Context.js");
/* harmony import */ var _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/VP8PayloadHeader.js */ "./lib/VP8PayloadHeader.js");
/* harmony import */ var _lib_Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/Utils.js */ "./lib/Utils.js");
/* harmony import */ var _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/TaskQueue.js */ "./lib/TaskQueue.js");






const postDecryptStatusMessage = lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()((message) => {
	postMessage(message)
},  1000, { leading: false, trailing: true });

let context; 

onmessage = async (event) => {
	//Get data
	const {transId,cmd,args} = event.data;
	
	try {
		let result = true;
		
		//Depending on the cmd
		switch(event.data.cmd)
		{
			case "init":
			{
				//Get info
				const {senderId, config} = args;
				//Crate context
				context = new _lib_Context_js__WEBPACK_IMPORTED_MODULE_1__["Context"](senderId, config);
				break;
			}
			case "encrypt":
			{
				//The recrypt queue
				const tasks = new _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__["TaskQueue"]();
				//Get event data
				const{id, kind, readableStream, writableStream} = args;
				//Create transform stream foo encrypting
				const transformStream = new TransformStream({
					transform: async (chunk, controller)=>{
						//Nothing in clear
						let skip = 0;
						//Check if it is video and we are skipping vp8 payload header
						if (kind=="video" && context.isSkippingVp8PayloadHeader())
						{
							//Get VP8 header
							const vp8 = _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__["VP8PayloadHeader"].parse(chunk.data);
							//Skip it
							skip = vp8.byteLength;
						}
						//Enqueue task
						tasks.enqueue (
							context.encrypt(kind, id, chunk.data, skip),
							(encrypted) => {
								//Set back encrypted payload
								chunk.data = encrypted.buffer;
								//write back
								controller.enqueue(chunk);
							},
							(error)=>{
								//TODO: handle errors
							}
						);
					}
				});
				//Encrypt
				readableStream
					.pipeThrough(transformStream)
					.pipeTo(writableStream);
				break;
			}
			case "decrypt":
			{
				//The recrypt queue
				const tasks = new _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__["TaskQueue"]();
				//Last reveiced senderId
				let senderId = -1;
				//Get event data
				const{id, kind, readableStream, writableStream} = args;
				//Create transform stream for encrypting
				const transformStream = new TransformStream({
					transform: async (chunk, controller)=>{
						//Nothing in clear
						let skip = 0;
						//Check if it is video and we are skipping vp8 payload header
						if (kind=="video" && context.isSkippingVp8PayloadHeader())
						{
							//Get VP8 header
							const vp8 = _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__["VP8PayloadHeader"].parse(chunk.data);
							//Skip it
							skip = vp8.byteLength;
						}

						//Enqueue task
						tasks.enqueue(
							context.decrypt(kind, id, chunk.data, skip),
							(decrypted) => {
								//Set back decrypted payload
								chunk.data = decrypted.buffer;
								//write back
								controller.enqueue(chunk);
								//If it is a sender
								if (decrypted.senderId!=senderId)
								{
									//Store it
									senderId = decrypted.senderId;
									//Launch event
									postMessage ({event: {
										name	: "authenticated",
										data	: {
											id	 : id,
											senderId : senderId
										}
									}});
								}
								if (decrypted.decryptionRestored) {
									postDecryptStatusMessage({
										event: {
											name: "decryptionRestored",
											data: {
												id,
												senderId,
											},
										},
									});
								}
							},
							(error) => {
								if (error.message === 'decryptFailed') {
									postDecryptStatusMessage({
										event: {
											name: "decryptFailed",
											data: {
												id,
												senderId,
											},
										},
								});
								}
							}
						);
					}
				});
				//Decrypt
				readableStream
					.pipeThrough(transformStream)
					.pipeTo(writableStream);
				break;
			}
			default:
				//Excute "cmd" method on context
				result = await context[cmd](...args || []);
		}
		//Send result back
		postMessage ({transId,result});
	} catch (error) {
		console.error(error);
		//Send error back
		postMessage({transId,error});
	}
};


/***/ }),

/***/ "./lib/AesCm128HmacSha256EncryptionKey.js":
/*!************************************************!*\\
  !*** ./lib/AesCm128HmacSha256EncryptionKey.js ***!
  \\************************************************/
/*! exports provided: AesCm128HmacSha256EncryptionKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AesCm128HmacSha256EncryptionKey", function() { return AesCm128HmacSha256EncryptionKey; });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./lib/Utils.js");
/* harmony import */ var _Salts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Salts.js */ "./lib/Salts.js");
/* harmony import */ var _IV_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IV.js */ "./lib/IV.js");




const ratchetKey = (key) => 
	crypto.subtle.deriveBits(
		{
			name : "HKDF",
			hash : "SHA-256",
			salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].RatchetKey,
			info : new ArrayBuffer()
		},
		key,
		256
	);

class AesCm128HmacSha256EncryptionKey 
{
	constructor(){
		this.ratchets = [];
	}

	async setKey(key)
	{
		if (key instanceof CryptoKey)
		{
			//Check private key algorithm
			if (key.algorithm.name!="HKDF")
				//Error
				throw new Error("Invalid key");
		} else {
			//Import key
			key = await crypto.subtle.importKey(
				"raw",
				key,
				"HKDF",
				false,
				["deriveBits", "deriveKey"]
			);
		}
		this.key = key;
		
		//Get salt key
		this.saltKey = new Uint8Array(await crypto.subtle.deriveBits(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].SaltKey,
				info : new ArrayBuffer()
			},
			key,
			128
		));
	
		//Get encryption key
		this.encryptionKey = await crypto.subtle.deriveKey(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].EncryptionKey,
				info : new ArrayBuffer()
			},
			key,
			{
				name : "AES-CTR",
				length : 128
			},
			false,
			["encrypt","decrypt"]
		);
	
		//Get authentication key
		this.authKey = await crypto.subtle.deriveKey(
			{
				name : "HKDF",
				hash : "SHA-256",
				salt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].AuthenticationKey,
				info : new ArrayBuffer()
			},
			key,
			{
				name : "HMAC",
				hash : "SHA-256",
				length : 256
			},
			false,
			["sign","verify"]
		);
	}

	
	async encrypt(type,header,payload,extraBytes,skip)
	{
		//Encure int
		skip = skip ? skip : 0;
		
		//Create IV
		const iv = _IV_js__WEBPACK_IMPORTED_MODULE_2__["IV"].generate(header.keyId, header.counter, this.saltKey);
		
		//Encrypt
		const encrypted = await crypto.subtle.encrypt(
			{
				name	: "AES-CTR",
				counter : iv,
				length  : 128
			},
			this.encryptionKey,
			payload
		);
	
		//Get auth tag length from media type
		const authTagLength = AesCm128HmacSha256EncryptionKey.getAuthTagLen(type);
		
		//Create encrypted frame
		const encryptedFrame = new Uint8Array(header.byteLength + payload.byteLength + authTagLength + extraBytes + skip);
		
		//Set header and encrypted payolad
		encryptedFrame.set(header, skip);
		encryptedFrame.set(new Uint8Array(encrypted), skip + header.length);
		
		//Authenticate
		const signature = new Uint8Array(await crypto.subtle.sign(
			"HMAC",
			this.authKey, 
			encryptedFrame.subarray(skip, skip + header.byteLength + encrypted.byteLength)
		));
	
		//Truncate
		const authTag = signature.subarray(0, authTagLength);
	
		//Append authentication tag
		encryptedFrame.set(authTag, skip + encrypted.byteLength + header.byteLength );
		
		//Done
		return [encryptedFrame,authTag];
		
	}
	
	async decrypt(type, header, encryptedFrame, extrabytes, skip)
	{
		//Encure int
		skip = skip ? skip : 0;
		
		//Create IV
		const iv = _IV_js__WEBPACK_IMPORTED_MODULE_2__["IV"].generate(header.keyId, header.counter, this.saltKey);
		
		//Get auth tag length from media type
		const authTagLength = AesCm128HmacSha256EncryptionKey.getAuthTagLen(type);
		
		//Get encrypted frame length (without extra bytes from signature)
		const frameLength = encryptedFrame.byteLength - extrabytes - skip;
		
		//Get authentication tag
		const authTag = encryptedFrame.subarray(skip + frameLength - authTagLength, skip + frameLength);
		
		//Get encrypted payload
		const encrypted = encryptedFrame.subarray(skip + header.byteLength, skip + frameLength - authTagLength);
		
		//Calculate signature
		const signature = new Uint8Array(await crypto.subtle.sign(
			"HMAC",
			this.authKey, 
			encryptedFrame.subarray(skip, skip + header.byteLength + encrypted.byteLength)
		));
	
		//Authenticate authTag
		let authenticated = true;
		//Avoid timimg attacks by iterating over all bytes
		for (let i=0;i<authTagLength;++i)
			//check signature
			authenticated &= authTag[i]===signature[i];
		
		//If not all where equal
		if (!authenticated)
			//Authentication error
			throw new Error("Authentication error");
		
		//Decrypt
		const payload = new Uint8Array (await crypto.subtle.decrypt(
			{
				name	: "AES-CTR",
				counter : iv,
				length  : 128
			},
			this.encryptionKey,
			encrypted
		));
		
		//Done
		return [payload, authTag];
	}
	
	async ratchet(index)
	{
		// return stored key if exists
		if (this.ratchets[index]) {
			return this.ratchets[index];
		}
		
		//Create new key
		const key = new AesCm128HmacSha256EncryptionKey();

		// Get previous ratchet
		const previousRatchetKey = index === 0 ? this.key : this.ratchets[index - 1].key;
		
		//Set ratchet key
		await key.setKey(await ratchetKey(previousRatchetKey));
		
		this.ratchets[index] = key;
		//Done
		return key;
	}
	
	static getAuthTagLen(type)
	{
		return type.toLowerCase()==="video" ? 10 : 4;
	};
	
	static async create(raw) 
	{
		//Create new key
		const key = new AesCm128HmacSha256EncryptionKey();
		//Set raw key
		await key.setKey(raw);
		//Done
		return key;
	}
};



/***/ }),

/***/ "./lib/Context.js":
/*!************************!*\\
  !*** ./lib/Context.js ***!
  \\************************/
/*! exports provided: Context */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Context", function() { return Context; });
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _Sender_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Sender.js */ "./lib/Sender.js");
/* harmony import */ var _Receiver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Receiver.js */ "./lib/Receiver.js");




class Context
{
	
	constructor(senderId, config)
	{
		//Store config
		this.config = Object.assign({}, config);
		//Only one sender per context
		this.sender = new _Sender_js__WEBPACK_IMPORTED_MODULE_1__["Sender"](senderId);
		
		//The map of known remote senders
		this.receivers = new Map();
	}
	
	isSkippingVp8PayloadHeader()
	{
		return !!this.config.skipVp8PayloadHeader;
	}
		
	async setSenderEncryptionKey(key)
	{
		//Set it
		return this.sender.setEncryptionKey(key);
	}
	
	async ratchetSenderEncryptionKey()
	{
		//Set it
		return this.sender.ratchetEncryptionKey();
	}
	
	async setSenderSigningKey(key)
	{
		//Set it
		return this.sender.setSigningKey(key);
	}
	
	addReceiver(receiverkKeyId)
	{
		//Check we don't have a receiver already for that id
		if(this.receivers.has(receiverkKeyId))
			//Error
			throw new Error("There was already a receiver for keyId "+receiverkKeyId);
		//Add new
		this.receivers.set(receiverkKeyId, new _Receiver_js__WEBPACK_IMPORTED_MODULE_2__["Receiver"](receiverkKeyId));
	}
	
	async setReceiverEncryptionKey(receiverkKeyId, key)
	{
		//Get receiver for the sender
		const receiver = this.receivers.get(receiverkKeyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId "+receiverkKeyId);
		
		//Rachet
		return receiver.setEncryptionKey(key);
	}
	
	async setReceiverVerifyKey(receiverkKeyId,key)
	{
		//Get receiver for the sender
		const receiver = this.receivers.get(receiverkKeyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId "+receiverkKeyId);
		
		//Rachet
		return receiver.setVerifyKey(key);
	}
	
	deleteReceiver(receiverkKeyId)
	{
		//Delete receiver
		return this.receivers.delete(receiverkKeyId);
	}
	
	async encrypt(type, ssrcId, frame, skip)
	{
		//Encrypt it
		return this.sender.encrypt(type, ssrcId, frame, skip);
	}
	
	async decrypt(type, ssrcId, encryptedFrame, skip)
	{
		//convert if needed
		if (!(encryptedFrame instanceof Uint8Array))
			encryptedFrame = new Uint8Array (encryptedFrame);
		
		//Parse encrypted payload
		const header = _Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].parse(encryptedFrame.subarray(skip));
		
		//Get receiver for the sender
		const receiver = this.receivers.get(header.keyId);
		
		//IF not found
		if (!receiver)
			//Error
			throw new Error("No receiver found for keyId " + header.keyId);
		
		//Decrypt it
		return receiver.decrypt(type, ssrcId, header, encryptedFrame, skip);
	}
	
};


/***/ }),

/***/ "./lib/EcdsaSignKey.js":
/*!*****************************!*\\
  !*** ./lib/EcdsaSignKey.js ***!
  \\*****************************/
/*! exports provided: EcdsaSignKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EcdsaSignKey", function() { return EcdsaSignKey; });
//TODO: Update to Ed25519 when available
// https://chromestatus.com/features/4913922408710144
// https://chromium.googlesource.com/chromium/src/+log/master/components/webcrypto/algorithms/ed25519.cc

class EcdsaSignKey
{
	
	async setKey(privKey)
	{
		//If it is a crypto key already
		if (privKey instanceof CryptoKey)
		{
			//Check private key algorithm
			if (privKey.algorithm.name!="ECDSA" || !privKey.usages.includes("sign"))
				//Error
				throw new Error("Invalid key");
			//Set it
			this.privKey = privKey;
		} else {
			//Import it
			this.privKey = await crypto.subtle.importKey(
				"pkcs8",
				privKey,
				{
					name		: "ECDSA",
					namedCurve	: "P-521"
				},
				false,
				["sign"]
			);
		}
	}
	
	async sign(authTags)
	{
		//Verify
		return new Uint8Array(await crypto.subtle.sign(
			{
			  name: "ECDSA",
			  hash: "SHA-512"
			},
			this.privKey,
			authTags
		));
	}
	
	static getSignatureLen()
	{
		return 64;
	}
	
	static async create(privKey)
	{
		//Craete key
		const key = new EcdsaSignKey();
		//Set key
		await key.setKey(privKey);
		//Done
		return key;
		
	}
};


/***/ }),

/***/ "./lib/EcdsaVerifyKey.js":
/*!*******************************!*\\
  !*** ./lib/EcdsaVerifyKey.js ***!
  \\*******************************/
/*! exports provided: EcdsaVerifyKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EcdsaVerifyKey", function() { return EcdsaVerifyKey; });

class EcdsaVerifyKey
{
	async setKey(pubKey)
	{
		//If it is a crypto key already
		if (pubKey instanceof CryptoKey)
		{
			//Check 
			if (pubKey.algorithm.name!="ECDSA" || !pubKey.usages.includes("verify"))
				//Error
				throw new Error("Invalid key");
			//Set it
			this.pubKey = pubKey;
		} else {
			//Import it
			this.pubKey = await crypto.subtle.importKey(
				"raw",
				pubKey,
				{
					name		: "ECDSA",
					namedCurve	: "P-521"
				},
				false,
				["verify"]
			);
		}
	}
	
	async verify(signed,signature)
	{
		//Verify
		return await window.crypto.subtle.verify(
			{
				name: "ECDSA",
				hash: "SHA-512"
			},
			this.pubKey,
			signature,
			signed
		);
	}
	
	static getSignatureLen()
	{
		return 64;
	}
	
	static async create(pubKey)
	{
		//Craete key
		const key = new EcdsaVerifyKey();
		//Set key
		await key.setKey(pubKey);
		//Done
		return key;
		
	}
};


/***/ }),

/***/ "./lib/Header.js":
/*!***********************!*\\
  !*** ./lib/Header.js ***!
  \\***********************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return Header; });
/*
	0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+
	|S|LEN  |X|  K  |
	+-+-+-+-+-+-+-+-+
	SFrame header metadata

	Signature flag (S): 1 bit This field indicates the payload contains a signature of set. Counter Length (LEN): 3 bits This field indicates the length of the CTR fields in bytes. Extended Key Id Flag (X): 1 bit
	Indicates if the key field contains the key id or the key length. Key or Key Length: 3 bits This field contains the key id (KID) if the X flag is set to 0, or the key length (KLEN) if set to 1.

	If X flag is 0 then the KID is in the range of 0-7 and the frame counter (CTR) is found in the next LEN bytes:

	 0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+---------------------------------+
	|S|LEN  |0| KID |    CTR... (length=LEN)          |
	+-+-+-+-+-+-+-+-+---------------------------------+
	Key id (KID): 3 bits The key id (0-7). Frame counter (CTR): (Variable length) Frame counter value up to 8 bytes long.

	if X flag is 1 then KLEN is the length of the key (KID), that is found after the SFrame header metadata byte. After the key id (KID), the frame counter (CTR) will be found in the next LEN bytes:

	 0 1 2 3 4 5 6 7
	+-+-+-+-+-+-+-+-+---------------------------+---------------------------+
	|S|LEN  |1|KLEN |   KID... (length=KLEN)    |    CTR... (length=LEN)    |
	+-+-+-+-+-+-+-+-+---------------------------+---------------------------+
*/
const Header = {
	
	parse : function(buffer) 
	{
		//Create uint view
		const view = new Uint8Array(buffer);
		
		//Get metadata
		const metadata = view[0];
		
		//Get values
		const s		= !!(metadata & 0x80);
		const len	= (metadata >> 4) & 0x07;
		const x		= !!(metadata & 0x08);
		const k		= metadata & 0x07;
		
		//Get key id
		let keyId = 0;
		//Check if it is the extented key format
		if (x)
		{
			//Read length
			for (let i=0;i<k;i++)
				keyId = (keyId * 256) + view[i+1];
		} else {
			//Short version
			keyId = k;
		}
		
		//Get ctr
		const ini = x ? k + 1 : 1;
		let counter = 0;
		//Read length
		for (let i=0;i<len;i++)
			counter = (counter * 256) + view[ini+i];
		
		//Get header buffer view
		const header = view.subarray(0, x ? k + len + 1 : len + 1);
		
		//Add parsed atributes
		header.signature   = s;
		header.keyId	   = keyId;
		header.counter	   = counter;
		
		//Done
		return header; 
	},
	generate: function(signature,keyId,counter)
	{
		//Check keyId
		Header.checkKeyId(keyId);
		
		//Calcultate variavle length
		const varlen = (x) => x ? parseInt(Math.log(x) / Math.log(256))+1 : 1;
		
		//Get key extension and length
		const x = keyId > 7;
		const k = x ? varlen(keyId) : keyId;
		
		//Get counter length
		const len = varlen(counter);
		
		//Ensure counter is not huge
		if (len>7)
			//Error
			throw new Error("Counter is too big");
		
		//Generate header
		const header = new Uint8Array( x ? 1 + k + len : 1 + len);
		
		//Set metadata header
		header[0] = !!signature;
		header[0] = header[0] << 3  | ( len & 0x07);
		header[0] = header[0] << 1  | x;
		header[0] = header[0] << 3  | ( k & 0x07);
		
		//Add parsed atributes
		header.signature   = !!signature;
		header.keyId	   = keyId;
		header.counter	   = counter;
		
		//If extended key
		if (x)
			//Add key id
			for (let i=0; i<k; ++i)
				header[i+1] = (keyId >> (k-1-i)*8) & 0xff;
		//The coutner init
		const ini = x ? k + 1 : 1;
		//Add counter
		for (let i=0; i<len; ++i)
			header[ini+i] = (counter >> (len-1-i)*8) & 0xff;
			
		
		//Done
		return header;
	}
};

Header.MaxKeyId = 0xFFFFFFFFFF;

Header.checkKeyId = function(keyId)
{
	//Check it is possitive
	if (keyId<0)
		//Error
		throw new Error("keyId must be possitive");
	//Check it is possitive
	if (keyId>Header.MaxKeyId)
		//Error
		throw new Error("keyId must be 5 bytes long at most");
};


/***/ }),

/***/ "./lib/IV.js":
/*!*******************!*\\
  !*** ./lib/IV.js ***!
  \\*******************/
/*! exports provided: IV */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IV", function() { return IV; });
const IV = 
{
	generate : function(keyId,counter,salt)
	{
		//128 bits
		const iv = new Uint8Array (16);
		//Get view
		const view = new DataView(iv.buffer);
		//Set keyId
		view.setBigUint64(0, BigInt(counter));
		//Set coutner
		view.setBigUint64(8, BigInt(keyId));
		//Xor with salt key
		for (let i=0; i<iv.byteLength; ++i)
			//xor
			view.setUint8(i,iv[i]^salt[i]); 
		//return buffer
		return iv;
	}
};


/***/ }),

/***/ "./lib/Receiver.js":
/*!*************************!*\\
  !*** ./lib/Receiver.js ***!
  \\*************************/
/*! exports provided: Receiver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Receiver", function() { return Receiver; });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./lib/Utils.js");
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _EcdsaVerifyKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EcdsaVerifyKey.js */ "./lib/EcdsaVerifyKey.js");
/* harmony import */ var _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AesCm128HmacSha256EncryptionKey.js */ "./lib/AesCm128HmacSha256EncryptionKey.js");





const MaxRatchetAttempts = 5;
const ReplayWindow = 128;
const KeyTimeout = 1000;

class Receiver
{
	constructor(senderId)
	{
		//Check keyId
		_Header_js__WEBPACK_IMPORTED_MODULE_1__["Header"].checkKeyId(senderId);
		
		//Store sender id
		this.senderId = senderId;
		//Last received counter
		this.maxReceivedCounter = -1;
		//Number or ratchets of current key
		this.numKeyRatchets = 0;
		//Create keyring
		this.keyring = [];
		//Pending verified tags
		this.pending = new Map();
		// has failed decryption
		this.keyFailing = false;

		//Scheduled keys
		this.scheduledKeys = new WeakSet ();

		//Function to clear up keys up to given one
		this.schedulePreviousKeysTimeout = (key) =>{
			//If this is the only key
			if (this.keyring.length==1 && this.keyring[0]===key)
				//Do nothing
				return;
			//If has been already scheduled
			if (this.scheduledKeys.has(key))
				//Not do it twice
				return;
			//Add it
			this.scheduledKeys.add(key);
			//Schedule key timeout of previous keys
			setTimeout(()=>{
				//Find key index
				const i = this.keyring.findIndex(k=>k===key);
				//Remove previous keys
				this.keyring = this.keyring.splice(i);
			}, KeyTimeout);
		};
	}
	
	async decrypt(type, ssrcId, header, encryptedFrame, skip)
	{
		let authTag, payload, extrabytes = 0, signature, signed;
		const prevAuthTags = [];
		
		//convert if needed
		if (!(encryptedFrame instanceof Uint8Array))
			encryptedFrame = new Uint8Array (encryptedFrame);

		// Replay attack protection
		if (header.counter < this.maxReceivedCounter && (this.maxReceivedCounter - header.counter) > ReplayWindow) {
			//Error
			throw new Error("Replay check failed, frame counter too old");
		}
		
		//Check if frame contains signature
		if (header.signature)
		{
			//Start from the end
			let end = encryptedFrame.byteLength;
			
			//Get lengths
			const singatureLength = ECDSAVerifyKey.getSignatureLen();
			const authTagLength   = _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type);
			
			//Get signature
			signature = encryptedFrame.subarray(end - singatureLength, end);
			//Move backward
			end -= singatureLength;
			
			//Get number of tags
			const num = encryptedFrame[end--];
			
			//Read all tags
			for (let i=0; i<num; ++i)
			{
				//Get previous tag
				const prevTag = encryptedFrame.subarray(end - authTagLength, end);
				//Move backward
				end -= authTagLength;
				//Add tag to previous tags in hex
				prevAuthTags.push(_Utils_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].toHex(prevTag))
			}
			//Get the extra bytes
			extrabytes = encryptedFrame.byteLength - end;
			
			//Move backward to start oth current frame auth tag
			end -= authTagLength;
			
			//Get singed part
			signed = encryptedFrame.subarray(end, encryptedFrame.byteLength - singatureLength)
		}

		//For each key in key ring
		for (let i=0;i<this.keyring.length;++i)
		{
			//Get key from ring
			const key = this.keyring[i];
			try {
				//Try to decrypt payload
				[payload, authTag] = await key.decrypt(type, header, encryptedFrame, extrabytes, skip);
				//Done
				break;
			} catch(e) {
				
			}
		}

		//If not found yet
		if (!payload)
		{
			//Get last key
			const key = this.keyring[this.keyring.length-1];
			//Try ratchet last key
			for (let i = 0; i < MaxRatchetAttempts; ++i)
			{
				//Ratchet key
				const ratchetKey = await key.ratchet(i);
				try {
					//Try to decrypt payload
					[payload, authTag] = await ratchetKey.decrypt(type, header, encryptedFrame, extrabytes, skip);
					// Set working ratchet as new key
					this.keyring.push(ratchetKey);
					this.schedulePreviousKeysTimeout(ratchetKey);
					//Done
					break;
				} catch(e) {

				}
			}
		}

		//Last check
		if (!payload) {
			//Decryption failed
			if (this.keyFailing)  {
				throw new Error('decryptStillFailing')
			} else {
				this.keyFailing = true;
				throw new Error("decryptFailed");
			}
		}

		//If we are sending part of the frame in clear
		if (skip)
			//Copy skiped payload
			payload.set(encryptedFrame.subarray(0,skip),0);

		//Check if have received anything from this ssrc before
		if (!this.pending.has(ssrcId))
			//Add it
			this.pending.set(ssrcId,new Set());

		//Get pending list
		const pending = this.pending.get(ssrcId);

		//Check if it constains signatures
		if (header.signed)
		{
			//try to verify list
			if (!await this.verifyKey.verify(signed,signature))
				//Error
				throw new Error("Could not verify signature");
			//For each signed tag
			for (const tag in prevAuthTags)
				//Delete from pending to be verified tags
				pending.delete(tag);
		} else {
			//Push this tag to
			pending.add(_Utils_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].toHex(authTag));
		}

		//Set authenticated sender id and frame Id
		payload.senderId = header.keyId;
		payload.frameId  = header.counter;

		// inform that decryption is working after previously failing
		if (this.keyFailing) {
			payload.decryptionRestored = true;
			this.keyFailing = false;
		}

		//Store last received counter
		this.maxReceivedCounter = Math.max(header.counter, this.maxReceivedCounter);

		//Return decrypted payload
		return payload;
	}

	async setVerifyKey(key)
	{
		//Create new singing key
		this.verifyKey = _EcdsaVerifyKey_js__WEBPACK_IMPORTED_MODULE_2__["EcdsaVerifyKey"].create(key);
	}

	async setEncryptionKey(raw)
	{
		//Create new encryption key
		const key = await _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__["AesCm128HmacSha256EncryptionKey"].create(raw);
		//Append to the keyring
		this.keyring.push(key);
		//Restart ratchet count number
		this.numKeyRatchets = 0;
		//Activate
		this.schedulePreviousKeysTimeout(key);
	}
};


/***/ }),

/***/ "./lib/Salts.js":
/*!**********************!*\\
  !*** ./lib/Salts.js ***!
  \\**********************/
/*! exports provided: Salts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Salts", function() { return Salts; });
const textEncoder = new TextEncoder()

const Salts =  {
	"SaltKey"		: textEncoder.encode("SFrameSaltKey"),
	"EncryptionKey"		: textEncoder.encode("SFrameEncryptionKey"),
	"AuthenticationKey"	: textEncoder.encode("SFrameAuthenticationKey"),
	"RatchetKey"		: textEncoder.encode("SFrameRatchetKey")
};


/***/ }),

/***/ "./lib/Sender.js":
/*!***********************!*\\
  !*** ./lib/Sender.js ***!
  \\***********************/
/*! exports provided: Sender */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sender", function() { return Sender; });
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");
/* harmony import */ var _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EcdsaSignKey.js */ "./lib/EcdsaSignKey.js");
/* harmony import */ var _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AesCm128HmacSha256EncryptionKey.js */ "./lib/AesCm128HmacSha256EncryptionKey.js");





const SigningFrameInterval = 10;

class Sender
{
	constructor(senderId)
	{
		//Check keyId
		_Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].checkKeyId(senderId);
		
		//The global frame counter
		this.counter = 0;
		
		//Store senderId/keyId
		this.senderId = senderId;
		
		//Pending frames for signing
		this.pending = new Map();
	}
	
	async encrypt(type, ssrcId, payload, skip)
	{
		//Check we have a valid key
		if (!this.key)
			throw Error("Encryption key not set");
		
		//convert if needed
		if (!(payload instanceof Uint8Array))
			payload = new Uint8Array (payload);
		
		//Encure int
		skip = skip ? skip : 0;
		
		//Get counter for frame
		const counter = this.counter++;
		
		//If we don't have the ssrc
		// TODO FIX https://github.com/medooze/sframe/issues/15 and uncomment line below
		// if (!this.pending.has(ssrcId))
		//Create new pending frames array
			this.pending.set(ssrcId,[]);
		
		//Get pending frames for signature
		const pending = this.pending.get(ssrcId);		
		
		//Do we need to sign the frames?
		const signing = this.signingKey && pending.length > SigningFrameInterval;
		
		//Get auth tag len for type
		const authTagLen = _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type);
		
		//Calculae extra bytes
		const extraBytes = signing ? pending.length * _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type) + 1 + _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__["EcdsaSignKey"].getSignatureLen() : 0;
		
		//Generate header
		const header = _Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].generate(signing,this.senderId,counter);
		
		//Encrypt frame
		const [encryptedFrame,authTag] = await this.key.encrypt(type, header, payload, extraBytes, skip);
		
		//If we are sending part of the frame in clear
		if (skip)
			//Copy skiped payload
			encryptedFrame.set(payload.subarray(0,skip),0);
		
		//If we need to sign the frame
		if (signing)
		{
			//Append after auth tag
			let ini = skip + encryptedFrame.byteLength - extraBytes;
			
			//Get tag list view
			const authTags = encryptedFrame.subarray(ini - authTagLen, (pending.length + 1) * authTagLen);
			
			//Add all previous tags 
			for (const previousTag of pending)
			{
				//Append to frame
				encryptedFrame.set(previousTag, ini);
				//Move
				ini += authTagLen;
			}
			
			//Add number of bytes
			encryptedFrame[ini++] = pending.length;
			
			//Create signature with all auth tags (including this frame's one)
			const signature = await this.signingKey.sign(authTags);
			
			//Add signature
			encryptedFrame.set(signature, ini);
			
			//Empty pending list 
			this.pending.set(ssrcId,[]);
			
		//If we can sign
		} else if (this.signingKey) {
			//Append a copy of current tag at the begining
			pending.unshift(authTag.slice());
		}
		
		//Set authenticated sender id and frame Id
		encryptedFrame.senderId = header.keyId;
		encryptedFrame.frameId  = header.counter;
		
		//Done
		return encryptedFrame;
	}
	
	async setSigningKey(key)
	{
		//Create new singing key
		this.signingKey = await _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__["EcdsaSignKey"].create(key);
	}
	
	async setEncryptionKey(key)
	{
		//Create new encryption key
		this.key = await _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].create(key);
	}
	
	async ratchetEncryptionKey()
	{
		//Check we have a valid key
		if (!this.key)
			throw Error("Encryption key not set");
		
		//Rachet the key and store it
		this.key = await this.key.ratchet();
	}
};


/***/ }),

/***/ "./lib/TaskQueue.js":
/*!**************************!*\\
  !*** ./lib/TaskQueue.js ***!
  \\**************************/
/*! exports provided: TaskQueue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskQueue", function() { return TaskQueue; });
class TaskQueue
{
	constructor()
	{
		this.tasks = [];
		this.running = false;
	}
	
	enqueue(promise,callback,error)
	{
		//enqueue task
		this.tasks.push({promise,callback,error});
		//Try run 
		this.run();
	}
	
	async run()
	{
		//If already running 
		if (this.running)
			//Nothing
			return;
		//Running
		this.running = true;
		//Run all pending tasks
		while(this.tasks.length)
		{
			try {
				//Wait for first promise to finish
				const result = await this.tasks[0].promise;
				//Run callback
				this.tasks[0].callback(result); 
			} catch(e) {
				//Run error callback
				this.tasks[0].error(e); 
			}
			//Remove task from queue
			this.tasks.shift();
		}
		//Ended
		this.running = false;
	}
}


/***/ }),

/***/ "./lib/Utils.js":
/*!**********************!*\\
  !*** ./lib/Utils.js ***!
  \\**********************/
/*! exports provided: Utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return Utils; });
const Utils = 
{
	toHex : function(buffer)
	{
		return Array.prototype.map.call(buffer instanceof Uint8Array ? buffer : new Uint8Array (buffer), x =>x.toString(16).padStart(2,"0")).join("");
	},
	fromHex: function(str)
	{
		const bytes = [];
		for (let i=0;i<str.length/2;++i)
			bytes.push(parseInt(str.substring(i*2, (i+1)*2), 16));

		return new Uint8Array(bytes);
	},
	equals : function(a,b)
	{
		if (a.byteLength != b.byteLength) return false;
		for (let i = 0 ; i != a.byteLength ; i++)
			if (a[i] != b[i]) return false;
		return true;
	}
};


/***/ }),

/***/ "./lib/VP8PayloadHeader.js":
/*!*********************************!*\\
  !*** ./lib/VP8PayloadHeader.js ***!
  \\*********************************/
/*! exports provided: VP8PayloadHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VP8PayloadHeader", function() { return VP8PayloadHeader; });

const VP8PayloadHeader = {
	
	parse : function(buffer) 
	{
		//Check size
		if (buffer.byteLength<3)
			//Invalid
			return null;
		
		//Create uint view
		const view = new Uint8Array(buffer);
		
		//Read comon 3 bytes
		//   0 1 2 3 4 5 6 7
                //  +-+-+-+-+-+-+-+-+
                //  |Size0|H| VER |P|
                //  +-+-+-+-+-+-+-+-+
                //  |     Size1     |
                //  +-+-+-+-+-+-+-+-+
                //  |     Size2     |
                //  +-+-+-+-+-+-+-+-+
		const firstPartitionSize	= view[0] >> 5;
		const showFrame			= view[0] >> 4 & 0x01;
		const version			= view[0] >> 1 & 0x07;
		const isKeyFrame		= (view[0] & 0x01) == 0;

		//check if more
		if (isKeyFrame)
		{
			//Check size
			if (buffer.byteLength<10)
				//Invalid
				return null;
			//Get size in le
			const hor = view[7]<<8 | view[6];
			const ver = view[9]<<8 | view[8];
			//Get dimensions and scale
			const width		= hor & 0x3fff;
			const horizontalScale   = hor >> 14;
			const height		= ver & 0x3fff;
			const verticalScale	= ver >> 14;
			//Key frame
			return view.subarray (0,10);
		}
		
		//No key frame
		return view.subarray (0,3);
	}
};

		


/***/ }),

/***/ "./node_modules/lodash/_Symbol.js":
/*!****************************************!*\\
  !*** ./node_modules/lodash/_Symbol.js ***!
  \\****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/** Built-in value references. */
var Symbol = root.Symbol;

module.exports = Symbol;


/***/ }),

/***/ "./node_modules/lodash/_baseGetTag.js":
/*!********************************************!*\\
  !*** ./node_modules/lodash/_baseGetTag.js ***!
  \\********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js"),
    getRawTag = __webpack_require__(/*! ./_getRawTag */ "./node_modules/lodash/_getRawTag.js"),
    objectToString = __webpack_require__(/*! ./_objectToString */ "./node_modules/lodash/_objectToString.js");

/** \`Object#toString\` result references. */
var nullTag = '[object Null]',
    undefinedTag = '[object Undefined]';

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * The base implementation of \`getTag\` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the \`toStringTag\`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

module.exports = baseGetTag;


/***/ }),

/***/ "./node_modules/lodash/_baseTrim.js":
/*!******************************************!*\\
  !*** ./node_modules/lodash/_baseTrim.js ***!
  \\******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var trimmedEndIndex = __webpack_require__(/*! ./_trimmedEndIndex */ "./node_modules/lodash/_trimmedEndIndex.js");

/** Used to match leading whitespace. */
var reTrimStart = /^\\s+/;

/**
 * The base implementation of \`_.trim\`.
 *
 * @private
 * @param {string} string The string to trim.
 * @returns {string} Returns the trimmed string.
 */
function baseTrim(string) {
  return string
    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')
    : string;
}

module.exports = baseTrim;


/***/ }),

/***/ "./node_modules/lodash/_freeGlobal.js":
/*!********************************************!*\\
  !*** ./node_modules/lodash/_freeGlobal.js ***!
  \\********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable \`global\` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

module.exports = freeGlobal;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/lodash/_getRawTag.js":
/*!*******************************************!*\\
  !*** ./node_modules/lodash/_getRawTag.js ***!
  \\*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [\`toStringTag\`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * A specialized version of \`baseGetTag\` which ignores \`Symbol.toStringTag\` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw \`toStringTag\`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

module.exports = getRawTag;


/***/ }),

/***/ "./node_modules/lodash/_objectToString.js":
/*!************************************************!*\\
  !*** ./node_modules/lodash/_objectToString.js ***!
  \\************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [\`toStringTag\`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/**
 * Converts \`value\` to a string using \`Object.prototype.toString\`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

module.exports = objectToString;


/***/ }),

/***/ "./node_modules/lodash/_root.js":
/*!**************************************!*\\
  !*** ./node_modules/lodash/_root.js ***!
  \\**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ "./node_modules/lodash/_freeGlobal.js");

/** Detect free variable \`self\`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

module.exports = root;


/***/ }),

/***/ "./node_modules/lodash/_trimmedEndIndex.js":
/*!*************************************************!*\\
  !*** ./node_modules/lodash/_trimmedEndIndex.js ***!
  \\*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Used to match a single whitespace character. */
var reWhitespace = /\\s/;

/**
 * Used by \`_.trim\` and \`_.trimEnd\` to get the index of the last non-whitespace
 * character of \`string\`.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {number} Returns the index of the last non-whitespace character.
 */
function trimmedEndIndex(string) {
  var index = string.length;

  while (index-- && reWhitespace.test(string.charAt(index))) {}
  return index;
}

module.exports = trimmedEndIndex;


/***/ }),

/***/ "./node_modules/lodash/debounce.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/debounce.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    now = __webpack_require__(/*! ./now */ "./node_modules/lodash/now.js"),
    toNumber = __webpack_require__(/*! ./toNumber */ "./node_modules/lodash/toNumber.js");

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/* Built-in method references for those with the same name as other \`lodash\` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Creates a debounced function that delays invoking \`func\` until after \`wait\`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a \`cancel\` method to cancel
 * delayed \`func\` invocations and a \`flush\` method to immediately invoke them.
 * Provide \`options\` to indicate whether \`func\` should be invoked on the
 * leading and/or trailing edge of the \`wait\` timeout. The \`func\` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last \`func\`
 * invocation.
 *
 * **Note:** If \`leading\` and \`trailing\` options are \`true\`, \`func\` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the \`wait\` timeout.
 *
 * If \`wait\` is \`0\` and \`leading\` is \`false\`, \`func\` invocation is deferred
 * until to the next tick, similar to \`setTimeout\` with a timeout of \`0\`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between \`_.debounce\` and \`_.throttle\`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time \`func\` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke \`sendMail\` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure \`batchLog\` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any \`maxWait\` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        timeWaiting = wait - timeSinceLastCall;

    return maxing
      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
      : timeWaiting;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the \`maxWait\` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have \`lastArgs\` which means \`func\` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        clearTimeout(timerId);
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

module.exports = debounce;


/***/ }),

/***/ "./node_modules/lodash/isObject.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/isObject.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Checks if \`value\` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of \`Object\`. (e.g. arrays, functions, objects, regexes, \`new Number(0)\`, and \`new String('')\`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is an object, else \`false\`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

module.exports = isObject;


/***/ }),

/***/ "./node_modules/lodash/isObjectLike.js":
/*!*********************************************!*\\
  !*** ./node_modules/lodash/isObjectLike.js ***!
  \\*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Checks if \`value\` is object-like. A value is object-like if it's not \`null\`
 * and has a \`typeof\` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is object-like, else \`false\`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

module.exports = isObjectLike;


/***/ }),

/***/ "./node_modules/lodash/isSymbol.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/isSymbol.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ "./node_modules/lodash/_baseGetTag.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/** \`Object#toString\` result references. */
var symbolTag = '[object Symbol]';

/**
 * Checks if \`value\` is classified as a \`Symbol\` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns \`true\` if \`value\` is a symbol, else \`false\`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && baseGetTag(value) == symbolTag);
}

module.exports = isSymbol;


/***/ }),

/***/ "./node_modules/lodash/now.js":
/*!************************************!*\\
  !*** ./node_modules/lodash/now.js ***!
  \\************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

module.exports = now;


/***/ }),

/***/ "./node_modules/lodash/toNumber.js":
/*!*****************************************!*\\
  !*** ./node_modules/lodash/toNumber.js ***!
  \\*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseTrim = __webpack_require__(/*! ./_baseTrim */ "./node_modules/lodash/_baseTrim.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isSymbol = __webpack_require__(/*! ./isSymbol */ "./node_modules/lodash/isSymbol.js");

/** Used as references for various \`Number\` constants. */
var NAN = 0 / 0;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on \`root\`. */
var freeParseInt = parseInt;

/**
 * Converts \`value\` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = baseTrim(value);
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = toNumber;


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\\
  !*** (webpack)/buildin/global.js ***!
  \\***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ })

/******/ });
`,"Worker",void 0,void 0)}},"./index.js":function(rt,it,ot){ot.r(it);var st=ot("./lib/Utils.js");ot.d(it,"Utils",function(){return st.Utils});var at=ot("./Client.js");ot.d(it,"SFrame",function(){return at.SFrame})},"./lib/Utils.js":function(rt,it,ot){ot.r(it),ot.d(it,"Utils",function(){return st});const st={toHex:function(at){return Array.prototype.map.call(at instanceof Uint8Array?at:new Uint8Array(at),ct=>ct.toString(16).padStart(2,"0")).join("")},fromHex:function(at){const ct=[];for(let lt=0;lt<at.length/2;++lt)ct.push(parseInt(at.substring(lt*2,(lt+1)*2),16));return new Uint8Array(ct)},equals:function(at,ct){if(at.byteLength!=ct.byteLength)return!1;for(let lt=0;lt!=at.byteLength;lt++)if(at[lt]!=ct[lt])return!1;return!0}}},"./node_modules/worker-loader/dist/runtime/inline.js":function(rt,it,ot){rt.exports=function(st,at,ct,lt){var dt=self||window;try{try{var ut;try{ut=new dt.Blob([st])}catch{var ft=dt.BlobBuilder||dt.WebKitBlobBuilder||dt.MozBlobBuilder||dt.MSBlobBuilder;ut=new ft,ut.append(st),ut=ut.getBlob()}var pt=dt.URL||dt.webkitURL,vt=pt.createObjectURL(ut),Ct=new dt[at](vt,ct);return pt.revokeObjectURL(vt),Ct}catch{return new dt[at]("data:application/javascript,".concat(encodeURIComponent(st)),ct)}}catch{if(!lt)throw Error("Inline worker is not supported");return new dt[at](lt,ct)}}}})})}).call(this,et(2))},function(_e,tt,et){const nt=et(6),rt=et(306),it=et(72)(),ot=et(776),st=et(28);let at=function(){function ct(dt,ut){ut===void 0&&(ut={}),this._session=dt,this.PeerConnection=ut.PeerConnection||it,this._subscriberCreateQueue=new ot,this._originalSendMessages={},this._tracks=[],this._subscriberPcs={},this._sendMessage=()=>{},nt(this)}var lt=ct.prototype;return lt.parseOptions=function(ut){return Object.assign({},ut,{removeUnusedCodecs:!0,sendMessage:(ft,pt)=>this.trigger("sendMessage",ft,pt)})},lt.addTrackAddedListener=function(){this._peerConnection&&this._peerConnection.on("trackAdded",ut=>{const ft=ut.track;this._tracks.includes(ft.id)||(this._subscriberPcs[this._subscriberPcToAdd._id].push(ft.id),this._tracks.push(ft.id),this._subscriberPcToAdd._onTrackAdded(ut))})},lt.getPeerConnection=function(ut,ft){if(this._subscriberPcToAdd=ft,this._sendMessage=ut.sendMessage,this._originalSendMessages[ft._id]=this._sendMessage,this._peerConnection)this._peerConnection.addOptions(ut);else{this._firstSubscriberPc=ft._id,this.on("sendMessage",(vt,Ct)=>{this._sendMessage(vt,Ct)});const pt=this.parseOptions(ut);this._peerConnection=new this.PeerConnection(pt),this.addTrackAddedListener()}return this._subscriberPcs[ft._id]=[],this._peerConnection},lt.removeMessageSender=function(ut){delete this._originalSendMessages[ut];const ft=Object.values(this._originalSendMessages);this._sendMessage=ft[ft.length-1]||function(){}},lt.removeSubscriber=function(ut,ft){this.removeMessageSender(ut),this._peerConnection.stopTransceivers(ft)},lt.removeFromSinglePeerConnection=function(ut){if(delete this._subscriberPcs[ut],!Object.keys(this._subscriberPcs).length){this.reset();return}if(this._firstSubscriberPc===ut)this._peerConnection.iceRestart(),this._peerConnection.generateOfferAndSend();else{const ft=pt=>{this.cachedSdp=st.updateSDPWithNewOffer(this.cachedSdp,pt.sdp);const vt=st.createSDP(this.cachedSdp.headers,this.cachedSdp.trackSections);this._peerConnection.processMessage("answer",{content:{sdp:vt,mocked:!0}})};this._peerConnection.generateOfferAndAnswer(ft)}},lt.removeTrack=function(ut,ft){const pt=ut==null?void 0:ut.id;pt&&(rt(this._tracks,pt),rt(this._subscriberPcs[ft]||[],pt))},lt.reset=function(){this._originalSendMessages={},this._tracks=[],this._subscriberPcs={},this._peerConnection&&(this._peerConnection.disconnect(),this._peerConnection=null)},lt.destroy=function(){this.reset(),this._session=null},lt.addSubscriber=function(ut){this._subscriberCreateQueue.add(ut)},lt.subscriberComplete=function(){this._subscriberCreateQueue.next()},lt.cacheOfferAnswer=function(ut){ut.mocked||(this.cachedSdp=st.parseMantisSDP(ut.sdp))},ct}();_e.exports=at},function(_e,tt,et){let nt=function(){function rt(){this.queue=[],this.isAddingSubscriber=!1}var it=rt.prototype;return it.add=function(st){this.isAddingSubscriber?this.queue.push(st):(this.isAddingSubscriber=!0,st())},it.next=function(){const st=this.queue.shift();st?st():this.isAddingSubscriber=!1},rt}();_e.exports=nt},function(_e,tt,et){_e.exports=function(rt){rt===void 0&&(rt={});const it=rt.Session||et(324)(),ot=rt.sessionObjects||et(22);return function(at,ct,lt){ct==null&&(ct=at,at=null),Array.isArray(ct)&&ct.length===1&&(ct=ct[0]);let dt=ot.sessions.get(ct);return dt||(dt=new it(at,ct,lt),ot.sessions.add(dt)),dt}}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=et(779),st=et(274),at=et(3),ct=et(7),lt=et(10),dt=et(13)(),ut=et(28),ft=et(73),pt=et(143)(typeof window!==void 0?window:commonjsGlobal);function vt(ht){return st(ot(ht,["AV1X","AV1","VP9","rtx","red","ulpfec","H265","X-H264UC","x-ulpfecuc"]))}const Ct=function(){var ht=(0,it.default)(rt.default.mark(function mt(){var yt,Et,Rt,Pt,Vt,Nt,kt;return rt.default.wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:if(!(typeof window>"u")){Zt.next=2;break}return Zt.abrupt("return",{videoEncoders:[],videoDecoders:[]});case 2:if(yt=pt.RTCPeerConnection,!(window.RTCRtpSender&&"getCapabilities"in window.RTCRtpSender)){Zt.next=7;break}return Et=window.RTCRtpSender.getCapabilities("video").codecs.map(qt=>qt.mimeType||qt.name).map(qt=>qt.replace("video/","")),Et=vt(Et),Zt.abrupt("return",{videoEncoders:Et,videoDecoders:Et});case 7:if(!(at.name==="Chrome"&&!("captureStream"in window.HTMLCanvasElement.prototype))){Zt.next=9;break}return Zt.abrupt("return",{videoEncoders:["VP8"],videoDecoders:["VP8"]});case 9:if(!at.isLegacyEdge){Zt.next=11;break}return Zt.abrupt("return",{videoEncoders:["H264","VP8"],videoDecoders:["H264","VP8"]});case 11:return Rt=window.document.createElement("canvas"),Rt.getContext("2d"),Pt=Rt.captureStream(),Zt.prev=14,Nt={iceServers:[]},ft()&&(Nt.sdpSemantics="plan-b"),Vt=new yt(Nt),Vt.addTrack?Vt.addTrack(Pt.getVideoTracks()[0],Pt):Vt.addStream&&Vt.addStream(Pt),Zt.next=21,Vt.createOffer();case 21:return kt=Zt.sent,Et=ut.getCodecs(kt.sdp,"video")||[],Et=vt(Et),Zt.abrupt("return",{videoEncoders:Et,videoDecoders:Et});case 27:throw Zt.prev=27,Zt.t0=Zt.catch(14),dt(ct.UNABLE_TO_ACCESS_MEDIA_ENGINE,new Error("OT.getSupportedCodecs was not able to get the list of supported codecs"),lt.UNABLE_TO_ACCESS_MEDIA_ENGINE);case 30:return Zt.prev=30,Vt.close(),Zt.finish(30);case 33:case"end":return Zt.stop()}},mt,null,[[14,27,30,33]])}));return function(){return ht.apply(this,arguments)}}();_e.exports=Ct},function(_e,tt,et){var nt=et(780),rt=et(238),it=et(88),ot=et(131),st=it(function(at,ct){return ot(at)?nt(at,rt(ct,1,ot,!0)):[]});_e.exports=st},function(_e,tt,et){var nt=et(93),rt=et(94),it=et(130),ot=et(34),st=et(67),at=et(95),ct=200;function lt(dt,ut,ft,pt){var vt=-1,Ct=rt,ht=!0,mt=dt.length,yt=[],Et=ut.length;if(!mt)return yt;ft&&(ut=ot(ut,st(ft))),pt?(Ct=it,ht=!1):ut.length>=ct&&(Ct=at,ht=!1,ut=new nt(ut));e:for(;++vt<mt;){var Rt=dt[vt],Pt=ft==null?Rt:ft(Rt);if(Rt=pt||Rt!==0?Rt:0,ht&&Pt===Pt){for(var Vt=Et;Vt--;)if(ut[Vt]===Pt)continue e;yt.push(Rt)}else Ct(ut,Pt,pt)||yt.push(Rt)}return yt}_e.exports=lt},function(_e,tt,et){const nt=et(320),rt=nt.isSupported;_e.exports=rt},function(_e,tt,et){const nt=et(110);_e.exports=nt},function(_e,tt,et){const nt=et(20)(),rt=nt.getInputMediaDevices;_e.exports=function(ot){rt().then(st=>ot(void 0,st),ot)}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.deviceHelpers||et(20)(),at=st.hasAudioOutputApiSupport,ct=st.hasDevice,lt=ot.getAudioOutputDevices||et(336),dt=ot.updateSubscribersSinkId||et(338),ut=et(13)(),ft=et(7);return function(){var vt=(0,it.default)(rt.default.mark(function Ct(ht){var mt,yt;return rt.default.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(at()){Rt.next=2;break}throw ut(ft.UNSUPPORTED_BROWSER,new Error("setAudioOutputDevice is not supported in your browser."));case 2:return Rt.next=4,lt();case 4:if(mt=Rt.sent,yt=ct(mt,ht),yt){Rt.next=8;break}throw ut(ft.INVALID_AUDIO_OUTPUT_SOURCE,new Error("The requested device is not valid."));case 8:return Rt.prev=8,Rt.next=11,dt(ht);case 11:Rt.next=16;break;case 13:throw Rt.prev=13,Rt.t0=Rt.catch(8),ut(ft.REQUESTED_DEVICE_PERMISSION_DENIED,new Error("No permission to use the requested device."));case 16:case"end":return Rt.stop()}},Ct,null,[[8,13]])}));return function(ht){return vt.apply(this,arguments)}}()}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));const ot=et(786)(),st=et(20)(),at=st.hasAudioOutputApiSupport,ct=st.getNativeMediaDevices;_e.exports=()=>{if(at()){const lt=ct();let dt=!1;lt.addEventListener("devicechange",(0,it.default)(rt.default.mark(function ut(){return rt.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(!dt){pt.next=2;break}return pt.abrupt("return");case 2:return dt=!0,pt.next=5,ot();case 5:dt=!1;case 6:case"end":return pt.stop()}},ut)})))}}},function(_e,tt,et){var nt=et(1),rt=nt(et(4)),it=nt(et(5));_e.exports=function(ot){ot===void 0&&(ot={});const st=ot.deviceHelpers||et(20)(),at=st.getAudioOutputMediaDevices,ct=st.getDefaultAudioOutputDeviceId,lt=st.hasDevice,dt=ot.currentAudioOutputDevice||et(107),ut=dt.getCurrentAudioOutputDeviceId,ft=dt.setCurrentAudioOutputDeviceId,pt=ot.updateSubscribersSinkId||et(338),vt=ot.logging||et(0)("currentAudioOutputDevice");return function(){var ht=(0,it.default)(rt.default.mark(function mt(){var yt,Et,Rt;return rt.default.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return Vt.next=2,at();case 2:if(yt=Vt.sent,yt.length!==0){Vt.next=6;break}return ft(""),Vt.abrupt("return");case 6:if(Et=lt(yt,ut()),!Et){Vt.next=9;break}return Vt.abrupt("return");case 9:return Rt=ct(yt),ft(Rt),Vt.prev=11,Vt.next=14,pt(Rt);case 14:Vt.next=19;break;case 16:Vt.prev=16,Vt.t0=Vt.catch(11),vt.debug("Failed to set the default audio output device.",Vt.t0);case 19:case"end":return Vt.stop()}},mt,null,[[11,16]])}));return function(){return ht.apply(this,arguments)}}()}}])})})(opentok);var opentokExports=opentok.exports;const OT$1=getDefaultExportFromCjs(opentokExports),apiKey="45828062",baseURL="https://opentok-node.onrender.com",getOpentokCredentials=async(_e,tt)=>{const et=await fetch(`${baseURL}/call-v2/room/${_e}`,{headers:{"Content-Type":"application/json"},signal:tt});if(!et.ok)throw Error("error while retrieving opentok credentials");return et.json()};function pollFunction(_e,tt){return setInterval(_e,tt)}const pollEveryWhenConnected=5e3,pollEveryWhenDisconnected=1500,useOpentokSession=_e=>{const[tt,et]=reactExports.useState(""),[nt,rt]=reactExports.useState(""),[it,ot]=reactExports.useState(),[st,at]=reactExports.useState(),[ct,lt]=reactExports.useState(pollEveryWhenConnected);let dt;function ut(){const{openTokAccessToken:ft}=it||{};dt==null||dt.connect(ft??"",handleError)}return reactExports.useEffect(()=>{let pt;const vt=async()=>{try{const Ct=await getOpentokCredentials(1);ot(ht=>(ht==null?void 0:ht.openTokAccessToken)!==Ct.openTokAccessToken||(ht==null?void 0:ht.openTokSessionId)!==Ct.openTokSessionId?Ct:ht),lt(pollEveryWhenConnected)}catch{et("Error getting room info"),lt(pollEveryWhenDisconnected)}};return vt(),_e&&(pt=pollFunction(vt,ct)),()=>{pt&&clearInterval(pt)}},[ct]),reactExports.useEffect(()=>{if(!it)return;const{openTokSessionId:ft}=it;dt=OT$1.initSession(apiKey,ft),console.log("session is initialized"),ut();const pt=createSessionListenersMap();return dt.on({...pt,streamDestroyed:vt=>{if(console.log("Session listened for a streamDestroyed event, reason:",vt.reason),vt.reason==="networkDisconnected"){vt.preventDefault();const Ct=dt==null?void 0:dt.getSubscribersForStream(vt.stream).length;console.log("network disconnected, # of subscribers for the stream",Ct)}},"signal:therapist":vt=>{if(!dt)return;const Ct=vt.data,ht=vt.from===dt.connection?"You have emitted a signal":`You have received a signal ${Ct?`from ${Ct}`:""}`;rt(ht)}}),at(dt),()=>{dt==null||dt.off(),dt==null||dt.disconnect(),console.log("Session disconnected")}},[it]),{opentokSession:st,signalText:nt,error:tt,connectToSession:ut}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$6=window,e$5=t$6.ShadowRoot&&(t$6.ShadyCSS===void 0||t$6.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),n$8=new WeakMap;let o$4=class{constructor(tt,et,nt){if(this._$cssResult$=!0,nt!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=tt,this.t=et}get styleSheet(){let tt=this.o;const et=this.t;if(e$5&&tt===void 0){const nt=et!==void 0&&et.length===1;nt&&(tt=n$8.get(et)),tt===void 0&&((this.o=tt=new CSSStyleSheet).replaceSync(this.cssText),nt&&n$8.set(et,tt))}return tt}toString(){return this.cssText}};const r$7=_e=>new o$4(typeof _e=="string"?_e:_e+"",void 0,s$4),i$2=(_e,...tt)=>{const et=_e.length===1?_e[0]:tt.reduce((nt,rt,it)=>nt+(ot=>{if(ot._$cssResult$===!0)return ot.cssText;if(typeof ot=="number")return ot;throw Error("Value passed to 'css' function must be a 'css' function result: "+ot+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(rt)+_e[it+1],_e[0]);return new o$4(et,_e,s$4)},S$2=(_e,tt)=>{e$5?_e.adoptedStyleSheets=tt.map(et=>et instanceof CSSStyleSheet?et:et.styleSheet):tt.forEach(et=>{const nt=document.createElement("style"),rt=t$6.litNonce;rt!==void 0&&nt.setAttribute("nonce",rt),nt.textContent=et.cssText,_e.appendChild(nt)})},c$4=e$5?_e=>_e:_e=>_e instanceof CSSStyleSheet?(tt=>{let et="";for(const nt of tt.cssRules)et+=nt.cssText;return r$7(et)})(_e):_e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var s$3;const e$4=window,r$6=e$4.trustedTypes,h$6=r$6?r$6.emptyScript:"",o$3=e$4.reactiveElementPolyfillSupport,n$7={toAttribute(_e,tt){switch(tt){case Boolean:_e=_e?h$6:null;break;case Object:case Array:_e=_e==null?_e:JSON.stringify(_e)}return _e},fromAttribute(_e,tt){let et=_e;switch(tt){case Boolean:et=_e!==null;break;case Number:et=_e===null?null:Number(_e);break;case Object:case Array:try{et=JSON.parse(_e)}catch{et=null}}return et}},a$2=(_e,tt)=>tt!==_e&&(tt==tt||_e==_e),l$6={attribute:!0,type:String,converter:n$7,reflect:!1,hasChanged:a$2},d$4="finalized";let u$5=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(tt){var et;this.finalize(),((et=this.h)!==null&&et!==void 0?et:this.h=[]).push(tt)}static get observedAttributes(){this.finalize();const tt=[];return this.elementProperties.forEach((et,nt)=>{const rt=this._$Ep(nt,et);rt!==void 0&&(this._$Ev.set(rt,nt),tt.push(rt))}),tt}static createProperty(tt,et=l$6){if(et.state&&(et.attribute=!1),this.finalize(),this.elementProperties.set(tt,et),!et.noAccessor&&!this.prototype.hasOwnProperty(tt)){const nt=typeof tt=="symbol"?Symbol():"__"+tt,rt=this.getPropertyDescriptor(tt,nt,et);rt!==void 0&&Object.defineProperty(this.prototype,tt,rt)}}static getPropertyDescriptor(tt,et,nt){return{get(){return this[et]},set(rt){const it=this[tt];this[et]=rt,this.requestUpdate(tt,it,nt)},configurable:!0,enumerable:!0}}static getPropertyOptions(tt){return this.elementProperties.get(tt)||l$6}static finalize(){if(this.hasOwnProperty(d$4))return!1;this[d$4]=!0;const tt=Object.getPrototypeOf(this);if(tt.finalize(),tt.h!==void 0&&(this.h=[...tt.h]),this.elementProperties=new Map(tt.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const et=this.properties,nt=[...Object.getOwnPropertyNames(et),...Object.getOwnPropertySymbols(et)];for(const rt of nt)this.createProperty(rt,et[rt])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(tt){const et=[];if(Array.isArray(tt)){const nt=new Set(tt.flat(1/0).reverse());for(const rt of nt)et.unshift(c$4(rt))}else tt!==void 0&&et.push(c$4(tt));return et}static _$Ep(tt,et){const nt=et.attribute;return nt===!1?void 0:typeof nt=="string"?nt:typeof tt=="string"?tt.toLowerCase():void 0}u(){var tt;this._$E_=new Promise(et=>this.enableUpdating=et),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(tt=this.constructor.h)===null||tt===void 0||tt.forEach(et=>et(this))}addController(tt){var et,nt;((et=this._$ES)!==null&&et!==void 0?et:this._$ES=[]).push(tt),this.renderRoot!==void 0&&this.isConnected&&((nt=tt.hostConnected)===null||nt===void 0||nt.call(tt))}removeController(tt){var et;(et=this._$ES)===null||et===void 0||et.splice(this._$ES.indexOf(tt)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((tt,et)=>{this.hasOwnProperty(et)&&(this._$Ei.set(et,this[et]),delete this[et])})}createRenderRoot(){var tt;const et=(tt=this.shadowRoot)!==null&&tt!==void 0?tt:this.attachShadow(this.constructor.shadowRootOptions);return S$2(et,this.constructor.elementStyles),et}connectedCallback(){var tt;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(tt=this._$ES)===null||tt===void 0||tt.forEach(et=>{var nt;return(nt=et.hostConnected)===null||nt===void 0?void 0:nt.call(et)})}enableUpdating(tt){}disconnectedCallback(){var tt;(tt=this._$ES)===null||tt===void 0||tt.forEach(et=>{var nt;return(nt=et.hostDisconnected)===null||nt===void 0?void 0:nt.call(et)})}attributeChangedCallback(tt,et,nt){this._$AK(tt,nt)}_$EO(tt,et,nt=l$6){var rt;const it=this.constructor._$Ep(tt,nt);if(it!==void 0&&nt.reflect===!0){const ot=(((rt=nt.converter)===null||rt===void 0?void 0:rt.toAttribute)!==void 0?nt.converter:n$7).toAttribute(et,nt.type);this._$El=tt,ot==null?this.removeAttribute(it):this.setAttribute(it,ot),this._$El=null}}_$AK(tt,et){var nt;const rt=this.constructor,it=rt._$Ev.get(tt);if(it!==void 0&&this._$El!==it){const ot=rt.getPropertyOptions(it),st=typeof ot.converter=="function"?{fromAttribute:ot.converter}:((nt=ot.converter)===null||nt===void 0?void 0:nt.fromAttribute)!==void 0?ot.converter:n$7;this._$El=it,this[it]=st.fromAttribute(et,ot.type),this._$El=null}}requestUpdate(tt,et,nt){let rt=!0;tt!==void 0&&(((nt=nt||this.constructor.getPropertyOptions(tt)).hasChanged||a$2)(this[tt],et)?(this._$AL.has(tt)||this._$AL.set(tt,et),nt.reflect===!0&&this._$El!==tt&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(tt,nt))):rt=!1),!this.isUpdatePending&&rt&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(et){Promise.reject(et)}const tt=this.scheduleUpdate();return tt!=null&&await tt,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var tt;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((rt,it)=>this[it]=rt),this._$Ei=void 0);let et=!1;const nt=this._$AL;try{et=this.shouldUpdate(nt),et?(this.willUpdate(nt),(tt=this._$ES)===null||tt===void 0||tt.forEach(rt=>{var it;return(it=rt.hostUpdate)===null||it===void 0?void 0:it.call(rt)}),this.update(nt)):this._$Ek()}catch(rt){throw et=!1,this._$Ek(),rt}et&&this._$AE(nt)}willUpdate(tt){}_$AE(tt){var et;(et=this._$ES)===null||et===void 0||et.forEach(nt=>{var rt;return(rt=nt.hostUpdated)===null||rt===void 0?void 0:rt.call(nt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(tt)),this.updated(tt)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(tt){return!0}update(tt){this._$EC!==void 0&&(this._$EC.forEach((et,nt)=>this._$EO(nt,this[nt],et)),this._$EC=void 0),this._$Ek()}updated(tt){}firstUpdated(tt){}};u$5[d$4]=!0,u$5.elementProperties=new Map,u$5.elementStyles=[],u$5.shadowRootOptions={mode:"open"},o$3==null||o$3({ReactiveElement:u$5}),((s$3=e$4.reactiveElementVersions)!==null&&s$3!==void 0?s$3:e$4.reactiveElementVersions=[]).push("1.6.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$5;const i$1=window,s$2=i$1.trustedTypes,e$3=s$2?s$2.createPolicy("lit-html",{createHTML:_e=>_e}):void 0,o$2="$lit$",n$6=`lit$${(Math.random()+"").slice(9)}$`,l$5="?"+n$6,h$5=`<${l$5}>`,r$5=document,u$4=()=>r$5.createComment(""),d$3=_e=>_e===null||typeof _e!="object"&&typeof _e!="function",c$3=Array.isArray,v$4=_e=>c$3(_e)||typeof(_e==null?void 0:_e[Symbol.iterator])=="function",a$1=`[ 	
\f\r]`,f$3=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_$2=/-->/g,m$4=/>/g,p$5=RegExp(`>|${a$1}(?:([^\\s"'>=/]+)(${a$1}*=${a$1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g$3=/'/g,$=/"/g,y$2=/^(?:script|style|textarea|title)$/i,w$3=_e=>(tt,...et)=>({_$litType$:_e,strings:tt,values:et}),x$2=w$3(1),T=Symbol.for("lit-noChange"),A$2=Symbol.for("lit-nothing"),E$1=new WeakMap,C=r$5.createTreeWalker(r$5,129,null,!1);function P$1(_e,tt){if(!Array.isArray(_e)||!_e.hasOwnProperty("raw"))throw Error("invalid template strings array");return e$3!==void 0?e$3.createHTML(tt):tt}const V=(_e,tt)=>{const et=_e.length-1,nt=[];let rt,it=tt===2?"<svg>":"",ot=f$3;for(let st=0;st<et;st++){const at=_e[st];let ct,lt,dt=-1,ut=0;for(;ut<at.length&&(ot.lastIndex=ut,lt=ot.exec(at),lt!==null);)ut=ot.lastIndex,ot===f$3?lt[1]==="!--"?ot=_$2:lt[1]!==void 0?ot=m$4:lt[2]!==void 0?(y$2.test(lt[2])&&(rt=RegExp("</"+lt[2],"g")),ot=p$5):lt[3]!==void 0&&(ot=p$5):ot===p$5?lt[0]===">"?(ot=rt??f$3,dt=-1):lt[1]===void 0?dt=-2:(dt=ot.lastIndex-lt[2].length,ct=lt[1],ot=lt[3]===void 0?p$5:lt[3]==='"'?$:g$3):ot===$||ot===g$3?ot=p$5:ot===_$2||ot===m$4?ot=f$3:(ot=p$5,rt=void 0);const ft=ot===p$5&&_e[st+1].startsWith("/>")?" ":"";it+=ot===f$3?at+h$5:dt>=0?(nt.push(ct),at.slice(0,dt)+o$2+at.slice(dt)+n$6+ft):at+n$6+(dt===-2?(nt.push(void 0),st):ft)}return[P$1(_e,it+(_e[et]||"<?>")+(tt===2?"</svg>":"")),nt]};let N$1=class Gv{constructor({strings:tt,_$litType$:et},nt){let rt;this.parts=[];let it=0,ot=0;const st=tt.length-1,at=this.parts,[ct,lt]=V(tt,et);if(this.el=Gv.createElement(ct,nt),C.currentNode=this.el.content,et===2){const dt=this.el.content,ut=dt.firstChild;ut.remove(),dt.append(...ut.childNodes)}for(;(rt=C.nextNode())!==null&&at.length<st;){if(rt.nodeType===1){if(rt.hasAttributes()){const dt=[];for(const ut of rt.getAttributeNames())if(ut.endsWith(o$2)||ut.startsWith(n$6)){const ft=lt[ot++];if(dt.push(ut),ft!==void 0){const pt=rt.getAttribute(ft.toLowerCase()+o$2).split(n$6),vt=/([.?@])?(.*)/.exec(ft);at.push({type:1,index:it,name:vt[2],strings:pt,ctor:vt[1]==="."?H$1:vt[1]==="?"?L$1:vt[1]==="@"?z$2:k$4})}else at.push({type:6,index:it})}for(const ut of dt)rt.removeAttribute(ut)}if(y$2.test(rt.tagName)){const dt=rt.textContent.split(n$6),ut=dt.length-1;if(ut>0){rt.textContent=s$2?s$2.emptyScript:"";for(let ft=0;ft<ut;ft++)rt.append(dt[ft],u$4()),C.nextNode(),at.push({type:2,index:++it});rt.append(dt[ut],u$4())}}}else if(rt.nodeType===8)if(rt.data===l$5)at.push({type:2,index:it});else{let dt=-1;for(;(dt=rt.data.indexOf(n$6,dt+1))!==-1;)at.push({type:7,index:it}),dt+=n$6.length-1}it++}}static createElement(tt,et){const nt=r$5.createElement("template");return nt.innerHTML=tt,nt}};function S$1(_e,tt,et=_e,nt){var rt,it,ot,st;if(tt===T)return tt;let at=nt!==void 0?(rt=et._$Co)===null||rt===void 0?void 0:rt[nt]:et._$Cl;const ct=d$3(tt)?void 0:tt._$litDirective$;return(at==null?void 0:at.constructor)!==ct&&((it=at==null?void 0:at._$AO)===null||it===void 0||it.call(at,!1),ct===void 0?at=void 0:(at=new ct(_e),at._$AT(_e,et,nt)),nt!==void 0?((ot=(st=et)._$Co)!==null&&ot!==void 0?ot:st._$Co=[])[nt]=at:et._$Cl=at),at!==void 0&&(tt=S$1(_e,at._$AS(_e,tt.values),at,nt)),tt}let M$1=class{constructor(tt,et){this._$AV=[],this._$AN=void 0,this._$AD=tt,this._$AM=et}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(tt){var et;const{el:{content:nt},parts:rt}=this._$AD,it=((et=tt==null?void 0:tt.creationScope)!==null&&et!==void 0?et:r$5).importNode(nt,!0);C.currentNode=it;let ot=C.nextNode(),st=0,at=0,ct=rt[0];for(;ct!==void 0;){if(st===ct.index){let lt;ct.type===2?lt=new R$1(ot,ot.nextSibling,this,tt):ct.type===1?lt=new ct.ctor(ot,ct.name,ct.strings,this,tt):ct.type===6&&(lt=new Z$1(ot,this,tt)),this._$AV.push(lt),ct=rt[++at]}st!==(ct==null?void 0:ct.index)&&(ot=C.nextNode(),st++)}return C.currentNode=r$5,it}v(tt){let et=0;for(const nt of this._$AV)nt!==void 0&&(nt.strings!==void 0?(nt._$AI(tt,nt,et),et+=nt.strings.length-2):nt._$AI(tt[et])),et++}},R$1=class Wv{constructor(tt,et,nt,rt){var it;this.type=2,this._$AH=A$2,this._$AN=void 0,this._$AA=tt,this._$AB=et,this._$AM=nt,this.options=rt,this._$Cp=(it=rt==null?void 0:rt.isConnected)===null||it===void 0||it}get _$AU(){var tt,et;return(et=(tt=this._$AM)===null||tt===void 0?void 0:tt._$AU)!==null&&et!==void 0?et:this._$Cp}get parentNode(){let tt=this._$AA.parentNode;const et=this._$AM;return et!==void 0&&(tt==null?void 0:tt.nodeType)===11&&(tt=et.parentNode),tt}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(tt,et=this){tt=S$1(this,tt,et),d$3(tt)?tt===A$2||tt==null||tt===""?(this._$AH!==A$2&&this._$AR(),this._$AH=A$2):tt!==this._$AH&&tt!==T&&this._(tt):tt._$litType$!==void 0?this.g(tt):tt.nodeType!==void 0?this.$(tt):v$4(tt)?this.T(tt):this._(tt)}k(tt){return this._$AA.parentNode.insertBefore(tt,this._$AB)}$(tt){this._$AH!==tt&&(this._$AR(),this._$AH=this.k(tt))}_(tt){this._$AH!==A$2&&d$3(this._$AH)?this._$AA.nextSibling.data=tt:this.$(r$5.createTextNode(tt)),this._$AH=tt}g(tt){var et;const{values:nt,_$litType$:rt}=tt,it=typeof rt=="number"?this._$AC(tt):(rt.el===void 0&&(rt.el=N$1.createElement(P$1(rt.h,rt.h[0]),this.options)),rt);if(((et=this._$AH)===null||et===void 0?void 0:et._$AD)===it)this._$AH.v(nt);else{const ot=new M$1(it,this),st=ot.u(this.options);ot.v(nt),this.$(st),this._$AH=ot}}_$AC(tt){let et=E$1.get(tt.strings);return et===void 0&&E$1.set(tt.strings,et=new N$1(tt)),et}T(tt){c$3(this._$AH)||(this._$AH=[],this._$AR());const et=this._$AH;let nt,rt=0;for(const it of tt)rt===et.length?et.push(nt=new Wv(this.k(u$4()),this.k(u$4()),this,this.options)):nt=et[rt],nt._$AI(it),rt++;rt<et.length&&(this._$AR(nt&&nt._$AB.nextSibling,rt),et.length=rt)}_$AR(tt=this._$AA.nextSibling,et){var nt;for((nt=this._$AP)===null||nt===void 0||nt.call(this,!1,!0,et);tt&&tt!==this._$AB;){const rt=tt.nextSibling;tt.remove(),tt=rt}}setConnected(tt){var et;this._$AM===void 0&&(this._$Cp=tt,(et=this._$AP)===null||et===void 0||et.call(this,tt))}},k$4=class{constructor(tt,et,nt,rt,it){this.type=1,this._$AH=A$2,this._$AN=void 0,this.element=tt,this.name=et,this._$AM=rt,this.options=it,nt.length>2||nt[0]!==""||nt[1]!==""?(this._$AH=Array(nt.length-1).fill(new String),this.strings=nt):this._$AH=A$2}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(tt,et=this,nt,rt){const it=this.strings;let ot=!1;if(it===void 0)tt=S$1(this,tt,et,0),ot=!d$3(tt)||tt!==this._$AH&&tt!==T,ot&&(this._$AH=tt);else{const st=tt;let at,ct;for(tt=it[0],at=0;at<it.length-1;at++)ct=S$1(this,st[nt+at],et,at),ct===T&&(ct=this._$AH[at]),ot||(ot=!d$3(ct)||ct!==this._$AH[at]),ct===A$2?tt=A$2:tt!==A$2&&(tt+=(ct??"")+it[at+1]),this._$AH[at]=ct}ot&&!rt&&this.j(tt)}j(tt){tt===A$2?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,tt??"")}},H$1=class extends k$4{constructor(){super(...arguments),this.type=3}j(tt){this.element[this.name]=tt===A$2?void 0:tt}};const I$1=s$2?s$2.emptyScript:"";let L$1=class extends k$4{constructor(){super(...arguments),this.type=4}j(tt){tt&&tt!==A$2?this.element.setAttribute(this.name,I$1):this.element.removeAttribute(this.name)}},z$2=class extends k$4{constructor(tt,et,nt,rt,it){super(tt,et,nt,rt,it),this.type=5}_$AI(tt,et=this){var nt;if((tt=(nt=S$1(this,tt,et,0))!==null&&nt!==void 0?nt:A$2)===T)return;const rt=this._$AH,it=tt===A$2&&rt!==A$2||tt.capture!==rt.capture||tt.once!==rt.once||tt.passive!==rt.passive,ot=tt!==A$2&&(rt===A$2||it);it&&this.element.removeEventListener(this.name,this,rt),ot&&this.element.addEventListener(this.name,this,tt),this._$AH=tt}handleEvent(tt){var et,nt;typeof this._$AH=="function"?this._$AH.call((nt=(et=this.options)===null||et===void 0?void 0:et.host)!==null&&nt!==void 0?nt:this.element,tt):this._$AH.handleEvent(tt)}},Z$1=class{constructor(tt,et,nt){this.element=tt,this.type=6,this._$AN=void 0,this._$AM=et,this.options=nt}get _$AU(){return this._$AM._$AU}_$AI(tt){S$1(this,tt)}};const B$1=i$1.litHtmlPolyfillSupport;B$1==null||B$1(N$1,R$1),((t$5=i$1.litHtmlVersions)!==null&&t$5!==void 0?t$5:i$1.litHtmlVersions=[]).push("2.7.5");const D$1=(_e,tt,et)=>{var nt,rt;const it=(nt=et==null?void 0:et.renderBefore)!==null&&nt!==void 0?nt:tt;let ot=it._$litPart$;if(ot===void 0){const st=(rt=et==null?void 0:et.renderBefore)!==null&&rt!==void 0?rt:null;it._$litPart$=ot=new R$1(tt.insertBefore(u$4(),st),st,void 0,et??{})}return ot._$AI(_e),ot};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var l$4,o$1;let s$1=class extends u$5{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var tt,et;const nt=super.createRenderRoot();return(tt=(et=this.renderOptions).renderBefore)!==null&&tt!==void 0||(et.renderBefore=nt.firstChild),nt}update(tt){const et=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(tt),this._$Do=D$1(et,this.renderRoot,this.renderOptions)}connectedCallback(){var tt;super.connectedCallback(),(tt=this._$Do)===null||tt===void 0||tt.setConnected(!0)}disconnectedCallback(){var tt;super.disconnectedCallback(),(tt=this._$Do)===null||tt===void 0||tt.setConnected(!1)}render(){return T}};s$1.finalized=!0,s$1._$litElement$=!0,(l$4=globalThis.litElementHydrateSupport)===null||l$4===void 0||l$4.call(globalThis,{LitElement:s$1});const n$5=globalThis.litElementPolyfillSupport;n$5==null||n$5({LitElement:s$1});((o$1=globalThis.litElementVersions)!==null&&o$1!==void 0?o$1:globalThis.litElementVersions=[]).push("3.3.2");class ScreenShare extends s$1{static get styles(){return i$2`
      :host {
        display: block;
        padding: 25px;
        color: var(--screen-share-text-color, #000);
      }
    `}static get properties(){return{publisher:{},session:{},token:{},properties:{type:Object},buttonStartText:{type:String,attribute:"start-text"},buttonStopText:{type:String,attribute:"stop-text"},isSharing:{type:Boolean}}}constructor(){super(),this.session={},this.token="",this.properties={},this.buttonStartText="start screenshare",this.buttonStopText="stop screenshare",this.isSharing=!1}updated(tt){tt.get("session")&&this.session.connect(this.token)}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.publisher.destroy()}async __handleStartScreenshare(){this.properties={...this.properties,videoSource:"screen",insertMode:"append"},window.OT?this.publisher=OT.initPublisher(document.querySelector("screen-share"),this.properties,tt=>{tt?console.error("error: ",tt):this.session.publish(this.publisher,et=>{et?console.error("session error: ",et.message):this.isSharing=!0})}):console.error("Please load Vonage Video library.")}async __handleStopScreenshare(){this.publisher.destroy(),this.isSharing=!1}displayButton(){return this.isSharing?x$2`<button part="button" @click=${this.__handleStopScreenshare}>${this.buttonStopText}</button>`:x$2`<button part="button" @click=${this.__handleStartScreenshare}>${this.buttonStartText}</button>`}render(){return x$2`
      ${this.displayButton()}
      <br/>
      <slot></slot>
    `}}window.customElements.define("screen-share",ScreenShare);const Call=({sendSignal:_e})=>{const tt=useLocation(),{videoDeviceId:et,microphoneDeviceId:nt}=tt.state||{},{opentokSession:rt,connectToSession:it}=useOpentokSession(!1);reactExports.useEffect(()=>{if(rt)return rt.on({}),()=>{}},[rt]);const ot=_e&&rt;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"videos",children:[jsxRuntimeExports.jsx(Publisher,{session:rt,videoSource:et,audioSource:nt,connectToSession:it}),jsxRuntimeExports.jsx(Subscriber,{session:rt})]}),ot&&jsxRuntimeExports.jsx("button",{onClick:()=>{_e(rt)},children:"Emit Signal"})]})},Member=({userId:_e})=>jsxRuntimeExports.jsx(Call,{userId:_e}),Therapist=({userId:_e})=>{const tt=et=>{et.signal({data:_e,type:"therapist"},handleError)};return jsxRuntimeExports.jsx(Call,{userId:_e,sendSignal:tt})},deviceSelect="",DeviceSelect=({label:_e,devices:tt,updateDeviceId:et})=>{const[nt,rt]=reactExports.useState(tt[0].deviceId),it=tt.map(({deviceId:ot,label:st})=>jsxRuntimeExports.jsx("option",{value:ot,children:st},ot));return jsxRuntimeExports.jsxs("div",{className:"device-select",children:[jsxRuntimeExports.jsx("label",{children:_e}),jsxRuntimeExports.jsx("select",{value:nt,onChange:ot=>{const st=ot.target.value;rt(st),et(st)},children:it})]})},useDevices=()=>{const[_e,tt]=reactExports.useState([]),[et,nt]=reactExports.useState([]),[rt,it]=reactExports.useState([]),[ot,st]=reactExports.useState();return reactExports.useEffect(()=>{var at;if(!((at=navigator.mediaDevices)!=null&&at.enumerateDevices)){const ct="enumerateDevices() not supported in this browser.";st(ct),console.log(ct);return}navigator.mediaDevices.enumerateDevices().then(ct=>{const lt=[],dt=[],ut=[];ct.forEach(ft=>{switch(ft.kind){case"audioinput":ut.push(ft);break;case"audiooutput":dt.push(ft);break;case"videoinput":lt.push(ft)}}),tt(lt),nt(dt),it(ut)}).catch(ct=>{console.error(`${ct.name}: ${ct.message}`)})},[]),{videoDevices:_e,speakerDevices:et,microphoneDevices:rt,error:ot}},devices="",Lobby=({linkTo:_e})=>{const{videoDevices:tt,microphoneDevices:et}=useDevices(),[nt,rt]=reactExports.useState(),[it,ot]=reactExports.useState(),{opentokSession:st,error:at}=useOpentokSession();reactExports.useEffect(()=>{!tt.length||!et.length||(rt(tt[0].deviceId),ot(et[0].deviceId))},[tt,et]);const ct=!!nt&&!!it;return at?jsxRuntimeExports.jsx("div",{children:"There was an error connecting to the session. Please try again later."}):(console.log("allDevicesAvailable",ct),!st||!ct?jsxRuntimeExports.jsx("div",{id:"publisher"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx(Publisher,{session:st,publishToSession:!1,audioSource:it,videoSource:nt,style:{position:"unset"}}),jsxRuntimeExports.jsxs("div",{id:"devices",children:[tt.length>0&&jsxRuntimeExports.jsx(DeviceSelect,{label:"Pick your video input",devices:tt,updateDeviceId:rt}),et.length>0&&jsxRuntimeExports.jsx(DeviceSelect,{label:"Pick your audio input",devices:et,updateDeviceId:ot})]}),jsxRuntimeExports.jsx(Link$2,{to:`/opentok-react/${_e}`,state:{videoDeviceId:nt,microphoneDeviceId:it},children:jsxRuntimeExports.jsx("button",{children:`Go to ${_e}`})})]})}))},common={black:"#000",white:"#fff"},common$1=common,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},_extends.apply(this,arguments)}function isPlainObject$2(_e){return _e!==null&&typeof _e=="object"&&_e.constructor===Object}function deepClone(_e){if(!isPlainObject$2(_e))return _e;const tt={};return Object.keys(_e).forEach(et=>{tt[et]=deepClone(_e[et])}),tt}function deepmerge(_e,tt,et={clone:!0}){const nt=et.clone?_extends({},_e):_e;return isPlainObject$2(_e)&&isPlainObject$2(tt)&&Object.keys(tt).forEach(rt=>{rt!=="__proto__"&&(isPlainObject$2(tt[rt])&&rt in _e&&isPlainObject$2(_e[rt])?nt[rt]=deepmerge(_e[rt],tt[rt],et):et.clone?nt[rt]=isPlainObject$2(tt[rt])?deepClone(tt[rt]):tt[rt]:nt[rt]=tt[rt])}),nt}function formatMuiErrorMessage(_e){let tt="https://mui.com/production-error/?code="+_e;for(let et=1;et<arguments.length;et+=1)tt+="&args[]="+encodeURIComponent(arguments[et]);return"Minified MUI error #"+_e+"; visit "+tt+" for the full message."}var reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$2=Symbol.for("react.portal"),d$2=Symbol.for("react.fragment"),e$2=Symbol.for("react.strict_mode"),f$2=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$4=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$3=Symbol.for("react.forward_ref"),m$3=Symbol.for("react.suspense"),n$4=Symbol.for("react.suspense_list"),p$4=Symbol.for("react.memo"),q$4=Symbol.for("react.lazy"),t$4=Symbol.for("react.offscreen"),u$3;u$3=Symbol.for("react.module.reference");function v$3(_e){if(typeof _e=="object"&&_e!==null){var tt=_e.$$typeof;switch(tt){case b$2:switch(_e=_e.type,_e){case d$2:case f$2:case e$2:case m$3:case n$4:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$3:case h$4:case l$3:case q$4:case p$4:case g$2:return _e;default:return tt}}case c$2:return tt}}}reactIs_production_min$1.ContextConsumer=h$4;reactIs_production_min$1.ContextProvider=g$2;reactIs_production_min$1.Element=b$2;reactIs_production_min$1.ForwardRef=l$3;reactIs_production_min$1.Fragment=d$2;reactIs_production_min$1.Lazy=q$4;reactIs_production_min$1.Memo=p$4;reactIs_production_min$1.Portal=c$2;reactIs_production_min$1.Profiler=f$2;reactIs_production_min$1.StrictMode=e$2;reactIs_production_min$1.Suspense=m$3;reactIs_production_min$1.SuspenseList=n$4;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(_e){return v$3(_e)===h$4};reactIs_production_min$1.isContextProvider=function(_e){return v$3(_e)===g$2};reactIs_production_min$1.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b$2};reactIs_production_min$1.isForwardRef=function(_e){return v$3(_e)===l$3};reactIs_production_min$1.isFragment=function(_e){return v$3(_e)===d$2};reactIs_production_min$1.isLazy=function(_e){return v$3(_e)===q$4};reactIs_production_min$1.isMemo=function(_e){return v$3(_e)===p$4};reactIs_production_min$1.isPortal=function(_e){return v$3(_e)===c$2};reactIs_production_min$1.isProfiler=function(_e){return v$3(_e)===f$2};reactIs_production_min$1.isStrictMode=function(_e){return v$3(_e)===e$2};reactIs_production_min$1.isSuspense=function(_e){return v$3(_e)===m$3};reactIs_production_min$1.isSuspenseList=function(_e){return v$3(_e)===n$4};reactIs_production_min$1.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d$2||_e===f$2||_e===e$2||_e===m$3||_e===n$4||_e===t$4||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q$4||_e.$$typeof===p$4||_e.$$typeof===g$2||_e.$$typeof===h$4||_e.$$typeof===l$3||_e.$$typeof===u$3||_e.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$3;function capitalize(_e){if(typeof _e!="string")throw new Error(formatMuiErrorMessage(7));return _e.charAt(0).toUpperCase()+_e.slice(1)}function createChainedFunction(..._e){return _e.reduce((tt,et)=>et==null?tt:function(...rt){tt.apply(this,rt),et.apply(this,rt)},()=>{})}function debounce(_e,tt=166){let et;function nt(...rt){const it=()=>{_e.apply(this,rt)};clearTimeout(et),et=setTimeout(it,tt)}return nt.clear=()=>{clearTimeout(et)},nt}function deprecatedPropType(_e,tt){return()=>null}function isMuiElement(_e,tt){return reactExports.isValidElement(_e)&&tt.indexOf(_e.type.muiName)!==-1}function ownerDocument(_e){return _e&&_e.ownerDocument||document}function ownerWindow(_e){return ownerDocument(_e).defaultView||window}function requirePropFactory(_e,tt){return()=>null}function setRef(_e,tt){typeof _e=="function"?_e(tt):_e&&(_e.current=tt)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(_e){const[tt,et]=reactExports.useState(_e),nt=_e||tt;return reactExports.useEffect(()=>{tt==null&&(globalId+=1,et(`mui-${globalId}`))},[tt]),nt}const maybeReactUseId=React$1["useId".toString()];function useId(_e){if(maybeReactUseId!==void 0){const tt=maybeReactUseId();return _e??tt}return useGlobalId(_e)}function unsupportedProp(_e,tt,et,nt,rt){return null}function useControlled({controlled:_e,default:tt,name:et,state:nt="value"}){const{current:rt}=reactExports.useRef(_e!==void 0),[it,ot]=reactExports.useState(tt),st=rt?_e:it,at=reactExports.useCallback(ct=>{rt||ot(ct)},[]);return[st,at]}function useEventCallback(_e){const tt=reactExports.useRef(_e);return useEnhancedEffect$1(()=>{tt.current=_e}),reactExports.useCallback((...et)=>(0,tt.current)(...et),[])}function useForkRef(..._e){return reactExports.useMemo(()=>_e.every(tt=>tt==null)?null:tt=>{_e.forEach(et=>{setRef(et,tt)})},_e)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(_e){const{type:tt,tagName:et}=_e;return!!(et==="INPUT"&&inputTypesWhitelist[tt]&&!_e.readOnly||et==="TEXTAREA"&&!_e.readOnly||_e.isContentEditable)}function handleKeyDown(_e){_e.metaKey||_e.altKey||_e.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(_e){_e.addEventListener("keydown",handleKeyDown,!0),_e.addEventListener("mousedown",handlePointerDown,!0),_e.addEventListener("pointerdown",handlePointerDown,!0),_e.addEventListener("touchstart",handlePointerDown,!0),_e.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(_e){const{target:tt}=_e;try{return tt.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(tt)}function useIsFocusVisible(){const _e=reactExports.useCallback(rt=>{rt!=null&&prepare(rt.ownerDocument)},[]),tt=reactExports.useRef(!1);function et(){return tt.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),tt.current=!1,!0):!1}function nt(rt){return isFocusVisible(rt)?(tt.current=!0,!0):!1}return{isFocusVisibleRef:tt,onFocus:nt,onBlur:et,ref:_e}}function getScrollbarSize(_e){const tt=_e.documentElement.clientWidth;return Math.abs(window.innerWidth-tt)}function resolveProps(_e,tt){const et=_extends({},tt);return Object.keys(_e).forEach(nt=>{if(nt.toString().match(/^(components|slots)$/))et[nt]=_extends({},_e[nt],et[nt]);else if(nt.toString().match(/^(componentsProps|slotProps)$/)){const rt=_e[nt]||{},it=tt[nt];et[nt]={},!it||!Object.keys(it)?et[nt]=rt:!rt||!Object.keys(rt)?et[nt]=it:(et[nt]=_extends({},it),Object.keys(rt).forEach(ot=>{et[nt][ot]=resolveProps(rt[ot],it[ot])}))}else et[nt]===void 0&&(et[nt]=_e[nt])}),et}function composeClasses(_e,tt,et=void 0){const nt={};return Object.keys(_e).forEach(rt=>{nt[rt]=_e[rt].reduce((it,ot)=>{if(ot){const st=tt(ot);st!==""&&it.push(st),et&&et[ot]&&it.push(et[ot])}return it},[]).join(" ")}),nt}const defaultGenerator=_e=>_e,createClassNameGenerator=()=>{let _e=defaultGenerator;return{configure(tt){_e=tt},generate(tt){return _e(tt)},reset(){_e=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(_e,tt,et="Mui"){const nt=globalStateClassesMapping[tt];return nt?`${et}-${nt}`:`${ClassNameGenerator$1.generate(_e)}-${tt}`}function generateUtilityClasses(_e,tt,et="Mui"){const nt={};return tt.forEach(rt=>{nt[rt]=generateUtilityClass(_e,rt,et)}),nt}const THEME_ID="$$material";function _objectWithoutPropertiesLoose(_e,tt){if(_e==null)return{};var et={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(tt.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function memoize$1(_e){var tt=Object.create(null);return function(et){return tt[et]===void 0&&(tt[et]=_e(et)),tt[et]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(_e){return reactPropsRegex.test(_e)||_e.charCodeAt(0)===111&&_e.charCodeAt(1)===110&&_e.charCodeAt(2)<91});function sheetForTag(_e){if(_e.sheet)return _e.sheet;for(var tt=0;tt<document.styleSheets.length;tt++)if(document.styleSheets[tt].ownerNode===_e)return document.styleSheets[tt]}function createStyleElement(_e){var tt=document.createElement("style");return tt.setAttribute("data-emotion",_e.key),_e.nonce!==void 0&&tt.setAttribute("nonce",_e.nonce),tt.appendChild(document.createTextNode("")),tt.setAttribute("data-s",""),tt}var StyleSheet=function(){function _e(et){var nt=this;this._insertTag=function(rt){var it;nt.tags.length===0?nt.insertionPoint?it=nt.insertionPoint.nextSibling:nt.prepend?it=nt.container.firstChild:it=nt.before:it=nt.tags[nt.tags.length-1].nextSibling,nt.container.insertBefore(rt,it),nt.tags.push(rt)},this.isSpeedy=et.speedy===void 0?!0:et.speedy,this.tags=[],this.ctr=0,this.nonce=et.nonce,this.key=et.key,this.container=et.container,this.prepend=et.prepend,this.insertionPoint=et.insertionPoint,this.before=null}var tt=_e.prototype;return tt.hydrate=function(nt){nt.forEach(this._insertTag)},tt.insert=function(nt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var rt=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(rt);try{it.insertRule(nt,it.cssRules.length)}catch{}}else rt.appendChild(document.createTextNode(nt));this.ctr++},tt.flush=function(){this.tags.forEach(function(nt){return nt.parentNode&&nt.parentNode.removeChild(nt)}),this.tags=[],this.ctr=0},_e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(_e,tt){return charat(_e,0)^45?(((tt<<2^charat(_e,0))<<2^charat(_e,1))<<2^charat(_e,2))<<2^charat(_e,3):0}function trim(_e){return _e.trim()}function match(_e,tt){return(_e=tt.exec(_e))?_e[0]:_e}function replace(_e,tt,et){return _e.replace(tt,et)}function indexof(_e,tt){return _e.indexOf(tt)}function charat(_e,tt){return _e.charCodeAt(tt)|0}function substr(_e,tt,et){return _e.slice(tt,et)}function strlen(_e){return _e.length}function sizeof(_e){return _e.length}function append(_e,tt){return tt.push(_e),_e}function combine(_e,tt){return _e.map(tt).join("")}var line=1,column=1,length$1=0,position=0,character=0,characters="";function node(_e,tt,et,nt,rt,it,ot){return{value:_e,root:tt,parent:et,type:nt,props:rt,children:it,line,column,length:ot,return:""}}function copy(_e,tt){return assign(node("",null,null,"",null,null,0),_e,{length:-_e.length},tt)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$1?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(_e,tt){return substr(characters,_e,tt)}function token(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_e){return line=column=1,length$1=strlen(characters=_e),position=0,[]}function dealloc(_e){return characters="",_e}function delimit(_e){return trim(slice(position-1,delimiter(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace(_e){for(;(character=peek())&&character<33;)next();return token(_e)>2||token(character)>3?"":" "}function escaping(_e,tt){for(;--tt&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(_e,caret()+(tt<6&&peek()==32&&next()==32))}function delimiter(_e){for(;next();)switch(character){case _e:return position;case 34:case 39:_e!==34&&_e!==39&&delimiter(character);break;case 40:_e===41&&delimiter(_e);break;case 92:next();break}return position}function commenter(_e,tt){for(;next()&&_e+character!==47+10;)if(_e+character===42+42&&peek()===47)break;return"/*"+slice(tt,position-1)+"*"+from(_e===47?_e:next())}function identifier(_e){for(;!token(peek());)next();return slice(_e,position)}function compile(_e){return dealloc(parse("",null,null,null,[""],_e=alloc(_e),0,[0],_e))}function parse(_e,tt,et,nt,rt,it,ot,st,at){for(var ct=0,lt=0,dt=ot,ut=0,ft=0,pt=0,vt=1,Ct=1,ht=1,mt=0,yt="",Et=rt,Rt=it,Pt=nt,Vt=yt;Ct;)switch(pt=mt,mt=next()){case 40:if(pt!=108&&charat(Vt,dt-1)==58){indexof(Vt+=replace(delimit(mt),"&","&\f"),"&\f")!=-1&&(ht=-1);break}case 34:case 39:case 91:Vt+=delimit(mt);break;case 9:case 10:case 13:case 32:Vt+=whitespace(pt);break;case 92:Vt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),tt,et),at);break;default:Vt+="/"}break;case 123*vt:st[ct++]=strlen(Vt)*ht;case 125*vt:case 59:case 0:switch(mt){case 0:case 125:Ct=0;case 59+lt:ht==-1&&(Vt=replace(Vt,/\f/g,"")),ft>0&&strlen(Vt)-dt&&append(ft>32?declaration(Vt+";",nt,et,dt-1):declaration(replace(Vt," ","")+";",nt,et,dt-2),at);break;case 59:Vt+=";";default:if(append(Pt=ruleset(Vt,tt,et,ct,lt,rt,st,yt,Et=[],Rt=[],dt),it),mt===123)if(lt===0)parse(Vt,tt,Pt,Pt,Et,it,dt,st,Rt);else switch(ut===99&&charat(Vt,3)===110?100:ut){case 100:case 108:case 109:case 115:parse(_e,Pt,Pt,nt&&append(ruleset(_e,Pt,Pt,0,0,rt,st,yt,rt,Et=[],dt),Rt),rt,Rt,dt,st,nt?Et:Rt);break;default:parse(Vt,Pt,Pt,Pt,[""],Rt,0,st,Rt)}}ct=lt=ft=0,vt=ht=1,yt=Vt="",dt=ot;break;case 58:dt=1+strlen(Vt),ft=pt;default:if(vt<1){if(mt==123)--vt;else if(mt==125&&vt++==0&&prev()==125)continue}switch(Vt+=from(mt),mt*vt){case 38:ht=lt>0?1:(Vt+="\f",-1);break;case 44:st[ct++]=(strlen(Vt)-1)*ht,ht=1;break;case 64:peek()===45&&(Vt+=delimit(next())),ut=peek(),lt=dt=strlen(yt=Vt+=identifier(caret())),mt++;break;case 45:pt===45&&strlen(Vt)==2&&(vt=0)}}return it}function ruleset(_e,tt,et,nt,rt,it,ot,st,at,ct,lt){for(var dt=rt-1,ut=rt===0?it:[""],ft=sizeof(ut),pt=0,vt=0,Ct=0;pt<nt;++pt)for(var ht=0,mt=substr(_e,dt+1,dt=abs(vt=ot[pt])),yt=_e;ht<ft;++ht)(yt=trim(vt>0?ut[ht]+" "+mt:replace(mt,/&\f/g,ut[ht])))&&(at[Ct++]=yt);return node(_e,tt,et,rt===0?RULESET:st,at,ct,lt)}function comment(_e,tt,et){return node(_e,tt,et,COMMENT,from(char()),substr(_e,2,-2),0)}function declaration(_e,tt,et,nt){return node(_e,tt,et,DECLARATION,substr(_e,0,nt),substr(_e,nt+1,-1),nt)}function serialize(_e,tt){for(var et="",nt=sizeof(_e),rt=0;rt<nt;rt++)et+=tt(_e[rt],rt,_e,tt)||"";return et}function stringify(_e,tt,et,nt){switch(_e.type){case LAYER:if(_e.children.length)break;case IMPORT:case DECLARATION:return _e.return=_e.return||_e.value;case COMMENT:return"";case KEYFRAMES:return _e.return=_e.value+"{"+serialize(_e.children,nt)+"}";case RULESET:_e.value=_e.props.join(",")}return strlen(et=serialize(_e.children,nt))?_e.return=_e.value+"{"+et+"}":""}function middleware(_e){var tt=sizeof(_e);return function(et,nt,rt,it){for(var ot="",st=0;st<tt;st++)ot+=_e[st](et,nt,rt,it)||"";return ot}}function rulesheet(_e){return function(tt){tt.root||(tt=tt.return)&&_e(tt)}}var identifierWithPointTracking=function _e(tt,et,nt){for(var rt=0,it=0;rt=it,it=peek(),rt===38&&it===12&&(et[nt]=1),!token(it);)next();return slice(tt,position)},toRules=function _e(tt,et){var nt=-1,rt=44;do switch(token(rt)){case 0:rt===38&&peek()===12&&(et[nt]=1),tt[nt]+=identifierWithPointTracking(position-1,et,nt);break;case 2:tt[nt]+=delimit(rt);break;case 4:if(rt===44){tt[++nt]=peek()===58?"&\f":"",et[nt]=tt[nt].length;break}default:tt[nt]+=from(rt)}while(rt=next());return tt},getRules=function _e(tt,et){return dealloc(toRules(alloc(tt),et))},fixedElements=new WeakMap,compat=function _e(tt){if(!(tt.type!=="rule"||!tt.parent||tt.length<1)){for(var et=tt.value,nt=tt.parent,rt=tt.column===nt.column&&tt.line===nt.line;nt.type!=="rule";)if(nt=nt.parent,!nt)return;if(!(tt.props.length===1&&et.charCodeAt(0)!==58&&!fixedElements.get(nt))&&!rt){fixedElements.set(tt,!0);for(var it=[],ot=getRules(et,it),st=nt.props,at=0,ct=0;at<ot.length;at++)for(var lt=0;lt<st.length;lt++,ct++)tt.props[ct]=it[at]?ot[at].replace(/&\f/g,st[lt]):st[lt]+" "+ot[at]}}},removeLabel=function _e(tt){if(tt.type==="decl"){var et=tt.value;et.charCodeAt(0)===108&&et.charCodeAt(2)===98&&(tt.return="",tt.value="")}};function prefix(_e,tt){switch(hash(_e,tt)){case 5103:return WEBKIT+"print-"+_e+_e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+_e+_e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+_e+MOZ+_e+MS+_e+_e;case 6828:case 4268:return WEBKIT+_e+MS+_e+_e;case 6165:return WEBKIT+_e+MS+"flex-"+_e+_e;case 5187:return WEBKIT+_e+replace(_e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+_e;case 5443:return WEBKIT+_e+MS+"flex-item-"+replace(_e,/flex-|-self/,"")+_e;case 4675:return WEBKIT+_e+MS+"flex-line-pack"+replace(_e,/align-content|flex-|-self/,"")+_e;case 5548:return WEBKIT+_e+MS+replace(_e,"shrink","negative")+_e;case 5292:return WEBKIT+_e+MS+replace(_e,"basis","preferred-size")+_e;case 6060:return WEBKIT+"box-"+replace(_e,"-grow","")+WEBKIT+_e+MS+replace(_e,"grow","positive")+_e;case 4554:return WEBKIT+replace(_e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+_e;case 6187:return replace(replace(replace(_e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),_e,"")+_e;case 5495:case 3959:return replace(_e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(_e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+_e+_e;case 4095:case 3583:case 4068:case 2532:return replace(_e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+_e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(_e)-1-tt>6)switch(charat(_e,tt+1)){case 109:if(charat(_e,tt+4)!==45)break;case 102:return replace(_e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(_e,tt+3)==108?"$3":"$2-$3"))+_e;case 115:return~indexof(_e,"stretch")?prefix(replace(_e,"stretch","fill-available"),tt)+_e:_e}break;case 4949:if(charat(_e,tt+1)!==115)break;case 6444:switch(charat(_e,strlen(_e)-3-(~indexof(_e,"!important")&&10))){case 107:return replace(_e,":",":"+WEBKIT)+_e;case 101:return replace(_e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(_e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+_e}break;case 5936:switch(charat(_e,tt+11)){case 114:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb")+_e;case 108:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb-rl")+_e;case 45:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"lr")+_e}return WEBKIT+_e+MS+_e+_e}return _e}var prefixer=function _e(tt,et,nt,rt){if(tt.length>-1&&!tt.return)switch(tt.type){case DECLARATION:tt.return=prefix(tt.value,tt.length);break;case KEYFRAMES:return serialize([copy(tt,{value:replace(tt.value,"@","@"+WEBKIT)})],rt);case RULESET:if(tt.length)return combine(tt.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(tt,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],rt);case"::placeholder":return serialize([copy(tt,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(tt,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(tt,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],rt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function _e(tt){var et=tt.key;if(et==="css"){var nt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(nt,function(vt){var Ct=vt.getAttribute("data-emotion");Ct.indexOf(" ")!==-1&&(document.head.appendChild(vt),vt.setAttribute("data-s",""))})}var rt=tt.stylisPlugins||defaultStylisPlugins,it={},ot,st=[];ot=tt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+et+' "]'),function(vt){for(var Ct=vt.getAttribute("data-emotion").split(" "),ht=1;ht<Ct.length;ht++)it[Ct[ht]]=!0;st.push(vt)});var at,ct=[compat,removeLabel];{var lt,dt=[stringify,rulesheet(function(vt){lt.insert(vt)})],ut=middleware(ct.concat(rt,dt)),ft=function(Ct){return serialize(compile(Ct),ut)};at=function(Ct,ht,mt,yt){lt=mt,ft(Ct?Ct+"{"+ht.styles+"}":ht.styles),yt&&(pt.inserted[ht.name]=!0)}}var pt={key:et,sheet:new StyleSheet({key:et,container:ot,nonce:tt.nonce,speedy:tt.speedy,prepend:tt.prepend,insertionPoint:tt.insertionPoint}),nonce:tt.nonce,inserted:it,registered:{},insert:at};return pt.sheet.hydrate(st),pt},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$3=b$1?Symbol.for("react.provider"):60109,k$2=b$1?Symbol.for("react.context"):60110,l$2=b$1?Symbol.for("react.async_mode"):60111,m$2=b$1?Symbol.for("react.concurrent_mode"):60111,n$3=b$1?Symbol.for("react.forward_ref"):60112,p$3=b$1?Symbol.for("react.suspense"):60113,q$3=b$1?Symbol.for("react.suspense_list"):60120,r$4=b$1?Symbol.for("react.memo"):60115,t$3=b$1?Symbol.for("react.lazy"):60116,v$2=b$1?Symbol.for("react.block"):60121,w$2=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(_e){if(typeof _e=="object"&&_e!==null){var tt=_e.$$typeof;switch(tt){case c$1:switch(_e=_e.type,_e){case l$2:case m$2:case e$1:case g$1:case f$1:case p$3:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$2:case n$3:case t$3:case r$4:case h$3:return _e;default:return tt}}case d$1:return tt}}}function A$1(_e){return z$1(_e)===m$2}reactIs_production_min.AsyncMode=l$2;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$3;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n$3;reactIs_production_min.Fragment=e$1;reactIs_production_min.Lazy=t$3;reactIs_production_min.Memo=r$4;reactIs_production_min.Portal=d$1;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$3;reactIs_production_min.isAsyncMode=function(_e){return A$1(_e)||z$1(_e)===l$2};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(_e){return z$1(_e)===k$2};reactIs_production_min.isContextProvider=function(_e){return z$1(_e)===h$3};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c$1};reactIs_production_min.isForwardRef=function(_e){return z$1(_e)===n$3};reactIs_production_min.isFragment=function(_e){return z$1(_e)===e$1};reactIs_production_min.isLazy=function(_e){return z$1(_e)===t$3};reactIs_production_min.isMemo=function(_e){return z$1(_e)===r$4};reactIs_production_min.isPortal=function(_e){return z$1(_e)===d$1};reactIs_production_min.isProfiler=function(_e){return z$1(_e)===g$1};reactIs_production_min.isStrictMode=function(_e){return z$1(_e)===f$1};reactIs_production_min.isSuspense=function(_e){return z$1(_e)===p$3};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e$1||_e===m$2||_e===g$1||_e===f$1||_e===p$3||_e===q$3||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t$3||_e.$$typeof===r$4||_e.$$typeof===h$3||_e.$$typeof===k$2||_e.$$typeof===n$3||_e.$$typeof===w$2||_e.$$typeof===x$1||_e.$$typeof===y$1||_e.$$typeof===v$2)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(_e,tt,et){var nt="";return et.split(" ").forEach(function(rt){_e[rt]!==void 0?tt.push(_e[rt]+";"):nt+=rt+" "}),nt}var registerStyles=function _e(tt,et,nt){var rt=tt.key+"-"+et.name;(nt===!1||isBrowser===!1)&&tt.registered[rt]===void 0&&(tt.registered[rt]=et.styles)},insertStyles=function _e(tt,et,nt){registerStyles(tt,et,nt);var rt=tt.key+"-"+et.name;if(tt.inserted[et.name]===void 0){var it=et;do tt.insert(et===it?"."+rt:"",it,tt.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(_e){for(var tt=0,et,nt=0,rt=_e.length;rt>=4;++nt,rt-=4)et=_e.charCodeAt(nt)&255|(_e.charCodeAt(++nt)&255)<<8|(_e.charCodeAt(++nt)&255)<<16|(_e.charCodeAt(++nt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,tt=(et&65535)*1540483477+((et>>>16)*59797<<16)^(tt&65535)*1540483477+((tt>>>16)*59797<<16);switch(rt){case 3:tt^=(_e.charCodeAt(nt+2)&255)<<16;case 2:tt^=(_e.charCodeAt(nt+1)&255)<<8;case 1:tt^=_e.charCodeAt(nt)&255,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16)}return tt^=tt>>>13,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),((tt^tt>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function _e(tt){return tt.charCodeAt(1)===45},isProcessableValue=function _e(tt){return tt!=null&&typeof tt!="boolean"},processStyleName=memoize$1(function(_e){return isCustomProperty(_e)?_e:_e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function _e(tt,et){switch(tt){case"animation":case"animationName":if(typeof et=="string")return et.replace(animationRegex,function(nt,rt,it){return cursor={name:rt,styles:it,next:cursor},rt})}return unitlessKeys[tt]!==1&&!isCustomProperty(tt)&&typeof et=="number"&&et!==0?et+"px":et},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(_e,tt,et){if(et==null)return"";if(et.__emotion_styles!==void 0)return et;switch(typeof et){case"boolean":return"";case"object":{if(et.anim===1)return cursor={name:et.name,styles:et.styles,next:cursor},et.name;if(et.styles!==void 0){var nt=et.next;if(nt!==void 0)for(;nt!==void 0;)cursor={name:nt.name,styles:nt.styles,next:cursor},nt=nt.next;var rt=et.styles+";";return rt}return createStringFromObject(_e,tt,et)}case"function":{if(_e!==void 0){var it=cursor,ot=et(_e);return cursor=it,handleInterpolation(_e,tt,ot)}break}}if(tt==null)return et;var st=tt[et];return st!==void 0?st:et}function createStringFromObject(_e,tt,et){var nt="";if(Array.isArray(et))for(var rt=0;rt<et.length;rt++)nt+=handleInterpolation(_e,tt,et[rt])+";";else for(var it in et){var ot=et[it];if(typeof ot!="object")tt!=null&&tt[ot]!==void 0?nt+=it+"{"+tt[ot]+"}":isProcessableValue(ot)&&(nt+=processStyleName(it)+":"+processStyleValue(it,ot)+";");else if(Array.isArray(ot)&&typeof ot[0]=="string"&&(tt==null||tt[ot[0]]===void 0))for(var st=0;st<ot.length;st++)isProcessableValue(ot[st])&&(nt+=processStyleName(it)+":"+processStyleValue(it,ot[st])+";");else{var at=handleInterpolation(_e,tt,ot);switch(it){case"animation":case"animationName":{nt+=processStyleName(it)+":"+at+";";break}default:nt+=it+"{"+at+"}"}}}return nt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function _e(tt,et,nt){if(tt.length===1&&typeof tt[0]=="object"&&tt[0]!==null&&tt[0].styles!==void 0)return tt[0];var rt=!0,it="";cursor=void 0;var ot=tt[0];ot==null||ot.raw===void 0?(rt=!1,it+=handleInterpolation(nt,et,ot)):it+=ot[0];for(var st=1;st<tt.length;st++)it+=handleInterpolation(nt,et,tt[st]),rt&&(it+=ot[st]);labelPattern.lastIndex=0;for(var at="",ct;(ct=labelPattern.exec(it))!==null;)at+="-"+ct[1];var lt=murmur2(it)+at;return{name:lt,styles:it,next:cursor}},syncFallback=function _e(tt){return tt()},useInsertionEffect=reactExports.useInsertionEffect?reactExports.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function _e(tt){return reactExports.forwardRef(function(et,nt){var rt=reactExports.useContext(EmotionCacheContext);return tt(et,rt,nt)})},ThemeContext=reactExports.createContext({});function css(){for(var _e=arguments.length,tt=new Array(_e),et=0;et<_e;et++)tt[et]=arguments[et];return serializeStyles(tt)}var keyframes=function _e(){var tt=css.apply(void 0,arguments),et="animation-"+tt.name;return{name:et,styles:"@keyframes "+et+"{"+tt.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function _e(tt){return tt!=="theme"},getDefaultShouldForwardProp=function _e(tt){return typeof tt=="string"&&tt.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function _e(tt,et,nt){var rt;if(et){var it=et.shouldForwardProp;rt=tt.__emotion_forwardProp&&it?function(ot){return tt.__emotion_forwardProp(ot)&&it(ot)}:it}return typeof rt!="function"&&nt&&(rt=tt.__emotion_forwardProp),rt},Insertion=function _e(tt){var et=tt.cache,nt=tt.serialized,rt=tt.isStringTag;return registerStyles(et,nt,rt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,nt,rt)}),null},createStyled$1=function _e(tt,et){var nt=tt.__emotion_real===tt,rt=nt&&tt.__emotion_base||tt,it,ot;et!==void 0&&(it=et.label,ot=et.target);var st=composeShouldForwardProps(tt,et,nt),at=st||getDefaultShouldForwardProp(rt),ct=!at("as");return function(){var lt=arguments,dt=nt&&tt.__emotion_styles!==void 0?tt.__emotion_styles.slice(0):[];if(it!==void 0&&dt.push("label:"+it+";"),lt[0]==null||lt[0].raw===void 0)dt.push.apply(dt,lt);else{dt.push(lt[0][0]);for(var ut=lt.length,ft=1;ft<ut;ft++)dt.push(lt[ft],lt[0][ft])}var pt=withEmotionCache(function(vt,Ct,ht){var mt=ct&&vt.as||rt,yt="",Et=[],Rt=vt;if(vt.theme==null){Rt={};for(var Pt in vt)Rt[Pt]=vt[Pt];Rt.theme=reactExports.useContext(ThemeContext)}typeof vt.className=="string"?yt=getRegisteredStyles(Ct.registered,Et,vt.className):vt.className!=null&&(yt=vt.className+" ");var Vt=serializeStyles(dt.concat(Et),Ct.registered,Rt);yt+=Ct.key+"-"+Vt.name,ot!==void 0&&(yt+=" "+ot);var Nt=ct&&st===void 0?getDefaultShouldForwardProp(mt):at,kt={};for(var wt in vt)ct&&wt==="as"||Nt(wt)&&(kt[wt]=vt[wt]);return kt.className=yt,kt.ref=ht,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Ct,serialized:Vt,isStringTag:typeof mt=="string"}),reactExports.createElement(mt,kt))});return pt.displayName=it!==void 0?it:"Styled("+(typeof rt=="string"?rt:rt.displayName||rt.name||"Component")+")",pt.defaultProps=tt.defaultProps,pt.__emotion_real=pt,pt.__emotion_base=rt,pt.__emotion_styles=dt,pt.__emotion_forwardProp=st,Object.defineProperty(pt,"toString",{value:function(){return"."+ot}}),pt.withComponent=function(vt,Ct){return _e(vt,_extends({},et,Ct,{shouldForwardProp:composeShouldForwardProps(pt,Ct,!0)})).apply(void 0,dt)},pt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(_e){newStyled[_e]=newStyled(_e)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(_e,tt){return newStyled(_e,tt)}const internal_processStyles=(_e,tt)=>{Array.isArray(_e.__emotion_styles)&&(_e.__emotion_styles=tt(_e.__emotion_styles))},_excluded$p=["values","unit","step"],sortBreakpointsValues=_e=>{const tt=Object.keys(_e).map(et=>({key:et,val:_e[et]}))||[];return tt.sort((et,nt)=>et.val-nt.val),tt.reduce((et,nt)=>_extends({},et,{[nt.key]:nt.val}),{})};function createBreakpoints(_e){const{values:tt={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:et="px",step:nt=5}=_e,rt=_objectWithoutPropertiesLoose(_e,_excluded$p),it=sortBreakpointsValues(tt),ot=Object.keys(it);function st(ut){return`@media (min-width:${typeof tt[ut]=="number"?tt[ut]:ut}${et})`}function at(ut){return`@media (max-width:${(typeof tt[ut]=="number"?tt[ut]:ut)-nt/100}${et})`}function ct(ut,ft){const pt=ot.indexOf(ft);return`@media (min-width:${typeof tt[ut]=="number"?tt[ut]:ut}${et}) and (max-width:${(pt!==-1&&typeof tt[ot[pt]]=="number"?tt[ot[pt]]:ft)-nt/100}${et})`}function lt(ut){return ot.indexOf(ut)+1<ot.length?ct(ut,ot[ot.indexOf(ut)+1]):st(ut)}function dt(ut){const ft=ot.indexOf(ut);return ft===0?st(ot[1]):ft===ot.length-1?at(ot[ft]):ct(ut,ot[ot.indexOf(ut)+1]).replace("@media","@media not all and")}return _extends({keys:ot,values:it,up:st,down:at,between:ct,only:lt,not:dt,unit:et},rt)}const shape={borderRadius:4},shape$1=shape;function merge(_e,tt){return tt?deepmerge(_e,tt,{clone:!1}):_e}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:_e=>`@media (min-width:${values$1[_e]}px)`};function handleBreakpoints(_e,tt,et){const nt=_e.theme||{};if(Array.isArray(tt)){const it=nt.breakpoints||defaultBreakpoints;return tt.reduce((ot,st,at)=>(ot[it.up(it.keys[at])]=et(tt[at]),ot),{})}if(typeof tt=="object"){const it=nt.breakpoints||defaultBreakpoints;return Object.keys(tt).reduce((ot,st)=>{if(Object.keys(it.values||values$1).indexOf(st)!==-1){const at=it.up(st);ot[at]=et(tt[st],st)}else{const at=st;ot[at]=tt[at]}return ot},{})}return et(tt)}function createEmptyBreakpointObject(_e={}){var tt;return((tt=_e.keys)==null?void 0:tt.reduce((nt,rt)=>{const it=_e.up(rt);return nt[it]={},nt},{}))||{}}function removeUnusedBreakpoints(_e,tt){return _e.reduce((et,nt)=>{const rt=et[nt];return(!rt||Object.keys(rt).length===0)&&delete et[nt],et},tt)}function getPath(_e,tt,et=!0){if(!tt||typeof tt!="string")return null;if(_e&&_e.vars&&et){const nt=`vars.${tt}`.split(".").reduce((rt,it)=>rt&&rt[it]?rt[it]:null,_e);if(nt!=null)return nt}return tt.split(".").reduce((nt,rt)=>nt&&nt[rt]!=null?nt[rt]:null,_e)}function getStyleValue(_e,tt,et,nt=et){let rt;return typeof _e=="function"?rt=_e(et):Array.isArray(_e)?rt=_e[et]||nt:rt=getPath(_e,et)||nt,tt&&(rt=tt(rt,nt,_e)),rt}function style$1(_e){const{prop:tt,cssProperty:et=_e.prop,themeKey:nt,transform:rt}=_e,it=ot=>{if(ot[tt]==null)return null;const st=ot[tt],at=ot.theme,ct=getPath(at,nt)||{};return handleBreakpoints(ot,st,dt=>{let ut=getStyleValue(ct,rt,dt);return dt===ut&&typeof dt=="string"&&(ut=getStyleValue(ct,rt,`${tt}${dt==="default"?"":capitalize(dt)}`,dt)),et===!1?ut:{[et]:ut}})};return it.propTypes={},it.filterProps=[tt],it}function memoize(_e){const tt={};return et=>(tt[et]===void 0&&(tt[et]=_e(et)),tt[et])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(_e=>{if(_e.length>2)if(aliases[_e])_e=aliases[_e];else return[_e];const[tt,et]=_e.split(""),nt=properties[tt],rt=directions[et]||"";return Array.isArray(rt)?rt.map(it=>nt+it):[nt+rt]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(_e,tt,et,nt){var rt;const it=(rt=getPath(_e,tt,!1))!=null?rt:et;return typeof it=="number"?ot=>typeof ot=="string"?ot:it*ot:Array.isArray(it)?ot=>typeof ot=="string"?ot:it[ot]:typeof it=="function"?it:()=>{}}function createUnarySpacing(_e){return createUnaryUnit(_e,"spacing",8)}function getValue(_e,tt){if(typeof tt=="string"||tt==null)return tt;const et=Math.abs(tt),nt=_e(et);return tt>=0?nt:typeof nt=="number"?-nt:`-${nt}`}function getStyleFromPropValue(_e,tt){return et=>_e.reduce((nt,rt)=>(nt[rt]=getValue(tt,et),nt),{})}function resolveCssProperty(_e,tt,et,nt){if(tt.indexOf(et)===-1)return null;const rt=getCssProperties(et),it=getStyleFromPropValue(rt,nt),ot=_e[et];return handleBreakpoints(_e,ot,it)}function style(_e,tt){const et=createUnarySpacing(_e.theme);return Object.keys(_e).map(nt=>resolveCssProperty(_e,tt,nt,et)).reduce(merge,{})}function margin(_e){return style(_e,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(_e){return style(_e,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(_e=8){if(_e.mui)return _e;const tt=createUnarySpacing({spacing:_e}),et=(...nt)=>(nt.length===0?[1]:nt).map(it=>{const ot=tt(it);return typeof ot=="number"?`${ot}px`:ot}).join(" ");return et.mui=!0,et}function compose$1(..._e){const tt=_e.reduce((nt,rt)=>(rt.filterProps.forEach(it=>{nt[it]=rt}),nt),{}),et=nt=>Object.keys(nt).reduce((rt,it)=>tt[it]?merge(rt,tt[it](nt)):rt,{});return et.propTypes={},et.filterProps=_e.reduce((nt,rt)=>nt.concat(rt.filterProps),[]),et}function borderTransform(_e){return typeof _e!="number"?_e:`${_e}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=_e=>{if(_e.borderRadius!==void 0&&_e.borderRadius!==null){const tt=createUnaryUnit(_e.theme,"shape.borderRadius",4),et=nt=>({borderRadius:getValue(tt,nt)});return handleBreakpoints(_e,_e.borderRadius,et)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$1(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=_e=>{if(_e.gap!==void 0&&_e.gap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({gap:getValue(tt,nt)});return handleBreakpoints(_e,_e.gap,et)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=_e=>{if(_e.columnGap!==void 0&&_e.columnGap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({columnGap:getValue(tt,nt)});return handleBreakpoints(_e,_e.columnGap,et)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=_e=>{if(_e.rowGap!==void 0&&_e.rowGap!==null){const tt=createUnaryUnit(_e.theme,"spacing",8),et=nt=>({rowGap:getValue(tt,nt)});return handleBreakpoints(_e,_e.rowGap,et)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose$1(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(_e,tt){return tt==="grey"?tt:_e}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$1(color,bgcolor,backgroundColor);function sizingTransform(_e){return _e<=1&&_e!==0?`${_e*100}%`:_e}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=_e=>{if(_e.maxWidth!==void 0&&_e.maxWidth!==null){const tt=et=>{var nt,rt,it;return{maxWidth:((nt=_e.theme)==null||(rt=nt.breakpoints)==null||(it=rt.values)==null?void 0:it[et])||values$1[et]||sizingTransform(et)}};return handleBreakpoints(_e,_e.maxWidth,tt)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose$1(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:_e=>({"@media print":{display:_e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(..._e){const tt=_e.reduce((nt,rt)=>nt.concat(Object.keys(rt)),[]),et=new Set(tt);return _e.every(nt=>et.size===Object.keys(nt).length)}function callIfFn(_e,tt){return typeof _e=="function"?_e(tt):_e}function unstable_createStyleFunctionSx(){function _e(et,nt,rt,it){const ot={[et]:nt,theme:rt},st=it[et];if(!st)return{[et]:nt};const{cssProperty:at=et,themeKey:ct,transform:lt,style:dt}=st;if(nt==null)return null;if(ct==="typography"&&nt==="inherit")return{[et]:nt};const ut=getPath(rt,ct)||{};return dt?dt(ot):handleBreakpoints(ot,nt,pt=>{let vt=getStyleValue(ut,lt,pt);return pt===vt&&typeof pt=="string"&&(vt=getStyleValue(ut,lt,`${et}${pt==="default"?"":capitalize(pt)}`,pt)),at===!1?vt:{[at]:vt}})}function tt(et){var nt;const{sx:rt,theme:it={}}=et||{};if(!rt)return null;const ot=(nt=it.unstable_sxConfig)!=null?nt:defaultSxConfig$1;function st(at){let ct=at;if(typeof at=="function")ct=at(it);else if(typeof at!="object")return at;if(!ct)return null;const lt=createEmptyBreakpointObject(it.breakpoints),dt=Object.keys(lt);let ut=lt;return Object.keys(ct).forEach(ft=>{const pt=callIfFn(ct[ft],it);if(pt!=null)if(typeof pt=="object")if(ot[ft])ut=merge(ut,_e(ft,pt,it,ot));else{const vt=handleBreakpoints({theme:it},pt,Ct=>({[ft]:Ct}));objectsHaveSameKeys(vt,pt)?ut[ft]=tt({sx:pt,theme:it}):ut=merge(ut,vt)}else ut=merge(ut,_e(ft,pt,it,ot))}),removeUnusedBreakpoints(dt,ut)}return Array.isArray(rt)?rt.map(st):st(rt)}return tt}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$o=["breakpoints","palette","spacing","shape"];function createTheme$1(_e={},...tt){const{breakpoints:et={},palette:nt={},spacing:rt,shape:it={}}=_e,ot=_objectWithoutPropertiesLoose(_e,_excluded$o),st=createBreakpoints(et),at=createSpacing(rt);let ct=deepmerge({breakpoints:st,direction:"ltr",components:{},palette:_extends({mode:"light"},nt),spacing:at,shape:_extends({},shape$1,it)},ot);return ct=tt.reduce((lt,dt)=>deepmerge(lt,dt),ct),ct.unstable_sxConfig=_extends({},defaultSxConfig$1,ot==null?void 0:ot.unstable_sxConfig),ct.unstable_sx=function(dt){return styleFunctionSx$1({sx:dt,theme:this})},ct}function isObjectEmpty(_e){return Object.keys(_e).length===0}function useTheme$2(_e=null){const tt=reactExports.useContext(ThemeContext);return!tt||isObjectEmpty(tt)?_e:tt}const systemDefaultTheme$1=createTheme$1();function useTheme$1(_e=systemDefaultTheme$1){return useTheme$2(_e)}const _excluded$n=["sx"],splitProps=_e=>{var tt,et;const nt={systemProps:{},otherProps:{}},rt=(tt=_e==null||(et=_e.theme)==null?void 0:et.unstable_sxConfig)!=null?tt:defaultSxConfig$1;return Object.keys(_e).forEach(it=>{rt[it]?nt.systemProps[it]=_e[it]:nt.otherProps[it]=_e[it]}),nt};function extendSxProp(_e){const{sx:tt}=_e,et=_objectWithoutPropertiesLoose(_e,_excluded$n),{systemProps:nt,otherProps:rt}=splitProps(et);let it;return Array.isArray(tt)?it=[nt,...tt]:typeof tt=="function"?it=(...ot)=>{const st=tt(...ot);return isPlainObject$2(st)?_extends({},nt,st):nt}:it=_extends({},nt,tt),_extends({},rt,{sx:it})}function r$3(_e){var tt,et,nt="";if(typeof _e=="string"||typeof _e=="number")nt+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(tt=0;tt<_e.length;tt++)_e[tt]&&(et=r$3(_e[tt]))&&(nt&&(nt+=" "),nt+=et);else for(tt in _e)_e[tt]&&(nt&&(nt+=" "),nt+=tt);return nt}function clsx(){for(var _e,tt,et=0,nt="";et<arguments.length;)(_e=arguments[et++])&&(tt=r$3(_e))&&(nt&&(nt+=" "),nt+=tt);return nt}const _excluded$m=["variant"];function isEmpty$1(_e){return _e.length===0}function propsToClassKey(_e){const{variant:tt}=_e,et=_objectWithoutPropertiesLoose(_e,_excluded$m);let nt=tt||"";return Object.keys(et).sort().forEach(rt=>{rt==="color"?nt+=isEmpty$1(nt)?_e[rt]:capitalize(_e[rt]):nt+=`${isEmpty$1(nt)?rt:capitalize(rt)}${capitalize(_e[rt].toString())}`}),nt}const _excluded$l=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty(_e){return Object.keys(_e).length===0}function isStringTag(_e){return typeof _e=="string"&&_e.charCodeAt(0)>96}const getStyleOverrides=(_e,tt)=>tt.components&&tt.components[_e]&&tt.components[_e].styleOverrides?tt.components[_e].styleOverrides:null,getVariantStyles=(_e,tt)=>{let et=[];tt&&tt.components&&tt.components[_e]&&tt.components[_e].variants&&(et=tt.components[_e].variants);const nt={};return et.forEach(rt=>{const it=propsToClassKey(rt.props);nt[it]=rt.style}),nt},variantsResolver=(_e,tt,et,nt)=>{var rt,it;const{ownerState:ot={}}=_e,st=[],at=et==null||(rt=et.components)==null||(it=rt[nt])==null?void 0:it.variants;return at&&at.forEach(ct=>{let lt=!0;Object.keys(ct.props).forEach(dt=>{ot[dt]!==ct.props[dt]&&_e[dt]!==ct.props[dt]&&(lt=!1)}),lt&&st.push(tt[propsToClassKey(ct.props)])}),st};function shouldForwardProp(_e){return _e!=="ownerState"&&_e!=="theme"&&_e!=="sx"&&_e!=="as"}const systemDefaultTheme=createTheme$1();function resolveTheme({defaultTheme:_e,theme:tt,themeId:et}){return isEmpty(tt)?_e:tt[et]||tt}function createStyled(_e={}){const{themeId:tt,defaultTheme:et=systemDefaultTheme,rootShouldForwardProp:nt=shouldForwardProp,slotShouldForwardProp:rt=shouldForwardProp}=_e,it=ot=>styleFunctionSx$1(_extends({},ot,{theme:resolveTheme(_extends({},ot,{defaultTheme:et,themeId:tt}))}));return it.__mui_systemSx=!0,(ot,st={})=>{internal_processStyles(ot,Et=>Et.filter(Rt=>!(Rt!=null&&Rt.__mui_systemSx)));const{name:at,slot:ct,skipVariantsResolver:lt,skipSx:dt,overridesResolver:ut}=st,ft=_objectWithoutPropertiesLoose(st,_excluded$l),pt=lt!==void 0?lt:ct&&ct!=="Root"||!1,vt=dt||!1;let Ct,ht=shouldForwardProp;ct==="Root"?ht=nt:ct?ht=rt:isStringTag(ot)&&(ht=void 0);const mt=styled$2(ot,_extends({shouldForwardProp:ht,label:Ct},ft)),yt=(Et,...Rt)=>{const Pt=Rt?Rt.map(wt=>typeof wt=="function"&&wt.__emotion_real!==wt?Zt=>wt(_extends({},Zt,{theme:resolveTheme(_extends({},Zt,{defaultTheme:et,themeId:tt}))})):wt):[];let Vt=Et;at&&ut&&Pt.push(wt=>{const Zt=resolveTheme(_extends({},wt,{defaultTheme:et,themeId:tt})),qt=getStyleOverrides(at,Zt);if(qt){const zt={};return Object.entries(qt).forEach(([Bt,sn])=>{zt[Bt]=typeof sn=="function"?sn(_extends({},wt,{theme:Zt})):sn}),ut(wt,zt)}return null}),at&&!pt&&Pt.push(wt=>{const Zt=resolveTheme(_extends({},wt,{defaultTheme:et,themeId:tt}));return variantsResolver(wt,getVariantStyles(at,Zt),Zt,at)}),vt||Pt.push(it);const Nt=Pt.length-Rt.length;if(Array.isArray(Et)&&Nt>0){const wt=new Array(Nt).fill("");Vt=[...Et,...wt],Vt.raw=[...Et.raw,...wt]}else typeof Et=="function"&&Et.__emotion_real!==Et&&(Vt=wt=>Et(_extends({},wt,{theme:resolveTheme(_extends({},wt,{defaultTheme:et,themeId:tt}))})));const kt=mt(Vt,...Pt);return ot.muiName&&(kt.muiName=ot.muiName),kt};return mt.withConfig&&(yt.withConfig=mt.withConfig),yt}}function getThemeProps(_e){const{theme:tt,name:et,props:nt}=_e;return!tt||!tt.components||!tt.components[et]||!tt.components[et].defaultProps?nt:resolveProps(tt.components[et].defaultProps,nt)}function useThemeProps$1({props:_e,name:tt,defaultTheme:et,themeId:nt}){let rt=useTheme$1(et);return nt&&(rt=rt[nt]||rt),getThemeProps({theme:rt,name:tt,props:_e})}function clamp(_e,tt=0,et=1){return Math.min(Math.max(tt,_e),et)}function hexToRgb(_e){_e=_e.slice(1);const tt=new RegExp(`.{1,${_e.length>=6?2:1}}`,"g");let et=_e.match(tt);return et&&et[0].length===1&&(et=et.map(nt=>nt+nt)),et?`rgb${et.length===4?"a":""}(${et.map((nt,rt)=>rt<3?parseInt(nt,16):Math.round(parseInt(nt,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(_e){if(_e.type)return _e;if(_e.charAt(0)==="#")return decomposeColor(hexToRgb(_e));const tt=_e.indexOf("("),et=_e.substring(0,tt);if(["rgb","rgba","hsl","hsla","color"].indexOf(et)===-1)throw new Error(formatMuiErrorMessage(9,_e));let nt=_e.substring(tt+1,_e.length-1),rt;if(et==="color"){if(nt=nt.split(" "),rt=nt.shift(),nt.length===4&&nt[3].charAt(0)==="/"&&(nt[3]=nt[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(rt)===-1)throw new Error(formatMuiErrorMessage(10,rt))}else nt=nt.split(",");return nt=nt.map(it=>parseFloat(it)),{type:et,values:nt,colorSpace:rt}}function recomposeColor(_e){const{type:tt,colorSpace:et}=_e;let{values:nt}=_e;return tt.indexOf("rgb")!==-1?nt=nt.map((rt,it)=>it<3?parseInt(rt,10):rt):tt.indexOf("hsl")!==-1&&(nt[1]=`${nt[1]}%`,nt[2]=`${nt[2]}%`),tt.indexOf("color")!==-1?nt=`${et} ${nt.join(" ")}`:nt=`${nt.join(", ")}`,`${tt}(${nt})`}function hslToRgb(_e){_e=decomposeColor(_e);const{values:tt}=_e,et=tt[0],nt=tt[1]/100,rt=tt[2]/100,it=nt*Math.min(rt,1-rt),ot=(ct,lt=(ct+et/30)%12)=>rt-it*Math.max(Math.min(lt-3,9-lt,1),-1);let st="rgb";const at=[Math.round(ot(0)*255),Math.round(ot(8)*255),Math.round(ot(4)*255)];return _e.type==="hsla"&&(st+="a",at.push(tt[3])),recomposeColor({type:st,values:at})}function getLuminance(_e){_e=decomposeColor(_e);let tt=_e.type==="hsl"||_e.type==="hsla"?decomposeColor(hslToRgb(_e)).values:_e.values;return tt=tt.map(et=>(_e.type!=="color"&&(et/=255),et<=.03928?et/12.92:((et+.055)/1.055)**2.4)),Number((.2126*tt[0]+.7152*tt[1]+.0722*tt[2]).toFixed(3))}function getContrastRatio(_e,tt){const et=getLuminance(_e),nt=getLuminance(tt);return(Math.max(et,nt)+.05)/(Math.min(et,nt)+.05)}function alpha(_e,tt){return _e=decomposeColor(_e),tt=clamp(tt),(_e.type==="rgb"||_e.type==="hsl")&&(_e.type+="a"),_e.type==="color"?_e.values[3]=`/${tt}`:_e.values[3]=tt,recomposeColor(_e)}function darken(_e,tt){if(_e=decomposeColor(_e),tt=clamp(tt),_e.type.indexOf("hsl")!==-1)_e.values[2]*=1-tt;else if(_e.type.indexOf("rgb")!==-1||_e.type.indexOf("color")!==-1)for(let et=0;et<3;et+=1)_e.values[et]*=1-tt;return recomposeColor(_e)}function lighten(_e,tt){if(_e=decomposeColor(_e),tt=clamp(tt),_e.type.indexOf("hsl")!==-1)_e.values[2]+=(100-_e.values[2])*tt;else if(_e.type.indexOf("rgb")!==-1)for(let et=0;et<3;et+=1)_e.values[et]+=(255-_e.values[et])*tt;else if(_e.type.indexOf("color")!==-1)for(let et=0;et<3;et+=1)_e.values[et]+=(1-_e.values[et])*tt;return recomposeColor(_e)}function createMixins(_e,tt){return _extends({toolbar:{minHeight:56,[_e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[_e.up("sm")]:{minHeight:64}}},tt)}const _excluded$k=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(_e,tt,et,nt){const rt=nt.light||nt,it=nt.dark||nt*1.5;_e[tt]||(_e.hasOwnProperty(et)?_e[tt]=_e[et]:tt==="light"?_e.light=lighten(_e.main,rt):tt==="dark"&&(_e.dark=darken(_e.main,it)))}function getDefaultPrimary(_e="light"){return _e==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(_e="light"){return _e==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(_e="light"){return _e==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(_e="light"){return _e==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(_e="light"){return _e==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(_e="light"){return _e==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(_e){const{mode:tt="light",contrastThreshold:et=3,tonalOffset:nt=.2}=_e,rt=_objectWithoutPropertiesLoose(_e,_excluded$k),it=_e.primary||getDefaultPrimary(tt),ot=_e.secondary||getDefaultSecondary(tt),st=_e.error||getDefaultError(tt),at=_e.info||getDefaultInfo(tt),ct=_e.success||getDefaultSuccess(tt),lt=_e.warning||getDefaultWarning(tt);function dt(vt){return getContrastRatio(vt,dark.text.primary)>=et?dark.text.primary:light.text.primary}const ut=({color:vt,name:Ct,mainShade:ht=500,lightShade:mt=300,darkShade:yt=700})=>{if(vt=_extends({},vt),!vt.main&&vt[ht]&&(vt.main=vt[ht]),!vt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Ct?` (${Ct})`:"",ht));if(typeof vt.main!="string")throw new Error(formatMuiErrorMessage(12,Ct?` (${Ct})`:"",JSON.stringify(vt.main)));return addLightOrDark(vt,"light",mt,nt),addLightOrDark(vt,"dark",yt,nt),vt.contrastText||(vt.contrastText=dt(vt.main)),vt},ft={dark,light};return deepmerge(_extends({common:_extends({},common$1),mode:tt,primary:ut({color:it,name:"primary"}),secondary:ut({color:ot,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ut({color:st,name:"error"}),warning:ut({color:lt,name:"warning"}),info:ut({color:at,name:"info"}),success:ut({color:ct,name:"success"}),grey:grey$1,contrastThreshold:et,getContrastText:dt,augmentColor:ut,tonalOffset:nt},ft[tt]),rt)}const _excluded$j=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(_e){return Math.round(_e*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(_e,tt){const et=typeof tt=="function"?tt(_e):tt,{fontFamily:nt=defaultFontFamily,fontSize:rt=14,fontWeightLight:it=300,fontWeightRegular:ot=400,fontWeightMedium:st=500,fontWeightBold:at=700,htmlFontSize:ct=16,allVariants:lt,pxToRem:dt}=et,ut=_objectWithoutPropertiesLoose(et,_excluded$j),ft=rt/14,pt=dt||(ht=>`${ht/ct*ft}rem`),vt=(ht,mt,yt,Et,Rt)=>_extends({fontFamily:nt,fontWeight:ht,fontSize:pt(mt),lineHeight:yt},nt===defaultFontFamily?{letterSpacing:`${round(Et/mt)}em`}:{},Rt,lt),Ct={h1:vt(it,96,1.167,-1.5),h2:vt(it,60,1.2,-.5),h3:vt(ot,48,1.167,0),h4:vt(ot,34,1.235,.25),h5:vt(ot,24,1.334,0),h6:vt(st,20,1.6,.15),subtitle1:vt(ot,16,1.75,.15),subtitle2:vt(st,14,1.57,.1),body1:vt(ot,16,1.5,.15),body2:vt(ot,14,1.43,.15),button:vt(st,14,1.75,.4,caseAllCaps),caption:vt(ot,12,1.66,.4),overline:vt(ot,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:ct,pxToRem:pt,fontFamily:nt,fontSize:rt,fontWeightLight:it,fontWeightRegular:ot,fontWeightMedium:st,fontWeightBold:at},Ct),ut,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(..._e){return[`${_e[0]}px ${_e[1]}px ${_e[2]}px ${_e[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${_e[4]}px ${_e[5]}px ${_e[6]}px ${_e[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${_e[8]}px ${_e[9]}px ${_e[10]}px ${_e[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$i=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(_e){return`${Math.round(_e)}ms`}function getAutoHeightDuration(_e){if(!_e)return 0;const tt=_e/36;return Math.round((4+15*tt**.25+tt/5)*10)}function createTransitions(_e){const tt=_extends({},easing,_e.easing),et=_extends({},duration,_e.duration);return _extends({getAutoHeightDuration,create:(rt=["all"],it={})=>{const{duration:ot=et.standard,easing:st=tt.easeInOut,delay:at=0}=it;return _objectWithoutPropertiesLoose(it,_excluded$i),(Array.isArray(rt)?rt:[rt]).map(ct=>`${ct} ${typeof ot=="string"?ot:formatMs(ot)} ${st} ${typeof at=="string"?at:formatMs(at)}`).join(",")}},_e,{easing:tt,duration:et})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$h=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(_e={},...tt){const{mixins:et={},palette:nt={},transitions:rt={},typography:it={}}=_e,ot=_objectWithoutPropertiesLoose(_e,_excluded$h);if(_e.vars)throw new Error(formatMuiErrorMessage(18));const st=createPalette(nt),at=createTheme$1(_e);let ct=deepmerge(at,{mixins:createMixins(at.breakpoints,et),palette:st,shadows:shadows$1.slice(),typography:createTypography(st,it),transitions:createTransitions(rt),zIndex:_extends({},zIndex$1)});return ct=deepmerge(ct,ot),ct=tt.reduce((lt,dt)=>deepmerge(lt,dt),ct),ct.unstable_sxConfig=_extends({},defaultSxConfig$1,ot==null?void 0:ot.unstable_sxConfig),ct.unstable_sx=function(dt){return styleFunctionSx$1({sx:dt,theme:this})},ct}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useTheme(){const _e=useTheme$1(defaultTheme$1);return _e[THEME_ID]||_e}function useThemeProps({props:_e,name:tt}){return useThemeProps$1({props:_e,name:tt,defaultTheme:defaultTheme$1,themeId:THEME_ID})}const rootShouldForwardProp=_e=>shouldForwardProp(_e)&&_e!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp}),styled$1=styled,getOverlayAlpha=_e=>{let tt;return _e<1?tt=5.11916*_e**2:tt=4.5*Math.log(_e+1)+2,(tt/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent(_e){return typeof _e=="string"}function appendOwnerState(_e,tt,et){return _e===void 0||isHostComponent(_e)?tt:_extends({},tt,{ownerState:_extends({},tt.ownerState,et)})}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(_e){const{disableDefaultClasses:tt}=reactExports.useContext(ClassNameConfiguratorContext);return et=>tt?"":_e(et)}function extractEventHandlers(_e,tt=[]){if(_e===void 0)return{};const et={};return Object.keys(_e).filter(nt=>nt.match(/^on[A-Z]/)&&typeof _e[nt]=="function"&&!tt.includes(nt)).forEach(nt=>{et[nt]=_e[nt]}),et}function resolveComponentProps(_e,tt,et){return typeof _e=="function"?_e(tt,et):_e}function omitEventHandlers(_e){if(_e===void 0)return{};const tt={};return Object.keys(_e).filter(et=>!(et.match(/^on[A-Z]/)&&typeof _e[et]=="function")).forEach(et=>{tt[et]=_e[et]}),tt}function mergeSlotProps(_e){const{getSlotProps:tt,additionalProps:et,externalSlotProps:nt,externalForwardedProps:rt,className:it}=_e;if(!tt){const ft=clsx(rt==null?void 0:rt.className,nt==null?void 0:nt.className,it,et==null?void 0:et.className),pt=_extends({},et==null?void 0:et.style,rt==null?void 0:rt.style,nt==null?void 0:nt.style),vt=_extends({},et,rt,nt);return ft.length>0&&(vt.className=ft),Object.keys(pt).length>0&&(vt.style=pt),{props:vt,internalRef:void 0}}const ot=extractEventHandlers(_extends({},rt,nt)),st=omitEventHandlers(nt),at=omitEventHandlers(rt),ct=tt(ot),lt=clsx(ct==null?void 0:ct.className,et==null?void 0:et.className,it,rt==null?void 0:rt.className,nt==null?void 0:nt.className),dt=_extends({},ct==null?void 0:ct.style,et==null?void 0:et.style,rt==null?void 0:rt.style,nt==null?void 0:nt.style),ut=_extends({},ct,et,at,st);return lt.length>0&&(ut.className=lt),Object.keys(dt).length>0&&(ut.style=dt),{props:ut,internalRef:ct.ref}}const _excluded$g=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps(_e){var tt;const{elementType:et,externalSlotProps:nt,ownerState:rt,skipResolvingSlotProps:it=!1}=_e,ot=_objectWithoutPropertiesLoose(_e,_excluded$g),st=it?{}:resolveComponentProps(nt,rt),{props:at,internalRef:ct}=mergeSlotProps(_extends({},ot,{externalSlotProps:st})),lt=useForkRef(ct,st==null?void 0:st.ref,(tt=_e.additionalProps)==null?void 0:tt.ref);return appendOwnerState(et,_extends({},at,{ref:lt}),rt)}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(_e){const tt=parseInt(_e.getAttribute("tabindex")||"",10);return Number.isNaN(tt)?_e.contentEditable==="true"||(_e.nodeName==="AUDIO"||_e.nodeName==="VIDEO"||_e.nodeName==="DETAILS")&&_e.getAttribute("tabindex")===null?0:_e.tabIndex:tt}function isNonTabbableRadio(_e){if(_e.tagName!=="INPUT"||_e.type!=="radio"||!_e.name)return!1;const tt=nt=>_e.ownerDocument.querySelector(`input[type="radio"]${nt}`);let et=tt(`[name="${_e.name}"]:checked`);return et||(et=tt(`[name="${_e.name}"]`)),et!==_e}function isNodeMatchingSelectorFocusable(_e){return!(_e.disabled||_e.tagName==="INPUT"&&_e.type==="hidden"||isNonTabbableRadio(_e))}function defaultGetTabbable(_e){const tt=[],et=[];return Array.from(_e.querySelectorAll(candidatesSelector)).forEach((nt,rt)=>{const it=getTabIndex(nt);it===-1||!isNodeMatchingSelectorFocusable(nt)||(it===0?tt.push(nt):et.push({documentOrder:rt,tabIndex:it,node:nt}))}),et.sort((nt,rt)=>nt.tabIndex===rt.tabIndex?nt.documentOrder-rt.documentOrder:nt.tabIndex-rt.tabIndex).map(nt=>nt.node).concat(tt)}function defaultIsEnabled(){return!0}function FocusTrap(_e){const{children:tt,disableAutoFocus:et=!1,disableEnforceFocus:nt=!1,disableRestoreFocus:rt=!1,getTabbable:it=defaultGetTabbable,isEnabled:ot=defaultIsEnabled,open:st}=_e,at=reactExports.useRef(!1),ct=reactExports.useRef(null),lt=reactExports.useRef(null),dt=reactExports.useRef(null),ut=reactExports.useRef(null),ft=reactExports.useRef(!1),pt=reactExports.useRef(null),vt=useForkRef(tt.ref,pt),Ct=reactExports.useRef(null);reactExports.useEffect(()=>{!st||!pt.current||(ft.current=!et)},[et,st]),reactExports.useEffect(()=>{if(!st||!pt.current)return;const yt=ownerDocument(pt.current);return pt.current.contains(yt.activeElement)||(pt.current.hasAttribute("tabIndex")||pt.current.setAttribute("tabIndex","-1"),ft.current&&pt.current.focus()),()=>{rt||(dt.current&&dt.current.focus&&(at.current=!0,dt.current.focus()),dt.current=null)}},[st]),reactExports.useEffect(()=>{if(!st||!pt.current)return;const yt=ownerDocument(pt.current),Et=Vt=>{const{current:Nt}=pt;if(Nt!==null){if(!yt.hasFocus()||nt||!ot()||at.current){at.current=!1;return}if(!Nt.contains(yt.activeElement)){if(Vt&&ut.current!==Vt.target||yt.activeElement!==ut.current)ut.current=null;else if(ut.current!==null)return;if(!ft.current)return;let Zt=[];if((yt.activeElement===ct.current||yt.activeElement===lt.current)&&(Zt=it(pt.current)),Zt.length>0){var kt,wt;const qt=!!((kt=Ct.current)!=null&&kt.shiftKey&&((wt=Ct.current)==null?void 0:wt.key)==="Tab"),zt=Zt[0],Bt=Zt[Zt.length-1];typeof zt!="string"&&typeof Bt!="string"&&(qt?Bt.focus():zt.focus())}else Nt.focus()}}},Rt=Vt=>{Ct.current=Vt,!(nt||!ot()||Vt.key!=="Tab")&&yt.activeElement===pt.current&&Vt.shiftKey&&(at.current=!0,lt.current&&lt.current.focus())};yt.addEventListener("focusin",Et),yt.addEventListener("keydown",Rt,!0);const Pt=setInterval(()=>{yt.activeElement&&yt.activeElement.tagName==="BODY"&&Et(null)},50);return()=>{clearInterval(Pt),yt.removeEventListener("focusin",Et),yt.removeEventListener("keydown",Rt,!0)}},[et,nt,rt,ot,st,it]);const ht=yt=>{dt.current===null&&(dt.current=yt.relatedTarget),ft.current=!0,ut.current=yt.target;const Et=tt.props.onFocus;Et&&Et(yt)},mt=yt=>{dt.current===null&&(dt.current=yt.relatedTarget),ft.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:st?0:-1,onFocus:mt,ref:ct,"data-testid":"sentinelStart"}),reactExports.cloneElement(tt,{ref:vt,onFocus:ht}),jsxRuntimeExports.jsx("div",{tabIndex:st?0:-1,onFocus:mt,ref:lt,"data-testid":"sentinelEnd"})]})}function getContainer$1(_e){return typeof _e=="function"?_e():_e}const Portal=reactExports.forwardRef(function _e(tt,et){const{children:nt,container:rt,disablePortal:it=!1}=tt,[ot,st]=reactExports.useState(null),at=useForkRef(reactExports.isValidElement(nt)?nt.ref:null,et);if(useEnhancedEffect$1(()=>{it||st(getContainer$1(rt)||document.body)},[rt,it]),useEnhancedEffect$1(()=>{if(ot&&!it)return setRef(et,ot),()=>{setRef(et,null)}},[et,ot,it]),it){if(reactExports.isValidElement(nt)){const ct={ref:at};return reactExports.cloneElement(nt,ct)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:nt})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:ot&&reactDomExports.createPortal(nt,ot)})}),Portal$1=Portal;function isOverflowing(_e){const tt=ownerDocument(_e);return tt.body===_e?ownerWindow(_e).innerWidth>tt.documentElement.clientWidth:_e.scrollHeight>_e.clientHeight}function ariaHidden(_e,tt){tt?_e.setAttribute("aria-hidden","true"):_e.removeAttribute("aria-hidden")}function getPaddingRight(_e){return parseInt(ownerWindow(_e).getComputedStyle(_e).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(_e){const et=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(_e.tagName)!==-1,nt=_e.tagName==="INPUT"&&_e.getAttribute("type")==="hidden";return et||nt}function ariaHiddenSiblings(_e,tt,et,nt,rt){const it=[tt,et,...nt];[].forEach.call(_e.children,ot=>{const st=it.indexOf(ot)===-1,at=!isAriaHiddenForbiddenOnElement(ot);st&&at&&ariaHidden(ot,rt)})}function findIndexOf(_e,tt){let et=-1;return _e.some((nt,rt)=>tt(nt)?(et=rt,!0):!1),et}function handleContainer(_e,tt){const et=[],nt=_e.container;if(!tt.disableScrollLock){if(isOverflowing(nt)){const ot=getScrollbarSize(ownerDocument(nt));et.push({value:nt.style.paddingRight,property:"padding-right",el:nt}),nt.style.paddingRight=`${getPaddingRight(nt)+ot}px`;const st=ownerDocument(nt).querySelectorAll(".mui-fixed");[].forEach.call(st,at=>{et.push({value:at.style.paddingRight,property:"padding-right",el:at}),at.style.paddingRight=`${getPaddingRight(at)+ot}px`})}let it;if(nt.parentNode instanceof DocumentFragment)it=ownerDocument(nt).body;else{const ot=nt.parentElement,st=ownerWindow(nt);it=(ot==null?void 0:ot.nodeName)==="HTML"&&st.getComputedStyle(ot).overflowY==="scroll"?ot:nt}et.push({value:it.style.overflow,property:"overflow",el:it},{value:it.style.overflowX,property:"overflow-x",el:it},{value:it.style.overflowY,property:"overflow-y",el:it}),it.style.overflow="hidden"}return()=>{et.forEach(({value:it,el:ot,property:st})=>{it?ot.style.setProperty(st,it):ot.style.removeProperty(st)})}}function getHiddenSiblings(_e){const tt=[];return[].forEach.call(_e.children,et=>{et.getAttribute("aria-hidden")==="true"&&tt.push(et)}),tt}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(tt,et){let nt=this.modals.indexOf(tt);if(nt!==-1)return nt;nt=this.modals.length,this.modals.push(tt),tt.modalRef&&ariaHidden(tt.modalRef,!1);const rt=getHiddenSiblings(et);ariaHiddenSiblings(et,tt.mount,tt.modalRef,rt,!0);const it=findIndexOf(this.containers,ot=>ot.container===et);return it!==-1?(this.containers[it].modals.push(tt),nt):(this.containers.push({modals:[tt],container:et,restore:null,hiddenSiblings:rt}),nt)}mount(tt,et){const nt=findIndexOf(this.containers,it=>it.modals.indexOf(tt)!==-1),rt=this.containers[nt];rt.restore||(rt.restore=handleContainer(rt,et))}remove(tt,et=!0){const nt=this.modals.indexOf(tt);if(nt===-1)return nt;const rt=findIndexOf(this.containers,ot=>ot.modals.indexOf(tt)!==-1),it=this.containers[rt];if(it.modals.splice(it.modals.indexOf(tt),1),this.modals.splice(nt,1),it.modals.length===0)it.restore&&it.restore(),tt.modalRef&&ariaHidden(tt.modalRef,et),ariaHiddenSiblings(it.container,tt.mount,tt.modalRef,it.hiddenSiblings,!1),this.containers.splice(rt,1);else{const ot=it.modals[it.modals.length-1];ot.modalRef&&ariaHidden(ot.modalRef,!1)}return nt}isTopModal(tt){return this.modals.length>0&&this.modals[this.modals.length-1]===tt}}function getModalUtilityClass(_e){return generateUtilityClass("MuiModal",_e)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$f=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$c=_e=>{const{open:tt,exited:et}=_e;return composeClasses({root:["root",!tt&&et&&"hidden"],backdrop:["backdrop"]},useClassNamesOverride(getModalUtilityClass))};function getContainer(_e){return typeof _e=="function"?_e():_e}function getHasTransition(_e){return _e?_e.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,Modal$2=reactExports.forwardRef(function _e(tt,et){var nt,rt;const{children:it,closeAfterTransition:ot=!1,container:st,disableAutoFocus:at=!1,disableEnforceFocus:ct=!1,disableEscapeKeyDown:lt=!1,disablePortal:dt=!1,disableRestoreFocus:ut=!1,disableScrollLock:ft=!1,hideBackdrop:pt=!1,keepMounted:vt=!1,manager:Ct=defaultManager,onBackdropClick:ht,onClose:mt,onKeyDown:yt,open:Et,onTransitionEnter:Rt,onTransitionExited:Pt,slotProps:Vt={},slots:Nt={}}=tt,kt=_objectWithoutPropertiesLoose(tt,_excluded$f),wt=Ct,[Zt,qt]=reactExports.useState(!Et),zt=reactExports.useRef({}),Bt=reactExports.useRef(null),sn=reactExports.useRef(null),mn=useForkRef(sn,et),En=getHasTransition(it),cn=(nt=tt["aria-hidden"])!=null?nt:!0,xn=()=>ownerDocument(Bt.current),bn=()=>(zt.current.modalRef=sn.current,zt.current.mountNode=Bt.current,zt.current),gn=()=>{wt.mount(bn(),{disableScrollLock:ft}),sn.current&&(sn.current.scrollTop=0)},vn=useEventCallback(()=>{const po=getContainer(st)||xn().body;wt.add(bn(),po),sn.current&&gn()}),Wn=reactExports.useCallback(()=>wt.isTopModal(bn()),[wt]),Un=useEventCallback(po=>{Bt.current=po,!(!po||!sn.current)&&(Et&&Wn()?gn():ariaHidden(sn.current,cn))}),Sn=reactExports.useCallback(()=>{wt.remove(bn(),cn)},[wt,cn]);reactExports.useEffect(()=>()=>{Sn()},[Sn]),reactExports.useEffect(()=>{Et?vn():(!En||!ot)&&Sn()},[Et,Sn,En,ot,vn]);const On=_extends({},tt,{closeAfterTransition:ot,disableAutoFocus:at,disableEnforceFocus:ct,disableEscapeKeyDown:lt,disablePortal:dt,disableRestoreFocus:ut,disableScrollLock:ft,exited:Zt,hideBackdrop:pt,keepMounted:vt}),Ln=useUtilityClasses$c(On),Jn=()=>{qt(!1),Rt&&Rt()},ur=()=>{qt(!0),Pt&&Pt(),ot&&Sn()},sr=po=>{po.target===po.currentTarget&&(ht&&ht(po),mt&&mt(po,"backdropClick"))},pr=po=>{yt&&yt(po),!(po.key!=="Escape"||!Wn())&&(lt||(po.stopPropagation(),mt&&mt(po,"escapeKeyDown")))},Ir={};it.props.tabIndex===void 0&&(Ir.tabIndex="-1"),En&&(Ir.onEnter=createChainedFunction(Jn,it.props.onEnter),Ir.onExited=createChainedFunction(ur,it.props.onExited));const Er=(rt=Nt.root)!=null?rt:"div",Kr=useSlotProps({elementType:Er,externalSlotProps:Vt.root,externalForwardedProps:kt,additionalProps:{ref:mn,role:"presentation",onKeyDown:pr},className:Ln.root,ownerState:On}),Dr=Nt.backdrop,to=useSlotProps({elementType:Dr,externalSlotProps:Vt.backdrop,additionalProps:{"aria-hidden":!0,onClick:sr,open:Et},className:Ln.backdrop,ownerState:On});return!vt&&!Et&&(!En||Zt)?null:jsxRuntimeExports.jsx(Portal$1,{ref:Un,container:st,disablePortal:dt,children:jsxRuntimeExports.jsxs(Er,_extends({},Kr,{children:[!pt&&Dr?jsxRuntimeExports.jsx(Dr,_extends({},to)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:ct,disableAutoFocus:at,disableRestoreFocus:ut,isEnabled:Wn,open:Et,children:reactExports.cloneElement(it,Ir)})]}))})}),ModalUnstyled=Modal$2;function getSvgIconUtilityClass(_e){return generateUtilityClass("MuiSvgIcon",_e)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$b=_e=>{const{color:tt,fontSize:et,classes:nt}=_e,rt={root:["root",tt!=="inherit"&&`color${capitalize(tt)}`,`fontSize${capitalize(et)}`]};return composeClasses(rt,getSvgIconUtilityClass,nt)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.color!=="inherit"&&tt[`color${capitalize(et.color)}`],tt[`fontSize${capitalize(et.fontSize)}`]]}})(({theme:_e,ownerState:tt})=>{var et,nt,rt,it,ot,st,at,ct,lt,dt,ut,ft,pt,vt,Ct,ht,mt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:tt.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(et=_e.transitions)==null||(nt=et.create)==null?void 0:nt.call(et,"fill",{duration:(rt=_e.transitions)==null||(it=rt.duration)==null?void 0:it.shorter}),fontSize:{inherit:"inherit",small:((ot=_e.typography)==null||(st=ot.pxToRem)==null?void 0:st.call(ot,20))||"1.25rem",medium:((at=_e.typography)==null||(ct=at.pxToRem)==null?void 0:ct.call(at,24))||"1.5rem",large:((lt=_e.typography)==null||(dt=lt.pxToRem)==null?void 0:dt.call(lt,35))||"2.1875rem"}[tt.fontSize],color:(ut=(ft=(_e.vars||_e).palette)==null||(pt=ft[tt.color])==null?void 0:pt.main)!=null?ut:{action:(vt=(_e.vars||_e).palette)==null||(Ct=vt.action)==null?void 0:Ct.active,disabled:(ht=(_e.vars||_e).palette)==null||(mt=ht.action)==null?void 0:mt.disabled,inherit:void 0}[tt.color]}}),SvgIcon=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiSvgIcon"}),{children:rt,className:it,color:ot="inherit",component:st="svg",fontSize:at="medium",htmlColor:ct,inheritViewBox:lt=!1,titleAccess:dt,viewBox:ut="0 0 24 24"}=nt,ft=_objectWithoutPropertiesLoose(nt,_excluded$e),pt=reactExports.isValidElement(rt)&&rt.type==="svg",vt=_extends({},nt,{color:ot,component:st,fontSize:at,instanceFontSize:tt.fontSize,inheritViewBox:lt,viewBox:ut,hasSvgAsChild:pt}),Ct={};lt||(Ct.viewBox=ut);const ht=useUtilityClasses$b(vt);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends({as:st,className:clsx(ht.root,it),focusable:"false",color:ct,"aria-hidden":dt?void 0:!0,role:dt?"img":void 0,ref:et},Ct,ft,pt&&rt.props,{ownerState:vt,children:[pt?rt.props.children:rt,dt?jsxRuntimeExports.jsx("title",{children:dt}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(_e,tt){function et(nt,rt){return jsxRuntimeExports.jsx(SvgIcon$1,_extends({"data-testid":`${tt}Icon`,ref:rt},nt,{children:_e}))}return et.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(et))}const unstable_ClassNameGenerator={configure:_e=>{ClassNameGenerator$1.configure(_e)}},utils=Object.freeze(Object.defineProperty({__proto__:null,capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function _setPrototypeOf(_e,tt){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,rt){return nt.__proto__=rt,nt},_setPrototypeOf(_e,tt)}function _inheritsLoose(_e,tt){_e.prototype=Object.create(tt.prototype),_e.prototype.constructor=_e,_setPrototypeOf(_e,tt)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function _e(tt){return tt.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(_e){_inheritsLoose(tt,_e);function tt(nt,rt){var it;it=_e.call(this,nt,rt)||this;var ot=rt,st=ot&&!ot.isMounting?nt.enter:nt.appear,at;return it.appearStatus=null,nt.in?st?(at=EXITED,it.appearStatus=ENTERING):at=ENTERED:nt.unmountOnExit||nt.mountOnEnter?at=UNMOUNTED:at=EXITED,it.state={status:at},it.nextCallback=null,it}tt.getDerivedStateFromProps=function(rt,it){var ot=rt.in;return ot&&it.status===UNMOUNTED?{status:EXITED}:null};var et=tt.prototype;return et.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},et.componentDidUpdate=function(rt){var it=null;if(rt!==this.props){var ot=this.state.status;this.props.in?ot!==ENTERING&&ot!==ENTERED&&(it=ENTERING):(ot===ENTERING||ot===ENTERED)&&(it=EXITING)}this.updateStatus(!1,it)},et.componentWillUnmount=function(){this.cancelNextCallback()},et.getTimeouts=function(){var rt=this.props.timeout,it,ot,st;return it=ot=st=rt,rt!=null&&typeof rt!="number"&&(it=rt.exit,ot=rt.enter,st=rt.appear!==void 0?rt.appear:ot),{exit:it,enter:ot,appear:st}},et.updateStatus=function(rt,it){if(rt===void 0&&(rt=!1),it!==null)if(this.cancelNextCallback(),it===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);ot&&forceReflow(ot)}this.performEnter(rt)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},et.performEnter=function(rt){var it=this,ot=this.props.enter,st=this.context?this.context.isMounting:rt,at=this.props.nodeRef?[st]:[ReactDOM.findDOMNode(this),st],ct=at[0],lt=at[1],dt=this.getTimeouts(),ut=st?dt.appear:dt.enter;if(!rt&&!ot||config.disabled){this.safeSetState({status:ENTERED},function(){it.props.onEntered(ct)});return}this.props.onEnter(ct,lt),this.safeSetState({status:ENTERING},function(){it.props.onEntering(ct,lt),it.onTransitionEnd(ut,function(){it.safeSetState({status:ENTERED},function(){it.props.onEntered(ct,lt)})})})},et.performExit=function(){var rt=this,it=this.props.exit,ot=this.getTimeouts(),st=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!it||config.disabled){this.safeSetState({status:EXITED},function(){rt.props.onExited(st)});return}this.props.onExit(st),this.safeSetState({status:EXITING},function(){rt.props.onExiting(st),rt.onTransitionEnd(ot.exit,function(){rt.safeSetState({status:EXITED},function(){rt.props.onExited(st)})})})},et.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},et.safeSetState=function(rt,it){it=this.setNextCallback(it),this.setState(rt,it)},et.setNextCallback=function(rt){var it=this,ot=!0;return this.nextCallback=function(st){ot&&(ot=!1,it.nextCallback=null,rt(st))},this.nextCallback.cancel=function(){ot=!1},this.nextCallback},et.onTransitionEnd=function(rt,it){this.setNextCallback(it);var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),st=rt==null&&!this.props.addEndListener;if(!ot||st){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var at=this.props.nodeRef?[this.nextCallback]:[ot,this.nextCallback],ct=at[0],lt=at[1];this.props.addEndListener(ct,lt)}rt!=null&&setTimeout(this.nextCallback,rt)},et.render=function(){var rt=this.state.status;if(rt===UNMOUNTED)return null;var it=this.props,ot=it.children;it.in,it.mountOnEnter,it.unmountOnExit,it.appear,it.enter,it.exit,it.timeout,it.addEndListener,it.onEnter,it.onEntering,it.onEntered,it.onExit,it.onExiting,it.onExited,it.nodeRef;var st=_objectWithoutPropertiesLoose(it,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof ot=="function"?ot(rt,st):React.cloneElement(React.Children.only(ot),st))},tt}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function getChildMapping(_e,tt){var et=function(it){return tt&&reactExports.isValidElement(it)?tt(it):it},nt=Object.create(null);return _e&&reactExports.Children.map(_e,function(rt){return rt}).forEach(function(rt){nt[rt.key]=et(rt)}),nt}function mergeChildMappings(_e,tt){_e=_e||{},tt=tt||{};function et(lt){return lt in tt?tt[lt]:_e[lt]}var nt=Object.create(null),rt=[];for(var it in _e)it in tt?rt.length&&(nt[it]=rt,rt=[]):rt.push(it);var ot,st={};for(var at in tt){if(nt[at])for(ot=0;ot<nt[at].length;ot++){var ct=nt[at][ot];st[nt[at][ot]]=et(ct)}st[at]=et(at)}for(ot=0;ot<rt.length;ot++)st[rt[ot]]=et(rt[ot]);return st}function getProp(_e,tt,et){return et[tt]!=null?et[tt]:_e.props[tt]}function getInitialChildMapping(_e,tt){return getChildMapping(_e.children,function(et){return reactExports.cloneElement(et,{onExited:tt.bind(null,et),in:!0,appear:getProp(et,"appear",_e),enter:getProp(et,"enter",_e),exit:getProp(et,"exit",_e)})})}function getNextChildMapping(_e,tt,et){var nt=getChildMapping(_e.children),rt=mergeChildMappings(tt,nt);return Object.keys(rt).forEach(function(it){var ot=rt[it];if(reactExports.isValidElement(ot)){var st=it in tt,at=it in nt,ct=tt[it],lt=reactExports.isValidElement(ct)&&!ct.props.in;at&&(!st||lt)?rt[it]=reactExports.cloneElement(ot,{onExited:et.bind(null,ot),in:!0,exit:getProp(ot,"exit",_e),enter:getProp(ot,"enter",_e)}):!at&&st&&!lt?rt[it]=reactExports.cloneElement(ot,{in:!1}):at&&st&&reactExports.isValidElement(ct)&&(rt[it]=reactExports.cloneElement(ot,{onExited:et.bind(null,ot),in:ct.props.in,exit:getProp(ot,"exit",_e),enter:getProp(ot,"enter",_e)}))}}),rt}var values=Object.values||function(_e){return Object.keys(_e).map(function(tt){return _e[tt]})},defaultProps={component:"div",childFactory:function _e(tt){return tt}},TransitionGroup=function(_e){_inheritsLoose(tt,_e);function tt(nt,rt){var it;it=_e.call(this,nt,rt)||this;var ot=it.handleExited.bind(_assertThisInitialized(it));return it.state={contextValue:{isMounting:!0},handleExited:ot,firstRender:!0},it}var et=tt.prototype;return et.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},et.componentWillUnmount=function(){this.mounted=!1},tt.getDerivedStateFromProps=function(rt,it){var ot=it.children,st=it.handleExited,at=it.firstRender;return{children:at?getInitialChildMapping(rt,st):getNextChildMapping(rt,ot,st),firstRender:!1}},et.handleExited=function(rt,it){var ot=getChildMapping(this.props.children);rt.key in ot||(rt.props.onExited&&rt.props.onExited(it),this.mounted&&this.setState(function(st){var at=_extends({},st.children);return delete at[rt.key],{children:at}}))},et.render=function(){var rt=this.props,it=rt.component,ot=rt.childFactory,st=_objectWithoutPropertiesLoose(rt,["component","childFactory"]),at=this.state.contextValue,ct=values(this.state.children).map(ot);return delete st.appear,delete st.enter,delete st.exit,it===null?React.createElement(TransitionGroupContext.Provider,{value:at},ct):React.createElement(TransitionGroupContext.Provider,{value:at},React.createElement(it,st,ct))},tt}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=_e=>_e.scrollTop;function getTransitionProps(_e,tt){var et,nt;const{timeout:rt,easing:it,style:ot={}}=_e;return{duration:(et=ot.transitionDuration)!=null?et:typeof rt=="number"?rt:rt[tt.mode]||0,easing:(nt=ot.transitionTimingFunction)!=null?nt:typeof it=="object"?it[tt.mode]:it,delay:ot.transitionDelay}}function getCollapseUtilityClass(_e){return generateUtilityClass("MuiCollapse",_e)}generateUtilityClasses("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const _excluded$d=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],useUtilityClasses$a=_e=>{const{orientation:tt,classes:et}=_e,nt={root:["root",`${tt}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${tt}`],wrapperInner:["wrapperInner",`${tt}`]};return composeClasses(nt,getCollapseUtilityClass,et)},CollapseRoot=styled$1("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.orientation],et.state==="entered"&&tt.entered,et.state==="exited"&&!et.in&&et.collapsedSize==="0px"&&tt.hidden]}})(({theme:_e,ownerState:tt})=>_extends({height:0,overflow:"hidden",transition:_e.transitions.create("height")},tt.orientation==="horizontal"&&{height:"auto",width:0,transition:_e.transitions.create("width")},tt.state==="entered"&&_extends({height:"auto",overflow:"visible"},tt.orientation==="horizontal"&&{width:"auto"}),tt.state==="exited"&&!tt.in&&tt.collapsedSize==="0px"&&{visibility:"hidden"})),CollapseWrapper=styled$1("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(_e,tt)=>tt.wrapper})(({ownerState:_e})=>_extends({display:"flex",width:"100%"},_e.orientation==="horizontal"&&{width:"auto",height:"100%"})),CollapseWrapperInner=styled$1("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(_e,tt)=>tt.wrapperInner})(({ownerState:_e})=>_extends({width:"100%"},_e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Collapse=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiCollapse"}),{addEndListener:rt,children:it,className:ot,collapsedSize:st="0px",component:at,easing:ct,in:lt,onEnter:dt,onEntered:ut,onEntering:ft,onExit:pt,onExited:vt,onExiting:Ct,orientation:ht="vertical",style:mt,timeout:yt=duration.standard,TransitionComponent:Et=Transition$1}=nt,Rt=_objectWithoutPropertiesLoose(nt,_excluded$d),Pt=_extends({},nt,{orientation:ht,collapsedSize:st}),Vt=useUtilityClasses$a(Pt),Nt=useTheme(),kt=reactExports.useRef(),wt=reactExports.useRef(null),Zt=reactExports.useRef(),qt=typeof st=="number"?`${st}px`:st,zt=ht==="horizontal",Bt=zt?"width":"height";reactExports.useEffect(()=>()=>{clearTimeout(kt.current)},[]);const sn=reactExports.useRef(null),mn=useForkRef(et,sn),En=On=>Ln=>{if(On){const Jn=sn.current;Ln===void 0?On(Jn):On(Jn,Ln)}},cn=()=>wt.current?wt.current[zt?"clientWidth":"clientHeight"]:0,xn=En((On,Ln)=>{wt.current&&zt&&(wt.current.style.position="absolute"),On.style[Bt]=qt,dt&&dt(On,Ln)}),bn=En((On,Ln)=>{const Jn=cn();wt.current&&zt&&(wt.current.style.position="");const{duration:ur,easing:sr}=getTransitionProps({style:mt,timeout:yt,easing:ct},{mode:"enter"});if(yt==="auto"){const pr=Nt.transitions.getAutoHeightDuration(Jn);On.style.transitionDuration=`${pr}ms`,Zt.current=pr}else On.style.transitionDuration=typeof ur=="string"?ur:`${ur}ms`;On.style[Bt]=`${Jn}px`,On.style.transitionTimingFunction=sr,ft&&ft(On,Ln)}),gn=En((On,Ln)=>{On.style[Bt]="auto",ut&&ut(On,Ln)}),vn=En(On=>{On.style[Bt]=`${cn()}px`,pt&&pt(On)}),Wn=En(vt),Un=En(On=>{const Ln=cn(),{duration:Jn,easing:ur}=getTransitionProps({style:mt,timeout:yt,easing:ct},{mode:"exit"});if(yt==="auto"){const sr=Nt.transitions.getAutoHeightDuration(Ln);On.style.transitionDuration=`${sr}ms`,Zt.current=sr}else On.style.transitionDuration=typeof Jn=="string"?Jn:`${Jn}ms`;On.style[Bt]=qt,On.style.transitionTimingFunction=ur,Ct&&Ct(On)}),Sn=On=>{yt==="auto"&&(kt.current=setTimeout(On,Zt.current||0)),rt&&rt(sn.current,On)};return jsxRuntimeExports.jsx(Et,_extends({in:lt,onEnter:xn,onEntered:gn,onEntering:bn,onExit:vn,onExited:Wn,onExiting:Un,addEndListener:Sn,nodeRef:sn,timeout:yt==="auto"?null:yt},Rt,{children:(On,Ln)=>jsxRuntimeExports.jsx(CollapseRoot,_extends({as:at,className:clsx(Vt.root,ot,{entered:Vt.entered,exited:!lt&&qt==="0px"&&Vt.hidden}[On]),style:_extends({[zt?"minWidth":"minHeight"]:qt},mt),ownerState:_extends({},Pt,{state:On}),ref:mn},Ln,{children:jsxRuntimeExports.jsx(CollapseWrapper,{ownerState:_extends({},Pt,{state:On}),className:Vt.wrapper,ref:wt,children:jsxRuntimeExports.jsx(CollapseWrapperInner,{ownerState:_extends({},Pt,{state:On}),className:Vt.wrapperInner,children:it})})}))}))});Collapse.muiSupportAuto=!0;const Collapse$1=Collapse;function getPaperUtilityClass(_e){return generateUtilityClass("MuiPaper",_e)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$c=["className","component","elevation","square","variant"],useUtilityClasses$9=_e=>{const{square:tt,elevation:et,variant:nt,classes:rt}=_e,it={root:["root",nt,!tt&&"rounded",nt==="elevation"&&`elevation${et}`]};return composeClasses(it,getPaperUtilityClass,rt)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.variant],!et.square&&tt.rounded,et.variant==="elevation"&&tt[`elevation${et.elevation}`]]}})(({theme:_e,ownerState:tt})=>{var et;return _extends({backgroundColor:(_e.vars||_e).palette.background.paper,color:(_e.vars||_e).palette.text.primary,transition:_e.transitions.create("box-shadow")},!tt.square&&{borderRadius:_e.shape.borderRadius},tt.variant==="outlined"&&{border:`1px solid ${(_e.vars||_e).palette.divider}`},tt.variant==="elevation"&&_extends({boxShadow:(_e.vars||_e).shadows[tt.elevation]},!_e.vars&&_e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(tt.elevation))}, ${alpha("#fff",getOverlayAlpha$1(tt.elevation))})`},_e.vars&&{backgroundImage:(et=_e.vars.overlays)==null?void 0:et[tt.elevation]}))}),Paper=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiPaper"}),{className:rt,component:it="div",elevation:ot=1,square:st=!1,variant:at="elevation"}=nt,ct=_objectWithoutPropertiesLoose(nt,_excluded$c),lt=_extends({},nt,{component:it,elevation:ot,square:st,variant:at}),dt=useUtilityClasses$9(lt);return jsxRuntimeExports.jsx(PaperRoot,_extends({as:it,ownerState:lt,className:clsx(dt.root,rt),ref:et},ct))}),Paper$1=Paper,AccordionContext=reactExports.createContext({}),AccordionContext$1=AccordionContext;function getAccordionUtilityClass(_e){return generateUtilityClass("MuiAccordion",_e)}const accordionClasses=generateUtilityClasses("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),accordionClasses$1=accordionClasses,_excluded$b=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],useUtilityClasses$8=_e=>{const{classes:tt,square:et,expanded:nt,disabled:rt,disableGutters:it}=_e;return composeClasses({root:["root",!et&&"rounded",nt&&"expanded",rt&&"disabled",!it&&"gutters"],region:["region"]},getAccordionUtilityClass,tt)},AccordionRoot=styled$1(Paper$1,{name:"MuiAccordion",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[{[`& .${accordionClasses$1.region}`]:tt.region},tt.root,!et.square&&tt.rounded,!et.disableGutters&&tt.gutters]}})(({theme:_e})=>{const tt={duration:_e.transitions.duration.shortest};return{position:"relative",transition:_e.transitions.create(["margin"],tt),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(_e.vars||_e).palette.divider,transition:_e.transitions.create(["opacity","background-color"],tt)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${accordionClasses$1.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${accordionClasses$1.disabled}`]:{backgroundColor:(_e.vars||_e).palette.action.disabledBackground}}},({theme:_e,ownerState:tt})=>_extends({},!tt.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(_e.vars||_e).shape.borderRadius,borderTopRightRadius:(_e.vars||_e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(_e.vars||_e).shape.borderRadius,borderBottomRightRadius:(_e.vars||_e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!tt.disableGutters&&{[`&.${accordionClasses$1.expanded}`]:{margin:"16px 0"}})),Accordion=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordion"}),{children:rt,className:it,defaultExpanded:ot=!1,disabled:st=!1,disableGutters:at=!1,expanded:ct,onChange:lt,square:dt=!1,TransitionComponent:ut=Collapse$1,TransitionProps:ft}=nt,pt=_objectWithoutPropertiesLoose(nt,_excluded$b),[vt,Ct]=useControlled({controlled:ct,default:ot,name:"Accordion",state:"expanded"}),ht=reactExports.useCallback(Vt=>{Ct(!vt),lt&&lt(Vt,!vt)},[vt,lt,Ct]),[mt,...yt]=reactExports.Children.toArray(rt),Et=reactExports.useMemo(()=>({expanded:vt,disabled:st,disableGutters:at,toggle:ht}),[vt,st,at,ht]),Rt=_extends({},nt,{square:dt,disabled:st,disableGutters:at,expanded:vt}),Pt=useUtilityClasses$8(Rt);return jsxRuntimeExports.jsxs(AccordionRoot,_extends({className:clsx(Pt.root,it),ref:et,ownerState:Rt,square:dt},pt,{children:[jsxRuntimeExports.jsx(AccordionContext$1.Provider,{value:Et,children:mt}),jsxRuntimeExports.jsx(ut,_extends({in:vt,timeout:"auto"},ft,{children:jsxRuntimeExports.jsx("div",{"aria-labelledby":mt.props.id,id:mt.props["aria-controls"],role:"region",className:Pt.region,children:yt})}))]}))}),Accordion$1=Accordion;function getAccordionDetailsUtilityClass(_e){return generateUtilityClass("MuiAccordionDetails",_e)}generateUtilityClasses("MuiAccordionDetails",["root"]);const _excluded$a=["className"],useUtilityClasses$7=_e=>{const{classes:tt}=_e;return composeClasses({root:["root"]},getAccordionDetailsUtilityClass,tt)},AccordionDetailsRoot=styled$1("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(_e,tt)=>tt.root})(({theme:_e})=>({padding:_e.spacing(1,2,2)})),AccordionDetails=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordionDetails"}),{className:rt}=nt,it=_objectWithoutPropertiesLoose(nt,_excluded$a),ot=nt,st=useUtilityClasses$7(ot);return jsxRuntimeExports.jsx(AccordionDetailsRoot,_extends({className:clsx(st.root,rt),ref:et,ownerState:ot},it))}),AccordionDetails$1=AccordionDetails;function Ripple(_e){const{className:tt,classes:et,pulsate:nt=!1,rippleX:rt,rippleY:it,rippleSize:ot,in:st,onExited:at,timeout:ct}=_e,[lt,dt]=reactExports.useState(!1),ut=clsx(tt,et.ripple,et.rippleVisible,nt&&et.ripplePulsate),ft={width:ot,height:ot,top:-(ot/2)+it,left:-(ot/2)+rt},pt=clsx(et.child,lt&&et.childLeaving,nt&&et.childPulsate);return!st&&!lt&&dt(!0),reactExports.useEffect(()=>{if(!st&&at!=null){const vt=setTimeout(at,ct);return()=>{clearTimeout(vt)}}},[at,st,ct]),jsxRuntimeExports.jsx("span",{className:ut,style:ft,children:jsxRuntimeExports.jsx("span",{className:pt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$9=["center","classes","className"];let _$1=_e=>_e,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_$1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_$1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_$1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_$1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:_e})=>_e.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:_e})=>_e.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:_e})=>_e.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:_e})=>_e.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiTouchRipple"}),{center:rt=!1,classes:it={},className:ot}=nt,st=_objectWithoutPropertiesLoose(nt,_excluded$9),[at,ct]=reactExports.useState([]),lt=reactExports.useRef(0),dt=reactExports.useRef(null);reactExports.useEffect(()=>{dt.current&&(dt.current(),dt.current=null)},[at]);const ut=reactExports.useRef(!1),ft=reactExports.useRef(0),pt=reactExports.useRef(null),vt=reactExports.useRef(null);reactExports.useEffect(()=>()=>{ft.current&&clearTimeout(ft.current)},[]);const Ct=reactExports.useCallback(Et=>{const{pulsate:Rt,rippleX:Pt,rippleY:Vt,rippleSize:Nt,cb:kt}=Et;ct(wt=>[...wt,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(it.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(it.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(it.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(it.child,touchRippleClasses$1.child),childLeaving:clsx(it.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(it.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:Rt,rippleX:Pt,rippleY:Vt,rippleSize:Nt},lt.current)]),lt.current+=1,dt.current=kt},[it]),ht=reactExports.useCallback((Et={},Rt={},Pt=()=>{})=>{const{pulsate:Vt=!1,center:Nt=rt||Rt.pulsate,fakeElement:kt=!1}=Rt;if((Et==null?void 0:Et.type)==="mousedown"&&ut.current){ut.current=!1;return}(Et==null?void 0:Et.type)==="touchstart"&&(ut.current=!0);const wt=kt?null:vt.current,Zt=wt?wt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let qt,zt,Bt;if(Nt||Et===void 0||Et.clientX===0&&Et.clientY===0||!Et.clientX&&!Et.touches)qt=Math.round(Zt.width/2),zt=Math.round(Zt.height/2);else{const{clientX:sn,clientY:mn}=Et.touches&&Et.touches.length>0?Et.touches[0]:Et;qt=Math.round(sn-Zt.left),zt=Math.round(mn-Zt.top)}if(Nt)Bt=Math.sqrt((2*Zt.width**2+Zt.height**2)/3),Bt%2===0&&(Bt+=1);else{const sn=Math.max(Math.abs((wt?wt.clientWidth:0)-qt),qt)*2+2,mn=Math.max(Math.abs((wt?wt.clientHeight:0)-zt),zt)*2+2;Bt=Math.sqrt(sn**2+mn**2)}Et!=null&&Et.touches?pt.current===null&&(pt.current=()=>{Ct({pulsate:Vt,rippleX:qt,rippleY:zt,rippleSize:Bt,cb:Pt})},ft.current=setTimeout(()=>{pt.current&&(pt.current(),pt.current=null)},DELAY_RIPPLE)):Ct({pulsate:Vt,rippleX:qt,rippleY:zt,rippleSize:Bt,cb:Pt})},[rt,Ct]),mt=reactExports.useCallback(()=>{ht({},{pulsate:!0})},[ht]),yt=reactExports.useCallback((Et,Rt)=>{if(clearTimeout(ft.current),(Et==null?void 0:Et.type)==="touchend"&&pt.current){pt.current(),pt.current=null,ft.current=setTimeout(()=>{yt(Et,Rt)});return}pt.current=null,ct(Pt=>Pt.length>0?Pt.slice(1):Pt),dt.current=Rt},[]);return reactExports.useImperativeHandle(et,()=>({pulsate:mt,start:ht,stop:yt}),[mt,ht,yt]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends({className:clsx(touchRippleClasses$1.root,it.root,ot),ref:vt},st,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:at})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(_e){return generateUtilityClass("MuiButtonBase",_e)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$8=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$6=_e=>{const{disabled:tt,focusVisible:et,focusVisibleClassName:nt,classes:rt}=_e,ot=composeClasses({root:["root",tt&&"disabled",et&&"focusVisible"]},getButtonBaseUtilityClass,rt);return et&&nt&&(ot.root+=` ${nt}`),ot},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(_e,tt)=>tt.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiButtonBase"}),{action:rt,centerRipple:it=!1,children:ot,className:st,component:at="button",disabled:ct=!1,disableRipple:lt=!1,disableTouchRipple:dt=!1,focusRipple:ut=!1,LinkComponent:ft="a",onBlur:pt,onClick:vt,onContextMenu:Ct,onDragLeave:ht,onFocus:mt,onFocusVisible:yt,onKeyDown:Et,onKeyUp:Rt,onMouseDown:Pt,onMouseLeave:Vt,onMouseUp:Nt,onTouchEnd:kt,onTouchMove:wt,onTouchStart:Zt,tabIndex:qt=0,TouchRippleProps:zt,touchRippleRef:Bt,type:sn}=nt,mn=_objectWithoutPropertiesLoose(nt,_excluded$8),En=reactExports.useRef(null),cn=reactExports.useRef(null),xn=useForkRef(cn,Bt),{isFocusVisibleRef:bn,onFocus:gn,onBlur:vn,ref:Wn}=useIsFocusVisible(),[Un,Sn]=reactExports.useState(!1);ct&&Un&&Sn(!1),reactExports.useImperativeHandle(rt,()=>({focusVisible:()=>{Sn(!0),En.current.focus()}}),[]);const[On,Ln]=reactExports.useState(!1);reactExports.useEffect(()=>{Ln(!0)},[]);const Jn=On&&!lt&&!ct;reactExports.useEffect(()=>{Un&&ut&&!lt&&On&&cn.current.pulsate()},[lt,ut,Un,On]);function ur(Mr,wo,mo=dt){return useEventCallback(so=>(wo&&wo(so),!mo&&cn.current&&cn.current[Mr](so),!0))}const sr=ur("start",Pt),pr=ur("stop",Ct),Ir=ur("stop",ht),Er=ur("stop",Nt),Kr=ur("stop",Mr=>{Un&&Mr.preventDefault(),Vt&&Vt(Mr)}),Dr=ur("start",Zt),to=ur("stop",kt),po=ur("stop",wt),Nr=ur("stop",Mr=>{vn(Mr),bn.current===!1&&Sn(!1),pt&&pt(Mr)},!1),br=useEventCallback(Mr=>{En.current||(En.current=Mr.currentTarget),gn(Mr),bn.current===!0&&(Sn(!0),yt&&yt(Mr)),mt&&mt(Mr)}),zn=()=>{const Mr=En.current;return at&&at!=="button"&&!(Mr.tagName==="A"&&Mr.href)},Qn=reactExports.useRef(!1),cr=useEventCallback(Mr=>{ut&&!Qn.current&&Un&&cn.current&&Mr.key===" "&&(Qn.current=!0,cn.current.stop(Mr,()=>{cn.current.start(Mr)})),Mr.target===Mr.currentTarget&&zn()&&Mr.key===" "&&Mr.preventDefault(),Et&&Et(Mr),Mr.target===Mr.currentTarget&&zn()&&Mr.key==="Enter"&&!ct&&(Mr.preventDefault(),vt&&vt(Mr))}),qr=useEventCallback(Mr=>{ut&&Mr.key===" "&&cn.current&&Un&&!Mr.defaultPrevented&&(Qn.current=!1,cn.current.stop(Mr,()=>{cn.current.pulsate(Mr)})),Rt&&Rt(Mr),vt&&Mr.target===Mr.currentTarget&&zn()&&Mr.key===" "&&!Mr.defaultPrevented&&vt(Mr)});let To=at;To==="button"&&(mn.href||mn.to)&&(To=ft);const dr={};To==="button"?(dr.type=sn===void 0?"button":sn,dr.disabled=ct):(!mn.href&&!mn.to&&(dr.role="button"),ct&&(dr["aria-disabled"]=ct));const Lr=useForkRef(et,Wn,En),Yr=_extends({},nt,{centerRipple:it,component:at,disabled:ct,disableRipple:lt,disableTouchRipple:dt,focusRipple:ut,tabIndex:qt,focusVisible:Un}),yo=useUtilityClasses$6(Yr);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends({as:To,className:clsx(yo.root,st),ownerState:Yr,onBlur:Nr,onClick:vt,onContextMenu:pr,onFocus:br,onKeyDown:cr,onKeyUp:qr,onMouseDown:sr,onMouseLeave:Kr,onMouseUp:Er,onDragLeave:Ir,onTouchEnd:to,onTouchMove:po,onTouchStart:Dr,ref:Lr,tabIndex:ct?-1:qt,type:sn},dr,mn,{children:[ot,Jn?jsxRuntimeExports.jsx(TouchRipple$1,_extends({ref:xn,center:it},zt)):null]}))}),ButtonBase$1=ButtonBase;function getAccordionSummaryUtilityClass(_e){return generateUtilityClass("MuiAccordionSummary",_e)}const accordionSummaryClasses=generateUtilityClasses("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),accordionSummaryClasses$1=accordionSummaryClasses,_excluded$7=["children","className","expandIcon","focusVisibleClassName","onClick"],useUtilityClasses$5=_e=>{const{classes:tt,expanded:et,disabled:nt,disableGutters:rt}=_e;return composeClasses({root:["root",et&&"expanded",nt&&"disabled",!rt&&"gutters"],focusVisible:["focusVisible"],content:["content",et&&"expanded",!rt&&"contentGutters"],expandIconWrapper:["expandIconWrapper",et&&"expanded"]},getAccordionSummaryUtilityClass,tt)},AccordionSummaryRoot=styled$1(ButtonBase$1,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(_e,tt)=>tt.root})(({theme:_e,ownerState:tt})=>{const et={duration:_e.transitions.duration.shortest};return _extends({display:"flex",minHeight:48,padding:_e.spacing(0,2),transition:_e.transitions.create(["min-height","background-color"],et),[`&.${accordionSummaryClasses$1.focusVisible}`]:{backgroundColor:(_e.vars||_e).palette.action.focus},[`&.${accordionSummaryClasses$1.disabled}`]:{opacity:(_e.vars||_e).palette.action.disabledOpacity},[`&:hover:not(.${accordionSummaryClasses$1.disabled})`]:{cursor:"pointer"}},!tt.disableGutters&&{[`&.${accordionSummaryClasses$1.expanded}`]:{minHeight:64}})}),AccordionSummaryContent=styled$1("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(_e,tt)=>tt.content})(({theme:_e,ownerState:tt})=>_extends({display:"flex",flexGrow:1,margin:"12px 0"},!tt.disableGutters&&{transition:_e.transitions.create(["margin"],{duration:_e.transitions.duration.shortest}),[`&.${accordionSummaryClasses$1.expanded}`]:{margin:"20px 0"}})),AccordionSummaryExpandIconWrapper=styled$1("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(_e,tt)=>tt.expandIconWrapper})(({theme:_e})=>({display:"flex",color:(_e.vars||_e).palette.action.active,transform:"rotate(0deg)",transition:_e.transitions.create("transform",{duration:_e.transitions.duration.shortest}),[`&.${accordionSummaryClasses$1.expanded}`]:{transform:"rotate(180deg)"}})),AccordionSummary=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiAccordionSummary"}),{children:rt,className:it,expandIcon:ot,focusVisibleClassName:st,onClick:at}=nt,ct=_objectWithoutPropertiesLoose(nt,_excluded$7),{disabled:lt=!1,disableGutters:dt,expanded:ut,toggle:ft}=reactExports.useContext(AccordionContext$1),pt=ht=>{ft&&ft(ht),at&&at(ht)},vt=_extends({},nt,{expanded:ut,disabled:lt,disableGutters:dt}),Ct=useUtilityClasses$5(vt);return jsxRuntimeExports.jsxs(AccordionSummaryRoot,_extends({focusRipple:!1,disableRipple:!0,disabled:lt,component:"div","aria-expanded":ut,className:clsx(Ct.root,it),focusVisibleClassName:clsx(Ct.focusVisible,st),onClick:pt,ref:et,ownerState:vt},ct,{children:[jsxRuntimeExports.jsx(AccordionSummaryContent,{className:Ct.content,ownerState:vt,children:rt}),ot&&jsxRuntimeExports.jsx(AccordionSummaryExpandIconWrapper,{className:Ct.expandIconWrapper,ownerState:vt,children:ot})]}))}),AccordionSummary$1=AccordionSummary;function getTypographyUtilityClass(_e){return generateUtilityClass("MuiTypography",_e)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$6=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$4=_e=>{const{align:tt,gutterBottom:et,noWrap:nt,paragraph:rt,variant:it,classes:ot}=_e,st={root:["root",it,_e.align!=="inherit"&&`align${capitalize(tt)}`,et&&"gutterBottom",nt&&"noWrap",rt&&"paragraph"]};return composeClasses(st,getTypographyUtilityClass,ot)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.variant&&tt[et.variant],et.align!=="inherit"&&tt[`align${capitalize(et.align)}`],et.noWrap&&tt.noWrap,et.gutterBottom&&tt.gutterBottom,et.paragraph&&tt.paragraph]}})(({theme:_e,ownerState:tt})=>_extends({margin:0},tt.variant&&_e.typography[tt.variant],tt.align!=="inherit"&&{textAlign:tt.align},tt.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},tt.gutterBottom&&{marginBottom:"0.35em"},tt.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations$1={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors$1=_e=>colorTransformations$1[_e]||_e,Typography=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiTypography"}),rt=transformDeprecatedColors$1(nt.color),it=extendSxProp(_extends({},nt,{color:rt})),{align:ot="inherit",className:st,component:at,gutterBottom:ct=!1,noWrap:lt=!1,paragraph:dt=!1,variant:ut="body1",variantMapping:ft=defaultVariantMapping}=it,pt=_objectWithoutPropertiesLoose(it,_excluded$6),vt=_extends({},it,{align:ot,color:rt,className:st,component:at,gutterBottom:ct,noWrap:lt,paragraph:dt,variant:ut,variantMapping:ft}),Ct=at||(dt?"p":ft[ut]||defaultVariantMapping[ut])||"span",ht=useUtilityClasses$4(vt);return jsxRuntimeExports.jsx(TypographyRoot,_extends({as:Ct,ref:et,ownerState:vt,className:clsx(ht.root,st)},pt))}),Typography$1=Typography,_excluded$5=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function _e(tt,et){const nt=useTheme(),rt={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:it,appear:ot=!0,children:st,easing:at,in:ct,onEnter:lt,onEntered:dt,onEntering:ut,onExit:ft,onExited:pt,onExiting:vt,style:Ct,timeout:ht=rt,TransitionComponent:mt=Transition$1}=tt,yt=_objectWithoutPropertiesLoose(tt,_excluded$5),Et=reactExports.useRef(null),Rt=useForkRef(Et,st.ref,et),Pt=Bt=>sn=>{if(Bt){const mn=Et.current;sn===void 0?Bt(mn):Bt(mn,sn)}},Vt=Pt(ut),Nt=Pt((Bt,sn)=>{reflow(Bt);const mn=getTransitionProps({style:Ct,timeout:ht,easing:at},{mode:"enter"});Bt.style.webkitTransition=nt.transitions.create("opacity",mn),Bt.style.transition=nt.transitions.create("opacity",mn),lt&&lt(Bt,sn)}),kt=Pt(dt),wt=Pt(vt),Zt=Pt(Bt=>{const sn=getTransitionProps({style:Ct,timeout:ht,easing:at},{mode:"exit"});Bt.style.webkitTransition=nt.transitions.create("opacity",sn),Bt.style.transition=nt.transitions.create("opacity",sn),ft&&ft(Bt)}),qt=Pt(pt),zt=Bt=>{it&&it(Et.current,Bt)};return jsxRuntimeExports.jsx(mt,_extends({appear:ot,in:ct,nodeRef:Et,onEnter:Nt,onEntered:kt,onEntering:Vt,onExit:Zt,onExited:qt,onExiting:wt,addEndListener:zt,timeout:ht},yt,{children:(Bt,sn)=>reactExports.cloneElement(st,_extends({style:_extends({opacity:0,visibility:Bt==="exited"&&!ct?"hidden":void 0},styles[Bt],Ct,st.props.style),ref:Rt},sn))}))}),Fade$1=Fade;function getBackdropUtilityClass(_e){return generateUtilityClass("MuiBackdrop",_e)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$4=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$3=_e=>{const{classes:tt,invisible:et}=_e;return composeClasses({root:["root",et&&"invisible"]},getBackdropUtilityClass,tt)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,et.invisible&&tt.invisible]}})(({ownerState:_e})=>_extends({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},_e.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function _e(tt,et){var nt,rt,it;const ot=useThemeProps({props:tt,name:"MuiBackdrop"}),{children:st,className:at,component:ct="div",components:lt={},componentsProps:dt={},invisible:ut=!1,open:ft,slotProps:pt={},slots:vt={},TransitionComponent:Ct=Fade$1,transitionDuration:ht}=ot,mt=_objectWithoutPropertiesLoose(ot,_excluded$4),yt=_extends({},ot,{component:ct,invisible:ut}),Et=useUtilityClasses$3(yt),Rt=(nt=pt.root)!=null?nt:dt.root;return jsxRuntimeExports.jsx(Ct,_extends({in:ft,timeout:ht},mt,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends({"aria-hidden":!0},Rt,{as:(rt=(it=vt.root)!=null?it:lt.Root)!=null?rt:ct,className:clsx(Et.root,at,Rt==null?void 0:Rt.className),ownerState:_extends({},yt,Rt==null?void 0:Rt.ownerState),classes:Et,ref:et,children:st}))}))}),Backdrop$1=Backdrop;function getButtonUtilityClass(_e){return generateUtilityClass("MuiButton",_e)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$3=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$2=_e=>{const{color:tt,disableElevation:et,fullWidth:nt,size:rt,variant:it,classes:ot}=_e,st={root:["root",it,`${it}${capitalize(tt)}`,`size${capitalize(rt)}`,`${it}Size${capitalize(rt)}`,tt==="inherit"&&"colorInherit",et&&"disableElevation",nt&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(rt)}`],endIcon:["endIcon",`iconSize${capitalize(rt)}`]},at=composeClasses(st,getButtonUtilityClass,ot);return _extends({},ot,at)},commonIconStyles=_e=>_extends({},_e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},_e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},_e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:_e=>rootShouldForwardProp(_e)||_e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[et.variant],tt[`${et.variant}${capitalize(et.color)}`],tt[`size${capitalize(et.size)}`],tt[`${et.variant}Size${capitalize(et.size)}`],et.color==="inherit"&&tt.colorInherit,et.disableElevation&&tt.disableElevation,et.fullWidth&&tt.fullWidth]}})(({theme:_e,ownerState:tt})=>{var et,nt;const rt=_e.palette.mode==="light"?_e.palette.grey[300]:_e.palette.grey[800],it=_e.palette.mode==="light"?_e.palette.grey.A100:_e.palette.grey[700];return _extends({},_e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(_e.vars||_e).shape.borderRadius,transition:_e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:_e.transitions.duration.short}),"&:hover":_extends({textDecoration:"none",backgroundColor:_e.vars?`rgba(${_e.vars.palette.text.primaryChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette.text.primary,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="text"&&tt.color!=="inherit"&&{backgroundColor:_e.vars?`rgba(${_e.vars.palette[tt.color].mainChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette[tt.color].main,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="outlined"&&tt.color!=="inherit"&&{border:`1px solid ${(_e.vars||_e).palette[tt.color].main}`,backgroundColor:_e.vars?`rgba(${_e.vars.palette[tt.color].mainChannel} / ${_e.vars.palette.action.hoverOpacity})`:alpha(_e.palette[tt.color].main,_e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="contained"&&{backgroundColor:_e.vars?_e.vars.palette.Button.inheritContainedHoverBg:it,boxShadow:(_e.vars||_e).shadows[4],"@media (hover: none)":{boxShadow:(_e.vars||_e).shadows[2],backgroundColor:(_e.vars||_e).palette.grey[300]}},tt.variant==="contained"&&tt.color!=="inherit"&&{backgroundColor:(_e.vars||_e).palette[tt.color].dark,"@media (hover: none)":{backgroundColor:(_e.vars||_e).palette[tt.color].main}}),"&:active":_extends({},tt.variant==="contained"&&{boxShadow:(_e.vars||_e).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends({},tt.variant==="contained"&&{boxShadow:(_e.vars||_e).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends({color:(_e.vars||_e).palette.action.disabled},tt.variant==="outlined"&&{border:`1px solid ${(_e.vars||_e).palette.action.disabledBackground}`},tt.variant==="contained"&&{color:(_e.vars||_e).palette.action.disabled,boxShadow:(_e.vars||_e).shadows[0],backgroundColor:(_e.vars||_e).palette.action.disabledBackground})},tt.variant==="text"&&{padding:"6px 8px"},tt.variant==="text"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].main},tt.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},tt.variant==="outlined"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].main,border:_e.vars?`1px solid rgba(${_e.vars.palette[tt.color].mainChannel} / 0.5)`:`1px solid ${alpha(_e.palette[tt.color].main,.5)}`},tt.variant==="contained"&&{color:_e.vars?_e.vars.palette.text.primary:(et=(nt=_e.palette).getContrastText)==null?void 0:et.call(nt,_e.palette.grey[300]),backgroundColor:_e.vars?_e.vars.palette.Button.inheritContainedBg:rt,boxShadow:(_e.vars||_e).shadows[2]},tt.variant==="contained"&&tt.color!=="inherit"&&{color:(_e.vars||_e).palette[tt.color].contrastText,backgroundColor:(_e.vars||_e).palette[tt.color].main},tt.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},tt.size==="small"&&tt.variant==="text"&&{padding:"4px 5px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="text"&&{padding:"8px 11px",fontSize:_e.typography.pxToRem(15)},tt.size==="small"&&tt.variant==="outlined"&&{padding:"3px 9px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="outlined"&&{padding:"7px 21px",fontSize:_e.typography.pxToRem(15)},tt.size==="small"&&tt.variant==="contained"&&{padding:"4px 10px",fontSize:_e.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="contained"&&{padding:"8px 22px",fontSize:_e.typography.pxToRem(15)},tt.fullWidth&&{width:"100%"})},({ownerState:_e})=>_e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.startIcon,tt[`iconSize${capitalize(et.size)}`]]}})(({ownerState:_e})=>_extends({display:"inherit",marginRight:8,marginLeft:-4},_e.size==="small"&&{marginLeft:-2},commonIconStyles(_e))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.endIcon,tt[`iconSize${capitalize(et.size)}`]]}})(({ownerState:_e})=>_extends({display:"inherit",marginRight:-4,marginLeft:8},_e.size==="small"&&{marginRight:-2},commonIconStyles(_e))),Button=reactExports.forwardRef(function _e(tt,et){const nt=reactExports.useContext(ButtonGroupContext$1),rt=resolveProps(nt,tt),it=useThemeProps({props:rt,name:"MuiButton"}),{children:ot,color:st="primary",component:at="button",className:ct,disabled:lt=!1,disableElevation:dt=!1,disableFocusRipple:ut=!1,endIcon:ft,focusVisibleClassName:pt,fullWidth:vt=!1,size:Ct="medium",startIcon:ht,type:mt,variant:yt="text"}=it,Et=_objectWithoutPropertiesLoose(it,_excluded$3),Rt=_extends({},it,{color:st,component:at,disabled:lt,disableElevation:dt,disableFocusRipple:ut,fullWidth:vt,size:Ct,type:mt,variant:yt}),Pt=useUtilityClasses$2(Rt),Vt=ht&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:Pt.startIcon,ownerState:Rt,children:ht}),Nt=ft&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:Pt.endIcon,ownerState:Rt,children:ft});return jsxRuntimeExports.jsxs(ButtonRoot,_extends({ownerState:Rt,className:clsx(nt.className,Pt.root,ct),component:at,disabled:lt,focusRipple:!ut,focusVisibleClassName:clsx(Pt.focusVisible,pt),ref:et,type:mt},Et,{classes:Pt,children:[Vt,ot,Nt]}))}),Button$1=Button,_excluded$2=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,!et.open&&et.exited&&tt.hidden]}})(({theme:_e,ownerState:tt})=>_extends({position:"fixed",zIndex:(_e.vars||_e).zIndex.modal,right:0,bottom:0,top:0,left:0},!tt.open&&tt.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(_e,tt)=>tt.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function _e(tt,et){var nt,rt,it,ot,st,at;const ct=useThemeProps({name:"MuiModal",props:tt}),{BackdropComponent:lt=ModalBackdrop,BackdropProps:dt,classes:ut,className:ft,closeAfterTransition:pt=!1,children:vt,container:Ct,component:ht,components:mt={},componentsProps:yt={},disableAutoFocus:Et=!1,disableEnforceFocus:Rt=!1,disableEscapeKeyDown:Pt=!1,disablePortal:Vt=!1,disableRestoreFocus:Nt=!1,disableScrollLock:kt=!1,hideBackdrop:wt=!1,keepMounted:Zt=!1,onBackdropClick:qt,onClose:zt,open:Bt,slotProps:sn,slots:mn,theme:En}=ct,cn=_objectWithoutPropertiesLoose(ct,_excluded$2),[xn,bn]=reactExports.useState(!0),gn={container:Ct,closeAfterTransition:pt,disableAutoFocus:Et,disableEnforceFocus:Rt,disableEscapeKeyDown:Pt,disablePortal:Vt,disableRestoreFocus:Nt,disableScrollLock:kt,hideBackdrop:wt,keepMounted:Zt,onBackdropClick:qt,onClose:zt,open:Bt},vn=_extends({},ct,gn,{exited:xn}),Wn=(nt=(rt=mn==null?void 0:mn.root)!=null?rt:mt.Root)!=null?nt:ModalRoot,Un=(it=(ot=mn==null?void 0:mn.backdrop)!=null?ot:mt.Backdrop)!=null?it:lt,Sn=(st=sn==null?void 0:sn.root)!=null?st:yt.root,On=(at=sn==null?void 0:sn.backdrop)!=null?at:yt.backdrop;return jsxRuntimeExports.jsx(ModalUnstyled,_extends({slots:{root:Wn,backdrop:Un},slotProps:{root:()=>_extends({},resolveComponentProps(Sn,vn),!isHostComponent(Wn)&&{as:ht,theme:En},{className:clsx(ft,Sn==null?void 0:Sn.className,ut==null?void 0:ut.root,!vn.open&&vn.exited&&(ut==null?void 0:ut.hidden))}),backdrop:()=>_extends({},dt,resolveComponentProps(On,vn),{className:clsx(On==null?void 0:On.className,dt==null?void 0:dt.className,ut==null?void 0:ut.backdrop)})},onTransitionEnter:()=>bn(!1),onTransitionExited:()=>bn(!0),ref:et},cn,gn,{children:vt}))}),Modal$1=Modal;function getDialogUtilityClass(_e){return generateUtilityClass("MuiDialog",_e)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext=reactExports.createContext({}),DialogContext$1=DialogContext,_excluded$1=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$1(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(_e,tt)=>tt.backdrop})({zIndex:-1}),useUtilityClasses$1=_e=>{const{classes:tt,scroll:et,maxWidth:nt,fullWidth:rt,fullScreen:it}=_e,ot={root:["root"],container:["container",`scroll${capitalize(et)}`],paper:["paper",`paperScroll${capitalize(et)}`,`paperWidth${capitalize(String(nt))}`,rt&&"paperFullWidth",it&&"paperFullScreen"]};return composeClasses(ot,getDialogUtilityClass,tt)},DialogRoot=styled$1(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(_e,tt)=>tt.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$1("div",{name:"MuiDialog",slot:"Container",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.container,tt[`scroll${capitalize(et.scroll)}`]]}})(({ownerState:_e})=>_extends({height:"100%","@media print":{height:"auto"},outline:0},_e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},_e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$1(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.paper,tt[`scrollPaper${capitalize(et.scroll)}`],tt[`paperWidth${capitalize(String(et.maxWidth))}`],et.fullWidth&&tt.paperFullWidth,et.fullScreen&&tt.paperFullScreen]}})(({theme:_e,ownerState:tt})=>_extends({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},tt.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},tt.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!tt.maxWidth&&{maxWidth:"calc(100% - 64px)"},tt.maxWidth==="xs"&&{maxWidth:_e.breakpoints.unit==="px"?Math.max(_e.breakpoints.values.xs,444):`max(${_e.breakpoints.values.xs}${_e.breakpoints.unit}, 444px)`,[`&.${dialogClasses$1.paperScrollBody}`]:{[_e.breakpoints.down(Math.max(_e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},tt.maxWidth&&tt.maxWidth!=="xs"&&{maxWidth:`${_e.breakpoints.values[tt.maxWidth]}${_e.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[_e.breakpoints.down(_e.breakpoints.values[tt.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},tt.fullWidth&&{width:"calc(100% - 64px)"},tt.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses$1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiDialog"}),rt=useTheme(),it={enter:rt.transitions.duration.enteringScreen,exit:rt.transitions.duration.leavingScreen},{"aria-describedby":ot,"aria-labelledby":st,BackdropComponent:at,BackdropProps:ct,children:lt,className:dt,disableEscapeKeyDown:ut=!1,fullScreen:ft=!1,fullWidth:pt=!1,maxWidth:vt="sm",onBackdropClick:Ct,onClose:ht,open:mt,PaperComponent:yt=Paper$1,PaperProps:Et={},scroll:Rt="paper",TransitionComponent:Pt=Fade$1,transitionDuration:Vt=it,TransitionProps:Nt}=nt,kt=_objectWithoutPropertiesLoose(nt,_excluded$1),wt=_extends({},nt,{disableEscapeKeyDown:ut,fullScreen:ft,fullWidth:pt,maxWidth:vt,scroll:Rt}),Zt=useUtilityClasses$1(wt),qt=reactExports.useRef(),zt=En=>{qt.current=En.target===En.currentTarget},Bt=En=>{qt.current&&(qt.current=null,Ct&&Ct(En),ht&&ht(En,"backdropClick"))},sn=useId(st),mn=reactExports.useMemo(()=>({titleId:sn}),[sn]);return jsxRuntimeExports.jsx(DialogRoot,_extends({className:clsx(Zt.root,dt),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends({transitionDuration:Vt,as:at},ct)},disableEscapeKeyDown:ut,onClose:ht,open:mt,ref:et,onClick:Bt,ownerState:wt},kt,{children:jsxRuntimeExports.jsx(Pt,_extends({appear:!0,in:mt,timeout:Vt,role:"presentation"},Nt,{children:jsxRuntimeExports.jsx(DialogContainer,{className:clsx(Zt.container),onMouseDown:zt,ownerState:wt,children:jsxRuntimeExports.jsx(DialogPaper,_extends({as:yt,elevation:24,role:"dialog","aria-describedby":ot,"aria-labelledby":sn},Et,{className:clsx(Zt.paper,Et.className),ownerState:wt,children:jsxRuntimeExports.jsx(DialogContext$1.Provider,{value:mn,children:lt})}))})}))}))}),Dialog$1=Dialog;function getLinkUtilityClass(_e){return generateUtilityClass("MuiLink",_e)}const linkClasses=generateUtilityClasses("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),linkClasses$1=linkClasses,colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=_e=>colorTransformations[_e]||_e,getTextDecoration=({theme:_e,ownerState:tt})=>{const et=transformDeprecatedColors(tt.color),nt=getPath(_e,`palette.${et}`,!1)||tt.color,rt=getPath(_e,`palette.${et}Channel`);return"vars"in _e&&rt?`rgba(${rt} / 0.4)`:alpha(nt,.4)},getTextDecoration$1=getTextDecoration,_excluded=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses=_e=>{const{classes:tt,component:et,focusVisible:nt,underline:rt}=_e,it={root:["root",`underline${capitalize(rt)}`,et==="button"&&"button",nt&&"focusVisible"]};return composeClasses(it,getLinkUtilityClass,tt)},LinkRoot=styled$1(Typography$1,{name:"MuiLink",slot:"Root",overridesResolver:(_e,tt)=>{const{ownerState:et}=_e;return[tt.root,tt[`underline${capitalize(et.underline)}`],et.component==="button"&&tt.button]}})(({theme:_e,ownerState:tt})=>_extends({},tt.underline==="none"&&{textDecoration:"none"},tt.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},tt.underline==="always"&&_extends({textDecoration:"underline"},tt.color!=="inherit"&&{textDecorationColor:getTextDecoration$1({theme:_e,ownerState:tt})},{"&:hover":{textDecorationColor:"inherit"}}),tt.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${linkClasses$1.focusVisible}`]:{outline:"auto"}})),Link=reactExports.forwardRef(function _e(tt,et){const nt=useThemeProps({props:tt,name:"MuiLink"}),{className:rt,color:it="primary",component:ot="a",onBlur:st,onFocus:at,TypographyClasses:ct,underline:lt="always",variant:dt="inherit",sx:ut}=nt,ft=_objectWithoutPropertiesLoose(nt,_excluded),{isFocusVisibleRef:pt,onBlur:vt,onFocus:Ct,ref:ht}=useIsFocusVisible(),[mt,yt]=reactExports.useState(!1),Et=useForkRef(et,ht),Rt=kt=>{vt(kt),pt.current===!1&&yt(!1),st&&st(kt)},Pt=kt=>{Ct(kt),pt.current===!0&&yt(!0),at&&at(kt)},Vt=_extends({},nt,{color:it,component:ot,focusVisible:mt,underline:lt,variant:dt}),Nt=useUtilityClasses(Vt);return jsxRuntimeExports.jsx(LinkRoot,_extends({color:it,className:clsx(Nt.root,rt),classes:ct,component:ot,onBlur:Rt,onFocus:Pt,ref:Et,ownerState:Vt,variant:dt,sx:[...Object.keys(colorTransformations).includes(it)?[]:[{color:it}],...Array.isArray(ut)?ut:[ut]]},ft))}),Link$1=Link;var ExpandMoreRounded={},interopRequireDefault={exports:{}};(function(_e){function tt(et){return et&&et.__esModule?et:{default:et}}_e.exports=tt,_e.exports.__esModule=!0,_e.exports.default=_e.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,createSvgIcon={};const require$$0$1=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(_e){"use client";Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return tt.createSvgIcon}});var tt=require$$0$1}(createSvgIcon)),createSvgIcon}var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(ExpandMoreRounded,"__esModule",{value:!0});var default_1=ExpandMoreRounded.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M15.88 9.29 12 13.17 8.12 9.29a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0z"}),"ExpandMoreRounded");default_1=ExpandMoreRounded.default=_default;const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(tt,et){const nt=et.match(tt);return nt&&nt.length>0&&nt[1]||""}static getSecondMatch(tt,et){const nt=et.match(tt);return nt&&nt.length>1&&nt[2]||""}static matchAndReturnConst(tt,et,nt){if(tt.test(et))return nt}static getWindowsVersionName(tt){switch(tt){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(tt){const et=tt.split(".").splice(0,2).map(nt=>parseInt(nt,10)||0);if(et.push(0),et[0]===10)switch(et[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(tt){const et=tt.split(".").splice(0,2).map(nt=>parseInt(nt,10)||0);if(et.push(0),!(et[0]===1&&et[1]<5)){if(et[0]===1&&et[1]<6)return"Cupcake";if(et[0]===1&&et[1]>=6)return"Donut";if(et[0]===2&&et[1]<2)return"Eclair";if(et[0]===2&&et[1]===2)return"Froyo";if(et[0]===2&&et[1]>2)return"Gingerbread";if(et[0]===3)return"Honeycomb";if(et[0]===4&&et[1]<1)return"Ice Cream Sandwich";if(et[0]===4&&et[1]<4)return"Jelly Bean";if(et[0]===4&&et[1]>=4)return"KitKat";if(et[0]===5)return"Lollipop";if(et[0]===6)return"Marshmallow";if(et[0]===7)return"Nougat";if(et[0]===8)return"Oreo";if(et[0]===9)return"Pie"}}static getVersionPrecision(tt){return tt.split(".").length}static compareVersions(tt,et,nt=!1){const rt=Utils.getVersionPrecision(tt),it=Utils.getVersionPrecision(et);let ot=Math.max(rt,it),st=0;const at=Utils.map([tt,et],ct=>{const lt=ot-Utils.getVersionPrecision(ct),dt=ct+new Array(lt+1).join(".0");return Utils.map(dt.split("."),ut=>new Array(20-ut.length).join("0")+ut).reverse()});for(nt&&(st=ot-Math.min(rt,it)),ot-=1;ot>=st;){if(at[0][ot]>at[1][ot])return 1;if(at[0][ot]===at[1][ot]){if(ot===st)return 0;ot-=1}else if(at[0][ot]<at[1][ot])return-1}}static map(tt,et){const nt=[];let rt;if(Array.prototype.map)return Array.prototype.map.call(tt,et);for(rt=0;rt<tt.length;rt+=1)nt.push(et(tt[rt]));return nt}static find(tt,et){let nt,rt;if(Array.prototype.find)return Array.prototype.find.call(tt,et);for(nt=0,rt=tt.length;nt<rt;nt+=1){const it=tt[nt];if(et(it,nt))return it}}static assign(tt,...et){const nt=tt;let rt,it;if(Object.assign)return Object.assign(tt,...et);for(rt=0,it=et.length;rt<it;rt+=1){const ot=et[rt];typeof ot=="object"&&ot!==null&&Object.keys(ot).forEach(at=>{nt[at]=ot[at]})}return tt}static getBrowserAlias(tt){return BROWSER_ALIASES_MAP[tt]}static getBrowserTypeByAlias(tt){return BROWSER_MAP[tt]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(_e){const tt={name:"Googlebot"},et=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/opera/i],describe(_e){const tt={name:"Opera"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/opr\/|opios/i],describe(_e){const tt={name:"Opera"},et=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/SamsungBrowser/i],describe(_e){const tt={name:"Samsung Internet for Android"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/Whale/i],describe(_e){const tt={name:"NAVER Whale Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/MZBrowser/i],describe(_e){const tt={name:"MZ Browser"},et=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/focus/i],describe(_e){const tt={name:"Focus"},et=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/swing/i],describe(_e){const tt={name:"Swing"},et=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/coast/i],describe(_e){const tt={name:"Opera Coast"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(_e){const tt={name:"Opera Touch"},et=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/yabrowser/i],describe(_e){const tt={name:"Yandex Browser"},et=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/ucbrowser/i],describe(_e){const tt={name:"UC Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/Maxthon|mxios/i],describe(_e){const tt={name:"Maxthon"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/epiphany/i],describe(_e){const tt={name:"Epiphany"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/puffin/i],describe(_e){const tt={name:"Puffin"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/sleipnir/i],describe(_e){const tt={name:"Sleipnir"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/k-meleon/i],describe(_e){const tt={name:"K-Meleon"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/micromessenger/i],describe(_e){const tt={name:"WeChat"},et=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/qqbrowser/i],describe(_e){const tt={name:/qqbrowserlite/i.test(_e)?"QQ Browser Lite":"QQ Browser"},et=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/msie|trident/i],describe(_e){const tt={name:"Internet Explorer"},et=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/\sedg\//i],describe(_e){const tt={name:"Microsoft Edge"},et=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/edg([ea]|ios)/i],describe(_e){const tt={name:"Microsoft Edge"},et=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/vivaldi/i],describe(_e){const tt={name:"Vivaldi"},et=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/seamonkey/i],describe(_e){const tt={name:"SeaMonkey"},et=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/sailfish/i],describe(_e){const tt={name:"Sailfish"},et=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,_e);return et&&(tt.version=et),tt}},{test:[/silk/i],describe(_e){const tt={name:"Amazon Silk"},et=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/phantom/i],describe(_e){const tt={name:"PhantomJS"},et=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/slimerjs/i],describe(_e){const tt={name:"SlimerJS"},et=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(_e){const tt={name:"BlackBerry"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/(web|hpw)[o0]s/i],describe(_e){const tt={name:"WebOS Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/bada/i],describe(_e){const tt={name:"Bada"},et=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/tizen/i],describe(_e){const tt={name:"Tizen"},et=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/qupzilla/i],describe(_e){const tt={name:"QupZilla"},et=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/firefox|iceweasel|fxios/i],describe(_e){const tt={name:"Firefox"},et=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/electron/i],describe(_e){const tt={name:"Electron"},et=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/MiuiBrowser/i],describe(_e){const tt={name:"Miui"},et=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/chromium/i],describe(_e){const tt={name:"Chromium"},et=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,_e)||Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/chrome|crios|crmo/i],describe(_e){const tt={name:"Chrome"},et=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/GSA/i],describe(_e){const tt={name:"Google Search"},et=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){const tt=!_e.test(/like android/i),et=_e.test(/android/i);return tt&&et},describe(_e){const tt={name:"Android Browser"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/playstation 4/i],describe(_e){const tt={name:"PlayStation 4"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/safari|applewebkit/i],describe(_e){const tt={name:"Safari"},et=Utils.getFirstMatch(commonVersionIdentifier,_e);return et&&(tt.version=et),tt}},{test:[/.*/i],describe(_e){const tt=/^(.*)\/(.*) /,et=/^(.*)\/(.*)[ \t]\((.*)/,rt=_e.search("\\(")!==-1?et:tt;return{name:Utils.getFirstMatch(rt,_e),version:Utils.getSecondMatch(rt,_e)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(_e){const tt=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,_e);return{name:OS_MAP.Roku,version:tt}}},{test:[/windows phone/i],describe(_e){const tt=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,_e);return{name:OS_MAP.WindowsPhone,version:tt}}},{test:[/windows /i],describe(_e){const tt=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,_e),et=Utils.getWindowsVersionName(tt);return{name:OS_MAP.Windows,version:tt,versionName:et}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(_e){const tt={name:OS_MAP.iOS},et=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,_e);return et&&(tt.version=et),tt}},{test:[/macintosh/i],describe(_e){const tt=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,_e).replace(/[_\s]/g,"."),et=Utils.getMacOSVersionName(tt),nt={name:OS_MAP.MacOS,version:tt};return et&&(nt.versionName=et),nt}},{test:[/(ipod|iphone|ipad)/i],describe(_e){const tt=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,_e).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:tt}}},{test(_e){const tt=!_e.test(/like android/i),et=_e.test(/android/i);return tt&&et},describe(_e){const tt=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,_e),et=Utils.getAndroidVersionName(tt),nt={name:OS_MAP.Android,version:tt};return et&&(nt.versionName=et),nt}},{test:[/(web|hpw)[o0]s/i],describe(_e){const tt=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,_e),et={name:OS_MAP.WebOS};return tt&&tt.length&&(et.version=tt),et}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(_e){const tt=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,_e)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,_e)||Utils.getFirstMatch(/\bbb(\d+)/i,_e);return{name:OS_MAP.BlackBerry,version:tt}}},{test:[/bada/i],describe(_e){const tt=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,_e);return{name:OS_MAP.Bada,version:tt}}},{test:[/tizen/i],describe(_e){const tt=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,_e);return{name:OS_MAP.Tizen,version:tt}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(_e){const tt=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,_e);return{name:OS_MAP.PlayStation4,version:tt}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(_e){const tt=Utils.getFirstMatch(/(can-l01)/i,_e)&&"Nova",et={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return tt&&(et.model=tt),et}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(_e){const tt=_e.test(/ipod|iphone/i),et=_e.test(/like (ipod|iphone)/i);return tt&&!et},describe(_e){const tt=Utils.getFirstMatch(/(ipod|iphone)/i,_e);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:tt}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(_e){return _e.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(_e){const tt=Number(String(_e.getOSVersion()).split(".")[0]);return _e.getOSName(!0)==="android"&&tt>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(_e){return _e.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_e){return _e.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(_e){return _e.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(_e){return _e.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(_e){return _e.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(_e){return _e.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(_e){return _e.getBrowserName(!0)==="microsoft edge"},describe(_e){if(/\sedg\//i.test(_e))return{name:ENGINE_MAP.Blink};const et=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,_e);return{name:ENGINE_MAP.EdgeHTML,version:et}}},{test:[/trident/i],describe(_e){const tt={name:ENGINE_MAP.Trident},et=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){return _e.test(/presto/i)},describe(_e){const tt={name:ENGINE_MAP.Presto},et=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test(_e){const tt=_e.test(/gecko/i),et=_e.test(/like gecko/i);return tt&&!et},describe(_e){const tt={name:ENGINE_MAP.Gecko},et=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(_e){const tt={name:ENGINE_MAP.WebKit},et=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,_e);return et&&(tt.version=et),tt}}];class Parser{constructor(tt,et=!1){if(tt==null||tt==="")throw new Error("UserAgent parameter can't be empty");this._ua=tt,this.parsedResult={},et!==!0&&this.parse()}getUA(){return this._ua}test(tt){return tt.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const tt=Utils.find(browsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.browser=tt.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(tt){return tt?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const tt=Utils.find(osParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.os=tt.describe(this.getUA())),this.parsedResult.os}getOSName(tt){const{name:et}=this.getOS();return tt?String(et).toLowerCase()||"":et||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(tt=!1){const{type:et}=this.getPlatform();return tt?String(et).toLowerCase()||"":et||""}parsePlatform(){this.parsedResult.platform={};const tt=Utils.find(platformParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.platform=tt.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(tt){return tt?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const tt=Utils.find(enginesParsersList,et=>{if(typeof et.test=="function")return et.test(this);if(et.test instanceof Array)return et.test.some(nt=>this.test(nt));throw new Error("Browser's test function is not valid")});return tt&&(this.parsedResult.engine=tt.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(tt){const et={};let nt=0;const rt={};let it=0;if(Object.keys(tt).forEach(st=>{const at=tt[st];typeof at=="string"?(rt[st]=at,it+=1):typeof at=="object"&&(et[st]=at,nt+=1)}),nt>0){const st=Object.keys(et),at=Utils.find(st,lt=>this.isOS(lt));if(at){const lt=this.satisfies(et[at]);if(lt!==void 0)return lt}const ct=Utils.find(st,lt=>this.isPlatform(lt));if(ct){const lt=this.satisfies(et[ct]);if(lt!==void 0)return lt}}if(it>0){const st=Object.keys(rt),at=Utils.find(st,ct=>this.isBrowser(ct,!0));if(at!==void 0)return this.compareVersion(rt[at])}}isBrowser(tt,et=!1){const nt=this.getBrowserName().toLowerCase();let rt=tt.toLowerCase();const it=Utils.getBrowserTypeByAlias(rt);return et&&it&&(rt=it.toLowerCase()),rt===nt}compareVersion(tt){let et=[0],nt=tt,rt=!1;const it=this.getBrowserVersion();if(typeof it=="string")return tt[0]===">"||tt[0]==="<"?(nt=tt.substr(1),tt[1]==="="?(rt=!0,nt=tt.substr(2)):et=[],tt[0]===">"?et.push(1):et.push(-1)):tt[0]==="="?nt=tt.substr(1):tt[0]==="~"&&(rt=!0,nt=tt.substr(1)),et.indexOf(Utils.compareVersions(it,nt,rt))>-1}isOS(tt){return this.getOSName(!0)===String(tt).toLowerCase()}isPlatform(tt){return this.getPlatformType(!0)===String(tt).toLowerCase()}isEngine(tt){return this.getEngineName(!0)===String(tt).toLowerCase()}is(tt,et=!1){return this.isBrowser(tt,et)||this.isOS(tt)||this.isPlatform(tt)}some(tt=[]){return tt.some(et=>this.is(et))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(tt,et=!1){if(typeof tt!="string")throw new Error("UserAgent should be a string");return new Parser(tt,et)}static parse(tt){return new Parser(tt).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}const bowser=Object.freeze(Object.defineProperty({__proto__:null,default:Bowser},Symbol.toStringTag,{value:"Module"}));var lib={},requestMediaPermissions={};const require$$0=getAugmentedNamespace(bowser);(function(_e){var tt=commonjsGlobal&&commonjsGlobal.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.requestVideoPermissions=_e.requestAudioPermissions=_e.requestMediaPermissions=_e.MediaPermissionsErrorType=void 0;const et=tt(require$$0);var nt;(function(st){st.SystemPermissionDenied="SystemPermissionDenied",st.UserPermissionDenied="UserPermissionDenied",st.CouldNotStartVideoSource="CouldNotStartVideoSource",st.Generic="Generic"})(nt=_e.MediaPermissionsErrorType||(_e.MediaPermissionsErrorType={}));const rt=st=>new Promise((at,ct)=>{navigator.mediaDevices.getUserMedia(st??{audio:!0,video:!0}).then(lt=>{lt.getTracks().forEach(dt=>{dt.stop()}),at(!0)}).catch(lt=>{const ut=et.default.getParser(window.navigator.userAgent).getBrowserName(),ft=lt.name,pt=lt.message;let vt=nt.Generic;ut==="Chrome"?ft==="NotAllowedError"?pt==="Permission denied by system"?vt=nt.SystemPermissionDenied:pt==="Permission denied"&&(vt=nt.UserPermissionDenied):ft==="NotReadableError"&&(vt=nt.CouldNotStartVideoSource):ut==="Safari"?ft==="NotAllowedError"&&(vt=nt.UserPermissionDenied):ut==="Microsoft Edge"?ft==="NotAllowedError"?vt=nt.UserPermissionDenied:ft==="NotReadableError"&&(vt=nt.CouldNotStartVideoSource):ut==="Firefox"&&(ft==="NotFoundError"||ft==="NotReadableError"?vt=nt.SystemPermissionDenied:ft==="NotAllowedError"?vt=nt.UserPermissionDenied:ft==="AbortError"&&(vt=nt.CouldNotStartVideoSource)),ct({type:vt,name:lt.name,message:lt.message})})});_e.requestMediaPermissions=rt;const it=()=>(0,_e.requestMediaPermissions)({audio:!0,video:!1});_e.requestAudioPermissions=it;const ot=()=>(0,_e.requestMediaPermissions)({audio:!1,video:!0});_e.requestVideoPermissions=ot})(requestMediaPermissions);(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.requestMediaPermissions=_e.MediaPermissionsErrorType=void 0;var tt=requestMediaPermissions;Object.defineProperty(_e,"MediaPermissionsErrorType",{enumerable:!0,get:function(){return tt.MediaPermissionsErrorType}}),Object.defineProperty(_e,"requestMediaPermissions",{enumerable:!0,get:function(){return tt.requestMediaPermissions}})})(lib);const browser=Bowser.getParser(window.navigator.userAgent),MediaOnboardingDialog=()=>{const[_e,tt]=React.useState(null),[et,nt]=React.useState(!1),[rt,it]=React.useState(!1),[ot,st]=React.useState(),at=reactExports.useRef(_e);at.current=_e;const ct=reactExports.useRef(et);ct.current=et;const lt=reactExports.useRef(rt);lt.current=rt,React.useEffect(()=>{ut()},[]),React.useEffect(()=>{console.log("audio allowed permission changed: ",et)},[et,rt]);const dt=()=>{(!ct.current||!lt.current)&&at.current===null&&tt("explanation")},ut=()=>{lib.requestMediaPermissions().then(()=>{nt(!0),it(!0),tt(null)}).catch(Et=>{console.log("MediaOnboardingDialog: ",Et),Et.type===lib.MediaPermissionsErrorType.SystemPermissionDenied?tt("systemDenied"):Et.type===lib.MediaPermissionsErrorType.UserPermissionDenied?tt("userDenied"):Et.type===lib.MediaPermissionsErrorType.CouldNotStartVideoSource&&tt("trackError"),st(Et)}),setTimeout(()=>{dt()},500)},ft=Et=>jsxRuntimeExports.jsx("div",{style:{width:"100%",marginTop:20},children:jsxRuntimeExports.jsx(Button$1,{onClick:()=>{browser.getBrowserName()==="Safari"?window.location.reload():ut()},color:"primary",style:{float:"right"},children:Et||"Retry"})}),pt=()=>ot?jsxRuntimeExports.jsx("div",{style:{marginTop:10},children:jsxRuntimeExports.jsxs(Accordion$1,{children:[jsxRuntimeExports.jsx(AccordionSummary$1,{expandIcon:jsxRuntimeExports.jsx(default_1,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:jsxRuntimeExports.jsx(Typography$1,{variant:"caption",style:{color:"red"},children:"Error Details"})}),jsxRuntimeExports.jsx(AccordionDetails$1,{children:jsxRuntimeExports.jsxs(Typography$1,{variant:"caption",children:[ot.name,": ",ot.message]})})]})}):null,vt=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Allow App to use your camera and microphone"}),jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle1",children:"App needs access to your camera and microphone so that other participants can see and hear you."})]}),Ct=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Camera and microphone are blocked"}),jsxRuntimeExports.jsxs(Typography$1,{children:["App requires access to your camera and microphone."," ",browser.getBrowserName()!=="Safari"&&jsxRuntimeExports.jsxs(Typography$1,{children:["Click the camera blocked icon"," ",jsxRuntimeExports.jsx("img",{alt:"icon",src:"https://www.gstatic.com/meet/ic_blocked_camera_dark_f401bc8ec538ede48315b75286c1511b.svg",style:{display:"inline"}})," ","in your browser's address bar."]})]}),pt(),ft()]}),ht=()=>{const Et={macOS:{name:"System Preferences",link:"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Can't use your camera or microphone"}),jsxRuntimeExports.jsxs(Typography$1,{children:["Your browser might not have access to your camera or microphone. To fix this problem, open"," ",Et[browser.getOSName()]?jsxRuntimeExports.jsx(Link$1,{onClick:()=>{window.open(Et[browser.getOSName()].link,"_blank")},children:Et[browser.getOSName()].name}):"Settings","."]}),pt(),ft()]})},mt=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:"Can't start your camera or microphone"}),jsxRuntimeExports.jsx(Typography$1,{children:"Another application (Zoom, Webex) or browser tab (Google Meet, Messenger Video) might already be using your webcam. Please turn off other cameras before proceeding."}),pt(),ft()]}),yt=()=>{switch(_e){case"explanation":return vt();case"systemDenied":return ht();case"userDenied":return Ct();case"trackError":return mt()}};return jsxRuntimeExports.jsx(Dialog$1,{open:!!_e,children:_e&&yt()})},memberName="John Kennedy",therapistName="Nikita Khrushev",App=()=>jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/opentok-react/onboarding",element:jsxRuntimeExports.jsx(MediaOnboardingDialog,{})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/lobby/member",element:jsxRuntimeExports.jsx(Lobby,{memberId:memberName,linkTo:"member"})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/lobby/therapist",element:jsxRuntimeExports.jsx(Lobby,{memberId:therapistName,linkTo:"therapist"})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/member",element:jsxRuntimeExports.jsx(Member,{userId:memberName})}),jsxRuntimeExports.jsx(Route,{path:"/opentok-react/therapist",element:jsxRuntimeExports.jsx(Therapist,{userId:therapistName})})]});function n$2(_e){for(var tt=arguments.length,et=Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)et[nt-1]=arguments[nt];throw Error("[Immer] minified error nr: "+_e+(et.length?" "+et.map(function(rt){return"'"+rt+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$2(_e){return!!_e&&!!_e[Q]}function t$2(_e){var tt;return!!_e&&(function(et){if(!et||typeof et!="object")return!1;var nt=Object.getPrototypeOf(et);if(nt===null)return!0;var rt=Object.hasOwnProperty.call(nt,"constructor")&&nt.constructor;return rt===Object||typeof rt=="function"&&Function.toString.call(rt)===Z}(_e)||Array.isArray(_e)||!!_e[L]||!!(!((tt=_e.constructor)===null||tt===void 0)&&tt[L])||s(_e)||v$1(_e))}function i(_e,tt,et){et===void 0&&(et=!1),o(_e)===0?(et?Object.keys:nn)(_e).forEach(function(nt){et&&typeof nt=="symbol"||tt(nt,_e[nt],_e)}):_e.forEach(function(nt,rt){return tt(rt,nt,_e)})}function o(_e){var tt=_e[Q];return tt?tt.i>3?tt.i-4:tt.i:Array.isArray(_e)?1:s(_e)?2:v$1(_e)?3:0}function u$2(_e,tt){return o(_e)===2?_e.has(tt):Object.prototype.hasOwnProperty.call(_e,tt)}function a(_e,tt){return o(_e)===2?_e.get(tt):_e[tt]}function f(_e,tt,et){var nt=o(_e);nt===2?_e.set(tt,et):nt===3?_e.add(et):_e[tt]=et}function c(_e,tt){return _e===tt?_e!==0||1/_e==1/tt:_e!=_e&&tt!=tt}function s(_e){return X&&_e instanceof Map}function v$1(_e){return q$2&&_e instanceof Set}function p$2(_e){return _e.o||_e.t}function l$1(_e){if(Array.isArray(_e))return Array.prototype.slice.call(_e);var tt=rn(_e);delete tt[Q];for(var et=nn(tt),nt=0;nt<et.length;nt++){var rt=et[nt],it=tt[rt];it.writable===!1&&(it.writable=!0,it.configurable=!0),(it.get||it.set)&&(tt[rt]={configurable:!0,writable:!0,enumerable:it.enumerable,value:_e[rt]})}return Object.create(Object.getPrototypeOf(_e),tt)}function d(_e,tt){return tt===void 0&&(tt=!1),y(_e)||r$2(_e)||!t$2(_e)||(o(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=h$2),Object.freeze(_e),tt&&i(_e,function(et,nt){return d(nt,!0)},!0)),_e}function h$2(){n$2(2)}function y(_e){return _e==null||typeof _e!="object"||Object.isFrozen(_e)}function b(_e){var tt=tn[_e];return tt||n$2(18,_e),tt}function m$1(_e,tt){tn[_e]||(tn[_e]=tt)}function _(){return U}function j(_e,tt){tt&&(b("Patches"),_e.u=[],_e.s=[],_e.v=tt)}function g(_e){O(_e),_e.p.forEach(S),_e.p=null}function O(_e){_e===U&&(U=_e.l)}function w$1(_e){return U={p:[],l:U,h:_e,m:!0,_:0}}function S(_e){var tt=_e[Q];tt.i===0||tt.i===1?tt.j():tt.g=!0}function P(_e,tt){tt._=tt.p.length;var et=tt.p[0],nt=_e!==void 0&&_e!==et;return tt.h.O||b("ES5").S(tt,_e,nt),nt?(et[Q].P&&(g(tt),n$2(4)),t$2(_e)&&(_e=M(tt,_e),tt.l||x(tt,_e)),tt.u&&b("Patches").M(et[Q].t,_e,tt.u,tt.s)):_e=M(tt,et,[]),g(tt),tt.u&&tt.v(tt.u,tt.s),_e!==H?_e:void 0}function M(_e,tt,et){if(y(tt))return tt;var nt=tt[Q];if(!nt)return i(tt,function(st,at){return A(_e,nt,tt,st,at,et)},!0),tt;if(nt.A!==_e)return tt;if(!nt.P)return x(_e,nt.t,!0),nt.t;if(!nt.I){nt.I=!0,nt.A._--;var rt=nt.i===4||nt.i===5?nt.o=l$1(nt.k):nt.o,it=rt,ot=!1;nt.i===3&&(it=new Set(rt),rt.clear(),ot=!0),i(it,function(st,at){return A(_e,nt,rt,st,at,et,ot)}),x(_e,rt,!1),et&&_e.u&&b("Patches").N(nt,et,_e.u,_e.s)}return nt.o}function A(_e,tt,et,nt,rt,it,ot){if(r$2(rt)){var st=M(_e,rt,it&&tt&&tt.i!==3&&!u$2(tt.R,nt)?it.concat(nt):void 0);if(f(et,nt,st),!r$2(st))return;_e.m=!1}else ot&&et.add(rt);if(t$2(rt)&&!y(rt)){if(!_e.h.D&&_e._<1)return;M(_e,rt),tt&&tt.A.l||x(_e,rt)}}function x(_e,tt,et){et===void 0&&(et=!1),!_e.l&&_e.h.D&&_e.m&&d(tt,et)}function z(_e,tt){var et=_e[Q];return(et?p$2(et):_e)[tt]}function I(_e,tt){if(tt in _e)for(var et=Object.getPrototypeOf(_e);et;){var nt=Object.getOwnPropertyDescriptor(et,tt);if(nt)return nt;et=Object.getPrototypeOf(et)}}function k$1(_e){_e.P||(_e.P=!0,_e.l&&k$1(_e.l))}function E(_e){_e.o||(_e.o=l$1(_e.t))}function N(_e,tt,et){var nt=s(tt)?b("MapSet").F(tt,et):v$1(tt)?b("MapSet").T(tt,et):_e.O?function(rt,it){var ot=Array.isArray(rt),st={i:ot?1:0,A:it?it.A:_(),P:!1,I:!1,R:{},l:it,t:rt,k:null,o:null,j:null,C:!1},at=st,ct=en;ot&&(at=[st],ct=on);var lt=Proxy.revocable(at,ct),dt=lt.revoke,ut=lt.proxy;return st.k=ut,st.j=dt,ut}(tt,et):b("ES5").J(tt,et);return(et?et.A:_()).p.push(nt),nt}function R(_e){return r$2(_e)||n$2(22,_e),function tt(et){if(!t$2(et))return et;var nt,rt=et[Q],it=o(et);if(rt){if(!rt.P&&(rt.i<4||!b("ES5").K(rt)))return rt.t;rt.I=!0,nt=D(et,it),rt.I=!1}else nt=D(et,it);return i(nt,function(ot,st){rt&&a(rt.t,ot)===st||f(nt,ot,tt(st))}),it===3?new Set(nt):nt}(_e)}function D(_e,tt){switch(tt){case 2:return new Map(_e);case 3:return Array.from(_e)}return l$1(_e)}function F(){function _e(it,ot){var st=rt[it];return st?st.enumerable=ot:rt[it]=st={configurable:!0,enumerable:ot,get:function(){var at=this[Q];return en.get(at,it)},set:function(at){var ct=this[Q];en.set(ct,it,at)}},st}function tt(it){for(var ot=it.length-1;ot>=0;ot--){var st=it[ot][Q];if(!st.P)switch(st.i){case 5:nt(st)&&k$1(st);break;case 4:et(st)&&k$1(st)}}}function et(it){for(var ot=it.t,st=it.k,at=nn(st),ct=at.length-1;ct>=0;ct--){var lt=at[ct];if(lt!==Q){var dt=ot[lt];if(dt===void 0&&!u$2(ot,lt))return!0;var ut=st[lt],ft=ut&&ut[Q];if(ft?ft.t!==dt:!c(ut,dt))return!0}}var pt=!!ot[Q];return at.length!==nn(ot).length+(pt?0:1)}function nt(it){var ot=it.k;if(ot.length!==it.t.length)return!0;var st=Object.getOwnPropertyDescriptor(ot,ot.length-1);if(st&&!st.get)return!0;for(var at=0;at<ot.length;at++)if(!ot.hasOwnProperty(at))return!0;return!1}var rt={};m$1("ES5",{J:function(it,ot){var st=Array.isArray(it),at=function(lt,dt){if(lt){for(var ut=Array(dt.length),ft=0;ft<dt.length;ft++)Object.defineProperty(ut,""+ft,_e(ft,!0));return ut}var pt=rn(dt);delete pt[Q];for(var vt=nn(pt),Ct=0;Ct<vt.length;Ct++){var ht=vt[Ct];pt[ht]=_e(ht,lt||!!pt[ht].enumerable)}return Object.create(Object.getPrototypeOf(dt),pt)}(st,it),ct={i:st?5:4,A:ot?ot.A:_(),P:!1,I:!1,R:{},l:ot,t:it,k:at,o:null,g:!1,C:!1};return Object.defineProperty(at,Q,{value:ct,writable:!0}),at},S:function(it,ot,st){st?r$2(ot)&&ot[Q].A===it&&tt(it.p):(it.u&&function at(ct){if(ct&&typeof ct=="object"){var lt=ct[Q];if(lt){var dt=lt.t,ut=lt.k,ft=lt.R,pt=lt.i;if(pt===4)i(ut,function(yt){yt!==Q&&(dt[yt]!==void 0||u$2(dt,yt)?ft[yt]||at(ut[yt]):(ft[yt]=!0,k$1(lt)))}),i(dt,function(yt){ut[yt]!==void 0||u$2(ut,yt)||(ft[yt]=!1,k$1(lt))});else if(pt===5){if(nt(lt)&&(k$1(lt),ft.length=!0),ut.length<dt.length)for(var vt=ut.length;vt<dt.length;vt++)ft[vt]=!1;else for(var Ct=dt.length;Ct<ut.length;Ct++)ft[Ct]=!0;for(var ht=Math.min(ut.length,dt.length),mt=0;mt<ht;mt++)ut.hasOwnProperty(mt)||(ft[mt]=!0),ft[mt]===void 0&&at(ut[mt])}}}}(it.p[0]),tt(it.p))},K:function(it){return it.i===4?et(it):nt(it)}})}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q$2=typeof Set<"u",B=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(_e){var tt={};return nn(_e).forEach(function(et){tt[et]=Object.getOwnPropertyDescriptor(_e,et)}),tt},tn={},en={get:function(_e,tt){if(tt===Q)return _e;var et=p$2(_e);if(!u$2(et,tt))return function(rt,it,ot){var st,at=I(it,ot);return at?"value"in at?at.value:(st=at.get)===null||st===void 0?void 0:st.call(rt.k):void 0}(_e,et,tt);var nt=et[tt];return _e.I||!t$2(nt)?nt:nt===z(_e.t,tt)?(E(_e),_e.o[tt]=N(_e.A.h,nt,_e)):nt},has:function(_e,tt){return tt in p$2(_e)},ownKeys:function(_e){return Reflect.ownKeys(p$2(_e))},set:function(_e,tt,et){var nt=I(p$2(_e),tt);if(nt!=null&&nt.set)return nt.set.call(_e.k,et),!0;if(!_e.P){var rt=z(p$2(_e),tt),it=rt==null?void 0:rt[Q];if(it&&it.t===et)return _e.o[tt]=et,_e.R[tt]=!1,!0;if(c(et,rt)&&(et!==void 0||u$2(_e.t,tt)))return!0;E(_e),k$1(_e)}return _e.o[tt]===et&&(et!==void 0||tt in _e.o)||Number.isNaN(et)&&Number.isNaN(_e.o[tt])||(_e.o[tt]=et,_e.R[tt]=!0),!0},deleteProperty:function(_e,tt){return z(_e.t,tt)!==void 0||tt in _e.t?(_e.R[tt]=!1,E(_e),k$1(_e)):delete _e.R[tt],_e.o&&delete _e.o[tt],!0},getOwnPropertyDescriptor:function(_e,tt){var et=p$2(_e),nt=Reflect.getOwnPropertyDescriptor(et,tt);return nt&&{writable:!0,configurable:_e.i!==1||tt!=="length",enumerable:nt.enumerable,value:et[tt]}},defineProperty:function(){n$2(11)},getPrototypeOf:function(_e){return Object.getPrototypeOf(_e.t)},setPrototypeOf:function(){n$2(12)}},on={};i(en,function(_e,tt){on[_e]=function(){return arguments[0]=arguments[0][0],tt.apply(this,arguments)}}),on.deleteProperty=function(_e,tt){return on.set.call(this,_e,tt,void 0)},on.set=function(_e,tt,et){return en.set.call(this,_e[0],tt,et,_e[0])};var un=function(){function _e(et){var nt=this;this.O=B,this.D=!0,this.produce=function(rt,it,ot){if(typeof rt=="function"&&typeof it!="function"){var st=it;it=rt;var at=nt;return function(vt){var Ct=this;vt===void 0&&(vt=st);for(var ht=arguments.length,mt=Array(ht>1?ht-1:0),yt=1;yt<ht;yt++)mt[yt-1]=arguments[yt];return at.produce(vt,function(Et){var Rt;return(Rt=it).call.apply(Rt,[Ct,Et].concat(mt))})}}var ct;if(typeof it!="function"&&n$2(6),ot!==void 0&&typeof ot!="function"&&n$2(7),t$2(rt)){var lt=w$1(nt),dt=N(nt,rt,void 0),ut=!0;try{ct=it(dt),ut=!1}finally{ut?g(lt):O(lt)}return typeof Promise<"u"&&ct instanceof Promise?ct.then(function(vt){return j(lt,ot),P(vt,lt)},function(vt){throw g(lt),vt}):(j(lt,ot),P(ct,lt))}if(!rt||typeof rt!="object"){if((ct=it(rt))===void 0&&(ct=rt),ct===H&&(ct=void 0),nt.D&&d(ct,!0),ot){var ft=[],pt=[];b("Patches").M(rt,ct,ft,pt),ot(ft,pt)}return ct}n$2(21,rt)},this.produceWithPatches=function(rt,it){if(typeof rt=="function")return function(ct){for(var lt=arguments.length,dt=Array(lt>1?lt-1:0),ut=1;ut<lt;ut++)dt[ut-1]=arguments[ut];return nt.produceWithPatches(ct,function(ft){return rt.apply(void 0,[ft].concat(dt))})};var ot,st,at=nt.produce(rt,it,function(ct,lt){ot=ct,st=lt});return typeof Promise<"u"&&at instanceof Promise?at.then(function(ct){return[ct,ot,st]}):[at,ot,st]},typeof(et==null?void 0:et.useProxies)=="boolean"&&this.setUseProxies(et.useProxies),typeof(et==null?void 0:et.autoFreeze)=="boolean"&&this.setAutoFreeze(et.autoFreeze)}var tt=_e.prototype;return tt.createDraft=function(et){t$2(et)||n$2(8),r$2(et)&&(et=R(et));var nt=w$1(this),rt=N(this,et,void 0);return rt[Q].C=!0,O(nt),rt},tt.finishDraft=function(et,nt){var rt=et&&et[Q],it=rt.A;return j(it,nt),P(void 0,it)},tt.setAutoFreeze=function(et){this.D=et},tt.setUseProxies=function(et){et&&!B&&n$2(20),this.O=et},tt.applyPatches=function(et,nt){var rt;for(rt=nt.length-1;rt>=0;rt--){var it=nt[rt];if(it.path.length===0&&it.op==="replace"){et=it.value;break}}rt>-1&&(nt=nt.slice(rt+1));var ot=b("Patches").$;return r$2(et)?ot(et,nt):this.produce(et,function(st){return ot(st,nt)})},_e}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function _typeof(_e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof(_e)}function _toPrimitive(_e,tt){if(_typeof(_e)!=="object"||_e===null)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var nt=et.call(_e,tt||"default");if(_typeof(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(_e)}function _toPropertyKey(_e){var tt=_toPrimitive(_e,"string");return _typeof(tt)==="symbol"?tt:String(tt)}function _defineProperty(_e,tt,et){return tt=_toPropertyKey(tt),tt in _e?Object.defineProperty(_e,tt,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[tt]=et,_e}function ownKeys(_e,tt){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);tt&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,nt)}return et}function _objectSpread2(_e){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys(Object(et),!0).forEach(function(nt){_defineProperty(_e,nt,et[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(et,nt))})}return _e}function formatProdErrorMessage(_e){return"Minified Redux error #"+_e+"; visit https://redux.js.org/Errors?code="+_e+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function _e(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function _e(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$1(_e){if(typeof _e!="object"||_e===null)return!1;for(var tt=_e;Object.getPrototypeOf(tt)!==null;)tt=Object.getPrototypeOf(tt);return Object.getPrototypeOf(_e)===tt}function createStore(_e,tt,et){var nt;if(typeof tt=="function"&&typeof et=="function"||typeof et=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof tt=="function"&&typeof et>"u"&&(et=tt,tt=void 0),typeof et<"u"){if(typeof et!="function")throw new Error(formatProdErrorMessage(1));return et(createStore)(_e,tt)}if(typeof _e!="function")throw new Error(formatProdErrorMessage(2));var rt=_e,it=tt,ot=[],st=ot,at=!1;function ct(){st===ot&&(st=ot.slice())}function lt(){if(at)throw new Error(formatProdErrorMessage(3));return it}function dt(vt){if(typeof vt!="function")throw new Error(formatProdErrorMessage(4));if(at)throw new Error(formatProdErrorMessage(5));var Ct=!0;return ct(),st.push(vt),function(){if(Ct){if(at)throw new Error(formatProdErrorMessage(6));Ct=!1,ct();var mt=st.indexOf(vt);st.splice(mt,1),ot=null}}}function ut(vt){if(!isPlainObject$1(vt))throw new Error(formatProdErrorMessage(7));if(typeof vt.type>"u")throw new Error(formatProdErrorMessage(8));if(at)throw new Error(formatProdErrorMessage(9));try{at=!0,it=rt(it,vt)}finally{at=!1}for(var Ct=ot=st,ht=0;ht<Ct.length;ht++){var mt=Ct[ht];mt()}return vt}function ft(vt){if(typeof vt!="function")throw new Error(formatProdErrorMessage(10));rt=vt,ut({type:ActionTypes.REPLACE})}function pt(){var vt,Ct=dt;return vt={subscribe:function(mt){if(typeof mt!="object"||mt===null)throw new Error(formatProdErrorMessage(11));function yt(){mt.next&&mt.next(lt())}yt();var Et=Ct(yt);return{unsubscribe:Et}}},vt[$$observable]=function(){return this},vt}return ut({type:ActionTypes.INIT}),nt={dispatch:ut,subscribe:dt,getState:lt,replaceReducer:ft},nt[$$observable]=pt,nt}function assertReducerShape(_e){Object.keys(_e).forEach(function(tt){var et=_e[tt],nt=et(void 0,{type:ActionTypes.INIT});if(typeof nt>"u")throw new Error(formatProdErrorMessage(12));if(typeof et(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(_e){for(var tt=Object.keys(_e),et={},nt=0;nt<tt.length;nt++){var rt=tt[nt];typeof _e[rt]=="function"&&(et[rt]=_e[rt])}var it=Object.keys(et),ot;try{assertReducerShape(et)}catch(st){ot=st}return function(at,ct){if(at===void 0&&(at={}),ot)throw ot;for(var lt=!1,dt={},ut=0;ut<it.length;ut++){var ft=it[ut],pt=et[ft],vt=at[ft],Ct=pt(vt,ct);if(typeof Ct>"u")throw ct&&ct.type,new Error(formatProdErrorMessage(14));dt[ft]=Ct,lt=lt||Ct!==vt}return lt=lt||it.length!==Object.keys(at).length,lt?dt:at}}function compose(){for(var _e=arguments.length,tt=new Array(_e),et=0;et<_e;et++)tt[et]=arguments[et];return tt.length===0?function(nt){return nt}:tt.length===1?tt[0]:tt.reduce(function(nt,rt){return function(){return nt(rt.apply(void 0,arguments))}})}function applyMiddleware(){for(var _e=arguments.length,tt=new Array(_e),et=0;et<_e;et++)tt[et]=arguments[et];return function(nt){return function(){var rt=nt.apply(void 0,arguments),it=function(){throw new Error(formatProdErrorMessage(15))},ot={getState:rt.getState,dispatch:function(){return it.apply(void 0,arguments)}},st=tt.map(function(at){return at(ot)});return it=compose.apply(void 0,st)(rt.dispatch),_objectSpread2(_objectSpread2({},rt),{},{dispatch:it})}}}function createThunkMiddleware(_e){var tt=function(nt){var rt=nt.dispatch,it=nt.getState;return function(ot){return function(st){return typeof st=="function"?st(rt,it,_e):ot(st)}}};return tt}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const thunkMiddleware=thunk;var __extends=function(){var _e=function(tt,et){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,rt){nt.__proto__=rt}||function(nt,rt){for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(nt[it]=rt[it])},_e(tt,et)};return function(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");_e(tt,et);function nt(){this.constructor=tt}tt.prototype=et===null?Object.create(et):(nt.prototype=et.prototype,new nt)}}(),__generator=function(_e,tt){var et={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},nt,rt,it,ot;return ot={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function st(ct){return function(lt){return at([ct,lt])}}function at(ct){if(nt)throw new TypeError("Generator is already executing.");for(;et;)try{if(nt=1,rt&&(it=ct[0]&2?rt.return:ct[0]?rt.throw||((it=rt.return)&&it.call(rt),0):rt.next)&&!(it=it.call(rt,ct[1])).done)return it;switch(rt=0,it&&(ct=[ct[0]&2,it.value]),ct[0]){case 0:case 1:it=ct;break;case 4:return et.label++,{value:ct[1],done:!1};case 5:et.label++,rt=ct[1],ct=[0];continue;case 7:ct=et.ops.pop(),et.trys.pop();continue;default:if(it=et.trys,!(it=it.length>0&&it[it.length-1])&&(ct[0]===6||ct[0]===2)){et=0;continue}if(ct[0]===3&&(!it||ct[1]>it[0]&&ct[1]<it[3])){et.label=ct[1];break}if(ct[0]===6&&et.label<it[1]){et.label=it[1],it=ct;break}if(it&&et.label<it[2]){et.label=it[2],et.ops.push(ct);break}it[2]&&et.ops.pop(),et.trys.pop();continue}ct=tt.call(_e,et)}catch(lt){ct=[6,lt],rt=0}finally{nt=it=0}if(ct[0]&5)throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}},__spreadArray=function(_e,tt){for(var et=0,nt=tt.length,rt=_e.length;et<nt;et++,rt++)_e[rt]=tt[et];return _e},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(_e,tt,et){return tt in _e?__defProp(_e,tt,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[tt]=et},__spreadValues=function(_e,tt){for(var et in tt||(tt={}))__hasOwnProp.call(tt,et)&&__defNormalProp(_e,et,tt[et]);if(__getOwnPropSymbols)for(var nt=0,rt=__getOwnPropSymbols(tt);nt<rt.length;nt++){var et=rt[nt];__propIsEnum.call(tt,et)&&__defNormalProp(_e,et,tt[et])}return _e},__spreadProps=function(_e,tt){return __defProps(_e,__getOwnPropDescs(tt))},__async=function(_e,tt,et){return new Promise(function(nt,rt){var it=function(at){try{st(et.next(at))}catch(ct){rt(ct)}},ot=function(at){try{st(et.throw(at))}catch(ct){rt(ct)}},st=function(at){return at.done?nt(at.value):Promise.resolve(at.value).then(it,ot)};st((et=et.apply(_e,tt)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject(_e){if(typeof _e!="object"||_e===null)return!1;var tt=Object.getPrototypeOf(_e);if(tt===null)return!0;for(var et=tt;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return tt===et}var MiddlewareArray=function(_e){__extends(tt,_e);function tt(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var rt=_e.apply(this,et)||this;return Object.setPrototypeOf(rt,tt.prototype),rt}return Object.defineProperty(tt,Symbol.species,{get:function(){return tt},enumerable:!1,configurable:!0}),tt.prototype.concat=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return _e.prototype.concat.apply(this,et)},tt.prototype.prepend=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return et.length===1&&Array.isArray(et[0])?new(tt.bind.apply(tt,__spreadArray([void 0],et[0].concat(this)))):new(tt.bind.apply(tt,__spreadArray([void 0],et.concat(this))))},tt}(Array),EnhancerArray=function(_e){__extends(tt,_e);function tt(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var rt=_e.apply(this,et)||this;return Object.setPrototypeOf(rt,tt.prototype),rt}return Object.defineProperty(tt,Symbol.species,{get:function(){return tt},enumerable:!1,configurable:!0}),tt.prototype.concat=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return _e.prototype.concat.apply(this,et)},tt.prototype.prepend=function(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return et.length===1&&Array.isArray(et[0])?new(tt.bind.apply(tt,__spreadArray([void 0],et[0].concat(this)))):new(tt.bind.apply(tt,__spreadArray([void 0],et.concat(this))))},tt}(Array);function freezeDraftable(_e){return t$2(_e)?fn(_e,function(){}):_e}function isBoolean(_e){return typeof _e=="boolean"}function curryGetDefaultMiddleware(){return function(tt){return getDefaultMiddleware(tt)}}function getDefaultMiddleware(_e){_e===void 0&&(_e={});var tt=_e.thunk,et=tt===void 0?!0:tt;_e.immutableCheck,_e.serializableCheck;var nt=new MiddlewareArray;return et&&(isBoolean(et)?nt.push(thunkMiddleware):nt.push(thunkMiddleware.withExtraArgument(et.extraArgument))),nt}var IS_PRODUCTION=!0;function configureStore(_e){var tt=curryGetDefaultMiddleware(),et=_e||{},nt=et.reducer,rt=nt===void 0?void 0:nt,it=et.middleware,ot=it===void 0?tt():it,st=et.devTools,at=st===void 0?!0:st,ct=et.preloadedState,lt=ct===void 0?void 0:ct,dt=et.enhancers,ut=dt===void 0?void 0:dt,ft;if(typeof rt=="function")ft=rt;else if(isPlainObject(rt))ft=combineReducers(rt);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var pt=ot;typeof pt=="function"&&(pt=pt(tt));var vt=applyMiddleware.apply(void 0,pt),Ct=compose;at&&(Ct=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},typeof at=="object"&&at)));var ht=new EnhancerArray(vt),mt=ht;Array.isArray(ut)?mt=__spreadArray([vt],ut):typeof ut=="function"&&(mt=ut(ht));var yt=Ct.apply(void 0,mt);return createStore(ft,lt,yt)}function createAction(_e,tt){function et(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];if(tt){var it=tt.apply(void 0,nt);if(!it)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:_e,payload:it.payload},"meta"in it&&{meta:it.meta}),"error"in it&&{error:it.error})}return{type:_e,payload:nt[0]}}return et.toString=function(){return""+_e},et.type=_e,et.match=function(nt){return nt.type===_e},et}function executeReducerBuilderCallback(_e){var tt={},et=[],nt,rt={addCase:function(it,ot){var st=typeof it=="string"?it:it.type;if(st in tt)throw new Error("addCase cannot be called with two reducers for the same action type");return tt[st]=ot,rt},addMatcher:function(it,ot){return et.push({matcher:it,reducer:ot}),rt},addDefaultCase:function(it){return nt=it,rt}};return _e(rt),[tt,et,nt]}function isStateFunction(_e){return typeof _e=="function"}function createReducer(_e,tt,et,nt){et===void 0&&(et=[]);var rt=typeof tt=="function"?executeReducerBuilderCallback(tt):[tt,et,nt],it=rt[0],ot=rt[1],st=rt[2],at;if(isStateFunction(_e))at=function(){return freezeDraftable(_e())};else{var ct=freezeDraftable(_e);at=function(){return ct}}function lt(dt,ut){dt===void 0&&(dt=at());var ft=__spreadArray([it[ut.type]],ot.filter(function(pt){var vt=pt.matcher;return vt(ut)}).map(function(pt){var vt=pt.reducer;return vt}));return ft.filter(function(pt){return!!pt}).length===0&&(ft=[st]),ft.reduce(function(pt,vt){if(vt)if(r$2(pt)){var Ct=pt,ht=vt(Ct,ut);return ht===void 0?pt:ht}else{if(t$2(pt))return fn(pt,function(mt){return vt(mt,ut)});var ht=vt(pt,ut);if(ht===void 0){if(pt===null)return pt;throw Error("A case reducer on a non-draftable value must not return undefined")}return ht}return pt},dt)}return lt.getInitialState=at,lt}function getType2(_e,tt){return _e+"/"+tt}function createSlice(_e){var tt=_e.name;if(!tt)throw new Error("`name` is a required option for createSlice");typeof process<"u";var et=typeof _e.initialState=="function"?_e.initialState:freezeDraftable(_e.initialState),nt=_e.reducers||{},rt=Object.keys(nt),it={},ot={},st={};rt.forEach(function(lt){var dt=nt[lt],ut=getType2(tt,lt),ft,pt;"reducer"in dt?(ft=dt.reducer,pt=dt.prepare):ft=dt,it[lt]=ft,ot[ut]=ft,st[lt]=pt?createAction(ut,pt):createAction(ut)});function at(){var lt=typeof _e.extraReducers=="function"?executeReducerBuilderCallback(_e.extraReducers):[_e.extraReducers],dt=lt[0],ut=dt===void 0?{}:dt,ft=lt[1],pt=ft===void 0?[]:ft,vt=lt[2],Ct=vt===void 0?void 0:vt,ht=__spreadValues(__spreadValues({},ut),ot);return createReducer(et,function(mt){for(var yt in ht)mt.addCase(yt,ht[yt]);for(var Et=0,Rt=pt;Et<Rt.length;Et++){var Pt=Rt[Et];mt.addMatcher(Pt.matcher,Pt.reducer)}Ct&&mt.addDefaultCase(Ct)})}var ct;return{name:tt,reducer:function(lt,dt){return ct||(ct=at()),ct(lt,dt)},actions:st,caseReducers:it,getInitialState:function(){return ct||(ct=at()),ct.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(_e){_e===void 0&&(_e=21);for(var tt="",et=_e;et--;)tt+=urlAlphabet[Math.random()*64|0];return tt},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function _e(tt,et){this.payload=tt,this.meta=et}return _e}(),FulfillWithMeta=function(){function _e(tt,et){this.payload=tt,this.meta=et}return _e}(),miniSerializeError=function(_e){if(typeof _e=="object"&&_e!==null){for(var tt={},et=0,nt=commonProperties;et<nt.length;et++){var rt=nt[et];typeof _e[rt]=="string"&&(tt[rt]=_e[rt])}return tt}return{message:String(_e)}};(function(){function _e(tt,et,nt){var rt=createAction(tt+"/fulfilled",function(ct,lt,dt,ut){return{payload:ct,meta:__spreadProps(__spreadValues({},ut||{}),{arg:dt,requestId:lt,requestStatus:"fulfilled"})}}),it=createAction(tt+"/pending",function(ct,lt,dt){return{payload:void 0,meta:__spreadProps(__spreadValues({},dt||{}),{arg:lt,requestId:ct,requestStatus:"pending"})}}),ot=createAction(tt+"/rejected",function(ct,lt,dt,ut,ft){return{payload:ut,error:(nt&&nt.serializeError||miniSerializeError)(ct||"Rejected"),meta:__spreadProps(__spreadValues({},ft||{}),{arg:dt,requestId:lt,rejectedWithValue:!!ut,requestStatus:"rejected",aborted:(ct==null?void 0:ct.name)==="AbortError",condition:(ct==null?void 0:ct.name)==="ConditionError"})}}),st=typeof AbortController<"u"?AbortController:function(){function ct(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return ct.prototype.abort=function(){},ct}();function at(ct){return function(lt,dt,ut){var ft=nt!=null&&nt.idGenerator?nt.idGenerator(ct):nanoid(),pt=new st,vt;function Ct(mt){vt=mt,pt.abort()}var ht=function(){return __async(this,null,function(){var mt,yt,Et,Rt,Pt,Vt,Nt;return __generator(this,function(kt){switch(kt.label){case 0:return kt.trys.push([0,4,,5]),Rt=(mt=nt==null?void 0:nt.condition)==null?void 0:mt.call(nt,ct,{getState:dt,extra:ut}),isThenable(Rt)?[4,Rt]:[3,2];case 1:Rt=kt.sent(),kt.label=2;case 2:if(Rt===!1||pt.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Pt=new Promise(function(wt,Zt){return pt.signal.addEventListener("abort",function(){return Zt({name:"AbortError",message:vt||"Aborted"})})}),lt(it(ft,ct,(yt=nt==null?void 0:nt.getPendingMeta)==null?void 0:yt.call(nt,{requestId:ft,arg:ct},{getState:dt,extra:ut}))),[4,Promise.race([Pt,Promise.resolve(et(ct,{dispatch:lt,getState:dt,extra:ut,requestId:ft,signal:pt.signal,abort:Ct,rejectWithValue:function(wt,Zt){return new RejectWithValue(wt,Zt)},fulfillWithValue:function(wt,Zt){return new FulfillWithMeta(wt,Zt)}})).then(function(wt){if(wt instanceof RejectWithValue)throw wt;return wt instanceof FulfillWithMeta?rt(wt.payload,ft,ct,wt.meta):rt(wt,ft,ct)})])];case 3:return Et=kt.sent(),[3,5];case 4:return Vt=kt.sent(),Et=Vt instanceof RejectWithValue?ot(null,ft,ct,Vt.payload,Vt.meta):ot(Vt,ft,ct),[3,5];case 5:return Nt=nt&&!nt.dispatchConditionRejection&&ot.match(Et)&&Et.meta.condition,Nt||lt(Et),[2,Et]}})})}();return Object.assign(ht,{abort:Ct,requestId:ft,arg:ct,unwrap:function(){return ht.then(unwrapResult)}})}}return Object.assign(at,{pending:it,rejected:ot,fulfilled:rt,typePrefix:tt})}return _e.withTypes=function(){return _e},_e})();function unwrapResult(_e){if(_e.meta&&_e.meta.rejectedWithValue)throw _e.payload;if(_e.error)throw _e.error;return _e.payload}function isThenable(_e){return _e!==null&&typeof _e=="object"&&typeof _e.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);F();const initialState={sessionId:null,token:null},opentokCredentialsSlice=createSlice({name:"opentokCredentials",initialState,reducers:{setCredentials:(_e,tt)=>{_e.sessionId=tt.payload.sessionId,_e.token=tt.payload.token}}}),opentokCredentialsReducer=opentokCredentialsSlice.reducer,store=configureStore({reducer:{opentokCredentials:opentokCredentialsReducer}});var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=reactExports;function h$1(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}var k=typeof Object.is=="function"?Object.is:h$1,l=e.useState,m=e.useEffect,n$1=e.useLayoutEffect,p$1=e.useDebugValue;function q$1(_e,tt){var et=tt(),nt=l({inst:{value:et,getSnapshot:tt}}),rt=nt[0].inst,it=nt[1];return n$1(function(){rt.value=et,rt.getSnapshot=tt,r$1(rt)&&it({inst:rt})},[_e,et,tt]),m(function(){return r$1(rt)&&it({inst:rt}),_e(function(){r$1(rt)&&it({inst:rt})})},[_e]),p$1(et),et}function r$1(_e){var tt=_e.getSnapshot;_e=_e.value;try{var et=tt();return!k(_e,et)}catch{return!0}}function t$1(_e,tt){return tt()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$1:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$1;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports,withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=reactExports,n=shimExports;function p(_e,tt){return _e===tt&&(_e!==0||1/_e===1/tt)||_e!==_e&&tt!==tt}var q=typeof Object.is=="function"?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(_e,tt,et,nt,rt){var it=t(null);if(it.current===null){var ot={hasValue:!1,value:null};it.current=ot}else ot=it.current;it=v(function(){function at(ft){if(!ct){if(ct=!0,lt=ft,ft=nt(ft),rt!==void 0&&ot.hasValue){var pt=ot.value;if(rt(pt,ft))return dt=pt}return dt=ft}if(pt=dt,q(lt,ft))return pt;var vt=nt(ft);return rt!==void 0&&rt(pt,vt)?pt:(lt=ft,dt=vt)}var ct=!1,lt,dt,ut=et===void 0?null:et;return[function(){return at(tt())},ut===null?void 0:function(){return at(ut())}]},[tt,et,nt,rt]);var st=r(_e,it[0],it[1]);return u(function(){ot.hasValue=!0,ot.value=st},[st]),w(st),st};function defaultNoopBatch(_e){_e()}let batch=defaultNoopBatch;const setBatch=_e=>batch=_e,getBatch=()=>batch,ContextKey=Symbol.for(`react-redux-context-${reactExports.version}`),gT=globalThis;function getContext(){let _e=gT[ContextKey];return _e||(_e=reactExports.createContext(null),gT[ContextKey]=_e),_e}const ReactReduxContext=new Proxy({},new Proxy({},{get(_e,tt){const et=getContext();return(nt,...rt)=>Reflect[tt](et,...rt)}}));function createListenerCollection(){const _e=getBatch();let tt=null,et=null;return{clear(){tt=null,et=null},notify(){_e(()=>{let nt=tt;for(;nt;)nt.callback(),nt=nt.next})},get(){let nt=[],rt=tt;for(;rt;)nt.push(rt),rt=rt.next;return nt},subscribe(nt){let rt=!0,it=et={callback:nt,next:null,prev:et};return it.prev?it.prev.next=it:tt=it,function(){!rt||tt===null||(rt=!1,it.next?it.next.prev=it.prev:et=it.prev,it.prev?it.prev.next=it.next:tt=it.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription(_e,tt){let et,nt=nullListeners;function rt(dt){return at(),nt.subscribe(dt)}function it(){nt.notify()}function ot(){lt.onStateChange&&lt.onStateChange()}function st(){return!!et}function at(){et||(et=tt?tt.addNestedSub(ot):_e.subscribe(ot),nt=createListenerCollection())}function ct(){et&&(et(),et=void 0,nt.clear(),nt=nullListeners)}const lt={addNestedSub:rt,notifyNestedSubs:it,handleChangeWrapper:ot,isSubscribed:st,trySubscribe:at,tryUnsubscribe:ct,getListeners:()=>nt};return lt}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function Provider({store:_e,context:tt,children:et,serverState:nt,stabilityCheck:rt="once",noopCheck:it="once"}){const ot=reactExports.useMemo(()=>{const ct=createSubscription(_e);return{store:_e,subscription:ct,getServerState:nt?()=>nt:void 0,stabilityCheck:rt,noopCheck:it}},[_e,nt,rt,it]),st=reactExports.useMemo(()=>_e.getState(),[_e]);useIsomorphicLayoutEffect(()=>{const{subscription:ct}=ot;return ct.onStateChange=ct.notifyNestedSubs,ct.trySubscribe(),st!==_e.getState()&&ct.notifyNestedSubs(),()=>{ct.tryUnsubscribe(),ct.onStateChange=void 0}},[ot,st]);const at=tt||ReactReduxContext;return React.createElement(at.Provider,{value:ot},et)}setBatch(reactDomExports.unstable_batchedUpdates);const index="";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(Provider,{store,children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})})}));
